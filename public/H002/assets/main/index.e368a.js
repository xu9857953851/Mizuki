window.__require=function t(e,i,n){function a(r,s){if(!i[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var _="function"==typeof __require&&__require;if(!s&&_)return _(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){return a(e[r][1][t]||t)},d,d.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof __require&&__require,r=0;r<n.length;r++)a(n[r]);return a}({1:[function(t,e,i){"use strict";cc._RF.push(e,"4e9a72MkbVENK9uaGxbGED9","1"),i.byteLength=function(t){var e=_(t),i=e[0],n=e[1];return 3*(i+n)/4-n},i.toByteArray=function(t){var e,i,n=_(t),r=n[0],s=n[1],c=new o(d(0,r,s)),l=0,u=s>0?r-4:r;for(i=0;i<u;i+=4)e=a[t.charCodeAt(i)]<<18|a[t.charCodeAt(i+1)]<<12|a[t.charCodeAt(i+2)]<<6|a[t.charCodeAt(i+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===s&&(e=a[t.charCodeAt(i)]<<2|a[t.charCodeAt(i+1)]>>4,c[l++]=255&e),1===s&&(e=a[t.charCodeAt(i)]<<10|a[t.charCodeAt(i+1)]<<4|a[t.charCodeAt(i+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},i.fromByteArray=function(t){for(var e,i=t.length,a=i%3,o=[],r=0,s=i-a;r<s;r+=16383)o.push(l(t,r,r+16383>s?s:r+16383));return 1===a?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===a&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=r.length;s<c;++s)n[s]=r[s],a[r.charCodeAt(s)]=s;function _(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function d(t,e,i){return 3*(e+i)/4-i}function l(t,e,i){for(var a,o,r=[],s=e;s<i;s+=3)a=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(n[(o=a)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return r.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63,cc._RF.pop()},{}],2:[function(t,e,i){(function(n){"use strict";cc._RF.push(e,"76e676iqlRFCoUyz7TZ03ou","2"),function(e){var n=t("1"),a=t("4"),o=t("3");function r(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return _(this,t,e,i)}function _(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,i,n):"string"==typeof e?h(t,e,i):f(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,i,n){return d(e),e<=0?s(t,e):void 0!==i?"string"==typeof n?s(t,e).fill(i,n):s(t,e).fill(i):s(t,e)}function u(t,e){if(d(e),t=s(t,e<0?0:0|m(e)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function h(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(e,i),a=(t=s(t,n)).write(e,i);return a!==n&&(t=t.slice(0,a)),t}function p(t,e){var i=e.length<0?0:0|m(e.length);t=s(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function g(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=p(t,e),t}function f(t,e){if(c.isBuffer(e)){var i=0|m(e.length);return 0===(t=s(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Q(t).length;default:if(n)return K(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,i);case"utf8":case"utf-8":return D(this,e,i);case"ascii":return G(this,e,i);case"latin1":case"binary":return L(this,e,i);case"base64":return N(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function A(t,e,i,n,a){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=a?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(a)return-1;i=t.length-1}else if(i<0){if(!a)return-1;i=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:w(t,e,i,n,a);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):w(t,[e],i,n,a);throw new TypeError("val must be string, number or Buffer")}function w(t,e,i,n,a){var o,r=1,s=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;r=2,s/=2,c/=2,i/=2}function _(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(a){var d=-1;for(o=i;o<s;o++)if(_(t,o)===_(e,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*r}else-1!==d&&(o-=o-d),d=-1}else for(i+c>s&&(i=s-c),o=i;o>=0;o--){for(var l=!0,u=0;u<c;u++)if(_(t,o+u)!==_(e,u)){l=!1;break}if(l)return o}return-1}function M(t,e,i,n){i=Number(i)||0;var a=t.length-i;n?(n=Number(n))>a&&(n=a):n=a;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var r=0;r<n;++r){var s=parseInt(e.substr(2*r,2),16);if(isNaN(s))return r;t[i+r]=s}return r}function E(t,e,i,n){return J(K(e,t.length-i),t,i,n)}function T(t,e,i,n){return J(X(e),t,i,n)}function S(t,e,i,n){return T(t,e,i,n)}function I(t,e,i,n){return J(Q(e),t,i,n)}function O(t,e,i,n){return J(Y(e,t.length-i),t,i,n)}function N(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function D(t,e,i){i=Math.min(t.length,i);for(var n=[],a=e;a<i;){var o,r,s,c,_=t[a],d=null,l=_>239?4:_>223?3:_>191?2:1;if(a+l<=i)switch(l){case 1:_<128&&(d=_);break;case 2:128==(192&(o=t[a+1]))&&(c=(31&_)<<6|63&o)>127&&(d=c);break;case 3:o=t[a+1],r=t[a+2],128==(192&o)&&128==(192&r)&&(c=(15&_)<<12|(63&o)<<6|63&r)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:o=t[a+1],r=t[a+2],s=t[a+3],128==(192&o)&&128==(192&r)&&128==(192&s)&&(c=(15&_)<<18|(63&o)<<12|(63&r)<<6|63&s)>65535&&c<1114112&&(d=c)}null===d?(d=65533,l=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),a+=l}return P(n)}i.Buffer=c,i.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},i.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),i.kMaxLength=r(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,i){return _(null,t,e,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,i){return l(null,t,e,i)},c.allocUnsafe=function(t){return u(null,t)},c.allocUnsafeSlow=function(t){return u(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,a=0,o=Math.min(i,n);a<o;++a)if(t[a]!==e[a]){i=t[a],n=e[a];break}return i<n?-1:n<i?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=c.allocUnsafe(e),a=0;for(i=0;i<t.length;++i){var r=t[i];if(!c.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,a),a+=r.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,i,n,a){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),e<0||i>t.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&e>=i)return 0;if(n>=a)return-1;if(e>=i)return 1;if(this===t)return 0;for(var o=(a>>>=0)-(n>>>=0),r=(i>>>=0)-(e>>>=0),s=Math.min(o,r),_=this.slice(n,a),d=t.slice(e,i),l=0;l<s;++l)if(_[l]!==d[l]){o=_[l],r=d[l];break}return o<r?-1:r<o?1:0},c.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},c.prototype.indexOf=function(t,e,i){return A(this,t,e,i,!0)},c.prototype.lastIndexOf=function(t,e,i){return A(this,t,e,i,!1)},c.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var a=this.length-e;if((void 0===i||i>a)&&(i=a),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return M(this,t,e,i);case"utf8":case"utf-8":return E(this,t,e,i);case"ascii":return T(this,t,e,i);case"latin1":case"binary":return S(this,t,e,i);case"base64":return I(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function P(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=C));return i}function G(t,e,i){var n="";i=Math.min(t.length,i);for(var a=e;a<i;++a)n+=String.fromCharCode(127&t[a]);return n}function L(t,e,i){var n="";i=Math.min(t.length,i);for(var a=e;a<i;++a)n+=String.fromCharCode(t[a]);return n}function R(t,e,i){var n,a=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>a)&&(i=a);for(var o="",r=e;r<i;++r)o+=(n=t[r])<16?"0"+n.toString(16):n.toString(16);return o}function k(t,e,i){for(var n=t.slice(e,i),a="",o=0;o<n.length;o+=2)a+=String.fromCharCode(n[o]+256*n[o+1]);return a}function x(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,i,n,a,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function U(t,e,i,n){e<0&&(e=65535+e+1);for(var a=0,o=Math.min(t.length-i,2);a<o;++a)t[i+a]=(e&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function F(t,e,i,n){e<0&&(e=4294967295+e+1);for(var a=0,o=Math.min(t.length-i,4);a<o;++a)t[i+a]=e>>>8*(n?a:3-a)&255}function j(t,e,i,n){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function V(t,e,i,n,o){return o||j(t,0,i,4),a.write(t,e,i,n,23,4),i+4}function W(t,e,i,n,o){return o||j(t,0,i,8),a.write(t,e,i,n,52,8),i+8}c.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=c.prototype;else{var a=e-t;i=new c(a,void 0);for(var o=0;o<a;++o)i[o]=this[o+t]}return i},c.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||x(t,e,this.length);for(var n=this[t],a=1,o=0;++o<e&&(a*=256);)n+=this[t+o]*a;return n},c.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||x(t,e,this.length);for(var n=this[t+--e],a=1;e>0&&(a*=256);)n+=this[t+--e]*a;return n},c.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||x(t,e,this.length);for(var n=this[t],a=1,o=0;++o<e&&(a*=256);)n+=this[t+o]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||x(t,e,this.length);for(var n=e,a=1,o=this[t+--n];n>0&&(a*=256);)o+=this[t+--n]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),a.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),a.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),a.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),a.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||B(this,t,e,i,Math.pow(2,8*i)-1,0);var a=1,o=0;for(this[e]=255&t;++o<i&&(a*=256);)this[e+o]=t/a&255;return e+i},c.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||B(this,t,e,i,Math.pow(2,8*i)-1,0);var a=i-1,o=1;for(this[e+a]=255&t;--a>=0&&(o*=256);)this[e+a]=t/o&255;return e+i},c.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var a=Math.pow(2,8*i-1);B(this,t,e,i,a-1,-a)}var o=0,r=1,s=0;for(this[e]=255&t;++o<i&&(r*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/r>>0)-s&255;return e+i},c.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var a=Math.pow(2,8*i-1);B(this,t,e,i,a-1,-a)}var o=i-1,r=1,s=0;for(this[e+o]=255&t;--o>=0&&(r*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/r>>0)-s&255;return e+i},c.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,i){return V(this,t,e,!0,i)},c.prototype.writeFloatBE=function(t,e,i){return V(this,t,e,!1,i)},c.prototype.writeDoubleLE=function(t,e,i){return W(this,t,e,!0,i)},c.prototype.writeDoubleBE=function(t,e,i){return W(this,t,e,!1,i)},c.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var a,o=n-i;if(this===t&&i<e&&e<n)for(a=o-1;a>=0;--a)t[a+e]=this[a+i];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},c.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var r=c.isBuffer(t)?t:K(new c(t,n).toString()),s=r.length;for(o=0;o<i-e;++o)this[o+e]=r[o%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function z(t){if((t=q(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function K(t,e){e=e||1/0;for(var i,n=t.length,a=null,o=[],r=0;r<n;++r){if((i=t.charCodeAt(r))>55295&&i<57344){if(!a){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(r+1===n){(e-=3)>-1&&o.push(239,191,189);continue}a=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function X(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function Y(t,e){for(var i,n,a,o=[],r=0;r<t.length&&!((e-=2)<0);++r)n=(i=t.charCodeAt(r))>>8,a=i%256,o.push(a),o.push(n);return o}function Q(t){return n.toByteArray(z(t))}function J(t,e,i,n){for(var a=0;a<n&&!(a+i>=e.length||a>=t.length);++a)e[a+i]=t[a];return a}}.call(void 0,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:"1",3:"3",4:"4"}],3:[function(t,e){"use strict";cc._RF.push(e,"4a73eZixWhI8LeYiDoCuNaJ","3");var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)},cc._RF.pop()},{}],4:[function(t,e,i){"use strict";cc._RF.push(e,"c9d9csWd1BDCYKpMLYFJOpQ","4"),i.read=function(t,e,i,n,a){var o,r,s=8*a-n-1,c=(1<<s)-1,_=c>>1,d=-7,l=i?a-1:0,u=i?-1:1,h=t[e+l];for(l+=u,o=h&(1<<-d)-1,h>>=-d,d+=s;d>0;o=256*o+t[e+l],l+=u,d-=8);for(r=o&(1<<-d)-1,o>>=-d,d+=n;d>0;r=256*r+t[e+l],l+=u,d-=8);if(0===o)o=1-_;else{if(o===c)return r?NaN:1/0*(h?-1:1);r+=Math.pow(2,n),o-=_}return(h?-1:1)*r*Math.pow(2,o-n)},i.write=function(t,e,i,n,a,o){var r,s,c,_=8*o-a-1,d=(1<<_)-1,l=d>>1,u=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(s=isNaN(e)?1:0,r=d):(r=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-r))<1&&(r--,c*=2),(e+=r+l>=1?u/c:u*Math.pow(2,1-l))*c>=2&&(r++,c/=2),r+l>=d?(s=0,r=d):r+l>=1?(s=(e*c-1)*Math.pow(2,a),r+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,a),r=0));a>=8;t[i+h]=255&s,h+=p,s/=256,a-=8);for(r=r<<a|s,_+=a;_>0;t[i+h]=255&r,h+=p,r/=256,_-=8);t[i+h-p]|=128*g},cc._RF.pop()},{}],AudioManager:[function(t,e,i){"use strict";cc._RF.push(e,"e46dcoSQ5hJzISuZcbx+eRl","AudioManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.AudioManager=void 0;var n=function(){function t(){this.BUNDLE_NAME="common",this._music_pool={},this._effect_pool={},this._music_volume=1,this._music_volume_bak=1,this._music_mute=!1,this._effect_volume=1,this._effect_volume_bak=1,this._effect_mute=!1,this._max_volume=1,this._min_volume=0,this._current_music_name="",this._backup_music_name=""}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_path",{get:function(){return"audios/"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cur_music_name",{get:function(){return this._current_music_name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"music_volume",{get:function(){return this._music_volume},set:function(t){for(var e in t>this._max_volume?t=this._max_volume:t<this._min_volume&&(t=this._min_volume),this._music_volume=t,this._music_pool)cc.audioEngine.setVolume(this._music_pool[e],this._music_volume)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effect_volume",{get:function(){return this._effect_volume},set:function(t){t>this._max_volume?t=this._max_volume:t<this._min_volume&&(t=this._min_volume),this._effect_volume=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"music_mute",{get:function(){return this._music_mute},set:function(t){this._music_mute=t,this._music_mute?""!=this._current_music_name&&null!=this._current_music_name&&(this._music_volume_bak=this.music_volume,this.music_volume=0,this._backup_music_name=this._current_music_name,this.stop(this._current_music_name)):""!=this._backup_music_name&&null!=this._backup_music_name&&(this.music_volume=this._music_volume_bak,this._current_music_name="",this.play_music(this._backup_music_name),this._backup_music_name="")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effect_mute",{get:function(){return this._effect_mute},set:function(t){this._effect_mute=t,this._effect_mute?(this._effect_volume_bak=this.effect_volume,this.effect_volume=0):this.effect_volume=this._effect_volume_bak},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mute",{get:function(){return this.music_mute&&this.effect_mute},set:function(t){this.music_mute=t,this.effect_mute=t,t&&this.stop_all()},enumerable:!1,configurable:!0}),t.prototype.play_music=function(t){var e=this;if(""!=t&&null!=t)if(this._music_mute)this._backup_music_name=t;else if(t!=this._current_music_name){var i=this.root_path+t;this.async_get_audio_clip(i,function(i){e.stop(e._current_music_name);var n=cc.audioEngine.play(i,!0,e._music_volume);e._music_pool[t]=n,e._current_music_name=t})}},t.prototype.play_effect=function(t){var e=this;if(!this._effect_mute){var i=this.root_path+t;this.async_get_audio_clip(i,function(i){var n=cc.audioEngine.play(i,!1,e._effect_volume);e._effect_pool[t]=n})}},t.prototype.pause=function(t){this._music_pool[t]>=0&&cc.audioEngine.pause(this._music_pool[t])},t.prototype.resume=function(t){this._music_pool[t]>=0&&cc.audioEngine.resume(this._music_pool[t])},t.prototype.stop=function(t){this._music_pool[t]>=0&&cc.audioEngine.stop(this._music_pool[t]),this._current_music_name=""},t.prototype.stop_effect=function(t){this._effect_pool[t]>=0&&cc.audioEngine.stop(this._effect_pool[t])},t.prototype.stop_all_effect=function(){for(var t in this._effect_pool)if(this._effect_pool.hasOwnProperty(t)){var e=this._effect_pool[t];e>=0&&cc.audioEngine.stop(e)}},t.prototype.get_current_time=function(t){return this._music_pool[t]>=0?cc.audioEngine.getCurrentTime(this._music_pool[t]):0},t.prototype.get_duration=function(t){return this._music_pool[t]>=0?cc.audioEngine.getDuration(this._music_pool[t]):0},t.prototype.get_progress=function(t){var e=this.get_duration(t);return e>0?this.get_current_time(t)/e:0},t.prototype.set_finish_callback=function(t,e){this._music_pool[t]>=0?cc.audioEngine.setFinishCallback(this._music_pool[t],e):this._effect_pool[t]>=0&&cc.audioEngine.setFinishCallback(this._effect_pool[t],e)},t.prototype.get_state=function(t){return this._music_pool[t]>=0?cc.audioEngine.getState(this._music_pool[t]):this._effect_pool[t]>=0?cc.audioEngine.getState(this._effect_pool[t]):cc.audioEngine.AudioState.ERROR},t.prototype.uncache=function(t){var e=this.root_path+t;this.async_get_audio_clip(e,function(t){cc.audioEngine.uncache(t)})},t.prototype.stop_all=function(){cc.audioEngine.stopAll()},t.prototype.pause_all=function(){cc.audioEngine.pauseAll()},t.prototype.resume_all=function(){cc.audioEngine.resumeAll()},t.prototype.uncache_all=function(){cc.audioEngine.uncacheAll()},t.prototype.release=function(t){var e=this;this.async_get_bundle(this.BUNDLE_NAME,function(i){i.release(e.root_path+t)})},t.prototype.release_all_music=function(){var t=this,e=function(e){var n=i.root_path+e;i.async_get_audio_clip(n,function(t){cc.audioEngine.uncache(t)}),i.async_get_bundle(i.BUNDLE_NAME,function(i){i.release(t.root_path+e)})},i=this;for(var n in this._music_pool)e(n)},t.prototype.release_all_effect=function(){var t=this,e=function(e){var n=i.root_path+e;i.async_get_audio_clip(n,function(t){cc.audioEngine.uncache(t)}),i.async_get_bundle(i.BUNDLE_NAME,function(i){i.release(t.root_path+e)})},i=this;for(var n in this._effect_pool)e(n)},t.prototype.async_get_audio_clip=function(t,e){this.async_get_bundle(this.BUNDLE_NAME,function(i){var n=i.get(t,cc.AudioClip);n?e(n):i.load(t,cc.AudioClip,function(t,i){t?cc.error(t):e(i)})})},t.prototype.async_get_bundle=function(t,e){var i=cc.assetManager.getBundle(t);i?e(i):cc.assetManager.loadBundle(t,function(i,n){if(i)return console.error(i);console.log("load "+t+" bundle successfully."),e(n)})},t._instance=null,t}();i.AudioManager=n,cc._RF.pop()},{}],BannerNative:[function(t,e,i){"use strict";cc._RF.push(e,"bbaf5ogWcxLv56UN0mZPWGU","BannerNative");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.BannerNative=void 0;var o=t("GameManager"),r=t("NodePoolItem"),s=cc._decorator,c=s.ccclass,_=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.containLayout=null,e}return n(e,t),e.prototype.onEnable=function(){o.gm.channel.showBannerNative(this.containLayout)},e.prototype.clickBannerAd=function(){},e.prototype.closeBannerAd=function(){o.gm.ui.hide_banner_native()},a([_(cc.Node)],e.prototype,"containLayout",void 0),a([c],e)}(r.NodePoolItem);i.BannerNative=d,cc._RF.pop()},{GameManager:"GameManager",NodePoolItem:"NodePoolItem"}],BigJpgNative:[function(t,e,i){"use strict";cc._RF.push(e,"a4281DLKkhGjYqyR82Xa45z","BigJpgNative");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.BigJpgNative=void 0;var o=t("GameManager"),r=t("NodePoolItem"),s=cc._decorator,c=s.ccclass,_=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.containLayout=null,e}return n(e,t),e.prototype.onEnable=function(){o.gm.channel.showBigJpgNative(this.containLayout)},e.prototype.clickBannerAd=function(){},e.prototype.closeBannerAd=function(){},a([_(cc.Node)],e.prototype,"containLayout",void 0),a([c],e)}(r.NodePoolItem);i.BigJpgNative=d,cc._RF.pop()},{GameManager:"GameManager",NodePoolItem:"NodePoolItem"}],BundleManager:[function(t,e,i){"use strict";cc._RF.push(e,"c5f14EPfZhK2YSa3QRTGIvd","BundleManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.BundleManager=void 0;var n=function(){function t(){this._map={common:{deps:[]},loading:{deps:[]},start:{deps:[]}}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.async_get_bundle=function(t,e){var i=cc.assetManager.getBundle(t);i?e(i):(this._map[t],cc.assetManager.loadBundle(t,function(i,n){if(i)return console.error(i);console.log("load "+t+" bundle successfully."),e(n)}))},t._instance=null,t.COMMON="common",t.LOADING="loading",t.START="start",t}();i.BundleManager=n,cc._RF.pop()},{}],ChannelManager:[function(t,e,i){"use strict";var n;cc._RF.push(e,"0174fQheRVHkqw/A0YxAtGj","ChannelManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.ChannelManager=i.REWARD_VIDEO_AD_TYPE=i.BANNER_AD_TYPE=void 0;var a,o=t("QQMiniGame"),r=t("TTMiniGame"),s=t("WXMiniGame"),c=t("DWMiniGame "),_=t("GameManager"),d=(t("NetUtils"),t("TaskManager")),l=t("Constants"),u=t("VIVOMiniGame"),h=t("OPPOMiniGame"),p=t("SDKManager");(a=i.BANNER_AD_TYPE||(i.BANNER_AD_TYPE={}))[a.ALL=0]="ALL",function(t){t[t.ALL=0]="ALL",t[t.LONG=1]="LONG",t[t.SHORT=2]="SHORT"}(n=i.REWARD_VIDEO_AD_TYPE||(i.REWARD_VIDEO_AD_TYPE={}));var g=function(){function t(){this._last_click_video_ad=0}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this.get_channel_name();console.log("Channel:"+e),e==t.TT_GAME?r.TTMiniGame.ad_enable&&(r.TTMiniGame.instance.load_channel_env(function(){}),r.TTMiniGame.instance.load_sub_packages_env(function(){}),r.TTMiniGame.instance.create_banner_ad()):e==t.QQ_GAME?(o.QQMiniGame.instance.load_channel_env(function(){}),o.QQMiniGame.instance.load_sub_packages_env(function(){}),o.QQMiniGame.ad_enable&&(o.QQMiniGame.instance.create_video_ad(),o.QQMiniGame.instance.create_app_box_ad())):e==t.WX_GAME?0==t.APP_DS_MAP&&(s.WXMiniGame.instance.load_channel_env(function(){}),s.WXMiniGame.instance.load_sub_packages_env(function(){}),s.WXMiniGame.ad_enable&&(s.WXMiniGame.instance.create_banner_ad(),s.WXMiniGame.instance.create_video_ad())):e==t.DW_GAME?(c.DWMiniGame.instance.load_channel_env(function(){}),c.DWMiniGame.instance.load_sub_packages_env(function(){}),c.DWMiniGame.instance.create_banner_ad(),c.DWMiniGame.instance.create_video_ad()):e==t.HW_GAME||(e==t.VIVO_GAME?(u.VIVOMiniGame.instance.load_channel_env(function(){}),u.VIVOMiniGame.instance.load_sub_packages_env(function(){}),u.VIVOMiniGame.instance.create_video_ad()):e==t.OPPO_GAME?(h.OPPOMiniGame.instance.load_channel_env(function(){}),h.OPPOMiniGame.instance.load_sub_packages_env(function(){}),h.OPPOMiniGame.instance.create_video_ad()):e==t.KKMH_GAME||e==t.MZ_GAME||cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&p.SDKManager.instance.initRemoteConfig())},t.prototype.get_channel_name=function(){var e=t.UNKNOWN;return cc.sys.platform==cc.sys.WECHAT_GAME?null!=window.tt?e=t.TT_GAME:null!=window.qq?e=t.QQ_GAME:null!=window.wx&&(0==t.APP_DS_MAP?e=t.WX_GAME:1==t.APP_DS_MAP&&(e=t.DW_GAME)):cc.sys.platform==cc.sys.BYTEDANCE_GAME?e=t.TT_GAME:cc.sys.platform==cc.sys.HUAWEI_GAME?e=t.HW_GAME:cc.sys.platform==cc.sys.VIVO_GAME?e=t.VIVO_GAME:cc.sys.platform==cc.sys.OPPO_GAME?e=t.OPPO_GAME:cc.sys.isBrowser?"undefined"!=typeof kkH5sdk?e=t.KKMH_GAME:"undefined"!=typeof mz_jsb&&(e=t.MZ_GAME):e=cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID?t._452_WAN_GAME:t.UNKNOWN,e},t.prototype.get_app_name=function(){var e=this.get_channel_name();if(e==t.TT_GAME)return r.TTMiniGame.instance.get_app_name();if(e==t.QQ_GAME)return o.QQMiniGame.instance.get_app_name();if(e==t.WX_GAME){if(0==t.APP_DS_MAP)return s.WXMiniGame.instance.get_app_name()}else{if(e==t.DW_GAME)return c.DWMiniGame.instance.get_app_name();if(e==t.HW_GAME);else{if(e==t.VIVO_GAME)return u.VIVOMiniGame.instance.get_app_name();if(e==t.OPPO_GAME)return h.OPPOMiniGame.instance.get_app_name();if(e==t.KKMH_GAME);else if(e!=t.MZ_GAME)return cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID?t.APP_452_WAN:t.APP_UNKNOWN}}},t.prototype.vibrate_short=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.vibrate_short():e==t.QQ_GAME?o.QQMiniGame.instance.vibrate_short():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.vibrate_short():e==t.DW_GAME?c.DWMiniGame.instance.vibrate_short():e!=t.HW_GAME&&(e==t.VIVO_GAME?u.VIVOMiniGame.instance.vibrate_short():e==t.OPPO_GAME?h.OPPOMiniGame.instance.vibrate_short():e==t.KKMH_GAME||t.MZ_GAME)},t.prototype.vibrate_long=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.vibrate_long():e==t.QQ_GAME?o.QQMiniGame.instance.vibrate_long():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.vibrate_long():e==t.DW_GAME?c.DWMiniGame.instance.vibrate_long():e!=t.HW_GAME&&(e==t.VIVO_GAME?u.VIVOMiniGame.instance.vibrate_long():e==t.OPPO_GAME?h.OPPOMiniGame.instance.vibrate_long():e==t.KKMH_GAME||t.MZ_GAME)},Object.defineProperty(t.prototype,"is_support_more_game",{get:function(){var e=this.get_channel_name();if(e==t.TT_GAME)return r.TTMiniGame.instance.is_support_more_game;if(e==t.QQ_GAME)return o.QQMiniGame.instance.is_support_more_game;if(e==t.WX_GAME){if(0==t.APP_DS_MAP)return s.WXMiniGame.instance.is_support_more_game}else{if(e==t.DW_GAME)return c.DWMiniGame.instance.is_support_more_game;if(e==t.HW_GAME);else{if(e==t.VIVO_GAME)return u.VIVOMiniGame.instance.is_support_more_game;if(e==t.OPPO_GAME)return h.OPPOMiniGame.instance.is_support_more_game;if(e==t.KKMH_GAME);else if(e!=t.MZ_GAME)return!1}}},enumerable:!1,configurable:!0}),t.prototype.show_more_game=function(e,i){var n=this.get_channel_name();n==t.TT_GAME?r.TTMiniGame.instance.show_more_game(e,i):n==t.QQ_GAME?o.QQMiniGame.instance.show_more_game(e,i):n==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.show_more_game(e,i):n==t.DW_GAME?console.error("\u68a6\u5de5\u5382\u4e0d\u652f\u6301\u66f4\u591a\u6e38\u620f\uff0c\u6240\u4ee5\u4e0d\u4f5c\u5904\u7406\uff01"):n==t.HW_GAME||n==t.VIVO_GAME||n==t.OPPO_GAME||n==t.KKMH_GAME||n==t.MZ_GAME||e&&i&&e.call(i)},t.prototype.set_rank_value=function(){var e=this.get_channel_name();if(e==t.TT_GAME)r.TTMiniGame.instance.set_rank_value();else if(e==t.QQ_GAME)o.QQMiniGame.instance.set_rank_value();else if(e==t.WX_GAME)0==t.APP_DS_MAP&&s.WXMiniGame.instance.set_rank_value();else if(e==t.DW_GAME)console.error("\u68a6\u5de5\u5382\u4e0d\u652f\u6301\u6392\u884c\u699c\uff01");else if(e==t.HW_GAME);else if(e==t.VIVO_GAME);else{if(e==t.OPPO_GAME)return h.OPPOMiniGame.instance.set_rank_value();e==t.KKMH_GAME||t.MZ_GAME}},t.prototype.DouYinFollowBS=function(){var e=this.get_channel_name();return e==t.TT_GAME?r.TTMiniGame.instance.DouYinFollowBS():e==t.QQ_GAME?"0":(t.WX_GAME,"0")},Object.defineProperty(t.prototype,"is_support_app_box",{get:function(){return this.get_channel_name()==t.QQ_GAME&&o.QQMiniGame.instance.is_support_app_box},enumerable:!1,configurable:!0}),t.prototype.show_app_box_ad=function(){this.get_channel_name()==t.QQ_GAME&&o.QQMiniGame.instance.show_app_box_ad()},Object.defineProperty(t.prototype,"is_support_interstitial_ad",{get:function(){var e=this.get_channel_name();if(e==t.QQ_GAME)return o.QQMiniGame.instance.is_support_interstitial_ad;if(e==t.WX_GAME){if(0==t.APP_DS_MAP)return s.WXMiniGame.instance.is_support_interstitial_ad}else{if(e==t.TT_GAME)return r.TTMiniGame.instance.is_support_interstitial_ad;if(e==t.DW_GAME)return c.DWMiniGame.instance.is_support_interstitial_ad;if(e==t.HW_GAME);else{if(e==t.VIVO_GAME)return u.VIVOMiniGame.instance.is_support_interstitial_ad;if(e==t.OPPO_GAME)return h.OPPOMiniGame.instance.is_support_interstitial_ad;e==t.KKMH_GAME||t.MZ_GAME}}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_rank",{get:function(){var e=this.get_channel_name();if(e==t.TT_GAME)return r.TTMiniGame.instance.is_rank;if(e==t.QQ_GAME)return o.QQMiniGame.instance.is_rank;if(e==t.WX_GAME){if(0==t.APP_DS_MAP)return s.WXMiniGame.instance.is_rank}else{if(e==t.DW_GAME)return console.error("\u68a6\u5de5\u5382\u4e0d\u652f\u6301\u6392\u884c\u699c\uff01"),c.DWMiniGame.instance.is_rank;if(e==t.HW_GAME);else{if(e==t.VIVO_GAME)return u.VIVOMiniGame.instance.is_rank;if(e==t.OPPO_GAME)return h.OPPOMiniGame.instance.is_rank;if(e==t.KKMH_GAME);else if(e!=t.MZ_GAME)return!1}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_share",{get:function(){var e=this.get_channel_name();if(e==t.QQ_GAME)return o.QQMiniGame.instance.is_share;if(e==t.WX_GAME){if(0==t.APP_DS_MAP)return s.WXMiniGame.instance.is_share}else{if(e==t.DW_GAME)return c.DWMiniGame.instance.is_share;if(e==t.TT_GAME)return r.TTMiniGame.instance.is_share;if(e==t.HW_GAME);else{if(e==t.VIVO_GAME)return u.VIVOMiniGame.instance.is_share;if(e==t.OPPO_GAME)return h.OPPOMiniGame.instance.is_share;e==t.KKMH_GAME||t.MZ_GAME}}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_video_share",{get:function(){var e=this.get_channel_name();if(e==t.QQ_GAME)return o.QQMiniGame.instance.is_video_share;if(e==t.WX_GAME){if(0==t.APP_DS_MAP)return s.WXMiniGame.instance.is_video_share}else{if(e==t.DW_GAME)return c.DWMiniGame.instance.is_video_share;if(e==t.TT_GAME)return r.TTMiniGame.instance.is_video_share;if(e==t.HW_GAME);else{if(e==t.VIVO_GAME)return u.VIVOMiniGame.instance.is_video_share;if(e==t.OPPO_GAME)return h.OPPOMiniGame.instance.is_video_share;e==t.KKMH_GAME||t.MZ_GAME}}return!1},enumerable:!1,configurable:!0}),t.prototype.show_interstitial_ad=function(e,i){var n=this.get_channel_name();if(n==t.QQ_GAME)o.QQMiniGame.ad_enable&&o.QQMiniGame.instance.show_interstitial_ad(e,i);else if(n==t.WX_GAME)0==t.APP_DS_MAP&&s.WXMiniGame.ad_enable&&s.WXMiniGame.instance.show_interstitial_ad(e,i);else if(n==t.DW_GAME)console.error("\u68a6\u5de5\u5382\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a\uff01");else if(n==t.TT_GAME)r.TTMiniGame.ad_enable&&r.TTMiniGame.instance.show_interstitial_ad(e,i);else if(n==t.HW_GAME);else{if(n==t.VIVO_GAME)return u.VIVOMiniGame.instance.show_interstitial_ad(e,i);if(n==t.OPPO_GAME)return h.OPPOMiniGame.instance.show_interstitial_ad(e,i);n==t.KKMH_GAME||t.MZ_GAME}},t.prototype.show_video_ad=function(t,e,i){void 0===i&&(i=n.ALL),console.log("\u8df3\u8fc7\u5e7f\u544a\uff0c\u76f4\u63a5\u9886\u53d6\u5956\u52b1"),d.TaskManager.instance.checkTask(l.TaskConditionTypeEnum.TASK_CONDITION_VIDEO_COUNT,1),cc.log(_.gm.const.TEXT_7),t&&e?t.call(e):t&&t()},t.prototype.share_req=function(e,i){var n=this.get_channel_name();if(n==t.TT_GAME)r.TTMiniGame.instance.share_req(e,i);else if(n==t.QQ_GAME){var a=Date.now();cc.game.once(cc.game.EVENT_SHOW,function(){var t=Date.now()-a;t>3e3?(_.gm.ui.show_notice(_.gm.const.TEXT_9),console.log("share cost time:"+t+"ms"),e.call(i)):_.gm.ui.show_notice(_.gm.const.TEXT_18)}),o.QQMiniGame.instance.share_req(function(){},this)}else if(n==t.WX_GAME){if(0==t.APP_DS_MAP){var c=Date.now();cc.game.once(cc.game.EVENT_SHOW,function(){var t=Date.now()-c;t>3e3?(_.gm.ui.show_notice(_.gm.const.TEXT_9),console.log("share cost time:"+t+"ms"),e.call(i)):_.gm.ui.show_notice(_.gm.const.TEXT_18)}),s.WXMiniGame.instance.share_req(e,i)}}else console.log("false share success"),e()},t.prototype.show_banner_ad=function(e){var i=this.get_channel_name();i==t.TT_GAME?r.TTMiniGame.ad_enable&&r.TTMiniGame.instance.show_banner_ad(e):i==t.QQ_GAME?o.QQMiniGame.ad_enable&&o.QQMiniGame.instance.show_banner_ad():i==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.ad_enable&&s.WXMiniGame.instance.show_banner_ad(e):i==t.DW_GAME?c.DWMiniGame.instance.show_banner_ad(e):i!=t.HW_GAME&&(i==t.VIVO_GAME?u.VIVOMiniGame.instance.show_banner_ad(e):i==t.OPPO_GAME?h.OPPOMiniGame.instance.show_banner_ad(e):i==t.KKMH_GAME||i==t.MZ_GAME||cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&p.SDKManager.instance.showBannerAd())},t.prototype.hide_banner_ad=function(e){var i=this.get_channel_name();i==t.TT_GAME?r.TTMiniGame.ad_enable&&r.TTMiniGame.instance.hide_banner_ad(e):i==t.QQ_GAME?o.QQMiniGame.ad_enable&&o.QQMiniGame.instance.hide_banner_ad():i==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.ad_enable&&s.WXMiniGame.instance.hide_banner_ad(e):i==t.DW_GAME?c.DWMiniGame.instance.hide_banner_ad(e):i!=t.HW_GAME&&(i==t.VIVO_GAME?u.VIVOMiniGame.instance.hide_banner_ad(e):i==t.OPPO_GAME?h.OPPOMiniGame.instance.hide_banner_ad(e):i==t.KKMH_GAME||i==t.MZ_GAME||cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&p.SDKManager.instance.hideBannerAd())},t.prototype.record_start=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.record_start():e==t.QQ_GAME||e==t.WX_GAME||e==t.HW_GAME||e==t.VIVO_GAME||e==t.OPPO_GAME||e==t.KKMH_GAME||t.MZ_GAME},t.prototype.record_stop=function(e){var i=this.get_channel_name();i==t.TT_GAME?r.TTMiniGame.instance.record_stop(e):i==t.QQ_GAME||i==t.WX_GAME||i==t.DW_GAME||i==t.HW_GAME||i==t.VIVO_GAME||i==t.OPPO_GAME||i==t.KKMH_GAME||t.MZ_GAME},t.prototype.share_video=function(e,i){var n=this.get_channel_name();n==t.TT_GAME?r.TTMiniGame.instance.share_video(e,i):n==t.QQ_GAME||n==t.WX_GAME||n==t.DW_GAME||n==t.HW_GAME||n==t.VIVO_GAME||n==t.OPPO_GAME||n==t.KKMH_GAME||n==t.MZ_GAME||i&&i(0)},t.prototype.viedo_share=function(e,i){var n=this.get_channel_name();n==t.TT_GAME?r.TTMiniGame.instance.viedo_share(e,i):n==t.QQ_GAME||n==t.WX_GAME||i&&i(0)},t.prototype.get_rank_data=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.get_rank_data():e==t.QQ_GAME?o.QQMiniGame.instance.get_rank_data():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.get_rank_data():e==t.DW_GAME||e==t.HW_GAME||e==t.VIVO_GAME||e==t.OPPO_GAME||e==t.KKMH_GAME||t.MZ_GAME},t.prototype.set_rank_close=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.set_rank_close():e==t.QQ_GAME?o.QQMiniGame.instance.set_rank_close():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.set_rank_close():e==t.DW_GAME||e==t.HW_GAME||e==t.VIVO_GAME||e==t.OPPO_GAME||e==t.KKMH_GAME||t.MZ_GAME},t.prototype.on_rank_pre_page_click=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.on_rank_pre_page_click():e==t.QQ_GAME?o.QQMiniGame.instance.on_rank_pre_page_click():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.on_rank_pre_page_click():e==t.DW_GAME||e==t.HW_GAME||e==t.VIVO_GAME||e==t.OPPO_GAME||e==t.KKMH_GAME||t.MZ_GAME},t.prototype.on_rank_next_page_click=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.on_rank_next_page_click():e==t.QQ_GAME?o.QQMiniGame.instance.on_rank_next_page_click():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.on_rank_next_page_click():e==t.DW_GAME||e==t.HW_GAME||e==t.VIVO_GAME||e==t.OPPO_GAME||e==t.KKMH_GAME||t.MZ_GAME},t.prototype.get_self_rank_data=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.get_self_rank_data():e==t.QQ_GAME?o.QQMiniGame.instance.get_self_rank_data():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.get_self_rank_data():e==t.DW_GAME||e==t.HW_GAME||e==t.VIVO_GAME||e==t.OPPO_GAME||e==t.KKMH_GAME||t.MZ_GAME},t.prototype.set_self_rank_close=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.set_self_rank_close():e==t.QQ_GAME?o.QQMiniGame.instance.set_self_rank_close():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.set_self_rank_close():e==t.DW_GAME||e==t.HW_GAME||e==t.VIVO_GAME||e==t.OPPO_GAME||e==t.KKMH_GAME||t.MZ_GAME},t.prototype.clear_cache=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.clear_cache():e==t.QQ_GAME?o.QQMiniGame.instance.clear_cache():e==t.WX_GAME?0==t.APP_DS_MAP&&s.WXMiniGame.instance.clear_cache():e==t.DW_GAME?1==t.APP_DS_MAP&&c.DWMiniGame.instance.clear_cache():e==t.HW_GAME||e==t.VIVO_GAME||e==t.OPPO_GAME||e==t.KKMH_GAME||t.MZ_GAME},t.prototype.compare_version=function(t,e){t=t.split("."),e=e.split(".");for(var i=Math.max(t.length,e.length);t.length<i;)t.push("0");for(;e.length<i;)e.push("0");for(var n=0;n<i;n++){var a=parseInt(t[n]),o=parseInt(e[n]);if(a>o)return 1;if(a<o)return-1}return 0},t.prototype.markScene=function(){window.wx&&window.wx.markScene&&window.wx.markScene({sceneId:0})},t.prototype.follow=function(e,i){var n=this.get_channel_name();n==t.TT_GAME?r.TTMiniGame.instance.follow(e,i):n==t.QQ_GAME||n==t.WX_GAME&&(0==t.APP_DS_MAP||t.APP_DS_MAP)},t.prototype.hide_follow_btn=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.hide_follow_btn():e==t.QQ_GAME||e==t.WX_GAME&&(0==t.APP_DS_MAP||t.APP_DS_MAP)},t.prototype.show_follow_btn=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.show_follow_btn():e==t.QQ_GAME||e==t.WX_GAME&&(0==t.APP_DS_MAP||t.APP_DS_MAP)},t.prototype.follow_douyin=function(e,i){var n=this.get_app_name();n==t.APP_DOU_YIN?r.TTMiniGame.instance.douYinFollow(e,i):n==t.QQ_GAME||n==t.WX_GAME&&(0==t.APP_DS_MAP||t.APP_DS_MAP)},t.prototype.follow_btn_stat=function(){var e=this.get_channel_name();if(e==t.TT_GAME)return r.TTMiniGame.instance.follow_btn_stat();e==t.QQ_GAME||e==t.WX_GAME&&(0==t.APP_DS_MAP||t.APP_DS_MAP)},t.prototype.user_subscribe_message=function(){var e=this.get_channel_name();e==t.TT_GAME?r.TTMiniGame.instance.user_subscribe_message(function(){}):e==t.QQ_GAME||t.WX_GAME},t.prototype.showBannerNative=function(e){var i=this.get_channel_name();i==t.OPPO_GAME?h.OPPOMiniGame.instance.showBannerNative(e):i==t.VIVO_GAME?u.VIVOMiniGame.instance.showBannerNative(e):i==t.WX_GAME||this.show_Banner_Native(e)},t.prototype.showBigJpgNative=function(e){var i=this.get_channel_name();i==t.OPPO_GAME?h.OPPOMiniGame.instance.showBigJpgNative(e):i==t.VIVO_GAME?u.VIVOMiniGame.instance.showBigJpgNative(e):i==t.WX_GAME||this.show_BigJpg_Native(e)},t.prototype.show_ico_native=function(e){var i=this.get_channel_name();i==t.OPPO_GAME?h.OPPOMiniGame.instance.showIcoNative(e):i==t.VIVO_GAME?u.VIVOMiniGame.instance.showIcoNative(e):i==t.WX_GAME||this.showIcoNative(e)},t.prototype.showIcoNative=function(t){var e=[""],i=void 0,n=void 0;i=t.getChildByName("adImg"),n=t.getChildByName("adLogo"),t.getChildByName("adClose"),i.active=!1,e&&e.length>0&&cc.loader.load(e[0],function(t,e){i.active=!0,i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e),console.log("adImg load >>>>>>>>")}),n.active=!1,i.getComponent(cc.Button)||i.addComponent(cc.Button),i.on("click",function(){console.log("nativeIcoAd  Click Ico AdShow ")},this),console.log("nativeIcoAd  reportIcoAdShow adId:, this.bannerNativeData.adId")},t.prototype.show_BigJpg_Native=function(t){var e=[""],i=void 0,n=void 0;i=t.getChildByName("adImg"),n=t.getChildByName("adLogo"),i.active=!1,e&&e.length>0&&cc.loader.load(e[0],function(t,e){i.active=!0,i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),n.active=!1,i.getComponent(cc.Button)||i.addComponent(cc.Button),i.on("click",function(){console.log("adImg.on('click', () => {")},this),console.log("nativeIcoAd  reportIcoAdShow adId:, this.bigJpgNativeData.adId")},t.prototype.show_Banner_Native=function(t){var e=[""],i=void 0,n=void 0,a=void 0,o=void 0,r=void 0;i=t.getChildByName("adImg"),n=t.getChildByName("adDesc"),o=t.getChildByName("adTitle"),r=t.getChildByName("adButton"),a=t.getChildByName("adLogo"),i.active=!1,e&&e.length>0&&cc.loader.load(e[0],function(t,e){i.active=!0,i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),o.active=!0,o.getComponent(cc.Label).string="\u7528\u4e86\u8fd9\u4e2a\u53e3\u7f69\uff0c\u5144\u5f1f\u4eec\u90fd\u627e\u6211\u8981\u94fe\u63a5\uff01\u592a\u503c\uff01",n.active=!0,n.getComponent(cc.Label).string="\u6d3b\u52a8\u771f\u5b9e\u6709\u6548",a.active=!1,r.getComponent(cc.Button)||r.addComponent(cc.Button),r.on("click",function(){console.log("nativeIcoAd  Click IcoAdShow ")},this),console.log("nativeIcoAd  reportIcoAdShow adId:, this.bannerNativeData.adId")},t.prototype.trackLevelData=function(e,i,n){this.get_channel_name()==t._452_WAN_GAME&&p.SDKManager.instance.trackLevelData(e,i,n)},t.prototype.video_switch=function(){if(this.get_channel_name()==t.TT_GAME)return r.TTMiniGame.instance.video_switch()},t._instance=null,t.WX_GAME="wechat-game",t.TT_GAME="tt-game",t.QQ_GAME="qq-game",t.DW_GAME="dw-game",t.UNKNOWN="unknown",t.HW_GAME="hw-game",t.VIVO_GAME="vivo-game",t.OPPO_GAME="oppo-game",t.KKMH_GAME="kkmh-game",t.MZ_GAME="mz-game",t.TAP_TAP_GAME="tap-tap-game",t._452_WAN_GAME="452wan-game",t.APP_TOU_TIAO="Toutiao",t.APP_NEWS_ARTICLE_LITE="news_article_lite",t.APP_DOU_YIN="Douyin",t.APP_DOU_YIN_LITE="Douyin_lite",t.APP_XI_GUA="XiGua",t.APP_QQ="qq",t.APP_WE_CHAT="wechat",t.APP_DW="DreamWorks",t.APP_TAP_TAP="tap_tap",t.APP_452_WAN="452_wan",t.APP_UNKNOWN="unknown",t.APP_DS_MAP=0,t.SHARE_CONFIG={share_id_array:["6rbkd4ptsrf3p282j4","1ja4cg4hi045f1f9cf","29pejigtkih3hait61"],share_array:[{title:"\u50f5\u5c38\u661f\u9645\u5927\u6218\uff0c\u5168\u65b0\u5854\u9632\u5f0f\u67aa\u6218\u6e38\u620f",url:"1.jpg?v=1"},{title:"\u6b63\u4e49\uff0c\u6c38\u4e0d\u7f3a\u5e2d\uff0c\u52a0\u5165\u6b63\u4e49\u8054\u76df\uff0c\u62ef\u6551\u4eba\u7c7b\uff01",url:"2.jpg?v=1"},{title:"\u8840\u6218\u7586\u5c38\uff0c\u52b2\u7206\u5854\u9632",url:"3.jpg?v=1"}]},t}();i.ChannelManager=g,cc._RF.pop()},{Constants:"Constants","DWMiniGame ":"DWMiniGame ",GameManager:"GameManager",NetUtils:"NetUtils",OPPOMiniGame:"OPPOMiniGame",QQMiniGame:"QQMiniGame",SDKManager:"SDKManager",TTMiniGame:"TTMiniGame",TaskManager:"TaskManager",VIVOMiniGame:"VIVOMiniGame",WXMiniGame:"WXMiniGame"}],ClickAudio:[function(t,e,i){"use strict";cc._RF.push(e,"2071480EAFEVqZYe900XPgS","ClickAudio");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.ClickAudio=void 0;var o=t("GameManager"),r=t("GameObject"),s=cc._decorator,c=s.ccclass;s.property;var _=s.menu,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.node.on("click",this.on_button_click_handler,this)},e.prototype.on_button_click_handler=function(){o.gm.audio.play_effect("click")},a([c,_("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ClickAudio")],e)}(r.GameObject);i.ClickAudio=d,cc._RF.pop()},{GameManager:"GameManager",GameObject:"GameObject"}],CoinFlyAnim:[function(t,e,i){"use strict";cc._RF.push(e,"2c895H0S2FDbbjPVxG9fWFI","CoinFlyAnim");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.CoinFlyAnim=void 0;var o=t("NodePoolItem"),r=t("Constants"),s=t("GameManager"),c=t("Utils"),_=cc._decorator,d=_.ccclass,l=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin_spr_array=[],e._coin_num=1,e._start_pos=new cc.Vec3(0,0),e._target_pos=new cc.Vec3(-300,500),e._exist_time=0,e}return n(e,t),e.prototype.onEnable=function(){for(var t=0;t<this.coin_spr_array.length;t++)this.coin_spr_array[t].node.active=!1;for(this._exist_time=0,t=0;t<this._coin_num;t++)this.do_node_anim(this.coin_spr_array[t].node,.01*t)},e.prototype.update=function(t){this._exist_time+=t,this._exist_time>=5&&s.gm.pool.put(this.node)},e.prototype.init_fly_anim=function(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=1);for(var a=s.gm.ui.get_layer_node(r.LayerType.TOP),o=0;o<this.coin_spr_array.length;o++)c.Utils.async_set_sprite_frame(this.coin_spr_array[o],r.BundleName.COMMON,"res/item/"+t);this._start_pos=a.convertToNodeSpaceAR(e),i?this._target_pos=a.convertToNodeSpaceAR(i):s.gm.ui.store&&s.gm.ui.store.node.activeInHierarchy?t==r.RewardIdEnum.DIAMOND?this._target_pos=a.convertToNodeSpaceAR(s.gm.ui.store.diamond_lbl.node.convertToWorldSpaceAR(cc.Vec3.ZERO)):t==r.RewardIdEnum.GOLD&&(this._target_pos=a.convertToNodeSpaceAR(s.gm.ui.store.gold_lbl.node.convertToWorldSpaceAR(cc.Vec3.ZERO))):s.gm.ui.start&&s.gm.ui.start.node.activeInHierarchy&&(t==r.RewardIdEnum.DIAMOND?this._target_pos=a.convertToNodeSpaceAR(s.gm.ui.start.diamond_icon_node.convertToWorldSpaceAR(cc.Vec3.ZERO)):t==r.RewardIdEnum.GOLD&&(this._target_pos=a.convertToNodeSpaceAR(s.gm.ui.start.gold_icon_node.convertToWorldSpaceAR(cc.Vec3.ZERO)))),this._coin_num=n},e.prototype.do_node_anim=function(t,e){t.active=!0,t.setPosition(cc.v2(this._start_pos.x,this._start_pos.y)),t.scale=1;var i=2*Math.PI*e*10,n=new cc.Vec2(this._start_pos.x+100*Math.cos(i),this._start_pos.y+100*Math.sin(i)+200),a=cc.moveTo(.2+.1*Math.random(),n.x,n.y),o=[n,new cc.Vec2((this._target_pos.x+n.x)/2+(this._target_pos.x-n.x)*(Math.random()-.5)/2,(this._target_pos.y+n.y)/2),cc.v2(this._target_pos)],r=cc.bezierTo(.4+.3*Math.random(),o),s=cc.sequence(cc.scaleTo(.01,1.2,1.2),cc.scaleTo(.05,0,0));t.runAction(cc.sequence(a,r,s,cc.callFunc(function(){t.active=!1})))},a([l([cc.Sprite])],e.prototype,"coin_spr_array",void 0),a([d],e)}(o.NodePoolItem);i.CoinFlyAnim=u,cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",NodePoolItem:"NodePoolItem",Utils:"Utils"}],ConfigData:[function(t,e,i){"use strict";var n;cc._RF.push(e,"31058yFOAdHKpibKul3eb1Y","ConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TrapType=i.AttackType=i.SkillPos=i.SkillTypeNew=i.SkillType=i.ConfigValueType=i.SkillEffectId=i.SignAryData=i.LevelRewardConfigData=i.ScienceType=void 0,(n=i.ScienceType||(i.ScienceType={}))[n.HOME=1]="HOME",n[n.GOLD=2]="GOLD",n[n.ATTACK=3]="ATTACK",n[n.HP=4]="HP",n[n.CRIT=5]="CRIT",i.LevelRewardConfigData=function(){},i.SignAryData=function(){this.id=0,this.value=0},function(t){t[t.NONE=0]="NONE",t[t.FIRE=1]="FIRE",t[t.ICE=2]="ICE",t[t.SLOWER=3]="SLOWER",t[t.DIZZINESS=4]="DIZZINESS",t[t.CHARM=5]="CHARM",t[t.POISON=6]="POISON",t[t.KILL=7]="KILL",t[t.RETREAT=8]="RETREAT",t[t.ADD_ANGER=9]="ADD_ANGER",t[t.ATTACK=101]="ATTACK",t[t.ATTACK_SPEED=102]="ATTACK_SPEED"}(i.SkillEffectId||(i.SkillEffectId={})),function(t){t[t.FIXED=0]="FIXED",t[t.RATIO_10000=1]="RATIO_10000"}(i.ConfigValueType||(i.ConfigValueType={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE_ATTACK=1]="SINGLE_ATTACK",t[t.MULTI_ATTACK=2]="MULTI_ATTACK",t[t.MULTI_ANGLE_SKILL=3]="MULTI_ANGLE_SKILL",t[t.MULTI_GROUP_SKILL_SELF=4]="MULTI_GROUP_SKILL_SELF",t[t.MULTI_GROUP_SKILL=5]="MULTI_GROUP_SKILL"}(i.SkillType||(i.SkillType={})),function(t){t[t.NONE=0]="NONE",t[t.FLY=1]="FLY",t[t.IMMEDIATE=2]="IMMEDIATE",t[t.LINE=3]="LINE"}(i.SkillTypeNew||(i.SkillTypeNew={})),function(t){t[t.ENEMY=0]="ENEMY",t[t.HERO=1]="HERO"}(i.SkillPos||(i.SkillPos={})),function(t){t[t.NONE=0]="NONE",t[t.PHYSICAL=1]="PHYSICAL",t[t.MAGIC=2]="MAGIC"}(i.AttackType||(i.AttackType={})),function(t){t[t.BUILDING=0]="BUILDING",t[t.SKILL=1]="SKILL"}(i.TrapType||(i.TrapType={})),cc._RF.pop()},{}],ConfigManager:[function(t,e,i){"use strict";cc._RF.push(e,"502b3hhbIJN7a7WY1V4A3gw","ConfigManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigManager=i.ConfigListConfig=i.Config=void 0;var n=t("CsvReader");i.Config=function(){this.head=[],this.data={},this.data_set={},this.primary_key_array=[]},i.ConfigListConfig=function(){};var a=function(){function t(){this.BUNDLE_NAME="common",this._config={},this._init_state=0}return Object.defineProperty(t,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.prototype.async_init=function(e){var i=this;if(!(this._init_state>0)){this._init_state=1;var n=t.config_list_url;this.async_get_bundle(this.BUNDLE_NAME,function(a){a.load(n,cc.TextAsset,function(n,a){n?console.error(n):(i.parse_config(t.config_list_name,a.text),i._init_state=2,e())})})}},t.prototype.load_all_config=function(e){var i=this,n=[],a=[],o=this._config[t.config_list_name].data;for(var r in o)if(o.hasOwnProperty(r)){var s=o[r];n.push(r),a.push(s.load_url)}this.async_get_bundle(this.BUNDLE_NAME,function(t){t.load(a,cc.TextAsset,function(t,o){if(t)console.error(t);else{o=[].concat(o);for(var r=0;r<a.length;r++){var s=n[r],c=o[r].text;i.parse_config(s,c)}e()}})})},t.prototype.parse_config=function(t,e){if(null!=e){var i,a=new n.CsvReader;a.init(e);var o={head:[],primary_key_array:[],data_set:{}};a.next();for(var r=[],s=a.rs.fieldsCopy(),c=0;c<s.length&&""!=s[c];c++)r.push(s[c]);a.next();var _=a.rs.fieldsCopy();a.next();var d=a.rs.fieldsCopy();a.next();var l=a.rs.fieldsCopy();for(c=0;c<l.length;c++)"key"==l[c]&&o.primary_key_array.push(c);for(c=0;c<r.length;c++)o.head[c]={comment:_[c],field:r[c],type:d[c],is_key:"key"==l[c]};for(o.data={};a.next();){i={};for(var u=void 0,h=0;h<r.length;h++){var p=o.head[h];if(u=a.rs.field(h).trim(),"array"==p.type){var g=u.split("|");3!=g.length&&console.error("array type filed must have three value");var f=parseInt(g[0].trim()),m=parseInt(g[1].trim()),y=parseInt(g[2].trim()),v=[];for(h++,c=0;c<f;c++)for(var b={},A=0;A<m;A++){var w=o.head[h],M=a.rs.field(h).trim(),E=this.parse_simple_field(w.type,M);m>1?b[w.field]=E:b=E,v[c]=b,h++}i[p.field]=v,h+=(y-f)*m,h--}else{if("string"!=p.type&&"integer"!=p.type&&"number"!=p.type&&"float"!=p.type)return void console.error(p.type+" unsupported field types!");i[p.field]=this.parse_simple_field(p.type,u)}}var T="",S=void 0;for(c=0;c<o.primary_key_array.length;c++)S=o.primary_key_array[c],T+=i[o.head[S].field],c<o.primary_key_array.length-1&&(T+="@");o.data[T]=i}this._config[t]=o}},t.prototype.parse_simple_field=function(t,e){return"number"==t?parseInt(e):"integer"==t?Math.floor(parseInt(e)):"float"==t?Math.floor(parseInt(e))/1e4:e},t.prototype.get_row_data=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this._config[t];if(!n)return cc.error("not find "+t+" config"),null;if(0==e.length)return null;for(var a="",o=0;o<e.length;o++)a+=e[o],o<e.length-1&&(a+="@");return n.data[a]?n.data[a]:(cc.error("not find data from "+t+" config which primary key is "+a),null)},t.prototype.get_row_data_array=function(t,e){var i=this._config[t];if(!i)return cc.error("not find "+t+" config"),[];var n=i.data_set[e];if(!n)for(var a in i.data_set[e]=n=[],i.data)if(0==a.indexOf(e))n.push(i.data[a]);else if(n.length>0)break;return n},t.prototype.get_config_data=function(t){return this._config[t]?this._config[t]:(cc.error("not find "+t+" config"),{})},t.prototype.async_get_bundle=function(t,e){var i=cc.assetManager.getBundle(t);i?e(i):cc.assetManager.loadBundle(t,function(i,n){if(i)return console.error(i);console.log("load "+t+" bundle successfully."),e(n)})},t.config_list_name="config_list",t.config_list_url="configs/config_list",t._instance=null,t}();i.ConfigManager=a,cc._RF.pop()},{CsvReader:"CsvReader"}],Constants:[function(t,e,i){"use strict";var n,a,o;cc._RF.push(e,"2b846/A25ZJrIdtilNuMIOw","Constants"),Object.defineProperty(i,"__esModule",{value:!0}),i.Constants=i.HeroTabType=i.StoreTypeEnum=i.ABTest=i.BundleName=i.TaskStateEnum=i.TaskConditionTypeEnum=i.TaskTypeEnum=i.MoneyIndex=i.RewardIdEnum=i.LoadingMode=i.LayerType=i.ModuleType=void 0;var r,s=t("ConfigData");(r=n=i.ModuleType||(i.ModuleType={}))[r.SCENE=0]="SCENE",r[r.WINDOW=1]="WINDOW",r[r.VIEW=2]="VIEW",function(t){t[t.SCENE=0]="SCENE",t[t.UI=1]="UI",t[t.TOP=2]="TOP",t[t.DRAG=3]="DRAG"}(a=i.LayerType||(i.LayerType={})),function(t){t[t.NONE=0]="NONE",t[t.FULL_SCREEN=1]="FULL_SCREEN"}(i.LoadingMode||(i.LoadingMode={})),function(t){t[t.PART=1e4]="PART",t[t.GOLD=10001]="GOLD",t[t.DIAMOND=10002]="DIAMOND"}(i.RewardIdEnum||(i.RewardIdEnum={})),function(t){t[t.GOLD=0]="GOLD",t[t.DIAMOND=1]="DIAMOND"}(i.MoneyIndex||(i.MoneyIndex={})),function(t){t[t.TASK_ACHIVEMENT=1]="TASK_ACHIVEMENT",t[t.TASK_DAILY=2]="TASK_DAILY"}(i.TaskTypeEnum||(i.TaskTypeEnum={})),function(t){t[t.TASK_CONDITION_PASS_LEVEL=1]="TASK_CONDITION_PASS_LEVEL",t[t.TASK_CONDITION_KILL_ENEMY_COUNT=2]="TASK_CONDITION_KILL_ENEMY_COUNT",t[t.TASK_CONDITION_UNLOCK_HERO_COUNT=3]="TASK_CONDITION_UNLOCK_HERO_COUNT",t[t.TASK_CONDITION_BUILDING_TOTAL_LEVEL=4]="TASK_CONDITION_BUILDING_TOTAL_LEVEL",t[t.TASK_CONDITION_HERO_LEVEL=5]="TASK_CONDITION_HERO_LEVEL",t[t.TASK_CONDITION_BASE_BUILDING_LEVEL=6]="TASK_CONDITION_BASE_BUILDING_LEVEL",t[t.TASK_CONDITION_VIDEO_COUNT=7]="TASK_CONDITION_VIDEO_COUNT"}(i.TaskConditionTypeEnum||(i.TaskConditionTypeEnum={})),function(t){t[t.ACCEPT=0]="ACCEPT",t[t.FINISH=1]="FINISH",t[t.GOT_REWARD=2]="GOT_REWARD"}(i.TaskStateEnum||(i.TaskStateEnum={})),function(t){t.COMMON="common",t.LOADING="loading",t.GUIDE="guide",t.START="start",t.BUILD="build",t.HERO="hero",t.TRAP="trap",t.STORE="store",t.TASK="task",t.SIGN="sign",t.RECORD="record",t.AGREEMENT="agreement",t.LUCKY_WHEEL="lucky_wheel",t.OPPO="oppo"}(o=i.BundleName||(i.BundleName={})),function(t){t.A="a_test",t.B="b_test"}(i.ABTest||(i.ABTest={})),function(t){t[t.StoreTypeDiamond=1]="StoreTypeDiamond",t[t.StoreTypeFree=2]="StoreTypeFree",t[t.StoreTypeClassic=3]="StoreTypeClassic",t[t.StoreTypeGreate=4]="StoreTypeGreate",t[t.StoreTypeLiandong=5]="StoreTypeLiandong",t[t.StoreTypeExchange1=6]="StoreTypeExchange1",t[t.StoreTypeExchange2=7]="StoreTypeExchange2",t[t.StoreTypeExchange3=8]="StoreTypeExchange3"}(i.StoreTypeEnum||(i.StoreTypeEnum={})),function(t){t[t.HERO=0]="HERO",t[t.UPGRADE=1]="UPGRADE",t[t.UPGRADE_STAR=2]="UPGRADE_STAR",t[t.SCIENCE=3]="SCIENCE"}(i.HeroTabType||(i.HeroTabType={}));var c=function(){function t(){this.Notice={key:"Notice",bundle_name:o.COMMON,load_url:"prefabs/notice",layer_type:a.TOP,module_type:n.WINDOW},this.NoticeItem={key:"NoticeItem",bundle_name:o.COMMON,load_url:"prefabs/notice_item",layer_type:a.TOP,module_type:n.VIEW},this.FlyNotice={key:"FlyNotice",bundle_name:o.COMMON,load_url:"prefabs/fly_notice",layer_type:a.TOP,module_type:n.WINDOW},this.FlyNoticeItem={key:"FlyNoticeItem",bundle_name:o.COMMON,load_url:"prefabs/fly_notice_item",layer_type:a.TOP,module_type:n.VIEW},this.CoinFlyAnim={key:"CoinFlyAnim",bundle_name:o.COMMON,load_url:"prefabs/coin_fly_anim",layer_type:a.TOP,module_type:n.VIEW},this.Guide={key:"Guide",bundle_name:o.GUIDE,load_url:"prefabs/guide",layer_type:a.TOP,module_type:n.VIEW},this.Loading={key:"Loading",bundle_name:o.LOADING,load_url:"prefabs/loading",layer_type:a.TOP,module_type:n.WINDOW},this.Story={key:"Story",bundle_name:o.LOADING,load_url:"prefabs/story",layer_type:a.TOP,module_type:n.WINDOW},this.Start={key:"Start",bundle_name:o.START,load_url:"prefabs/start",layer_type:a.UI,module_type:n.SCENE},this.FightSuccess={key:"FightSuccess",bundle_name:o.START,load_url:"prefabs/fight_success",layer_type:a.UI,module_type:n.WINDOW},this.FightFail={key:"FightFail",bundle_name:o.START,load_url:"prefabs/fight_fail",layer_type:a.UI,module_type:n.WINDOW},this.Hero={key:"Hero",bundle_name:o.HERO,load_url:"prefabs/hero",layer_type:a.UI,module_type:n.WINDOW},this.HeroInfo={key:"HeroInfo",bundle_name:o.HERO,load_url:"prefabs/hero_info",layer_type:a.UI,module_type:n.WINDOW},this.Trap={key:"Trap",bundle_name:o.TRAP,load_url:"prefabs/trap",layer_type:a.UI,module_type:n.WINDOW},this.Store={key:"Store",bundle_name:o.STORE,load_url:"prefabs/store",layer_type:a.UI,module_type:n.WINDOW},this.OpenBox={key:"OpenBox",bundle_name:o.START,load_url:"prefabs/open_box",layer_type:a.UI,module_type:n.WINDOW},this.ReceiveReward={key:"ReceiveReward",bundle_name:o.START,load_url:"prefabs/receive_reward",layer_type:a.UI,module_type:n.WINDOW},this.ShowTrap={key:"ShowTrap",bundle_name:o.START,load_url:"prefabs/show_trap",layer_type:a.UI,module_type:n.WINDOW},this.Task={key:"Task",bundle_name:o.TASK,load_url:"prefabs/task",layer_type:a.UI,module_type:n.WINDOW},this.SignDay={key:"SignDay",bundle_name:o.SIGN,load_url:"prefabs/sign",layer_type:a.UI,module_type:n.WINDOW},this.GetMoney={key:"GetMoney",bundle_name:o.START,load_url:"prefabs/get_money",layer_type:a.UI,module_type:n.WINDOW},this.SkyBox={key:"SkyBox",bundle_name:o.START,load_url:"prefabs/sky_box",layer_type:a.UI,module_type:n.WINDOW},this.Record={key:"Record",bundle_name:o.RECORD,load_url:"prefabs/record",layer_type:a.UI,module_type:n.WINDOW},this.LuckyWheel={key:"LuckyWheel",bundle_name:o.LUCKY_WHEEL,load_url:"prefabs/lucky_wheel",layer_type:a.UI,module_type:n.WINDOW},this.BannerNative={key:"BannerNative",bundle_name:o.OPPO,load_url:"prefabs/banner_native",layer_type:a.TOP,module_type:n.VIEW},this.BigJpgNative={key:"BigJpgNative",bundle_name:o.OPPO,load_url:"prefabs/big_jpg_native",layer_type:a.TOP,module_type:n.VIEW},this.IcoNative={key:"IcoNative",bundle_name:o.OPPO,load_url:"prefabs/ico_native",layer_type:a.TOP,module_type:n.VIEW},this.ONE_FRAME_TIME=1e3/60,this.CLOSE_BTN_DELAY_TIME=3,this.HOME_BUILDING_ID=12001,this.FORTRESS_BUILDING_ID=12002,this.FENCE_BUILDING_ID=12010,this.FIRST_HERO_ID=11001,this.MAX_HOME_LV=100,this.MAX_TRAP_COUNT=5,this.MAX_ANGER_COUNT=100,this.MAX_LEVEL_COUNT=200,this.FIGHT_SPEED_X1=1,this.FIGHT_SPEED_X2=2,this.SHOOT_RANGE=35,this.OPEN_SPEED_LEVEL_ID=3,this.OPEN_AUTO_LEVEL_ID=10,this.ENEMY_HINT_TIME=2,this.GRID_COLOR_GREEN="#00FF0064",this.GRID_COLOR_RED="#FF000064",this.HERO_NUM_COLOR=cc.color().fromHEX("#77C4FF"),this.MIN_DAMAGE_RATIO=0,this.MAX_DAMAGE_RATIO=.05,this.HERO_COLOR_ARRAY=[cc.color().fromHEX("#71bbf3"),cc.color().fromHEX("#b49def"),cc.color().fromHEX("#ff9355"),cc.color().fromHEX("#ff7170")],this.SKILL_COLOR_ARRAY=[cc.color().fromHEX("#4796d2"),cc.color().fromHEX("#8768d6"),cc.color().fromHEX("#f87225"),cc.color().fromHEX("#ee504e")],this.SKILL_HIT_SCALE_ARRAY=[71006,71008],this.HERO_NEED_PIECE_COUNT=20,this.NO_ACTION_TIME=5e3,this.AUTO_ATTACK_TIME=3e5,this.MIN_NO_ACTION_GUIDE_LEVEL_ID=3,this.MAX_NO_ACTION_GUIDE_LEVEL_ID=30,this.KITCHEN_UNLOCK_LEVEL=[1,2,2,3,3,3,4,4,5],this.LIANDONG_BOX_DATA=[{count:5,value:10},{count:10,value:15},{count:15,value:15}],this.LIANDONG_BOX_ID=[11103,11104,11105,11106,11107,11108,11101,11102],this.GREATE_BOX_OPEN_LEVEL=45,this.ENEMY_DEATH_PREFAB_URL="prefabs/effects/death",this.COLOR_RED=cc.color().fromHEX("#ff3838"),this.COLOR_YELLOW=cc.color().fromHEX("#ffe430"),this.BUFF_ID_RES_MAP={},this.HERO_CONDITION_ARRAY=["\u901a\u8fc7\u7b2c%d\u5173","\u57fa\u5730\u8fbe\u5230%d\u7ea7"],this.MIN_SUCCESS_TIMES_REWARD=2,this.MAX_SUCCESS_TIMES_REWARD=10,this.FAIL_TIMES_REWARD=5,this.RESULT_REWARD_POOL_ID=1006,this.MAX_LUCKY_WHEEL_FREE_COUNT=0,this.MAX_LUCKY_WHEEL_VIDEO_COUNT=3,this.LUCKY_WHEEL_REWARD_ARRAY=[{type:1,id:10002,num:30,weight:50},{type:3,id:11108,num:3,weight:2.2},{type:3,id:11103,num:3,weight:2.8},{type:2,id:13002,num:2,weight:5},{type:1,id:10002,num:100,weight:10},{type:1,id:10002,num:50,weight:30}],this.TEXT_1="\u5220\u9664\u5b58\u6863\u6210\u529f",this.TEXT_2="\u5df2\u7ecf\u901a\u5173\u6240\u6709\u5173\u5361",this.TEXT_3="\u91d1\u5e01\u4e0d\u8db3",this.TEXT_4="\u6ca1\u6709\u62a2\u593a\u6b21\u6570\uff0c\u660e\u5929\u518d\u6765",this.TEXT_5="\u901a\u51732-3\u540e\u5f00\u542f",this.TEXT_6="\u606d\u559c\u83b7\u5f97 %s x%d",this.TEXT_7="\u89c2\u770b\u89c6\u9891\u7ed3\u675f",this.TEXT_8="\u6ca1\u6709\u627e\u5230\u63d0\u793a\u5185\u5bb9",this.TEXT_9="\u5206\u4eab\u6210\u529f",this.TEXT_10="\u5220\u9664\u7f13\u5b58\u6210\u529f",this.TEXT_11="\u5f55\u5c4f\u5206\u4eab\u5931\u8d25",this.TEXT_12="\u8bf7\u5148\u89e3\u9501\u524d\u9762\u7684\u5173\u5361",this.TEXT_13="\u7b2c%d\u5173",this.TEXT_14="%d/%d",this.TEXT_15="%d \u2014 %d",this.TEXT_16="\u7b2c%d-%d\u5173\u6240\u9700\u661f\u661f",this.TEXT_17="\u6b64\u5e73\u53f0\u4e0d\u652f\u6301\u66f4\u591a\u6e38\u620f\u529f\u80fd",this.TEXT_18="\u5206\u4eab\u5931\u8d25",this.TEXT_19="\u5f55\u5c4f\u5931\u8d25,\u5f55\u5c4f\u65f6\u957f\u4f4e\u4e8e 3 \u79d2",this.TEXT_20="\u540c\u4e00\u5f55\u5c4f\u4e0d\u53ef\u5206\u4eab\u591a\u6b21",this.TEXT_21="%d.%s",this.TEXT_22="\u89e3\u9501\u63d0\u793a\u6210\u529f",this.TEXT_23="\u4eca\u65e5%d\u6b21\u5206\u4eab\u5df2\u7528\u5b8c\uff0c\u660e\u5929\u518d\u6765\uff01",this.BUFF_ID_RES_MAP[s.SkillEffectId.FIRE]={prefab_name:"buff_1",name:"\u707c\u70e7"},this.BUFF_ID_RES_MAP[s.SkillEffectId.ICE]={prefab_name:"buff_3",name:"\u51b0\u51bb"},this.BUFF_ID_RES_MAP[s.SkillEffectId.SLOWER]={prefab_name:"buff_2",name:"\u51cf\u901f"},this.BUFF_ID_RES_MAP[s.SkillEffectId.DIZZINESS]={prefab_name:"buff_2",name:"\u7729\u6655"},this.BUFF_ID_RES_MAP[s.SkillEffectId.CHARM]={prefab_name:"buff_6",name:"\u9b45\u60d1"},this.BUFF_ID_RES_MAP[s.SkillEffectId.POISON]={prefab_name:"buff_5",name:"\u4e2d\u6bd2"},this.BUFF_ID_RES_MAP[s.SkillEffectId.KILL]={prefab_name:"",name:"\u81f4\u547d\u4e00\u51fb"},this.BUFF_ID_RES_MAP[s.SkillEffectId.RETREAT]={prefab_name:"",name:"\u9006\u8f6c"},this.BUFF_ID_RES_MAP[s.SkillEffectId.ADD_ANGER]={prefab_name:"",name:"\u52a0\u6012\u6c14"},this.BUFF_ID_RES_MAP[s.SkillEffectId.ATTACK]={prefab_name:"",name:"\u653b\u51fb"},this.BUFF_ID_RES_MAP[s.SkillEffectId.ATTACK_SPEED]={prefab_name:"",name:"\u653b\u901f"}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t._instance=null,t}();i.Constants=c,cc._RF.pop()},{ConfigData:"ConfigData"}],CsvReader:[function(t,e,i){"use strict";var n;cc._RF.push(e,"81aebYiorNPuLj/M4zTSMz8","CsvReader"),Object.defineProperty(i,"__esModule",{value:!0}),i.CsvReader=i.CsvRecordset=void 0;var a,o=function(){function t(){this._fields=[]}return t.prototype.append=function(t){this._fields.push(t)},t.prototype.field=function(t){return this._fields[t]},t.prototype.fieldsCopy=function(){return this._fields.concat()},t.prototype.count=function(){return this._fields.length},t.prototype.reset=function(){this._fields.splice(0,this._fields.length)},t}();i.CsvRecordset=o,(a=n||(n={}))[a.Start=1]="Start",a[a.ID=2]="ID",a[a.String=3]="String",a[a.EndString=4]="EndString",a[a.Switch=5]="Switch",a[a.FieldEnd=6]="FieldEnd",a[a.End=7]="End";var r=function(){function t(){this.charPos=0}return t.prototype.init=function(t){this.rs=new o,this.content=t},t.prototype.next=function(){if(this.rs.reset(),this.charPos>=this.content.length)return!1;for(var t=n.Start,e=this.charPos,i="";t!=n.End;){var a=!0;if(e>=this.content.length)break;var o=this.content[e++];switch(o){case" ":case"\t":case";":t==n.Start?a=!1:t!=n.String&&(t=n.FieldEnd,a=!1);break;case"\r":a=!1;break;case"\n":t=n.End,a=!1;break;case'"':case"'":t=t!=n.String?n.String:n.EndString,a=!1;break;case"\\":if(e<this.content.length)switch(this.content.charAt(e)){case"t":o="\t",e++;break;case"n":o="\n",e++}t!=n.String&&(t=n.ID);break;default:t!=n.String&&(t=n.ID)}switch(a&&(i=i.concat(o)),t){case n.FieldEnd:this.rs.append(i),i="",t=n.Start;break;case n.End:i.length&&this.rs.append(i)}}return this.charPos=e,!0},t}();i.CsvReader=r,cc._RF.pop()},{}],"DWMiniGame ":[function(t,e,i){"use strict";cc._RF.push(e,"fb613Lo11dKxbbeu6Y7wHtS","DWMiniGame "),Object.defineProperty(i,"__esModule",{value:!0}),i.DWMiniGame=void 0;var n=t("GameManager"),a=t("ChannelManager"),o=function(){function t(){this._targetBannerAdWidth=300,this._banner_ad_id_array=["adunit-1a0789aa3d24c31c","adunit-4893ea318eaf44f5","adunit-ada16e8d5f5a0139","adunit-4c369f7c7e1cb4b7","adunit-1186e487eecafd26","adunit-a54e87fff0eacc73","adunit-941430e138629088"],this._banner_ad_array=[],this._banner_ad_flag_array=[!1,!1,!1,!1],this._banner_ad_loaded_array=[!1,!1,!1,!1],this._videoAd=null,this._videoCb=null,this._videoCbTarget=null,this._interstitial_ad=null,this._interstitial_ad_loaded=!1,this._app_box=null,this._app_box_loaded=!1,this._share_array=[],this._default_share={title:"\u4e00\u8d77\u4f53\u9a8c\u4ebf\u4e07\u50f5\u5c38",url:"shareImg.jpg"},this._share_config_url="share.json",this._record_start_time=0,this._record_end_time=0,this._is_share_record_video=!1,this._is_restart=!1,this._ifNeedVideoShare=!1,this._videoPath=""}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.load_channel_env=function(t){return window.wx.onHide(function(){}),window.wx.onShow(function(){}),console.log("wx_DS"+JSON.stringify(window.wx)),window.wx.login({}),t(),!0},t.prototype.load_sub_packages_env=function(t){return t(),!0},t.prototype.analyzeUrlPram=function(){return!0},t.prototype.get_app_name=function(){return a.ChannelManager.APP_DW},Object.defineProperty(t.prototype,"is_share",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_video_share",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_support_more_game",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.loginReport=function(){},t.prototype.create_banner_ad=function(){var t=this;if(window.wx)for(var e=window.wx.getSystemInfoSync(),i=e.windowWidth,n=e.windowHeight,a=function(e){var a=e,r=wx.createBannerAd({adUnitId:o._banner_ad_id_array[a],adIntervals:40,style:{width:o._targetBannerAdWidth,top:n-o._targetBannerAdWidth/16*9,left:(i-o._targetBannerAdWidth)/2}});o._banner_ad_array.push(r),r.onLoad(function(){console.log("banner ad id:"+t._banner_ad_id_array[a]+" onLoad"),t._banner_ad_loaded_array[a]=!0}),r.onResize(function(t){r.style.top=n-t.height,r.style.left=(i-t.width)/2}),r.onError(function(t){console.log(t)})},o=this,r=0;r<this._banner_ad_id_array.length;r++)a(r)},t.prototype.show_banner_ad=function(t){var e=this;if(this._banner_ad_loaded_array[t]){this._banner_ad_flag_array[t]=!0;var i=this._banner_ad_array[t];i.show().then(function(){e._banner_ad_flag_array[t]?console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f"):(i.hide(),console.log("\u5e7f\u544a\u663e\u793a\u6162\u4e86\uff0c\u4e0d\u9700\u8981\u663e\u793a\u4e86"))}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)})}},t.prototype.hide_banner_ad=function(t){if(this._banner_ad_loaded_array[t]){var e=this._banner_ad_array[t];e&&(e.hide(),this._banner_ad_flag_array[t]=!1)}},t.prototype.create_video_ad=function(){if(null!=window.wx.createRewardedVideoAd){this._videoAd=window.wx.createRewardedVideoAd({adUnitId:"adunit-868693f6bf325824"});var t=this;t._videoAd.onClose(function(e){e.isEnded?(console.log("\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u5b8c\u6210"),t._videoCb.apply(t._videoCbTarget)):(console.log("\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u4e2d\u65ad"),n.gm.ui.show_notice("\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u4e2d\u65ad\uff0c\u6ca1\u6709\u5956\u52b1"))}),t._videoAd.onError(function(t){console.log(t)}),t._videoAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")})}},t.prototype.show_video_ad=function(t,e){this._videoCb=t,this._videoCbTarget=e;var i=this;this._videoAd?i._videoAd.show().then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(){console.log("\u89c6\u9891\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),i._videoAd.show().then(function(){console.log("\u91cd\u8bd5\uff0c\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u91cd\u8bd5\uff0c\u89c6\u9891\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t),1004==t.errCode?n.gm.ui.show_notice("\u4eca\u65e5\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u6b21\u6570\u5df2\u7528\u5c3d"):n.gm.ui.show_notice("\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u6253\u5f00\u5931\u8d25")})}):n.gm.ui.show_notice("\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u6ca1\u6709\u521d\u59cb\u5316")},Object.defineProperty(t.prototype,"is_support_app_box",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.clear_cache=function(){window.wxDownloader&&(window.wxDownloader.cleanAllAssets(),console.log("delete cache success"))},t.prototype.vibrate_short=function(){wx.vibrateShort&&wx.vibrateShort({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}})},t.prototype.vibrate_long=function(){wx.vibrateLong&&wx.vibrateLong({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},Object.defineProperty(t.prototype,"is_support_interstitial_ad",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_rank",{get:function(){return!1},enumerable:!1,configurable:!0}),t._instance=null,t}();i.DWMiniGame=o,cc._RF.pop()},{ChannelManager:"ChannelManager",GameManager:"GameManager"}],DataClass:[function(t,e,i){"use strict";cc._RF.push(e,"9564cCYyoRLWLyK9YEGSfBI","DataClass");var n=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.DataClass=i.ComplexObject=i.NestedDataClass=i.PureDataClass2=i.PureDataClass=i.PureDataClassJson=void 0;var a=cc._decorator.ccclass,o=function(){this.id=0};i.PureDataClassJson=o;var r=function(){function t(){this.__json__=new o,this.other=""}return t.prototype.toJSON=function(){return{className:cc.js.getClassName(this),jsonStr:JSON.stringify(this.__json__)}},n([a("PureDataClass")],t)}();i.PureDataClass=r;var s=function(){function t(){this.id=0,this.serialize_property=["id"],this.version="",this.other=""}return t.prototype.toJSON=function(){return{className:cc.js.getClassName(this),jsonStr:JSON.stringify(this,this.serialize_property)}},n([a("PureDataClass2")],t)}();i.PureDataClass2=s;var c=function(){function t(){this.a=new r,this.objArray=[new r],this.objMap={a:new r}}return t.prototype.toJSON=function(){var t={a:this.a,objArray:this.objArray,objMap:this.objMap};return{className:cc.js.getClassName(this),jsonStr:JSON.stringify(t)}},n([a("NestedDataClass")],t)}();i.NestedDataClass=c;var _=n([a("ComplexObject")],function(){this.id=0,this.name="name",this.is_unlock=!1,this.level=void 0,this.obj=null,this.booleanObj=new Boolean(!0),this.numberObj=new Number(1),this.stringObj=new String("hello"),this.objArray=[new c],this.objMap={a:new c}});i.ComplexObject=_;var d=function(){function t(){}return t.test=function(){var t=new c,e=JSON.stringify(t);console.error(e);var i=JSON.parse(e);this.parse(i);var n=new c;Object.assign(n,i),console.error(n)},t.parse=function(t){if("object"==typeof t)if(t.hasOwnProperty("className")&&t.hasOwnProperty("jsonStr")){var e=t.className,i=t.jsonStr,n=JSON.parse(i);Object.assign(t,n),delete t.className,delete t.jsonStr;var a=cc.js.getClassByName(e);for(var o in Object.setPrototypeOf(t,a.prototype),t)this.parse(t[o])}else for(var o in t)this.parse(t[o]);else if(t instanceof Array)for(var r=0;r<t.length;r++)this.parse(t[r])},t}();i.DataClass=d,cc._RF.pop()},{}],DataManager:[function(t,e,i){"use strict";var n;cc._RF.push(e,"455806NKJpFgos4mcjbMuL2","DataManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.EnemyAppearData=i.FightState=i.DataManager=void 0;var a,o=t("GameManager"),r=t("MainData"),s=t("StorageManager"),c=t("EventEmitter"),_=t("StartData"),d=t("HeroData"),l=t("TrapData"),u=t("WarehouseData"),h=t("StoreData"),p=t("TaskData"),g=t("Constants"),f=t("SignData"),m=t("GuideData"),y=t("RecordData"),v=t("LuckyWheelData"),b=function(){function t(){this.event_emitter=new c.EventEmitter,this.fight_state=n.NONE,this.record_fight_state=n.NONE,this.enemy_total_count=0,this.enemy_appear_array=[],this.total_time=0,this.enemy_death_count=0,this.current_wave_count=0,this.last_touch_end_time=0,this.has_no_action_guide=!1,this.weak_guide_array=[],this.total_num=0,this.current_num=0,this.is_init=!1}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.priority_init=function(t){this.main_data=r.MainData.get_instance(),this.main_data.async_read_data(function(){t()})},t.prototype.init=function(t){var e=this;this.init_callback=t,this.warehouse_data=u.WarehouseData.get_instance(),this.total_num++,this.record_data=y.RecordData.get_instance(),this.total_num++,this.start_data=_.StartData.get_instance(),this.total_num++,this.hero_data=d.HeroData.get_instance(),this.total_num++,this.trap_data=l.TrapData.get_instance(),this.total_num++,this.store_data=h.StoreData.get_instance(),this.total_num++,this.task_data=p.TaskData.get_instance(),this.total_num++,this.sign_data=f.SignData.get_instance(),this.total_num++,this.lucky_wheel_data=v.LuckyWheelData.get_instance(),this.total_num++,this.guide_data=m.GuideData.get_instance(),this.total_num++,this.warehouse_data.async_read_data(function(){e.check_read_all_data_complete()}),this.record_data.async_read_data(function(){e.check_read_all_data_complete()}),this.start_data.async_read_data(function(){e.check_read_all_data_complete()}),this.hero_data.async_read_data(function(){e.check_read_all_data_complete()}),this.trap_data.async_read_data(function(){e.check_read_all_data_complete()}),this.store_data.async_read_data(function(){e.check_read_all_data_complete()}),this.task_data.async_read_data(function(){e.check_read_all_data_complete()}),this.sign_data.async_read_data(function(){e.check_read_all_data_complete()}),this.lucky_wheel_data.async_read_data(function(){e.check_read_all_data_complete()}),this.guide_data.async_read_data(function(){e.check_read_all_data_complete()}),this.daily_refresh(),this.check_task()},t.prototype.daily_refresh=function(t){void 0===t&&(t=!1);var e=new Date,i=Math.floor(e.getTime()/1e3);(i>this.start_data.next_day_refresh_time||t)&&(this.start_data.next_day_refresh_time=i-(i-60*e.getTimezoneOffset())%86400+86400,this.store_data.diamond_count=0,this.store_data.free_box_count=0,this.store_data.classic_box_count=0,this.store_data.liandong_box_count=0,this.store_data.greate_box_count=0,this.store_data.liandong_days++,this.store_data.async_write_data(),this.sign_data.today_sign_state=0,this.sign_data.sign_day++,this.sign_data.sign_day=this.sign_data.sign_day>7?1:this.sign_data.sign_day,this.sign_data.async_write_data(),this.record_data.share_record_count=0,this.record_data.async_write_data())},t.prototype.clear_store_data=function(){r.MainData.get_instance().async_delete_data(),_.StartData.get_instance().async_delete_data(),d.HeroData.get_instance().async_delete_data(),l.TrapData.get_instance().async_delete_data(),u.WarehouseData.get_instance().async_delete_data(),y.RecordData.get_instance().async_delete_data(),h.StoreData.get_instance().async_delete_data(),p.TaskData.get_instance().async_delete_data(),f.SignData.get_instance().async_delete_data(),v.LuckyWheelData.get_instance().async_delete_data(),m.GuideData.get_instance().async_delete_data(),o.gm.ui.show_notice(o.gm.const.TEXT_1),cc.game.end()},t.prototype.check_read_all_data_complete=function(){this.current_num++,this.current_num>=this.total_num&&(this.check_reset_data(),this.is_init=!0,this.init_callback())},t.prototype.check_reset_data=function(){},t.prototype.reset_daily_data=function(){},t.prototype.is_task_id_in_daily_list=function(t){for(var e=0;e<this.task_data.daily_task_list.length;++e)if(t==this.task_data.daily_task_list[e].task_id)return!0;return!1},t.prototype.is_task_id_in_achivement_list=function(t){for(var e=0;e<this.task_data.achivement_list.length;++e)if(t==o.gm.config.get_row_data("TaskConfigData",this.task_data.achivement_list[e].task_id.toString()).condition)return!0;return!1},t.prototype.check_task=function(){for(var t=0;t<this.task_data.daily_task_list.length;)(n=o.gm.config.get_row_data("TaskConfigData",this.task_data.daily_task_list[t].task_id.toString()))?++t:this.task_data.daily_task_list.splice(t,1);for(t=0;t<this.task_data.achivement_list.length;)(n=o.gm.config.get_row_data("TaskConfigData",this.task_data.achivement_list[t].task_id.toString()))?++t:this.task_data.achivement_list.splice(t,1);var e=o.gm.config.get_config_data("TaskConfigData");for(var i in e.data){var n,a;(n=o.gm.config.get_row_data("TaskConfigData",i)).taskType!=g.TaskTypeEnum.TASK_DAILY||this.is_task_id_in_daily_list(n.id)?n.taskType!=g.TaskTypeEnum.TASK_ACHIVEMENT||n.id%1e3!=1||this.is_task_id_in_achivement_list(n.condition)||((a=new p.TaskInfoData).task_id=n.id,a.dgree=0,a.state=0,this.task_data.achivement_list.push(a)):((a=new p.TaskInfoData).task_id=n.id,a.dgree=0,a.state=0,this.task_data.daily_task_list.push(a))}this.task_data.async_write_data()},t.prototype.setRandomReward=function(t,e,i){void 0===i&&(i=1);for(var n=[],a=0,o=0;o<t.length;++o){var r=new p.PoolItemData;r.id=t[o].prop,a+=t[o].weight,r.count=t[o].num1+Math.floor((t[o].num2-t[o].num1)*Math.random()),r.weight=a,n.push(r)}for(o=0;o<t[0].drop;++o)for(var s=Math.random()*a,c=0;c<n.length;++c)if(s<n[c].weight){for(var _=!1,d=0;d<e.length;++d)if(e[d].id==n[c].id){e[d].count+=n[c].count*i,_=!0;break}if(!_){var l=new p.BoxItemData;l.id=n[c].id,l.count=n[c].count*i,l.index=e.length,e.push(l)}break}},t.prototype.print_debug_info=function(){s.StorageManager.instance.print_debug_info()},t.prototype.generate_enemy_appear_array=function(t){for(var e,i=[],n=o.gm.config.get_row_data("EnemyAppearConfigData",t.toString(),"1"),a=n.max_wave,r=0,s=0,c=0,_=0,d=1;d<=a;d++){for(var l=(n=o.gm.config.get_row_data("EnemyAppearConfigData",t.toString(),d.toString())).monster_cd/1e3,u=n.wave_cd/1e3,h=0,p=0,g=0,f=0;f<n.monster_array.length;f++)g+=(e=n.monster_array[f]).num;for(var m=0;m<n.monster_array.length;m++){e=n.monster_array[m];var y=o.gm.config.get_row_data("EnemyConfigData",e.monster.toString());if(y){c+=y.gold_ratio*e.num;for(var v=0;v<e.num;v++)(w=new A).index=s,w.wave_enemy_index=p,w.wave_enemy_count=g,w.enemy_id=e.monster,2==y.is_boss&&(w.boss_monster_index=h,h++),w.wave_count=d,w.time=r,w.way_in_index=Math.max(n.entrance-1,0),w.hp=e.blood,w.attack=e.attack,w.drop_gold=y.gold_ratio,r+=l,s++,p++,i.push(w)}}r+=u}var b=o.gm.config.get_row_data("LevelConfigData",t.toString());if(b){_=b.total_gold/c;var w=void 0;for(d=0;d<i.length;d++)(w=i[d]).drop_gold=Math.floor(w.drop_gold*_)}return i},t._instance=null,t}();i.DataManager=b,(a=n=i.FightState||(i.FightState={}))[a.NONE=0]="NONE",a[a.RUN=1]="RUN",a[a.PAUSE=2]="PAUSE",a[a.SUCCESS=3]="SUCCESS",a[a.FAIL=4]="FAIL";var A=function(){this.index=0,this.enemy_id=0,this.wave_count=0,this.wave_enemy_index=0,this.wave_enemy_count=0,this.boss_monster_index=-1,this.time=0,this.way_in_index=0,this.hp=0,this.attack=0,this.drop_gold=0};i.EnemyAppearData=A,cc._RF.pop()},{Constants:"Constants",EventEmitter:"EventEmitter",GameManager:"GameManager",GuideData:"GuideData",HeroData:"HeroData",LuckyWheelData:"LuckyWheelData",MainData:"MainData",RecordData:"RecordData",SignData:"SignData",StartData:"StartData",StorageManager:"StorageManager",StoreData:"StoreData",TaskData:"TaskData",TrapData:"TrapData",WarehouseData:"WarehouseData"}],DelayTaskManager:[function(t,e,i){"use strict";cc._RF.push(e,"faa82aKZNNGa5ndPz46rPo+","DelayTaskManager");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.DelayTaskManager=void 0;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._timeThreshold=0,e._interval=0,e._taskList=[],e._isRun=!1,e}return n(e,t),Object.defineProperty(e,"instance",{get:function(){return e._instance?e._instance:cc.find("Canvas").addComponent(e)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){e._instance?(cc.error("DelayTaskManager \u662f\u4e2a\u5355\u4f8b\uff0c\u4e0d\u80fd\u5b9e\u4f8b\u5316\u591a\u4e2a\uff0c\u81ea\u52a8\u79fb\u9664\u591a\u4f59\u7684 DelayTaskManager \u7ec4\u4ef6"),this.node.removeComponent(this)):e._instance=this},e.prototype.addTask=function(t){this._taskList.push(t)},e.prototype.run=function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=6),this._interval=t,this._timeThreshold=e,this._completeCallback=i,this._target=n,this._isRun=!0,cc.director.getScheduler().schedule(this.frameCallback,this,this._interval,!1)},Object.defineProperty(e.prototype,"isRun",{get:function(){return this._isRun},enumerable:!1,configurable:!0}),e.prototype.clear=function(){cc.director.getScheduler().unschedule(this.frameCallback,this),this._isRun=!1,this._taskList=[],this._timeThreshold=0,this._interval=0,this._completeCallback=null,this._target=null},e.prototype.frameCallback=function(){if(this._taskList.length<=0)cc.director.getScheduler().unschedule(this.frameCallback,this),this._completeCallback&&this._target&&this._completeCallback.call(this._target),this._isRun=!1,this._completeCallback=null,this._target=null;else for(var t,e=cc.sys.now();this._taskList.length>0&&((t=this._taskList.shift()).callback&&t.target&&(t.args?t.callback.apply(t.target,t.args):t.callback.apply(t.target)),!(cc.sys.now()-e>this._timeThreshold)););},e._instance=null,e}(cc.Component);i.DelayTaskManager=a,cc._RF.pop()},{}],Draggable:[function(t,e,i){"use strict";cc._RF.push(e,"43989b0NrFCgpQy+jZ7dmvm","Draggable");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Draggable=i.DragType=void 0;var o=t("GameManager"),r=cc._decorator,s=r.ccclass,c=r.property;i.DragType={SELF:0,COPY:1,CUSTOM:2};var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragType=i.DragType.SELF,e.isBubbles=!1,e.missTime=.1,e.missDistance=5,e._isDragging=!1,e._startPoint=cc.Vec2.ZERO,e._distance=0,e._dragNode=null,e}var r;return n(e,t),r=e,e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onTouchStart=function(t){var e=this;this._startPoint=t.touch.getLocation(),this.missTime>0?(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e._isDragging||e.dragStart(t)},this.missTime)):e._isDragging||e.dragStart(t),this.isBubbles||t.stopPropagation()},e.prototype.onTouchMove=function(t){this._isDragging?this.dragMove(t):(this._distance=this._startPoint.sub(t.touch.getLocation()).mag(),this.missDistance>=0&&this._distance>=this.missDistance&&(this._isDragging||this.dragStart(t)),this.missTime>0&&this.unscheduleAllCallbacks()),this.isBubbles||t.stopPropagation()},e.prototype.onTouchEnd=function(t){this._isDragging?this.dragEnd(t):this.missTime>0&&this.unscheduleAllCallbacks(),this.isBubbles||t.stopPropagation()},e.prototype.onTouchCancel=function(t){this._isDragging?this.dragEnd(t):this.missTime>0&&this.unscheduleAllCallbacks(),this.isBubbles||t.stopPropagation()},e.prototype.getDragNode=function(){return this._dragNode},e.prototype.clearDragNode=function(){this._dragNode&&(this._dragNode.removeFromParent(!0),o.gm.ui.drag_node.destroyAllChildren())},e.prototype.setDragNode=function(t,e){if(this._dragNode=t,this._dragNode.parent=null,o.gm.ui.drag_node.addChild(this._dragNode),this._dragNode&&this._dragNode.parent){var i=this._dragNode.parent.convertToNodeSpaceAR(e.detail.getLocation());this._dragNode.setPosition(i)}},e.prototype.dragStart=function(t){if(this.enabled){if(this._isDragging=!0,this.dragType==i.DragType.CUSTOM);else if(this.dragType==i.DragType.SELF?this._dragNode=this.node:this.dragType==i.DragType.COPY&&(this._dragNode=cc.instantiate(this.node),this._dragNode.parent=null,this._dragNode.removeComponent(r),o.gm.ui.drag_node.addChild(this._dragNode)),this._dragNode&&this._dragNode.parent){var e=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this._dragNode.parent.convertToNodeSpaceAR(e);this._dragNode.setPosition(n)}var a=new cc.Event.EventCustom("drag-start",this.isBubbles);a.detail=t,this.node.dispatchEvent(a)}},e.prototype.dragMove=function(t){if(this.enabled){if(this._dragNode&&this._dragNode.parent){var e=this._dragNode.parent.convertToNodeSpaceAR(cc.v3(t.getLocation()));this._dragNode.setPosition(e)}var i=new cc.Event.EventCustom("drag-move",this.isBubbles);i.detail=t,this.node.dispatchEvent(i)}},e.prototype.dragEnd=function(t){if(this.enabled){this._isDragging=!1,this._distance=0,this._startPoint=cc.Vec2.ZERO;var e=new cc.Event.EventCustom("drag-end",this.isBubbles);e.detail=t,this.node.dispatchEvent(e),this._dragNode=null,this.dragType!=i.DragType.SELF&&o.gm.ui.drag_node.removeAllChildren()}},a([c({type:cc.Enum(i.DragType),tooltip:"\u4e8b\u4ef6\u7c7b\u578b"})],e.prototype,"dragType",void 0),a([c({tooltip:"\u4e8b\u4ef6\u662f\u5426\u80fd\u5192\u6ce1"})],e.prototype,"isBubbles",void 0),a([c({type:cc.Float,tooltip:"\u8bef\u5dee\u65f6\u95f4,\u5355\u4f4d\u79d2\uff0c\u4e0e\u8bef\u5dee\u8ddd\u79bb\u662f\u6216\u7684\u5173\u7cfb"})],e.prototype,"missTime",void 0),a([c({type:cc.Float,tooltip:"\u8bef\u5dee\u8ddd\u79bb\uff0c\u4e0e\u8bef\u5dee\u65f6\u95f4\u662f\u6216\u7684\u5173\u7cfb"})],e.prototype,"missDistance",void 0),r=a([s],e)}(cc.Component);i.Draggable=_,cc._RF.pop()},{GameManager:"GameManager"}],EventEmitter:[function(t,e,i){"use strict";cc._RF.push(e,"858dfm4/W1GnZLCtL15E/jG","EventEmitter"),Object.defineProperty(i,"__esModule",{value:!0}),i.EventEmitter=void 0;var n=function(){function t(){this._events={}}return t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this._events[t];if(null!=n)for(var a,o=n.length-1;o>=0;o--)(a=n[o]).callback&&a.target&&(a.callback.apply(a.target,e),a.isOnce&&n.splice(o,1))},t.prototype.on=function(t,e,i){this._addListener(t,e,i)},t.prototype.once=function(t,e,i){this._addListener(t,e,i,!0)},t.prototype.off=function(t,e,i){var n=this._events[t];if(null!=n)for(var a=0;a<n.length;a++)if(n[a].callback==e&&n[a].target==i)return void n.splice(a,1)},t.prototype.count=function(t){return(this._events[t]||[]).length},t.prototype._addListener=function(t,e,i,n){void 0===n&&(n=!1);for(var a=this._events[t]||[],o=0;o<a.length;o++)if(a[o].callback==e&&a[o].target==i)return void console.log("\u4e0d\u8981\u91cd\u590d\u6ce8\u518c\u76d1\u542c");a.unshift({callback:e,target:i,isOnce:n}),this._events[t]=a},t}();i.EventEmitter=n,cc._RF.pop()},{}],EventProxy:[function(t,e,i){"use strict";cc._RF.push(e,"c941cBc+11Cbb0vk+Da5X/l","EventProxy");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.EventProxy=void 0;var o=t("GameObject"),r=cc._decorator,s=r.ccclass,c=r.property,_=r.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.event_array=[],e}return n(e,t),e.prototype.on_event_proxy_handler=function(){cc.Component.EventHandler.emitEvents.apply(this,[this.event_array].concat(Array.prototype.slice.call(arguments)))},a([c([cc.Component.EventHandler])],e.prototype,"event_array",void 0),a([s,_("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7ec4\u4ef6/EventProxy")],e)}(o.GameObject);i.EventProxy=d,cc._RF.pop()},{GameObject:"GameObject"}],FlyNoticeItem:[function(t,e,i){"use strict";cc._RF.push(e,"fdf3bhhbI1H6L229qUoGErW","FlyNoticeItem");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.FlyNoticeItem=void 0;var o=t("NodePoolItem"),r=t("GameManager"),s=t("Utils"),c=t("Constants"),_=cc._decorator,d=_.ccclass,l=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item_spr=null,e.value_lbl=null,e}return n(e,t),e.prototype.set_data=function(t,e){var i=this;s.Utils.async_set_sprite_frame(this.item_spr,c.BundleName.COMMON,"res/item/"+t),this.value_lbl.string=(e>0?"+":"")+s.Utils.numFormat(e,2),this.node.runAction(cc.sequence(cc.moveTo(1,this.node.x,this.node.y+60),cc.callFunc(function(){r.gm.pool.put(i.node)})))},e.prototype.unuse=function(){t.prototype.unuse.call(this),this.value_lbl.string="",this.node.stopAllActions()},a([l(cc.Sprite)],e.prototype,"item_spr",void 0),a([l(cc.Label)],e.prototype,"value_lbl",void 0),a([d],e)}(o.NodePoolItem);i.FlyNoticeItem=u,cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",NodePoolItem:"NodePoolItem",Utils:"Utils"}],FlyNotice:[function(t,e,i){"use strict";cc._RF.push(e,"9932b7ElKtEB6CKtWJ68bGm","FlyNotice");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.FlyNotice=void 0;var o=t("GameModule"),r=t("GameManager"),s=t("FlyNoticeItem"),c=cc._decorator,_=c.ccclass,d=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fly_notice_item_prefab=null,e}return n(e,t),e.prototype.onLoad=function(){r.gm.pool.init(r.gm.const.FlyNoticeItem.bundle_name,r.gm.const.FlyNoticeItem.load_url,s.FlyNoticeItem)},e.prototype.show_fly_notice=function(t,e,i){var n=this;r.gm.pool.async_get(r.gm.const.FlyNoticeItem.bundle_name,r.gm.const.FlyNoticeItem.load_url,s.FlyNoticeItem,function(a){n.node.addChild(a.node),a.node.position=n.node.convertToNodeSpaceAR(i),a.set_data(t,e)})},a([d(cc.Prefab)],e.prototype,"fly_notice_item_prefab",void 0),a([_],e)}(o.GameModule);i.FlyNotice=l,cc._RF.pop()},{FlyNoticeItem:"FlyNoticeItem",GameManager:"GameManager",GameModule:"GameModule"}],GameMain:[function(t,e,i){"use strict";cc._RF.push(e,"ea5a2GO8/BLDJgEZiGqNJhj","GameMain");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.GameMain=void 0;var o=t("GameManager"),r=t("GameObject"),s=t("Loading"),c=t("NetUtils"),_=cc._decorator,d=_.ccclass;_.property;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){var t=this,e=this;cc.macro.ENABLE_MULTI_TOUCH=!0,cc.macro.CLEANUP_IMAGE_CACHE=!0,cc.dynamicAtlasManager.enabled=!1,console.log("gm init"),o.gm.init(),o.gm.channel.init(),o.gm.data.priority_init(function(){o.gm.ui.init(function(){o.gm.ui.loading.state=s.LoadingState.START_FULL,c.ReportData.instance.report_once_point(10020),o.gm.config.async_init(function(){o.gm.config.load_all_config(function(){o.gm.data.init(function(){e.scheduleOnce(function(){e.show_guide(function(){o.gm.ui.show_start()})})})})})})}),cc.view.getCanvasSize().height/cc.view.getCanvasSize().width<1.33&&(this.addBorder(this.node),this.node.getChildByName("ui_node").height=1334,setTimeout(function(){cc.view.setDesignResolutionSize(750,1334,cc.ResolutionPolicy.SHOW_ALL),t.node.getChildByName("ui_node").height=1334},10),console.log("\u5439\u725b\u5439\u725b",this.node.getChildByName("ui_node")))},t.prototype.addBorder=function(t){if(!cc.find("Canvas").parent.getChildByName("leftBorder")){console.warn("\u6dfb\u52a0\u8fb9\u6846\u80cc\u666f"),this.leftBorder=new cc.Node,this.leftBorder.name="leftBorder",this.leftBorder.anchorX=.5,this.leftBorder.anchorY=.5,this.leftBorder.x=-1090,this.leftBorder.scaleX=4,this.leftBorder.scaleY=4;var e=this.leftBorder.addComponent(cc.Sprite);this.rightBorder=new cc.Node,this.rightBorder.name="rightBorder",this.rightBorder.anchorX=.5,this.rightBorder.anchorY=.5,this.rightBorder.scaleX=4,this.rightBorder.scaleY=4,this.rightBorder.x=1090;var i=this.rightBorder.addComponent(cc.Sprite);cc.loader.load("borderBg.png",function(t,n){t||(e.spriteFrame=new cc.SpriteFrame(n),i.spriteFrame=new cc.SpriteFrame(n))}),this.leftBorder.zIndex=10,this.rightBorder.zIndex=10,t.addChild(this.leftBorder),t.addChild(this.rightBorder)}},e.prototype.show_guide=function(t){o.gm.data.guide_data.is_finish_all?t(!1):o.gm.ui.async_show_module(o.gm.const.Guide,function(){t(!0)})},a([d],e)}(r.GameObject);i.GameMain=l,cc._RF.pop()},{GameManager:"GameManager",GameObject:"GameObject",Loading:"Loading",NetUtils:"NetUtils"}],GameManager:[function(t,e,i){(function(n){"use strict";cc._RF.push(e,"3ab42SvpxFEKLcQGtWsXTM+","GameManager"),function(e){Object.defineProperty(i,"__esModule",{value:!0}),i.gm=i.GameManager=void 0;var n=t("NodePoolManager"),a=t("DataManager"),o=t("GameObjectManager"),r=t("Constants"),s=t("AudioManager"),c=t("UIManager"),_=t("ChannelManager"),d=t("ConfigManager"),l=function(){function t(){null!=r.Constants&&(this.const=r.Constants.instance,this.obj=o.GameObjectManager.instance,this.data=a.DataManager.instance,this.config=d.ConfigManager.instance,this.pool=n.NodePoolManager.instance,this.audio=s.AudioManager.instance,this.ui=c.UIManager.instance,this.channel=_.ChannelManager.instance)}return t.prototype.init=function(){this.physics=cc.director.getPhysicsManager()},t}();i.GameManager=l;var u="undefined"==typeof window?e:window;i.gm=u.gm=u.gm||new l}.call(void 0,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{AudioManager:"AudioManager",ChannelManager:"ChannelManager",ConfigManager:"ConfigManager",Constants:"Constants",DataManager:"DataManager",GameObjectManager:"GameObjectManager",NodePoolManager:"NodePoolManager",UIManager:"UIManager"}],GameModule:[function(t,e,i){"use strict";cc._RF.push(e,"2e3356J8G1L/59piPJs/SrC","GameModule");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.GameModule=void 0;var o=t("GameObject"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.is_play_effect=!1,e}return n(e,t),a([s],e)}(o.GameObject);i.GameModule=c,cc._RF.pop()},{GameObject:"GameObject"}],GameObjectManager:[function(t,e,i){"use strict";cc._RF.push(e,"addf7kmAtJC86fpKwbcZ3cl","GameObjectManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameObjectManager=void 0;var n=function(){function t(){this._object_list={}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t,"unique_id",{get:function(){return this._unique_id++},enumerable:!1,configurable:!0}),t.prototype.add=function(t){if(null!=t&&null!=t){var e=cc.js.getClassName(t),i=this._object_list[e];i||(i={map:{},count:0},this._object_list[e]=i),i.map[t.__unique_id],i.map[t.__unique_id]=t,i.count++}},t.prototype.remove=function(t){if(null!=t&&null!=t){var e=cc.js.getClassName(t),i=this._object_list[e],n=i.map[t.__unique_id];n&&(n.__destroy_time=Date.now(),delete i.map[t.__unique_id],i.count--)}},t.prototype.count=function(t){var e=0;if(null==t||null==t)return e;var i=cc.js.getClassName(t),n=this._object_list[i];return n&&(e=n.count),e},t.prototype.info=function(){var t=0,e="%c\n============== Game Object Info ==================";for(var i in this._object_list){var n=this._object_list[i];t+=n.count,e+="\n"+i+" count is "+n.count}e+="\n\nTotal count is "+t,e+="\n\n============== Game Object Info ==================\n",console.log(e,"font-weight:bold;")},t._instance=null,t._unique_id=0,t}();i.GameObjectManager=n,cc._RF.pop()},{}],GameObject:[function(t,e,i){"use strict";cc._RF.push(e,"c4387fowQJMHLZG3Xjm5VMA","GameObject");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.GameObject=void 0;var o=t("GameObjectManager"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){var e=t.call(this)||this;return e.__unique_id=o.GameObjectManager.unique_id,e.__create_time=Date.now(),o.GameObjectManager.instance.add(e),e}return n(e,t),e.prototype.onDestroy=function(){this.__destroy_time=Date.now(),this.__destroy_time,this.__create_time,o.GameObjectManager.instance.remove(this)},a([s],e)}(cc.Component);i.GameObject=c,cc._RF.pop()},{GameObjectManager:"GameObjectManager"}],GraphicsUtils:[function(t,e,i){"use strict";cc._RF.push(e,"3f4e5PxON1DxoOx4ZYpPsDM","GraphicsUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.GraphicsUtils=void 0;var n=function(){function t(){}return t.get_label_comp=function(t){var e=t.label;if(!e){var i=new cc.Node("label");t.label=e=i.addComponent(cc.Label),t.addChild(i,cc.macro.MAX_ZINDEX)}return e},t.draw_label=function(t,e,i,n){void 0===i&&(i=cc.Color.BLACK),void 0===n&&(n=20)},t.clear_label=function(){},t.get_graph_comp=function(t){var e=t.graph;if(!e){var i=new cc.Node("graph");t.graph=e=i.addComponent(cc.Graphics),t.addChild(i,cc.macro.MAX_ZINDEX)}return e},t.clear_graph=function(){},t.draw_circle=function(){},t.draw_line=function(){},t.draw_polygon=function(){},t.draw_bound=function(){},t.draw_bound_start=function(){},t.draw_bound_end=function(){},t.show_debug_draw=!1,t.fill_color=cc.color(255,0,0,30),t}();i.GraphicsUtils=n,cc._RF.pop()},{}],GuideData:[function(t,e,i){"use strict";cc._RF.push(e,"5fc1aGgtMBGM7KjPjddEvkT","GuideData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.Direction=i.GuideData=void 0;var a=t("GameManager"),o=t("StorageBase"),r=t("NetUtils"),s=t("StorageManager"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="GuideData",e.MAX_GUIDE_ID=3,e.FIND_TIMEOUT=5e3,e.FIND_RETRY_INTERVAL=100,e.TARGET_PREFIX="Canvas/",e.PLOT_NEXT_TIME=4,e.is_guide_upgrade_tab=!1,e.is_guide_upgrade_hero=!1,e.is_guide_science_tab=!1,e.is_guide_science_home=!1,e.is_guide_speed_x2=!1,e.is_guide_trap=!1,e.is_guide_auto_attack=!1,e.guide_data_array=[{id:1,next_id:2,step_list:[{index:0,cmd:"finger",module:a.gm.const.Start,cmd_args:{tip_content:"\u70b9\u51fb\u8d2d\u4e70\u82f1\u96c4",dir:_.RIGHT,mask_type:cc.Mask.Type.RECT},start_target:"ui_node/start/window/bottom_area/hero_node/hero_list/scrollView/view/content/hero_item/buy_btn",onStart:function(t){a.gm.ui.start&&a.gm.ui.start.node.activeInHierarchy?(a.gm.ui.hide_upper_module(a.gm.const.Start),a.gm.ui.start.auto_pause(),t()):a.gm.ui.on("module-show",function i(n){n==a.gm.ui.start&&(a.gm.ui.off("module-show",i,e),a.gm.ui.hide_upper_module(a.gm.const.Start),a.gm.ui.start.auto_pause(),t())},e)},onEnd:function(t){r.ReportData.instance.report_once_point(10040),a.gm.ui.start.resume_auto_pause(),t()}}]},{id:2,next_id:3,step_list:[{index:0,cmd:"finger",module:a.gm.const.Start,cmd_args:{tip_content:"\u518d\u6b21\u8d2d\u4e70\u82f1\u96c4",dir:_.RIGHT,mask_type:cc.Mask.Type.RECT},start_target:"ui_node/start/window/bottom_area/hero_node/hero_list/scrollView/view/content/hero_item/buy_btn",onStart:function(t){a.gm.ui.start&&a.gm.ui.start.node.activeInHierarchy?(a.gm.ui.hide_upper_module(a.gm.const.Start),a.gm.ui.start.auto_pause(),t()):a.gm.ui.on("module-show",function i(n){n==a.gm.ui.start&&(a.gm.ui.off("module-show",i,e),a.gm.ui.hide_upper_module(a.gm.const.Start),a.gm.ui.start.auto_pause(),t())},e)},onEnd:function(t){r.ReportData.instance.report_once_point(10050),a.gm.ui.start.resume_auto_pause(),t()}}]},{id:3,next_id:4,step_list:[{index:0,cmd:"finger",module:a.gm.const.Start,cmd_args:{tip_content:"\u70b9\u51fb\u91ca\u653e\u6280\u80fd",dir:_.RIGHT,mask_type:cc.Mask.Type.RECT},start_target:"ui_node/start/scene_node/building_node/%s/building_anim/avatar_node/hero_spr",onStart:function(t){a.gm.ui.on("anger_skill",function i(n){var o=e.guide_data_array[e.current_guide_id-1].step_list[0];o.start_target=cc.js.formatStr(o.start_target,n.node.name),a.gm.ui.off("anger_skill",i,e),a.gm.ui.start.auto_pause(),a.gm.ui.hide_upper_module(a.gm.const.Start),t()},e)},onEnd:function(t){r.ReportData.instance.report_once_point(10070),a.gm.ui.start.resume_auto_pause(),t()}}]}],e.finding=!1,e.find_start_time=0,e.current_step_index=0,e.current_guide_id=0,e}return n(e,t),Object.defineProperty(e.prototype,"is_end",{get:function(){return this.current_guide_id>this.MAX_GUIDE_ID&&a.gm.data.start_data.level_id>1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_finish_all",{get:function(){return this.current_guide_id>this.MAX_GUIDE_ID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_move_building",{get:function(){return this.is_finish_all||!this.is_finish_all&&3==this.current_guide_id},enumerable:!1,configurable:!0}),e.prototype.async_read_data=function(t){var e=this;s.StorageManager.instance.async_read_data(this.PREFIX+this.STORAGE_KEY,function(i){i.is_init?(e.current_step_index=i.current_step_index,e.current_guide_id=i.current_guide_id,e.is_guide_upgrade_tab=i.is_guide_upgrade_tab,e.is_guide_upgrade_hero=i.is_guide_upgrade_hero,e.is_guide_science_tab=i.is_guide_science_tab,e.is_guide_science_home=i.is_guide_science_home,e.is_guide_speed_x2=!!i.is_guide_speed_x2&&i.is_guide_speed_x2,e.is_guide_trap=!!i.is_guide_trap&&i.is_guide_trap,e.is_guide_auto_attack=!!i.is_guide_auto_attack&&i.is_guide_auto_attack,e.is_init=i.is_init):(e.current_guide_id=0,e.current_step_index=0,e.is_guide_upgrade_tab=!1,e.is_guide_upgrade_hero=!1,e.is_guide_science_tab=!1,e.is_guide_science_home=!1,e.is_guide_speed_x2=!1,e.is_guide_trap=!1,e.is_guide_auto_attack=!1,e.async_write_data(),e.is_init=!0),t&&t(i)})},e.prototype.async_write_data=function(t){var e={current_guide_id:this.current_guide_id,current_step_index:this.current_step_index,is_guide_upgrade_tab:this.is_guide_upgrade_tab,is_guide_upgrade_hero:this.is_guide_upgrade_hero,is_guide_science_tab:this.is_guide_science_tab,is_guide_science_home:this.is_guide_science_home,is_guide_speed_x2:this.is_guide_speed_x2,is_guide_trap:this.is_guide_trap,is_guide_auto_attack:this.is_guide_auto_attack,is_init:this.is_init};s.StorageManager.instance.async_write_data(this.PREFIX+this.STORAGE_KEY,e,t)},e}(o.StorageBase);i.GuideData=c;var _=function(){function t(){}return t.LEFT=-1,t.RIGHT=1,t}();i.Direction=_,cc._RF.pop()},{GameManager:"GameManager",NetUtils:"NetUtils",StorageBase:"StorageBase",StorageManager:"StorageManager"}],Guide:[function(t,e,i){"use strict";cc._RF.push(e,"1d982q5b8JFhYkLUHVwDLyN","Guide");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Guide=void 0;var o=t("GameModule"),r=t("GameManager"),s=t("Utils"),c=cc._decorator,_=c.ccclass,d=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask_node=null,e.mask=null,e.location=null,e.location_black_node=null,e.finger_anim=null,e.black_node=null,e.tip_node=null,e.tip_txt=null,e.can_play_mask_anim=!0,e}var i;return n(e,t),i=e,e.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log("[guide]"+t)},e.warn=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.warn("[guide]"+t)},e.error=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.error("[guide]"+t)},e.emit=function(t,e,n,a,o,s){r.gm.data.guide_data.is_finish_all||cc.Canvas.instance.scheduleOnce(function(){cc.Canvas.instance.node.emit(t,e,n,a,o,s),i.log("emit:"+t+" arg1:"+e)})},e.on=function(t,e,i,n){r.gm.data.guide_data.is_finish_all||cc.Canvas.instance.node.on(t,e,i,n)},e.once=function(t,e,i,n){r.gm.data.guide_data.is_finish_all||cc.Canvas.instance.node.once(t,e,i,n)},e.off=function(t,e,i,n){r.gm.data.guide_data.is_finish_all||cc.Canvas.instance.node.off(t,e,i,n)},e.prototype.onLoad=function(){i.on("guide",this.on_guide_handler,this)},e.prototype.onDestroy=function(){i.off("guide",this.on_guide_handler,this)},e.prototype.onEnable=function(){this.black_node.on(cc.Node.EventType.TOUCH_END,this.on_touch_end,this),0==r.gm.data.guide_data.current_guide_id&&r.gm.data.guide_data.current_guide_id++,this.show_guide()},e.prototype.onDisable=function(){this.black_node.off(cc.Node.EventType.TOUCH_END,this.on_touch_end,this),this.location.node.active=!1},e.prototype.on_touch_end=function(){var t=this;this.can_play_mask_anim&&(this.can_play_mask_anim=!1,this.location.node.active=!0,this.location.node.position=this.mask.node.position,this.location_black_node.position=this.black_node.position,this.location.node.setContentSize(2*cc.Canvas.instance.node.width,2*cc.Canvas.instance.node.width),cc.tween(this.location.node).to(.6,{width:this.mask.node.width,height:this.mask.node.width},{easing:"CubicIn"}).call(function(){t.can_play_mask_anim=!0}).start())},e.prototype.on_guide_handler=function(t){i.log("guideId:"+t),i.log("currentGuideId:"+r.gm.data.guide_data.current_guide_id),r.gm.data.guide_data.current_guide_id=t,this.show_guide()},e.prototype.async_find=function(t,e){var i=this,n=t.split("$");n.length>1&&n[1].split("/")[0],r.gm.data.guide_data.finding||(r.gm.data.guide_data.find_start_time=Date.now(),r.gm.data.guide_data.finding=!0);var a=s.Utils.find_plus(r.gm.data.guide_data.TARGET_PREFIX+t);a&&a.activeInHierarchy?(r.gm.data.guide_data.finding=!1,this.scheduleOnce(function(){e(a)})):Date.now()-r.gm.data.guide_data.find_start_time>r.gm.data.guide_data.FIND_TIMEOUT?(r.gm.data.guide_data.finding=!1,cc.error("\u5f15\u5bfc\u76ee\u6807\u7684\u8def\u5f84\u4e0d\u5bf9\uff0c\u6ca1\u6709\u627e\u5230\u8282\u70b9 "+t),setTimeout(function(){i.async_find(t,e)},r.gm.data.guide_data.FIND_RETRY_INTERVAL)):setTimeout(function(){i.async_find(t,e)},r.gm.data.guide_data.FIND_RETRY_INTERVAL)},e.prototype.none=function(t,e){e()},e.prototype.finger=function(t,e){var n=this,a=t.cmd_args;this.async_find(t.start_target,function(o){if(o){r.gm.ui.hide_upper_module(t.module),n.mask_node.active=!0;var s=void 0;n.mask.node.active=!0,n.finger_anim.node.active=!0,null!=a.mask_type&&(n.mask.type=a.mask_type);var c=n.mask_node.convertToNodeSpaceAR(o.convertToWorldSpaceAR(cc.v3(0,o.height*(.5-o.anchorY))));n.mask.node.setContentSize(o.getContentSize()),n.mask.node.setPosition(c),n.black_node.setPosition(cc.Vec3.ZERO.sub(c)),n.finger_anim.node.setPosition(c),n.finger_anim.play(),s=o,null!=a.tip_content?(n.tip_node.active=!0,null!=a.dir&&(n.tip_node.scaleX=a.dir,n.tip_txt.node.scaleX=a.dir),n.tip_node.setPosition(c.add(cc.v3(0,o.height*(1-o.anchorY)))),n.tip_txt.string=a.tip_content):n.tip_node.active=!1,s.getComponent(cc.Button)?s.once("click",function(){i.log("\u8282\u70b9\u88ab\u70b9\u51fb,\u4efb\u52a1\u5b8c\u6210"),n.mask_node.active=!1,n.location.node.active=!1,n.can_play_mask_anim=!0,e()}):s.once(cc.Node.EventType.TOUCH_END,function(){i.log("\u8282\u70b9\u88ab\u70b9\u51fb,\u4efb\u52a1\u5b8c\u6210"),n.mask_node.active=!1,n.location.node.active=!1,n.can_play_mask_anim=!0,e()})}})},e.prototype.finger_move=function(t,e){var i=this,n=t.cmd_args;this.async_find(t.start_target,function(a){a&&i.async_find(t.end_target,function(o){if(o){r.gm.ui.hide_upper_module(t.module),i.mask_node.active=!0,i.location.node.active=!1,i.can_play_mask_anim=!1,i.mask.node.active=!1,i.mask.node.active&&null!=n.mask_type&&(i.mask.type=n.mask_type),null!=n.is_show_finger?i.finger_anim.node.active=n.is_show_finger:i.finger_anim.node.active=!0;var s=i.mask_node.convertToNodeSpaceAR(a.convertToWorldSpaceAR(cc.v3(0,a.height*(.5-a.anchorY)))),c=i.mask_node.convertToNodeSpaceAR(o.convertToWorldSpaceAR(cc.v3(0,a.height*(.5-a.anchorY))));null!=n.start_offset&&(s=s.add(n.start_offset)),null!=n.end_offset&&(c=c.add(n.end_offset)),i.finger_anim.node.setPosition(s),i.finger_anim.play(),i.finger_anim.setCurrentTime(.6),i.finger_anim.stop(),i.finger_anim.node.runAction(cc.sequence(cc.moveTo(0,cc.v2(s)),cc.moveTo(2,cc.v2(c))).easing(cc.easeIn(1)).repeatForever()),null!=n.tip_content?(i.tip_node.active=!0,null!=n.dir&&(i.tip_node.scaleX=n.dir,i.tip_txt.node.scaleX=n.dir),null!=n.tip_offset?i.tip_node.setPosition(s.add(n.tip_offset)):i.tip_node.setPosition(s.add(cc.v3(0,a.height*(1-a.anchorY)))),i.tip_txt.string=n.tip_content):i.tip_node.active=!1,null!=n.callback&&n.callback(function(){i.finger_anim.node.stopAllActions(),i.finger_anim.node.active=!1,i.tip_node.active=!1,i.mask_node.active=!1,i.location.node.active=!1,i.can_play_mask_anim=!0,e()})}})})},e.prototype.show_guide=function(){var t,e=this,n=r.gm.data.guide_data.guide_data_array[r.gm.data.guide_data.current_guide_id-1];if(n){var a=n.step_list[r.gm.data.guide_data.current_step_index];if(a){var o=function(t){var i=e[a.cmd];i?i.call(e,a,t):t()};t=function(){a.onNext&&a.onNext(function(){n.next_id&&i.emit("guide",n.next_id)}),o(function(){var t;t=function(){r.gm.data.guide_data.current_step_index=a.index,a.index<n.step_list.length-1?(r.gm.data.guide_data.current_step_index++,e.show_guide()):(i.log("\u5f15\u5bfc\u7ed3\u675f"),r.gm.data.guide_data.current_guide_id++,r.gm.data.guide_data.current_step_index=0,r.gm.data.guide_data.async_write_data(),r.gm.data.guide_data.is_finish_all&&(i.emit("all-guide-finish"),r.gm.ui.async_hide_module(r.gm.const.Guide))),a.onNext||n.next_id&&i.emit("guide",n.next_id)},a.onEnd?a.onEnd(t):t()})},a.onStart?a.onStart(t):t()}}},e.prototype.hide_guide=function(){this.mask.node.active=!1,this.finger_anim.node.active=!1,this.black_node.opacity=200,this.tip_node.active=!1},a([d(cc.Node)],e.prototype,"mask_node",void 0),a([d(cc.Mask)],e.prototype,"mask",void 0),a([d(cc.Mask)],e.prototype,"location",void 0),a([d(cc.Node)],e.prototype,"location_black_node",void 0),a([d(cc.Animation)],e.prototype,"finger_anim",void 0),a([d(cc.Node)],e.prototype,"black_node",void 0),a([d(cc.Node)],e.prototype,"tip_node",void 0),a([d(cc.RichText)],e.prototype,"tip_txt",void 0),i=a([_],e)}(o.GameModule);i.Guide=l,cc._RF.pop()},{GameManager:"GameManager",GameModule:"GameModule",Utils:"Utils"}],Help:[function(t,e,i){"use strict";cc._RF.push(e,"6a8efZhXAhMj7oSF9VrpbN2","Help");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Help=void 0;var o=t("ChannelManager"),r=t("GameManager"),s=t("GameModule"),c=cc._decorator,_=c.ccclass,d=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.window_node=null,e.close_btn=null,e.title_lbl=null,e.content_txt=null,e}return n(e,t),e.prototype.onEnable=function(){r.gm.channel.show_banner_ad(o.BANNER_AD_TYPE.ALL),this.window_node.stopAllActions(),this.window_node.scale=.5,cc.tween(this.window_node).to(.3,{scale:1.05}).to(.1,{scale:.95}).to(.1,{scale:1}).start(),this._args=r.gm.ui.get_module_args(r.gm.const.Help.key),this.title_lbl.string=this._args.title?this._args.title:"\u89c4\u5219\u8bf4\u660e",this.content_txt.string=this._args.content},e.prototype.onDisable=function(){r.gm.channel.hide_banner_ad(o.BANNER_AD_TYPE.ALL),this._args=null,r.gm.ui.clear_module_args(r.gm.const.Help.key),this.title_lbl.string="",this.content_txt.string=""},e.prototype.editor_on_button_click_handler=function(t){t.target==this.close_btn.node&&r.gm.ui.async_hide_module(r.gm.const.Help)},a([d(cc.Node)],e.prototype,"window_node",void 0),a([d(cc.Button)],e.prototype,"close_btn",void 0),a([d(cc.Label)],e.prototype,"title_lbl",void 0),a([d(cc.RichText)],e.prototype,"content_txt",void 0),a([_],e)}(s.GameModule);i.Help=l,cc._RF.pop()},{ChannelManager:"ChannelManager",GameManager:"GameManager",GameModule:"GameModule"}],HeroCardItem:[function(t,e,i){"use strict";cc._RF.push(e,"4aa84LzPvRMTYreywzdkqwv","HeroCardItem");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.HeroCardItem=void 0;var o=t("Constants"),r=t("GameManager"),s=t("ListViewItem"),c=t("Utils"),_=cc._decorator,d=_.ccclass,l=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.color_spr=null,e.hero_spr=null,e.color_bar_spr=null,e.lv_lbl=null,e.star_node_array=[],e.item_btn=null,e}return n(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.update_view()},enumerable:!1,configurable:!0}),e.prototype.update_view=function(){if(this._data&&this._data.id>0){c.Utils.async_set_sprite_frame(this.hero_spr,o.BundleName.COMMON,"res/hero/"+this._data.id),c.Utils.async_set_sprite_frame(this.color_spr,o.BundleName.COMMON,"res/hero/color_"+this._data.star),c.Utils.async_set_sprite_frame(this.color_bar_spr,o.BundleName.COMMON,"res/hero/color_bar_"+this._data.star);for(var t=0;t<this.star_node_array.length;t++)this.star_node_array[t].active=this._data.star>t;this.lv_lbl.string="LV."+this._data.lv}},e.prototype.reset=function(){},e.prototype.editor_on_button_click_handler=function(t){t.target==this.item_btn.node&&(r.gm.ui.set_module_args(r.gm.const.HeroInfo.key,{data:this._data}),r.gm.ui.show_panel(r.gm.const.HeroInfo))},a([l(cc.Sprite)],e.prototype,"color_spr",void 0),a([l(cc.Sprite)],e.prototype,"hero_spr",void 0),a([l(cc.Sprite)],e.prototype,"color_bar_spr",void 0),a([l(cc.Label)],e.prototype,"lv_lbl",void 0),a([l([cc.Node])],e.prototype,"star_node_array",void 0),a([l(cc.Button)],e.prototype,"item_btn",void 0),a([d],e)}(s.ListViewItem);i.HeroCardItem=u,cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",ListViewItem:"ListViewItem",Utils:"Utils"}],HeroData:[function(t,e,i){"use strict";cc._RF.push(e,"520b9OMxKNKFpWrWEn8qjNE","HeroData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.HeroData=void 0;var a=t("GameManager"),o=t("StorageBase"),r=t("StartData"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="HeroData",e.hero_data_array=[],e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){if(i.is_init)for(var n=0;n<i.hero_data_array.length;n++)Object.setPrototypeOf(i.hero_data_array[n],r.HeroItemData.prototype);else{var o=a.gm.config.get_config_data("HeroConfigData");if(o)for(var s in i.hero_data_array=[],o.data){var c=o.data[s],_=new r.HeroItemData;_.id=c.id,_.is_in_battle=c.id==a.gm.const.FIRST_HERO_ID,_.lv=1,_.star=1,i.hero_data_array.push(_)}i.is_init=!0,i.async_write_data()}e&&e(t)})},e.prototype.async_write_data=function(i){a.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.EVENT_DATA_CHANGE="hero_data_change",e.HERO_UPGRADE="hero_upgrade",e.HERO_UPGRADE_STAR="hero_upgrade_star",e}(o.StorageBase);i.HeroData=s,cc._RF.pop()},{GameManager:"GameManager",StartData:"StartData",StorageBase:"StorageBase"}],HeroInfo:[function(t,e,i){"use strict";cc._RF.push(e,"36efbqenihM477DNc0k4Vcw","HeroInfo");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.HeroInfo=void 0;var o=t("ChannelManager"),r=t("Constants"),s=t("GameManager"),c=t("GameModule"),_=t("Utils"),d=cc._decorator,l=d.ccclass,u=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.close_btn=null,e.name_spr=null,e.hero_spr=null,e.lv_lbl=null,e.star_node_array=[],e.desc_lbl=null,e.damage_lbl=null,e.speed_lbl=null,e.range_lbl=null,e.crit_lbl=null,e.color_node=null,e.property_bg_node=null,e.property_node_array=[],e}return n(e,t),e.prototype.onEnable=function(){s.gm.channel.show_banner_ad(o.BANNER_AD_TYPE.ALL),this.args=s.gm.ui.get_module_args(s.gm.const.HeroInfo.key),this.update_view()},e.prototype.update_view=function(){var t=this.args.data;this.lv_lbl.string="LV."+t.lv;var e=s.gm.config.get_row_data("HeroConfigData",t.id.toString());e&&(this.desc_lbl.string=e.desc);for(var i=0;i<this.star_node_array.length;i++)this.star_node_array[i].active=t.star>i;var n=s.gm.const.HERO_COLOR_ARRAY[t.star-1],a=s.gm.const.SKILL_COLOR_ARRAY[t.star-1];for(this.color_node.color=n,this.property_bg_node.color=n,i=0;i<this.property_node_array.length;i++)this.property_node_array[i].color=a;_.Utils.async_set_sprite_frame(this.name_spr,r.BundleName.COMMON,"res/hero/name_"+t.id),_.Utils.async_set_sprite_frame(this.hero_spr,r.BundleName.COMMON,"res/hero/hero_"+t.id);var o=s.gm.config.get_row_data("HeroLevelConfigData",t.id.toString(),t.lv.toString()),c=s.gm.config.get_row_data("HeroStarConfigData",t.id.toString(),t.star.toString());o&&c&&(this.damage_lbl.string=(c.attack+o.attack).toString(),this.speed_lbl.string=c.attack_interval.toString(),this.range_lbl.string=c.attack_range.toString(),this.crit_lbl.string=(100*c.crit).toFixed(1)+"%")},e.prototype.onDisable=function(){s.gm.channel.hide_banner_ad(o.BANNER_AD_TYPE.ALL),s.gm.ui.clear_module_args(s.gm.const.HeroInfo.key)},e.prototype.editor_on_button_click_handler=function(t){t.target==this.close_btn.node&&s.gm.ui.async_hide_module(s.gm.const.HeroInfo)},a([u(cc.Button)],e.prototype,"close_btn",void 0),a([u(cc.Sprite)],e.prototype,"name_spr",void 0),a([u(cc.Sprite)],e.prototype,"hero_spr",void 0),a([u(cc.Label)],e.prototype,"lv_lbl",void 0),a([u([cc.Node])],e.prototype,"star_node_array",void 0),a([u(cc.Label)],e.prototype,"desc_lbl",void 0),a([u(cc.Label)],e.prototype,"damage_lbl",void 0),a([u(cc.Label)],e.prototype,"speed_lbl",void 0),a([u(cc.Label)],e.prototype,"range_lbl",void 0),a([u(cc.Label)],e.prototype,"crit_lbl",void 0),a([u(cc.Node)],e.prototype,"color_node",void 0),a([u(cc.Node)],e.prototype,"property_bg_node",void 0),a([u([cc.Node])],e.prototype,"property_node_array",void 0),a([l],e)}(c.GameModule);i.HeroInfo=h,cc._RF.pop()},{ChannelManager:"ChannelManager",Constants:"Constants",GameManager:"GameManager",GameModule:"GameModule",Utils:"Utils"}],Hero:[function(t,e,i){"use strict";cc._RF.push(e,"2886eJxWIFCUoLU6pp5g9ty","Hero");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Hero=void 0;var o=t("ChannelManager"),r=t("HeroData"),s=t("GameManager"),c=t("GameModule"),_=t("ListView"),d=cc._decorator,l=d.ccclass,u=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.close_btn=null,e.hero_list=null,e}return n(e,t),e.prototype.onEnable=function(){s.gm.channel.show_banner_ad(o.BANNER_AD_TYPE.ALL),s.gm.ui.start.auto_pause(),s.gm.data.event_emitter.on(r.HeroData.HERO_UPGRADE,this.on_hero_upgrade_handler,this),this.update_view()},e.prototype.update_view=function(){this.hero_list.setData(s.gm.data.hero_data.hero_data_array)},e.prototype.onDisable=function(){s.gm.channel.hide_banner_ad(o.BANNER_AD_TYPE.ALL),s.gm.data.event_emitter.off(r.HeroData.HERO_UPGRADE,this.on_hero_upgrade_handler,this),this.hero_list.reset(),s.gm.ui.start.resume_auto_pause()},e.prototype.editor_on_button_click_handler=function(t){t.target==this.close_btn.node&&s.gm.ui.async_hide_module(s.gm.const.Hero)},e.prototype.on_hero_upgrade_handler=function(){this.update_view()},a([u(cc.Button)],e.prototype,"close_btn",void 0),a([u(_.ListView)],e.prototype,"hero_list",void 0),a([l],e)}(c.GameModule);i.Hero=h,cc._RF.pop()},{ChannelManager:"ChannelManager",GameManager:"GameManager",GameModule:"GameModule",HeroData:"HeroData",ListView:"ListView"}],IcoNative:[function(t,e,i){"use strict";cc._RF.push(e,"1e8cevMl4RDorOLCGbWC4Fk","IcoNative");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.IcoNative=void 0;var o=t("GameManager"),r=t("NodePoolItem"),s=cc._decorator,c=s.ccclass,_=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.containLayout=null,e}return n(e,t),e.prototype.onEnable=function(){o.gm.channel.show_ico_native(this.containLayout)},e.prototype.clickBannerAd=function(){},e.prototype.closeBannerAd=function(){},a([_(cc.Node)],e.prototype,"containLayout",void 0),a([c],e)}(r.NodePoolItem);i.IcoNative=d,cc._RF.pop()},{GameManager:"GameManager",NodePoolItem:"NodePoolItem"}],ItemRender:[function(t,e,i){"use strict";cc._RF.push(e,"8aa52sA+KRLDqfC29Itq/0C","ItemRender");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.ItemRenderVO=i.ItemRender=void 0;var o=t("ListViewItem"),r=cc._decorator,s=r.ccclass,c=r.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.select_node=null,e.num_lbl=null,e}return n(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.num_lbl.string=t.id.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"select",{set:function(t){this._select=t,this.select_node.active=t},enumerable:!1,configurable:!0}),e.prototype.reset=function(){t.prototype.reset.call(this),this._data=null},a([c(cc.Node)],e.prototype,"select_node",void 0),a([c(cc.Label)],e.prototype,"num_lbl",void 0),a([s],e)}(o.ListViewItem);i.ItemRender=_,i.ItemRenderVO=function(){this.id=0},cc._RF.pop()},{ListViewItem:"ListViewItem"}],Launch:[function(t,e,i){"use strict";cc._RF.push(e,"3e612xbhttJrpzxb2seBjF3","Launch");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Launch=void 0;var o=t("NetUtils"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.director.once(cc.Director.EVENT_AFTER_DRAW,function(){t.scheduleOnce(function(){t.after_first_draw()})},this),cc.game.on(cc.game.EVENT_HIDE,this.on_game_hide,this),cc.game.on(cc.game.EVENT_SHOW,this.on_game_show,this)},e.prototype.after_first_draw=function(){o.ReportData.instance.report_once_point(10010),cc.Canvas.instance.node.addComponent("GameMain")},e.prototype.onDestroy=function(){cc.game.on(cc.game.EVENT_HIDE,this.on_game_hide,this),cc.game.on(cc.game.EVENT_SHOW,this.on_game_show,this)},e.prototype.on_game_hide=function(){cc.log("\u5207\u6362\u5230\u540e\u53f0\uff0c\u6682\u505c\u6e38\u620f"),cc.game.pause()},e.prototype.on_game_show=function(){cc.log("\u5207\u6362\u5230\u540e\u53f0\uff0c\u6062\u590d\u6e38\u620f"),cc.game.resume()},a([s],e)}(cc.Component);i.Launch=c,cc._RF.pop()},{NetUtils:"NetUtils"}],ListViewItem:[function(t,e,i){"use strict";cc._RF.push(e,"e51a4rsGNVOeZetTHTm4BVb","ListViewItem");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.ListViewItem=void 0;var o=cc._decorator,r=o.ccclass;o.property;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._index=-1,e._select=!1,e._interactable=!0,e}return n(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"select",{get:function(){return this._select},set:function(t){this._select=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interactable",{get:function(){return this._interactable},set:function(t){this._interactable=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){null!=t&&(this._data=t)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._data=null,this._index=-1,this.select=!1,this.interactable=!0},e.prototype.release=function(){},a([r],e)}(cc.Component);i.ListViewItem=s,cc._RF.pop()},{}],ListView:[function(t,e,i){"use strict";cc._RF.push(e,"e2d79/bdqtI+JWXUuk2JLfb","ListView");var n,a=__extends,o=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.ListView=i.Direction=void 0;var r,s=cc._decorator,c=s.ccclass,_=s.property,d=s.menu,l=t("ListViewItem");(r=n=i.Direction||(i.Direction={}))[r.HORIZONTAL=0]="HORIZONTAL",r[r.VERTICAL=1]="VERTICAL",r[r.NONE=2]="NONE";var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.content=null,e.itemPrefab=null,e.contentBrother=null,e.selectBoxPrefab=null,e.isMultiSelect=!1,e.positionNodeList=[],e._spacing=cc.Vec2.ZERO,e._groupSize=0,e._direction=n.NONE,e._maxItemCount=0,e._itemList=[],e._dataList=[],e._selectIndexList={},e._selectIndex=-1,e._selectBoxList={},e._selectBoxPool=new cc.NodePool,e._placeholderList={},e._placeholderPool=new cc.NodePool,e._lastStartIndex=0,e._curStartIndex=0,e._itemSizeList={},e}return a(e,t),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=t,this.updateProperty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupSize",{get:function(){return this._groupSize},set:function(t){this._groupSize=t,this.updateProperty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing=t,this.updateProperty()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.updateProperty()},e.prototype.onEnable=function(){this.scrollView&&(this.scrollView.node.on("scroll-began",this.onListScrollHandler,this),this.scrollView.node.on("scrolling",this.onListScrollHandler,this),this.scrollView.node.on("scroll-ended",this.onListScrollHandler,this)),this.contentBrother&&this.selectBoxPrefab&&(this.content.on("position-changed",this.onNodeChangeHandler,this),this.content.on("size-changed",this.onNodeChangeHandler,this))},e.prototype.preCreateItems=function(t,e){if(void 0===e&&(e=!0),!(t<0)){if(e){var i=Math.min(t,this.getMaxItemCount());if(this._itemList.length<i)for(var n=this._itemList.length;n<i;n++)this.createItem(!1)}else{var a=void 0;for(n=0;n<this.content.childrenCount;n++)a=this.content.children[n].getComponent(l.ListViewItem),this._itemList.push(a)}this._itemList.length!=this.content.childrenCount&&cc.warn("item \u5217\u8868\u957f\u5ea6\u4e0e\u5b69\u5b50\u8282\u70b9\u6570\u4e0d\u76f8\u7b49")}},e.prototype.getPositionByIndex=function(t){if(t<0)return cc.warn("\u7d22\u5f15\u4e0d\u80fd\u5c0f\u4e8e0"),cc.Vec2.ZERO;this._itemSizeList.hasOwnProperty(t.toString())||cc.warn("error index:%d",t),Math.floor(t/this._groupSize);var e=Math.floor(t%this._groupSize),i=cc.Vec2.ZERO;this._direction==n.HORIZONTAL?(i.x=this.calcX(0,t,this._groupSize,this._spacing.x),i.y=-1*this.calcY(t-e,t,1,this._spacing.y)):this._direction==n.VERTICAL&&(i.x=this.calcX(t-e,t,1,this._spacing.x),i.y=-1*this.calcY(0,t,this._groupSize,this._spacing.y));var a=cc.v2(0,1),o=this.content.getAnchorPoint();return a.x==o.x&&a.y==o.y||(i=this.convertAnchor(i,this.getContentSize(),a,o)),i},e.prototype.calcX=function(t,e,i,n){for(var a=0,o=Math.floor(e/i),r=0,s=t;s<=e;s+=i)r=this._itemSizeList[s]?this._itemSizeList[s].width:this.itemPrefab.data.width,a+=s<o*i?r+n:.5*r;return a},e.prototype.calcY=function(t,e,i,n){for(var a=0,o=Math.floor(e/i),r=0,s=t;s<=e;s+=i)r=this._itemSizeList[s]?this._itemSizeList[s].height:this.itemPrefab.data.height,a+=s<o*i?r+n:.5*r;return a},e.prototype.getItemData=function(t){var e=this._lastStartIndex+this._maxItemCount-1;if(!(t<this._lastStartIndex||t>e))return this._itemList[t%this._maxItemCount].data},e.prototype.setItemData=function(t,e){var i=this._lastStartIndex+this._maxItemCount-1;t<this._lastStartIndex||t>i||null==e||(this._dataList[t]=e,this._itemList[t%this._maxItemCount].data=e)},e.prototype.getItem=function(t){var e=this._lastStartIndex+this._maxItemCount-1;if(!(t<this._lastStartIndex||t>e))return this._itemList[t%this._maxItemCount]},Object.defineProperty(e.prototype,"selectIndex",{get:function(){return this._selectIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectIndexList",{get:function(){var t=[];for(var e in this._selectIndexList)t.push(parseInt(e));return t},enumerable:!1,configurable:!0}),e.prototype.getSelect=function(t){return this._selectIndexList[t]},e.prototype.setSelect=function(t,e){var i;t<0||this.getSelect(t)==e||(this._selectIndex=t,e?t<this._dataList.length&&(this._selectIndexList[t]=!0,this.selectBoxPrefab&&this.contentBrother&&(this._selectBoxList[t]||(this._selectBoxPool.size()>0?this._selectBoxList[t]=this._selectBoxPool.get():this._selectBoxList[t]=cc.instantiate(this.selectBoxPrefab),this.contentBrother.addChild(this._selectBoxList[t],1)),this._direction!=n.NONE?(this._selectBoxList[t].setPosition(this.getPositionByIndex(t)),(i=this.getItem(t))&&(i.select=!0)):(i=this.getItem(t))&&this._selectBoxList[t].setPosition(i.node.getPosition()))):((i=this.getItem(t))&&(i.select=!1),delete this._selectIndexList[t],this.selectBoxPrefab&&this.contentBrother&&this._selectBoxList[t]&&(this._selectBoxPool.put(this._selectBoxList[t]),delete this._selectBoxList[t])),t<this._dataList.length&&this.dispatchEvent("item-selected",!0,e))},e.prototype.getData=function(){return this._dataList},e.prototype.setData=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!(null==t||this._groupSize<0)){var n;this._dataList=t,this._maxItemCount=this.getMaxItemCount(),this.content.setContentSize(this.getContentSize());for(var a=0;a<t.length;a++)(n=this._itemList[a%this._maxItemCount])||(n=this.createItem(!0,e)),n.node.active=!0,a>=this._lastStartIndex&&a<this._lastStartIndex+this._maxItemCount&&this.updateItemByIndex(a),n.interactable&&(n.node.off("touchend",this.onItemClickHandler,this),n.node.on("touchend",this.onItemClickHandler,this),cc.sys.isMobile||(n.node.off(cc.Node.EventType.MOUSE_ENTER,this.onItemMouseEnterHandler,this),n.node.on(cc.Node.EventType.MOUSE_ENTER,this.onItemMouseEnterHandler,this),n.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onItemMouseLeaveHandler,this),n.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onItemMouseLeaveHandler,this)));for(var o=this._lastStartIndex+this._itemList.length-1;o>=t.length;o--)o>=0&&o<this._itemList.length&&(this._itemList[o].reset(),this._itemList[o].node.active=!1)}},e.prototype.reset=function(t){if(void 0===t&&(t=!0),t){for(var e in this._selectIndex>-1&&(this.setSelect(this._selectIndex,!1),this._selectIndex=-1),this._selectIndexList)this.setSelect(parseInt(e),!1);this._itemSizeList={},this._lastStartIndex=0,this.scrollView&&(this.scrollView.stopAutoScroll(),this._direction==n.VERTICAL?this.scrollView.content.height=0:this._direction==n.HORIZONTAL&&(this.scrollView.content.width=0))}for(var e in this._placeholderList)this._placeholderPool.put(this._placeholderList[e]),delete this._placeholderList[e];for(e=this._itemList.length-1;e>=0;e--)this._itemList[e].interactable&&this._itemList[e].node.off("touchend",this.onItemClickHandler,this),this._itemList[e].reset(),t&&(this._itemList[e].node.active=!1)},e.prototype.release=function(){this.reset(),this._dataList=[];for(var t=this._itemList.length-1;t>=0;t--)this._itemList[t].release(),this._itemList.pop().node.destroy();this._selectBoxPool.clear(),this._placeholderPool.clear()},e.prototype.onDisable=function(){this.scrollView&&(this.scrollView.node.off("scroll-began",this.onListScrollHandler,this),this.scrollView.node.off("scrolling",this.onListScrollHandler,this),this.scrollView.node.off("scroll-ended",this.onListScrollHandler,this)),this.contentBrother&&this.selectBoxPrefab&&(this.content.off("position-changed",this.onNodeChangeHandler,this),this.content.off("size-changed",this.onNodeChangeHandler,this))},e.prototype.onListScrollHandler=function(){var t=this.scrollView.content.getPosition();this.scrollView.content.setPosition(Math.floor(t.x),Math.floor(t.y)),this.updateItemList()},e.prototype.updateItemList=function(t){if(void 0===t&&(t=!1),this._curStartIndex=this.getStartIndexByOffset(this.scrollView.getScrollOffset()),t){for(var e=Math.min(this._curStartIndex+this._maxItemCount,this._dataList.length),i=this._curStartIndex;i<e;i++)this.updateItemByIndex(i);this.content.setContentSize(this.getContentSize()),this._lastStartIndex=this._curStartIndex}else if(this._curStartIndex!=this._lastStartIndex){for(i=this._curStartIndex;i<this._curStartIndex+this._maxItemCount;i++)i>=0&&i<this._dataList.length&&(i<this._lastStartIndex||i>=this._lastStartIndex+this._maxItemCount)&&(this.updateItemByIndex(i),this.content.setContentSize(this.getContentSize()));this._lastStartIndex=this._curStartIndex}},e.prototype.updateItemByIndex=function(t){var e=this._itemList[t%this._maxItemCount];e&&(e.reset(),e.index=t,e.data=this._dataList[t],e.select=this._selectIndexList[t],this._itemSizeList[t]=e.node.getContentSize(),this._direction!=n.NONE?e.node.setPosition(this.getPositionByIndex(t)):e.node.setPosition(this.positionNodeList[t].position))},e.prototype.scrollToLeft=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),t<0||!this.scrollView||(this.scrollView.stopAutoScroll(),this.scrollView.scrollToLeft(t,e),0==t&&this.updateItemList())},e.prototype.scrollToRight=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),t<0||!this.scrollView||(this.scrollView.stopAutoScroll(),this.scrollView.scrollToRight(t,e),0==t&&this.updateItemList())},e.prototype.scrollToTop=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),t<0||!this.scrollView||0==this._dataList.length||(this.scrollView.stopAutoScroll(),this.scrollView.scrollToTop(t,e),0==t&&this.updateItemList())},e.prototype.scrollToBottom=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),t<0||!this.scrollView||(this.scrollView.stopAutoScroll(),this.scrollView.scrollToBottom(t,e),0==t&&this.updateItemList())},e.prototype.scrollToIndex=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!0),this._groupSize<=0||!this.scrollView||t<0||t>=this._dataList.length||(this.scrollView.stopAutoScroll(),this.scrollView.scrollToOffset(this.getOffsetByIndex(t),e,i),0==e&&this.updateItemList())},e.prototype.getOffsetByIndex=function(t){if(!(this._groupSize<=0)&&this.scrollView){var e=cc.v2(),i=this.scrollView.getMaxScrollOffset();if(this._direction==n.HORIZONTAL){var a=Math.floor(t/this._groupSize),o=this._itemSizeList[a*this._groupSize]?this._itemSizeList[a*this._groupSize].width:this.itemPrefab.data.width;e.x=Math.min(this.calcX(0,t,this._groupSize,this._spacing.x)-.5*o,i.x),e.y=i.y}else if(this._direction==n.VERTICAL){var r=Math.floor(t/this._groupSize),s=this._itemSizeList[r*this._groupSize]?this._itemSizeList[r*this._groupSize].height:this.itemPrefab.data.height;e.x=i.x,e.y=Math.min(this.calcY(0,t,this._groupSize,this._spacing.y)-.5*s,i.y)}return e}},e.prototype.getStartIndexByOffset=function(t){var e=0,i=0;if(this._direction==n.VERTICAL){for(var a=0;a<this._dataList.length;a+=this.groupSize)if((i+=(this._itemSizeList[a]?this._itemSizeList[a].height:this.itemPrefab.data.height)+this._spacing.y)>t.y){e=a;break}}else if(this._direction==n.HORIZONTAL)for(a=0;a<this._dataList.length;a+=this.groupSize)if((i+=(this._itemSizeList[a]?this._itemSizeList[a].width:this.itemPrefab.data.width)+this._spacing.x)>-t.x){e=a;break}return Math.min(Math.max(e,0),this._dataList.length-1)},e.prototype.updateProperty=function(){this.content&&this.itemPrefab&&this.scrollView&&(this.scrollView.horizontal=this._direction==n.HORIZONTAL,this.scrollView.vertical=this._direction==n.VERTICAL)},e.prototype.getMaxItemCount=function(t){if(void 0===t&&(t=1),!(this._groupSize<0)){if(0==this._groupSize)return this._dataList.length;var e=0;return this._direction==n.HORIZONTAL?e=(t+Math.ceil(this.node.width/(this.itemPrefab.data.width+this._spacing.x)))*this._groupSize:this._direction==n.VERTICAL?e=(t+Math.ceil(this.node.height/(this.itemPrefab.data.height+this._spacing.y)))*this._groupSize:this._direction==n.NONE&&(e=this._dataList.length),e}},e.prototype.getContentSize=function(){if(this._groupSize<=0||!this._dataList)return cc.Size.ZERO;for(var t=Math.max(Math.ceil(this._dataList.length/this._groupSize)*this._groupSize,this._maxItemCount),e=0;e<t;e++)this._itemSizeList[e]||(this._itemSizeList[e]=this.itemPrefab.data.getContentSize());var i=cc.Size.ZERO,a=0,o=0;return this._direction==n.HORIZONTAL?(o=Math.max(this._groupSize-1,0),a=Math.max(Math.floor((this._dataList.length-1)/this._groupSize),0),i.width=this.calcX(0,this._dataList.length-1,this._groupSize,this._spacing.x)+.5*this._itemSizeList[a*this._groupSize].width,i.height=this.calcY(0,o,1,this._spacing.y)+.5*this._itemSizeList[o].height):this._direction==n.VERTICAL&&(a=Math.max(this._groupSize-1,0),o=Math.max(Math.floor((this._dataList.length-1)/this._groupSize),0),i.width=this.calcX(0,a,1,this._spacing.x)+.5*this._itemSizeList[a].width,i.height=this.calcY(0,this._dataList.length-1,this._groupSize,this._spacing.y)+.5*this._itemSizeList[o*this._groupSize].height),i},e.prototype.convertAnchor=function(t,e,i,n){if(null==t||null==e||null==i||null==n||i.x==n.x&&i.y==n.y)return t||cc.Vec2.ZERO;var a=cc.v2(i.x-n.x,i.y-n.y);return cc.v2(t.x+a.x*e.width,t.y+a.y*e.height)},e.prototype.dispatchEvent=function(t,e,i){var n=new cc.Event.EventCustom(t,e);n.detail=i,this.node.dispatchEvent(n)},e.prototype.onItemClickHandler=function(t){var e=t.target.getComponent(l.ListViewItem);e&&(this.isMultiSelect?this.setSelect(e.index,!this.getSelect(e.index)):(this.setSelect(this._selectIndex,!1),this.setSelect(e.index,!0)),this.dispatchEvent("item-click",!0,e))},e.prototype.onItemMouseEnterHandler=function(t){var e=t.target.getComponent(l.ListViewItem);e&&this.dispatchEvent("item-mouse-enter",!0,e)},e.prototype.onItemMouseLeaveHandler=function(t){var e=t.target.getComponent(l.ListViewItem);e&&this.dispatchEvent("item-mouse-leave",!0,e)},e.prototype.onNodeChangeHandler=function(){this.contentBrother.setPosition(this.content.getPosition()),this.contentBrother.setContentSize(this.content.getContentSize())},e.prototype.createItem=function(t,e){var i,n=null;return(i=(n=cc.instantiate(this.itemPrefab)).getComponent(l.ListViewItem))||cc.error("\u6ca1\u6709\u627e\u5230\u7ee7\u627fListViewItem\u7684\u7ec4\u4ef6"),i.init.apply(i,e),n.active=t,this.content.addChild(n),this._itemList.push(i),i},e.prototype.deleteItem=function(t){t<0||t>=this._itemList.length||(this._itemList[t].node.destroy(),this._itemList.splice(t,1),this.updateProperty())},o([_({type:cc.ScrollView,tooltip:"\u6eda\u52a8\u89c6\u56fe\uff0c\u53ef\u7a7a"})],e.prototype,"scrollView",void 0),o([_({type:cc.Node,tooltip:"Item\u7684\u7236\u8282\u70b9"})],e.prototype,"content",void 0),o([_({type:cc.Prefab,tooltip:"item\u6a21\u677f"})],e.prototype,"itemPrefab",void 0),o([_({type:cc.Node,tooltip:"\u9009\u4e2d\u6846\u548c\u5360\u4f4d\u7b26\u7684\u7236\u8282\u70b9"})],e.prototype,"contentBrother",void 0),o([_({type:cc.Prefab,tooltip:"\u9009\u4e2d\u6846\u6a21\u677f\uff0c\u53ef\u7a7a"})],e.prototype,"selectBoxPrefab",void 0),o([_({tooltip:"\u662f\u5426\u53ef\u4ee5\u591a\u9009,\u5355\u9009\u4e0d\u80fd\u53d6\u6d88\u9009\u62e9\uff0c\u591a\u9009\u53ef\u4ee5\u53d6\u6d88\u9009\u62e9"})],e.prototype,"isMultiSelect",void 0),o([_({type:cc.Enum(n),tooltip:"\u5217\u8868\u6eda\u52a8\u65b9\u5411"})],e.prototype,"direction",null),o([_({type:cc.Integer,min:0,tooltip:"\u7ec4\u7684\u5927\u5c0f\uff0c\u5782\u76f4\u6eda\u52a8\u65f6\u4e00\u884c\u4e3a\u4e00\u7ec4\uff0c\u6c34\u5e73\u6eda\u52a8\u65f6\u4e00\u5217\u4e3a\u4e00\u7ec4"})],e.prototype,"groupSize",null),o([_({tooltip:"item\u95f4\u8ddd, X\u884c\u95f4\u8ddd Y\u5217\u95f4\u8ddd"})],e.prototype,"spacing",null),o([_({type:cc.Node,tooltip:"\u5750\u6807\u5217\u8868"})],e.prototype,"positionNodeList",void 0),o([_],e.prototype,"_spacing",void 0),o([_],e.prototype,"_groupSize",void 0),o([_],e.prototype,"_direction",void 0),o([c,d("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ListView")],e)}(cc.Component);i.ListView=u,cc._RF.pop()},{ListViewItem:"ListViewItem"}],Loading:[function(t,e,i){"use strict";cc._RF.push(e,"0247eMkOGZLAr6QYxt/79Uq","Loading");var n,a=__extends,o=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Loading=i.LoadingState=void 0;var r,s=t("GameModule"),c=cc._decorator,_=c.ccclass,d=c.property;(r=n=i.LoadingState||(i.LoadingState={}))[r.START=0]="START",r[r.START_FULL=1]="START_FULL",r[r.COMPLETE=2]="COMPLETE";var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prompt_lbl=null,e.bar_node=null,e.bar_node_2=null,e.start_node=null,e.start_full_node=null,e._low_speed=20,e._low_speed_2=100,e._total_len=0,e._total_len_2=0,e._high_speed=500,e}return a(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state!=t&&(this._state=t,t==n.START||t==n.START_FULL?this.start_load():t==n.COMPLETE&&this.complete_load())},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this._state==n.COMPLETE?(this._total_len+=t*this._high_speed,this._total_len_2+=t*this._high_speed,this.bar_node.progress=Math.floor(this._total_len)/100,this.bar_node_2.progress=this._total_len_2%100/100,this._total_len>=100&&(this.node.active=!1),cc.sys.platform==cc.sys.OPPO_GAME&&qg.setLoadingProgress({progress:this._total_len})):(this._total_len<90&&(this._total_len+=t*this._low_speed,this.bar_node.progress=Math.floor(this._total_len)/100),this._total_len_2+=t*this._low_speed_2,this.bar_node_2.progress=this._total_len_2%100/100)},e.prototype.start_load=function(){this.node.active=!0,this.start_node.active=this._state==n.START,this.start_full_node.active=this._state==n.START_FULL,this._total_len=0,this._total_len_2=0},e.prototype.complete_load=function(){this.start_node.active&&(this.node.active=!1)},e.prototype.onDisable=function(){this.start_node.active=!1,this.start_full_node.active=!1,cc.sys.platform==cc.sys.OPPO_GAME&&qg.loadingComplete({})},o([d(cc.Label)],e.prototype,"prompt_lbl",void 0),o([d(cc.ProgressBar)],e.prototype,"bar_node",void 0),o([d(cc.ProgressBar)],e.prototype,"bar_node_2",void 0),o([d(cc.Node)],e.prototype,"start_node",void 0),o([d(cc.Node)],e.prototype,"start_full_node",void 0),o([_],e)}(s.GameModule);i.Loading=l,cc._RF.pop()},{GameModule:"GameModule"}],LongTouchButton:[function(t,e,i){"use strict";cc._RF.push(e,"ea103EEXglB/ZfV0oOccf71","LongTouchButton");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.LongTouchButton=void 0;var o=cc._decorator,r=o.ccclass,s=o.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.5,e.isOnce=!0,e.canMouse=!1,e._isLongTouch=!1,e._isTiming=!1,e._totalTime=0,e}return n(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),cc.sys.isBrowser&&this.canMouse&&(this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.update=function(t){this._isTiming&&(this._totalTime+=t,this._totalTime>=this.duration&&(this._isLongTouch=!0,null!=this._longTouchCb&&(this._longTouchCb.call(this._target,this),this.isOnce?this._isTiming=!1:this._totalTime=0)))},Object.defineProperty(e.prototype,"isLongTouch",{get:function(){return this._isLongTouch},enumerable:!1,configurable:!0}),e.prototype.bindCb=function(t,e,i){void 0===i&&(i=null),this._longTouchCb=t,this._target=e,this._longTouchEndCb=i},e.prototype.unbindCb=function(){this._longTouchCb=null,this._longTouchEndCb=null,this._target=null},e.prototype.onTouchStart=function(){this.clear(),this._isTiming=!0},e.prototype.onTouchEnd=function(){this._isLongTouch?null!=this._longTouchEndCb&&this._longTouchEndCb.call(this._target,this):null!=this._longTouchCb&&this._longTouchCb.call(this._target,this),this.clear()},e.prototype.onTouchCancel=function(){cc.sys.isBrowser&&this.canMouse&&null!=this._longTouchEndCb&&this._longTouchEndCb.call(this._target,this),this.clear()},e.prototype.onMouseEnter=function(){this.clear(),this._isTiming=!0},e.prototype.onMouseLeave=function(){null!=this._longTouchEndCb&&this._longTouchEndCb.call(this._target,this),this.clear()},e.prototype.clear=function(){this._isLongTouch=!1,this._isTiming=!1,this._totalTime=0},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),cc.sys.isBrowser&&this.canMouse&&(this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this)),this.clear()},a([s()],e.prototype,"duration",void 0),a([s()],e.prototype,"isOnce",void 0),a([s()],e.prototype,"canMouse",void 0),a([r],e)}(cc.Component);i.LongTouchButton=c,cc._RF.pop()},{}],LuckyWheelData:[function(t,e,i){"use strict";cc._RF.push(e,"700ecithoRCF7QCKXQsC/fC","LuckyWheelData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.LuckyWheelData=void 0;var a=t("GameManager"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="LuckyWheelData",e.left_lucky_wheel_free_count=0,e.left_lucky_wheel_video_count=0,e.lastRewardIndex=0,e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){i.is_init||(i.is_init=!0,i.left_lucky_wheel_free_count=a.gm.const.MAX_LUCKY_WHEEL_FREE_COUNT,i.left_lucky_wheel_video_count=a.gm.const.MAX_LUCKY_WHEEL_VIDEO_COUNT,i.async_write_data()),e&&e(t)})},e.prototype.async_write_data=function(i){a.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.EVENT_DATA_CHANGE="hero_data_change",e}(t("StorageBase").StorageBase);i.LuckyWheelData=o,cc._RF.pop()},{GameManager:"GameManager",StorageBase:"StorageBase"}],MainData:[function(t,e,i){"use strict";cc._RF.push(e,"91845OZl6VM2YrjcYfjfJ3P","MainData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.MainData=void 0;var a=t("NetUtils"),o=t("Constants"),r=t("GameManager"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="MainData",e.uuid="",e.new_store_timestamp=Date.now(),e.store_timestamp=0,e.is_music_mute=!1,e.is_effect_mute=!1,e.is_vibrate=!1,e.ab_test=o.ABTest.A,e.has_watch_story=!0,e.story_reward=0,e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){i.is_init||(i.uuid=a.NetUtils.generate_uuid(),i.ab_test=Math.floor(i.new_store_timestamp/1e3)%2==0?o.ABTest.A:o.ABTest.B,i.has_watch_story=!1,i.story_reward=0,i.is_init=!0,i.async_write_data()),r.gm.audio.music_mute=i.is_music_mute,r.gm.audio.music_volume=r.gm.audio.music_mute?0:.3,r.gm.audio.effect_mute=i.is_effect_mute,r.gm.audio.effect_volume=r.gm.audio.effect_mute?0:.5,e&&e(t)})},e.prototype.async_write_data=function(i){r.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),this.store_timestamp=Date.now(),this.is_music_mute=r.gm.audio.music_mute,this.is_effect_mute=r.gm.audio.effect_mute,t.prototype.async_write_data.call(this,i)},e.EVENT_DATA_CHANGE="main_data_change",e}(t("StorageBase").StorageBase);i.MainData=s,cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",NetUtils:"NetUtils",StorageBase:"StorageBase"}],NetUtils:[function(t,e,i){"use strict";cc._RF.push(e,"b0768y0quhP/51gBzIqaTsG","NetUtils");var n=__spreadArrays;Object.defineProperty(i,"__esModule",{value:!0}),i.NetUtils=i.ReportData=void 0;var a=function(){function t(){this.PREFIX="P1_",this.STORAGE_KEY="ReportData",this.only_once_point_map={},this.total_count_point_map={},this.read_data()}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.report_once_point=function(t){this.only_once_point_map[t]||(this.only_once_point_map[t]=!0,this.write_data(),o.report_point(t))},t.prototype.report_point=function(t){this.total_count_point_map[t]||(this.total_count_point_map[t]=0),this.total_count_point_map[t]++,this.write_data(),o.report_point(t,this.total_count_point_map[t])},t.prototype.write_data=function(t){var e=JSON.stringify(this,t);cc.sys.localStorage.setItem(this.PREFIX+this.STORAGE_KEY,e)},t.prototype.read_data=function(){var t=cc.sys.localStorage.getItem(this.PREFIX+this.STORAGE_KEY);if(t){var e=null;try{e=JSON.parse(t)}catch(t){return void console.error("\u73a9\u5bb6\u6570\u636e\u53cd\u5e8f\u5217\u5316\u5931\u8d25")}for(var i in e)if(null!=e[i])if(e[i]instanceof Array)for(this[i]=[];e[i].length>0;)this[i].push(e[i].shift());else this[i]=e[i]}},t.prototype.clear_data=function(){cc.sys.localStorage.removeItem(this.PREFIX+this.STORAGE_KEY)},t._instance=null,t}();i.ReportData=a;var o=function(){function t(){}return t.http_request=function(t,e,i,n,a){void 0===i&&(i=null),void 0===n&&(n=null),void 0===a&&(a=null);var o=new XMLHttpRequest;if(o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<400){var t=null;try{t=JSON.parse(o.responseText)}catch(e){t=o.responseText}console.log(t),null!=i&&i(t,o)}else 4==o.readyState&&(o.status<100||o.status>=400)&&null!=n&&n(o)},null!=a)for(var r in a)o[r]=a[r];console.log("request: "+t),o.open(e,t,!0),o.send()},t.server_http_request=function(t,e,i){for(var a,o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&s.status>=200&&s.status<400){var n=JSON.parse(s.responseText);t&&t.apply(e,[n]),console.log(s.responseText)}else 4==s.readyState&&(s.status<100||s.status>=400)?console.error("\u8bf7\u6c42\u5931\u8d25"+i):console.log("\u8bf7\u6c42\u5931\u8d251: "+i)};var c=(a=cc.js).formatStr.apply(a,n([i],o));console.log("request: "+c),s.open("GET",c,!0),s.send()},t.generate_uuid=function(){return Date.now().toString(36)+"&"+Math.random().toString(36).substr(2)},Object.defineProperty(t,"game_uuid",{get:function(){return window.game_uuid||(window.game_uuid=this.generate_uuid(),cc.sys.localStorage.setItem(this.PREFIX+this.STORAGE_KEY,window.game_uuid)),window.game_uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t,"channel_name",{get:function(){var t="unknown";return cc.sys.platform==cc.sys.WECHAT_GAME?null!=window.tt?t="tt-game":null!=window.qq?t="qq-game":null!=window.wx&&(t="wechat-game"):t=cc.sys.platform==cc.sys.BYTEDANCE_GAME?"tt-game":"unknown",t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"game_app_name",{get:function(){var t=this.channel_name;if("tt-game"==t){if(window.tt&&window.tt.getSystemInfoSync)return window.tt.getSystemInfoSync().appName}else{if("qq-game"==t)return"qq";if("wechat-game"==t)return"wechat"}return"unknown"},enumerable:!1,configurable:!0}),t.report_point=function(t,e){void 0===e&&(e=1),this.is_cloud_test()&&cc.log("\u5f53\u524d\u4e3a\u4e91\u6d4b\u8bd5\u73af\u5883\uff0c\u4e0d\u4e0a\u62a5\u57cb\u70b9")},t.is_cloud_test=function(){return!("undefined"==typeof GameGlobal||void 0===GameGlobal.isTest||!GameGlobal.isTest)},t.HEAD="HEAD",t.GET="GET",t.POST="POST",t.PREFIX="P1_",t.STORAGE_KEY="GameUUID",t}();i.NetUtils=o,cc._RF.pop()},{}],NodePoolItem:[function(t,e,i){"use strict";cc._RF.push(e,"a53144/K8xAUZJpLvT42mtz","NodePoolItem");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.NodePoolItem=void 0;var o=t("GameObject"),r=cc._decorator,s=r.ccclass,c=r.menu,_=r.disallowMultiple,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.__can_reuse=!0,e.is_can_use=!0,e.load_url="",e}return n(e,t),e.prototype.destroy=function(){var e=t.prototype.destroy.call(this);return this.__can_reuse?this.unuse():this.node&&this.node.isValid&&this.node.destroy(),e},e.prototype.reuse=function(){this.node.position=cc.Vec3.ZERO,this.node.scale=1,this.node.angle=0,this.node.opacity=255,this.node.zIndex=0,this.is_can_use=!0},e.prototype.unuse=function(){this.is_can_use=!1},a([s,c("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7ec4\u4ef6/NodePoolItem"),_],e)}(o.GameObject);i.NodePoolItem=d,cc._RF.pop()},{GameObject:"GameObject"}],NodePoolManager:[function(t,e,i){"use strict";cc._RF.push(e,"80358i98MVOd65wbj8xIy2F","NodePoolManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.NodePoolManager=void 0;var n=t("NodePoolItem"),a=t("Utils"),o=function(){function t(){this._pools={}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,i,n){var a=this;void 0===n&&(n=0);var o=this.get_key(t,e),r=this._pools[o];r||""==o?cc.log("do not repeat init pool "+e):(r=new cc.NodePool(i),this._pools[o]=r,this.async_get_prefab(t,e,function(){for(var o=0;o<n;o++)r.put(a.get_instance_comp(t,e,i).node)}))},t.prototype.is_init=function(t,e){var i=this.get_key(t,e);return!(!this._pools[i]&&""!=e)},t.prototype.get_key=function(t,e){return t+"://"+e},t.prototype.async_get_prefab=function(t,e,i){a.Utils.async_get_bundle(t,function(t){var n=t.get(e,cc.Prefab);n?i(n):t.load(e,cc.Prefab,function(t,e){t?console.error(t):i(e)})})},t.prototype.get_instance_comp=function(t,e,i){var n=cc.assetManager.getBundle(t);if(n){var a=n.get(e,cc.Prefab);if(a){var o=cc.instantiate(a).getComponent(i);return o.load_url=e,o.bundle_name=t,o}}return cc.error("\u8c03\u7528\u524d\u8981\u4fdd\u8bc1\u8d44\u6e90\u5df2\u7ecf\u88ab\u52a0\u8f7d\u5b8c"),null},t.prototype.get=function(t,e,i){var n=this.get_key(t,e),a=this._pools[n];return a||(a=new cc.NodePool(i),this._pools[n]=a),a.size()>0?a.get().getComponent(i):this.get_instance_comp(t,e,i)},t.prototype.async_get=function(t,e,i,n){var a,o=this,r=this.get_key(t,e),s=this._pools[r];s||(s=new cc.NodePool(i),this._pools[r]=s),s.size()>0?(a=s.get(),n(a.getComponent(i))):this.async_get_prefab(t,e,function(){n(o.get_instance_comp(t,e,i))})},t.prototype.put=function(t){if(null!=t){var e=t.getComponent(n.NodePoolItem);if(e){var i=this.get_key(e.bundle_name,e.load_url),a=this._pools[i];a?(t.removeFromParent(!0),a.put(t)):cc.warn("pool not exist")}}},t.prototype.put_children=function(t){for(var e=t.childrenCount-1;e>=0;e--)this.put(t.children[e])},t.prototype.size=function(t,e){var i=this.get_key(t,e),n=this._pools[i];if(n)return n.size();cc.warn("pool not exist")},t.prototype.clear=function(t,e){var i=this.get_key(t,e),n=this._pools[i];n?n.clear():cc.warn("pool not exist")},t.prototype.check=function(){for(var t in this._pools)for(var e=this._pools[t]._pool,i=0;i<e.length;i++)e[i].parent&&cc.log(e[i])},t._instance=null,t}();i.NodePoolManager=o,cc._RF.pop()},{NodePoolItem:"NodePoolItem",Utils:"Utils"}],NoticeItem:[function(t,e,i){"use strict";cc._RF.push(e,"a49bb8/mLZKSKpE8+2PE+qq","NoticeItem");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.NoticeItem=void 0;var o=t("NodePoolItem"),r=t("GameManager"),s=cc._decorator,c=s.ccclass,_=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content_txt=null,e}return n(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){var e=this;this._data=t,this.content_txt.string=t,this.scheduleOnce(function(){r.gm.pool.put(e.node)},1)},enumerable:!1,configurable:!0}),e.prototype.unuse=function(){t.prototype.unuse.call(this),this._data=void 0,this.content_txt.string=""},a([_(cc.RichText)],e.prototype,"content_txt",void 0),a([c],e)}(o.NodePoolItem);i.NoticeItem=d,cc._RF.pop()},{GameManager:"GameManager",NodePoolItem:"NodePoolItem"}],Notice:[function(t,e,i){"use strict";cc._RF.push(e,"a3819DBTu9N5ZSfnQNB0Dn3","Notice");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Notice=void 0;var o=t("GameModule"),r=t("GameManager"),s=t("NoticeItem"),c=cc._decorator,_=c.ccclass,d=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notice_item_prefab=null,e.window_node=null,e}return n(e,t),e.prototype.onLoad=function(){r.gm.pool.init(r.gm.const.NoticeItem.bundle_name,r.gm.const.NoticeItem.load_url,s.NoticeItem)},e.prototype.show_notice=function(t){var e=this;r.gm.pool.async_get(r.gm.const.NoticeItem.bundle_name,r.gm.const.NoticeItem.load_url,s.NoticeItem,function(i){e.window_node.addChild(i.node),i.data=t})},a([d(cc.Prefab)],e.prototype,"notice_item_prefab",void 0),a([d(cc.Node)],e.prototype,"window_node",void 0),a([_],e)}(o.GameModule);i.Notice=l,cc._RF.pop()},{GameManager:"GameManager",GameModule:"GameModule",NoticeItem:"NoticeItem"}],OPPOMiniGame:[function(t,e,i){"use strict";cc._RF.push(e,"0c360eraJpMv6YAFEP3Fd2D","OPPOMiniGame");var n=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.OPPOMiniGame=void 0;var a=t("ChannelManager"),o=cc._decorator,r=o.ccclass;o.property;var s=function(){function t(){this._targetBannerAdWidth=200,this._bannerAd=null,this._ifBannerLoaded=!1,this._videoAd=null,this._videoCb=null,this._videoCbTarget=null,this._oppoUid="",this._interstitialAd=null,this._videoid=["292873"],this._interid=[],this._nativeid=["293236","292878"],this.nativeAd=null,this.adData=null,this.tmpAdData=null,this.adLayout=null,this._nativeAdStat=!1,this._nativeIcoAdStat=!1,this.nativeIcoAd=null,this.icoAdData=null,this.tmpIcoAdData=null,this.icoAdLayout=null,this.gameBeginTime=(new Date).getTime(),this.rewardVideoStat=!1,this.nativeAdType=0,this.bannerNativeData=null,this.bigJpgNativeData=null,this.icoNativeData=null}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),t.prototype.load_channel_env=function(t){var e=this;console.log("oppoMiniGame loadChannelEnv!!!");var i=this;return cc.audioEngine.stopAll(),cc.audioEngine.uncacheAll(),qg.login({success:function(t){console.log(JSON.stringify(t)),i._oppoUid=t.data.uid,console.log("this._oppoUid:",i._oppoUid)},fail:function(t){console.log(JSON.stringify(t))}}),qg.setLoadingProgress&&(console.log("qg.setLoadingProgress({ progress: 0 });"),qg.setLoadingProgress({progress:0})),qg.reportMonitor&&qg.reportMonitor("game_scene",0),t(),this.createNativeAd(),setTimeout(function(){e.createNativeIcoAd()},15e3),!0},t.prototype.analyzeUrlPram=function(){return!0},t.prototype.loginVerify=function(){return!0},t.prototype.load_sub_packages_env=function(t){return t(),!0},t.prototype.shareReq=function(t){return t(),!0},Object.defineProperty(t.prototype,"is_share",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_video_share",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.loginReport=function(){},t.prototype.vibrate_short=function(){qg.vibrateShort&&qg.vibrateShort({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}})},t.prototype.vibrate_long=function(){qg.vibrateLong&&qg.vibrateLong({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},Object.defineProperty(t.prototype,"is_support_more_game",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.create_banner_ad=function(){if(console.log("createBannerAd"),""!=this._bannerid[0]){var t=qg.getSystemInfoSync(),e=t.windowWidth,i=t.windowHeight;this._targetBannerAdWidth=e;var n=this;this._bannerAd=qg.createBannerAd({adUnitId:n._bannerid[0],style:{width:this._targetBannerAdWidth,top:i-this._targetBannerAdWidth/16*9,left:0,height:300}}),cc.log(this._bannerAd),this._bannerAd.onLoad(function(){cc.log("_bannerAd onLoad"),n._ifBannerLoaded=!0}),this._bannerAd.onResize(function(t){console.log("banner \u5bbd\u5ea6\uff1a"+t.width+", banner \u9ad8\u5ea6\uff1a"+t.height),n._bannerAd.style.top=i-t.height*e/t.width,n._bannerAd.style.left=0,n._bannerAd.style.height=t.height*e/t.width,n._bannerAd.style.width=e})}else console.log("this._bannerid is null")},t.prototype.show_banner_ad=function(){(new Date).getTime()-this.gameBeginTime<6e4||this._bannerAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)})},t.prototype.hide_banner_ad=function(){this._ifBannerLoaded&&this._bannerAd.hide()},t.prototype.create_video_ad=function(){if(console.log("Oppo- createVideoAD!...."),!(qg.getSystemInfoSync().platformVersion<"1051")){var t=this;if(this._videoAd=qg.createRewardedVideoAd({adUnitId:t._videoid[0]}),!this._videoAd)return!1;this._videoAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),t.rewardVideoStat=!0}),this._videoAd.onError(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u9519\u8bef\uff1a",t)}),this._videoAd.load(),this._videoAd.onClose(function(e){e.isEnded?(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),t._videoCb.apply(t._videoCbTarget)):console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),t.rewardVideoStat=!1,t._videoAd.load()})}},t.prototype.show_video_ad=function(t,e){console.log("\u663e\u793a\u89c6\u9891\u5e7f\u544a\uff01\u3002\u3002\u3002"),this._videoCb=t,this._videoCbTarget=e,this._videoAd?this.rewardVideoStat?(this._videoAd.show(),this.rewardVideoStat=!1):(this._videoAd.load(),qg.showToast({title:"\u5f53\u524d\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a"})):(this.create_video_ad(),console.log("\u5e7f\u544a\u521d\u59cb\u5316\u5931\u8d25\uff01"),qg.showToast({title:"\u5e7f\u544a\u521d\u59cb\u5316\u5931\u8d25\uff01"}))},t.prototype.createInterstitialAd=function(){if(console.log("createInterstitialAd"),""!=this._interid[0]){if(qg.createInterstitialAd&&(this._interstitialAd=qg.createInterstitialAd({adUnitId:this._interid[0]})),!this._interstitialAd)return!1;this._interstitialAd.onError(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u9519\u8bef\uff1a",t)})}else console.log("this._interid is null")},t.prototype.show_interstitial_ad=function(){return null!=qg.createInterstitialAd&&!!this._interstitialAd&&(this._interstitialAd.show(),!0)},t.prototype.set_rank_value=function(){},Object.defineProperty(t.prototype,"is_rank",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.ifCreateShortcut=function(t){qg.hasShortcutInstalled({success:function(e){console.log("qg.hasShortcutInstalled:%s",e),t(e)},fail:function(){t(!0)},complete:function(){}})},t.prototype.createShortcut=function(t){qg.hasShortcutInstalled({success:function(e){0==e&&qg.installShortcut({success:function(){t()},fail:function(){},complete:function(){}})},fail:function(){},complete:function(){}})},t.prototype.createNativeAd=function(){this._nativeAdStat=!1;var t=this;""!=this._nativeid[1]&&(this.nativeAd=qg.createNativeAd({adUnitId:t._nativeid[1]}),this.nativeAd.onLoad(function(e){console.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u6210\u529f","\uff1a"+JSON.stringify(e)),e.adList&&e.adList.length>0&&(t.tmpAdData=e.adList[0]),t._nativeAdStat=!0}),this.nativeAd.onError(function(e){console.log("\u8bbe\u7f6e\u539f\u751f\u5e7f\u544a\u51fa\u9519\uff1a"+JSON.stringify(e)),t._nativeAdStat=!1,setTimeout(function(){t.nativeAd.load()},15e3)}),this.nativeAd.load())},t.prototype.nativeAdStat=function(){return!((new Date).getTime()-this.gameBeginTime<6e4)&&this._nativeAdStat},t.prototype.onDestroy=function(){this.nativeAd&&(this.nativeAd.offLoad(),this.nativeAd.offError(),this.nativeAd.destroy())},t.prototype.nativeAdLoad=function(){this.nativeAd.load()},t.prototype.createNativeIcoAd=function(){this._nativeIcoAdStat=!1;var t=this;""!=this._nativeid[0]&&(this.nativeIcoAd=qg.createNativeAd({adUnitId:t._nativeid[0]}),this.nativeIcoAd.onLoad(function(e){console.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544aICO\u6210\u529f","\uff1a"+JSON.stringify(e)),e.adList&&e.adList.length>0&&(t.tmpIcoAdData=e.adList[0]),t._nativeIcoAdStat=!0}),this.nativeIcoAd.onError(function(e){console.log("\u8bbe\u7f6e\u539f\u751f\u5e7f\u544aIco\u51fa\u9519\uff1a"+JSON.stringify(e)),t._nativeIcoAdStat=!1,setTimeout(function(){t.nativeIcoAd.load()},15e3)}),this.nativeIcoAd.load(),setTimeout(function(){t.timeNativeAdProcess()},15e3))},t.prototype.nativeIcoAdClick=function(){this.nativeIcoAd.reportAdClick({adId:this.icoAdData.adId}),console.log("nativeIcoAdClick reportIcoAdClick  adId:%s",this.icoAdData.adId)},t.prototype.onIcoDestroy=function(){this.nativeIcoAd&&(this.nativeIcoAd.offLoad(),this.nativeIcoAd.offError(),this.nativeIcoAd.destroy())},t.prototype.nativeIcoAdLoad=function(){this.nativeIcoAd.load()},t.prototype.getNativeData=function(){return this.adData.title},t.prototype.getNativeIcoData=function(){return this.icoAdData.title},t.prototype.getNativeDesc=function(){return this.adData.desc},t.prototype.getNativeIcoDesc=function(){return this.icoAdData.desc},t.prototype.showBannerNative=function(t){if(!((new Date).getTime()-this.gameBeginTime<6e4)&&this.tmpIcoAdData){this.bannerNativeData=this.tmpIcoAdData;var e=this,i=void 0,n=void 0,a=void 0,o=void 0,r=void 0;i=t.getChildByName("adImg"),n=t.getChildByName("adDesc"),o=t.getChildByName("adTitle"),r=t.getChildByName("adButton"),a=t.getChildByName("adLogo"),i.active=!1,this.bannerNativeData.iconUrlList&&this.bannerNativeData.iconUrlList.length>0&&cc.loader.load(this.bannerNativeData.iconUrlList[0],function(t,e){i.active=!0,i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),o.active=!0,o.getComponent(cc.Label).string=this.bannerNativeData.title,n.active=!0,n.getComponent(cc.Label).string=this.bannerNativeData.desc,a.active=!1,this.bannerNativeData.logoUrl&&cc.loader.load(this.bannerNativeData.logoUrl,function(t,e){a.active=!0,a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),r.getComponent(cc.Button)||r.addComponent(cc.Button),r.on("click",function(){e.bannerNativeAdClick()},e),this.nativeIcoAd.reportAdShow({adId:this.bannerNativeData.adId}),console.log("nativeIcoAd  reportIcoAdShow adId:%s",this.bannerNativeData.adId)}},t.prototype.bannerNativeAdClick=function(){this.nativeIcoAd.reportAdClick({adId:this.bannerNativeData.adId}),console.log("bannerNativeAdClick reportIcoAdClick  adId:%s",this.bannerNativeData.adId)},t.prototype.showBigJpgNative=function(t){if(!((new Date).getTime()-this.gameBeginTime<6e4)&&this.tmpAdData){this.bigJpgNativeData=this.tmpAdData;var e=this;t.active=!1;var i=void 0,n=void 0,a=void 0;i=t.getChildByName("adImg"),a=t.getChildByName("adLogo"),n=t.getChildByName("adClick"),i.active=!1,this.bigJpgNativeData.iconUrlList&&this.bigJpgNativeData.iconUrlList.length>0&&cc.loader.load(this.bigJpgNativeData.iconUrlList[0],function(e,n){i.active=!0,t.active=!0,i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)}),a.active=!1,this.bigJpgNativeData.logoUrl&&cc.loader.load(this.bigJpgNativeData.logoUrl,function(t,e){a.active=!0,a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),i.getComponent(cc.Button)||i.addComponent(cc.Button),i.on("click",function(){e.BigJpgNativeAdClick()},e),n.getComponent(cc.Button)||n.addComponent(cc.Button),n.on("click",function(){e.BigJpgNativeAdClick()},e),this.nativeAd.reportAdShow({adId:this.bigJpgNativeData.adId}),console.log("nativeIcoAd  reportIcoAdShow adId:%s",this.bigJpgNativeData.adId)}},t.prototype.BigJpgNativeAdClick=function(){this.nativeAd.reportAdClick({adId:this.adData.adId}),console.log("bigJpgNativeData  reportAdClick adId:%s",this.adData.adId)},t.prototype.showIcoNative=function(t){if(!((new Date).getTime()-this.gameBeginTime<6e4)&&this.tmpIcoAdData){this.icoNativeData=this.tmpIcoAdData;var e=this,i=void 0,n=void 0,a=void 0;i=t.getChildByName("adImg"),n=t.getChildByName("adLogo"),a=t.getChildByName("adClose"),i.active=!1,a.active=!1,this.icoNativeData.iconUrlList&&this.icoNativeData.iconUrlList.length>0&&cc.loader.load(this.icoNativeData.iconUrlList[0],function(t,e){i.active=!0,a.active=!0,i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),n.active=!1,this.icoNativeData.logoUrl&&cc.loader.load(this.icoNativeData.logoUrl,function(t,e){n.active=!0,n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),i.getComponent(cc.Button)||i.addComponent(cc.Button),i.on("click",function(){e.IcoNativeAdClick(),console.log("nativeIcoAd  Click Ico AdShow ")},e),this.nativeAd.reportAdShow({adId:this.icoNativeData.adId})}},t.prototype.IcoNativeAdClick=function(){this.nativeIcoAd.reportAdClick({adId:this.icoNativeData.adId}),console.log("bigJpgNativeData  reportAdClick adId:%s",this.adData.adId)},t.prototype.timeNativeAdProcess=function(){var t=this;setInterval(function(){0==t.nativeAdType?(t.nativeIcoAd.load(),t.nativeAdType=1):(t.nativeAd.load(),t.nativeAdType=0)},2e4)},t.prototype.get_app_name=function(){return window.qg&&window.qg.getSystemInfoSync?window.qg.getSystemInfoSync().platform:a.ChannelManager.UNKNOWN},Object.defineProperty(t.prototype,"is_support_interstitial_ad",{get:function(){return qg.createInterstitialAd?(console.log("is_support_interstitial_ad  createInterstitialAd: true"),!0):(console.log("is_support_interstitial_ad: false"),!1)},enumerable:!1,configurable:!0}),t._instance=null,t.ad_enable=!0,e=n([r],t)}();i.OPPOMiniGame=s,cc._RF.pop()},{ChannelManager:"ChannelManager"}],PlayAndStop:[function(t,e,i){"use strict";cc._RF.push(e,"c56be7YcZtBe6BHr5ljEMyK","PlayAndStop");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.PlayAndStop=void 0;var o=t("GameObject"),r=cc._decorator,s=r.ccclass,c=r.property,_=r.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.auto_play_and_stop=!0,e}return n(e,t),e.prototype.onLoad=function(){this._ps=this.node.getComponent(cc.ParticleSystem),this._anim=this.node.getComponent(cc.Animation),this._spine=this.node.getComponent(sp.Skeleton)},e.prototype.onEnable=function(){this.auto_play_and_stop&&(this._ps&&this._ps.resetSystem(),this._anim?this._anim_state=this._anim.play():this._spine&&(this._spine_track=this._spine.setAnimation(0,this._spine.defaultAnimation,!1)))},e.prototype.onDisable=function(){this.auto_play_and_stop&&(this._ps&&this._ps.stopSystem(),this._anim?this._anim.stop():this._spine&&this._spine.clearTrack(0))},e.prototype.play=function(t,e,i){this._anim?(this._anim_state=this._anim.play(t,i),this._anim_state&&(this._anim_state.wrapMode=e?cc.WrapMode.Loop:cc.WrapMode.Default)):this._spine&&(this._spine_track=this._spine.setAnimation(0,t,e),this._spine_track&&(this._spine_track.trackTime=i))},e.prototype.stop=function(){this._anim?this._anim.stop():this._spine&&this._spine.clearTrack(0)},a([c(cc.Boolean)],e.prototype,"auto_play_and_stop",void 0),a([s,_("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7ec4\u4ef6/PlayAndStop")],e)}(o.GameObject);i.PlayAndStop=d,cc._RF.pop()},{GameObject:"GameObject"}],PolygonButton:[function(t,e,i){"use strict";cc._RF.push(e,"2df7eQoeqJKIL0s/IRxyZeX","PolygonButton");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.PolygonButton=void 0;var o=cc._decorator,r=o.ccclass,s=o.property,c=o.menu;o.inspector;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.polygon=null,e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){this.polygon&&this.polygon.points.length>0&&(this.node._hitTest=this._hitTest)},e.prototype._onTouchMove=function(t){if(this.interactable&&this.enabledInHierarchy&&this._pressed){var e,i=t.touch,n=this.node._hitTest(i.getLocation(),this.node._touchListener),a=this._getTarget(),o=this._originalScale;this.transition===cc.Button.Transition.SCALE&&o?n?(this._fromScale.x=o.x,this._fromScale.y=o.y,this._toScale.x=o.x*this.zoomScale,this._toScale.y=o.y*this.zoomScale,this._transitionFinished=!1):(this.time=0,this._transitionFinished=!0,a.setScale(o.x,o.y)):(e=n?"pressed":"normal",this._applyTransition(e)),t.stopPropagation()}},e.prototype._hitTest=function(t,e){if(null!=t&&null!=e){var n=e.owner,a=n.getComponent(i),o=a.pointInPolygon(n.convertToNodeSpaceAR(t),a.polygon.points);return e.swallowTouches=o,o}},e.prototype.pointInPolygon=function(t,e){for(var i=!1,n=t.x,a=t.y,o=e.length,r=0,s=o-1;r<o;s=r++){var c=e[r].x,_=e[r].y,d=e[s].x,l=e[s].y;_>a!=l>a&&n<(d-c)*(a-_)/(l-_)+c&&(i=!i)}return i},a([s(cc.PolygonCollider)],e.prototype,"polygon",void 0),i=a([r,c("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7ec4\u4ef6/PolygonButton")],e)}(cc.Button);i.PolygonButton=_,cc._RF.pop()},{}],Profile:[function(t,e,i){"use strict";cc._RF.push(e,"0b1c7sE+c5OPpMBb+5cwRz8","Profile");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.Profile=void 0;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._before_update_time=0,e._after_update_time=0,e._before_draw_time=0,e._after_draw_time=0,e}return n(e,t),e.prototype.onEnable=function(){cc.director.on(cc.Director.EVENT_BEFORE_UPDATE,this.on_before_update_handler,this),cc.director.on(cc.Director.EVENT_AFTER_UPDATE,this.on_after_update_handler,this),cc.director.on(cc.Director.EVENT_BEFORE_DRAW,this.on_before_draw_handler,this),cc.director.on(cc.Director.EVENT_AFTER_DRAW,this.on_after_draw_handler,this)},e.prototype.on_before_update_handler=function(){this._before_update_time=performance.now()},e.prototype.on_after_update_handler=function(){this._after_update_time=performance.now(),console.log(cc.js.formatStr("update time:%d ms",this._after_update_time-this._before_update_time))},e.prototype.on_before_draw_handler=function(){this._before_draw_time=performance.now()},e.prototype.on_after_draw_handler=function(){this._after_draw_time=performance.now(),console.log(cc.js.formatStr("draw time:%d ms",this._after_draw_time-this._before_draw_time)),console.log(cc.js.formatStr("frame time:%d ms",this._after_draw_time-this._before_update_time))},e.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_BEFORE_UPDATE,this.on_before_update_handler,this),cc.director.off(cc.Director.EVENT_AFTER_UPDATE,this.on_after_update_handler,this),cc.director.off(cc.Director.EVENT_BEFORE_DRAW,this.on_before_draw_handler,this),cc.director.off(cc.Director.EVENT_AFTER_DRAW,this.on_after_draw_handler,this)},e.prototype.update=function(t){0==t&&console.log("dt:0")},e}(cc.Component);i.Profile=a,cc._RF.pop()},{}],QQMiniGame:[function(t,e,i){"use strict";cc._RF.push(e,"982felGWbBMtq5VhAiiMxWI","QQMiniGame"),Object.defineProperty(i,"__esModule",{value:!0}),i.QQMiniGame=void 0;var n=t("GameManager"),a=t("ChannelManager"),o=t("Utils"),r=t("TaskManager"),s=t("Constants"),c=function(){function t(){this._min_banner_ad_width=300,this._banner_ad_id_array=[],this._create_banner_count=0,this._video_ad_id="",this._interstitial_ad_id="",this._app_box_ad_id="",this._banner_ad=null,this._is_show_banner_ad=!1,this._video_ad=null,this._video_cb=null,this._video_cb_target=null,this._interstitial_ad=null,this._interstitial_ad_loaded=!1,this._app_box=null,this._app_box_loaded=!1,this._share_array=[],this._default_share={title:"\u4ebf\u4e07\u53ea\u50f5\u5c38\uff0c\u5168\u65b0\u5854\u9632\u5f0f\u67aa\u6218\u6e38\u620f",url:"1.jpg?v=1"}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.load_channel_env=function(t){return window.qq.onHide(function(){}),window.qq.onShow(function(){}),this._banner_ad_id_array=["2f8ac2ffc33b7e529a912057bcfb9ccd","60417757de8d65e26e7e8e390fe9e06b","c0d363df09a7ce229b619b6102de60ad","2eed354af6f5e86fc73aef2f22ce7646","c075b792decf84b2eef03a209734a793"],this._video_ad_id="f13d03fb4b1cf7be56931498549ac49d",this._interstitial_ad_id="d34d938f28603205ecf889ae577c3c21",this._app_box_ad_id="10cfef832c966646cf75295e7d083666",console.log("qq"+JSON.stringify(window.qq)),window.qq.login({}),this._share_array=a.ChannelManager.SHARE_CONFIG.share_array,this.show_share_menu(),t(),!0},Object.defineProperty(t.prototype,"is_rank",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_share",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_video_share",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.show_share_menu=function(){window.qq.showShareMenu({});var t=this;return window.qq.onShareAppMessage(function(){var e;if(0==t._share_array.length)e=t._default_share;else{var i=o.Utils.math_random(!0,0,t._share_array.length);e=t._share_array[i]}return{title:e.title,imageUrl:e.url,success:function(t){console.log("\u8f6c\u53d1\u6210\u529f"),console.log(t)},fail:function(t){console.log("fail qq onShareAppMessage"+t)}}}),!0},t.prototype.load_sub_packages_env=function(t){return t(),!0},t.prototype.analyzeUrlPram=function(){return!0},t.prototype.get_app_name=function(){return a.ChannelManager.APP_QQ},t.prototype.vibrate_short=function(){qq.vibrateShort&&qq.vibrateShort({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}})},t.prototype.vibrate_long=function(){qq.vibrateLong&&qq.vibrateLong({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},Object.defineProperty(t.prototype,"is_support_more_game",{get:function(){return"ios"!=window.qq.getSystemInfoSync().platform&&!!(window.qq.navigateToMiniProgram&&window.qq.onNavigateToMiniProgram&&window.qq.showMoreGamesModal)},enumerable:!1,configurable:!0}),t.prototype.show_more_game=function(t,e){this.is_support_more_game&&(window.qq.onMoreGamesModalClose(function(t){console.log("modal closed",t)}),window.qq.onNavigateToMiniProgram(function(t){console.log(t.errCode),console.log(t.errMsg)}),window.qq.showMoreGamesModal({appLaunchOptions:[],success:function(i){console.log("success",i.errMsg),t&&e&&t.call(e,0)},fail:function(i){console.log("fail",i.errMsg),t&&e&&t.call(e,1)}}))},t.prototype.share_req=function(t,e){var i;if(0==this._share_array.length)i=this._default_share;else{var n=o.Utils.math_random(!0,0,this._share_array.length);i=this._share_array[n]}return window.qq.shareAppMessage&&i&&window.qq.shareAppMessage({title:i.title,imageUrl:i.url,success:function(i){console.log("\u8f6c\u53d1\u5230\u7fa4\u7684\u7ed3\u679c"),console.log(i),t.call(e)},fail:function(t){console.log(t)}}),!0},t.prototype.loginReport=function(){},t.prototype.create_banner_ad=function(){var t=this;if(window.qq){var e=window.qq.getSystemInfoSync(),i=e.windowWidth,n=e.windowHeight,a=this._create_banner_count%this._banner_ad_id_array.length,o=window.qq.createBannerAd({adUnitId:this._banner_ad_id_array[a],adIntervals:40,style:{width:this._min_banner_ad_width,top:n,left:(i-this._min_banner_ad_width)/2}});this._banner_ad&&this._banner_ad.destroy(),this._banner_ad=o,o.onLoad(function(){console.log("banner ad id:"+t._banner_ad_id_array[a]+" onLoad"),t._is_show_banner_ad&&o&&o.show().then(function(){t._is_show_banner_ad?console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f"):(o.destroy(),console.log("\u5e7f\u544a\u663e\u793a\u6162\u4e86\uff0c\u4e0d\u9700\u8981\u663e\u793a\u4e86"))}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)})}),o.onResize(function(t){o.style.left=(i-t.width)/2,o.style.top=n-t.height,console.log("banner_ad.onResize:",t.width,t.height);var e=cc.view.getDevicePixelRatio(),a=cc.view.getScaleX();console.log("banner need design size:",t.width*e/a,t.height*e/a)}),this._create_banner_count++}},t.prototype.show_banner_ad=function(){this._is_show_banner_ad=!0,this.create_banner_ad()},t.prototype.hide_banner_ad=function(){this._is_show_banner_ad=!1;var t=this._banner_ad;t&&t.destroy()},t.prototype.create_video_ad=function(){if(null!=window.qq.createRewardedVideoAd){this._video_ad=window.qq.createRewardedVideoAd({adUnitId:this._video_ad_id});var t=this;t._video_ad.onClose(function(e){e.isEnded?(console.log("\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u5b8c\u6210"),r.TaskManager.instance.checkTask(s.TaskConditionTypeEnum.TASK_CONDITION_VIDEO_COUNT,1),t._video_cb.apply(t._video_cb_target)):(console.log("\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u4e2d\u65ad"),n.gm.ui.show_notice("\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u4e2d\u65ad\uff0c\u6ca1\u6709\u5956\u52b1")),cc.game.resume()})}},t.prototype.show_video_ad=function(t,e){this._video_cb=t,this._video_cb_target=e;var i=this;this._video_ad?i._video_ad.show().then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),cc.game.pause()}).catch(function(){console.log("\u89c6\u9891\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),i._video_ad.show().then(function(){console.log("\u91cd\u8bd5\uff0c\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),cc.game.pause()}).catch(function(t){console.log("\u91cd\u8bd5\uff0c\u89c6\u9891\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t),1004==t.errCode?n.gm.ui.show_notice("\u4eca\u65e5\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u6b21\u6570\u5df2\u7528\u5c3d"):n.gm.ui.show_notice("\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u6253\u5f00\u5931\u8d25")})}):n.gm.ui.show_notice("\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u6ca1\u6709\u521d\u59cb\u5316")},t.prototype.create_app_box_ad=function(){var t=this;qq.createAppBox?(this._app_box=qq.createAppBox({adUnitId:this._app_box_ad_id}),this._app_box.load().then(function(){t._app_box_loaded=!0}).catch(function(t){console.error(t)})):console.log("\u4e0d\u652f\u6301\u5e7f\u544a\u76d2\u5b50\uff0c\u8bf7\u5347\u7ea7QQ")},Object.defineProperty(t.prototype,"is_support_app_box",{get:function(){return!!qq.createAppBox},enumerable:!1,configurable:!0}),t.prototype.show_app_box_ad=function(){var t=this;qq.createAppBox?this._app_box_loaded&&this._app_box?this._app_box.show().then(function(){t._app_box_loaded=!0,console.log("\u663e\u793a\u5e7f\u544a\u76d2\u5b50")}).catch(function(t){console.error(t)}):(this.create_app_box_ad(),console.log("_app_box_loaded:"+this._app_box_loaded)):console.log("\u4e0d\u652f\u6301\u5e7f\u544a\u76d2\u5b50\uff0c\u8bf7\u5347\u7ea7QQ")},t.prototype.create_interstitial_ad=function(){var t=this;qq.createInterstitialAd&&(this._interstitial_ad=window.qq.createInterstitialAd({adUnitId:this._interstitial_ad_id}),this._interstitial_ad.load().catch(function(t){console.error("load",t)}),this._interstitial_ad.onLoad(function(){t._interstitial_ad_loaded=!0}),this._interstitial_ad.onClose(function(){console.log("close event emit")}),this._interstitial_ad.onError(function(t){console.log("error",t)}))},Object.defineProperty(t.prototype,"is_support_interstitial_ad",{get:function(){return qq.createInterstitialAd?(console.log("is_support_interstitial_ad: true"),!0):(console.log("is_support_interstitial_ad: false"),!1)},enumerable:!1,configurable:!0}),t.prototype.show_interstitial_ad=function(t,e){this._interstitial_ad&&this._interstitial_ad_loaded&&this._interstitial_ad.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f"),t&&e&&t.call(e,0)}).catch(function(i){console.error("show",i),t&&e&&t.call(e,1)})},t.prototype.set_rank_value=function(){var t={qqgame:{score:0,update_time:Math.floor((new Date).getTime()/1e3)},cost_time:0};window.qq.setUserCloudStorage({KVDataList:[{key:"level",value:JSON.stringify(t)}]}),cc.log("\u4e0a\u62a5\u6392\u884c\u6570\u636e")},t.prototype.get_rank_data=function(){return window.qq.getOpenDataContext().postMessage({message:1}),!0},t.prototype.set_rank_close=function(){window.qq.getOpenDataContext().postMessage({message:99})},t.prototype.on_rank_pre_page_click=function(){window.qq.getOpenDataContext().postMessage({message:100})},t.prototype.on_rank_next_page_click=function(){window.qq.getOpenDataContext().postMessage({message:101})},t.prototype.get_self_rank_data=function(){return window.qq&&window.qq.getOpenDataContext().postMessage({message:300}),!0},t.prototype.set_self_rank_close=function(){window.qq&&window.qq.getOpenDataContext().postMessage({message:301})},t.prototype.clear_cache=function(){window.wxDownloader&&(window.wxDownloader.cleanAllAssets(),console.log("delete cache success"))},t._instance=null,t.ad_enable=!0,t}();i.QQMiniGame=c,cc._RF.pop()},{ChannelManager:"ChannelManager",Constants:"Constants",GameManager:"GameManager",TaskManager:"TaskManager",Utils:"Utils"}],RecordData:[function(t,e,i){"use strict";cc._RF.push(e,"b17e8PJaDVDJIJXAsWxAo3V","RecordData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.RecordData=void 0;var a=t("Constants"),o=t("GameManager"),r=t("StorageBase"),s=t("WarehouseData"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="RecordData",e.share_record_count=0,e.reward_array=[],e.record_state=0,e.record_timestamp=0,e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){if(i.is_init){for(o=0;o<i.reward_array.length;o++)Object.setPrototypeOf(i.reward_array[o],s.WarehouseItemData.prototype);Object.setPrototypeOf(i.reward_data,s.WarehouseItemData.prototype)}else{for(var n=[11101,11102,11103,11104,11105,11106,11107,11108],o=0;o<n.length;o++){var r=new s.WarehouseItemData;r.id=n[o],r.value=1,i.reward_array.push(r)}i.reward_data=new s.WarehouseItemData,i.reward_data.id=a.RewardIdEnum.DIAMOND,i.reward_data.value=5,i.is_init=!0,i.async_write_data()}i.record_state=0,i.record_timestamp=0,e&&e(t)})},e.prototype.async_write_data=function(i){o.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.EVENT_DATA_CHANGE="record_data_change",e.RECORD_STATE_CHANGE="record_state_change",e.AUTO_END_RECORD_TIME=20,e.MIN_RECORD_TIME=5,e}(r.StorageBase);i.RecordData=c,cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",StorageBase:"StorageBase",WarehouseData:"WarehouseData"}],SDKManager:[function(t,e,i){"use strict";cc._RF.push(e,"d8596ZjHXtGW6ofgE37/fO9","SDKManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.SDKManager=void 0;var n=t("NetUtils"),a=function(){function t(){this.isInitSuccess=!1,this.test_state=!1}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.onInitCompleteCallback=function(){console.log("SDKManager:onInitCompleteCallback"),this.isInitSuccess=!0},t.prototype.showRewardVideoAd=function(t){console.log("SDKManager:showRewardVideoAd"),this._rewardVideoAdRewardCallback=t,window.jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showRewardVideoAd","()V")},t.prototype.onRewardVideoAdRewardCallback=function(){console.log("SDKManager:onRewardVideoAdRewardCallback"),this._rewardVideoAdRewardCallback&&(this._rewardVideoAdRewardCallback(),console.log("SDKManager:_rewardVideoAdRewardCallback"))},t.prototype.showInterstitialAd=function(t){console.log("SDKManager:showInterstitialAd"),this._interstitialAdCloseCallback=t,window.jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showInterstitialAd","()V")},t.prototype.onInterstitialAdCloseCallback=function(){console.log("SDKManager:onInterstitialAdCloseCallback"),this._interstitialAdCloseCallback&&(this._interstitialAdCloseCallback(),console.log("SDKManager:_interstitialAdCloseCallback"))},t.prototype.showBannerAd=function(){console.log("SDKManager:showBannerAd"),window.jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showBannerAd","()V")},t.prototype.hideBannerAd=function(){console.log("SDKManager:hideBannerAd"),window.jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","hideBannerAd","()V")},t.prototype.trackLevelData=function(t,e,i){window.jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","trackLevelData","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,i)},t.prototype.updateLevelData=function(t,e){window.jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","updateLevelData","(II)V",t,e)},t.prototype.trackCustomData=function(t){window.jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","trackCustomData","(Ljava/lang/String;)V",t)},t.prototype.getLanguage=function(){return console.log("SDKManager:getLanguage"),window.jsb?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getLanguage","()Ljava/lang/String;"):"zh-CN"},t.prototype.getAppName=function(){return console.log("SDKManager:getAppName"),window.jsb?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getAppName","()Ljava/lang/String;"):"unknown"},t.prototype.getVersionName=function(){return console.log("SDKManager:getVersionName"),window.jsb?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getVersionName","()Ljava/lang/String;"):"unknown"},t.prototype.initRemoteConfig=function(){var t=this,e="share.json?"+Math.random().toString();n.NetUtils.server_http_request(function(e){console.log("ChuanShanJiaNativeGame initRemoteConfig "+JSON.stringify(e)),null!=e&&null!=e.test_state&&(t.test_state=e.test_state)},this,e)},t.prototype.get_is_test_stated=function(){return this.test_state},t.prototype.showPersonalWindow=function(){console.log("SDKManager:hideBannerAd"),window.jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showPersonalWindow","()V")},t._instance=null,t}();i.SDKManager=a,window.SDKManager=a.instance,cc._RF.pop()},{NetUtils:"NetUtils"}],SignData:[function(t,e,i){"use strict";cc._RF.push(e,"bdbdaQK0udJ0555iHv2Uciu","SignData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.SignData=void 0;var a=t("GameManager"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="SignData",e.sign_day=0,e.today_sign_state=0,e.balloon_state=0,e.next_balloon_time=0,e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){if(!i.is_init){var n=Math.floor(Date.now()/1e3);i.is_init=!0,i.sign_day=0,i.balloon_state=0,i.today_sign_state=0,i.next_balloon_time=0,i.next_balloon_time=n+30,i.async_write_data()}e&&e(t)})},e.prototype.async_write_data=function(i){a.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.EVENT_DATA_CHANGE="sign-data-change",e}(t("StorageBase").StorageBase);i.SignData=o,cc._RF.pop()},{GameManager:"GameManager",StorageBase:"StorageBase"}],SimpleMap:[function(t,e,i){"use strict";cc._RF.push(e,"2fd6a0x2hFHcKWVoER32j3T","SimpleMap"),Object.defineProperty(i,"__esModule",{value:!0}),i.SimpleMap=void 0;var n=function(){function t(){this._size=0,this._obj={}}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return this._obj.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t))return this._obj[t]},t.prototype.set=function(t,e){this.has(t)||this._size++,this._obj[t]=e},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._obj[t],this._size--,!0)},t.prototype.forEach=function(t){for(var e in this._obj)t(this._obj[e],e,this)},t.prototype.clear=function(){this._size=0,this._obj={}},t}();i.SimpleMap=n,cc._RF.pop()},{}],StartData:[function(t,e,i){"use strict";cc._RF.push(e,"085d2iTsvdAJ648rvmn5+7R","StartData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.PropItemData=i.BuffItemData=i.SkillItemData=i.ScienceItemData=i.HeroItemData=i.EnemyItemData=i.HomeItemData=i.BuildingItemData=i.StartData=void 0;var a=t("GameManager"),o=t("StorageBase"),r=t("ConfigData"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="StartData",e.level_id=0,e.last_level_id=0,e.max_pass_level_id=0,e.auto_attack_time=0,e.speed_scale=1,e.is_auto_pause_fight=!0,e.science_data_array=[],e.hero_map={},e.next_day_refresh_time=0,e.success_times_reward=2,e.user_subscribe_message_stat=0,e.has_pop_sign_module=!1,e.has_no_action_guide=!1,e}return n(e,t),Object.defineProperty(e.prototype,"is_finger_operation",{get:function(){return Date.now()>this.auto_attack_time},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"map_id",{get:function(){return Math.floor((this.level_id-1)/5)%3+1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"last_map_id",{get:function(){return Math.floor((this.last_level_id-1)/5)%3+1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"home_lv",{get:function(){var t=1,e=this.hero_map[0];return e&&e.length>0&&(t=e[0].lv),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"home_building_data",{get:function(){var t=this.hero_map[0];return t&&t.length>0?t[0]:null},enumerable:!1,configurable:!0}),e.prototype.get_hero_count=function(t){var e=0,i=this.hero_map[t];return i&&(e=i.length),e},e.prototype.get_all_hero_count=function(){var t=0;for(var e in this.hero_map)if("0"!=e){var i=this.hero_map[e];i&&(t+=i.length)}return t},e.prototype.get_max_hero_count=function(){var t=0;if(this.science_data_array.length>0){var e=this.science_data_array[0],i=a.gm.config.get_row_data("ScienceConfigData",e.id.toString(),e.lv.toString());i&&(t=i.hero_num)}return t},e.prototype.get_gold=function(t){var e=t,i=this.science_data_array[r.ScienceType.GOLD-1],n=a.gm.config.get_row_data("ScienceConfigData",i.id.toString(),i.lv.toString());return n&&(e+=Math.floor(n.value/1e4*t)),e},e.prototype.get_max_hp=function(t){var e=0;if(t.id>0){var i=a.gm.config.get_row_data("HeroLevelConfigData",t.id.toString(),t.lv.toString());i&&(e+=i.hp)}else{var n=this.science_data_array[r.ScienceType.HOME-1],o=a.gm.config.get_row_data("ScienceConfigData",n.id.toString(),n.lv.toString());o&&(e+=o.value)}var s=this.science_data_array[r.ScienceType.HP-1],c=a.gm.config.get_row_data("ScienceConfigData",s.id.toString(),s.lv.toString());return c&&(e+=Math.floor(c.value/1e4*e)),e},e.prototype.get_attack_range=function(t){if(t.id>0){var e=a.gm.config.get_row_data("HeroStarConfigData",t.id.toString(),t.star.toString());if(e)return e.attack_range}return 0},e.prototype.get_attack_interval=function(t){if(t.id>0){var e=a.gm.config.get_row_data("HeroStarConfigData",t.id.toString(),t.star.toString());if(e)return e.attack_interval/1e3/this.speed_scale}return 0},Object.defineProperty(e.prototype,"hero_max_attack",{get:function(){for(var t,e=0,i=a.gm.data.hero_data.hero_data_array,n=0;n<i.length;n++)if(t=i[n],a.gm.data.warehouse_data.get_item_count(t.id)>0){var o=a.gm.config.get_row_data("HeroLevelConfigData",t.id.toString(),t.lv.toString()),r=a.gm.config.get_row_data("HeroStarConfigData",t.id.toString(),t.star.toString());if(o&&r){var s=o.attack+r.attack;s>e&&(e=s)}}return e},enumerable:!1,configurable:!0}),e.prototype.get_attack=function(t){var e=0;if(t.id>0){var i=a.gm.config.get_row_data("HeroLevelConfigData",t.id.toString(),t.lv.toString()),n=a.gm.config.get_row_data("HeroStarConfigData",t.id.toString(),t.star.toString());i&&n&&(e+=i.attack+n.attack);var o=this.science_data_array[r.ScienceType.ATTACK-1],s=a.gm.config.get_row_data("ScienceConfigData",o.id.toString(),o.lv.toString());s&&(e+=Math.floor(s.value/1e4*e))}return e},e.prototype.get_crit=function(t){var e=0;if(t.id>0){var i=a.gm.config.get_row_data("HeroStarConfigData",t.id.toString(),t.star.toString());i&&(e+=i.crit);var n=this.science_data_array[r.ScienceType.CRIT-1],o=a.gm.config.get_row_data("ScienceConfigData",n.id.toString(),n.lv.toString());o&&(e+=o.value/1e4)}return e},e.prototype.get_attack_count=function(t){if(t.id>0){var e=a.gm.config.get_row_data("HeroStarConfigData",t.id.toString(),t.star.toString());if(e)return e.attack_count}return 1},e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){if(i.is_init)for(var n=0;n<i.science_data_array.length;n++)Object.setPrototypeOf(i.science_data_array[n],_);else{i.level_id=1,i.last_level_id=1;var o=a.gm.config.get_config_data("ScienceConfigData");if(o)for(var r in i.science_data_array=[],o.data){var s=o.data[r];if(1==s.lv){var d=new _;d.id=s.id,d.lv=1,i.science_data_array.push(d)}}var l=new c;l.id=0,l.lv=1,l.star=1;var u=a.gm.config.get_row_data("BuildConfigData",a.gm.const.HOME_BUILDING_ID.toString(),l.lv.toString());l.color_hex=a.gm.const.GRID_COLOR_GREEN,l.hp=u.hp,l.max_hp=u.hp,l.max_count=1;var h=u.grid_length.split("|");l.grid_length=cc.v3(parseInt(h[0]),parseInt(h[1])),l.origin_point=cc.v3(12,12),l.obj_id=0;var p=a.gm.data.start_data.hero_map[l.id];p||(p=[],a.gm.data.start_data.hero_map[l.id]=p),p.push(l),i.is_init=!0,i.async_write_data()}e&&e(t)})},e.prototype.async_write_data=function(i){a.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.EVENT_DATA_CHANGE="start_data_change",e.BUILDING_UPGRADE="building_upgrade",e}(o.StorageBase);i.StartData=s,i.BuildingItemData=function(){this.id=0,this.lv=0,this.origin_point=cc.Vec3.ZERO,this.color_hex="",this.hero_id=0,this.hp=0,this.max_hp=0,this.range=0,this.count=0,this.max_count=0,this.need_home_lv=0,this.is_full_count=!1,this.is_rotate=!1},i.HomeItemData=function(){this.origin_point=cc.Vec3.ZERO,this.hp=0,this.max_hp=0},i.EnemyItemData=function(){this.index=0,this.hp=0,this.max_hp=0,this.speed=0,this.speed_scale=0,this.buff_data_array=[],this.way_in_index=0,this.attack=0,this.drop_gold=0,this.wave_count=0,this.boss_monster_index=-1,this.is_boss=!1,this.last_attack_time=0,this.attack_interval=1,this.radius=2,this.walk_angle=0};var c=function(){this.id=0,this.lv=0,this.star=0,this.is_in_battle=!1,this.anger=0,this.max_anger=a.gm.const.MAX_ANGER_COUNT,this.last_attack_time=0,this.origin_point=cc.Vec3.ZERO,this.color_hex="",this.hp=0,this.max_hp=0,this.has_buy_count=0,this.max_count=0,this.obj_id=0};i.HeroItemData=c;var _=function(){this.id=0,this.lv=0};i.ScienceItemData=_,i.SkillItemData=function(){},i.BuffItemData=function(){this.id=r.SkillEffectId.NONE,this.damage=0,this.valid_time=0,this.start_time=0,this.speed_scale=0,this.trigger_count=0,this.max_trigger_count=0,this.is_start=!1,this.is_end=!1},i.PropItemData=function(){this.id=0,this.count=0},cc._RF.pop()},{ConfigData:"ConfigData",GameManager:"GameManager",StorageBase:"StorageBase"}],StorageBase:[function(t,e,i){"use strict";cc._RF.push(e,"67b70QkPH5PV4uSS3xdOB2R","StorageBase"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageBase=void 0;var n=t("StorageManager"),a=function(){function t(){this.PREFIX="P1_",this.STORAGE_KEY="STORAGE_KEY",this.is_init=!1}return t.get_instance=function(){return null==this._instance&&(this._instance=new this),this._instance},t.prototype.async_read_data=function(t){var e=this;n.StorageManager.instance.async_read_data(this.PREFIX+this.STORAGE_KEY,function(i){Object.assign(e,i),cc.log(e),t&&t(i)})},t.prototype.async_write_data=function(t){n.StorageManager.instance.async_write_data(this.PREFIX+this.STORAGE_KEY,this,t)},t.prototype.async_delete_data=function(t){n.StorageManager.instance.async_delete_data(this.PREFIX+this.STORAGE_KEY,t)},t._instance=null,t}();i.StorageBase=a,cc._RF.pop()},{StorageManager:"StorageManager"}],StorageManager:[function(t,e,i){(function(n){"use strict";cc._RF.push(e,"e0a39WWNAtHopvIPkS9bgDL","StorageManager"),function(e){Object.defineProperty(i,"__esModule",{value:!0}),i.StorageManager=void 0;var n=t("encryptjs"),a=function(){this.cost_time_array=[]},o=function(){function t(){this._debug=!0,this._debug_info_map={},this._settings={total_storage_size:10485760,single_storage_size:1048576},this._encrypt_key="3EyXvjUyd5eGLJHI9jcfTXQisawU48A9"}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.async_read_data=function(t,e){var i,o,r;this._debug&&(r="async_read_data "+t,(i=this._debug_info_map[r])||(this._debug_info_map[r]=i=new a),o=Date.now());var s="{}";try{this._debug||(t=n.base64Encode(t)),s=cc.sys.localStorage.getItem(t),cc.log(s),s&&!this._debug&&(s=n.decrypt(s,this._encrypt_key,256),cc.log("\u89e3\u5bc6\u540e\uff1a"+s))}catch(t){cc.error(t)}var c={};try{s&&(c=JSON.parse(s))}catch(t){cc.error(t)}if(this._debug){i=this._debug_info_map[r];var _=Date.now()-o;i.cost_time_array.push(_)}e&&e(c)},t.prototype.async_write_data=function(t,e,i){var o,r,s;this._debug&&(s="async_write_data "+t,(o=this._debug_info_map[t])||(this._debug_info_map[s]=o=new a),r=Date.now());var c="{}";try{(c=JSON.stringify(e))&&!this._debug&&(c=n.encrypt(c,this._encrypt_key,256),cc.log("\u52a0\u5bc6\u540e\uff1a"+c))}catch(t){cc.error(t)}if(c.length>this._settings.single_storage_size&&this.string_byte_length(c)>this._settings.single_storage_size)cc.error("\u5355\u4e2a key \u6570\u636e\u957f\u5ea6\u8d85\u8fc7\u5141\u8bb8\u5b58\u50a8\u7684\u6700\u5927\u957f\u5ea6 "+this._settings.single_storage_size+" bytes");else{try{this._debug||(t=n.base64Encode(t)),cc.sys.localStorage.setItem(t,c)}catch(t){cc.error(t)}if(this._debug){o=this._debug_info_map[s];var _=Date.now()-r;o.cost_time_array.push(_)}i&&i()}},t.prototype.async_delete_data=function(t,e){var i,n,o;this._debug&&(o="async_delete_data "+t,(i=this._debug_info_map[t])||(this._debug_info_map[o]=i=new a),n=Date.now());try{cc.sys.localStorage.removeItem(t)}catch(t){cc.error(t)}if(this._debug){i=this._debug_info_map[o];var r=Date.now()-n;i.cost_time_array.push(r)}e&&e()},t.prototype.async_read_remote_data=function(){cc.error("\u8be5\u65b9\u6cd5\u8fd8\u672a\u5b9e\u73b0")},t.prototype.async_write_remote_data=function(){cc.error("\u8be5\u65b9\u6cd5\u8fd8\u672a\u5b9e\u73b0")},t.prototype.async_delete_remote_data=function(){cc.error("\u8be5\u65b9\u6cd5\u8fd8\u672a\u5b9e\u73b0")},t.prototype.print_debug_info=function(){if(this._debug)for(var t in this._debug_info_map){var e=this._debug_info_map[t];cc.log(t+" execute times:"+e.cost_time_array.length),cc.log(JSON.stringify(e))}},t.prototype.string_byte_length=function(t){var e=0,i=t.length;if(i){for(var n=0;n<i;n++)t.charCodeAt(n)>255?e+=2:e++;return e}return 0},t._instance=null,t}();i.StorageManager=o,("undefined"==typeof window?e:window).StorageManager=o}.call(void 0,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{encryptjs:"encryptjs"}],StoreData:[function(t,e,i){"use strict";cc._RF.push(e,"3c9ackoOllPLph60o91iV81","StoreData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.StoreData=void 0;var a=t("GameManager"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="StoreData",e.diamond_count=0,e.next_diamond_time=0,e.free_box_count=0,e.next_free_box_time=0,e.classic_box_count=0,e.next_greate_box_time=0,e.greate_box_count=0,e.liandong_box_count=0,e.liandong_days=0,e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){i.is_init||(i.is_init=!0,i.async_write_data()),e&&e(t)})},e.prototype.async_write_data=function(i){a.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.EVENT_DATA_CHANGE="store_data_change",e}(t("StorageBase").StorageBase);i.StoreData=o,cc._RF.pop()},{GameManager:"GameManager",StorageBase:"StorageBase"}],TTMiniGame:[function(t,e,i){"use strict";cc._RF.push(e,"a5052ayDp9ORZrp65L5krvA","TTMiniGame"),Object.defineProperty(i,"__esModule",{value:!0}),i.TTMiniGame=void 0;var n=t("GameManager"),a=t("ChannelManager"),o=t("Utils"),r=t("TaskManager"),s=t("Constants"),c=function(){function t(){this._min_banner_ad_width=256,this._banner_ad_id_array=[],this._video_ad_id_array=[],this._interstitial_ad_id="",this._banner_ad_array=[],this._banner_ad_flag_array=[!1],this._banner_ad_loaded_array=[!1],this._video_ad_array=[],this._video_cb_array=[],this._video_cb_target_array=[],this._video_close_cb_array=[],this._video_close_cb_target_array=[],this._interstitial_ad=null,this._interstitial_ad_loaded=!1,this._share_id_array=[],this._default_share_id="6rbkd4ptsrf3p282j4",this._share_config_url="share.json",this.config_url="ser.php?data=2",this._record_start_time=0,this._record_end_time=0,this._is_share_record_video=!1,this._is_restart=!1,this._if_need_video_share=!1,this._video_path="",this._follow_name="follow.png",this._follow_btn_stat=!1,this.userOpenId="",this._share_title_array=["\u4ebf\u4e07\u50f5\u5c38"],this._douYinFollowBtnStat="0",this.video_ad_load_stat=!0,this._ad_swith={a1:0,a15:1,a16:1},this._scene=""}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.initAdSwitch=function(){this._ad_swith.a1=0},t.prototype.load_channel_env=function(t){var e=this;this.canvasResize();var i=tt.getLaunchOptionsSync();if("scene"in i&&(this._scene=i.scene),window.tt)return window.tt.onHide(function(){}),window.tt.onShow(function(){}),this._banner_ad_id_array[a.BANNER_AD_TYPE.ALL]="1spsttmi38gk8r0mul",this._video_ad_id_array[a.REWARD_VIDEO_AD_TYPE.ALL]="o55h4gm07h25jlb9jb",this._interstitial_ad_id="3dkhbkfdefnl1gnksr",console.log("tt"+JSON.stringify(window.tt)),window.tt.login({force:!1,success:function(t){if(t.code){var i="/?code="+t.code+"&appid=ttae7dd8c03146ae1b";console.log("dataString:",i),console.log("login res:",t),tt.request({url:i,method:"GET",header:{"content-type":"application/json"},success:function(t){if(console.log("game.login requestSuc para1:",t),0==t.data.ResultCode){console.log("game login res.data:",t.data);var i=t.data.data.openid;e.userOpenId=i,console.log("this.userOpenId",e.userOpenId)}},fail:function(t){console.log("wx.login requestFail para1:",t)}})}else console.log("\u767b\u5f55\u5931\u8d25\uff01"+t.errMsg)},fail:function(){console.log("login\u8c03\u7528\u5931\u8d25")}}),this._share_id_array=a.ChannelManager.SHARE_CONFIG.share_id_array,this.load_share_config(),t(),this.loginVerify(),!0},t.prototype.load_sub_packages_env=function(t){return t(),!0},t.prototype.get_app_name=function(){return window.tt&&window.tt.getSystemInfoSync?window.tt.getSystemInfoSync().appName:a.ChannelManager.UNKNOWN},Object.defineProperty(t.prototype,"is_rank",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_share",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_video_share",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.vibrate_short=function(){tt.vibrateShort&&tt.vibrateShort({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}})},t.prototype.vibrate_long=function(){tt.vibrateLong&&tt.vibrateLong({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},Object.defineProperty(t.prototype,"is_support_more_game",{get:function(){return"ios"!=window.tt.getSystemInfoSync().platform&&!!(window.tt.onMoreGamesModalClose&&window.tt.onNavigateToMiniProgram&&window.tt.showMoreGamesModal)},enumerable:!1,configurable:!0}),t.prototype.show_more_game=function(t,e){this.is_support_more_game&&(window.tt.onMoreGamesModalClose(function(t){console.log("modal closed",t)}),window.tt.onNavigateToMiniProgram(function(t){console.log(t.errCode),console.log(t.errMsg)}),window.tt.showMoreGamesModal({appLaunchOptions:[],success:function(i){console.log("success",i.errMsg),t&&e&&t.call(e,0)},fail:function(i){console.log("fail",i.errMsg),t&&e&&t.call(e,1)}}))},t.prototype.create_interstitial_ad=function(){var t=this;"devtools"!=this.get_app_name()&&this.is_support_interstitial_ad&&(this._interstitial_ad=tt.createInterstitialAd({adUnitId:this._interstitial_ad_id}),this._interstitial_ad.load().then(function(){}).catch(function(t){console.error("load",t)}),this._interstitial_ad.onLoad(function(){t._interstitial_ad_loaded=!0}),this._interstitial_ad.onClose(function(){console.log("close event emit")}),this._interstitial_ad.onError(function(t){console.log("error",t)}))},Object.defineProperty(t.prototype,"is_support_interstitial_ad",{get:function(){return tt.createInterstitialAd?(console.log("is_support_interstitial_ad  createInterstitialAd: true"),"ios"!=tt.getSystemInfoSync().platform||(console.log("is_support_interstitial_ad: false"),!1)):(console.log("is_support_interstitial_ad: false"),!1)},enumerable:!1,configurable:!0}),t.prototype.show_interstitial_ad=function(t,e){this._interstitial_ad&&this._interstitial_ad_loaded&&this._interstitial_ad.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f"),t&&e&&t.call(e,0)}).catch(function(i){console.error("show",i),t&&e&&t.call(e,1)})},t.prototype.loginVerify=function(){return tt.showShareMenu({withShareTicket:!1}),tt.onShareAppMessage(function(){return{title:"\u4ebf\u4e07\u50f5\u5c38",imageUrl:"4.jpg",query:"",success:function(t){console.log("\u8f6c\u53d1\u6210\u529f"),console.log(t)},fail:function(t){console.log("fail tt onShareAppMessage"+t)}}}),!0},t.prototype.share_req=function(t,e){if(window.tt){var i=void 0;if(0==this._share_id_array.length)i=this._default_share_id;else{var n=o.Utils.math_random(!0,0,this._share_id_array.length);i=this._share_id_array[n]}window.tt.shareAppMessage({templateId:i,query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f"),t.call(e)},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}})}return!0},t.prototype.create_banner_ad=function(){var t=this;if(window.tt)for(var e=window.tt.getSystemInfoSync(),i=e.windowWidth,n=e.windowHeight,a=function(e){var a=e,r=o._banner_ad_id_array[a];if(null==r||""==r)return"continue";var s=window.tt.createBannerAd({adUnitId:r,adIntervals:30,style:{width:o._min_banner_ad_width,top:n,left:(i-o._min_banner_ad_width)/2}});o._banner_ad_array.push(s),s.onLoad(function(){console.log("banner ad id:"+r+" onLoad"),t._banner_ad_loaded_array[a]=!0}),s.onResize(function(t){s.style.left=(i-t.width)/2,s.style.top=n-t.height,console.log("banner_ad.onResize:",t.width,t.height);var e=cc.view.getDevicePixelRatio(),a=cc.view.getScaleX();console.log("banner need design size:",t.width*e/a,t.height*e/a)})},o=this,r=0;r<this._banner_ad_id_array.length;r++)a(r)},t.prototype.show_banner_ad=function(t){var e=this;if(this._banner_ad_loaded_array[t]){this._banner_ad_flag_array[t]=!0;var i=this._banner_ad_array[t];i.show().then(function(){e._banner_ad_flag_array[t]?console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f"):(i.hide(),console.log("\u5e7f\u544a\u663e\u793a\u6162\u4e86\uff0c\u4e0d\u9700\u8981\u663e\u793a\u4e86"))}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)})}},t.prototype.hide_banner_ad=function(t){if(this._banner_ad_loaded_array[t]){var e=this._banner_ad_array[t];e&&(e.hide(),this._banner_ad_flag_array[t]=!1)}},t.prototype.create_video_ad=function(){if(null!=window.tt&&null!=window.tt.createRewardedVideoAd)for(var t=0;t<this._video_ad_id_array.length;t++){var e=t;this._video_ad_array[e]=window.tt.createRewardedVideoAd({adUnitId:this._video_ad_id_array[e]}),this.on_video_ad_handler(e)}},t.prototype.on_video_ad_handler=function(t){var e=this;this._video_ad_array[t].onClose(function(i){i&&i.isEnded||void 0===i?(console.log("\u89c6\u9891\u5e7f\u544a \u6b63\u5e38\u64ad\u653e\u7ed3\u675f"),r.TaskManager.instance.checkTask(s.TaskConditionTypeEnum.TASK_CONDITION_VIDEO_COUNT,1),e._video_cb_array[t].apply(e._video_cb_target_array[t])):(console.log("\u89c6\u9891\u5e7f\u544a \u64ad\u653e\u4e2d\u9014\u9000\u51fa"),n.gm.ui.show_notice("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u6ca1\u6709\u5956\u52b1"),e._video_close_cb_array[t]&&e._video_close_cb_target_array[t]&&e._video_close_cb_array[t].apply(e._video_close_cb_target_array[t])),cc.game.resume()}),this._video_ad_array[t].onLoad(function(){e.video_ad_load_stat&&(e.video_ad_load_stat=!1,e.show_video_ad(e._video_cb_array[0],e._video_cb_target_array[0],0,e._video_close_cb_array[0],e._video_close_cb_target_array[0])),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._video_ad_array[t].onError(function(t){e.video_ad_load_stat=!1,console.log(t)})},t.prototype.show_video_ad=function(t,e,i,a,o){var r=this;this._video_cb_array[i]=t,this._video_cb_target_array[i]=e,this._video_close_cb_array[i]=a,this._video_close_cb_target_array[i]=o,this._video_ad_array[i]?this._video_ad_array[i].show().then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),cc.game.pause(),r.video_ad_load_stat=!1}).catch(function(){r._video_ad_array[i].load().then(function(){console.log("\u89c6\u9891\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),r._video_ad_array[i].show().then(function(){console.log("\u91cd\u65b0\u62c9\u53d6\uff0c\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),cc.game.pause(),r.video_ad_load_stat=!1}).catch(function(i){console.log("\u91cd\u65b0\u62c9\u53d6\u5931\u8d25",i),1004==i.errCode?n.gm.ui.show_notice("\u4eca\u65e5\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u6b21\u6570\u5df2\u7528\u5c3d"):n.gm.ui.show_notice("\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u6253\u5f00\u5931\u8d25"),n.gm.channel.share_req(function(){t&&t.call(e)},r)})})}):this.create_video_ad()},t.prototype.set_rank_value=function(){if(window.tt){window.tt.setUserGroup({groupId:"level_group"});var t={ttgame:{score:0,update_time:Math.floor((new Date).getTime()/1e3)},cost_time:0};window.tt.setUserCloudStorage({KVDataList:[{key:"level",value:JSON.stringify(t)}]}),cc.log("\u4e0a\u62a5\u6392\u884c\u6570\u636e")}},t.prototype.get_rank_data=function(){return window.tt&&window.tt.getOpenDataContext().postMessage({message:0}),!0},t.prototype.set_rank_close=function(){window.tt&&window.tt.getOpenDataContext().postMessage({message:99})},t.prototype.get_self_rank_data=function(){return window.tt&&window.tt.getOpenDataContext().postMessage({message:300}),!0},t.prototype.set_self_rank_close=function(){window.tt&&window.tt.getOpenDataContext().postMessage({message:301})},t.prototype.on_rank_pre_page_click=function(){window.tt&&window.tt.getOpenDataContext().postMessage({message:100})},t.prototype.on_rank_next_page_click=function(){window.tt&&window.tt.getOpenDataContext().postMessage({message:101})},t.prototype.checkIfCanRecord=function(){return!0},t.prototype.record_start=function(){var t=this;if(window.tt&&window.tt.getGameRecorderManager){var e=this,i=window.tt.getGameRecorderManager();i.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb"),e._record_start_time=Date.now(),t._is_restart=!1}),this._is_restart=!0,i.start({duration:180}),i.onStop(function(t){console.log("\u5f55\u5c4f\u7ed3\u675f"),e._record_end_time=Date.now(),e._is_share_record_video=!1,console.log(t.videoPath),e._video_path=t.videoPath,e.share_video(!1),e._is_restart&&setTimeout(function(){e.record_start()},.017)})}},t.prototype.record_stop=function(t){window.tt&&window.tt.getGameRecorderManager&&(this._if_need_video_share=t,window.tt.getGameRecorderManager().stop())},t.prototype.share_video=function(t,e){if(t||this._if_need_video_share){var i=this;if(this._record_end_time>0&&this._record_end_time-this._record_start_time<3017)n.gm.ui.show_notice(n.gm.const.TEXT_19);else{var a;if(0==this._share_id_array.length)a=this._default_share_id;else{var r=o.Utils.math_random(!0,0,this._share_id_array.length);a=this._share_id_array[r]}window.tt&&window.tt.shareAppMessage({channel:"video",templateId:a,title:i._share_title_array,imageUrl:"",query:"",extra:{videoPath:i._video_path,videoTopics:i._share_title_array},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),i._record_start_time=i._record_end_time=0,i._is_share_record_video=!0,e&&e(0)},fail:function(){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25"),e&&e(1)}})}}},t.prototype.viedo_share=function(t,e){var i,n=this;if(0==this._share_id_array.length)i=this._default_share_id;else{var a=o.Utils.math_random(!0,0,this._share_id_array.length);i=this._share_id_array[a]}window.tt&&window.tt.shareAppMessage({channel:"video",templateId:i,title:n._share_title_array,imageUrl:"",query:"",extra:{videoPath:n._video_path,videoTopics:n._share_title_array},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),n._record_start_time=n._record_end_time=0,n._is_share_record_video=!0,e&&e(0)},fail:function(){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25"),e&&e(1)}})},t.prototype.clear_cache=function(){window.wxDownloader&&(window.wxDownloader.cleanAllAssets(),console.log("delete cache success"))},t.prototype.follow=function(t,e){if(tt.checkFollowState){var i=tt.getSystemInfoSync();if(console.log("follow:tt.getSystemInfoSync.appName:",i.appName),"Toutiao"==i.appName){console.log("\u518d\u68c0\u6d4b\u6709\u6ca1\u6709\u5173\u6ce8\u63a5\u53e3\uff01follow tt.checkFollowState");var a=this,o={windowWidth:0,windowHeight:0};o.windowWidth=i.windowWidth,o.windowHeight=i.windowHeight,console.log("sysinfo:",o),tt.checkFollowState({success:function(i){console.log("\u8be5\u7528\u6237\u5df2\u7ecf\u5173\u6ce8\u4e86\u516c\u4f17\u53f7\uff01\uff01\uff01",i.result),i.result||tt.downloadFile({url:"tower_shoot/"+a._follow_name,success:function(i){if(200===i.statusCode){console.log("\u521b\u5efaimages\u5173\u6ce8\u6309\u94ae"),console.log(""+i.tempFilePath);var r=0,s=0;"follow.png"==a._follow_name?(r=o.windowWidth/n.gm.data.design_resolution.x*145,s=o.windowHeight/n.gm.data.design_resolution.y*101):(r=o.windowWidth/n.gm.data.design_resolution.x*600,s=o.windowHeight/n.gm.data.design_resolution.y*800);var c=o.windowWidth-r,_=o.windowHeight*(391.484-s/2)/n.gm.data.design_resolution.y;if(console.log("MainVO.designResolution.x:%s,MainVO.designResolution.y:%s.",n.gm.data.design_resolution.x,n.gm.data.design_resolution.y),a.followBtn=tt.createFollowButton({type:"image",image:i.tempFilePath,style:{left:c,top:_,width:r,height:s,lineHeight:40,backgroundColor:"#ff0000",textColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,borderWidth:0,borderColor:"#ff0000"}}),a.followBtn)return a.followBtn.onTap(function(i){console.log("follow_callback(res):",JSON.stringify(i)),0==i.errCode&&t.call(e)}),a.followBtn.show(),a._follow_btn_stat=!0,!0}},fail:function(t){console.log("downloadFile\u8c03\u7528\u5931\u8d25\uff1a",t)}})},fail:function(t){console.log("createFollowBtn is fail!",t)}})}return!1}},t.prototype.follow_btn_stat=function(){return this._follow_btn_stat},t.prototype.hide_follow_btn=function(){return!!this.followBtn&&(this.followBtn.hide(),!0)},t.prototype.show_follow_btn=function(){return!!this.followBtn&&(this.followBtn.show(),!0)},t.prototype.user_subscribe_message=function(t,e){if(void 0===e&&(e=[]),tt.requestSubscribeMessage){var i,a=this;i=0==e.length?["MSG1158625aae6f860a892f55d4f4daee35c9b8c5c13730"]:e,tt.requestSubscribeMessage({tmplIds:i,success:function(t){console.log("userSubscribeMessage:",t);var e=a.userOpenId+"&template_id="+JSON.stringify(i);console.log("userSubscribeMessage tmpUrl:",e),tt.request({url:e,success:function(t){console.log("userSubscribeMessage requestSuc para1:",JSON.stringify(t))},fail:function(t){console.log("userSubscribeMessage requestFail para1:",t)}}),n.gm.data.start_data.user_subscribe_message_stat=1,n.gm.data.start_data.async_write_data()},fail:function(t){console.log(t)}})}},t.prototype.DouYinFollowBS=function(){return"DOUYIN"==tt.getSystemInfoSync().appName.toUpperCase()?this._douYinFollowBtnStat:"0"},t.prototype.douYinFollow=function(t,e){tt.openAwemeUserProfile&&(tt.openAwemeUserProfile(),t.call(e))},t.prototype.load_share_config=function(){var t=this;tt.request({url:t._share_config_url,method:"GET",header:{"content-type":"application/json"},success:function(e){console.log("game.login requestSuc para2:",e),"data"in e&&("share_title_array"in e.data&&(t._share_title_array=e.data.share_title_array),"douYinFollowBtnStat"in e.data&&(t._douYinFollowBtnStat=e.data.douYinFollowBtnStat),console.log("this._share_title_array:%s,this._douYinFollowBtnStat:%s",t._share_title_array,t._douYinFollowBtnStat),"aa"in e.data&&(t._ad_swith=e.data.aa),t.get_config_option())},fail:function(e){console.log("tt.login requestFail para1:",e),t.initAdSwitch()}})},t.prototype.get_config_option=function(){var t=this;tt.request({url:t.config_url,method:"POST",header:{"content-type":"application/json"},success:function(e){e.data||t.initAdSwitch()},fail:function(){t.initAdSwitch()}})},t.prototype.video_switch=function(){var t=!1;return 1==this._ad_swith.a1&&(t=this.test_flag()),t},t.prototype.test_flag=function(){var t=!1;return 0==this._ad_swith.a16?t=!0:"023001"!=this._scene&&"023002"!=this._scene&&"023023"!=this._scene||(t=!0),t},t.prototype.canvasResize=function(){var t,e,i=cc.find("Canvas").getComponent(cc.Canvas);e||(e=i.designResolution);var a=e,o=cc.view.getFrameSize(),r=o.width,s=o.height,c=r,_=s;s/r>a.height/a.width?_=s/r*(c=a.width):c=(_=a.height)*r/s,t=cc.v2(c,_),n.gm.data.design_resolution=t,cc.log("MainVO.designResolution.x:,MainVO.designResolution.y:%s.",JSON.stringify(t))},t._instance=null,t.ad_enable=!0,t}();i.TTMiniGame=c,cc._RF.pop()},{ChannelManager:"ChannelManager",Constants:"Constants",GameManager:"GameManager",TaskManager:"TaskManager",Utils:"Utils"}],TaskData:[function(t,e,i){"use strict";cc._RF.push(e,"1cf71i0VqRKEogKJJM9EAMQ","TaskData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.BoxItemData=i.PoolItemData=i.TaskInfoData=i.TaskData=void 0;var a=t("Constants"),o=t("StorageBase"),r=t("GameManager"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="TaskData",e.daily_task_list=[],e.achivement_list=[],e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){if(i.is_init){for(var n=0;n<i.daily_task_list.length;n++)Object.setPrototypeOf(i.daily_task_list[n],c.prototype);for(n=0;n<i.achivement_list.length;n++)Object.setPrototypeOf(i.achivement_list[n],c.prototype)}else{var o=r.gm.config.get_config_data("TaskConfigData");for(var s in o.data){var _=r.gm.config.get_row_data("TaskConfigData",s);if(_.taskType==a.TaskTypeEnum.TASK_DAILY){var d=new c;d.task_id=_.id,d.dgree=0,d.state=0,i.daily_task_list.push(d)}if(_.taskType==a.TaskTypeEnum.TASK_ACHIVEMENT&&_.id%1e3==1){var l=new c;l.task_id=_.id,l.dgree=0,l.state=0,i.achivement_list.push(l)}}i.sort_task(i.achivement_list),i.is_init=!0,i.async_write_data()}e&&e(t)})},e.prototype.sort_task=function(t){t.sort(function(t,e){return t.state%2>e.state%2?-1:t.state%2==e.state%2&&t.state<e.state?-1:1})},e.prototype.async_write_data=function(i){r.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.prototype.get_finish_task_count=function(){for(var t=0,e=0;e<this.daily_task_list.length;++e)this.daily_task_list[e].state==a.TaskStateEnum.GOT_REWARD&&t++;return t},e.EVENT_DATA_CHANGE="task-data-change",e}(o.StorageBase);i.TaskData=s;var c=function(){function t(){this.task_id=0,this.dgree=0,this.state=0}return t.prototype.query_config=function(){var t={};return this.task_id>0&&(t=r.gm.config.get_row_data("TaskConfigData",this.task_id.toString())),t},t}();i.TaskInfoData=c,i.PoolItemData=function(){this.id=0,this.weight=0,this.count=0},i.BoxItemData=function(){this.id=0,this.count=0,this.index=0},cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",StorageBase:"StorageBase"}],TaskManager:[function(t,e,i){"use strict";cc._RF.push(e,"5c6faJ7bxZAS6KP2yTLvrCx","TaskManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskManager=void 0;var n=t("GameManager"),a=t("Constants"),o=t("DelayTaskManager"),r=function(){function t(){this._isChange=!1}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.checkAll=function(){var t=this,e=n.gm.config.get_config_data("TaskConfigData"),i=function(e){o.DelayTaskManager.instance.addTask({target:a,callback:function(){var i=e,a=n.gm.config.get_row_data("TaskConfigData",i);t.checkTask(a.condition,0)},args:[]})},a=this;for(var r in e.data)i(r);o.DelayTaskManager.instance.run(0,8)},t.prototype.checkTask=function(t,e){this._isChange=!1;for(var i=0;i<n.gm.data.task_data.daily_task_list.length;++i)(a=n.gm.data.task_data.daily_task_list[i].query_config()).condition==t&&this.taskChange(a.condition,a.value,e,n.gm.data.task_data.daily_task_list[i]);for(i=0;i<n.gm.data.task_data.achivement_list.length;++i){var a;(a=n.gm.data.task_data.achivement_list[i].query_config()).condition==t&&this.taskChange(a.condition,a.value,e,n.gm.data.task_data.achivement_list[i])}n.gm.data.task_data.async_write_data()},t.prototype.taskChange=function(t,e,i,o){switch(n.gm.config.get_row_data("TaskConfigData",o.task_id+""),t){case a.TaskConditionTypeEnum.TASK_CONDITION_PASS_LEVEL:o.dgree=n.gm.data.start_data.max_pass_level_id;break;case a.TaskConditionTypeEnum.TASK_CONDITION_KILL_ENEMY_COUNT:o.dgree+=i;break;case a.TaskConditionTypeEnum.TASK_CONDITION_UNLOCK_HERO_COUNT:for(var r=void 0,s=0,c=0;c<n.gm.data.hero_data.hero_data_array.length;c++)r=n.gm.data.hero_data.hero_data_array[c],n.gm.data.warehouse_data.get_item_count(r.id)>0&&s++;o.dgree=s;break;case a.TaskConditionTypeEnum.TASK_CONDITION_HERO_LEVEL:var _=0;for(c=0;c<n.gm.data.hero_data.hero_data_array.length;c++)r=n.gm.data.hero_data.hero_data_array[c],n.gm.data.warehouse_data.get_item_count(r.id)>0&&(_+=r.lv);o.dgree=_;break;case a.TaskConditionTypeEnum.TASK_CONDITION_BASE_BUILDING_LEVEL:o.dgree=n.gm.data.start_data.home_lv;break;case a.TaskConditionTypeEnum.TASK_CONDITION_VIDEO_COUNT:o.dgree+=i}o.state,o.state==a.TaskStateEnum.ACCEPT&&(o.state=o.dgree>=e?a.TaskStateEnum.FINISH:a.TaskStateEnum.ACCEPT)},t._instance=null,t}();i.TaskManager=r,cc._RF.pop()},{Constants:"Constants",DelayTaskManager:"DelayTaskManager",GameManager:"GameManager"}],TiledMapExport:[function(t,e,i){"use strict";cc._RF.push(e,"06916JLMltO+5qH4B238q0I","TiledMapExport");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.TiledMapExport=void 0;var o=t("TiledMapUtils"),r=cc._decorator,s=r.ccclass,c=r.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tiled_map=null,e.export_btn=null,e.map_id_lbl=null,e}return n(e,t),e.prototype.onEnable=function(){o.TiledMapUtils.init(cc.Camera.findCamera(this.node),this.tiled_map,cc.size(1440,1580),cc.Canvas.instance.node.getContentSize()),cc.log(this.tiled_map)},e.prototype.onDisable=function(){},e.prototype.editor_on_button_click_handler=function(t){if(t.target==this.export_btn.node){var e=parseInt(this.map_id_lbl.string.trim());isNaN(e)||o.TiledMapUtils.export(e)}},a([c(cc.TiledMap)],e.prototype,"tiled_map",void 0),a([c(cc.Button)],e.prototype,"export_btn",void 0),a([c(cc.Label)],e.prototype,"map_id_lbl",void 0),a([s],e)}(cc.Component);i.TiledMapExport=_,cc._RF.pop()},{TiledMapUtils:"TiledMapUtils"}],TiledMapUtils:[function(t,e,i){"use strict";cc._RF.push(e,"aa181hEYVVPKbdlebl53QoW","TiledMapUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.TiledMapUtils=void 0;var n=t("Utils"),a=function(){function t(){}return t.init=function(e,i,n,a){this.camera=e,this.tiled_map=i,this.map_size=i.getMapSize(),this.tile_size=i.getTileSize(),this.half_tile_size=cc.size(this.tile_size.width/2,this.tile_size.height/2),this.map_pixel_size=cc.size(this.map_size.width*this.tile_size.width,this.map_size.height*this.tile_size.height),this.half_map_pixel_size=cc.size(this.map_pixel_size.width/2,this.map_pixel_size.height/2),this.map_visible_size=n,this.max_visible_offset=cc.size((n.width-a.width)/2,(n.height-a.height)/2);for(var o=this.tiled_map.getLayer("grid"),r=0;r<this.map_size.height;r++){this.grid_state_array[r]=[];for(var s=0;s<this.map_size.height;s++)this.grid_state_array[r][s]=o.getTileGIDAt(s,r)>0}for(var c=this.tiled_map.getObjectGroups(),_=0;_<c.length;_++)for(var d=c[_],l=d.getObjects(),u=void 0,h=0;h<l.length;h++){(u=l[h]).grid_array=[];var p=Math.ceil(u.width/t.tile_size.width),g=cc.v3(u.x,u.y+p*t.tile_size.height),f=t.tiled_map_point_to_grid_point(g),m=p;for(r=0;r<m;r++)for(s=0;s<p;s++)f.y+r>=0&&f.y+r<this.map_size.height&&f.x+s>=0&&f.x+s<this.map_size.width&&(u.grid_array.push(cc.v3(f.x+s,f.y+r)),t.grid_state_array[f.y+r][f.x+s]=!0);u.zIndex=f.x+f.y+Math.floor((p+m)/2);var y=d.node.getChildByName("img"+u.id);y&&(y.zIndex=u.zIndex)}this.is_init=!0},t.import=function(t,e,i,n){this.camera=t,this.map_size=e.map_size,this.tile_size=e.tile_size,this.half_tile_size=cc.size(this.tile_size.width/2,this.tile_size.height/2),this.map_pixel_size=cc.size(this.map_size.width*this.tile_size.width,this.map_size.height*this.tile_size.height),this.half_map_pixel_size=cc.size(this.map_pixel_size.width/2,this.map_pixel_size.height/2),this.map_visible_size=i,this.max_visible_offset=cc.size((i.width-n.width)/2,(i.height-n.height)/2),this.grid_state_array=[],this.tree_data_array=[],this.tree_static_data_array=[];for(var a=0;a<e.grid_state_array.length;a++){var o=e.grid_state_array[a];this.grid_state_array[a]=[];for(var r=0;r<o.length;r++)this.grid_state_array[a][r]=e.grid_state_array[a][r]>0}for(var s,c=0;c<e.tree_array.length;c++){var _={},d=(s=e.tree_array[c])[0];_.texture_url=cc.js.formatStr("res/map/map_%d/%s",e.map_id,e.texture_url_array[d]),_.grid_pos=cc.v3(s[1],s[2]),_.grid_length=cc.v3(s[3],s[3]),this.tree_data_array.push(_)}for(c=0;c<e.tree_static_array.length;c++)_={},d=(s=e.tree_static_array[c])[0],_.texture_url=cc.js.formatStr("res/map/map_%d/%s",e.map_id,e.texture_url_array[d]),_.position=cc.v3(s[1],s[2]),_.size=cc.size(s[3],s[4]),this.tree_static_data_array.push(_);this.is_init=!0},t.export=function(e){var i={};i.map_id=e,i.map_size=this.tiled_map.getMapSize(),i.tile_size=this.tiled_map.getTileSize(),i.grid_state_array=[],i.tree_array=[],i.tree_static_array=[],i.texture_url_array=[];for(var a=this.tiled_map.getLayer("grid"),o=0;o<this.map_size.height;o++){i.grid_state_array[o]=[];for(var r=0;r<this.map_size.height;r++)i.grid_state_array[o][r]=a.getTileGIDAt(r,o)>0?1:0}for(var s=0;s<this.tiled_map._tmxFile.textureNames.length;s++){var c=this.tiled_map._tmxFile.textureNames[s],_=c.lastIndexOf("."),d=c.substring(0,_);i.texture_url_array.push(d)}var l=this.tiled_map.getObjectGroups();for(s=0;s<l.length;s++)for(var u=l[s],h=u.getObjects(),p=void 0,g=0;g<h.length;g++){var f=[];if((p=h[g]).gid-1>=0&&p.gid-1<i.texture_url_array.length)if(f.push(p.gid-1),"tree"==u.getGroupName()){var m=Math.ceil(p.width/t.tile_size.width),y=m,v=cc.v3(p.x,p.y+m*t.tile_size.height),b=t.tiled_map_point_to_grid_point(v);for(f.push(b.x),f.push(b.y),f.push(m),o=0;o<y;o++)for(r=0;r<m;r++)b.y+o>=0&&b.y+o<this.map_size.height&&b.x+r>=0&&b.x+r<this.map_size.width&&(i.grid_state_array[b.y+o][b.x+r]=1);i.tree_array.push(f)}else if("tree_static"==u.getGroupName()){var A=this.tiled_map_point_to_local_point(cc.v3(p));f.push(Math.floor(A.x)),f.push(Math.floor(A.y)),f.push(Math.floor(p.width)),f.push(Math.floor(p.height)),i.tree_static_array.push(f)}}var w=JSON.stringify(i);console.log(w),cc.sys.isBrowser&&n.Utils.save_json_file("tiled_map.json",w)},t.reset=function(){this.tiled_map=null,this.camera=null,this.is_init=!1},t.screen_to_world_point=function(t){return this.camera.getScreenToWorldPoint(t)},t.world_point_to_tiled_map_point=function(t){return this.tiled_map.node.convertToNodeSpaceAR(t).add(cc.v3(this.half_map_pixel_size.width,this.half_map_pixel_size.height))},t.tiled_map_point_to_grid_point=function(t){var e=cc.v2(this.map_pixel_size.width/2,this.map_pixel_size.height),i=t.x-e.x,n=t.y-e.y,a=i/this.tile_size.width-n/this.tile_size.height,o=-(n/this.tile_size.height+i/this.tile_size.width);return a<0&&(a=0),o<0&&(o=0),a>this.map_size.width-1&&(a=this.map_size.width-1),o>this.map_size.height-1&&(o=this.map_size.height-1),cc.v3(Math.floor(a),Math.floor(o))},t.grid_point_to_tiled_map_point=function(t){var e=cc.v2(this.map_pixel_size.width/2,this.map_pixel_size.height);if(t.x>=this.map_size.width||t.x<0||t.y>=this.map_size.height||t.y<0)return cc.v3();var i=(t.x-t.y)*this.tile_size.width/2,n=-(t.x+t.y)*this.tile_size.height/2;return cc.v3(e.x+i,e.y+n)},t.tiled_map_point_to_local_point=function(t){return t.sub(cc.v3(this.half_map_pixel_size.width,this.half_map_pixel_size.height))},t.local_point_to_tiled_map_point=function(t){return t.add(cc.v3(this.half_map_pixel_size.width,this.half_map_pixel_size.height))},t.grid_point_to_z_index=function(t,e){return 2*t.x+2*t.y+e.x+e.y},t.get_image_object=function(t){for(var e=this.tiled_map.getObjectGroups(),i=0;i<e.length;i++){var n=e[i].node.getChildByName("img"+t.id);if(n)return n.getComponent(cc.Sprite)}return null},t.find_object=function(t){for(var e=this.tiled_map.getObjectGroups(),i=0;i<e.length;i++)for(var n=e[i].getObjects(),a=void 0,o=void 0,r=0;r<n.length;r++)if((o=(a=n[r]).grid_array)&&o.findIndex(function(e){return e.equals(t)})>-1)return a;return null},t.camera=null,t.tiled_map=null,t.map_pixel_size=null,t.half_map_pixel_size=null,t.map_size=null,t.tile_size=null,t.half_tile_size=null,t.map_visible_size=null,t.max_visible_offset=null,t.grid_state_array=[],t.tree_data_array=[],t.tree_static_data_array=[],t.is_init=!1,t}();i.TiledMapUtils=a,cc._RF.pop()},{Utils:"Utils"}],Timer:[function(t,e,i){"use strict";cc._RF.push(e,"2f9bdhAlNxGJLgnERd/3hbL","Timer"),Object.defineProperty(i,"__esModule",{value:!0}),i.Timer=void 0;var n=function(){function t(){this._timer_id=0,this._interval=0,this._cur_count=0,this._total_count=0,this._is_running=!1}return Object.defineProperty(t.prototype,"is_running",{get:function(){return this._is_running},enumerable:!1,configurable:!0}),t.prototype.start=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=0),this._on_timer_handler=t,this._interval=e,this._total_count=i,this._cur_count=0,this._is_running=!0,this._on_timer_handler(this._cur_count,this._total_count),this.next()},t.prototype.stop=function(){this._is_running&&(this._timer_id>0&&(clearTimeout(this._timer_id),this._timer_id=0),this._interval=0,this._cur_count=0,this._total_count=0,this._on_timer_handler=void 0,this._is_running=!1)},t.prototype.next=function(){var t=this;this._is_running&&(0==this._total_count||this._cur_count<this._total_count)?(clearTimeout(this._timer_id),this._timer_id=setTimeout(function(){t._on_timer_handler&&(t._cur_count++,t._on_timer_handler(t._cur_count,t._total_count),t.next())},this._interval)):this.stop()},t}();i.Timer=n,cc._RF.pop()},{}],TouchSingle:[function(t,e,i){"use strict";cc._RF.push(e,"9092bxefBZDeLFiEtzm2ZV4","TouchSingle");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.TouchSingle=void 0;var o=cc._decorator,r=o.ccclass,s=o.menu,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._touchID=null,e}return n(e,t),e.prototype._touchStart=function(t){null!==this._touchID?t.stopPropagation():this._touchID=t.getID()},e.prototype._touchMove=function(t){this._touchID!==t.getID()&&t.stopPropagation()},e.prototype._touchEnd=function(t){this._touchID!==t.getID()?t.stopPropagation():t.simulate||(this._touchID=null)},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStart,this,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMove,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEnd,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEnd,this,!0)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._touchStart,this,!0),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._touchMove,this,!0),this.node.off(cc.Node.EventType.TOUCH_END,this._touchEnd,this,!0),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._touchEnd,this,!0)},a([r,s("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7ec4\u4ef6/TouchSingle")],e)}(cc.Component);i.TouchSingle=c,cc._RF.pop()},{}],TrapData:[function(t,e,i){"use strict";cc._RF.push(e,"6a8acELZcRDF417XvSX2yB1","TrapData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.TrapItemData=i.TrapData=void 0;var a=t("GameManager"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="TrapData",e.trap_data_array=[],e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){if(i.is_init)for(var n=0;n<i.trap_data_array.length;n++)Object.setPrototypeOf(i.trap_data_array[n],r.prototype);else{var o=a.gm.config.get_config_data("TrapConfigData");if(o)for(var s in o.data){var c=o.data[s];if(1==c.level){var _=new r;_.id=c.id,_.lv=c.level,_.max_num=a.gm.const.MAX_TRAP_COUNT,_.is_unlock=!0,_.is_buy=!0,_.color_hex=a.gm.const.GRID_COLOR_GREEN;var d=c.grid_length.split("|");_.grid_length=cc.v3(parseInt(d[0]),parseInt(d[1])),_.origin_point=cc.v3(15,15),i.trap_data_array.push(_)}}i.is_init=!0,i.async_write_data()}e&&e(t)})},e.prototype.async_write_data=function(i){a.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.EVENT_DATA_CHANGE="trap_data_change",e}(t("StorageBase").StorageBase);i.TrapData=o;var r=function(){this.color_hex="",this.can_move=!0,this.attack_time=0};i.TrapItemData=r,cc._RF.pop()},{GameManager:"GameManager",StorageBase:"StorageBase"}],TrapUpgradeItem:[function(t,e,i){"use strict";cc._RF.push(e,"e359eQ7OgxFYqSC2NWyiuII","TrapUpgradeItem");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.TrapUpgradeItem=void 0;var o=t("Constants"),r=t("GameManager"),s=t("ListViewItem"),c=t("Utils"),_=cc._decorator,d=_.ccclass,l=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.trap_spr=null,e.num_lbl=null,e.select_node=null,e.icon_spr_array=[],e.icon_bg_array=[],e.icon_btn_array=[],e.icon_anim_array=[],e.red_node=null,e.select_lv_node=null,e.trap_btn=null,e.arrow_anim_array=[],e.select_lv_index=-1,e}return n(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.update_view()},enumerable:!1,configurable:!0}),e.prototype.editor_on_button_click_handler=function(t){var e,i;if(t.target!=this.trap_btn.node){for(var n=0;n<this.icon_btn_array.length;n++)if(t.target==this.icon_btn_array[n].node){(e=r.gm.data.trap_data.trap_data_array.indexOf(this._data))!=(i=r.gm.ui.trap.trap_upgrade_list.selectIndex)&&(r.gm.ui.trap.trap_upgrade_list.setSelect(i,!1),r.gm.ui.trap.trap_upgrade_list.setSelect(e,!0)),r.gm.ui.trap.update_upgrade_view(n+2),this.select_lv_index=n,this.select_lv_node.parent=this.icon_btn_array[n].node,this.select_lv_node.active=!0;break}}else(e=r.gm.data.trap_data.trap_data_array.indexOf(this._data))!=(i=r.gm.ui.trap.trap_upgrade_list.selectIndex)&&(r.gm.ui.trap.trap_upgrade_list.setSelect(i,!1),r.gm.ui.trap.trap_upgrade_list.setSelect(e,!0)),r.gm.ui.trap.update_upgrade_view(1),this.select_lv_node.active=!1},e.prototype.update_view=function(){if(this._data&&this._data.id>0){var t=this._data.is_unlock?this._data.id:13099;if(c.Utils.async_set_sprite_frame(this.trap_spr,o.BundleName.COMMON,"res/trap/"+t),this._data.is_unlock){this.num_lbl.node.active=!0;var e=r.gm.data.warehouse_data.get_item_count(this._data.id);this.num_lbl.string=cc.js.formatStr("%d/%d",e,this._data.max_num);for(var i=0;i<this.icon_spr_array.length;i++){var n=r.gm.config.get_row_data("TrapConfigData",this._data.id.toString(),(i+2).toString());c.Utils.async_set_sprite_frame(this.icon_spr_array[i],o.BundleName.TRAP,"res/"+n.pic)}for(i=0;i<this.icon_bg_array.length;i++)c.Utils.set_sprite_state(this.icon_bg_array[i].node,this._data.lv-1>i?cc.Sprite.State.NORMAL:cc.Sprite.State.GRAY,!1)}else for(this.num_lbl.node.active=!1,i=0;i<this.icon_spr_array.length;i++)c.Utils.async_set_sprite_frame(this.icon_spr_array[i],o.BundleName.TRAP,"res/99");var a=r.gm.config.get_row_data("TrapConfigData",this._data.id.toString(),this._data.lv.toString());for(this.red_node.active=a.parts<=r.gm.data.warehouse_data.part_num&&this._data.lv<a.max_level&&this._data.is_unlock,i=0;i<this.arrow_anim_array.length;i++)this.arrow_anim_array[i].active=this._data.is_unlock&&this._data.lv-1==i;this.select_lv_index<0&&(this.select_lv_index=this._data.lv-2),this.select_lv_index>-1&&(this.select_lv_node.parent=this.icon_btn_array[this.select_lv_index].node)}},e.prototype.reset=function(){this.select_lv_index=-1},Object.defineProperty(e.prototype,"select",{set:function(t){this._select=t,this.select_node.active=t,t||(this.select_lv_index=this._data.lv-2),this.select_lv_node.active=t&&this.select_lv_index>-1},enumerable:!1,configurable:!0}),a([l(cc.Sprite)],e.prototype,"trap_spr",void 0),a([l(cc.Label)],e.prototype,"num_lbl",void 0),a([l(cc.Node)],e.prototype,"select_node",void 0),a([l([cc.Sprite])],e.prototype,"icon_spr_array",void 0),a([l([cc.Sprite])],e.prototype,"icon_bg_array",void 0),a([l([cc.Button])],e.prototype,"icon_btn_array",void 0),a([l([cc.Animation])],e.prototype,"icon_anim_array",void 0),a([l(cc.Node)],e.prototype,"red_node",void 0),a([l(cc.Node)],e.prototype,"select_lv_node",void 0),a([l(cc.Button)],e.prototype,"trap_btn",void 0),a([l([cc.Node])],e.prototype,"arrow_anim_array",void 0),a([d],e)}(s.ListViewItem);i.TrapUpgradeItem=u,cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",ListViewItem:"ListViewItem",Utils:"Utils"}],Trap:[function(t,e,i){"use strict";cc._RF.push(e,"3f38aPoxYxAPL1YaXh8B0Wl","Trap");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Trap=void 0;var o=t("Constants"),r=t("GameManager"),s=t("GameModule"),c=t("ListView"),_=t("Utils"),d=cc._decorator,l=d.ccclass,u=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.close_btn=null,e.upgrade_btn=null,e.buy_btn=null,e.money_spr=null,e.money_lbl=null,e.desc_lbl=null,e.icon_spr=null,e.trap_upgrade_list=null,e._select_index=-1,e}return n(e,t),e.prototype.onEnable=function(){r.gm.ui.start.auto_pause(),this.trap_upgrade_list.node.on("item-selected",this.on_item_selected_handler,this),this.update_view(),this.trap_upgrade_list.selectIndex>-1&&this.trap_upgrade_list.setSelect(this.trap_upgrade_list.selectIndex,!1),this.trap_upgrade_list.setSelect(0,!0)},e.prototype.update_view=function(){this.trap_upgrade_list.setData(r.gm.data.trap_data.trap_data_array)},e.prototype.onDisable=function(){r.gm.ui.start.resume_auto_pause(),this.trap_upgrade_list.node.off("item-selected",this.on_item_selected_handler,this),this.trap_upgrade_list.reset()},e.prototype.editor_on_button_click_handler=function(t){if(t.target==this.close_btn.node)r.gm.ui.async_hide_module(r.gm.const.Trap);else if(t.target==this.upgrade_btn.node&&this._select_index>-1&&this._select_index<r.gm.data.trap_data.trap_data_array.length){var e=r.gm.data.trap_data.trap_data_array[this._select_index],i=r.gm.config.get_row_data("TrapConfigData",e.id.toString(),e.lv.toString());if(i){if(r.gm.data.warehouse_data.part_num<i.parts)return r.gm.ui.set_module_args(r.gm.const.GetMoney.key,{data:o.RewardIdEnum.PART}),void r.gm.ui.show_panel(r.gm.const.GetMoney);r.gm.data.warehouse_data.player_del_item(o.RewardIdEnum.PART,i.parts),e.lv++,r.gm.data.trap_data.async_write_data(),this.update_view(),this.update_upgrade_view(e.lv);var n=this.trap_upgrade_list.getItem(this._select_index);n&&n.icon_anim_array[e.lv-2].play()}}},e.prototype.on_item_selected_handler=function(t){this._select_index=this.trap_upgrade_list.selectIndex;var e=this.trap_upgrade_list.getItem(this._select_index);t.detail?(e&&(e.select=!0),e.update_view(),this.update_upgrade_view(e.data.lv)):e&&(e.select=!1)},e.prototype.update_upgrade_view=function(t){if(this._select_index>-1&&this._select_index<r.gm.data.trap_data.trap_data_array.length){var e=r.gm.data.trap_data.trap_data_array[this._select_index],i=r.gm.config.get_row_data("TrapConfigData",e.id.toString(),t.toString());i&&("0"!=i.pic?_.Utils.async_set_sprite_frame(this.icon_spr,o.BundleName.TRAP,"res/"+i.pic):this.icon_spr.spriteFrame=null,this.desc_lbl.string=i.desc,e.is_buy?(_.Utils.async_set_sprite_frame(this.money_spr,o.BundleName.COMMON,"res/item/"+o.RewardIdEnum.PART),this.money_lbl.string=i.parts.toString(),this.upgrade_btn.node.active=!0,this.upgrade_btn.interactable=e.lv<i.max_level&&e.is_unlock&&t==e.lv,_.Utils.set_sprite_state(this.upgrade_btn.node,this.upgrade_btn.interactable?cc.Sprite.State.NORMAL:cc.Sprite.State.GRAY),this.buy_btn.node.active=!1):(_.Utils.async_set_sprite_frame(this.money_spr,o.BundleName.COMMON,"res/item/"+o.RewardIdEnum.DIAMOND),this.money_lbl.string=i.money.toString(),this.upgrade_btn.node.active=!1,this.buy_btn.node.active=!0,this.buy_btn.interactable=e.is_unlock,_.Utils.set_sprite_state(this.buy_btn.node,this.buy_btn.interactable?cc.Sprite.State.NORMAL:cc.Sprite.State.GRAY)))}},a([u(cc.Button)],e.prototype,"close_btn",void 0),a([u(cc.Button)],e.prototype,"upgrade_btn",void 0),a([u(cc.Button)],e.prototype,"buy_btn",void 0),a([u(cc.Sprite)],e.prototype,"money_spr",void 0),a([u(cc.Label)],e.prototype,"money_lbl",void 0),a([u(cc.Label)],e.prototype,"desc_lbl",void 0),a([u(cc.Sprite)],e.prototype,"icon_spr",void 0),a([u(c.ListView)],e.prototype,"trap_upgrade_list",void 0),a([l],e)}(s.GameModule);i.Trap=h,cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",GameModule:"GameModule",ListView:"ListView",Utils:"Utils"}],TypeUtils:[function(t,e,i){"use strict";cc._RF.push(e,"03b3f1B7nxHHqyGUDIw3giV","TypeUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.TypeUtils=void 0;var n=function(){function t(){}return t.testExample=function(){},t.getType=function(t){var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e?t.constructor&&t.constructor.toString().match(/function\s*([^(]*)/)[1]:e},t.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.isNumber=function(t){return"number"==typeof t&&isFinite(t)},t.isUndefined=function(t){return void 0===t},t}();i.TypeUtils=n,cc._RF.pop()},{}],UIManager:[function(t,e,i){"use strict";cc._RF.push(e,"d442cFWoa1K0bXUtmNCD4QT","UIManager");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.UIManager=void 0;var a=t("EventEmitter"),o=t("GameManager"),r=t("Loading"),s=t("Constants"),c=t("Utils"),_=t("CoinFlyAnim"),d=t("BannerNative"),l=t("BigJpgNative"),u=t("IcoNative"),h=function(t){function e(){var e=t.call(this)||this;return e.MODULE_SHOW="module-show",e.MODULE_HIDE="module-hide",e._args_map={},e._map={},e._stack=[],e}return n(e,t),Object.defineProperty(e,"instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current_module",{get:function(){return this._current_module},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"map_drag_node",{get:function(){return this._map_drag_node},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.main_camera=cc.find("Canvas/Main Camera").getComponent(cc.Camera);var e=cc.Canvas.instance.node;this._scene_node=cc.find("Canvas/scene_node"),this._scene_node||(this._scene_node=new cc.Node("scene_node"),e.addChild(this._scene_node),c.Utils.align_with_parent(this._scene_node)),this._ui_node=cc.find("Canvas/ui_node"),this._ui_node||(this._ui_node=new cc.Node("ui_node"),e.addChild(this._ui_node),c.Utils.align_with_parent(this._ui_node)),this._top_node=cc.find("Canvas/top_node"),this._top_node||(this._top_node=new cc.Node("top_node"),e.addChild(this._top_node),c.Utils.align_with_parent(this._top_node)),this._drag_node=cc.find("Canvas/drag_node"),this._drag_node||(this._drag_node=new cc.Node("drag_node"),e.addChild(this._drag_node),c.Utils.align_with_parent(this._drag_node)),this._map_drag_node=cc.find("Canvas/map_drag_node"),this._map_drag_node||(this._map_drag_node=new cc.Node("map_drag_node"),e.addChild(this._map_drag_node),c.Utils.align_with_parent(this._map_drag_node)),cc.macro.ENABLE_MULTI_TOUCH=!0,this._touch_node=cc.find("Canvas/touch_node"),this._touch_node||(this._touch_node=new cc.Node("touch_node"),e.addChild(this._touch_node),c.Utils.align_with_parent(this._touch_node),this._touch_node.on(cc.Node.EventType.TOUCH_START,function(){o.gm.data.last_touch_end_time=Date.now(),o.gm.data.has_no_action_guide=!1,o.gm.data.weak_guide_array.length>0&&cc.Canvas.instance.scheduleOnce(function(){for(var t=o.gm.data.weak_guide_array.length-1;t>=0;t--){var e=o.gm.data.weak_guide_array.splice(t,1)[0];o.gm.pool.put(e.node)}},.1)},this),this._touch_node._touchListener&&this._touch_node._touchListener.setSwallowTouches(!1)),this.async_show_module(o.gm.const.Loading,t)},Object.defineProperty(e.prototype,"drag_node",{get:function(){return this._drag_node},enumerable:!1,configurable:!0}),e.prototype.get_layer_node=function(t){return t==s.LayerType.SCENE?this._scene_node:t==s.LayerType.TOP?this._top_node:t==s.LayerType.DRAG?this._drag_node:this._ui_node},Object.defineProperty(e.prototype,"start",{get:function(){return this._map[o.gm.const.Start.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hero",{get:function(){return this._map[o.gm.const.Hero.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return this._map[o.gm.const.Loading.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"guide",{get:function(){return this._map[o.gm.const.Guide.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"store",{get:function(){return this._map[o.gm.const.Store.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"task",{get:function(){return this._map[o.gm.const.Task.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trap",{get:function(){return this._map[o.gm.const.Trap.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lucky_wheel",{get:function(){return this._map[o.gm.const.LuckyWheel.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"open_box",{get:function(){return this._map[o.gm.const.OpenBox.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fight_success",{get:function(){return this._map[o.gm.const.FightSuccess.key]},enumerable:!1,configurable:!0}),e.prototype.get_module=function(t){return this._map[t.key]},e.prototype.set_module_args=function(t,e){this._args_map[t]=e},e.prototype.get_module_args=function(t){return this._args_map[t]},e.prototype.clear_module_args=function(){},e.prototype.async_load_module=function(t,e){var i=this;this._map[t.key]?e(!0):c.Utils.async_get_bundle(t.bundle_name,function(n){n.load(t.load_url,cc.Prefab,function(n,a){if(n)cc.error(n);else if(i._map[t.key])e(!0);else{var o=cc.instantiate(a);o.active=!1,o.parent=i.get_layer_node(t.layer_type);var r=o.getComponent(t.key);null==r&&cc.error(t.key+" module need extend GameModule"),i._map[t.key]=r,e(!1)}})})},e.prototype.preload_module=function(t){c.Utils.async_get_bundle(t.bundle_name,function(e){e.preload(t.load_url,cc.Prefab)})},e.prototype.async_show_module=function(t,e){var i=this;this.async_load_module(t,function(){var n=i._map[t.key];if(n){if(i._current_module=t,t.module_type==s.ModuleType.SCENE)for(var a=void 0,r=i._stack.length-1;r>=0;r--)i._stack[r]!=o.gm.const.Loading&&i._stack[r]!=o.gm.const.Story&&i._stack[r]!=o.gm.const.Guide&&(a=i._stack.splice(r,1)[0],i._map[a.key].node.active=!1);else if(t.module_type==s.ModuleType.WINDOW){var c=n.node.parent;c&&(n.node.removeFromParent(!1),c.addChild(n.node))}var _=i._stack.indexOf(t);if(_>-1&&i._stack.splice(_,1),t!=o.gm.const.FlyNotice&&t!=o.gm.const.Notice&&i._stack.push(t),n.node.active=!0,t.has_open_effect){n.node.scale=0;var d=cc.sequence(cc.scaleTo(.1,1),cc.delayTime(0),cc.callFunc(function(){i.emit("module-show",n),e&&e(n)}));n.node.runAction(d)}else i.emit("module-show",n),e&&e(n)}})},e.prototype.async_hide_module=function(t){var e=this,i=this._map[t.key];if(i){var n=this._stack.indexOf(t);if(n>-1)if(this._stack.splice(n,1),t.has_open_effect){var a=cc.sequence(cc.scaleTo(.1,0),cc.callFunc(function(){i.node.active=!1,i.node.scale=1,e.emit("module-hide",i)}));i.node.runAction(a)}else i.node.active=!1,this.emit("module-hide",i)}},e.prototype.hide_upper_module=function(t){var e=this._stack.indexOf(t);if(e>-1)for(var i=this._stack.length-1;i>e;i--)this.async_hide_module(this._stack[i])},e.prototype.get_top_module=function(){for(var t=this._stack.length-1;t>=0;t--){var e=this._stack[t];if(e!=o.gm.const.Notice)return this._map[e.key]}return null},Object.defineProperty(e.prototype,"notice",{get:function(){return this._map[o.gm.const.Notice.key]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fly_notice",{get:function(){return this._map[o.gm.const.FlyNotice.key]},enumerable:!1,configurable:!0}),e.prototype.show_notice_array=function(t){var e=this;this.async_show_module(o.gm.const.Notice,function(){for(var i=0;i<t.length;i++)e.notice.show_notice(t[i])})},e.prototype.show_notice=function(t,e){var i=this;this.async_show_module(o.gm.const.Notice,function(){i.notice.show_notice(t),e&&e()})},e.prototype.show_fly_notice=function(t,e,i,n){var a=this;this.async_show_module(o.gm.const.FlyNotice,function(){a.fly_notice.show_fly_notice(t,e,i.convertToWorldSpaceAR(cc.v3(0,(1-i.anchorY)*i.height))),n&&n()})},e.prototype.show_coin_fly=function(t,e,i,n){var a=this;void 0===i&&(i=3),void 0===n&&(n=null),o.gm.pool.async_get(s.BundleName.COMMON,o.gm.const.CoinFlyAnim.load_url,_.CoinFlyAnim,function(o){o.init_fly_anim(t,e,n,i),a.get_layer_node(s.LayerType.TOP).addChild(o.node)}),t==s.RewardIdEnum.GOLD?o.gm.audio.play_effect("gold_fly"):t==s.RewardIdEnum.DIAMOND?o.gm.audio.play_effect("diamond_fly"):t==s.RewardIdEnum.PART&&o.gm.audio.play_effect("part_fly")},e.prototype.show_start=function(){this._map[o.gm.const.Start.key]?o.gm.ui.async_show_module(o.gm.const.Start):(o.gm.ui.loading.state=r.LoadingState.START_FULL,o.gm.ui.async_show_module(o.gm.const.Start,function(){o.gm.ui.loading.state=r.LoadingState.COMPLETE}))},e.prototype.show_panel=function(t){this._map[t.key]?o.gm.ui.async_show_module(t):(o.gm.ui.loading.state=r.LoadingState.START,o.gm.ui.async_show_module(t,function(){o.gm.ui.loading.state=r.LoadingState.COMPLETE}))},e.prototype.show_ico_native=function(){var t=this;this._ico_native||o.gm.pool.async_get(s.BundleName.OPPO,o.gm.const.IcoNative.load_url,u.IcoNative,function(e){t.get_layer_node(s.LayerType.TOP).addChild(e.node),t._ico_native=e})},e.prototype.hide_ico_native=function(){this._ico_native&&(o.gm.pool.put(this._ico_native.node),this._ico_native=null)},e.prototype.show_banner_native=function(){var t=this;this._banner_native||o.gm.pool.async_get(s.BundleName.OPPO,o.gm.const.BannerNative.load_url,d.BannerNative,function(e){var i=e.node.getComponent(cc.Widget);i||(i=e.node.addComponent(cc.Widget)),i.isAlignBottom=!0,i.bottom=0,i.isAlignTop=i.isAlignLeft=i.isAlignRight=!1,t.get_layer_node(s.LayerType.TOP).addChild(e.node),t._banner_native=e})},e.prototype.hide_banner_native=function(){this._banner_native&&(o.gm.pool.put(this._banner_native.node),this._banner_native=null)},e.prototype.show_big_jpg_native=function(){var t=this;this._big_jpg_native||o.gm.pool.async_get(s.BundleName.OPPO,o.gm.const.BigJpgNative.load_url,l.BigJpgNative,function(e){var i=e.node.getComponent(cc.Widget);i||(i=e.node.addComponent(cc.Widget)),i.isAlignBottom=!0,i.bottom=0,i.isAlignTop=i.isAlignLeft=i.isAlignRight=!1,t.get_layer_node(s.LayerType.TOP).addChild(e.node),t._big_jpg_native=e})},e.prototype.hide_big_jpg_native=function(){this._big_jpg_native&&(o.gm.pool.put(this._big_jpg_native.node),this._big_jpg_native=null)},e._instance=null,e}(a.EventEmitter);i.UIManager=h,cc._RF.pop()},{BannerNative:"BannerNative",BigJpgNative:"BigJpgNative",CoinFlyAnim:"CoinFlyAnim",Constants:"Constants",EventEmitter:"EventEmitter",GameManager:"GameManager",IcoNative:"IcoNative",Loading:"Loading",Utils:"Utils"}],UnchokeInputEvents:[function(t,e,i){"use strict";cc._RF.push(e,"7e61daZ5QxA6I3YAuI2iHJL","UnchokeInputEvents");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,s=o.menu,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isSwallow=!1,e}return n(e,t),e.prototype.onEnable=function(){this.node._touchListener&&this.node._touchListener.setSwallowTouches(this._isSwallow)},a([r,s("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UnchokeInputEvents")],e)}(cc.Component);i.default=c,cc._RF.pop()},{}],Utils:[function(t,e,i){"use strict";cc._RF.push(e,"e2418OV8oRDw6PT3f0rHN5W","Utils"),Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=void 0;var n=function(){function t(){}return t.get_component_in_self_or_children=function(t,e){var i=t.getComponent(e);return i||(i=t.getComponentInChildren(e)),i},t.set_sprite_state=function(t,e,i){void 0===i&&(i=!0);var n=[],a=t.getComponent(cc.Sprite);a&&n.push(a),i&&(n=n.concat(t.getComponentsInChildren(cc.Sprite)));for(var o=0;o<n.length;o++){var r=n[o];e==cc.Sprite.State.NORMAL?r.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")):r.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))}var s=[],c=t.getComponent(cc.Label);for(c&&s.push(c),i&&(s=s.concat(t.getComponentsInChildren(cc.Label))),o=0;o<s.length;o++){var _=s[o];e==cc.Sprite.State.NORMAL?_.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")):_.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))}},t.async_get_bundle=function(t,e){var i=cc.assetManager.getBundle(t);i?e(i):cc.assetManager.loadBundle(t,function(i,n){if(i)return console.error(i);console.log("load "+t+" bundle successfully."),e(n)})},t.async_set_sprite_frame=function(t,e,i,n,a){var o=this;this.async_get_bundle(e,function(e){var r=e.get(i,cc.SpriteFrame);if(r)t.spriteFrame=r,n&&a&&n.call(a,r);else{var s=o.sprite_data_map[t.uuid];s||(s={sprite_uuid:t.uuid,newest_url:i},o.sprite_data_map[t.uuid]=s),s.sprite_uuid=t.uuid,s.newest_url=i,e.load(i,cc.SpriteFrame,function(e,r){if(e)console.error(e.message);else{var s=o.sprite_data_map[t.uuid];s&&i==s.newest_url&&t.isValid&&(t.spriteFrame=r,n&&a&&n.call(a,r))}})}})},t.format_time=function(t){var e=Math.floor(t/3600),i=t-3600*e,n=Math.floor(i/60);return i=Math.floor(i-60*n),(e<10?"0"+e:e.toString())+":"+(n<10?"0"+n:n.toString())+":"+(i<10?"0"+i:i.toString())},t.random=function(t,e,i){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===i&&(i=1),this.seed=(9301*this.seed+49297)%233280;var n=e+this.seed/233280*(i-e);return t?Math.floor(n):n},t.math_random=function(t,e,i){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===i&&(i=1);var n=e+Math.random()*(i-e);return t?Math.floor(n):n},t.rand_from_rate_arr=function(t){if(t.length<=0)return 0;for(var e=Math.floor(Math.random()*t[t.length-1]),i=0;i<t.length;i++)if(e<t[i])return i;return t.length-1},t.angle2radian=function(t,e){return void 0===e&&(e=!0),(e?(t+360)%360:t)/180*Math.PI},t.radian2angle=function(t,e){return void 0===e&&(e=!0),(e?(t+2*Math.PI)%(2*Math.PI):t)/Math.PI*180},t.date_format=function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),q:Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};return e.replace(/([yMdhmsqS])+/g,function(e,n){var a=i[n];return void 0!==a?(e.length>1&&(a=(a="0"+a).substr(a.length-2)),a):"y"===n?(t.getFullYear()+"").substr(4-e.length):e})},t.time_format=function(t,e){var i={d:Math.floor(t/86400),h:Math.floor(t%86400/3600),m:Math.floor(t%86400%3600/60),s:Math.floor(t%86400%3600%60)};return e.replace(/([dhms])+/g,function(t,e){var n=i[e];return void 0!==n?(t.length>1&&(n=(n="0"+n).substr(n.length-2)),n):t})},t.get_total_day=function(t){return t-=6e4*(new Date).getTimezoneOffset(),Math.floor(t/864e5)},t.number_to_chinese=function(t){var e=Math.floor(t);if(e>=0&&e<100){if(e<=10)return this.chinese_num_array[t];if(e<=19)return this.chinese_num_array[10]+this.chinese_num_array[t%10];var i=t%10>0?this.chinese_num_array[t%10]:"";return this.chinese_num_array[Math.floor(t/10)]+this.chinese_num_array[10]+i}if(e>=100&&e<1e3){var n=e.toString(),a=Number(n.substring(0,1)),o=Number(n.substring(1,2)),r=Number(n.substring(2,3));return 0==o&&0==r?this.chinese_num_array[a]+this.chinese_num_array[11]:0==o&&0!=r?this.chinese_num_array[a]+this.chinese_num_array[11]+this.chinese_num_array[0]+this.chinese_num_array[r]:0!=o&&0==r?this.chinese_num_array[a]+this.chinese_num_array[11]+this.chinese_num_array[o]+this.chinese_num_array[10]:this.chinese_num_array[a]+this.chinese_num_array[11]+this.chinese_num_array[o]+this.chinese_num_array[10]+this.chinese_num_array[r]}return""},t.numFormat=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!0);for(var n=t,a=["\u4e07","\u4ebf","\u4e07\u4ebf","\u4ebf\u4ebf","P","E"],o=0;n>=1e4&&o<a.length;)n/=1e4,++o;n*=Math.pow(10,e),n=Math.floor(n)/Math.pow(10,e);var r="";return o>0&&(r=a[o-1],r=i?r.toLocaleUpperCase():r.toLocaleLowerCase()),n+r},t.deep_copy=function(t){var e=new Map;return function t(i){var n=typeof i;if(i&&"object"===n){if(e.has(i))return e.get(i);var a;if("[object Array]"===Object.prototype.toString.call(i))a=[],e.set(i,a),i.forEach(function(e,i){a[i]=t(e)});else for(var o in a={},e.set(i,a),i)a[o]=t(i[o]);return a}return"function"===n?null:i}(t)},t.sort_by_props=function(t,e){var i=this;return t.sort(function(t,n){return i._compare_by_props(t,n,e)})},t._compare_by_props=function(t,e,i){var n=[];i&&n.push(i);var a=[],o=!0;if(n.length<1)for(var r in t){if(t[r]>e[r]){a.push(1);break}if(t[r]!==e[r]){a.push(-1);break}a.push(0)}else for(var s=0;s<n.length;s++){var c=n[s];for(var _ in c){if(o="ascending"===c[_],t[_]>e[_]){a.push(o?1:-1);break}if(t[_]!==e[_]){a.push(o?-1:1);break}a.push(0)}}for(var d=0;d<a.length;d++)if(1===a[d]||-1===a[d])return a[d];return 0},t.find_plus=function(t,e){if(null==t)return null;if(e);else{var i=cc.director.getScene();if(!i)return null;e=i}for(var n=e,a="/"!==t[0]?0:1,o=t.split("/"),r=a;r<o.length;r++){var s=o[r],c=s.split("$"),_=2==c.length?parseInt(c[1]):0;s=c[0];var d=n._children;n=null;for(var l=0,u=0,h=d.length;l<h;++l){var p=d[l];if(p.name===s){if(_==u){n=p;break}u++}}if(!n)return null}return n},t.randFromRateArr=function(t){if(t.length<=0)return 0;for(var e=Math.floor(Math.random()*t[t.length-1]),i=0;i<t.length;i++)if(e<t[i])return i;return t.length-1},t.damage_float=function(t,e,i){var n=Math.random()>.5?-1:1,a=Math.floor(t*e),o=Math.floor(t*i);return t+Math.floor(Math.random()*(o-a)+a)*n},t.scroll_num=function(t,e,i,n,a){var o=Math.floor(60*e),r=0;t.schedule(function(t){a(cc.misc.lerp(i,n,r/e)),r+=t},0,o)},t.play_normal_anim=function(t,e,i){t.targetOff(this),t.node.active=!0,t.once(cc.Animation.EventType.FINISHED,function(){t.node.active=!1,i&&i()},this),t.play(e,0)},t.align_with_parent=function(t){var e=t.getComponent(cc.Widget);e||(e=t.addComponent(cc.Widget)),e.isAlignTop=e.isAlignBottom=e.isAlignLeft=e.isAlignRight=!0,e.top=e.bottom=e.left=e.right=0},t.save_json_file=function(t,e){var i=document.createElement("a");if(i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download",t),document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),i.dispatchEvent(n)}else i.click()},t.seed=1574822809,t.drop_seed=1574822809,t.chinese_num_array=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u767e","\u5343","\u4e07"],t.sprite_data_map={},t}();i.Utils=n,cc._RF.pop()},{}],VIVOMiniGame:[function(t,e,i){"use strict";cc._RF.push(e,"e4ad4nkBR5N9ZH4llzRLt88","VIVOMiniGame");var n=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.VIVOMiniGame=void 0;var a=t("ChannelManager"),o=cc._decorator,r=o.ccclass;o.property;var s=function(){function t(){this._targetBannerAdWidth=200,this._bannerAd=null,this._ifBannerLoaded=!1,this._videoAd=null,this._videoCb=null,this._videoCbTarget=null,this._oppoUid="",this._interstitialAd=null,this._bannerid=["14b556f541004b45ba65c592bbf706e8"],this._videoid=["e9ac166130cd462088a92c2ba68fec83"],this._interid=[],this._nativeid=[],this.nativeAd=null,this.adData=null,this.tmpAdData=null,this.adLayout=null,this._nativeAdStat=!1,this._nativeIcoAdStat=!1,this.nativeIcoAd=null,this.icoAdData=null,this.tmpIcoAdData=null,this.icoAdLayout=null,this.bannerLoadTime=0,this.interAdLoadTime=0,this.nativeIcoMap=0,this.nativeLoadTime=0,this.icoNativeJpgLoadState=!1,this._tmpIcoNativeJpg=null,this.nativeJpgLoadState=!1,this._tmpNativeJpg=null,this.bannerNativeData=null,this.gameBeginTime=(new Date).getTime()}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),t.prototype.load_channel_env=function(t){return console.log("vivoMiniGame loadChannelEnv!!!"),cc.audioEngine.stopAll(),qg.getSystemInfoSync()>=1063&&qg.login({success:function(t){console.log(JSON.stringify(t))},fail:function(t){console.log(JSON.stringify(t))}}),t(),!0},t.prototype.analyzeUrlPram=function(){return!0},t.prototype.loginVerify=function(){return g.op._loginProcessCallFuc.apply(g.op._loginProcessTarget),!0},t.prototype.load_sub_packages_env=function(t){return t(),!0},t.prototype.shareReq=function(t){return qg.share({success:function(){t()},fail:function(){},cancel:function(){}}),!0},t.prototype.getIsCanShare=function(){return!1},t.prototype.getIsCanRecord=function(){return!1},t.prototype.loginReport=function(){},t.prototype.show_banner_ad=function(t){var e=(new Date).getTime();if(!(e-this.bannerLoadTime<15e3))if(console.log("showBannerAd bannerLoad time:%s,panelType:%s",e-this.bannerLoadTime,t),this._bannerAd&&this._bannerAd.destroy(),""!=this._bannerid[0]){var i=this;this._bannerAd=qg.createBannerAd({posId:i._bannerid[0],style:{}}),this._bannerAd.onError(function(){console.log("banner AD loaded is error!!!!")}),console.log("create BannerAd!!!!!"),this.bannerLoadTime=(new Date).getTime(),this._bannerAd.offLoad(),this._bannerAd.onLoad(function(){cc.log("_bannerAd onLoad"),i._bannerAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)}),i._ifBannerLoaded=!0})}else console.log("this._bannerid is null")},t.prototype.hide_banner_ad=function(){this._ifBannerLoaded&&this._bannerAd.hide()},t.prototype.get_app_name=function(){return window.qg&&window.qg.getSystemInfoSync?window.qg.getSystemInfoSync().platform:a.ChannelManager.UNKNOWN},t.prototype.create_video_ad=function(){if(console.log("Vivo- createVideoAD!...."),!(qg.getSystemInfoSync().platformVersionCode<1063)){var t=this;if(this._videoAd=qg.createRewardedVideoAd({posId:t._videoid[0]}),!this._videoAd)return!1;this._videoAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f")}),this._videoAd.onError(function(){qg.showToast({message:"\u89c6\u9891\u5e7f\u544a\u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5!"}),this._videoAd.load()}),this._videoAd.load(),t._videoAd.onClose(function(e){e&&e.isEnded?(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),t._videoCb.apply(t._videoCbTarget)):console.log("\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u4e2d\u65ad"),t._videoAd.load(),cc.game.resume()})}},t.prototype.show_video_ad=function(t,e){console.log("\u663e\u793a\u89c6\u9891\u5e7f\u544a\uff01\u3002\u3002\u3002"),this._videoCb=t,this._videoCbTarget=e,this._videoAd?this._videoAd.show().then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),cc.game.pause()}):(this.create_video_ad(),qg.showToast({message:"\u89c6\u9891\u5e7f\u544a\u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5!"}),console.log("\u89c6\u9891\u5e7f\u544a\u4e0d\u5b58\u5728\uff01\u3002\u3002\u3002"))},Object.defineProperty(t.prototype,"is_support_interstitial_ad",{get:function(){return qg.createInterstitialAd?(console.log("is_support_interstitial_ad  createInterstitialAd: true"),!0):(console.log("is_support_interstitial_ad: false"),!1)},enumerable:!1,configurable:!0}),t.prototype.createInterstitialAd=function(){if(console.log("createInterstitialAd"),""!=this._interid[0]){if(qg.createInterstitialAd&&(this._interstitialAd=qg.createInterstitialAd({posId:this._interid[0]})),!this._interstitialAd)return!1;this._interstitialAd.onError(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u9519\u8bef\uff1a",t)})}else console.log("this._interid is null")},t.prototype.show_interstitial_ad=function(){console.log("showInterstitialAd!");var t=(new Date).getTime(),e=this;if(!(t-this.interAdLoadTime<15e3))return this._interstitialAd=qg.createInterstitialAd({posId:this._interid[0]}),this._interstitialAd.onError(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff01")}),this._interstitialAd.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f\uff01"),e.interAdLoadTime=(new Date).getTime()}).catch(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25\uff1a",t)}),!0},t.prototype.setRankVal=function(){},Object.defineProperty(t.prototype,"is_support_more_game",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_share",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_video_share",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_rank",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getChannelName=function(){return"vivo"},t.prototype.ifCreateShortcut=function(t){qg.hasShortcutInstalled({success:function(e){console.log("qg.hasShortcutInstalled:%s",e),t(e)},fail:function(){t(!0)},complete:function(){}})},t.prototype.createShortcut=function(t){qg.hasShortcutInstalled({success:function(e){0==e&&qg.installShortcut({success:function(){t()},fail:function(){},complete:function(){}})},fail:function(){},complete:function(){}})},t.prototype.createNativeAd=function(){if(!((new Date).getTime()-this.nativeLoadTime<15e3)){this._nativeAdStat=!1;var t=this;""!=this._nativeid[0]&&(this.nativeAd=qg.createNativeAd({posId:this._nativeid[0]}),this.nativeAd.onLoad(function(e){console.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u6210\u529f","\uff1a"+JSON.stringify(e)),e.adList&&e.adList.length>0&&(t.tmpAdData=e.adList.pop()),t.nativeJpgLoadState=!1,cc.loader.load(t.tmpAdData.imgUrlList[0],function(e,i){e?(t.nativeJpgLoadState=!1,console.log("adImag is loading err:%s!",e)):(t.nativeJpgLoadState=!0,t._tmpNativeJpg=new cc.SpriteFrame(i),console.log("adImag is loading ok!"))}),t.tmpAdData&&(t.adData=t.tmpAdData),t._nativeAdStat=!0,t.nativeLoadTime=(new Date).getTime(),console.log("NativeAd nativeload time:%s,nativeAdStat:%s",t.nativeLoadTime,t._nativeAdStat)}),this.nativeAd.onError(function(){t._nativeAdStat=!1}),this.nativeAd.load())}},t.prototype.nativeAdStat=function(){return this.nativeJpgLoadState},t.prototype.showAd=function(t,e){var i=this;if(void 0===e&&(e=0),console.log("VivoMiniGame nativeAd showAd!",JSON.stringify(this.tmpAdData)),this.tmpAdData){this.adData=this.tmpAdData;var n=this;0==e&&(this.adLayout=t);var a=void 0,o=void 0,r=void 0,s=void 0,c=void 0,_=this.adLayout.getChildByName("containLayout");a=_.getChildByName("adImg"),o=_.getChildByName("adDesc"),r=_.getChildByName("adLogo"),s=_.getChildByName("adClose");var d=this.adLayout.getChildByName("actionLayout");d.getChildByName("adAction"),c=d.getChildByName("adTitle"),a.active=!0,a.getComponent(cc.Sprite).spriteFrame=n._tmpNativeJpg,r.active=!1,this.adData.logoUrl&&cc.loader.load(this.adData.logoUrl,function(t,e){r.active=!0,r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),c.active=!1,c.getComponent(cc.Label).string=this.adData.title,o.active=!1,o.getComponent(cc.Label).string=this.adData.desc,s.active=!0,s.on(cc.Node.EventType.TOUCH_START,function(){n.adLayout.active=!1}),a.getComponent(cc.Button)||a.addComponent(cc.Button),a.on("click",function(){i.nativeAdClick()},this),this.nativeAd.reportAdShow({adId:this.adData.adId}),console.log("nativeAd.reportAdShow adId: %s",this.adData.adId),this.adLayout.active=!0,this._nativeAdStat=!1}},t.prototype.nativeAdClick=function(){this.nativeAd.reportAdClick({adId:this.adData.adId}),console.log("nativeAd reportAdClick adId: %s",this.adData.adId)},t.prototype.onDestroy=function(){this.nativeAd&&(this.nativeAd.offLoad(),this.nativeAd.offError(),this.nativeAd.destroy())},t.prototype.nativeAdLoad=function(){},t.prototype.createNativeIcoAd=function(){var t=this;console.log("createNativeICOAd:%S",this._nativeid[1]),this._nativeIcoAdStat=!1;var e=this;""!=this._nativeid[1]&&(this.nativeIcoAd=qg.createNativeAd({posId:this._nativeid[1]}),this.nativeIcoAd.onLoad(function(i){console.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544aICO\u6210\u529f","\uff1a"+JSON.stringify(i)),i.adList&&i.adList.length>0&&(e.tmpIcoAdData=i.adList.pop()),e.icoNativeJpgLoadState=!1,cc.loader.load(e.tmpIcoAdData.imgUrlList[0],function(t,i){t?(e.icoNativeJpgLoadState=!1,console.log("adImag is loading err:%s!",t)):(e.icoNativeJpgLoadState=!0,e._tmpIcoNativeJpg=new cc.SpriteFrame(i),console.log("adImag is loading ok!"))}),t.tmpIcoAdData&&(t.icoAdData=t.tmpIcoAdData),e._nativeIcoAdStat=!0,e.nativeLoadTime=(new Date).getTime(),console.log("NativeIcoAd nativeload time:%s,nativeIcoAdStat:%s",e.nativeLoadTime,e._nativeIcoAdStat)}),this.nativeIcoAd.onError(function(t){console.log("\u8bbe\u7f6e\u539f\u751f\u5e7f\u544a\u51fa\u9519\uff1a"+JSON.stringify(t)),e._nativeIcoAdStat=!1}),this.nativeIcoAd.load(),setTimeout(function(){t.timeProcess()},15e3))},t.prototype.nativeIcoAdStat=function(){return this.icoNativeJpgLoadState},t.prototype.showIcoAd=function(t,e){var i=this;if(void 0===e&&(e=0),console.log("VivoMiniGame showIcoAd!",JSON.stringify(this.tmpIcoAdData)),this.tmpIcoAdData){this.icoAdData=this.tmpIcoAdData,0==e&&(this.icoAdLayout=t);var n=void 0,a=void 0,o=void 0,r=void 0,s=void 0,c=this.icoAdLayout.getChildByName("containLayout");n=c.getChildByName("adImg"),a=c.getChildByName("adDesc"),o=c.getChildByName("adLogo"),r=c.getChildByName("adClose");var _=this.icoAdLayout.getChildByName("actionLayout");_.getChildByName("adAction"),s=_.getChildByName("adTitle"),n.active=!0,n.getComponent(cc.Sprite).spriteFrame=this._tmpIcoNativeJpg,o.active=!1,this.icoAdData.logoUrl&&cc.loader.load(this.icoAdData.logoUrl,function(t,e){o.active=!0,o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),s.active=!1,s.getComponent(cc.Label).string=this.icoAdData.title,a.active=!1,a.getComponent(cc.Label).string=this.icoAdData.desc,r.active=!0,n.getComponent(cc.Button)||n.addComponent(cc.Button),n.on("click",function(){i.nativeIcoAdClick()},this),this.nativeIcoAd.reportAdShow({adId:this.icoAdData.adId}),console.log("nativeIcoAd reportAdShow adId:%s",this.icoAdData.adId),this.icoAdLayout.active=!0,this._nativeIcoAdStat=!1}},t.prototype.nativeIcoAdClick=function(){console.log("nativeIcoAd Id:%s\uff0cnativeIcoAd Load Stat:%s,time:%s",this.icoAdData.adId,this._nativeIcoAdStat,(new Date).getTime()),this.nativeIcoAd.reportAdClick({adId:this.icoAdData.adId}),setTimeout(function(){Common.ui.destroyNativeInterAd()},500)},t.prototype.setNativeIcoShowStat=function(){},t.prototype.onIcoDestroy=function(){this.nativeIcoAd&&(this.nativeIcoAd.offLoad(),this.nativeIcoAd.offError(),this.nativeIcoAd.destroy())},t.prototype.nativeIcoAdLoad=function(){},t.prototype.getNativeData=function(){return this.adData.title?this.adData.title:""},t.prototype.getNativeIcoData=function(){return this.adData.title?this.icoAdData.title:""},t.prototype.showMoreGame=function(){},t.prototype.getNativeDesc=function(){return this.adData.desc},t.prototype.getNativeIcoDesc=function(){return this.icoAdData.desc},t.prototype.showBannerNative=function(t){if(!((new Date).getTime()-this.gameBeginTime<6e4)&&this.tmpIcoAdData){this.bannerNativeData=this.tmpIcoAdData;var e=this,i=void 0,n=void 0,a=void 0,o=void 0;i=t.getChildByName("adImg"),n=t.getChildByName("adDesc"),a=t.getChildByName("adTitle"),o=t.getChildByName("adButton"),i.active=!1,this.bannerNativeData.icon&&cc.loader.load(this.bannerNativeData.icon,function(t,e){i.active=!0,i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),a.active=!0,a.getComponent(cc.Label).string=this.bannerNativeData.title,n.active=!0,n.getComponent(cc.Label).string=this.bannerNativeData.desc,(void 0).active=!1,this.icoAdData.logoUrl&&cc.loader.load(this.icoAdData.logoUrl,function(t,e){(void 0).active=!0,(void 0).getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),o.getComponent(cc.Button)||o.addComponent(cc.Button),o.on("click",function(){e.bannerNativeAdClick()},e),this.nativeIcoAd.reportAdShow({adId:this.bannerNativeData.adId}),console.log("nativeIcoAd  reportIcoAdShow adId:%s",this.bannerNativeData.adId)}},t.prototype.bannerNativeAdClick=function(){this.nativeIcoAd.reportAdClick({adId:this.bannerNativeData.adId}),console.log("bannerNativeAdClick reportIcoAdClick  adId:%s",this.bannerNativeData.adId)},t.prototype.timeProcess=function(){var t=this;setInterval(function(){0==t.nativeIcoMap?(t._nativeAdStat||t.nativeAd.load(),t.nativeIcoMap=1,console.log("timeProcess nativeAdLoad time:%s,_nativeAdStat:%s",(new Date).getTime(),t._nativeAdStat)):(t._nativeIcoAdStat||t.nativeIcoAd.load(),t.nativeIcoMap=0,console.log("timeProcess nativeIcoAdLoad time:%s,_nativeIcoAdStat:%s",(new Date).getTime(),t._nativeIcoAdStat))},15e3)},t.prototype.vibrate_short=function(){qg.vibrateShort&&qg.vibrateShort({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}})},t.prototype.vibrate_long=function(){qg.vibrateLong&&qg.vibrateLong({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},t._instance=null,t.ad_enable=!0,e=n([r],t)}();i.VIVOMiniGame=s,cc._RF.pop()},{ChannelManager:"ChannelManager"}],WXMiniGame:[function(t,e,i){"use strict";cc._RF.push(e,"79011o/mN1KEJJ/GrUuzQtO","WXMiniGame"),Object.defineProperty(i,"__esModule",{value:!0}),i.WXMiniGame=void 0;var n=t("GameManager"),a=t("ChannelManager"),o=t("Utils"),r=function(){function t(){this._min_banner_ad_width=300,this._banner_ad_id_array=["adunit-307582652385ee7a"],this._video_ad_id_array=["adunit-fc2e9ec22428d7ae"],this._interstitial_ad_id="adunit-4a71773827e1036a",this._grid_ad_id="",this._banner_ad_array=[],this._banner_ad_flag_array=[!1],this._banner_ad_loaded_array=[!1],this._video_ad_array=[],this._video_cb_array=[],this._video_cb_target_array=[],this._interstitial_ad=null,this._interstitial_ad_loaded=!1,this._app_box=null,this._app_box_loaded=!1,this._share_array=[],this._default_share={title:"\u4e00\u8d77\u73a9\u50f5\u5c38\u661f\u9645\u5927\u6218",url:"1.jpg"},this._record_start_time=0,this._record_end_time=0,this._is_share_record_video=!1,this._is_restart=!1,this._ifNeedVideoShare=!1,this._videoPath=""}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.load_channel_env=function(t){return window.wx.onHide(function(){}),window.wx.onShow(function(){}),this._banner_ad_id_array[a.BANNER_AD_TYPE.ALL]="adunit-307582652385ee7a",this._video_ad_id_array[a.REWARD_VIDEO_AD_TYPE.ALL]="adunit-fc2e9ec22428d7ae",this._interstitial_ad_id="adunit-4a71773827e1036a",this._grid_ad_id="",console.log("wx"+JSON.stringify(window.wx)),window.wx.login({}),this._share_array=a.ChannelManager.SHARE_CONFIG.share_array,this.show_share_menu(),t(),!0},t.prototype.show_share_menu=function(){console.log("WXMiniGame.show_share_menu is begin!"),window.wx.showShareMenu({});var t=this;return window.wx.onShareAppMessage(function(){var e;if(0==t._share_array.length)e=t._default_share;else{var i=o.Utils.math_random(!0,0,t._share_array.length);e=t._share_array[i]}return{title:e.title,imageUrl:e.url,success:function(t){console.log("\u8f6c\u53d1\u6210\u529f"),console.log(t)},fail:function(t){console.log("fail wx onShareAppMessage"+t)}}}),console.log("WXMiniGame.show_share_menu is end!"),!0},t.prototype.load_sub_packages_env=function(t){return t(),!0},Object.defineProperty(t.prototype,"is_share",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_video_share",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.get_app_name=function(){return a.ChannelManager.APP_WE_CHAT},t.prototype.vibrate_short=function(){wx.vibrateShort&&wx.vibrateShort({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}})},t.prototype.vibrate_long=function(){wx.vibrateLong&&wx.vibrateLong({success:function(t){console.log(""+t)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},Object.defineProperty(t.prototype,"is_rank",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is_support_more_game",{get:function(){return"ios"!=window.wx.getSystemInfoSync().platform&&!!(window.wx.navigateToMiniProgram&&window.wx.onNavigateToMiniProgram&&window.wx.showMoreGamesModal)},enumerable:!1,configurable:!0}),t.prototype.show_more_game=function(t,e){this.is_support_more_game&&(window.wx.onMoreGamesModalClose(function(t){console.log("modal closed",t)}),window.wx.onNavigateToMiniProgram(function(t){console.log(t.errCode),console.log(t.errMsg)}),window.wx.showMoreGamesModal({appLaunchOptions:[],success:function(i){console.log("success",i.errMsg),t&&e&&t.call(e,0)},fail:function(i){console.log("fail",i.errMsg),t&&e&&t.call(e,1)}}))},t.prototype.share_req=function(){var t;if(0==this._share_array.length)t=this._default_share;else{var e=o.Utils.math_random(!0,0,this._share_array.length);t=this._share_array[e]}return window.wx.shareAppMessage&&t&&window.wx.shareAppMessage({title:t.title,imageUrl:t.url,success:function(t){console.log("\u8f6c\u53d1\u5230\u7fa4\u7684\u7ed3\u679c"),console.log(t)},fail:function(t){console.log(t)}}),!0},t.prototype.loginReport=function(){},t.prototype.create_banner_ad=function(){var t=this;if(window.wx)for(var e=window.wx.getSystemInfoSync(),i=e.windowWidth,n=e.windowHeight,a=function(e){var a=e,r=o._banner_ad_id_array[a];if(null==r||""==r)return"continue";var s=wx.createBannerAd({adUnitId:r,adIntervals:30,style:{width:o._min_banner_ad_width,top:n,left:(i-o._min_banner_ad_width)/2}});o._banner_ad_array.push(s),s.onLoad(function(){console.log("banner ad id:"+r+" onLoad"),t._banner_ad_loaded_array[a]=!0}),s.onResize(function(t){s.style.left=(i-t.width)/2,s.style.top=n-t.height,console.log("banner_ad.onResize:",t.width,t.height);var e=cc.view.getDevicePixelRatio(),a=cc.view.getScaleX();console.log("banner need design size:",t.width*e/a,t.height*e/a)}),s.onError(function(t){console.log(t)})},o=this,r=0;r<this._banner_ad_id_array.length;r++)a(r)},t.prototype.show_banner_ad=function(t){var e=this;if(this._banner_ad_loaded_array[t]){this._banner_ad_flag_array[t]=!0;var i=this._banner_ad_array[t];i.show().then(function(){e._banner_ad_flag_array[t]?console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f"):(i.hide(),console.log("\u5e7f\u544a\u663e\u793a\u6162\u4e86\uff0c\u4e0d\u9700\u8981\u663e\u793a\u4e86"))}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)})}},t.prototype.hide_banner_ad=function(t){if(this._banner_ad_loaded_array[t]){var e=this._banner_ad_array[t];e&&(e.hide(),this._banner_ad_flag_array[t]=!1)}},t.prototype.create_video_ad=function(){if(null!=window.wx.createRewardedVideoAd){var t=wx.getSystemInfoSync().SDKVersion;if(n.gm.channel.compare_version(t,"2.8.0")>=0){console.log("\u8be5\u8bbe\u5907\u652f\u6301\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u7684\u591a\u4f8b\u6a21\u5f0f");for(var e=0;e<this._video_ad_id_array.length;e++){var i=e;this._video_ad_array[i]=window.wx.createRewardedVideoAd({adUnitId:this._video_ad_id_array[i],multiton:!0}),this.on_video_ad_handler(i)}}else console.log("\u8be5\u8bbe\u5907\u4e0d\u652f\u6301\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u7684\u591a\u4f8b\u6a21\u5f0f"),i=a.REWARD_VIDEO_AD_TYPE.ALL,this._video_ad_array[i]=window.wx.createRewardedVideoAd({adUnitId:this._video_ad_id_array[i]}),this.on_video_ad_handler(i)}},t.prototype.on_video_ad_handler=function(t){var e=this;this._video_ad_array[t].onClose(function(i){cc.game.resume(),i&&i.isEnded||void 0===i?(console.log("\u89c6\u9891\u5e7f\u544a \u6b63\u5e38\u64ad\u653e\u7ed3\u675f"),e._video_cb_array[t].apply(e._video_cb_target_array[t])):(console.log("\u89c6\u9891\u5e7f\u544a \u64ad\u653e\u4e2d\u9014\u9000\u51fa"),n.gm.ui.show_notice("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u6ca1\u6709\u5956\u52b1"))}),this._video_ad_array[t].onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._video_ad_array[t].onError(function(t){console.log(t)})},t.prototype.show_video_ad=function(t,e,i){var o=this,r=wx.getSystemInfoSync().SDKVersion;n.gm.channel.compare_version(r,"2.8.0")<0&&(i=a.REWARD_VIDEO_AD_TYPE.ALL),this._video_cb_array[i]=t,this._video_cb_target_array[i]=e,this._video_ad_array[i]?this._video_ad_array[i].show().then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),cc.game.pause()}).catch(function(){console.log("\u81ea\u52a8\u62c9\u53d6\u5931\u8d25\uff0c\u91cd\u65b0\u62c9\u53d6"),o._video_ad_array[i].load().then(function(){o._video_ad_array[i].show().then(function(){console.log("\u91cd\u65b0\u62c9\u53d6\uff0c\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),cc.game.pause()}).catch(function(i){console.log("\u91cd\u65b0\u62c9\u53d6\u5931\u8d25",i),1004==i.errCode?n.gm.ui.show_notice("\u4eca\u65e5\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u6b21\u6570\u5df2\u7528\u5c3d"):n.gm.ui.show_notice("\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u6253\u5f00\u5931\u8d25"),n.gm.channel.share_req(function(){t&&t.call(e)},o)})})}):n.gm.ui.show_notice("\u89c6\u9891\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u6ca1\u6709\u521d\u59cb\u5316")},t.prototype.create_app_box_ad=function(){wx.createGridAd?(this._app_box=wx.createGridAd({adUnitId:this._grid_ad_id,adIntervals:30,adTheme:"white",gridCount:5,style:{left:0,top:0,width:330,opacity:.8}}),this._app_box.onLoad(function(){console.log("\u683c\u5b50\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._app_box.onError(function(t){console.log(t)})):console.log("\u4e0d\u652f\u6301\u683c\u5b50\u5e7f\u544a\uff0c\u8bf7\u5347\u7ea7\u5fae\u4fe1")},Object.defineProperty(t.prototype,"is_support_app_box",{get:function(){return!!wx.createGridAd},enumerable:!1,configurable:!0}),t.prototype.show_app_box_ad=function(){wx.createGridAd?this._app_box_loaded&&this._app_box?this._app_box.show().catch(function(t){console.error(t)}):(this.create_app_box_ad(),console.log("_app_box_loaded:"+this._app_box_loaded)):console.log("\u4e0d\u652f\u6301\u5e7f\u544a\u76d2\u5b50\uff0c\u8bf7\u5347\u7ea7\u5fae\u4fe1")},t.prototype.create_interstitial_ad=function(){var t=this;wx.createInterstitialAd&&(this._interstitial_ad=wx.createInterstitialAd({adUnitId:this._interstitial_ad_id}),this._interstitial_ad.onError(function(t){console.log(t)}),this._interstitial_ad.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._interstitial_ad.onLoad(function(){t._interstitial_ad_loaded=!0}),this._interstitial_ad.onClose(function(){console.log("close event emit")}),this._interstitial_ad.onError(function(t){console.log("error",t)}))},Object.defineProperty(t.prototype,"is_support_interstitial_ad",{get:function(){return wx.createInterstitialAd?(console.log("is_support_interstitial_ad: true"),!0):(console.log("is_support_interstitial_ad: false"),!1)},enumerable:!1,configurable:!0}),t.prototype.show_interstitial_ad=function(t,e){this._interstitial_ad&&this._interstitial_ad_loaded&&this._interstitial_ad.show().catch(function(i){console.error("show",i),t&&e&&t.call(e,1)})},t.prototype.set_rank_value=function(){var t={wxgame:{score:0,update_time:Math.floor((new Date).getTime()/1e3)},cost_time:0};console.log("WXMINIgame setRankVal data:",t),window.wx.setUserCloudStorage({KVDataList:[{key:"level",value:JSON.stringify(t)}]}),cc.log("\u4e0a\u62a5\u6392\u884c\u6570\u636e")},t.prototype.get_rank_data=function(){return window.wx.getOpenDataContext().postMessage({message:2}),!0},t.prototype.set_rank_close=function(){window.wx.getOpenDataContext().postMessage({message:99})},t.prototype.on_rank_pre_page_click=function(){window.wx.getOpenDataContext().postMessage({message:100})},t.prototype.on_rank_next_page_click=function(){window.wx.getOpenDataContext().postMessage({message:101})},t.prototype.get_self_rank_data=function(){return window.wx&&window.wx.getOpenDataContext().postMessage({message:300}),!0},t.prototype.set_self_rank_close=function(){window.wx&&window.wx.getOpenDataContext().postMessage({message:301})},t.prototype.clear_cache=function(){window.wxDownloader&&(window.wxDownloader.cleanAllAssets(),console.log("delete cache success"))},t._instance=null,t.ad_enable=!0,t}();i.WXMiniGame=r,cc._RF.pop()},{ChannelManager:"ChannelManager",GameManager:"GameManager",Utils:"Utils"}],WarehouseData:[function(t,e,i){"use strict";cc._RF.push(e,"7a609b9zUlO+478nZKbD1RI","WarehouseData");var n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.WarehouseItemData=i.WarehouseData=void 0;var a=t("Constants"),o=t("GameManager"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STORAGE_KEY="WarehouseData",e.gold_num=0,e.diamond_num=0,e.part_num=0,e.warehouse_data_map={},e.update_count=0,e}return n(e,t),e.prototype.async_read_data=function(e){var i=this;t.prototype.async_read_data.call(this,function(t){if(i.is_init)for(var n in i.warehouse_data_map)Object.setPrototypeOf(i.warehouse_data_map[n],s.prototype);else{i.gold_num=2e4,i.diamond_num=250,i.part_num=0;var a=new s;a.id=o.gm.const.FIRST_HERO_ID,a.value=1,i.warehouse_data_map[a.id]=a;for(var r=[13001,13002,13003,13004],c=0;c<r.length;c++){var _=new s;_.id=r[c],_.value=o.gm.const.MAX_TRAP_COUNT,i.warehouse_data_map[_.id]=_}i.is_init=!0,i.async_write_data()}e&&e(t)})},e.prototype.async_write_data=function(i){o.gm.data.event_emitter.emit(e.EVENT_DATA_CHANGE),t.prototype.async_write_data.call(this,i)},e.prototype.get_item_count=function(t){if(t==a.RewardIdEnum.PART)return this.part_num;if(t==a.RewardIdEnum.GOLD)return this.gold_num;if(t==a.RewardIdEnum.DIAMOND)return this.diamond_num;var e=this.warehouse_data_map[t];return e?e.value:0},e.prototype.player_del_item=function(t,i){var n=this;if(null!=t&&0!=t){if(t==a.RewardIdEnum.PART)this.part_num-=i,this.update_count++,o.gm.data.event_emitter.emit(e.UPDATE_MONEY);else if(t==a.RewardIdEnum.GOLD)this.gold_num-=i,this.update_count++,o.gm.data.event_emitter.emit(e.UPDATE_MONEY);else if(t==a.RewardIdEnum.DIAMOND)this.diamond_num-=i,this.update_count++,o.gm.data.event_emitter.emit(e.UPDATE_MONEY);else{var r=this.warehouse_data_map[t];r||((r=new s).id=t,r.value=0,this.warehouse_data_map[t]=r),r.value-=i,this.update_count++,o.gm.data.event_emitter.emit(e.UPDATE_NOT_MONEY)}setTimeout(function(){n.update_count>0&&(n.update_count=0,n.async_write_data())},o.gm.const.ONE_FRAME_TIME)}},e.prototype.player_add_item=function(t,i){var n=this;if(null!=t&&0!=t){if(t==a.RewardIdEnum.PART)this.part_num+=i,this.update_count++,o.gm.data.event_emitter.emit(e.UPDATE_MONEY);else if(t==a.RewardIdEnum.GOLD)this.gold_num+=i,this.update_count++,o.gm.data.event_emitter.emit(e.UPDATE_MONEY);else if(t==a.RewardIdEnum.DIAMOND)this.diamond_num+=i,this.update_count++,o.gm.data.event_emitter.emit(e.UPDATE_MONEY);else{var r=this.warehouse_data_map[t];r||((r=new s).id=t,r.value=0,this.warehouse_data_map[t]=r),r.value+=i,this.update_count++,o.gm.data.event_emitter.emit(e.UPDATE_NOT_MONEY)}setTimeout(function(){n.update_count>0&&(n.update_count=0,n.async_write_data())},o.gm.const.ONE_FRAME_TIME)}},e.EVENT_DATA_CHANGE="warehouse_data_change",e.UPDATE_MONEY="update_money",e.UPDATE_NOT_MONEY="update_not_money",e.NEW_HERO="new_hero",e}(t("StorageBase").StorageBase);i.WarehouseData=r;var s=function(){function t(){this.id=0,this.value=0}return t.prototype.query_config=function(){var t={};return this.id>0&&(t=o.gm.config.get_row_data("PropConfigData",this.id.toString())),t},t}();i.WarehouseItemData=s,cc._RF.pop()},{Constants:"Constants",GameManager:"GameManager",StorageBase:"StorageBase"}],WeakGuide:[function(t,e,i){"use strict";cc._RF.push(e,"46888Ko/jBC0LS9p7SjC6Q3","WeakGuide");var n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.WeakGuide=void 0;var o=t("GameManager"),r=t("NodePoolItem"),s=t("Guide"),c=cc._decorator,_=c.ccclass,d=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.finger_anim=null,e.tip_node=null,e.tip_txt=null,e}return n(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.update_view()},enumerable:!1,configurable:!0}),e.prototype.update_view=function(){var t=this;if(""!=this._data.tip_content?(this.tip_node.active=!0,this.tip_node.position=this._data.tip_offset,this.tip_txt.string=this._data.tip_content,this.tip_node.scaleX=this._data.dir,this.tip_txt.node.scaleX=this._data.dir):this.tip_node.active=!1,this._data.disappear_time>0&&this.scheduleOnce(function(){o.gm.pool.put(t.node)},this._data.disappear_time),this._data.target){var e=this._data.target.getComponent(cc.Button),i=this._data.target.getComponent(cc.Toggle);e?this._data.target.on("click",this.on_click_or_touch_start_handler,this):i?this._data.target.on("toggle",this.on_click_or_touch_start_handler,this):this._data.target.on(cc.Node.EventType.TOUCH_START,this.on_click_or_touch_start_handler,this)}},e.prototype.unuse=function(){t.prototype.unuse.call(this),this._data&&this._data.target&&(this._data.target.off("click",this.on_click_or_touch_start_handler,this),this._data.target.off("toggle",this.on_click_or_touch_start_handler,this),this._data.target.off(cc.Node.EventType.TOUCH_START,this.on_click_or_touch_start_handler,this),this._data=null),this.unscheduleAllCallbacks()},e.prototype.on_click_or_touch_start_handler=function(){s.Guide.log("\u5f31\u5f15\u5bfc\u8282\u70b9\u88ab\u70b9\u51fb,\u4efb\u52a1\u5b8c\u6210"),this._data.callback&&this._data.callback();for(var t=o.gm.data.weak_guide_array.length-1;t>=0;t--)o.gm.data.weak_guide_array[t]==this&&o.gm.data.weak_guide_array.splice(t,1)[0];o.gm.pool.put(this.node)},a([d(cc.Animation)],e.prototype,"finger_anim",void 0),a([d(cc.Node)],e.prototype,"tip_node",void 0),a([d(cc.RichText)],e.prototype,"tip_txt",void 0),a([_],e)}(r.NodePoolItem);i.WeakGuide=l,cc._RF.pop()},{GameManager:"GameManager",Guide:"Guide",NodePoolItem:"NodePoolItem"}],algo:[function(t,e){"use strict";cc._RF.push(e,"6dd31vOKz5GxqMimAD48/W+","algo");var i={cipher:function(t,e){for(var n=e.length/4-1,a=[[],[],[],[]],o=0;o<16;o++)a[o%4][Math.floor(o/4)]=t[o];a=i.addRoundKey(a,e,0,4);for(var r=1;r<n;r++)a=i.subBytes(a,4),a=i.shiftRows(a,4),a=i.mixColumns(a,4),a=i.addRoundKey(a,e,r,4);a=i.subBytes(a,4),a=i.shiftRows(a,4),a=i.addRoundKey(a,e,n,4);var s=new Array(16);for(o=0;o<16;o++)s[o]=a[o%4][Math.floor(o/4)];return s},keyExpansion:function(t){for(var e=t.length/4,n=e+6,a=new Array(4*(n+1)),o=new Array(4),r=0;r<e;r++){var s=[t[4*r],t[4*r+1],t[4*r+2],t[4*r+3]];a[r]=s}for(r=e;r<4*(n+1);r++){a[r]=new Array(4);for(var c=0;c<4;c++)o[c]=a[r-1][c];if(r%e==0)for(o=i.subWord(i.rotWord(o)),c=0;c<4;c++)o[c]^=i.rCon[r/e][c];else e>6&&r%e==4&&(o=i.subWord(o));for(c=0;c<4;c++)a[r][c]=a[r-e][c]^o[c]}return a},subBytes:function(t,e){for(var n=0;n<4;n++)for(var a=0;a<e;a++)t[n][a]=i.sBox[t[n][a]];return t},shiftRows:function(t,e){for(var i=new Array(4),n=1;n<4;n++){for(var a=0;a<4;a++)i[a]=t[n][(a+n)%e];for(a=0;a<4;a++)t[n][a]=i[a]}return t},mixColumns:function(t){for(var e=0;e<4;e++){for(var i=new Array(4),n=new Array(4),a=0;a<4;a++)i[a]=t[a][e],n[a]=128&t[a][e]?t[a][e]<<1^283:t[a][e]<<1;t[0][e]=n[0]^i[1]^n[1]^i[2]^i[3],t[1][e]=i[0]^n[1]^i[2]^n[2]^i[3],t[2][e]=i[0]^i[1]^n[2]^i[3]^n[3],t[3][e]=i[0]^n[0]^i[1]^i[2]^n[3]}return t},addRoundKey:function(t,e,i,n){for(var a=0;a<4;a++)for(var o=0;o<n;o++)t[a][o]^=e[4*i+o][a];return t},subWord:function(t){for(var e=0;e<4;e++)t[e]=i.sBox[t[e]];return t},rotWord:function(t){for(var e=t[0],i=0;i<3;i++)t[i]=t[i+1];return t[3]=e,t},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]]};void 0!==e&&e.exports&&(e.exports=i),"function"==typeof define&&define.amd&&define([],function(){return i}),cc._RF.pop()},{}],encryptjs:[function(t,e,i){"use strict";cc._RF.push(e,"c2b1aS3o8hEzJohHYUOjCaZ","encryptjs"),function(n){(function(t,n){void 0!==i&&void 0!==e?e.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):"function"==typeof define&&"object"==typeof define.petal?define("encryptjs",[],n):this.encryptjs=n()})(0,function(i){if((i={version:"1.0.0"}).init=function(){console.log("--------------------Applying Encryption Algorithm------------------ ")},void 0!==e&&e.exports)var a=t("algo");i.encrypt=function(t,e,n){if(128!=n&&192!=n&&256!=n)return"";t=String(t).utf8Encode(),e=String(e).utf8Encode();for(var o=n/8,r=new Array(o),s=0;s<o;s++)r[s]=isNaN(e.charCodeAt(s))?0:e.charCodeAt(s);var c=a.cipher(r,a.keyExpansion(r));c=c.concat(c.slice(0,o-16));var _=new Array(16),d=(new Date).getTime(),l=d%1e3,u=Math.floor(d/1e3),h=Math.floor(65535*Math.random());for(s=0;s<2;s++)_[s]=l>>>8*s&255;for(s=0;s<2;s++)_[s+2]=h>>>8*s&255;for(s=0;s<4;s++)_[s+4]=u>>>8*s&255;var p="";for(s=0;s<8;s++)p+=String.fromCharCode(_[s]);for(var g=a.keyExpansion(c),f=Math.ceil(t.length/16),m=new Array(f),y=0;y<f;y++){for(var v=0;v<4;v++)_[15-v]=y>>>8*v&255;for(v=0;v<4;v++)_[15-v-4]=y/4294967296>>>8*v;var b=a.cipher(_,g),A=y<f-1?16:(t.length-1)%16+1,w=new Array(A);for(s=0;s<A;s++)w[s]=b[s]^t.charCodeAt(16*y+s),w[s]=String.fromCharCode(w[s]);m[y]=w.join("")}var M=p+m.join("");return i.base64Encode(M)},i.decrypt=function(t,e,n){if(128!=n&&192!=n&&256!=n)return"";t=i.base64Decode(String(t)),e=String(e).utf8Encode();for(var o=n/8,r=new Array(o),s=0;s<o;s++)r[s]=isNaN(e.charCodeAt(s))?0:e.charCodeAt(s);var c=a.cipher(r,a.keyExpansion(r));c=c.concat(c.slice(0,o-16));var _=new Array(8),d=t.slice(0,8);for(s=0;s<8;s++)_[s]=d.charCodeAt(s);for(var l=a.keyExpansion(c),u=Math.ceil((t.length-8)/16),h=new Array(u),p=0;p<u;p++)h[p]=t.slice(8+16*p,24+16*p);t=h;var g=new Array(t.length);for(p=0;p<u;p++){for(var f=0;f<4;f++)_[15-f]=p>>>8*f&255;for(f=0;f<4;f++)_[15-f-4]=(p+1)/4294967296-1>>>8*f&255;var m=a.cipher(_,l),y=new Array(t[p].length);for(s=0;s<t[p].length;s++)y[s]=m[s]^t[p].charCodeAt(s),y[s]=String.fromCharCode(y[s]);g[p]=y.join("")}return g.join("").utf8Decode()};var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return i.base64Encode=function(t){var e,n,a,r,s,c,_,d="",l=0;for(t=i._utf8_encode(t);l<t.length;)r=(e=t.charCodeAt(l++))>>2,s=(3&e)<<4|(n=t.charCodeAt(l++))>>4,c=(15&n)<<2|(a=t.charCodeAt(l++))>>6,_=63&a,isNaN(n)?c=_=64:isNaN(a)&&(_=64),d=d+o.charAt(r)+o.charAt(s)+o.charAt(c)+o.charAt(_);return d},i.base64Decode=function(t){var e,n,a,r,s,c,_="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)e=o.indexOf(t.charAt(d++))<<2|(r=o.indexOf(t.charAt(d++)))>>4,n=(15&r)<<4|(s=o.indexOf(t.charAt(d++)))>>2,a=(3&s)<<6|(c=o.indexOf(t.charAt(d++))),_+=String.fromCharCode(e),64!=s&&(_+=String.fromCharCode(n)),64!=c&&(_+=String.fromCharCode(a));return i._utf8_decode(_)},i._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},i._utf8_decode=function(t){for(var e="",i=0,n=0,a=0;i<t.length;)(n=t.charCodeAt(i))<128?(e+=String.fromCharCode(n),i++):n>191&&n<224?(a=t.charCodeAt(i+1),e+=String.fromCharCode((31&n)<<6|63&a),i+=2):(a=t.charCodeAt(i+1),c3=t.charCodeAt(i+2),e+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&c3),i+=3);return e},i.getTextEncryptAndSaveToTextFile=function(){throw Error("Command line not supported on this platform")},i.getTextEncryptAndSaveToJSONFile=function(){throw Error("Command line not supported on this platform")},i.writeCipherTextToJSON=function(t,e,i,n){null==n&&(n=i,i={});var a="object"==typeof i&&null!==i&&"spaces"in i?i.spaces:this.spaces;try{JSON.stringify(e,i?i.replacer:null,a)}catch(t){if(n)return n(t,null)}},void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(t){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==n)return new n(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==n)return new n(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),i.init(),i})}.call(void 0,t("2").Buffer),cc._RF.pop()},{2:"2",algo:"algo"}],ts:[function(t,e){"use strict";cc._RF.push(e,"7bdf9y1XqFE5YAKiLxbRy1Z","ts"),cc._RF.pop()},{}]},{},["1","2","3","4","AudioManager","BannerNative","BigJpgNative","BundleManager","ChannelManager","ClickAudio","CoinFlyAnim","ConfigData","ConfigManager","Constants","CsvReader","DWMiniGame ","DataClass","DataManager","DelayTaskManager","Draggable","EventEmitter","EventProxy","FlyNotice","FlyNoticeItem","GameMain","GameManager","GameModule","GameObject","GameObjectManager","GraphicsUtils","Guide","GuideData","Help","Hero","HeroCardItem","HeroData","HeroInfo","IcoNative","ItemRender","Launch","ListView","ListViewItem","Loading","LongTouchButton","LuckyWheelData","MainData","NetUtils","NodePoolItem","NodePoolManager","Notice","NoticeItem","OPPOMiniGame","PlayAndStop","PolygonButton","Profile","QQMiniGame","RecordData","SDKManager","SignData","SimpleMap","StartData","StorageBase","StorageManager","StoreData","TTMiniGame","TaskData","TaskManager","TiledMapExport","TiledMapUtils","Timer","TouchSingle","Trap","TrapData","TrapUpgradeItem","TypeUtils","UIManager","UnchokeInputEvents","Utils","VIVOMiniGame","WXMiniGame","WarehouseData","WeakGuide","algo","encryptjs","ts"]);