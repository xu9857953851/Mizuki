window.__require=function t(e,n,o){function a(r,l){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var s="function"==typeof __require&&__require;if(!l&&s)return s(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return a(e[r][1][t]||t)},u,u.exports,t,e,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({AIATK:[function(t,e,n){"use strict";cc._RF.push(e,"912fbXrzi9A/ZmwluvHzKUi","AIATK");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("AiState"),u=i("bullet"),p=i("GameSys"),f=i("GuideAI");function d(t,e){return(e=c.call(this,t,e)||this).time=0,e.state=0,e.isover=!1,e.curpanel=t.getComponent(f.default),e}i=(a=cc._decorator).ccclass,a.property,l(d,c=s.default),d.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.isover=!1,this.state=0,this.curpanel.index},d.prototype.DoAttack=function(){var t,e,n=this;if(this.curpanel.target.isDie())return this.curpanel.ChangeStateToMove(),this.state=0,void(this.time=0);this.state=1,"\u8fd1\u6218"==this.curpanel.role.type?(t=.1/p.default.speed,e=this.curpanel.node.position.sub(this.curpanel.target.node.position),cc.tween(this.curpanel.Content).by(t,{position:cc.v3(-e.x/5,-e.y/5,0)}).call(function(){n.time=0,n.Attack()}).by(t,{position:cc.v3(e.x/5,e.y/5,0)}).call(function(){}).start()):(t=.1/p.default.speed,e=this.curpanel.node.position.sub(this.curpanel.target.node.position),cc.tween(this.curpanel.Content).call(function(){2==n.stateId||n.curpanel.node.stopAllActions()}).by(t,{position:cc.v3(-e.x/8,-e.y/8,0)}).call(function(){if(2==n.stateId)if(n.time=0,4==n.curpanel.role.id)for(var t=n.curpanel.curpannel.GetTeamer(),e=0;e<t.length;e++)!function(e){var o=n.curpanel.curpannel.Createbuttet(),a=n.curpanel.node.convertToWorldSpaceAR(n.curpanel.Content.getPosition());a=n.curpanel.node.parent.convertToNodeSpaceAR(a),o.setPosition(a),o.getComponent(u.default).init(0,3,n.curpanel,t[e],function(){n.AllAttack(t[e])})}(e);else{var o=n.curpanel.curpannel.Createbuttet(),a=n.curpanel.node.convertToWorldSpaceAR(n.curpanel.Content.getPosition());a=n.curpanel.node.parent.convertToNodeSpaceAR(a),o.setPosition(a),o.getComponent(u.default).init(0,3,n.curpanel,n.curpanel.target,function(){n.Attack()})}else n.curpanel.node.stopAllActions()}).by(t,{position:cc.v3(e.x/8,e.y/8,0)}).call(function(){}).start())},d.prototype.AllAttack=function(t){var e,n;t&&(e=this.curpanel.GetPracticalAtk(),n=!1,Math.floor(100*Math.random())<this.curpanel.role.crit&&(e*=2,n=!0),n=t.TheStrike(e,this.curpanel.role.hit,n,"\u8fd1\u6218"==this.curpanel.role.type),this.curpanel.AddAngre(0),n?this.isover=!0:this.initAtk())},d.prototype.Attack=function(){var t,e;this.curpanel.target&&(t=this.curpanel.GetPracticalAtk(),e=!1,Math.floor(100*Math.random())<this.curpanel.role.crit&&(t*=2,e=!0),e=this.curpanel.target.TheStrike(t,this.curpanel.role.hit,e,"\u8fd1\u6218"==this.curpanel.role.type),this.curpanel.AddAngre(0),e?this.isover=!0:this.initAtk())},d.prototype.initAtk=function(){this.state=0;var t=this.curpanel.node.getPosition(),e=this.curpanel.target.node.parent.convertToWorldSpaceAR(this.curpanel.target.node.getPosition());e=this.curpanel.node.parent.convertToNodeSpaceAR(e),(200<t.sub(e).mag()||this.curAiBase.curStateId!=f.default.STATE_SKILL)&&this.curpanel.ChangeStateToMove()},d.prototype.ExitState=function(){c.prototype.ExitState.call(this)},d.prototype.Update=function(t){if(c.prototype.Update.call(this,t),this.curpanel.target.isDie()&&this.curAiBase.curStateId!=f.default.STATE_SKILL)return this.curpanel.ChangeStateToMove(),this.state=0,void(this.time=0);this.time<this.curpanel.role.atkSpeed&&(this.time+=t*p.default.speed),this.time>=this.curpanel.role.atkSpeed&&0==this.state&&this.DoAttack()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],d),r.default=i,cc._RF.pop()},{}],AIDIE:[function(t,e,n){"use strict";cc._RF.push(e,"239d22t5XRE6ai3bHguRUOC","AIDIE");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("AiState"),u=i("GameSys"),p=i("GuideAI");function f(t,e){return(e=c.call(this,t,e)||this).curpanel=t.getComponent(p.default),e}i=(a=cc._decorator).ccclass,a.property,l(f,c=s.default),f.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.curpanel.Content.stopAllActions(),this.curpanel.Content.setPosition(cc.v2(0,0)),99==this.curpanel.index&&u.default.GuideMonster.restor(this.curpanel.node)},f.prototype.ExitState=function(){c.prototype.ExitState.call(this)},f.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],AIIDLE:[function(t,e,n){"use strict";cc._RF.push(e,"3d5deWriDdBX5C3t5LgrgBp","AIIDLE");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("AiState"),u=i("GuideAI");function p(t,e){return(e=c.call(this,t,e)||this).curpanel=t.getComponent(u.default),e}i=(a=cc._decorator).ccclass,a.property,l(p,c=s.default),p.prototype.EnterState=function(){c.prototype.EnterState.call(this)},p.prototype.ExitState=function(){c.prototype.ExitState.call(this)},p.prototype.Update=function(t){c.prototype.Update.call(this,t)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],AIMOVE:[function(t,e,n){"use strict";cc._RF.push(e,"87b41VropZJRbQLZDFu82Qz","AIMOVE");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("AiState"),u=i("GameSys"),p=i("GuideAI");function f(t,e){return(e=c.call(this,t,e)||this).curpanel=t.getComponent(p.default),e}i=(a=cc._decorator).ccclass,a.property,l(f,c=s.default),f.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.GetTarget()},f.prototype.GetTarget=function(){this.curpanel.GetTarget()},f.prototype.ExitState=function(){c.prototype.ExitState.call(this)},f.prototype.ToFight=function(){this.curAiBase.curStateId!=p.default.STATE_DIE&&this.curAiBase.curStateId!=p.default.STATE_IDLE&&this.curAiBase.ChangeState(p.default.STATE_ATTACK)},f.prototype.Update=function(t){var e,n,o,a;c.prototype.Update.call(this,t),this.curpanel.target?(this.curpanel.isDie()&&this.curAiBase.ChangeState(p.default.STATE_DIE),this.curpanel.target.isDie()?this.GetTarget():(o=this.curpanel.node.getPosition(),n=this.curpanel.target.node.parent.convertToWorldSpaceAR(this.curpanel.target.node.getPosition()),a=this.curpanel.node.parent.convertToNodeSpaceAR(n),n=o.sub(a).mag(),a=(o=o.sub(a).signAngle(cc.v2(1,0)))/Math.PI*180+180,this.curpanel.Cursor.angle=-a,"\u8fd1\u6218"==this.curpanel.role.type?n<=200?this.ToFight():((e=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),this.curpanel.node.x+=t*e.x*u.default.speed*this.curpanel.moveSpeed,this.curpanel.node.y+=t*e.y*u.default.speed*this.curpanel.moveSpeed):n<=400?this.ToFight():((e=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),this.curpanel.node.x+=t*e.x*u.default.speed*this.curpanel.moveSpeed,this.curpanel.node.y+=t*e.y*u.default.speed*this.curpanel.moveSpeed))):this.GetTarget()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],AIMonsterAttack:[function(t,e,n){"use strict";cc._RF.push(e,"ba9ac9FKPpElaqO88SJQQAW","AIMonsterAttack");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("bullet"),u=i("GameFight"),p=i("Monster"),f=i("GameSys"),d=i("AiState");function h(t,e){return(e=c.call(this,t,e)||this).time=0,e.state=0,e.isover=!1,e.isover=!1,e.curMonster=t.getComponent(p.default),e}i=(a=cc._decorator).ccclass,a.property,l(h,c=d.default),h.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.state=0,this.isover=!1},h.prototype.DoAttack=function(){var t,e,n=this;if(this.curMonster.target.isDie()&&this.curAiBase.curStateId!=p.default.STATE_SKILL)return this.curMonster.ChangeStateToMove(),this.state=0,void(this.time=0);this.state=1,"\u8fd1\u6218"==this.curMonster.role.atkType?(t=.1/f.default.speed,e=this.curMonster.node.position.sub(this.curMonster.target.node.position),cc.tween(this.curMonster.Content).call(function(){2==n.stateId||n.curMonster.node.stopAllActions()}).by(t,{position:cc.v3(-e.x/5,-e.y/5,0)}).call(function(){2==n.stateId?(n.time=0,n.Attack()):n.curMonster.node.stopAllActions()}).by(t,{position:cc.v3(e.x/5,e.y/5,0)}).call(function(){n.isover&&(0<n.curMonster.role.hp?n.curMonster.ChangeStateToMove():n.curMonster.ChangeState(p.default.STATE_DIE),n.state=0,n.time=0)}).start()):(t=.1/f.default.speed,e=this.curMonster.node.position.sub(this.curMonster.target.node.position),cc.tween(this.curMonster.Content).call(function(){2==n.stateId||n.curMonster.node.stopAllActions()}).by(t,{position:cc.v3(-e.x/8,-e.y/8,0)}).call(function(){var t,e;2==n.stateId?(n.time=0,t=u.default.instance.Createbuttet(),e=n.curMonster.node.convertToWorldSpaceAR(n.curMonster.Content.getPosition()),e=n.curMonster.node.parent.convertToNodeSpaceAR(e),t.setPosition(e),t.getComponent(s.default).init(0,2,n.curMonster,n.curMonster.target,function(){n.Attack(),n.isover&&(0<n.curMonster.role.hp?n.curMonster.ChangeStateToMove():n.curMonster.ChangeState(p.default.STATE_DIE),n.state=0,n.time=0)})):n.curMonster.node.stopAllActions()}).by(t,{position:cc.v3(e.x/8,e.y/8,0)}).call(function(){n.isover&&(0<n.curMonster.role.hp?n.curMonster.ChangeStateToMove():n.curMonster.ChangeState(p.default.STATE_DIE),n.state=0,n.time=0)}).start())},h.prototype.Attack=function(){var t,e;this.curMonster.target&&(t=0,1<this.curMonster.Upatk?(t=this.curMonster.GetPracticalAtk()*this.curMonster.Upatk,this.curMonster.Upatk=1):t=this.curMonster.GetPracticalAtk(),e=!1,Math.floor(100*Math.random())<this.curMonster.role.crit&&(t*=2,e=!0),0<this.curMonster.Suck&&(this.curMonster.Cure(t*this.curMonster.Suck),this.curMonster.Suck=0),e=this.curMonster.target.TheStrike(t,this.curMonster.role.hit,e,"\u8fd1\u6218"==this.curMonster.role.atkType),2==this.curMonster.target.discipleid&&this.curMonster.target.Counter(this.curMonster),e?this.isover=!0:0<this.curMonster.role.hp?this.initAtk():this.curMonster.ChangeState(p.default.STATE_DIE))},h.prototype.initAtk=function(){this.state=0;var t=this.curMonster.node.getPosition(),e=this.curMonster.target.node.parent.convertToWorldSpaceAR(this.curMonster.target.node.getPosition());e=this.curMonster.node.parent.convertToNodeSpaceAR(e),t.sub(e).mag()>this.curMonster.role.range&&this.curMonster.ChangeStateToMove()},h.prototype.ExitState=function(){c.prototype.ExitState.call(this)},h.prototype.Update=function(t){c.prototype.Update.call(this,t),this.time<this.curMonster.role.atkSpeed&&0==this.state&&(this.time+=t*f.default.speed),this.time>=this.curMonster.role.atkSpeed&&0==this.state&&this.DoAttack()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],h),r.default=i,cc._RF.pop()},{}],AIMonsterDie:[function(t,e,n){"use strict";cc._RF.push(e,"e97caCUZxdFBJq7wIDBvdt7","AIMonsterDie");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Monster"),u=i("AiState");function p(t,e){return(e=c.call(this,t,e)||this).curMonster=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(p,c=u.default),p.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.curMonster.Content.stopAllActions(),this.curMonster.Content.setPosition(cc.v2(0,0)),this.curMonster.node.active=!1},p.prototype.ExitState=function(){c.prototype.ExitState.call(this)},p.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],AIMonsterIdle:[function(t,e,n){"use strict";cc._RF.push(e,"8bfc7YFUxVMVY56OjbMTrR8","AIMonsterIdle");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Monster"),u=i("AiState");function p(t,e){return(e=c.call(this,t,e)||this).curMonster=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(p,c=u.default),p.prototype.EnterState=function(){var t=this;c.prototype.EnterState.call(this),cc.tween(this.curMonster.node).by(.3,{x:-100}).call(function(){t.curMonster.StartFight(),t.curMonster.ChangeState(s.default.STATE_MOVE)}).start()},p.prototype.ExitState=function(){c.prototype.ExitState.call(this)},p.prototype.Update=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],AIMonsterMove:[function(t,e,n){"use strict";cc._RF.push(e,"57679q9e+ZLeZTGH68qEPI2","AIMonsterMove");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Monster"),u=i("GameSys"),p=i("AiState");function f(t,e){return(e=c.call(this,t,e)||this).curMonster=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(f,c=p.default),f.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.curMonster.target=null,this.GetTarget()},f.prototype.GetTarget=function(){this.curMonster.GetTeamer()},f.prototype.ExitState=function(){c.prototype.ExitState.call(this)},f.prototype.ToFight=function(){this.curAiBase.curStateId!=s.default.STATE_DIE&&this.curAiBase.curStateId!=s.default.STATE_IDLE&&this.curAiBase.ChangeState(s.default.STATE_ATTACK)},f.prototype.Update=function(t){var e,n,o;c.prototype.Update.call(this,t),!this.curMonster.target||this.curMonster.target.isDie()?this.GetTarget():(o=this.curMonster.node.getPosition(),e=this.curMonster.target.node.parent.convertToWorldSpaceAR(this.curMonster.target.node.getPosition()),n=this.curMonster.node.parent.convertToNodeSpaceAR(e),e=o.sub(n).mag(),n=(o=cc.v2(o.sub(cc.v2(n.x,n.y))).signAngle(cc.v2(1,0)))/Math.PI*180,this.curMonster.cursor.angle=-n,(o=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),this.curMonster.role.atkType,e<=this.curMonster.role.range?this.ToFight():(this.curMonster.node.x+=t*o.x*u.default.speed*this.curMonster.moveSpeed,this.curMonster.node.y+=t*o.y*u.default.speed*this.curMonster.moveSpeed))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],AIMonsterSkill:[function(t,e,n){"use strict";cc._RF.push(e,"6c9badrA5ZAg76TJdBBGtp5","AIMonsterSkill");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Monster"),u=i("GameSys"),p=i("AiState");function f(t,e){return(e=c.call(this,t,e)||this).time=0,e.maxtime=0,e.curMonster=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(f,c=p.default),f.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.time=(1==this.curMonster.skilltype?this.curMonster.skill:this.curMonster.fatality).release,this.maxtime=this.time,this.curMonster.do.active=!0,this.curMonster.dopro.fillRange=0,1==this.curMonster.skilltype&&(this.curMonster.doSkillSp.node.active=!0,this.curMonster.doSkillSp.setAnimation(0,"eff_loading",!0))},f.prototype.ExitState=function(){c.prototype.ExitState.call(this),1==this.curMonster.skilltype?this.curMonster.skillcd=0:this.curMonster.fatalitycd=0,this.curMonster.release=!1,this.curMonster.do.active=!1},f.prototype.Update=function(t){var e=this;c.prototype.Update.call(this,t),0<this.time&&(this.time-=t*u.default.speed,this.curMonster.dopro.fillRange=this.maxtime-this.time/this.maxtime,this.time<=0&&(1==this.curMonster.skilltype&&(this.curMonster.doSkillSp.setAnimation(0,"eff_Sskill_eff",!0),this.curMonster.doSkillSp.setCompleteListener(function(){"eff_Sskill_eff"==e.curMonster.doSkillSp.animation&&(e.curMonster.doSkillSp.node.active=!1)})),this.curMonster.DoSkill()))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],AIMonsterVertigo:[function(t,e,n){"use strict";cc._RF.push(e,"3e8c30RDLVEzpav1UtgJ2iD","AIMonsterVertigo");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("Monster"),p=i("GameSys"),f=i("AiState");function d(t,e){return(e=c.call(this,t,e)||this).time=0,e.curMonster=t.getComponent(u.default),e}i=(a=cc._decorator).ccclass,a.property,l(d,c=f.default),d.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.time=0,s.default.instance.setText(9,"\u7729\u6655\u4e2d",this.curMonster.node)},d.prototype.ExitState=function(){c.prototype.ExitState.call(this)},d.prototype.Update=function(t){c.prototype.Update.call(this,t),this.time+=t*p.default.speed,this.time>=this.curMonster.Vertigo&&this.curMonster.ChangeStateToMove()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],d),r.default=i,cc._RF.pop()},{}],AIMonsterWait:[function(t,e,n){"use strict";cc._RF.push(e,"6d1d0ITA5tISpHrpyTn+9ce","AIMonsterWait");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Monster"),u=i("AiState");function p(t,e){return(e=c.call(this,t,e)||this).curMonster=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(p,c=u.default),p.prototype.EnterState=function(){c.prototype.EnterState.call(this)},p.prototype.ExitState=function(){c.prototype.ExitState.call(this)},p.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],AISKILL:[function(t,e,n){"use strict";cc._RF.push(e,"b35921naWZE5ZPWKVPIJO6m","AISKILL");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("AiState"),u=i("SoundManager"),p=i("GameSys"),f=i("GuideAI");function d(t,e){return(e=c.call(this,t,e)||this).time=0,e.curpanel=t.getComponent(f.default),e}i=(a=cc._decorator).ccclass,a.property,l(d,c=s.default),d.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.curpanel.CdSp.node.active=!0,this.time=this.curpanel.releaseTime,this.curpanel.CdSp.fillRange=0,1==this.curpanel.skilltype&&(this.curpanel.doSp.node.active=!0,this.curpanel.doSp.setAnimation(0,"eff_loading",!0),1==this.curpanel.role.id||6==this.curpanel.role.id?u.default.instance.play(u.Sound.Nv):5!=this.curpanel.index&&7!=this.curpanel.index||u.default.instance.play(u.Sound.Nan))},d.prototype.ExitState=function(){c.prototype.ExitState.call(this),this.curpanel.doSp.node.active=!1,this.curpanel.CdSp.node.active=!1},d.prototype.Update=function(t){var e=this;c.prototype.Update.call(this,t),0<this.time&&(this.time-=t*p.default.speed,this.curpanel.CdSp.fillRange=this.curpanel.releaseTime-this.time/this.curpanel.releaseTime,this.time<=0&&this.curpanel.callback&&(1==this.curpanel.skilltype&&(this.curpanel.doSp.setAnimation(0,"eff_Sskill_eff",!1),this.curpanel.doSp.setCompleteListener(function(){"eff_Sskill_eff"==e.curpanel.doSp.animation&&(e.curpanel.doSp.node.active=!1)})),this.curpanel.callback()))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],d),r.default=i,cc._RF.pop()},{}],AITeamerAttack:[function(t,e,n){"use strict";cc._RF.push(e,"0735cQiXn5A8IOOjJQpauce","AITeamerAttack");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("bullet"),u=i("GameFight"),p=i("Teamer"),f=i("GameSys"),d=i("AiState");function h(t,e){return(e=c.call(this,t,e)||this).time=0,e.state=0,e.isover=!1,e.curTeamer=t.getComponent(p.default),e}i=(a=cc._decorator).ccclass,a.property,l(h,c=d.default),h.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.isover=!1,this.state=0,this.curTeamer.index},h.prototype.DoAttack=function(){var t,e,n=this;if(this.curTeamer.target.isDie())return this.curTeamer.ChangeStateToMove(),this.state=0,void(this.time=0);this.state=1,"\u8fd1\u6218"==this.curTeamer.role.type?(t=.1/f.default.speed,e=this.curTeamer.node.position.sub(this.curTeamer.target.node.position),cc.tween(this.curTeamer.Content).by(t,{position:cc.v3(-e.x/5,-e.y/5,0)}).call(function(){n.time=0,n.Attack()}).by(t,{position:cc.v3(e.x/5,e.y/5,0)}).call(function(){}).start()):(t=.1/f.default.speed,e=this.curTeamer.node.position.sub(this.curTeamer.target.node.position),cc.tween(this.curTeamer.Content).call(function(){2==n.stateId||n.curTeamer.node.stopAllActions()}).by(t,{position:cc.v3(-e.x/8,-e.y/8,0)}).call(function(){var t,e;2==n.stateId?(n.time=0,t=u.default.instance.Createbuttet(),e=n.curTeamer.node.convertToWorldSpaceAR(n.curTeamer.Content.getPosition()),e=n.curTeamer.node.parent.convertToNodeSpaceAR(e),t.setPosition(e),e=1==n.curTeamer.discipleid?1:3,t.getComponent(s.default).init(0,e,n.curTeamer,n.curTeamer.target,function(){n.Attack()})):n.curTeamer.node.stopAllActions()}).by(t,{position:cc.v3(e.x/8,e.y/8,0)}).call(function(){}).start())},h.prototype.Attack=function(){var t,e;this.curTeamer.target&&(t=0,1<this.curTeamer.Upatk?(t=this.curTeamer.GetPracticalAtk()*this.curTeamer.Upatk,this.curTeamer.Upatk=1):t=this.curTeamer.GetPracticalAtk(),e=!1,Math.floor(100*Math.random())<this.curTeamer.role.crit+this.curTeamer.crit.value&&(t*=2,e=!0),0<this.curTeamer.Suck&&(this.curTeamer.Cure(t*this.curTeamer.Suck),this.curTeamer.Suck=0),1==this.curTeamer.index&&this.curTeamer.Cure(t*this.curTeamer.role.passivity),2==this.curTeamer.discipleid&&(e?this.curTeamer.crit.value=0:this.curTeamer.crit.value+=10),e=this.curTeamer.target.TheStrike(t,this.curTeamer.role.hit,e,"\u8fd1\u6218"==this.curTeamer.role.type),this.curTeamer.AddAngre(0),e?this.isover=!0:this.initAtk())},h.prototype.initAtk=function(){this.state=0;var t=this.curTeamer.node.getPosition(),e=this.curTeamer.target.node.parent.convertToWorldSpaceAR(this.curTeamer.target.node.getPosition());e=this.curTeamer.node.parent.convertToNodeSpaceAR(e),(200<t.sub(e).mag()||this.curAiBase.curStateId!=p.default.STATE_SKILL)&&this.curTeamer.ChangeStateToMove()},h.prototype.DoSkill=function(){this.curTeamer.DoSkill(),this.state=0,this.time=0},h.prototype.ExitState=function(){c.prototype.ExitState.call(this)},h.prototype.Update=function(t){if(c.prototype.Update.call(this,t),this.curTeamer.target.isDie()&&this.curAiBase.curStateId!=p.default.STATE_SKILL)return this.curTeamer.ChangeStateToMove(),this.state=0,void(this.time=0);this.time<this.curTeamer.role.atkSpeed&&(this.time+=t*f.default.speed),this.time>=this.curTeamer.role.atkSpeed&&0==this.state&&this.DoAttack()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],h),r.default=i,cc._RF.pop()},{}],AITeamerDie:[function(t,e,n){"use strict";cc._RF.push(e,"936daLBkPhKIr1OnH361EOJ","AITeamerDie");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Teamer"),u=i("AiState");function p(t,e){return(e=c.call(this,t,e)||this).curTeamer=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(p,c=u.default),p.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.curTeamer.node.stopAllActions()},p.prototype.ExitState=function(){c.prototype.ExitState.call(this)},p.prototype.Update=function(t){c.prototype.Update.call(this,t)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],AITeamerIdle:[function(t,e,n){"use strict";cc._RF.push(e,"1dbc6WdZMlAq7wK+jHAiFca","AITeamerIdle");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Teamer"),u=i("AiState");function p(t,e){return(e=c.call(this,t,e)||this).curTeamer=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(p,c=u.default),p.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.curTeamer.ToStartpos()},p.prototype.ExitState=function(){c.prototype.ExitState.call(this)},p.prototype.Update=function(t){c.prototype.Update.call(this,t)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],AITeamerMove:[function(t,e,n){"use strict";cc._RF.push(e,"27078Quk8FAe57PtzvHiOAA","AITeamerMove");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Teamer"),u=i("GameSys"),p=i("AiState");function f(t,e){return(e=c.call(this,t,e)||this).curTeamer=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(f,c=p.default),f.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.GetTarget()},f.prototype.GetTarget=function(){this.curTeamer.GetMonster()},f.prototype.ExitState=function(){c.prototype.ExitState.call(this)},f.prototype.ToFight=function(){this.curAiBase.curStateId!=s.default.STATE_DIE&&this.curAiBase.curStateId!=s.default.STATE_IDLE&&this.curAiBase.ChangeState(s.default.STATE_ATTACK)},f.prototype.Update=function(t){var e,n,o,a;c.prototype.Update.call(this,t),this.curTeamer.target?this.curTeamer.isDie()?this.curAiBase.ChangeState(s.default.STATE_DIE):this.curTeamer.target.isDie()?this.GetTarget():(o=this.curTeamer.node.getPosition(),n=this.curTeamer.target.node.parent.convertToWorldSpaceAR(this.curTeamer.target.node.getPosition()),a=this.curTeamer.node.parent.convertToNodeSpaceAR(n),n=o.sub(a).mag(),a=(o=cc.v2(o.sub(a)).signAngle(cc.v2(1,0)))/Math.PI*180+180,this.curTeamer.cursor.angle=-a,"\u8fd1\u6218"==this.curTeamer.role.type?n<=200?this.ToFight():((e=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),this.curTeamer.node.x+=t*e.x*u.default.speed*this.curTeamer.moveSpeed,this.curTeamer.node.y+=t*e.y*u.default.speed*this.curTeamer.moveSpeed):n<=400?this.ToFight():((e=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),this.curTeamer.node.x+=t*e.x*u.default.speed*this.curTeamer.moveSpeed,this.curTeamer.node.y+=t*e.y*u.default.speed*this.curTeamer.moveSpeed)):this.GetTarget()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],AITeamerSkill:[function(t,e,n){"use strict";cc._RF.push(e,"d7c9b6DR6hOpI0hiFyr8qVT","AITeamerSkill");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Teamer"),u=i("SoundManager"),p=i("GameSys"),f=i("AiState");function d(t,e){return(e=c.call(this,t,e)||this).time=0,e.curTeamer=t.getComponent(s.default),e}i=(a=cc._decorator).ccclass,a.property,l(d,c=f.default),d.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.time=this.curTeamer.releaseTime,this.curTeamer.release=!0,this.curTeamer.do.active=!0,this.curTeamer.dopro.fillRange=0,1==this.curTeamer.skilltype&&(this.curTeamer.doSkillSp.node.active=!0,this.curTeamer.doSkillSp.setAnimation(0,"eff_loading",!0),0==this.curTeamer.index?u.default.instance.play(u.Sound.Nan):1==this.curTeamer.index||(0==this.curTeamer.discipleid?u.default.instance.play(u.Sound.Nv):u.default.instance.play(u.Sound.Nan)))},d.prototype.ExitState=function(){c.prototype.ExitState.call(this),this.curTeamer.release=!1,this.curTeamer.do.active=!1},d.prototype.Update=function(t){var e=this;c.prototype.Update.call(this,t),0<this.time&&(this.time-=t*p.default.speed,t=1-this.time/this.curTeamer.releaseTime,this.curTeamer.dopro.fillRange=t,this.time<=0&&(this.curTeamer.callback?(1==this.curTeamer.skilltype&&(this.curTeamer.doSkillSp.setAnimation(0,"eff_Sskill_eff",!1),this.curTeamer.doSkillSp.setCompleteListener(function(){"eff_Sskill_eff"==e.curTeamer.doSkillSp.animation&&(e.curTeamer.doSkillSp.node.active=!1)})),this.curTeamer.callback()):this.curTeamer.DoSkill()))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],d),r.default=i,cc._RF.pop()},{}],AITeamerVertigo:[function(t,e,n){"use strict";cc._RF.push(e,"89a336e4VpE3ZutLou2tMBr","AITeamerVertigo");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("Teamer"),p=i("GameSys"),f=i("AiState");function d(t,e){return(e=c.call(this,t,e)||this).time=0,e.curTeamer=t.getComponent(u.default),e}i=(a=cc._decorator).ccclass,a.property,l(d,c=f.default),d.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.time=0,s.default.instance.setText(9,"\u7729\u6655\u4e2d",this.curTeamer.node)},d.prototype.ExitState=function(){c.prototype.ExitState.call(this)},d.prototype.Update=function(t){c.prototype.Update.call(this,t),this.time+=t*p.default.speed,this.time>=this.curTeamer.Vertigo&&(this.curTeamer.isDie()?this.curTeamer.ChangeState(u.default.STATE_DIE):this.curTeamer.ChangeStateToMove())},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],d),r.default=i,cc._RF.pop()},{}],AIVER:[function(t,e,n){"use strict";cc._RF.push(e,"0cc57H3wnNOIamxqNnW/zww","AIVER");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("AiState"),u=i("GameSys"),p=i("GuideAI");function f(t,e){return(e=c.call(this,t,e)||this).time=0,e.curpanel=t.getComponent(p.default),e}i=(a=cc._decorator).ccclass,a.property,l(f,c=s.default),f.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.time=0,this.curpanel.curpannel.setText(9,"\u7729\u6655\u4e2d",this.curpanel.node)},f.prototype.ExitState=function(){c.prototype.ExitState.call(this)},f.prototype.Update=function(t){c.prototype.Update.call(this,t),this.time+=t*u.default.speed,this.time>=this.curpanel.Vertigo&&this.curpanel.ChangeStateToMove()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],AiBase:[function(t,e,n){"use strict";cc._RF.push(e,"d7f7b++J1ZJ8477YrFl04Zp","AiBase");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){var t=null!==l&&l.apply(this,arguments)||this;return t.curStateId=999999,t.aiStates=new Array,t}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.update=function(t){var e=this.GetAiStateById(this.curStateId);e&&e.Update(t)},s.prototype.ChangeState=function(t){var e,n;this.curStateId!=t&&(e=this.GetAiStateById(this.curStateId),n=this.GetAiStateById(t),null!=e&&e.ExitState(),this.curStateId=t,null!=n&&n.EnterState())},s.prototype.GetAiStateById=function(t){return t<this.aiStates.length?(this.aiStates[t].stateId,this.aiStates[t]):null},s.prototype.AddAiState=function(t){this.aiStates.length!=t.stateId&&console.log("\u6dfb\u52a0\u52a8ai\u72c0\u614b\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\u6dfb\u52a0\u52a8\u753b\u987a\u5e8f"),this.aiStates.push(t)},s.prototype.GetSkill=function(){return null},s.prototype.GetMonster=function(){return null},s.prototype.GetTeamer=function(){return null},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],AiHang:[function(t,e,n){"use strict";cc._RF.push(e,"99b4e/6b2FBg4Zjg4YceMNQ","AiHang");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("PanelConst"),u=i("UIManager"),p=i("DiscipleControl"),f=i("SectControl"),d=i("AiMoveBase");function h(t,e){var n=c.call(this,t,e)||this;return n.hangTimer=0,n.curDisciple=t.getComponent(p.default),n.findTargetHandler=function(){n.FindTargetHang()},n}i=(a=cc._decorator).ccclass,a.property,l(h,c=d.default),h.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.hangTimer=this.curDisciple.hangTime,this.OffTimeHang(1)},h.prototype.ExitState=function(){c.prototype.ExitState.call(this),this.curAiBase.unschedule(this.findTargetHandler)},h.prototype.Update=function(t){c.prototype.Update.call(this,t),t=0<this.hangTimer,this.hangTimer-=cc.director.getDeltaTime(),this.hangTimer<=0&&t&&(this.StopMove(),this.curAiBase.scheduleOnce(this.findTargetHandler,3))},h.prototype.GetMoveSpeed=function(){return this.curDisciple.moveSpeed},h.prototype.OffTimeHang=function(t){t+=Math.random(),this.curAiBase.scheduleOnce(this.findTargetHandler,t)},h.prototype.FindTargetHang=function(){var t=u.default.Instance.GetClass(s.default.Sect).getComponent(f.default).pathArea.GetRandomPath(this.curAiBase.node);this.curDisciple.Spine.setAnimation(0,"move",!0),this.SetPath(t),this.MoveLogic()},h.prototype.EndMove=function(){this.curDisciple.Spine.setAnimation(0,"start",!0),this.OffTimeHang(3)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],h),r.default=i,cc._RF.pop()},{}],AiIdle:[function(t,e,n){"use strict";cc._RF.push(e,"f01baLFVCxM9KHm59QdlZn7","AiIdle");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("AiState"),u=i("DiscipleControl");function p(t,e){return(e=c.call(this,t,e)||this).curDisciple=t.getComponent(u.default),e}i=(a=cc._decorator).ccclass,a.property,l(p,c=s.default),p.prototype.EnterState=function(){c.prototype.EnterState.call(this),this.curDisciple.Spine.setAnimation(0,"start",!0)},p.prototype.ExitState=function(){c.prototype.ExitState.call(this)},p.prototype.Update=function(t){c.prototype.Update.call(this,t)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],AiMoveBase:[function(t,e,n){"use strict";cc._RF.push(e,"f4c50lNys1MYrwvpYYU2XTu","AiMoveBase");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("AiState"),u=i("DiscipleControl");function p(t,e){return(e=c.call(this,t,e)||this).pathPoses=new Array,e.nextMoveIndex=0,e.curDisciple=t.getComponent(u.default),e}i=(a=cc._decorator).ccclass,a.property,l(p,c=s.default),p.prototype.EnterState=function(){c.prototype.EnterState.call(this)},p.prototype.ExitState=function(){c.prototype.ExitState.call(this),this.StopMove()},p.prototype.SetPath=function(t){this.nextMoveIndex=0,this.pathPoses=new Array,this.pathPoses=t},p.prototype.GetMoveSpeed=function(){return 0},p.prototype.MoveLogic=function(){var t,e,n,o=this;this.nextMoveIndex>=this.pathPoses.length?this.EndMove():(t=this.pathPoses[this.nextMoveIndex],(n=this.curAiBase.node.getPosition()).x>t.x?this.curAiBase.node.getChildByName("Sp").scaleX=1:n.x<t.x&&(this.curAiBase.node.getChildByName("Sp").scaleX=-1),e=cc.Vec2.distance(this.curAiBase.node.getPosition(),t)/this.GetMoveSpeed(),n=cc.tween,this.curDisciple.speed,"move"!=this.curDisciple.Spine.animation&&this.curDisciple.Spine.setAnimation(0,"move",!0),this.curTween=n(this.curAiBase.node).to(e,{position:cc.v3(t.x,t.y,0)}).call(function(){o.MoveLogic()}).start(),this.nextMoveIndex+=1)},p.prototype.EndMove=function(){},p.prototype.StopMove=function(){this.curTween&&(this.curTween.stop(),"start"!=this.curDisciple.Spine.animation&&this.curDisciple.Spine.setAnimation(0,"start",!0))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],AiState:[function(t,e,n){"use strict";cc._RF.push(e,"f52c0Gbd5hCQJeMQIslGD8g","AiState");var o,a=n;function i(t,e){this.stateId=e,this.curAiBase=t}Object.defineProperty(a,"__esModule",{value:!0}),i.prototype.EnterState=function(){},i.prototype.ExitState=function(){this.curAiBase.node.stopAllActions()},i.prototype.Update=function(){},o=i,a.default=o,cc._RF.pop()},{}],AlchemyBox:[function(t,e,n){"use strict";cc._RF.push(e,"6d841dHsslKMI4zZNAkcBBF","AlchemyBox");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("DrugDataManager"),p=a("PropDataManager"),f=a("SoundManager"),d=a("GameSys"),h=a("GameTools"),y=a("AlchemyPanel"),v=a("TipGroup");function g(){var t=null!==s&&s.apply(this,arguments)||this;return t.upBtn=null,t.drugtime=null,t.index=0,t.panel=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(g,s=cc.Component),g.prototype.onLoad=function(){this.getBtn=this.node.getChildByName("get"),this.drugnum=this.node.getChildByName("makenum").getComponent(cc.Label),this.drugtime=this.node.getChildByName("time").getComponent(cc.Label),this.upBtn=this.node.getChildByName("upspeed")},g.prototype.initDrug=function(){var t=d.default.getDrugBoxNum()[this.index],e=d.default.getDrugTime()[this.index],n=d.default.getDrugOver()[this.index],o=t-n;this.drugnum.string="("+n+"/"+t+")",this.drugtime.string=h.default.sec_to_timefunction(e)+"\u79d2\u70bc\u5236\u5b8c\u6210",0<e||0<o?(this.getBtn.active=!1,this.upBtn.active=!0):(this.getBtn.active=!0,this.upBtn.active=!1)},g.prototype.ClickAllGet=function(){f.default.instance.play(f.Sound.Click);var t=d.default.getDrugOver();d.default.setDrugCount(t[this.index]);var e=p.default.Instance.GetProp(this.index+1);p.default.Instance.addPack([{prop:e,have:t[this.index]}]),(e=d.default.getDrugBoxNum())[this.index]-=t[this.index],d.default.setDrugBoxNum(e),e=u.default.Instance.GetDrug(this.index+1),v.default.instance.setText(-1,e.name+"\xd7"+t[this.index]),t[this.index]=0,d.default.setDrugOver(t),this.panel.initAlchemy()},g.prototype.AllGet=function(){if(d.default.getDrugOver()[this.index]<=0)return!1;d.default.getDrugNum();var t=d.default.getDrugOver();d.default.setDrugCount(t[this.index]);var e=p.default.Instance.GetProp(this.index+1);p.default.Instance.addPack([{prop:e,have:t[this.index]}]),(e=d.default.getDrugBoxNum())[this.index]-=t[this.index],d.default.setDrugBoxNum(e);var n=u.default.Instance.GetDrug(this.index+1),o=t[this.index];return setTimeout(function(){v.default.instance.setText(-1,n.name+"\xd7"+o)},500*this.index),t[this.index]=0,d.default.setDrugOver(t),this.panel.initAlchemy(),!0},g.prototype.UpSpeed=function(){var t=this;f.default.instance.play(f.Sound.Click);var e=d.default.getDrugBoxNum(),n=d.default.getDrugOver();n[t.index]=e[t.index],d.default.setDrugOver(n),(n=d.default.getDrugTime())[t.index]=0,d.default.setDrugTime(n)},g.prototype.start=function(){},g.prototype.update=function(){this.initDrug()},c([i({displayName:"\u4e39\u836f\u5e8f\u53f7",type:cc.Float})],g.prototype,"index",void 0),c([i({displayName:"\u70bc\u4e39\u9762\u677f",type:y.default})],g.prototype,"panel",void 0),a=c([a],g),r.default=a,cc._RF.pop()},{}],AlchemyPanel:[function(t,e,n){"use strict";cc._RF.push(e,"b73b9NIRn5BmZc3jyY3S97n","AlchemyPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("OnHook"),p=a("DrugDataManager"),f=a("IntensifyDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("AlchemyBox"),m=a("TipGroup"),b=a("UIBase"),C=a("UIManager");function S(){var t=null!==s&&s.apply(this,arguments)||this;return t.Teacher=null,t.btnSprite=[],t.Content=null,t.alchemyBtn=null,t.matrixBtn=null,t.alchemyContent=null,t.elixirContent=null,t.makeContent=null,t.allgetRed=null,t.allmakeRed=null,t.matrixContent=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,s=b.default),S.prototype.onLoad=function(){this.Content=this.node.getChildByName("Content"),this.alchemyBtn=this.Content.getChildByName("layout").getChildByName("alchemy"),this.matrixBtn=this.Content.getChildByName("layout").getChildByName("matrix"),this.alchemyContent=this.Content.getChildByName("AlchemyContent"),this.elixirContent=this.alchemyContent.getChildByName("elixirContent"),this.makeContent=this.alchemyContent.getChildByName("makeContent")},S.prototype.onEnable=function(){s.prototype.onEnable.call(this),5==u.default.instance.teacherid?this.ShowTeacher():this.HideTeacher()},S.prototype.initAlchemy=function(){for(var t=d.default.Instance.GetPackPropType(0),e=f.default.Instance.GetCanMakeNum(),n=0;n<this.makeContent.childrenCount;n++){for(var o=0,a=0;a<t.length;a++)t[a].prop.goodsid==n+1&&(o=t[a].have);this.makeContent.children[n].getChildByName("num").getComponent(cc.Label).string="\xd7"+v.default.refSetCoin(o);var i=p.default.Instance.isUnlock(n),r=p.default.Instance.GetDrug(n+1);i?(0<y.default.getDrugBoxNum()[n]?(this.makeContent.children[n].getChildByName("make").active=!1,this.makeContent.children[n].getChildByName("name").getComponent(cc.Label).string=r.name+"(\u70bc\u5236\u4e2d)",this.makeContent.children[n].getChildByName("box").active=!0):(this.makeContent.children[n].getChildByName("box").active=!1,this.makeContent.children[n].getChildByName("make").active=!0,this.makeContent.children[n].getChildByName("name").getComponent(cc.Label).string=""+r.name,this.makeContent.children[n].getChildByName("make").getChildByName("makenum").getComponent(cc.Label).string="\u70bc\u5236"+e+"\u679a"),this.makeContent.children[n].getChildByName("condition").active=!1):(this.makeContent.children[n].getChildByName("name").getComponent(cc.Label).string=""+r.name,this.makeContent.children[n].getChildByName("make").active=!1,this.makeContent.children[n].getChildByName("condition").active=!0,this.makeContent.children[n].getChildByName("condition").getComponent(cc.Label).string=""+r.unlock,this.makeContent.children[n].getChildByName("box").active=!1)}},S.prototype.start=function(){},S.prototype.ClickAlchemy=function(){h.default.instance.play(h.Sound.Click),this.alchemyContent.active=!0,this.alchemyBtn.getComponent(cc.Sprite).spriteFrame=this.btnSprite[0],this.matrixContent.active=!1,this.matrixBtn.getComponent(cc.Sprite).spriteFrame=this.btnSprite[1],this.initAlchemy()},S.prototype.ClickMatrix=function(){h.default.instance.play(h.Sound.Click),this.alchemyContent.active=!1,this.alchemyBtn.getComponent(cc.Sprite).spriteFrame=this.btnSprite[1],this.matrixContent.active=!0,this.matrixBtn.getComponent(cc.Sprite).spriteFrame=this.btnSprite[0]},S.prototype.ClickDrug=function(t,e){h.default.instance.play(h.Sound.Click);var n=parseInt(e),o=f.default.Instance.GetCanMakeNum(),a=y.default.getDrugBoxNum();a[n]>=o?m.default.instance.setText(-1,"\u65e0\u6cd5\u70bc\u5236\u66f4\u591a\u4e39\u836f\uff0c\u8bf7\u53bb\u5883\u754c\u63d0\u5347\u70bc\u4e39\u6570\u91cf\u4e0a\u9650"):(a[n]+=o,a[n]>=o&&(a[n]=o),y.default.setDrugBoxNum(a),e=p.default.Instance.GetDrug(n+1),(a=y.default.getDrugTime())[n]<=0&&(a[n]=e.needtime*o,y.default.setDrugTime(a)),this.initAlchemy())},S.prototype.ClickAllGet=function(){h.default.instance.play(h.Sound.Click);for(var t=0,e=0;e<this.elixirContent.childrenCount;e++)this.makeContent.children[e].getChildByName("box").getComponent(g.default).AllGet()&&t++;0==t?m.default.instance.setText(-1,"\u4e39\u836f\u672a\u70bc\u5236\u5b8c\u6210"):m.default.instance.setText(-1,"\u5f00\u59cb\u70bc\u4e39")},S.prototype.ClickUpSpeed=function(){h.default.instance.play(h.Sound.Click);for(var t=0;t<this.elixirContent.childrenCount;t++)this.makeContent.children[t].getChildByName("box").getComponent(g.default).UpSpeed()},S.prototype.ClickAllMake=function(){h.default.instance.play(h.Sound.Click);for(var t,e,n=f.default.Instance.GetCanMakeNum(),o=0,a=0,i=0;i<this.elixirContent.childrenCount;i++)p.default.Instance.isUnlock(i)&&(o++,(e=y.default.getDrugBoxNum())[i]>=n?a++:(e[i]+=n,e[i]>=n&&(e[i]=n)),y.default.setDrugBoxNum(e),t=p.default.Instance.GetDrug(i+1),(e=y.default.getDrugTime())[i]<=0&&(e[i]=t.needtime*n,y.default.setDrugTime(e)),this.initAlchemy());o==a&&m.default.instance.setText(-1,"\u6ca1\u6709\u53ef\u70bc\u5236\u7684\u4e39\u836f"),5==u.default.instance.teacherid&&(this.HideTeacher(),u.default.instance.teacherid=0)},S.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},S.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),C.default.Instance.ShowInter()},S.prototype.ShowRed=function(){for(var t=!1,e=f.default.Instance.GetCanMakeNum(),n=y.default.getDrugBoxNum(),o=0;o<n.length;o++)if(p.default.Instance.isUnlock(o)&&n[o]<e){t=!0;break}this.allmakeRed.active=t;var a=!1;for(o=0;o<n.length;o++){var i=y.default.getDrugBoxNum()[o],r=y.default.getDrugTime()[o],l=y.default.getDrugOver()[o];0<r||0<i-l||0<i&&(a=!0)}this.allgetRed.active=a},S.prototype.update=function(){this.initAlchemy(),this.ShowRed()},S.prototype.ShowTeacher=function(){this.Teacher.active=!0},S.prototype.HideTeacher=function(){this.Teacher.active=!1},c([i(cc.Node)],S.prototype,"Teacher",void 0),c([i(cc.SpriteFrame)],S.prototype,"btnSprite",void 0),c([i(cc.Node)],S.prototype,"allgetRed",void 0),c([i(cc.Node)],S.prototype,"allmakeRed",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],AndroidManager:[function(t,e,n){"use strict";cc._RF.push(e,"456degPlylNaIyKNClxyxqp","AndroidManager");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s,u=a("SdkManager"),p=a("Recorder"),f=a("Android");function d(){var t=null!==c&&c.apply(this,arguments)||this;return t.CHANNEL="",t}a=(a("HttpClient"),i=cc._decorator).ccclass,i.property,l(d,c=u.default),(s=d).prototype.login=function(t,e){f.default.login(function(){p.default.init(),t()},function(){e()})},d.prototype.wxBannerAd=function(){},d.prototype.wxBannerShow=function(){f.default.showBanner()},d.prototype.wxGameBannerHide=function(){f.default.hideBanner()},d.prototype.wxRewardedAd=function(){},d.prototype.wxRewardedShow=function(){},d.prototype.PlatformCallBack=function(t,e,n,o){var a=this;void 0===e&&(e=null),void 0===n&&(n=null),"REWARD"==t?(this.sendEvent("videoad",{message:"\u5e7f\u544a\u5c55\u793a",pos:o.toString()}),f.default.playVideoAd(o,function(){setTimeout(function(){e(),a.sendEvent("videoaded",{message:"\u5e7f\u544a\u64ad\u653e\u6210\u529f",pos:o.toString()})},500)},n)):"BANNER"==t?f.default.showBanner():"BANNERCLOSE"==t?f.default.hideBanner():"INTER"==t&&f.default.playScreenAd(2,e,n)},d.prototype.sendEvent=function(t,e){console.log("\u53d1\u9001\u4e8b\u4ef6:",t,e),f.default.sendEvent(t,e)},d.prototype.ChannelCallBack=function(){return this.CHANNEL=f.default.getChannel(),this.CHANNEL},d.onExit=function(){f.default.exitGame()},d.prototype.onKeyDown=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){switch(t.keyCode){case 6:case cc.macro.KEY.back:s.onExit()}})},d.prototype.controlKey=function(){},d.prototype.AndroidLogin=function(t,e){f.default.login(t,e)},d.prototype.moreGame=function(){f.default.moreGame()},d.prototype.showUserProtocol=function(){f.default.showUserProtocol()},a=s=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],d),r.default=a,cc._RF.pop()},{}],Android:[function(t,e,n){"use strict";cc._RF.push(e,"440b396g6VMhq+HnlpFtmBI","Android");var o,a=n,i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],r=0,l=i.length;r<l;r++,a++)o[a]=i[r];return o};function r(){}Object.defineProperty(a,"__esModule",{value:!0}),r.callJava=function(t,e){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];return(n=jsb.reflection).callStaticMethod.apply(n,i(["com/tomato/plugins/PluginAPI",t,e],o))},r.sendGameInfo233=function(t,e){try{jsb.reflection.callStaticMethod("com/tomato/plugin/plat/Channel233","sendGameInfo","(ILjava/lang/String;)V",t,e)}catch(t){console.log(t)}},r.getChannel=function(){try{return this.callJava("getChannel","()Ljava/lang/String;")}catch(t){console.log(t)}return""},r.login=function(t,e){try{this.callJava("login","()V"),cc.loginCallback={onResult:function(n){(n?t:e)()}}}catch(n){console.log("\u767b\u9646\u5931\u8d25"+n)}},r.exitGame=function(){try{this.callJava("exitGame","()V")}catch(t){console.log(t)}},r.playScreenAd=function(t,e,n){t<0?console.log("\u63d2\u5c4f\u5e7f\u544a\u7684\u4f4d\u7f6e\u7f16\u53f7\u5e94\u8be5\u5927\u4e8e0"):r.playScreenOrVideoAd(t,e,n)},r.playVideoAd=function(t,e,n){0<t?console.log("\u89c6\u9891\u5e7f\u544a\u7684\u4f4d\u7f6e\u7f16\u53f7\u5e94\u8be5\u5c0f\u4e8e0"):r.playScreenOrVideoAd(t,e,n)},r.showBanner=function(){try{this.callJava("showBanner","()V")}catch(t){console.log(t)}},r.hideBanner=function(){try{this.callJava("hideBanner","()V")}catch(t){console.log(t)}},r.hideNative=function(){try{this.callJava("hideNative","()V")}catch(t){console.log(t)}},r.playNative=function(t,e,n,o,a,i){try{this.callJava("playNative","(IIIII)V",t,e,n,o,a),cc.adCallback=i}catch(t){console.log(t)}},r.checkCanPlayVideoAtPos=function(t){try{return this.callJava("checkCanPlayAtPosition","(II)Z",t,1)}catch(t){console.log(t)}return!1},r.getUid=function(){try{return this.callJava("getUid","()Ljava/lang/String;")}catch(t){console.log(t)}return""},r.sendEvent=function(t,e){try{this.callJava("sendEvent","(Ljava/lang/String;Ljava/lang/String;)V",t,JSON.stringify(e))}catch(t){console.log(t)}},r.playScreenOrVideoAd=function(t,e,n){try{this.callJava("playScreenOrVideo","(I)V",t),cc.adCallback={onResult:function(t){(t?e:n)()}}}catch(t){console.log("\u64ad\u653e\u5e7f\u544a\u62a5\u9519"+t)}},r.moreGame=function(){try{this.callJava("moreGame","()V")}catch(t){console.log(t)}},r.showUserProtocol=function(){this.callJava("showUserProtocol","()V")},o=r,a.default=o,cc._RF.pop()},{}],ArtifactsDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"4ea45v2DEBO8ZZHw/F+sCQi","ArtifactsDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("ArtifactsData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t.sublevel=3,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/artifacts",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/artifacts")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).level=a.level,i.name=a.name,i.addhp=a.addhp,i.addatk=a.addatk,i.addhit=a.addhit,i.adddodge=a.adddodge,i.addcrit=a.addcrit,i.spine=a.spine,i.head=a.head,i.skillType=a.skillType,i.info=a.info,i.skillnum=a.skillnum,i.cd=a.cd,i.output=a.output,i.power=a.power,this.allDataList.push(i);return[2]}})})},v.prototype.GetNowData=function(t){void 0===t&&(t=d.default.getNowArtifacts());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e]},v.prototype.QueryAddRole=function(t,e){switch(t){case 0:return this.GetAddAtk(e);case 1:return this.GetAddHp(e);case 2:return this.GetAddHit(e);case 3:return this.GetAddDodge(e);case 4:return this.GetAddCrit(e)}},v.prototype.GetAddAtk=function(t){return void 0===t&&(t=d.default.getNowArtifacts()),(t=this.GetNowData(t))?t.addatk:0},v.prototype.GetAddFight=function(t){return void 0===t&&(t=d.default.getNowArtifacts()),(t=this.GetNowData(t))?t.power:1},v.prototype.GetAddHp=function(t){return void 0===t&&(t=d.default.getNowArtifacts()),(t=this.GetNowData(t))?t.addhp:0},v.prototype.GetAddHit=function(t){return void 0===t&&(t=d.default.getNowArtifacts()),(t=this.GetNowData(t))?t.addhit:0},v.prototype.GetAddDodge=function(t){return void 0===t&&(t=d.default.getNowArtifacts()),(t=this.GetNowData(t))?t.adddodge:0},v.prototype.GetAddCrit=function(t){return void 0===t&&(t=d.default.getNowArtifacts()),(t=this.GetNowData(t))?t.addcrit:0},v.prototype.GetOutPut=function(){var t=d.default.getMaxArtifacts();return this.GetNowData(t=t<=0?1:t).output},v.prototype.GetbuyJewel=function(t){void 0===t&&(t=d.default.getBuyCount());var e=this.GetCanBuyLevel();return 100*Math.pow(1.5,e-1)*Math.pow(1.025,t)},v.prototype.GetCanBuyLevel=function(){var t=d.default.getMaxArtifacts()-this.sublevel;return t<=1?1:t},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],ArtifactsData:[function(t,e,n){"use strict";cc._RF.push(e,"447f1xuOLhAeIX5A76csqu0","ArtifactsData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.hit=100,this.output=1}),a.default=o,cc._RF.pop()},{}],ArtifactsItem:[function(t,e,n){"use strict";cc._RF.push(e,"e41bc83ImhFk5KzNN2lHM4/","ArtifactsItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f,d=a("OnHook"),h=a("GameSys"),y=a("GameTools"),v=a("PanelConst"),g=a("UIManager");function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.Sp=null,t.icon=null,t.level=null,t.pitch=null,t.di=null,t.id=0,t.index=0,t.startpos=null,t.ArtifactsPanel=null,t.maxlevel=50,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,p=cc.Component),(f=m).prototype.onLoad=function(){this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.level=this.node.getChildByName("level").getComponent(cc.Label),this.pitch=this.node.getChildByName("pitch"),this.di=this.node.getChildByName("di").getComponent(cc.Sprite)},m.prototype.init=function(t,e,n){return s(this,void 0,void 0,function(){var o,a,i,r;return u(this,function(l){switch(l.label){case 0:return this.index=t,this.id=e,this.ArtifactsPanel=n,this.startpos=this.node.parent,i="Artifacts/"+e,o=y.default.GetRes("SpriteBundle1",i,cc.SpriteFrame),(a=null)!=o?[3,2]:[4,y.default.loadImage("SpriteBundle1",i)];case 1:return a=l.sent(),[3,3];case 2:a=o,l.label=3;case 3:return this.icon.spriteFrame=a,this.level.string="\u7b49\u7ea7:"+e,i="Circle/"+(e-1)%4,(r=y.default.GetRes("SpriteBundle2",i,cc.SpriteFrame))?[3,5]:[4,y.default.loadImage("SpriteBundle2",i)];case 4:r=l.sent(),l.label=5;case 5:return this.di.spriteFrame=r,[2]}})})},m.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){t.node.setParent(t.ArtifactsPanel.Artifacts),e=t.node.parent.convertToNodeSpaceAR(e.getLocation()),t.node.setPosition(e)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){e=t.node.parent.convertToNodeSpaceAR(e.getLocation()),t.node.setPosition(e)}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){var e,n,o=t.LocationBox();null==o?t.isRecycle()?(e=t.ArtifactsPanel.GetbuyJewel(0),(n=h.default.getArtifactslist())[t.index]=0,h.default.setArtifactslist(n),g.default.Instance.ChangeJewel(e),h.default.artifacts.restor(t.node)):(t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0))):t.isCanput(o)?(t.startpos=t.ArtifactsPanel.ArtifactsArray[o],t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0)),(n=h.default.getArtifactslist())[t.index]=0,n[o]=t.id,h.default.setArtifactslist(n),t.index=o,t.init(t.index,t.id,t.ArtifactsPanel)):t.isCanFuse(o)?(t.startpos=t.ArtifactsPanel.ArtifactsArray[o],t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0)),(n=h.default.getArtifactslist())[t.index]=0,t.id+=1,n[o]=t.id,h.default.setArtifactslist(n),t.index=o,t.Sp.setAnimation(0,"ef",!1),t.init(t.index,t.id,t.ArtifactsPanel),(o=h.default.getMaxArtifacts())<t.maxlevel&&t.id>o&&(h.default.setMaxArtifacts(t.id),h.default.setBuyCount(!0),t.ArtifactsPanel.Unlock(),console.log("\u89e3\u9501\u65b0\u6cd5\u5668"),t.ArtifactsPanel.initbuyJewel(),d.default.instance.initArtifacts(),g.default.Instance.ShowUI(v.default.UnlockNewArtifacts),1==t.ArtifactsPanel.teahchNum&&(t.ArtifactsPanel.teahchNum=99,t.ArtifactsPanel.TeachSp[1].active=!1))):(t.node.setParent(t.ArtifactsPanel.ArtifactsArray[t.index]),t.node.setPosition(cc.v2(0,0)))}),this.node.on(cc.Node.EventType.TOUCH_END,function(){var e,n,o=t.LocationBox();null==o?t.isRecycle()?(e=t.ArtifactsPanel.GetbuyJewel(0),(n=h.default.getArtifactslist())[t.index]=0,h.default.setArtifactslist(n),g.default.Instance.ChangeJewel(e),h.default.artifacts.restor(t.node)):(t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0))):t.isCanput(o)?(t.startpos=t.ArtifactsPanel.ArtifactsArray[o],t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0)),(n=h.default.getArtifactslist())[t.index]=0,n[o]=t.id,h.default.setArtifactslist(n),t.index=o,t.init(t.index,t.id,t.ArtifactsPanel)):t.isCanFuse(o)?(t.startpos=t.ArtifactsPanel.ArtifactsArray[o],t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0)),(n=h.default.getArtifactslist())[t.index]=0,t.id+=1,n[o]=t.id,h.default.setArtifactslist(n),t.index=o,t.Sp.setAnimation(0,"ef",!1),t.init(t.index,t.id,t.ArtifactsPanel),(o=h.default.getMaxArtifacts())<t.maxlevel&&t.id>o&&(h.default.setMaxArtifacts(t.id),h.default.setBuyCount(!0),t.ArtifactsPanel.Unlock(),console.log("\u89e3\u9501\u65b0\u6cd5\u5668"),t.ArtifactsPanel.initbuyJewel(),d.default.instance.initArtifacts(),g.default.Instance.ShowUI(v.default.UnlockNewArtifacts),1==t.ArtifactsPanel.teahchNum&&(t.ArtifactsPanel.teahchNum=99,t.ArtifactsPanel.TeachSp[1].active=!1))):(t.node.setParent(t.ArtifactsPanel.ArtifactsArray[t.index]),t.node.setPosition(cc.v2(0,0)))})},m.prototype.isRecycle=function(){var t=this.ArtifactsPanel.Recycle,e=this.node.getPosition();return e=this.node.parent.convertToWorldSpaceAR(e),t=t.parent.convertToWorldSpaceAR(t.getPosition()).sub(e).mag(),e=h.default.getMaxArtifacts(),this.id!=e&&t<=50},m.prototype.LocationBox=function(){for(var t=this.ArtifactsPanel.ArtifactsArray,e=this.node.getPosition(),n=0;n<t.length;n++){if(t[n].getPosition().sub(e).mag()<=50)return n;if(n==t.length-1)return null}},m.prototype.isCanput=function(t){return!(0<this.ArtifactsPanel.ArtifactsArray[t].childrenCount)},m.prototype.isCanFuse=function(t){return(t=this.ArtifactsPanel.ArtifactsArray[t].children[0].getComponent(f)).id==this.id&&this.id!=this.maxlevel&&(h.default.artifacts.restor(t.node),!0)},c([i(sp.Skeleton)],m.prototype,"Sp",void 0),a=f=c([a],m),r.default=a,cc._RF.pop()},{}],ArtifactsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"ceaafdh2WJLqrCyNA91042G","ArtifactsPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("ArtifactsDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("EventConst"),g=a("GameTools"),m=a("PoolManager"),b=a("ArtifactsItem"),C=a("PanelConst"),S=a("TipGroup"),w=a("UIBase"),k=a("UIManager");function _(){var t=null!==p&&p.apply(this,arguments)||this;return t.TeachSp=[],t.prefabs=[],t.addtype=[],t.Content=null,t.Level=null,t.Name=null,t.addnum=[],t.Left=null,t.Right=null,t.Icon=null,t.Options=null,t.initiative=null,t.passivity=null,t.Artifacts=null,t.buyLevel=null,t.buyIcon=null,t.buyCoin=null,t.Recycle=null,t.sublevel=3,t.ArtifactsArray=[],t.nowIndex=0,t.teahchNum=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(_,p=w.default),_.prototype.onLoad=function(){y.default.artifacts=new m.default(this.prefabs[0],20),this.Content=this.node.getChildByName("Content"),this.Level=this.Content.getChildByName("banner").getChildByName("level").getComponent(cc.Label),this.Name=this.Content.getChildByName("banner").getChildByName("name").getComponent(cc.Label),this.Options=this.Content.getChildByName("options"),this.initiative=this.Content.getChildByName("initiative").getChildByName("info").getComponent(cc.Label),this.passivity=this.Content.getChildByName("passivity").getChildByName("info").getComponent(cc.Label),this.Artifacts=this.Content.getChildByName("Content"),this.buyLevel=this.Content.getChildByName("buy").getChildByName("level").getComponent(cc.Label),this.buyIcon=this.Content.getChildByName("buy").getChildByName("icon").getComponent(cc.Sprite),this.buyCoin=this.Content.getChildByName("buy").getChildByName("coin").getComponent(cc.Label),this.Left=this.Content.getChildByName("left"),this.Right=this.Content.getChildByName("right"),this.Recycle=this.Content.getChildByName("recycle");for(var t=0;t<this.Artifacts.childrenCount;t++)this.ArtifactsArray.push(this.Artifacts.children[t]);this.nowIndex=y.default.getNowArtifacts(),this.nowIndex<=0&&(this.nowIndex=y.default.getMaxArtifacts())},_.prototype.start=function(){cc.systemEvent.on(v.EventConst.Jewel,this.initbuyJewel,this),this.initArtifacts()},_.prototype.onEnable=function(){p.prototype.onEnable.call(this);for(var t=0;t<this.TeachSp.length;t++)this.TeachSp[t].active=!1;this.initTeach(),this.initbuyJewel(),this.initMainArtifacts(),g.default.getSdk().sendEvent("gui_all",{message:"8\u6cd5\u5668"})},_.prototype.initTeach=function(){var t,e;0==y.default.getMaxArtifacts()?(this.teahchNum=0,this.TeachSp[0].active=!0,(t=y.default.getArtifactslist())[e=this.GetCanBuyPos()]=this.GetCanBuyLevel(),y.default.setArtifactslist(t),y.default.setBuyCount(),this.CreateArtifacts(this.GetCanBuyLevel(),e)):this.teahchNum=99},_.prototype.initMainArtifacts=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a;return u(this,function(i){switch(i.label){case 0:return 0!=this.nowIndex?[3,1]:(this.Options.active=!1,this.Icon.node.active=!1,this.addnum[0].node.parent.active=!1,this.addtype[0].node.parent.active=!1,this.Left.active=!1,this.Right.active=!1,this.Name.node.parent.active=!1,[3,5]);case 1:return this.addnum[0].node.parent.active=!0,this.addtype[0].node.parent.active=!0,this.Left.active=!0,this.Right.active=!0,1==this.nowIndex?this.Left.active=!1:this.nowIndex>=y.default.getMaxArtifacts()?this.Right.active=!1:(this.Left.active=!0,this.Right.active=!0),this.Name.node.parent.active=!0,this.Icon.node.active=!0,a="Artifacts/"+this.nowIndex,t=g.default.GetRes("SpriteBundle1",a,cc.SpriteFrame),(e=null)!=t?[3,3]:[4,g.default.loadImage("SpriteBundle1",a)];case 2:return e=i.sent(),[3,4];case 3:e=t,i.label=4;case 4:for(this.Icon.spriteFrame=e,this.Level.string="\u7b49\u7ea7   "+this.nowIndex,a=d.default.Instance.GetNowData(this.nowIndex),this.Name.string=""+a.name,this.initiative.string=""+a.info,this.passivity.string="\u88ab\u52a8\u6548\u679c",n=0;n<5;n++)this.addnum[n].node.active=0<d.default.Instance.QueryAddRole(n,this.nowIndex),o=0==n||1==n?100*d.default.Instance.QueryAddRole(n,this.nowIndex)+"%":d.default.Instance.QueryAddRole(n,this.nowIndex)+"%",this.addtype[n].node.active=0<d.default.Instance.QueryAddRole(n,this.nowIndex),this.addnum[n].string="+"+o;a=y.default.getNowArtifacts(),this.Options.active=a!=this.nowIndex,i.label=5;case 5:return[2]}})})},_.prototype.initArtifacts=function(){for(var t=y.default.getArtifactslist(),e=0;e<t.length;e++)0!=t[e]?0<this.ArtifactsArray[e].childrenCount?this.ArtifactsArray[e].children[0].getComponent(b.default).init(e,t[e],this):this.CreateArtifacts(t[e],e):0<this.ArtifactsArray[e].childrenCount&&this.ArtifactsArray[e].destroyAllChildren()},_.prototype.CreateArtifacts=function(t,e){var n=y.default.artifacts.get();n.setParent(this.ArtifactsArray[e]),n.setPosition(cc.v2(0,0)),n.getComponent(b.default).init(e,t,this)},_.prototype.initbuyJewel=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return u(this,function(a){switch(a.label){case 0:return o=this.GetbuyJewel(),y.default.getJewel(),this.buyCoin.string="\xd7"+g.default.refSetCoin(Math.floor(o)),t=this.GetCanBuyLevel(),e="Artifacts/"+t,n=g.default.GetRes("SpriteBundle1",e,cc.SpriteFrame),(o=null)!=n?[3,2]:[4,g.default.loadImage("SpriteBundle1",e)];case 1:return o=a.sent(),[3,3];case 2:o=n,a.label=3;case 3:return this.buyIcon.spriteFrame=o,this.buyLevel.string="\u7b49\u7ea7:"+t,[2]}})})},_.prototype.ClickBuy=function(){h.default.instance.play(h.Sound.Click);var t=this.GetbuyJewel();if(y.default.getJewel()<t)return S.default.instance.setText(-1,"\u7075\u77f3\u4e0d\u8db3"),k.default.Instance.ShowUI(C.default.FreeJewel);var e=this.GetCanBuyPos();null==e?S.default.instance.setText(-1,"\u5bb9\u7eb3\u4e0d\u4e0b\u4e86"):(0==this.teahchNum&&(this.teahchNum=1,this.TeachSp[0].active=!1,this.TeachSp[1].active=!0),k.default.Instance.ChangeJewel(-t),(t=y.default.getArtifactslist())[e]=this.GetCanBuyLevel(),y.default.setArtifactslist(t),y.default.setBuyCount(),this.CreateArtifacts(this.GetCanBuyLevel(),e),this.GetCanBuyLevel()>y.default.getMaxArtifacts()&&(console.log("\u9996\u6b21\u8d2d\u4e70\u89e3\u9501\u65b0\u6cd5\u5668"),y.default.setMaxArtifacts(this.GetCanBuyLevel()),f.default.instance.initArtifacts(),this.Unlock(),k.default.Instance.ShowUI(C.default.UnlockNewArtifacts),g.default.getSdk().sendEvent("crucialLevel",{message:"\u6cd5\u5668\u7b49\u7ea7",level:y.default.getMaxArtifacts().toString()})),g.default.getSdk().sendEvent("crucialBuy",{message:"\u6cd5\u5668\u8d2d\u4e70"}),g.default.getSdk().sendEvent("btn_all",{message:"8-2"}))},_.prototype.GetCanBuyPos=function(){for(var t=y.default.getArtifactslist(),e=0;e<t.length;e++){if(0==t[e])return e;if(e==t.length-1)return null}},_.prototype.GetbuyJewel=function(t){void 0===t&&(t=y.default.getBuyCount());var e=this.GetCanBuyLevel();return 100*Math.pow(1.5,e-1)*Math.pow(1.025,t)},_.prototype.GetCanBuyLevel=function(){var t=y.default.getMaxArtifacts()-this.sublevel;return t<=1?1:t},_.prototype.ClickLeft=function(){h.default.instance.play(h.Sound.Click),this.nowIndex--,this.nowIndex<=1&&(this.nowIndex=1),this.initMainArtifacts()},_.prototype.ClickRight=function(){h.default.instance.play(h.Sound.Click),this.nowIndex++,this.nowIndex>=y.default.getMaxArtifacts()&&(this.nowIndex=y.default.getMaxArtifacts()),this.initMainArtifacts()},_.prototype.Unlock=function(){this.nowIndex=y.default.getMaxArtifacts(),y.default.setNowArtifacts(this.nowIndex),this.initMainArtifacts()},_.prototype.ClickOptions=function(){h.default.instance.play(h.Sound.Click),y.default.setNowArtifacts(this.nowIndex),this.initMainArtifacts()},_.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},_.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),k.default.Instance.ShowInter()},c([i(cc.Node)],_.prototype,"TeachSp",void 0),c([i(cc.Prefab)],_.prototype,"prefabs",void 0),c([i(cc.Label)],_.prototype,"addtype",void 0),c([i(cc.Label)],_.prototype,"addnum",void 0),c([i(cc.Sprite)],_.prototype,"Icon",void 0),a=c([a],_),r.default=a,cc._RF.pop()},{}],Artifacts:[function(t,e,n){"use strict";cc._RF.push(e,"22fcbnImw9CrZ67ET5d20kF","Artifacts");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("ArtifactsDataManager"),u=i("GameSys"),p=i("Hothalo"),f=i("Knife"),d=i("Star"),h=i("GameFight");function y(){var t=null!==c&&c.apply(this,arguments)||this;return t.curpannel=null,t.role=null,t.isOpen=!1,t.isDoSkill=!1,t.time=0,t}i=(a=cc._decorator).ccclass,a.property,l(y,c=cc.Component),y.prototype.onLoad=function(){},y.prototype.init=function(t){this.curpannel=t,this.role=s.default.Instance.GetNowData()},y.prototype.start=function(){this.isOpen=!0,this.isDoSkill=!1,this.time=0},y.prototype.DoSkill=function(){switch(this.isDoSkill=!0,this.role.skillType){case 1:this.Star();break;case 2:this.Cure();break;case 3:this.Hothalo();break;case 4:this.AtkUpBuff();break;case 5:this.Knife()}this.time=0,this.isDoSkill=!1},y.prototype.Knife=function(){var t=this.curpannel.GetTeam()[0];if(t)for(var e=t.GetPracticalAtk()*this.role.skillnum,n=Math.floor(3*Math.random())+6,o=0;o<n;o++){var a=this.curpannel.CreateKnife();a.setPosition(cc.v2(420,250)),a.getComponent(f.default).initTeamer(0,t,e,o)}},y.prototype.AtkUpBuff=function(){for(var t=this.curpannel.GetTeam(),e=0;e<t.length;e++)t[e].AtkUpBuff(this.role.skillnum)},y.prototype.Hothalo=function(){var t=this.curpannel.GetTeam()[0].GetPracticalAtk()*this.role.skillnum;this.curpannel.CreateHothalo().getComponent(p.default).init(t,this)},y.prototype.Cure=function(){for(var t=this.curpannel.GetTeam(),e=0,n=0,o=0;o<t.length;o++)(0==e||t[o].role.hp<e)&&(e=t[o].role.hp,n=o);var a=t[n].role.maxhp*this.role.skillnum;t[n].Cure(a)},y.prototype.Star=function(){var t=this.curpannel.GetTeam()[0];if(t)for(var e=0;e<20;e++){var n=this.curpannel.CreateStar(),o=t.GetPracticalAtk()*this.role.skillnum;n.getComponent(d.default).init(0,t,e,o)}},y.prototype.Ready=function(){},y.prototype.update=function(t){this.isOpen&&!this.isDoSkill&&this.role&&0<h.default.instance.GetTeam()[0].role.hp&&(this.time+=t*u.default.speed,this.time>=this.role.cd&&this.DoSkill())},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],AwardDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"9250f+AZBFDIqDVmWI4tq+V","AwardDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("AwardData"),d=i("GameSys"),h=i("GameTools"),y=i("BuildLvDataManager"),v=i("DiscipleDataManager"),g=i("HeroDataManager"),m=i("IntensifyDataManager"),b=i("SingleBase");function C(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(C,u=b.default),(p=C).prototype.onLoad=function(){p.Instance=this},C.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/achievement",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/achievement")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.info=a.info,i.type=a.type,i.condition1=a.condition1,i.condition2=a.condition2,i.coin=a.coin,this.allDataList.push(i);return[2]}})})},C.prototype.GetData=function(t){for(var e=d.default.getAward()[t],n=[],o=0;o<this.allDataList.length;o++)this.allDataList[o].type==t+1&&n.push(this.allDataList[o]);var a=null;for(o=0;o<n.length;o++){if(o+1==e){a=n[o];break}o>=n.length-1&&(a=n[o])}return a},C.prototype.GetMaxType=function(){return this.allDataList[this.allDataList.length-1].type},C.prototype.isMax=function(t){for(var e=d.default.getAward()[t],n=[],o=0;o<this.allDataList.length;o++)this.allDataList[o].type==t+1&&n.push(this.allDataList[o]);var a=!1;for(o=0;o<n.length;o++){if(o+1==e){a=!1;break}o>=n.length-1&&(a=!0)}return a},C.prototype.GetOverNum=function(){for(var t=d.default.getAward(),e=0,n=0;n<t.length;n++)e+=t[n]-1;return e/this.allDataList.length},C.prototype.isHaveSuccess=function(){for(var t=!1,e=this.GetMaxType(),n=0;n<e;n++){var o=p.Instance.GetData(n),a=0,i=!1;switch(o.type){case 1:i=(a=d.default.getLevel())>=o.condition1;break;case 2:i=(a=v.default.Instance.GetUnlockNum())>=o.condition1;break;case 3:i=(a=v.default.Instance.GetLevelNum(o.condition2))>=o.condition1;break;case 4:i=(a=d.default.getRoamCount())>=o.condition1;break;case 5:i=(a=m.default.Instance.GetUpCount())>=o.condition1;break;case 6:i=(a=d.default.getDrugCount())>=o.condition1;break;case 7:i=(a=d.default.getEveryDayCount())>=o.condition1;break;case 8:i=(a=d.default.getIntensiveCount())>=o.condition1;break;case 9:i=(a=d.default.getMakeCount())>=o.condition1;break;case 10:i=(a=y.default.Instance.GetAllLvSum())>=o.condition1;break;case 11:a=g.default.Instance.GetSKillMax(),v.default.Instance.GetSkillMax(),i=a>=o.condition1;break;case 12:i=(a=d.default.getMaxCustoms())>=o.condition1;break;case 13:i=(a=d.default.getShopCount())>=o.condition1;break;case 14:i=(a=d.default.getMaxTier()-1)>=o.condition1;break;case 15:i=(a=d.default.getResume())>=o.condition1}if(t=i,t=!p.Instance.isMax(n)&&t)break}return t},C.prototype.isHaveReceive=function(){for(var t=d.default.getEveryDay(),e=0,n=0;n<t.length;n++)2==t[n].state&&e++;return!(e>=t.length)},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],C),r.default=i,cc._RF.pop()},{}],AwardData:[function(t,e,n){"use strict";cc._RF.push(e,"e0bcf2RTMpAS45rppxpC5KO","AwardData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],AwardItem:[function(t,e,n){"use strict";cc._RF.push(e,"57726CDEQxB+otIc32Cl0xo","AwardItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("AwardDataManager"),d=a("BuildLvDataManager"),h=a("CoinOutPutDataManager"),y=a("DiscipleDataManager"),v=a("HeroDataManager"),g=a("IntensifyDataManager"),m=a("SoundManager"),b=a("SystemDataManager"),C=a("GameSys"),S=a("GameTools"),w=a("EquipPanel"),k=a("PanelConst"),_=a("TipGroup"),P=a("UIManager");function O(){var t=null!==p&&p.apply(this,arguments)||this;return t.sp=null,t.info=null,t.award=null,t.getBtn=null,t.goBtn=null,t.overBtn=null,t.index=0,t.curpannel=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(O,p=cc.Component),O.prototype.onLoad=function(){this.info=this.node.getChildByName("info").getComponent(cc.RichText),this.award=this.node.getChildByName("award").getChildByName("num").getComponent(cc.Label),this.getBtn=this.node.getChildByName("get"),this.goBtn=this.node.getChildByName("go"),this.overBtn=this.node.getChildByName("over")},O.prototype.init=function(t,e){return s(this,void 0,void 0,function(){var n,o,a,i;return u(this,function(r){switch(r.label){case 0:switch(this.info||(this.info=this.node.getChildByName("info").getComponent(cc.RichText),this.award=this.node.getChildByName("award").getChildByName("num").getComponent(cc.Label),this.getBtn=this.node.getChildByName("get"),this.goBtn=this.node.getChildByName("go"),this.overBtn=this.node.getChildByName("over")),this.index=t,this.curpannel=e,n=f.default.Instance.GetData(this.index),o=0,a=!1,n.type){case 1:o=C.default.getLevel(),a=o>=n.condition1;break;case 2:o=y.default.Instance.GetUnlockNum(),a=o>=n.condition1;break;case 3:o=y.default.Instance.GetLevelNum(n.condition2),a=o>=n.condition1;break;case 4:o=C.default.getRoamCount(),a=o>=n.condition1;break;case 5:o=g.default.Instance.GetUpCount(),a=o>=n.condition1;break;case 6:o=C.default.getDrugCount(),a=o>=n.condition1;break;case 7:o=C.default.getEveryDayCount(),a=o>=n.condition1;break;case 8:o=C.default.getIntensiveCount(),a=o>=n.condition1;break;case 9:o=C.default.getMakeCount(),a=o>=n.condition1;break;case 10:o=d.default.Instance.GetAllLvSum(),a=o>=n.condition1;break;case 11:o=v.default.Instance.GetSKillMax(),y.default.Instance.GetSkillMax(),a=o>=n.condition1;break;case 12:o=C.default.getMaxCustoms(),a=o>=n.condition1;break;case 13:o=C.default.getShopCount(),a=o>=n.condition1;break;case 14:o=C.default.getMaxTier(),a=o>=n.condition1;break;case 15:o=C.default.getResume(),a=o>=n.condition1}return i=a?"<color=#2C8E1E>":"<color=#DC3232>",this.info.string="<color=#000000>"+n.info+"(</c>"+i+o+"/"+n.condition1+"</color><color=#000000>)</c>",[4,h.default.Instance.GetOutPut()];case 1:return i=r.sent()*n.coin,this.award.string="\xd7"+S.default.refSetCoin(i),f.default.Instance.isMax(t)?(this.getBtn.active=!1,this.goBtn.active=!1,this.overBtn.active=!0):(this.getBtn.active=a,this.goBtn.active=!a,this.overBtn.active=!1),[2]}})})},O.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return m.default.instance.play(m.Sound.Click),this.ShowSp(),t=f.default.Instance.GetData(this.index),[4,h.default.Instance.GetOutPut()];case 1:return e=n.sent()*t.coin,P.default.Instance.ChangeCoin(e),(e=C.default.getAward())[this.index]+=1,C.default.setAward(e),this.init(this.index,this.curpannel),this.curpannel.initMaxOver(),[2]}})})},O.prototype.ClickGo=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:switch(m.default.instance.play(m.Sound.Click),this.ShowSp(),f.default.Instance.GetData(this.index).type){case 1:return[3,1];case 2:return[3,2];case 3:return[3,6];case 4:return[3,10];case 5:return[3,14];case 6:return[3,15];case 7:return[3,19];case 8:return[3,20];case 9:return[3,24];case 10:return[3,28];case 11:return[3,32];case 12:return[3,33];case 13:return[3,34];case 14:return[3,38];case 15:return[3,42]}return[3,46];case 1:return this.curpannel.ClickOff(),[3,46];case 2:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(2)?[3,3]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(2)),[3,5]);case 3:return[4,P.default.Instance.ShowUI(k.default.DISCIPLE_PANEL)];case 4:t.sent(),t.label=5;case 5:return[3,46];case 6:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(2)?[3,7]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(2)),[3,9]);case 7:return[4,P.default.Instance.ShowUI(k.default.DISCIPLE_PANEL)];case 8:t.sent(),t.label=9;case 9:return[3,46];case 10:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(10)?[3,11]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(10)),[3,13]);case 11:return[4,P.default.Instance.ShowUI(k.default.RoamPanel)];case 12:t.sent(),t.label=13;case 13:return[3,46];case 14:return this.curpannel.ClickOff(),[3,46];case 15:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(5)?[3,16]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(5)),[3,18]);case 16:return[4,P.default.Instance.ShowUI(k.default.ALCHEMY_PANEL)];case 17:t.sent(),t.label=18;case 18:return[3,46];case 19:return this.curpannel.ClickChange(),[3,46];case 20:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(9)?[3,21]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(9)),[3,23]);case 21:return[4,P.default.Instance.ShowUI(k.default.EquipPanel)];case 22:t.sent(),t.label=23;case 23:return[3,46];case 24:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(19)?[3,25]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(19)),[3,27]);case 25:return[4,P.default.Instance.ShowUI(k.default.EquipPanel)];case 26:t.sent(),P.default.Instance.GetClass(k.default.EquipPanel).getComponent(w.default).initspectrum(),t.label=27;case 27:return[3,46];case 28:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(14)?[3,29]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(14)),[3,31]);case 29:return[4,P.default.Instance.ShowUI(k.default.Sect)];case 30:t.sent(),t.label=31;case 31:return[3,46];case 32:case 33:return this.curpannel.ClickOff(),[3,46];case 34:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(13)?[3,35]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(13)),[3,37]);case 35:return[4,P.default.Instance.ShowUI(k.default.ShopPanel)];case 36:t.sent(),t.label=37;case 37:return[3,46];case 38:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(17)?[3,39]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(17)),[3,41]);case 39:return[4,P.default.Instance.ShowUI(k.default.TrialsPanel)];case 40:t.sent(),t.label=41;case 41:return[3,46];case 42:return this.curpannel.ClickOff(),b.default.Instance.isUnlcok(16)?[3,43]:(_.default.instance.setText(-1,b.default.Instance.CanUnlock(16)),[3,45]);case 43:return[4,P.default.Instance.ShowUI(k.default.ReincarnPanel)];case 44:t.sent(),t.label=45;case 45:return[3,46];case 46:return[2]}})})},O.prototype.ShowSp=function(){var t=this;this.sp.stopAllActions(),cc.tween(this.sp).call(function(){t.sp.active=!0,t.sp.opacity=255}).to(.3,{opacity:0}).call(function(){t.sp.active=!1}).start()},c([i(cc.Node)],O.prototype,"sp",void 0),a=c([a],O),r.default=a,cc._RF.pop()},{}],BaiduManager:[function(t,e,n){"use strict";cc._RF.push(e,"51a905g85tDPaQM5w6Li3M4","BaiduManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("SoundManager"),u=i("GameSys"),p=i("Recorder"),f=i("HttpClient"),d=i("SdkManager");function h(){var t=null!==c&&c.apply(this,arguments)||this;return t.rewardedAd=null,t.rewardID=["7588370","7588370","7588370"],t.rewardNum=0,t.rewardcount=0,t.bannerAd=null,t.bannerID=["7588369","7588369","7588369"],t.bannerNum=0,t.bannerCount=0,t.bannerRepeat=3,t}i=(a=cc._decorator).ccclass,a.property,l(h,c=d.default),h.prototype.login=function(t){p.default.init(),t(),this.RewardedAd(),this.AddGame()},h.prototype.RewardedAd=function(){this.rewardedAd=swan.createRewardedVideoAd({adUnitId:this.rewardID[this.rewardNum],appSid:"aa44a01f"})},h.prototype.RewardedShow=function(t,e){var n=this;this.rewardNum++,3<=this.rewardNum&&(this.rewardNum=0),this.rewardcount++,3<=this.rewardcount&&this.RewardedAd();var o=function t(){e(!0),s.default.instance.playBGM(),n.rewardedAd.offError(t)};this.rewardedAd.load().then(function(){return n.rewardedAd.show()}).catch(function(t){return console.log(t.errMsg)}),this.rewardedAd.onClose(function a(i){i.isEnded?t():e(!1),s.default.instance.playBGM(),n.rewardedAd.offClose(a),n.rewardedAd.offError(o)}),this.rewardedAd.onError(o)},h.prototype.BannerAd=function(){var t=swan.getSystemInfoSync().screenWidth,e=swan.getSystemInfoSync().screenHeight;this.bannerAd=swan.createBannerAd({adUnitId:this.bannerID[this.bannerNum],appSid:"aa44a01f",style:{left:(t-320)/2,top:e-100,width:320}})},h.prototype.BannerShow=function(){this.bannerNum++,3<=this.bannerNum&&(this.bannerNum=0),0==this.bannerRepeat?null==this.bannerAd&&this.BannerAd():0<this.bannerRepeat&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.BannerAd()),this.bannerAd.show()},h.prototype.BannerHide=function(){null!=this.bannerAd&&this.bannerAd.hide()},h.prototype.PlatformCallBack=function(t,e,n,o){var a=this;"REWARD"==t?u.default.isShowVideoAd&&(u.default.setMusic(!1),s.default.instance.stopBGM(),this.RewardedShow(function(){a.sendEvent("videosucess",{message:"\u5e7f\u544a\u64ad\u653e\u6210\u529f",pos:o}),e()},n)):"BANNER"==t?u.default.isShowBannerAd&&this.BannerShow():"BANNERCLOSE"==t&&u.default.isShowBannerAd&&this.BannerHide()},h.prototype.AddGame=function(){swan.showFavoriteGuide({type:"bar",content:"\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f",success:function(t){console.log("\u6dfb\u52a0\u6210\u529f\uff1a",t)},fail:function(t){console.log("\u6dfb\u52a0\u5931\u8d25\uff1a",t)}})},h.prototype.controlKey=function(){f.default.RequestHttpData("190","0001050",{success:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t),u.default.isShowBannerAd=t.data.info.isShowBannerAd,u.default.isShowInterAd=t.data.info.isShowInterAd,u.default.isShowVideoAd=t.data.info.isShowVideoAd,u.default.splashAdCount=t.data.info.splashAdCount,u.default.isjumpguide=t.data.info.isjumpguide},fail:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t)}},"1.0.0")},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],h),r.default=i,cc._RF.pop()},{}],Bane:[function(t,e,n){"use strict";cc._RF.push(e,"60384OJoO1NkYNUgoHovFXn","Bane");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.type=0,t.master=null,t.do=!1,t.time=0,t.count=0,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e){this.type=t,this.master=e,this.count=0,this.do=!0},p.prototype.start=function(){},p.prototype.DoBane=function(){if(this.count++,0==this.type){var t=s.default.instance.GetTeam(),e=s.default.instance.GetMonster(),n=this.master.role.skill1num;this.master.Cure(n);for(var o=0;o<e.length;o++){var a=this.master.node.getPosition(),i=e[o].node.getPosition();a.sub(i).mag()<=250&&e[o].TheStrike(n,this.master.role.hit,!1,!1,3)}}else if(9==this.type)for(t=this.master.curpannel.GetTeamer(),e=this.master.curpannel.GetMontser(),n=.1*this.master.role.atk,this.master.Cure(n),o=0;o<e.length;o++)a=this.master.node.getPosition(),i=e[o].node.getPosition(),a.sub(i).mag()<=250&&e[o].TheStrike(n,this.master.role.hit,!1,!1,3);else for(t=s.default.instance.GetTeam(),e=s.default.instance.GetMonster(),n=this.master.role.atk*this.master.fatality.skillNum,this.master.Cure(n),o=0;o<t.length;o++)a=this.master.node.getPosition(),i=t[o].node.getPosition(),a.sub(i).mag()<=250&&t[o].TheStrike(n,this.master.role.hit,!1,!1,3);10<=this.count&&(this.do=!1,u.default.BaneMatrix.restor(this.node))},p.prototype.update=function(t){if(this.master.isDie())u.default.BaneMatrix.restor(this.node);else{if(9==this.type){if(this.master.curpannel.state==s.FightState.ready)return void u.default.BaneMatrix.restor(this.node)}else if(s.default.instance.state==s.FightState.ready)return void u.default.BaneMatrix.restor(this.node);this.do&&(this.time<=0?(this.time=1,this.DoBane()):this.time-=t*u.default.speed),this.master&&this.node.setPosition(this.master.node.getPosition())}},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],BobState:[function(t,e,n){"use strict";cc._RF.push(e,"bae77pi6W9JXovlsqv3qUJb","BobState");var o,a=n;function i(){}Object.defineProperty(a,"__esModule",{value:!0}),i.move={enter:function(){console.log("move enter")},update:function(t){180<++t.timeCount&&(t.timeCount=0,t.stateMachine.changeState(i.stop))},exit:function(){console.log("move exit")},onMessage:function(){return!1}},i.attack={enter:function(){console.log("attack enter")},update:function(t){60<++t.timeCount&&(t.timeCount=0,t.stateMachine.changeState(i.move))},exit:function(){console.log("attack exit")},onMessage:function(){return!1}},i.stop={enter:function(){console.log("stop enter")},update:function(t){120<++t.timeCount&&(t.timeCount=0,t.stateMachine.changeState(i.attack))},exit:function(){console.log("stop exit")},onMessage:function(){return!1}},o=i,a.default=o,cc._RF.pop()},{}],Bob:[function(t,e,n){"use strict";cc._RF.push(e,"4e0f98FquJKnqipciGmlly8","Bob");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("BobState"),u=i("DefaultStateMachine");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.timeCount=0,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.onLoad=function(){this.stateMachine=new u.default(this,s.default.stop)},p.prototype.update=function(){this.stateMachine.update()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],Buider:[function(t,e,n){"use strict";cc._RF.push(e,"f7a86Ku6pdP9bA/Nt3WxebA","Buider");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("BuildDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("EventConst"),v=a("GameTools"),g=a("BuidleUpPanel"),m=a("PanelConst"),b=a("TimeManager"),C=a("TipGroup"),S=a("UIManager");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.uniqId=0,t.white=null,t.level=null,t.icon=null,t.upBtn=null,t.unlockBtn=null,t.unlockCoin=null,t.proContent=null,t.pro=null,t.redpos=null,t.index=0,t.curpannel=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=cc.Component),w.prototype.onLoad=function(){cc.systemEvent.on(y.EventConst.Game_Build,this.ReshBuild,this)},w.prototype.init=function(t){this.curpannel=t,this.index=4<=this.uniqId?this.uniqId-1:this.uniqId,this.ReshBuild()},w.prototype.start=function(){},w.prototype.ReshBuild=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return t=h.default.getBuildLv()[this.uniqId],this.level.string="LV."+t,t=this.isUnlock(),this.upBtn.active=t,this.unlockBtn.active=!t,(this.proContent.active=t)?[3,2]:[4,f.default.Instance.GetBuildData(this.uniqId)];case 1:return t=e.sent(),this.unlockCoin.string="\xd7"+v.default.refSetCoin(t.need),v.default.SetGrayAllNode(this.icon),[3,3];case 2:v.default.ResetGrayAllNode(this.icon),e.label=3;case 3:return[2]}})})},w.prototype.ClickUnlock=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:return d.default.instance.play(d.Sound.Click),cc.systemEvent.emit(y.EventConst.HideSectMask),[4,f.default.Instance.GetBuildData(this.uniqId)];case 1:return t=o.sent(),h.default.getCoin()<t.need?(C.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,S.default.Instance.ShowUI(m.default.FreeCoin)]):f.default.Instance.isCanUnlock(this.uniqId)?(this.unlockBtn.active=!1,S.default.Instance.ChangeCoin(-t.need),(e=h.default.getBuildLv())[this.uniqId]+=1,h.default.setBuildLv(e),this.curpannel.initMaxLevel(),cc.tween(this.white).call(function(){n.white.active=!0}).to(.3,{opacity:0}).call(function(){n.white.active=!1}).start(),this.ReshBuild(),[2]):(e=(e=f.default.Instance.GetData(this.uniqId)).info+"\u89e3\u9501",[2,C.default.instance.setText(-1,e)])}})})},w.prototype.ClickUp=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return d.default.instance.play(d.Sound.Click),cc.systemEvent.emit(y.EventConst.HideSectMask),[4,S.default.Instance.ShowUI(m.default.BuidleUpPanel)];case 1:return t.sent(),S.default.Instance.GetClass(m.default.BuidleUpPanel).getComponent(g.default).init(this.uniqId),[2]}})})},w.prototype.isUnlock=function(){return f.default.Instance.isUnlock(this.uniqId)},w.prototype.ShowRed=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,f.default.Instance.GetBuildData(this.uniqId)];case 1:return t=n.sent(),e=!1,h.default.getCoin()>=t.need&&h.default.getBuildLv()[this.uniqId]<50&&(e=!0),this.redpos.active!=e&&(this.redpos.active=e),[2]}})})},w.prototype.update=function(){this.initTime(),this.ShowRed()},w.prototype.initTime=function(){this.pro.fillRange=b.default.instance.sectTime/3},c([i({displayName:"uniqid"})],w.prototype,"uniqId",void 0),c([i(cc.Node)],w.prototype,"white",void 0),c([i(cc.Label)],w.prototype,"level",void 0),c([i(cc.Node)],w.prototype,"icon",void 0),c([i(cc.Node)],w.prototype,"upBtn",void 0),c([i(cc.Node)],w.prototype,"unlockBtn",void 0),c([i(cc.Label)],w.prototype,"unlockCoin",void 0),c([i(cc.Node)],w.prototype,"proContent",void 0),c([i(cc.Sprite)],w.prototype,"pro",void 0),c([i(cc.Node)],w.prototype,"redpos",void 0),a=c([a],w),r.default=a,cc._RF.pop()},{}],BuidleUpPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8f92ctBxOtB54h/pMO62e2w","BuidleUpPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("BuildDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("EventConst"),v=a("GameTools"),g=a("PanelConst"),m=a("TipGroup"),b=a("UIBase"),C=a("UIManager");function S(){var t=null!==p&&p.apply(this,arguments)||this;return t.Sp=null,t.buildname=null,t.buildlevel=null,t.info=null,t.nowoutput=null,t.nextoutput=null,t.coin=null,t.frame=null,t.upBtn=null,t.overBtn=null,t.index=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,p=b.default),S.prototype.onLoad=function(){},S.prototype.start=function(){cc.systemEvent.on(y.EventConst.Coin,this.initColor,this)},S.prototype.onEnable=function(){p.prototype.onEnable.call(this)},S.prototype.init=function(t){return s(this,void 0,void 0,function(){var e,n,o,a;return u(this,function(i){switch(i.label){case 0:return this.index=t,e=f.default.Instance.GetData(t),[4,f.default.Instance.GetBuildData(t)];case 1:return n=i.sent(),[4,f.default.Instance.GetNextOutput(t)];case 2:return a=i.sent(),this.buildname.string=""+e.name,o=f.default.Instance.isUnlock(t),this.buildlevel.string=o?"LV"+h.default.getBuildLv()[t]:"\u672a\u89e3\u9501",this.info.string=""+e.info,this.nowoutput.string=v.default.refSetCoin(n.output)+"/\u79d2",this.coin.string=""+v.default.refSetCoin(n.need),this.nextoutput.string=v.default.refSetCoin(a.output)+"/\u79d2",o="Builde/"+t,(a=v.default.GetRes("SpriteBundle2",o,cc.SpriteFrame))?[3,4]:[4,v.default.loadImage("SpriteBundle2",o)];case 3:a=i.sent(),i.label=4;case 4:return this.frame.spriteFrame=a,this.upBtn.active=h.default.getBuildLv()[t]<50,this.overBtn.active=50<=h.default.getBuildLv()[t],[2]}})})},S.prototype.initColor=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,f.default.Instance.GetBuildData(this.index)];case 1:return t=e.sent(),h.default.getCoin()>=t.need?v.default.ResetGrayAllNode(this.upBtn):v.default.SetGrayAllNode(this.upBtn),[2]}})})},S.prototype.ClickUp=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:return d.default.instance.play(d.Sound.Click),v.default.getSdk().sendEvent("btn_all",{message:"16-2"}),[4,f.default.Instance.GetBuildData(this.index)];case 1:return t=o.sent(),f.default.Instance.isMax(this.index)?[2,m.default.instance.setText(-1,"\u5df2\u8fbe\u5230\u6700\u5927\u7b49\u7ea7")]:h.default.getCoin()<t.need?(m.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,C.default.Instance.ShowUI(g.default.FreeCoin)]):(this.Sp.node.active=!0,this.Sp.setAnimation(0,"shengji",!1),this.Sp.setCompleteListener(function(){n.Sp.node.active=!1}),(e=h.default.getBuildLv())[this.index]+=1,h.default.setBuildLv(e),C.default.Instance.ChangeCoin(-t.need),this.init(this.index),cc.systemEvent.emit(y.EventConst.Game_Build),m.default.instance.setText(-1,"\u5347\u7ea7\u6210\u529f"),[2])}})})},S.prototype.ClickOff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis()},S.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(sp.Skeleton)],S.prototype,"Sp",void 0),c([i(cc.Label)],S.prototype,"buildname",void 0),c([i(cc.Label)],S.prototype,"buildlevel",void 0),c([i(cc.Label)],S.prototype,"info",void 0),c([i(cc.Label)],S.prototype,"nowoutput",void 0),c([i(cc.Label)],S.prototype,"nextoutput",void 0),c([i(cc.Label)],S.prototype,"coin",void 0),c([i(cc.Sprite)],S.prototype,"frame",void 0),c([i(cc.Node)],S.prototype,"upBtn",void 0),c([i(cc.Node)],S.prototype,"overBtn",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],BuildDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"2524fDvocdOmoBFYlR3Hqi7","BuildDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("BuildData"),d=i("GameSys"),h=i("GameTools"),y=i("BuildLvDataManager"),v=i("SingleBase");function g(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(g,u=v.default),(p=g).prototype.onLoad=function(){p.Instance=this},g.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/build",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/build")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.info=a.info,i.name=a.name,i.unlock=a.unlock,this.allDataList.push(i);return[2]}})})},g.prototype.GetData=function(t){for(var e=t+1,n=0;n<this.allDataList.length;n++)if(this.allDataList[n].id==e)return this.allDataList[n]},g.prototype.isCanUnlock=function(t){var e=d.default.getLevel();return t=this.GetData(t),d.default.getCoin(),e>=t.unlock},g.prototype.isUnlock=function(t){return!(d.default.getBuildLv()[t]<=0)},g.prototype.GetUnlockCoin=function(t){return y.default.Instance.GetUnlockCoin(t)},g.prototype.GetBuildData=function(t){return y.default.Instance.GetData(t)},g.prototype.GetNextOutput=function(t){return y.default.Instance.GetData(t,!0)},g.prototype.isMax=function(t){return 50<=d.default.getBuildLv()[t]},g.prototype.isHaveSuccess=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:t=d.default.getCoin(),e=!1,n=0,r.label=1;case 1:return n<10?this.isUnlock(n)?[4,this.GetBuildData(n)]:[3,3]:[3,6];case 2:return(i=r.sent()).need<=t&&d.default.getBuildLv()[n]<50?(e=!0,[3,6]):[3,5];case 3:return o=this.isCanUnlock(n),a=d.default.getCoin(),[4,this.GetBuildData(n)];case 4:if(i=r.sent().need,o&&i<=a)return e=!0,[3,6];r.label=5;case 5:return n++,[3,1];case 6:return[2,e]}})})},g.prototype.MaxOutPut=function(){return c(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:e=t=0,o.label=1;case 1:return e<10?p.Instance.isUnlock(e)?(n=t,[4,p.Instance.GetBuildData(e)]):[3,3]:[3,4];case 2:t=n+o.sent().output,o.label=3;case 3:return e++,[3,1];case 4:return[2,t]}})})},g.prototype.GetMaxLevel=function(){for(var t=0,e=0;e<10;e++)this.isUnlock(e)&&(t+=d.default.getBuildLv()[e]);return t},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],g),r.default=i,cc._RF.pop()},{}],BuildData:[function(t,e,n){"use strict";cc._RF.push(e,"7ad66aJtMhAB6mEJnyhwpsO","BuildData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],BuildLvDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"f55c3s4LiFNK5diCyOcnKfd","BuildLvDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("BuildLvData"),d=i("GameSys"),h=i("GameTools"),y=i("IntensifyDataManager"),v=i("RealmDataManager"),g=i("SingleBase");function m(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(m,u=g.default),(p=m).prototype.onLoad=function(){p.Instance=this},m.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/buildLevel",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/buildLevel")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).level=a.level,i.build1output=a.build1output,i.build1need=a.build1need,i.build2output=a.build2output,i.build2need=a.build2need,i.build3output=a.build3output,i.build3need=a.build3need,i.build4output=a.build4output,i.build4need=a.build4need,i.build5output=a.build5output,i.build5need=a.build5need,i.build6output=a.build6output,i.build6need=a.build6need,i.build7output=a.build7output,i.build7need=a.build7need,i.build8output=a.build8output,i.build8need=a.build8need,i.build9output=a.build9output,i.build9need=a.build9need,i.build10output=a.build10output,i.build10need=a.build10need,this.allDataList.push(i);return[2]}})})},m.prototype.GetData=function(t,e){return c(this,void 0,void 0,function(){var n,o,a,i,r,l;return s(this,function(c){switch(c.label){case 0:return this.allDataList.length<=0?[4,this.Init()]:[3,2];case 1:c.sent(),c.label=2;case 2:for((n=d.default.getBuildLv()[t])<=0&&(n=1),e&&(n+=1),o=null,a=0;a<this.allDataList.length;a++){if(this.allDataList[a].level==n){o=this.allDataList[a];break}if(a>=this.allDataList.length-1){o=this.allDataList[a];break}}switch(i={output:0,need:0},t){case 0:i.output=o.build1output,i.need=o.build1need;break;case 1:i.output=o.build2output,i.need=o.build2need;break;case 2:i.output=o.build3output,i.need=o.build3need;break;case 3:i.output=o.build4output,i.need=o.build4need;break;case 4:i.output=o.build5output,i.need=o.build5need;break;case 5:i.output=o.build6output,i.need=o.build6need;break;case 6:i.output=o.build7output,i.need=o.build7need;break;case 7:i.output=o.build8output,i.need=o.build8need;break;case 8:i.output=o.build9output,i.need=o.build9need;break;case 9:i.output=o.build10output,i.need=o.build10need}return r=v.default.Instance.GetAddCoin(),l=y.default.Instance.GetAddCoin(),i.output=i.output*r*l,[2,i]}})})},m.prototype.GetUnlockCoin=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)if(1==this.allDataList[n].level){e=this.allDataList[n];break}var o={output:0,need:0};switch(t){case 0:o.output=e.build1output,o.need=e.build1need;break;case 1:o.output=e.build2output,o.need=e.build2need;break;case 2:o.output=e.build3output,o.need=e.build3need;break;case 3:o.output=e.build4output,o.need=e.build4need;break;case 4:o.output=e.build5output,o.need=e.build5need;break;case 5:o.output=e.build6output,o.need=e.build6need;break;case 6:o.output=e.build7output,o.need=e.build7need;break;case 7:o.output=e.build8output,o.need=e.build8need;break;case 8:o.output=e.build9output,o.need=e.build9need;break;case 9:o.output=e.build10output,o.need=e.build10need}return o},m.prototype.GetAllLvSum=function(){for(var t=d.default.getBuildLv(),e=0,n=0;n<t.length;n++)e+=t[n];return e},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],m),r.default=i,cc._RF.pop()},{}],BuildLvData:[function(t,e,n){"use strict";cc._RF.push(e,"3fc0baah2xJu41+wru1y77k","BuildLvData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],BuilderControl:[function(t,e,n){"use strict";cc._RF.push(e,"12f6640BFZAQLJOjRd7QevG","BuilderControl");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("BuildDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("EventConst"),v=a("GameTools"),g=a("PanelConst"),m=a("TimeManager"),b=a("TipGroup"),C=a("UIManager");function S(){var t=null!==p&&p.apply(this,arguments)||this;return t.uniqId=0,t.entrys=new Array,t.curDisciples=new Array,t.isunlock=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,p=cc.Component),S.prototype.onLoad=function(){},S.prototype.start=function(){this.buildback.active=!0,this.curSpine.node.active=!0,cc.systemEvent.on(y.EventConst.Game_Build,this.ReshBuild,this)},S.prototype.Init=function(t,e){return s(this,void 0,void 0,function(){var n,o;return u(this,function(a){switch(a.label){case 0:return 3==t?[2]:(this.uniqId=t,this.curpannel=e,this.nameNode=e.node.getChildByName("namelist").getChildByName("banner"+(this.uniqId+1)),this.unlockBtn=e.unlockContent.children[this.uniqId],this.unlockCoin=this.unlockBtn.getChildByName("banner").getChildByName("coin").getComponent(cc.Label),this.entrys=this.node.getChildByName("entrys").children,this.curSpine=this.node.getChildByName("build").getComponent(sp.Skeleton),this.level=this.nameNode.getChildByName("level").getComponent(cc.Label),this.redpos=this.nameNode.getChildByName("red"),this.buildback=this.node.getChildByName("buildback"),this.unlockSp=this.node.getChildByName("unlock").getComponent(sp.Skeleton),this.upBtn=this.node.getChildByName("upBtn"),this.proContent=e.proContent.children[this.uniqId],this.pro=this.proContent.getChildByName("pro").getComponent(cc.Sprite),n=this.isUnlock(),this.unlockSp.node.active=!1,n?(this.curSpine.setAnimation(0,"idle",!0),this.upBtn.active=!0,this.unlockBtn.active=!1,3!=this.uniqId?this.nameNode.active=!0:this.nameNode.active=!1,this.level.string=""+h.default.getBuildLv()[t],this.proContent.active=!0,[3,3]):[3,1]);case 1:return this.proContent.active=!1,this.upBtn.active=!1,this.nameNode.active=!1,this.curSpine.setAnimation(0,"lock",!0),o=f.default.Instance.isCanUnlock(this.uniqId),this.unlockBtn.active=o,[4,f.default.Instance.GetBuildData(this.uniqId)];case 2:o=a.sent(),this.unlockCoin.string="\xd7"+v.default.refSetCoin(o.need),a.label=3;case 3:return this.ReshBuild(),[2]}})})},S.prototype.ReshBuild=function(){this.level.string=0==h.default.getBuildLv()[this.uniqId]?"\u672a\u89e3\u9501":""+h.default.getBuildLv()[this.uniqId]},S.prototype.GetShortestPathFromNode=function(){for(var t=new Array,e=this.entrys.length,n=0;n<e;n++);return t},S.prototype.isUnlock=function(){return f.default.Instance.isUnlock(this.uniqId)},S.prototype.SetPlayEff=function(t){var e=this,n=this.curSpine.getCurrent(0);n&&n.animation.name==t||("idle"==t?(this.curSpine.node.opacity=255,cc.tween(this.curSpine.node).to(.3,{opacity:0}).call(function(){e.curSpine.setAnimation(0,t,!0)}).start()):(this.curSpine.node.opacity=0,this.curSpine.setAnimation(0,t,!0),cc.tween(this.curSpine.node).to(.3,{opacity:255}).start()))},S.prototype.ClickUnlock=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:return this.isunlock?[2]:(this.isunlock=!0,d.default.instance.play(d.Sound.Click),[4,f.default.Instance.GetBuildData(this.uniqId)]);case 1:return t=o.sent(),h.default.getCoin()<t.need?(this.isunlock=!1,b.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,C.default.Instance.ShowUI(g.default.FreeCoin)]):f.default.Instance.isCanUnlock(this.uniqId)?(this.unlockBtn.active=!1,C.default.Instance.ChangeCoin(-t.need),(e=h.default.getBuildLv())[this.uniqId]+=1,h.default.setBuildLv(e),this.curpannel.initMaxLevel(),this.curSpine.node.active=!0,this.curSpine.setAnimation(0,"get",!1),this.unlockSp.setAnimation(0,"get",!1),this.curSpine.setCompleteListener(function(){"get"==n.curSpine.animation&&(n.nameNode.active=!0,n.buildback.active=!0,n.isunlock=!1,n.Init(n.uniqId,n.curpannel))}),[2]):(this.isunlock=!1,e=(e=f.default.Instance.GetData(this.uniqId)).info+"\u89e3\u9501",[2,b.default.instance.setText(-1,e)])}})})},S.prototype.ClickUp=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return d.default.instance.play(d.Sound.Click),[4,C.default.Instance.ShowUI(g.default.BuidleUpPanel)];case 1:return t.sent(),[2]}})})},S.prototype.ShowOutPut=function(){return s(this,void 0,void 0,function(){return u(this,function(){return[2]})})},S.prototype.initTime=function(){this.pro.fillRange=m.default.instance.sectTime/3},S.prototype.ShowRed=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,f.default.Instance.GetBuildData(this.uniqId)];case 1:return t=n.sent(),e=!1,h.default.getCoin()>=t.need&&h.default.getBuildLv()[this.uniqId]<50&&(e=!0),this.redpos.active!=e&&(this.redpos.active=e),[2]}})})},S.prototype.update=function(){this.initTime(),this.ShowRed()},c([i({displayName:"uniqid"})],S.prototype,"uniqId",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],Canvas:[function(t,e,n){"use strict";cc._RF.push(e,"9759fMpPBtJXY7XA2xaziql","Canvas");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.onLoad=function(){var t=cc.winSize;t.width/t.height>750/1334&&(this.node.getComponent(cc.Canvas).fitHeight=!0)},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],CartoonPanel:[function(t,e,n){"use strict";cc._RF.push(e,"0eca44LzWlEdLbUvh0mW4Ne","CartoonPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("GameFight"),d=a("ChapterDataManager"),h=a("SoundManager"),y=a("EventConst"),v=a("GameTools"),g=a("UIBase");function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.transition=null,t.btn=null,t.Spine=null,t.index=0,t.is=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,p=g.default),m.prototype.start=function(){},m.prototype.onEnable=function(){v.default.getSdk().sendEvent("guide",{message:1})},m.prototype.init=function(){this.transition.node.active=!1,this.btn.active=!1,this.ShowCartoon()},m.prototype.ShowCartoon=function(){this.playAnimation()},m.prototype.playAnimation=function(){var t=this;this.index++,this.Spine.setAnimation(0,"ac"+this.index,!1),this.Spine.setCompleteListener(function(){5<=t.index?t.btn.active=!0:setTimeout(function(){v.default.getSdk().sendEvent("guide",{message:2}),t.playAnimation()},1e3)})},m.prototype.ClickOff=function(){var t=this;h.default.instance.play(h.Sound.Click),this.is||(this.is=!0,this.transition.node.active=!0,this.transition.setAnimation(0,"in2",!1),this.transition.setEventListener(function(e,n){return s(t,void 0,void 0,function(){var t;return u(this,function(){return"stop"==n.data.name&&(this.is=!1,cc.systemEvent.emit(y.EventConst.GameStart),this.CloseThis(),t=d.default.Instance.GetData(1),cc.systemEvent.emit(y.EventConst.playChapter,t),f.default.instance.ClickChallenge(),this.CloseThis()),[2]})})}))},m.prototype.ClickSkip=function(){var t=this;h.default.instance.play(h.Sound.Click),v.default.getSdk().sendEvent("guide",{message:3}),this.is||(this.is=!0,this.transition.node.active=!0,this.transition.setAnimation(0,"in2",!1),this.transition.setEventListener(function(e,n){return s(t,void 0,void 0,function(){var t;return u(this,function(){return"stop"==n.data.name&&(this.is=!1,cc.systemEvent.emit(y.EventConst.GameStart),this.CloseThis(),t=d.default.Instance.GetData(1),cc.systemEvent.emit(y.EventConst.playChapter,t),f.default.instance.ClickChallenge(),this.CloseThis()),[2]})})}))},m.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),cc.systemEvent.emit(y.EventConst.ShowMask)},c([i(sp.Skeleton)],m.prototype,"transition",void 0),c([i(cc.Node)],m.prototype,"btn",void 0),c([i(sp.Skeleton)],m.prototype,"Spine",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],ChallengeLose:[function(t,e,n){"use strict";cc._RF.push(e,"6d258MuvstI/raL89lDPcGT","ChallengeLose");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("SoundManager"),u=i("SystemDataManager"),p=i("PanelConst"),f=i("TipGroup"),d=i("UIBase"),h=i("UIManager");function y(){var t=null!==c&&c.apply(this,arguments)||this;return t.callback=null,t}i=(a=cc._decorator).ccclass,a.property,l(y,c=d.default),y.prototype.start=function(){},y.prototype.onEnable=function(){c.prototype.onEnable.call(this)},y.prototype.GoMain=function(){this.CloseThis()},y.prototype.addCallback=function(t){this.callback=t},y.prototype.GoEquip=function(){this.CloseThis(),u.default.Instance.isUnlcok(9)?h.default.Instance.ShowUI(p.default.EquipPanel):f.default.instance.setText(-1,u.default.Instance.CanUnlock(9))},y.prototype.ClickDisciple=function(){s.default.instance.play(s.Sound.Click),this.CloseThis(),u.default.Instance.isUnlcok(2)?h.default.Instance.ShowUI(p.default.DISCIPLE_PANEL):f.default.instance.setText(-1,u.default.Instance.CanUnlock(2))},y.prototype.ClickPet=function(){s.default.instance.play(s.Sound.Click),this.CloseThis(),u.default.Instance.isUnlcok(4)?h.default.Instance.ShowUI(p.default.PET_PANEL):f.default.instance.setText(-1,u.default.Instance.CanUnlock(4))},y.prototype.ClickArtifacts=function(){s.default.instance.play(s.Sound.Click),this.CloseThis(),u.default.Instance.isUnlcok(11)?h.default.Instance.ShowUI(p.default.ARTIFACTS):f.default.instance.setText(-1,u.default.Instance.CanUnlock(11))},y.prototype.ClickOff=function(){s.default.instance.play(s.Sound.Click),this.CloseThis()},y.prototype.CloseThis=function(){c.prototype.CloseThis.call(this),this.callback&&(this.callback(),this.callback=null)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],ChapterDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"d8d410m+jBBEa/lPwOJQL6P","ChapterDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("ChapterData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/chapter",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/chapter")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.mission=a.mission,i.chapter=a.chapter,i.explain=a.explain,this.allDataList.push(i);return[2]}})})},v.prototype.isHaveChapter=function(t){void 0===t&&(t=d.default.getMaxCustoms());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].mission==t)return this.allDataList[e];return null},v.prototype.GetData=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],ChapterData:[function(t,e,n){"use strict";cc._RF.push(e,"90231hxZGlNEIfol/1OH1O5","ChapterData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],ChapterSp:[function(t,e,n){"use strict";cc._RF.push(e,"c3018wYURtBypHfyezpAiv+","ChapterSp");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("SceneDataManager"),d=a("EventConst");function h(){var t=null!==p&&p.apply(this,arguments)||this;return t.chapterName=null,t.chapterNum=null,t.chapter=null,t.placeName=null,t.Sp=null,t.str=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"],t}a=(i=cc._decorator).ccclass,i=i.property,l(h,p=cc.Component),h.prototype.onLoad=function(){cc.systemEvent.on(d.EventConst.playChapter,this.playChapter,this),cc.systemEvent.on(d.EventConst.playPlace,this.playPlace,this),this.chapter.active=!1,this.placeName.node.active=!1,this.Sp.node.active=!1},h.prototype.playChapter=function(t){var e=this;this.Sp.node.active=!0,this.Sp.setAnimation(0,"zhangjie",!1),this.chapter.active=!0,this.chapter.opacity=0,this.chapter.x=600,this.chapterNum.string="\u7b2c"+this.str[t.id]+"\u7ae0",this.chapterName.string=""+t.chapter,cc.tween(this.chapter).to(.1,{x:0}).start(),cc.tween(this.chapter).to(.1,{opacity:255}).start(),cc.tween(this.chapter).delay(1.65).to(.3,{x:-600}).call(function(){e.Sp.node.active=!1,e.chapter.active=!1}).start()},h.prototype.playPlace=function(t){return s(this,void 0,void 0,function(){var e,n=this;return u(this,function(o){switch(o.label){case 0:return this.Sp.node.active=!0,this.Sp.setAnimation(0,"changjing",!1),[4,f.default.Instance.GetRole()];case 1:return e=o.sent(),this.placeName.string=""+e.name,this.placeName.node.active=!0,this.placeName.node.opacity=0,this.placeName.node.x=600,cc.tween(this.placeName.node).to(.1,{x:0}).start(),cc.tween(this.placeName.node).to(.1,{opacity:255}).start(),cc.tween(this.placeName.node).delay(1.7).to(.3,{x:-600,opacity:0}).call(function(){n.placeName.node.active=!1,n.Sp.node.active=!1,t&&t()}).start(),[2]}})})},h.prototype.start=function(){},c([i(cc.Label)],h.prototype,"chapterName",void 0),c([i(cc.Label)],h.prototype,"chapterNum",void 0),c([i(cc.Node)],h.prototype,"chapter",void 0),c([i(cc.Label)],h.prototype,"placeName",void 0),c([i(sp.Skeleton)],h.prototype,"Sp",void 0),a=c([a],h),r.default=a,cc._RF.pop()},{}],ClearPanel:[function(t,e,n){"use strict";cc._RF.push(e,"cfe75kryeVAFraqKy8cQQGX","ClearPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("EventConst"),g=a("GameTools"),m=a("UIBase"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.btnlist=[],t.numlist=[],t.coin=null,t.type=[1,1,1,0,0,0,0],t.reward=[60,120,240,360,480,600,800],t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=m.default),C.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.type=[1,1,1,0,0,0,0],this.init()},C.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:for(o=0;o<this.type.length;o++)this.btnlist[o].active=1==this.type[o];for(r=t=0;r<this.type.length;r++)t+=this.type[r];this.btnlist[this.btnlist.length-1].active=7<=t,o=0,c.label=1;case 1:return o<this.numlist.length?[4,f.default.Instance.GetOutPut()]:[3,4];case 2:l=c.sent()*this.reward[o],this.numlist[o].string="x"+g.default.refSetCoin(l),c.label=3;case 3:return o++,[3,1];case 4:e=0,n=y.default.getPack(),o=0,c.label=5;case 5:if(!(o<n.length))return[3,10];a=n[o].prop.frame,i=n[o].prop.isOn,r=0,c.label=6;case 6:return r<this.type.length?1!=this.type[r]||a!="frameLevel_"+(r+1)||i?[3,8]:[4,f.default.Instance.GetOutPut()]:[3,9];case 7:l=c.sent()*this.reward[r],e+=l*n[o].have,c.label=8;case 8:return r++,[3,6];case 9:return o++,[3,5];case 10:return this.coin.string="x"+g.default.refSetCoin(e),[2]}})})},C.prototype.ClickBtn=function(t,e){if(7==(e=parseInt(e))){for(var n=0,o=0;o<this.type.length;o++)n+=this.type[o];if(n<7)for(o=0;o<this.type.length;o++)this.type[o]=1;else for(o=0;o<this.type.length;o++)this.type[o]=0}else this.type[e]=1==this.type[e]?0:1;this.init()},C.prototype.ClickClear=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return u(this,function(l){switch(l.label){case 0:h.default.instance.play(h.Sound.Click),t=0,e=y.default.getPack(),n=e.length-1,l.label=1;case 1:if(!(0<=n))return[3,6];o=e[n].prop.frame,a=e[n].prop.isOn,i=0,l.label=2;case 2:return i<this.type.length?1!=this.type[i]||o!="frameLevel_"+(i+1)||a?[3,4]:[4,f.default.Instance.GetOutPut()]:[3,5];case 3:r=l.sent()*this.reward[i],t+=r*e[n].have,d.default.Instance.subPackProp(e[n].prop.id,e[n].have),l.label=4;case 4:return i++,[3,2];case 5:return n--,[3,1];case 6:return b.default.Instance.ChangeCoin(t),this.CloseThis(),cc.systemEvent.emit(v.EventConst.ClearPack),[2]}})})},C.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Node)],C.prototype,"btnlist",void 0),c([i(cc.Label)],C.prototype,"numlist",void 0),c([i(cc.Label)],C.prototype,"coin",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],CloudRecorder:[function(t,e,n){"use strict";cc._RF.push(e,"28badhYGstHHpT4aK6joGOS","CloudRecorder");var o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=o("HttpClient");function r(t,e,n){var o=this;this.data={},this.updateMap={},this.uid=t,e&&(this.data=e),n&&setInterval(function(){console.log("this.flush"),o.flush()},n)}r.prototype.readData=function(t){if(this.data)return this.data[t]},r.prototype.writeData=function(t,e){this.data[t]=JSON.stringify(e),this.updateMap[t]=1},r.prototype.writeDatas=function(t){for(var e in t)this.writeData(e,t[e]);this.flush()},r.prototype.flush=function(){var t,e={};for(t in this.updateMap)1==this.updateMap[t]&&(e[t]=this.data[t],this.updateMap[t]=0);0!=Object.keys(e).length&&i.default.saveData(e)},o=r,a.default=o,cc._RF.pop()},{}],CoinIcon:[function(t,e,n){"use strict";cc._RF.push(e,"86bd36HhidKzakWW3h7pQGr","CoinIcon");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameSys"),u=i("GameTools");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.pos=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.onLoad=function(){this.label=this.node.getChildByName("label").getComponent(cc.Label),this.icon=this.node.getChildByName("icon");var t=(t=cc.find("Canvas").getChildByName("highest").getChildByName("interlayer").getChildByName("Coin")).parent.convertToWorldSpaceAR(t.getPosition());this.pos=this.node.parent.convertToNodeSpaceAR(t)},p.prototype.init=function(t){var e=this;this.label.string="\xd7"+u.default.refSetCoin(t),this.label.node.active=!0,this.node.scale=0,cc.tween(this.node).by(.3,{y:50,scale:1},{easing:cc.easeBackOut}).delay(1).call(function(){e.label.node.active=!1}).to(.8,{x:this.pos.x,y:this.pos.y},{easing:cc.easeInOut}).call(function(){s.default.CoinIcon.restor(e.node)}).start()},p.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],CoinOutPutDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"304a8jVJypDHZRB602BvWH5","CoinOutPutDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("CoinOutPutData"),d=i("GameSys"),h=i("GameTools"),y=i("BuildDataManager"),v=i("HeartDevilDataManager"),g=i("IntensifyDataManager"),m=i("RealmDataManager"),b=i("ReincarnDataManager"),C=i("SceneDataManager"),S=i("SingleBase"),w=i("SystemDataManager");function k(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(k,u=S.default),(p=k).prototype.onLoad=function(){p.Instance=this},k.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/CoinOutPut",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/CoinOutPut")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).level=a.level,i.realm=a.info,i.need=a.need,i.output=a.output,i.getXianjing=a.getXianjing,i.exchangeXianjing=a.exchangeXianjing,this.allDataList.push(i);return[2]}})})},k.prototype.GetRealm=function(t){void 0===t&&(t=d.default.getLevel());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e].realm},k.prototype.GetNeedCoin=function(t){void 0===t&&(t=d.default.getLevel());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e].need},k.prototype.IsCanBreak=function(){var t=p.Instance.GetNeedCoin(),e=d.default.getCoin(),n=d.default.getLevel(),o=this.allDataList[this.allDataList.length-1].level;return!!w.default.Instance.isUnlcok(1)&&t<=e&&n<o},k.prototype.BreakOrDisaster=function(){return d.default.getLevel()%10==0?1:0},k.prototype.GetOutPut=function(t){return void 0===t&&(t=d.default.getLevel()),c(this,void 0,void 0,function(){var e,n,o,a,i,r,l;return s(this,function(c){switch(c.label){case 0:for(e=m.default.Instance.GetAddCoin(),n=g.default.Instance.GetAddCoin(),a=o=0;a<this.allDataList.length;a++){if(this.allDataList[a].level==t){o=this.allDataList[a].output;break}a>=this.allDataList.length-1&&(o=this.allDataList[a].output)}return i=b.default.Instance.GetAddOutput(),[4,y.default.Instance.MaxOutPut()];case 1:return r=c.sent(),[4,C.default.Instance.GetRole()];case 2:return l=c.sent(),[2,o*e*n*i*(1+l.outputAdd)+r]}})})},k.prototype.GetNextOutPut=function(){var t=d.default.getLevel()+1;return this.GetOutPut(t=200<=t?200:t)},k.prototype.GetXianjing=function(){var t=d.default.getLevel();200<=t&&(t=200);for(var e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].level==t){e=this.allDataList[n].getXianjing;break}n>=this.allDataList.length-1&&(e=this.allDataList[n].getXianjing)}return e},k.prototype.GetExchangeXianjing=function(){var t=d.default.getLevel();200<=t&&(t=200);for(var e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].level==t){e=this.allDataList[n].exchangeXianjing;break}n>=this.allDataList.length-1&&(e=this.allDataList[n].exchangeXianjing)}return e},k.prototype.IsCanQuick=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a;return s(this,function(i){switch(i.label){case 0:t=d.default.getCoin(),e=d.default.getLevel(),o=n=0,i.label=1;case 1:return(n=this.GetNeedCoin(e))<t&&(o+=1,e+=1),[4,v.default.Instance.isHaveDevil(e)];case 2:if(i.sent())return[3,4];t-=n,i.label=3;case 3:if(0<t)return[3,1];i.label=4;case 4:return a=d.default.getLevel(),[2,o=o>=(a=10-a%10)?a:o]}})})},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],k),r.default=i,cc._RF.pop()},{}],CoinOutPutData:[function(t,e,n){"use strict";cc._RF.push(e,"66b76B+JZFKrK9viuqwbUOy","CoinOutPutData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],CrystalBoxDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"27699zWFwFBFJ7yxsU83DI8","CrystalBoxDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("CrystalBoxData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/xianjingBox",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/xianjingBox")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.itemId=a.itemId,i.name=a.name,i.num=a.num,i.rate_levelIn50=a.rate_levelIn50,i.rate_levelIn100=a.rate_levelIn100,i.rate_levelIn120=a.rate_levelIn120,i.rate_levelIn140=a.rate_levelIn140,i.rate_levelIn160=a.rate_levelIn160,i.rate_levelIn200=a.rate_levelIn200,this.allDataList.push(i);return[2]}})})},v.prototype.getCrystalBox=function(){var t=d.default.getLevel(),e=[],n=[];if(t<=50)for(var o=0;o<this.allDataList.length;o++)0<this.allDataList[o].rate_levelIn50&&(e.push(this.allDataList[o]),n.push(this.allDataList[o].rate_levelIn50));else if(t<=100)for(o=0;o<this.allDataList.length;o++)0<this.allDataList[o].rate_levelIn100&&(e.push(this.allDataList[o]),n.push(this.allDataList[o].rate_levelIn100));else if(t<=120)for(o=0;o<this.allDataList.length;o++)0<this.allDataList[o].rate_levelIn120&&(e.push(this.allDataList[o]),n.push(this.allDataList[o].rate_levelIn120));else if(t<=140)for(o=0;o<this.allDataList.length;o++)0<this.allDataList[o].rate_levelIn140&&(e.push(this.allDataList[o]),n.push(this.allDataList[o].rate_levelIn140));else if(t<=160)for(o=0;o<this.allDataList.length;o++)0<this.allDataList[o].rate_levelIn160&&(e.push(this.allDataList[o]),n.push(this.allDataList[o].rate_levelIn160));else if(t<=200)for(o=0;o<this.allDataList.length;o++)0<this.allDataList[o].rate_levelIn200&&(e.push(this.allDataList[o]),n.push(this.allDataList[o].rate_levelIn200));var a=0;for(o=0;o<n.length;o++)a+=n[o];for(var i=1;i<n.length;i++)n[i]+=n[i-1];var r=Math.random()*a;for(o=0;o<n.length;o++)if(r<=n[o])return e[o]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],CrystalBoxData:[function(t,e,n){"use strict";cc._RF.push(e,"67586F6RlpFP67X4DtzFRnu","CrystalBoxData");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){},cc._RF.pop()},{}],CrystalBoxPanel:[function(t,e,n){"use strict";cc._RF.push(e,"a5aadmR/D9OFrkFCq22HxvD","CrystalBoxPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("ArtifactsDataManager"),h=a("CoinOutPutDataManager"),y=a("CrystalBoxDataManager"),v=a("OpenCrystalBoxManager"),g=a("PropDataManager"),m=a("SoundManager"),b=a("GameSys"),C=a("GameTools"),S=a("TipGroup"),w=a("UIBase"),k=a("UIManager");function _(){var t=null!==p&&p.apply(this,arguments)||this;return t.PropNum=null,t.PropIcon=null,t.PropFrame=null,t.PropName=null,t.PropNode=null,t.BoxSp=null,t.AgainBtn=null,t.QuickBtn=null,t.OffBtn=null,t.OffLabel=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(_,p=w.default),_.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.openBox()},_.prototype.openBox=function(t,e){return void 0===t&&(t=!1),s(this,void 0,void 0,function(){var n,o,a,i,r,l,c,s=this;return u(this,function(u){switch(u.label){case 0:if(this.PropNode.active=!1,this.AgainBtn.active=!1,this.QuickBtn.active=!1,this.OffBtn.active=!1,this.OffLabel.active=!1,i=v.default.Instance.getOpenBoxNeedCrystal(),!(b.default.getCrystal()>=i))return[3,10];switch(b.default.setOpentimes(),f.default.instance.ChangeCrystal(-i),n=y.default.Instance.getCrystalBox(),o=null,a="",n.itemId){case 127:return[3,1];case 128:return[3,3]}return[3,4];case 1:return o=g.default.Instance.GetCoinProp(),[4,h.default.Instance.GetOutPut()];case 2:return i=u.sent()*n.num,this.PropNum.string="x"+C.default.refSetCoin(i),a="PropIcon/coin",[3,5];case 3:return o=g.default.Instance.GetJewelProp(),r=d.default.Instance.GetOutPut()*n.num,this.PropNum.string="x"+C.default.refSetCoin(r),a="PropIcon/jewel",[3,5];case 4:return o=g.default.Instance.GetProp(n.itemId),this.PropNum.string="x"+C.default.refSetCoin(n.num),a="PropIcon/"+o.icon,[3,5];case 5:return l={prop:o,have:n.num},this.GetAward(l),r="PropFrame/"+o.frame,(l=C.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,7]:[4,C.default.loadImage("Bundle",r)];case 6:l=u.sent(),u.label=7;case 7:return this.PropFrame.spriteFrame=l,(c=C.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,9]:[4,C.default.loadImage("Bundle",a)];case 8:c=u.sent(),u.label=9;case 9:return this.PropIcon.spriteFrame=c,this.PropName.string=o.name,this.PropName.node.color=cc.color().fromHEX(g.default.Instance.GetLevelColor(o.frame)),this.BoxSp.setAnimation(0,"get",!1),cc.tween(this.PropNode).delay(.7).call(function(){s.PropNode.active=!0,s.PropNode.y=0}).to(.05,{y:100},{easing:"quadIn"}).delay(.3).call(function(){var n=v.default.Instance.getOpenBoxNeedCrystal();t?b.default.getCrystal()>=n?e():(s.AgainBtn.active=!1,s.QuickBtn.active=!1,s.OffBtn.active=!0,s.OffLabel.active=!0):(b.default.getCrystal()>=n?(s.AgainBtn.active=!0,s.QuickBtn.active=!0):(s.AgainBtn.active=!1,s.QuickBtn.active=!1),s.OffBtn.active=!0,s.OffLabel.active=!0)}).start(),[3,11];case 10:S.default.instance.setText(-1,"\u4ed9\u6676\u4e0d\u8db3"),u.label=11;case 11:return[2]}})})},_.prototype.clickOff=function(){m.default.instance.play(m.Sound.Click),p.prototype.CloseThis.call(this)},_.prototype.clickAgain=function(){m.default.instance.play(m.Sound.Click),this.openBox()},_.prototype.clickQuick=function(){m.default.instance.play(m.Sound.Click),this.quickOpen()},_.prototype.quickOpen=function(){var t=this;cc.tween(this).call(function(){t.openBox(!0,function(){t.quickOpen()})}).start()},_.prototype.GetAward=function(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(o){switch(o.label){case 0:return e=[],4!=t.prop.type?[3,2]:[4,h.default.Instance.GetOutPut()];case 1:return n=o.sent()*t.have,k.default.Instance.GetCoin(n),[3,3];case 2:5==t.prop.type?(n=d.default.Instance.GetOutPut()*t.have,k.default.Instance.GetJewel(n)):e.push(t),o.label=3;case 3:return 0<e.length&&g.default.Instance.addPack(e),[2]}})})},c([i(cc.Label)],_.prototype,"PropNum",void 0),c([i(cc.Sprite)],_.prototype,"PropIcon",void 0),c([i(cc.Sprite)],_.prototype,"PropFrame",void 0),c([i(cc.Label)],_.prototype,"PropName",void 0),c([i(cc.Node)],_.prototype,"PropNode",void 0),c([i(sp.Skeleton)],_.prototype,"BoxSp",void 0),c([i(cc.Node)],_.prototype,"AgainBtn",void 0),c([i(cc.Node)],_.prototype,"QuickBtn",void 0),c([i(cc.Node)],_.prototype,"OffBtn",void 0),c([i(cc.Node)],_.prototype,"OffLabel",void 0),a=c([a],_),r.default=a,cc._RF.pop()},{}],CrystalBoxSp:[function(t,e,n){"use strict";cc._RF.push(e,"08c98pGWgRMt7PmHUdKblKT","CrystalBoxSp");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.initCrystalBox=function(){cc.systemEvent.emit("initCrystalBox")},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],CureMatrix:[function(t,e,n){"use strict";cc._RF.push(e,"da5c36q0StC9pzzlHsgTRjA","CureMatrix");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.time=0,t.type=0,t.master=null,t.do=!1,t.count=0,t.atk=0,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e,n){this.type=t,this.master=e,this.count=0,this.time=0,this.atk=n,this.do=!0},p.prototype.start=function(){},p.prototype.Cure=function(){this.count++;var t=s.default.instance.GetTeam(),e=s.default.instance.GetMonster();if(0==this.type){for(var n=0;n<t.length;n++){var o=.02*t[n].role.maxhp;t[n].Cure(o)}for(n=0;n<e.length;n++)e[n].TheStrike(this.atk,this.master.role.hit,!1,!1)}else{for(n=0;n<e.length;n++)o=.02*e[n].role.maxhp,e[n].Cure(o);for(n=0;n<t.length;n++)t[n].TheStrike(this.atk,this.master.role.hit,!1,!1)}10<=this.count&&(this.do=!1,u.default.CureMatrix.restor(this.node))},p.prototype.update=function(t){if(s.default.instance.state==s.FightState.ready)return this.do=!1,void u.default.CureMatrix.restor(this.node);this.do&&(this.time<=0?(this.time=1,this.Cure()):this.time-=t*u.default.speed)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],Cure:[function(t,e,n){"use strict";cc._RF.push(e,"0c09cSkmXZCuLUaWefnVKqm","Cure");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.Sp=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.init=function(){var t=this;this.Sp.setAnimation(0,"cast",!1),this.Sp.setCompleteListener(function(){u.default.cure.restor(t.node)})},p.prototype.start=function(){},c([i(sp.Skeleton)],p.prototype,"Sp",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],CustomArea:[function(t,e,n){"use strict";cc._RF.push(e,"2b958ITdEJJ4LlhIlMzHNeP","CustomArea");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameTools");function u(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(u,c=cc.Component),u.prototype.onEnable=function(){this.updateArea(),cc.view.on("canvas-resize",this.updateArea,this)},u.prototype.onDisable=function(){cc.view.off("canvas-resize",this.updateArea,this)},u.prototype.updateArea=function(){var t,e,n,o,a,i=this.node.getComponent(cc.Widget);i&&(i.updateAlignment(),a=this.node.position,t=this.node.getAnchorPoint(),i.isAlignTop=i.isAlignBottom=i.isAlignLeft=i.isAlignRight=!0,e=cc.winSize.width,n=cc.winSize.height,o=s.default.getSdk().getMenuButtonBottom(),o=cc.rect(0,0,e,n-o),i.top=n-o.y-o.height,i.bottom=o.y,i.left=o.x,i.right=e-o.x-o.width,i.updateAlignment(),o=this.node.position,i=t.x-(o.x-a.x)/this.node.width,a=t.y-(o.y-a.y)/this.node.height,this.node.setAnchorPoint(i,a))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],u),r.default=i,cc._RF.pop()},{}],CustomTalkDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"c0d6f5dgehN/ptM8t9Gcy8O","CustomTalkDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("CustomTalkData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/CustomTalk",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/CustomTalk")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.mission=a.mission,i.startOrEnd=a.startOrEnd,i.left_paint=a.left_paint,i.left_name=a.left_name,i.right_name=a.right_name,i.right_paint=a.right_paint,i.contain=a.contain,i.whoTalk=a.whoTalk,i.isSprite_left=a.isSprite_left,i.isSprite_right=a.isSprite_right,this.allDataList.push(i);return[2]}})})},v.prototype.GetGroupTalk=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].mission==t&&e.push(this.allDataList[n]);return e},v.prototype.isHaveTalk=function(t,e){if(void 0===e&&(e=d.default.getMaxCustoms()),d.default.getCustoms()<d.default.getMaxCustoms())return!1;for(var n=0;n<this.allDataList.length;n++)if(this.allDataList[n].mission==e+1&&this.allDataList[n].startOrEnd==t)return!0;return!1},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],CustomTalkData:[function(t,e,n){"use strict";cc._RF.push(e,"448ceLI+0lB2aUz3Aci0IPD","CustomTalkData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.isSprite_left="",this.isSprite_right=""}),a.default=o,cc._RF.pop()},{}],DefaultStateMachine:[function(t,e,n){"use strict";cc._RF.push(e,"78d992pre9KaqzPSIRlj2O2","DefaultStateMachine");var o,a=n;function i(t,e,n){this.owner=t,this.setInitialState(e),this.setGlobalState(n)}Object.defineProperty(a,"__esModule",{value:!0}),i.prototype.getOwner=function(){return this.owner},i.prototype.setOwner=function(t){this.owner=t},i.prototype.setInitialState=function(t){this.previousState=null,this.currentState=t},i.prototype.setGlobalState=function(t){this.globalState=t},i.prototype.getCurrentState=function(){return this.currentState},i.prototype.getGlobalState=function(){return this.globalState},i.prototype.getPreviousState=function(){return this.previousState},i.prototype.update=function(){this.globalState&&this.globalState.update(this.owner),this.currentState&&this.currentState.update(this.owner)},i.prototype.changeState=function(t){this.previousState=this.currentState,this.currentState&&this.currentState.exit(this.owner),this.currentState=t,this.currentState&&this.currentState.enter(this.owner)},i.prototype.revertToPreviousState=function(){return!!this.previousState&&(this.changeState(this.previousState),!0)},i.prototype.isInState=function(t){return this.currentState==t},i.prototype.handleMessage=function(t){return!(!this.currentState||!this.currentState.onMessage(this.owner,t))||!(!this.globalState||!this.globalState.onMessage(this.owner,t))},o=i,a.default=o,cc._RF.pop()},{}],DetailsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"173aefOeF9B4bA6FmTxx1jw","DetailsPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropData"),d=a("OnHook"),h=a("DiscipleDataManager"),y=a("DisciplerankUpDataManager"),v=a("EquipDataManager"),g=a("HeroDataManager"),m=a("PropDataManager"),b=a("SoundManager"),C=a("StoryDataManager"),S=a("TeamSkillDataManager"),w=a("UpTalkManager"),k=a("GameSys"),_=a("EventConst"),P=a("GameTools"),O=a("DetailsStory"),I=a("DiscipleUpPanel"),R=a("EquipMessage"),x=a("PanelConst"),T=a("TipGroup"),A=a("UIBase"),D=a("UIManager");function B(){var t=null!==p&&p.apply(this,arguments)||this;return t.MaxBtn=null,t.Btnlabel=null,t.RankIcon=null,t.RankLabel=null,t.RankNode=null,t.Teacher=null,t.qipao=null,t.UpSp=null,t.SpriteFrame=[],t.jiantou=null,t.SkillContent=null,t.PaintContent=null,t.InfoContent=null,t.Name=null,t.Level=null,t.Fight=null,t.Name2=null,t.Level2=null,t.Fight2=null,t.Name3=null,t.Fight3=null,t.Level3=null,t.paintBtn=null,t.skillBtn=null,t.infoBtn=null,t.paint=null,t.role=null,t.upCoin=null,t.upBtn=null,t.unlockCoin=null,t.unlockBtn=null,t.EquipArray=null,t.index=0,t.icon=null,t.skillIndex=0,t.message=null,t.type=null,t.skillName=null,t.skillLevel=null,t.skillState=null,t.skillInfo=null,t.skillUnlock=null,t.skillUp=null,t.skillCoin=null,t.nowValue=null,t.nextValue=null,t.unlockValue=null,t.equipRed=null,t.paintRed=null,t.skillRed=null,t.need=0,t.click=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(B,p=A.default),B.prototype.onLoad=function(){},B.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.infoBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[1],this.skillBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[1],this.paintBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[1],this.paintBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[0],this.initThis(),2==d.default.instance.teacherid?this.ShowTeacher(0):this.HideTeacher()},B.prototype.init=function(t){this.index=t,this.initThis(),this.initPaint()},B.prototype.initBtn=function(t){switch(this.infoBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[1],this.skillBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[1],this.paintBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[1],t){case 0:this.paintBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[0],this.initThis(),this.initPaint();break;case 1:this.skillBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[0],this.initThis(),this.initSkill();break;case 2:this.infoBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[0],this.initThis(),this.initInfo()}},B.prototype.initPaint=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:for(t=0;t<this.EquipArray.childrenCount;t++)this.initEquip(t);return this.SkillContent.active=!1,this.PaintContent.active=!0,this.InfoContent.active=!1,n=C.default.Instance.GetStory(this.index+1),this.Name.string="+"+k.default.getDiscipleRank()[this.index]+" "+n.name,e="Head/"+n.paint,o=P.default.GetRes("SpriteBundle2",e,cc.SpriteFrame),n=null,o?(n=o,[3,3]):[3,1];case 1:return[4,P.default.loadImage("SpriteBundle2",e)];case 2:n=c.sent(),c.label=3;case 3:return this.paint.spriteFrame=n,o=h.default.Instance.GetUpCoin(this.index),this.upCoin.string="\xd7"+P.default.refSetCoin(o),this.unlockCoin.string="\xd7"+P.default.refSetCoin(o),k.default.getCoin()>=o?P.default.ResetGrayAllNode(this.upBtn):P.default.SetGrayAllNode(this.upBtn),[4,h.default.Instance.GetRole(this.index)];case 4:return i=c.sent(),this.role.string="\u8840: "+P.default.refSetCoin(i.maxhp)+"\n\u653b: "+P.default.refSetCoin(i.atk)+"\n\u653b\u901f: "+i.atkSpeed.toFixed(2)+"\u79d2\n\u547d\u4e2d: "+P.default.refSetCoin(i.hit)+"%\n\u56de\u907f: "+P.default.refSetCoin(i.dodge)+"%\n\u66b4\u51fb: "+P.default.refSetCoin(i.crit)+"%",r=k.default.getDisciple()[this.index],this.upBtn.active=!!(r.unlock&&r.level<200),this.MaxBtn.active=200<=r.level,this.unlockBtn.active=1!=r.unlock,this.RankNode.active=1==r.unlock,a=m.default.Instance.getDiscipleRank(this.index+1),l="PropIcon/"+a.icon,(i=P.default.GetRes("Bundle",l,cc.SpriteFrame))?[3,6]:[4,P.default.loadImage("Bundle",l)];case 5:i=c.sent(),c.label=6;case 6:return this.RankIcon.spriteFrame=i,10<=k.default.getDiscipleRank()[this.index]?(this.Btnlabel.active=!1,this.RankLabel.string="\u5df2\u6ee1\u9636"):(this.Btnlabel.active=!0,r=m.default.Instance.GetPackProp(a.id),l=y.default.Instance.getDiscipleRank(this.index+1),this.RankLabel.string=r.have+"/"+l.needChips,r.have>=l.needChips?P.default.ResetGrayAllNode(this.RankNode):P.default.SetGrayAllNode(this.RankNode)),this.initFightNum(),[2]}})})},B.prototype.initFightNum=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,h.default.Instance.GetFightNum(this.index)];case 1:return t=e.sent(),this.Fight.string=P.default.refSetCoin(t),[2]}})})},B.prototype.initSkill=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p,f,d,y,v,g,m,b,C;return u(this,function(u){switch(u.label){case 0:this.SkillContent.active=!0,this.PaintContent.active=!1,this.InfoContent.active=!1,t=this.SkillContent.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),e=0,u.label=1;case 1:if(!(e<t.childrenCount))return[3,5];if(n=t.children[e],r=h.default.Instance.IsUnlockSkill(this.index,e+1),o=S.default.Instance.GetSkill(5+3*this.index+(e+1)),a=k.default.getDisciple()[this.index],n.getChildByName("change").active=this.skillIndex==e,i="SkillIcon/"+o.icon,r){switch(n.getChildByName("canunlock").active=!1,e){case 0:n.getChildByName("name").getComponent(cc.Label).string=o.skillName+"("+a.skill1+")";break;case 1:n.getChildByName("name").getComponent(cc.Label).string=o.skillName+"("+a.skill2+")";break;case 2:n.getChildByName("name").getComponent(cc.Label).string=o.skillName+"("+a.skill3+")"}P.default.ResetGrayAllNode(n.getChildByName("icon"))}else f=h.default.Instance.IsCanUnlockSkill(this.index,e+1),n.getChildByName("canunlock").active=f,n.getChildByName("name").getComponent(cc.Label).string=f?"\u6280\u80fd"+(e+1):"\u672a\u89e3\u9501",P.default.SetGrayAllNode(n.getChildByName("icon"));return(r=P.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,3]:[4,P.default.loadImage("Bundle",i)];case 2:r=u.sent(),u.label=3;case 3:n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=r,u.label=4;case 4:return e++,[3,1];case 5:return[4,h.default.Instance.GetFightNum(this.index)];case 6:return l=u.sent(),this.Fight.string=""+P.default.refSetCoin(l),l=h.default.Instance.IsUnlockSkill(this.index,this.skillIndex+1),c=S.default.Instance.GetSkill(5+3*this.index+(this.skillIndex+1)),s=k.default.getDisciple()[this.index],[4,h.default.Instance.GetNextSkill(this.index,this.skillIndex)];case 7:if(p=u.sent(),l){switch(this.message.color=cc.color().fromHEX("#FFFFFF"),cc.color().fromHEX("#A1A1A1"),this.skillName.string=""+c.skillName,this.skillIndex){case 0:this.skillLevel.string=""+s.skill1;break;case 1:this.skillLevel.string=""+s.skill2;break;case 2:this.skillLevel.string=""+s.skill3}this.skillState.string="\u6280\u80fd",this.skillLevel.node.active=!0,this.nowValue.node.parent.active=!0,this.skillCoin.node.parent.active=!0,this.unlockValue.node.active=!1}else this.message.color=cc.color().fromHEX("#A1A1A1"),this.skillName.string="\u6280\u80fd"+(this.skillIndex+1),this.skillState.string="\u672a\u4e60\u5f97",this.skillLevel.node.active=!1,f=h.default.Instance.IsCanUnlockSkill(this.index,this.skillIndex+1),this.nowValue.node.parent.active=!1,this.skillCoin.node.parent.active=f,this.unlockValue.string=c.unlockinfo,this.unlockValue.node.active=!f;switch(c.skillType){case"passivity":this.type.string="\u88ab\u52a8",this.type.node.color=cc.color().fromHEX("#FFFFFF");break;case"fatality":this.type.string="\u5927\u62db",this.type.node.color=cc.color().fromHEX("#FFFFFF");break;case"initiative":this.type.string="\u81ea\u52a8\u91ca\u653e",this.type.node.color=cc.color().fromHEX("#FFFFFF")}return[4,h.default.Instance.GetRole(this.index)];case 8:switch(d=u.sent(),g=v=y="",m=0,this.skillIndex){case 0:this.need=d.skill1coin,m=-1==c.info.indexOf("%")?d.skill1num:100*d.skill1num,y=c.info.replace("*value*",""+P.default.refSetCoin(m)),v=-1==c.info.indexOf("%")?""+P.default.refSetCoin(d.skill1num):P.default.refSetCoin(100*d.skill1num)+"%",g=-1==c.info.indexOf("%")?""+P.default.refSetCoin(p.skill1num):P.default.refSetCoin(100*p.skill1num)+"%";break;case 1:this.need=d.skill2coin,m=-1==c.info.indexOf("%")?d.skill2num:100*d.skill2num,y=c.info.replace("*value*",""+P.default.refSetCoin(m)),v=-1==c.info.indexOf("%")?""+P.default.refSetCoin(d.skill2num):P.default.refSetCoin(100*d.skill2num)+"%",g=-1==c.info.indexOf("%")?""+P.default.refSetCoin(p.skill2num):P.default.refSetCoin(100*p.skill2num)+"%";break;case 2:this.need=d.skill3coin,m=-1==c.info.indexOf("%")?d.skill3num:100*d.skill3num,y=c.info.replace("*value*",""+P.default.refSetCoin(m)),v=-1==c.info.indexOf("%")?""+P.default.refSetCoin(d.skill3num):P.default.refSetCoin(100*d.skill3num)+"%",g=-1==c.info.indexOf("%")?""+P.default.refSetCoin(p.skill3num):P.default.refSetCoin(100*p.skill3num)+"%"}return this.skillCoin.string="\xd7"+P.default.refSetCoin(Math.floor(this.need)),this.skillCoin.node.color=k.default.getCoin()>=this.need?cc.color().fromHEX("#4EFF35"):cc.color().fromHEX("#DC3232"),this.nowValue.string=""+v,this.nextValue.string=""+g,this.skillInfo.string=""+y,C="Head/hero_avatar_"+(this.index+1),(b=P.default.GetRes("SpriteBundle2",C,cc.SpriteFrame))?[3,10]:[4,P.default.loadImage("SpriteBundle2",C)];case 9:b=u.sent(),u.label=10;case 10:return this.icon.spriteFrame=b,C=[-170,0,170],this.jiantou.x=C[this.skillIndex],this.jiantou.color=l?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#A1A1A1"),[2]}})})},B.prototype.ClickUpSkill=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return u(this,function(a){switch(a.label){case 0:return b.default.instance.play(b.Sound.Click),t=k.default.getDisciple(),[4,h.default.Instance.GetRole(this.index)];case 1:if(e=a.sent(),n=k.default.getCoin(),o=5+3*this.index+this.skillIndex+1,o=S.default.Instance.GetSkill(o),!t[this.index].unlock)return T.default.instance.setText(-1,"\u8bf7\u5148\u89e3\u9501\u8be5\u9053\u53cb"),[2];if(t[this.index].level<o.unlocklevel)return T.default.instance.setText(-1,o.unlockinfo),[2];switch(o=0,this.skillIndex){case 0:return[3,2];case 1:return[3,4];case 2:return[3,6]}return[3,8];case 2:return 200<=t[this.index].skill1?(T.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[2]):t[this.index].skill1>=t[this.index].level?(T.default.instance.setText(-1,"\u6280\u80fd\u7b49\u7ea7\u4e0d\u80fd\u5927\u4e8e\u9053\u53cb\u7b49\u7ea7"),[2]):n<e.skill1coin?(T.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,D.default.Instance.ShowUI(x.default.FreeCoin)]):[4,g.default.Instance.GetMaxFight()];case 3:return o=a.sent(),D.default.Instance.ChangeCoin(-e.skill1coin),t[this.index].skill1+=1,k.default.setDisciple(t),d.default.instance.MaxFightChange(o),b.default.instance.play(b.Sound.SkillUp),[3,8];case 4:return 200<=t[this.index].skill2?(T.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[2]):t[this.index].skill2>=t[this.index].level?(T.default.instance.setText(-1,"\u6280\u80fd\u7b49\u7ea7\u4e0d\u80fd\u5927\u4e8e\u9053\u53cb\u7b49\u7ea7"),[2]):n<e.skill2coin?(T.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,D.default.Instance.ShowUI(x.default.FreeCoin)]):[4,g.default.Instance.GetMaxFight()];case 5:return o=a.sent(),D.default.Instance.ChangeCoin(-e.skill2coin),t[this.index].skill2+=1,k.default.setDisciple(t),d.default.instance.MaxFightChange(o),b.default.instance.play(b.Sound.SkillUp),[3,8];case 6:return 200<=t[this.index].skill3?(T.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[2]):t[this.index].skill3>=t[this.index].level?(T.default.instance.setText(-1,"\u6280\u80fd\u7b49\u7ea7\u4e0d\u80fd\u5927\u4e8e\u9053\u53cb\u7b49\u7ea7"),[2]):n<e.skill3coin?(T.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,D.default.Instance.ShowUI(x.default.FreeCoin)]):[4,g.default.Instance.GetMaxFight()];case 7:return o=a.sent(),D.default.Instance.ChangeCoin(-e.skill3coin),t[this.index].skill3+=1,k.default.setDisciple(t),d.default.instance.MaxFightChange(o),b.default.instance.play(b.Sound.SkillUp),[3,8];case 8:return this.initSkill(),cc.systemEvent.emit(_.EventConst.initFight),[2]}})})},B.prototype.clickRankUp=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return t=m.default.Instance.getDiscipleRank(this.index+1),10<=k.default.getDiscipleRank()[this.index]?(T.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[3,5]):[3,1];case 1:return e=m.default.Instance.GetPackProp(t.id),n=y.default.Instance.getDiscipleRank(this.index+1),this.RankLabel.string=e.have+"/"+n.needChips,e.have>=n.needChips?(m.default.Instance.subPackProp(t.id,n.needChips),[4,g.default.Instance.GetMaxFight()]):[3,4];case 2:return n=o.sent(),k.default.setDiscipleRank(this.index),d.default.instance.MaxFightChange(n),this.initPaint(),[4,D.default.Instance.ShowUI(x.default.DiscipleUpPanel)];case 3:return o.sent(),D.default.Instance.GetClass(x.default.DiscipleUpPanel).getComponent(I.default).init(this.index),[3,5];case 4:T.default.instance.setText(-1,"\u89d2\u8272\u788e\u7247\u4e0d\u8db3,\u5f00\u542f\u4ed9\u6676\u5b9d\u7bb1\u53ef\u83b7\u53d6"),o.label=5;case 5:return[2]}})})},B.prototype.ClickSuperSkill=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return u(this,function(l){switch(l.label){case 0:return b.default.instance.play(b.Sound.Click),this.click?[2]:(2==d.default.instance.teacherid&&(this.HideTeacher(),d.default.instance.teacherid=0),this.click=!0,t=k.default.getDisciple(),k.default.getCoin(),e=5+3*this.index+this.skillIndex+1,S.default.Instance.GetSkill(e),t[this.index].unlock?(n=0,[4,g.default.Instance.GetMaxFight()]):(T.default.instance.setText(-1,"\u8bf7\u5148\u89e3\u9501\u8be5\u9053\u53cb"),[2]));case 1:o=l.sent(),a=function(t){var e,o,a,r,l,c,s,p;return u(this,function(u){switch(u.label){case 0:e=!0,o=h.default.Instance.GetSkillLevel(i.index,t),u.label=1;case 1:return a=k.default.getCoin(),r=0,l=k.default.getDisciple(),h.default.Instance.IsUnlockSkill(i.index,t+1)?(r=h.default.Instance.GetSkillLevel(i.index,t),[4,h.default.Instance.GetSkillNeed(i.index,t)]):[3,3];case 2:if(c=u.sent(),200<=r)return e=!1,[3,8];if(a<c)return e=!1,[3,8];if(r>=l[i.index].level)return e=!1,[3,8];switch(t){case 0:l[i.index].skill1+=1;break;case 1:l[i.index].skill2+=1;break;case 2:l[i.index].skill3+=1}return k.default.setDisciple(l),c<=a&&D.default.Instance.ChangeCoin(-c),[3,6];case 3:return h.default.Instance.IsCanUnlockSkill(i.index,t+1)?[4,h.default.Instance.GetSkillNeed(i.index,t)]:[3,5];case 4:if(!((c=u.sent())<=a))return e=!1,[3,8];switch(t){case 1:D.default.Instance.ChangeCoin(-c),l[i.index].skill2+=1,k.default.setDisciple(l),n++;break;case 2:D.default.Instance.ChangeCoin(-c),l[i.index].skill3+=1,k.default.setDisciple(l),n++}return[3,6];case 5:return e=!1,[3,8];case 6:n++,u.label=7;case 7:if(e)return[3,1];u.label=8;case 8:return(s=h.default.Instance.GetSkillLevel(i.index,t))>o&&(p=S.default.Instance.GetSkill(5+3*i.index+t+1).skillName,setTimeout(function(){T.default.instance.setText(-1,p+"\u63d0\u5347\u81f3"+s+"\u7ea7")},500*t),h.default.Instance.sendEventSkillLevel(i.index)),[2]}})},i=this,r=0,l.label=2;case 2:return r<3?[5,a(r)]:[3,5];case 3:l.sent(),l.label=4;case 4:return r++,[3,2];case 5:return 0<n?(d.default.instance.MaxFightChange(o),b.default.instance.play(b.Sound.SkillUp)):T.default.instance.setText(-1,"\u6761\u4ef6\u4e0d\u8db3"),this.initSkill(),cc.systemEvent.emit(_.EventConst.initFight),this.click=!1,[2]}})})},B.prototype.ClickSkill=function(t,e){b.default.instance.play(b.Sound.Click),e=parseInt(e),this.skillIndex=e,this.initSkill()},B.prototype.ClickUnlockSkill=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return b.default.instance.play(b.Sound.Click),t=k.default.getDisciple(),e=k.default.getCoin(),[4,h.default.Instance.GetRole(this.index)];case 1:switch(n=o.sent(),this.skillIndex){case 1:if(e<n.skill2coin)return T.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,D.default.Instance.ShowUI(x.default.FreeCoin)];D.default.Instance.ChangeCoin(-n.skill2coin),t[this.index].skill2+=1,k.default.setDisciple(t);break;case 2:if(e<n.skill3coin)return T.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,D.default.Instance.ShowUI(x.default.FreeCoin)];D.default.Instance.ChangeCoin(-n.skill3coin),t[this.index].skill3+=1,k.default.setDisciple(t)}return this.initSkill(),[2]}})})},B.prototype.initInfo=function(){this.SkillContent.active=!1,this.PaintContent.active=!1,this.InfoContent.active=!0;for(var t=this.InfoContent.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),e=0;e<t.childrenCount;e++)t.children[e].getComponent(O.default).init(e,this.index)},B.prototype.initThis=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return[4,h.default.Instance.GetRole(this.index)];case 1:return t=o.sent(),e=C.default.Instance.GetStory(this.index+1),this.Name.string="+"+k.default.getDiscipleRank()[this.index]+" "+e.name,this.Level.string=t.realm,[4,h.default.Instance.GetFightNum(this.index)];case 2:return n=o.sent(),this.Fight.string=P.default.refSetCoin(n),this.Name2.string="+"+k.default.getDiscipleRank()[this.index]+" "+e.name,this.Level2.string=t.realm,this.Fight2.string=P.default.refSetCoin(n),this.Fight3.string=P.default.refSetCoin(n),this.Level3.string=P.default.refSetCoin(n),this.Name3.string="+"+k.default.getDiscipleRank()[this.index]+" "+e.name,[2]}})})},B.prototype.start=function(){var t=this;cc.director.getScheduler().schedule(function(){t.red()},this,1),cc.systemEvent.on(_.EventConst.initFight,this.initFightNum,this)},B.prototype.ClickEquip=function(){b.default.instance.play(b.Sound.Click);for(var t=0;t<this.EquipArray.childrenCount;t++)this.OnEquip(t)},B.prototype.OnEquip=function(t){return s(this,void 0,void 0,function(){var e,n,o,a;return u(this,function(i){switch(i.label){case 0:return e=m.default.Instance.GetOnEquip(this.index+1,t),n=0==this.index||2==this.index?0:1,(n=m.default.Instance.GetOptimalEquip(t,n))?[3,1]:(console.log("\u6ca1\u6709\u5408\u9002\u7684\u88c5\u5907"),[3,3]);case 1:if(e){if(o=v.default.Instance.GetEquip(e.goodsid),a=v.default.Instance.GetEquip(n.goodsid),o.fight>=a.fight)return console.log("\u6218\u6597\u529b\u5c5e\u6027\u4e00\u81f4\uff0c\u4e0d\u9700\u8981\u66f4\u6362"),[2];m.default.Instance.Unfix(e)}return[4,g.default.Instance.GetMaxFight()];case 2:o=i.sent(),m.default.Instance.subPackProp(n.id,1),a=new f.default(n.id,n.type,n.name,n.goodsid,n.capacity,n.info,n.consumables,n.frame,n.icon,n.have,!0,this.index+1,n.rewardNum),m.default.Instance.addPack([{prop:a,have:1}]),d.default.instance.MaxFightChange(o),i.label=3;case 3:return this.initEquip(t),this.initPaint(),[2]}})})},B.prototype.initEquip=function(t){return s(this,void 0,void 0,function(){var e,n,o;return u(this,function(a){switch(a.label){case 0:return(e=m.default.Instance.GetOnEquip(this.index+1,t))?[3,1]:(this.EquipArray.children[t].getChildByName("equip").active=!1,this.EquipArray.children[t].getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[2],[3,4]);case 1:return this.EquipArray.children[t].getChildByName("equip").active=!0,this.EquipArray.children[t].getComponent(cc.Sprite).spriteFrame=this.SpriteFrame[3],this.EquipArray.children[t].getChildByName("equip").getChildByName("name").getComponent(cc.Label).string=e.name,this.EquipArray.children[t].getChildByName("equip").getChildByName("name").color=cc.color().fromHEX(m.default.Instance.GetLevelColor(e.frame)),n="PropIcon/"+e.icon,(o=P.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,3]:[4,P.default.loadImage("Bundle",n)];case 2:o=a.sent(),a.label=3;case 3:this.EquipArray.children[t].getChildByName("equip").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,a.label=4;case 4:return[2]}})})},B.prototype.ClickUnfix=function(t,e){return s(this,void 0,void 0,function(){var t,n,o=this;return u(this,function(a){switch(a.label){case 0:return b.default.instance.play(b.Sound.Click),t=parseInt(e),n=m.default.Instance.GetOnEquip(this.index+1,t),[4,D.default.Instance.ShowUI(x.default.EquipMessage)];case 1:return a.sent(),D.default.Instance.GetClass(x.default.EquipMessage).getComponent(R.default).initUnfix(n,function(){return s(o,void 0,void 0,function(){var e,n;return u(this,function(o){switch(o.label){case 0:return[4,g.default.Instance.GetMaxFight()];case 1:return e=o.sent(),n=m.default.Instance.GetOnEquip(this.index+1,t),m.default.Instance.Unfix(n),this.initEquip(t),this.initPaint(),d.default.instance.MaxFightChange(e),[2]}})})}),[2]}})})},B.prototype.ClickBtn=function(t,e){b.default.instance.play(b.Sound.Click),e=parseInt(e),this.initBtn(e),1==e&&2==d.default.instance.teacherid&&this.ShowTeacher(2)},B.prototype.ClickOff=function(){b.default.instance.play(b.Sound.Click),this.CloseThis()},B.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},B.prototype.ClickUpLevel=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return b.default.instance.play(b.Sound.Click),t=h.default.Instance.GetUpCoin(this.index),k.default.getCoin()<t?(T.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,D.default.Instance.ShowUI(x.default.FreeCoin)]):[3,1];case 1:return 200<=(e=k.default.getDisciple())[this.index].level?(T.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[2]):[4,g.default.Instance.GetMaxFight()];case 2:n=o.sent(),e[this.index].level++,k.default.setDisciple(e),d.default.instance.MaxFightChange(n),b.default.instance.play(b.Sound.SkillUp),D.default.Instance.ChangeCoin(-t),this.initThis(),this.initPaint(),this.UpSp.setAnimation(0,"daoyou",!1),this.ShowQipao(),2==d.default.instance.teacherid&&this.ShowTeacher(1),o.label=3;case 3:return h.default.Instance.sendEventLevel(this.index),h.default.Instance.sendEventUpLevel(this.index),[2]}})})},B.prototype.ClickUnlock=function(){b.default.instance.play(b.Sound.Click);var t,e=h.default.Instance.GetUpCoin(this.index);if(k.default.getCoin()<e)return T.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),D.default.Instance.ShowUI(x.default.FreeCoin);C.default.Instance.IsCanUnlock(this.index+1)?(D.default.Instance.ChangeCoin(-e),(t=k.default.getDisciple())[this.index].unlock=!0,t[this.index].state=!0,k.default.setDisciple(t),this.initThis(),this.initPaint(),h.default.Instance.sendEventLevel(this.index),h.default.Instance.sendEventUpLevel(this.index)):(t=C.default.Instance.GetStory(this.index+1),T.default.instance.setText(-1,t.unlockDocument))},B.prototype.ClickUp=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return b.default.instance.play(b.Sound.Click),[4,g.default.Instance.GetMaxFight()];case 1:return t=n.sent(),(e=k.default.getDisciple())[this.index].state=!0,k.default.setDisciple(e),d.default.instance.MaxFightChange(t),b.default.instance.play(b.Sound.PlayUp),this.initPaint(),cc.systemEvent.emit(_.EventConst.initUpNum),h.default.Instance.sendEventLevel(this.index),h.default.Instance.sendEventUpLevel(this.index),[2]}})})},B.prototype.ClickDown=function(){b.default.instance.play(b.Sound.Click);var t=k.default.getDisciple();t[this.index].state=!1,k.default.setDisciple(t),this.initPaint(),cc.systemEvent.emit(_.EventConst.initUpNum)},B.prototype.red=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s;return u(this,function(u){switch(u.label){case 0:return[4,h.default.Instance.GetIsUnlock(this.index)];case 1:return u.sent()?[3,2]:(this.equipRed.active=!1,this.paintRed.active=!1,this.skillRed.active=!1,[3,8]);case 2:for(t=!1,r=0;r<4;r++)if(e=!!v.default.Instance.isHaveCanOn(this.index+1,r)){t=e;break}this.equipRed.active=t,n=h.default.Instance.GetUpCoin(this.index),s=k.default.getCoin(),a=k.default.getDisciple()[this.index].level,s=n<=s&&a<200,this.paintRed.active=s,o=k.default.getCoin(),a=!1,i=k.default.getDisciple()[this.index],r=1,u.label=3;case 3:return r<4?h.default.Instance.IsUnlockSkill(this.index,r)?[4,h.default.Instance.GetRole(this.index)]:[3,5]:[3,7];case 4:switch(l=u.sent(),c=!1,r){case 1:c=o>=l.skill1coin&&i.level>i.skill1;break;case 2:c=o>=l.skill2coin&&i.level>i.skill2;break;case 3:c=o>=l.skill3coin&&i.level>i.skill3}return c&&(a=c),[3,6];case 5:(s=h.default.Instance.IsCanUnlockSkill(this.index,r))&&(a=s),u.label=6;case 6:return r++,[3,3];case 7:this.skillRed.active=a,u.label=8;case 8:return[2]}})})},B.prototype.ShowQipao=function(){var t=this;this.qipao.stopAllActions(),this.qipao.active=!0,cc.tween(this.qipao).call(function(){t.qipao.getChildByName("txt").getComponent(cc.Label).string=""+w.default.Instance.GetTalk(t.index)}).delay(2).call(function(){t.qipao.active=!1}).start()},B.prototype.ShowTeacher=function(t){switch(this.Teacher.active=!0,t){case 0:this.Teacher.setPosition(cc.v2(150,-370));break;case 1:this.Teacher.setPosition(cc.v2(0,480));break;case 2:this.Teacher.setPosition(cc.v2(0,-340))}},B.prototype.HideTeacher=function(){this.Teacher.active=!1},c([i(cc.Node)],B.prototype,"MaxBtn",void 0),c([i(cc.Node)],B.prototype,"Btnlabel",void 0),c([i(cc.Sprite)],B.prototype,"RankIcon",void 0),c([i(cc.Label)],B.prototype,"RankLabel",void 0),c([i(cc.Node)],B.prototype,"RankNode",void 0),c([i(cc.Node)],B.prototype,"Teacher",void 0),c([i(cc.Node)],B.prototype,"qipao",void 0),c([i(sp.Skeleton)],B.prototype,"UpSp",void 0),c([i(cc.SpriteFrame)],B.prototype,"SpriteFrame",void 0),c([i(cc.Node)],B.prototype,"jiantou",void 0),c([i(cc.Node)],B.prototype,"SkillContent",void 0),c([i(cc.Node)],B.prototype,"PaintContent",void 0),c([i(cc.Node)],B.prototype,"InfoContent",void 0),c([i(cc.Label)],B.prototype,"Name",void 0),c([i(cc.Label)],B.prototype,"Level",void 0),c([i(cc.Label)],B.prototype,"Fight",void 0),c([i(cc.Label)],B.prototype,"Name2",void 0),c([i(cc.Label)],B.prototype,"Level2",void 0),c([i(cc.Label)],B.prototype,"Fight2",void 0),c([i(cc.Label)],B.prototype,"Name3",void 0),c([i(cc.Label)],B.prototype,"Fight3",void 0),c([i(cc.Label)],B.prototype,"Level3",void 0),c([i(cc.Node)],B.prototype,"paintBtn",void 0),c([i(cc.Node)],B.prototype,"skillBtn",void 0),c([i(cc.Node)],B.prototype,"infoBtn",void 0),c([i(cc.Sprite)],B.prototype,"paint",void 0),c([i(cc.Label)],B.prototype,"role",void 0),c([i(cc.Label)],B.prototype,"upCoin",void 0),c([i(cc.Node)],B.prototype,"upBtn",void 0),c([i(cc.Label)],B.prototype,"unlockCoin",void 0),c([i(cc.Node)],B.prototype,"unlockBtn",void 0),c([i(cc.Node)],B.prototype,"EquipArray",void 0),c([i(cc.Sprite)],B.prototype,"icon",void 0),c([i(cc.Node)],B.prototype,"message",void 0),c([i(cc.Label)],B.prototype,"type",void 0),c([i(cc.Label)],B.prototype,"skillName",void 0),c([i(cc.Label)],B.prototype,"skillLevel",void 0),c([i(cc.Label)],B.prototype,"skillState",void 0),c([i(cc.Label)],B.prototype,"skillInfo",void 0),c([i(cc.Node)],B.prototype,"skillUnlock",void 0),c([i(cc.Node)],B.prototype,"skillUp",void 0),c([i(cc.Label)],B.prototype,"skillCoin",void 0),c([i(cc.Label)],B.prototype,"nowValue",void 0),c([i(cc.Label)],B.prototype,"nextValue",void 0),c([i(cc.Label)],B.prototype,"unlockValue",void 0),c([i(cc.Node)],B.prototype,"equipRed",void 0),c([i(cc.Node)],B.prototype,"paintRed",void 0),c([i(cc.Node)],B.prototype,"skillRed",void 0),a=c([a],B),r.default=a,cc._RF.pop()},{}],DetailsSkill:[function(t,e,n){"use strict";cc._RF.push(e,"3de4cxjYVdKurWGQ3uCI8H+","DetailsSkill");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("OnHook"),f=i("DiscipleDataManager"),d=i("HeroDataManager"),h=i("SoundManager"),y=i("TeamSkillDataManager"),v=i("GameSys"),g=i("EventConst"),m=i("GameTools"),b=i("PanelConst"),C=i("TipGroup"),S=i("UIManager");function w(){var t=null!==u&&u.apply(this,arguments)||this;return t.Name=null,t.level=null,t.type=null,t.info1=null,t.info2=null,t.info3=null,t.add=null,t.needCoin=null,t.infoLevel=null,t.btn=null,t.icon=null,t.unlockBtn=null,t.unlockCoin=null,t.discipleid=0,t.index=0,t}i=(a=cc._decorator).ccclass,a.property,l(w,u=cc.Component),w.prototype.onLoad=function(){this.Name=this.node.getChildByName("skill").getChildByName("name").getComponent(cc.Label),this.level=this.node.getChildByName("skill").getChildByName("level").getComponent(cc.Label),this.type=this.node.getChildByName("type").getComponent(cc.Label),this.add=this.node.getChildByName("add").getComponent(cc.Label),this.needCoin=this.node.getChildByName("up").getChildByName("coin").getComponent(cc.Label),this.infoLevel=this.node.getChildByName("up").getChildByName("level").getComponent(cc.Label),this.btn=this.node.getChildByName("up"),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.unlockBtn=this.node.getChildByName("unlock"),this.unlockCoin=this.node.getChildByName("unlock").getChildByName("coin").getComponent(cc.Label),this.info1=this.node.getChildByName("layout").getChildByName("label1").getChildByName("info").getComponent(cc.Label),this.info2=this.node.getChildByName("layout").getChildByName("label2").getChildByName("info").getComponent(cc.Label),this.info3=this.node.getChildByName("layout").getChildByName("label3").getChildByName("info").getComponent(cc.Label)},w.prototype.init=function(t,e){this.discipleid=t,this.index=e,this.initThis()},w.prototype.initThis=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,u,p,d;return s(this,function(s){switch(s.label){case 0:return[4,f.default.Instance.GetRole(this.discipleid)];case 1:return t=s.sent(),[4,f.default.Instance.GetNextSkill(this.discipleid,this.index)];case 2:switch(e=s.sent(),p=5+3*this.discipleid+this.index+1,n=y.default.Instance.GetSkill(p),this.Name.string=n.skillName,"fatality"==n.skillType?(this.type.string="\u5927\u62db",this.type.node.color=cc.color().fromHEX("#DC4646")):"initiative"==n.skillType?(this.type.string="\u81ea\u52a8\u91ca\u653e",this.type.node.color=cc.color().fromHEX("#2C8E1E")):(this.type.string="\u88ab\u52a8",this.type.node.color=cc.color().fromHEX("#D4D4D4")),o=v.default.getDisciple()[this.discipleid],a="",i=v.default.getCoin(),this.index){case 0:a=n.info.replace("*value*",""+m.default.refSetCoin(t.skill1num)),this.add.string="\u4e0b\u4e00\u7ea7 "+t.skill1num.toFixed(2)+"\u2192"+e.skill1num.toFixed(2),this.needCoin.string="\xd7"+m.default.refSetCoin(t.skill1coin),this.needCoin.node.color=i>=t.skill1coin?cc.Color.GREEN:cc.Color.RED,this.unlockCoin.string="\xd7"+m.default.refSetCoin(t.skill1coin),this.unlockCoin.node.color=i>=t.skill1coin?cc.Color.GREEN:cc.Color.RED,this.infoLevel.string=o.level>=n.unlocklevel?"\u5347\u7ea7"+o.skill1+"\u7ea7":"\u672a\u89e3\u9501",this.level.string=o.level>=n.unlocklevel?": (\u7b49\u7ea7"+o.skill1+")":": (\u672a\u89e3\u9501)",this.btn.active=o.level>=n.unlocklevel;break;case 1:a=n.info.replace("*value*",""+m.default.refSetCoin(t.skill2num)),this.add.string="\u4e0b\u4e00\u7ea7 "+t.skill2num.toFixed(2)+"\u2192"+e.skill2num.toFixed(2),this.needCoin.string="\xd7"+m.default.refSetCoin(t.skill2coin),this.needCoin.node.color=i>=t.skill2coin?cc.Color.GREEN:cc.Color.RED,this.unlockCoin.string="\xd7"+m.default.refSetCoin(t.skill2coin),this.unlockCoin.node.color=i>=t.skill2coin?cc.Color.GREEN:cc.Color.RED,this.infoLevel.string=o.level>=n.unlocklevel?"\u5347\u7ea7"+o.skill2+"\u7ea7":"\u672a\u89e3\u9501",this.level.string=o.level>=n.unlocklevel?": (\u7b49\u7ea7"+o.skill2+")":": (\u672a\u89e3\u9501)",this.btn.active=o.level>=n.unlocklevel;break;case 2:a=n.info.replace("*value*",""+m.default.refSetCoin(t.skill3num)),this.add.string="\u4e0b\u4e00\u7ea7 "+t.skill3num.toFixed(2)+" \u2192 "+e.skill3num.toFixed(2),this.needCoin.string="\xd7"+m.default.refSetCoin(t.skill3coin),this.needCoin.node.color=i>=t.skill3coin?cc.Color.GREEN:cc.Color.RED,this.unlockCoin.string="\xd7"+m.default.refSetCoin(t.skill3coin),this.unlockCoin.node.color=i>=t.skill3coin?cc.Color.GREEN:cc.Color.RED,this.infoLevel.string=o.level>=n.unlocklevel?"\u5347\u7ea7"+o.skill3+"\u7ea7":"\u672a\u89e3\u9501",this.level.string=o.level>=n.unlocklevel?": (\u7b49\u7ea7"+o.skill3+")":": (\u672a\u89e3\u9501)",this.btn.active=o.level>=n.unlocklevel}if(20<a.length){for(l=r="",c=0;c<a.length;c++)c<20?r+=a[c]:l+=a[c];this.info1.string=r,this.info2.node.parent.active=!0,this.info2.string=l}else this.info1.string=a,this.info2.node.parent.active=!1;return this.info3.string=n.unlockinfo,d="SkillIcon/"+n.icon,(u=m.default.GetRes("Bundle",d,cc.SpriteFrame))?[3,4]:[4,m.default.loadImage("Bundle",d)];case 3:u=s.sent(),s.label=4;case 4:return this.icon.spriteFrame=u,p=f.default.Instance.IsUnlockSkill(this.discipleid,this.index+1),this.btn.active=p,d=f.default.Instance.IsCanUnlockSkill(this.discipleid,this.index+1),this.unlockBtn.active=!(0!=p||!d),[2]}})})},w.prototype.start=function(){cc.systemEvent.on(g.EventConst.Coin,this.initThis,this)},w.prototype.ClickUnlock=function(){return c(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(a){switch(a.label){case 0:return h.default.instance.play(h.Sound.Click),t=v.default.getDisciple(),e=v.default.getCoin(),[4,f.default.Instance.GetRole(this.discipleid)];case 1:switch(n=a.sent(),o=0,this.index){case 1:return[3,2];case 2:return[3,4]}return[3,6];case 2:return e<n.skill2coin?(C.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,S.default.Instance.ShowUI(b.default.FreeCoin)]):[4,d.default.Instance.GetMaxFight()];case 3:return o=a.sent(),S.default.Instance.ChangeCoin(-n.skill2coin),t[this.discipleid].skill2+=1,v.default.setDisciple(t),p.default.instance.MaxFightChange(o),[3,6];case 4:return e<n.skill3coin?(C.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,S.default.Instance.ShowUI(b.default.FreeCoin)]):[4,d.default.Instance.GetMaxFight()];case 5:return o=a.sent(),S.default.Instance.ChangeCoin(-n.skill3coin),t[this.discipleid].skill3+=1,v.default.setDisciple(t),p.default.instance.MaxFightChange(o),[3,6];case 6:return this.initThis(),[2]}})})},w.prototype.ClickUp=function(){return c(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(a){switch(a.label){case 0:return h.default.instance.play(h.Sound.Click),t=v.default.getDisciple(),[4,f.default.Instance.GetRole(this.discipleid)];case 1:if(e=a.sent(),n=v.default.getCoin(),o=5+3*this.discipleid+this.index+1,o=y.default.Instance.GetSkill(o),!t[this.discipleid].unlock)return C.default.instance.setText(-1,"\u8bf7\u5148\u89e3\u9501\u8be5\u9053\u53cb"),[2];if(t[this.discipleid].level<o.unlocklevel)return C.default.instance.setText(-1,o.unlockinfo),[2];switch(o=0,this.index){case 0:return[3,2];case 1:return[3,4];case 2:return[3,6]}return[3,8];case 2:return 200<=t[this.discipleid].skill1?(C.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[2]):t[this.discipleid].skill1>=t[this.discipleid].level?(C.default.instance.setText(-1,"\u6280\u80fd\u7b49\u7ea7\u4e0d\u80fd\u5927\u4e8e\u9053\u53cb\u7b49\u7ea7"),[2]):n<e.skill1coin?(C.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,S.default.Instance.ShowUI(b.default.FreeCoin)]):[4,d.default.Instance.GetMaxFight()];case 3:return o=a.sent(),S.default.Instance.ChangeCoin(-e.skill1coin),t[this.discipleid].skill1+=1,v.default.setDisciple(t),p.default.instance.MaxFightChange(o),[3,8];case 4:return 200<=t[this.discipleid].skill2?(C.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[2]):t[this.discipleid].skill2>=t[this.discipleid].level?(C.default.instance.setText(-1,"\u6280\u80fd\u7b49\u7ea7\u4e0d\u80fd\u5927\u4e8e\u9053\u53cb\u7b49\u7ea7"),[2]):n<e.skill2coin?(C.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,S.default.Instance.ShowUI(b.default.FreeCoin)]):[4,d.default.Instance.GetMaxFight()];case 5:return o=a.sent(),S.default.Instance.ChangeCoin(-e.skill2coin),t[this.discipleid].skill2+=1,v.default.setDisciple(t),p.default.instance.MaxFightChange(o),[3,8];case 6:return 200<=t[this.discipleid].skill3?(C.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[2]):t[this.discipleid].skill3>=t[this.discipleid].level?(C.default.instance.setText(-1,"\u6280\u80fd\u7b49\u7ea7\u4e0d\u80fd\u5927\u4e8e\u9053\u53cb\u7b49\u7ea7"),[2]):n<e.skill3coin?(C.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,S.default.Instance.ShowUI(b.default.FreeCoin)]):[4,d.default.Instance.GetMaxFight()];case 7:return o=a.sent(),S.default.Instance.ChangeCoin(-e.skill3coin),t[this.discipleid].skill3+=1,v.default.setDisciple(t),p.default.instance.MaxFightChange(o),[3,8];case 8:return this.initThis(),cc.systemEvent.emit(g.EventConst.initFight),[2]}})})},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],w),r.default=i,cc._RF.pop()},{}],DetailsStory:[function(t,e,n){"use strict";cc._RF.push(e,"44a0bavhE5EcqahGX3AD1sN","DetailsStory");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("HeroDataManager"),u=i("StoryDataManager"),p=i("GameSys");function f(){var t=null!==c&&c.apply(this,arguments)||this;return t.type=null,t.info=null,t.unlock=null,t.unlockInfo=null,t.index=0,t.id=0,t}i=(a=cc._decorator).ccclass,a.property,l(f,c=cc.Component),f.prototype.onLoad=function(){this.type=this.node.getChildByName("title").getChildByName("type").getComponent(cc.Label),this.info=this.node.getChildByName("info").getComponent(cc.Label),this.unlock=this.node.getChildByName("unlock"),this.unlockInfo=this.unlock.getChildByName("info").getComponent(cc.Label)},f.prototype.init=function(t,e){this.index=t,this.id=e;var n=u.default.Instance.GetStory(e+1),o=(e=p.default.getDisciple()[e],0),a="";switch(t){case 0:o=n.allusion1_level,a=n.allusion1_info;break;case 1:o=n.allusion2_level,a=n.allusion2_info;break;case 2:o=n.allusion3_level,a=n.allusion3_info;break;case 3:o=n.allusion4_level,a=n.allusion4_info;break;case 4:o=n.allusion5_level,a=n.allusion5_info}999999!=o?(this.node.active=!0,e.level>=o?(this.type.string=0==o?"\u521d\u59cb\u5f00\u542f":s.default.Instance.GetRole(o).realm+"\u5f00\u542f",this.info.string="      "+a,this.info.node.active=!0,this.type.node.active=!0,this.unlock.active=!1):(this.info.node.active=!1,this.type.node.active=!1,this.unlock.active=!0,this.unlockInfo.string=s.default.Instance.GetRole(o).realm+"\u5f00\u542f")):this.node.active=!1},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],DevilPanel:[function(t,e,n){"use strict";cc._RF.push(e,"54df5PTfiZAY4DEdqpl1CJx","DevilPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("OnHook"),p=a("GameSys"),f=a("GameTools"),d=(a("TipGroup"),a("UIBase"));function h(){var t=null!==s&&s.apply(this,arguments)||this;return t.time=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(h,s=d.default),h.prototype.start=function(){},h.prototype.onEnable=function(){s.prototype.onEnable.call(this)},h.prototype.ClickDevil=function(){p.default.setDevil(0),this.CloseThis(),u.default.instance.DispelDevil()},h.prototype.CloseThis=function(){s.prototype.CloseThis.call(this)},h.prototype.update=function(){this.time.string="\u5fc3\u9b54\u81ea\u52a8\u9a71\u9664\u8fd8\u9700:"+f.default.hour_min_secTimeFuncion(p.default.devil),p.default.devil<=0&&this.CloseThis()},c([i(cc.Label)],h.prototype,"time",void 0),a=c([a],h),r.default=a,cc._RF.pop()},{}],DisasterPanel:[function(t,e,n){"use strict";cc._RF.push(e,"58bb1Z4xb5OTbMkoUFWYONA","DisasterPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("CoinOutPutDataManager"),h=a("HeroDataManager"),y=a("PropDataManager"),v=a("SoundManager"),g=a("SystemDataManager"),m=a("GameSys"),b=a("GameTools"),C=a("PanelConst"),S=a("RealmPanel"),w=a("RewardPanel"),k=a("TipGroup"),_=a("UIBase"),P=a("UIManager");function O(){var t=null!==p&&p.apply(this,arguments)||this;return t.SkipBtn=null,t.Share=null,t.ShareNum=null,t.sp=null,t.spine=null,t.result=null,t.off=null,t.layout=null,t.content=null,t.probability=60,t.isSuccess=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(O,p=_.default),O.prototype.onLoad=function(){this.content=this.node.getChildByName("Content"),this.off=this.content.getChildByName("off"),this.spine=this.content.getChildByName("spine").getComponent(sp.Skeleton),this.result=this.content.getChildByName("result").getComponent(sp.Skeleton),this.layout=this.content.getChildByName("layout"),this.Share.active="WX"==m.default.channel||"QQ"==m.default.channel},O.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return u(this,function(a){switch(a.label){case 0:return this.sp.active=!1,this.probability=m.default.disater,this.content.active=!1,this.result.node.active=!1,this.layout.active=!1,this.off.active=!1,this.isSuccess=!1,this.SkipBtn.active=!1,t=this.ShareNum,e="\xd7",o=(n=b.default).refSetCoin,[4,d.default.Instance.GetOutPut()];case 1:return t.string=e+o.apply(n,[180*a.sent()]),this.content.active=!0,this.init(),[2]}})})},O.prototype.init=function(){var t=this;cc.tween(this.spine.node).call(function(){t.SkipBtn.active=0<m.default.reincarn}).call(function(){t.spine.setAnimation(0,"2",!1)}).delay(5).call(function(){t.Result()}).start()},O.prototype.clickSkip=function(){this.spine.node.stopAllActions(),this.Result()},O.prototype.Result=function(){var t=this;this.SkipBtn.active=!1;var e=100*Math.random(),n=!1;e<this.probability?(n=!0,this.isSuccess=!0,this.Success()):v.default.instance.play(v.Sound.UpFail),this.result.node.active=!0;var o=n?"suc_in":"fail_in";this.sp.active=n,this.result.setAnimation(0,o,!1),this.result.setCompleteListener(function(){var e;t.result.animation==o&&(e=n?"suc_loop":"fail_loop",t.result.setAnimation(0,e,!0),t.off.active=!!n,t.layout.active=!n,e=n?"3":"4",t.spine.setAnimation(0,e,!0))})},O.prototype.Success=function(){v.default.instance.play(v.Sound.UpSuccess),f.default.instance.BreakSuccess()},O.prototype.start=function(){},O.prototype.ClickAgain=function(){var t=this;t.result.node.active=!1,t.layout.active=!1,t.off.active=!1,t.content.active=!0,t.probability=100,t.init()},O.prototype.ClickOff=function(){v.default.instance.play(v.Sound.Click),this.CloseThis()},O.prototype.CloseThis=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return u(this,function(a){switch(a.label){case 0:return p.prototype.CloseThis.call(this),this.isSuccess?m.default.getLevel()<m.default.getMaxLevel()?(console.log("\u5df2\u7ecf\u9886\u53d6\u8fc7\u5956\u52b1\u7684\u5883\u754c\u4e0d\u518d\u5c55\u793a"),[3,5]):[3,1]:[3,5];case 1:return"WX"!=m.default.channel&&"QQ"!=m.default.channel||!g.default.Instance.isUnlcok(37)?[3,3]:(e=(t=b.default.getSdk()).getSurpassOpenDataContext,o=(n=Math).floor,[4,h.default.Instance.GetMaxFight()]);case 2:e.apply(t,[o.apply(n,[a.sent()])]),a.label=3;case 3:return[4,P.default.Instance.ShowUI(C.default.REALM_PANEL)];case 4:a.sent(),P.default.Instance.GetClass(C.default.REALM_PANEL).getComponent(S.default).addCallback(function(){f.default.instance.initVisualize()}),a.label=5;case 5:return P.default.Instance.ShowInter(),b.default.getSdk().isShowAddColorSign(function(){P.default.Instance.ShowUI(C.default.addColorSign)}),[2]}})})},O.prototype.ClickShare=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(){return v.default.instance.play(v.Sound.Click),this.CloseThis(),b.default.getSdk().ClickShare(function(){return s(t,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return t=y.default.Instance.GetCoinProp(),[4,P.default.Instance.ShowUI(C.default.RewardPanel)];case 1:return e.sent(),P.default.Instance.GetClass(C.default.RewardPanel).getComponent(w.default).initAsset([{prop:t,have:180}]),[2]}})})},function(){k.default.instance.setText(-1,"\u5206\u4eab\u597d\u53cb\u83b7\u53d6\u5956\u52b1")}),[2]})})},c([i(cc.Node)],O.prototype,"SkipBtn",void 0),c([i(cc.Node)],O.prototype,"Share",void 0),c([i(cc.Label)],O.prototype,"ShareNum",void 0),c([i(cc.Node)],O.prototype,"sp",void 0),a=c([a],O),r.default=a,cc._RF.pop()},{}],Disciple0:[function(t,e,n){"use strict";cc._RF.push(e,"45d9ftNCkVLeY4cEoBcisOG","Disciple0");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TeamerData"),d=i("SingleBase"),h=i("GameTools");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=d.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){return s(this,function(){return[2]})})},y.prototype.GetJson=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return s(this,function(l){switch(l.label){case 0:return this.allDataList.length<=0?(t="Jsons/Disciple/Disciple0",e=h.default.GetRes("JsonBundle",t,cc.JsonAsset),n=void 0,null!=e?[3,2]:[4,h.default.loadJson("JsonBundle",t)]):[3,4];case 1:return n=l.sent(),[3,3];case 2:n=e.json,l.label=3;case 3:for(o=n.length,a=0;a<o;a++)i=n[a],(r=new f.default).id=0,r.level=i.level,r.realm=i.info,r.hp=i.hp,r.atk=i.atk,r.interval=i.speed,r.atkSpeed=60/r.interval,r.hit=i.hit,r.dodge=i.dodge,r.crit=i.ctr,r.maxmp=i.mp,r.maxhp=i.hp,r.skill1num=i.skill1num,r.skill1coin=i.skill1coin,r.skill1cd=i.skill1cd,r.skill2num=i.skill2num,r.skill2coin=i.skill2coin,r.skill2cd=i.skill2cd,r.skill3num=i.skill3num,r.skill3coin=i.skill3coin,r.skill3cd=i.skill3cd,this.allDataList.push(r);return[2,this.allDataList];case 4:return[2,this.allDataList]}})})},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],Disciple1:[function(t,e,n){"use strict";cc._RF.push(e,"ee909APpkZK/pdSmQ5gAqKZ","Disciple1");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TeamerData"),d=i("SingleBase"),h=i("GameTools");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=d.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){return s(this,function(){return[2]})})},y.prototype.GetJson=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return s(this,function(l){switch(l.label){case 0:return this.allDataList.length<=0?(t="Jsons/Disciple/Disciple1",e=h.default.GetRes("JsonBundle",t,cc.JsonAsset),n=void 0,null!=e?[3,2]:[4,h.default.loadJson("JsonBundle",t)]):[3,4];case 1:return n=l.sent(),[3,3];case 2:n=e.json,l.label=3;case 3:for(o=n.length,a=0;a<o;a++)i=n[a],(r=new f.default).id=0,r.level=i.level,r.realm=i.info,r.hp=i.hp,r.atk=i.atk,r.interval=i.speed,r.atkSpeed=60/r.interval,r.hit=i.hit,r.dodge=i.dodge,r.crit=i.ctr,r.maxmp=i.mp,r.maxhp=i.hp,r.skill1num=i.skill1num,r.skill1coin=i.skill1coin,r.skill1cd=i.skill1cd,r.skill2num=i.skill2num,r.skill2coin=i.skill2coin,r.skill2cd=i.skill2cd,r.skill3num=i.skill3num,r.skill3coin=i.skill3coin,r.skill3cd=i.skill3cd,this.allDataList.push(r);return[2,this.allDataList];case 4:return[2,this.allDataList]}})})},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],Disciple2:[function(t,e,n){"use strict";cc._RF.push(e,"70732KReFREFbbw2p6RtTL2","Disciple2");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TeamerData"),d=i("SingleBase"),h=i("GameTools");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=d.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){return s(this,function(){return[2]})})},y.prototype.GetJson=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return s(this,function(l){switch(l.label){case 0:return this.allDataList.length<=0?(t="Jsons/Disciple/Disciple2",e=h.default.GetRes("JsonBundle",t,cc.JsonAsset),n=void 0,null!=e?[3,2]:[4,h.default.loadJson("JsonBundle",t)]):[3,4];case 1:return n=l.sent(),[3,3];case 2:n=e.json,l.label=3;case 3:for(o=n.length,a=0;a<o;a++)i=n[a],(r=new f.default).id=0,r.level=i.level,r.realm=i.info,r.hp=i.hp,r.atk=i.atk,r.interval=i.speed,r.atkSpeed=60/r.interval,r.hit=i.hit,r.dodge=i.dodge,r.crit=i.ctr,r.maxmp=i.mp,r.maxhp=i.hp,r.skill1num=i.skill1num,r.skill1coin=i.skill1coin,r.skill1cd=i.skill1cd,r.skill2num=i.skill2num,r.skill2coin=i.skill2coin,r.skill2cd=i.skill2cd,r.skill3num=i.skill3num,r.skill3coin=i.skill3coin,r.skill3cd=i.skill3cd,this.allDataList.push(r);return[2,this.allDataList];case 4:return[2,this.allDataList]}})})},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],Disciple3:[function(t,e,n){"use strict";cc._RF.push(e,"4463etal0tAhpamUqz0p6zm","Disciple3");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TeamerData"),d=i("SingleBase"),h=i("GameTools");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=d.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){return s(this,function(){return[2]})})},y.prototype.GetJson=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return s(this,function(l){switch(l.label){case 0:return this.allDataList.length<=0?(t="Jsons/Disciple/Disciple3",e=h.default.GetRes("JsonBundle",t,cc.JsonAsset),n=void 0,null!=e?[3,2]:[4,h.default.loadJson("JsonBundle",t)]):[3,4];case 1:return n=l.sent(),[3,3];case 2:n=e.json,l.label=3;case 3:for(o=n.length,a=0;a<o;a++)i=n[a],(r=new f.default).id=0,r.level=i.level,r.realm=i.info,r.hp=i.hp,r.atk=i.atk,r.interval=i.speed,r.atkSpeed=60/r.interval,r.hit=i.hit,r.dodge=i.dodge,r.crit=i.ctr,r.maxmp=i.mp,r.maxhp=i.hp,r.skill1num=i.skill1num,r.skill1coin=i.skill1coin,r.skill1cd=i.skill1cd,r.skill2num=i.skill2num,r.skill2coin=i.skill2coin,r.skill2cd=i.skill2cd,r.skill3num=i.skill3num,r.skill3coin=i.skill3coin,r.skill3cd=i.skill3cd,this.allDataList.push(r);return[2,this.allDataList];case 4:return[2,this.allDataList]}})})},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],DiscipleControl:[function(t,e,n){"use strict";cc._RF.push(e,"a2a29YcGU9GarxKdhsY3jvx","DiscipleControl");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("AiBase"),d=i("DiscipleDataManager"),h=i("StoryDataManager"),y=i("GameSys"),v=i("AiHang"),g=i("AiIdle");function m(){var t=null!==u&&u.apply(this,arguments)||this;return t.index=0,t.time=0,t.speed=1,t.hangTime=5,t.moveSpeed=60,t.color=["#ffffff","#fff9b2","#d0ff92","#81e47c","79e1ea","#82a7f3","#b17ff5","#f872ed","#fa73a9","#fc8181","#fa8e69","#ffca4b","#ebf459","#6bda9d","#41adf2","#b5bdfc","#ffaffe","#ff9daf","e38d72","#c0ff5e","#ffb830"],t}i=(a=cc._decorator).ccclass,a.property,l(m,u=f.default),(p=m).prototype.setIndex=function(t){this.index=t},m.prototype.onLoad=function(){this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.realmLabel=this.node.getChildByName("realm").getComponent(cc.Label),this.init(),this.initAi()},m.prototype.start=function(){this.ChangeState(p.STATE_HANG)},m.prototype.update=function(t){u.prototype.update.call(this,t)},m.prototype.init=function(){return c(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.Spine=this.node.getChildByName("Sp").getComponent(sp.Skeleton),t=h.default.Instance.GetStory(this.index+1),this.nameLabel.string=""+t.name,[4,d.default.Instance.GetRole(this.index)];case 1:return t=e.sent(),this.realmLabel.string=""+t.realm,t=Math.ceil(y.default.getDisciple()[this.index].level/10)-1,this.realmLabel.node.color=cc.color().fromHEX(this.color[t]),this.Spine.setAnimation(0,"move",!0),[2]}})})},m.prototype.initAi=function(){var t=new g.default(this,p.STATE_IDLE);this.AddAiState(t),t=new v.default(this,p.STATE_HANG),this.AddAiState(t)},m.STATE_IDLE=0,m.STATE_HANG=1,i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],m),r.default=i,cc._RF.pop()},{}],DiscipleDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"cde84kaiuJLP4CXawbPtll/","DiscipleDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TeamerData"),d=i("GameSys"),h=i("GameTools"),y=i("ArtifactsDataManager"),v=i("CoinOutPutDataManager"),g=i("DisciplerankUpDataManager"),m=i("EquipDataManager"),b=i("IntensifyDataManager"),C=i("PropDataManager"),S=i("RealmDataManager"),w=i("SingleBase"),k=i("StoryDataManager"),_=i("TeamSkillDataManager");function P(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=[],t}i=(a=cc._decorator).ccclass,a.property,l(P,u=w.default),(p=P).prototype.onLoad=function(){p.Instance=this},P.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l;return s(this,function(c){switch(c.label){case 0:this.allDataList=[[],[],[],[]],t=0,c.label=1;case 1:return t<4?(e="Jsons/Disciple/Disciple"+t,n=h.default.GetRes("JsonBundle",e,cc.JsonAsset),o=void 0,null!=n?[3,3]:[4,h.default.loadJson("JsonBundle",e)]):[3,6];case 2:return o=c.sent(),[3,4];case 3:o=n.json,c.label=4;case 4:for(a=o.length,i=0;i<a;i++)r=o[i],(l=new f.default).id=0,l.type=1==t||3==t?"\u8fdc\u7a0b":"\u8fd1\u6218",l.name="\u9053\u53cb",l.level=r.level,l.realm=r.info,l.hp=r.hp,l.atk=r.atk,l.interval=r.speed,l.atkSpeed=60/l.interval,l.hit=r.hit,l.dodge=r.dodge,l.crit=r.ctr,l.maxmp=r.mp,l.maxhp=r.hp,l.skill1num=r.skill1num,l.skill1coin=r.skill1coin,l.skill1cd=r.skill1cd,l.skill2num=r.skill2num,l.skill2coin=r.skill2coin,l.skill2cd=r.skill2cd,l.skill3num=r.skill3num,l.skill3coin=r.skill3coin,l.skill3cd=r.skill3cd,this.allDataList[t].push(l);c.label=5;case 5:return t++,[3,1];case 6:return[2]}})})},P.prototype.GetJson=function(t){return this.allDataList[t]},P.prototype.GetBasicRole=function(t){return c(this,void 0,void 0,function(){var e,n,o,a,i,r,l,c;return s(this,function(s){switch(s.label){case 0:return[4,this.GetJson(t)];case 1:for(e=s.sent(),n=d.default.getDisciple()[t],o=new f.default,a=0;a<e.length;a++){if(e[a].level==n.level){o=e[a];break}if(a>=e.length-1){o=e[a];break}}return i={id:o.id,level:o.level,realm:o.realm,hp:o.hp,atk:o.atk,interval:o.interval,atkSpeed:o.atkSpeed,hit:o.hit,dodge:o.dodge,crit:o.crit,maxhp:o.maxhp,maxmp:o.maxmp,name:o.name,injured_anger:o.injured_anger,Shot_anger:o.Shot_anger,type:o.type,skillType:o.skillType,skillResult:o.skillResult,time_anger:o.time_anger},r=this.GetSkill(e,n.skill1),l=this.GetSkill(e,n.skill2),c=this.GetSkill(e,n.skill3),i.skill1coin=r.skill1coin,i.skill1cd=r.skill1cd,i.skill1num=r.skill1num,i.skill2coin=l.skill2coin,i.skill2cd=l.skill2cd,i.skill2num=l.skill2num,i.skill3coin=c.skill3coin,i.skill3cd=c.skill3cd,i.skill3num=c.skill3num,[2,i]}})})},P.prototype.GetSkill=function(t,e){e<=0&&(e=1);for(var n=0;n<t.length;n++){if(t[n].level==e)return t[n];if(n>=t.length-1)return t[n]}},P.prototype.GetNextSkill=function(t,e){return c(this,void 0,void 0,function(){var n,o;return s(this,function(a){switch(a.label){case 0:return[4,this.GetJson(t)];case 1:switch(n=a.sent(),o=d.default.getDisciple()[t],e){case 0:return[2,this.GetSkill(n,o.skill1+1)];case 1:return[2,this.GetSkill(n,o.skill2+1)];case 2:return[2,this.GetSkill(n,o.skill3+1)]}return[2]}})})},P.prototype.GetRole=function(t){return c(this,void 0,void 0,function(){var e,n,o;return s(this,function(a){switch(a.label){case 0:return[4,this.GetBasicRole(t)];case 1:return o=a.sent(),e={id:o.id,level:o.level,realm:o.realm,hp:o.hp,atk:o.atk,interval:o.interval,atkSpeed:o.atkSpeed,hit:o.hit,dodge:o.dodge,crit:o.crit,maxhp:o.maxhp,maxmp:o.maxmp,name:o.name,injured_anger:o.injured_anger,Shot_anger:o.Shot_anger,type:o.type,skillType:o.skillType,skillResult:o.skillResult,time_anger:o.time_anger,skill1cd:o.skill1cd,skill1coin:o.skill1coin,skill1num:o.skill1num,skill2cd:o.skill2cd,skill2coin:o.skill2coin,skill2num:o.skill2num,skill3cd:o.skill3cd,skill3coin:o.skill3coin,skill3num:o.skill3num},n=this.GetAddAtk(t,o),e.atk+=this.GetEquipAdd(t+1,1),e.atk*=n,n=this.GetAddHp(t,o),e.hp+=this.GetEquipAdd(t+1,0),e.hp*=n,e.maxhp=e.hp,n=this.GetAddCrit(t,o),e.crit+=this.GetEquipAdd(t+1,5),e.crit+=n,n=this.GetAddHit(t,o),e.hit+=this.GetEquipAdd(t+1,3),e.hit+=n,o=this.GetAddDodge(t,o),e.dodge+=this.GetEquipAdd(t+1,4),e.dodge+=o,90<=e.dodge&&(e.dodge=90),o=this.GetEquipAdd(t+1,2),e.interval+=o,e.atkSpeed=60/e.interval,o=this.GetAddMp(t+1),e.injured_anger*=o,e.Shot_anger*=o,3==t&&this.IsUnlockSkill(t,3)&&(e.skill1cd=e.skill1cd*(100-e.skill3num)/100,e.skill2cd=e.skill2cd*(100-e.skill3num)/100),[2,e]}})})},P.prototype.GetFightNum=function(t){return c(this,void 0,void 0,function(){var e,n,o,a,i,r,l;return s(this,function(c){switch(c.label){case 0:return[4,this.GetBasicRole(t)];case 1:for(o=c.sent(),n=null!=S.default.Instance.GetAddHp()?S.default.Instance.GetAddHp():1,e=o.hp*n*1,n=null!=S.default.Instance.GetAddAtk()?S.default.Instance.GetAddAtk():1,n=o.atk*n*(60/o.interval)*6,o=0,o+=this.IsUnlockSkill(t,1)?d.default.getDisciple()[t].skill1*_.default.Instance.GetSkill(6+3*t).power:0,o+=this.IsUnlockSkill(t,2)?d.default.getDisciple()[t].skill2*_.default.Instance.GetSkill(7+3*t).power:0,o+=this.IsUnlockSkill(t,3)?d.default.getDisciple()[t].skill3*_.default.Instance.GetSkill(8+3*t).power:0,r=i=a=0;r<4;r++)(l=C.default.Instance.GetOnEquip(t+1,r))&&(l=m.default.Instance.GetEquip(l.goodsid),a+=l.fight,i+=l.powerPer);return[2,(e+n+o+a)*(1+i)*5.5]}})})},P.prototype.IsUnlockSkill=function(t,e){var n=d.default.getDisciple()[t];switch(e){case 1:return!0;case 2:return 0<n.skill2;case 3:return 0<n.skill3}},P.prototype.IsCanUnlockSkill=function(t,e){var n=_.default.Instance.GetSkill(5+3*t+e),o=d.default.getDisciple()[t];switch(e){case 1:return!0;case 2:case 3:return o.level>=n.unlocklevel}},P.prototype.GetAddAtk=function(t){return(1+y.default.Instance.GetAddAtk())*(1+(null!=b.default.Instance.GetAddAtk()?b.default.Instance.GetAddAtk():0))*(null!=S.default.Instance.GetAddAtk()?S.default.Instance.GetAddAtk():1)*g.default.Instance.getDiscipleRank(t+1).atkAdd},P.prototype.GetAddHp=function(t){return(1+y.default.Instance.GetAddHp())*(1+(null!=b.default.Instance.GetAddHp()?b.default.Instance.GetAddAtk():0))*(null!=S.default.Instance.GetAddHp()?S.default.Instance.GetAddHp():1)*g.default.Instance.getDiscipleRank(t+1).hpAdd},P.prototype.GetAddCrit=function(t,e){var n=y.default.Instance.GetAddCrit(),o=null!=S.default.Instance.GetAddCrit()?S.default.Instance.GetAddCrit():0,a=g.default.Instance.getDiscipleRank(t+1).criAdd;return o=n+o,1===t&&(o+=this.IsUnlockSkill(t,3)?e.skill3num:0),o*a},P.prototype.GetAddHit=function(t){return(y.default.Instance.GetAddHit()+(null!=S.default.Instance.GetAddHit()?S.default.Instance.GetAddHit():0))*g.default.Instance.getDiscipleRank(t+1).hitAdd},P.prototype.GetAddDodge=function(t,e){var n=y.default.Instance.GetAddDodge(),o=null!=S.default.Instance.GetAddDodge()?S.default.Instance.GetAddDodge():0,a=g.default.Instance.getDiscipleRank(t+1).avoidAdd;return o=n+o,0===t&&(o+=this.IsUnlockSkill(t,3)?e.skill3num:0),o*a},P.prototype.GetIsUnlock=function(t){return d.default.getDisciple()[t].unlock},P.prototype.IsCanUnlock=function(t){return d.default.getMaxCustoms()>=k.default.Instance.GetStory(t).unlock},P.prototype.GetUnlockCoin=function(){return c(this,void 0,void 0,function(){return s(this,function(){return[2,v.default.Instance.GetNeedCoin(1)]})})},P.prototype.GetUpCoin=function(t){return t=d.default.getDisciple()[t],v.default.Instance.GetNeedCoin(t.level)},P.prototype.GetUpSkillCoin=function(t,e){return c(this,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return[4,this.GetRole(t)];case 1:switch(n=o.sent(),e){case 1:return[2,n.skill1coin];case 2:return[2,n.skill2coin];case 3:return[2,n.skill3coin]}return[2]}})})},P.prototype.GetUpFight=function(t){for(var e=d.default.getDisciple(),n=[],o=0;o<e.length;o++)e[o].state&&n.push(o);if(n.length<4)for(var a=4-n.length,i=0;i<a;i++)n.push(-1);return n[t]},P.prototype.GetUpNum=function(){for(var t=d.default.getDisciple(),e=[],n=0;n<t.length;n++)t[n].state&&e.push(n);return e.length},P.prototype.GetUnlockNum=function(){for(var t=d.default.getDisciple(),e=0,n=0;n<t.length;n++)t[n].unlock&&e++;return e},P.prototype.GetLevelNum=function(t){for(var e=d.default.getDisciple(),n=0,o=0;o<e.length;o++)e[o].unlock&&e[o].level>=t&&n++;return n},P.prototype.GetSkillMax=function(){for(var t=d.default.getDisciple(),e=0,n=0;n<t.length;n++)e+=this.IsUnlockSkill(n,1)?t[n].skill1:0,e+=this.IsUnlockSkill(n,1)?t[n].skill2:0,e+=this.IsUnlockSkill(n,1)?t[n].skill3:0;return e},P.prototype.GetAllUnlockDisciples=function(){for(var t=d.default.getDisciple(),e=[],n=0;n<t.length;n++)t[n].unlock&&e.push(n);return e},P.prototype.isHaveCanUp=function(){for(var t=d.default.getCoin(),e=!1,n=0;n<4;n++)this.GetIsUnlock(n)&&t>=this.GetUpCoin(n)&&d.default.getDisciple()[n].level<200&&(e=!0);return e},P.prototype.GetSkillLevel=function(t,e){var n=d.default.getDisciple(),o=0;switch(e){case 0:o=n[t].skill1;break;case 1:o=n[t].skill2;break;case 2:o=n[t].skill3}return o},P.prototype.GetSkillNeed=function(t,e){return c(this,void 0,void 0,function(){var n,o,a,i,r,l;return s(this,function(c){switch(c.label){case 0:return n=d.default.getDisciple(),[4,this.GetJson(t)];case 1:switch(o=c.sent(),e){case a=0:a=n[t].skill1;break;case 1:a=n[t].skill2;break;case 2:a=n[t].skill3}for(a<=0&&(a=1),i=null,r=0;r<o.length;r++)if(o[r].level==a){i=o[r];break}switch(e){case l=0:l=i.skill1coin;break;case 1:l=i.skill2coin;break;case 2:l=i.skill3coin}return[2,l]}})})},P.prototype.GetAddMp=function(t){for(var e=0,n=0;n<4;n++){var o=m.default.Instance.GetEquipAdd(t,n);o&&(e+=o.mp)}return 1+e/100},P.prototype.GetEquipAdd=function(t,e){for(var n=0,o=0;o<4;o++){var a=m.default.Instance.GetEquipAdd(t,o);if(a)switch(e){case 0:n+=a.hp;break;case 1:n+=a.atk;break;case 2:n+=a.speed;break;case 3:n+=a.hit;break;case 4:n+=a.dodge;break;case 5:n+=a.crit}}return n},P.prototype.GetMaxLv=function(){for(var t=d.default.getLevel(),e=d.default.getDisciple(),n=t,o=0;o<e.length;o++)e[o].level>n&&(n=e[o].level);return n},P.prototype.sendEventLevel=function(t){d.default.getDisciple()[t]},P.prototype.sendEventSkillLevel=function(){},P.prototype.sendEventUpLevel=function(){},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],P),r.default=i,cc._RF.pop()},{}],DisciplePanel:[function(t,e,n){"use strict";cc._RF.push(e,"89284+TFbRJPboopdPJITQR","DisciplePanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("OnHook"),p=a("SoundManager"),f=a("GameSys"),d=a("discipleItem"),h=a("UIBase"),y=a("UIManager");function v(){var t=null!==s&&s.apply(this,arguments)||this;return t.Content=null,t.Select=null,t.DiscipleArray=null,t.Teacher=null,t.lvCount=1,t.teacherid=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(v,s=h.default),v.prototype.onLoad=function(){this.Content=this.node.getChildByName("Content"),this.Select=this.Content.getChildByName("select"),this.DiscipleArray=this.Content.getChildByName("Content").getChildByName("view").getChildByName("content"),this.initDisciple()},v.prototype.onEnable=function(){var t=this;s.prototype.onEnable.call(this),this.initDisciple(),this.openAnimHandler=function(){2==u.default.instance.teacherid?t.ShowTeacher(0):t.HideTeacher(),34==u.default.instance.teacherid&&t.ShowTeacher(2),35==u.default.instance.teacherid&&t.ShowTeacher(3),36==u.default.instance.teacherid&&t.ShowTeacher(4)}},v.prototype.initDisciple=function(){for(var t=0;t<this.DiscipleArray.childrenCount;t++)this.DiscipleArray.children[t].getComponent(d.default).init(t,this)},v.prototype.ClickSelect=function(t,e){p.default.instance.play(p.Sound.Click);for(var n=parseInt(e),o=0;o<this.Select.childrenCount;o++)this.Select.children[o].getChildByName("cancel").active=n==o;this.lvCount=[1,5,99][n]},v.prototype.CreateDisciple=function(){var t=f.default.disciple.get();return t.setParent(this.DiscipleArray),t},v.prototype.start=function(){},v.prototype.ClickOff=function(){p.default.instance.play(p.Sound.Click),this.CloseThis()},v.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),y.default.Instance.ShowInter()},v.prototype.ShowTeacher=function(t){switch(this.Teacher.active=!0,t){case 0:this.DiscipleArray.y=420,this.Teacher.setPosition(cc.v2(189,280));break;case 1:this.DiscipleArray.y=420,this.Teacher.setPosition(cc.v2(0,280));break;case 2:this.DiscipleArray.y=420,this.Teacher.setPosition(cc.v2(189,28));break;case 3:this.DiscipleArray.y=420,this.Teacher.setPosition(cc.v2(189,-224));break;case 4:this.DiscipleArray.y=680,this.Teacher.setPosition(cc.v2(189,-224))}},v.prototype.HideTeacher=function(){this.Teacher.active=!1},c([i(cc.Node)],v.prototype,"Teacher",void 0),a=c([a],v),r.default=a,cc._RF.pop()},{}],DiscipleUpPanel:[function(t,e,n){"use strict";cc._RF.push(e,"d383eY4FFdEBYQKibc3prC1","DiscipleUpPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("DiscipleDataManager"),d=a("SoundManager"),h=a("StoryDataManager"),y=a("UpTalkManager"),v=a("GameSys"),g=a("GameTools"),m=a("UIBase");function b(){var t=null!==p&&p.apply(this,arguments)||this;return t.Name=null,t.Rank=null,t.RankIcon=null,t.Paint=null,t.OldRole=null,t.NowRole=null,t.QiPaoLabel=null,t.QiPao=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,p=m.default),b.prototype.onLoad=function(){},b.prototype.onEnable=function(){p.prototype.onEnable.call(this)},b.prototype.init=function(t){return s(this,void 0,void 0,function(){var e,n,o,a,i,r,l,c,s,p,d=this;return u(this,function(u){switch(u.label){case 0:return e=h.default.Instance.GetStory(t+1),n="Head/"+e.paint,s=g.default.GetRes("SpriteBundle2",n,cc.SpriteFrame),o=null,s?(o=s,[3,3]):[3,1];case 1:return[4,g.default.loadImage("SpriteBundle2",n)];case 2:o=u.sent(),u.label=3;case 3:return this.Paint.spriteFrame=o,this.Name.string=""+e.name,this.Rank.string="+"+v.default.getDiscipleRank()[t],[4,f.default.Instance.GetBasicRole(t)];case 4:return a=u.sent(),[4,f.default.Instance.GetRole(t)];case 5:for(p=u.sent(),this.OldRole.string="\u8840:"+g.default.refSetCoin(a.maxhp)+"\n\u653b:"+g.default.refSetCoin(a.atk)+"\n\u653b\u901f:"+g.default.refSetCoin(a.atkSpeed),this.NowRole.string="\u8840:"+g.default.refSetCoin(p.maxhp)+"\n\u653b:"+g.default.refSetCoin(p.atk)+"\n\u653b\u901f:"+g.default.refSetCoin(p.atkSpeed),this.QiPaoLabel.string=""+y.default.Instance.GetTalk(t),this.QiPao.stopAllActions(),this.QiPao.active=!0,cc.tween(this.QiPao).delay(2).call(function(){d.QiPao.active=!1}).start(),i=[2,4,6,8,10],r=v.default.getDiscipleRank()[t],c=l=0;c<i.length;c++)if(r<=i[c]){l=c;break}return s="PropIcon/rank"+l,(p=g.default.GetRes("Bundle",s,cc.SpriteFrame))?[3,7]:[4,g.default.loadImage("Bundle",s)];case 6:p=u.sent(),u.label=7;case 7:return this.RankIcon.spriteFrame=p,[2]}})})},b.prototype.clickOff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis()},c([i(cc.Label)],b.prototype,"Name",void 0),c([i(cc.Label)],b.prototype,"Rank",void 0),c([i(cc.Sprite)],b.prototype,"RankIcon",void 0),c([i(cc.Sprite)],b.prototype,"Paint",void 0),c([i(cc.Label)],b.prototype,"OldRole",void 0),c([i(cc.Label)],b.prototype,"NowRole",void 0),c([i(cc.Label)],b.prototype,"QiPaoLabel",void 0),c([i(cc.Node)],b.prototype,"QiPao",void 0),a=c([a],b),r.default=a,cc._RF.pop()},{}],DisciplerankUpDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"1585bnwvzBCsLLHSApJEJCY","DisciplerankUpDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("DisciplerankUpData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/DisciplerankUp",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/DisciplerankUp")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.criAdd=a.criAdd,i.character=a.character,i.atkAdd=a.atkAdd,i.hpAdd=a.hpAdd,i.rank=a.rank,i.hitAdd=a.hitAdd,i.avoidAdd=a.avoidAdd,i.atkSpeedAdd=a.atkSpeedAdd,i.needChips=a.needChips,this.allDataList.push(i);return[2]}})})},v.prototype.getDiscipleRank=function(t){for(var e=d.default.getDiscipleRank()[t-1],n=0;n<this.allDataList.length;n++)if(this.allDataList[n].rank==e&&this.allDataList[n].character==t)return this.allDataList[n];return null},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],DisciplerankUpData:[function(t,e,n){"use strict";cc._RF.push(e,"eeaa1Qf7jZOGJRPMnS8QWvk","DisciplerankUpData");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){},cc._RF.pop()},{}],DoublePanel:[function(t,e,n){"use strict";cc._RF.push(e,"11c1cyrfW9CMp4KTsljlwRt","DoublePanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("SoundManager"),y=a("GameTools"),v=a("PanelConst"),g=(a("TipGroup"),a("UIBase")),m=a("UIManager");function b(){var t=null!==p&&p.apply(this,arguments)||this;return t.Frame=null,t.Name=null,t.Num=null,t.Icon=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,p=g.default),b.prototype.onEnable=function(){p.prototype.onEnable.call(this)},b.prototype.init=function(t,e){return s(this,void 0,void 0,function(){var n,o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:return this.Callback=e,n=t.prop,o=t.have,a="",i=4==n.type?(a="Award/coin","SpriteBundle1"):5==n.type?(a="Award/jewel","SpriteBundle1"):(a="PropIcon/"+n.icon,"Bundle"),(r=y.default.GetRes(i,a,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage(i,a)];case 1:r=c.sent(),c.label=2;case 2:return this.Icon.spriteFrame=r,this.Name.string=""+n.name,l=0,4!=n.type?[3,4]:[4,d.default.Instance.GetOutPut()];case 3:return l=c.sent()*o,[3,7];case 4:return 5!=n.type?[3,6]:[4,f.default.Instance.GetOutPut()];case 5:return l=c.sent()*o,[3,7];case 6:l=o,c.label=7;case 7:return this.Num.string="\xd7"+y.default.refSetCoin(l),[2]}})})},b.prototype.start=function(){},b.prototype.ClickNo=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},b.prototype.ClickYes=function(){h.default.instance.play(h.Sound.Click),this.Callback(),this.CloseThis()},b.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),y.default.getSdk().isShowAddColorSign(function(){m.default.Instance.ShowUI(v.default.addColorSign)})},c([i(cc.Sprite)],b.prototype,"Frame",void 0),c([i(cc.Label)],b.prototype,"Name",void 0),c([i(cc.Label)],b.prototype,"Num",void 0),c([i(cc.Sprite)],b.prototype,"Icon",void 0),a=c([a],b),r.default=a,cc._RF.pop()},{}],DrugDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"8457aJRggVB/KaUWrLizQbu","DrugDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("DrugData"),d=i("GameSys"),h=i("GameTools"),y=i("PropDataManager"),v=i("SingleBase");function g(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(g,u=v.default),(p=g).prototype.onLoad=function(){p.Instance=this},g.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/DrugData",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/DrugData")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.name=a.name,i.info=a.info,i.num=a.num,i.needtime=a.needtime,i.unlock=a.unlock,i.level=a.level,this.allDataList.push(i);return[2]}})})},g.prototype.GetDrug=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},g.prototype.isUnlock=function(t){return 999999==(t=this.GetDrug(t+1)).level||d.default.getMaxCustoms()>=t.level},g.prototype.needUseDrug=function(t){for(var e,n=y.default.Instance.GetPackPropType(0),o=0;o<n.length;o++)for(var a=o;a<n.length;a++)n[a].prop.goodsid<n[o].prop.goodsid&&(e=n[o],n[o]=n[a],n[a]=e);var i=0,r=[0,0,0,0,0,0];for(o=0;o<n.length;o++)for(var l=this.GetDrug(n[o].prop.goodsid),c=n[o].have,s=0;s<c&&(i+=l.num,r[n[o].prop.goodsid-1]+=1,!(t<=i));s++);return t<=i?{isUp:!0,drug:r}:{isUp:!1,drug:r}},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],g),r.default=i,cc._RF.pop()},{}],DrugData:[function(t,e,n){"use strict";cc._RF.push(e,"e0103WNzLdPKak1ZDCPF4pM","DrugData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],Eddy:[function(t,e,n){"use strict";cc._RF.push(e,"1bd24G3UDRJCqM50KI6LSc/","Eddy");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.open=!1,t.Count=0,t.time=0,t.interval=1,t.callbak=null,t.master=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e){this.open=!0,this.Count=0,this.time=0,this.callbak=e,this.master=t},p.prototype.update=function(t){s.default.instance.state==s.FightState.ready&&(this.Count=0,this.time=0,this.open=!1,u.default.Eddy.restor(this.node)),this.open&&(this.time+=t,this.time>=this.interval/u.default.speed&&(this.callbak(),this.Count++,this.time=0,10<=this.Count&&(this.Count=0,this.time=0,this.open=!1,u.default.Eddy.restor(this.node))))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],EggPanel:[function(t,e,n){"use strict";cc._RF.push(e,"a2165en8GZP4JjGedo3WA16","EggPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("PropDataManager"),y=a("SoundManager"),v=a("GameSys"),g=a("GameTools"),m=a("rewardItem"),b=a("TipGroup"),C=a("UIBase"),S=a("UIManager");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.layout=null,t.coin=0,t.PropArray=null,t.Callback=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=C.default),w.prototype.onEnable=function(){p.prototype.onEnable.call(this)},w.prototype.initAsset=function(t,e){if(this.Callback=null,this.layout.childrenCount<=0)for(var n=0;n<t.length;n++)this.CreatorProp().getComponent(m.default).init(t[n],!1,!1);else if(this.layout.childrenCount<t.length)for(n=0;n<t.length;n++)(n<this.layout.childrenCount?this.layout.children[n]:this.CreatorProp()).getComponent(m.default).init(t[n],!1,!1);else for(n=0;n<this.layout.childrenCount;n++)n<t.length?this.layout.children[n].getComponent(m.default).init(t[n],!1,!1):this.layout.children[n].destroy();this.PropArray=t,this.Callback=e},w.prototype.CreatorProp=function(){var t=v.default.rewardItem.get();return t.setParent(this.layout),t.y=0,t},w.prototype.GetAward=function(t){return s(this,void 0,void 0,function(){var e,n,o;return u(this,function(a){switch(a.label){case 0:e=[],n=function(n){var o,a;return u(this,function(i){switch(i.label){case 0:return 4!=t[n].prop.type?[3,2]:[4,d.default.Instance.GetOutPut()];case 1:return o=i.sent()*t[n].have,S.default.Instance.GetCoin(o),setTimeout(function(){b.default.instance.setText(-1,"\u606d\u559c\u83b7\u5f97"+t[n].prop.name+"\xd7"+g.default.refSetCoin(o))},1e3*n),[3,3];case 2:5==t[n].prop.type?(a=f.default.Instance.GetOutPut()*t[n].have,S.default.Instance.GetJewel(a),setTimeout(function(){b.default.instance.setText(-1,"\u606d\u559c\u83b7\u5f97"+t[n].prop.name+"\xd7"+g.default.refSetCoin(a))},1e3*n)):(e.push(t[n]),setTimeout(function(){b.default.instance.setText(-1,"\u606d\u559c\u83b7\u5f97"+t[n].prop.name+"\xd7"+g.default.refSetCoin(t[n].have))},1e3*n)),i.label=3;case 3:return[2]}})},o=0,a.label=1;case 1:return o<t.length?[5,n(o)]:[3,4];case 2:a.sent(),a.label=3;case 3:return o++,[3,1];case 4:return 0<e.length&&h.default.Instance.addPack(e),[2]}})})},w.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){return u(this,function(){return y.default.instance.play(y.Sound.Click),this.GetAward(this.PropArray),this.Callback&&this.Callback(),this.CloseThis(),[2]})})},w.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},w.prototype.start=function(){},c([i(cc.Node)],w.prototype,"layout",void 0),a=c([a],w),r.default=a,cc._RF.pop()},{}],EquipDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"39c4c70fbpO85MyY/pntbhQ","EquipDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("EquipData"),d=i("GameTools"),h=i("DiscipleDataManager"),y=i("PropDataManager"),v=i("SingleBase");function g(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t.newequip=[],t}i=(a=cc._decorator).ccclass,a.property,l(g,u=v.default),(p=g).prototype.onLoad=function(){p.Instance=this},g.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/Equip",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/Equip")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.name=a.name,i.type=a.type,i.level=a.level,i.hp=a.hp,i.atk=a.atk,i.speed=a.speed,i.hit=a.hit,i.dodge=a.dodge,i.crit=a.crit,i.mp=a.mp,i.fight=a.fight,i.adapt=a.adapt,this.allDataList.push(i);return[2]}})})},g.prototype.GetEquip=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].id==t&&(e=this.allDataList[n]);return e},g.prototype.GetEquipAdd=function(t,e){return(e=y.default.Instance.GetOnEquip(t,e))?p.Instance.GetEquip(e.goodsid):null},g.prototype.isHaveCanOn=function(t,e){var n=y.default.Instance.GetOnEquip(t,e);return!(!(t=y.default.Instance.GetOptimalEquip(e,1==t||3==t||0==t?0:1))||n&&(n=this.GetEquip(n.goodsid),t=this.GetEquip(t.goodsid),n.fight>=t.fight))},g.prototype.AddNewEquip=function(t){1==t.prop.type&&this.newequip.push(t)},g.prototype.GetNewEquip=function(){var t=this.newequip[0];if(!t)return{isCan:!1,userid:0,propdata:t};for(var e=p.Instance.GetEquip(t.prop.goodsid),n=0;n<5;n++){var o=y.default.Instance.GetOnEquip(n,e.type);if(0==n||h.default.Instance.GetIsUnlock(n-1)){var a=1==n||3==n||0==n?0:1;if(o){if(o=p.Instance.GetEquip(o.goodsid)){if(o.adapt==e.adapt&&e.fight>o.fight)return{isCan:!0,userid:n,propdata:t}}else if(e.adapt==a)return{isCan:!0,userid:n,propdata:t}}else if(e.adapt==a)return{isCan:!0,userid:n,propdata:t}}}return{isCan:!1,userid:0,propdata:t}},g.prototype.SubNewEquip=function(t){this.newequip.splice(0,1),this.newequip.length<=0?t(!1):t(!0)},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],g),r.default=i,cc._RF.pop()},{}],EquipData:[function(t,e,n){"use strict";cc._RF.push(e,"7bcce5pcwxFVqesCLxjm55E","EquipData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.adapt=0,this.powerPer=0}),a.default=o,cc._RF.pop()},{}],EquipMessage:[function(t,e,n){"use strict";cc._RF.push(e,"ca82aW/EoVL/r5R04bQsVG9","EquipMessage");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("EquipDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameTools"),v=a("PackPanel"),g=a("TipGroup"),m=a("UIBase");function b(){var t=null!==p&&p.apply(this,arguments)||this;return t.buyBtn=null,t.spectrunBtn=null,t.layout=null,t.role=null,t.propFrame=null,t.propIcon=null,t.propType=null,t.propName=null,t.propHave=null,t.propInfo=null,t.onBtn=null,t.unfixBtn=null,t.deleteBtn=null,t.isOn=null,t.prop=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,p=m.default),b.prototype.onLoad=function(){},b.prototype.start=function(){},b.prototype.onEnable=function(){p.prototype.onEnable.call(this)},b.prototype.initUnfix=function(t,e){return s(this,void 0,void 0,function(){var n,o,a,i;return u(this,function(r){switch(r.label){case 0:return this.buyBtn.active=!1,this.spectrunBtn.active=!1,this.layout.active=!0,this.prop=t,this.unfixCallback=e,this.onBtn.active=!t.isOn,this.unfixBtn.active=t.isOn,this.propName.string=t.name,a="PropIcon/"+t.icon,(n=y.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("Bundle",a)];case 1:n=r.sent(),r.label=2;case 2:return this.propIcon.spriteFrame=n,i="PropFrame/"+t.frame,(o=y.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,4]:[4,y.default.loadImage("Bundle",i)];case 3:o=r.sent(),r.label=4;case 4:return this.propFrame.spriteFrame=o,a=f.default.Instance.GetEquip(t.goodsid),this.propType.string=0==a.adapt?"\u8fd1\u6218\u4e13\u7528":"\u8fdc\u7a0b\u4e13\u7528",i=d.default.Instance.GetPropNum(t.id),this.propInfo.string=""+t.info,this.propHave.string=""+i.have,t.isOn?this.deleteBtn.active=!1:this.deleteBtn.active=!0,this.isOn.active=!1,this.role.string="",this.role.string=0<a.atk?"\n\u653b\u51fb:"+y.default.refSetCoin(a.atk):"",this.role.string+=0<a.crit?"\n\u66b4\u51fb:"+y.default.refSetCoin(a.crit):"",this.role.string+=0<a.dodge?"\n\u95ea\u907f:"+y.default.refSetCoin(a.dodge):"",this.role.string+=0<a.hit?"\n\u547d\u4e2d:"+y.default.refSetCoin(a.hit):"",this.role.string+=0<a.hp?"\n\u8840\u91cf:"+y.default.refSetCoin(a.hp):"",this.role.string+=0<a.speed?"\n\u653b\u901f:"+y.default.refSetCoin(a.speed):"",[2]}})})},b.prototype.init=function(t){return s(this,void 0,void 0,function(){var e,n,o,a;return u(this,function(i){switch(i.label){case 0:return this.buyBtn.active=!1,this.spectrunBtn.active=!1,this.layout.active=!0,this.onBtn.active=!1,this.unfixBtn.active=!1,this.propName.string=t.name,o="PropIcon/"+t.icon,(e=y.default.GetRes("Bundle",o,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("Bundle",o)];case 1:e=i.sent(),i.label=2;case 2:return this.propIcon.spriteFrame=e,a="PropFrame/"+t.frame,(n=y.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,4]:[4,y.default.loadImage("Bundle",a)];case 3:n=i.sent(),i.label=4;case 4:return this.propFrame.spriteFrame=n,o=f.default.Instance.GetEquip(t.goodsid),this.propType.string=0==o.adapt?"\u8fd1\u6218\u4e13\u7528":"\u8fdc\u7a0b\u4e13\u7528",a=d.default.Instance.GetPropNum(t.id),this.propInfo.string=""+t.info,this.propHave.string=""+a.have,(this.prop=t).isOn?(this.deleteBtn.active=!1,this.isOn.active=!0):(this.deleteBtn.active=!0,this.isOn.active=!1),this.role.string="",this.role.string+=0<o.atk?"\n\u653b\u51fb:"+y.default.refSetCoin(o.atk):"",this.role.string+=0<o.crit?"\n\u66b4\u51fb:"+y.default.refSetCoin(o.crit):"",this.role.string+=0<o.dodge?"\n\u95ea\u907f:"+y.default.refSetCoin(o.dodge):"",this.role.string+=0<o.hit?"\n\u547d\u4e2d:"+y.default.refSetCoin(o.hit):"",this.role.string+=0<o.hp?"\n\u8840\u91cf:"+y.default.refSetCoin(o.hp):"",this.role.string+=0<o.speed?"\n\u653b\u901f:"+y.default.refSetCoin(o.speed):"",[2]}})})},b.prototype.initItem=function(t,e,n){return s(this,void 0,void 0,function(){var o,a,i,r;return u(this,function(l){switch(l.label){case 0:return this.callback=n,this.layout.active=!1,this.onBtn.active=!1,this.unfixBtn.active=!1,this.deleteBtn.active=!1,this.isOn.active=!1,this.buyBtn.active=1==t,this.spectrunBtn.active=0==t,this.propName.string=e.name,i="PropIcon/"+e.icon,(o=y.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("Bundle",i)];case 1:o=l.sent(),l.label=2;case 2:return this.propIcon.spriteFrame=o,r="PropFrame/"+e.frame,(a=y.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,4]:[4,y.default.loadImage("Bundle",r)];case 3:a=l.sent(),l.label=4;case 4:return this.propFrame.spriteFrame=a,i=f.default.Instance.GetEquip(e.goodsid),this.propType.string=0==i.adapt?"\u8fd1\u6218\u4e13\u7528":"\u8fdc\u7a0b\u4e13\u7528",r=d.default.Instance.GetPropNum(e.id),this.propInfo.string=""+e.info,this.propHave.string=""+r.have,this.prop=e,this.role.string="",this.role.string+=0<i.atk?"\n\u653b\u51fb:"+y.default.refSetCoin(i.atk):"",this.role.string+=0<i.crit?"\n\u66b4\u51fb:"+y.default.refSetCoin(i.crit):"",this.role.string+=0<i.dodge?"\n\u95ea\u907f:"+y.default.refSetCoin(i.dodge):"",this.role.string+=0<i.hit?"\n\u547d\u4e2d:"+y.default.refSetCoin(i.hit):"",this.role.string+=0<i.hp?"\n\u8840\u91cf:"+y.default.refSetCoin(i.hp):"",this.role.string+=0<i.speed?"\n\u653b\u901f:"+y.default.refSetCoin(i.speed):"",[2]}})})},b.prototype.ClickUnfix=function(){h.default.instance.play(h.Sound.Click),this.unfixCallback(),this.CloseThis()},b.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},b.prototype.clickBuy=function(){h.default.instance.play(h.Sound.Click),this.CloseThis(),this.callback()},b.prototype.clickSpectrun=function(){h.default.instance.play(h.Sound.Click),this.CloseThis(),this.callback()},b.prototype.Clickdelete=function(){h.default.instance.play(h.Sound.Click),this.prop.isOn?g.default.instance.setText(-1,"\u88c5\u5907\u6b63\u5728\u7a7f\u6234\u4e2d,\u8bf7\u5148\u5378\u4e0b"):(d.default.Instance.subPackProp(this.prop.id,1),g.default.instance.setText(-1,"\u9053\u5177\u5df2\u9500\u6bc1"),this.CloseThis(),v.default.instance.initPack())},b.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Node)],b.prototype,"buyBtn",void 0),c([i(cc.Node)],b.prototype,"spectrunBtn",void 0),c([i(cc.Node)],b.prototype,"layout",void 0),c([i(cc.Label)],b.prototype,"role",void 0),c([i(cc.Sprite)],b.prototype,"propFrame",void 0),c([i(cc.Sprite)],b.prototype,"propIcon",void 0),c([i(cc.Label)],b.prototype,"propType",void 0),c([i(cc.Label)],b.prototype,"propName",void 0),c([i(cc.Label)],b.prototype,"propHave",void 0),c([i(cc.Label)],b.prototype,"propInfo",void 0),c([i(cc.Node)],b.prototype,"onBtn",void 0),c([i(cc.Node)],b.prototype,"unfixBtn",void 0),c([i(cc.Node)],b.prototype,"deleteBtn",void 0),c([i(cc.Node)],b.prototype,"isOn",void 0),a=c([a],b),r.default=a,cc._RF.pop()},{}],EquipPanel:[function(t,e,n){"use strict";cc._RF.push(e,"482d5EfZH9NZK8kFXafT3Ct","EquipPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("OnHook"),p=a("PropDataManager"),f=a("SoundManager"),d=a("SystemDataManager"),h=a("WeaponDataManager"),y=a("EventConst"),v=a("TipGroup"),g=a("UIBase"),m=a("UIManager");function b(){var t=null!==s&&s.apply(this,arguments)||this;return t.Teacher=null,t.sp=[],t.btnContent=null,t.intensify=null,t.spectrum=null,t.smelter=null,t.intensifyContent=null,t.intensifyRed=null,t.spectrumContent=null,t.spectrumRed=null,t.smelterContent=null,t.smelterRed=null,t.tag=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,s=g.default),b.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.btnContent=t.getChildByName("btnContent"),this.intensify=this.btnContent.getChildByName("intensify").getComponent(cc.Sprite),this.intensifyRed=this.btnContent.getChildByName("intensify").getChildByName("red"),this.spectrum=this.btnContent.getChildByName("spectrum").getComponent(cc.Sprite),this.spectrumRed=this.btnContent.getChildByName("spectrum").getChildByName("red"),this.intensifyContent=t.getChildByName("intensifyContent"),this.spectrumContent=t.getChildByName("spectrumContent"),cc.systemEvent.on(y.EventConst.HideEquipPanel,this.CloseThis,this)},b.prototype.onEnable=function(){switch(s.prototype.onEnable.call(this),this.tag){case 0:this.initintensify();break;case 1:this.initspectrum();break;case 2:this.initSmelter()}9==u.default.instance.teacherid?this.ShowTeacher(0):41==u.default.instance.teacherid?this.ShowTeacher(2):this.HideTeacher()},b.prototype.ShowTeacher=function(t){switch(this.Teacher.active=!0,t){case 0:this.Teacher.setPosition(cc.v2(-226,-175));break;case 1:this.Teacher.setPosition(cc.v2(0,-50));break;case 2:this.Teacher.setPosition(cc.v2(200,460))}},b.prototype.HideTeacher=function(){this.Teacher.active=!1},b.prototype.start=function(){var t=this;cc.systemEvent.on(y.EventConst.itemintensify,function(){t.ShowTeacher(1)},this),cc.systemEvent.on(y.EventConst.intensifyOver,function(){t.HideTeacher(),u.default.instance.teacherid=0},this)},b.prototype.Clickintensify=function(){f.default.instance.play(f.Sound.Click),this.tag=0,this.initintensify()},b.prototype.Clickspectrum=function(){f.default.instance.play(f.Sound.Click),d.default.Instance.isUnlcok(19)?(this.tag=1,this.initspectrum()):v.default.instance.setText(-1,d.default.Instance.CanUnlock(19))},b.prototype.ClickSmelter=function(){f.default.instance.play(f.Sound.Click),this.tag=2,this.initSmelter(),this.Teacher.active&&(u.default.instance.teacherid=0,this.HideTeacher())},b.prototype.initintensify=function(){this.intensify.spriteFrame=this.sp[0],this.spectrum.spriteFrame=this.sp[1],this.smelter.spriteFrame=this.sp[1],this.intensifyContent.active=!0,this.spectrumContent.active=!1,this.smelterContent.active=!1},b.prototype.initspectrum=function(){this.intensify.spriteFrame=this.sp[1],this.spectrum.spriteFrame=this.sp[0],this.smelter.spriteFrame=this.sp[1],this.intensifyContent.active=!1,this.spectrumContent.active=!0,this.smelterContent.active=!1},b.prototype.initSmelter=function(){this.intensify.spriteFrame=this.sp[1],this.spectrum.spriteFrame=this.sp[1],this.smelter.spriteFrame=this.sp[0],this.intensifyContent.active=!1,this.spectrumContent.active=!1,this.smelterContent.active=!0,cc.systemEvent.emit("EquipSmelter")},b.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis()},b.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),m.default.Instance.ShowInter()},b.prototype.WeaponRed=function(){for(var t=!1,e=p.default.Instance.GetPackPropType(1),n=[],o=0;o<e.length;o++)for(var a=0;a<e[o].have;a++)n.push(e[o].prop);for(a=0;a<n.length;a++){var i=[];for(o=0;o<n.length;o++)if(n[o].id==n[a].id&&i.push(o),3<=i.length){t=!0;break}}this.intensifyRed.active!=t&&(this.intensifyRed.active=t)},b.prototype.SpectrumRed=function(){var t,e=!1;!d.default.Instance.isUnlcok(19)||(t=h.default.Instance.isHaveFuse())&&(e=t),this.spectrumRed.active!=e&&(this.spectrumRed.active=e)},b.prototype.SmelterRed=function(){var t=!1;if(d.default.Instance.isUnlcok(41))for(var e=p.default.Instance.GetPack(),n=0;n<e.length;n++){var o=p.default.Instance.GetProp(e[n].prop.id).crystal;e[n].prop.isOn||1!=e[n].prop.type||999999==o||(t=!0)}this.smelterRed.active!=t&&(this.smelterRed.active=t)},b.prototype.update=function(){this.WeaponRed(),this.SpectrumRed(),this.SmelterRed()},c([i(cc.Node)],b.prototype,"Teacher",void 0),c([i(cc.SpriteFrame)],b.prototype,"sp",void 0),c([i(cc.Sprite)],b.prototype,"smelter",void 0),c([i(cc.Node)],b.prototype,"smelterContent",void 0),c([i(cc.Node)],b.prototype,"smelterRed",void 0),a=c([a],b),r.default=a,cc._RF.pop()},{}],EquipSmelter:[function(t,e,n){"use strict";cc._RF.push(e,"25e90m1ihhJ8Y8jy5SxkBcG","EquipSmelter");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropDataManager"),d=a("SoundManager"),h=a("SystemDataManager"),y=a("GameSys"),v=a("EventConst"),g=a("PanelConst"),m=a("ShopPanel"),b=a("SmelterItem"),C=a("SmelterPanel"),S=a("TipGroup"),w=a("UIManager");function k(){var t=null!==p&&p.apply(this,arguments)||this;return t.Content=null,t.Options=null,t.TickList=[],t.Tip=null,t.propArray=[],t.smelterArray=[],t.tickArray=[!0,!0,!0,!1,!1,!1,!1],t}a=(i=cc._decorator).ccclass,i=i.property,l(k,p=cc.Component),k.prototype.onLoad=function(){cc.systemEvent.on("EquipSmelter",this.init,this)},k.prototype.onEnable=function(){this.init()},k.prototype.init=function(){this.propArray=[],this.smelterArray=[],this.initPack()},k.prototype.initPack=function(){for(var t=f.default.Instance.GetPackPropType(1),e=[],n=0;n<t.length;n++)e.push({prop:t[n].prop,have:t[n].have});if(this.Content.childrenCount<e.length){var o=e.length-this.Content.childrenCount;for(n=0;n<o;n++)this.creatoSmelter()}else if(this.Content.childrenCount>=e.length)for(n=0;n<this.Content.childrenCount;n++)n<e.length?this.Content.children[n].active=!0:this.Content.children[n].active=!1;for(this.propArray=e,this.initPropArraySplit(),n=0;n<e.length;n++)this.Content.children[n].getComponent(b.default).init({prop:this.propArray[n].prop,have:this.propArray[n].have},this);cc.systemEvent.emit("initTick"),this.Tip.active=this.smelterArray.length<=0},k.prototype.initPropArraySplit=function(){for(var t,e=this,n=0;n<this.propArray.length;n++)for(var o=n;o<this.propArray.length;o++)this.propArray[o].prop.goodsid<this.propArray[n].prop.goodsid&&(t=this.propArray[n],this.propArray[n]=this.propArray[o],this.propArray[o]=t);var a=[],i=this;for(n=0;n<this.propArray.length;n++)!function(t){!(a.length<=0)&&a.find(function(n){return n==e.propArray[t].prop.id})||a.push(i.propArray[t].prop.id)}(n);for(n=0;n<a.length;n++){var r,l=0;for(o=0;o<this.propArray.length;o++)this.propArray[o].prop.id==a[n]&&l++;if(3<=l)for(o=0;o<this.propArray.length;o++)this.propArray[o].prop.id==a[n]&&(r=this.propArray[o],this.propArray.splice(o,1),this.propArray.unshift(r))}},k.prototype.subProp=function(t){for(var e=0;e<this.smelterArray.length;e++)if(this.smelterArray[e].prop.id==t.id)return void this.smelterArray.splice(e,1)},k.prototype.addProp=function(t,e){this.smelterArray.push({prop:t,have:e})},k.prototype.clickOptions=function(){d.default.instance.play(d.Sound.Click),this.Options.active=!0,this.initOptions()},k.prototype.initOptions=function(){for(var t=0;t<this.tickArray.length;t++)this.TickList[t].active=this.tickArray[t]},k.prototype.clickTick=function(t,e){d.default.instance.play(d.Sound.Click),e=parseInt(e),this.tickArray[e]=!this.tickArray[e],this.initOptions()},k.prototype.clickHideOptions=function(){d.default.instance.play(d.Sound.Click),this.Options.active=!1,cc.systemEvent.emit("initTick")},k.prototype.clickSmelter=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:for(d.default.instance.play(d.Sound.Click),e=t=0;e<this.smelterArray.length;e++)t+=f.default.Instance.getCrystal(this.smelterArray[e].prop.id)*this.smelterArray[e].have,f.default.Instance.subPackProp(this.smelterArray[e].prop.id,this.smelterArray[e].have);return 0!=t?[3,1]:(S.default.instance.setText(-1,"\u6ca1\u6709\u53ef\u7194\u70bc\u7684\u88c5\u5907"),[3,3]);case 1:return[4,w.default.Instance.ShowUI(g.default.SmelterPanel)];case 2:n.sent(),w.default.Instance.GetClass(g.default.SmelterPanel).getComponent(C.default).init(t),this.init(),n.label=3;case 3:return[2]}})})},k.prototype.clickToShop=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return d.default.instance.play(d.Sound.Click),cc.systemEvent.emit(v.EventConst.HideEquipPanel),h.default.Instance.isUnlcok(13)?[4,w.default.Instance.ShowUI(g.default.ShopPanel)]:[3,2];case 1:return t.sent(),w.default.Instance.GetClass(g.default.ShopPanel).getComponent(m.default).clickTag(cc.Event,"1"),[3,3];case 2:S.default.instance.setText(-1,"\u529f\u80fd\u672a\u89e3\u9501"),t.label=3;case 3:return[2]}})})},k.prototype.creatoSmelter=function(){y.default.Smelter.get().setParent(this.Content)},c([i(cc.Node)],k.prototype,"Content",void 0),c([i(cc.Node)],k.prototype,"Options",void 0),c([i(cc.Node)],k.prototype,"TickList",void 0),c([i(cc.Node)],k.prototype,"Tip",void 0),a=c([a],k),r.default=a,cc._RF.pop()},{}],Equipintensify:[function(t,e,n){"use strict";cc._RF.push(e,"03c1eVf8cRCCKBHzk//OPNj","Equipintensify");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("EquipDataManager"),h=a("PropDataManager"),y=a("SoundManager"),v=a("GameSys"),g=a("EventConst"),m=a("GameTools"),b=a("equipitem"),C=a("PanelConst"),S=a("RewardPanel"),w=a("SkipUp"),k=a("TipGroup"),_=a("UIManager");function P(){var t=null!==p&&p.apply(this,arguments)||this;return t.icon=null,t.namelabel=null,t.BoxContent=[],t.Content=null,t.box=[],t.propArray=[],t}a=(i=cc._decorator).ccclass,i=i.property,l(P,p=cc.Component),P.prototype.onLoad=function(){this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.namelabel=this.node.getChildByName("nameNode").getChildByName("name").getComponent(cc.Label),this.Content=this.node.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),cc.systemEvent.on("initequip",this.initPack,this)},P.prototype.onEnable=function(){this.init(),this.initPack()},P.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:t=0,c.label=1;case 1:return t<this.BoxContent.length?(e=this.BoxContent[t].getChildByName("data"),this.box[t]?(r="PropFrame/"+this.box[t].frame,(n=m.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,3]:[4,m.default.loadImage("Bundle",r)]):[3,6]):[3,8];case 2:n=c.sent(),c.label=3;case 3:return e.getChildByName("frame").getComponent(cc.Sprite).spriteFrame=n,o="PropIcon/"+this.box[t].icon,(a=m.default.GetRes("Bundle",o,cc.SpriteFrame))?[3,5]:[4,m.default.loadImage("Bundle",o)];case 4:a=c.sent(),c.label=5;case 5:return e.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=a,e.getChildByName("name").getComponent(cc.Label).string=""+this.box[t].name,e.active=!0,[3,7];case 6:e.active=!1,c.label=7;case 7:return t++,[3,1];case 8:return this.icon.node.active=3<=this.box.length,this.namelabel.node.parent.active=3<=this.box.length,3<=this.box.length?(i=h.default.Instance.GetProp(this.box[0].id+1),r="PropIcon/"+i.icon,(l=m.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,10]:[4,m.default.loadImage("Bundle",r)]):[3,11];case 9:l=c.sent(),c.label=10;case 10:this.icon.spriteFrame=l,this.namelabel.string=""+i.name,c.label=11;case 11:return[2]}})})},P.prototype.initPack=function(){for(var t=h.default.Instance.GetPackPropType(1),e=[],n=0;n<t.length;n++)t[n].prop.isOn||e.push({prop:t[n].prop,have:t[n].have});if(this.Content.childrenCount<e.length){var o=e.length-this.Content.childrenCount;for(n=0;n<o;n++)this.CreatorProp()}else if(this.Content.childrenCount>=e.length)for(n=0;n<this.Content.childrenCount;n++)n<e.length?this.Content.children[n].active=!0:this.Content.children[n].active=!1;for(this.propArray=e,this.initPropArraySplit(),n=0;n<e.length;n++)this.Content.children[n].getComponent(b.default).init({prop:this.propArray[n].prop,have:this.propArray[n].have},this)},P.prototype.initPropArraySplit=function(){for(var t,e=this,n=0;n<this.propArray.length;n++)for(var o=n;o<this.propArray.length;o++)this.propArray[o].prop.goodsid<this.propArray[n].prop.goodsid&&(t=this.propArray[n],this.propArray[n]=this.propArray[o],this.propArray[o]=t);var a=[],i=this;for(n=0;n<this.propArray.length;n++)!function(t){!(a.length<=0)&&a.find(function(n){return n==e.propArray[t].prop.id})||a.push(i.propArray[t].prop.id)}(n);for(n=0;n<a.length;n++){var r,l=0;for(o=0;o<this.propArray.length;o++)this.propArray[o].prop.id==a[n]&&l++;if(3<=l)for(o=0;o<this.propArray.length;o++)this.propArray[o].prop.id==a[n]&&(r=this.propArray[o],this.propArray.splice(o,1),this.propArray.unshift(r))}},P.prototype.ExtractProp=function(t){if(t.have<3)k.default.instance.setText(-1,"\u6ca1\u6709\u76f8\u540c\u7684\u4e09\u4e2a\u88c5\u5907");else{this.box=[];for(var e=0;e<3;e++)this.box.push(t.prop);this.init()}},P.prototype.ClickUp=function(){return s(this,void 0,void 0,function(){var t,e,n,o=this;return u(this,function(a){switch(a.label){case 0:if(y.default.instance.play(y.Sound.Click),this.box.length<3)return k.default.instance.setText(-1,"\u8bf7\u9009\u62e9\u5408\u6210\u7684\u88c5\u5907"),[2];for(v.default.setIntensiveCount(),t=0;t<3;t++)this.box[t].isOn&&h.default.Instance.Unfix(this.box[t]),h.default.Instance.subPackProp(this.box[0].id,1);return e=Math.random(),(e="\u5723\u54c1"==d.default.Instance.GetEquip(this.box[0].goodsid).level?1:e)<=.3?(n=h.default.Instance.GetProp(this.box[0].id+1),[4,_.default.Instance.ShowUI(C.default.SkipUp)]):[3,2];case 1:return a.sent(),_.default.Instance.GetClass(C.default.SkipUp).getComponent(w.default).init(n,function(t){return s(o,void 0,void 0,function(){var e,n=this;return u(this,function(o){switch(o.label){case 0:return e=null,t?(e=h.default.Instance.GetProp(this.box[0].id+2),[4,_.default.Instance.ShowUI(C.default.RewardPanel)]):[3,2];case 1:return o.sent(),_.default.Instance.GetClass(C.default.RewardPanel).getComponent(S.default).initAsset([{prop:e,have:1}]),[3,4];case 2:return e=h.default.Instance.GetProp(this.box[0].id+1),[4,_.default.Instance.ShowUI(C.default.RewardPanel)];case 3:o.sent(),_.default.Instance.GetClass(C.default.RewardPanel).getComponent(S.default).initAsset([{prop:e,have:1}]),o.label=4;case 4:return this.box=[],setTimeout(function(){n.initPack()},100),d.default.Instance.AddNewEquip({prop:e,have:1}),this.init(),[4,_.default.Instance.ShowUI(C.default.ShowNewEquip)];case 5:return o.sent(),[2]}})})}),[3,4];case 2:return n=h.default.Instance.GetProp(this.box[0].id+1),[4,_.default.Instance.ShowUI(C.default.RewardPanel)];case 3:a.sent(),_.default.Instance.GetClass(C.default.RewardPanel).getComponent(S.default).initAsset([{prop:n,have:1}]),this.box=[],setTimeout(function(){o.initPack()},100),d.default.Instance.AddNewEquip({prop:n,have:1}),_.default.Instance.ShowUI(C.default.ShowNewEquip),this.init(),a.label=4;case 4:return 9==f.default.instance.teacherid&&cc.systemEvent.emit(g.EventConst.intensifyOver),[2]}})})},P.prototype.start=function(){},P.prototype.CreatorProp=function(){v.default.equipitem.get().setParent(this.Content)},c([i(cc.Node)],P.prototype,"BoxContent",void 0),a=c([a],P),r.default=a,cc._RF.pop()},{}],Equipspectrum:[function(t,e,n){"use strict";cc._RF.push(e,"d43c3T71VVPlrvwm4xYnaq6","Equipspectrum");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("WeaponDataManager"),u=i("GameSys"),p=i("spectrunitem");function f(){var t=null!==c&&c.apply(this,arguments)||this;return t.Content=null,t}i=(a=cc._decorator).ccclass,a.property,l(f,c=cc.Component),f.prototype.onLoad=function(){this.Content=this.node.getChildByName("ScrollView").getChildByName("view").getChildByName("content")},f.prototype.onEnable=function(){if(this.Content.childrenCount<=0)for(var t=s.default.Instance.GetWeaponLen(),e=0;e<t;e++)this.CreatoSpectrum();for(e=0;e<this.Content.childrenCount;e++)this.Content.children[e].getComponent(p.default).init()},f.prototype.CreatoSpectrum=function(){u.default.spectrum.get().setParent(this.Content)},f.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],EventConst:[function(t,e,n){"use strict";cc._RF.push(e,"5247dt095VN24yorHaDl1P6","EventConst");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0}),i.EventConst=void 0;var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,(c=i.EventConst||(i.EventConst={})).EV_REFRESH_BUILD_DATA="EV_REFRESH_BUILD_DATA",c.EV_REFRESH_DISCIPLE_DATA="EV_REFRESH_DISCIPLE_DATA",c.Coin="Coin",c.Jewel="Jewel",c.EV_UNLOCK_NEW_DISCIPLE="EV_UNLOCK_NEW_DISCIPLE",c.EV_UNLOCK_NEW_BUILDER="EV_UNLOCK_NEW_BUILDER",c.GAME_BG_TOUCH_START="GAME_BG_TOUCH_START",c.GAME_BG_TOUCH_END="GAME_BG_TOUCH_END",c.GAME_BG_TOUCH_CANCEL="GAME_BG_TOUCH_CANCEL",c.GAME_BG_TOUCH_WHEEL="GAME_BG_TOUCH_WHEEL",c.GAME_BG_TOUCH_MOVE="GAME_BG_TOUCH_MOVE",c.GAME_CHESS_MOVE="GAME_CHESS_MOVE",c.GAME_CHESS_END="GAME_CHESS_END",c.Game_Fight_initSkill="Game_Fight_initSkill",c.Game_Fight_changeMp="Game_Fight_changeMp",c.Game_Fight_changeHp="Game_Fight_changeHp",c.Game_Fight_skill="Game_Fight_skill",c.Game_FIght_allTeamCure="Game_FIght_allTeamCure",c.GameStart="GameStart",c.Game_Up="Game_Up",c.Game_Guide="Game_Guide",c.Game_Build="Game_Build",c.Shop_Ref="Shop_Ref",c.Maps="Maps",c.Landmark="Landmark",c.UnlockRoam="UnlockRoam",c.initChessPos="initChessPos",c.initUpNum="initUpNum",c.initTips="initTips",c.CanUpEquip="CanUpEquip",c.CanUpSkill="CanUpSkill",c.initFight="initFight",c.playChapter="playChapter",c.playPlace="playPlace",c.Recorder="Recorder",c.ShowMask="ShowMask",c.HideMask="HideMask",c.itemintensify="itemintensify",c.intensifyOver="intensifyOver",c.RealmReward="RealmReward",c.HideSectMask="HideSectMask",c.QuickUpClose="QuickUpClose",c.Showblockinput="Showblockinput",c.Hideblockinput="Hideblockinput",c.initFriend="initFriend",c.ClearPack="ClearPack",c.Crystal="Crystal",c.HideEquipPanel="HideEquipPanel",r(s,l=cc.Component),s.prototype.start=function(){},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],EveryDayData:[function(t,e,n){"use strict";cc._RF.push(e,"85a03FnzsxHtIckq8blqU+v","EveryDayData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],EveryDayItem:[function(t,e,n){"use strict";cc._RF.push(e,"87797ZpY/dHVagvaavDayDz","EveryDayItem");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){var t=null!==l&&l.apply(this,arguments)||this;return t.info=null,t.icon=null,t.reward=null,t.prop=null,t.propnum=null,t.propname=null,t.getBtn=null,t.goBtn=null,t}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.onLoad=function(){this.info=this.node.getChildByName("info").getComponent(cc.RichText),this.icon=this.node.getChildByName("assect").getChildByName("icon").getComponent(cc.Sprite),this.reward=this.node.getChildByName("assect").getChildByName("num").getComponent(cc.Label),this.prop=this.node.getChildByName("prop").getChildByName("icon").getComponent(cc.Sprite),this.propnum=this.node.getChildByName("prop").getChildByName("num").getComponent(cc.Label),this.propname=this.node.getChildByName("prop").getChildByName("type").getComponent(cc.Label),this.getBtn=this.node.getChildByName("get"),this.goBtn=this.node.getChildByName("go")},s.prototype.init=function(){},s.prototype.start=function(){},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],EveryDayManager:[function(t,e,n){"use strict";cc._RF.push(e,"9a3df/iUP5NwLMocIA+EzGX","EveryDayManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("EveryDayData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/everyday",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/everyday")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.color=a.color,i.precondition=a.precondition,i.info=a.info,i.needtime=a.needtime,i.rewadType=a.rewadType,i.award=a.award,this.allDataList.push(i);return[2]}})})},y.prototype.GetData=function(t){return this.allDataList[t]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],EveryDayTask:[function(t,e,n){"use strict";cc._RF.push(e,"7d610dGMfxON6w5X+kdq2Dy","EveryDayTask");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("ArtifactsDataManager"),h=a("CoinOutPutDataManager"),y=a("EveryDayManager"),v=a("SoundManager"),g=a("GameSys"),m=a("GameTools"),b=a("TipGroup"),C=a("UIManager");function S(){var t=null!==p&&p.apply(this,arguments)||this;return t.sp=null,t.banner=null,t.type=null,t.info=null,t.awardSprite=null,t.awardLabel=null,t.awardType=null,t.startBtn=null,t.timeNode=null,t.time=null,t.getBtn=null,t.overBtn=null,t.index=0,t.task=null,t.curpannel=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,p=cc.Component),S.prototype.onLoad=function(){this.banner=this.node.getChildByName("banner"),this.type=this.node.getChildByName("type").getComponent(cc.Label),this.info=this.node.getChildByName("info").getComponent(cc.Label),this.awardLabel=this.node.getChildByName("award").getChildByName("num").getComponent(cc.Label),this.awardSprite=this.node.getChildByName("award").getChildByName("icon").getComponent(cc.Sprite),this.awardType=this.node.getChildByName("award").getChildByName("type").getComponent(cc.Label),this.getBtn=this.node.getChildByName("get"),this.overBtn=this.node.getChildByName("over"),this.startBtn=this.node.getChildByName("start"),this.timeNode=this.node.getChildByName("time"),this.time=this.timeNode.getChildByName("time").getComponent(cc.Label)},S.prototype.onEnable=function(){},S.prototype.init=function(t,e){return s(this,void 0,void 0,function(){var n,o,a,i;return u(this,function(r){switch(r.label){case 0:switch(this.curpannel=e,this.task=y.default.Instance.GetData(t),this.task.color){case"\u767d":this.type.string="\u666e\u901a\u4efb\u52a1",this.banner.color=cc.color().fromHEX("#FFFFFF");break;case"\u9ec4":this.type.string="\u4e2d\u7ea7\u4efb\u52a1",this.banner.color=cc.color().fromHEX("#D6DBEE");break;case"\u7ea2":this.type.string="\u9ad8\u7ea7\u4efb\u52a1",this.banner.color=cc.color().fromHEX("#E5E4C8")}return this.info.string=""+this.task.info,this.awardType.string=1==this.task.rewadType?"\u7075\u6c14":"\u7075\u77f3",n=0,1!=this.task.rewadType?[3,2]:[4,h.default.Instance.GetOutPut()];case 1:return n=r.sent()*this.task.award,[3,3];case 2:n=d.default.Instance.GetOutPut()*this.task.award,r.label=3;case 3:return this.awardLabel.string=m.default.refSetCoin(n),o=1==this.task.rewadType?"Award/coin":"Award/jewel",a=m.default.GetRes("SpriteBundle1",o,cc.SpriteFrame),i=null,a?(i=a,[3,6]):[3,4];case 4:return[4,m.default.loadImage("SpriteBundle1",o)];case 5:i=r.sent(),r.label=6;case 6:return this.awardSprite.spriteFrame=i,[2]}})})},S.prototype.initBtn=function(){var t=g.default.getEveryDay()[this.index];0==t.state?(this.startBtn.active||(this.startBtn.active=!0),this.timeNode.active=!1,this.getBtn.active=!1,this.overBtn.active=!1):1==t.state?0<t.time?(this.timeNode.active||(this.timeNode.active=!0),this.startBtn.active=!1,this.getBtn.active=!1,this.overBtn.active=!1,this.time.string=""+m.default.hour_min_secTimeFuncion(t.time)):(this.getBtn.active||(this.getBtn.active=!0),this.node.setSiblingIndex(0),this.startBtn.active=!1,this.timeNode.active=!1,this.overBtn.active=!1):(this.overBtn.active||(this.overBtn.active=!0,this.node.active=!1),this.startBtn.active=!1,this.timeNode.active=!1,this.getBtn.active=!1)},S.prototype.ClickOpen=function(){v.default.instance.play(v.Sound.Click),this.ShowSp();for(var t,e=g.default.getEveryDay(),n=0,o=0;o<e.length;o++)1==e[o].state&&(n+=1);4<=n?b.default.instance.setText(-1,"\u6700\u591a\u53ef\u540c\u65f6\u6267\u884c4\u4e2a\u4efb\u52a1"):0==this.task.precondition||2==e[this.task.precondition-1].state?(e[this.index].state=1,e[this.index].time=60*this.task.needtime,g.default.setEveryDay(e),this.curpannel.initEveryDay(),7==f.default.instance.teacherid&&this.curpannel.ShowTeacher(1)):(t=y.default.Instance.GetData(this.task.precondition-1).info,b.default.instance.setText(-1,"\u8bf7\u5148\u5b8c\u6210\u4efb\u52a1:"+t))},S.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return v.default.instance.play(v.Sound.Click),this.ShowSp(),(t=g.default.getEveryDay())[this.index].state=2,t[this.index].time=0,g.default.setEveryDay(t),t=0,1!=this.task.rewadType?[3,2]:[4,h.default.Instance.GetOutPut()];case 1:return t=e.sent()*this.task.award,C.default.Instance.ChangeCoin(t),[3,3];case 2:t=d.default.Instance.GetOutPut()*this.task.award,C.default.Instance.ChangeJewel(t),e.label=3;case 3:return this.curpannel.initEveryDay(),g.default.setEveryDayCount(),this.task=y.default.Instance.GetData(this.index),this.task.color,[2]}})})},S.prototype.update=function(){this.task&&this.initBtn()},S.prototype.ShowSp=function(){var t=this;this.sp.stopAllActions(),cc.tween(this.sp).call(function(){t.sp.active=!0,t.sp.opacity=255}).to(.3,{opacity:0}).call(function(){t.sp.active=!1}).start()},c([i(cc.Node)],S.prototype,"sp",void 0),c([i({displayName:"\u7f16\u53f7"})],S.prototype,"index",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],FightUp:[function(t,e,n){"use strict";cc._RF.push(e,"11f82vtmNlPwY42xfpFsyMY","FightUp");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.Sp=null,t.fight=null,t.flot=null,t.jiantou=null,t.frame=[],t.old=0,t.now=0,t.sub=0,t.do=!0,t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.start=function(){},p.prototype.init=function(t,e){var n=this;this.node.opacity=255,this.old=t,this.now=e,this.sub=e-t,this.fight.string=""+Math.floor(t),this.jiantou.spriteFrame=e<t?this.frame[1]:this.frame[0],this.flot.node.color=e<t?cc.color().fromHEX("#DC4646"):cc.color().fromHEX("#4AE314"),this.flot.string=""+Math.floor(Math.abs(e-t)),this.Sp.setAnimation(0,"up",!1),this.Sp.setCompleteListener(function(){n.do=!1})},p.prototype.update=function(){var t=this;this.do||(this.old>=this.now?(this.old=this.now,this.do=!0,cc.tween(this.node).delay(.3).to(.6,{opacity:0}).call(function(){u.default.FightUp.restor(t.node)}).start()):this.old+=Math.floor(.1*this.sub),this.fight.string=""+Math.floor(this.old))},c([i(sp.Skeleton)],p.prototype,"Sp",void 0),c([i(cc.Label)],p.prototype,"fight",void 0),c([i(cc.Label)],p.prototype,"flot",void 0),c([i(cc.Sprite)],p.prototype,"jiantou",void 0),c([i(cc.SpriteFrame)],p.prototype,"frame",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],Fireball:[function(t,e,n){"use strict";cc._RF.push(e,"fa3570zxTFEzKf/BZP035TW","Fireball");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameFight"),p=a("GuideAI"),f=a("GameSys");function d(){var t=null!==s&&s.apply(this,arguments)||this;return t.ball=null,t.master=null,t.target=null,t.end=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(d,s=cc.Component),d.prototype.onLoad=function(){this.ball=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},d.prototype.init=function(t,e){this.ball.setAnimation(0,"bullet",!0),this.master=t,this.target=this.master.GetMonster(),this.end=!1,this.callback=e},d.prototype.Guideinit=function(t,e){this.ball.setAnimation(0,"bullet",!0),this.master=t,this.target=this.master.GetMonster(),this.end=!1,this.callback=e},d.prototype.start=function(){},d.prototype.update=function(t){var e,n,o,a=this;if(!this.end&&this.master){if(this.master==p.default){if(this.master.curpannel.state==u.FightState.ready)return this.end=!0,void f.default.Fireball.restor(this.node)}else if(u.default.instance.state==u.FightState.ready)return this.end=!0,void f.default.Fireball.restor(this.node);this.target&&this.target.node?(o=this.node.getPosition(),n=this.target.node.getPosition(),e=o.sub(n).mag(),n=(o=o.sub(n).signAngle(cc.v2(1,0)))/Math.PI*180,this.node.angle=-n,(o=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),10<e?(this.node.x+=t*o.x*f.default.speed*1200,this.node.y+=t*o.y*f.default.speed*1200):(this.end=!0,this.ball.setAnimation(0,"hit",!0),this.ball.setCompleteListener(function(){f.default.Fireball.restor(a.node)}),this.callback())):f.default.Fireball.restor(this.node)}},c([i(sp.Skeleton)],d.prototype,"ball",void 0),a=c([a],d),r.default=a,cc._RF.pop()},{}],Flamepalm:[function(t,e,n){"use strict";cc._RF.push(e,"f801cDLljxLDpmrkWhRk3eX","Flamepalm");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e){var n=this;setTimeout(function(){s.default.instance.state!=s.FightState.ready&&e(),u.default.Flamepalm.restor(n.node)},500)},p.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],Flame:[function(t,e,n){"use strict";cc._RF.push(e,"018cad28sFJg7uZ48rXneLP","Flame");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.time=0,t.count=0,t.victim=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t){this.victim=t,this.time=1,this.count=0},p.prototype.start=function(){},p.prototype.atk=function(){var t=.02*this.victim.role.maxhp;this.victim.TheStrike(t,999,!1,!1),this.count++,5<=this.count&&u.default.Flame.restor(this.node)},p.prototype.update=function(t){s.default.instance.state!=s.FightState.ready?(this.time-=t*u.default.speed,this.time<=0&&this.count<5&&(this.atk(),this.time=1)):u.default.Flame.restor(this.node)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],ForewordPanel:[function(t,e,n){"use strict";cc._RF.push(e,"11bddUvwFZF/b66Hic/YB2p","ForewordPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("ChapterDataManager"),p=a("UIBase");function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.group=[],t.offBtn=null,t.txtArray=[],t}a=(i=cc._decorator).ccclass,i=i.property,l(f,s=p.default),f.prototype.onLoad=function(){var t=cc.tween(this.offBtn).to(.3,{opacity:255}).delay(.3).to(.7,{opacity:0});cc.tween(this.offBtn).repeatForever(t).start()},f.prototype.onEnable=function(){for(var t=0;t<this.group.length;t++)this.group[t].active=!1},f.prototype.init=function(t){var e=this;this.callback=t,this.txtArray=[];for(var n=u.default.Instance.isHaveChapter().explain,o=0,a=0;a<n.length;a++){var i=n[a];"a"==i?o++:this.txtArray[o]?this.txtArray[o]+=i:this.txtArray.push(i)}var r=[];for(a=0;a<this.group.length;a++)a<this.txtArray.length?(this.group[a].getChildByName("txt").getComponent(cc.Label).string=this.txtArray[a],this.group[a].active=!0,r.push(this.group[a])):this.group[a].active=!1;for(a=0;a<r.length;a++)!function(t){cc.tween(r[t]).call(function(){r[t].opacity=0}).delay(1.5*t).to(1,{opacity:255}).call(function(){t==r.length-1&&(e.offBtn.active=!0)}).start()}(a)},f.prototype.ClickOff=function(){this.CloseThis()},f.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),this.callback()},f.prototype.start=function(){},c([i(cc.Node)],f.prototype,"group",void 0),c([i(cc.Node)],f.prototype,"offBtn",void 0),a=c([a],f),r.default=a,cc._RF.pop()},{}],FreeBox:[function(t,e,n){"use strict";cc._RF.push(e,"b2d31hvTb1IeL6pZgjMtX4a","FreeBox");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("PanelConst"),m=a("RewardPanel"),b=(a("TipGroup"),a("UIBase")),C=a("UIManager");function S(){var t=null!==p&&p.apply(this,arguments)||this;return t.Coin=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,p=b.default),S.prototype.start=function(){},S.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return p.prototype.onEnable.call(this),[4,f.default.Instance.GetOutPut()];case 1:return t=e.sent()*this.gift.coin,this.Coin.string="\xd7"+v.default.refSetCoin(t),[2]}})})},S.prototype.init=function(t,e){this.gift=t,this.shopPanel=e},S.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},S.prototype.ClickOpen=function(){var t=this;h.default.instance.play(h.Sound.Click);var e=y.default.getShopBoxNum();e[1]--,y.default.setShopBoxNum(e),t.shopPanel.initBoxNum(),t.GetReward(),t.CloseThis()},S.prototype.GetReward=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,C.default.Instance.ShowUI(g.default.RewardPanel)];case 1:return n.sent(),t=[],0<this.gift.coin&&(e=d.default.Instance.GetCoinProp(),t.push({prop:e,have:this.gift.coin})),0<this.gift.jewel&&(e=d.default.Instance.GetJewelProp(),t.push({prop:e,have:this.gift.jewel})),999999!=this.gift.prop1_id&&(e=d.default.Instance.GetProp(this.gift.prop1_id),t.push({prop:e,have:this.gift.prop1_num})),999999!=this.gift.prop2_id&&(e=d.default.Instance.GetProp(this.gift.prop2_id),t.push({prop:e,have:this.gift.prop2_num})),999999!=this.gift.prop3_id&&(e=d.default.Instance.GetProp(this.gift.prop3_id),t.push({prop:e,have:this.gift.prop3_num})),999999!=this.gift.prop4_id&&(e=d.default.Instance.GetProp(this.gift.prop4_id),t.push({prop:e,have:this.gift.prop4_num})),C.default.Instance.GetClass(g.default.RewardPanel).getComponent(m.default).initAsset(t),[2]}})})},S.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],S.prototype,"Coin",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],FreeCoin:[function(t,e,n){"use strict";cc._RF.push(e,"02970smN4BI/q2N6unIKKwb","FreeCoin");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("adLevelManager"),d=a("CoinOutPutDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("TipGroup"),m=a("UIBase"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.Time=null,t.reward=null,t.count=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=m.default),C.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(){return p.prototype.onEnable.call(this),t=d.default.Instance.GetNeedCoin()*f.default.Instance.getAdReward(),this.reward.string=""+v.default.refSetCoin(t),console.log("GameSys.channel:",y.default.channel,y.default.isVideoCount),"WX"==y.default.channel&&y.default.isVideoCount?(this.count.string="\u4eca\u65e5\u5269\u4f59"+y.default.getWXVideoCount()+"\u6b21",this.count.node.active=!0):(this.count.string="",this.count.node.active=!1),v.default.getSdk().PlatformCallBack("BANNER"),[2]})})},C.prototype.start=function(){},C.prototype.update=function(){0<y.default.FreeCoinTime?(this.Time.node.active=!0,this.Time.string=""+v.default.hour_min_secTimeFuncion(y.default.FreeCoinTime)):this.Time.node.active=!1},C.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},C.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t,e=this;return u(this,function(){return h.default.instance.play(h.Sound.Click),"WX"==y.default.channel&&y.default.getWXVideoCount()<=0&&y.default.isVideoCount?g.default.instance.setText(-1,"\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c"):0<y.default.FreeCoinTime?g.default.instance.setText(-1,"\u7075\u6c14\u8fdb\u5165CD\uff0c\u8bf7\u7a0d\u7b49\u4e00\u4f1a"):(t=d.default.Instance.GetNeedCoin()*f.default.Instance.getAdReward(),b.default.Instance.ChangeCoin(t),y.default.setWXVideoCount(),e.CloseThis(),"WX"==y.default.channel&&(y.default.videocd?y.default.FreeCoinTime=120:y.default.FreeCoinTime=0)),[2]})})},C.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),v.default.getSdk().PlatformCallBack("BANNERCLOSE")},c([i(cc.Label)],C.prototype,"Time",void 0),c([i(cc.Label)],C.prototype,"reward",void 0),c([i(cc.Label)],C.prototype,"count",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],FreeJewel:[function(t,e,n){"use strict";cc._RF.push(e,"98a30SNsMtFiqI03TAXci17","FreeJewel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("ArtifactsDataManager"),p=a("SoundManager"),f=a("GameTools"),d=(a("TipGroup"),a("UIBase")),h=a("UIManager");function y(){var t=null!==s&&s.apply(this,arguments)||this;return t.reward=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(y,s=d.default),y.prototype.onEnable=function(){s.prototype.onEnable.call(this);var t=100*u.default.Instance.GetOutPut();this.reward.string=""+f.default.refSetCoin(t),f.default.getSdk().PlatformCallBack("BANNER")},y.prototype.start=function(){},y.prototype.ClickOff=function(){p.default.instance.play(p.Sound.Click),this.CloseThis()},y.prototype.ClickGet=function(){p.default.instance.play(p.Sound.Click);var t=100*u.default.Instance.GetOutPut();h.default.Instance.ChangeJewel(t),this.CloseThis()},y.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),f.default.getSdk().PlatformCallBack("BANNERCLOSE")},c([i(cc.Label)],y.prototype,"reward",void 0),a=c([a],y),r.default=a,cc._RF.pop()},{}],FriendHelpPanel:[function(t,e,n){"use strict";cc._RF.push(e,"d974fefjCRAorIEe/nNfuXV","FriendHelpPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("HeroDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("EventConst"),v=a("GameTools"),g=a("FriendItem"),m=a("TimeManager"),b=a("TipGroup"),C=a("UIBase"),S=a("UIManager");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.FriendContent=null,t.LabelContent=null,t.Visualize=null,t.WXService=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=C.default),w.prototype.onEnable=function(){this.RefThis(),this.initMe(),this.init(),this.WXService.active="WX"==h.default.channel},w.prototype.initMe=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return t=h.default.getSex(),e=h.default.getLevel(),e=Math.floor((e-1)/10),e=f.default.Instance.GetVisualizeArray(e),t="player"+t+"/p"+e+"/p"+e,(e=v.default.GetRes("Bundle",t,sp.SkeletonData))?[3,2]:[4,v.default.LoadSpinData("Bundle",t)];case 1:e=n.sent(),n.label=2;case 2:return this.Visualize.skeletonData=e,this.Visualize.setAnimation(0,"idle",!0),this.Visualize.setAnimation(1,"eff1",!0),[2]}})})},w.prototype.ClickShare=function(){d.default.instance.play(d.Sound.Click),v.default.getSdk().shareFriend()},w.prototype.init=function(){for(var t=h.default.getFriend(),e=[],n=0;n<t.length;n++)e.push(t[n]);if(console.log("\u5237\u65b0\u754c\u9762,\u52a9\u529b\u597d\u53cb\uff1a",e),e.length<=0)for(n=0;n<this.FriendContent.children.length;n++)this.FriendContent.children[n].getChildByName("share").active=!0,this.FriendContent.children[n].getChildByName("content").active=!1,this.FriendContent.children[n].getChildByName("frame").active=!1;else for(n=0;n<this.FriendContent.children.length;n++)n<e.length?(console.log("\u521d\u59cb\u5316:",e[n]),this.FriendContent.children[n].getComponent(g.default).init(e[n])):(this.FriendContent.children[n].getChildByName("share").active=!0,this.FriendContent.children[n].getChildByName("content").active=!1,this.FriendContent.children[n].getChildByName("frame").active=!1);for(n=0;n<this.LabelContent.children.length;n++)n<e.length?this.LabelContent.children[n].color=cc.color().fromHEX("#33B021"):this.LabelContent.children[n].color=cc.color().fromHEX("#292929")},w.prototype.update=function(){},w.prototype.RefThis=function(){var t=this;d.default.instance.play(d.Sound.Click),b.default.instance.setText(-1,"\u5237\u65b0\u6210\u529f"),m.default.instance.querytime<=0?v.default.getSdk().getShareList(0,function(e){m.default.instance.querytime=0;var n=JSON.parse(e).data,o=h.default.getFriend();if(console.log("\u83b7\u53d6\u5230\u7684\u597d\u53cbarray:",n),console.log("\u6211\u7684\u597d\u53cbarray:",o),0<n.length){if(n.length>o.length)if(o.length<=0)for(var a=0;a<n.length;a++){var i=n[a].nickname,r=n[a].portrait;o.length<8&&o.push({openid:i,time:86400,portrait:r})}else for(a=o.length-1<=0?0:o.length-1;a<n.length;a++)i=n[a].nickname,r=n[a].portrait,o.length<8&&o.push({openid:i,time:86400,portrait:r});t.init()}cc.systemEvent.emit(y.EventConst.initFriend),console.log("\u5b58\u6863\u8bb0\u5f55:",o)}):console.log("\u5237\u65b0\u51b7\u5374\u4e2d...")},w.prototype.ClickRef=function(){d.default.instance.play(d.Sound.Click),this.RefThis()},w.prototype.ClickOff=function(){this.CloseThis()},w.prototype.ClickWXService=function(){d.default.instance.play(d.Sound.Click),v.default.getSdk().openCustomerServiceConversation()},w.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),S.default.Instance.ShowInter(),0==h.default.requestSubscribeMessage[1]&&(h.default.requestSubscribeMessage[1]=1,v.default.getSdk().requestSubscribeMessage(1,function(){},function(){}))},c([i(cc.Node)],w.prototype,"FriendContent",void 0),c([i(cc.Node)],w.prototype,"LabelContent",void 0),c([i(sp.Skeleton)],w.prototype,"Visualize",void 0),c([i(cc.Node)],w.prototype,"WXService",void 0),a=c([a],w),r.default=a,cc._RF.pop()},{}],FriendItem:[function(t,e,n){"use strict";cc._RF.push(e,"9a9d9dvEldID67CboZy2zSN","FriendItem");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.Head=null,t.Content=null,t.Frame=null,t.Name=null,t.ShareBtn=null,t}r(u,c=cc.Component),u.prototype.init=function(t){var e=this;this.Content.active=!0,this.Frame.active=!0,this.ShareBtn.active=!1,cc.assetManager.loadRemote(t.portrait,{ext:".png"},function(n,o){return n?(cc.assetManager.loadRemote(t.portrait,{ext:".jpg"},function(t,n){return t?console.log(t):void(e.Head.spriteFrame=new cc.SpriteFrame(n))}),console.log(n)):void(e.Head.spriteFrame=new cc.SpriteFrame(o))}),this.Name.string=""+t.openid},l([s(cc.Sprite)],u.prototype,"Head",void 0),l([s(cc.Node)],u.prototype,"Content",void 0),l([s(cc.Node)],u.prototype,"Frame",void 0),l([s(cc.Label)],u.prototype,"Name",void 0),l([s(cc.Node)],u.prototype,"ShareBtn",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],GameBgTouch:[function(t,e,n){"use strict";cc._RF.push(e,"6a2e7evbAdDUYY8jbAvCUeS","GameBgTouch");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("EventConst");function u(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(u,c=cc.Component),u.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){cc.systemEvent.emit(s.EventConst.GAME_BG_TOUCH_START,t)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){console.log("\u79fb\u52a8"),cc.systemEvent.emit(s.EventConst.GAME_BG_TOUCH_MOVE,t)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.systemEvent.emit(s.EventConst.GAME_BG_TOUCH_END,t)},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){cc.systemEvent.emit(s.EventConst.GAME_BG_TOUCH_CANCEL,t)},this),this.node.on(cc.Node.EventType.MOUSE_WHEEL,function(t){cc.systemEvent.emit(s.EventConst.GAME_BG_TOUCH_WHEEL,t)},this)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],u),r.default=i,cc._RF.pop()},{}],GameEntry:[function(t,e,n){"use strict";cc._RF.push(e,"b32f7DKBupGzb6U7rautXoF","GameEntry");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("ChapterDataManager"),d=i("SingleBase"),h=i("Singleton"),y=i("GameSys"),v=i("EventConst"),g=i("GameTools"),m=i("CartoonPanel"),b=i("ForewordPanel"),C=i("PanelConst"),S=i("UIManager");function w(){var t=null!==u&&u.apply(this,arguments)||this;return t.singleTons=new Array("CoinOutPutDataManager","HeroDataManager","PetDataManager","SceneDataManager","MonsterDataManager","SkillDataManager","IntensifyDataManager","RealmDataManager","ArtifactsDataManager","TeamSkillDataManager","DiscipleDataManager","DrugDataManager","SystemDataManager","StoryDataManager","GuideDataManager","EveryDayManager","AwardDataManager","BuildDataManager","BuildLvDataManager","TrialsDataManager","ReincarnDataManager","WeaponDataManager","EquipDataManager","PropDataManager","ShopDataManager","GiftDataManager","RoamDataManager","TalkDataManager","CustomTalkDataManager","GuideMonsterDataManager","ChapterDataManager","HeartDevilDataManager","SignDataManager","OnlineDataManager","UpTalkManager","StateDataManager","WorshipDataManager","InvitationDataManager","adLevelManager","levelDropManager","OpenCrystalBoxManager","CrystalBoxDataManager","DisciplerankUpDataManager","OreShopDataManager"),t}i=(a=cc._decorator).ccclass,a.property,l(w,u=cc.Component),(p=w).prototype.RegistSingleTon=function(){p.curAllSignleBases=[];for(var t=this.singleTons.length,e=0;e<t;e++){var n=h.default.RegistSingleTon(this.singleTons[e]);n instanceof d.default||console.log("\u6709\u5355\u4f8b\u6ca1\u6709\u7ee7\u627f\u57fa\u7c7b\uff01",n),p.curAllSignleBases.push(n)}},w.prototype.InitSingleTon=function(t){return c(this,void 0,void 0,function(){var e,n;return s(this,function(o){switch(o.label){case 0:e=p.curAllSignleBases.length,n=0,o.label=1;case 1:return n<e?[4,p.curAllSignleBases[n].Init()]:[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return t(),[2]}})})},w.prototype.start=function(){return c(this,void 0,void 0,function(){return s(this,function(){return cc.game.addPersistRootNode(this.node),[2]})})},w.PlayGame=function(){return c(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(a){switch(a.label){case 0:if(y.default.islogin=!1,!y.default.getIsFirst())return[3,6];for(y.default.setIsFirst(),t="",e=(new Date).getTime(),t+=e,n=0;n<4;n++)t+=Math.floor(10*Math.random());return g.default.getSdk().sendEvent("createRole",{roleid:t}),g.default.getSdk().createRole(),g.default.getSdk().dot(1),"WX"==y.default.channel&&("1095"!=y.default.scene&&"1045"!=y.default.scene&&"1046"!=y.default.scene||(y.default.isjumpguide=!0)),y.default.isjumpguide?[3,3]:[4,S.default.Instance.ShowUI(C.default.CartoonPanel)];case 1:return a.sent(),[4,S.default.Instance.GetClass(C.default.CartoonPanel).getComponent(m.default).init()];case 2:return a.sent(),cc.systemEvent.emit(v.EventConst.Maps),[3,5];case 3:return cc.systemEvent.emit(v.EventConst.GameStart),o=f.default.Instance.GetData(1),[4,S.default.Instance.ShowUI(C.default.ForewordPanel)];case 4:a.sent(),S.default.Instance.GetClass(C.default.ForewordPanel).getComponent(b.default).init(function(){cc.systemEvent.emit(v.EventConst.playChapter,o)}),a.label=5;case 5:return[3,7];case 6:cc.systemEvent.emit(v.EventConst.GameStart),cc.systemEvent.emit(v.EventConst.Maps),a.label=7;case 7:return[2]}})})},w.prototype.StartGame=function(){return c(this,void 0,void 0,function(){return s(this,function(){return[2]})})},w.curAllSignleBases=new Array,i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],w),r.default=i,cc._RF.pop()},{}],GameFightSkill:[function(t,e,n){"use strict";cc._RF.push(e,"efb0bGFbx5O9bccwWOGW+xZ","GameFightSkill");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("HeroDataManager"),p=a("GameSys"),f=a("EventConst"),d=a("TipGroup"),h=a("GameFight");function y(){var t=null!==s&&s.apply(this,arguments)||this;return t.guideSp=null,t.lock=null,t.progress=[],t.CD=null,t.time=null,t.mask=null,t.index=0,t.mp=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(y,s=cc.Component),y.prototype.onLoad=function(){this.index=this.node.getSiblingIndex(),this.lock=this.node.getChildByName("suo"),this.CD=this.node.getChildByName("cd"),this.time=this.CD.getChildByName("time").getComponent(cc.Label),this.mask=this.node.getChildByName("hui")},y.prototype.init=function(){if(this.node.parent.active){var t=2==this.index?3:this.index,e=0==t?1<p.default.getMaxCustoms():u.default.Instance.IsUnlockSkill(t+1);this.lock.active=!e;for(var n=0;n<this.progress.length;n++)this.progress[n].node.parent.active=e}},y.prototype.initMp=function(){this.initprogress()},y.prototype.ChangeMp=function(t){this.mp=t,this.initprogress()},y.prototype.initprogress=function(){if(this.node.parent.active)if(this.lock.active)this.CD.active=!1;else for(var t=0;t<this.progress.length;t++){var e=this.mp-100*t;this.progress[t].fillRange=e/100}},y.prototype.start=function(){cc.systemEvent.on(f.EventConst.Game_Up,this.init,this),cc.systemEvent.on(f.EventConst.Game_Fight_initSkill,this.initMp,this),cc.systemEvent.on(f.EventConst.Game_Fight_changeMp,this.ChangeMp,this)},y.prototype.AtkSkill=function(){console.log("\u6280\u80fd\u6548\u679c"),this.mp<100?d.default.instance.setText(-1,"\u6012\u6c14\u4e0d\u8db3"):h.default.instance.teamData[0].ManualSkill(0)},y.prototype.CureSkill=function(){this.mp<200?d.default.instance.setText(-1,"\u6012\u6c14\u4e0d\u8db3"):h.default.instance.teamData[0].ManualSkill(1)},y.prototype.ControlSkill=function(){this.mp<300?d.default.instance.setText(-1,"\u6012\u6c14\u4e0d\u8db3"):h.default.instance.teamData[0].ManualSkill(3)},y.prototype.update=function(){if(this.node.parent.active&&!this.lock.active){var t=h.default.instance.teamData[0];if(t){t.role.hp<=0&&(this.mp=0);var e=0;switch(this.node.getSiblingIndex()){case 0:e=t.skill1,this.mask.active=this.mp<100,this.guideSp.active=e<=0&&100<=this.mp&&p.default.getMaxLevel()<=20;break;case 1:e=t.skill2,this.mask.active=this.mp<200;break;case 2:e=t.skill4,this.mask.active=this.mp<300}this.time.string=Math.floor(e)+"s",this.CD.active=0<e}}},c([i(cc.Node)],y.prototype,"guideSp",void 0),c([i(cc.Sprite)],y.prototype,"progress",void 0),a=c([a],y),r.default=a,cc._RF.pop()},{}],GameFight:[function(t,e,n){"use strict";cc._RF.push(e,"4f4b36H2M1AhacRqtiZX/or","GameFight");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.FightState=void 0;var p,f,d,h=a("CoinIcon"),y=a("SkillUi"),v=a("ArtifactsDataManager"),g=a("CoinOutPutDataManager"),m=a("CustomTalkDataManager"),b=a("DiscipleDataManager"),C=a("EquipDataManager"),S=a("HeroDataManager"),w=a("PetDataManager"),k=a("PropDataManager"),_=a("ReincarnDataManager"),P=a("SceneDataManager"),O=a("SoundManager"),I=a("SystemDataManager"),R=a("TrialsDataManager"),x=a("GameSys"),T=a("EventConst"),A=a("GameTools"),D=a("PoolManager"),B=a("ChallengeLose"),M=a("fightTxt"),G=a("NewresultPanel"),N=a("PanelConst"),E=a("RewardPanel"),j=a("TalkPanel"),L=a("TipGroup"),F=a("UIManager"),U=a("UnlockSys"),H=a("Artifacts"),q=a("GameFightSkill"),J=a("Monster"),W=a("OnHook"),V=a("Teamer"),X=cc._decorator;function K(){var t=null!==f&&f.apply(this,arguments)||this;return t.addoutput=null,t.quickBtn=null,t.challengelv=null,t.challengebg=null,t.customes=null,t.SkillUi=null,t.customsSp=[],t.Smelter=null,t.cure=null,t.treat=null,t.wzlxHit=null,t.SkillSp=null,t.SkillHC=null,t.SkillLJ=null,t.danMadicine=null,t.star=null,t.monster=null,t.fighttxt=null,t.buttet=null,t.Fireball=null,t.Thunder=null,t.Eddy=null,t.Star=null,t.Knife=null,t.CureMatrix=null,t.Wind=null,t.BaneMatrix=null,t.Discipleitem=null,t.Moon=null,t.Flame=null,t.Flamepalm=null,t.PersistCure=null,t.Hothalo=null,t.CoinIcon=null,t.rewardItem=null,t.packitem=null,t.SectTxt=null,t.equipitem=null,t.spectrum=null,t.raiseditem=null,t.roamboxitem=null,t.monsteritem=null,t.MessageContent=null,t.AllTeamHp=null,t.TeamFight=null,t.Coin=null,t.AllMonsterHp=null,t.MonsterFight=null,t.NowLevel=null,t.MaxWave=null,t.SkillContent=null,t.LabelContent=null,t.TeamContent=null,t.MonsterContent=null,t.onhookMonster=null,t.Down=null,t.Up=null,t.Mask=null,t.artifacts=null,t.challengelabel=null,t.challengeBtn=null,t.fightContent=null,t.outBtn=null,t.tips=null,t.yield=null,t.startSp=null,t.Continuous=null,t.tick=null,t.blash=null,t.interval=.5,t.state=1,t.time=2,t.team=[],t.teamData=[],t.monsterData=[],t.startpos=[],t.allmonsterhp=0,t.maxmonsterhp=0,t.allteamhp=0,t.maxteamhp=0,t.maxFightNum=0,t.SceneData=null,t.wave=1,t.maxwave=1,t.nowlevel=1,t.fightType=0,t.RoamData=null,t.Point=[],t.isFail=!1,t.over=!1,t.reward=[],t.isStart=!1,t.isunlockskill=!1,t.playerNum=0,t}i=X.ccclass,a=X.property,(X=p=r.FightState||(r.FightState={}))[X.ready=0]="ready",X[X.fight=1]="fight",X[X.challenge=2]="challenge",X[X.Trials=3]="Trials",X[X.roam=4]="roam",l(K,f=cc.Component),(d=K).prototype.onLoad=function(){var t=this;(d.instance=this).TeamContent=this.node.getChildByName("CanMove").getChildByName("Team"),this.LabelContent=this.node.getChildByName("CanMove").getChildByName("LabelContent"),this.MonsterContent=this.node.getChildByName("CanMove").getChildByName("Monster"),this.SkillContent=this.node.getChildByName("CanMove").getChildByName("SkillContent"),this.MessageContent=this.node.getChildByName("Message"),this.fightContent=this.MessageContent.getChildByName("Content"),this.AllTeamHp=this.fightContent.getChildByName("TeamHp").getChildByName("hp").getComponent(cc.Sprite),this.AllMonsterHp=this.fightContent.getChildByName("MonsterHp").getChildByName("hp").getComponent(cc.Sprite),this.NowLevel=this.MessageContent.getChildByName("level").getComponent(cc.Label),this.MaxWave=this.fightContent.getChildByName("wave").getComponent(cc.Label),this.MonsterFight=this.fightContent.getChildByName("fightmax").getComponent(cc.Label),this.tips=this.MessageContent.getChildByName("tips"),this.Continuous=this.fightContent.getChildByName("AutomaticChallenge"),this.tick=this.Continuous.getChildByName("circle").getChildByName("tick"),this.Down=this.node.getChildByName("CanMove").getChildByName("down"),this.Up=this.node.getChildByName("CanMove").getChildByName("up"),this.Mask=this.node.getChildByName("CanMove").getChildByName("mask"),this.challengelabel=this.node.getChildByName("CanMove").getChildByName("challenge").getChildByName("level").getComponent(cc.Label),this.challengeBtn=this.node.getChildByName("CanMove").getChildByName("challenge"),this.onhookMonster=this.node.getChildByName("CanMove").getChildByName("onhookMonster"),this.startSp=this.node.getChildByName("CanMove").getChildByName("startSp").getComponent(sp.Skeleton),this.blash=this.node.getChildByName("CanMove").getChildByName("blash").getComponent(sp.Skeleton),x.default.fightTxt=new D.default(this.fighttxt,20),x.default.buttet=new D.default(this.buttet,30),x.default.Thunder=new D.default(this.Thunder,30),x.default.Eddy=new D.default(this.Eddy,30),x.default.Star=new D.default(this.Star,30),x.default.star=new D.default(this.star,5),x.default.Knife=new D.default(this.Knife,30),x.default.CureMatrix=new D.default(this.CureMatrix,10),x.default.Wind=new D.default(this.Wind,10),x.default.BaneMatrix=new D.default(this.BaneMatrix,10),x.default.disciple=new D.default(this.Discipleitem,20),x.default.Moon=new D.default(this.Moon,10),x.default.Flame=new D.default(this.Flame,10),x.default.Flamepalm=new D.default(this.Flamepalm,10),x.default.PersistCure=new D.default(this.PersistCure,10),x.default.CoinIcon=new D.default(this.CoinIcon,10),x.default.rewardItem=new D.default(this.rewardItem,10),x.default.packitem=new D.default(this.packitem,50),x.default.SectTxt=new D.default(this.SectTxt,50),x.default.equipitem=new D.default(this.equipitem,100),x.default.spectrum=new D.default(this.spectrum,30),x.default.raiseditem=new D.default(this.raiseditem,30),x.default.roamboxitem=new D.default(this.roamboxitem,50),x.default.GuideMonster=new D.default(this.monster,50),x.default.Fireball=new D.default(this.Fireball,20),x.default.danMadicine=new D.default(this.danMadicine,20),x.default.Hothalo=new D.default(this.Hothalo,10),x.default.SkillLJ=new D.default(this.SkillLJ,5),x.default.SkillHC=new D.default(this.SkillHC,5),x.default.SkillSp=new D.default(this.SkillSp,10),x.default.wzlxHit=new D.default(this.wzlxHit,20),x.default.monsteritem=new D.default(this.monsteritem,10),x.default.treat=new D.default(this.treat,20),x.default.cure=new D.default(this.cure,10),x.default.Smelter=new D.default(this.Smelter,10),cc.systemEvent.on(T.EventConst.GameStart,function(){t.initStartpos(),t.init(),t.state=0,t.isStart=!0},this)},K.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return this.time=0,this.state=p.ready,t=this,[4,P.default.Instance.GetRole()];case 1:return t.SceneData=n.sent(),e=this,[4,P.default.Instance.GetMaxWave()];case 2:return e.maxwave=n.sent(),this.initMessage(),this.initTeam(),this.initMonster(),this.initSkill(),[2]}})})},K.prototype.start=function(){cc.systemEvent.on(T.EventConst.Game_Fight_changeHp,this.ChangeAllHp,this),cc.systemEvent.on(T.EventConst.Coin,this.initYeldCoin,this),cc.systemEvent.on(T.EventConst.Jewel,this.initYeldCoin,this)},K.prototype.initStartpos=function(){this.startpos=[];for(var t=0;t<this.TeamContent.childrenCount;t++)this.startpos.push(this.TeamContent.children[t].getPosition())},K.prototype.initUp=function(){this.team=[],this.team.push({type:0,id:0}),this.team.push({type:1,id:w.default.Instance.GetPetid()});for(var t=0;t<4;t++)this.team.push({type:2,id:x.default.getDisciple()[t].state?t:-1})},K.prototype.initTeam=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){var e,n,o,a,i;return u(this,function(r){switch(r.label){case 0:this.playerNum=0,this.maxFightNum=0,this.initUp(),this.teamData=[],this.allteamhp=0,this.maxteamhp=0,e=0,r.label=1;case 1:return e<this.team.length?-1!=this.team[e].id?[3,2]:(this.TeamContent.children[e].active=!1,[3,8]):[3,10];case 2:return this.TeamContent.children[e].active=!0,n=this.TeamContent.children[e].getComponent(V.default),o=null,0!=e?[3,3]:(o=S.default.Instance.GetRole(),this.maxFightNum+=S.default.Instance.GetFightNum(),[3,7]);case 3:return 1!=e?[3,4]:(o=w.default.Instance.GetRole(),this.maxFightNum+=w.default.Instance.GetFightNum(),[3,7]);case 4:return[4,b.default.Instance.GetRole(this.team[e].id)];case 5:return o=r.sent(),i=(a=this).maxFightNum,[4,b.default.Instance.GetFightNum(this.team[e].id)];case 6:a.maxFightNum=i+r.sent(),r.label=7;case 7:this.allteamhp+=o.maxhp,this.maxteamhp=this.allteamhp,e<=1?n.init(e,o):n.init(e,o,this.team[e].id),this.teamData.push(n),r.label=8;case 8:t&&this.TeamContent.children[e].setPosition(this.startpos[e]),r.label=9;case 9:return e++,[3,1];case 10:return[2]}})})},K.prototype.Formations=function(t){switch(this.Point=[],t){case 1:this.Point.push(this.TeamContent.children[3].getPosition());break;case 2:this.Point.push(this.TeamContent.children[2].getPosition()),this.Point.push(this.TeamContent.children[4].getPosition());break;case 3:this.Point.push(this.TeamContent.children[3].getPosition()),this.Point.push(this.TeamContent.children[2].getPosition()),this.Point.push(this.TeamContent.children[4].getPosition());break;case 4:this.Point.push(this.TeamContent.children[3].getPosition()),this.Point.push(this.TeamContent.children[2].getPosition()),this.Point.push(this.TeamContent.children[4].getPosition()),this.Point.push(this.TeamContent.children[0].getPosition());break;case 5:this.Point.push(this.TeamContent.children[0].getPosition()),this.Point.push(this.TeamContent.children[2].getPosition()),this.Point.push(this.TeamContent.children[4].getPosition()),this.Point.push(this.TeamContent.children[1].getPosition()),this.Point.push(this.TeamContent.children[5].getPosition());break;case 6:for(var e=0;e<this.TeamContent.childrenCount;e++)this.Point.push(this.TeamContent.children[e].getPosition())}},K.prototype.initMonster=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i;return u(this,function(r){switch(r.label){case 0:return this.monsterData=[],this.allmonsterhp=0,this.maxmonsterhp=0,this.MonsterContent.destroyAllChildren(),t=0,1!=this.fightType?[3,2]:[4,P.default.Instance.GetMonsterNum(this.wave,x.default.getCustoms()+1)];case 1:return t=r.sent(),[3,4];case 2:return[4,P.default.Instance.GetMonsterNum(this.wave)];case 3:t=2*r.sent(),r.label=4;case 4:6<=t&&(t=6),this.Formations(t),e=0,r.label=5;case 5:return e<t?((n=this.CreateMontser()).setPosition(this.Point[e]),this.state==p.fight?n.x+=500:n.x+=425,P.default.Instance.GetWave(this.wave)<6?(i=null,1!=this.fightType?[3,7]:[4,P.default.Instance.GetMonsterRole(this.wave,x.default.getCustoms()+1)]):[3,10]):[3,28];case 6:return i=r.sent(),[3,9];case 7:return[4,P.default.Instance.GetMonsterRole(this.wave)];case 8:i=r.sent(),r.label=9;case 9:return o=Math.random(),i.atkType=o<.5?"\u8fd1\u6218":"\u8fdc\u7a0b",i.range=o<.5?200:400,i.realm=this.MonsterRealm(0),n.getComponent(J.default).init(e,i),this.allmonsterhp+=i.maxhp,this.maxmonsterhp=this.allmonsterhp,n.scale=1,[3,26];case 10:return a=0,1!=this.fightType?[3,13]:[4,P.default.Instance.GetBossNum(1,x.default.getCustoms()+1)];case 11:return a=r.sent(),[4,P.default.Instance.GetBossNum(2,x.default.getCustoms()+1)];case 12:return r.sent(),[3,16];case 13:return[4,P.default.Instance.GetBossNum(1)];case 14:return a=r.sent(),[4,P.default.Instance.GetBossNum(2)];case 15:r.sent(),r.label=16;case 16:return i=null,1!=this.fightType?[3,21]:e<a?[4,P.default.Instance.GetBossRole(1,x.default.getCustoms()+1)]:[3,18];case 17:return i=r.sent(),[3,20];case 18:return[4,P.default.Instance.GetBossRole(2,x.default.getCustoms()+1)];case 19:i=r.sent(),r.label=20;case 20:return[3,25];case 21:return e<a?[4,P.default.Instance.GetBossRole(1)]:[3,23];case 22:return i=r.sent(),[3,25];case 23:return[4,P.default.Instance.GetBossRole(2)];case 24:i=r.sent(),r.label=25;case 25:i.realm=this.MonsterRealm(1),n.getComponent(J.default).init(e,i),this.allmonsterhp+=i.maxhp,this.maxmonsterhp=this.allmonsterhp,n.scale=1.5,r.label=26;case 26:this.monsterData.push(n.getComponent(J.default)),r.label=27;case 27:return e++,[3,5];case 28:return[2]}})})},K.prototype.initRoamMonster=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return u(this,function(a){switch(a.label){case 0:this.monsterData=[],this.allmonsterhp=0,this.maxmonsterhp=0,this.MonsterContent.destroyAllChildren(),6<=(t=this.RoamData.monster_num+this.RoamData.boss_num)&&(t=6),this.Formations(t),e=0,a.label=1;case 1:return e<t?((n=this.CreateMontser()).setPosition(this.Point[e]),this.state==p.fight?n.x+=500:n.x+=425,o=null,e<this.RoamData.monster_num?[4,P.default.Instance.GetMonsterRole(this.wave)]:[3,3]):[3,7];case 2:return(o=a.sent()).name=this.RoamData.monster,o.realm=this.MonsterRealm(0),n.getComponent(J.default).init(e,o),this.allmonsterhp+=o.maxhp,this.maxmonsterhp=this.allmonsterhp,n.scale=1,[3,5];case 3:return[4,P.default.Instance.RandomGetBoss()];case 4:(o=a.sent()).name=this.RoamData.boss,o.realm=this.MonsterRealm(1),n.getComponent(J.default).init(e,o),this.allmonsterhp+=o.maxhp,this.maxmonsterhp=this.allmonsterhp,n.scale=1.5,a.label=5;case 5:this.monsterData.push(n.getComponent(J.default)),a.label=6;case 6:return e++,[3,1];case 7:return[2]}})})},K.prototype.initTrialsMonster=function(){this.monsterData=[],this.allmonsterhp=0,this.maxmonsterhp=0,this.MonsterContent.destroyAllChildren();var t=0;6<=(t=R.default.Instance.GetMonsterNum(this.wave))&&(t=6),this.Formations(t);for(var e=0;e<t;e++){var n=this.CreateMontser();n.setPosition(this.Point[e]),this.state==p.fight?n.x+=500:n.x+=425;var o,a=null;R.default.Instance.GetWave(this.wave)<6?a=R.default.Instance.GetMonsterRole(this.wave):(o=R.default.Instance.GetBossNum(1),R.default.Instance.GetBossNum(2),e<o?(a=R.default.Instance.GetBossRole(1),n.scale=1):(a=R.default.Instance.GetBossRole(2),n.scale=1.5)),n.getComponent(J.default).init(e,a),this.allmonsterhp+=a.maxhp,this.maxmonsterhp=this.allmonsterhp,this.monsterData.push(n.getComponent(J.default))}},K.prototype.initSkill=function(){for(var t=0;t<this.SkillContent.childrenCount;t++)this.SkillContent.children[t].getComponent(q.default).init()},K.prototype.Activate=function(){for(var t=0;t<this.teamData.length;t++)this.teamData[t].Ready()},K.prototype.StartFight=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){var e,n,o,a,i,r;return u(this,function(l){switch(l.label){case 0:return O.default.instance.play(O.Sound.BGM1),this.HideFightBtn(),this.initCustomes(),x.default.doMove=!0,this.over=!1,this.Continuous.active=!1,this.challengeBtn.active=!0,this.outBtn.active=!1,this.fightType=0,this.state=p.fight,e=this,[4,P.default.Instance.GetRole()];case 1:return e.SceneData=l.sent(),n=this,[4,P.default.Instance.GetMaxWave()];case 2:if(n.maxwave=l.sent(),!t)return[3,5];for(o=this.GetTeam(),r=0;r<o.length;r++)o[r].ChangeState(V.default.STATE_DIE);if(0<(a=this.GetMonster()).length)for(r=0;r<a.length;r++)a[r].ChangeState(J.default.STATE_DIE);return[4,this.initTeam()];case 3:return l.sent(),[4,this.initArtifacts()];case 4:l.sent(),l.label=5;case 5:return[4,this.initMonster()];case 6:return l.sent(),[4,this.initSkill()];case 7:return l.sent(),[4,this.initMessage()];case 8:for(l.sent(),i=this.GetMonster(),r=0;r<i.length;r++)i[r].getComponent(J.default).Ready();return this.artifacts.node.getComponent(H.default).Ready(),[2]}})})},K.prototype.OpenChallenge=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){var e,n,o,a=this;return u(this,function(){for(O.default.instance.play(O.Sound.BGM3),this.initCustomes(),x.default.doMove=!1,this.fightType=1,this.state=p.challenge,e=0;e<this.teamData.length;e++)this.teamData[e].node.stopAllActions();return n=function(){return s(a,void 0,void 0,function(){var e,n,o,a,i;return u(this,function(r){switch(r.label){case 0:for(this.ShowFightBtn(),e=this.GetTeam(),o=0;o<e.length;o++)e[o].ChangeState(V.default.STATE_DIE);for(n=this.GetMonster(),o=0;o<n.length;o++)n[o].ChangeState(J.default.STATE_DIE);return a=this,[4,P.default.Instance.GetRole(x.default.getCustoms()+1)];case 1:return a.SceneData=r.sent(),i=this,[4,P.default.Instance.GetMaxWave(x.default.getCustoms()+1)];case 2:return i.maxwave=r.sent(),t?(A.default.getSdk().sendEvent("startLevel",{message:"\u6311\u6218\u5173\u5361",customes:(x.default.getCustoms()+1).toString()}),A.default.getSdk().gameLevel(x.default.getCustoms()+1),this.ClearUpAndDown(),this.wave=1,[4,this.initTeam()]):[3,5];case 3:return r.sent(),[4,this.initArtifacts()];case 4:r.sent(),r.label=5;case 5:return[4,this.initMonster()];case 6:return r.sent(),this.initSkill(),[4,this.initMessage()];case 7:return r.sent(),this.SceneData.level<=x.default.getMaxCustoms()?(this.Continuous.active=!0,this.tick.active=x.default.tick):this.Continuous.active=!1,[2]}})})},o=function(){return s(a,void 0,void 0,function(){var e=this;return u(this,function(){return t?(this.startSp.node.active=!0,this.startSp.setAnimation(0,"start",!1),this.playChallengelv(),this.startSp.setCompleteListener(function(){return s(e,void 0,void 0,function(){var t,e,n;return u(this,function(){for(this.startSp.node.active=!1,this.over=!1,this.outBtn.active=!0,t=this.GetMonster(),n=0;n<t.length;n++)t[n].getComponent(J.default).Ready();for(e=this.GetTeam(),n=0;n<e.length;n++)e[n].getComponent(V.default).Ready();return this.artifacts.node.getComponent(H.default).Ready(),[2]})})})):(this.startSp.node.active=!0,this.startSp.setAnimation(0,"start",!1),this.startSp.setCompleteListener(function(){return s(e,void 0,void 0,function(){var t,e,n;return u(this,function(){for(this.startSp.node.active=!1,this.over=!1,t=this.GetMonster(),n=0;n<t.length;n++)t[n].getComponent(J.default).Ready();for(e=this.GetTeam(),n=0;n<e.length;n++)e[n].getComponent(V.default).Ready();return this.artifacts.node.getComponent(H.default).Ready(),[2]})})})),[2]})})},t?(this.blash.node.active=!0,this.blash.setAnimation(0,"in",!1),this.blash.setEventListener(function(t,e){"stop"==e.data.name&&(cc.systemEvent.emit(T.EventConst.HideMask),n())}),this.blash.setCompleteListener(function(){return s(a,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return m.default.Instance.isHaveTalk("start")?[4,F.default.Instance.ShowUI(N.default.TalkPanel)]:[3,2];case 1:return t.sent(),F.default.Instance.GetClass(N.default.TalkPanel).getComponent(j.default).initCustoms(x.default.getCustoms()+1,"start",function(){o()}),[3,3];case 2:o(),t.label=3;case 3:return this.blash.node.active=!1,[2]}})})})):(n(),o()),[2]})})},K.prototype.OpenTrials=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){var e,n=this;return u(this,function(o){switch(o.label){case 0:for(O.default.instance.play(O.Sound.BGM3),e=0;e<this.teamData.length;e++)this.teamData[e].node.stopAllActions();return this.over=!1,this.fightType=2,this.Continuous.active=!1,this.state=p.Trials,this.maxwave=R.default.Instance.GetMaxWave(),t?(this.ClearUpAndDown(),[4,this.initTeam()]):[3,3];case 1:return o.sent(),[4,this.initArtifacts()];case 2:o.sent(),o.label=3;case 3:return this.initSkill(),[4,this.initMessage()];case 4:return o.sent(),this.initMask(function(){return s(n,void 0,void 0,function(){var t,e,n;return u(this,function(){for(this.ShowFightBtn(),this.initTrialsMonster(),t=this.GetMonster(),n=0;n<t.length;n++)t[n].getComponent(J.default).Ready();for(e=this.GetTeam(),n=0;n<e.length;n++)e[n].getComponent(V.default).Ready();return this.artifacts.node.getComponent(H.default).Ready(),[2]})})}),[2]}})})},K.prototype.OpenRoam=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){var e,n,o,a,i=this;return u(this,function(r){switch(r.label){case 0:for(O.default.instance.play(O.Sound.BGM3),o=0;o<this.teamData.length;o++)this.teamData[o].node.stopAllActions();for(this.over=!1,this.fightType=3,this.Continuous.active=!1,e=this.GetTeam(),o=0;o<e.length;o++)e[o].ChangeState(V.default.STATE_DIE);if(0<(n=this.GetMonster()).length)for(o=0;o<n.length;o++)n[o].ChangeState(J.default.STATE_DIE);return a=this,[4,P.default.Instance.GetRole()];case 1:return a.SceneData=r.sent(),this.maxwave=1,t?(this.ClearUpAndDown(),[4,this.initTeam()]):[3,4];case 2:return r.sent(),[4,this.initArtifacts()];case 3:r.sent(),r.label=4;case 4:return[4,this.initMonster()];case 5:return r.sent(),[4,this.initSkill()];case 6:return r.sent(),[4,this.initMessage()];case 7:return r.sent(),this.initMask(function(){return s(i,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return this.ShowFightBtn(),[4,this.initRoamMonster()];case 1:for(o.sent(),t=this.GetMonster(),n=0;n<t.length;n++)t[n].getComponent(J.default).Ready();for(e=this.GetTeam(),n=0;n<e.length;n++)e[n].getComponent(V.default).Ready();return this.artifacts.node.getComponent(H.default).Ready(),[2]}})})}),[2]}})})},K.prototype.RoamFight=function(t,e,n){this.RoamData=t,this.success=e,this.fail=n,this.OpenRoam()},K.prototype.ChangeAllHp=function(t,e){0==t?this.allteamhp+=e:this.allmonsterhp+=e,this.initMessage()},K.prototype.initMessage=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return this.AllTeamHp.fillRange=this.allteamhp/this.maxteamhp,this.AllMonsterHp.fillRange=this.allmonsterhp/this.maxmonsterhp,this.MaxWave.node.active=0!=this.fightType,2==this.fightType?[3,2]:(this.MonsterFight.string="",this.TeamFight.string="\u603b\u6218\u529b:"+A.default.refSetCoin(Math.floor(this.maxFightNum)),this.MaxWave.string="\u6ce2\u6b21: "+this.wave+"/"+this.maxwave,[4,P.default.Instance.GetRole()]);case 1:return t=e.sent(),this.NowLevel.string=t.name+"-"+t.level2,[3,3];case 2:R.default.Instance.GetRole(),this.MonsterFight.string="",this.TeamFight.string="\u603b\u6218\u529b:"+A.default.refSetCoin(Math.floor(this.maxFightNum)),this.MaxWave.string="\u6ce2\u6b21: "+this.wave+"/"+this.maxwave,this.NowLevel.string="\u8bd5\u70bc\u6311\u6218"+x.default.getMaxTier()+"\u5c42",e.label=3;case 3:return[4,P.default.Instance.GetRole(x.default.getCustoms()+1)];case 4:return t=e.sent(),this.challengelabel.string=t.name+"-"+t.level2,[2]}})})},K.prototype.initArtifacts=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return t=x.default.getNowArtifacts(),0<x.default.getNowArtifacts()?(this.artifacts.node.active=!0,t="Artifacts/"+t,(e=A.default.GetRes("SpriteBundle1",t,cc.SpriteFrame))?[3,2]:[4,A.default.loadImage("SpriteBundle1",t)]):[3,3];case 1:e=n.sent(),n.label=2;case 2:return this.artifacts.spriteFrame=e,this.artifacts.getComponent(H.default).init(this),[3,4];case 3:this.artifacts.node.active=!1,n.label=4;case 4:return[2]}})})},K.prototype.initYeldCoin=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a;return u(this,function(i){switch(i.label){case 0:return[4,g.default.Instance.GetOutPut()];case 1:if(t=i.sent(),a=1,"WX"==x.default.channel){for(e=0,n=x.default.getFriend(),o=0;o<n.length;o++)0<n[o].time&&e++;a+=.5*e,8<=e&&(a+=1)}return this.Coin.string="\u4fee\u70bc:"+A.default.refSetCoin(Math.floor(60*t)*a)+"/\u5206",[4,P.default.Instance.GetRole(x.default.getCustoms())];case 2:return a=i.sent(),this.addoutput.string="\u5173\u5361\u7075\u6c14\u52a0\u6210:"+Math.floor(100*a.outputAdd)+"%",[2]}})})},K.prototype.GetTeam=function(){for(var t=[],e=0;e<this.teamData.length;e++)this.teamData[e].isDie()||t.push(this.teamData[e]);return t},K.prototype.GetMonster=function(){for(var t=[],e=0;e<this.monsterData.length;e++)this.monsterData[e].isDie()||t.push(this.monsterData[e]);return t},K.prototype.RemoveTeamer=function(t){for(var e=0;e<this.teamData.length;e++)this.teamData[e]==t.id&&this.teamData.splice(e)},K.prototype.ToKillMonster=function(t){var e,n,o;0==this.fightType&&(e=this.SceneData.coin,x.default.setCoin(e),cc.systemEvent.emit(T.EventConst.Coin),(n=this.CreateCoinIcon()).setParent(this.node),o=t.node.getPosition(),t=t.node.parent.convertToWorldSpaceAR(o),o=this.node.parent.convertToNodeSpaceAR(t),n.setPosition(cc.v2(o.x,o.y+20)),n.getComponent(h.default).init(e))},K.prototype.Win=function(){return s(this,void 0,void 0,function(){return u(this,function(){return this.over||(this.over=!0,this.state!=p.ready&&(this.wave<this.maxwave?(this.wave++,this.time=0,this.StartFight()):(this.time=0,this.wave=1,this.state=p.ready,this.fightType=0))),[2]})})},K.prototype.Lose=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:if(this.over)return[2];for((t=F.default.Instance.GetPanelByType(N.default.GiveUpPanel))&&t.panelUI.CloseThis(),this.over=!0,n=0;n<this.monsterData.length;n++)this.monsterData[n].ChangeState(J.default.STATE_WAIT),this.monsterData[n].node.active=!1,this.monsterData[n].anger=0;for(e=this.GetTeam(),n=0;n<e.length;n++)e[n].anger=0;return[4,F.default.Instance.ShowUI(N.default.ChallengeLose)];case 1:return o.sent(),this.state!=p.ready&&(this.time=0,this.wave=1,this.state=p.ready,this.fightType=0),[2]}})})},K.prototype.LoseRoam=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:if(this.over)return[2];for(this.over=!0,e=0;e<this.monsterData.length;e++)this.monsterData[e].ChangeState(J.default.STATE_WAIT),this.monsterData[e].node.active=!1,this.monsterData[e].anger=0;for(t=this.GetTeam(),e=0;e<t.length;e++)t[e].anger=0;return O.default.instance.play(O.Sound.FightFail),[4,F.default.Instance.ShowUI(N.default.ChallengeLose)];case 1:return o.sent(),F.default.Instance.GetClass(N.default.ChallengeLose).getComponent(B.default).addCallback(function(){return s(n,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,F.default.Instance.ShowUI(N.default.RoamPanel)];case 1:return t.sent(),this.fail(),[2]}})})}),this.state!=p.ready&&(this.time=0,this.wave=1,this.state=p.ready,this.fightType=0),[2]}})})},K.prototype.LoseChallenge=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:if(this.over)return[2];for(this.over=!0,e=0;e<this.monsterData.length;e++)this.monsterData[e].ChangeState(J.default.STATE_WAIT),this.monsterData[e].node.active=!1,this.monsterData[e].anger=0;for(t=this.GetTeam(),e=0;e<t.length;e++)t[e].anger=0;return O.default.instance.play(O.Sound.FightFail),A.default.getSdk().sendEvent("failLevel",{message:"\u6311\u6218\u5931\u8d25",customes:this.SceneData.level.toString()}),2!=x.default.getMaxCustoms()?[3,5]:(this.initToOnHook(),this.isunlockskill?[4,F.default.Instance.ShowUI(N.default.TalkPanel)]:[3,2]);case 1:return o.sent(),F.default.Instance.GetClass(N.default.TalkPanel).getComponent(j.default).init(101,function(){return s(n,void 0,void 0,function(){return u(this,function(){return[2]})})}),[3,4];case 2:return A.default.getSdk().sendEvent("guide",{message:4}),[4,F.default.Instance.ShowUI(N.default.TalkPanel)];case 3:o.sent(),F.default.Instance.GetClass(N.default.TalkPanel).getComponent(j.default).init(99,function(){return s(n,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,F.default.Instance.ShowUI(N.default.UnlockSys)];case 1:return t.sent(),F.default.Instance.GetClass(N.default.UnlockSys).getComponent(U.default).init(30),this.isunlockskill=!0,[2]}})})}),o.label=4;case 4:return[3,16];case 5:return 9!=x.default.getMaxCustoms()?[3,7]:(this.isFail=!0,this.initToOnHook(),A.default.getSdk().sendEvent("guide",{message:9}),[4,F.default.Instance.ShowUI(N.default.TalkPanel)]);case 6:return o.sent(),F.default.Instance.GetClass(N.default.TalkPanel).getComponent(j.default).init(100,function(){return s(n,void 0,void 0,function(){return u(this,function(){return W.default.instance.ShowGuideSp(1),W.default.instance.teacherid=100,[2]})})}),[3,16];case 7:return this.SceneData.level<x.default.getMaxCustoms()?x.default.tick?(x.default.tick=!1,0<this.reward.length?(this.Showbalance(),[3,10]):[3,8]):[3,11]:[3,14];case 8:return[4,F.default.Instance.ShowUI(N.default.ChallengeLose)];case 9:o.sent(),this.initToOnHook(),o.label=10;case 10:return[3,13];case 11:return[4,F.default.Instance.ShowUI(N.default.ChallengeLose)];case 12:o.sent(),this.initToOnHook(),o.label=13;case 13:return[3,16];case 14:return[4,F.default.Instance.ShowUI(N.default.ChallengeLose)];case 15:o.sent(),this.initToOnHook(),o.label=16;case 16:return[2]}})})},K.prototype.initToOnHook=function(){this.state!=p.ready&&(this.time=0,this.wave=1,this.state=p.ready,this.fightType=0)},K.prototype.LoseTrials=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:if(this.over)return[2];for(this.over=!0,e=0;e<this.monsterData.length;e++)this.monsterData[e].ChangeState(J.default.STATE_WAIT),this.monsterData[e].node.active=!1,this.monsterData[e].anger=0;for(t=this.GetTeam(),e=0;e<t.length;e++)t[e].anger=0;return[4,F.default.Instance.ShowUI(N.default.ChallengeLose)];case 1:return n.sent(),this.time=0,O.default.instance.play(O.Sound.FightFail),this.initToOnHook(),[2]}})})},K.prototype.WinRoam=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.over?[2]:(this.over=!0,this.state==p.ready?[3,3]:this.wave<this.maxwave?(this.wave++,this.time=0,this.OpenRoam(!1),[3,3]):[3,1]);case 1:return this.wave=1,this.time=0,this.state=p.ready,this.fightType=0,O.default.instance.play(O.Sound.FightSuccess),[4,F.default.Instance.ShowUI(N.default.RoamPanel)];case 2:t.sent(),this.success(),t.label=3;case 3:return[2]}})})},K.prototype.WinChallenge=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:return this.over?[2]:((t=F.default.Instance.GetPanelByType(N.default.GiveUpPanel))&&t.panelUI.CloseThis(),this.over=!0,this.state==p.ready?[3,4]:this.wave<this.maxwave?(this.wave++,this.time=0,this.OpenChallenge(!1),[3,4]):[3,1]);case 1:return this.wave=1,e=function(){A.default.getSdk().sendEvent("finishLevel",{message:"\u6311\u6218\u6210\u529f",customes:n.SceneData.level.toString()}),x.default.setCustoms(n.SceneData.level),n.SceneData.level<x.default.getMaxCustoms()?console.log("\u8f6e\u56de\u8ffd\u8d76\u72b6\u6001\uff0c\u4e0d\u4fee\u6539\u6700\u5927\u5173\u5361\u503c"):x.default.setMaxCustoms(n.SceneData.level),n.reward.push(n.SceneData),n.GetReward(),cc.systemEvent.emit(T.EventConst.Maps),2==x.default.getMaxCustoms()&&A.default.getSdk().dot(4)},m.default.Instance.isHaveTalk("end")?[4,F.default.Instance.ShowUI(N.default.TalkPanel)]:[3,3];case 2:return o.sent(),O.default.instance.play(O.Sound.FightSuccess),F.default.Instance.GetClass(N.default.TalkPanel).getComponent(j.default).initCustoms(this.SceneData.level,"end",function(){e()}),[3,4];case 3:e(),o.label=4;case 4:return[2]}})})},K.prototype.WinTrials=function(){return s(this,void 0,void 0,function(){var t,e=this;return u(this,function(n){switch(n.label){case 0:return this.over?[2]:(this.over=!0,this.state==p.ready?[3,3]:this.wave<this.maxwave?(this.wave++,this.time=0,this.OpenTrials(!1),[3,3]):[3,1]);case 1:return this.wave=1,O.default.instance.play(O.Sound.FightSuccess),[4,F.default.Instance.ShowUI(N.default.RewardPanel)];case 2:n.sent(),t=R.default.Instance.GetReward(),F.default.Instance.GetClass(N.default.RewardPanel).getComponent(E.default).initAsset(t,function(){e.OpenTrials()},!0),t=x.default.getMaxTier(),(t+=1)>=R.default.Instance.GetMaxTier()&&(t=R.default.Instance.GetMaxTier()),x.default.setMaxTier(t),this.time=0,this.state=p.ready,this.fightType=0,n.label=3;case 3:return[2]}})})},K.prototype.setText=function(t,e,n){var o=x.default.fightTxt.get();o.setParent(this.LabelContent),o.getComponent(M.default).setText(t,e,n)},K.prototype.update=function(t){if(this.isStart&&(this.MonsterFight.node.active=0!=this.fightType,this.state!=p.challenge&&this.state!=p.Trials&&(this.time<this.interval&&(this.time+=t*x.default.speed),this.time>=this.interval&&this.state==p.ready)))switch(this.time=this.interval,this.fightType){case 0:this.StartFight();break;case 1:this.OpenChallenge();break;case 2:this.OpenTrials()}},K.prototype.ClickChallenge=function(){O.default.instance.play(O.Sound.Click),W.default.instance.HideGuideSp(),this.nowlevel=x.default.getCustoms()+1,1==x.default.getMaxCustoms()&&A.default.getSdk().dot(3),this.state==p.fight||this.state==p.ready?(this.OpenChallenge(),this.challengeBtn.active=!1):this.state==p.challenge?L.default.instance.setText(-1,"\u5f53\u524d\u6b63\u5728\u6311\u6218\u4e2d"):this.state==p.Trials&&L.default.instance.setText(-1,"\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u8bd5\u70bc")},K.prototype.ClickMaps=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return O.default.instance.play(O.Sound.Click),[4,F.default.Instance.ShowUI(N.default.MapsPanel)];case 1:return t.sent(),[2]}})})},K.prototype.CreateThunder=function(){return x.default.Thunder.get()},K.prototype.CreateEddy=function(){var t=x.default.Eddy.get();return t.setParent(this.Down),t.y=320,t},K.prototype.CreateStar=function(){var t=x.default.Star.get();return t.setParent(this.Up),t},K.prototype.CreateKnife=function(){var t=x.default.Knife.get();return t.setParent(this.Up),t},K.prototype.CreateCureMatrix=function(){var t=x.default.CureMatrix.get();return t.setParent(this.Down),t.y=320,t},K.prototype.CreateWind=function(){var t=x.default.Wind.get();return t.setParent(this.Up),t},K.prototype.CreateBaneMatrix=function(){var t=x.default.BaneMatrix.get();return t.setParent(this.Down),t},K.prototype.CreateTreat=function(){return x.default.treat.get()},K.prototype.Createbuttet=function(){var t=x.default.buttet.get();return t.setParent(this.Up),t},K.prototype.CreateMoon=function(){var t=x.default.Moon.get();return t.setParent(this.Up),t},K.prototype.CreateFlamepalm=function(){var t=x.default.Flamepalm.get();return t.setParent(this.Up),t},K.prototype.CreateFireBall=function(){var t=x.default.Fireball.get();return t.setParent(this.Up),t},K.prototype.CreateFlame=function(){var t=x.default.Flame.get();return t.setParent(this.Up),t},K.prototype.CreatePersistCure=function(){var t=x.default.PersistCure.get();return t.setParent(this.Up),t},K.prototype.CreateHothalo=function(){var t=x.default.Hothalo.get();return t.setParent(this.Down),t},K.prototype.CreateSkill=function(t,e){var n=x.default.SkillSp.get();return n.setParent(this.SkillUi),n.getComponent(y.default).init(t,e),n},K.prototype.CreatorMonster=function(){var t=x.default.monster.get();return t.setParent(this.onhookMonster),t},K.prototype.CreateSkillLJ=function(){var t=x.default.SkillLJ.get();return t.setParent(this.Down),t},K.prototype.CreateSkillHC=function(){var t=x.default.SkillHC.get();return t.setParent(this.Down),t},K.prototype.initMask=function(t){cc.systemEvent.emit(T.EventConst.Maps),this.startSp.node.active=!0,this.startSp.setAnimation(0,"start",!1),setTimeout(function(){t()},500)},K.prototype.CreateCoinIcon=function(){return x.default.CoinIcon.get()},K.prototype.ClearUpAndDown=function(){this.Down.destroyAllChildren(),this.Up.destroyAllChildren()},K.prototype.CreateCure=function(){var t=x.default.cure.get();return t.setParent(this.Up),t},K.prototype.CreateMontser=function(){var t=x.default.monsteritem.get();return t.setParent(this.MonsterContent),t},K.prototype.MonsterRealm=function(t){var e=b.default.Instance.GetMaxLv();return e=0==t?e-2:e+3,S.default.Instance.GetRealm(e=200<=(e=e<=1?1:e)?200:e)},K.prototype.GetReward=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a;return u(this,function(){for(t=this.SceneData,e=[],0<t.rewardCoin&&(n=k.default.Instance.GetCoinProp(),e.push({prop:n,have:t.rewardCoin})),0<t.rewardgoods1num&&(n=k.default.Instance.GetProp(t.rewardgoods1),e.push({prop:n,have:t.rewardgoods1num})),0<t.rewardgoods2num&&(n=k.default.Instance.GetProp(t.rewardgoods2),e.push({prop:n,have:t.rewardgoods2num})),0<t.rewardgoods3num&&(n=k.default.Instance.GetProp(t.rewardgoods3),e.push({prop:n,have:t.rewardgoods3num})),o=0;o<e.length;o++)4==e[o].prop.type?(a=_.default.Instance.GetAddOutput()*e[o].have,F.default.Instance.GetCoin(a)):5==e[o].prop.type?(a=v.default.Instance.GetOutPut()*e[o].have,F.default.Instance.GetJewel(a)):k.default.Instance.addPack([e[o]]);return F.default.Instance.ShowUI(N.default.ShowNewEquip),this.SceneData.level<x.default.getMaxCustoms()&&x.default.tick?(this.time=0,this.state=p.ready,this.fightType=1):this.Showbalance(),[2]})})},K.prototype.Showbalance=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(e){switch(e.label){case 0:return[4,F.default.Instance.ShowUI(N.default.NEWRESULT_PANEL)];case 1:return e.sent(),F.default.Instance.GetClass(N.default.NEWRESULT_PANEL).getComponent(G.default).init(this.reward,function(e){t.reward=[],e?(t.time=0,t.state=p.ready,t.fightType=0,t.challengeBtn.active=!0,t.outBtn.active=!1,t.ClickChallenge()):(t.time=0,t.state=p.ready,t.fightType=0,t.challengeBtn.active=!0,t.outBtn.active=!1,9==x.default.getMaxCustoms()&&x.default.getMaxLevel()<10&&W.default.instance.ShowGuideSp(24))}),[2]}})})},K.prototype.ClickTick=function(){O.default.instance.play(O.Sound.Click),x.default.tick=!x.default.tick,this.tick.active=x.default.tick},K.prototype.ToStartpos=function(){this.playerNum++;var t=this.GetTeam().length;this.playerNum>=t&&(this.playerNum=0,1==this.fightType?this.WinChallenge():2==this.fightType?this.WinTrials():3==this.fightType&&this.WinRoam())},K.prototype.OnHooKCallback=function(){this.playerNum++;var t=this.GetTeam().length;this.playerNum>=t&&(this.playerNum=0,this.Win())},K.prototype.ClickOut=function(){O.default.instance.play(O.Sound.Click),F.default.Instance.ShowUI(N.default.GiveUpPanel)},K.prototype.initBlash=function(){},K.prototype.CreatewzlxHit=function(){var t=x.default.wzlxHit.get();return t.setParent(this.Up),t},K.prototype.ShowFightBtn=function(){this.SkillContent.active=!!(3<x.default.getMaxCustoms()||this.isunlockskill),this.fightContent.active=!0,this.challengeBtn.active=!1,this.challengebg.active=!0,W.default.instance.Automatic.node.active=I.default.Instance.isUnlcok(3),this.tips.active=!1,this.quickBtn.active=!1},K.prototype.HideFightBtn=function(){this.SkillContent.active=!1,this.fightContent.active=!1,this.challengeBtn.active=!0,this.challengebg.active=!1,W.default.instance.Automatic.node.active=!1,this.tips.active=!0,this.ShowQuick()},K.prototype.ShowQuick=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return t=x.default.getMaxCustoms(),[4,P.default.Instance.GetNowPlace(t)];case 1:return t=e.sent(),x.default.getCustoms()<t[0].level?(this.quickBtn.active=!0,this.quickBtn.getChildByName("layout").getChildByName("customs").getComponent(cc.Label).string=""+t[0].name):this.quickBtn.active=!1,[2]}})})},K.prototype.initCustomes=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c;return u(this,function(s){switch(s.label){case 0:return x.default.getCustoms(),t=[0,0,0,0,0],e=0,[4,P.default.Instance.GetNowPlace()];case 1:return n=s.sent(),o=0,[4,P.default.Instance.GetRole()];case 2:for(a=s.sent(),o=a.level2,e=o<=3?o-1:2<=n.length-o?2:4-(n.length-o),r=0;r<5;r++)i=r-e,t[r]=o+i;for(r=0;r<this.customes.childrenCount;r++)l=this.customes.children[r].getComponent(cc.Sprite),this.customes.children[r].getChildByName("level").getComponent(cc.Label).string=""+t[r],t[r]==o?l.spriteFrame=this.customsSp[0]:(c=0<n[t[r]-1].boss1_num,l.spriteFrame=c?this.customsSp[2]:this.customsSp[1]);return[2]}})})},K.prototype.playChallengelv=function(){var t=this.challengelv.node.parent;t.active=!0,t.opacity=0,this.challengelv.string=this.SceneData.name+"-"+this.SceneData.level2,cc.tween(t).delay(.5).to(.3,{opacity:255}).delay(.5).to(.3,{opacity:0}).call(function(){t.active=!1}).start()},K.prototype.QuickToCustomes=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a=this;return u(this,function(i){switch(i.label){case 0:t=x.default.getMaxCustoms(),e=[],n=x.default.getCustoms(),i.label=1;case 1:return n<=t?[4,P.default.Instance.GetRole(n)]:[3,4];case 2:o=i.sent(),e.push(o),i.label=3;case 3:return n++,[3,1];case 4:return[4,F.default.Instance.ShowUI(N.default.NEWRESULT_PANEL)];case 5:return i.sent(),F.default.Instance.GetClass(N.default.NEWRESULT_PANEL).getComponent(G.default).init(e,function(){a.Rewardinit(e)}),x.default.getMaxCustoms()<t&&x.default.setMaxCustoms(t),x.default.setCustoms(t),cc.systemEvent.emit(T.EventConst.Maps),this.quickBtn.active=!1,[2]}})})},K.prototype.Rewardinit=function(t){for(var e,n,o,a=[],i=0;i<t.length;i++)0<t[i].rewardCoin&&(e=k.default.Instance.GetCoinProp(),n=t[i].rewardCoin,this.addReward(a,e,n)),0<t[i].rewardgoods1num&&(e=k.default.Instance.GetProp(t[i].rewardgoods1),n=t[i].rewardgoods1num,this.addReward(a,e,n)),0<t[i].rewardgoods2num&&(e=k.default.Instance.GetProp(t[i].rewardgoods2),n=t[i].rewardgoods2num,this.addReward(a,e,n)),0<t[i].rewardgoods3num&&(e=k.default.Instance.GetProp(t[i].rewardgoods3),n=t[i].rewardgoods3num,this.addReward(a,e,n));for(i=0;i<a.length;i++)4==a[i].prop.type?(o=_.default.Instance.GetAddOutput()*a[i].have,F.default.Instance.GetCoin(o)):5==a[i].prop.type?(o=v.default.Instance.GetOutPut()*a[i].have,F.default.Instance.GetJewel(o)):(k.default.Instance.addPack([a[i]]),C.default.Instance.AddNewEquip(a[i]))},K.prototype.addReward=function(t,e,n){if(t.length<=0)t.push({prop:e,have:n});else for(var o=0;o<t.length;o++){if(t[o].prop.id==e.id){t[o].have+=n;break}if(o>=t.length-1){t.push({prop:e,have:n});break}}},K.instance=null,c([a(cc.Label)],K.prototype,"addoutput",void 0),c([a(cc.Node)],K.prototype,"quickBtn",void 0),c([a(cc.Label)],K.prototype,"challengelv",void 0),c([a(cc.Node)],K.prototype,"challengebg",void 0),c([a(cc.Node)],K.prototype,"customes",void 0),c([a(cc.Node)],K.prototype,"SkillUi",void 0),c([a(cc.SpriteFrame)],K.prototype,"customsSp",void 0),c([a(cc.Prefab)],K.prototype,"Smelter",void 0),c([a(cc.Prefab)],K.prototype,"cure",void 0),c([a(cc.Prefab)],K.prototype,"treat",void 0),c([a(cc.Prefab)],K.prototype,"wzlxHit",void 0),c([a(cc.Prefab)],K.prototype,"SkillSp",void 0),c([a(cc.Prefab)],K.prototype,"SkillHC",void 0),c([a(cc.Prefab)],K.prototype,"SkillLJ",void 0),c([a(cc.Prefab)],K.prototype,"danMadicine",void 0),c([a(cc.Prefab)],K.prototype,"star",void 0),c([a(cc.Prefab)],K.prototype,"monster",void 0),c([a(cc.Prefab)],K.prototype,"fighttxt",void 0),c([a(cc.Prefab)],K.prototype,"buttet",void 0),c([a(cc.Prefab)],K.prototype,"Fireball",void 0),c([a(cc.Prefab)],K.prototype,"Thunder",void 0),c([a(cc.Prefab)],K.prototype,"Eddy",void 0),c([a(cc.Prefab)],K.prototype,"Star",void 0),c([a(cc.Prefab)],K.prototype,"Knife",void 0),c([a(cc.Prefab)],K.prototype,"CureMatrix",void 0),c([a(cc.Prefab)],K.prototype,"Wind",void 0),c([a(cc.Prefab)],K.prototype,"BaneMatrix",void 0),c([a(cc.Prefab)],K.prototype,"Discipleitem",void 0),c([a(cc.Prefab)],K.prototype,"Moon",void 0),c([a(cc.Prefab)],K.prototype,"Flame",void 0),c([a(cc.Prefab)],K.prototype,"Flamepalm",void 0),c([a(cc.Prefab)],K.prototype,"PersistCure",void 0),c([a(cc.Prefab)],K.prototype,"Hothalo",void 0),c([a(cc.Prefab)],K.prototype,"CoinIcon",void 0),c([a(cc.Prefab)],K.prototype,"rewardItem",void 0),c([a(cc.Prefab)],K.prototype,"packitem",void 0),c([a(cc.Prefab)],K.prototype,"SectTxt",void 0),c([a(cc.Prefab)],K.prototype,"equipitem",void 0),c([a(cc.Prefab)],K.prototype,"spectrum",void 0),c([a(cc.Prefab)],K.prototype,"raiseditem",void 0),c([a(cc.Prefab)],K.prototype,"roamboxitem",void 0),c([a(cc.Prefab)],K.prototype,"monsteritem",void 0),c([a(cc.Label)],K.prototype,"TeamFight",void 0),c([a(cc.Label)],K.prototype,"Coin",void 0),c([a(cc.Sprite)],K.prototype,"artifacts",void 0),c([a(cc.Node)],K.prototype,"outBtn",void 0),i=d=c([i],K),r.default=i,cc._RF.pop()},{}],GameGroup:[function(t,e,n){"use strict";cc._RF.push(e,"31cd3IMywlAJq4ThWNAl77F","GameGroup");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("SceneDataManager"),d=a("GameSys"),h=a("EventConst"),y=a("GameTools");function v(){var t=null!==p&&p.apply(this,arguments)||this;return t.CoinLabel=null,t.JewelLabel=null,t.map=null,t.backgroup=[],t.Map1deviation=[254,205,254],t.Map2deviation=[150,150,150],t}a=(i=cc._decorator).ccclass,i=i.property,l(v,p=cc.Component),v.prototype.onLoad=function(){var t=this;this.initCoin(),this.initJewel(),cc.systemEvent.on(h.EventConst.GameStart,function(){cc.systemEvent.on(h.EventConst.Coin,t.initCoin,t),cc.systemEvent.on(h.EventConst.Jewel,t.initJewel,t),cc.systemEvent.on(h.EventConst.Maps,t.initMaps,t)})},v.prototype.initMaps=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,f.default.Instance.GetRole()];case 1:switch(t=n.sent(),e=0,t.scene){case"\u9e21\u7a9d\u6751":e="\u6751\u4e1c\u5934"==t.name||"\u9e21\u7a9d\u8def"==t.name?0:"\u7504\u5bb6\u8def"==t.name||"\u5c71\u5be8\u8def"==t.name?7:6;break;case"\u65ee\u65ef\u9547":e=1;break;case"\u795e\u9a6c\u9547":e=2;break;case"\u739b\u6cd5\u5996\u754c":e=3;break;case"\u5916\u661f\u7403":e=4;break;case"\u795e\u7cbe\u754c":e=5}return this.map.spriteFrame=this.backgroup[e],[2]}})})},v.prototype.initCoin=function(){this.CoinLabel.string=y.default.refSetCoin(d.default.getCoin())},v.prototype.initJewel=function(){this.JewelLabel.string=y.default.refSetCoin(d.default.getJewel())},v.prototype.update=function(){},c([i(cc.Label)],v.prototype,"CoinLabel",void 0),c([i(cc.Label)],v.prototype,"JewelLabel",void 0),c([i(cc.Sprite)],v.prototype,"map",void 0),c([i(cc.SpriteFrame)],v.prototype,"backgroup",void 0),a=c([a],v),r.default=a,cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"948e0qzHTVEOIc2iShJfgCq","GameManager");var o,a=n;function i(){}Object.defineProperty(a,"__esModule",{value:!0}),i.registObserver=function(t){this.observers.push(t)},i.sendMessage=function(t){for(var e=0,n=this.observers.length;e<n&&!this.observers[e].notify(t);e++);},i.sendSimpleMessage=function(t){this.sendMessage({type:t})},i.observers=[],o=i,a.default=o,cc._RF.pop()},{}],GameMessage:[function(t,e,n){"use strict";cc._RF.push(e,"e0f47H83MNDiYeyX0KJ3oW/","GameMessage");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],GameSys:[function(t,e,n){"use strict";cc._RF.push(e,"695ff9pb4xIlbFpZdMbnh7i","GameSys");var o,a=t,i=e,r=n;o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Object.defineProperty(r,"__esModule",{value:!0});var l,c=a("Recorder"),s=a("GameTools"),u=a("EventConst");function p(){return null!==l&&l.apply(this,arguments)||this}i(p,l=cc.Component),p.LoadGameDate=function(){this.saveTime=c.default.readInt("SAVETIME",0),this.todayTime=c.default.readInt("TOADYTIME",0),this.team=c.default.readobjArray("TEAM",this.initTeam()),this.petIndex=c.default.readInt("PETINDEX",1),this.disciplerank=c.default.readintArray("DISCIPLERANK",[0,0,0,0]),this.level=c.default.readInt("LEVEL",1),this.maxlevel=c.default.readInt("MAXLEVEL",1),this.ore=c.default.readInt("ORE",0),this.oregoods=c.default.readobjArray("OREGOODS",[]),this.orereftime=c.default.readintArray("OREREFTIME",[0,0]),this.worldrankworship=c.default.readintArray("WORLDRANKWORSHIP",[0,0,0,0,0,0]),this.wxvideocount=c.default.readInt("WXVIDEOCOUNT",30),this.sex=c.default.readInt("SEX",0),this.coin=c.default.readInt("COIN",0),this.jewel=c.default.readInt("JEWEL",300),this.isFirstLoad=c.default.readBool("ISFRISTLOAD",!0),this.devil=c.default.readInt("DEVIL",0),this.buycount=c.default.readInt("BUYCOUNT",0),this.maxartifacts=c.default.readInt("MAXARTIFACTS",0),this.artifactslist=c.default.readintArray("ARTIFACTSLIST",this.initArtifacts()),this.unlockartifacts=c.default.readintArray("UNLOCKARTIFACTS",[]),this.nowartifacts=c.default.readInt("NOWARTIFACTS",0),this.quality=c.default.readInt("QUALITY",0),this.cdk=c.default.readintArray("CDK",[]),this.wxcdk=c.default.readCDKArray("WXCDK",this.initWXCDK()),this.friend=c.default.readFriend("FRIEND",[]),this.wxsw=c.default.readintArray("WXSW",[0,0,0,0,0,0,0,0,0,0]),this.opentimes=c.default.readInt("OPENTIMES",1),this.crystal=c.default.readInt("CRYSTAL",0),this.wxscene=c.default.readString("WXSCENE",this.wxscene),this.realm=c.default.readintArray("REALM",this.initRealm()),this.openAwemeUserProfile=c.default.readBool("OPENAWEMEUSERPROFILE",!1),this.jbg=c.default.readintArray("JBG",[0,0,0,0,0,0,0]),this.petlevel2=c.default.readintArray("PETLEVEL2",[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.petexp2=c.default.readintArray("PETEXP2",[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.customs=c.default.readInt("CUSTOMS",1),this.maxcustoms=c.default.readInt("MAXCUSTOMS",1),this.guide=c.default.readintArray("GUIDE",[1,0]),this.everyday=c.default.readEveryDay("EVERYDAY",this.initEveryDay()),this.everydaycount=c.default.readInt("EVERYDAYCOUNT",0),this.award=c.default.readintArray("AWARD",this.initAward()),this.roamcount=c.default.readInt("ROAMCOUNT",0),this.intensivecount=c.default.readInt("INTENSIVECOUNT",0),this.makecount=c.default.readInt("MAKECOUNT",0),this.shopcount=c.default.readInt("SHOPCOUNT",0),this.tier=c.default.readInt("TIER",1),this.maxtier=c.default.readInt("MAXTIER",1),this.resume=c.default.readInt("RESUME",0),this.buildlv=c.default.readintArray("BUILDLV",[0,0,0,0,0,0,0,0,0,0]),this.resetcount=c.default.readInt("RESETCOUNT",1),this.mopup=c.default.readInt("MOPUP",1),this.music=c.default.readBool("MUSIC",!0),this.goods=c.default.readintArray("GOODS",this.initGoods()),this.shopref=c.default.readInt("SHOPREF",4),this.shopboxnum=c.default.readintArray("SHOPBOXNUM",[2,2]),this.shopboxtime=c.default.readintArray("SHOPBOXTIME",[0,0]),this.reftime=c.default.readintArray("REFTIME",[0,0,0,0]),this.goodsitem=c.default.readObject("GOODSITEM",{}),this.pack=c.default.readpack("PACK",[]),this.reincarn=c.default.readInt("REINCARN",0),this.reincarncount=c.default.readInt("REINCARNCOUNT",1),this.automatic=c.default.readBool("AUTOMATIC",!1),this.Speed=c.default.readBool("SPEED",!1),this.online=c.default.readInt("ONLINE",0),this.onlineisget=c.default.readintArray("ONLINEISGET",[0,0,0,0]),this.day=c.default.readInt("DAY",0),this.signisget=c.default.readBool("SIGNISGET",!1),this.dicenum=c.default.readInt("DICENUM",10),this.dicetime=c.default.readInt("DICETIME",0),this.pos=c.default.readInt("POS",2),this.roamexp=c.default.readInt("ROAMEXP",0),this.roambox=c.default.readintArray("ROAMBOX",[]),this.roamboxisget=c.default.readintArray("ROAMBOXISGET",[]),this.landmark=c.default.readintArray("LANDMARK",this.initLandMark()),this.drugnum=c.default.readintArray("DRUGNUM",[0,0,0,0,0,0]),this.drugtime=c.default.readintArray("DRUGTIME",[0,0,0,0,0,0]),this.drugboxnum=c.default.readintArray("DRUGBOXNUM",[0,0,0,0,0,0]),this.drugover=c.default.readintArray("DRUGOVER",[0,0,0,0,0,0]),this.drugcount=c.default.readInt("DRUGCOUNT",0),this.realmexp=c.default.readInt("REALMEXP",0),this.intensifyLv=c.default.readintArray("INTENSIFYLV",[0,0,0,0,0]),this.skilllevel=c.default.readintArray("SKILLLEVEL",[1,0,0,0,0]),this.discipleLv=c.default.readDisciple("DISCIPLELV",this.initDisciple()),this.isAddToDesktop=c.default.readBool("ISADDTODESKTOP",!1),this.isaddColorSign=c.default.readBool("ISADDCOLORSIGN",!1),this.subscribemsg=c.default.readBool("SUBSCRIBEMSG",!1),this.addmy=c.default.readBool("ADDMY",!1),this.savetodesktop=c.default.readBool("SAVETODESKTIP",!1),this.sevenday=c.default.readInt("SEVENDAY",0),this.sevencount=c.default.readInt("SEVENCOUNT",0),this.rankid=s.default.getSdk().getRankId(),"QQ"==p.channel||"WX"==p.channel||"TT"==p.channel||(t=new Date,p.serverTime=t.getTime());var t=new Date(this.serverTime).setHours(0,0,0,0);this.todayTime<t&&(console.log("\u8de8\u5929\u4e86\u5237\u65b0"),this.quality=0,c.default.writeData("QUALITY",this.quality),this.todayTime=t,c.default.writeData("TOADYTIME",this.todayTime),this.resetcount=1,c.default.writeData("RESETCOUNT",this.resetcount),this.mopup=1,c.default.writeData("MOPUP",this.mopup),this.shopboxnum=[2,2],c.default.writeData("SHOPBOXNUM",this.shopboxnum),this.reftime=[0,0,0,0],c.default.writeData("REFTIME",this.reftime),this.reincarncount=1,c.default.writeData("REINCARNCOUNT",this.reincarncount),this.everyday=this.initEveryDay(),c.default.writeData("EVERYDAY",this.everyday),this.setShopRefCount(!0),this.online=0,c.default.writeData("ONLINE",this.online),this.onlineisget=[0,0,0,0],c.default.writeData("ONLINEISGET",this.onlineisget),this.day+=1,c.default.writeData("DAY",this.day),this.signisget=!1,c.default.writeData("SIGNISGET",this.signisget),this.worldrankworship=[0,0,0,0,0,0],c.default.writeData("WORLDRANKWORSHIP",this.worldrankworship),this.wxvideocount=30,c.default.writeData("WXVIDEOCOUNT",this.wxvideocount),this.wxsw=[0,0,0,0,0,0,0,0,0,0],c.default.writeData("WXSW",this.wxsw),this.orereftime=[0,0],c.default.writeData("OREREFTIME",this.orereftime),this.friend=[],c.default.writeData("FRIEND",this.friend)),this.Plate(),s.default.getSdk().controlKey(),c.default.localRecorder.writeData("ENC",1)},p.initTeam=function(){for(var t=[],e=0;e<6;e++)0==e?t.push({type:0,id:0}):1==e?t.push({type:1,id:-1}):t.push({type:2,id:-1});return t},p.initArtifacts=function(){for(var t=[],e=0;e<12;e++)t.push(0);return t},p.initDisciple=function(){for(var t=[],e=0;e<4;e++)t.push({level:1,skill1:1,skill2:0,skill3:0,unlock:!1,state:!1});return t},p.initEveryDay=function(){for(var t=[],e=0;e<12;e++)t.push({state:0,time:0});return t},p.initAward=function(){for(var t=[],e=0;e<15;e++)t.push(1);return t},p.initGoods=function(){for(var t=[],e=0;e<12;e++)t.push(1);return t},p.initLandMark=function(){for(var t=[],e=0;e<12;e++)t.push(0);return t},p.initRealm=function(){for(var t=[],e=0;e<20;e++)t.push(0);return t},p.initWXCDK=function(){for(var t=["vip666","vip888","vip999","fuli888","fuli688","fuli998","libao668","libao899","buchang420","buchang466"],e=[],n=0;n<t.length;n++)e.push({CDK:t[n],state:!1});return e},p.Plate=function(){10!=this.wxsw.length&&(this.wxsw=[0,0,0,0,0,0,0,0,0,0],c.default.writeData("WXSW",this.wxsw));var t=this.initWXCDK();if(this.wxcdk.length!=t.length)for(var e=0;e<t.length;e++)for(var n=0;n<this.wxcdk.length&&this.wxcdk[n].CDK!=t[e].CDK;n++)this.wxcdk[n].CDK!=t[e].CDK&&n==this.wxcdk.length-1&&this.wxcdk.push(t[e]);if(this.setWXCDK(this.wxcdk),this.petlevel2.length<=10){for(e=0;e<20;e++)e<10?10<=this.petlevel2[e]&&(this.petlevel2[e]=10):this.petlevel2.push(1);this.initPetLevel(this.petlevel2)}if(this.petexp2.length<=10){for(e=0;e<20;e++)e<10||this.petexp2.push(0);this.initPetExp(this.petexp2)}},p.SaveGameDate=function(){c.default.writeDatas({TEAM:this.team,SAVETIME:this.saveTime,LEVEL:this.level,MAXLEVEL:this.maxlevel,COIN:this.coin,JEWEL:this.jewel,BUYCOUNT:this.buycount,MAXARTIFACTS:this.maxartifacts,ARTIFACTSLIST:this.artifactslist,UNLOCKARTIFACTS:this.unlockartifacts,NOWARTIFACTS:this.nowartifacts,CUSTOMS:this.customs,MAXCUSTOMS:this.maxcustoms,DRUGNUM:this.drugnum,DRUGTIME:this.drugtime,REALMEXP:this.realmexp,DRUGOVER:this.drugover,DRUGBOXNUM:this.drugboxnum,EVERYDAY:this.everyday,SHOPBOXTIME:this.shopboxtime,DICETIME:this.dicetime,DEVIL:this.devil,ONLINE:this.online,FRIEND:this.friend})},p.getWxScene=function(){return this.wxscene},p.setWxScene=function(t){"0"==this.wxscene&&(this.wxscene=t,c.default.writeData("WXSCENE",this.wxscene))},p.getOreRefTime=function(){return this.orereftime},p.setOreRefTime=function(t){this.orereftime=t,c.default.writeData("OREREFTIME",this.orereftime)},p.getOreGoods=function(){return this.oregoods},p.setOreGoods=function(t){this.oregoods=t,c.default.writeData("OREGOODS",this.oregoods)},p.getOre=function(){return this.ore},p.setOre=function(t){this.ore+=t,c.default.writeData("ORE",this.ore)},p.getDiscipleRank=function(){return this.disciplerank},p.setDiscipleRank=function(t){this.disciplerank[t]++,c.default.writeData("DISCIPLERANK",this.disciplerank)},p.getOpenTimes=function(){return this.opentimes},p.setOpentimes=function(){this.opentimes++,c.default.writeData("OPENTIMES",this.opentimes)},p.getCrystal=function(){return this.crystal},p.setCrystal=function(t){this.crystal+=t,c.default.writeData("CRYSTAL",this.crystal)},p.getWxSW=function(){return this.wxsw},p.setWxSW=function(t){this.wxsw=t,c.default.writeData("WXSW",this.wxsw)},p.getJBG=function(){return this.jbg},p.setJBG=function(t){this.jbg[t]=1,c.default.writeData("JBG",this.jbg)},p.getFriend=function(){return this.friend},p.setFriend=function(t){this.friend=t,c.default.writeData("FRIEND",this.friend)},p.getWXCDK=function(){return this.wxcdk},p.setWXCDK=function(t){this.wxcdk=t,c.default.writeData("WXCDK",this.wxcdk)},p.getWXVideoCount=function(){return this.wxvideocount},p.setWXVideoCount=function(t){t?this.wxvideocount=t:this.wxvideocount--,c.default.writeData("WXVIDEOCOUNT",this.wxvideocount)},p.getWorldWorship=function(){return this.worldrankworship},p.setWorldWorship=function(t){this.worldrankworship[t]=1,c.default.writeData("WORLDRANKWORSHIP",this.worldrankworship)},p.getCDK=function(){return this.cdk},p.setCDK=function(t){this.cdk.push(t),c.default.writeData("CDK",this.cdk)},p.getRealm=function(){return this.realm},p.setRealm=function(t){this.realm=t,c.default.writeData("REALM",this.realm)},p.setopenAwemeUserProfile=function(){this.openAwemeUserProfile=!0,c.default.writeData("OPENAWEMEUSERPROFILE",this.openAwemeUserProfile)},p.getQuality=function(){return this.quality},p.setQuality=function(){this.quality++,c.default.writeData("QUALITY",this.quality)},p.getSevenDay=function(){return this.sevenday},p.getSevenCount=function(){return this.sevencount},p.getSaveToDesktip=function(){return this.savetodesktop},p.setSaveToDesktip=function(){this.savetodesktop=!0,c.default.writeData("SAVETODESKTIP",this.savetodesktop)},p.getAddMy=function(){return this.addmy},p.setAddMy=function(){this.addmy=!0,c.default.writeData("ADDMY",this.addmy)},p.getSubscribemsg=function(){return this.subscribemsg},p.setSubscribemsg=function(){this.subscribemsg=!0,c.default.writeData("SUBSCRIBEMSG",this.subscribemsg)},p.getDay=function(){return this.day},p.getSignIsGet=function(){return this.signisget},p.setSignIsGet=function(){this.signisget=!0,c.default.writeData("SIGNISGET",this.signisget)},p.getOnlineIsGet=function(){return this.onlineisget},p.setOnlineIsGet=function(t){this.onlineisget[t]=1,c.default.writeData("ONLINEISGET",this.onlineisget)},p.getOnline=function(){return this.online},p.setOnline=function(t){this.online=t,c.default.writeData("ONLINE",this.online)},p.getDevil=function(){return this.devil},p.setDevil=function(t){this.devil=t,c.default.writeData("DEVIL",this.devil)},p.getPetIndex=function(){return this.petIndex},p.setPetIndex=function(t){this.petIndex=t,c.default.writeData("PETINDEX",this.petIndex)},p.getSpeed=function(){return this.Speed},p.setSpeed=function(t){this.Speed=t,c.default.writeData("SPEED",this.Speed)},p.getAutomatic=function(){return this.automatic},p.setAutomatic=function(){this.automatic=!this.automatic,c.default.writeData("AUTOMATIC",this.automatic)},p.getMaxCustoms=function(){return this.maxcustoms},p.setMaxCustoms=function(t){this.maxcustoms=t,c.default.writeData("MAXCUSTOMS",this.maxcustoms)},p.getRoamBoxIsGet=function(){return this.roamboxisget},p.setRoamBoxIsGet=function(t){this.roamboxisget=t,c.default.writeData("ROAMBOXISGET",this.roamboxisget)},p.getLandmark=function(){return this.landmark},p.setLandmark=function(t){this.landmark[t]+=1,c.default.writeData("LANDMARK",this.landmark)},p.getRoamExp=function(){return this.roamexp},p.setRoamExp=function(t){this.roamexp+=t,c.default.writeData("ROAMEXP",this.roamexp)},p.getRoamBox=function(){return this.roambox},p.setRoamBox=function(t){this.roambox=t,c.default.writeData("ROAMBOX",this.roambox)},p.getPos=function(){return this.pos},p.setPos=function(t){this.pos=t,c.default.writeData("POS",this.pos)},p.getDiceNum=function(){return this.dicenum},p.setDiceNum=function(t){this.dicenum+=t,c.default.writeData("DICENUM",this.dicenum)},p.getDiceTime=function(){return this.dicetime},p.setDiceTime=function(t){this.dicetime=t,c.default.writeData("DICETIME",this.dicetime)},p.getReincarn=function(){return this.reincarn},p.setReincarn=function(t){this.reincarn=t,this.setResume(),c.default.writeData("REINCARN",this.reincarn)},p.getReincarnCount=function(){return this.reincarncount},p.setReincarnCount=function(t){this.reincarncount=t,this.setResume(),c.default.writeData("REINCARNCOUNT",this.reincarncount)},p.getPack=function(){return this.pack},p.setPack=function(t){this.pack=t,c.default.writeData("PACK",this.pack)},p.getGoodsItem=function(){return this.goodsitem},p.setGoodsItem=function(t){this.goodsitem=t,c.default.writeData("GOODSITEM",this.goodsitem)},p.getRefTime=function(){return this.reftime},p.setRefTime=function(t){this.reftime=t,c.default.writeData("REFTIME",this.reftime)},p.getShopBoxNum=function(){return this.shopboxnum},p.setShopBoxNum=function(t){this.shopboxnum=t,c.default.writeData("SHOPBOXNUM",this.shopboxnum)},p.getShopBoxTime=function(){return this.shopboxtime},p.setShopBoxTime=function(t){this.shopboxtime=t,c.default.writeData("SHOPBOXTIME",this.shopboxtime)},p.getShopRefCount=function(){return this.shopref},p.setShopRefCount=function(t){(t=void 0!==t&&t)?this.shopref=4:--this.shopref,c.default.writeData("SHOPREF",this.shopref)},p.getGoods=function(){return this.goods},p.setGoods=function(t){this.goods=t,c.default.writeData("GOODS",this.goods)},p.getMusic=function(){return this.music},p.setMusic=function(t){this.music=t,c.default.writeData("MUSIC",this.music)},p.getMopUp=function(){return this.mopup},p.setMopUp=function(t){this.mopup=t,c.default.writeData("MOPUP",this.mopup)},p.getResetCount=function(){return this.resetcount},p.setResetCount=function(t){this.resetcount=t,c.default.writeData("RESETCOUNT",this.resetcount)},p.getBuildLv=function(){return this.buildlv},p.setBuildLv=function(t){this.buildlv=t,c.default.writeData("BUILDLV",this.buildlv)},p.getResume=function(){return this.resume},p.setResume=function(){this.resume+=1,c.default.writeData("RESUME",this.resume)},p.getMaxTier=function(){return this.maxtier},p.setMaxTier=function(t){this.maxtier=t,c.default.writeData("MAXTIER",this.maxtier)},p.getTier=function(){return this.tier},p.setTier=function(t){this.tier=t,c.default.writeData("TIER",this.tier)},p.getShopCount=function(){return this.shopcount},p.setShopCount=function(){this.shopcount++,c.default.writeData("SHOPCOUNT",this.shopcount)},p.getMakeCount=function(){return this.makecount},p.setMakeCount=function(){this.makecount++,c.default.writeData("MAKECOUNT",this.makecount)},p.getIntensiveCount=function(){return this.intensivecount},p.setIntensiveCount=function(){this.intensivecount++,c.default.writeData("INTENSIVECOUNT",this.intensivecount)},p.getEveryDayCount=function(){return this.everydaycount},p.setEveryDayCount=function(){this.everydaycount++,c.default.writeData("EVERYDAYCOUNT",this.everydaycount)},p.getDrugCount=function(){return this.drugcount},p.setDrugCount=function(t){this.drugcount+=t,c.default.writeData("DRUGCOUNT",this.drugcount)},p.getRoamCount=function(){return this.roamcount},p.setRoamCount=function(){this.roamcount++,c.default.writeData("ROAMCOUNT",this.roamcount)},p.getAward=function(){return this.award},p.setAward=function(t){this.award=t,c.default.writeData("AWARD",this.award)},p.getEveryDay=function(){return this.everyday},p.setEveryDay=function(t){this.everyday=t,c.default.writeData("EVERYDAY",this.everyday)},p.getGuide=function(){return this.guide},p.setGuide=function(t){this.guide=t,c.default.writeData("GUIDE",this.guide)},p.getDisciple=function(){return this.discipleLv},p.setDisciple=function(t){this.discipleLv=t,c.default.writeData("DISCIPLELV",this.discipleLv),cc.systemEvent.emit(u.EventConst.Game_Guide)},p.getSkillLevel=function(){return this.skilllevel},p.setSkillLevel=function(t){this.skilllevel[t]+=1,c.default.writeData("SKILLLEVEL",this.skilllevel)},p.initSkillLevel=function(){this.skilllevel=[1,0,0,0,0],c.default.writeData("SKILLLEVEL",this.skilllevel)},p.getIntensify=function(){return this.intensifyLv},p.setIntensify=function(t){this.intensifyLv[t]+=1,c.default.writeData("INTENSIFYLV",this.intensifyLv)},p.getRealmExp=function(){return this.realmexp},p.setRealmExp=function(t){this.realmexp+=t,c.default.writeData("REALMEXP",this.realmexp)},p.getDrugNum=function(){return this.drugnum},p.setDrugNum=function(t){this.drugnum=t,c.default.writeData("DRUGNUM",this.drugnum)},p.getDrugBoxNum=function(){return this.drugboxnum},p.setDrugBoxNum=function(t){this.drugboxnum=t,c.default.writeData("DRUGBOXNUM",this.drugboxnum)},p.getDrugTime=function(){return this.drugtime},p.setDrugTime=function(t){this.drugtime=t,c.default.writeData("DRUGTIME",this.drugtime)},p.getDrugOver=function(){return this.drugover},p.setDrugOver=function(t){this.drugover=t,c.default.writeData("DRUGOVER",this.drugover)},p.getCustoms=function(){return this.customs},p.setCustoms=function(t){this.customs=t,c.default.writeData("CUSTOMS",this.customs),cc.systemEvent.emit(u.EventConst.Game_Guide)},p.getPetLevel=function(){return this.petlevel2},p.setPetLevel=function(t,e){this.petlevel2[t]=e,c.default.writeData("PETLEVEL2",this.petlevel2)},p.initPetLevel=function(t){this.petlevel2=t,c.default.writeData("PETLEVEL2",this.petlevel2)},p.getPetExp=function(){return this.petexp2},p.setPetExp=function(t,e){this.petexp2[t]+=e,c.default.writeData("PETEXP2",this.petexp2)},p.initPetExp=function(t){this.petexp2=t,c.default.writeData("PETEXP2",this.petexp2)},p.getNowArtifacts=function(){return this.nowartifacts},p.setNowArtifacts=function(t){this.nowartifacts=t,c.default.writeData("NOWARTIFACTS",this.nowartifacts)},p.getMaxArtifacts=function(){return this.maxartifacts},p.setMaxArtifacts=function(t){this.maxartifacts=t,c.default.writeData("MAXARTIFACTS",this.maxartifacts)},p.getArtifactslist=function(){return this.artifactslist},p.setArtifactslist=function(t){this.artifactslist=t,c.default.writeData("ARTIFACTSLIST",this.artifactslist)},p.getUnlockArtifacts=function(){return this.unlockartifacts},p.setUnlockArtifacts=function(){this.unlockartifacts.push(),c.default.writeData("UNLOCKARTIFACTS",this.unlockartifacts),console.log()},p.getBuyCount=function(){return this.buycount},p.setBuyCount=function(t){(t=void 0!==t&&t)?this.buycount=0:this.buycount+=1,c.default.writeData("BUYCOUNT",this.buycount)},p.getCoin=function(){return this.coin},p.setCoin=function(t){this.coin||(this.coin=0),this.coin+=t,this.coin<=0&&(this.coin=0),c.default.writeData("COIN",this.coin)},p.getJewel=function(){return this.jewel},p.setJewel=function(t){this.jewel+=t,c.default.writeData("JEWEL",this.jewel)},p.getLevel=function(){return this.level},p.setLevel=function(t){t?this.level=t:this.level+=1,c.default.writeData("LEVEL",this.level),this.level>this.getMaxLevel()&&this.setMaxLevel(this.level),cc.systemEvent.emit(u.EventConst.Game_Guide)},p.getMaxLevel=function(){return this.maxlevel},p.setMaxLevel=function(t){this.maxlevel=t,c.default.writeData("MAXLEVEL",this.maxlevel)},p.getSex=function(){return this.sex},p.setSex=function(t){this.sex=t,c.default.writeData("SEX",this.sex)},p.getTeam=function(){return this.team},p.setTeam=function(t){this.team=t,c.default.writeData("TEAM",this.team)},p._clearGameData=function(){cc.sys.localStorage.clear()},p.getIsFirst=function(){return this.isFirstLoad},p.setIsFirst=function(){this.isFirstLoad=!1,c.default.writeData("ISFRISTLOAD",this.isFirstLoad)},p.getisAddToDesktop=function(){return this.isAddToDesktop},p.setisAddToDesktop=function(){this.isAddToDesktop=!0,c.default.writeData("ISADDTODESKTOP",this.isAddToDesktop)},p.getaddColorSign=function(){return this.isaddColorSign},p.setaddColorSign=function(){this.isaddColorSign=!0,c.default.writeData("ISADDCOLORSIGN",this.isaddColorSign)},p.setOffTime=function(){c.default.writeData("SAVETIME",this.saveTime)},p.getOffTime=function(){return this.saveTime},p.customs=0,p.maxcustoms=0,p.serverTime=0,p.saveTime=0,p.todayTime=0,p.sex=0,p.level=1,p.ore=0,p.maxlevel=1,p.resume=0,p.isFirstLoad=!0,p.coin=0,p.jewel=0,p.friend=[],p.crystal=0,p.opentimes=1,p.oregoods=[],p.orereftime=[],p.petlevel2=[],p.petexp2=[],p.quality=0,p.realm=[],p.cdk=[],p.wxcdk=[],p.wxvideocount=30,p.realmexp=0,p.intensifyLv=[],p.skilllevel=[1,0,0,0,0],p.discipleLv=[],p.petIndex=1,p.devil=0,p.online=0,p.onlineisget=[0,0,0,0],p.day=0,p.signisget=!1,p.jbg=[],p.wxsw=[],p.wxscene="0",p.worldrankworship=[],p.music=!0,p.maxartifacts=0,p.artifactslist=[],p.buycount=0,p.unlockartifacts=[],p.nowartifacts=0,p.intensivecount=0,p.makecount=0,p.drugnum=[],p.drugtime=[],p.drugover=[],p.drugboxnum=[],p.drugcount=0,p.buildlv=[],p.guide=[1,0],p.everyday=[],p.everydaycount=0,p.shopcount=0,p.goods=[],p.shopref=0,p.shopboxnum=[],p.shopboxtime=[],p.reftime=[],p.goodsitem={},p.resetTime=0,p.oreResetTime=0,p.reincarn=0,p.reincarncount=0,p.reincarnadd=0,p.pack=[],p.tier=0,p.maxtier=0,p.resetcount=1,p.mopup=1,p.award=[],p.roamcount=0,p.dicenum=0,p.dicetime=0,p.pos=0,p.roamexp=0,p.roambox=[],p.landmark=[],p.roamboxisget=[],p.team=[],p._tipTxt=null,p.fightTxt=null,p.artifacts=null,p.disciple=null,p.OutputCoin=null,p.sysicon=null,p.FightUp=null,p.SkillSp=null,p.meteor=null,p.Thunder=null,p.Eddy=null,p.Star=null,p.wzlxHit=null,p.star=null,p.Wind=null,p.Knife=null,p.buttet=null,p.CureMatrix=null,p.BaneMatrix=null,p.Moon=null,p.Flame=null,p.Flamepalm=null,p.Fireball=null,p.danMadicine=null,p.yehuo=null,p.PersistCure=null,p.Hothalo=null,p.SkillLJ=null,p.SkillHC=null,p.CoinIcon=null,p.rewardItem=null,p.packitem=null,p.SectTxt=null,p.equipitem=null,p.spectrum=null,p.Smelter=null,p.raiseditem=null,p.roamboxitem=null,p.monster=null,p.GuideMonster=null,p.monsteritem=null,p.treat=null,p.cure=null,p.islogin=!1,p.automatic=!1,p.tick=!0,p.disater=100,p.rankid="",p.doBreak=!1,p.doMove=!0,p.speed=1,p.Speed=!1,p.subscribemsg=!1,p.addmy=!1,p.savetodesktop=!1,p.sevenday=5,p.sevencount=0,p.sevenmoney=[],p.disciplerank=[],p.channel="TT",p.FreeCoinTime=0,p.openAwemeUserProfile=!1,p.scene="0",p.isShowBannerAd=!0,p.isShowInterAd=!0,p.isShowVideoAd=!0,p.isjumpguide=!1,p.splashAdCount=5,p.isAddToDesktop=!1,p.isaddColorSign=!1,p.qqhb=!1,p.popenid="",p.userid="",p.openid="",p.source=0,p.interTime=0,p.isdorecorder=0,p.addTime=0,p.isVideoCount=!1,p.wxshareswitch=!1,p.othergame=[],p.requestSubscribeMessage=[0,0,0,0],p.videocd=!0,p.CDKArray=[],p.errortouch=30,p.addprogress=10,p.offlinetime=0,i=p,r.default=i,cc._RF.pop()},{}],GameTools:[function(t,e,n){"use strict";cc._RF.push(e,"0ff4adw5SxFpoNFIDkfMaQi","GameTools");var o,a=t,i=n,r=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},l=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(i,"__esModule",{value:!0});var c,s=a("SdkManager"),u=a("GameSys"),p=a("AndroidManager"),f=a("TTManager"),d=a("WxManager"),h=a("QQManager"),y=a("BaiduManager"),v=a("VIVOManager"),g=a("OPPOManager"),m=a("MZManager"),b=a("IOSManager"),C=a("M58Manager"),S=a("H4399Manager");function w(){}a=(o=cc._decorator).ccclass,o.property,(c=w).getSdk=function(){if(null==this.sdkInstance)switch(u.default.channel){case"blank":this.sdkInstance=new s.default;break;case"Android":this.sdkInstance=new p.default;break;case"TT":this.sdkInstance=new f.default;break;case"WX":this.sdkInstance=new d.default;break;case"QQ":this.sdkInstance=new h.default;break;case"VIVO":this.sdkInstance=new v.default;break;case"BAIDU":this.sdkInstance=new y.default;break;case"4399":this.sdkInstance=new S.default;break;case"OPPO":this.sdkInstance=new g.default;break;case"MZ":this.sdkInstance=new m.default;break;case"IOS":this.sdkInstance=new b.default;break;case"M58":this.sdkInstance=new C.default}return this.sdkInstance},w.get0Time=function(){var t=(n=new Date).getFullYear(),e=n.getMonth(),n=n.getDate();return new Date(t,e,n).getTime()},w.randomMinToMax=function(t,e){var n=Math.random();return parseInt(100*(n*(e-t)+t)+"")/100},w.getHowPoint=function(t,e){return Math.floor(t*e)/e},w.isWxGame=function(){return cc.sys.platform==cc.sys.WECHAT_GAME},w.cocosToWX=function(t){var e=cc.view.getFrameSize().width,n=cc.view.getFrameSize().height,o=cc.winSize.width,a=cc.winSize.height,i=t.width,r=t.height;return t=t.convertToWorldSpace(cc.v2(0,r)),cc.rect(e/o*t.x,(1-t.y/a)*n,e/o*i,n/a*r)},w.nowToZero=function(){var t=(o=new Date).getHours(),e=o.getMinutes(),n=o.getSeconds(),o=86400-(3600*t+60*e+n);return console.log("now:",t,e,n,o),o},w.refSetCoin=function(t){if(t<1e3)return Math.floor(t)==t?t.toFixed(0)+"":t.toFixed(2)+"";for(var e="???",n=this.units.length,o=1,a=0;a<n;a++){var i=1e3*o;if(t<i){e=Math.floor(t/o*10)/10+this.units[a];break}o=i}return e},w.sec_to_timefunction=function(t){var e;return-1<t?(10<=(e=Math.floor(t/60))?""+e:"0"+e)+":"+(10<=(e=Math.floor(t-60*e))?""+e:"0"+e):""},w.hour_min_secTimeFuncion=function(t){var e,n,o,a,i,r="";return-1<t&&(e=Math.floor(t/3600),n=Math.floor(t/60-60*e),o=Math.floor(t-3600*e-60*n),t=i=a=void 0,a=e.toString(),i=n.toString(),t=o.toString(),r=(a=e<10?"0"+e.toString():a)+":"+(i=n<10?"0"+n.toString():i)+":"+(t=o<10?"0"+o.toString():t)),r},w.ConvertTargetToCurLocal=function(t,e){var n=cc.Vec2.ZERO;try{var o=t.getPosition(),a=t.parent.convertToWorldSpaceAR(o);n=e.convertToNodeSpaceAR(a)}catch(t){}return n},w.ConvertTargetCameraToCur=function(t,e,n,o){return t=t.parent.convertToWorldSpaceAR(t.getPosition()),t=e.getWorldToScreenPoint(t),this.ConvertScreenPosToCoor(new cc.Vec2(t.x,t.y),n,o)},w.ConvertTargetPointToCoor=function(t,e,n){var o=cc.Vec2.ZERO;try{var a=e.convertToWorldSpaceAR(t);o=n.convertToNodeSpaceAR(a)}catch(t){}return o},w.ConvertScreenPosToCoor=function(t,e,n){var o=cc.Vec2.ZERO;try{var a=n.getScreenToWorldPoint(t),i=e.convertToNodeSpaceAR(a);o=new cc.Vec2(i.x,i.y)}catch(t){}return o},w.ConvertNumberToUit=function(t,e){var n=t<0,o="????",a=e=void 0===e?this.normalUnits:e;if((t=Math.abs(t))<1e3)return n?a[1]+t.toFixed(0)+"":t.toFixed(0)+"";for(var i=a.length,r=1,l=3;l<i;l++){var c=1e3*r;if(t<c){o=Math.floor(t/r*10)/10+a[l];break}r=c}return o.replace(".",a[0]),n?a[1]+o:o},w.ConvertNumberToAscii=function(t,e,n){void 0===e&&(e=this.normalUnits),void 0===n&&(n=!0);var o=(t=parseInt(t.toString())).toString();return t<0?(o=o.replace("-",""),o=e[1]+o):n&&(o=o.replace("+",""),o=e[2]+o),o},w.GetCloseInRectByPos=function(t,e){var n=Math.abs(e.yMax-t.y),o=Math.abs(e.yMin-t.y),a=Math.abs(e.xMin-t.x),i=Math.abs(e.xMax-t.x),r=n;return(r=(r=(r=o<r?o:r)>a?a:r)>i?i:r)==n?new cc.Vec2(t.x,e.yMax):r==o?new cc.Vec2(t.x,e.yMin):r==a?new cc.Vec2(e.xMin,t.y):new cc.Vec2(e.xMax,t.y)},w.GetComponentInParent=function(t,e){var n=t.parent;if(!n)return null;if(t=n.getComponent(e))return t;try{return this.GetComponentInParent(n,e)}catch(t){return null}},w.IsPosInCanvas=function(t){if(n=cc.find("Canvas")){var e=this.ConvertTargetToCurLocal(t,n),n=(t=n.width/2,n.height/2);return e.x>=-t&&e.x<=t&&e.y>=-n&&e.y<=n}return console.log("\u6ca1\u6709\u627e\u5230canvas!!!!"),!1},w.GetOneArray=function(t,e){for(var n=new Array,o=0;o<t;o++)n.push(e);return n},w.GetTwoArray=function(t,e,n){for(var o=new Array,a=0;a<t;a++)o.push(this.GetOneArray(e,n));return o},w.GetMinAngleValue=function(t,e){t%=360;var n=e%=360,o=Math.abs(t-e),a=e+360,i=Math.abs(t-a);return i<o&&(o=i,n=a),a=e-360,(e=Math.abs(t-a))<o&&(o=e,n=a),new Array(t,n)},w.IsSpineContainAnim=function(t,e){var n=!1,o=t._skeletonCache.animations;if(o)for(var a=o.length,i=0;i<a;i++)if(o[i].name==e){n=!0;break}return n},w.RemoveFromArray=function(t,e){-1<(e=(t=void 0===t?[]:t).indexOf(e))&&t.splice(e,1)},w.GetNumFromArray=function(t,e){for(var n=0,o=(t=void 0===t?[]:t).length,a=0;a<o;a++)t[a]==e&&(n+=1);return n},w.SetGraySprite=function(t){var e=cc.Material.getBuiltinMaterial("2d-gray-sprite"),n=t.getMaterial(0);n&&n.material&&n.material==e||t.setMaterial(0,e)},w.ResetGraySprite=function(t){var e=cc.Material.getBuiltinMaterial("2d-sprite"),n=t.getMaterial(0);n&&n.material&&n.material==e||t.setMaterial(0,e)},w.SetGrayAllNode=function(t){for(var e=t.getComponentsInChildren(cc.RenderComponent),n=e.length,o=0;o<n;o++)this.SetGraySprite(e[o])},w.ResetGrayAllNode=function(t){for(var e=t.getComponentsInChildren(cc.RenderComponent),n=e.length,o=0;o<n;o++)this.ResetGraySprite(e[o])},w.GetUpDirLocalVect=function(t,e){return e=null==(e=void 0===e?null:e)?t.parent:e,t=t.up,t=cc.v2(t.x,t.y),e.convertToNodeSpaceAR(t)},w.IsGamePause=function(){return cc.director.isPaused()},w.GamePause=function(){cc.director.pause()},w.GameResume=function(){cc.director.resume()},w.getBundle=function(t){var e=null;switch(t){case"JsonBundle":e=c.Jsonbundle;break;case"Bundle":e=c.bundle;break;case"SpriteBundle1":e=c.SpriteBundle1;break;case"SpriteBundle2":e=c.SpriteBundle2}return e},w.GetRes=function(t,e,n){return this.getBundle(t).get(e,n)||(console.log("\u8fd8\u6ca1\u6709\u52a0\u8f7d\u8fc7\u7684\u8d44\u6e90\uff1a "+e),null)},w.loadJson=function(t,e){return r(this,void 0,void 0,function(){var n=this;return l(this,function(){return[2,new Promise(function(o){n.getBundle(t).load(e,cc.JsonAsset,function(t,e){t?(console.log(t),o({})):e instanceof cc.JsonAsset&&o(e.json)})})]})})},w.LoadFont=function(t,e){return r(this,void 0,void 0,function(){var n=this;return l(this,function(){return[2,new Promise(function(o){n.getBundle(t).load(e,cc.Font,function(t,e){t?(console.log(t),o(null)):o(e)})})]})})},w.loadAudioClip=function(t,e){return r(this,void 0,void 0,function(){var n=this;return l(this,function(){return[2,new Promise(function(o){n.getBundle(t).load(e,cc.AudioClip,function(t,e){t?(console.log(t),o(null)):o(e)})})]})})},w.loadPrefab=function(t,e){return r(this,void 0,void 0,function(){var n=this;return l(this,function(){return[2,new Promise(function(o){n.getBundle(t).load(e,cc.Prefab,function(t,e){t?(console.log(t),o(null)):o(e)})})]})})},w.loadImage=function(t,e){return r(this,void 0,void 0,function(){var n=this;return l(this,function(){return[2,new Promise(function(o){n.getBundle(t).load(e,cc.SpriteFrame,function(t,e){t?(console.log(t),o(null)):o(e)})})]})})},w.LoadSpinData=function(t,e){return r(this,void 0,void 0,function(){var n=this;return l(this,function(){return[2,new Promise(function(o){n.getBundle(t).load(e,sp.SkeletonData,function(t,e){t?(console.log(t),o(null)):o(e)})})]})})},w.LoadAny=function(t,e,n){return r(this,void 0,void 0,function(){var o=this;return l(this,function(){return[2,new Promise(function(a){o.getBundle(t).load(e,n,function(t,e){t?(console.log(t),a(null)):a(e)})})]})})},w.sceneBundle=null,w.bundle=null,w.Jsonbundle=null,w.SpriteBundle1=null,w.SpriteBundle2=null,w.PublicBundle=null,w.sdkInstance=null,w.units=["","K","M","B","T","P","E","Z","Y","S","L","X","D","KK","KM","KB","KT","KP","KE","KZ","KY","KS","KL","KX","KD","MK","MM","MB","MT","MP","ME","MZ","MY","MS","ML","MX","MD","BK","BM","BB","BT","BP","BE","BZ","BY","BS","BL","BX","BD","TK","TM","TB","TP","TE","TZ","TY","TS","TL","TX","TD","PK","PM","PB","PP","PE","PZ","PY","PS","PL","PX","PD","EK","EM","EB","EP","EE","EZ","EY","ES","EL","EX","ED","ZK","ZM","ZB","ZP","ZE","ZZ","ZY","ZS","ZL","ZX","ZD"],w.normalUnits=[".","-","+","","K","M","B","T","P","E","Z","Y"],w.artNumberUnits=[".","/",":","","<","=",">"],a=c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],w),i.default=a,cc._RF.pop()},{}],GiftDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"1eb57twfLlO4a//1zjmTBYh","GiftDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("GiftData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/GiftData",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/GiftData")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.name=a.name,i.type=a.type,i.type=a.type,i.coin=a.currency,i.jewel=a.value1,i.prop1_id=a.goods1,i.prop1_num=a.goods1num,i.prop2_id=a.goods2,i.prop2_num=a.goods2num,i.prop3_id=a.goods3,i.prop3_num=a.goods3num,i.prop4_id=a.goods4,i.prop4_num=a.goods4num,this.allDataList.push(i);return[2]}})})},y.prototype.GetRandomTypeGift=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].type==t&&e.push(this.allDataList[n]);return e[Math.floor(Math.random()*e.length)]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],GiftData:[function(t,e,n){"use strict";cc._RF.push(e,"2d2a3xPWPpLCrhtAf+d0TP2","GiftData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],GiveUpPanel:[function(t,e,n){"use strict";cc._RF.push(e,"db008XTcftAoIKbHzHZX0qI","GiveUpPanel");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("SoundManager"),p=i("UIBase");function f(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(f,c=p.default),f.prototype.onEnable=function(){c.prototype.onEnable.call(this)},f.prototype.CloseThis=function(){c.prototype.CloseThis.call(this)},f.prototype.ClickYes=function(){u.default.instance.play(u.Sound.Click),this.CloseThis(),s.default.instance.StartFight()},f.prototype.ClickNo=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},f.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],GuideAI:[function(t,e,n){"use strict";cc._RF.push(e,"2664eqfsrpNd4j+hDkEPDmp","GuideAI");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f,d=a("AiBase"),h=a("SkillConst"),y=a("Teamer"),v=a("RealmDataManager"),g=a("TeamSkillDataManager"),m=a("GameTools"),b=a("TipGroup"),C=a("AIATK"),S=a("AIDIE"),w=a("AIIDLE"),k=a("AIMOVE"),_=a("AISKILL"),P=a("AIVER");function O(){var t=null!==p&&p.apply(this,arguments)||this;return t.Sp=null,t.role=null,t.moveSpeed=200,t.SkillCd=10,t.skillcd=0,t.Vertigo=0,t.releaseTime=.5,t.skilltype=0,t.index=0,t.target=null,t.angre=0,t.SkillArray=[0,0,0],t.time=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(O,p=d.default),(f=O).prototype.onLoad=function(){this.Content=this.node.getChildByName("Content"),this.HeadSp=this.Content.getChildByName("head").getComponent(cc.Sprite),this.CdSp=this.Content.getChildByName("cd").getChildByName("pro").getComponent(cc.Sprite),this.Cursor=this.Content.getChildByName("cursor"),this.Name=this.Content.getChildByName("name").getComponent(cc.Label),this.HpSp=this.Content.getChildByName("hp").getComponent(cc.Sprite),this.MpSp=this.Content.getChildByName("mp").getComponent(cc.Sprite),this.Realm=this.Content.getChildByName("realm").getComponent(cc.Label),this.Spine=this.Content.getChildByName("Spine"),this.doSp=this.Content.getChildByName("doskill").getComponent(sp.Skeleton),this.nearSp=this.Content.getChildByName("attackA_hit").getComponent(sp.Skeleton)},O.prototype.start=function(){},O.prototype.init=function(t,e){return s(this,void 0,void 0,function(){var n,o,a=this;return u(this,function(i){switch(i.label){case 0:switch(3==t.id?(this.Content.active=!1,this.Sp.node.active=!0,this.Sp.setAnimation(0,"ef15",!1),this.Sp.setEventListener(function(t,e){"in"==e.data.name&&(a.Content.active=!0,a.Sp.node.active=!1)})):(this.Content.active=!0,this.Sp.node.active=!1),this.role=t,this.curpannel=e,this.angre=0,this.RefreshMp(),this.RefreshHp(),n="",t.id){case 1:n="TeamHead/hero_fight_avatar";break;case 2:case 3:n="boss/tuzi";break;case 4:n="boss/xiongshou";break;case 5:n="TeamHead/hero_fight_avatar_5";break;case 6:n="TeamHead/hero_fight_avatar_2";break;case 7:n="TeamHead/hero_fight_avatar_3"}return(o=m.default.GetRes("SpriteBundle1",n,cc.SpriteFrame))?[3,2]:[4,m.default.loadImage("SpriteBundle1",n)];case 1:o=i.sent(),i.label=2;case 2:return this.HeadSp.spriteFrame=o,this.Name.string=t.name,this.Realm.string=t.realm,this.Realm.node.color=cc.color().fromHEX(v.default.Instance.GetRealmColor(t.realm)),this.InitAi(),[2]}})})},O.prototype.InitAi=function(){var t=new w.default(this,f.STATE_IDLE);this.AddAiState(t),t=new k.default(this,f.STATE_MOVE),this.AddAiState(t),t=new C.default(this,f.STATE_ATTACK),this.AddAiState(t),t=new S.default(this,f.STATE_DIE),this.AddAiState(t),t=new P.default(this,f.STATE_Vertigo),this.AddAiState(t),t=new _.default(this,f.STATE_SKILL),this.AddAiState(t)},O.prototype.Ready=function(){this.ChangeState(f.STATE_MOVE)},O.prototype.Stop=function(){this.ChangeState(f.STATE_DIE)},O.prototype.ChangeStateToMove=function(){this.curStateId!=y.default.STATE_DIE&&this.curStateId!=y.default.STATE_IDLE&&this.curStateId!=y.default.STATE_SKILL&&this.ChangeState(f.STATE_MOVE)},O.prototype.ChangeStateToSkill=function(){this.curStateId!=y.default.STATE_DIE&&this.curStateId!=y.default.STATE_IDLE&&this.curStateId!=y.default.STATE_SKILL&&this.ChangeState(f.STATE_SKILL)},O.prototype.GetTarget=function(){if(2==this.role.id||3==this.role.id||4==this.role.id){if(0<(a=this.curpannel.GetTeamer()).length){for(var t=1e5,e=0,n=0;n<a.length;n++){var o=a[n].node.getPosition();(i=this.node.getPosition().sub(o).mag())<=t&&(e=n,t=i)}return this.target=a[e],a[e]}return null}var a;if(0<(a=this.curpannel.GetMontser()).length){for(t=1e5,n=e=0;n<a.length;n++){var i;o=a[n].node.getPosition(),(i=this.node.getPosition().sub(o).mag())<=t&&(e=n,t=i)}return this.target=a[e],a[e]}return 0!=this.curStateId&&(this.ChangeState(y.default.STATE_IDLE),this.curpannel.OverFight()),null},O.prototype.DoWZLX=function(){var t=this;this.angre-=100,this.RefreshMp(),0<this.skillcd?b.default.instance.setText(-1,"\u6280\u80fd\u51b7\u5374\u4e2d"):(this.skilltype=1,this.ChangeState(f.STATE_SKILL),this.callback=function(){t.curpannel.setText(7,g.default.Instance.GetSkill(1).skillName,t.node),t.skillcd=t.SkillCd,t.curpannel.DoWZLX(),t.callback=null,t.ChangeState(y.default.STATE_IDLE)})},O.prototype.isDie=function(){return!(this.node.active&&0<this.role.hp)},O.prototype.TheStrike=function(t,e,n,o){if(this.isDie())return!0;var a=Math.floor(100*Math.random());if(this.role.dodge,e<a)return this.curpannel.setText(5,"\u95ea\u907f",this.node),!1;if(t>=this.role.hp&&this.role.hp,n?this.curpannel.setText(0,"\u66b4\u51fb-"+m.default.refSetCoin(t),this.node):this.curpannel.setText(1,"-"+m.default.refSetCoin(t),this.node),o&&(this.nearSp.node.active=!0,this.nearSp.setAnimation(0,"atkA_hit",!1)),this.role.hp-=t,!(this.role.hp<=0))return this.AddAngre(1),this.RefreshHp(),!1;if(2==this.role.id)return this.role.hp=1,this.DoFS(),!1;if(4!=this.role.id)return this.ToDie(),!0;this.curpannel.setText(99,"",this.node),this.node.active=!1,this.ChangeState(y.default.STATE_DIE);for(var i=this.curpannel.GetTeamer(),r=0;r<i.length;r++)i[r].Stop();setTimeout(function(){for(var t=0;t<i.length;t++)i[t].ChangeState(f.STATE_MOVE)},2300)},O.prototype.DoFS=function(){var t=this;this.ChangeStateToSkill(),this.skilltype=1,this.callback=function(){t.curpannel.setText(7,"\u5206\u8eab",t.node),setTimeout(function(){t.role.hp=0,t.ToDie(),t.callback=null},800)}},O.prototype.ToDie=function(){4==this.role.id?this.curpannel.setText(99,"",this.node):this.curpannel.setText(8,"",this.node),this.node.active=!1,this.ChangeState(y.default.STATE_DIE)},O.prototype.RefreshHp=function(){this.HpSp.fillRange=this.role.hp/this.role.maxhp},O.prototype.RefreshMp=function(){this.MpSp.fillRange=this.angre/this.role.maxmp,1==this.role.id||0<this.role.hp&&this.curStateId!=f.STATE_SKILL&&5==this.role.id&&this.DoSkill()},O.prototype.SubMp=function(t){this.angre-=t,this.RefreshMp()},O.prototype.Constraint=function(){this.Vertigo=3,this.ChangeState(f.STATE_Vertigo)},O.prototype.Cure=function(t){this.role.hp<=0||(this.role.hp+=t,this.role.hp>=this.role.maxhp&&(this.role.hp=this.role.maxhp),this.curpannel.setText(2,"\u6062\u590d+"+m.default.refSetCoin(t),this.node),this.RefreshHp())},O.prototype.GetHp=function(){return this.node.active&&0<this.role.hp?this.role.hp:0},O.prototype.DoSkill=function(){var t=this;100<=this.angre&&(this.SkillArray[0]<=0?(this.ChangeStateToSkill(),this.callback=function(){t.curpannel.setText(7,"\u7384\u7ffc\u9635",t.node),t.SubMp(100),t.SkillArray[0]=10,h.default.instance.GuideBaneMatrix(9,t),t.callback=null,t.ChangeState(y.default.STATE_MOVE)}):this.SkillArray[1]<=0?(this.ChangeStateToSkill(),this.callback=function(){t.curpannel.setText(7,"\u8ffd\u708e\u672f",t.node),t.SubMp(100),t.SkillArray[1]=5,h.default.instance.GuideFireBall(t),t.callback=null,t.ChangeState(y.default.STATE_MOVE)}):this.SkillArray[2]<=0&&(this.ChangeStateToSkill(),this.callback=function(){t.curpannel.setText(7,"\u5929\u52ab",t.node),t.SubMp(100),t.SkillArray[2]=5,h.default.instance.GuideThunder(t),t.callback=null,t.ChangeState(y.default.STATE_MOVE)}))},O.prototype.AddAngre=function(t){this.angre+=0==t?this.role.Shot_anger:this.role.injured_anger,this.angre>=this.role.maxmp&&(this.angre=this.role.maxmp),this.RefreshMp()},O.prototype.GetPracticalAtk=function(){return this.role.atk},O.prototype.oneTime=function(){this.angre+=this.role.time_anger,this.angre>=this.role.maxmp&&(this.angre=this.role.maxmp),this.RefreshMp();for(var t=0;t<this.SkillArray.length;t++)0<this.SkillArray[t]&&--this.SkillArray[t]},O.prototype.update=function(t){p.prototype.update.call(this,t),999999!=this.curStateId&&this.curStateId!=f.STATE_DIE&&(this.time+=t,1<=this.time&&(this.time=0,this.oneTime()))},O.STATE_IDLE=0,O.STATE_MOVE=1,O.STATE_ATTACK=2,O.STATE_DIE=3,O.STATE_Vertigo=4,O.STATE_SKILL=5,c([i(sp.Skeleton)],O.prototype,"Sp",void 0),a=f=c([a],O),r.default=a,cc._RF.pop()},{}],GuideDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"e9583S6nXBPKZUYhbY4VtYD","GuideDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("GuideData"),d=i("GameSys"),h=i("GameTools"),y=i("DiscipleDataManager"),v=i("SingleBase"),g=i("SystemDataManager");function m(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(m,u=v.default),(p=m).prototype.onLoad=function(){p.Instance=this},m.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/Guide",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/Guide")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.info=a.info,i.type=a.type,i.level=a.level,i.reward=a.reward,this.allDataList.push(i);return[2]}})})},m.prototype.GetData=function(t){for(var e=(t=void 0===t?d.default.getGuide():t)[0],n=0;n<this.allDataList.length;n++){if(this.allDataList[n].id==e)return this.allDataList[n];if(n==this.allDataList.length-1)return this.allDataList[n]}},m.prototype.GetMaxNum=function(){return this.allDataList.length},m.prototype.isFinish=function(){var t=this.GetData();switch(t.type){case"\u4e3b\u89d2\u7a81\u7834":var e=d.default.getLevel();return{isFinsh:e>=t.level,progress:e};case"\u901a\u5173":return{isFinsh:(e=d.default.getMaxCustoms())>=t.level,progress:e};case"\u89e3\u9501\u9053\u53cb":var n=y.default.Instance.GetUnlockNum();return{isFinsh:n>=t.level,progress:n?1:0};case"\u9053\u53cb\u7a81\u7834":for(var o=d.default.getDisciple(),a=0,i=0;i<o.length;i++)o[i].level>a&&(a=o[i].level);return{isFinsh:a>=t.level,progress:a};case"\u89e3\u9501\u7075\u5ba0":return{isFinsh:n=g.default.Instance.isUnlcok(4),progress:n?1:0};case"\u7075\u5ba0\u7a81\u7834":var r=d.default.getPetLevel(),l=0;for(i=0;i<r.length;i++)r[i]>=l&&(l=r[i]);return{isFinsh:l>=t.level,progress:r}}},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],m),r.default=i,cc._RF.pop()},{}],GuideData:[function(t,e,n){"use strict";cc._RF.push(e,"3cfc5ODMcxOxJT6DA6KceQc","GuideData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],GuideManager:[function(t,e,n){"use strict";cc._RF.push(e,"3ff73P6YZBGTpUr46XUu78T","GuideManager");var o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=o("GameManager");function r(){}r.getInstance=function(){return this.instance||(this.instance=new r,i.default.registObserver(this.instance)),this.instance},r.prototype.notify=function(t){return console.log(t),!1},o=r,a.default=o,cc._RF.pop()},{}],GuideMonsterDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"3d83e4DduxNCJnTUpEVNGPD","GuideMonsterDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("GuideMonsterData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/GuideMonster",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/GuideMonster")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.ctr=a.ctr,i.hit=a.hit,i.dodge=a.dodge,i.mp=a.mp,i.level=a.level,i.hp=a.hp,i.atk=a.atk,i.id=a.id,i.avatar=a.avatar,i.speed=a.speed,i.object=a.object,this.allDataList.push(i);return[2]}})})},y.prototype.GetRole=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],GuideMonsterData:[function(t,e,n){"use strict";cc._RF.push(e,"b002cMvRz1Gk5eWBNV7xIgT","GuideMonsterData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.avatar="",this.speed=100,this.object=""}),a.default=o,cc._RF.pop()},{}],GuidePanel:[function(t,e,n){"use strict";cc._RF.push(e,"d70d5A1uwpI4Yv4wi/cMnib","GuidePanel");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("GameFight"),f=i("CoinOutPutDataManager"),d=i("GuideDataManager"),h=i("SoundManager"),y=i("SystemDataManager"),v=i("GameSys"),g=i("EventConst"),m=i("GameTools"),b=i("PanelConst"),C=i("TipGroup"),S=i("UIManager");function w(){var t=null!==u&&u.apply(this,arguments)||this;return t.goBtn=null,t.getBtn=null,t.info=null,t.reward=null,t.coin=null,t}i=(a=cc._decorator).ccclass,a.property,l(w,u=cc.Component),w.prototype.onLoad=function(){var t=this;this.goBtn=this.node.getChildByName("gobtn"),this.getBtn=this.node.getChildByName("getbtn"),this.info=this.node.getChildByName("info").getComponent(cc.Label),this.reward=this.node.getChildByName("reward"),this.coin=this.reward.getChildByName("coin").getComponent(cc.Label),cc.systemEvent.on(g.EventConst.GameStart,function(){t.initGuide()},this)},w.prototype.start=function(){cc.systemEvent.on(g.EventConst.Game_Guide,this.initGuide,this)},w.prototype.initGuide=function(){return c(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:return this.reward.active=!1,n=d.default.Instance.GetMaxNum(),v.default.getGuide()[0]>n?(this.node.active=!1,[3,3]):[3,1];case 1:return t=d.default.Instance.GetData(),e=d.default.Instance.isFinish(),this.goBtn.active=!e.isFinsh,this.info.node.active=!e.isFinsh,this.getBtn.active=e.isFinsh,this.reward.active=e.isFinsh,[4,f.default.Instance.GetOutPut()];case 2:n=o.sent(),n=t.reward*n,this.coin.string=""+m.default.refSetCoin(n),this.info.string=t.info+"("+e.progress+"/"+t.level+")",o.label=3;case 3:return[2]}})})},w.prototype.ClickGet=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return h.default.instance.play(h.Sound.Click),t=d.default.Instance.GetData(),[4,f.default.Instance.GetOutPut()];case 1:return e=n.sent(),e=t.reward*e,S.default.Instance.ChangeCoin(e),(e=v.default.getGuide())[0]+=1,e[1]=0,v.default.setGuide(e),this.initGuide(),[2]}})})},w.prototype.ClickGo=function(){return c(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:switch(h.default.instance.play(h.Sound.Click),(t=d.default.Instance.GetData()).type){case"\u4e3b\u89d2\u7a81\u7834":return[3,1];case"\u901a\u5173":return[3,2];case"\u89e3\u9501\u9053\u53cb":return[3,3];case"\u9053\u53cb\u7a81\u7834":return[3,7];case"\u89e3\u9501\u7075\u5ba0":return[3,11];case"\u7075\u5ba0\u7a81\u7834":return[3,15]}return[3,19];case 1:return[2];case 2:return p.default.instance.challengeBtn.active?[2]:(C.default.instance.setText(-1,""+t.info),[3,19]);case 3:return y.default.Instance.isUnlcok(2)?[3,4]:(C.default.instance.setText(-1,y.default.Instance.CanUnlock(2)),[3,6]);case 4:return[4,S.default.Instance.ShowUI(b.default.DISCIPLE_PANEL)];case 5:e.sent(),e.label=6;case 6:return[3,19];case 7:return y.default.Instance.isUnlcok(2)?[3,8]:(C.default.instance.setText(-1,y.default.Instance.CanUnlock(2)),[3,10]);case 8:return[4,S.default.Instance.ShowUI(b.default.DISCIPLE_PANEL)];case 9:e.sent(),e.label=10;case 10:return[3,19];case 11:return y.default.Instance.isUnlcok(4)?[3,12]:(C.default.instance.setText(-1,y.default.Instance.CanUnlock(4)),[3,14]);case 12:return[4,S.default.Instance.ShowUI(b.default.PET_PANEL)];case 13:e.sent(),e.label=14;case 14:return[3,19];case 15:return y.default.Instance.isUnlcok(4)?[3,16]:(C.default.instance.setText(-1,y.default.Instance.CanUnlock(4)),[3,18]);case 16:return[4,S.default.Instance.ShowUI(b.default.PET_PANEL)];case 17:e.sent(),e.label=18;case 18:return[3,19];case 19:return[2]}})})},w.prototype.update=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],w),r.default=i,cc._RF.pop()},{}],H4399Manager:[function(t,e,n){"use strict";cc._RF.push(e,"49116Z2r3pDnLn3C38/1c5R","H4399Manager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameSys"),u=i("Recorder"),p=i("UIManager"),f=i("GameTools"),d=i("SdkManager");function h(){var t=null!==c&&c.apply(this,arguments)||this;return t.bannerAd=null,t.bannerNum=0,t.bannerCount=0,t.bannerRepeat=5,t}i=(a=cc._decorator).ccclass,a.property,l(h,c=d.default),h.prototype.login=function(t){u.default.init(),t()},h.prototype.BannerAd=function(){var t=f.default.cocosToWX(p.default.Instance.bannerNode);this.bannerAd=wx.createBannerAd({style:{left:t.x,top:t.y,width:t.width}}),this.bannerNum++,3<=this.bannerNum&&(this.bannerNum=0)},h.prototype.BannerShow=function(){0==this.bannerRepeat?null==this.bannerAd&&this.BannerAd():0<this.bannerRepeat&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.BannerAd()),this.bannerAd.show()},h.prototype.BannerHide=function(){null!=this.bannerAd&&this.bannerAd.hide(),0==this.bannerRepeat?null==this.bannerAd&&this.BannerAd():0<this.bannerRepeat&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.BannerAd())},h.prototype.RewardedShow=function(t,e){var n=gamebox.createRewardedVideoAd(),o=function t(o){console.log("rewardad"+o.errCode+" : "+o.errMsg),e(!0),n.offError(t)};n.show(),n.onClose(function a(i){i.isEnded?(console.log("\u6210\u529f"),t()):(console.log("\u5931\u8d25"),e(!1)),n.offClose(a),n.offError(o)}),n.onError(o)},h.prototype.InterstitialShow=function(){gamebox.createRewardedVideoAd.show().catch(function(t){console.error(t)})},h.prototype.PlatformCallBack=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),"REWARD"==t?this.RewardedShow(function(){e()},n):"BANNER"==t?this.BannerShow():"BANNERCLOSE"==t?this.BannerHide():"INTER"==t&&s.default.interTime<=0&&(s.default.interTime=30,this.InterstitialShow())},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],h),r.default=i,cc._RF.pop()},{}],HeartDevilDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"08deax5rEhEcLdBvJa+paT+","HeartDevilDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("HeartDevilData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a;return s(this,function(i){switch(i.label){case 0:return null!=h.default.GetRes("JsonBundle","Jsons/qumo",cc.JsonAsset)?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/qumo")];case 1:t=i.sent(),i.label=2;case 2:for(e=Object.keys(t).length,n=0;n<e;n++)o=t[n],(a=new f.default).minlevel=o.rangeMix,a.maxlevel=o.rangeMax,a.time=o.interval,a.cout=o.times,this.allDataList.push(a);return[2]}})})},v.prototype.isHaveDevil=function(t){return void 0===t&&(t=d.default.getLevel()),c(this,void 0,void 0,function(){var e,n,o,a;return s(this,function(i){switch(i.label){case 0:return this.allDataList.length<=0?[4,this.Init()]:[3,2];case 1:i.sent(),i.label=2;case 2:for(e=null,o=0;o<this.allDataList.length;o++)t>=this.allDataList[o].minlevel&&t<=this.allDataList[o].maxlevel&&(e=this.allDataList[o]);if(d.default.getLevel()<d.default.getMaxLevel()-30&&20<d.default.getMaxLevel())return[2,null];if(e){if(e.cout<=0)return[2,null];switch(n=[],e.cout){case 1:n=[5];break;case 2:n=[3,7];break;case 3:n=[2,5,8]}for(o=0;o<n.length;o++)if(a=10*Math.floor(t/10),t==a+n[o])return[2,a=7200<=(a=e.time)?7200:a];return[2,null]}return[2,null]}})})},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],HeartDevilData:[function(t,e,n){"use strict";cc._RF.push(e,"b8dbdaD+/lHaZID03Psy4ZQ","HeartDevilData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],HeroDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"0ba84gubrlCT7Cxnx7C7DG/","HeroDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TeamerData"),d=i("GameSys"),h=i("GameTools"),y=i("ArtifactsDataManager"),v=i("DiscipleDataManager"),g=i("EquipDataManager"),m=i("IntensifyDataManager"),b=i("PetDataManager"),C=i("PropDataManager"),S=i("RealmDataManager"),w=i("SingleBase"),k=i("TeamSkillDataManager");function _(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(_,u=w.default),(p=_).prototype.onLoad=function(){p.Instance=this},_.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/Hero",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/Hero")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=0,i.level=a.level,i.realm=a.info,i.hp=a.hp,i.atk=a.atk,i.interval=a.speed,i.atkSpeed=60/i.interval,i.hit=a.hit,i.dodge=a.dodge,i.crit=a.ctr,i.maxmp=a.mp,i.maxhp=a.hp,i.skill1num=a.skill1num,i.skill1coin=a.skill1coin,i.skill1cd=a.skill1cd,i.skill2num=a.skill2num,i.skill2coin=a.skill2coin,i.skill2cd=a.skill2cd,i.skill3num=a.skill3num,i.skill3coin=a.skill3coin,i.skill3cd=a.skill3cd,i.skill4num=a.skill4num,i.skill4coin=a.skill4coin,i.skill4cd=a.skill4cd,i.skill5num=a.skill5num,i.skill5coin=a.skill5coin,i.skill5cd=a.skill5cd,this.allDataList.push(i);return[2]}})})},_.prototype.GetFightNum=function(){for(var t=this.GetBasicRole(),e=null!=S.default.Instance.GetAddHp()?S.default.Instance.GetAddHp():1,n=t.hp*e*1,o=(e=null!=S.default.Instance.GetAddAtk()?S.default.Instance.GetAddAtk():1,t=t.atk*e*(60/t.interval)*6,0),a=0;a<5;a++)o+=this.IsUnlockSkill(a+1)?d.default.getSkillLevel()[a]*k.default.Instance.GetSkill(a+1).power:0;var i=0,r=0;for(a=0;a<4;a++){var l=C.default.Instance.GetOnEquip(0,a);l&&(i+=(l=g.default.Instance.GetEquip(l.goodsid)).fight,r+=l.powerPer)}return((n+t+o)*y.default.Instance.GetAddFight()+i)*(1+r)*5.5},_.prototype.GetBasiFight=function(){for(var t=this.GetBasicRole(),e=null!=S.default.Instance.GetAddHp()?S.default.Instance.GetAddHp():1,n=t.hp*e*.1,o=(e=null!=S.default.Instance.GetAddAtk()?S.default.Instance.GetAddAtk():1,t=t.atk*e*(60/t.interval)*.6,0),a=0;a<5;a++)o+=this.IsUnlockSkill(a+1)?d.default.getSkillLevel()[a]*k.default.Instance.GetSkill(a+1).power:0;return 5.5*(n+t+o)},_.prototype.GetBasicRole=function(t){void 0===t&&(t=d.default.getLevel());for(var e=null,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].level==t){e=this.allDataList[n];break}if(n>=this.allDataList.length-1){e=this.allDataList[n];break}}var o={id:e.id,level:e.level,realm:e.realm,hp:e.hp,atk:e.atk,interval:e.interval,atkSpeed:e.atkSpeed,hit:e.hit,dodge:e.dodge,crit:e.crit,maxhp:e.maxhp,maxmp:e.maxmp,name:e.name,injured_anger:e.injured_anger,Shot_anger:e.Shot_anger,type:e.type,skillType:e.skillType,skillResult:e.skillResult,time_anger:e.time_anger},a=d.default.getSkillLevel(),i=this.GetSkill(a[0]),r=this.GetSkill(a[1]),l=this.GetSkill(a[2]),c=this.GetSkill(a[3]);return a=this.GetSkill(a[4]),o.skill1coin=i.skill1coin,o.skill1cd=i.skill1cd,o.skill1num=i.skill1num,o.skill2coin=r.skill2coin,o.skill2cd=r.skill2cd,o.skill2num=r.skill2num,o.skill3coin=l.skill3coin,o.skill3cd=l.skill3cd,o.skill3num=l.skill3num,o.skill4coin=c.skill4coin,o.skill4cd=c.skill4cd,o.skill4num=c.skill4num,o.skill5coin=a.skill5coin,o.skill5cd=a.skill5cd,o.skill5num=a.skill5num,o},_.prototype.GetSkill=function(t){200<=(t=t<=0?1:t)&&(t=200);for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e]},_.prototype.GetRole=function(t){void 0===t&&(t=d.default.getLevel());var e={id:(n=this.GetBasicRole(t)).id,level:n.level,realm:n.realm,hp:n.hp,atk:n.atk,interval:n.interval,atkSpeed:n.atkSpeed,hit:n.hit,dodge:n.dodge,crit:n.crit,maxhp:n.maxhp,maxmp:n.maxmp,name:n.name,injured_anger:n.injured_anger,Shot_anger:n.Shot_anger,type:n.type,skillType:n.skillType,skillResult:n.skillResult,time_anger:n.time_anger,skill1cd:n.skill1cd,skill1coin:n.skill1coin,skill1num:n.skill1num,skill2cd:n.skill2cd,skill2coin:n.skill2coin,skill2num:n.skill2num,skill3cd:n.skill3cd,skill3coin:n.skill3coin,skill3num:n.skill3num,skill4cd:n.skill4cd,skill4coin:n.skill4coin,skill4num:n.skill4num,skill5cd:n.skill5cd,skill5coin:n.skill5coin,skill5num:n.skill5num},n=this.GetAddAtk();return e.atk+=this.GetEquipAdd(1),e.atk*=n,n=this.GetAddHp(),e.hp+=this.GetEquipAdd(0),e.hp*=n,e.maxhp=e.hp,t=this.GetAddCrit(t),e.crit+=this.GetEquipAdd(5),e.crit+=t,t=this.GetAddHit(),e.hit+=this.GetEquipAdd(3),e.hit+=t,t=this.GetAddDodge(),e.dodge+=this.GetEquipAdd(4),e.dodge+=t,t=this.GetEquipAdd(2),e.interval+=t,e.atkSpeed=60/e.interval,t=this.GetAddMp(),e.injured_anger*=t,e.Shot_anger*=t,e},_.prototype.IsUnlockSkill=function(t){switch(t){case 1:return!0;case 2:return 0<d.default.getSkillLevel()[1];case 3:return 0<d.default.getSkillLevel()[2];case 4:return 0<d.default.getSkillLevel()[3];case 5:return 0<d.default.getSkillLevel()[4]}},_.prototype.GetSkillCoin=function(t){for(var e=d.default.getSkillLevel(),n=0==e[t]?1:e[t],o=null,a=0;a<this.allDataList.length;a++)if(this.allDataList[a].level==n){o=this.allDataList[a];break}var i=0;switch(t){case 0:i=o.skill1coin;break;case 1:i=o.skill2coin;break;case 2:i=o.skill3coin;break;case 3:i=o.skill4coin;break;case 4:i=o.skill5coin}return i},_.prototype.IsCanUnlockSkill=function(t){var e=k.default.Instance.GetSkill(t);switch(t){case 1:return!0;case 2:case 3:case 4:case 5:return d.default.getLevel()>=e.unlocklevel}},_.prototype.GetAddAtk=function(t){return(1+((t=void 0===t||t)?y.default.Instance.GetAddAtk():0))*(1+(null!=m.default.Instance.GetAddAtk()?m.default.Instance.GetAddAtk():0))*(null!=S.default.Instance.GetAddAtk()?S.default.Instance.GetAddAtk():1)},_.prototype.GetAddHp=function(t){return(1+((t=void 0===t||t)?y.default.Instance.GetAddHp():0))*(1+(null!=m.default.Instance.GetAddHp()?m.default.Instance.GetAddAtk():0))*(null!=S.default.Instance.GetAddHp()?S.default.Instance.GetAddHp():1)},_.prototype.GetAddCrit=function(t,e){var n=(e=void 0===e||e)?y.default.Instance.GetAddCrit():0;return e=null!=S.default.Instance.GetAddCrit()?S.default.Instance.GetAddCrit():0,t=this.GetBasicRole(t),n+e+(1==this.IsUnlockSkill(5)?t.skill5num:0)},_.prototype.GetAddHit=function(t){return((t=void 0===t||t)?y.default.Instance.GetAddHit():0)+(null!=S.default.Instance.GetAddHit()?S.default.Instance.GetAddHit():0)},_.prototype.GetAddDodge=function(t){return((t=void 0===t||t)?y.default.Instance.GetAddDodge():0)+(null!=S.default.Instance.GetAddDodge()?S.default.Instance.GetAddDodge():0)},_.prototype.GetEquipAdd=function(t){for(var e=0,n=0;n<4;n++){var o=g.default.Instance.GetEquipAdd(0,n);if(o)switch(t){case 0:e+=o.hp;break;case 1:e+=o.atk;break;case 2:e+=o.speed;break;case 3:e+=o.hit;break;case 4:e+=o.dodge;break;case 5:e+=o.crit}}return e},_.prototype.GetAddMp=function(){for(var t=0,e=0;e<4;e++){var n=g.default.Instance.GetEquipAdd(0,e);n&&(t+=n.mp)}return 1+t/100},_.prototype.GetSKillMax=function(){for(var t=d.default.getSkillLevel(),e=0,n=0;n<t.length;n++)this.IsUnlockSkill(n+1)&&(e+=t[n]);return e},_.prototype.GetVisualizeArray=function(t){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20][t]},_.prototype.GetRealm=function(t){for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].level==t)return this.allDataList[e].realm;if(e>=this.allDataList.length-1)return this.allDataList[e].realm}},_.prototype.GetMaxFight=function(){return c(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:t=0,t+=p.Instance.GetFightNum(),t+=b.default.Instance.GetFightNum(),e=0,o.label=1;case 1:return e<4?v.default.Instance.GetIsUnlock(e)?(n=t,[4,v.default.Instance.GetFightNum(e)]):[3,3]:[3,4];case 2:t=n+o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2,t]}})})},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],_),r.default=i,cc._RF.pop()},{}],Hothalo:[function(t,e,n){"use strict";cc._RF.push(e,"d8b69UJfHhERoFiFeOgoQGC","Hothalo");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.atk=0,t.count=0,t.do=!1,t.time=0,t.master=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e){this.atk=t,this.count=0,this.do=!0,this.master=e},p.prototype.start=function(){},p.prototype.DoAtk=function(){this.count++;for(var t=s.default.instance.GetMonster(),e=0;e<t.length;e++)t[e].TheStrike(this.atk,100,!1,!1,10);10<=this.count&&(this.do=!1,u.default.Hothalo.restor(this.node))},p.prototype.update=function(t){s.default.instance.state!=s.FightState.ready?this.do&&(this.time<=0?(this.time=1,this.DoAtk()):this.time-=t*u.default.speed):u.default.Hothalo.restor(this.node)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],HttpClient:[function(t,e,n){"use strict";cc._RF.push(e,"d3ae9/B94hHyaiQZrxqoLF1","HttpClient");var o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=o("GameSys"),r=o("MD5"),l=o("ServerUtil");function c(){}c.init=function(){},c.get=function(t,e){console.log("url:>>"+t);var n=new XMLHttpRequest;n.timeout=3e4,n.onload=function(){var t;(200<=n.status||n.status<400)&&(t=n.responseText,e.success(t))},n.ontimeout=function(){console.log("http\u7684\u56de\u8c03 -------------xhr.ontimeout"),e.fail(n.status)},n.onerror=function(t){console.log("http\u7684\u56de\u8c03---------- xhr.onerror",JSON.stringify(t)),e.fail(n.status)},n.open("GET",t,!0),n.send()},c.RequestHttpData=function(t,e,n,o){var a="https://sapi.tomato123.cn/union/game/getcontrol";a+="?gameid="+encodeURIComponent(t),a+="&gchannelid="+encodeURIComponent(e),o&&(a+="&version="+encodeURIComponent(o)),c.get(a,n)},c.getOther=function(t,e){t=JSON.stringify({appid:encodeURIComponent(t)}),c.post("https://darknight.games/api/wx/findGameLoc",t,e,"application/json;charset=UTF-8")},c.post=function(t,e,n,o){console.log("url:>>"+t+"<<");var a=new XMLHttpRequest;a.timeout=3e4,a.onload=function(){var t;200!=a.status&&304!=a.status||(t=a.responseText,n.success&&n.success(t))},n.fail&&(a.ontimeout=function(){n.fail("timeout")},a.onerror=function(){n.fail("error")}),a.open("POST",t,!0),null!=o&&a.setRequestHeader("content-type",o),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(e)},c.put=function(t,e,n,o){console.log("put,url:>>"+t+"<<");var a=new XMLHttpRequest;a.onreadystatechange=function(){var t;4==a.readyState&&200<=a.status&&a.status<400&&(t=a.responseText,n.success&&(console.info(t+"["+typeof t+" ]"),n.success(t)))},n.fail&&(a.ontimeout=function(){n.fail("timeout")},a.onerror=function(){n.fail("error")}),a.open("PUT",t,!0),o&&a.setRequestHeader("Content-Type",o),console.log("put\u91cc\u7684body,",e,o),a.send(e)},c.query=function(t){var e=this.remoteUrl+"/ttgames/config/"+this.gid+"/"+this.vid;c.get(e,t)},c.login=function(t,e,n){var o=this.gameUrl+"/user/login";t="anonymous_code="+encodeURIComponent(t),t+="&code="+encodeURIComponent(e),c.post(o,t,n)},c.setInfo=function(t,e,n,o){var a=this.gameUrl+"/user/saveInfo";t="uid="+encodeURIComponent(t),t+="&us="+encodeURIComponent(e),t+="&userInfo="+encodeURIComponent(n),c.post(a,t,o)},c.setEncryptedInfo=function(t,e,n,o,a){var i=this.gameUrl+"/user/saveRealInfo";t="uid="+encodeURIComponent(t),t+="&us="+encodeURIComponent(e),t+="&encryptedData="+encodeURIComponent(n),t+="&iv="+encodeURIComponent(o),c.post(i,t,a)},c.getInfo=function(t,e){var n=this.gameUrl+"/user/info";c.get(n+="?uid="+t,e)},c.getInfos=function(t,e){var n=this.gameUrl+"/user/infos";n+="?uids="+encodeURIComponent(JSON.stringify(t)),c.get(n,e)},c.saveData=function(t){this.gameRequest("https://sapi.tomato123.cn/game/index/setgamesave",{gameid:l.default.game_id,userid:l.default.guid,data:t},function(t){(t=Date.parse(JSON.parse(t).ctime.replace(/-/g,"/")))&&(i.default.saveTime=t),console.log("\u79bb\u7ebf\u540e\u7684\u65f6\u95f4\u6233\uff1a",i.default.saveTime)},function(t){console.log("\u4e91\u5b58\u50a8\u5931\u8d25:",t),(t=Date.parse(JSON.parse(t).ctime.replace(/-/g,"/")))&&(i.default.saveTime=t),console.log("\u79bb\u7ebf\u540e\u7684\u65f6\u95f4\u6233\uff1a",i.default.saveTime)})},c.saveDatas=function(t,e,n,o){var a=this.gameUrl+"/user/saveList";t="uid="+encodeURIComponent(t),t+="&us="+encodeURIComponent(e),t+="&kvData="+encodeURIComponent(JSON.stringify(n)),c.post(a,t,o)},c.loadData=function(t,e){this.gameRequest("https://sapi.tomato123.cn/game/index/getgamesave",{gameid:l.default.game_id,userid:l.default.guid},function(e){t(JSON.parse(e))},function(t){e(t)})},c.gameRequest=function(t,e,n,o){e.timestamp=Math.floor(Date.now()/1e3),c.postJson(t,e,{success:function(t){t=t.replace(/""/g,"0");var e=JSON.parse(t);console.log("\u8f93\u51facode:",e.code),e&&(200==e.code?n(t):(e.data=null,e=JSON.stringify(e),n(e)))},fail:function(t){console.log("error",t),o(t)}})},c.loadAllDatas=function(t,e){var n=this.gameUrl+"/user/loadAll";n+="?uid="+encodeURIComponent(t),c.get(n,e)},c.sendMail=function(t,e,n,o,a){var i=this.gameUrl+"/user/send";i+="?addr="+encodeURIComponent(t),i+="&uid="+encodeURIComponent(e),i+="&us="+encodeURIComponent(n),i+="&content="+encodeURIComponent(o),c.get(i,a)},c.receiveMail=function(t,e,n){var o=this.gameUrl+"/user/receive";o+="?uid="+encodeURIComponent(t),o+="&us="+encodeURIComponent(e),c.get(o,n)},c.getServerTime=function(t){var e=this.gameUrl+"/user/serverTime";c.get(e,t)},c.getJsonStr=function(t,e,n){void 0===n&&(n=!0),t.sign||n&&(n=c.getFormStr(t,e,!1,!1),t.sign=this.getMd5(n,e));var o,a={},i=Object.keys(t);for(o in i)"object"==typeof t[i[o]]?a[i[o]]=JSON.stringify(t[i[o]]):a[i[o]]=t[i[o]];return JSON.stringify(a)},c.getFormStr=function(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0);var a,i=Object.keys(t).sort(),r="";for(a in i)"object"==typeof t[i[a]]?r+=i[a]+"="+JSON.stringify(t[i[a]])+"&":"string"==typeof t[i[a]]&&o?r+=i[a]+"="+encodeURIComponent(t[i[a]])+"&":r+=i[a]+"="+t[i[a]]+"&";return r=r.substr(0,r.length-1),t.sign||n&&(r+="&sign="+this.getMd5(r,e)),r},c.getMd5=function(t,e){return e=(t=decodeURIComponent(t))+e,r.default.hex_md5(e)},c.postJson=function(t,e,n){e=this.getJsonStr(e,this.secret),this.post(t,e,n,this.HEADER_TYPE_JSON)},c.postObj=function(t,e,n,o){void 0===o&&(o=!0),e=this.getFormStr(e,this.secret),this.post(t,e,{success:function(t){var e;n.success&&(e=JSON.parse(t),o&&200!=e.code?n.fail&&n.fail(e.code):n.success(t))},fail:function(t){n.fail(t)}},this.HEADER_TYPE_FORM)},c.getUserid=function(t,e,n,o){var a=Math.floor(Date.now()/1e3),i="gameid="+encodeURIComponent(t);i+="&type="+encodeURIComponent(e),i+="&userid="+encodeURIComponent(n),i+="&timestamp="+a,i+="&sign="+this.getSignTwo({timestamp:a,gameid:t,type:e,userid:n},"ce409d358ab603b1e907694db7e8cbd5"),c.post("https://sapi.tomato123.cn/game/index/gamelogin",i,o)},c.getSignTwo=function(t,e){var n,o=Object.keys(t).sort(),a="";for(n in o)"object"==typeof t[o[n]]?a+=o[n]+"="+JSON.stringify(t[o[n]])+"&":a+=o[n]+"="+t[o[n]]+"&";return e=(a=a.substr(0,a.length-1))+e,r.default.hex_md5(e)},c.qpay_hb=function(t,e,n,o,a,i){var r=Math.floor(Date.now()/1e3);a=JSON.stringify({appid:t,openid:e,act_name:n,wishing:o,total_fee:a,sign:this.getSignTwo({timestamp:r,appid:t,openid:e,act_name:n,wishing:o,total_fee:a},"ce409d358ab603b1e907694db7e8cbd5")}),console.log("\u63d0\u73b0body\u53c2\u6570:",a),c.post("https://cps.tomato123.cn/api/qpay_hb_mch_send",a,i,"application/json")},c.gamerecord=function(t,e){t=JSON.stringify([{userStr:t,gameName:"\u900d\u9065\u4ed9\u5251\u4f20",behavior:1,belongTo:2}]),c.post("https://server.hqh5.com:8084/extgame/gamerecord",t,e,"application/json")},c.getBannerID=function(t,e){var n="https://darknight.games/api/wx/wx_game/ad_unit";n+="?appid="+encodeURIComponent(t),c.get(n,e)},c._initialize=!1,c.gid=1016,c.vid=115,c.remoteUrl="http://192.168.0.19:8080",c.gameUrl="",c.HEADER_TYPE_FORM="application/x-www-form-urlencoded",c.HEADER_TYPE_JSON="application/json",c.secret="48bd7980fa2bc86e8b5fc125dfe93b95",o=c,a.default=o,cc._RF.pop()},{}],IOSManager:[function(t,e,n){"use strict";cc._RF.push(e,"a771fVKLJVC0YPmajYeY9Ud","IOSManager");var o,a=t,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],r=0,l=i.length;r<l;r++,a++)o[a]=i[r];return o};Object.defineProperty(i,"__esModule",{value:!0});var c,s=a("SdkManager"),u=a("SoundManager"),p=a("Recorder");function f(){return null!==c&&c.apply(this,arguments)||this}r(f,c=s.default),f.callOC=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return(e=jsb.reflection).callStaticMethod.apply(e,l(["MyAppManager",t],n))},f.prototype.PlatformCallBack=function(t,e,n,o){switch(void 0===e&&(e=null),void 0===n&&(n=null),t){case"REWARD":u.default.instance.stopBGM(),f.callOC("showAdWithType:",4),console.log("\u8c03\u7528\u6fc0\u52b1\u89c6\u9891"),cc.adCallback={onResult:function(t){t?setTimeout(function(){e(),u.default.instance.playBGM(),console.log("*********\u6fc0\u52b1\u89c6\u9891\u6210\u529f*********")},500):setTimeout(function(){n(),u.default.instance.playBGM(),console.log("*********\u6fc0\u52b1\u89c6\u9891\u5931\u8d25*********")},500)}},this.sendEvent("video",{pos:o});break;case"BANNER":f.callOC("showAdWithType:",1);break;case"INTER":u.default.instance.stopBGM(),f.callOC("showAdWithType:",2),cc.fullVideoCallback={onResult:function(t){t?e&&(e(),u.default.instance.playBGM()):n&&(n(),u.default.instance.playBGM())}},this.sendEvent("insert",{pos:o});break;case"FULLVIDEO":f.callOC("showAdWithType:",3),cc.fullVideoCallback={onResult:function(t){t?e&&e():n&&n()}},this.sendEvent("fullscreen",{pos:o});break;case"BANNERCLOSE":f.callOC("closeBanner")}},f.prototype.sendEvent=function(t,e){var n="";e&&(n=JSON.stringify(e)),f.callOC("sendEvent:extParams:",t,n)},f.prototype.requestReview=function(){f.callOC("requestReview")},f.prototype.getChannel=function(){return"ios"},f.prototype.toGame=function(t){f.callOC("toGame:",t)},f.prototype.login=function(t){p.default.init(),t()},f.prototype.controlKey=function(){},r=f,i.default=r,cc._RF.pop()},{}],IllusionPanel:[function(t,e,n){"use strict";cc._RF.push(e,"ecbadyNMptOf4A6XupypVAK","IllusionPanel");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("PetDataManager"),f=i("SoundManager"),d=i("GameSys"),h=i("GameTools"),y=i("PanelConst"),v=i("PetPanel"),g=i("TipGroup"),m=i("UIBase"),b=i("UIManager");function C(){var t=null!==u&&u.apply(this,arguments)||this;return t.up=null,t.down=null,t.Content=null,t}i=(a=cc._decorator).ccclass,a.property,l(C,u=m.default),C.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.Content=t.getChildByName("ScrollView").getChildByName("view").getChildByName("content")},C.prototype.onEnable=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return s(this,function(l){switch(l.label){case 0:u.prototype.onEnable.call(this),o=d.default.getLevel(),t=Math.floor((o-1)/20),e=0,l.label=1;case 1:return e<this.Content.childrenCount?(n=this.Content.children[e],a=o="",a=e<=t?(n.getChildByName("btn").active=!0,o="Pet/icon"+e,"Pet/banner"):(n.getChildByName("btn").active=!1,o="Pet/icon-hui"+e,"Pet/banner-hui"),n.getChildByName("name").getComponent(cc.Label).string=""+p.default.Instance.GetName(e),n.getChildByName("info").getComponent(cc.Label).string="",(i=h.default.GetRes("SpriteBundle1",o,cc.SpriteFrame))?[3,3]:[4,h.default.loadImage("SpriteBundle1",o)]):[3,7];case 2:i=l.sent(),l.label=3;case 3:return n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=i,(r=h.default.GetRes("SpriteBundle1",a,cc.SpriteFrame))?[3,5]:[4,h.default.loadImage("SpriteBundle1",a)];case 4:r=l.sent(),l.label=5;case 5:n.getChildByName("banner").getComponent(cc.Sprite).spriteFrame=r,l.label=6;case 6:return e++,[3,1];case 7:return[2]}})})},C.prototype.ClickBtn=function(t,e){f.default.instance.play(f.Sound.Click),this.CloseThis(),e=parseInt(e),d.default.setPetIndex(e),g.default.instance.setText(-1,"\u5e7b\u5316\u6210\u529f"),b.default.Instance.GetClass(y.default.PET_PANEL).getComponent(v.default).initPet()},C.prototype.start=function(){},C.prototype.CloseThis=function(){u.prototype.CloseThis.call(this)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],C),r.default=i,cc._RF.pop()},{}],IntensifyDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"7f145CoOptJTZ81LgHRnyRr","IntensifyDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("IntensifyData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase"),v=i("SystemDataManager");function g(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(g,u=y.default),(p=g).prototype.onLoad=function(){p.Instance=this},g.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/Intensify",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/Intensify")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.info=a.info,i.level=a.level,i.type=a.type,i.addCoin=a.addCoin,i.addHp=a.addHp,i.addAtk=a.addAtk,i.addreward=a.addreward,i.needCoin=a.needCoin,i.makedrug=a.makedrug,i.exp=a.exp,this.allDataList.push(i);return[2]}})})},g.prototype.GetTypeData=function(t){var e=d.default.getIntensify()[t];if(0==e)return null;for(var n=[],o=0;o<this.allDataList.length;o++)this.allDataList[o].type==t&&n.push(this.allDataList[o]);for(o=0;o<n.length;o++){if(n[o].level==e)return n[o];if(o>=n.length-1)return n[o]}},g.prototype.GetTypeUnlock=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].type==t)return this.allDataList[e].needCoin},g.prototype.isCanUp=function(){var t=d.default.getCoin(),e=!1;if(!v.default.Instance.isUnlcok(15))return!1;for(var n=0;n<5;n++){var o=p.Instance.GetTypeData(n);if(e=o?t>=o.needCoin:t>=p.Instance.GetTypeUnlock(n))break}return e},g.prototype.GetIsMax=function(t){var e=d.default.getIntensify()[t];if(0==e)return!1;for(var n=[],o=0;o<this.allDataList.length;o++)this.allDataList[o].type==t&&n.push(this.allDataList[o]);return e>=n[n.length-1].level},g.prototype.GetNextTypeData=function(t){for(var e=d.default.getIntensify()[t]+1,n=[],o=0;o<this.allDataList.length;o++)this.allDataList[o].type==t&&n.push(this.allDataList[o]);for(o=0;o<n.length;o++){if(n[o].level==e)return n[o];if(o>=n.length-1)return n[o]}},g.prototype.GetAddAtk=function(){var t=this.GetTypeData(1);return t?t.addAtk:null},g.prototype.GetAddHp=function(){var t=this.GetTypeData(2);return t?t.addHp:null},g.prototype.GetAddCoin=function(){var t=this.GetTypeData(0);return t?t.addCoin:1},g.prototype.GetAddReward=function(){var t=this.GetTypeData(3);return t?t.addreward:null},g.prototype.GetCanMakeNum=function(){var t=this.GetTypeData(3);return t?10+t.level:10},g.prototype.GetUpCount=function(){for(var t=d.default.getIntensify(),e=0,n=0;n<t.length;n++)this.GetTypeData(n)&&(e+=t[n]);return e},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],g),r.default=i,cc._RF.pop()},{}],IntensifyData:[function(t,e,n){"use strict";cc._RF.push(e,"00840XaQJ9ER6Wx9rOPS6p9","IntensifyData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],IntensifyItem:[function(t,e,n){"use strict";cc._RF.push(e,"b0f0ffkHIFGkIuJcNY/yl6i","IntensifyItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("HeroDataManager"),h=a("IntensifyDataManager"),y=a("RealmDataManager"),v=a("SoundManager"),g=a("GameSys"),m=a("EventConst"),b=a("GameTools"),C=a("PanelConst"),S=a("TipGroup"),w=a("UIManager");function k(){var t=null!==p&&p.apply(this,arguments)||this;return t.max=null,t.icon=null,t.nowadd=null,t.nextadd=null,t.level=null,t.needCoin=null,t.index=0,t.upBtn=null,t.unlockBtn=null,t.unlockCoin=null,t.Sp=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(k,p=cc.Component),k.prototype.onLoad=function(){},k.prototype.start=function(){cc.systemEvent.on(m.EventConst.Coin,this.initCoin,this)},k.prototype.init=function(t,e){this.intensifyPanel=e,this.index=t;var n=h.default.Instance.GetTypeData(t);e=h.default.Instance.GetNextTypeData(t),n?(this.unlockBtn.active=!1,this.upBtn.active=!0,this.nowadd.string="\u5f53\u524d\u7b49\u7ea7: "+n.info,h.default.Instance.GetIsMax(this.index)?(this.level.string="\u5df2\u6ee1\u7ea7",this.max.active=!0,this.level.node.active=!1,this.upBtn.active=!1):(this.max.active=!1,this.level.node.active=!0,this.upBtn.active=!0,this.level.string="\u7b49\u7ea7"+g.default.getIntensify()[t]),this.needCoin.string="\xd7"+b.default.refSetCoin(n.needCoin),g.default.getCoin()>=n.needCoin?b.default.ResetGrayAllNode(this.upBtn):b.default.SetGrayAllNode(this.upBtn)):(this.max.active=!1,this.unlockBtn.active=!0,this.upBtn.active=!1,this.nowadd.string="\u5f53\u524d\u7b49\u7ea7: \u672a\u89e3\u9501",this.level.string="\u672a\u89e3\u9501",t=h.default.Instance.GetTypeUnlock(t),this.unlockCoin.string="x"+b.default.refSetCoin(t),g.default.getCoin()>=t?b.default.ResetGrayAllNode(this.unlockBtn):b.default.SetGrayAllNode(this.unlockBtn)),this.nextadd.string="\u4e0b\u4e00\u7b49\u7ea7: "+e.info},k.prototype.initCoin=function(){var t=h.default.Instance.GetTypeData(this.index),e=g.default.getCoin();t?e>=t.needCoin?b.default.ResetGrayAllNode(this.upBtn):b.default.SetGrayAllNode(this.upBtn):e>=h.default.Instance.GetTypeUnlock(this.index)?b.default.ResetGrayAllNode(this.unlockBtn):b.default.SetGrayAllNode(this.unlockBtn)},k.prototype.ClickUp=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i;return u(this,function(r){switch(r.label){case 0:return v.default.instance.play(v.Sound.Click),h.default.Instance.GetIsMax(this.index)?(S.default.instance.setText(-1,"\u5df2\u8fbe\u5230\u6700\u5927\u7b49\u7ea7"),[2]):[3,1];case 1:return n=g.default.getCoin(),t=h.default.Instance.GetTypeData(this.index),n<t.needCoin?(S.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,w.default.Instance.ShowUI(C.default.FreeCoin)]):[3,2];case 2:return this.ShowSp(),i=g.default.getRealmExp(),e=y.default.Instance.GetRealmData(i),[4,d.default.Instance.GetMaxFight()];case 3:n=r.sent(),w.default.Instance.ChangeCoin(-t.needCoin),g.default.setIntensify(this.index),i=h.default.Instance.GetTypeData(this.index),g.default.setRealmExp(i.exp),this.intensifyPanel.init(),i=g.default.getRealmExp(),(o=y.default.Instance.GetRealmData(i)).realmName!=e.realmName&&setTimeout(function(){var t="";999999!=o.addCoin&&(t="\u7075\u6c14\u6536\u76ca\u52a0\u6210+"+100*o.addCoin+"%"),999999!=o.addAtk&&(t="\u5168\u4f53\u653b\u51fb\u52a0\u6210+"+100*o.addAtk+"%"),999999!=o.addHp&&(t="\u5168\u4f53\u751f\u547d\u52a0\u6210+"+100*o.addHp+"%"),999999!=o.addDodge&&(t="\u5168\u4f53\u95ea\u907f\u52a0\u6210+"+o.addDodge+"%"),999999!=o.addHit&&(t="\u5168\u4f53\u547d\u4e2d\u52a0\u6210+"+o.addHit+"%"),999999!=o.addCrit&&(t="\u5168\u4f53\u66b4\u51fb\u52a0\u6210+"+o.addCrit+"%"),t="\u5883\u754c\u63d0\u5347\u81f3"+o.realmName+","+a.info,S.default.instance.setText(-1,""+t)},500),a=h.default.Instance.GetTypeData(this.index),i="\u6d88\u8017\u7075\u6c14"+b.default.refSetCoin(t.needCoin)+","+a.info,S.default.instance.setText(-1,i),f.default.instance.MaxFightChange(n),r.label=4;case 4:return[2]}})})},k.prototype.ClickUnlock=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return v.default.instance.play(v.Sound.Click),n=g.default.getCoin(),t=h.default.Instance.GetTypeUnlock(this.index),n<t?(S.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,w.default.Instance.ShowUI(C.default.FreeCoin)]):[3,1];case 1:return this.ShowSp(),[4,d.default.Instance.GetMaxFight()];case 2:e=o.sent(),w.default.Instance.ChangeCoin(-t),g.default.setIntensify(this.index),n=h.default.Instance.GetTypeData(this.index),g.default.setRealmExp(n.exp),this.intensifyPanel.init(),f.default.instance.MaxFightChange(e),o.label=3;case 3:return[2]}})})},k.prototype.ShowSp=function(){var t=this;this.Sp.node.active=!0,this.Sp.setAnimation(0,"fengshang",!1),this.Sp.setCompleteListener(function(){t.Sp.node.active=!1})},c([i(cc.Node)],k.prototype,"max",void 0),c([i(cc.Sprite)],k.prototype,"icon",void 0),c([i(cc.Label)],k.prototype,"nowadd",void 0),c([i(cc.Label)],k.prototype,"nextadd",void 0),c([i(cc.Label)],k.prototype,"level",void 0),c([i(cc.Label)],k.prototype,"needCoin",void 0),c([i(cc.Node)],k.prototype,"upBtn",void 0),c([i(cc.Node)],k.prototype,"unlockBtn",void 0),c([i(cc.Label)],k.prototype,"unlockCoin",void 0),c([i(sp.Skeleton)],k.prototype,"Sp",void 0),a=c([a],k),r.default=a,cc._RF.pop()},{}],IntensifyPanel:[function(t,e,n){"use strict";cc._RF.push(e,"65804aB075N+LMB8XTr8g9+","IntensifyPanel");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("OnHook"),u=i("RealmDataManager"),p=i("SoundManager"),f=i("GameSys"),d=i("IntensifyItem"),h=i("PanelConst"),y=i("UIBase"),v=i("UIManager");function g(){var t=null!==c&&c.apply(this,arguments)||this;return t.progress=null,t.nextRealm=null,t.info=null,t.content=null,t.nowRealm=null,t.Exp=null,t}i=(a=cc._decorator).ccclass,a.property,l(g,c=y.default),g.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.progress=t.getChildByName("progress").getComponent(cc.Sprite),this.nextRealm=t.getChildByName("nextrealm").getComponent(cc.Label),this.nowRealm=t.getChildByName("nowrealm").getComponent(cc.Label),this.info=t.getChildByName("info").getComponent(cc.Label),this.content=t.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),this.Exp=t.getChildByName("exp").getComponent(cc.Label)},g.prototype.onEnable=function(){c.prototype.onEnable.call(this),this.init(),13==s.default.instance.teacherid&&(s.default.instance.teacherid=0)},g.prototype.init=function(){var t=f.default.getRealmExp(),e=u.default.Instance.GetShowExp(t),n=u.default.Instance.GetRealmData(t);t=u.default.Instance.GetNextRealmData(t),this.progress.fillRange=e/n.needexp,this.Exp.string=e+"/"+n.needexp,this.nowRealm.string="\u5f53\u524d: "+n.realmName,this.nextRealm.string="\u4e0b\u4e00\u5883\u754c: "+t.realmName,n="",999999!=t.addCoin&&(n="\u7075\u6c14\u6536\u76ca\u52a0\u6210+"+100*t.addCoin+"%"),999999!=t.addAtk&&(n="\u5168\u4f53\u653b\u51fb\u52a0\u6210+"+100*t.addAtk+"%"),999999!=t.addHp&&(n="\u5168\u4f53\u751f\u547d\u52a0\u6210+"+100*t.addHp+"%"),999999!=t.addDodge&&(n="\u5168\u4f53\u95ea\u907f\u52a0\u6210+"+t.addDodge+"%"),999999!=t.addHit&&(n="\u5168\u4f53\u547d\u4e2d\u52a0\u6210+"+t.addHit+"%"),999999!=t.addCrit&&(n="\u5168\u4f53\u66b4\u51fb\u52a0\u6210+"+t.addCrit+"%"),this.info.string=n;for(var o=0;o<this.content.childrenCount;o++)this.content.children[o].getComponent(d.default).init(o,this)},g.prototype.ClickOff=function(){p.default.instance.play(p.Sound.Click),this.CloseThis()},g.prototype.CloseThis=function(){c.prototype.CloseThis.call(this),v.default.Instance.ShowInter()},g.prototype.ClickAllAdd=function(){p.default.instance.play(p.Sound.Click),v.default.Instance.ShowUI(h.default.RealmAddPanel)},g.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],g),r.default=i,cc._RF.pop()},{}],InvitationDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"0a84cTReFdPrqlEu3LseWlJ","InvitationDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("InvitationData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/invitation",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/invitation")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.count=a.count,i.peoNum=a.peoNum,i.rewardId=a.rewardId,this.allDataList.push(i);return[2]}})})},y.prototype.getData=function(){return this.allDataList},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],InvitationData:[function(t,e,n){"use strict";cc._RF.push(e,"77e3cfdIWFPErQ+VYUhyKUH","InvitationData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],JBGItem:[function(t,e,n){"use strict";cc._RF.push(e,"c2704gpGOtBM6HVm5p0dbMG","JBGItem");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("ArtifactsDataManager"),f=i("CoinOutPutDataManager"),d=i("InvitationDataManager"),h=i("PropDataManager"),y=i("SoundManager"),v=i("GameSys"),g=i("GameTools"),m=i("PanelConst"),b=i("RewardPanel"),C=i("TipGroup"),S=i("UIManager");function w(){var t=null!==u&&u.apply(this,arguments)||this;return t.index=0,t.friendNum=0,t}i=(a=cc._decorator).ccclass,a.property,l(w,u=cc.Component),w.prototype.init=function(t,e){return c(this,void 0,void 0,function(){var n,o,a,i,r,l,c;return s(this,function(s){switch(s.label){case 0:switch(this.index=t,this.friendNum=e,n=d.default.Instance.getData(),o=h.default.Instance.GetProp(n[t].rewardId),a="",o.type){case 4:a="PropIcon/coin";break;case 5:a="PropIcon/jewel";break;default:a="PropIcon/"+o.icon}return(i=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage("Bundle",a)];case 1:i=s.sent(),s.label=2;case 2:switch(this.node.getChildByName("item").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=i,this.node.getChildByName("item").getChildByName("name").getComponent(cc.Label).string=o.name,o.type){case 4:return[3,3];case 5:return[3,5]}return[3,7];case 3:return[4,f.default.Instance.GetOutPut()];case 4:return r=s.sent()*n[t].count,this.node.getChildByName("item").getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r),[3,8];case 5:return[4,p.default.Instance.GetOutPut()];case 6:return l=s.sent()*n[t].count,this.node.getChildByName("item").getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(l),[3,8];case 7:return this.node.getChildByName("item").getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(n[t].count),[3,8];case 8:return l="PropFrame/"+o.frame,(c=g.default.GetRes("Bundle",l,cc.SpriteFrame))?[3,10]:[4,g.default.loadImage("Bundle",l)];case 9:c=s.sent(),s.label=10;case 10:return this.node.getChildByName("item").getComponent(cc.Sprite).spriteFrame=c,0==v.default.getJBG()[t]?(this.node.getChildByName("getBtn").active=!0,this.node.getChildByName("end").active=!1):(this.node.getChildByName("getBtn").active=!1,this.node.getChildByName("end").active=!0),[2]}})})},w.prototype.ClickGet=function(){return c(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:return y.default.instance.play(y.Sound.Click),t=d.default.Instance.getData(),this.friendNum<t[this.index].peoNum?(C.default.instance.setText(-1,"\u9080\u8bf7\u4eba\u6570\u4e0d\u8db3"),[3,3]):[3,1];case 1:return v.default.setJBG(this.index),e=h.default.Instance.GetProp(t[this.index].rewardId),n=t[this.index].count,[4,S.default.Instance.ShowUI(m.default.RewardPanel)];case 2:o.sent(),S.default.Instance.GetClass(m.default.RewardPanel).getComponent(b.default).initAsset([{prop:e,have:n}]),this.init(this.index,this.friendNum),o.label=3;case 3:return[2]}})})},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],w),r.default=i,cc._RF.pop()},{}],JBGPanel:[function(t,e,n){"use strict";cc._RF.push(e,"344178iXcxIyo+NmfgtNztb","JBGPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("InvitationDataManager"),p=a("SoundManager"),f=a("GameSys"),d=a("GameTools"),h=a("JBGItem"),y=a("UIBase"),v=a("UIManager");function g(){var t=null!==s&&s.apply(this,arguments)||this;return t.WXService=null,t.Progress=null,t.Pos=[],t.ItemContent=null,t.ShareNum=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(g,s=y.default),g.prototype.onLoad=function(){this.WXService.active="WX"==f.default.channel},g.prototype.onEnable=function(){var t=this;s.prototype.onEnable.call(this),d.default.getSdk().getShareList(1,function(e){e=JSON.parse(e).data,console.log("\u83b7\u53d6\u5230\u7684\u597d\u53cbarray:",e);var n=e.length;t.ShareNum.string="\u5df2\u9080\u8bf7"+n+"\u4eba";for(var o=[1,2,3,5,10,15,20],a=0;a<o.length;a++){if(n<o[a]){t.Progress.fillRange=0<a?(t.Pos[a-1].x+t.Progress.node.width/2)/t.Progress.node.width:(t.Pos[a].x+t.Progress.node.width/2)/t.Progress.node.width;break}o.length-1<=a&&(t.Progress.fillRange=(t.Pos[a].x+t.Progress.node.width/2)/t.Progress.node.width)}var i=u.default.Instance.getData();for(a=0;a<t.Pos.length;a++)n>=i[a].peoNum?t.Pos[a].color=cc.color().fromHEX("#22FF03"):t.Pos[a].color=cc.color().fromHEX("#FFFFFF");for(a=0;a<t.ItemContent.children.length;a++)t.ItemContent.children[a].getComponent(h.default).init(a,n)})},g.prototype.ClickWXService=function(){p.default.instance.play(p.Sound.Click),d.default.getSdk().openCustomerServiceConversation(),0==f.default.requestSubscribeMessage[3]&&(f.default.requestSubscribeMessage[3]=1,d.default.getSdk().requestSubscribeMessage(3,function(){d.default.getSdk().sendEvent("dingyuegengxin")},function(){}))},g.prototype.ClickShare=function(){p.default.instance.play(p.Sound.Click),d.default.getSdk().shareFriend(1),0==f.default.requestSubscribeMessage[3]&&(f.default.requestSubscribeMessage[3]=1,d.default.getSdk().requestSubscribeMessage(3,function(){d.default.getSdk().sendEvent("dingyuegengxin")},function(){}))},g.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),v.default.Instance.ShowInter()},c([i(cc.Node)],g.prototype,"WXService",void 0),c([i(cc.Sprite)],g.prototype,"Progress",void 0),c([i(cc.Node)],g.prototype,"Pos",void 0),c([i(cc.Node)],g.prototype,"ItemContent",void 0),c([i(cc.Label)],g.prototype,"ShareNum",void 0),a=c([a],g),r.default=a,cc._RF.pop()},{}],Knife:[function(t,e,n){"use strict";cc._RF.push(e,"05435k0kxtNN5IcM6mZR6sw","Knife");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.open=999,t.type=0,t.master=null,t.atk=0,t.move=!1,t.speed=2500,t.target=null,t.isover=!1,t.dir=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.onLoad=function(){this.Sp=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},p.prototype.initTeamer=function(t,e,n,o){this.Sp.setAnimation(0,"bullet",!0),this.open=.5*o,this.type=t,this.master=e,this.atk=n,this.move=!1,this.isover=!1,n=Math.floor(3*Math.random()),this.node.x=-500,this.node.angle=-180,this.node.y=[450,300,150][n]},p.prototype.initMonster=function(t,e,n,o){this.open=.5*o,this.type=t,this.master=e,this.atk=n,this.move=!1,this.isover=!1,n=Math.floor(3*Math.random()),this.node.angle=0,this.node.x=500,this.node.y=[450,300,150][n]},p.prototype.start=function(){cc.director.getCollisionManager().enabled=!0},p.prototype.update=function(t){var e=this;if(s.default.instance.state==s.FightState.ready)return this.move=!1,void u.default.Knife.restor(this.node);if(this.open-=t*u.default.speed,this.open<=0&&!this.move){this.move=!0;var n=null;if(0==this.type?this.target=this.master.GetMonster():this.target=this.master.GetTeamer(),!this.target||this.target.node)return void u.default.Knife.restor(this.node);n=this.target.node.parent.convertToWorldSpaceAR(this.target.node.getPosition());var o=this.node.getPosition(),a=this.node.parent.convertToNodeSpaceAR(n),i=o.sub(a).signAngle(cc.v2(1,0)),r=i/Math.PI*180;this.node.angle=-r,this.dir=cc.v2(-Math.cos(i),Math.sin(i)),this.dir.normalizeSelf()}this.move&&!this.isover&&(this.node.x+=t*this.dir.x*u.default.speed*this.speed,this.node.y+=t*this.dir.y*u.default.speed*this.speed,!this.isover&&this.target&&(o=this.node.getPosition(),n=null,n=this.target.node.parent.convertToWorldSpaceAR(this.target.node.getPosition()),a=this.node.parent.convertToNodeSpaceAR(n),o.sub(a).mag()<=30&&(this.isover=!0,this.target.TheStrike(this.atk,this.master.role.hit,!1,!1),this.move=!1,this.Sp.setAnimation(0,"hit",!1),this.Sp.setCompleteListener(function(){u.default.Knife.restor(e.node)}))),0==this.type?(700<this.node.x||1e3<this.node.y||this.node.y<-1e3)&&u.default.Knife.restor(this.node):(this.node.x<-700||1e3<this.node.y||this.node.y<-1e3)&&u.default.Knife.restor(this.node))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],LoadGroup:[function(t,e,n){"use strict";cc._RF.push(e,"54376pAKjFGMKKbDU7yFUD1","LoadGroup");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("GameEntry"),d=a("LoadManager"),h=a("GameSys"),y=a("GameTools"),v=a("ServerUtil"),g=a("TipGroup");function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.LoginFail=null,t.logo4399=null,t.AgeNode=null,t.logo=null,t.logoFrame=[],t.YinsiNode=null,t.yinsi=null,t.icon=null,t.Bg=null,t.isStartLoad=!1,t.progress=null,t.loadLabel=null,t.gameEntry=null,t.MainScene=null,t.curFalseValue=0,t.falseValueAddSpeed=30,t.nextProgressValue=0,t._isLoadSuccess=!1,t._isLoginSuccess=!1,t._isCloudSysSucc=!1,t.ready=0,t.cout=0,t.progress_max=0,t.progress_real=0,t.pro=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,p=cc.Component),Object.defineProperty(m.prototype,"isLoadSuccess",{get:function(){return this._isLoadSuccess},set:function(t){this._isLoadSuccess=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isLoginSuccess",{get:function(){return this._isLoginSuccess},set:function(t){this._isLoginSuccess=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isCloudSysSucc",{get:function(){return this._isCloudSysSucc},set:function(t){this._isCloudSysSucc=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),m.prototype.onLoad=function(){window.tt&&window.tt.onError(window.Error=function(t){console.error("\u7a0b\u5e8f\u51fa\u9519\u4e86\n"+t)})},m.prototype.start=function(){"TT"==h.default.channel&&y.default.getSdk().addToFavorites();var t=y.default.getSdk().getChannelId(),e=y.default.getSdk().getSecret(),n=y.default.getSdk().getGameId();v.default.init(n,t,e,"100"),"WX"==h.default.channel?this.logo.spriteFrame=this.logoFrame[0]:this.logo.spriteFrame=this.logoFrame[1],this.logo4399.active="4399"==h.default.channel,this.StartLoading(),this.StartLogin()},Object.defineProperty(m.prototype,"loadDataDics",{get:function(){return{Jsons:cc.JsonAsset}},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"loadSingleDics",{get:function(){return{"Prefabs/Game/Sect":cc.Prefab,"Prefabs/UIPanel/MainPanel":cc.Prefab}},enumerable:!1,configurable:!0}),m.prototype.loadAssetBundle=function(t){return s(this,void 0,void 0,function(){var e=this;return u(this,function(n){switch(n.label){case 0:return[4,cc.assetManager.loadBundle("Public",function(n,o){n&&console.log("this.PublicBundle is not find"),y.default.PublicBundle=o,e.ready++,6<=e.ready&&t()})];case 1:return n.sent(),[4,cc.assetManager.loadBundle("Bundle",function(n,o){n&&console.log("this.Bundle is not find"),y.default.bundle=o,e.ready++,6<=e.ready&&t()})];case 2:return n.sent(),[4,cc.assetManager.loadBundle("JsonBundle",function(n,o){n&&console.log("this.JsonBundle is not find"),y.default.Jsonbundle=o,e.ready++,6<=e.ready&&t()})];case 3:return n.sent(),[4,cc.assetManager.loadBundle("SpriteBundle1",function(n,o){n&&console.log("this.SpriteBundle1 is not find"),y.default.SpriteBundle1=o,e.ready++,6<=e.ready&&t()})];case 4:return n.sent(),[4,cc.assetManager.loadBundle("SpriteBundle2",function(n,o){n&&console.log("this.Main is not find"),y.default.SpriteBundle2=o,e.ready++,6<=e.ready&&t()})];case 5:return n.sent(),[4,cc.assetManager.loadBundle("MainScene",function(n,o){n&&console.log("this.Main is not find"),console.log("MainScene:",o),y.default.sceneBundle=o,e.ready++,6<=e.ready&&t()})];case 6:return n.sent(),[2]}})})},m.prototype.StartLoading=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(){return y.default.getSdk().sendEvent("load",{message:"\u5f00\u59cb\u52a0\u8f7d"}),this.loadAssetBundle(function(){return s(t,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:return this.loadLabel.node.active=!0,this.isStartLoad=!0,this.curLoadManage=new d.default(this.loadDataDics,this.loadSingleDics,function(){}),t="Award/kaijibg",(e=y.default.GetRes("SpriteBundle1",t,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("SpriteBundle1",t)];case 1:e=o.sent(),o.label=2;case 2:return this.Bg.spriteFrame=e,console.log("\u573a\u666fbundle\u662f\u5426\u52a0\u8f7d\u5b8c\uff1a",y.default.sceneBundle),y.default.sceneBundle.loadScene("MainScene",function(t,e){t?console.log("\u4e3b\u573a\u666ferror:",t,e):(console.log("\u5f00\u59cb\u52a0\u8f7djson"),n.MainScene=e,n.Ready())}),[2]}})})}),[2]})})},m.prototype.StartLogin=function(){this.isLoginSuccess=!0,this.StartGetCloudSave()},m.prototype.Ready=function(){var t=this;this.gameEntry.RegistSingleTon(),this.gameEntry.InitSingleTon(function(){t.LoadFinish()})},m.prototype.StartGetCloudSave=function(){this.isCloudSysSucc=!0},m.prototype.update=function(t){this.progress_real>this.pro&&this.progress_real>this.progress_max&&(this.progress_max=this.progress_real,this.pro=this.progress_max),this.pro=Math.min(Math.max(.99,this.progress_max),this.pro+.1*t),this.progress.fillRange=this.pro,this.icon.x=527*this.pro-263.5,this.loadLabel.string=Math.floor(100*this.pro)+"%"},m.prototype.LoadFinish=function(){this.progress.fillRange=1,this.icon.x=263.5,this.loadLabel.string="\u52a0\u8f7d\u4e2d... 100%",this.isStartLoad=!1,this.loadLabel.string="\u52a0\u8f7d\u5b8c\u6210",this.isLoadSuccess=!0,y.default.getSdk().sendEvent("loadsuccess",{message:"\u6210\u529f\u52a0\u8f7d"}),this.Login()},m.prototype.Login=function(){var t=this;y.default.getSdk().login(function(){!h.default.getIsFirst()||"OPPO"!=h.default.channel&&"QQ"!=h.default.channel&&"VIVO"!=h.default.channel?cc.director.runScene(t.MainScene,function(){},function(){f.default.PlayGame()}):t.ShowYinsi()},function(){g.default.instance.setText(-1,"\u767b\u9646\u5931\u8d25"),t.LoginFail.active=!0})},m.prototype.hideLoginFail=function(){this.LoginFail.active=!1,this.Login()},m.prototype.JudgeStartGame=function(){this.isLoadSuccess&&this.isLoginSuccess&&this.isCloudSysSucc&&this.unscheduleAllCallbacks()},m.prototype.ShowYinsi=function(){this.yinsi.active=!0},m.prototype.ClickYes=function(){this.HideYinsi(),cc.director.runScene(this.MainScene,function(){},function(){f.default.PlayGame()})},m.prototype.ClickNo=function(){console.log("\u8c03\u7528\u9000\u51fa"),"QQ"==h.default.channel?qq.exitMiniProgram():"VIVO"==h.default.channel?qg.exitApplication():cc.game.end()},m.prototype.HideYinsi=function(){this.yinsi.active=!1},m.prototype.ShowYinsiNode=function(){this.YinsiNode.active=!0},m.prototype.HideYinsiNode=function(){this.YinsiNode.active=!1},m.prototype.ShowAge=function(){this.AgeNode.active=!0},m.prototype.HideAge=function(){this.AgeNode.active=!1},c([i(cc.Node)],m.prototype,"LoginFail",void 0),c([i(cc.Node)],m.prototype,"logo4399",void 0),c([i(cc.Node)],m.prototype,"AgeNode",void 0),c([i(cc.Sprite)],m.prototype,"logo",void 0),c([i(cc.SpriteFrame)],m.prototype,"logoFrame",void 0),c([i(cc.Node)],m.prototype,"YinsiNode",void 0),c([i(cc.Node)],m.prototype,"yinsi",void 0),c([i(cc.Node)],m.prototype,"icon",void 0),c([i(cc.Sprite)],m.prototype,"Bg",void 0),c([i(cc.Sprite)],m.prototype,"progress",void 0),c([i(cc.Label)],m.prototype,"loadLabel",void 0),c([i(f.default)],m.prototype,"gameEntry",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],LoadItem:[function(t,e,n){"use strict";cc._RF.push(e,"55d3drGFWpHpajtBTtfXNnf","LoadItem");var o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=o("GameTools");function r(t){this.totalCount=1,this.completeCount=0,this.curLoadManager=t}r.prototype.StartLoadDir=function(t,e){var n=this;this.curLoadDirs=t,i.default.bundle.loadDir(t,e,function(t,e){n.completeCount=t,n.totalCount=e},function(){n.LoadFinish()})},r.prototype.StartLoadSignleRes=function(t,e){var n=this;this.curLoadDirs=t,i.default.bundle.load(t,e,function(){n.LoadFinish()})},r.prototype.LoadFinish=function(){this.curLoadManager.LoadFinishOne()},o=r,a.default=o,cc._RF.pop()},{}],LoadManager:[function(t,e,n){"use strict";cc._RF.push(e,"fb9f2Uw47pIDK/F34KgTwgx","LoadManager");var o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=o("LoadItem");function r(t,e,n){for(var o in void 0===n&&(n=null),this.curLoadItems=new Array,this.curFinishNum=0,this.finishHandler=null,this.nextProgressValue=0,this.finishHandler=n,t)(a=new i.default(this)).StartLoadDir(o,t[o]),this.curLoadItems.push(a);for(var o in e){var a;(a=new i.default(this)).StartLoadSignleRes(o,t[o]),this.curLoadItems.push(a)}this.curLoadItems.length<=0&&this.finishHandler&&this.finishHandler()}r.prototype.LoadFinishOne=function(){this.curFinishNum+=1,this.UpdateCurProgressValue(),this.curFinishNum>=this.curLoadItems.length&&(console.log("\u5168\u90e8\u52a0\u8f7d\u5b8c\u6210\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01"),this.finishHandler&&this.finishHandler())},r.prototype.UpdateCurProgressValue=function(){var t=this.curLoadItems.length;this.curFinishNum>=t-1?this.nextProgressValue=100:this.nextProgressValue=(this.curFinishNum+1)/t*100},r.prototype.GetLoadPercent=function(){for(var t=this.curLoadItems.length,e=0,n=0,o=0;o<t;o++){var a=this.curLoadItems[o];e+=a.totalCount,n+=a.completeCount}var i=n/e;return i*=100,Math.floor(i)},o=r,a.default=o,cc._RF.pop()},{}],LoadPanel:[function(t,e,n){"use strict";cc._RF.push(e,"266a9K5oBNNZol/Xod1MbWs","LoadPanel");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("UIBase");function u(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(u,c=s.default),u.prototype.init=function(t){this.callback=t},u.prototype.CloseThis=function(){c.prototype.CloseThis.call(this)},u.prototype.start=function(){},u.prototype.update=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],u),r.default=i,cc._RF.pop()},{}],LoadingPanel:[function(t,e,n){"use strict";cc._RF.push(e,"46645f186pEEa5e+2CNs9Ol","LoadingPanel");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("LoadManager"),u=i("GameTools"),p=i("UIBase");function f(){var t=null!==c&&c.apply(this,arguments)||this;return t.isStartLoad=!1,t.loadLabel=null,t.curFalseValue=0,t.falseValueAddSpeed=30,t.nextProgressValue=0,t._isLoadSuccess=!1,t._isLoginSuccess=!1,t._isCloudSysSucc=!1,t}i=(a=cc._decorator).ccclass,a.property,l(f,c=p.default),Object.defineProperty(f.prototype,"isLoadSuccess",{get:function(){return this._isLoadSuccess},set:function(t){this._isLoadSuccess=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isLoginSuccess",{get:function(){return this._isLoginSuccess},set:function(t){this._isLoginSuccess=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isCloudSysSucc",{get:function(){return this._isCloudSysSucc},set:function(t){this._isCloudSysSucc=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),f.prototype.onLoad=function(){this.loadLabel=this.node.getChildByName("txt").getComponent(cc.Label),this.loadLabel.node.active=!1},f.prototype.start=function(){this.StartLoading(),this.StartLogin()},Object.defineProperty(f.prototype,"loadDataDics",{get:function(){return{Jsons:cc.JsonAsset,"Prefabs/UI/Common":cc.Prefab}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"loadSingleDics",{get:function(){return{"Prefabs/Game/Sect":cc.Prefab,"Prefabs/UIPanel/MainPanel":cc.Prefab}},enumerable:!1,configurable:!0}),f.prototype.StartLoading=function(){var t=this;this.loadLabel.node.active=!0,this.isStartLoad=!0,this.curLoadManage=new s.default(this.loadDataDics,this.loadSingleDics,function(){t.LoadFinish()}),cc.assetManager.loadBundle("Bundle",function(t,e){t&&console.log("this.bundle is not find"),u.default.bundle=e})},f.prototype.StartLogin=function(){var t=this;u.default.getSdk().login(function(){t.isLoginSuccess=!0,t.StartGetCloudSave()},function(){console.log("\u767b\u5f55\u5931\u8d25\u4e86:")})},f.prototype.StartGetCloudSave=function(){this.isCloudSysSucc=!0},f.prototype.SetData=function(t){this.gameEntry=t},f.prototype.update=function(){this.isStartLoad&&(this.nextProgressValue!=this.curLoadManage.nextProgressValue?(this.curFalseValue=this.nextProgressValue,this.nextProgressValue=this.curLoadManage.nextProgressValue):(this.curFalseValue+=cc.director.getDeltaTime()*this.falseValueAddSpeed,this.curFalseValue=this.curFalseValue>this.curLoadManage.nextProgressValue?this.curLoadManage.nextProgressValue:this.curFalseValue),100<=this.curFalseValue&&(this.curFalseValue=99),this.loadLabel.string="\u52a0\u8f7d\u4e2d... "+Math.floor(this.curFalseValue)+"%")},f.prototype.LoadFinish=function(){var t=this;this.loadLabel.string="\u52a0\u8f7d\u4e2d... 100%",this.isStartLoad=!1,this.scheduleOnce(function(){t.loadLabel.string="\u52a0\u8f7d\u5b8c\u6210",t.isLoadSuccess=!0},.2)},f.prototype.JudgeStartGame=function(){var t=this;this.isLoadSuccess&&this.isLoginSuccess&&this.isCloudSysSucc&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){t.gameEntry.StartGame()},0))},f.prototype.CloseThis=function(){this.node.active=!1},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],LocalRecorder:[function(t,e,n){"use strict";cc._RF.push(e,"d6e8aj0p7NGrZ0bgiA2DKaE","LocalRecorder");var o,a=n;function i(){}Object.defineProperty(a,"__esModule",{value:!0}),i.prototype.readData=function(t){return cc.sys.localStorage.getItem(t)},i.prototype.writeData=function(t,e){cc.sys.localStorage.setItem(t,JSON.stringify(e))},i.prototype.writeDatas=function(t){for(var e in t){var n=t[e];this.writeData(e,n)}},i.prototype.strToHexCharCode=function(t){if(""===t)return"";var e=[];e.push("0x");for(var n=0;n<t.length;n++)e.push(t.charCodeAt(n).toString(16));return e.join("")},i.prototype.hexCharCodeToStr=function(t){var e,n="0x"===(t=t.trim()).substr(0,2).toLowerCase()?t.substr(2):t,o=n.length;if(o%2!=0)return"";for(var a=[],i=0;i<o;i+=2)e=parseInt(n.substr(i,2),16),a.push(String.fromCharCode(e));return a.join("")},o=i,a.default=o,cc._RF.pop()},{}],M4399Manager:[function(t,e,n){"use strict";cc._RF.push(e,"3e7cb8rQqdKpIlw60ViEPln","M4399Manager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("SoundManager"),u=i("Recorder"),p=i("SdkManager");function f(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(f,c=p.default),f.prototype.login=function(t){u.default.init(),t()},f.prototype.videoAdShow=function(t){window.h5api.playAd(function(e){console.log("\u4ee3\u7801:"+e.code+",\u6d88\u606f:"+e.message),1e4==e.code?console.log("\u5f00\u59cb\u64ad\u653e"):(10001==e.code?(console.log("\u64ad\u653e\u7ed3\u675f"),t()):console.log("\u5e7f\u544a\u5f02\u5e38"),s.default.instance.playBGM())})},f.prototype.PlatformCallBack=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),"REWARD"==t&&(s.default.instance.stopBGM(),this.videoAdShow(function(){e(),cc.director.resume()},function(){n(),cc.director.resume()}))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],M58Manager:[function(t,e,n){"use strict";cc._RF.push(e,"b2940elj9RCToRQAOpyyM4b","M58Manager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Recorder"),u=i("HttpClient"),p=i("SdkManager");function f(){var t=null!==c&&c.apply(this,arguments)||this;return t.userStr="",t.video=0,t}i=(a=cc._decorator).ccclass,a.property,l(f,c=p.default),f.prototype.login=function(t){this.userStr=this.getQueryVariable("identity"),console.log("userStr",this.userStr),this.SendPv(),this.gamerecord(),s.default.init(),t()},f.prototype.getQueryVariable=function(t){for(var e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var o=e[n].split("=");if(o[0]==t)return o[1]}return""},f.prototype.gamerecord=function(){u.default.gamerecord(this.userStr,{success:function(t){console.log("\u7528\u6237\u8bb0\u5f55\u7528\u6237\u884c\u4e3a\u6210\u529f\u56de\u8c03:",t)},fail:function(t){console.log("\u7528\u6237\u8bb0\u5f55\u7528\u6237\u884c\u4e3a\u5931\u8d25\u56de\u8c03:",t)}})},f.prototype.playVideoAdCSJ=function(t,e){var n=!1,o=Date.now();WBAPP.invoke("ad_bytedance",{type:"play",code_id:"946694322",data:{bizId:"identify"}},function(a){switch(a){case"JUMP_VIDEO":n=Date.now()-o<2e4;break;case"FINISHED":n?(console.log("\u8df3\u8fc7"),e()):t();break;default:e()}})},f.prototype.playVideoAdGDT=function(t,e){var n=Date.now();WBAPP.invoke("ad_guangdiantong",{type:"play",posId:"8062738241623833",data:{bizId:"identify"}},function(o){switch(o){case"JUMP_VIDEO":(Date.now()-n<2e4?e:t)();break;case"FINISHED":t();break;default:e()}})},f.prototype.sendEvent=function(t,e){e?(console.log("\u53d1\u9001\u4e8b\u4ef6:",t,e),aplus_queue.push({action:"aplus.record",arguments:[t,"CLK",e]})):(console.log("\u53d1\u9001\u4e8b\u4ef6:",t,e),aplus_queue.push({action:"aplus.record",arguments:[t,"CLK",{}]}))},f.prototype.SendPv=function(){console.log("\u53d1\u9001pv"),aplus_queue.push({action:"aplus.sendPV",arguments:[{is_auto:!1},{}]})},f.prototype.PlatformCallBack=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),"REWARD"==t&&(0==this.video?(this.video=1,this.playVideoAdGDT(e,n)):(this.video=0,this.playVideoAdCSJ(e,n)))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],f),r.default=i,cc._RF.pop()},{}],MD5:[function(t,e,n){"use strict";cc._RF.push(e,"b3a04WHGolMqobwJ2yBpwEV","MD5");var o,a=n;function i(){}Object.defineProperty(a,"__esModule",{value:!0}),i.hex_md5=function(t){return this.binl2hex(this.core_md5(this.str2binl(t),t.length*this.chrsz))},i.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc")},i.core_md5=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,o=-271733879,a=-1732584194,i=271733878,r=0;r<t.length;r+=16){var l=n,c=o,s=a,u=i;n=this.md5_ff(n,o,a,i,t[r+0],7,-680876936),i=this.md5_ff(i,n,o,a,t[r+1],12,-389564586),a=this.md5_ff(a,i,n,o,t[r+2],17,606105819),o=this.md5_ff(o,a,i,n,t[r+3],22,-1044525330),n=this.md5_ff(n,o,a,i,t[r+4],7,-176418897),i=this.md5_ff(i,n,o,a,t[r+5],12,1200080426),a=this.md5_ff(a,i,n,o,t[r+6],17,-1473231341),o=this.md5_ff(o,a,i,n,t[r+7],22,-45705983),n=this.md5_ff(n,o,a,i,t[r+8],7,1770035416),i=this.md5_ff(i,n,o,a,t[r+9],12,-1958414417),a=this.md5_ff(a,i,n,o,t[r+10],17,-42063),o=this.md5_ff(o,a,i,n,t[r+11],22,-1990404162),n=this.md5_ff(n,o,a,i,t[r+12],7,1804603682),i=this.md5_ff(i,n,o,a,t[r+13],12,-40341101),a=this.md5_ff(a,i,n,o,t[r+14],17,-1502002290),o=this.md5_ff(o,a,i,n,t[r+15],22,1236535329),n=this.md5_gg(n,o,a,i,t[r+1],5,-165796510),i=this.md5_gg(i,n,o,a,t[r+6],9,-1069501632),a=this.md5_gg(a,i,n,o,t[r+11],14,643717713),o=this.md5_gg(o,a,i,n,t[r+0],20,-373897302),n=this.md5_gg(n,o,a,i,t[r+5],5,-701558691),i=this.md5_gg(i,n,o,a,t[r+10],9,38016083),a=this.md5_gg(a,i,n,o,t[r+15],14,-660478335),o=this.md5_gg(o,a,i,n,t[r+4],20,-405537848),n=this.md5_gg(n,o,a,i,t[r+9],5,568446438),i=this.md5_gg(i,n,o,a,t[r+14],9,-1019803690),a=this.md5_gg(a,i,n,o,t[r+3],14,-187363961),o=this.md5_gg(o,a,i,n,t[r+8],20,1163531501),n=this.md5_gg(n,o,a,i,t[r+13],5,-1444681467),i=this.md5_gg(i,n,o,a,t[r+2],9,-51403784),a=this.md5_gg(a,i,n,o,t[r+7],14,1735328473),o=this.md5_gg(o,a,i,n,t[r+12],20,-1926607734),n=this.md5_hh(n,o,a,i,t[r+5],4,-378558),i=this.md5_hh(i,n,o,a,t[r+8],11,-2022574463),a=this.md5_hh(a,i,n,o,t[r+11],16,1839030562),o=this.md5_hh(o,a,i,n,t[r+14],23,-35309556),n=this.md5_hh(n,o,a,i,t[r+1],4,-1530992060),i=this.md5_hh(i,n,o,a,t[r+4],11,1272893353),a=this.md5_hh(a,i,n,o,t[r+7],16,-155497632),o=this.md5_hh(o,a,i,n,t[r+10],23,-1094730640),n=this.md5_hh(n,o,a,i,t[r+13],4,681279174),i=this.md5_hh(i,n,o,a,t[r+0],11,-358537222),a=this.md5_hh(a,i,n,o,t[r+3],16,-722521979),o=this.md5_hh(o,a,i,n,t[r+6],23,76029189),n=this.md5_hh(n,o,a,i,t[r+9],4,-640364487),i=this.md5_hh(i,n,o,a,t[r+12],11,-421815835),a=this.md5_hh(a,i,n,o,t[r+15],16,530742520),o=this.md5_hh(o,a,i,n,t[r+2],23,-995338651),n=this.md5_ii(n,o,a,i,t[r+0],6,-198630844),i=this.md5_ii(i,n,o,a,t[r+7],10,1126891415),a=this.md5_ii(a,i,n,o,t[r+14],15,-1416354905),o=this.md5_ii(o,a,i,n,t[r+5],21,-57434055),n=this.md5_ii(n,o,a,i,t[r+12],6,1700485571),i=this.md5_ii(i,n,o,a,t[r+3],10,-1894986606),a=this.md5_ii(a,i,n,o,t[r+10],15,-1051523),o=this.md5_ii(o,a,i,n,t[r+1],21,-2054922799),n=this.md5_ii(n,o,a,i,t[r+8],6,1873313359),i=this.md5_ii(i,n,o,a,t[r+15],10,-30611744),a=this.md5_ii(a,i,n,o,t[r+6],15,-1560198380),o=this.md5_ii(o,a,i,n,t[r+13],21,1309151649),n=this.md5_ii(n,o,a,i,t[r+4],6,-145523070),i=this.md5_ii(i,n,o,a,t[r+11],10,-1120210379),a=this.md5_ii(a,i,n,o,t[r+2],15,718787259),o=this.md5_ii(o,a,i,n,t[r+9],21,-343485551),n=this.safe_add(n,l),o=this.safe_add(o,c),a=this.safe_add(a,s),i=this.safe_add(i,u)}return Array(n,o,a,i)},i.md5_cmn=function(t,e,n,o,a,i){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(o,i)),a),n)},i.md5_ff=function(t,e,n,o,a,i,r){return this.md5_cmn(e&n|~e&o,t,e,a,i,r)},i.md5_gg=function(t,e,n,o,a,i,r){return this.md5_cmn(e&o|n&~o,t,e,a,i,r)},i.md5_hh=function(t,e,n,o,a,i,r){return this.md5_cmn(e^n^o,t,e,a,i,r)},i.md5_ii=function(t,e,n,o,a,i,r){return this.md5_cmn(n^(e|~o),t,e,a,i,r)},i.core_hmac_md5=function(t,e){var n=this.str2binl(t);16<n.length&&(n=this.core_md5(n,t.length*this.chrsz));for(var o=Array(16),a=Array(16),i=0;i<16;i++)o[i]=909522486^n[i],a[i]=1549556828^n[i];return e=this.core_md5(o.concat(this.str2binl(e)),512+e.length*this.chrsz),this.core_md5(a.concat(e),640)},i.safe_add=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},i.bit_rol=function(t,e){return t<<e|t>>>32-e},i.str2binl=function(t){for(var e=Array(),n=(1<<this.chrsz)-1,o=0;o<t.length*this.chrsz;o+=this.chrsz)e[o>>5]|=(t.charCodeAt(o/this.chrsz)&n)<<o%32;return e},i.binl2hex=function(t){for(var e=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",o=0;o<4*t.length;o++)n+=e.charAt(t[o>>2]>>o%4*8+4&15)+e.charAt(t[o>>2]>>o%4*8&15);return n},i.binl2b64=function(t){for(var e="",n=0;n<4*t.length;n+=3)for(var o=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255,a=0;a<4;a++)8*n+6*a>32*t.length?e+=this.b64pad:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>6*(3-a)&63);return e},i.hexcase=0,i.b64pad="",i.chrsz=8,o=i,a.default=o,cc._RF.pop()},{}],MZManager:[function(t,e,n){"use strict";cc._RF.push(e,"cebdaqDpUxMoZNbTb0WMGUI","MZManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Recorder"),u=i("SdkManager");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.oldBannerAd=null,t.arrBannerAd=[],t.bannerAdKey="",t.isShowBanner=!1,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=u.default),p.prototype.login=function(t){s.default.init(),t(),this.RewardedAd(),this.InterstitialAd()},p.prototype.BannerShow=function(){var t=this;this.bannerAdKey+="b";var e=this.bannerAdKey;this.isShowBanner=!0;var n=qg.getSystemInfoSync().screenWidth,o=qg.getSystemInfoSync().screenHeight,a=qg.createBannerAd({adUnitId:"5zixDlOh",style:{left:10,top:76,width:n,height:4e3}});a.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f",a),a.show(),setTimeout(function(){t.JudgeHideBanner(e)},500)}),a.onResize(function(t){console.log("Banner \u5c3a\u5bf8\u6539\u53d8"),a.style.top=o-t.height,a.style.left=(n-t.width)/2}),a.onError(function(t){console.warn("\u9b45\u65cfbanner\u51fa\u9519",t)}),this.oldBannerAd=a,this.arrBannerAd[e]=a},p.prototype.BannerHide=function(){this.isShowBanner=!1;var t=this.oldBannerAd;console.log("\u9690\u85cf",t),t&&t.destroy()},p.prototype.JudgeHideBanner=function(t){!this.isShowBanner&&this.arrBannerAd[t]&&this.arrBannerAd[t].destroy()},p.prototype.RewardedShow=function(t,e){var n=null;(n=qg.createRewardedVideoAd({adUnitId:"Lw7Lpe2V"})).load(),n.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),n.show()}),n.onError(function(t){cc.director.resume(),console.log("\u89c6\u9891\u5e7f\u544a\u51fa\u9519",t),e(!0)}),n.onClose(function(){}),n.onRewarded(function(){setTimeout(function(){t()},50)})},p.prototype.InterstitialShow=function(){console.log("\u52a0\u8f7d\u63d2\u5c4f");var t=qg.createInsertAd({adUnitId:"FwpaGEon"});t.load(),t.onLoad(function(){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.show()}),t.onError(function(t){console.log(t)})},p.prototype.PlatformCallBack=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),"REWARD"==t?(cc.director.pause(),this.RewardedShow(function(){e(),cc.director.resume()},function(){n(),cc.director.resume()})):"INTER"==t?this.InterstitialShow():"FULLVIDEO"==t||("BANNER"==t?this.BannerShow():"BANNERCLOSE"==t&&this.BannerHide())},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],MapCameraControl:[function(t,e,n){"use strict";cc._RF.push(e,"ff13dify+pNC5H27kFqrYRO","MapCameraControl");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("EventConst"),p=a("GameTools");function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.limitArea=null,t.curCamera=null,t.moveSpeed=-.5,t.maxRatio=2,t.zoomSpeed=.1,t.chess=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(f,s=cc.Component),f.prototype.onLoad=function(){cc.systemEvent.on(u.EventConst.GAME_BG_TOUCH_START,this.OnTouchStart,this),cc.systemEvent.on(u.EventConst.GAME_BG_TOUCH_CANCEL,this.OnTouchCancel,this),cc.systemEvent.on(u.EventConst.GAME_BG_TOUCH_MOVE,this.OnTouchMove,this),cc.systemEvent.on(u.EventConst.GAME_BG_TOUCH_END,this.OnTouchEnd,this),cc.systemEvent.on(u.EventConst.GAME_CHESS_MOVE,this.OnChessMove,this),cc.systemEvent.on(u.EventConst.GAME_CHESS_END,this.OnChessEnd,this),cc.systemEvent.on(u.EventConst.initChessPos,this.SetPosition,this);var t=cc.find("Canvas");this.renderHeight=t.height,this.renderWidth=t.width,this.moveNode=this.node.getChildByName("moveNode")},f.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.LimitCamera()},0)},f.prototype.OnTouchStart=function(){},f.prototype.OnTouchMove=function(t){var e,n,o;1==(t=t.getTouches()).length?(n=(o=t[0]).getDelta(),e=this.moveNode.getPosition(),n=n.mul(this.GetMoveSpeed()),e=e.add(n),this.SetPosition(e)):1<t.length&&(o=t[0],n=t[1],e=o.getLocation(),t=n.getLocation(),o=o.getDelta(),n=n.getDelta(),o=e.x>t.x?o.x-n.x:n.x-o.x,o=this.GetRatio()+o*this.zoomSpeed*cc.director.getDeltaTime(),this.SetRatio(o))},f.prototype.OnTouchEnd=function(){},f.prototype.OnTouchCancel=function(){},f.prototype.OnChessMove=function(t){this.chess=t},f.prototype.OnChessEnd=function(){this.chess=null},f.prototype.OnMouseWheel=function(t){t=this.GetRatio()+t.getScrollY()*this.zoomSpeed*cc.director.getDeltaTime()*.3,this.SetRatio(t)},f.prototype.onDestroy=function(){},f.prototype.SetPosition=function(t){this.moveNode.setPosition(t),this.LimitCamera()},f.prototype.SetRatio=function(t){t=(t=t<1?1:t)>this.maxRatio?this.maxRatio:t,this.curCamera.zoomRatio=t,this.LimitCamera()},f.prototype.LimitCamera=function(){var t=this.limitArea.width,e=this.limitArea.height,n=-t/2+(a=this.renderWidth/this.GetRatio())/2,o=t/2-a/2,a=(t=-e/2+(i=this.renderHeight/this.GetRatio())/2,e/2-i/2),i=(i=(i=(e=p.default.ConvertTargetToCurLocal(this.moveNode,this.limitArea)).x)<n?n:i)>o?o:i;e=(e=(e=e.y)<t?t:e)>a?a:e,e=cc.v2(i,e),e=p.default.ConvertTargetPointToCoor(e,this.limitArea,this.moveNode.parent),this.moveNode.setPosition(e)},f.prototype.MoveCamera=function(t,e){var n=this.limitArea.width,o=(this.limitArea.height,this.renderWidth/this.GetRatio()),a=(this.renderHeight,this.GetRatio(),-n/2+o/2);o=n/2-o/2,t=(t=(t=t.x)<a?a:t)>o?o:t,cc.tween(this.moveNode).to(.3,{x:t}).call(function(){e()}).start()},f.prototype.GetRatio=function(){return this.curCamera.zoomRatio},f.prototype.GetMoveSpeed=function(){return this.moveSpeed/this.GetRatio()},f.prototype.update=function(){this.chess&&this.SetPosition(this.chess.getPosition())},c([i({type:cc.Node,displayName:"\u76f8\u673a\u9650\u5236\u533a\u57df"})],f.prototype,"limitArea",void 0),c([i({type:cc.Camera,displayName:"\u76f8\u673a"})],f.prototype,"curCamera",void 0),a=c([a],f),r.default=a,cc._RF.pop()},{}],MapsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"6afc3+WR9ZPaZI4KLJRIS42","MapsPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("levelDropManager"),d=a("PropDataManager"),h=a("SceneDataManager"),y=a("SoundManager"),v=a("GameSys"),g=a("GameTools"),m=a("UIBase");function b(){var t=null!==p&&p.apply(this,arguments)||this;return t.place=null,t.scene=null,t.pos_seven=null,t.pos_six=null,t.line=null,t.maps=null,t.line2=null,t.icon=null,t.btnSp=[],t.Layout=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,p=m.default),b.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.pos_seven=t.getChildByName("pos_seven"),this.pos_six=t.getChildByName("pos_six"),this.maps=t.getChildByName("map").getComponent(cc.Sprite),this.line=t.getChildByName("line").getComponent(cc.Sprite),this.line2=t.getChildByName("line2").getComponent(cc.Sprite)},b.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return p.prototype.onEnable.call(this),[4,h.default.Instance.GetSceneid()];case 1:return t=e.sent(),this.init(t),g.default.getSdk().PlatformCallBack("BANNER"),[2]}})})},b.prototype.init=function(t){return s(this,void 0,void 0,function(){var e,n,o,a,i,r,l,c,s,p,y,m,b,C,S,w,k,_,P;return u(this,function(u){switch(u.label){case 0:return[4,h.default.Instance.GetScene(t)];case 1:e=u.sent(),n=1==t?6:7,o=v.default.getCustoms(),C=0,u.label=2;case 2:return C<this.place.childrenCount?(this.place.children[C].active=C<n,C<n?(this.place.children[C].getChildByName("layout").getChildByName("name").getComponent(cc.Label).string=e[C][0].name,a=0,o>=e[C][e[C].length-1].level?(a=e[C].length,[3,6]):[3,3]):[3,7]):[3,8];case 3:return o<e[C][0].level?(a=0,[3,6]):[3,4];case 4:return[4,h.default.Instance.GetRole()];case 5:p=u.sent(),a=p.level2,u.label=6;case 6:this.place.children[C].getChildByName("prop").getComponent(cc.Label).string=a+"/"+e[C].length,u.label=7;case 7:return C++,[3,2];case 8:return i=null,i=6==n?(this.pos_seven.active=!1,this.pos_six.active=!0,this.pos_six):(this.pos_seven.active=!0,this.pos_six.active=!1,this.pos_seven),r="Map/Map"+t,(l=g.default.GetRes("SpriteBundle2",r,cc.SpriteFrame))?[3,10]:[4,g.default.loadImage("SpriteBundle2",r)];case 9:l=u.sent(),u.label=10;case 10:return this.maps.spriteFrame=l,(c=g.default.GetRes("SpriteBundle2","Map/Pos1",cc.SpriteFrame))?[3,12]:[4,g.default.loadImage("SpriteBundle2","Map/Pos1")];case 11:c=u.sent(),u.label=12;case 12:for(C=0;C<i.childrenCount;C++)i.children[C].getComponent(cc.Sprite).spriteFrame=c,y=i.children[C].getPosition(),this.place.children[C].setPosition(y.x,y.y+100);return[4,h.default.Instance.GetSceneid()];case 13:for(s=u.sent(),C=0;C<this.scene.childrenCount;C++)this.scene.children[C].getComponent(cc.Sprite).spriteFrame=C==t-1?this.btnSp[0]:this.btnSp[1];return t==s?[3,14]:(this.icon.active=!1,[3,18]);case 14:return this.icon.active=!0,[4,h.default.Instance.GetRole()];case 15:return p=u.sent(),S=this.place.children[p.level1-1],y=S.getPosition(),this.icon.setPosition(y.x,y.y+200),(m=g.default.GetRes("SpriteBundle2","Map/Pos0",cc.SpriteFrame))?[3,17]:[4,g.default.loadImage("SpriteBundle2","Map/Pos0")];case 16:m=u.sent(),u.label=17;case 17:i.children[p.level1-1].getComponent(cc.Sprite).spriteFrame=m,u.label=18;case 18:t<s?(this.line2.node.active=!0,this.line2.fillRange=1):t==s?(this.line2.node.active=!0,b=this.line2.node.width,this.line2.fillRange=this.icon.x<0?Math.abs(this.icon.x)/b:(b/2+this.icon.x)/b):this.line2.node.active=!1,b=f.default.Instance.getScene(t),C=0,u.label=19;case 19:return C<this.Layout.childrenCount?(S=this.Layout.children[C],C<b.length?(S.active=!0,w=d.default.Instance.GetProp(b[C].rewardId),_="PropFrame/"+w.frame,(k=g.default.GetRes("Bundle",_,cc.SpriteFrame))?[3,21]:[4,g.default.loadImage("Bundle",_)]):[3,24]):[3,26];case 20:k=u.sent(),u.label=21;case 21:return S.getChildByName("frame").getComponent(cc.Sprite).spriteFrame=k,_="PropIcon/"+w.icon,(P=g.default.GetRes("Bundle",_,cc.SpriteFrame))?[3,23]:[4,g.default.loadImage("Bundle",_)];case 22:P=u.sent(),u.label=23;case 23:return S.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=P,S.getChildByName("name").getComponent(cc.Label).string=w.name,S.getChildByName("name").color=cc.color().fromHEX(d.default.Instance.GetLevelColor(w.frame)),[3,25];case 24:S.active=!1,u.label=25;case 25:return C++,[3,19];case 26:return[2]}})})},b.prototype.ClickScene=function(t,e){y.default.instance.play(y.Sound.Click),e=parseInt(e),this.init(e)},b.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),g.default.getSdk().PlatformCallBack("BANNERCLOSE")},b.prototype.start=function(){},c([i(cc.Node)],b.prototype,"place",void 0),c([i(cc.Node)],b.prototype,"scene",void 0),c([i(cc.Node)],b.prototype,"icon",void 0),c([i(cc.SpriteFrame)],b.prototype,"btnSp",void 0),c([i(cc.Node)],b.prototype,"Layout",void 0),a=c([a],b),r.default=a,cc._RF.pop()},{}],MeRank:[function(t,e,n){"use strict";cc._RF.push(e,"11c2dVearxLhKnzc1BJIJVK","MeRank");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("HeroDataManager"),d=a("GameSys"),h=a("GameTools");function y(){var t=null!==p&&p.apply(this,arguments)||this;return t.RankSprite=null,t.Rank=null,t.Frame=[],t.Icon=null,t.Level=null,t.Name=null,t.Fight=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(y,p=cc.Component),y.prototype.init=function(t,e){return s(this,void 0,void 0,function(){var n,o,a,i,r,l,c=this;return u(this,function(s){switch(s.label){case 0:return this.Name.string=t.nickName,cc.assetManager.loadRemote(t.avatarUrl,{ext:".png"},function(e,n){return e?(cc.assetManager.loadRemote(t.avatarUrl,{ext:".jpg"},function(t,e){return t?console.log(t):void(c.Icon.spriteFrame=new cc.SpriteFrame(e))}),console.log(e)):void(c.Icon.spriteFrame=new cc.SpriteFrame(n))}),this.Level.string=f.default.Instance.GetRealm(d.default.getLevel()),n=this.Fight,o="\u6218\u6597\u529b:",i=(a=h.default).refSetCoin,l=(r=Math).floor,[4,f.default.Instance.GetMaxFight()];case 1:return n.string=o+i.apply(a,[l.apply(r,[s.sent()])]),e&&(this.Rank.string=""+e.index,e.index<=3?(this.RankSprite.node.active=!0,this.RankSprite.spriteFrame=this.Frame[e.index-1]):this.RankSprite.node.active=!1),[2]}})})},c([i(cc.Sprite)],y.prototype,"RankSprite",void 0),c([i(cc.Label)],y.prototype,"Rank",void 0),c([i(cc.SpriteFrame)],y.prototype,"Frame",void 0),c([i(cc.Sprite)],y.prototype,"Icon",void 0),c([i(cc.Label)],y.prototype,"Level",void 0),c([i(cc.Label)],y.prototype,"Name",void 0),c([i(cc.Label)],y.prototype,"Fight",void 0),a=c([a],y),r.default=a,cc._RF.pop()},{}],MessagePanel:[function(t,e,n){"use strict";cc._RF.push(e,"47ff0S9hgFJGqbo/Ng2fPrN","MessagePanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropData"),d=a("OnHook"),h=a("CoinOutPutDataManager"),y=a("EquipDataManager"),v=a("HeroDataManager"),g=a("PropDataManager"),m=a("SoundManager"),b=a("TeamSkillDataManager"),C=a("GameSys"),S=a("GameTools"),w=a("EquipMessage"),k=a("PanelConst"),_=a("TipGroup"),P=a("UIBase"),O=a("UIManager");function I(){var t=null!==p&&p.apply(this,arguments)||this;return t.Teacher=null,t.SpriteFram=[],t.level=null,t.fightNum=null,t.level2=null,t.fightNum2=null,t.role=null,t.spine=null,t.EquipArray=null,t.nowOutput=null,t.nextOutput=null,t.paintBtn=null,t.skillBtn=null,t.PaintContent=null,t.SkillContent=null,t.index=0,t.message=null,t.type=null,t.skillName=null,t.skillLevel=null,t.skillState=null,t.skillInfo=null,t.skillUnlock=null,t.skillUp=null,t.skillCoin=null,t.nowValue=null,t.nextValue=null,t.unlockValue=null,t.SuperUp=null,t.equipRed=null,t.paintRed=null,t.skillRed=null,t.need=0,t.click=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(I,p=P.default),I.prototype.onLoad=function(){},I.prototype.start=function(){var t=this;cc.director.getScheduler().schedule(function(){t.red()},this,1)},I.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.initPaint();for(var t=0;t<this.EquipArray.childrenCount;t++)this.initEquip(t);this.skillBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFram[1],this.paintBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFram[0],1==d.default.instance.teacherid&&this.ShowTeacher(0)},I.prototype.initPaint=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return this.PaintContent.active=!0,this.SkillContent.active=!1,t=v.default.Instance.GetRole(),this.role.string="\u8840: "+S.default.refSetCoin(t.maxhp)+"\n\u653b: "+S.default.refSetCoin(t.atk)+"\n\u653b\u901f: "+t.atkSpeed.toFixed(2)+"\u79d2\n\u547d\u4e2d: "+t.hit.toFixed(2)+"%\n\u56de\u907f: "+t.dodge.toFixed(2)+"%\n\u66b4\u51fb: "+t.crit.toFixed(2)+"%",[4,h.default.Instance.GetOutPut()];case 1:return e=o.sent(),this.nowOutput.string=""+S.default.refSetCoin(e),[4,h.default.Instance.GetNextOutPut()];case 2:return e=o.sent(),this.nextOutput.string=S.default.refSetCoin(e)+"\u2191",this.level.string=""+t.realm,this.level2.string=""+t.realm,n=v.default.Instance.GetFightNum(),this.fightNum.string=""+S.default.refSetCoin(n),this.fightNum2.string=""+S.default.refSetCoin(n),e=C.default.getSex(),n=C.default.getLevel(),n=Math.floor((n-1)/10),n=v.default.Instance.GetVisualizeArray(n),e="player"+e+"/p"+n+"/p"+n,(n=S.default.GetRes("Bundle",e,sp.SkeletonData))?[3,4]:[4,S.default.LoadSpinData("Bundle",e)];case 3:n=o.sent(),o.label=4;case 4:return this.spine.skeletonData=n,this.spine.setAnimation(0,"idle",!0),this.spine.setAnimation(1,"eff1",!0),d.default.instance.initRole(),[2]}})})},I.prototype.initSkill=function(){this.PaintContent.active=!1,this.SkillContent.active=!0,this.refSkill()},I.prototype.refSkill=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p,f,d,h,y;return u(this,function(u){switch(u.label){case 0:t=this.SkillContent.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),e=0,u.label=1;case 1:return e<t.childrenCount?(n=t.children[e],o=v.default.Instance.IsUnlockSkill(e+1),a=b.default.Instance.GetSkill(e+1),l=C.default.getSkillLevel(),n.getChildByName("change").active=this.index==e,i="SkillIcon/"+a.icon,o?(n.getChildByName("canunlock").active=!1,n.getChildByName("name").getComponent(cc.Label).string=a.skillName+"("+l[e]+")",S.default.ResetGrayAllNode(n.getChildByName("icon"))):(s=v.default.Instance.IsCanUnlockSkill(e+1),n.getChildByName("canunlock").active=s,n.getChildByName("name").getComponent(cc.Label).string=s?"\u6280\u80fd"+(e+1):"\u672a\u89e3\u9501",S.default.SetGrayAllNode(n.getChildByName("icon"))),(a=S.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,3]:[4,S.default.loadImage("Bundle",i)]):[3,5];case 2:a=u.sent(),u.label=3;case 3:n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=a,u.label=4;case 4:return e++,[3,1];case 5:switch(l=v.default.Instance.GetFightNum(),this.fightNum.string=""+S.default.refSetCoin(l),this.fightNum2.string=""+S.default.refSetCoin(l),i=v.default.Instance.IsUnlockSkill(this.index+1),r=b.default.Instance.GetSkill(this.index+1),l=C.default.getSkillLevel(),c=v.default.Instance.GetSkill(l[this.index]+1),i?(this.message.color=cc.color().fromHEX("#FFFFFF"),this.skillName.string=""+r.skillName,this.skillLevel.string=""+l[this.index],this.skillState.string="\u6280\u80fd",this.skillLevel.node.active=!0,this.nowValue.node.parent.active=!0,this.skillCoin.node.parent.active=!0,this.unlockValue.node.active=!1):(this.message.color=cc.color().fromHEX("#A1A1A1"),this.skillName.string="\u6280\u80fd"+(this.index+1),this.skillState.string="\u672a\u4e60\u5f97",this.skillLevel.node.active=!1,s=v.default.Instance.IsCanUnlockSkill(this.index+1),this.nowValue.node.parent.active=!1,this.skillCoin.node.parent.active=s,this.unlockValue.string=r.unlockinfo,this.unlockValue.node.active=!s),r.skillType){case"passivity":this.type.string="\u88ab\u52a8";break;case"fatality":this.type.string="\u5927\u62db";break;case"initiative":this.type.string="\u81ea\u52a8\u91ca\u653e"}switch(p=v.default.Instance.GetRole(),h=d=f="",y=0,this.index){case 0:this.need=p.skill1coin,y=-1==r.info.indexOf("%")?p.skill1num:100*p.skill1num,f=r.info.replace("*value*",""+y.toFixed(2)),d=-1==r.info.indexOf("%")?""+S.default.refSetCoin(p.skill1num):S.default.refSetCoin(100*p.skill1num)+"%",h=-1==r.info.indexOf("%")?""+S.default.refSetCoin(c.skill1num):S.default.refSetCoin(100*c.skill1num)+"%";break;case 1:this.need=p.skill2coin,y=-1==r.info.indexOf("%")?p.skill2num:100*p.skill2num,f=r.info.replace("*value*",""+y),d=-1==r.info.indexOf("%")?""+S.default.refSetCoin(p.skill2num):S.default.refSetCoin(100*p.skill2num)+"%",h=-1==r.info.indexOf("%")?""+S.default.refSetCoin(c.skill2num):S.default.refSetCoin(100*c.skill2num)+"%";break;case 2:this.need=p.skill3coin,y=-1==r.info.indexOf("%")?p.skill3num:100*p.skill3num,f=r.info.replace("*value*",""+y.toFixed(2)),d=-1==r.info.indexOf("%")?""+S.default.refSetCoin(p.skill3num):S.default.refSetCoin(100*p.skill3num)+"%",h=-1==r.info.indexOf("%")?""+S.default.refSetCoin(c.skill3num):S.default.refSetCoin(100*c.skill3num)+"%";break;case 3:this.need=p.skill4coin,y=-1==r.info.indexOf("%")?p.skill4num:100*p.skill4num,f=r.info.replace("*value*",""+y.toFixed(2)),d=-1==r.info.indexOf("%")?""+S.default.refSetCoin(p.skill4num):S.default.refSetCoin(100*p.skill4num)+"%",h=-1==r.info.indexOf("%")?""+S.default.refSetCoin(c.skill4num):S.default.refSetCoin(100*c.skill4num)+"%";break;case 4:this.need=p.skill5coin,y=-1==r.info.indexOf("%")?p.skill5num:100*p.skill5num,f=r.info.replace("*value*",""+y.toFixed(2)),d=-1==r.info.indexOf("%")?""+S.default.refSetCoin(p.skill5num):S.default.refSetCoin(100*p.skill5num)+"%",h=-1==r.info.indexOf("%")?""+S.default.refSetCoin(c.skill5num):S.default.refSetCoin(100*c.skill5num)+"%"}return this.skillCoin.string="\xd7"+S.default.refSetCoin(Math.floor(this.need)),this.skillCoin.node.color=C.default.getCoin()>=this.need?cc.color().fromHEX("#2C8E1E"):cc.color().fromHEX("#DC4646"),this.nowValue.string=""+d,this.nextValue.string=""+h,this.skillInfo.string=""+f,[2]}})})},I.prototype.ClickSkill=function(t,e){m.default.instance.play(m.Sound.Click),e=parseInt(e),this.index=e,this.refSkill()},I.prototype.ClickUpSkill=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return m.default.instance.play(m.Sound.Click),C.default.getCoin()<this.need?(_.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,O.default.Instance.ShowUI(k.default.FreeCoin)]):200<=(t=C.default.getSkillLevel())[this.index]?(_.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[3,4]):[3,1];case 1:return t[this.index]>=C.default.getLevel()?(_.default.instance.setText(-1,"\u6280\u80fd\u7b49\u7ea7\u4e0d\u80fd\u5927\u4e8e\u89d2\u8272\u7b49\u7ea7"),[3,4]):[3,2];case 2:return O.default.Instance.ChangeCoin(-this.need),[4,v.default.Instance.GetMaxFight()];case 3:e=n.sent(),C.default.setSkillLevel(this.index),d.default.instance.MaxFightChange(e),m.default.instance.play(m.Sound.SkillUp),this.refSkill(),n.label=4;case 4:return[2]}})})},I.prototype.ClickSuperUp=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i;return u(this,function(r){switch(r.label){case 0:return m.default.instance.play(m.Sound.Click),this.click?[2]:(this.click=!0,C.default.getCoin(),t=C.default.getSkillLevel(),this.HideTeacher(),d.default.instance.teacherid=0,e=0,[4,v.default.Instance.GetMaxFight()]);case 1:for(n=r.sent(),o=function(n){var o=!0,i=C.default.getSkillLevel()[n];do{if(v.default.Instance.IsUnlockSkill(n+1)){var r=C.default.getSkillLevel(),l=C.default.getCoin(),c=0;if(c=v.default.Instance.GetSkillCoin(n),200<=(r=r[n])){o=!1;break}if(l<c){o=!1;break}if(r>=C.default.getLevel()){o=!1;break}C.default.setSkillLevel(n),O.default.Instance.ChangeCoin(-c),e++}else{if(!v.default.Instance.IsCanUnlockSkill(n+1)){o=!0;break}if(c=v.default.Instance.GetSkillCoin(n),r=t[n],!((l=C.default.getCoin())>=c)){o=!0;break}O.default.Instance.ChangeCoin(-a.need),C.default.setSkillLevel(n),e++}}while(o);var s,u=C.default.getSkillLevel()[n];i<u&&(s=b.default.Instance.GetSkill(n+1).skillName,setTimeout(function(){_.default.instance.setText(-1,s+"\u63d0\u5347\u81f3"+u+"\u7ea7")},500*n))},a=this,i=0;i<5;i++)o(i);return 0<e?(d.default.instance.MaxFightChange(n),m.default.instance.play(m.Sound.SkillUp)):_.default.instance.setText(-1,"\u6761\u4ef6\u4e0d\u8db3"),this.refSkill(),this.click=!1,[2]}})})},I.prototype.ClickUnlockSkill=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return m.default.instance.play(m.Sound.Click),C.default.getCoin()<this.need?(_.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,O.default.Instance.ShowUI(k.default.FreeCoin)]):(O.default.Instance.ChangeCoin(-this.need),[4,v.default.Instance.GetMaxFight()]);case 1:return t=e.sent(),C.default.setSkillLevel(this.index),d.default.instance.MaxFightChange(t),m.default.instance.play(m.Sound.SkillUp),this.refSkill(),[2]}})})},I.prototype.ClickBtn=function(t,e){switch(m.default.instance.play(m.Sound.Click),e=parseInt(e),this.paintBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFram[1],this.skillBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFram[1],e){case 0:this.paintBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFram[0],this.initPaint();break;case 1:this.skillBtn.getComponent(cc.Sprite).spriteFrame=this.SpriteFram[0],this.initSkill(),this.Teacher.active&&this.ShowTeacher(1)}},I.prototype.ClickEquip=function(){m.default.instance.play(m.Sound.Click);for(var t=0;t<this.EquipArray.childrenCount;t++)this.OnEquip(t)},I.prototype.OnEquip=function(t){return s(this,void 0,void 0,function(){var e,n,o,a;return u(this,function(i){switch(i.label){case 0:return e=g.default.Instance.GetOnEquip(0,t),(n=g.default.Instance.GetOptimalEquip(t,0))?[3,1]:(console.log("\u6ca1\u6709\u5408\u9002\u7684\u88c5\u5907"),[3,3]);case 1:if(e){if(o=y.default.Instance.GetEquip(e.goodsid),a=y.default.Instance.GetEquip(n.goodsid),o.fight>=a.fight)return console.log("\u6218\u6597\u529b\u5c5e\u6027\u4e00\u81f4\uff0c\u4e0d\u9700\u8981\u66f4\u6362"),[2];g.default.Instance.Unfix(e)}return[4,v.default.Instance.GetMaxFight()];case 2:o=i.sent(),g.default.Instance.subPackProp(n.id,1),a=new f.default(n.id,n.type,n.name,n.goodsid,n.capacity,n.info,n.consumables,n.frame,n.icon,n.have,!0,0,n.rewardNum),g.default.Instance.addPack([{prop:a,have:1}]),d.default.instance.MaxFightChange(o),i.label=3;case 3:return this.initEquip(t),this.initPaint(),[2]}})})},I.prototype.initEquip=function(t){return s(this,void 0,void 0,function(){var e,n,o;return u(this,function(a){switch(a.label){case 0:return(e=g.default.Instance.GetOnEquip(0,t))?[3,1]:(this.EquipArray.children[t].getComponent(cc.Sprite).spriteFrame=this.SpriteFram[2],this.EquipArray.children[t].getChildByName("equip").active=!1,[3,4]);case 1:return this.EquipArray.children[t].getComponent(cc.Sprite).spriteFrame=this.SpriteFram[3],this.EquipArray.children[t].getChildByName("equip").active=!0,this.EquipArray.children[t].getChildByName("equip").getChildByName("name").getComponent(cc.Label).string=e.name,this.EquipArray.children[t].getChildByName("equip").getChildByName("name").color=cc.color().fromHEX(g.default.Instance.GetLevelColor(e.frame)),n="PropIcon/"+e.icon,(o=S.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,3]:[4,S.default.loadImage("Bundle",n)];case 2:o=a.sent(),a.label=3;case 3:this.EquipArray.children[t].getChildByName("equip").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,a.label=4;case 4:return[2]}})})},I.prototype.ClickUnfix=function(t,e){return s(this,void 0,void 0,function(){var t,n,o=this;return u(this,function(a){switch(a.label){case 0:return t=parseInt(e),n=g.default.Instance.GetOnEquip(0,t),[4,O.default.Instance.ShowUI(k.default.EquipMessage)];case 1:return a.sent(),O.default.Instance.GetClass(k.default.EquipMessage).getComponent(w.default).initUnfix(n,function(){return s(o,void 0,void 0,function(){var e;return u(this,function(o){switch(o.label){case 0:return[4,v.default.Instance.GetMaxFight()];case 1:return e=o.sent(),g.default.Instance.Unfix(n),this.initEquip(t),this.initPaint(),d.default.instance.MaxFightChange(e),[2]}})})}),[2]}})})},I.prototype.ClickOff=function(){m.default.instance.play(m.Sound.Click),this.CloseThis()},I.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),O.default.Instance.ShowInter()},I.prototype.red=function(){},I.prototype.update=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l;return u(this,function(){for(t=!1,a=0;a<4;a++)if(e=!!y.default.Instance.isHaveCanOn(0,a)){t=e;break}for(this.equipRed.active=t,this.paintRed.active=t,n=C.default.getCoin(),o=!1,a=1;a<6;a++)if(v.default.Instance.IsUnlockSkill(a)){switch(i=!1,r=v.default.Instance.GetSkill(C.default.getSkillLevel()[a-1]),a){case 1:i=n>=r.skill1coin&&C.default.getLevel()>C.default.getSkillLevel()[a-1];break;case 2:i=n>=r.skill2coin&&C.default.getLevel()>C.default.getSkillLevel()[a-1];break;case 3:i=n>=r.skill3coin&&C.default.getLevel()>C.default.getSkillLevel()[a-1];break;case 4:i=n>=r.skill4coin&&C.default.getLevel()>C.default.getSkillLevel()[a-1];break;case 5:i=n>=r.skill5coin&&C.default.getLevel()>C.default.getSkillLevel()[a-1]}i&&(o=i)}else(l=v.default.Instance.IsCanUnlockSkill(a))&&(o=l);return this.skillRed.active=o,[2]})})},I.prototype.ShowTeacher=function(t){switch(this.Teacher.active=!0,t){case 0:this.Teacher.setPosition(cc.v2(155,480));break;case 1:this.Teacher.setPosition(cc.v2(0,-300))}},I.prototype.HideTeacher=function(){this.Teacher.active=!1},c([i(cc.Node)],I.prototype,"Teacher",void 0),c([i(cc.SpriteFrame)],I.prototype,"SpriteFram",void 0),c([i(cc.Label)],I.prototype,"level",void 0),c([i(cc.Label)],I.prototype,"fightNum",void 0),c([i(cc.Label)],I.prototype,"level2",void 0),c([i(cc.Label)],I.prototype,"fightNum2",void 0),c([i(cc.Label)],I.prototype,"role",void 0),c([i(sp.Skeleton)],I.prototype,"spine",void 0),c([i(cc.Node)],I.prototype,"EquipArray",void 0),c([i(cc.Label)],I.prototype,"nowOutput",void 0),c([i(cc.Label)],I.prototype,"nextOutput",void 0),c([i(cc.Node)],I.prototype,"paintBtn",void 0),c([i(cc.Node)],I.prototype,"skillBtn",void 0),c([i(cc.Node)],I.prototype,"PaintContent",void 0),c([i(cc.Node)],I.prototype,"SkillContent",void 0),c([i(cc.Node)],I.prototype,"message",void 0),c([i(cc.Label)],I.prototype,"type",void 0),c([i(cc.Label)],I.prototype,"skillName",void 0),c([i(cc.Label)],I.prototype,"skillLevel",void 0),c([i(cc.Label)],I.prototype,"skillState",void 0),c([i(cc.Label)],I.prototype,"skillInfo",void 0),c([i(cc.Node)],I.prototype,"skillUnlock",void 0),c([i(cc.Node)],I.prototype,"skillUp",void 0),c([i(cc.Label)],I.prototype,"skillCoin",void 0),c([i(cc.Label)],I.prototype,"nowValue",void 0),c([i(cc.Label)],I.prototype,"nextValue",void 0),c([i(cc.Label)],I.prototype,"unlockValue",void 0),c([i(cc.Node)],I.prototype,"SuperUp",void 0),c([i(cc.Node)],I.prototype,"equipRed",void 0),c([i(cc.Node)],I.prototype,"paintRed",void 0),c([i(cc.Node)],I.prototype,"skillRed",void 0),a=c([a],I),r.default=a,cc._RF.pop()},{}],MessageSkill:[function(t,e,n){"use strict";cc._RF.push(e,"536b7OXqj1PeaL/hsbYz7os","MessageSkill");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("HeroDataManager"),u=i("SoundManager"),p=i("TeamSkillDataManager"),f=i("GameSys"),d=i("EventConst"),h=i("GameTools"),y=i("PanelConst"),v=i("TipGroup"),g=i("UIManager");function m(){var t=null!==c&&c.apply(this,arguments)||this;return t.Name=null,t.level=null,t.type=null,t.info=null,t.unlockInfo=null,t.add=null,t.needCoin=null,t.upBtn=null,t.unlockBtn=null,t.unlockCoin=null,t.index=0,t.need=0,t}i=(a=cc._decorator).ccclass,a.property,l(m,c=cc.Component),m.prototype.onLoad=function(){this.Name=this.node.getChildByName("layout").getChildByName("name").getComponent(cc.Label),this.level=this.node.getChildByName("layout").getChildByName("level").getComponent(cc.Label),this.type=this.node.getChildByName("type").getComponent(cc.Label),this.info=this.node.getChildByName("info").getComponent(cc.Label),this.unlockInfo=this.node.getChildByName("unlockinfo").getComponent(cc.Label),this.add=this.node.getChildByName("add").getComponent(cc.Label),this.needCoin=this.node.getChildByName("up").getChildByName("coin").getComponent(cc.Label),this.upBtn=this.node.getChildByName("up"),this.unlockBtn=this.node.getChildByName("unlock"),this.unlockCoin=this.node.getChildByName("unlock").getChildByName("coin").getComponent(cc.Label)},m.prototype.init=function(t){void 0===t&&(t=this.node.getSiblingIndex()),this.index=t;var e=p.default.Instance.GetSkill(t+1),n=f.default.getSkillLevel()[t];switch(this.Name.string=""+e.skillName,this.level.string=s.default.Instance.IsUnlockSkill(t+1)?"(\u7b49\u7ea7"+n+")":"\u672a\u89e3\u9501",this.unlockInfo.string=""+e.unlockinfo,e.skillType){case"passivity":this.type.string="\u88ab\u52a8",this.type.node.color=cc.color().fromHEX("#D4D4D4");break;case"fatality":this.type.string="\u5927\u62db",this.type.node.color=cc.color().fromHEX("#DC3232");break;case"initiative":this.type.string="\u81ea\u52a8\u91ca\u653e",this.type.node.color=cc.color().fromHEX("#2C8E1E")}var o=s.default.Instance.GetRole(),a=f.default.getCoin();this.need=0;var i="",r=s.default.Instance.GetSkill(n+1);switch(t){case 0:this.need=o.skill1coin,i=e.info.replace("*value*",""+o.skill1num.toFixed(2)),this.add.string="\u4e0b\u4e00\u7ea7 "+o.skill1num.toFixed(2)+" \u2192 "+r.skill1num.toFixed(2);break;case 1:this.need=o.skill2coin,i=e.info.replace("*value*",""+o.skill2num.toFixed(2)),this.add.string="\u4e0b\u4e00\u7ea7 "+o.skill2num.toFixed(2)+" \u2192 "+r.skill2num.toFixed(2);break;case 2:this.need=o.skill3coin,i=e.info.replace("*value*",""+o.skill3num.toFixed(2)),this.add.string="\u4e0b\u4e00\u7ea7 "+o.skill3num.toFixed(2)+" \u2192 "+r.skill3num.toFixed(2);break;case 3:this.need=o.skill4coin,i=e.info.replace("*value*",""+o.skill4num.toFixed(2)),this.add.string="\u4e0b\u4e00\u7ea7 "+o.skill4num.toFixed(2)+" \u2192 "+r.skill4num.toFixed(2);break;case 4:this.need=o.skill5coin,i=e.info.replace("*value*",""+o.skill5num.toFixed(2)),this.add.string="\u4e0b\u4e00\u7ea7 "+o.skill5num.toFixed(2)+" \u2192 "+r.skill5num.toFixed(2)}this.info.string=""+i,this.needCoin.string="\xd7"+h.default.refSetCoin(this.need),this.needCoin.node.color=a>=this.need?cc.Color.GREEN:cc.Color.RED,n=s.default.Instance.IsUnlockSkill(t+1),this.upBtn.active=n,t=s.default.Instance.IsCanUnlockSkill(t+1),this.unlockBtn.active=!(0!=n||!t),this.unlockCoin.string="\xd7"+h.default.refSetCoin(this.need),this.unlockCoin.node.color=a>=this.need?cc.Color.GREEN:cc.Color.RED},m.prototype.ClickUnlock=function(){if(u.default.instance.play(u.Sound.Click),f.default.getCoin()<this.need)return v.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),g.default.Instance.ShowUI(y.default.FreeCoin);g.default.Instance.ChangeCoin(-this.need),f.default.setSkillLevel(this.index),this.init(this.index)},m.prototype.ClickUp=function(){u.default.instance.play(u.Sound.Click);var t=f.default.getSkillLevel();if(200<=t[this.index])v.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7");else if(t[this.index]>=f.default.getLevel())v.default.instance.setText(-1,"\u6280\u80fd\u7b49\u7ea7\u4e0d\u80fd\u5927\u4e8e\u89d2\u8272\u7b49\u7ea7");else{if(s.default.Instance.IsUnlockSkill(this.index+1))return f.default.getCoin()<this.need?(v.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),g.default.Instance.ShowUI(y.default.FreeCoin)):(g.default.Instance.ChangeCoin(-this.need),f.default.setSkillLevel(this.index),void this.init(this.index));v.default.instance.setText(-1,"\u672a\u89e3\u9501")}},m.prototype.start=function(){cc.systemEvent.on(d.EventConst.Coin,this.init,this)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],m),r.default=i,cc._RF.pop()},{}],MonsterDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"e7a69V7jM1Fz4geTZCLNw/p","MonsterDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("MonsterData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/monsterData",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/monsterData")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.sprite=a.sprite,i.name=a.name,i.type=a.type,i.skillType=a.skillType,i.fatalityType=a.fatalityType,i.range=a.range,i.atkType=a.atkType,i.skillName=a.skillName,i.fatalityName=a.fatalityName,this.allDataList.push(i);return[2]}})})},y.prototype.GetMonster=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].name==t)return this.allDataList[e]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],MonsterData:[function(t,e,n){"use strict";cc._RF.push(e,"168a2KWbd5OyYi3GXpyLvs4","MonsterData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.injured_anger=5,this.Shot_anger=3.5,this.time_anger=7.5,this.maxmp=0,this.atkType="\u8fd1\u6218",this.type="normal",this.skillType=0,this.skillName="",this.fatalityType=0,this.fatalityName=""}),a.default=o,cc._RF.pop()},{}],Monster:[function(t,e,n){"use strict";cc._RF.push(e,"86285Q90NFFCJQTvmd3ZHIQ","Monster");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u,p=a("AiBase"),f=a("AIMonsterAttack"),d=a("AIMonsterDie"),h=a("AIMonsterIdle"),y=a("AIMonsterMove"),v=a("AIMonsterSkill"),g=a("AIMonsterVertigo"),m=a("AIMonsterWait"),b=a("MonsterDataManager"),C=a("RealmDataManager"),S=a("SkillDataManager"),w=a("GameSys"),k=a("EventConst"),_=a("GameTools"),P=a("GameFight"),O=a("SkillConst");function I(){var t=null!==s&&s.apply(this,arguments)||this;return t.Content=null,t.cursor=null,t.hpSprite=null,t.mpSprite=null,t.nameLabel=null,t.realmLabel=null,t.Icon=null,t.do=null,t.dopro=null,t.shield=null,t.shieldpro=null,t.normalatk=null,t.near_Sp=null,t.far_Sp=null,t.shieldSp=null,t.doSkillSp=null,t.role=null,t.skill=null,t.fatality=null,t.anger=0,t.skillcd=0,t.fatalitycd=0,t.SpineContent=null,t.index=0,t.posY=0,t.moveSpeed=200,t.target=null,t.fight=!1,t.release=!1,t.skilltype=0,t.Absdodge=0,t.Upatk=1,t.Shield=0,t.MaxShield=0,t.Suck=0,t.Vertigo=0,t.time=0,t.s=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(I,s=p.default),(u=I).prototype.onLoad=function(){this.posY=this.node.y,this.Content=this.node.getChildByName("Content"),this.SpineContent=this.node.getChildByName("SpineContent"),this.near_Sp=this.Content.getChildByName("attackA_hit").getComponent(sp.Skeleton),this.far_Sp=this.Content.getChildByName("attackB_hit").getComponent(sp.Skeleton),this.normalatk=this.Content.getChildByName("attackA_atk").getComponent(sp.Skeleton),this.shieldSp=this.Content.getChildByName("Spine").getChildByName("shieldSp").getComponent(sp.Skeleton),this.doSkillSp=this.Content.getChildByName("doskill").getComponent(sp.Skeleton),this.do=this.Content.getChildByName("cd"),this.dopro=this.do.getChildByName("pro").getComponent(cc.Sprite),this.shield=this.Content.getChildByName("shield"),this.shieldpro=this.shield.getChildByName("pro").getComponent(cc.Sprite),this.InitAi()},I.prototype.init=function(t,e){var n=this;this.role=e,this.initSkill(),this.doSkillSp.node.active=!1,this.fight=!1,this.release=!1,this.near_Sp.node.active=!1,this.normalatk.node.active=!1,this.shieldSp.node.active=!1,this.anger=0,this.index=t,this.cursor=this.node.getChildByName("Content").getChildByName("cursor"),this.cursor.angle=0,this.node.active=!0,this.hpSprite=this.node.getChildByName("Content").getChildByName("hp").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("Content").getChildByName("name").getComponent(cc.Label),this.nameLabel.string=""+this.role.name,this.realmLabel=this.node.getChildByName("Content").getChildByName("realm").getComponent(cc.Label),this.realmLabel.string=""+this.role.realm,this.realmLabel.node.color=cc.color().fromHEX(C.default.Instance.GetRealmColor(this.role.realm)),t="999999"==(e=b.default.Instance.GetMonster(this.role.name)).sprite?"boss/icon":"boss/"+e.sprite,(e=_.default.GetRes("SpriteBundle1",t,cc.SpriteFrame))?this.Icon.spriteFrame=e:_.default.loadImage("SpriteBundle1",t).then(function(t){n.Icon.spriteFrame=t}).catch(function(t){console.log("error:",t)}),this.Absdodge=0,this.Upatk=1,this.Shield=0,this.Suck=0,this.Vertigo=0,this.do.active=!1,this.shield.active=!1,this.RefreshHp()},I.prototype.initSkill=function(){this.skill=this.role.skillType<=0?null:S.default.Instance.GetSkill(this.role.skillType),this.fatality=999999==this.role.fatalityType?null:S.default.Instance.GetSkill(this.role.fatalityType),this.skillcd=this.role.skillType<=0?0:Math.random()*this.skill.cd,this.fatalitycd=999999==this.role.fatalityType?0:Math.random()*this.fatality.cd},I.prototype.Ready=function(){0!=P.default.instance.fightType?this.ChangeState(u.STATE_MOVE):this.ChangeState(u.STATE_IDLE)},I.prototype.StartFight=function(){this.fight=!0,P.default.instance.Activate()},I.prototype.InitAi=function(){var t=new h.default(this,u.STATE_IDLE);this.AddAiState(t),t=new y.default(this,u.STATE_MOVE),this.AddAiState(t),t=new f.default(this,u.STATE_ATTACK),this.AddAiState(t),t=new d.default(this,u.STATE_DIE),this.AddAiState(t),t=new m.default(this,u.STATE_WAIT),this.AddAiState(t),t=new v.default(this,u.STATE_SKILL),this.AddAiState(t),t=new g.default(this,u.STATE_VERTIGO),this.AddAiState(t)},I.prototype.RemoveTeamer=function(){P.default.instance.RemoveTeamer(this.target)},I.prototype.GetTeamer=function(){s.prototype.GetTeamer.call(this);var t=P.default.instance.GetTeam();if(0<t.length){for(var e=1e5,n=0,o=0;o<t.length;o++){var a=t[o].node.getPosition();(a=this.node.getPosition().sub(a).mag())<=e&&(n=o,e=a)}return this.target=t[n],t[n]}return 1==P.default.instance.fightType?P.default.instance.LoseChallenge():0==P.default.instance.fightType?P.default.instance.Lose():2==P.default.instance.fightType?(console.log("\u8bd5\u70bc\u6a21\u5f0f\u4e0b\u7684\u5931\u8d25\u7ed3\u7b97"),P.default.instance.LoseTrials()):3==P.default.instance.fightType&&(console.log("\u4e91\u6e38\u6a21\u5f0f\u4e0b\u7684\u5931\u8d25\u7ed3\u7b97"),P.default.instance.LoseRoam()),this.ChangeState(u.STATE_WAIT),null},I.prototype.AddAngre=function(t){return 0!=this.role.skillType&&(this.anger+=0==t?this.role.Shot_anger:this.role.injured_anger,this.role.hp<=0&&1<=this.anger)},I.prototype.isDie=function(){return!(this.role&&0<this.role.hp)},I.prototype.TheStrike=function(t,e,n,o,a){if(this.isDie())return!0;var i=Math.floor(100*Math.random());if(e-=this.role.dodge,0<this.Absdodge)return P.default.instance.setText(5,"\u95ea",this.node),!1;if(e<i)return P.default.instance.setText(5,"\u95ea",this.node),!1;if(!(this.Shield>t)){if(t-=this.Shield,this.Shield=0,this.shieldpro.fillRange=this.Shield/this.MaxShield,this.shield.active=!1,this.shieldSp.node.active=!1,t>=this.role.hp&&(t=this.role.hp),this.role.hp-=t,this.role.hp=this.role.hp<=0?0:this.role.hp,this.role.hp<=0&&this.ToDie(),this.AddAngre(1),this.RefreshHp(),cc.systemEvent.emit(k.EventConst.Game_Fight_changeHp,1,-t),a)switch(a){case 3:P.default.instance.setText(a,"\u4e2d\u6bd2-"+_.default.refSetCoin(Math.floor(t)),this.node);break;case 10:P.default.instance.setText(a,"\u707c\u70e7-"+_.default.refSetCoin(Math.floor(t)),this.node)}else n?P.default.instance.setText(0,"\u66b4\u51fb-"+_.default.refSetCoin(Math.floor(t)),this.node):P.default.instance.setText(1,"-"+_.default.refSetCoin(Math.floor(t)),this.node);return this.role.hp<=0&&(1.5==this.node.scale?P.default.instance.setText(99,"",this.node):P.default.instance.setText(8,"",this.node)),o&&(this.near_Sp.node.active=!0,this.near_Sp.setAnimation(0,"atkA_hit",!1)),this.role.hp<=0}this.Shield-=t,this.shieldpro.fillRange=this.Shield/this.MaxShield,P.default.instance.setText(4,"\u62b5\u6321-"+_.default.refSetCoin(Math.floor(t)),this.node)},I.prototype.ToDie=function(){3!=this.curStateId&&(this.ChangeState(u.STATE_DIE),P.default.instance.ToKillMonster(this))},I.prototype.RefreshHp=function(){this.hpSprite.fillRange=this.role.hp/this.role.maxhp},I.prototype.RefreshMp=function(){this.node.active&&(this.mpSprite.fillRange=this.anger/this.role.maxmp)},I.prototype.DoSkill=function(){var t=this;if(1==this.skilltype){switch(P.default.instance.setText(6,this.role.skillName,this.node),this.skill.id){case 15:case 16:case 17:this.target.Constraint(this);break;case 18:case 19:case 20:this.SkillAbsdodge();break;case 21:case 22:case 23:this.SkillUpatk();break;case 24:case 25:case 26:this.SkillShield();break;case 27:case 28:case 29:this.SkillSuck()}this.ChangeStateToMove()}else switch(P.default.instance.setText(7,this.role.skillName,this.node),this.fatality.id){case 1:this.allConstraint(),this.ChangeStateToMove();break;case 2:O.default.instance.Thunder(this,function(){}),this.ChangeStateToMove();break;case 3:O.default.instance.Eddy(this),this.ChangeStateToMove();break;case 4:O.default.instance.Star(1,this),this.ChangeStateToMove();break;case 5:O.default.instance.Knife(1,this),this.ChangeStateToMove();break;case 6:O.default.instance.Tofly(this,function(){t.ChangeStateToMove()});break;case 7:O.default.instance.CureMatrix(1,this),this.ChangeStateToMove();break;case 8:this.Cure(.5*this.role.maxhp),this.ChangeStateToMove();break;case 9:O.default.instance.CureAll(1,this),this.ChangeStateToMove();break;case 10:O.default.instance.FastAtk(this),this.ChangeStateToMove();break;case 11:O.default.instance.Wind(1,this),this.ChangeStateToMove();break;case 12:O.default.instance.BaneMatrix(1,this),this.ChangeStateToMove();break;case 13:this.Exchange(),this.ChangeStateToMove();break;case 14:this.Flicker(),this.ChangeStateToMove()}},I.prototype.Cure=function(t){var e,n;this.role.hp<=0?console.log("\u8be5\u5355\u4f4d\u5df2\u6b7b\u4ea1,\u65e0\u6cd5\u6cbb\u7597"):(e=this.role.maxhp-this.role.hp,this.role.hp+=n=e<=(n=t)?e:t,this.role.hp>=this.role.maxhp&&(this.role.hp=this.role.maxhp),P.default.instance.setText(2,"\u6062\u590d+"+_.default.refSetCoin(Math.floor(t)),this.node),cc.systemEvent.emit(k.EventConst.Game_Fight_changeHp,1,n))},I.prototype.Constraint=function(){this.Vertigo=3,this.ChangeState(u.STATE_VERTIGO)},I.prototype.setTarget=function(t){this.target=t},I.prototype.GetSkill=function(){return this.skill},I.prototype.start=function(){},I.prototype.update=function(t){s.prototype.update.call(this,t),!this.fight||this.curStateId!=u.STATE_DIE&&this.curStateId!=u.STATE_WAIT&&this.curStateId!=u.STATE_VERTIGO&&999999!=this.curStateId&&(this.release||6==this.curStateId||(0<this.role.skillType&&(this.skillcd+=t*w.default.speed,this.skillcd>=this.skill.cd&&(this.release=!0,this.skilltype=1,this.ChangeStateToSkill())),999999!=this.role.fatalityType&&(this.fatalitycd+=t*w.default.speed,this.fatalitycd>=this.fatality.cd&&(this.release=!0,this.skilltype=2,this.ChangeStateToSkill()))),0<this.Absdodge&&(this.Absdodge-=t*w.default.speed),this.s+=t,1<=this.s&&(this.s=0,this.anger+=this.role.time_anger))},I.prototype.SkillAbsdodge=function(){this.Absdodge=this.skill.skillNum},I.prototype.SkillUpatk=function(){this.Upatk=this.skill.skillNum},I.prototype.SkillShield=function(){this.Shield=this.role.atk*this.skill.skillNum,this.MaxShield=this.Shield,this.shield.active=!0,this.shieldpro.fillRange=1,this.shieldSp.node.active=!0},I.prototype.SkillSuck=function(){this.Suck=this.skill.skillNum},I.prototype.Exchange=function(){for(var t=P.default.instance.GetTeam(),e=0,n=0,o=0;o<t.length;o++)(0==e&&0!=t[o].role.hp||t[o].role.hp<=e&&0!=t[o].role.hp)&&(e=t[o].role.hp,n=o);var a=this.node.getPosition(),i=t[n].node.getPosition();this.node.setPosition(i),t[n].node.setPosition(a)},I.prototype.Flicker=function(){for(var t=P.default.instance.GetTeam(),e=0,n=0,o=0;o<t.length;o++)(0==e||t[o].node.x<=e)&&(e=t[o].node.x,n=o);var a=t[n].node.getPosition();this.node.setPosition(cc.v2(a.x-200,a.y))},I.prototype.allConstraint=function(){for(var t=P.default.instance.GetTeam(),e=0;e<t.length;e++)t[e].Constraint(this)},I.prototype.ChangeStateToMove=function(){this.curStateId!=u.STATE_DIE&&this.curStateId!=u.STATE_IDLE&&this.ChangeState(u.STATE_MOVE)},I.prototype.ChangeStateToSkill=function(){this.curStateId!=u.STATE_DIE&&this.curStateId!=u.STATE_IDLE&&this.ChangeState(u.STATE_SKILL)},I.prototype.GetPracticalAtk=function(){return this.role?this.role.atk:0},I.STATE_IDLE=0,I.STATE_MOVE=1,I.STATE_ATTACK=2,I.STATE_DIE=3,I.STATE_WAIT=4,I.STATE_SKILL=5,I.STATE_VERTIGO=6,c([i(cc.Sprite)],I.prototype,"Icon",void 0),a=u=c([a],I),r.default=a,cc._RF.pop()},{}],Moon:[function(t,e,n){"use strict";cc._RF.push(e,"331673W1udBkqQis/dM87ar","Moon");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.type=0,t.atk=0,t.master=null,t.count=0,t.target=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e,n,o){this.type=t,this.atk=e,this.master=n,this.count=0,this.target=o},p.prototype.start=function(){},p.prototype.Attack=function(){if(this.count++,this.target.TheStrike(this.atk,this.master.role.hit,!1,!0),0==this.type)for(var t=s.default.instance.GetMonster(),e=0;e<t.length;e++){if(t[e]!=this.target){this.target=t[e];break}e>=t.length-1&&(this.target=null,u.default.Moon.restor(this.node))}else{var n=s.default.instance.GetTeam();for(e=0;e<n.length;e++){if(n[e]!=this.target){this.target=n[e];break}e>=n.length-1&&(this.target=null,u.default.Moon.restor(this.node))}}10<=this.count&&(this.target=null,u.default.Moon.restor(this.node))},p.prototype.update=function(t){var e,n,o;this.target&&this.target.node?(e=this.node.getPosition(),o=this.target.node.getPosition(),n=e.sub(o).mag(),o=e.sub(o).signAngle(cc.v2(1,0)),(Math.PI,o=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),50<n?(this.node.x+=t*o.x*u.default.speed*1e3,this.node.y+=t*o.y*u.default.speed*1e3):s.default.instance.state==s.FightState.ready?u.default.Moon.restor(this.node):this.Attack()):u.default.Moon.restor(this.node)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],NativeAdBanner:[function(t,e,n){"use strict";cc._RF.push(e,"698b8ONc61KuqnNgwHLF6r6","NativeAdBanner");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys"),p=a("GameTools");function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.sprite=null,t.widget=null,t.closeBtn=null,t.isShow=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(f,s=cc.Component),f.prototype.onLoad=function(){},f.prototype.start=function(){this.sprite.node.on(cc.Node.EventType.TOUCH_END,function(){p.default.getSdk().reportAdClick(),p.default.getSdk().PlatformCallBack("BANNERCLOSE")}),this.closeBtn.on(cc.Node.EventType.TOUCH_END,function(){p.default.getSdk().nativeNum++,p.default.getSdk().PlatformCallBack("BANNERCLOSE")})},f.prototype.ClickOff=function(){p.default.getSdk().nativeNum++,p.default.getSdk().PlatformCallBack("BANNERCLOSE")},f.prototype.ShowNativeBanner=function(t){var e,n=this;this.isShow=!0,console.log("adlist:",t),"OPPO"==u.default.channel?(console.log("oppo\u539f\u751f"),e=t[0].imgUrlList[0]):"VIVO"==u.default.channel&&(console.log("vivo\u539f\u751f"),e=t.imgUrlList[0]),console.log("\u539f\u751f\u56fe\u7247url:",e),"OPPO"==u.default.channel?cc.assetManager.loadRemote(e,function(t,e){t?console.log("\u8fdc\u7a0b\u52a0\u8f7d\u539f\u751f\u56fe\u7247\u5931\u8d25"):n.isShow&&(n.node.active=!0,console.log("\u6d4b\u8bd50"),n.sprite.spriteFrame=new cc.SpriteFrame(e),console.log("\u6d4b\u8bd51"),n.widget.updateAlignment(),p.default.getSdk().reportAdShow(),n.sprite.node.setSiblingIndex(0))}):"VIVO"==u.default.channel&&cc.assetManager.loadRemote(e,{ext:".jpg"},function(t,e){t?console.log("\u8fdc\u7a0b\u52a0\u8f7d\u539f\u751f\u56fe\u7247\u5931\u8d25"):n.isShow&&(n.node.active=!0,console.log("\u6d4b\u8bd50"),n.sprite.spriteFrame=new cc.SpriteFrame(e),console.log("\u6d4b\u8bd51"),n.widget.updateAlignment(),p.default.getSdk().reportAdShow(),n.sprite.node.setSiblingIndex(0))})},f.prototype.hideNativeBanner=function(){this.isShow=!1,this.node.active=!1},c([i(cc.Sprite)],f.prototype,"sprite",void 0),c([i(cc.Widget)],f.prototype,"widget",void 0),c([i(cc.Node)],f.prototype,"closeBtn",void 0),a=c([a],f),r.default=a,cc._RF.pop()},{}],"NewScript - 001":[function(t,e,n){"use strict";cc._RF.push(e,"db725LajShBhobwAYxYokza","NewScript - 001"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,i=o.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return __extends(e,t),e.prototype.start=function(){},__decorate([i(cc.Label)],e.prototype,"label",void 0),__decorate([i],e.prototype,"text",void 0),__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],NewScript:[function(t,e,n){"use strict";cc._RF.push(e,"5eb8dEqnAJB5pZLTtzp68y2","NewScript");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.label=null,t.text="hello",t}r(u,c=cc.Component),u.prototype.start=function(){},l([s(cc.Label)],u.prototype,"label",void 0),l([s],u.prototype,"text",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],NewresultItem:[function(t,e,n){"use strict";cc._RF.push(e,"93237iLaSZHj66U/Y4K6sF/","NewresultItem");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("ArtifactsDataManager"),f=i("CoinOutPutDataManager"),d=i("PropDataManager"),h=i("GameTools");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.iconSprite=null,t.propframe=null,t.numLabel=null,t.nameLabel=null,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=cc.Component),y.prototype.onLoad=function(){},y.prototype.init=function(t){return c(this,void 0,void 0,function(){var e,n,o,a,i,r;return s(this,function(l){switch(l.label){case 0:return this.numLabel=this.node.getChildByName("num").getComponent(cc.Label),this.iconSprite=this.node.getChildByName("icon").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.propframe=this.node.getChildByName("frame").getComponent(cc.Sprite),e=0,o=n="",4!=t.prop.type?[3,2]:(n="Award/coin",o="SpriteBundle1",[4,f.default.Instance.GetOutPut()]);case 1:return e=l.sent()*t.have,this.numLabel.string="\xd7"+h.default.refSetCoin(e),[3,3];case 2:e=5==t.prop.type?(n="Award/jewel",o="SpriteBundle1",p.default.Instance.GetOutPut()*t.have):(n="PropIcon/"+t.prop.icon,o="Bundle",t.have),this.numLabel.string="\xd7"+h.default.refSetCoin(e),l.label=3;case 3:return this.nameLabel.string=""+t.prop.name,"frameLevel_1"!=t.prop.frame&&(this.nameLabel.node.color=cc.color().fromHEX(d.default.Instance.GetLevelColor(t.prop.frame))),(a=h.default.GetRes(o,n,cc.SpriteFrame))?[3,5]:[4,h.default.loadImage(o,n)];case 4:a=l.sent(),l.label=5;case 5:return this.iconSprite.spriteFrame=a,i="PropFrame/"+t.prop.frame,(r=h.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,7]:[4,h.default.loadImage("Bundle",i)];case 6:r=l.sent(),l.label=7;case 7:return this.propframe.spriteFrame=r,this.iconSprite.node.width>=this.propframe.node.width?this.iconSprite.node.scale=.5:this.iconSprite.node.scale=1,[2]}})})},y.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],NewresultPanel:[function(t,e,n){"use strict";cc._RF.push(e,"c9d60MD5Z9JhorEK7gKVOTZ","NewresultPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("ChapterDataManager"),h=a("EquipDataManager"),y=a("PropDataManager"),v=a("SceneDataManager"),g=a("SoundManager"),m=a("SystemDataManager"),b=a("GameSys"),C=a("EventConst"),S=a("GameTools"),w=a("ForewordPanel"),k=a("PanelConst"),_=a("QualityUp"),P=a("rewardItem"),O=a("TalkPanel"),I=a("UIBase"),R=a("UIManager"),x=a("UnlockSys");function T(){var t=null!==p&&p.apply(this,arguments)||this;return t.spine1=null,t.layout=null,t.Content=null,t.timeLabel=null,t.jixu=null,t.coin=0,t.customs=null,t.callback=null,t.time=5,t.addCallback=null,t.isshow=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(T,p=I.default),T.prototype.onLoad=function(){},T.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a=this;return u(this,function(i){switch(i.label){case 0:return 0<this.layout.childrenCount&&this.layout.destroyAllChildren(),this.Content.active=!1,this.isshow=!1,this.spine1.setAnimation(0,"in",!1),this.spine1.setCompleteListener(function(){"in"==a.spine1.animation&&(a.isshow=!0,a.spine1.setAnimation(0,"loop",!0))}),this.Content.active=!0,this.time=5,t=m.default.Instance.isHaveUnlock(),e=d.default.Instance.isHaveChapter(),[4,v.default.Instance.GetRole()];case 1:return n=i.sent(),o=!1,9==b.default.getMaxCustoms()&&b.default.getMaxLevel()<10&&(o=!0),15==b.default.getMaxCustoms()&&(o=!0),t||e||1==n.level2||o?this.jixu.active=!1:this.jixu.active=!0,cc.systemEvent.emit(C.EventConst.initTips),S.default.getSdk().PlatformCallBack("BANNER"),[2]}})})},T.prototype.init=function(t,e){this.addCallback=null,this.callback=e;for(var n,o,a=[],i=0;i<t.length;i++)0<t[i].rewardCoin&&(n=y.default.Instance.GetCoinProp(),o=t[i].rewardCoin,this.addReward(a,n,o)),0<t[i].rewardgoods1num&&(n=y.default.Instance.GetProp(t[i].rewardgoods1),o=t[i].rewardgoods1num,this.addReward(a,n,o)),0<t[i].rewardgoods2num&&(n=y.default.Instance.GetProp(t[i].rewardgoods2),o=t[i].rewardgoods2num,this.addReward(a,n,o)),0<t[i].rewardgoods3num&&(n=y.default.Instance.GetProp(t[i].rewardgoods3),o=t[i].rewardgoods3num,this.addReward(a,n,o));for(i=0;i<a.length;i++)this.CreatorProp().getComponent(P.default).init(a[i],!0)},T.prototype.addReward=function(t,e,n){var o,a,i=this;if(1==e.type&&(o=h.default.Instance.GetEquip(e.goodsid),1==b.default.getQuality()&&"\u81f3\u5b9d"!=o.level?this.addCallback=function(){return s(i,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.setQuality(),[4,R.default.Instance.ShowUI(k.default.QualityUp)];case 1:return t.sent(),R.default.Instance.GetClass(k.default.QualityUp).getComponent(_.default).init(e),[2]}})})}:0==b.default.getQuality()&&"\u81f3\u5b9d"!=o.level?(b.default.setQuality(),this.addCallback=function(){h.default.Instance.AddNewEquip({prop:e,have:n}),R.default.Instance.ShowUI(k.default.ShowNewEquip)}):(a=Math.random(),"\u81f3\u5b9d"!=o.level&&a<=.15?this.addCallback=function(){return s(i,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,R.default.Instance.ShowUI(k.default.QualityUp)];case 1:return t.sent(),R.default.Instance.GetClass(k.default.QualityUp).getComponent(_.default).init(e),[2]}})})}:this.addCallback=function(){h.default.Instance.AddNewEquip({prop:e,have:n}),R.default.Instance.ShowUI(k.default.ShowNewEquip)})),t.length<=0)t.push({prop:e,have:n});else for(var r=0;r<t.length;r++){if(t[r].prop.id==e.id){t[r].have+=n;break}if(r>=t.length-1){t.push({prop:e,have:n});break}}},T.prototype.GetAward=function(){R.default.Instance.ChangeCoin(this.coin)},T.prototype.ClickOff=function(){g.default.instance.play(g.Sound.Click),this.CloseThis(),this.GetAward(),this.callback(!1)},T.prototype.ClickContinue=function(){g.default.instance.play(g.Sound.Click),this.CloseThis(),this.GetAward(),this.callback(!0)},T.prototype.CloseThis=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:return this.node.active=!1,[4,v.default.Instance.GetRole()];case 1:return 1!=o.sent().level2?[3,2]:(cc.systemEvent.emit(C.EventConst.playPlace,function(){return s(n,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return(t=d.default.Instance.isHaveChapter())?[4,R.default.Instance.ShowUI(k.default.ForewordPanel)]:[3,2];case 1:e.sent(),R.default.Instance.GetClass(k.default.ForewordPanel).getComponent(w.default).init(function(){cc.systemEvent.emit(C.EventConst.playChapter,t)}),e.label=2;case 2:return[2]}})})}),[3,4]);case 2:return(t=d.default.Instance.isHaveChapter())?[4,R.default.Instance.ShowUI(k.default.ForewordPanel)]:[3,4];case 3:o.sent(),R.default.Instance.GetClass(k.default.ForewordPanel).getComponent(w.default).init(function(){cc.systemEvent.emit(C.EventConst.playChapter,t)}),o.label=4;case 4:return e=m.default.Instance.isHaveUnlock(),f.default.instance.initButton(),e?2!=b.default.getMaxCustoms()?[3,5]:(f.default.instance.ShowGuideSp(22),[3,17]):[3,18];case 5:return 15!=b.default.getMaxCustoms()?[3,7]:[4,R.default.Instance.ShowUI(k.default.TalkPanel)];case 6:return o.sent(),R.default.Instance.GetClass(k.default.TalkPanel).getComponent(O.default).init(102,function(){f.default.instance.CreateSysicon(102),n.addCallback&&n.addCallback()}),[3,17];case 7:return 35!=b.default.getMaxCustoms()?[3,11]:"WX"!=b.default.channel&&"QQ"!=b.default.channel&&"TT"!=b.default.channel?[3,9]:[4,R.default.Instance.ShowUI(k.default.UnlockSys)];case 8:return o.sent(),R.default.Instance.GetClass(k.default.UnlockSys).getComponent(x.default).init(37),[3,10];case 9:console.log("\u6392\u884c\u699c\u4e0e\u805a\u7075\u9635\u529f\u80fd\u5fae\u4fe1\u4e13\u4eab"),o.label=10;case 10:return[3,17];case 11:return 37!=b.default.getMaxCustoms()?[3,15]:"WX"!=b.default.channel&&"QQ"!=b.default.channel&&"TT"!=b.default.channel?[3,13]:[4,R.default.Instance.ShowUI(k.default.UnlockSys)];case 12:return o.sent(),R.default.Instance.GetClass(k.default.UnlockSys).getComponent(x.default).init(38),[3,14];case 13:console.log("\u6392\u884c\u699c\u4e0e\u805a\u7075\u9635\u529f\u80fd\u5fae\u4fe1\u4e13\u4eab"),o.label=14;case 14:return[3,17];case 15:return[4,R.default.Instance.ShowUI(k.default.UnlockSys)];case 16:o.sent(),R.default.Instance.GetClass(k.default.UnlockSys).getComponent(x.default).init(e.unlockSystem),o.label=17;case 17:return[3,19];case 18:this.addCallback&&this.addCallback(),o.label=19;case 19:return S.default.getSdk().PlatformCallBack("BANNERCLOSE"),[2]}})})},T.prototype.start=function(){},T.prototype.CreatorProp=function(){var t=b.default.rewardItem.get();return t.setParent(this.layout),t},T.prototype.update=function(t){this.isshow&&(this.time-=t,this.timeLabel.string="\u7ee7\u7eed\u6311\u6218"+Math.floor(this.time)+"s",this.time<=0&&this.jixu.active&&(this.time=0,this.ClickContinue()))},c([i(sp.Skeleton)],T.prototype,"spine1",void 0),c([i(cc.Node)],T.prototype,"layout",void 0),c([i(cc.Node)],T.prototype,"Content",void 0),c([i(cc.Label)],T.prototype,"timeLabel",void 0),c([i(cc.Node)],T.prototype,"jixu",void 0),a=c([a],T),r.default=a,cc._RF.pop()},{}],OPPOManager:[function(t,e,n){"use strict";cc._RF.push(e,"bd352DCPmxEGbL4e9BluBWb","OPPOManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("Recorder"),u=i("UIManager"),p=i("NativeAdBanner"),f=i("SdkManager");function d(){var t=null!==c&&c.apply(this,arguments)||this;return t.bannerAd=null,t.bannerNum=0,t.bannerid=["420832","420832","420832"],t.num=0,t.bannerRepeat=3,t.bannerCount=0,t.interstitialAd=null,t.rewardedVideoAd=null,t.rewardedid=["420859","420859","420859"],t._num=0,t.userinfo=null,t.bannerCD=0,t.bannerCurrentCD=0,t.NativeBanner=null,t.gameBannerAd=null,t.gameBannerAdIsShow=!1,t.nativeAd=null,t.adList=null,t.nativeAdErr=!1,t.nativeNum=0,t}i=(a=cc._decorator).ccclass,a.property,l(d,c=f.default),d.prototype.BannerAd=function(){var t=this;this.bannerAd=qg.createBannerAd({posId:this.bannerid[this.num]}),this.bannerAd.onHide(function(){t.bannerNum++})},d.prototype.BannerShow=function(){this.num++,3<=this.num&&(this.num=0),this.BannerAd(),0==this.bannerRepeat?null==this.bannerAd&&this.BannerAd():0<this.bannerRepeat&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.BannerAd()),this.bannerAd.show()},d.prototype.BannerHide=function(){this.bannerAd&&this.bannerAd.destroy()},d.prototype.InterstitialAd=function(){this.interstitialAd=qg.createInsertAd({posId:"347697"})},d.prototype.InterstitialShow=function(){var t=this;this.interstitialAd.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.interstitialAd.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f")})}),this.interstitialAd.onShow(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f")}),this.interstitialAd.onError(function(t){console.log(t)}),this.interstitialAd.load()},d.prototype.RewardedAd=function(){this.rewardedVideoAd=qg.createRewardedVideoAd({posId:this.rewardedid[this._num]})},d.prototype.RewardedShow=function(t,e){var n=this;this._num++,3<=this._num&&(this._num=0),this.RewardedAd(),this.rewardedVideoAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),n.rewardedVideoAd.show()}),this.rewardedVideoAd.onClose(function(o){o.isEnded?(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),t()):(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e(o)),n.rewardedVideoAd.offClose(),n.rewardedVideoAd.offError()}),this.rewardedVideoAd.onError(function(t){console.log(t),n.rewardedVideoAd.offError()}),this.rewardedVideoAd.load()},d.prototype.saveDesktop=function(t,e){qg.hasShortcutInstalled({success:function(n){0==n&&(console.log("\u53ef\u4ee5\u521b\u5efa"),qg.installShortcut({success:function(){t()},fail:function(){e()}}))},fail:function(){e()},complete:function(){}})},d.prototype.isHaveAddToDesktop=function(){return!0},d.prototype.initAdService=function(){qg.initAdService({appId:"30575493",isDebug:!0,success:function(){console.log("success")},fail:function(t){console.log("fail:"+t.code+t.msg)},complete:function(){console.log("complete")}})},d.prototype.login=function(t){s.default.init(),t(),this.RewardedAd(),this.createNativeAd()},d.prototype.PlatformCallBack=function(t,e,n){var o=this;"REWARD"==t?this.RewardedShow(e,n):"INTER"==t||("BANNER"==t?0==this.bannerCurrentCD?null==(n=this.getAdList())||5<this.nativeNum?this.PlatformCallBack("BANNER2"):(this.bannerCurrentCD=1,setTimeout(function(){o.bannerCurrentCD=0},1e3*this.bannerCD),null==this.NativeBanner&&(this.NativeBanner=u.default.Instance.NativeAdBanner.getComponent(p.default)),this.NativeBanner.ShowNativeBanner(n)):console.log("\u5e7f\u544a\u672a\u51b7\u5374\u5b8c\u6bd5"):"BANNERCLOSE"==t?(this.NativeBanner||(this.NativeBanner=u.default.Instance.NativeAdBanner.getComponent(p.default)),this.NativeBanner.node.active&&this.createNativeAd(),this.NativeBanner.hideNativeBanner(),this.PlatformCallBack("BANNERCLOSE2")):"BANNER2"==t?this.bannerNum<=5&&0==this.bannerCurrentCD&&this.BannerShow():"BANNERCLOSE2"==t&&this.BannerHide())},d.prototype.createGameBannerAd=function(){1076<=qg.getSystemInfoSync().platformVersionCode?(this.gameBannerAd=qg.createGameBannerAd({adUnitId:"347706"}),this.gameBannerAd.onLoad(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.gameBannerAd.onError(function(t){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)})):console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1076\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},d.prototype.showGameBannerAd=function(){var t=this;null!=this.gameBannerAd&&(this.gameBannerAdIsShow=!0,this.gameBannerAd.show().then(function(){t.gameBannerAdIsShow||t.hideGameBannerAd()}).catch(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u5c55\u793a\u5931\u8d25")}))},d.prototype.hideGameBannerAd=function(){null!=this.gameBannerAd&&this.gameBannerAdIsShow&&(this.gameBannerAdIsShow=!1,this.gameBannerAd.hide().then(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544ahide\u6210\u529f")}).catch(function(t){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544ahide\u5931\u8d25\uff1a"+t.errCode+","+t.errMsg)}))},d.prototype.createNativeAd=function(){var t=this;this.nativeAd&&this.nativeAd.destroy(),this.nativeAd=null,this.adList=null,this.nativeAdErr=!1,this.nativeAd=qg.createNativeAd({adUnitId:"420852"}),this.nativeAd.onLoad(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",e.adList),t.adList=e.adList}),this.nativeAd.onError(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t.nativeAdErr=!0}),this.nativeAd.load()},d.prototype.getAdList=function(){return this.nativeAd?this.nativeAdErr&&(this.nativeAdErr=!1,this.nativeAd.load()):this.createNativeAd(),this.adList},d.prototype.reportAdShow=function(){console.log("\u4e0a\u4f20\u5e7f\u544a\u66dd\u5149"),this.nativeAd.reportAdShow({adId:this.adList[0].adId})},d.prototype.reportAdClick=function(){console.log("\u4e0a\u4f20\u5e7f\u544a\u70b9\u51fb"),this.nativeAd.reportAdClick({adId:this.adList[0].adId})},d.prototype.toOtherGame=function(t){qg.navigateToMiniGame({pkgName:t,success:function(){},fail:function(t){console.log(JSON.stringify(t))}})},d.prototype.goOtherGame=function(){qg.navigateToMiniGame({pkgName:"com.tomato.zcbgs.kyx.nearme.gamecenter",success:function(){},fail:function(t){console.log(JSON.stringify(t))}})},d.prototype.controlKey=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],d),r.default=i,cc._RF.pop()},{}],OffLinePanel:[function(t,e,n){"use strict";cc._RF.push(e,"7a0b5xaTvhJ65Qs0xmFWlU5","OffLinePanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("adLevelManager"),h=a("CoinOutPutDataManager"),y=a("SoundManager"),v=a("GameSys"),g=a("GameTools"),m=a("PanelConst"),b=(a("TipGroup"),a("UIBase")),C=a("UIManager");function S(){var t=null!==p&&p.apply(this,arguments)||this;return t.rewardLabel=null,t.oneLabel=null,t.doubleLabel=null,t.OneBtn=null,t.DoubleBtn=null,t.OffBtn=null,t.reward=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,p=b.default),S.prototype.onLoad=function(){},S.prototype.onEnable=function(){p.prototype.onEnable.call(this)},S.prototype.init=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){var n;return u(this,function(o){switch(o.label){case 0:return v.default.offlinetime=t,n=this,[4,h.default.Instance.GetOutPut()];case 1:return n.reward=o.sent()*t*d.default.Instance.getOffLineReward(),this.rewardLabel.string="\xd7"+g.default.refSetCoin(this.reward),this.oneLabel.string="\xd7"+g.default.refSetCoin(this.reward),this.doubleLabel.string="\xd7"+g.default.refSetCoin(2*this.reward),e?(this.OneBtn.active=!1,this.DoubleBtn.active=!0,this.OffBtn.active=!0):(this.OneBtn.active=!0,this.DoubleBtn.active=!0,this.OffBtn.active=!1),[2]}})})},S.prototype.ClickOne=function(){y.default.instance.play(y.Sound.Click),C.default.Instance.ChangeCoin(this.reward),0==v.default.requestSubscribeMessage[2]&&(v.default.requestSubscribeMessage[2]=1,g.default.getSdk().requestSubscribeMessage(2,function(){g.default.getSdk().sendEvent("dingyuelixian")},function(){})),f.default.instance.showOffLineIcon(),this.CloseThis()},S.prototype.ClickDouble=function(){y.default.instance.play(y.Sound.Click),0==v.default.requestSubscribeMessage[2]&&(v.default.requestSubscribeMessage[2]=1,g.default.getSdk().requestSubscribeMessage(2,function(){g.default.getSdk().sendEvent("dingyuelixian")},function(){})),C.default.Instance.ChangeCoin(2*this.reward),f.default.instance.hideOffLineIcon(),this.CloseThis()},S.prototype.ClickOff=function(){return s(this,void 0,void 0,function(){return u(this,function(){return y.default.instance.play(y.Sound.Click),this.CloseThis(),[2]})})},S.prototype.CloseThis=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return p.prototype.CloseThis.call(this),"WX"!=v.default.channel&&"QQ"!=v.default.channel&&"TT"!=v.default.channel?[3,2]:(t=18<=v.default.getMaxCustoms(),e=v.default.getSignIsGet(),!t||e?[3,2]:[4,C.default.Instance.ShowUI(m.default.SignPanel)]);case 1:n.sent(),n.label=2;case 2:return[2]}})})},S.prototype.start=function(){},c([i(cc.Label)],S.prototype,"rewardLabel",void 0),c([i(cc.Label)],S.prototype,"oneLabel",void 0),c([i(cc.Label)],S.prototype,"doubleLabel",void 0),c([i(cc.Node)],S.prototype,"OneBtn",void 0),c([i(cc.Node)],S.prototype,"DoubleBtn",void 0),c([i(cc.Node)],S.prototype,"OffBtn",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],OnHook:[function(t,e,n){"use strict";cc._RF.push(e,"5ef98bxJyNK+JCQSDmEDNaa","OnHook");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f,d=a("CoinOutPutDataManager"),h=a("GuideDataManager"),y=a("HeartDevilDataManager"),v=a("HeroDataManager"),g=a("OpenCrystalBoxManager"),m=a("PropDataManager"),b=a("SoundManager"),C=a("SystemDataManager"),S=a("UpTalkManager"),w=a("GameSys"),k=a("EventConst"),_=a("GameTools"),P=a("PoolManager"),O=a("OffLinePanel"),I=a("OutputCoin"),R=a("PanelConst"),x=a("QualityUp"),T=a("RewardPanel"),A=a("TipGroup"),D=a("UIManager"),B=a("UnlockSys"),M=a("WxErrorTouch"),G=a("GameFight");function N(){var t=null!==p&&p.apply(this,arguments)||this;return t.OffLine=null,t.OpenBoxNum=null,t.CrystalBoxPro=null,t.CrystalBoxRed=null,t.CrystalSp=null,t.CrystalLabel=null,t.CrystalBoxSp=null,t.CrystalBoxLight=null,t.CrystalBtn=null,t.WxAnnouncement=null,t.WxMore=null,t.SwBtn=null,t.WXService=null,t.JBGBtn=null,t.ShareNode=null,t.ShareBtn=null,t.logo=null,t.logoFrame=[],t.rankBtn=null,t.blockinput=null,t.LayoutBtn=null,t.colorSign=null,t.guideSp2=null,t.qualityUp=null,t.maskNode=null,t.quickup=null,t.sysicon=null,t.FightBtn=null,t.SignBtn=null,t.OnlineBtn=null,t.Guide=null,t.qipao=null,t.oppo_android=null,t.addToDesktop=null,t.DevilSp=null,t.Recorder=null,t.RecorderSp=[],t.prefabs=[],t.interlayer=null,t.mask=null,t.SpeedSprite=null,t.Automatic=null,t.guideSp=null,t.Realm=null,t.RealmSp=null,t.Content=null,t.Visualize=null,t.Artifacts=null,t.CoinProgress=null,t.OutputCoinpos=null,t.HpLabel=null,t.AtkLabel=null,t.FightLabel=null,t.SpeedLabel=null,t.Break=null,t.Next=null,t.Nextprogress=null,t.Nextneed=null,t.Mask=null,t.UpSp=null,t.discipleBtn=null,t.petBtn=null,t.artifactsBtn=null,t.intensifyBtn=null,t.taskBtn=null,t.alchemyBtn=null,t.weaponBtn=null,t.packBtn=null,t.shopBtn=null,t.sectBtn=null,t.roamBtn=null,t.trialsBtn=null,t.reincarnBtn=null,t.Tips=null,t.teacherid=0,t.count=0,t.crystalobj={number:0},t.pro=0,t.pro2=0,t._time=3,t.quickupdata=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(N,p=cc.Component),(f=N).prototype.onLoad=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(){return(f.instance=this).Content=this.node.getChildByName("Content"),this.Realm=this.RealmSp.getChildByName("Realm").getComponent(cc.Label),this.OutputCoinpos=this.Content.getChildByName("OutputCoinpos"),this.Visualize=this.Content.getChildByName("Visualize").getComponent(sp.Skeleton),this.CoinProgress=this.Content.getChildByName("CoinProgress").getChildByName("progress").getComponent(cc.Sprite),this.HpLabel=this.Content.getChildByName("Hp"),this.AtkLabel=this.Content.getChildByName("Atk"),this.SpeedLabel=this.Content.getChildByName("Speed"),this.Break=this.Content.getChildByName("Break").getComponent(sp.Skeleton),this.Next=this.Content.getChildByName("Next"),this.Nextprogress=this.Next.getChildByName("progress").getComponent(cc.Sprite),this.Nextneed=this.Next.getChildByName("need").getComponent(cc.Label),this.SpeedSprite=this.Content.getChildByName("Up").getChildByName("Speed").getComponent(cc.Sprite),this.Automatic=this.Content.getChildByName("Up").getChildByName("Automatic").getComponent(cc.Sprite),this.Mask=this.node.getChildByName("mask"),this.UpSp=this.Content.getChildByName("UpSp").getComponent(sp.Skeleton),this.Tips=this.Content.getChildByName("Tips"),this.discipleBtn=this.Content.getChildByName("Left").getChildByName("discipleBtn"),this.petBtn=this.Content.getChildByName("Left").getChildByName("petBtn"),this.artifactsBtn=this.Content.getChildByName("Left").getChildByName("artifactsBtn"),this.intensifyBtn=this.Content.getChildByName("Left").getChildByName("intensifyBtn"),this.reincarnBtn=this.Content.getChildByName("Left").getChildByName("reincarnBtn"),this.taskBtn=this.Content.getChildByName("Right").getChildByName("taskBtn"),this.alchemyBtn=this.Content.getChildByName("Right").getChildByName("alchemyBtn"),this.weaponBtn=this.Content.getChildByName("Right").getChildByName("weaponBtn"),this.packBtn=this.Content.getChildByName("Right").getChildByName("packBtn"),this.shopBtn=this.Content.getChildByName("Right").getChildByName("shopBtn"),this.sectBtn=this.Content.getChildByName("Down").getChildByName("sectBtn"),this.roamBtn=this.Content.getChildByName("Down").getChildByName("roamBtn"),this.trialsBtn=this.Content.getChildByName("Down").getChildByName("trialsBtn"),this.initPrefabs(),this.mask.active=!0,this.Recorder.node.active="TT"==w.default.channel,this.colorSign.active=_.default.getSdk().isShowAddColorSign(),this.addToDesktop.active=_.default.getSdk().isHaveAddToDesktop(),this.oppo_android.active="0001004"==_.default.getSdk().ChannelCallBack(),_.default.getSdk().onKeyDown(),cc.systemEvent.on(k.EventConst.GameStart,function(){t.interlayer.active=!0,t.mask.active=!1,t.initVisualize(),t.initArtifacts(),t.initRealm(),t.initRole(),t.initBreak(),t.initNextNeed(),t.initButton(),t.initTips(),t.initAutomatic(),t.initFightSpeed(),t.initShareFriend(),t.initCrystalBox()},this),cc.systemEvent.on(k.EventConst.Coin,function(){t.initBreak()},this),cc.systemEvent.on(k.EventConst.Recorder,this.initRecorder,this),cc.systemEvent.on(k.EventConst.Crystal,this.initCrystalBox,this),cc.systemEvent.on(k.EventConst.QuickUpClose,function(){t.qualityUp.active=!0},this),cc.systemEvent.on("initCrystalBox",this.initCrystalBoxSp,this),cc.director.getScheduler().schedule(function(){1<w.default.getMaxLevel()&&w.default.getMaxLevel()<10&&(t.guideSp2.active=!0,cc.tween(t.guideSp2).delay(2).call(function(){t.guideSp2.active=!1}).start())},this,5),cc.systemEvent.on(k.EventConst.Hideblockinput,function(){t.blockinput.active=!1},this),cc.systemEvent.on(k.EventConst.Showblockinput,function(){t.blockinput.active=!0},this),"WX"==w.default.channel?this.logo.spriteFrame=this.logoFrame[0]:this.logo.spriteFrame=this.logoFrame[1],this.WXService.active="WX"==w.default.channel,this.SwBtn.active="WX"==w.default.channel,this.WxMore.active="WX"==w.default.channel,this.WxAnnouncement.active="WX"==w.default.channel||"TT"==w.default.channel,[2]})})},N.prototype.initShareFriend=function(){if("WX"==w.default.channel||"QQ"==w.default.channel||"TT"==w.default.channel){for(var t=this.ShareBtn.getChildByName("Sp").getComponent(sp.Skeleton),e=0,n=w.default.getFriend(),o=0;o<n.length;o++)0<n[o].time&&e++;0<e?(t.setAnimation(0,"on",!0),t.setAnimation(1,"on2",!0),t.setAnimation(3,"on3",!0)):(t.clearTracks(),t.setAnimation(0,"off",!0)),this.ShareBtn.getChildByName("red").active=!!(e<2&&C.default.Instance.isUnlcok(38))}},N.prototype.initAutomatic=function(){w.default.getAutomatic()?_.default.ResetGrayAllNode(this.Automatic.node):_.default.SetGrayAllNode(this.Automatic.node)},N.prototype.initFightSpeed=function(){w.default.getSpeed()?(_.default.ResetGrayAllNode(this.SpeedSprite.node),w.default.speed="WX"==w.default.channel||"QQ"==w.default.channel||"TT"==w.default.channel?1.75:1.3):(_.default.SetGrayAllNode(this.SpeedSprite.node),w.default.speed="WX"==w.default.channel||"QQ"==w.default.channel||"TT"==w.default.channel?1.2:1)},N.prototype.initButton=function(){if(this.packBtn.getChildByName("suo").active=!1,this.discipleBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(2),C.default.Instance.isUnlcok(2),this.petBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(4),C.default.Instance.isUnlcok(4),this.alchemyBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(5),C.default.Instance.isUnlcok(5),this.taskBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(7),C.default.Instance.isUnlcok(7),this.artifactsBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(11),C.default.Instance.isUnlcok(11),this.weaponBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(9),C.default.Instance.isUnlcok(9),this.shopBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(13),C.default.Instance.isUnlcok(13),this.sectBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(14),this.trialsBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(17),this.roamBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(10),this.intensifyBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(15),C.default.Instance.isUnlcok(15),this.reincarnBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(16),C.default.Instance.isUnlcok(16),"WX"==w.default.channel||"QQ"==w.default.channel||"TT"==w.default.channel?(this.ShareBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(38),C.default.Instance.isUnlcok(38),this.initShareFriend(),this.rankBtn.getChildByName("suo").active=!C.default.Instance.isUnlcok(37),C.default.Instance.isUnlcok(37)):(this.rankBtn.active=!1,this.ShareNode.active=!1,this.ShareBtn.active=!1),this.SignBtn.active=18<=w.default.getMaxCustoms(),this.OnlineBtn.active=8<=w.default.getMaxCustoms(),this.Guide.active=1<w.default.getMaxCustoms()&&w.default.getGuide()[0]<=h.default.Instance.GetMaxNum(),this.SpeedSprite.node.active=1<w.default.getMaxCustoms(),this.maskNode.active=!(5<=w.default.getMaxCustoms()),this.LayoutBtn.active=5<=w.default.getMaxCustoms(),this.addToDesktop.active=!!(_.default.getSdk().isHaveAddToDesktop()&&5<=w.default.getMaxCustoms()),"WX"==w.default.channel||"QQ"==w.default.channel||"TT"==w.default.channel)for(var t=w.default.getJBG(),e=0;e<t.length;e++)0==t[e]?this.JBGBtn.active=!0:e==t.length-1&&(this.JBGBtn.active=!1);else this.JBGBtn.active=!1;this.CrystalBtn.active=C.default.Instance.isUnlcok(40)},N.prototype.ShowShareNode=function(){this.ShareNode.active=!0},N.prototype.HideShareNode=function(){this.ShareNode.active=!1},N.prototype.initPrefabs=function(){w.default.OutputCoin=new P.default(this.prefabs[0],10),w.default.sysicon=new P.default(this.sysicon,10)},N.prototype.initTips=function(){var t,e=C.default.Instance.GetNextUnlock();e&&1<w.default.getMaxCustoms()?(this.Tips.active=!0,t=e.level-w.default.getMaxCustoms(),this.Tips.getChildByName("info").getComponent(cc.Label).string="\u8fd8\u5dee"+t+"\u5173"+e.info):this.Tips.active=!1},N.prototype.initVisualize=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return this.UpSp.setAnimation(0,"zhujue",!1),t=w.default.getSex(),e=w.default.getLevel(),e=Math.floor((e-1)/10),e=v.default.Instance.GetVisualizeArray(e),t="player"+t+"/p"+e+"/p"+e,(e=_.default.GetRes("Bundle",t,sp.SkeletonData))?[3,2]:[4,_.default.LoadSpinData("Bundle",t)];case 1:e=n.sent(),n.label=2;case 2:return this.Visualize.skeletonData=e,this.Visualize.setAnimation(0,"idle",!0),this.Visualize.setAnimation(1,"eff1",!0),[2]}})})},N.prototype.initArtifacts=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return w.default.getMaxArtifacts()<=0?(this.Artifacts.node.active=!1,[2]):(this.Artifacts.node.active=!0,e=w.default.getNowArtifacts(),t="Artifacts/"+e,(e=_.default.GetRes("SpriteBundle1",t,cc.SpriteFrame))?[3,2]:[4,_.default.loadImage("SpriteBundle1",t)]);case 1:e=n.sent(),n.label=2;case 2:return this.Artifacts.spriteFrame=e,[2]}})})},N.prototype.initRealm=function(){this.Realm.string=d.default.Instance.GetRealm()},N.prototype.start=function(){cc.systemEvent.on(k.EventConst.Coin,this.initNextNeed,this),cc.systemEvent.on(k.EventConst.initTips,this.initTips,this),cc.systemEvent.on(k.EventConst.initFriend,this.initShareFriend,this)},N.prototype.OutputCoin=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a;return u(this,function(i){switch(i.label){case 0:if(this.Mask.active)return[2];for(t=1,e=0,n=w.default.getFriend(),o=0;o<n.length;o++)0<n[o].time&&e++;return t+=.5*e,8<=e&&(t+=1),[4,d.default.Instance.GetOutPut()];case 1:return a=3*i.sent()*t,this.CreatOutputTxt(a),this.ChangeCoin(a),[2,a]}})})},N.prototype.CreatOutputTxt=function(t){var e=w.default.OutputCoin.get();e.setParent(this.OutputCoinpos),e.getComponent(I.default).init(t)},N.prototype.ChangeCoin=function(t){w.default.setCoin(t),this.initNextNeed(),cc.systemEvent.emit(k.EventConst.Coin)},N.prototype.initNextNeed=function(){this.Nextprogress.fillRange=w.default.getCoin()/d.default.Instance.GetNeedCoin(),this.Nextneed.string=_.default.refSetCoin(w.default.getCoin())+"/"+_.default.refSetCoin(d.default.Instance.GetNeedCoin())},N.prototype.ChangeJewel=function(t){w.default.setJewel(t),cc.systemEvent.emit(k.EventConst.Jewel)},N.prototype.initCrystalBox=function(){this.crystalobj.number=w.default.getCrystal();var t=g.default.Instance.getOpenBoxNeedCrystal();this.CrystalBoxPro.fillRange=w.default.getCrystal()/t,this.CrystalBoxRed.active=w.default.getCrystal()>=t,this.CrystalLabel.string=_.default.refSetCoin(w.default.getCrystal())+"/"+_.default.refSetCoin(t),0==w.default.getCrystal()||0<w.default.getCrystal()&&w.default.getCrystal()<t?this.CrystalBoxSp.setAnimation(0,"idle",!0):this.CrystalBoxSp.setAnimation(0,"idle3",!0),this.OpenBoxNum.string=""+g.default.Instance.getCanOpenNum()},N.prototype.initCrystalBoxSp=function(){this.CrystalBoxLight.setAnimation(0,"collect",!1);var t=g.default.Instance.getOpenBoxNeedCrystal();cc.tween(this.crystalobj).to(.5,{number:w.default.getCrystal()}).call(function(){cc.systemEvent.emit(k.EventConst.Crystal)}).start(),this.CrystalBoxRed.active=w.default.getCrystal()>=t,this.CrystalBoxSp.setAnimation(0,"idle2",!1)},N.prototype.initRole=function(){var t=v.default.Instance.GetBasicRole(),e=v.default.Instance.GetRole(),n=v.default.Instance.GetFightNum();v.default.Instance.GetBasiFight(),this.AtkLabel.getChildByName("atk").getComponent(cc.Label).string=_.default.refSetCoin(Math.floor(t.atk)),this.AtkLabel.getChildByName("add").getComponent(cc.Label).string="+"+_.default.refSetCoin(Math.floor(e.atk-t.atk)),this.HpLabel.getChildByName("hp").getComponent(cc.Label).string=_.default.refSetCoin(Math.floor(t.hp)),this.HpLabel.getChildByName("add").getComponent(cc.Label).string="+"+_.default.refSetCoin(Math.floor(e.hp-t.hp)),this.SpeedLabel.getChildByName("speed").getComponent(cc.Label).string=_.default.refSetCoin(Math.floor(t.interval)),this.SpeedLabel.getChildByName("add").getComponent(cc.Label).string="+"+_.default.refSetCoin(Math.floor(e.interval-t.interval)),this.FightLabel.getChildByName("fight").getComponent(cc.Label).string=_.default.refSetCoin(Math.floor(n))},N.prototype.initBreak=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return d.default.Instance.IsCanBreak(),y.default.Instance.isHaveDevil()&&0<w.default.getDevil()?(this.Break.node.active=!1,this.DevilSp.node.active=!0,"qumo"!=this.DevilSp.animation&&this.DevilSp.setAnimation(0,"qumo",!0)):(this.Break.node.active=!0,this.DevilSp.node.active=!1),C.default.Instance.isUnlcok(1)||(this.Break.node.active=!1),200<=w.default.getLevel()&&(this.Break.node.active=!1),t=d.default.Instance.BreakOrDisaster(),e="",(n=w.default.getLevel()<w.default.getMaxLevel())?[4,d.default.Instance.IsCanQuick()]:[3,2];case 1:n=1<o.sent(),o.label=2;case 2:return e=n?0==t?"tupoLX":"dujie":0==t?"tupo":"dujie",1==t&&w.default.getMaxLevel()<=10&&w.default.getMaxCustoms()<10&&!G.default.instance.isFail&&(this.Break.node.active=!1),this.Break.animation==e||w.default.doBreak||this.Break.setAnimation(0,e,!0),[2]}})})},N.prototype.ClickBreak=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return w.default.doBreak?[2]:(w.default.doBreak=!0,1==this.teacherid&&this.ShowGuideSp(32),100==this.teacherid&&this.HideGuideSp(),b.default.instance.play(b.Sound.Click),d.default.Instance.IsCanBreak()?0!=d.default.Instance.BreakOrDisaster()?[3,4]:w.default.getLevel()<w.default.getMaxLevel()?[4,d.default.Instance.IsCanQuick()]:[3,2]:(A.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),D.default.Instance.ShowUI(R.default.FreeCoin),w.default.doBreak=!1,[2]));case 1:return 1<e.sent()?this.QuickBreakSuccess():this.isWxBreak(),[3,3];case 2:this.isWxBreak(),e.label=3;case 3:return[3,14];case 4:return w.default.getLevel()<30?(w.default.disater=100,t=d.default.Instance.GetNeedCoin(),D.default.Instance.ChangeCoin(-t),[4,D.default.Instance.ShowUI(R.default.DisasterPanel)]):[3,6];case 5:return e.sent(),[3,13];case 6:return"WX"!=w.default.channel?[3,12]:"1037"!=w.default.getWxScene()&&"1046"!=w.default.getWxScene()&&"1095"!=w.default.getWxScene()?[3,10]:Math.floor(100*Math.random())<w.default.errortouch?[4,D.default.Instance.ShowUI(R.default.WxErrorTouch)]:[3,8];case 7:return e.sent(),D.default.Instance.GetClass(R.default.WxErrorTouch).getComponent(M.default).init(1),[3,9];case 8:D.default.Instance.ShowUI(R.default.Soaring),e.label=9;case 9:return[3,11];case 10:D.default.Instance.ShowUI(R.default.Soaring),e.label=11;case 11:return[3,13];case 12:D.default.Instance.ShowUI(R.default.Soaring),e.label=13;case 13:w.default.doBreak=!1,e.label=14;case 14:return[2]}})})},N.prototype.isWxBreak=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return"WX"!=w.default.channel?[3,10]:"1037"!=w.default.getWxScene()&&"1046"!=w.default.getWxScene()&&"1095"!=w.default.getWxScene()?[3,8]:10<(t=w.default.getLevel())?1<=10*(Math.floor(t/10)+1)-t?Math.floor(100*Math.random())<w.default.errortouch?[4,D.default.Instance.ShowUI(R.default.WxErrorTouch)]:[3,2]:[3,4]:[3,6];case 1:return e.sent(),D.default.Instance.GetClass(R.default.WxErrorTouch).getComponent(M.default).init(0),[3,3];case 2:this.normalBreak(),e.label=3;case 3:return[3,5];case 4:this.normalBreak(),e.label=5;case 5:return[3,7];case 6:this.normalBreak(),e.label=7;case 7:return[3,9];case 8:this.normalBreak(),e.label=9;case 9:return[3,11];case 10:this.normalBreak(),e.label=11;case 11:return[2]}})})},N.prototype.normalBreak=function(){var t=d.default.Instance.GetNeedCoin();D.default.Instance.ChangeCoin(-t),this.UpSp.setAnimation(0,"zhujue",!1),this.BreakSuccess()},N.prototype.ClickDevil=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return"WX"!=w.default.channel?[3,6]:"1037"!=w.default.getWxScene()&&"1046"!=w.default.getWxScene()&&"1095"!=w.default.getWxScene()?[3,4]:Math.floor(100*Math.random())<w.default.errortouch?[4,D.default.Instance.ShowUI(R.default.WxErrorTouch)]:[3,2];case 1:return t.sent(),D.default.Instance.GetClass(R.default.WxErrorTouch).getComponent(M.default).init(2),[3,3];case 2:D.default.Instance.ShowUI(R.default.DevilPanel),t.label=3;case 3:return[3,5];case 4:D.default.Instance.ShowUI(R.default.DevilPanel),t.label=5;case 5:return[3,7];case 6:D.default.Instance.ShowUI(R.default.DevilPanel),t.label=7;case 7:return[2]}})})},N.prototype.DispelDevil=function(){var t=this;w.default.doBreak||(w.default.doBreak=!0,w.default.doBreak=!1,this.UpSp.setAnimation(0,"zhujue",!1),this.DevilSp.setAnimation(0,"qumo_chenggong",!0),this.DevilSp.setCompleteListener(function(){t.DevilSp.node.active=!1,t.initBreak()}))},N.prototype.ClickRealm=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return C.default.Instance.isUnlcok(1)?(b.default.instance.play(b.Sound.Click),[4,D.default.Instance.ShowUI(R.default.REALM_PANEL)]):[3,2];case 1:t.sent(),this.HideGuideSp(),t.label=2;case 2:return[2]}})})},N.prototype.QuickBreakSuccess=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p=this;return u(this,function(u){switch(u.label){case 0:return[4,v.default.Instance.GetMaxFight()];case 1:return t=u.sent(),[4,d.default.Instance.IsCanQuick()];case 2:for(e=u.sent(),n=!0,o=0;a=w.default.getCoin(),(i=d.default.Instance.GetNeedCoin())<=a?(this.ChangeCoin(-i),this.getCrystalAward(),w.default.setLevel(),o++):n=!1,n=!(e<=o)&&n;);for(r=function(t){cc.tween(l.node).delay(.2*t).call(function(){p.UpSp.setAnimation(0,"zhujue",!1),t==o-1&&(w.default.doBreak=!1)}).start()},l=this,c=0;c<o;c++)r(c);return b.default.instance.play(b.Sound.PlayUp),[4,y.default.Instance.isHaveDevil()];case 3:return(s=u.sent())&&w.default.setDevil(s),this.initRealmAnimation(),this.initVisualize(),this.initRealm(),this.initRole(),this.initBreak(),this.MaxFightChange(t),this.PlayCrystalSp(),_.default.getSdk().sendEvent("userlevel",{message:"\u4e3b\u89d2\u7b49\u7ea7",level:w.default.getLevel().toString()}),[2]}})})},N.prototype.initRealmAnimation=function(){this.Realm.node.stopAllActions(),this.Realm.node.scale=3,cc.tween(this.Realm.node).to(.3,{scale:1},{easing:"quadOut"}).start()},N.prototype.getCrystalAward=function(){var t;C.default.Instance.isUnlcok(40)&&(t=d.default.Instance.GetXianjing(),this.ChangeCrystal(t,!1))},N.prototype.PlayCrystalSp=function(){C.default.Instance.isUnlcok(40)&&(this.CrystalSp.active=!0,this.CrystalSp.getComponent(cc.Animation).play("move2"))},N.prototype.ChangeCrystal=function(t,e){void 0===e&&(e=!0),w.default.setCrystal(t),0<t&&A.default.instance.setText(-1,"\u4ed9\u6676+"+_.default.refSetCoin(t)),e&&cc.systemEvent.emit(k.EventConst.Crystal)},N.prototype.BreakSuccess=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r=this;return u(this,function(l){switch(l.label){case 0:return[4,v.default.Instance.GetMaxFight()];case 1:return t=l.sent(),b.default.instance.play(b.Sound.PlayUp),w.default.doBreak=!1,this.getCrystalAward(),this.PlayCrystalSp(),w.default.setLevel(),[4,y.default.Instance.isHaveDevil()];case 2:return(e=l.sent())&&w.default.setDevil(e),this.initRealm(),this.initRole(),this.MaxFightChange(t),this.initRealmAnimation(),this.initBreak(),_.default.getSdk().sendEvent("userlevel",{message:"\u4e3b\u89d2\u7b49\u7ea7",level:w.default.getLevel().toString()}),this.qipao.stopAllActions(),cc.tween(this.qipao).call(function(){r.qipao.active=!0,r.qipao.getChildByName("txt").getComponent(cc.Label).string=""+S.default.Instance.GetTalk(5)}).delay(2).call(function(){r.qipao.active=!1}).start(),"WX"!=w.default.channel&&"QQ"!=w.default.channel||!C.default.Instance.isUnlcok(37)?[3,4]:(o=(n=_.default.getSdk()).getSurpassOpenDataContext,i=(a=Math).floor,[4,v.default.Instance.GetMaxFight()]);case 3:o.apply(n,[i.apply(a,[l.sent()])]),l.label=4;case 4:return[2]}})})},N.prototype.ClickArtifacts=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(11)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(11)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"7"}),[4,D.default.Instance.ShowUI(R.default.ARTIFACTS)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickPet=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(4)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(4)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"6"}),[4,D.default.Instance.ShowUI(R.default.PET_PANEL)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickRoam=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(10)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(10)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"16"}),[4,D.default.Instance.ShowUI(R.default.RoamPanel)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickReincarn=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(16)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(16)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"9"}),[4,D.default.Instance.ShowUI(R.default.ReincarnPanel)];case 2:t.sent(),t.label=3;case 3:return this.HideGuideSp(),[2]}})})},N.prototype.ClickEquip=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(9)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(9)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"12"}),[4,D.default.Instance.ShowUI(R.default.EquipPanel)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickAlchemy=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(5)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(5)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"11"}),[4,D.default.Instance.ShowUI(R.default.ALCHEMY_PANEL)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickTrials=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(17)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(17)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"17"}),[4,D.default.Instance.ShowUI(R.default.TrialsPanel)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickPack=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),_.default.getSdk().sendEvent("click",{message:"13"}),[4,D.default.Instance.ShowUI(R.default.PACK_PANEL)];case 1:return t.sent(),[2]}})})},N.prototype.ClickIntensify=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(15)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(15)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"8"}),[4,D.default.Instance.ShowUI(R.default.INTENSIFY_PANEL)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickShop=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(13)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(13)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"14"}),[4,D.default.Instance.ShowUI(R.default.ShopPanel)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickOptions=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),[4,D.default.Instance.ShowUI(R.default.OptionsPanel)];case 1:return t.sent(),[2]}})})},N.prototype.ClickDisciple=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(2)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(2)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"5"}),[4,D.default.Instance.ShowUI(R.default.DISCIPLE_PANEL)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickTask=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(7)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(7)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"10"}),[4,D.default.Instance.ShowUI(R.default.TASK_PANEL)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickSect=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(14)?[3,1]:(A.default.instance.setText(-1,C.default.Instance.CanUnlock(14)),[3,3]);case 1:return _.default.getSdk().sendEvent("click",{message:"15"}),[4,D.default.Instance.ShowUI(R.default.Sect)];case 2:t.sent(),this.HideGuideSp(),t.label=3;case 3:return[2]}})})},N.prototype.ClickRole=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),_.default.getSdk().sendEvent("click",{message:"4"}),[4,D.default.Instance.ShowUI(R.default.MESSAGE_PANEL)];case 1:return t.sent(),this.HideGuideSp(),[2]}})})},N.prototype.ClickChangeSpeed=function(){b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(6)?(w.default.getSpeed()?w.default.setSpeed(!1):w.default.setSpeed(!0),this.initFightSpeed()):A.default.instance.setText(-1,C.default.Instance.CanUnlock(6)),this.HideGuideSp()},N.prototype.ClickAutomaticSkill=function(){b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(3)?(w.default.setAutomatic(),w.default.automatic?_.default.ResetGrayAllNode(this.Automatic.node):_.default.SetGrayAllNode(this.Automatic.node)):A.default.instance.setText(-1,C.default.Instance.CanUnlock(3))},N.prototype.update=function(t){w.default.isFirstLoad||(this.pro+=t,3==this._time?this.pro2=this.pro/3:this.pro2=+this.pro,this.CoinProgress.fillRange=this.pro2,1<=this.pro2&&(this.pro=t,this.OutputCoin()),t=g.default.Instance.getOpenBoxNeedCrystal(),this.CrystalLabel.string=_.default.refSetCoin(Math.floor(this.crystalobj.number))+"/"+_.default.refSetCoin(t))},N.prototype.MetaGetAssect=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return this.ChangeCoin(1e47),this.ChangeJewel(1e35),(t=[]).push({prop:m.default.Instance.GetProp(6),have:5e3}),[4,D.default.Instance.ShowUI(R.default.RewardPanel)];case 1:return e.sent(),D.default.Instance.GetClass(R.default.RewardPanel).getComponent(T.default).initAsset(t),[2]}})})},N.prototype.MetaCleanData=function(){w.default._clearGameData()},N.prototype.ShowUnlockSys=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,D.default.Instance.ShowUI(R.default.UnlockSys)];case 1:return e.sent(),D.default.Instance.GetClass(R.default.UnlockSys).node.getComponent(B.default).init(t),[2]}})})},N.prototype.ShowGuideSp=function(t){var e=null;switch(t){case 1:e=this.Break.node,D.default.Instance.HideAllUi();break;case 2:e=this.discipleBtn,this.teacherid=2;break;case 3:e=this.Automatic.node;break;case 4:e=this.petBtn,this.teacherid=4;break;case 5:e=this.alchemyBtn,this.teacherid=5;break;case 6:e=this.SpeedSprite.node;break;case 7:e=this.taskBtn,this.teacherid=7;break;case 8:return void this.alchemyBtn;case 9:e=this.weaponBtn,this.teacherid=9;break;case 10:e=this.roamBtn,this.teacherid=10;break;case 11:e=this.artifactsBtn;break;case 12:return void this.alchemyBtn;case 13:e=this.shopBtn,this.teacherid=13;break;case 14:e=this.sectBtn,this.teacherid=14;break;case 15:e=this.intensifyBtn,this.teacherid=15;break;case 16:e=this.reincarnBtn;break;case 17:e=this.trialsBtn;break;case 18:return void this.alchemyBtn;case 19:e=this.weaponBtn;break;case 20:case 21:return void this.alchemyBtn;case 22:e=G.default.instance.challengeBtn;break;case 23:e=G.default.instance.SkillContent.children[0];break;case 24:e=this.Break.node,this.count=2;break;case 30:return void G.default.instance.challengeBtn;case 31:e=this.Realm.node.parent,this.teacherid=1;break;case 32:e=this.FightBtn;break;case 34:e=this.discipleBtn,this.teacherid=34;break;case 35:e=this.discipleBtn,this.teacherid=35;break;case 36:e=this.discipleBtn,this.teacherid=36;break;case 37:e=this.rankBtn,this.teacherid=37;break;case 38:e=this.ShareBtn,this.teacherid=38;break;case 40:e=this.CrystalBtn,this.teacherid=40;break;case 41:e=this.weaponBtn,this.teacherid=41}t=e.parent.convertToWorldSpaceAR(e.getPosition()),t=this.guideSp.parent.convertToNodeSpaceAR(t),this.guideSp.setPosition(t),this.guideSp.active=!0},N.prototype.HideGuideSp=function(){this.guideSp.active=!1},N.prototype.MaxFightChange=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return[4,v.default.Instance.GetMaxFight()];case 1:return((e=n.sent())<t||t<e)&&A.default.instance.setFightNum(t,e),[2]}})})},N.prototype.initRecorder=function(){this.Recorder.spriteFrame=this.RecorderSp[w.default.isdorecorder]},N.prototype.ClickRecorder=function(){0==w.default.isdorecorder?_.default.getSdk().recorderstart():1==w.default.isdorecorder?_.default.getSdk().recorderstop():(w.default.isdorecorder=0,cc.systemEvent.emit(k.EventConst.Recorder),D.default.Instance.ShowUI(R.default.ShareRecorder))},N.prototype.ClickShowFreeCoin=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),[4,D.default.Instance.ShowUI(R.default.FreeCoin)];case 1:return t.sent(),[2]}})})},N.prototype.ClickShowFreeJewel=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),[4,D.default.Instance.ShowUI(R.default.FreeJewel)];case 1:return t.sent(),[2]}})})},N.prototype.ClickSign=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),_.default.getSdk().sendEvent("click",{message:"1"}),[4,D.default.Instance.ShowUI(R.default.SignPanel)];case 1:return t.sent(),[2]}})})},N.prototype.ClickOnline=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),_.default.getSdk().sendEvent("click",{message:"2"}),[4,D.default.Instance.ShowUI(R.default.OnlinePanel)];case 1:return t.sent(),[2]}})})},N.prototype.ClickAddToDesktop=function(){D.default.Instance.ShowUI(R.default.qqsaveAppToDesktop)},N.prototype.ClickAddColorSign=function(){b.default.instance.play(b.Sound.Click),D.default.Instance.ShowUI(R.default.qqaddColorSign)},N.prototype.ClickOppoAndroid=function(){_.default.getSdk().moreGame()},N.prototype.ClickSevenMoney=function(){b.default.instance.play(b.Sound.Click),D.default.Instance.ShowUI(R.default.SevenMoney)},N.prototype.ClickQQActivity=function(){b.default.instance.play(b.Sound.Click),D.default.Instance.ShowUI(R.default.qqActivity)},N.prototype.CreateSysicon=function(t){return s(this,void 0,void 0,function(){var e,n,o,a,i,r;return u(this,function(l){switch(l.label){case 0:switch(n=e="",o=null,t){case 1:e="Icon/1",n="SpriteBundle1",o=this.Break.node;break;case 2:o=this.discipleBtn,e="Icon/2",n="SpriteBundle1";break;case 3:o=this.Automatic.node,e="Icon/9",n="SpriteBundle1";break;case 4:o=this.petBtn,e="Icon/3",n="SpriteBundle1";break;case 5:o=this.alchemyBtn,e="Icon/4",n="SpriteBundle1";break;case 6:o=this.SpeedSprite.node,e="Icon/6",n="SpriteBundle1";break;case 7:o=this.taskBtn,e="Icon/5",n="SpriteBundle1";break;case 8:return[2];case 9:o=this.weaponBtn,e="Icon/8",n="SpriteBundle1";break;case 10:o=this.roamBtn,e="Icon/12",n="SpriteBundle1";break;case 11:o=this.artifactsBtn,e="Icon/7",n="SpriteBundle1";break;case 12:return[2];case 13:o=this.shopBtn,e="Icon/10",n="SpriteBundle1";break;case 14:o=this.sectBtn,e="Icon/11",n="SpriteBundle1";break;case 15:o=this.intensifyBtn,e="Icon/13",n="SpriteBundle1";break;case 16:o=this.reincarnBtn,e="Icon/14",n="SpriteBundle1";break;case 17:o=this.trialsBtn,e="Icon/15",n="SpriteBundle1";break;case 18:return[2];case 19:o=this.weaponBtn,e="Icon/17",n="SpriteBundle1";break;case 20:case 21:case 30:return[2];case 31:o=this.OnlineBtn,e="Icon/31",n="SpriteBundle1";break;case 33:o=this.SignBtn,e="Icon/33",n="SpriteBundle1";break;case 34:o=this.discipleBtn,e="Icon/34",n="SpriteBundle1";break;case 35:o=this.discipleBtn,e="Icon/35",n="SpriteBundle1";break;case 36:o=this.discipleBtn,e="Icon/36",n="SpriteBundle1";break;case 37:o=this.rankBtn,e="Icon/37",n="SpriteBundle1";break;case 102:o=this.quickup,e="PropIcon/item_equip_accessory_caomao",n="Bundle";break;case 40:case 41:return[2]}return(a=w.default.sysicon.get()).setParent(this.node),r=o.parent.convertToWorldSpaceAR(o.getPosition()),i=this.node.convertToNodeSpaceAR(r),(r=_.default.GetRes(n,e,cc.SpriteFrame))?[3,2]:[4,_.default.loadImage(n,e)];case 1:r=l.sent(),l.label=2;case 2:return a.getComponent(cc.Sprite).spriteFrame=r,cc.tween(a).to(1,{x:i.x,y:i.y},{easing:"quadOut"}).call(function(){a.destroy()}).start(),[2]}})})},N.prototype.ClickAttention=function(){_.default.getSdk().openAwemeUserProfile()},N.prototype.ClickRank=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(37)?(D.default.Instance.HideSurpass(),[4,D.default.Instance.ShowUI(R.default.RankPanel)]):[3,2];case 1:return t.sent(),this.teacherid=0,this.HideGuideSp(),[3,3];case 2:A.default.instance.setText(-1,C.default.Instance.CanUnlock(37)),t.label=3;case 3:return[2]}})})},N.prototype.ShowQualityUp=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,D.default.Instance.ShowUI(R.default.QualityUp)];case 1:return t.sent(),D.default.Instance.GetClass(R.default.QualityUp).getComponent(x.default).init(this.quickupdata),this.qualityUp.active=!1,[2]}})})},N.prototype.ClickShareFriend=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),C.default.Instance.isUnlcok(38)?[4,D.default.Instance.ShowUI(R.default.FriendHelpPanel)]:[3,2];case 1:return t.sent(),this.teacherid=0,this.HideGuideSp(),[3,3];case 2:A.default.instance.setText(-1,C.default.Instance.CanUnlock(38)),t.label=3;case 3:return[2]}})})},N.prototype.ClickShare=function(){b.default.instance.play(b.Sound.Click),_.default.getSdk().shareFriend()},N.prototype.ClickJBG=function(){b.default.instance.play(b.Sound.Click),D.default.Instance.ShowUI(R.default.JBGPanel)},N.prototype.ClickWXService=function(){b.default.instance.play(b.Sound.Click),_.default.getSdk().openCustomerServiceConversation()},N.prototype.ClickSw=function(){b.default.instance.play(b.Sound.Click),D.default.Instance.ShowUI(R.default.SWPanel)},N.prototype.ClickWxMore=function(){b.default.instance.play(b.Sound.Click),_.default.getSdk().showCustomAd("more")},N.prototype.ClickWxAnnouncement=function(){b.default.instance.play(b.Sound.Click),D.default.Instance.ShowUI(R.default.WxAnnouncement)},N.prototype.clickOffLine=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return b.default.instance.play(b.Sound.Click),[4,D.default.Instance.ShowUI(R.default.OffLinePanel)];case 1:return t.sent(),D.default.Instance.GetClass(R.default.OffLinePanel).getComponent(O.default).init(w.default.offlinetime,!0),[2]}})})},N.prototype.showOffLineIcon=function(){var t=this;this.OffLine.active=!0,cc.tween(this.OffLine).delay(600).call(function(){t.OffLine.active=!1}).start()},N.prototype.hideOffLineIcon=function(){this.OffLine.active=!1,this.OffLine.stopAllActions()},N.prototype.ClickCrystalBox=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(){return b.default.instance.play(b.Sound.Click),this.teacherid=0,this.HideGuideSp(),t=g.default.Instance.getOpenBoxNeedCrystal(),w.default.getCrystal()>=t?D.default.Instance.ShowUI(R.default.CrystalBoxPanel):A.default.instance.setText(-1,"\u4ed9\u6676\u4e0d\u8db3"),[2]})})},N.instance=null,c([i(cc.Node)],N.prototype,"OffLine",void 0),c([i(cc.Label)],N.prototype,"OpenBoxNum",void 0),c([i(cc.Sprite)],N.prototype,"CrystalBoxPro",void 0),c([i(cc.Node)],N.prototype,"CrystalBoxRed",void 0),c([i(cc.Node)],N.prototype,"CrystalSp",void 0),c([i(cc.Label)],N.prototype,"CrystalLabel",void 0),c([i(sp.Skeleton)],N.prototype,"CrystalBoxSp",void 0),c([i(sp.Skeleton)],N.prototype,"CrystalBoxLight",void 0),c([i(cc.Node)],N.prototype,"CrystalBtn",void 0),c([i(cc.Node)],N.prototype,"WxAnnouncement",void 0),c([i(cc.Node)],N.prototype,"WxMore",void 0),c([i(cc.Node)],N.prototype,"SwBtn",void 0),c([i(cc.Node)],N.prototype,"WXService",void 0),c([i(cc.Node)],N.prototype,"JBGBtn",void 0),c([i(cc.Node)],N.prototype,"ShareNode",void 0),c([i(cc.Node)],N.prototype,"ShareBtn",void 0),c([i(cc.Sprite)],N.prototype,"logo",void 0),c([i(cc.SpriteFrame)],N.prototype,"logoFrame",void 0),c([i(cc.Node)],N.prototype,"rankBtn",void 0),c([i(cc.Node)],N.prototype,"blockinput",void 0),c([i(cc.Node)],N.prototype,"LayoutBtn",void 0),c([i(cc.Node)],N.prototype,"colorSign",void 0),c([i(cc.Node)],N.prototype,"guideSp2",void 0),c([i(cc.Node)],N.prototype,"qualityUp",void 0),c([i(cc.Node)],N.prototype,"maskNode",void 0),c([i(cc.Node)],N.prototype,"quickup",void 0),c([i(cc.Prefab)],N.prototype,"sysicon",void 0),c([i(cc.Node)],N.prototype,"FightBtn",void 0),c([i(cc.Node)],N.prototype,"SignBtn",void 0),c([i(cc.Node)],N.prototype,"OnlineBtn",void 0),c([i(cc.Node)],N.prototype,"Guide",void 0),c([i(cc.Node)],N.prototype,"qipao",void 0),c([i(cc.Node)],N.prototype,"oppo_android",void 0),c([i(cc.Node)],N.prototype,"addToDesktop",void 0),c([i(sp.Skeleton)],N.prototype,"DevilSp",void 0),c([i(cc.Sprite)],N.prototype,"Recorder",void 0),c([i(cc.SpriteFrame)],N.prototype,"RecorderSp",void 0),c([i(cc.Prefab)],N.prototype,"prefabs",void 0),c([i(cc.Node)],N.prototype,"interlayer",void 0),c([i(cc.Node)],N.prototype,"mask",void 0),c([i(cc.Node)],N.prototype,"guideSp",void 0),c([i(cc.Node)],N.prototype,"RealmSp",void 0),c([i(cc.Sprite)],N.prototype,"Artifacts",void 0),c([i(cc.Node)],N.prototype,"FightLabel",void 0),a=f=c([a],N),r.default=a,cc._RF.pop()},{}],OnceSubScribeMsg:[function(t,e,n){"use strict";cc._RF.push(e,"b2f21LXqD9OXpIe8gD07W4B","OnceSubScribeMsg");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("SoundManager"),u=i("GameTools"),p=i("TipGroup"),f=i("UIBase");function d(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(d,c=f.default),d.prototype.onEnable=function(){c.prototype.onEnable.call(this)},d.prototype.start=function(){},d.prototype.ClickYes=function(){s.default.instance.play(s.Sound.Click),u.default.getSdk().oneceSubscribeMsg(function(){p.default.instance.setText(-1,"\u8ba2\u9605\u6210\u529f")},function(t){t?p.default.instance.setText(-1,"\u5df2\u7ecf\u8ba2\u9605"):p.default.instance.setText(-1,"\u8ba2\u9605\u5931\u8d25")}),this.CloseThis()},d.prototype.ClickOff=function(){s.default.instance.play(s.Sound.Click),this.CloseThis()},d.prototype.CloseThis=function(){c.prototype.CloseThis.call(this)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],d),r.default=i,cc._RF.pop()},{}],OnlineDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"5dc55rkGZFOWJU4hXNyjSnj","OnlineDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("OnlineData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/online",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/online")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.needtime=a.needtime,i.num=a.num,i.name=a.name,i.goodid=a.goodid,this.allDataList.push(i);return[2]}})})},y.prototype.GetData=function(t){return this.allDataList[t]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],OnlineData:[function(t,e,n){"use strict";cc._RF.push(e,"8af70FgPmZBtrH8Nmw1hrM5","OnlineData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.id=0,this.needtime=0}),a.default=o,cc._RF.pop()},{}],OnlinePanel:[function(t,e,n){"use strict";cc._RF.push(e,"b92a2BuPztC5YCcTgE4eFb9","OnlinePanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys"),p=a("Onlineitem"),f=a("UIBase");function d(){var t=null!==s&&s.apply(this,arguments)||this;return t.Hours=null,t.Minute=null,t.Content=null,t.Panel=null,t.End=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(d,s=f.default),d.prototype.onEnable=function(){s.prototype.onEnable.call(this),this.initOnline()},d.prototype.initOnline=function(){for(var t=0;t<this.Content.childrenCount;t++)this.Content.children[t].getComponent(p.default).init(t)},d.prototype.CloseThis=function(){s.prototype.CloseThis.call(this)},d.prototype.update=function(){var t=u.default.getOnline(),e=Math.floor(t/3600);this.Hours.string=""+e,t=Math.floor(t/60%60),this.Minute.string=""+t;for(var n=u.default.getOnlineIsGet(),o=!1,a=0;a<n.length;a++)0==n[a]&&(o=!0);this.Panel.active=o,this.End.active=!o},c([i(cc.Label)],d.prototype,"Hours",void 0),c([i(cc.Label)],d.prototype,"Minute",void 0),c([i(cc.Node)],d.prototype,"Content",void 0),c([i(cc.Node)],d.prototype,"Panel",void 0),c([i(cc.Node)],d.prototype,"End",void 0),a=c([a],d),r.default=a,cc._RF.pop()},{}],Onlineitem:[function(t,e,n){"use strict";cc._RF.push(e,"82087HHj95MupvK/krhcYoR","Onlineitem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("OnlineDataManager"),y=a("PropDataManager"),v=a("SoundManager"),g=a("GameSys"),m=a("GameTools"),b=a("DoublePanel"),C=a("PanelConst"),S=a("TipGroup"),w=a("UIManager");function k(){var t=null!==p&&p.apply(this,arguments)||this;return t.Frame=null,t.Icon=null,t.Reward=null,t.Name=null,t.Time=null,t.GetBtn=null,t.OverBtn=null,t.NoBtn=null,t.data=null,t.prop=null,t.index=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(k,p=cc.Component),k.prototype.init=function(t){return s(this,void 0,void 0,function(){var e,n,o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:return e=h.default.Instance.GetData(t),n=y.default.Instance.GetProp(e.goodid),this.data=e,this.index=t,this.prop=n,i="PropFrame/"+n.frame,(o=m.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,2]:[4,m.default.loadImage("Bundle",i)];case 1:o=c.sent(),c.label=2;case 2:return this.Frame.spriteFrame=o,i=a="",i=4==n.type?(a="Award/coin","SpriteBundle1"):5==n.type?(a="Award/jewel","SpriteBundle1"):(a="PropIcon/"+n.icon,"Bundle"),(r=m.default.GetRes(i,a,cc.SpriteFrame))?[3,4]:[4,m.default.loadImage(i,a)];case 3:r=c.sent(),c.label=4;case 4:return this.Icon.spriteFrame=r,this.Name.string=""+n.name,this.Name.node.color=cc.color().fromHEX(y.default.Instance.GetLevelColor(n.frame)),l=0,4!=n.type?[3,6]:[4,d.default.Instance.GetOutPut()];case 5:return l=c.sent()*e.num,[3,9];case 6:return 5!=n.type?[3,8]:[4,f.default.Instance.GetOutPut()];case 7:return l=c.sent()*e.num,[3,9];case 8:l=e.num,c.label=9;case 9:return this.Reward.string=""+m.default.refSetCoin(l),this.Time.string=""+e.needtime,[2]}})})},k.prototype.start=function(){},k.prototype.initBtn=function(){var t=60*this.data.needtime;g.default.getOnline()>t?(0==g.default.getOnlineIsGet()[this.index]?(this.GetBtn.active=!0,this.OverBtn.active=!1):(this.GetBtn.active=!1,this.OverBtn.active=!0),this.NoBtn.active=!1):(this.GetBtn.active=!1,this.OverBtn.active=!1,this.NoBtn.active=!0)},k.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t,e=this;return u(this,function(n){switch(n.label){case 0:return v.default.instance.play(v.Sound.Click),(t=function(){return s(e,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return t=0,4!=this.prop.type?[3,2]:[4,d.default.Instance.GetOutPut()];case 1:return t=n.sent()*this.data.num,w.default.Instance.ChangeCoin(t),[3,5];case 2:return 5!=this.prop.type?[3,4]:[4,f.default.Instance.GetOutPut()];case 3:return t=n.sent()*this.data.num,w.default.Instance.ChangeJewel(t),[3,5];case 4:t=this.data.num,(e=[]).push({prop:this.prop,have:this.data.num}),y.default.Instance.addPack(e),S.default.instance.setText(-1,"\u606d\u559c\u83b7\u5f97"+this.prop.name+"+"+this.data.num),n.label=5;case 5:return[2]}})})})(),g.default.setOnlineIsGet(this.index),this.initBtn(),[4,w.default.Instance.ShowUI(C.default.DoublePanel)];case 1:return n.sent(),w.default.Instance.GetClass(C.default.DoublePanel).getComponent(b.default).init({prop:this.prop,have:this.data.num},t),[2]}})})},k.prototype.update=function(){this.data&&this.initBtn()},c([i(cc.Sprite)],k.prototype,"Frame",void 0),c([i(cc.Sprite)],k.prototype,"Icon",void 0),c([i(cc.Label)],k.prototype,"Reward",void 0),c([i(cc.Label)],k.prototype,"Name",void 0),c([i(cc.Label)],k.prototype,"Time",void 0),c([i(cc.Node)],k.prototype,"GetBtn",void 0),c([i(cc.Node)],k.prototype,"OverBtn",void 0),c([i(cc.Node)],k.prototype,"NoBtn",void 0),a=c([a],k),r.default=a,cc._RF.pop()},{}],OpenCrystalBoxData:[function(t,e,n){"use strict";cc._RF.push(e,"8922eLsVgBNuKu9hozQOLvl","OpenCrystalBoxData");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){},cc._RF.pop()},{}],OpenCrystalBoxManager:[function(t,e,n){"use strict";cc._RF.push(e,"a4441rSExBBRJhjep1+7WjL","OpenCrystalBoxManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("OpenCrystalBoxData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/xianjingBox_expend",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/xianjingBox_expend")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).openTimes=a.openTimes,i.expend=a.expend,this.allDataList.push(i);return[2]}})})},v.prototype.getOpenBoxNeedCrystal=function(t){void 0===t&&(t=d.default.getOpenTimes());for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].openTimes==t)return this.allDataList[e].expend;if(e==this.allDataList.length-1)return this.allDataList[e].expend}},v.prototype.getCanOpenNum=function(){for(var t,e=d.default.getOpenTimes(),n=d.default.getCrystal(),o=!0,a=0;t=this.getOpenBoxNeedCrystal(e),e++,t<=n?(n-=t,a++):o=!1,o;);return a},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],OptionsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"45fc7tmaxJDV7Ls5UrbVfyj","OptionsPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("GameTools"),v=a("ServerUtil"),g=a("PanelConst"),m=a("RewardPanel"),b=a("TipGroup"),C=a("UIBase"),S=a("UIManager");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.UserID=null,t.Content=null,t.biaoti=null,t.android=null,t.layout=null,t.bgm=null,t.bgmSp=[],t.ball=null,t.service=null,t.privacy=null,t.CDKLayout=null,t.Editbox=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=C.default),w.prototype.onLoad=function(){this.privacy.active="Android"==h.default.channel||"OPPO"==h.default.channel||"QQ"==h.default.channel||"VIVO"==h.default.channel,this.android.active="Android"==h.default.channel,this.CDKLayout.active="WX"==h.default.channel||"TT"==h.default.channel||"QQ"==h.default.channel,this.UserID.node.active="WX"==h.default.channel||"TT"==h.default.channel||"QQ"==h.default.channel,v.default.userid?this.UserID.string="\u7528\u6237ID:"+v.default.userid:this.UserID.string="\u7528\u6237ID:\u672a\u767b\u5f55"},w.prototype.ClickPrivacy=function(){"Android"==h.default.channel?y.default.getSdk().showUserProtocol():(h.default.channel,S.default.Instance.ShowUI(g.default.Privacy))},w.prototype.onEnable=function(){p.prototype.onEnable.call(this),h.default.channel,this.layout.active=!1;var t=h.default.getMusic();this.bgm.spriteFrame=t?this.bgmSp[0]:this.bgmSp[1],this.ball.x=t?25:-25,y.default.getSdk().PlatformCallBack("BANNER"),"Android"!=h.default.channel||"0001005"!=y.default.getSdk().ChannelCallBack()&&"0001007"!=y.default.getSdk().ChannelCallBack()&&"0001009"!=y.default.getSdk().ChannelCallBack()?this.service.active=!1:this.service.active=!0,this.biaoti.y=this.Content.height/2+75},w.prototype.ClickMusic=function(){var t=this;d.default.instance.play(d.Sound.Click);var e=h.default.getMusic();cc.tween(this.ball).to(.3,{x:e?-25:25}).call(function(){t.bgm.spriteFrame=e?t.bgmSp[1]:t.bgmSp[0],h.default.setMusic(!e),d.default.instance.init()}).start()},w.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s;return u(this,function(u){switch(u.label){case 0:d.default.instance.play(d.Sound.Click),t=this.Editbox.string,e=h.default.getWXCDK(),n=0,u.label=1;case 1:return n<e.length?e[n].CDK!=t?[3,5]:e[n].state?(b.default.instance.setText(-1,"\u5df2\u9886\u53d6"),[3,4]):[3,2]:[3,7];case 2:switch(e[n].state=!0,h.default.setWXCDK(e),o=[],i=a=void 0,e[n].CDK){case"vip666":a=f.default.Instance.GetJewelProp(),o.push({prop:a,have:100}),i=f.default.Instance.GetProp(15),o.push({prop:i,have:1});break;case"vip888":a=f.default.Instance.GetProp(43),o.push({prop:a,have:1}),i=f.default.Instance.GetProp(119),o.push({prop:i,have:8});break;case"vip999":a=f.default.Instance.GetProp(3),o.push({prop:a,have:5}),i=f.default.Instance.GetProp(4),o.push({prop:i,have:5});break;case"fuli888":a=f.default.Instance.GetCoinProp(),o.push({prop:a,have:7200}),i=f.default.Instance.GetProp(4),o.push({prop:i,have:5}),r=f.default.Instance.GetProp(121),o.push({prop:r,have:5});break;case"fuli688":a=f.default.Instance.GetJewelProp(),o.push({prop:a,have:300}),i=f.default.Instance.GetProp(59),o.push({prop:i,have:1});break;case"fuli998":a=f.default.Instance.GetProp(4),o.push({prop:a,have:5}),i=f.default.Instance.GetProp(59),o.push({prop:i,have:1});break;case"libao668":a=f.default.Instance.GetJewelProp(),o.push({prop:a,have:300}),i=f.default.Instance.GetProp(119),o.push({prop:i,have:8});break;case"libao899":a=f.default.Instance.GetProp(4),o.push({prop:a,have:5}),i=f.default.Instance.GetProp(17),o.push({prop:i,have:1});break;case"buchang420":a=f.default.Instance.GetCoinProp(),o.push({prop:a,have:21600});break;case"buchang466":a=f.default.Instance.GetCoinProp(),o.push({prop:a,have:21600}),i=f.default.Instance.GetProp(45),o.push({prop:i,have:1});break;default:for(l=0;l<h.default.CDKArray.length;l++)if(h.default.CDKArray[l].cdk==e[n].CDK){for(c=0;c<h.default.CDKArray[l].reward.length;c++)s=f.default.Instance.GetProp(h.default.CDKArray[l].reward[c].id),o.push({prop:s,have:h.default.CDKArray[l].reward[c].value});break}}return[4,S.default.Instance.ShowUI(g.default.RewardPanel)];case 3:u.sent(),S.default.Instance.GetClass(g.default.RewardPanel).getComponent(m.default).initAsset(o),u.label=4;case 4:return[3,7];case 5:n==e.length-1&&b.default.instance.setText(-1,"\u65e0\u6548\u7684\u5151\u6362\u7801"),u.label=6;case 6:return n++,[3,1];case 7:return[2]}})})},w.prototype.ClickOff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis()},w.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),y.default.getSdk().PlatformCallBack("BANNERCLOSE")},c([i(cc.Label)],w.prototype,"UserID",void 0),c([i(cc.Node)],w.prototype,"Content",void 0),c([i(cc.Node)],w.prototype,"biaoti",void 0),c([i(cc.Node)],w.prototype,"android",void 0),c([i(cc.Node)],w.prototype,"layout",void 0),c([i(cc.Sprite)],w.prototype,"bgm",void 0),c([i(cc.SpriteFrame)],w.prototype,"bgmSp",void 0),c([i(cc.Node)],w.prototype,"ball",void 0),c([i(cc.Node)],w.prototype,"service",void 0),c([i(cc.Node)],w.prototype,"privacy",void 0),c([i(cc.Node)],w.prototype,"CDKLayout",void 0),c([i(cc.EditBox)],w.prototype,"Editbox",void 0),a=c([a],w),r.default=a,cc._RF.pop()},{}],OreData:[function(t,e,n){"use strict";cc._RF.push(e,"59913V5fHJPqJ7HDk2fc1NW","OreData");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){},cc._RF.pop()},{}],OreShopDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"0ea11+mM2NGfag5Q6A9Dlo9","OreShopDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("OreData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/crystalShop",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/crystalShop")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).price=a.price,i.propID=a.propID,i.name=a.name,i.id=a.id,i.grop=a.grop,this.allDataList.push(i);return[2]}})})},v.prototype.getOreShopLen=function(){for(var t=[],e=0;e<this.allDataList.length;e++)(t.length<=0||-1==t.indexOf(this.allDataList[e].grop))&&t.push(this.allDataList[e].grop);return t},v.prototype.getGoodsByID=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},v.prototype.getGroupProp=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].grop==t&&e.push(this.allDataList[n]);return e},v.prototype.randomGoods=function(){for(var t=(t=this.getOreShopLen())[Math.floor(Math.random()*t.length)],e=this.getGroupProp(t),n=[],o=0;o<e.length;o++)n.push({goodsid:e[o].id,ishave:!0});d.default.setOreGoods(n)},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],OutputCoin:[function(t,e,n){"use strict";cc._RF.push(e,"286cdLCfJ9Hd6sb78XE5ee5","OutputCoin");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys"),p=a("GameTools");function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.label=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(f,s=cc.Component),f.prototype.init=function(t){var e=this;this.node.setPosition(cc.v2(0,0)),this.label.string="+"+p.default.refSetCoin(t),this.node.opacity=0,this.node.scale=0,cc.tween(this.node).by(.5,{opacity:255}).start(),cc.tween(this.node).by(2,{y:100}).start(),cc.tween(this.node).to(.3,{scale:1},{easing:cc.easeBackOut}).delay(1).to(.3,{opacity:0}).call(function(){u.default.OutputCoin.restor(e.node)}).start()},f.prototype.start=function(){},c([i(cc.Label)],f.prototype,"label",void 0),a=c([a],f),r.default=a,cc._RF.pop()},{}],PackItem:[function(t,e,n){"use strict";cc._RF.push(e,"7188aQackJP3Jq4S+afz7he","PackItem");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("PropDataManager"),f=i("SoundManager"),d=i("GameTools"),h=i("EquipMessage"),y=i("PanelConst"),v=i("UIManager");function g(){var t=null!==u&&u.apply(this,arguments)||this;return t.frame=null,t.icon=null,t.namelabel=null,t.have=null,t.packdata=null,t}i=(a=cc._decorator).ccclass,a.property,l(g,u=cc.Component),g.prototype.onLoad=function(){this.frame=this.node.getChildByName("frame").getComponent(cc.Sprite),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.namelabel=this.node.getChildByName("name").getComponent(cc.Label),this.have=this.node.getChildByName("have").getComponent(cc.Label)},g.prototype.start=function(){},g.prototype.init=function(t){return c(this,void 0,void 0,function(){var e,n,o;return s(this,function(a){switch(a.label){case 0:return this.packdata=t,this.namelabel.string=""+this.packdata.prop.name,this.namelabel.node.color=cc.color().fromHEX(p.default.Instance.GetLevelColor(this.packdata.prop.frame)),this.have.string="\xd7"+this.packdata.have,n="PropFrame/"+this.packdata.prop.frame,(e=d.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,2]:[4,d.default.loadImage("Bundle",n)];case 1:e=a.sent(),a.label=2;case 2:return this.frame.spriteFrame=e,n="PropIcon/"+this.packdata.prop.icon,(o=d.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,4]:[4,d.default.loadImage("Bundle",n)];case 3:o=a.sent(),a.label=4;case 4:return this.icon.spriteFrame=o,this.node.active=!t.prop.isOn,[2]}})})},g.prototype.ShowType=function(t){switch(t){case 0:this.node.active=!this.packdata.prop.isOn;break;case 1:this.node.active=2==this.packdata.prop.type;break;case 2:this.node.active=1==this.packdata.prop.type&&!this.packdata.prop.isOn;break;case 3:this.node.active=0==this.packdata.prop.type}},g.prototype.ClickShow=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return 1!=this.packdata.prop.type?[3,2]:(f.default.instance.play(f.Sound.Click),[4,v.default.Instance.ShowUI(y.default.EquipMessage)]);case 1:t.sent(),v.default.Instance.GetClass(y.default.EquipMessage).getComponent(h.default).init(this.packdata.prop),t.label=2;case 2:return[2]}})})},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],g),r.default=i,cc._RF.pop()},{}],PackPanel:[function(t,e,n){"use strict";cc._RF.push(e,"a3f22VhtrdE4YPv7EYfsjUD","PackPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u,p=a("PropDataManager"),f=a("SoundManager"),d=a("GameSys"),h=a("EventConst"),y=a("PackItem"),v=a("PanelConst"),g=a("UIBase"),m=a("UIManager");function b(){var t=null!==s&&s.apply(this,arguments)||this;return t.btnSpirte=[],t.scrollView=null,t.Content=null,t.allBtn=null,t.itemBtn=null,t.equipBtn=null,t.elixirBtn=null,t.PackContent=null,t.ClearBtn=null,t.pack=[],t.type=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,s=g.default),(u=b).prototype.onLoad=function(){(u.instance=this).Content=this.node.getChildByName("Content"),this.allBtn=this.Content.getChildByName("layout").getChildByName("all"),this.itemBtn=this.Content.getChildByName("layout").getChildByName("item"),this.equipBtn=this.Content.getChildByName("layout").getChildByName("equip"),this.elixirBtn=this.Content.getChildByName("layout").getChildByName("elixir"),this.PackContent=this.Content.getChildByName("pack").getChildByName("ScrollView").getChildByName("view").getChildByName("content"),cc.systemEvent.on(h.EventConst.ClearPack,this.initPack,this)},b.prototype.onEnable=function(){var t=this;s.prototype.onEnable.call(this),setTimeout(function(){t.initPack()},200)},b.prototype.initPack=function(){this.pack=[];for(var t=0;t<4;t++)this.initPackSplit(t);if(this.PackContent.childrenCount<this.pack.length){var e=this.PackContent.childrenCount;for(t=0;t<this.pack.length;t++)(t<e?this.PackContent.children[t]:this.CreatorPackItem()).getComponent(y.default).init(this.pack[t])}else for(t=0;t<this.PackContent.childrenCount;t++)t<this.pack.length?this.PackContent.children[t].getComponent(y.default).init(this.pack[t]):this.PackContent.children[t].active=!1;this.initScrollView()},b.prototype.initPackSplit=function(t){for(var e,n=p.default.Instance.GetPackPropType(t),o=[],a=0;a<n.length;a++){var i=n[a].have;o.push({prop:n[a].prop,have:i})}for(a=0;a<o.length;a++)for(var r=a;r<o.length;r++)o[r].prop.goodsid<o[a].prop.goodsid&&(e=o[a],o[a]=o[r],o[r]=e);for(a=0;a<o.length;a++)this.pack.push(o[a])},b.prototype.CreatorPackItem=function(){var t=d.default.packitem.get();return t.setParent(this.PackContent),t},b.prototype.start=function(){},b.prototype.initAll=function(){this.allBtn.getComponent(cc.Sprite).spriteFrame=this.btnSpirte[0];for(var t=0;t<this.PackContent.childrenCount;t++)this.PackContent.children[t].getComponent(y.default).ShowType(0)},b.prototype.initItem=function(){this.itemBtn.getComponent(cc.Sprite).spriteFrame=this.btnSpirte[0];for(var t=0;t<this.PackContent.childrenCount;t++)this.PackContent.children[t].getComponent(y.default).ShowType(1)},b.prototype.initEquip=function(){this.equipBtn.getComponent(cc.Sprite).spriteFrame=this.btnSpirte[0];for(var t=0;t<this.PackContent.childrenCount;t++)this.PackContent.children[t].getComponent(y.default).ShowType(2)},b.prototype.initDrug=function(){this.elixirBtn.getComponent(cc.Sprite).spriteFrame=this.btnSpirte[0];for(var t=0;t<this.PackContent.childrenCount;t++)this.PackContent.children[t].getComponent(y.default).ShowType(3)},b.prototype.ClickBtn=function(t,e){switch(f.default.instance.play(f.Sound.Click),e=parseInt(e),this.allBtn.getComponent(cc.Sprite).spriteFrame=this.btnSpirte[1],this.itemBtn.getComponent(cc.Sprite).spriteFrame=this.btnSpirte[1],this.equipBtn.getComponent(cc.Sprite).spriteFrame=this.btnSpirte[1],this.elixirBtn.getComponent(cc.Sprite).spriteFrame=this.btnSpirte[1],e){case 1:this.ClearBtn.active=!0,this.type=0,this.initAll();break;case 2:this.ClearBtn.active=!1,this.type=1,this.initItem();break;case 3:this.ClearBtn.active=!1,this.type=2,this.initEquip();break;case 4:this.ClearBtn.active=!1,this.type=3,this.initDrug()}},b.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis()},b.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),m.default.Instance.ShowInter()},b.prototype.ClickClear=function(){f.default.instance.play(f.Sound.Click),m.default.Instance.ShowUI(v.default.ClearPanel)},b.prototype.initScrollView=function(){for(var t=this.scrollView.content,e=0;e<t.childrenCount;e++)for(var n=t.children[e],o=n.convertToWorldSpaceAR(cc.Vec2.ZERO),a=this.scrollView.node.convertToNodeSpaceAR(o),i=-this.scrollView.node.height/2-n.height,r=(o=this.scrollView.node.height/2+n.height,a.y>i&&a.y<o),l=n.getComponentsInChildren(cc.RenderComponent),c=0;c<l.length;c++)l[c].enabled=r},b.instance=null,c([i(cc.SpriteFrame)],b.prototype,"btnSpirte",void 0),c([i(cc.ScrollView)],b.prototype,"scrollView",void 0),c([i(cc.Node)],b.prototype,"ClearBtn",void 0),a=u=c([a],b),r.default=a,cc._RF.pop()},{}],PanelConst:[function(t,e,n){"use strict";cc._RF.push(e,"1e738YSjzJBnYscJdXiyXd+","PanelConst");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;function r(){}o=i.ccclass,i.property,r.LOADING_PANEL="LoadingPanel",r.REALM_PANEL="RealmPanel",r.ARTIFACTS="ArtifactsPanel",r.PET_PANEL="PetPanel",r.ALCHEMY_PANEL="AlchemyPanel",r.PACK_PANEL="PackPanel",r.INTENSIFY_PANEL="IntensifyPanel",r.DISCIPLE_PANEL="DisciplePanel",r.TASK_PANEL="TaskPanel",r.DETAILS_PANEL="DetailsPanel",r.MESSAGE_PANEL="MessagePanel",r.NEWRESULT_PANEL="NewresultPanel",r.ChallengeLose="ChallengeLose",r.DisasterPanel="DisasterPanel",r.Sect="Sect",r.UnlockSys="UnlockSys",r.UnlockDisciple="UnlockDisciple",r.TrialsPanel="TrialsPanel",r.ShopPanel="ShopPanel",r.RewardPanel="RewardPanel",r.BuidleUpPanel="BuidleUpPanel",r.EquipPanel="EquipPanel",r.ReincarnPanel="ReincarnPanel",r.RoamPanel="RoamPanel",r.MapsPanel="MapsPanel",r.OffLinePanel="OffLinePanel",r.RealmAddPanel="RealmAddPanel",r.ShowNewEquip="ShowNewEquip",r.IllusionPanel="IllusionPanel",r.GiveUpPanel="GiveUpPanel",r.RoamChallenge="RoamChallenge",r.RoamReward="RoamReward",r.RoamNewLine="RoamNewLine",r.UnlockNewArtifacts="UnlockNewArtifacts",r.ReincarnSp="ReincarnSp",r.OptionsPanel="OptionsPanel",r.EquipMessage="EquipMessage",r.TalkPanel="TalkPanel",r.TeachPanel="TeachPanel",r.CartoonPanel="CartoonPanel",r.StartGame="StartGame",r.FreeCoin="FreeCoin",r.FreeJewel="FreeJewel",r.ShareRecorder="ShareRecorder",r.UnlockPet="UnlockPet",r.DevilPanel="DevilPanel",r.DoublePanel="DoublePanel",r.SignPanel="SignPanel",r.OnlinePanel="OnlinePanel",r.ForewordPanel="ForewordPanel",r.Soaring="Soaring",r.RefBox="RefBox",r.FreeBox="FreeBox",r.saveAppToDesktop="saveAppToDesktop",r.addColorSign="addColorSign",r.qqsaveAppToDesktop="qqsaveAppToDesktop",r.qqaddColorSign="qqaddColorSign",r.qqsubScribeMsg="qqsubScribeMsg",r.qqaddMy="qqaddMy",r.qqActivity="qqActivity",r.SevenMoney="SevenMoney",r.SkipUp="SkipUp",r.QualityUp="QualityUp",r.OnceSubScribeMsg="OnceSubScribeMsg",r.EggPanel="EggPanel",r.Privacy="Privacy",r.RankPanel="RankPanel",r.FriendHelpPanel="FriendHelpPanel",r.JBGPanel="JBGPanel",r.SWPanel="SWPanel",r.ClearPanel="ClearPanel",r.WxAnnouncement="WxAnnouncement",r.CrystalBoxPanel="CrystalBoxPanel",r.DiscipleUpPanel="DiscipleUpPanel",r.SmelterPanel="SmelterPanel",r.WxErrorTouch="WxErrorTouch",o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],r),a.default=o,cc._RF.pop()},{}],PathArea_45Angle:[function(t,e,n){"use strict";cc._RF.push(e,"462d0fE4NlDKpAzq3/DHInV","PathArea_45Angle");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameTools"),p=a("PathFind");function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.mapData=new Array,t.pointSize=new cc.Size(30,15),t.curTileMap=null,t.curCamera=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(f,s=cc.Component),f.prototype.onLoad=function(){this.curTileMap=this.node.getComponentInChildren(cc.TiledMap),this.InitArea(),this.pointBord=Math.sqrt(5)*this.pointSize.height/2},f.prototype.InitArea=function(){var t=this.curTileMap.getLayer("path"),e=this.curTileMap.getMapSize();this.mapData=u.default.GetTwoArray(e.height,e.width,0);for(var n=0;n<e.height;n++)for(var o=0;o<e.width;o++)this.IsPathAtPoint(t,o,n)&&(this.mapData[n][o]=1);console.log("mapData:",this.mapData),this.curTileMap.node.active=!1},f.prototype.IsPathAtPoint=function(t,e,n){var o=!1;try{this.curTileMap.getPropertiesForGID(t.getTileGIDAt(e,n)).path_bool&&(o=!0)}catch(t){}return o},f.prototype.GetPathPointByNode=function(t){return t=u.default.ConvertTargetToCurLocal(t,this.node),this.GetPathPointByLocalPos(t)},f.prototype.GetIsObstacleByPosNode=function(t,e){var n=u.default.ConvertTargetPointToCoor(t,e,this.node);return(n=this.GetPathPointByLocalPos(n)).y>=this.mapData.length||n.x>=this.mapData[0].length?(console.log("\u8be5\u70b9\u4e0d\u5728\u5730\u56fe\u4e0a\uff01\uff01\uff01\uff01\uff1a",t,e),!0):0==this.mapData[n.y][n.x]},f.prototype.GetPathPointByLocalPos=function(t){var e=this.pointSize.height/this.pointSize.width,n=t.x,o=t.y,a=new cc.Vec2((e*n-o)/(2*e),(o-e*n)/2);return 0<a.y?cc.v2(99999,99999):(t=Math.pow(a.x,2),a=Math.pow(a.y,2),a=Math.sqrt(t+a),0<(n=new cc.Vec2((e*n+o)/(2*e),(e*n+o)/2)).y?cc.v2(99999,99999):(o=Math.pow(n.x,2),n=Math.pow(n.y,2),n=Math.sqrt(o+n),a=(a/=this.pointBord)==this.mapData[0].length?a-1:Math.floor(a),(n=(n/=this.pointBord)==this.mapData.length?n-1:Math.floor(n))>=this.mapData.length||a>=this.mapData[0].length?cc.v2(99999,99999):new cc.Vec2(a,n)))},f.prototype.GetPathPointByStartEndNode=function(t,e,n){void 0===n&&(n=null);var o=this.GetPathPointByNode(t),a=this.GetPathPointByNode(e),i=new Array,r=p.default.search(this.mapData,o,a);if(n=null==n?t.parent:n,r)for(var l=r.length,c=1;c<l-1;c++){var s=r[c];s=this.GetLocalPosByIndex(s.y,s.x),s=this.node.convertToWorldSpaceAR(s),s=n.convertToNodeSpaceAR(s),i.push(s)}else console.log("\u5bfb\u8def\u6ca1\u6709\u627e\u5230\u8def\u5f84 \u53ef\u80fd\u6ca1\u6709\u53ef\u8d70\u7684\u8def\u5f84 \u6709\u53ef\u80fd\u662f\u8d77\u70b9\u7ec8\u70b9\u4f4d\u7f6e\u4e00\u6837\u4e86 \u6216\u8005\u4f4d\u7f6e\u4e0d\u5728\u5730\u56fe\u4e0a \u8fd9\u91cc\u903b\u8f91\u662f\u4f1a\u76f4\u63a5\u8d70\u5411\u76ee\u6807\u70b9"),console.log("startPos : ",o),console.log("endPos : ",a);return e=u.default.ConvertTargetToCurLocal(e,n),i.push(e),i},f.prototype.GetPathPointByStartTilPos=function(t,e,n){void 0===n&&(n=null);var o=this.GetPathPointByNode(t),a=new Array,i=p.default.search(this.mapData,o,e);if(n=null==n?t.parent:n,i)for(var r=i.length,l=1;l<r-1;l++){var c=i[l];c=this.GetLocalPosByIndex(c.y,c.x),c=this.node.convertToWorldSpaceAR(c),c=n.convertToNodeSpaceAR(c),a.push(c)}else console.log("\u5bfb\u8def\u6ca1\u6709\u627e\u5230\u8def\u5f84 \u53ef\u80fd\u6ca1\u6709\u53ef\u8d70\u7684\u8def\u5f84 \u6709\u53ef\u80fd\u662f\u8d77\u70b9\u7ec8\u70b9\u4f4d\u7f6e\u4e00\u6837\u4e86 \u6216\u8005\u4f4d\u7f6e\u4e0d\u5728\u5730\u56fe\u4e0a \u8fd9\u91cc\u903b\u8f91\u662f\u4f1a\u76f4\u63a5\u8d70\u5411\u76ee\u6807\u70b9"),console.log("startPos : ",o),console.log("endPos : ",e);return e=this.GetLocalPosByIndex(e.y,e.x),e=u.default.ConvertTargetPointToCoor(e,this.node,n),a.push(e),a},f.prototype.GetRandomPath=function(t,e){void 0===e&&(e=null);for(var n=this.mapData.length,o=this.mapData[0].length,a=new Array,i=0;i<n;i++)for(var r=0;r<o;r++)0!=this.mapData[i][r]&&a.push({x:i,y:r});var l=a.length;return 0<l?(l=a[Math.floor(Math.random()*l)],this.GetPathPointByStartTilPos(t,cc.v2(l.y,l.x),e)):new Array(u.default.ConvertTargetToCurLocal(t,e))},f.prototype.GetPathPointByStartNodeEndScreen=function(t,e,n){void 0===n&&(n=null);var o=this.GetPathPointByNode(t),a=u.default.ConvertScreenPosToCoor(e,this.node,this.curCamera),i=(e=this.GetPathPointByLocalPos(a),new Array),r=p.default.search(this.mapData,o,e);if(n=null==n?t.parent:n,r){for(var l=r.length,c=1;c<l-1;c++){var s=r[c];s=this.GetLocalPosByIndex(s.y,s.x),s=this.node.convertToWorldSpaceAR(s),s=n.convertToNodeSpaceAR(s),i.push(s)}a=u.default.ConvertTargetPointToCoor(a,this.node,n),i.push(a)}else console.log("\u5bfb\u8def\u6ca1\u6709\u627e\u5230\u8def\u5f84 \u53ef\u80fd\u6ca1\u6709\u53ef\u8d70\u7684\u8def\u5f84 \u6216\u8005\u8d77\u70b9\u7ec8\u70b9\u4f4d\u7f6e\u4e00\u6837\u4e86 \u6216\u8005\u4f4d\u7f6e\u4e0d\u5728\u5730\u56fe\u4e0a \u8fd9\u91cc\u903b\u8f91\u662f\u5728\u539f\u5730"),console.log("startPos : ",o),console.log("endPos : ",e),i.push(u.default.ConvertTargetToCurLocal(t,n));return i},f.prototype.GetLocalPosByIndex=function(t,e){var n=(e-t)*this.pointSize.width/2;return e=-(t+e+1)*this.pointSize.height/2,cc.v2(n,e)},c([i({type:cc.Camera,displayName:"\u76f8\u673a"})],f.prototype,"curCamera",void 0),a=c([a],f),r.default=a,cc._RF.pop()},{}],PathFind:[function(t,e,n){"use strict";cc._RF.push(e,"0455eRFb11DU53dzeDNyydO","PathFind");var o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=(Object.defineProperty(l.prototype,"F",{get:function(){return this.G+this.H},enumerable:!1,configurable:!0}),l),i=(r.search=function(t,e,n){return this.search0(t,new a(e.x,e.y),new a(n.x,n.y))},r.search0=function(t,e,n){var o=0,i=[],l=[],c=[[0,-1],[1,0],[0,1],[-1,0],[-1,1],[1,1],[1,-1],[-1,-1]];i.push(e);for(var s=t.length,u=t[0].length;0<i.length&&!(1e4<++o);){var p=this.findLowerFPointIndex(i),f=i[p];i.splice(p,1),l.push(f);for(var d=0;d<c.length;d++){var h=function(e){e=c[e];var o=f.x+e[0],p=f.y+e[1];if(o<0||u<=o||p<0||s<=p)return"continue";if(0==t[p][o])return"continue";if(l.some(function(t){return o==t.x&&p==t.y}))return"continue";var d=-1;if(i.some(function(t,e){return o==t.x&&p==t.y&&(d=e,!0)}))(h=1==Math.abs(e[0])&&1==Math.abs(e[1])?f.G+1.41*t[p][o]:f.G+t[p][o])<i[d].G&&(i[d].G=h,i[d].parent=f);else{var h=new a(o,p);if(h.parent=f,1==Math.abs(e[0])&&1==Math.abs(e[1])?h.G=f.G+1.41*t[p][o]:h.G=f.G+t[p][o],h.H=Math.abs(o-n.x)+Math.abs(p-n.y),i.push(h),o==n.x&&p==n.y)return{value:r.findPath(h)}}}(d);if("object"==typeof h)return h.value}}},r.findLowerFPointIndex=function(t){for(var e=0,n=0,o=0;o<t.length;o++){var a=t[o];(a.F<e||0==e)&&(e=a.F,n=o)}return n},r.findPath=function(t){for(var e=[];e.push(cc.v2(t.x,t.y)),null!=(t=t.parent););return e.reverse()},r.test=function(){var t=new cc.Vec2(1,1),e=new cc.Vec2(1,23);(e=r.search([[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,0,0],[0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,9,0],[0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,9,0],[0,9,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,9,0],[0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,1,1,9,9,0],[0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,1,1,1,1,1,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,9,9,9,9,0],[0,9,0,0,0,0,0,0,9,9,9,9,9,9,9,9,1,9,9,9,9,9,9,9,0],[0,9,0,9,9,9,9,0,9,9,9,9,9,9,9,9,1,9,9,9,9,9,9,9,0],[0,9,0,9,9,9,9,0,9,9,9,9,9,9,9,9,1,9,9,9,9,9,9,9,0],[0,9,0,9,0,9,9,0,9,9,9,9,9,9,1,1,1,9,9,9,9,9,9,9,0],[0,9,9,9,0,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,9,9,9,0,0,0,0,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,9,0],[0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,9,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],t,e))&&console.log("path !!!!:",e)},r);function r(){}function l(t,e){this.x=0,this.y=0,this.G=0,this.H=0,this.x=t,this.y=e}o.default=i,cc._RF.pop()},{}],PersistCure:[function(t,e,n){"use strict";cc._RF.push(e,"64c2cV4XaJBsbwGIc8+v0Km","PersistCure");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.count=0,t.time=0,t.master=null,t.cure=0,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e){this.master=t,this.count=0,this.time=1,this.cure=e},p.prototype.start=function(){},p.prototype.Cure=function(){this.count++,this.master.Cure(this.cure),4<=this.count&&u.default.PersistCure.restor(this.node)},p.prototype.update=function(t){s.default.instance.state!=s.FightState.ready?0<this.time&&this.count<4&&(this.time-=t*u.default.speed,this.time<=0&&(this.Cure(),this.time=1)):u.default.PersistCure.restor(this.node)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],PetDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"d9008jS5NBApJ84YxHTpHvK","PetDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TeamerData"),d=i("GameSys"),h=i("GameTools"),y=i("ArtifactsDataManager"),v=i("IntensifyDataManager"),g=i("RealmDataManager"),m=i("SingleBase"),b=i("SystemDataManager");function C(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(C,u=m.default),(p=C).prototype.onLoad=function(){p.Instance=this},C.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/PetData",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/PetData")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=0,i.name=a.name,i.level=a.level,i.realm=a.realm,i.hp=a.hp,i.atk=a.atk,i.interval=a.speed,i.atkSpeed=i.interval/60,i.hit=a.hit,i.dodge=a.dodge,i.crit=a.crit,i.maxmp=100,i.type="\u8fdc\u7a0b",i.maxhp=a.hp,i.needexp=a.needcoin,i.initiative_info=a.initiative_info,i.initiative=a.initiative,i.initiative_cd=a.initiative_cd,i.passivity_info=a.passivity_info,i.passivity=a.passivity,i.spine=a.spine,i.initiative_rel=a.release,i.head=a.head,this.allDataList.push(i);return[2]}})})},C.prototype.GetFightNum=function(t){return void 0===t&&(t=d.default.getPetIndex()-1),b.default.Instance.isUnlcok(4)?3*(.1*(t=this.GetRole(t)).hp+t.interval*t.atk/60*.6):0},C.prototype.GetBasicRole=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e]},C.prototype.GetRole=function(t){var e=10*(t=void 0===t?d.default.getPetIndex()-1:t)+d.default.getPetLevel()[t];return e={id:(t=this.GetBasicRole(e)).id,level:t.level,realm:t.realm,hp:t.hp,atk:t.atk,interval:t.interval,atkSpeed:t.atkSpeed,hit:t.hit,dodge:t.dodge,crit:t.crit,maxhp:t.maxhp,maxmp:t.maxmp,name:t.name,injured_anger:t.injured_anger,Shot_anger:t.Shot_anger,type:t.type,skillType:t.skillType,skillResult:t.skillResult,needexp:t.needexp,initiative_info:t.initiative_info,initiative:t.initiative,initiative_cd:t.initiative_cd,passivity_info:t.passivity_info,passivity:t.passivity,spine:t.spine,head:t.head,initiative_rel:t.initiative_rel,time_anger:t.time_anger},t=this.GetAddAtk(),e.atk*=t,t=this.GetAddHp(),e.hp*=t,e.maxhp=e.hp,t=this.GetAddCrit(),e.crit+=t,t=this.GetAddHit(),e.hit+=t,t=this.GetAddDodge(),e.dodge+=t,e},C.prototype.GetNextRole=function(t){var e=10*(t=void 0===t?d.default.getPetIndex()-1:t)+(10<=d.default.getPetLevel()[t]?10:d.default.getPetLevel()[t]+1);return e={id:(t=this.GetBasicRole(e)).id,level:t.level,realm:t.realm,hp:t.hp,atk:t.atk,interval:t.interval,atkSpeed:t.atkSpeed,hit:t.hit,dodge:t.dodge,crit:t.crit,maxhp:t.maxhp,maxmp:t.maxmp,name:t.name,injured_anger:t.injured_anger,Shot_anger:t.Shot_anger,type:t.type,skillType:t.skillType,skillResult:t.skillResult,needexp:t.needexp,initiative_info:t.initiative_info,initiative:t.initiative,initiative_cd:t.initiative_cd,passivity_info:t.passivity_info,passivity:t.passivity,spine:t.spine,head:t.head,initiative_rel:t.initiative_rel,time_anger:t.time_anger},t=this.GetAddAtk(),e.atk*=t,t=this.GetAddHp(),e.hp*=t,e.maxhp=e.hp,t=this.GetAddCrit(),e.crit+=t,t=this.GetAddHit(),e.hit+=t,t=this.GetAddDodge(),e.dodge+=t,e},C.prototype.GetMaxExp=function(t){for(var e=10*(t=void 0===t?d.default.getPetIndex()-1:t)+10,n=0,o=10*t;o<e-1;o++)n+=this.allDataList[o].needexp;return n},C.prototype.IsUnlockSkill=function(){return!0},C.prototype.GetUpExp=function(t){return void 0===t&&(t=d.default.getPetIndex()-1),this.GetRole(t).needexp},C.prototype.GetLevelUpExp=function(t,e){return this.GetBasicRole(10*t+e).needexp},C.prototype.GetAddAtk=function(){return(1+(null!=v.default.Instance.GetAddAtk()?v.default.Instance.GetAddAtk():0))*(null!=g.default.Instance.GetAddAtk()?g.default.Instance.GetAddAtk():1)},C.prototype.GetAddHp=function(){return(1+(null!=v.default.Instance.GetAddHp()?v.default.Instance.GetAddAtk():0))*(null!=g.default.Instance.GetAddHp()?g.default.Instance.GetAddHp():1)},C.prototype.GetAddCrit=function(){return y.default.Instance.GetAddCrit()+(null!=g.default.Instance.GetAddCrit()?g.default.Instance.GetAddCrit():0)},C.prototype.GetAddHit=function(){return y.default.Instance.GetAddHit()+(null!=g.default.Instance.GetAddHit()?g.default.Instance.GetAddHit():0)},C.prototype.GetAddDodge=function(){return y.default.Instance.GetAddDodge()+(null!=g.default.Instance.GetAddDodge()?g.default.Instance.GetAddDodge():0)},C.prototype.GetPetid=function(){var t,e=0;return b.default.Instance.isUnlcok(4)?(t=d.default.getPetIndex()-1,t=Math.ceil(d.default.getPetLevel()[t]/10)):e=-1,e},C.prototype.GetLevel=function(t){void 0===t&&(t=d.default.getPetIndex()-1);for(var e=d.default.getPetExp()[t],n=10*t,o=n;o<this.allDataList.length;o++){for(var a=0,i=n;i<=o;i++)a+=this.allDataList[i].needexp;if(e<a)return this.allDataList[o].level-n;if(o>=this.allDataList.length-1)return 10}},C.prototype.ExpToLevel=function(t,e){for(var n=10*t,o=n;o<this.allDataList.length;o++){for(var a=0,i=n;i<=o;i++)a+=this.allDataList[i].needexp;if(e<=a)return this.allDataList[o].level;if(o>=this.allDataList.length-1)return 10}},C.prototype.ShowExp=function(t,e,n){for(var o=n||10*t+d.default.getPetLevel()[t],a=10*t;a<o-1;a++)e-=this.allDataList[a].needexp;return e},C.prototype.GetName=function(t){return["\u5c16\u53eb\u9f20","\u8d35\u5987doge","\u667a\u969c\u4e8c\u54c8","\u593a\u7b0b\u718a\u732b","\u7f8a\u9a7c","\u52c7\u6562\u725b\u599e","\u83dc\u865a\u9cb2","\u5927\u4f6c\u732b","\u808c\u8089\u67f4\u72ac","\u808c\u8089\u9ca8","\u62d4\u5200\u72d7","\u849c\u5934\u738b\u516b","\u83dc\u72d7","\u777f\u667a\u732b","\u8bd5\u63a2\u9e1f","\u8fbe\u54a9","\u6ce2\u6ce2","\u4e0d\u5bf9\u52b2","\u7535\u8017\u5b50","\u85cf\u72d0"][t]},C.prototype.CanMaxIndex=function(){for(var t=1,e=0;e<d.default.getPetLevel().length;e++)10<=d.default.getPetLevel()[e]&&t++;return 20<=t?20:t},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],C),r.default=i,cc._RF.pop()},{}],PetData:[function(t,e,n){"use strict";cc._RF.push(e,"edcd1i4vyxEqbFPhgAmQiGr","PetData");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("TeamerData");function u(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(u,c=s.default),i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],u),r.default=i,cc._RF.pop()},{}],PetPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bb5577q9g9BN5YhdfupZJ9D","PetPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("DrugDataManager"),h=a("HeroDataManager"),y=a("IntensifyDataManager"),v=a("PetDataManager"),g=a("PropDataManager"),m=a("SoundManager"),b=a("SystemDataManager"),C=a("GameSys"),S=a("GameTools"),w=a("PanelConst"),k=a("TipGroup"),_=a("UIBase"),P=a("UIManager");function O(){var t=null!==p&&p.apply(this,arguments)||this;return t.Teacher=null,t.Sp=null,t.starContent=null,t.rightRed=null,t.Content=null,t.Name=null,t.FightNum=null,t.Icon=null,t.iconSp=null,t.Level=null,t.Role=null,t.nextRole=null,t.arrows=null,t.Message=null,t.initiative=null,t.passivity=null,t.expPro=null,t.expNum=null,t.drugContent=null,t.onBtn=null,t.edBtn=null,t.leftBtn=null,t.rightBtn=null,t.goAlchemyRed=null,t.drugRed=null,t.hp=null,t.atk=null,t.exp=0,t.addexp=0,t.maxadd=0,t.maxexp=0,t.level=0,t.index=1,t}a=(i=cc._decorator).ccclass,i=i.property,l(O,p=_.default),O.prototype.onLoad=function(){this.Content=this.node.getChildByName("Content"),this.Name=this.Content.getChildByName("name").getComponent(cc.Label),this.FightNum=this.Content.getChildByName("fight").getChildByName("fightnum").getComponent(cc.Label),this.Level=this.Content.getChildByName("level").getComponent(cc.Label),this.Message=this.Content.getChildByName("message"),this.Role=this.Message.getChildByName("nowrole").getComponent(cc.Label),this.nextRole=this.Message.getChildByName("nextrole").getComponent(cc.Label),this.initiative=this.Message.getChildByName("initiative").getComponent(cc.Label),this.passivity=this.Message.getChildByName("passivity").getComponent(cc.Label),this.arrows=this.Message.getChildByName("jiantou"),this.expNum=this.Content.getChildByName("Exp").getChildByName("exp").getComponent(cc.Label),this.expPro=this.Content.getChildByName("Exp").getChildByName("ExpProgress").getComponent(cc.Sprite),this.drugContent=this.Content.getChildByName("DrugContent").getChildByName("ScrollView").getChildByName("view").getChildByName("content"),this.hp=this.Content.getChildByName("details").getChildByName("hp").getComponent(cc.Label),this.atk=this.Content.getChildByName("details").getChildByName("atk").getComponent(cc.Label),this.goAlchemyRed=this.Content.getChildByName("alchemyRed"),this.drugRed=this.Content.getChildByName("drugRed"),this.onBtn=this.Content.getChildByName("on"),this.edBtn=this.Content.getChildByName("ed"),this.leftBtn=this.Content.getChildByName("left"),this.rightBtn=this.Content.getChildByName("right")},O.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.init(),this.initPet(),4==f.default.instance.teacherid?this.ShowTeacher():this.HideTeacher()},O.prototype.init=function(){this.index=C.default.getPetIndex(),this.exp=C.default.getPetExp()[this.index-1],this.addexp=0,this.maxadd=0,this.level=C.default.getPetLevel()[this.index-1],this.maxexp=v.default.Instance.GetUpExp(this.index-1)},O.prototype.start=function(){var t=this;cc.director.getScheduler().schedule(function(){var e=Math.random()<.5?"idle2":"idle3";t.iconSp.setAnimation(0,e,!1),t.iconSp.setCompleteListener(function(){t.iconSp.animation==e&&t.iconSp.setAnimation(0,"idle1",!0)})},this,10)},O.prototype.initPet=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c;return u(this,function(s){switch(s.label){case 0:return this.Message.active=!1,t=v.default.Instance.GetRole(this.index-1),e=v.default.Instance.GetNextRole(this.index-1),n=v.default.Instance.GetFightNum(this.index-1),this.FightNum.string=S.default.refSetCoin(n),this.Name.string=v.default.Instance.GetName(this.index-1),r="Pet/"+this.index,(n=S.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,2]:[4,S.default.loadImage("Bundle",r)];case 1:n=s.sent(),s.label=2;case 2:for(this.Icon.spriteFrame=n,this.Level.string=10==C.default.getPetLevel()[this.index-1]?"\u5df2\u6ee1\u7ea7":"Lv."+C.default.getPetLevel()[this.index-1],this.Role.string="\u8840\uff1a"+S.default.refSetCoin(t.hp)+"\n\u653b: "+S.default.refSetCoin(t.atk)+"\n\u654f: "+S.default.refSetCoin(t.interval)+"\n\u653b\u901f: "+t.atkSpeed.toFixed(2)+"\u79d2\n\u547d\u4e2d:"+t.hit+"%\n\u56de\u907f:"+t.dodge+"%\n\u66b4\u51fb:"+t.crit+"%",this.hp.string="\u8840: "+S.default.refSetCoin(t.hp),this.atk.string="\u653b: "+S.default.refSetCoin(t.atk),this.nextRole.string=S.default.refSetCoin(e.hp)+"\n"+S.default.refSetCoin(e.atk)+"\n"+S.default.refSetCoin(e.interval)+"\n"+e.atkSpeed.toFixed(2)+"\u79d2\n"+e.hit+"%\n"+e.dodge+"%\n"+e.crit+"%",this.arrows.children[0].active=e.hp>t.hp,this.arrows.children[1].active=e.atk>t.atk,this.arrows.children[2].active=e.interval>t.interval,this.arrows.children[3].active=e.atkSpeed>t.atkSpeed,this.arrows.children[4].active=e.hit>t.hit,this.arrows.children[5].active=e.dodge>t.dodge,this.arrows.children[6].active=e.crit>t.crit,this.initiative.string=""+t.initiative_info,this.passivity.string=""+t.passivity_info,o=g.default.Instance.GetPackPropType(0),l=0;l<this.drugContent.childrenCount;l++){for(i=a=0;i<o.length;i++)o[i].prop.goodsid==l+1&&(a=o[i].have);this.drugContent.children[l].getChildByName("num").getComponent(cc.Label).string="\xd7"+S.default.refSetCoin(a)}for(r=v.default.Instance.CanMaxIndex(),console.log("\u6700\u5927\u5ba0\u7269id:",r,"\u5ba0\u7269\u7b49\u7ea7\u4fe1\u606f:",C.default.getPetLevel()),this.index<r?this.rightBtn.active=!0:this.index>=r&&(this.rightBtn.active=!1),this.onBtn.active=this.index!=C.default.getPetIndex(),this.edBtn.active=this.index==C.default.getPetIndex(),1<this.index?this.leftBtn.active=!0:this.leftBtn.active=!1,l=0;l<this.starContent.childrenCount;l++)c=C.default.getPetLevel()[this.index-1],this.starContent.children[l].getComponent(cc.Sprite).fillRange=l<c?1:0;return[2]}})})},O.prototype.ClickUp=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p;return u(this,function(u){switch(u.label){case 0:return m.default.instance.play(m.Sound.Click),10<=C.default.getPetLevel()[this.index-1]?(k.default.instance.setText(-1,"\u5df2\u8fbe\u5230\u6700\u5927\u7b49\u7ea7"),[2]):g.default.Instance.GetPackPropType(0).length<=0?(k.default.instance.setText(-1,"\u6ca1\u6709\u4e39\u836f\u4e86"),[2]):(t=v.default.Instance.CanMaxIndex(),[4,h.default.Instance.GetMaxFight()]);case 1:p=u.sent(),e=!0;do{for(n=g.default.Instance.GetPackPropType(0),o=0;o<n.length;o++)if(0<n[o].have)for(a=0;a<n[o].have;a++)if(i=C.default.getPetLevel()[this.index-1],r=d.default.Instance.GetDrug(n[o].prop.id),l=v.default.Instance.GetMaxExp(this.index-1),(c=C.default.getPetExp()[this.index-1])+r.num<=l?(this.maxadd+=r.num,C.default.setPetExp(this.index-1,r.num)):(s=l-c,this.maxadd+=s,C.default.setPetExp(this.index-1,s)),g.default.Instance.subPackProp(n[o].prop.id,1),(s=v.default.Instance.GetLevel(this.index-1))>i&&(console.log("\u5347\u7ea7\u4e86"),C.default.setPetLevel(this.index-1,s)),10<=s){e=!1;break}}while(e=!(n.length<=0)&&e);return this.initPet(),f.default.instance.MaxFightChange(p),(p=v.default.Instance.CanMaxIndex())>t&&(C.default.setPetIndex(p),this.index=p,this.init(),this.initPet(),P.default.Instance.ShowUI(w.default.UnlockPet)),4==f.default.instance.teacherid&&(this.HideTeacher(),f.default.instance.teacherid=0),[2]}})})},O.prototype.ClickDrug=function(t,e){return s(this,void 0,void 0,function(){var t,n,o,a,i,r,l;return u(this,function(){return m.default.instance.play(m.Sound.Click),l=parseInt(e),i=g.default.Instance.GetPackProp(l+1),t=v.default.Instance.CanMaxIndex(),10<=C.default.getPetLevel()[this.index-1]?k.default.instance.setText(-1,"\u5df2\u8fbe\u5230\u6700\u5927\u7b49\u7ea7"):i.have<=0?k.default.instance.setText(-1,"\u4e39\u836f\u4e0d\u8db3"):(n=d.default.Instance.GetDrug(l+1),this.CreatorDanMadicine(l),o=v.default.Instance.GetLevel(this.index-1),a=v.default.Instance.GetMaxExp(this.index-1),(i=C.default.getPetExp()[this.index-1])+n.num<=a?(this.maxadd+=n.num,C.default.setPetExp(this.index-1,n.num)):(r=a-i,this.maxadd+=r,C.default.setPetExp(this.index-1,r)),(r=v.default.Instance.GetLevel(this.index-1))>o&&C.default.setPetLevel(this.index-1,r),this.maxadd+=n.num,g.default.Instance.subPackProp(l+1,1),this.initPet(),(l=v.default.Instance.CanMaxIndex())>t&&(C.default.setPetIndex(l),this.index=l,this.init(),this.initPet(),P.default.Instance.ShowUI(w.default.UnlockPet))),[2]})})},O.prototype.ClickRight=function(){m.default.instance.play(m.Sound.Click);var t=v.default.Instance.CanMaxIndex();this.index++,this.index>=t&&(this.index=t),this.rightRed.active=!1,this.exp=C.default.getPetExp()[this.index-1],this.addexp=0,this.maxadd=0,this.level=C.default.getPetLevel()[this.index-1],this.maxexp=v.default.Instance.GetUpExp(this.index-1),this.initPet()},O.prototype.ClickLeft=function(){m.default.instance.play(m.Sound.Click),this.index--,this.index<=1&&(this.index=1),this.exp=C.default.getPetExp()[this.index-1],this.addexp=0,this.maxadd=0,this.level=C.default.getPetLevel()[this.index-1],this.maxexp=v.default.Instance.GetUpExp(this.index-1),this.initPet()},O.prototype.ClickShowIllusion=function(){m.default.instance.play(m.Sound.Click),C.default.setPetIndex(this.index),this.initPet(),k.default.instance.setText(-1,"\u8bbe\u7f6e\u6210\u529f")},O.prototype.Clickdetails=function(){m.default.instance.play(m.Sound.Click),this.Message.active=!this.Message.active},O.prototype.ClickGoAlchemy=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return m.default.instance.play(m.Sound.Click),b.default.Instance.isUnlcok(5)?[3,1]:(k.default.instance.setText(-1,b.default.Instance.CanUnlock(5)),[3,3]);case 1:return this.CloseThis(),[4,P.default.Instance.ShowUI(w.default.ALCHEMY_PANEL)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},O.prototype.ClickOff=function(){m.default.instance.play(m.Sound.Click),this.CloseThis()},O.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),P.default.Instance.ShowInter()},O.prototype.ShowAlchemyRed=function(){for(var t=!1,e=y.default.Instance.GetCanMakeNum(),n=C.default.getDrugBoxNum(),o=0;o<n.length;o++)if(d.default.Instance.isUnlock(o)&&n[o]<e){t=!0;break}for(o=0;o<n.length;o++){var a=C.default.getDrugBoxNum()[o],i=C.default.getDrugTime()[o],r=C.default.getDrugOver()[o];0<i||0<a-r||0<a&&(t=!0)}b.default.Instance.isUnlcok(5)||(t=!1),this.goAlchemyRed.active=t},O.prototype.ShowDrugRed=function(){var t=!0;g.default.Instance.GetPackPropType(0).length<=0&&(t=!1),this.drugRed.active=t},O.prototype.CreatorDanMadicine=function(t){return s(this,void 0,void 0,function(){var e,n,o,a;return u(this,function(i){switch(i.label){case 0:return(e=C.default.danMadicine.get()).setParent(this.Content),a=this.drugContent.children[t].getPosition(),o=this.drugContent.children[t].parent.convertToWorldSpaceAR(a),n=this.Content.convertToNodeSpaceAR(o),a="PropIcon/item_danMadicine"+(t+1),(o=S.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,S.default.loadImage("Bundle",a)];case 1:o=i.sent(),i.label=2;case 2:return e.getComponent(cc.Sprite).spriteFrame=o,e.setPosition(n),a=this.Icon.node.getPosition(),cc.tween(e).to(.5,{x:a.x,y:a.y},{easing:"quadInOut"}).start(),cc.tween(e).call(function(){e.opacity=255}).to(.5,{opacity:0}).start(),cc.tween(e).call(function(){e.scale=1}).to(.5,{scale:.8}).call(function(){C.default.danMadicine.restor(e)}).start(),[2,e]}})})},O.prototype.ShowTeacher=function(){this.Teacher.active=!0},O.prototype.HideTeacher=function(){this.Teacher.active=!1},O.prototype.update=function(){var t,e,n=this;this.ShowAlchemyRed(),this.ShowDrugRed(),this.exp<C.default.getPetExp()[this.index-1]?(t=.007*this.maxadd,e=v.default.Instance.ExpToLevel(this.index-1,this.exp),this.exp+=t,v.default.Instance.ExpToLevel(this.index-1,this.exp)>e&&(this.level+=1,this.Sp.node.active=!0,this.Sp.setAnimation(0,"lvup3",!1),this.Sp.setCompleteListener(function(){n.Sp.node.active=!1}),this.maxexp=v.default.Instance.GetLevelUpExp(this.index-1,this.level)),this.exp>=C.default.getPetExp()[this.index-1]&&(this.exp=C.default.getPetExp()[this.index-1]),(e=v.default.Instance.ShowExp(this.index-1,this.exp,10*(this.index-1)+this.level))<=0&&(e=0)):(e=v.default.Instance.ShowExp(this.index-1,this.exp))<=0&&(e=0),this.expNum.string="\u5347\u7ea7\u8fd8\u9700:"+S.default.refSetCoin(e)+"/"+S.default.refSetCoin(this.maxexp),this.expPro.fillRange=e/this.maxexp},c([i(cc.Node)],O.prototype,"Teacher",void 0),c([i(sp.Skeleton)],O.prototype,"Sp",void 0),c([i(cc.Node)],O.prototype,"starContent",void 0),c([i(cc.Node)],O.prototype,"rightRed",void 0),c([i(cc.Sprite)],O.prototype,"Icon",void 0),c([i(sp.Skeleton)],O.prototype,"iconSp",void 0),a=c([a],O),r.default=a,cc._RF.pop()},{}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"199ef1t7qZPpL/dkNmUeB5L","PoolManager");var o,a=n;function i(t,e,n){this.prefab=t,this.initCount=e,this.maxCount=n,this._used=[],this._maxCount=0,this._pool=new cc.NodePool;for(var o=0;o<this.initCount;++o){var a=cc.instantiate(this.prefab);this._pool.put(a)}n&&(this._maxCount=n)}Object.defineProperty(a,"__esModule",{value:!0}),i.prototype.get=function(){var t=null;return 0<this._pool.size()?t=this._pool.get():(0==this._maxCount||this._used.length<this._maxCount)&&(t=cc.instantiate(this.prefab)),null!=t&&this._used.push(t),t},i.prototype.restoreAll=function(){for(var t=0,e=this._used;t<e.length;t++){var n=e[t];this._pool.put(n)}this._used.length=0},i.prototype.restor=function(t){this._pool.put(t),0<=(t=this._used.indexOf(t,0))&&this._used.splice(t,1)},i.prototype.getState=function(){return"poolsize: "+this._pool.size()+", used: "+this._used.length+", max: "+this._maxCount},o=i,a.default=o,cc._RF.pop()},{}],Privacy:[function(t,e,n){"use strict";cc._RF.push(e,"6fdaawCG7VKNrDpctOqNoM/","Privacy");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("SoundManager"),p=a("UIBase");function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.label=null,t.text="hello",t}a=(i=cc._decorator).ccclass,i=i.property,l(f,s=p.default),f.prototype.onEnable=function(){s.prototype.onEnable.call(this)},f.prototype.start=function(){},f.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},c([i(cc.Label)],f.prototype,"label",void 0),c([i],f.prototype,"text",void 0),a=c([a],f),r.default=a,cc._RF.pop()},{}],PropDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"59613Jf8fREqIemuZuWGNWt","PropDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("PropData"),d=i("GameSys"),h=i("GameTools"),y=i("EquipDataManager"),v=i("SingleBase");function g(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(g,u=v.default),(p=g).prototype.onLoad=function(){p.Instance=this},g.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a;return s(this,function(i){switch(i.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/Prop",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/Prop")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],a=new f.default(a.id,a.type,a.name,a.goodsid,a.capacity,a.info,a.consumables,a.banner,a.icon,0,!1,0,a.rewardNum,a.crystal),this.allDataList.push(a);return[2]}})})},g.prototype.GetProp=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].id==t&&(e=this.allDataList[n]);return{id:e.id,type:e.type,name:e.name,goodsid:e.goodsid,capacity:e.capacity,info:e.info,consumables:e.consumables,frame:e.frame,icon:e.icon,have:e.have,isOn:!1,rewardNum:e.rewardNum,userid:0,crystal:e.crystal}},g.prototype.GetCoinProp=function(){for(var t=0;t<this.allDataList.length;t++)if(4==this.allDataList[t].type)return this.allDataList[t]},g.prototype.GetJewelProp=function(){for(var t=0;t<this.allDataList.length;t++)if(5==this.allDataList[t].type)return this.allDataList[t]},g.prototype.getCrystal=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e].crystal},g.prototype.getDiscipleRank=function(t){for(var e=0;e<this.allDataList.length;e++)if(6==this.allDataList[e].type&&this.allDataList[e].goodsid==t)return this.allDataList[e]},g.prototype.GetPack=function(){return d.default.getPack()},g.prototype.addPack=function(t){for(var e=t.length,n=this.GetPack(),o=0;o<e;o++){var a=t[o].prop,i=t[o].have;if(n.length<=0){n.push({prop:a,have:i});break}if(a.isOn){n.push({prop:a,have:1});break}for(var r=0;r<n.length;r++){if(n[r].prop.id==a.id&&!n[r].prop.isOn){n[r].have+=i;break}if(r==n.length-1){n.push({prop:a,have:i});break}}}d.default.setPack(n)},g.prototype.GetPackPropType=function(t){for(var e=[],n=this.GetPack(),o=0;o<n.length;o++)n[o].prop.type==t&&e.push(n[o]);return e},g.prototype.subPackProp=function(t,e){for(var n=this.GetPack(),o=0;o<n.length;o++)if(n[o].prop.id==t&&!n[o].prop.isOn){n[o].have-=e,n[o].have<=0&&n.splice(o,1),d.default.setPack(n);break}},g.prototype.Unfix=function(t){for(var e=this.GetPack(),n=0;n<e.length;n++)if(e[n].prop.id==t.id&&e[n].prop.isOn&&e[n].prop.userid==t.userid){e.splice(n,1);break}t.userid=0,t.isOn=!1,this.addPack([{prop:t,have:1}])},g.prototype.GetPackProp=function(t){for(var e=this.GetPack(),n=0;n<e.length;n++)if(e[n].prop.id==t)return e[n];return{prop:this.GetProp(t),have:0}},g.prototype.GetPropNum=function(t){for(var e=this.GetPack(),n=0,o=0;o<e.length;o++)if(e[o].prop.id==t){if(1!=e[o].prop.type)return e[o];n+=e[o].have}return{prop:this.GetProp(t),have:n}},g.prototype.GetOnEquip=function(t,e){for(var n=this.GetPack(),o=[],a=0;a<n.length;a++)n[a].prop.isOn&&o.push(n[a].prop);if(o.length<=0)return null;for(a=0;a<o.length;a++){if(y.default.Instance.GetEquip(o[a].goodsid).type==e&&o[a].userid==t)return o[a];if(a>=o.length-1)return null}},g.prototype.GetOptimalEquip=function(t,e){void 0===e&&(e=0);for(var n=this.GetPack(),o=[],a=0;a<n.length;a++)n[a].prop.isOn||1!=n[a].prop.type||o.push(n[a].prop);if(o.length<=0)return null;var i=[];for(a=0;a<o.length;a++)(r=y.default.Instance.GetEquip(o[a].goodsid)).type==t&&r.adapt==e&&i.push(o[a]);if(i.length<=0)return null;var r,l=0,c=0;for(a=0;a<i.length;a++)(r=y.default.Instance.GetEquip(i[a].goodsid)).fight>l&&(l=r.fight,c=a);return i[c]},g.prototype.GetLevelColor=function(t){switch(t){case"frameLevel_1":return"#000000";case"frameLevel_2":return"#62863b";case"frameLevel_3":return"#2f638e";case"frameLevel_4":return"#7b53a4";case"frameLevel_5":return"#af6443";case"frameLevel_6":return"#96344c";case"frameLevel_7":return"#ff48f9"}},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],g),r.default=i,cc._RF.pop()},{}],PropData:[function(t,e,n){"use strict";cc._RF.push(e,"26a6cl+M/JBO7tHkIhhfWMD","PropData");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t,e,n,o,a,i,r,l,c,s,u,p,f,d){void 0===u&&(u=!1),void 0===p&&(p=0),void 0===d&&(d=0),this.have=0,this.isOn=!1,this.userid=0,this.rewardNum=0,this.crystal=0,this.id=t,this.type=e,this.name=n,this.goodsid=o,this.capacity=a,this.info=i,this.consumables=r,this.frame=l,this.icon=c,this.have=s,this.isOn=u,this.rewardNum=f,this.userid=p,this.crystal=d},cc._RF.pop()},{}],QQManager:[function(t,e,n){"use strict";cc._RF.push(e,"1bacbHnF9lGPbYQAqtuuv6n","QQManager");var o,a=t,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=a("HttpClient"),s=a("GameTools"),u=a("SdkManager"),p=a("Recorder"),f=a("GameSys"),d=a("TipGroup"),h=a("UIManager"),y=a("ServerUtil"),v="https://www-tomato123-cn.oss-cn-beijing.aliyuncs.com/XXMNQ/share.png";function g(){var t=null!==l&&l.apply(this,arguments)||this;return t.index=0,t.bannerAd=null,t.bannerID=["f5f137d17ab5a71c066fcc7b613921f7","f5f137d17ab5a71c066fcc7b613921f7","f5f137d17ab5a71c066fcc7b613921f7"],t.bannerNum=0,t.bannerCount=0,t.bannerRepeat=5,t.rewardedAd=null,t.rewardID=["ab9ee2a1477323a4ca6cddd0bdcbe789","ab9ee2a1477323a4ca6cddd0bdcbe789","ab9ee2a1477323a4ca6cddd0bdcbe789"],t.rewardNum=0,t.count=0,t.index2=0,t.interstitialAd=null,t.userinfo=null,t.shareIds=["12","13"],t.shareParam=[{title:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:v}],t.appbox=null,t}r(g,l=u.default),g.prototype.share=function(){qq.shareAppMessage({title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",imageUrl:v,query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}})},g.cocosToWXPixel=function(t){var e=cc.game.canvas.width,n=cc.game.canvas.height,o=cc.winSize.width,a=cc.winSize.height,i=t.width,r=t.height;return t=t.convertToWorldSpace(cc.v2(0,r)),cc.rect(e/o*t.x,(1-t.y/a)*n,e/o*i,n/a*r)},g.prototype.onHideListen=function(){qq.onHide(function(){console.log("qq.onHide()")})},g.prototype.vibrate=function(){qq.vibrateShort({})},g.prototype.customer=function(){qq.openCustomerServiceConversation()},g.prototype.getRankId=function(){return"qq_fight"},g.prototype.setRankScore=function(t){qq.setUserCloudStorage({KVDataList:[{key:"GCXX",value:""+t}],success:function(){console.log("\u4e0a\u4f20\u5206\u6570\u6210\u529f\uff1a",t)},fail:function(){console.log("\u4e0a\u4f20\u5931\u8d25")},complete:function(){console.log("\u4e0a\u4f20\u5b8c\u6210")}})},g.prototype.getFriendOpenDataContext=function(){var t=qq.getOpenDataContext();return t.postMessage({channel:"QQ",type:"friend",open:"0",openid:y.default.openId}),t},g.prototype.hideFriendOpenDataContext=function(){var t=qq.getOpenDataContext();return t.postMessage({channel:"QQ",type:"friend",open:"1",openid:y.default.openId}),t},g.prototype.getSurpassOpenDataContext=function(t){wx.getOpenDataContext().postMessage({channel:"QQ",type:"surpass",open:"0",score:t,openid:y.default.openId})},g.prototype.sendEvent=function(t,e){e?(qq.uma.trackEvent(t,e),console.log("\u53cb\u76df\u4e8b\u4ef6\u4e0a\u62a5:",t,e)):(qq.uma.trackEvent(t),console.log("\u53cb\u76df\u4e8b\u4ef6\u4e0a\u62a5:",t))},g.prototype.BannerAd=function(){var t=s.default.cocosToWX(h.default.Instance.bannerNode);this.bannerAd=qq.createBannerAd({adUnitId:this.bannerID[this.bannerNum],style:{left:t.x,top:t.y,width:t.width}}),this.bannerNum++,3<=this.bannerNum&&(this.bannerNum=0)},g.prototype.BannerShow=function(){0==this.bannerRepeat?null==this.bannerAd&&this.BannerAd():0<this.bannerRepeat&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.BannerAd()),this.bannerAd.show()},g.prototype.BannerHide=function(){null!=this.bannerAd&&this.bannerAd.hide()},g.prototype.isHaveShare=function(){return!0},g.prototype.RewardedAd=function(){this.rewardedAd=qq.createRewardedVideoAd({adUnitId:this.rewardID[this.rewardNum]}),this.rewardNum++,3<=this.rewardNum&&(this.rewardNum=0)},g.prototype.RewardedShow=function(t,e,n){var o=this;void 0===n&&(n=-1),this.count++,3<=this.count&&(this.count=0,this.RewardedAd());var a=function t(e){console.log("rewardad"+e.errCode+" : "+e.errMsg),d.default.instance.setText(-1,"\u6682\u65e0\u5e7f\u544a"),o.rewardedAd.offError(t)};this.rewardedAd.load().then(function(){return o.rewardedAd.show()}).catch(function(t){return console.log(t.errMsg)}),this.rewardedAd.onClose(function n(i){i.isEnded?(console.log("\u6210\u529f"),t()):(console.log("\u5931\u8d25"),e(!1)),o.rewardedAd.offClose(n),o.rewardedAd.offError(a)}),this.rewardedAd.onError(a)},g.prototype.InterstitialAd=function(){qq.createInterstitialAd&&(this.interstitialAd=qq.createInterstitialAd({adUnitId:"fbfd4557772081f31d270597b7cf43af"}))},g.prototype.InterstitialShow=function(){this.interstitialAd&&this.interstitialAd.show().catch(function(t){console.error(t)})},g.prototype.SendAdsMessage=function(){},g.prototype.showShare=function(){qq.showShareMenu({withShareTicket:!0})},g.prototype.authorize=function(t,e,n){var o=this;qq.getSetting({success:function(a){a.authSetting["scope.userInfo"]?qq.getUserInfo({success:function(t){t=t.userInfo,e({nickName:t.nickName,avatarUrl:t.avatarUrl})},fail:function(){n()}}):(a=s.default.cocosToWX(t),o.userinfo=qq.createUserInfoButton({type:"image",text:"",image:"authorize.png",style:{left:a.x,top:a.y,width:a.width,height:a.height,backgroundColor:"{255,255,255,0}",borderColor:"#ffffff",borderWidth:0,borderRadius:0,textAlign:"center",fontSize:0,lineHeight:0},withCredentials:!1}),o.userinfo.show(),o.userinfo.onTap(function(t){(t=t.userInfo)?(e({nickName:t.nickName,avatarUrl:t.avatarUrl}),o.closeUserInfo(),y.default.setUserInfo(t.nickName,t.avatarUrl,{success:function(t){console.log("setUserInfo"+t)},fail:function(t){console.log("setUserInfo error",t)}})):n()}))}})},g.prototype.closeUserInfo=function(){null!=this.userinfo&&this.userinfo.hide()},g.prototype.initShare=function(){for(var t=this,e=this,n=0;n<this.shareIds.length;n++)!function(n){var o=e.shareIds[n];y.default.getShare(o,function(e){e={title:e.title,imageUrl:e.img},t.shareParam[n]=e})}(n);qq.showShareMenu({menus:["shareAppMessage","shareTimeline"]}),qq.onShareAppMessage(function(){return t.shareParam[0]}),qq.onShareTimeline(function(){return t.shareParam[0]});var o=0;cc.game.on(cc.game.EVENT_HIDE,function(){o=Date.now()}),cc.game.on(cc.game.EVENT_SHOW,function(){t.shareSuccess&&(0!=o&&(3e3<Date.now()-o?t.shareSuccess():t.shareFail&&t.shareFail()),t.shareSuccess=null,t.shareFail=null,o=0)})},g.prototype.shareFriend=function(t,e,n){void 0===t&&(t=0);var o={};y.default.openId&&(o={query:"sopenid="+y.default.openId+"&sid="+t}),Object.assign(o,this.shareParam[t]),qq.shareAppMessage(o),this.shareSuccess=e,this.shareFail=n},g.prototype.getShareList=function(t,e){y.default.getShareList(this.shareIds[t],{success:function(t){console.log(t),e(t)},fail:function(t){console.log(t)}})},g.prototype.ClickShare=function(t,e){qq.shareAppMessage({title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",desc:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:v,query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}}),t&&(this.shareSuccess=t,this.shareFail=e)},g.prototype.onShareListen=function(){qq.onShareAppMessage(function(){return{title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",imageUrl:v,success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25",t)}}})},g.prototype.hideWXOpen=function(){qq.getOpenDataContext().postMessage({type:"hideWXOpen"})},g.prototype.setTranscends=function(){var t=qq.getOpenDataContext();t.canvas.width=200,t.canvas.height=150,t.postMessage({type:"transcend",open:"0",width:200,height:150,score:0})},g.prototype.hideTranscends=function(){qq.getOpenDataContext().postMessage({type:"transcend",open:"1",width:200,height:150,score:0})},g.prototype.getChannelId=function(){return"0001047"},g.prototype.login=function(t,e){var n=this;qq.login({success:function(o){o.code?(console.log("qq\u767b\u5f55\u83b7\u53d6code:",o),n.qqlogin(o.code,t,e)):console.log("\u767b\u5f55\u5931\u8d25\uff01"+o.errMsg)},fail:function(t){console.log("\u83b7\u53d6code\u5931\u8d25:",t)}}),this.onShareMessageToFriend(),this.initShare(),this.RewardedAd(),this.InterstitialAd(),this.onShareListen(),this.showShare()},g.prototype.onShareMessageToFriend=function(){qq.onShareMessageToFriend(function(t){console.log("\u597d\u53cb\u5206\u4eab\u56de\u8c03\uff1a",t),t.success?h.default.Instance.shareCallback():d.default.instance.setText(-1,"\u5206\u4eab\u5931\u8d25")})},g.prototype.qqlogin=function(t,e,n){var o=this;y.default.login_qq(t,function(){console.log("qq\u767b\u5f55\u6210\u529f"),o.onClickShare(function(){}),o.loadData(e,n)},function(){o.onClickShare(function(){}),console.log("qq\u767b\u5f55\u5931\u8d25"),n()})},g.prototype.loadData=function(t,e){c.default.loadData(function(e){e.data?(console.log("\u670d\u52a1\u5668\u6570\u636e:",JSON.parse(e.data)),p.default.init(y.default.guid,JSON.parse(e.data),6e4)):p.default.init(y.default.guid,{},6e4),t()},function(t){console.log("\u83b7\u53d6\u670d\u52a1\u5668\u5b58\u6863\u5931\u8d25",t),e()})},g.prototype.onClickShare=function(t){function e(e){switch(console.log("\u573a\u666f\u503c:",e),e.scene){case 1007:case 1008:case 1044:var o=e.query.sopenid,a=e.query.sid;o&&(t(a,o),y.default.clickShare(n.shareIds[a],o,{success:function(t){console.log("clickShare",t)},fail:function(t){console.log("clickShare",t)}}))}}var n=this,o=qq.getLaunchOptionsSync();console.log("LaunchOption.scene...",o.scene),e(o),qq.onShow(function(t){console.log("onShow",t),e(t)})},g.prototype.getDybUserInfo=function(){},g.prototype.createRole=function(){},g.prototype.gameLevel=function(){},g.prototype.getUserid=function(t,e){c.default.getUserid("190","moyang",f.default.openid,{success:function(e){e=JSON.parse(e),f.default.userid=e.data.userid,console.log("\u670d\u52a1\u5668\u767b\u5f55:",e),t()},fail:function(t){t=JSON.parse(t),console.log("\u767b\u5f55\u5931\u8d25:",t),e()}})},g.prototype.subscribeMsg=function(){},g.prototype.postReset=function(){qq.getOpenDataContext().postMessage({type:"postReset"})},g.prototype.showLoading=function(){qq.showLoading({title:"\u52a0\u8f7d\u4e2d",mask:!0})},g.prototype.hideLoading=function(){qq.hideLoading()},g.prototype.goOtherGame=function(){qq.navigateToMiniProgram({appId:"wx12b4fa0aca4d37c8"})},g.prototype.toOtherGame=function(t,e){void 0===e&&(e=""),qq.navigateToMiniProgram({appId:t,success:function(){}})},g.prototype.MoreGame=function(){qq.navigateToMiniProgram?qq.navigateToMiniProgram():qq.showModal({title:"\u63d0\u793a",content:"\u5f53\u524d\u5ba2\u6237\u7aef\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u8be5\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5ba2\u6237\u7aef\u6216\u5173\u95ed\u540e\u91cd\u542f\u66f4\u65b0\u3002"}),qq.onMoreGamesModalClose(function(t){console.log("modal closed",t)}),qq.onNavigateToMiniProgram(function(t){console.log(t.errCode),console.log(t.errMsg)}),"ios"!==qq.getSystemInfoSync().platform&&qq.showMoreGamesModal({appLaunchOptions:[],success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}})},g.prototype.AppBoxAd=function(){this.appbox=qq.createAppBox({adUnitId:"edbf5ffaec52961434526484cbe23a82"})},g.prototype.AppBoxShow=function(){var t=this;this.AppBoxAd(),this.appbox.load().then(function(){return t.appbox.show()})},g.prototype.saveApp=function(t,e){qq.saveAppToDesktop({success:function(){t()},fail:function(){e()},complete:function(){}})},g.prototype.PlatformCallBack=function(t,e,n,o){void 0===o&&(o=-1),"REWARD"==t?(this.sendEvent("videoclick",{message:"\u5e7f\u544a\u6309\u94ae\u70b9\u51fb",pos:""+o}),this.sendEvent("video",{message:"\u5e7f\u544a\u5c55\u793a",pos:""+o}),f.default.isShowVideoAd&&this.RewardedShow(e,n,o)):"BANNER"==t?f.default.isShowBannerAd&&this.BannerShow():"BANNERCLOSE"==t?f.default.isShowBannerAd&&this.BannerHide():"INTER"==t&&f.default.isShowInterAd&&f.default.interTime<=0&&(f.default.interTime=30,this.InterstitialShow())},g.prototype.controlKey=function(){c.default.RequestHttpData("190","0001047",{success:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t),f.default.isShowBannerAd=t.data.info.isShowBannerAd,f.default.isShowInterAd=t.data.info.isShowInterAd,f.default.isShowVideoAd=t.data.info.isShowVideoAd,f.default.splashAdCount=t.data.info.splashAdCount,f.default.isjumpguide=t.data.info.isjumpguide},fail:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t)}},"1.0.0")},g.prototype.getMenuButtonBottom=function(){return wx.getMenuButtonBoundingClientRect().bottom/cc.view.getFrameSize().height*cc.winSize.height},g.prototype.addColorSign=function(t,e){qq.addColorSign({success:function(){t()},fail:function(){e()}})},g.prototype.addToFavorites=function(t,e){qq.saveAppToDesktop({success:function(){t()},fail:function(){e()}})},g.prototype.saveDesktop=function(t,e){qq.saveAppToDesktop({success:function(){t()},fail:function(){e()}})},g.prototype.isShowAddColorSign=function(){return!0},g.prototype.isHaveAddToDesktop=function(){return!0},g.prototype.getPackage=function(){},g.prototype.getMoney=function(t,e,n){c.default.qpay_hb("1111995171",f.default.openid,"\u5929\u5929\u9886\u94b1","\u5929\u5929\u9886\u94b1",t,{success:function(t){t=JSON.parse(t),console.log("\u63d0\u73b0\u6210\u529f\u56de\u8c03\uff1a",t),e()},fail:function(t){t=JSON.parse(t),console.log("\u63d0\u73b0\u5931\u8d25\u56de\u8c03\uff1a",t),n()}})},g.prototype.oneceSubscribeMsg=function(){},g.prototype.dot=function(){},g.prototype.isHaveRank=function(){return!0},r=g,i.default=r,cc._RF.pop()},{}],QualityUp:[function(t,e,n){"use strict";cc._RF.push(e,"190ccMeCQVOSr1yGkhHIeIh","QualityUp");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("EquipDataManager"),h=a("PropDataManager"),y=a("SoundManager"),v=a("GameSys"),g=a("EventConst"),m=a("GameTools"),b=a("PanelConst"),C=a("TipGroup"),S=a("UIBase"),w=a("UIManager");function k(){var t=null!==p&&p.apply(this,arguments)||this;return t.count=null,t.oldFightNum=null,t.oldFrame=null,t.oldIcon=null,t.oldName=null,t.newFightNum=null,t.newFrame=null,t.newIcon=null,t.newName=null,t.newprop=null,t.oldprop=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(k,p=S.default),k.prototype.init=function(t){return s(this,void 0,void 0,function(){var e,n,o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:return this.oldprop=t,e=d.default.Instance.GetEquip(t.goodsid),this.oldFightNum.string="\u6218\u6597\u529b:"+m.default.refSetCoin(e.fight),n="PropIcon/"+t.icon,(e=m.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,2]:[4,m.default.loadImage("Bundle",n)];case 1:e=c.sent(),c.label=2;case 2:return this.oldIcon.spriteFrame=e,n="PropFrame/"+t.frame,(o=m.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,4]:[4,m.default.loadImage("Bundle",n)];case 3:o=c.sent(),c.label=4;case 4:return this.oldFrame.spriteFrame=o,this.oldName.string=t.name,this.oldName.node.color=cc.color().fromHEX(h.default.Instance.GetLevelColor(t.frame)),a=h.default.Instance.GetProp(t.id+3),this.newprop=a,i=d.default.Instance.GetEquip(a.goodsid),this.newFightNum.string="\u6218\u6597\u529b:"+m.default.refSetCoin(i.fight),r="PropIcon/"+a.icon,(i=m.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,6]:[4,m.default.loadImage("Bundle",r)];case 5:i=c.sent(),c.label=6;case 6:return this.newIcon.spriteFrame=i,r="PropFrame/"+a.frame,(l=m.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,8]:[4,m.default.loadImage("Bundle",r)];case 7:l=c.sent(),c.label=8;case 8:return this.newFrame.spriteFrame=l,this.newName.string=a.name,this.newName.node.color=cc.color().fromHEX(h.default.Instance.GetLevelColor(a.frame)),this.count.string="\u5269\u4f59\u6b21\u6570:("+(3-v.default.getQuality())+"/3)",[2]}})})},k.prototype.onEnable=function(){p.prototype.onEnable.call(this)},k.prototype.start=function(){},k.prototype.ClickOff=function(){y.default.instance.play(y.Sound.Click),d.default.Instance.AddNewEquip({prop:this.oldprop,have:1}),w.default.Instance.ShowUI(b.default.ShowNewEquip),cc.systemEvent.emit(g.EventConst.QuickUpClose),f.default.instance.quickupdata=this.oldprop,this.CloseThis()},k.prototype.ClickUp=function(){var t=this;y.default.instance.play(y.Sound.Click),m.default.getSdk().PlatformCallBack("REWARD",function(){h.default.Instance.subPackProp(t.oldprop.id,1),h.default.Instance.addPack([{prop:t.newprop,have:1}]),d.default.Instance.AddNewEquip({prop:t.newprop,have:1}),w.default.Instance.ShowUI(b.default.ShowNewEquip),t.CloseThis()},function(){C.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-21)},k.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],k.prototype,"count",void 0),c([i(cc.Label)],k.prototype,"oldFightNum",void 0),c([i(cc.Sprite)],k.prototype,"oldFrame",void 0),c([i(cc.Sprite)],k.prototype,"oldIcon",void 0),c([i(cc.Label)],k.prototype,"oldName",void 0),c([i(cc.Label)],k.prototype,"newFightNum",void 0),c([i(cc.Sprite)],k.prototype,"newFrame",void 0),c([i(cc.Sprite)],k.prototype,"newIcon",void 0),c([i(cc.Label)],k.prototype,"newName",void 0),a=c([a],k),r.default=a,cc._RF.pop()},{}],RankItem:[function(t,e,n){"use strict";cc._RF.push(e,"e3bc5i9bxJDnLYVbUcksC9A","RankItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropDataManager"),d=a("SoundManager"),h=a("WorshipDataManager"),y=a("GameSys"),v=a("GameTools"),g=a("PanelConst"),m=a("RewardPanel"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.Banner=null,t.BannerFrame=[],t.RankSprite=null,t.Rank=null,t.Frame=[],t.Icon=null,t.Name=null,t.Fight=null,t.EndBtn=null,t.GetBtn=null,t.index=0,t.rank=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=cc.Component),C.prototype.init=function(t,e,n){var o=this;console.log("\u6392\u884c\u699c\u4fe1\u606f\uff1a",t),this.index=e,this.rank=e+1,cc.assetManager.loadRemote(t.portrait,{ext:".png"},function(e,n){return e?(cc.assetManager.loadRemote(t.portrait,{ext:".jpg"},function(t,e){return t?console.log(t):void(o.Icon.spriteFrame=new cc.SpriteFrame(e))}),console.log(e)):void(o.Icon.spriteFrame=new cc.SpriteFrame(n))}),this.Fight.string="\u6218\u6597\u529b:"+v.default.refSetCoin(parseInt(t.val));var a=e+1;this.Rank.string=""+a,this.Name.string=a==n?"\u6211":t.nickname,a<=3?(this.RankSprite.node.active=!0,this.RankSprite.spriteFrame=this.Frame[e],this.Banner.spriteFrame=this.BannerFrame[e]):(this.RankSprite.node.active=!1,this.Banner.spriteFrame=this.BannerFrame[3]),this.initBtn()},C.prototype.initBtn=function(){var t=y.default.getWorldWorship()[this.index];this.EndBtn.active=1==t,this.GetBtn.active=0==t},C.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:switch(d.default.instance.play(d.Sound.Click),y.default.setWorldWorship(this.index),t=h.default.Instance.getRankData(this.rank),e=null,t.rewardId){case 127:e=f.default.Instance.GetCoinProp();break;case 128:e=f.default.Instance.GetJewelProp();break;default:e=f.default.Instance.GetProp(t.rewardId)}return[4,b.default.Instance.ShowUI(g.default.RewardPanel)];case 1:return n.sent(),b.default.Instance.GetClass(g.default.RewardPanel).getComponent(m.default).initAsset([{prop:e,have:t.count}]),this.initBtn(),[2]}})})},c([i(cc.Sprite)],C.prototype,"Banner",void 0),c([i(cc.SpriteFrame)],C.prototype,"BannerFrame",void 0),c([i(cc.Sprite)],C.prototype,"RankSprite",void 0),c([i(cc.Label)],C.prototype,"Rank",void 0),c([i(cc.SpriteFrame)],C.prototype,"Frame",void 0),c([i(cc.Sprite)],C.prototype,"Icon",void 0),c([i(cc.Label)],C.prototype,"Name",void 0),c([i(cc.Label)],C.prototype,"Fight",void 0),c([i(cc.Node)],C.prototype,"EndBtn",void 0),c([i(cc.Node)],C.prototype,"GetBtn",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],RankPanel:[function(t,e,n){"use strict";cc._RF.push(e,"478d1poBWdHdbyNzgCv1OJL","RankPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("WxOpenComponent"),d=a("HeroDataManager"),h=a("SoundManager"),y=a("MeRank"),v=a("RankItem"),g=a("GameSys"),m=a("GameTools"),b=a("ServerUtil"),C=a("TipGroup"),S=a("UIBase"),w=a("UIManager");function k(){var t=null!==p&&p.apply(this,arguments)||this;return t.TouchNode=null,t.AuthorizeBtn=null,t.AuthorizeContent=null,t.BtnSprite=[],t.Frame=[],t.WorldRank=null,t.WorldItem=[],t.WorldMe=null,t.FriendRank=null,t.SubContextView=null,t.type=0,t.is_authorize=!1,t.userinfo={},t.worldobj=[],t}a=(i=cc._decorator).ccclass,i=i.property,l(k,p=S.default),k.prototype.onLoad=function(){},k.prototype.onEnable=function(){var t=this;p.prototype.onEnable.call(this),m.default.getSdk().authorize(this.AuthorizeBtn,function(e){m.default.getSdk().closeUserInfo(),t.is_authorize=!0,t.userinfo=e,b.default.setUserInfo(e.nickName,e.avatarUrl,{success:function(){return s(t,void 0,void 0,function(){return u(this,function(){return this.SetFight(),[2]})})},fail:function(e){console.log("\u4e0a\u4f20\u4fe1\u606f\u5931\u8d25\uff1a",e),t.SetFight()}})},function(){C.default.instance.setText(-1,"\u6388\u6743\u5931\u8d25")})},k.prototype.SetFight=function(){return s(this,void 0,void 0,function(){var t,e=this;return u(this,function(n){switch(n.label){case 0:return[4,d.default.Instance.GetMaxFight()];case 1:return t=n.sent(),0==this.type?b.default.setRank(g.default.rankid,Math.floor(t),{success:function(){b.default.getRankList(g.default.rankid,{success:function(t){t=JSON.parse(t),e.worldobj=t.data,e.initRank()},fail:function(t){console.log("\u83b7\u53d6\u6392\u884c\u699c\u5931\u8d25\uff1a",t),e.initRank(),C.default.instance.setText(-1,"\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}})},fail:function(t){console.log("\u4e0a\u4f20\u6392\u884c\u699c\u5206\u6570\u5931\u8d25:",t),b.default.getRankList(g.default.rankid,{success:function(t){t=JSON.parse(t),e.worldobj=t.data,console.log(t),console.log(e.worldobj),e.initRank()},fail:function(t){console.log("\u83b7\u53d6\u6392\u884c\u699c\u5931\u8d25\uff1a",t),e.initRank(),C.default.instance.setText(-1,"\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}})}}):this.initRank(),[2]}})})},k.prototype.initRank=function(){switch(this.type){case 0:this.initWorldRank();break;case 1:this.initFriendRank()}},k.prototype.initWorldRank=function(){var t=this;this.is_authorize?(this.WorldRank.active=!0,this.FriendRank.active=!1,this.AuthorizeContent.active=!1,b.default.getRank(g.default.rankid,{success:function(e){var n=JSON.parse(e).data;t.WorldMe.getComponent(y.default).init(t.userinfo,n);for(var o=t.worldobj.length,a=0;a<t.WorldItem.length;a++)a<o?(t.WorldItem[a].node.active=!0,t.WorldItem[a].init(t.worldobj[a],a,n.index)):t.WorldItem[a].node.active=!1},fail:function(e){console.log("\u83b7\u53d6\u81ea\u8eab\u6392\u540d\u5931\u8d25\uff1a",e),t.WorldMe.getComponent(y.default).init(t.userinfo)}})):(this.AuthorizeContent.active=!0,this.WorldRank.active=!1,this.FriendRank.active=!1),this.BtnSprite[0].spriteFrame=this.Frame[0],this.BtnSprite[1].spriteFrame=this.Frame[1]},k.prototype.initFriendRank=function(){m.default.getSdk().closeUserInfo(),this.is_authorize?(this.WorldRank.active=!1,this.FriendRank.active=!0,this.AuthorizeContent.active=!1,m.default.getSdk().getFriendOpenDataContext(),console.log(" this.SubContextView:",this.SubContextView.node.active)):(this.AuthorizeContent.active=!0,this.WorldRank.active=!1,this.FriendRank.active=!1),this.BtnSprite[0].spriteFrame=this.Frame[1],this.BtnSprite[1].spriteFrame=this.Frame[0]},k.prototype.ClickBtn=function(t,e){h.default.instance.play(h.Sound.Click),this.type=parseInt(e),this.initRank()},k.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),console.log("\u5173\u95ed\u6392\u884c\u699c\u754c\u9762"),w.default.Instance.ShowInter(),m.default.getSdk().hideFriendOpenDataContext(),w.default.Instance.ShowSurpass(),m.default.getSdk().closeUserInfo(),0==g.default.requestSubscribeMessage[0]&&(g.default.requestSubscribeMessage[0]=1,m.default.getSdk().requestSubscribeMessage(0,function(){m.default.getSdk().sendEvent("dingyuepaihang")},function(){}))},c([i(cc.Node)],k.prototype,"TouchNode",void 0),c([i(cc.Node)],k.prototype,"AuthorizeBtn",void 0),c([i(cc.Node)],k.prototype,"AuthorizeContent",void 0),c([i(cc.Sprite)],k.prototype,"BtnSprite",void 0),c([i(cc.SpriteFrame)],k.prototype,"Frame",void 0),c([i(cc.Node)],k.prototype,"WorldRank",void 0),c([i(v.default)],k.prototype,"WorldItem",void 0),c([i(cc.Node)],k.prototype,"WorldMe",void 0),c([i(cc.Node)],k.prototype,"FriendRank",void 0),c([i(f.default)],k.prototype,"SubContextView",void 0),a=c([a],k),r.default=a,cc._RF.pop()},{}],RealmAddPanel:[function(t,e,n){"use strict";cc._RF.push(e,"f35a5M0Eh1GTooRR9dUMyl5","RealmAddPanel");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("RealmDataManager"),u=i("SoundManager"),p=i("GameTools"),f=i("UIBase");function d(){var t=null!==c&&c.apply(this,arguments)||this;return t.labels=[],t}i=(a=cc._decorator).ccclass,a.property,l(d,c=f.default),d.prototype.onLoad=function(){var t=this.node.getChildByName("Content").getChildByName("layout");this.labels=t.getComponentsInChildren(cc.Label)},d.prototype.start=function(){},d.prototype.onEnable=function(){c.prototype.onEnable.call(this);for(var t,e=0;e<this.labels.length;e++)0==e?this.labels[e].string="\u6682\u65e0\u52a0\u6210":(999999!=(t=s.default.Instance.GetData(e)).addCoin&&(this.labels[e].string="\u7075\u6c14\u6536\u76ca\u52a0\u6210+"+100*t.addCoin+"%"),999999!=t.addAtk&&(this.labels[e].string="\u5168\u4f53\u653b\u51fb\u52a0\u6210+"+100*t.addAtk+"%"),999999!=t.addHp&&(this.labels[e].string="\u5168\u4f53\u751f\u547d\u52a0\u6210+"+100*t.addHp+"%"),999999!=t.addDodge&&(this.labels[e].string="\u5168\u4f53\u95ea\u907f\u52a0\u6210+"+t.addDodge+"%"),999999!=t.addHit&&(this.labels[e].string="\u5168\u4f53\u547d\u4e2d\u52a0\u6210+"+t.addHit+"%"),999999!=t.addCrit&&(this.labels[e].string="\u5168\u4f53\u66b4\u51fb\u52a0\u6210+"+t.addCrit+"%")),e<s.default.Instance.GetRealmData().level?this.labels[e].node.color=cc.color().fromHEX("#2C8E1E"):this.labels[e].node.color=cc.color().fromHEX("#292929");p.default.getSdk().PlatformCallBack("BANNER")},d.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},d.prototype.CloseThis=function(){c.prototype.CloseThis.call(this),p.default.getSdk().PlatformCallBack("BANNERCLOSE")},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],d),r.default=i,cc._RF.pop()},{}],RealmDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"bc979ix8pJAIZ+0GWG+l6Ue","RealmDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("RealmData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/RealmData",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/RealmData")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).level=a.level,i.realmName=a.name,i.maxexp=a.maxexp,i.needexp=a.needexp,i.addCoin=a.addCoin,i.addHp=a.addHp,i.addAtk=a.addAtk,i.addHit=a.addHit,i.addDodge=a.addDodge,i.addCrit=a.addCrit,this.allDataList.push(i);return[2]}})})},v.prototype.GetRealmData=function(t){void 0===t&&(t=d.default.getRealmExp());for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].maxexp>t)return this.allDataList[e];if(e>=this.allDataList.length-1)return this.allDataList[e]}},v.prototype.GetShowExp=function(t){void 0===t&&(t=d.default.getRealmExp());for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].maxexp>t)return e-1<0?t:t-this.allDataList[e-1].maxexp;if(e>=this.allDataList.length-1)return t-this.allDataList[e].maxexp}},v.prototype.GetNextRealmData=function(t){void 0===t&&(t=d.default.getRealmExp());for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].maxexp>t){var n=e+1;return n>=this.allDataList.length-1&&(n=this.allDataList.length-1),this.allDataList[n]}if(e>=this.allDataList.length-1)return this.allDataList[e]}},v.prototype.GetAddAtk=function(){for(var t=d.default.getRealmExp(),e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].maxexp>t){e=this.allDataList[n].level;break}n>=this.allDataList.length-1&&(e=this.allDataList[n].level)}var o=0;for(n=0;n<this.allDataList.length;n++)this.allDataList[n].level<=e&&999999!=this.allDataList[n].addAtk&&(o+=this.allDataList[n].addAtk);return o<=0?1:o},v.prototype.GetAddCoin=function(){for(var t=d.default.getRealmExp(),e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].maxexp>t){e=this.allDataList[n].level;break}n>=this.allDataList.length-1&&(e=this.allDataList[n].level)}var o=0;for(n=0;n<this.allDataList.length;n++)this.allDataList[n].level<=e&&999999!=this.allDataList[n].addCoin&&(o+=this.allDataList[n].addCoin);return o<=0?1:o},v.prototype.GetAddHp=function(){for(var t=d.default.getRealmExp(),e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].maxexp>t){e=this.allDataList[n].level;break}n>=this.allDataList.length-1&&(e=this.allDataList[n].level)}var o=0;for(n=0;n<this.allDataList.length;n++)this.allDataList[n].level<=e&&999999!=this.allDataList[n].addHp&&(o+=this.allDataList[n].addHp);return o<=0?1:o},v.prototype.GetAddHit=function(){for(var t=d.default.getRealmExp(),e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].maxexp>t){e=this.allDataList[n].level;break}n>=this.allDataList.length-1&&(e=this.allDataList[n].level)}var o=0;for(n=0;n<this.allDataList.length;n++)this.allDataList[n].level<=e&&999999!=this.allDataList[n].addHit&&(o+=this.allDataList[n].addHit);return o},v.prototype.GetAddDodge=function(){for(var t=d.default.getRealmExp(),e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].maxexp>t){e=this.allDataList[n].level;break}n>=this.allDataList.length-1&&(e=this.allDataList[n].level)}var o=0;for(n=0;n<this.allDataList.length;n++)this.allDataList[n].level<=e&&999999!=this.allDataList[n].addDodge&&(o+=this.allDataList[n].addDodge);return o},v.prototype.GetAddCrit=function(){for(var t=d.default.getRealmExp(),e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].maxexp>t){e=this.allDataList[n].level;break}n>=this.allDataList.length-1&&(e=this.allDataList[n].level)}var o=0;for(n=0;n<this.allDataList.length;n++)this.allDataList[n].level<=e&&999999!=this.allDataList[n].addCrit&&(o+=this.allDataList[n].addCrit);return o},v.prototype.GetData=function(t){return this.allDataList[t]},v.prototype.GetRealmColor=function(t){switch(t[0]+t[1]){case"\u51e1\u4eba":return"ffffff";case"\u51fa\u4e16":return"fff9b2";case"\u7ec3\u6c14":return"d0ff92";case"\u7b51\u57fa":return"81e47c";case"\u91d1\u4e39":return"79e1ea";case"\u5143\u5a74":return"82a7f3";case"\u5316\u795e":return"b17ff5";case"\u70bc\u865a":return"f872ed";case"\u5408\u4f53":return"fa73a9";case"\u5927\u6210":return"fc8181";case"\u6d1e\u771f":return"fa8e69";case"\u6563\u4ed9":return"ffca4b";case"\u6e38\u4ed9":return"ebf459";case"\u5730\u4ed9":return"6bda9d";case"\u5929\u4ed9":return"41adf2";case"\u91d1\u4ed9":return"b5bdfc";case"\u5927\u7f57":return"ffaffe";case"\u7384\u4ed9":return"ff9daf";case"\u4ed9\u541b":return"e38d72";case"\u4ed9\u5c0a":return"c0ff5e"}},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],RealmData:[function(t,e,n){"use strict";cc._RF.push(e,"dd3e8GnhYNOErpjgZhauzQm","RealmData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],RealmPanel:[function(t,e,n){"use strict";cc._RF.push(e,"f8d5fmmNghCi62PGE51nFVj","RealmPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("SoundManager"),h=a("StateDataManager"),y=a("GameSys"),v=a("EventConst"),g=a("RealmReward"),m=a("UIBase"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.Teacher=null,t.content=null,t.lineArray=null,t.posArray=null,t.lineFrame=[],t.posFrame=[],t.nowRealm=null,t.getBtn=null,t.info=null,t.callback=null,t.index=0,t.realm=["\u51e1\u4eba","\u51fa\u4e16","\u7ec3\u6c14","\u7b51\u57fa","\u91d1\u4e39","\u5143\u5a74","\u5316\u795e","\u70bc\u865a","\u5408\u4f53","\u5927\u6210","\u6d1e\u771f","\u6563\u4ed9","\u6e38\u4ed9","\u5730\u4ed9","\u5929\u4ed9","\u91d1\u4ed9","\u5927\u7f57\u91d1\u4ed9","\u7384\u4ed9","\u4ed9\u541b","\u4ed9\u5c0a"],t.nowindex=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=m.default),C.prototype.onLoad=function(){},C.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.init();var t=y.default.getLevel();this.index=Math.floor((t-1)/10),this.initinfo(),1==f.default.instance.teacherid?this.ShowTeacher():this.HideTeacher(),this.content.y=30-this.posArray.children[this.nowindex].y},C.prototype.addCallback=function(t){this.callback=t},C.prototype.ShowTeacher=function(){this.Teacher.active=!0},C.prototype.HideTeacher=function(){this.Teacher.active=!1},C.prototype.init=function(){for(var t=y.default.getLevel(),e=Math.floor((t-1)/10),n=0;n<this.posArray.children.length;n++){var o=this.posArray.children[n].getChildByName("name"),a=this.posArray.children[n].getChildByName("box"),i=this.posArray.children[n].getComponent(cc.Sprite),r=y.default.getRealm();n==e?(o.getComponent(cc.Label).string=""+this.realm[n],o.active=0!=r[n],i.spriteFrame=0==r[n]?this.posFrame[3]:this.posFrame[2],a.active=0==r[n]):n<e?(o.getComponent(cc.Label).string=""+this.realm[n],o.active=0!=r[n],i.spriteFrame=0==r[n]?this.posFrame[3]:this.posFrame[1],a.active=0==r[n]):(o.getComponent(cc.Label).string="\u5c01",i.spriteFrame=this.posFrame[0],a.active=!1),this.lineArray.children[n].getComponent(cc.Sprite).spriteFrame=n<e?this.lineFrame[1]:this.lineFrame[0]}this.getBtn.active=!1;var l=y.default.getRealm();for(n=0;n<=e;n++){if(0==l[n]){this.getBtn.active=!0;var c=this.posArray.children[n].getPosition();this.getBtn.setPosition(cc.v2(c.x,c.y-90)),this.nowindex=n;break}n==e&&(this.nowindex=n)}},C.prototype.initinfo=function(){var t=h.default.Instance.GetData(this.index+1);this.info.string=""+t.explain,this.nowRealm.string=""+this.realm[this.index]},C.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(e){switch(e.label){case 0:return d.default.instance.play(d.Sound.Click),[4,b.default.Instance.ShowUI(v.EventConst.RealmReward)];case 1:return e.sent(),b.default.Instance.GetClass(v.EventConst.RealmReward).getComponent(g.default).addCallback(function(){t.callback&&(t.callback(),t.callback=null)}),this.CloseThis(),[2]}})})},C.prototype.ClickOff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis(),b.default.Instance.ShowInter()},C.prototype.ClickPos=function(t,e){d.default.instance.play(d.Sound.Click),this.index=parseInt(e),this.initinfo()},C.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Node)],C.prototype,"Teacher",void 0),c([i(cc.Node)],C.prototype,"content",void 0),c([i(cc.Node)],C.prototype,"lineArray",void 0),c([i(cc.Node)],C.prototype,"posArray",void 0),c([i(cc.SpriteFrame)],C.prototype,"lineFrame",void 0),c([i(cc.SpriteFrame)],C.prototype,"posFrame",void 0),c([i(cc.Label)],C.prototype,"nowRealm",void 0),c([i(cc.Node)],C.prototype,"getBtn",void 0),c([i(cc.Label)],C.prototype,"info",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],RealmReward:[function(t,e,n){"use strict";cc._RF.push(e,"8b29drvlsdJGKZhgDDetXQC","RealmReward");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("ArtifactsDataManager"),h=a("CoinOutPutDataManager"),y=a("PropDataManager"),v=a("SoundManager"),g=a("StateDataManager"),m=a("GameSys"),b=a("GameTools"),C=a("PanelConst"),S=a("RewardPanel"),w=a("TipGroup"),k=a("UIBase"),_=a("UIManager");function P(){var t=null!==p&&p.apply(this,arguments)||this;return t.porpName=null,t.porpIcon=null,t.porpFrame=null,t.propNum1=null,t.propNum2=null,t.propNum3=null,t.reward_1=null,t.reward_2=null,t.reward_3=null,t.callback=null,t.nowIndex=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(P,p=k.default),P.prototype.onLoad=function(){},P.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.init()},P.prototype.addCallback=function(t){this.callback=t},P.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c;return u(this,function(s){switch(s.label){case 0:for(this.reward_1.active=!1,this.reward_2.active=!1,this.reward_3.active=!1,t=m.default.getRealm(),e=0;e<t.length;e++)if(0==t[e]){this.nowIndex=e;break}return n=g.default.Instance.GetData(this.nowIndex+1),o=y.default.Instance.GetProp(n.rewardId),r="PropFrame/"+o.frame,(a=b.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,2]:[4,b.default.loadImage("Bundle",r)];case 1:a=s.sent(),s.label=2;case 2:return this.porpFrame.spriteFrame=a,r=i="",4==o.type?(i="Award/coin",r="SpriteBundle1",this.porpIcon.node.scale=1,this.reward_2.active=!0):5==o.type?(i="Award/jewel",r="SpriteBundle1",this.porpIcon.node.scale=1,this.reward_3.active=!0):(i="PropIcon/"+o.icon,r="Bundle",this.porpIcon.node.scale=.7,this.reward_1.active=!0),(l=b.default.GetRes(r,i,cc.SpriteFrame))?[3,4]:[4,b.default.loadImage(r,i)];case 3:l=s.sent(),s.label=4;case 4:return this.porpIcon.spriteFrame=l,this.porpName.string=""+o.name,this.porpName.node.color=cc.color().fromHEX(y.default.Instance.GetLevelColor(o.frame)),c=0,4!=o.type?[3,6]:[4,h.default.Instance.GetOutPut()];case 5:return c=s.sent()*n.count,this.propNum2.string="\xd7"+b.default.refSetCoin(c),[3,9];case 6:return 5!=o.type?[3,8]:[4,d.default.Instance.GetOutPut()];case 7:return c=s.sent()*n.count,this.propNum3.string="\xd7"+b.default.refSetCoin(c),[3,9];case 8:c=n.count,this.propNum1.string="\xd7"+b.default.refSetCoin(c),s.label=9;case 9:return[2]}})})},P.prototype.ClickOne=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:return v.default.instance.play(v.Sound.Click),(e=m.default.getRealm())[this.nowIndex]=1,m.default.setRealm(e),t=g.default.Instance.GetData(this.nowIndex+1),e=y.default.Instance.GetProp(t.rewardId),[4,_.default.Instance.ShowUI(C.default.RewardPanel)];case 1:return o.sent(),_.default.Instance.GetClass(C.default.RewardPanel).getComponent(S.default).initAsset([{prop:e,have:t.count}],function(){1==f.default.instance.teacherid&&f.default.instance.ShowGuideSp(1),n.callback&&(n.callback(),n.callback=null)}),this.CloseThis(),[2]}})})},P.prototype.ClickDouble=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(){return v.default.instance.play(v.Sound.Click),b.default.getSdk().PlatformCallBack("REWARD",function(){return s(t,void 0,void 0,function(){var t,e,n=this;return u(this,function(o){switch(o.label){case 0:return(e=m.default.getRealm())[this.nowIndex]=1,m.default.setRealm(e),t=g.default.Instance.GetData(this.nowIndex+1),e=y.default.Instance.GetProp(t.rewardId),[4,_.default.Instance.ShowUI(C.default.RewardPanel)];case 1:return o.sent(),_.default.Instance.GetClass(C.default.RewardPanel).getComponent(S.default).initAsset([{prop:e,have:2*t.count}],function(){1==f.default.instance.teacherid&&f.default.instance.ShowGuideSp(1),n.callback&&(n.callback(),n.callback=null)}),this.CloseThis(),[2]}})})},function(){w.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-1),[2]})})},P.prototype.start=function(){},P.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],P.prototype,"porpName",void 0),c([i(cc.Sprite)],P.prototype,"porpIcon",void 0),c([i(cc.Sprite)],P.prototype,"porpFrame",void 0),c([i(cc.Label)],P.prototype,"propNum1",void 0),c([i(cc.Label)],P.prototype,"propNum2",void 0),c([i(cc.Label)],P.prototype,"propNum3",void 0),c([i(cc.Node)],P.prototype,"reward_1",void 0),c([i(cc.Node)],P.prototype,"reward_2",void 0),c([i(cc.Node)],P.prototype,"reward_3",void 0),a=c([a],P),r.default=a,cc._RF.pop()},{}],Recorder:[function(t,e,n){"use strict";cc._RF.push(e,"1f353rT4whCcYD8AENnEdb0","Recorder");var o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=o("LocalRecorder"),r=o("CloudRecorder"),l=o("GameSys");function c(){}c.init=function(t,e,n){var o,a,c,s;this.localRecorder=new i.default,"WX"==l.default.channel||"QQ"==l.default.channel?t?(this.cloudRecorder=new r.default(t,e,n),console.log("\u670d\u52a1\u5668\u5b58\u6863\u6570\u636e:",this.cloudRecorder.data),o=this.cloudRecorder.readData("SAVETIME"),a=this.localRecorder.readData("SAVETIME"),c=!1,console.log("serverTimeStr\uff1a",o,"localTimeStr:",a),o&&(s=parseInt(o),(!a||s>parseInt(a))&&(c=!0)),c?(console.log("\u670d\u52a1\u5668\u6863:"+o),this.readRecrder=this.cloudRecorder):(console.log("\u672c\u5730\u6863:"+a),this.readRecrder=this.localRecorder)):console.log("\u672a\u767b\u5f55"):t?(this.cloudRecorder=new r.default(t,e,n),console.log("\u670d\u52a1\u5668\u5b58\u6863\u6570\u636e:",this.cloudRecorder.data),o=this.cloudRecorder.readData("SAVETIME"),a=this.localRecorder.readData("SAVETIME"),c=!1,console.log("serverTimeStr\uff1a",o,"localTimeStr:",a),o&&(s=parseInt(o),(!a||s>parseInt(a))&&(c=!0)),c?(console.log("\u670d\u52a1\u5668\u6863:"+o),this.readRecrder=this.cloudRecorder):(console.log("\u672c\u5730\u6863:"+a),this.readRecrder=this.localRecorder)):(console.log("\u672a\u767b\u5f55"),this.readRecrder=this.localRecorder),l.default.LoadGameDate()},c.writeData=function(t,e){this.localRecorder.writeData(t,e),this.cloudRecorder&&this.cloudRecorder.writeData(t,e)},c.writeDatas=function(t){this.localRecorder.writeDatas(t),this.cloudRecorder&&this.cloudRecorder.writeDatas(t)},c.flush=function(){this.cloudRecorder&&this.cloudRecorder.flush()},c.writeToAnotherRecorder=function(t,e){e&&this.cloudRecorder&&(this.readRecrder==this.cloudRecorder?this.localRecorder:this.cloudRecorder).writeData(t,e)},c.readString=function(t,e){var n=this.readRecrder.readData(t);return n?(this.writeToAnotherRecorder(t,n),n):e},c.readArray=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.readintArray=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.readDisciple=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.readEveryDay=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.readobjArray=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.readInt=function(t,e){var n=this.readRecrder.readData(t);return n?(n=Number(n),!isNaN(n)&&null!=n||(n=e),this.writeToAnotherRecorder(t,n),n):e},c.readObject=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.readBool=function(t,e){var n=this.readRecrder.readData(t);return n?(n="true"==n,this.writeToAnotherRecorder(t,n),n):e},c.readpack=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.readCDKArray=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.readFriend=function(t,e){var n=this.readRecrder.readData(t);return n?(n=JSON.parse(n),this.writeToAnotherRecorder(t,n),n):e},c.recordVersion=1,o=c,a.default=o,cc._RF.pop()},{}],RedAni:[function(t,e,n){"use strict";cc._RF.push(e,"e49d79aNGZHO5/eI6hwa8zJ","RedAni");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.onLoad=function(){this.Tween()},s.prototype.Tween=function(){var t=cc.tween(this.node).delay(.5).to(.3,{angle:30}).to(.3,{angle:-30}).to(.15,{angle:0});cc.tween(this.node).repeatForever(t).start()},s.prototype.start=function(){},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],RedPackManager:[function(t,e,n){"use strict";cc._RF.push(e,"76ad236FPFNUqz2vYpQCUkz","RedPackManager");var o,a=t,i=n;Object.defineProperty(i,"__esModule",{value:!0});var r,l=a("GameSys"),c=a("HttpClient");function s(){}a=(o=cc._decorator).ccclass,o.property,(r=s).GetActivityInfo=function(t,e,n,o,a){var i=Math.floor(Date.now()/1e3),r="https://sapi.tomato123.cn/game/activity/getactivitylist",l="gameid="+encodeURIComponent(t);l+="&channelid="+encodeURIComponent(e),l+="&version="+encodeURIComponent(n),l+="&guid="+encodeURIComponent(o),l+="&timestamp="+i,l+="&sign="+c.default.getSignTwo({timestamp:i,gameid:t,channelid:e,version:n,guid:o},this.secret),console.log("\u83b7\u53d6\u6d3b\u52a8\u94fe\u63a5="+r+l),c.default.post(r,l,a)},s.ReceiveActivity=function(t,e,n,o){var a=Math.floor(Date.now()/1e3),i="https://sapi.tomato123.cn/game/activity/setactivity",r="gameid="+encodeURIComponent(e);r+="&aid="+encodeURIComponent(t),r+="&guid="+encodeURIComponent(n),r+="&timestamp="+a,r+="&sign="+c.default.getSignTwo({timestamp:a,gameid:e,aid:t,guid:n},this.secret),console.log("\u9886\u53d6\u7ea2\u5305\u94fe\u63a5="+i+r),c.default.post(i,r,o)},s.TimesCount=function(t,e,n,o,a,i,r){var l=Math.floor(Date.now()/1e3),s="https://sapi.tomato123.cn/game/activity/setkeydata",u="gameid="+encodeURIComponent(n);u+="&aid="+encodeURIComponent(t),u+="&configid="+encodeURIComponent(e),u+="&guid="+encodeURIComponent(o),u+="&key="+encodeURIComponent(a),u+="&clear="+encodeURIComponent(i),u+="&timestamp="+l,u+="&sign="+c.default.getSignTwo({timestamp:l,gameid:n,aid:t,configid:e,guid:o,key:a,clear:i},this.secret),console.log("\u8ba1\u6b21\u94fe\u63a5="+s+u),c.default.post(s,u,r)},s.GetRedPackDays=function(t){for(var e=0;e<r.redPackInfoArray.length;e++)if(r.redPackInfoArray[e].id==t)return r.redPackInfoArray[e].wday},s.RedPackServerConfigurationQuery=function(t){for(var e=0;e<r.redPackInfoArray.length;e++)if(r.redPackInfoArray[e].id==t)return r.redPackInfoArray[e].infodata},s.addCount=function(t,e,n){var o,a=r.RedPackServerConfigQuery(t);console.log("\u8fd4\u56de\u7684aiid",a),-1!=a?(o=r.RedPackServerKeyQuery(t),console.log("\u8fd4\u56de\u7684key:",o),r.TimesCount(t.toString(),a,"190",l.default.userid,"@"+o,"0",{success:function(){e&&r.GetActivityInfo("190","0001047","1.0.0",l.default.userid,{success:function(t){t=JSON.parse(t),r.redPackInfoArray=t.data,n&&n()},fail:function(t){JSON.parse(t)}})},fail:function(t){console.log("\u4e0a\u4f20\u6b21\u6570\u5931\u8d25:",JSON.parse(t))}})):console.log("\u7ea2\u5305aiid\u8fd4\u56de\u4e3a-1")},s.RedPackServerKeyQuery=function(t){for(var e=null,n=0;n<r.redPackInfoArray.length;n++)r.redPackInfoArray[n].id==t&&(e=r.redPackInfoArray[n].infodata);for(var o=0;o<e.length;o++){if(0==e[o].lcount)return e[o].data.number[0].key;if(o==e.length-1)return""}},s.RedPackServerConfigQuery=function(t){for(var e=null,n=0;n<r.redPackInfoArray.length;n++)r.redPackInfoArray[n].id==t&&(e=r.redPackInfoArray[n].infodata);console.log("\u7b5b\u9009aiid",e);for(var o=0;o<e.length;o++)if(0==e[o].lcount){var a=parseInt(e[o].data.number[0].val),i=parseInt(e[o].data.number[0].vals);if(console.log("\u8fd4\u56de\u7684aid:",a,i),i<a)return console.log("\u8fd4\u56de\u7684aid:",e[o].aiid),e[o].aiid}else if(o==e.length-1)return-1},s.SetRedPackInfoData=function(t,e){for(var n=0;n<r.redPackInfoArray.length;n++)if(r.redPackInfoArray[n].id==t){r.redPackInfoArray[n].infodata=e,console.log("\u4fee\u6539\u6210\u529f");break}},s.GetServerTime=function(t,e){c.default.getServerTime({success:function(){t()},fail:function(t){e(),console.log("\u83b7\u53d6\u5931\u8d25\uff1a"+t)}})},s.WinningZero=function(){var t=r.RedPackServerConfigurationQuery(4);if(null!=t){for(var e=0;e<t.length;e++)for(var n=0;n<t[e].data.number.length;n++)if("liansheng"==t[e].data.number[n].key){t[e].data.number[n].vals=0,t[e].aiid;break}r.SetRedPackInfoData(4,t)}},s.redPackInfoArray=[],s.secret="ce409d358ab603b1e907694db7e8cbd5",a=r=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],RefBox:[function(t,e,n){"use strict";cc._RF.push(e,"6c5cd0UW2BErbrzzcCFLQ4A","RefBox");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("SoundManager"),p=a("GameSys"),f=a("GameTools"),d=a("RoamPanel"),h=a("TipGroup"),y=a("UIBase");function v(){var t=null!==s&&s.apply(this,arguments)||this;return t.label=null,t.text="hello",t}a=(i=cc._decorator).ccclass,i=i.property,l(v,s=y.default),v.prototype.onEnable=function(){s.prototype.onEnable.call(this)},v.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},v.prototype.ClickRef=function(){var t=this;u.default.instance.play(u.Sound.Click),f.default.getSdk().PlatformCallBack("REWARD",function(){for(var e=p.default.getRoamBox(),n=p.default.getRoamBoxIsGet(),o=0;o<n.length;o++)0!=e[o]&&(n[o]=1);p.default.setRoamBoxIsGet(n),d.default.instance.initBox(),t.CloseThis()},function(){h.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-22)},v.prototype.CloseThis=function(){s.prototype.CloseThis.call(this)},v.prototype.start=function(){},c([i(cc.Label)],v.prototype,"label",void 0),c([i],v.prototype,"text",void 0),a=c([a],v),r.default=a,cc._RF.pop()},{}],ReincarnDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"f654br4NKxMoJ7GQnzfzS66","ReincarnDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("ReincarnData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/Reincarn",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/Reincarn")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).level=a.level,i.id=a.id,i.info=a.info,i.rate=a.rate,i.realm=a.realm,this.allDataList.push(i);return[2]}})})},v.prototype.GetData=function(){var t=d.default.getReincarn()+1;t>=this.allDataList.length&&(t=this.allDataList.length);for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},v.prototype.GetBasiData=function(){return this.allDataList[0]},v.prototype.GetAddOutput=function(){var t=1.5*d.default.getReincarn();return 21<(t=t<=0?1:t)?21:t},v.prototype.isMax=function(){return 14<=d.default.getReincarn()},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],ReincarnData:[function(t,e,n){"use strict";cc._RF.push(e,"c3e053u4JRDIY0iLB9EI7k5","ReincarnData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],ReincarnPanel:[function(t,e,n){"use strict";cc._RF.push(e,"34d98QqkmdIc4kasrAAwH/L","ReincarnPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameFight"),p=a("OnHook"),f=a("CoinOutPutDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("EventConst"),v=a("GameTools"),g=a("PanelConst"),m=a("TipGroup"),b=a("UIBase"),C=a("UIManager");function S(){var t=null!==s&&s.apply(this,arguments)||this;return t.layout=null,t.video=null,t.reincarnBtn=null,t.resetBtn=null,t.resetCount=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,s=b.default),S.prototype.onLoad=function(){},S.prototype.onEnable=function(){s.prototype.onEnable.call(this),this.init()},S.prototype.init=function(){for(var t=h.default.getReincarn(),e=0;e<this.layout.children.length;e++){var n=this.layout.children[e].getChildByName("active");e<t?(n.getComponent(cc.Label).string="\u5df2\u6fc0\u6d3b",n.color=cc.color().fromHEX("#33B021")):(n.getComponent(cc.Label).string="\u672a\u6fc0\u6d3b",n.color=cc.color().fromHEX("#DC4646"))}this.reincarnBtn.active=!1,this.resetBtn.active=!0,this.video.active=h.default.getReincarnCount()<=0},S.prototype.ClickReincarn=function(){var t,e,n=this;d.default.instance.play(d.Sound.Click),u.default.instance.state!=u.FightState.challenge&&u.default.instance.state!=u.FightState.Trials&&u.default.instance.state!=u.FightState.roam?(t=h.default.getLevel())<61?m.default.instance.setText(-1,"\u5316\u795e\u521d\u9636\u53ef\u8fdb\u884c\u8f6c\u751f"):(e=h.default.getReincarnCount())<=0?v.default.getSdk().PlatformCallBack("REWARD",function(){var e=1+Math.floor((t-61)/10);h.default.getReincarn()<e&&h.default.setReincarn(e),n.Reincarn(),n.CloseThis()},function(){m.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-1):(h.default.setReincarnCount(--e),e=1+Math.floor((t-61)/10),h.default.getReincarn()<e&&h.default.setReincarn(e),this.Reincarn(),this.CloseThis()):m.default.instance.setText(-1,"\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u5173\u5361\u6311\u6218")},S.prototype.ClickReset=function(){var t,e=this;d.default.instance.play(d.Sound.Click),u.default.instance.state!=u.FightState.challenge?h.default.getLevel()<61?m.default.instance.setText(-1,"\u9700\u8981\u8fbe\u5230\u5316\u795e\u521d\u9636\u65b9\u53ef\u8fdb\u884c\u8f6e\u56de"):(t=h.default.getReincarnCount())<=0?v.default.getSdk().PlatformCallBack("REWARD",function(){e.Reincarn(),e.CloseThis()},function(){m.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-1):(h.default.setReincarnCount(--t),this.Reincarn(),this.CloseThis()):m.default.instance.setText(-1,"\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u5173\u5361\u6311\u6218")},S.prototype.Reincarn=function(){var t=f.default.Instance.GetExchangeXianjing();p.default.instance.ChangeCrystal(t),h.default.setDevil(0),h.default.setLevel(1),h.default.setCustoms(1),h.default.initSkillLevel(),cc.systemEvent.emit(y.EventConst.Maps),p.default.instance.initVisualize(),p.default.instance.initRealm(),p.default.instance.initRole(),p.default.instance.initBreak(),p.default.instance.initNextNeed(),C.default.Instance.ShowUI(g.default.ReincarnSp)},S.prototype.start=function(){},S.prototype.ClickOff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis()},S.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),C.default.Instance.ShowInter()},c([i(cc.Node)],S.prototype,"layout",void 0),c([i(cc.Node)],S.prototype,"video",void 0),c([i(cc.Node)],S.prototype,"reincarnBtn",void 0),c([i(cc.Node)],S.prototype,"resetBtn",void 0),c([i(cc.Label)],S.prototype,"resetCount",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],ReincarnSp:[function(t,e,n){"use strict";cc._RF.push(e,"690c6t9BYpAcJXq9CP39zWa","ReincarnSp");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("UIBase");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.Sp=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=u.default),p.prototype.onLoad=function(){this.Sp=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},p.prototype.onEnable=function(){var t=this;this.Sp.setAnimation(0,"lunhui",!1),this.Sp.setCompleteListener(function(){s.default.instance.StartFight(),t.CloseThis()})},p.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],RewardPanel:[function(t,e,n){"use strict";cc._RF.push(e,"3b957CrvUJFQZgUuQeGIlR1","RewardPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("PropDataManager"),y=a("SoundManager"),v=a("GameSys"),g=a("GameTools"),m=a("rewardItem"),b=a("UIBase"),C=a("UIManager");function S(){var t=null!==p&&p.apply(this,arguments)||this;return t.BtnList=null,t.CloseBtn=null,t.spine1=null,t.layout=null,t.Content=null,t.coin=0,t.callback=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,p=b.default),S.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.spine1=t.getChildByName("spine1").getComponent(sp.Skeleton),this.Content=t.getChildByName("content"),this.layout=t.getChildByName("content").getChildByName("ScrollView").getChildByName("view").getChildByName("content")},S.prototype.addCallback=function(){},S.prototype.onEnable=function(){var t=this;this.Content.active=!1,0<this.layout.childrenCount&&this.layout.destroyAllChildren(),this.spine1.setAnimation(0,"get_in",!1),this.spine1.setCompleteListener(function(){"get_in"==t.spine1.animation&&t.spine1.setAnimation(0,"get_loop",!1)}),setTimeout(function(){t.Content.active=!0},500),g.default.getSdk().PlatformCallBack("BANNER")},S.prototype.initAsset=function(t,e,n){this.callback=e;for(var o=0;o<t.length;o++)this.CreatorProp().getComponent(m.default).init(t[o]);this.GetAward(t),n?(this.BtnList.active=!0,this.CloseBtn.active=!1):(this.BtnList.active=!1,this.CloseBtn.active=!0)},S.prototype.CreatorProp=function(){var t=v.default.rewardItem.get();return t.setParent(this.layout),t},S.prototype.GetAward=function(t){return s(this,void 0,void 0,function(){var e,n,o;return u(this,function(a){switch(a.label){case 0:e=[],n=0,a.label=1;case 1:return n<t.length?4!=t[n].prop.type?[3,3]:[4,d.default.Instance.GetOutPut()]:[3,5];case 2:return o=a.sent()*t[n].have,C.default.Instance.GetCoin(o),[3,4];case 3:5==t[n].prop.type?(o=f.default.Instance.GetOutPut()*t[n].have,C.default.Instance.GetJewel(o)):190==t[n].prop.id?v.default.setOre(t[n].have):e.push(t[n]),a.label=4;case 4:return n++,[3,1];case 5:return 0<e.length&&h.default.Instance.addPack(e),[2]}})})},S.prototype.ClickOff=function(){return s(this,void 0,void 0,function(){return u(this,function(){return y.default.instance.play(y.Sound.Click),this.CloseThis(),[2]})})},S.prototype.ClickNo=function(){y.default.instance.play(y.Sound.Click),p.prototype.CloseThis.call(this),g.default.getSdk().PlatformCallBack("BANNERCLOSE")},S.prototype.ClickYes=function(){y.default.instance.play(y.Sound.Click),p.prototype.CloseThis.call(this),this.callback(),g.default.getSdk().PlatformCallBack("BANNERCLOSE")},S.prototype.CloseThis=function(){this.callback&&this.callback(),p.prototype.CloseThis.call(this),g.default.getSdk().PlatformCallBack("BANNERCLOSE")},c([i(cc.Node)],S.prototype,"BtnList",void 0),c([i(cc.Node)],S.prototype,"CloseBtn",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],RoamBoxData:[function(t,e,n){"use strict";cc._RF.push(e,"035baKfsfVJAq1kmC4QOdTe","RoamBoxData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],RoamChallenge:[function(t,e,n){"use strict";cc._RF.push(e,"fab5bdNzNlIF6hC3Ow+ORJT","RoamChallenge");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("SoundManager"),y=a("GameTools"),v=a("TipGroup"),g=a("UIBase");function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.placeName=null,t.palceIcon=null,t.icon=null,t.iconNum=null,t.info=null,t.data=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,p=g.default),m.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.palceIcon=t.getChildByName("palceIcon").getComponent(cc.Sprite),this.placeName=t.getChildByName("name").getComponent(cc.Label),this.icon=t.getChildByName("icon").getComponent(cc.Sprite),this.iconNum=t.getChildByName("iconNum").getComponent(cc.Label)},m.prototype.start=function(){},m.prototype.init=function(t,e,n,o){return s(this,void 0,void 0,function(){var a,i,r,l,c;return u(this,function(s){switch(s.label){case 0:return this.data=e,this.success=n,this.fail=o,a="Landmark/"+t,(i=y.default.GetRes("SpriteBundle2",a,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("SpriteBundle2",a)];case 1:i=s.sent(),s.label=2;case 2:return this.palceIcon.spriteFrame=i,this.placeName.string=e.name,l=1==e.type?"Award/coin":"Award/jewel",(r=y.default.GetRes("SpriteBundle1",l,cc.SpriteFrame))?[3,4]:[4,y.default.loadImage("SpriteBundle1",l)];case 3:r=s.sent(),s.label=4;case 4:return this.info.string="      "+e.explain,this.icon.spriteFrame=r,1!=e.type?[3,6]:[4,d.default.Instance.GetOutPut()];case 5:return c=s.sent()*e.value,[3,7];case 6:c=f.default.Instance.GetOutPut()*e.value,s.label=7;case 7:return l=c,this.iconNum.string="+"+y.default.refSetCoin(l),[2]}})})},m.prototype.onEnable=function(){p.prototype.onEnable.call(this)},m.prototype.ClickChallange=function(){h.default.instance.play(h.Sound.Click),this.CloseThis(),this.success()},m.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),v.default.instance.setText(-1,"\u653e\u5f03\u6311\u6218\uff0c\u83b7\u5f97\u4e91\u6e38\u7ecf\u9a8c+"+this.data.exp),this.CloseThis(),this.fail()},m.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],m.prototype,"info",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],RoamDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"2bdf4XXjr9Oi4YOnjS+P9BX","RoamDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("RoamBoxData"),d=i("RoamData"),h=i("RoamUpData"),y=i("GameSys"),v=i("GameTools"),g=i("SingleBase");function m(){var t=null!==u&&u.apply(this,arguments)||this;return t.roamdata=new Array,t.roamupdata=new Array,t.roamboxdata=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(m,u=g.default),(p=m).prototype.onLoad=function(){p.Instance=this},m.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,u,p,y;return s(this,function(s){switch(s.label){case 0:return null!=(t=v.default.GetRes("JsonBundle","Jsons/Roam",cc.JsonAsset))?[3,2]:[4,v.default.loadJson("JsonBundle","Jsons/Roam")];case 1:return e=s.sent(),[3,3];case 2:e=t.json,s.label=3;case 3:for(n=e.length,u=0;u<n;u++)p=e[u],(y=new d.default).id=p.id,y.name=p.name,y.level=p.level,y.condition=p.condition,y.exp=p.exp,y.scene=p.scene,y.category=p.category,y.type=p.type,y.value=p.value,y.monster=p.monster,y.monster_num=p.monster_num,y.boss=p.boss,y.boss_num=p.boss_num,y.explain=p.explain,this.roamdata.push(y);return null!=(o=v.default.GetRes("JsonBundle","Jsons/RoamUp",cc.JsonAsset))?[3,5]:[4,v.default.loadJson("JsonBundle","Jsons/RoamUp")];case 4:return a=s.sent(),[3,6];case 5:a=o.json,s.label=6;case 6:for(i=a.length,u=0;u<i;u++)p=a[u],(y=new h.default).id=p.id,y.scene=p.scene,y.needexp=p.needexp,this.roamupdata.push(y);return null!=(r=v.default.GetRes("JsonBundle","Jsons/RoamBox",cc.JsonAsset))?[3,8]:[4,v.default.loadJson("JsonBundle","Jsons/RoamBox")];case 7:return l=s.sent(),[3,9];case 8:l=r.json,s.label=9;case 9:for(c=l.length,u=0;u<c;u++)p=l[u],(y=new f.default).id=p.id,y.name=p.name,y.type=p.type,y.value=p.value,y.probability=p.probability,y.exp=p.exp,this.roamboxdata.push(y);return[2]}})})},m.prototype.GetPosRole=function(){for(var t=[],e=0;e<this.roamboxdata.length;e++){t.push(0);for(var n=0;n<=e;n++)t[e]+=this.roamboxdata[n].probability}var o=0;for(e=0;e<t.length;e++)o=t[e];var a=Math.random();if(o<a)return 0;for(e=0;e<t.length;e++)if(a<=t[e])return this.roamboxdata[e].id},m.prototype.GetBoxRole=function(t){for(var e=0;e<this.roamboxdata.length;e++)if(this.roamboxdata[e].id==t)return this.roamboxdata[e]},m.prototype.GetArea=function(t){return this.roamupdata[t]},m.prototype.GetLandmark=function(t){for(var e=y.default.getLandmark()[t],n=[],o=0;o<this.roamdata.length;o++)5*t<=o&&o<5*t+5&&n.push(this.roamdata[o]);for(o=0;o<n.length;o++){if(e<n[o].condition)return n[o];if(o>=n.length-1)return n[o]}},m.prototype.GetNowAlea=function(){for(var t=y.default.getRoamExp(),e=0;e<this.roamupdata.length;e++){if(t<this.roamupdata[e].needexp)return e;if(e>=this.roamupdata.length-1)return e}},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],m),r.default=i,cc._RF.pop()},{}],RoamData:[function(t,e,n){"use strict";cc._RF.push(e,"650eaUlHVFMmqiKGlbKA2j4","RoamData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],RoamLandmark:[function(t,e,n){"use strict";cc._RF.push(e,"a0625xRh4hOcIBHs/H3CnHO","RoamLandmark");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("RoamDataManager"),d=a("GameSys"),h=a("EventConst"),y=a("GameTools");function v(){var t=null!==p&&p.apply(this,arguments)||this;return t.index=0,t.level=null,t.progress=null,t.icon=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(v,p=cc.Component),v.prototype.onLoad=function(){this.level=this.node.getChildByName("layout").getChildByName("lv").getComponent(cc.Label),this.progress=this.node.getChildByName("progress").getChildByName("filled").getComponent(cc.Sprite),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite)},v.prototype.start=function(){cc.systemEvent.on(h.EventConst.Landmark,this.init,this)},v.prototype.onEnable=function(){this.init()},v.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return e=f.default.Instance.GetLandmark(this.index),this.level.string="Lv"+e.level,this.progress.fillRange=d.default.getLandmark()[this.index]/e.condition,t="Landmark/"+this.index,(e=y.default.GetRes("SpriteBundle2",t,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("SpriteBundle2",t)];case 1:e=n.sent(),n.label=2;case 2:return this.icon.spriteFrame=e,this.icon.node.width<200&&(this.icon.node.scale=2),[2]}})})},c([i({displayName:"\u5730\u6807\u5e8f\u53f7"})],v.prototype,"index",void 0),a=c([a],v),r.default=a,cc._RF.pop()},{}],RoamNewLine:[function(t,e,n){"use strict";cc._RF.push(e,"070e3bZXPREs50RZuLbL9zG","RoamNewLine");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("CoinOutPutDataManager"),f=i("RoamDataManager"),d=i("SoundManager"),h=i("GameTools"),y=i("TipGroup"),v=i("UIBase"),g=i("UIManager");function m(){var t=null!==u&&u.apply(this,arguments)||this;return t.place=null,t.placeName=null,t.oneNum=null,t.doubleNum=null,t.str=["\u9e21\u7a9d\u5c71","\u7284\u89d2\u5d16","\u6d6e\u4e91\u8c37","\u739b\u6cd5\u9057\u8ff9","\u6ed1\u7a3d\u5e73\u539f","\u795e\u7cbe\u6838"],t}i=(a=cc._decorator).ccclass,a.property,l(m,u=v.default),m.prototype.onLoad=function(){this.place=this.node.getChildByName("Content").getChildByName("palceIcon").getComponent(cc.Sprite),this.placeName=this.node.getChildByName("Content").getChildByName("name").getComponent(cc.Label),this.oneNum=this.node.getChildByName("Content").getChildByName("one").getChildByName("iconNum").getComponent(cc.Label),this.doubleNum=this.node.getChildByName("Content").getChildByName("double").getChildByName("iconNum").getComponent(cc.Label)},m.prototype.onEnable=function(){u.prototype.onEnable.call(this)},m.prototype.init=function(t){return c(this,void 0,void 0,function(){var e,n,o,a;return s(this,function(i){switch(i.label){case 0:return this.callback=t,e=f.default.Instance.GetNowAlea(),n="Place/0"+e,(o=h.default.GetRes("SpriteBundle2",n,cc.SpriteFrame))?[3,2]:[4,h.default.loadImage("SpriteBundle2",n)];case 1:o=i.sent(),i.label=2;case 2:return this.place.spriteFrame=o,this.placeName.string=""+this.str[e],a=this,[4,p.default.Instance.GetOutPut()];case 3:return a.reward=900*i.sent(),this.oneNum.string="\xd7"+h.default.refSetCoin(this.reward),this.doubleNum.string="\xd7"+h.default.refSetCoin(2*this.reward),[2]}})})},m.prototype.ClickOne=function(){d.default.instance.play(d.Sound.Click),this.CloseThis(),g.default.Instance.ChangeCoin(this.reward),this.callback()},m.prototype.ClickDouble=function(){var t=this;d.default.instance.play(d.Sound.Click),h.default.getSdk().PlatformCallBack("REWARD",function(){t.CloseThis(),g.default.Instance.ChangeCoin(2*t.reward),t.callback()},function(){y.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-10)},m.prototype.CloseThis=function(){u.prototype.CloseThis.call(this)},m.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],m),r.default=i,cc._RF.pop()},{}],RoamPanel:[function(t,e,n){"use strict";cc._RF.push(e,"b71d7Qf1X9B1qOPqOma2w37","RoamPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f,d=a("GameFight"),h=a("OnHook"),y=a("PropDataManager"),v=a("RoamDataManager"),g=a("SoundManager"),m=a("GameSys"),b=a("EventConst"),C=a("GameTools"),S=a("PanelConst"),w=a("RewardPanel"),k=a("RoamChallenge"),_=a("RoamNewLine"),P=a("RoamPos"),O=a("RoamReward"),I=a("TipGroup"),R=a("UIBase"),x=a("UIManager");function T(){var t=null!==p&&p.apply(this,arguments)||this;return t.Teacher=null,t.video=null,t.Line=null,t.posArray=[],t.landmark=[],t.Chess=null,t.Have=null,t.Time=null,t.diceSk=null,t.diceSp=null,t.roam=null,t.placeName=null,t.progress=null,t.nextplaceName=null,t.tips=null,t.Maplevel=null,t.move=!1,t.pos=0,t.level=0,t.place=["\u9e21\u7a9d\u5c71","\u7284\u89d2\u5d16","\u6d6e\u4e91\u8c37","\u739b\u6cd5\u9057\u8ff9","\u6ed1\u7a3d\u5e73\u539f","\u795e\u7cbe\u6838"],t}a=(i=cc._decorator).ccclass,i=i.property,l(T,p=R.default),(f=T).prototype.onLoad=function(){(f.instance=this).Line=this.node.getChildByName("Line"),this.Chess=this.node.getChildByName("Chess");var t=this.node.getChildByName("ui"),e=t.getChildByName("down");this.Have=e.getChildByName("have").getChildByName("num").getComponent(cc.Label),this.diceSk=e.getChildByName("diceSk").getComponent(sp.Skeleton),this.diceSp=e.getChildByName("diceSp").getComponent(cc.Sprite),this.Time=e.getChildByName("time").getChildByName("num").getComponent(cc.Label),this.roam=this.node.getChildByName("roam"),this.placeName=t.getChildByName("Map").getChildByName("layout").getChildByName("place").getComponent(cc.Label),this.progress=t.getChildByName("Map").getChildByName("layout").getChildByName("progress").getComponent(cc.Label),this.nextplaceName=t.getChildByName("Map").getChildByName("layout2").getChildByName("name").getComponent(cc.Label),this.tips=t.getChildByName("Map").getChildByName("layout2").getChildByName("tips"),this.Maplevel=t.getChildByName("Map").getChildByName("level").getComponent(cc.Label)},T.prototype.start=function(){},T.prototype.onEnable=function(){this.pos=m.default.getPos(),this.initRoam(),this.initMap(),this.initDiceHave(),this.initMessage(),cc.systemEvent.emit(b.EventConst.initChessPos,this.Chess.getPosition()),g.default.instance.play(g.Sound.BGM2),10==h.default.instance.teacherid?this.ShowTeacher():this.HideTeacher()},T.prototype.ShowTeacher=function(){this.Teacher.active=!0},T.prototype.HideTeacher=function(){this.Teacher.active=!1},T.prototype.initMap=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:return t=v.default.Instance.GetNowAlea(),this.Line.children[t].childrenCount<=0?(e="Prefabs/item/map"+(t+1),(n=C.default.GetRes("Bundle",e,cc.Prefab))?[3,2]:[4,C.default.loadPrefab("Bundle",e)]):[3,3];case 1:n=c.sent(),c.label=2;case 2:cc.instantiate(n).setParent(this.Line.children[t]),c.label=3;case 3:for(r=0;r<this.Line.childrenCount;r++)this.Line.children[r].active=r==t;for(this.posArray=[],o=this.Line.children[t].children[0],r=0;r<o.childrenCount;r++)this.posArray.push(o.children[r]);if(a=m.default.getRoamBox(),i=m.default.getRoamBoxIsGet(),a.length<=0||a.length!=this.posArray.length){for(a=[],i=[],r=0;r<this.posArray.length;r++)l=this.posArray[r].getComponent(P.default).initpos(),a.push(l),i.push(1);m.default.setRoamBox(a),m.default.setRoamBoxIsGet(i)}return this.initBox(),this.initChess(),[2]}})})},T.prototype.initRoam=function(){x.default.Instance.HideMain();for(var t=v.default.Instance.GetNowAlea(),e=0;e<this.roam.childrenCount;e++)this.roam.children[e].active=!(e<=t)},T.prototype.initChess=function(){var t=this.posArray[this.pos].getPosition();t=this.posArray[this.pos].parent.convertToWorldSpaceAR(t),t=this.Chess.parent.convertToNodeSpaceAR(t),this.Chess.setPosition(t)},T.prototype.initBox=function(){for(var t=0;t<this.posArray.length;t++)this.posArray[t].getComponent(P.default).initBox()},T.prototype.initDiceHave=function(){this.Have.string="("+m.default.getDiceNum()+"/10)",0<m.default.getDiceNum()?this.video.active=!1:this.video.active=!0},T.prototype.initDiceTime=function(){this.Time&&(this.Time.string=C.default.hour_min_secTimeFuncion(m.default.getDiceTime()))},T.prototype.reftime=function(){},T.prototype.ClickDice=function(){var t=this;g.default.instance.play(g.Sound.Click),this.move?I.default.instance.setText(-1,"\u6b63\u5728\u79fb\u52a8\u4e2d..."):m.default.getDiceNum()<=0?C.default.getSdk().PlatformCallBack("REWARD",function(){m.default.setDiceNum(10),I.default.instance.setText(-1,"\u9ab0\u5b50+10"),t.initDiceHave()},function(){I.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-11):(this.level=v.default.Instance.GetNowAlea(),this.diceSk.setAnimation(0,"shaizidonghua",!1),this.diceSp.node.active=!1,this.move=!0,setTimeout(function(){return s(t,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return m.default.setDiceNum(-1),e=Math.floor(6*Math.random())+1,t=[1,4,4],m.default.getRoamCount()<3&&(e=t[m.default.getRoamCount()]),m.default.setRoamCount(),cc.systemEvent.emit(b.EventConst.GAME_CHESS_MOVE,this.Chess),this.Chess.getComponent(sp.Skeleton).setAnimation(0,"move",!0),this.GoMove(e),this.diceSp.node.active=!0,t="Roam/tou_0"+e,(e=C.default.GetRes("SpriteBundle1",t,cc.SpriteFrame))?[3,2]:[4,C.default.loadImage("SpriteBundle1",t)];case 1:e=n.sent(),n.label=2;case 2:return this.diceSp.spriteFrame=e,[2]}})})},500),10==h.default.instance.teacherid&&(this.HideTeacher(),h.default.instance.teacherid=0))},T.prototype.GoMove=function(t){var e=this;t--,this.pos--,this.pos<0&&(this.pos=this.posArray.length-1);var n=this.posArray[this.pos].getPosition();n=this.posArray[this.pos].parent.convertToWorldSpaceAR(n),(n=this.Chess.parent.convertToNodeSpaceAR(n)).x>this.Chess.x?this.Chess.scaleX=-1:this.Chess.scaleX=1,cc.tween(this.Chess).to(.3,{x:n.x,y:n.y}).call(function(){t<=0?(e.move=!1,e.Settlement(),e.initDiceHave(),m.default.getDiceTime()<=0&&m.default.setDiceTime(300),cc.systemEvent.emit(b.EventConst.GAME_CHESS_END),e.Chess.getComponent(sp.Skeleton).setAnimation(0,"start",!0)):e.GoMove(t)}).start()},T.prototype.Settlement=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l=this;return u(this,function(c){switch(c.label){case 0:if(m.default.setPos(this.pos),!(t=this.posArray[this.pos].getComponent(P.default)).type)return[3,6];switch(e=v.default.Instance.GetLandmark(t.index),cc.systemEvent.emit(b.EventConst.Landmark),e.category){case"\u5956\u52b1":return[3,1];case"\u6218\u6597":return[3,3]}return[3,5];case 1:return m.default.setLandmark(t.index),m.default.setRoamExp(e.exp),I.default.instance.setText(-1,"\u7ecf\u9a8c+"+e.exp),[4,x.default.Instance.ShowUI(S.default.RoamReward)];case 2:return c.sent(),x.default.Instance.GetClass(S.default.RoamReward).getComponent(O.default).init(t.index,e,function(t){return s(l,void 0,void 0,function(){var n,o,a=this;return u(this,function(i){switch(i.label){case 0:switch((n=[]).push(),o=null,e.type){case 1:o=y.default.Instance.GetCoinProp(),t?n.push({prop:o,have:2*e.value}):n.push({prop:o,have:e.value});break;case 2:o=y.default.Instance.GetJewelProp(),t?n.push({prop:o,have:2*e.value}):n.push({prop:o,have:e.value})}return[4,x.default.Instance.ShowUI(S.default.RewardPanel)];case 1:return i.sent(),x.default.Instance.GetClass(S.default.RewardPanel).getComponent(w.default).initAsset(n,function(){a.isUnlock()}),[2]}})})}),[3,5];case 3:return m.default.setLandmark(t.index),m.default.setRoamExp(e.exp),[4,x.default.Instance.ShowUI(S.default.RoamChallenge)];case 4:return c.sent(),x.default.Instance.GetClass(S.default.RoamChallenge).getComponent(k.default).init(t.index,e,function(){l.CloseThis(),d.default.instance.RoamFight(e,function(){return s(l,void 0,void 0,function(){var t,n,o=this;return u(this,function(a){switch(a.label){case 0:return 2===((t=[]).push(),e.type)&&(n=y.default.Instance.GetJewelProp(),t.push({prop:n,have:e.value})),[4,x.default.Instance.ShowUI(S.default.RewardPanel)];case 1:return a.sent(),x.default.Instance.GetClass(S.default.RewardPanel).getComponent(w.default).initAsset(t,function(){o.isUnlock()}),[2]}})})},function(){l.isUnlock()})},function(){l.isUnlock()}),[3,5];case 5:return[3,10];case 6:return 0!=(n=m.default.getRoamBox())[this.pos]?[3,7]:(console.log("\u8be5\u5730\u70b9\u4ec0\u4e48\u90fd\u6ca1\u6709\u89e6\u53d1"),[3,10]);case 7:if(!(0<(o=m.default.getRoamBoxIsGet())[this.pos]))return[3,9];switch(o[this.pos]=0,m.default.setRoamBoxIsGet(o),a=v.default.Instance.GetBoxRole(n[this.pos]),(i=[]).push(),r=null,a.type){case 0:r=y.default.Instance.GetCoinProp(),i.push({prop:r,have:a.value});break;case 1:r=y.default.Instance.GetJewelProp(),i.push({prop:r,have:a.value});break;case 2:r=y.default.Instance.GetProp(1),i.push({prop:r,have:a.value});break;case 3:r=y.default.Instance.GetProp(2),i.push({prop:r,have:a.value});break;case 4:r=y.default.Instance.GetProp(3),i.push({prop:r,have:a.value})}return m.default.setRoamExp(a.exp),[4,x.default.Instance.ShowUI(S.default.RewardPanel)];case 8:return c.sent(),x.default.Instance.GetClass(S.default.RewardPanel).getComponent(w.default).initAsset(i,function(){l.isUnlock(),l.isShowRefBox()}),t.initBox(),[3,10];case 9:I.default.instance.setText(-1,"\u5b9d\u7bb1\u5df2\u9886\u53d6"),this.isShowRefBox(),c.label=10;case 10:return this.initMessage(),[2]}})})},T.prototype.isShowRefBox=function(){for(var t=m.default.getRoamBoxIsGet(),e=0,n=0;n<t.length;n++)t[n]<=0&&e++;var o=m.default.getRoamBox(),a=0;for(n=0;n<o.length;n++)0!=o[n]&&a++;a/2<e&&x.default.Instance.ShowUI(S.default.RefBox)},T.prototype.initMessage=function(){var t=v.default.Instance.GetNowAlea(),e=m.default.getRoamExp(),n=v.default.Instance.GetArea(t).needexp;this.placeName.string=""+this.place[t],this.progress.string=Math.floor(e/n*100)+"%",this.nextplaceName.string=5<=t?"\u5df2\u63a2\u7d22\u5b8c\u6240\u6709\u533a\u57df":this.place[t+1],this.tips.active=!(5<=t),this.Maplevel.string="LV"+(t+1)+"\u884c\u5929\u4e0b"},T.prototype.isUnlock=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(e){switch(e.label){case 0:return v.default.Instance.GetNowAlea()>this.level?[4,x.default.Instance.ShowUI(S.default.RoamNewLine)]:[3,2];case 1:return e.sent(),x.default.Instance.GetClass(S.default.RoamNewLine).getComponent(_.default).init(function(){t.unlockNew()}),[3,3];case 2:console.log("\u65e0\u4e8b\u53d1\u751f"),e.label=3;case 3:return[2]}})})},T.prototype.unlockNew=function(){var t=v.default.Instance.GetNowAlea();cc.systemEvent.emit(b.EventConst.UnlockRoam,t),this.initMap()},T.prototype.ClickGetDice=function(){var t=this;g.default.instance.play(g.Sound.Click),C.default.getSdk().PlatformCallBack("REWARD",function(){m.default.setDiceNum(10),I.default.instance.setText(-1,"\u9ab0\u5b50+10"),t.initDiceHave()},function(){I.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-11)},T.prototype.ClickBox=function(){var t=this;g.default.instance.play(g.Sound.Click),C.default.getSdk().PlatformCallBack("REWARD",function(){for(var e=m.default.getRoamBox(),n=m.default.getRoamBoxIsGet(),o=0;o<n.length;o++)0!=e[o]&&(n[o]=1);m.default.setRoamBoxIsGet(n),t.initBox()},function(){I.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-22)},T.prototype.update=function(){this.initDiceTime()},T.prototype.ClickOff=function(){g.default.instance.play(g.Sound.Click),this.move?I.default.instance.setText(-1,"\u6b63\u5728\u79fb\u52a8\u4e2d"):this.CloseThis()},T.prototype.CloseThis=function(){x.default.Instance.ShowMain(),p.prototype.CloseThis.call(this),g.default.instance.play(g.Sound.BGM3),x.default.Instance.ShowInter()},T.instance=null,c([i(cc.Node)],T.prototype,"Teacher",void 0),c([i(cc.Node)],T.prototype,"video",void 0),a=f=c([a],T),r.default=a,cc._RF.pop()},{}],RoamPos:[function(t,e,n){"use strict";cc._RF.push(e,"85ebbjAQ8pOuYdvl3tI4HvO","RoamPos");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("RoamDataManager"),d=a("GameSys"),h=a("GameTools");function y(){var t=null!==p&&p.apply(this,arguments)||this;return t.type=!1,t.index=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(y,p=cc.Component),y.prototype.initpos=function(){return this.type?0:f.default.Instance.GetPosRole()},y.prototype.initBox=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a;return u(this,function(i){switch(i.label){case 0:return o=this.node.getSiblingIndex(),t=d.default.getRoamBox(),e=d.default.getRoamBoxIsGet(),0==t[o]?[3,3]:(this.node.childrenCount<=0&&this.CreatoBox(),n=this.node.children[0],o=1==e[o]?"Box/baoxiang-guan":"Box/baoxiang-kai",(a=h.default.GetRes("SpriteBundle1",o,cc.SpriteFrame))?[3,2]:[4,h.default.loadImage("SpriteBundle1",o)]);case 1:a=i.sent(),i.label=2;case 2:n.getComponent(cc.Sprite).spriteFrame=a,i.label=3;case 3:return[2]}})})},y.prototype.CreatoBox=function(){var t=d.default.roamboxitem.get();return t.setParent(this.node),t},c([i({displayName:"\u662f\u5426\u4e3a\u5730\u6807\u70b9"})],y.prototype,"type",void 0),c([i({displayName:"\u5730\u6807\u5e8f\u53f7"})],y.prototype,"index",void 0),a=c([a],y),r.default=a,cc._RF.pop()},{}],RoamReward:[function(t,e,n){"use strict";cc._RF.push(e,"1c0673sS9VKwoCxZ72upBdl","RoamReward");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("SoundManager"),y=a("GameTools"),v=a("TipGroup"),g=a("UIBase");function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.placeName=null,t.palceIcon=null,t.icon=null,t.iconNum=null,t.info=null,t.data=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,p=g.default),m.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.palceIcon=t.getChildByName("palceIcon").getComponent(cc.Sprite),this.placeName=t.getChildByName("name").getComponent(cc.Label)},m.prototype.start=function(){},m.prototype.init=function(t,e,n){return s(this,void 0,void 0,function(){var o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:return this.data=e,this.callback=n,o="Landmark/"+t,(a=y.default.GetRes("SpriteBundle2",o,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("SpriteBundle2",o)];case 1:a=c.sent(),c.label=2;case 2:return this.palceIcon.spriteFrame=a,this.placeName.string=e.name,r=1==e.type?"Award/coin":"Award/jewel",(i=y.default.GetRes("SpriteBundle1",r,cc.SpriteFrame))?[3,4]:[4,y.default.loadImage("SpriteBundle1",r)];case 3:i=c.sent(),c.label=4;case 4:return this.icon.spriteFrame=i,this.info.string="     "+e.explain,1!=e.type?[3,6]:[4,d.default.Instance.GetOutPut()];case 5:return l=c.sent()*e.value,[3,7];case 6:l=f.default.Instance.GetOutPut()*e.value,c.label=7;case 7:return r=l,this.iconNum.string="+"+y.default.refSetCoin(r),[2]}})})},m.prototype.onEnable=function(){p.prototype.onEnable.call(this)},m.prototype.ClickGet=function(){h.default.instance.play(h.Sound.Click),this.CloseThis(),this.callback(!1)},m.prototype.ClickDoubleGet=function(){var t=this;h.default.instance.play(h.Sound.Click),y.default.getSdk().PlatformCallBack("REWARD",function(){t.CloseThis(),t.callback(!0)},function(){v.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-12)},m.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis(),this.callback(!1)},m.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],m.prototype,"placeName",void 0),c([i(cc.Sprite)],m.prototype,"palceIcon",void 0),c([i(cc.Sprite)],m.prototype,"icon",void 0),c([i(cc.Label)],m.prototype,"iconNum",void 0),c([i(cc.Label)],m.prototype,"info",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],RoamUpData:[function(t,e,n){"use strict";cc._RF.push(e,"e7517Y9mtBNPqNRUdjl0h95","RoamUpData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],Roam:[function(t,e,n){"use strict";cc._RF.push(e,"ad02d7lzVxCx7rBW3W/y1ji","Roam");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("EventConst");function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.left=[],t.right=[],t}i=(a=cc._decorator).ccclass,a.property,l(u,c=cc.Component),u.prototype.onLoad=function(){for(var t=0;t<this.node.childrenCount;t++)("left"==this.node.children[t].name?this.left:this.right).push(this.node.children[t])},u.prototype.unlock=function(t){if(t==this.node.getSiblingIndex()){for(var e=0;e<this.left.length;e++)cc.tween(this.left[e]).by(.7,{x:-100}).start(),cc.tween(this.left[e]).delay(.4).to(.3,{opacity:0}).start();for(var n=0;n<this.right.length;n++)cc.tween(this.right[n]).by(.7,{x:100}).start(),cc.tween(this.right[n]).delay(.4).to(.3,{opacity:0}).start()}},u.prototype.start=function(){cc.systemEvent.on(s.EventConst.UnlockRoam,this.unlock,this)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],u),r.default=i,cc._RF.pop()},{}],SWItem:[function(t,e,n){"use strict";cc._RF.push(e,"23650YHdghE2ZyQK4aPWEee","SWItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("PanelConst"),m=a("RewardPanel"),b=a("TipGroup"),C=a("UIManager");function S(){var t=null!==p&&p.apply(this,arguments)||this;return t.GetBtn=null,t.NameLabel=null,t.Icon=null,t.PlayBtn=null,t.OverBtn=null,t.Coin=null,t.appid="",t.path="",t.index=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(S,p=cc.Component),S.prototype.init=function(t){return s(this,void 0,void 0,function(){var e,n=this;return u(this,function(o){switch(o.label){case 0:switch(this.index=t,this.PlayBtn.active=!1,this.GetBtn.active=!1,this.OverBtn.active=!1,y.default.getWxSW()[t]){case 0:this.PlayBtn.active=!0;break;case 1:this.GetBtn.active=!0;break;case 2:this.OverBtn.active=!0}return[4,f.default.Instance.GetOutPut()];case 1:return e=2400*o.sent(),this.Coin.string="\xd7"+v.default.refSetCoin(e),e=y.default.othergame[t],this.NameLabel.string=e.name,this.appid=e.appid,this.path=e.path,cc.assetManager.loadRemote(e.icon,function(t,e){return t?console.log(t):void(n.Icon.spriteFrame=new cc.SpriteFrame(e))}),[2]}})})},S.prototype.ClickPlay=function(){var t=this;h.default.instance.play(h.Sound.Click),v.default.getSdk().toOtherGame(this.appid,this.path,function(e){e?((e=y.default.getWxSW())[t.index]=1,y.default.setWxSW(e),t.init(t.index)):b.default.instance.setText(-1,"\u8bd5\u73a9\u65f6\u95f4\u8fc7\u77ed")})},S.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return h.default.instance.play(h.Sound.Click),(t=y.default.getWxSW())[this.index]=2,y.default.setWxSW(t),this.init(this.index),t=d.default.Instance.GetCoinProp(),[4,C.default.Instance.ShowUI(g.default.RewardPanel)];case 1:return e.sent(),C.default.Instance.GetClass(g.default.RewardPanel).getComponent(m.default).initAsset([{prop:t,have:2400}]),[2]}})})},c([i(cc.Node)],S.prototype,"GetBtn",void 0),c([i(cc.Label)],S.prototype,"NameLabel",void 0),c([i(cc.Sprite)],S.prototype,"Icon",void 0),c([i(cc.Node)],S.prototype,"PlayBtn",void 0),c([i(cc.Node)],S.prototype,"OverBtn",void 0),c([i(cc.Label)],S.prototype,"Coin",void 0),a=c([a],S),r.default=a,cc._RF.pop()},{}],SWPanel:[function(t,e,n){"use strict";cc._RF.push(e,"689d8krXVRGrpO4PLedsDF+","SWPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys"),p=a("SWItem"),f=a("UIBase"),d=a("UIManager");function h(){var t=null!==s&&s.apply(this,arguments)||this;return t.Content=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(h,s=f.default),h.prototype.onEnable=function(){s.prototype.onEnable.call(this);for(var t=0;t<this.Content.children.length;t++)t<u.default.othergame.length?(this.Content.children[t].getComponent(p.default).init(t),this.Content.children[t].active=!0):this.Content.children[t].active=!1},h.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),d.default.Instance.ShowInter()},c([i(cc.Node)],h.prototype,"Content",void 0),a=c([a],h),r.default=a,cc._RF.pop()},{}],SceneDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"5fc82UP53JMJYfGu/OWbUC3","SceneDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("MonsterData"),d=i("SceneData"),h=i("GameSys"),y=i("GameTools"),v=i("MonsterDataManager"),g=i("SingleBase");function m(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t.nextallDataList=new Array,t.array=[],t}i=(a=cc._decorator).ccclass,a.property,l(m,u=g.default),(p=m).prototype.onLoad=function(){p.Instance=this},m.prototype.Init=function(t){return void 0===t&&(t=h.default.getCustoms()),c(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l;return s(this,function(c){switch(c.label){case 0:this.allDataList=[],t="",e=1,c.label=1;case 1:return e<7?(t="Jsons/Level/Scene"+e,n=null,n=y.default.GetRes("JsonBundle",t,cc.JsonAsset),o=void 0,null!=n?[3,3]:[4,y.default.loadJson("JsonBundle",t)]):[3,6];case 2:return o=c.sent(),[3,4];case 3:o=n.json,c.label=4;case 4:for(a=o.length,i=0;i<a;i++)r=o[i],(l=new d.default).level=r.level,l.scene=r.scene,l.name=r.name,l.level1=r.level1,l.level2=r.level2,l.sprite=r.sprite,l.reward=r.reward,l.hit=r.hit,l.dodge=r.dodge,l.crit=r.crit,l.fightnum=r.fightnum,l.coin=r.coin,l.realm=r.monster_level,l.outputAdd=r.outputAdd,l.rewardCoin=r.rewardCoin,l.rewardgoods1=r.rewardgoods1,l.rewardgoods1num=r.rewardgoods1num,l.rewardgoods2=r.rewardgoods2,l.rewardgoods2num=r.rewardgoods2num,l.rewardgoods3=r.rewardgoods3,l.rewardgoods3num=r.rewardgoods3num,l.wave1_name=r.wave1_name,l.wave1_hp=r.wave1_hp,l.wave1_atk=r.wave1_atk,l.wave1_speed=r.wave1_speed,l.wave1_num=r.wave1_num,l.wave2_name=r.wave2_name,l.wave2_hp=r.wave2_hp,l.wave2_atk=r.wave2_atk,l.wave2_speed=r.wave2_speed,l.wave2_num=r.wave2_num,l.wave3_name=r.wave3_name,l.wave3_hp=r.wave3_hp,l.wave3_atk=r.wave3_atk,l.wave3_speed=r.wave3_speed,l.wave3_num=r.wave3_num,l.wave4_name=r.wave4_name,l.wave4_hp=r.wave4_hp,l.wave4_atk=r.wave4_atk,l.wave4_speed=r.wave4_speed,l.wave4_num=r.wave4_num,l.wave5_name=r.wave5_name,l.wave5_hp=r.wave5_hp,l.wave5_atk=r.wave5_atk,l.wave5_speed=r.wave5_speed,l.wave5_num=r.wave5_num,l.boss1name=r.boss1name,l.boss1_hp=r.boss1_hp,l.boss1_atk=r.boss1_atk,l.boss1_speed=r.boss1_speed,l.boss1_num=r.boss1_num,l.boss2name=r.boss2name,l.boss2_hp=r.boss2_hp,l.boss2_atk=r.boss2_atk,l.boss2_speed=r.boss2_speed,l.boss2_num=r.boss2_num,this.allDataList.push(l);c.label=5;case 5:return e++,[3,1];case 6:return[2]}})})},m.prototype.GetRole=function(t){return void 0===t&&(t=h.default.getCustoms()),c(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return(t=1915<=t?1915:t)>=this.allDataList[this.allDataList.length-1].level?(console.log("\u5f53\u524d\u573a\u666f\u6570\u636e\u4e0e\u6240\u9700\u6570\u636e\u4e0d\u5339\u914d\uff0c\u91cd\u65b0\u52a0\u8f7d\u5339\u914d\u6570\u636e\u8868"),[4,this.Init(t)]):[3,2];case 1:for(n.sent(),e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return[2,this.allDataList[e]];return[3,3];case 2:for(e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return[2,this.allDataList[e]];n.label=3;case 3:return[2]}})})},m.prototype.GetMaxWave=function(t){return void 0===t&&(t=h.default.getCustoms()),c(this,void 0,void 0,function(){var e,n;return s(this,function(o){switch(o.label){case 0:return this.array=[],[4,this.GetRole(t)];case 1:return e=o.sent(),(n=0)<e.wave1_num&&(n+=1,this.array.push(1)),0<e.wave2_num&&(n+=1,this.array.push(2)),0<e.wave3_num&&(n+=1,this.array.push(3)),0<e.wave4_num&&(n+=1,this.array.push(4)),0<e.wave5_num&&(n+=1,this.array.push(5)),(0<e.boss1_num||0<e.boss2_num)&&(n+=1,this.array.push(6)),[2,n]}})})},m.prototype.GetMonsterRole=function(t,e){return void 0===e&&(e=h.default.getCustoms()),c(this,void 0,void 0,function(){var n,o,a;return s(this,function(i){switch(i.label){case 0:return[4,this.GetRole(e)];case 1:switch(n=i.sent(),(o=new f.default).id=0,o.level=n.level,o.realm="",o.dodge=n.dodge,o.hit=n.hit,o.crit=n.crit,o.realm=n.realm,o.maxmp=100,this.array[t-1]){case 1:o.name=n.wave1_name,o.atk=n.wave1_atk,o.hp=n.wave1_hp,o.interval=n.wave1_speed,o.atkSpeed=60/o.interval;break;case 2:o.name=n.wave2_name,o.atk=n.wave2_atk,o.hp=n.wave2_hp,o.interval=n.wave2_speed,o.atkSpeed=60/o.interval;break;case 3:o.name=n.wave3_name,o.atk=n.wave3_atk,o.hp=n.wave3_hp,o.interval=n.wave3_speed,o.atkSpeed=60/o.interval;break;case 4:o.name=n.wave4_name,o.atk=n.wave4_atk,o.hp=n.wave4_hp,o.interval=n.wave4_speed,o.atkSpeed=60/o.interval;break;case 5:o.name=n.wave5_name,o.atk=n.wave5_atk,o.hp=n.wave5_hp,o.interval=n.wave5_speed,o.atkSpeed=60/o.interval}return o.maxhp=o.hp,a=v.default.Instance.GetMonster(o.name),o.range=a.range,o.atkType=a.atkType,o.type=a.type,o.skillType=a.skillType,o.fatalityType=a.fatalityType,o.skillName=a.skillName,o.fatalityName=a.fatalityName,[2,o]}})})},m.prototype.GetMonsterNum=function(t,e){return void 0===e&&(e=h.default.getCustoms()),c(this,void 0,void 0,function(){var n,o;return s(this,function(a){switch(a.label){case 0:return[4,this.GetRole(e)];case 1:switch(n=a.sent(),o=0,this.array[t-1]){case 1:o=n.wave1_num;break;case 2:o=n.wave2_num;break;case 3:o=n.wave3_num;break;case 4:o=n.wave4_num;break;case 5:o=n.wave5_num;break;case 6:o=n.boss1_num+n.boss2_num}return[2,o]}})})},m.prototype.GetBossNum=function(t,e){return void 0===e&&(e=h.default.getCustoms()),c(this,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return[4,this.GetRole(e)];case 1:switch(n=o.sent(),t){case 1:return[2,n.boss1_num];case 2:return[2,n.boss2_num]}return[2]}})})},m.prototype.GetBossRole=function(t,e){return void 0===e&&(e=h.default.getCustoms()),c(this,void 0,void 0,function(){var n,o,a;return s(this,function(i){switch(i.label){case 0:return[4,this.GetRole(e)];case 1:switch(n=i.sent(),(o=new f.default).id=0,o.level=n.level,o.realm="",o.dodge=n.dodge,o.hit=n.hit,o.crit=n.crit,o.realm=n.realm,o.maxmp=100,t){case 1:o.name=n.boss1name,o.atk=n.boss1_atk,o.hp=n.boss1_hp,o.interval=n.boss1_speed,o.atkSpeed=60/o.interval;break;case 2:o.name=n.boss2name,o.atk=n.boss2_atk,o.hp=n.boss2_hp,o.interval=n.boss2_speed,o.atkSpeed=60/o.interval}return o.maxhp=o.hp,a=v.default.Instance.GetMonster(o.name),o.range=a.range,o.atkType=a.atkType,o.type=a.type,o.skillType=a.skillType,o.fatalityType=a.fatalityType,o.skillName=a.skillName,o.fatalityName=a.fatalityName,[2,o]}})})},m.prototype.GetWave=function(t){return this.array[t-1]},m.prototype.RandomGetBoss=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:e=h.default.getCustoms(),t=10*Math.floor(e/10)+1,e=0,n.label=1;case 1:return e<10?[4,this.GetRole(t+e)]:[3,4];case 2:if(0<n.sent().boss1_num)return[2,this.GetBossRole(1,t+e)];n.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},m.prototype.GetSceneid=function(t){return void 0===t&&(t=h.default.getCustoms()),c(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.GetRole(t)];case 1:switch(e.sent().scene){case"\u9e21\u7a9d\u6751":return[2,1];case"\u65ee\u65ef\u9547":return[2,2];case"\u795e\u9a6c\u9547":return[2,3];case"\u739b\u6cd5\u5996\u754c":return[2,4];case"\u5916\u661f\u7403":return[2,5];case"\u795e\u7cbe\u754c":return[2,6]}return[2]}})})},m.prototype.GetScene=function(t){return c(this,void 0,void 0,function(){var e,n,o,a,i,r,l;return s(this,function(c){switch(c.label){case 0:return n="Jsons/Level/Scene"+t,(e=null)!=!(e=y.default.GetRes("JsonBundle",n,cc.JsonAsset))?[3,2]:[4,y.default.loadJson("JsonBundle",n)];case 1:e=c.sent(),c.label=2;case 2:for(o=e.json,a=Object.keys(o).length,i=[],r=0;r<a;r++)if(i.length<=0)i.push([o[r]]);else for(l=0;l<i.length;l++)i[l][0].level1==o[r].level1?i[l][0].level!=o[r].level&&i[l].push(o[r]):l>=i.length-1&&i.push([o[r]]);return[2,i]}})})},m.prototype.GetNowPlace=function(t){return void 0===t&&(t=h.default.getCustoms()),c(this,void 0,void 0,function(){var e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return[4,this.GetRole(t)];case 1:return n=r.sent(),e=n.level,[4,this.GetSceneid(t)];case 2:return n=r.sent(),[4,this.GetScene(n)];case 3:for(o=r.sent(),a=0;a<o.length;a++)for(i=0;i<o[a].length;i++)if(o[a][i].level==e)return[2,o[a]];return[2,o[o.length-1]]}})})},m.prototype.isHaveBoss=function(){},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],m),r.default=i,cc._RF.pop()},{}],SceneData:[function(t,e,n){"use strict";cc._RF.push(e,"56183rOj9REQKwPPRamHBcK","SceneData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],SdkManager:[function(t,e,n){"use strict";cc._RF.push(e,"961ddbUsTZIxpbCwuHrFmAB","SdkManager");var o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=o("Recorder"),r=o("GameSys"),l=o("HttpClient");function c(){this.nativeNum=0}c.prototype.loadData=function(){throw new Error("Method not implemented.")},c.prototype.getRankId=function(){return""},c.prototype.share=function(t){t()},c.prototype.openAwemeUserProfile=function(){},c.prototype.toOtherGame=function(){},c.prototype.showCustomAd=function(){},c.prototype.postMessage=function(){},c.prototype.requestSubscribeMessage=function(){},c.prototype.openCustomerServiceConversation=function(){},c.prototype.ClickShare=function(){},c.prototype.onHideListen=function(){},c.prototype.getShareList=function(){},c.prototype.shareFriend=function(){},c.prototype.sendEvent=function(){},c.prototype.subscribeMsg=function(){},c.prototype.saveDesktop=function(){},c.prototype.BannerAd=function(){},c.prototype.createRole=function(){},c.prototype.dot=function(){},c.prototype.gameLevel=function(){},c.prototype.BannerShow=function(){},c.prototype.isHaveRank=function(){return!1},c.prototype.getFriendOpenDataContext=function(){},c.prototype.hideFriendOpenDataContext=function(){},c.prototype.getSurpassOpenDataContext=function(){},c.prototype.setRankScore=function(){},c.prototype.BannerShow1=function(){},c.prototype.authorize=function(){},c.prototype.closeUserInfo=function(){},c.prototype.getChannelId=function(){return""},c.prototype.getSecret=function(){return"724692b4589bb835a8a3decf1b1a3202"},c.prototype.getGameId=function(){return"198"},c.prototype.BannerHide=function(){},c.prototype.RewardedAd=function(){},c.prototype.RewardedShow=function(){},c.prototype.oneceSubscribeMsg=function(){},c.prototype.showShare=function(){},c.prototype.onShareListen=function(){},c.prototype.InterstitialAd=function(){},c.prototype.isHaveShare=function(){return!1},c.prototype.InterstitialShow=function(){},c.prototype.login=function(t){i.default.init(),t()},c.prototype.CleanData=function(){},c.prototype.exit=function(){},c.prototype.shareRecorder=function(){},c.prototype.onShow=function(){},c.prototype.postReset=function(){},c.prototype.goOtherGame=function(){},c.prototype.PlatformCallBack=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),"REWARD"!==t||e()},c.prototype.SendEvent=function(){},c.prototype.ChannelCallBack=function(){return r.default.channel},c.prototype.recorderstart=function(){},c.prototype.recorderstop=function(){},c.prototype.addColorSign=function(){},c.prototype.addToFavorites=function(){},c.prototype.controlKey=function(){l.default.RequestHttpData("198","0001049",{success:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t),r.default.isVideoCount=t.data.info.guanggaocishu,r.default.errortouch=t.data.info.wuchu,r.default.addprogress=t.data.info.jindu,console.log("splashAdCount\uff1a",r.default.splashAdCount);for(var e=JSON.parse(t.data.info.cdk),n=0;n<e.length;n++)for(var o=e[n],a=0;a<r.default.wxcdk.length&&r.default.wxcdk[a].CDK!=o.cdk;a++)if(r.default.wxcdk[a].CDK!=o.cdk&&a==r.default.wxcdk.length-1){r.default.wxcdk.push({CDK:o.cdk,state:!1});break}r.default.CDKArray=e,r.default.setWXCDK(r.default.wxcdk)},fail:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t)}},"1.0.0")},c.prototype.getMenuButtonBottom=function(){return 0},c.prototype.onKeyDown=function(){},c.prototype.isShowAddColorSign=function(){return!1},c.prototype.getPackage=function(){},c.prototype.isHaveAddToDesktop=function(){return!1},c.prototype.getMoney=function(){},c.prototype.reportAdClick=function(){},c.prototype.reportAdShow=function(){},c.prototype.moreGame=function(){},c.prototype.showUserProtocol=function(){},c.prototype.showGameBannerAd=function(){},c.prototype.hideGameBannerAd=function(){},o=c,a.default=o,cc._RF.pop()},{}],SectBronControl:[function(t,e,n){"use strict";cc._RF.push(e,"066feRshahKho/xu4tLMVWq","SectBronControl");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("DiscipleDataManager"),f=i("EventConst"),d=i("GameTools"),h=i("DiscipleControl"),y=i("SectControl");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.curAllDisciples=new Array,t.curAllDiscipleDatas=new Array,t.timer=0,t.curBornList=new Array,t.bornDiscipleOff=1,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=cc.Component),v.prototype.onLoad=function(){this.Init()},v.prototype.start=function(){this.RefreshBornList()},v.prototype.Init=function(){var t=this.node.getChildByName("Container");this.dicipleBornPos=t.getChildByName("discipleBornPos"),this.sectControl=this.node.getComponent(y.default),this.node.on(f.EventConst.EV_UNLOCK_NEW_DISCIPLE,this.RefreshBornList,this)},v.prototype.update=function(){},v.prototype.BornDisciple=function(t){return c(this,void 0,void 0,function(){var e,n,o,a;return s(this,function(i){switch(i.label){case 0:return this.curAllDiscipleDatas.push(t),null!=(e=d.default.GetRes("Bundle","Prefabs/item/discipleitem",cc.Prefab))?[3,2]:[4,d.default.loadPrefab("Bundle","Prefabs/item/discipleitem")];case 1:e=i.sent(),i.label=2;case 2:return n=cc.instantiate(e),(o=n.getComponent(h.default)).setIndex(t),n.setParent(this.sectControl.orderRoot),a=d.default.ConvertTargetToCurLocal(this.dicipleBornPos,n.parent),n.setPosition(a),this.curAllDisciples.push(o),[2]}})})},v.prototype.RandomTwoLabel=function(){for(var t=[-1,-1],e=0;e<2;e++){var n=Math.floor(Math.random()*this.curAllDisciples.length);0==e?t[0]=n:n==t[0]?e=0:t[1]=n}for(console.log("randome:",t),e=0;e<t.length;e++)this.curAllDisciples[t[e]].ShowLabel()},v.prototype.RefreshBornList=function(){for(var t=p.default.Instance.GetAllUnlockDisciples(),e=t.length,n=0;n<e;n++){var o=t[n];this.curAllDiscipleDatas.indexOf(o)<0&&this.curBornList.indexOf(o)<0&&this.curBornList.push(o)}},v.prototype.onDestroy=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],SectControl:[function(t,e,n){"use strict";cc._RF.push(e,"c964eoosnVARYSGCObQcuxO","SectControl");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("OnHook"),p=a("BuildDataManager"),f=a("SoundManager"),d=a("GameSys"),h=a("EventConst"),y=a("GameTools"),v=a("SectTxt"),g=a("UIBase"),m=a("UIManager"),b=a("PathArea_45Angle"),C=a("MapCameraControl"),S=a("Buider"),w=a("SectBronControl");function k(){var t=null!==s&&s.apply(this,arguments)||this;return t.Teacher=null,t.left=null,t.right=null,t.roam=null,t.line=null,t.orderRoot=null,t.cameraControl=null,t.allBuildList=new Array,t.unlockContent=null,t.tiptxt=null,t.proContent=null,t.Coin=null,t.Jewel=null,t.maxLevel=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(k,s=g.default),k.prototype.onLoad=function(){var t=this.node.getChildByName("Container");this.orderRoot=this.node.getChildByName("orderRoot"),this.cameraControl=this.node.getChildByName("CameraControl").getComponent(C.default),this.pathArea=t.getChildByName("pathMap").getComponent(b.default),this.bornControl=this.node.getComponent(w.default),this.roam=t.getChildByName("yun").getComponent(sp.Skeleton),this.line=this.node.getChildByName("line"),this.unlockContent=this.node.getChildByName("unlockContent"),this.tiptxt=t.getChildByName("tiptxt"),this.Coin=this.node.getChildByName("interlayer").getChildByName("Coin").getChildByName("coin").getComponent(cc.Label),this.Jewel=this.node.getChildByName("interlayer").getChildByName("Jewel").getChildByName("jewel").getComponent(cc.Label),this.proContent=this.node.getChildByName("proContent"),this.maxLevel=this.node.getChildByName("layout").getChildByName("level").getComponent(cc.Label),this.Init()},k.prototype.start=function(){cc.systemEvent.on(h.EventConst.Coin,this.initCoin,this),cc.systemEvent.on(h.EventConst.Jewel,this.initJewel,this),cc.systemEvent.on(h.EventConst.Game_Build,this.initMaxLevel,this),cc.systemEvent.on(h.EventConst.HideSectMask,this.TeacherOver,this)},k.prototype.initCoin=function(){this.Coin.string=""+y.default.refSetCoin(d.default.getCoin())},k.prototype.initJewel=function(){this.Jewel.string=""+y.default.refSetCoin(d.default.getJewel())},k.prototype.onEnable=function(){this.initCoin(),this.initJewel(),this.initMaxLevel(),this.AnimationRoam(),f.default.instance.play(f.Sound.BGM2),14==u.default.instance.teacherid?this.ShowTeacher():this.HideTeacher()},k.prototype.AnimationRoam=function(){var t=this;m.default.Instance.HideMain(),this.right.active=!0,this.left.active=!0,this.right.stopAllActions(),this.left.stopAllActions(),cc.tween(this.right).call(function(){t.right.opacity=255,t.right.x=0}).to(.5,{x:500,opacity:0}).call(function(){t.right.active=!1}).start(),cc.tween(this.left).call(function(){t.left.opacity=255,t.right.x=0}).to(.5,{x:-500,opacity:0}).call(function(){t.left.active=!1}).start()},k.prototype.Init=function(){this.roam.setAnimation(0,"yun1",!0),this.roam.setAnimation(1,"yun2",!0),this.roam.setAnimation(2,"yun3",!0),this.roam.setAnimation(3,"yun4",!0),this.roam.setAnimation(4,"yunA1",!0),this.roam.setAnimation(5,"yunA2",!0);for(var t=0;t<this.allBuildList.length;t++)3==t||this.allBuildList[t].getComponent(S.default).init(this)},k.prototype.GetAllUnlockBuild=function(){for(var t=new Array,e=this.allBuildList.length,n=0;n<e;n++)3!=n&&this.allBuildList[n].getComponent(S.default).isUnlock()&&t.push(this.allBuildList[n]);return t},k.prototype.GetBuildById=function(){return null},k.prototype.MoveCamera=function(){},k.prototype.initMaxLevel=function(){this.maxLevel.string="LV"+p.default.Instance.GetMaxLevel()+"\u9e21\u7a9d\u6751"},k.prototype.ShowTxt=function(t,e){var n=d.default.SectTxt.get();n.setParent(this.tiptxt),n.setPosition(this.allBuildList[t].getPosition()),n.getComponent(v.default).setTxt("\xd7"+y.default.refSetCoin(e))},k.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis()},k.prototype.CloseThis=function(){m.default.Instance.ShowMain(),s.prototype.CloseThis.call(this),f.default.instance.play(f.Sound.BGM3),m.default.Instance.ShowInter()},k.prototype.ShowTeacher=function(){this.Teacher.active=!0},k.prototype.HideTeacher=function(){this.Teacher.active=!1},k.prototype.TeacherOver=function(){this.HideTeacher(),u.default.instance.teacherid=0},c([i(cc.Node)],k.prototype,"Teacher",void 0),c([i(cc.Node)],k.prototype,"left",void 0),c([i(cc.Node)],k.prototype,"right",void 0),c([i(cc.Node)],k.prototype,"allBuildList",void 0),a=c([a],k),r.default=a,cc._RF.pop()},{}],SectTxt:[function(t,e,n){"use strict";cc._RF.push(e,"e89f6mTOxZBBJST7c4IgFAX","SectTxt");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameSys");function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.txt=null,t}i=(a=cc._decorator).ccclass,a.property,l(u,c=cc.Component),u.prototype.onLoad=function(){this.txt=this.node.getChildByName("txt").getComponent(cc.Label)},u.prototype.setTxt=function(t){var e=this;this.txt.string=""+t,cc.tween(this.node).call(function(){e.node.opacity=255}).by(.7,{y:50}).to(.3,{opacity:0}).call(function(){s.default.SectTxt.restor(e.node)}).start()},u.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],u),r.default=i,cc._RF.pop()},{}],ServerUtil:[function(t,e,n){"use strict";cc._RF.push(e,"eef63fm3pRP9I5R/Z/rimvA","ServerUtil");var o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=o("HttpClient");function r(){}r.init=function(t,e,n,o){this.game_id=t,this.channel_id=e,this.version=o,i.default.secret=n},r.getConfig=function(t){if(!this.game_id)return console.log("ServerUtil not inited");var e=this.URL_CONFIG;e+="?gameid="+encodeURIComponent(this.game_id),e+="&gchannelid="+encodeURIComponent(this.channel_id),this.version&&(e+="&version="+encodeURIComponent(this.version)),i.default.get(e,t)},r.login_wx=function(t,e,n){if(!this.game_id)return console.log("ServerUtil not inited");var o=Math.floor(Date.now()/1e3);t={gameid:this.game_id,type:"weixin",timestamp:o,js_code:t},i.default.postJson(this.URL_GAME_LOGIN,t,{success:function(t){t=JSON.parse(t),console.log("login_wx\uff1a",t),200==t.code&&(r.guid=t.data.userid,r.openId=t.data.openid,r.userid=t.data.guid,e())},fail:function(t){console.log(t),n()}})},r.login_tt=function(t,e,n){if(!this.game_id)return console.log("ServerUtil not inited");var o=Math.floor(Date.now()/1e3);t={gameid:this.game_id,type:"bytedance",timestamp:o,code:t},i.default.postJson(this.URL_GAME_LOGIN,t,{success:function(t){console.log("tt\u767b\u5f55\u83b7\u53d6\u5230\u7684\u6570\u636e:",t),200==(t=JSON.parse(t)).code&&(r.guid=t.data.userid,r.openId=t.data.openid,r.userid=t.data.guid,e())},fail:function(t){console.log(t),n()}})},r.login_qq=function(t,e,n){if(!this.game_id)return console.log("ServerUtil not inited");var o=Math.floor(Date.now()/1e3);t={gameid:this.game_id,type:"qq",timestamp:o,js_code:t},i.default.postJson(this.URL_GAME_LOGIN,t,{success:function(t){200==(t=JSON.parse(t)).code?(r.guid=t.data.userid,r.openId=t.data.openid,r.userid=t.data.guid,e()):console.log("qq\u767b\u5f55\u5931\u8d25:",t)},fail:function(t){console.log(t),n()}})},r.login_tomato=function(t,e){if(!this.game_id)return console.log("ServerUtil not inited");var n=Math.floor(Date.now()/1e3);t={gameid:this.game_id,type:"tomato",timestamp:n,openid:t},i.default.postJson(this.URL_GAME_LOGIN,t,e)},r.login_moyang=function(t,e){if(!this.game_id)return console.log("ServerUtil not inited");var n=Math.floor(Date.now()/1e3);t={gameid:this.game_id,type:"moyang",timestamp:n,openid:t},i.default.postJson(this.URL_GAME_LOGIN,t,e)},r.setRank=function(t,e,n){if(!this.guid)return console.log("no guid");var o=Math.floor(Date.now()/1e3);o={gameid:this.game_id,desc:t,guid:this.guid,val:e,timestamp:o},i.default.postObj(this.URL_RANK_SET,o,n)},r.getRank=function(t,e){if(!this.guid)return console.log("no guid");var n=Math.floor(Date.now()/1e3);n={gameid:this.game_id,desc:t,guid:this.guid,timestamp:n},i.default.postObj(this.URL_RANK_GET,n,e)},r.getRankList=function(t,e){if(!this.game_id)return console.log("ServerUtil not inited");var n=Math.floor(Date.now()/1e3);n={gameid:this.game_id,desc:t,timestamp:n},i.default.postObj(this.URL_RANK_LIST,n,e)},r.subscribe=function(t,e){if(!this.guid)return console.log("no guid");var n=Math.floor(Date.now()/1e3);t={gameid:this.game_id,timestamp:n,guid:this.guid,templateid:t},i.default.postJson(this.URL_SUBSCRIBE,t,e)},r.bind=function(t){if(!this.guid)return console.log("no guid");if(!this.openId)return console.log("no guid");var e=Math.floor(Date.now()/1e3);e={gameid:this.game_id,guid:this.guid,openid:this.openId,timestamp:e},i.default.postJson(this.URL_GAME_BIND,e,t)},r.getShare=function(t,e){if(!this.game_id)return console.log("ServerUtil not inited");var n=Math.floor(Date.now()/1e3);n={gameid:this.game_id,asid:t,timestamp:n},i.default.postJson(this.URL_GET_SHARE,n,{success:function(t){t=JSON.parse(t).data,e(t)},fail:function(t){console.log("getShare error ",t)}})},r.getShareList=function(t,e){if(!this.openId)return console.log("no openId");var n=Math.floor(Date.now()/1e3);n={gameid:this.game_id,asid:t,openid:this.openId,timestamp:n},i.default.postJson(this.URL_GET_SHARELIST,n,e)},r.clickShare=function(t,e,n){if(!this.guid)return console.log("no guid");var o=Math.floor(Date.now()/1e3);e={gameid:this.game_id,asid:t,guid:this.guid,timestamp:o,openid:e},i.default.postJson(this.URL_SET_SHARE,e,n)},r.setUserInfo=function(t,e,n){if(!this.guid)return console.log("no guid");var o=Math.floor(Date.now()/1e3);o={gameid:this.game_id,guid:this.guid,portrait:e,nickname:t,timestamp:o},i.default.postObj(this.URL_SET_USERINFO,o,n)},r.URL_CONFIG="https://sapi.tomato123.cn/union/game/getcontrol",r.URL_GAME_LOGIN="https://sapi.tomato123.cn/game/index/gamelogin",r.URL_SUBSCRIBE="https://sapi.tomato123.cn/game/game/gamesubscribeuser",r.URL_RANK_SET="https://sapi.tomato123.cn/game/game/setrank",r.URL_RANK_GET="https://sapi.tomato123.cn/game/game/getrank",r.URL_RANK_LIST="https://sapi.tomato123.cn/game/game/ranklist",r.URL_GAME_BIND="http://sapi.tomato123.cn/game/user/userbind",r.URL_GET_SHARE="https://sapi.tomato123.cn/game/activity/getshare",r.URL_SET_SHARE="https://sapi.tomato123.cn/game/activity/setshare",r.URL_SET_USERINFO="https://sapi.tomato123.cn/game/user/setuserinfo",r.URL_GET_SHARELIST="https://sapi.tomato123.cn/game/activity/getsharelist",o=r,a.default=o,cc._RF.pop()},{}],SevenMoney:[function(t,e,n){"use strict";cc._RF.push(e,"70fd5MguutMMoaWX4CDzUBH","SevenMoney");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("SoundManager"),p=a("GameSys"),f=a("GameTools"),d=a("PanelConst"),h=a("TimeManager"),y=a("TipGroup"),v=a("UIBase"),g=a("UIManager");function m(){var t=null!==s&&s.apply(this,arguments)||this;return t.timeLabel=null,t.btnFrame=[],t.moneyFrame=[],t.dayBtn=[],t.moneyitem=[],t.time=[0,5,60,300],t.money=[.01,.02,.01,.02,.06],t.moneystr=["\u6700\u9ad82\u5143","\u6700\u9ad85\u5143","\u6700\u9ad810\u5143","\u6700\u9ad820\u5143"],t.nowday=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,s=v.default),m.prototype.onLoad=function(){},m.prototype.onEnable=function(){s.prototype.onEnable.call(this),this.nowday=p.default.getSevenDay()-1,this.initBtn(),this.initMoney()},m.prototype.start=function(){},m.prototype.ClickDayBtn=function(t,e){(e=parseInt(e))<this.nowday?y.default.instance.setText(-1,"\u5df2\u8fc7\u671f"):e==this.nowday?(this.initBtn(),this.initMoney()):y.default.instance.setText(-1,"\u672a\u5f00\u653e")},m.prototype.initBtn=function(){for(var t=0;t<this.dayBtn.length;t++)t!=this.nowday?(this.dayBtn[t].spriteFrame=this.btnFrame[0],this.dayBtn[t].node.children[0].color=cc.color().fromHEX("#A1A1A1")):(this.dayBtn[t].spriteFrame=this.btnFrame[1],this.dayBtn[t].node.children[0].color=cc.color().fromHEX("#693333"))},m.prototype.initMoney=function(){for(var t=p.default.getSevenCount(),e=0;e<this.moneyitem.length;e++)e<t?(this.moneyitem[e].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.moneyFrame[1],this.moneyitem[e].getChildByName("layout").active=!1,this.moneyitem[e].getChildByName("money").color=cc.color().fromHEX("#4C4C4C"),this.moneyitem[e].getChildByName("money").getComponent(cc.Label).string=""+p.default.sevenmoney[e],this.moneyitem[e].getChildByName("time").active=!1):e==t?(this.moneyitem[e].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.moneyFrame[2],this.moneyitem[e].getChildByName("money").color=cc.color().fromHEX("#E8FF18"),this.moneyitem[e].getChildByName("money").getComponent(cc.Label).string=this.moneystr[e],0<h.default.instance.seventime?(this.moneyitem[e].getChildByName("layout").active=!1,this.moneyitem[e].getChildByName("time").active=!0):(this.moneyitem[e].getChildByName("layout").active=!0,0==this.nowday&&0==t&&(this.moneyitem[e].getChildByName("layout").getChildByName("sp").active=!1),this.moneyitem[e].getChildByName("time").active=!1)):t<e&&(this.moneyitem[e].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.moneyFrame[2],this.moneyitem[e].getChildByName("layout").active=!1,this.moneyitem[e].getChildByName("money").color=cc.color().fromHEX("#E8FF18"),this.moneyitem[e].getChildByName("money").getComponent(cc.Label).string=this.moneystr[e],this.moneyitem[e].getChildByName("time").active=!1)},m.prototype.ClickGet=function(t,e){var n=this,o=parseInt(e);console.log("\u6309\u94ae\uff1a",o),o<(e=p.default.getSevenCount())?y.default.instance.setText(-1,"\u7ea2\u5305\u5df2\u9886\u53d6"):o==e?0<h.default.instance.seventime?y.default.instance.setText(-1,"\u8bf7\u7a0d\u5019\u518d\u9886\u53d6"):(f.default.getSdk().getPackage(function(){p.default.sevencount<4&&(h.default.instance.seventime=n.time[p.default.sevencount]),y.default.instance.setText(-1,"\u6210\u529f\u63d0\u73b0"+p.default.sevenmoney[p.default.sevencount-1]+"\u5143,24\u5c0f\u65f6\u5185\u53d1\u9001\u5230\u8d26\u6237"),n.initMoney()}),0!=o&&2!=o||g.default.Instance.ShowUI(d.default.OnceSubScribeMsg)):y.default.instance.setText(-1,"\u8bf7\u5148\u9886\u53d6\u4e0a\u4e00\u6863\u4f4d\u7ea2\u5305")},m.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},m.prototype.CloseThis=function(){s.prototype.CloseThis.call(this)},m.prototype.update=function(){var t=p.default.getSevenCount();0<h.default.instance.seventime?this.moneyitem[t].getChildByName("time").getChildByName("num").getComponent(cc.Label).string=f.default.hour_min_secTimeFuncion(h.default.instance.seventime):this.initMoney();var e=(n=new Date).getHours(),n=(t=n.getMinutes(),n.getSeconds());this.timeLabel.string=7-p.default.getSevenDay()+"\u5929"+(24-e)+"\u5c0f\u65f6"+(60-t)+"\u5206"+(60-n)+"\u79d2"},m.prototype.ClickSubScribeMsg=function(){u.default.instance.play(u.Sound.Click),f.default.getSdk().oneceSubscribeMsg(function(){y.default.instance.setText(-1,"\u8ba2\u9605\u6210\u529f")},function(t){t?y.default.instance.setText(-1,"\u5df2\u7ecf\u8ba2\u9605"):y.default.instance.setText(-1,"\u8ba2\u9605\u5931\u8d25")})},c([i(cc.Label)],m.prototype,"timeLabel",void 0),c([i(cc.SpriteFrame)],m.prototype,"btnFrame",void 0),c([i(cc.SpriteFrame)],m.prototype,"moneyFrame",void 0),c([i(cc.Sprite)],m.prototype,"dayBtn",void 0),c([i(cc.Node)],m.prototype,"moneyitem",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],ShareFriend:[function(t,e,n){"use strict";cc._RF.push(e,"cddd4fKGMFGzrBFbXp9NLUE","ShareFriend");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.FriendArray=[],t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.init=function(){for(var t=u.default.getFriend(),e=[],n=0;n<t.length;n++)0<t[n].time&&e.push(t[n]);if(e.length<=0)for(n=0;n<this.FriendArray.length;n++)this.FriendArray[n].getChildByName("share").active=!0,this.FriendArray[n].getChildByName("visualize").active=!1;else for(n=0;n<this.FriendArray.length;n++)n<e.length?(this.FriendArray[n].getChildByName("share").active=!1,this.FriendArray[n].getChildByName("visualize").active=!0,this.FriendArray[n].getChildByName("visualize").active=!0):(this.FriendArray[n].getChildByName("share").active=!0,this.FriendArray[n].getChildByName("visualize").active=!1)},p.prototype.update=function(){this.init()},c([i(cc.Node)],p.prototype,"FriendArray",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],ShareRecorder:[function(t,e,n){"use strict";cc._RF.push(e,"a4755XkpMZG+IvkxNR472Gb","ShareRecorder");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("SoundManager"),h=a("GameTools"),y=a("TipGroup"),v=a("UIBase"),g=a("UIManager");function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.reward=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,p=v.default),m.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return p.prototype.onEnable.call(this),[4,f.default.Instance.GetOutPut()];case 1:return t=600*e.sent(),this.reward.string=""+h.default.refSetCoin(t),h.default.getSdk().PlatformCallBack("BANNER"),[2]}})})},m.prototype.start=function(){},m.prototype.ClickOff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis()},m.prototype.ClickGet=function(){var t=this;d.default.instance.play(d.Sound.Click),h.default.getSdk().shareRecorder(function(){return s(t,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,f.default.Instance.GetOutPut()];case 1:return t=600*e.sent(),g.default.Instance.ChangeCoin(t),this.CloseThis(),[2]}})})},function(){y.default.instance.setText(-1,"\u5206\u4eab\u5931\u8d25")})},m.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),h.default.getSdk().PlatformCallBack("BANNERCLOSE")},c([i(cc.Label)],m.prototype,"reward",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],ShopDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"47d6cV9wvxOjr1mvDOVcD0+","ShopDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("ShopData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/Shop",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/Shop")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.type=a.type,i.goodsid=a.goodsid,i.num=a.num,i.currency=a.currency,i.price=a.price,this.allDataList.push(i);return[2]}})})},v.prototype.GetGroupProp=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].type==t&&e.push(this.allDataList[n]);return e[Math.floor(Math.random()*e.length)]},v.prototype.RandomGoods=function(){for(var t=[],e=[],n=0;n<12;n++){var o=p.Instance.GetGroupProp(n+1);t.push(o),e.push(1)}d.default.setGoods(e),d.default.setGoodsItem(t)},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],ShopData:[function(t,e,n){"use strict";cc._RF.push(e,"090d6HIPlJGn6yvuvYmN1j+","ShopData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],ShopItem:[function(t,e,n){"use strict";cc._RF.push(e,"85301M87MBPHZ6eq7bVacne","ShopItem");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("ArtifactsDataManager"),f=i("CoinOutPutDataManager"),d=i("PropDataManager"),h=i("SoundManager"),y=i("GameSys"),v=i("GameTools"),g=i("PanelConst"),m=i("RewardPanel"),b=i("TipGroup"),C=i("UIManager");function S(){var t=null!==u&&u.apply(this,arguments)||this;return t.propframe=null,t.propicon=null,t.propname=null,t.type=null,t.numLabel=null,t.price=null,t.index=0,t.goods=null,t.propData=null,t}i=(a=cc._decorator).ccclass,a.property,l(S,u=cc.Component),S.prototype.onLoad=function(){this.propframe=this.node.getChildByName("frame").getComponent(cc.Sprite),this.propicon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.propname=this.node.getChildByName("name").getComponent(cc.Label),this.numLabel=this.node.getChildByName("num").getComponent(cc.Label),this.type=this.node.getChildByName("layout").getChildByName("type").getComponent(cc.Sprite),this.price=this.node.getChildByName("layout").getChildByName("price").getComponent(cc.Label)},S.prototype.refresh=function(t){this.index=t,this.goods=y.default.getGoodsItem()[t],this.propData=d.default.Instance.GetProp(this.goods.goodsid),this.init()},S.prototype.init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return this.propname.string=""+this.propData.name,this.propname.node.color=cc.color().fromHEX(d.default.Instance.GetLevelColor(this.propData.frame)),this.numLabel.string="\xd7"+this.goods.num,e="PropFrame/"+this.propData.frame,(t=v.default.GetRes("Bundle",e,cc.SpriteFrame))?[3,2]:[4,v.default.loadImage("Bundle",e)];case 1:t=r.sent(),r.label=2;case 2:return this.propframe.spriteFrame=t,e="PropIcon/"+this.propData.icon,(n=v.default.GetRes("Bundle",e,cc.SpriteFrame))?[3,4]:[4,v.default.loadImage("Bundle",e)];case 3:n=r.sent(),r.label=4;case 4:return this.propicon.spriteFrame=n,a=0==this.goods.currency?"Award/coin":"Award/jewel",(o=v.default.GetRes("SpriteBundle1",a,cc.SpriteFrame))?[3,6]:[4,v.default.loadImage("SpriteBundle1",a)];case 5:o=r.sent(),r.label=6;case 6:return this.type.spriteFrame=o,a=this.node.getSiblingIndex(),0<y.default.getGoods()[a]?(this.type.node.active=!0,0!=this.goods.currency?[3,8]:[4,f.default.Instance.GetOutPut()]):[3,10];case 7:return i=r.sent()*this.goods.price,this.price.string="\xd7"+v.default.refSetCoin(i),[3,9];case 8:i=p.default.Instance.GetOutPut()*this.goods.price,this.price.string="\xd7"+v.default.refSetCoin(i),r.label=9;case 9:return[3,11];case 10:this.type.node.active=!1,this.price.string="\u544a\u7f44",r.label=11;case 11:return[2]}})})},S.prototype.start=function(){},S.prototype.ClickBuy=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return h.default.instance.play(h.Sound.Click),y.default.getGoods()[this.index]<=0?(b.default.instance.setText(-1,"\u5f53\u524d\u5546\u54c1\u6682\u65e0\u5e93\u5b58"),[2]):0!=this.goods.currency?[3,2]:(t=y.default.getCoin(),[4,f.default.Instance.GetOutPut()]);case 1:return e=n.sent()*this.goods.price,t<e?(b.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,C.default.Instance.ShowUI(g.default.FreeCoin)]):(C.default.Instance.ChangeCoin(-e),this.GetGoods(),y.default.setShopCount(),[3,3]);case 2:if(t=y.default.getJewel(),e=p.default.Instance.GetOutPut()*this.goods.price,t<e)return b.default.instance.setText(-1,"\u7075\u77f3\u4e0d\u8db3"),[2,C.default.Instance.ShowUI(g.default.FreeJewel)];C.default.Instance.ChangeJewel(-e),this.GetGoods(),y.default.setShopCount(),n.label=3;case 3:return[2]}})})},S.prototype.GetGoods=function(){return c(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return(t=y.default.getGoods())[this.index]=0,y.default.setGoods(t),[4,C.default.Instance.ShowUI(g.default.RewardPanel)];case 1:return e.sent(),(t=[]).push({prop:this.propData,have:this.goods.num}),C.default.Instance.GetClass(g.default.RewardPanel).getComponent(m.default).initAsset(t),this.init(),[2]}})})},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],S),r.default=i,cc._RF.pop()},{}],ShopPanel:[function(t,e,n){"use strict";cc._RF.push(e,"5c9bfatubVC45GnZHb/dfFy","ShopPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("GiftDataManager"),h=a("OreShopDataManager"),y=a("PropDataManager"),v=a("ShopDataManager"),g=a("SoundManager"),m=a("SystemDataManager"),b=a("GameSys"),C=a("EventConst"),S=a("GameTools"),w=a("EquipMessage"),k=a("EquipPanel"),_=a("FreeBox"),P=a("PanelConst"),O=a("RewardPanel"),I=a("ShopItem"),R=a("TipGroup"),x=a("UIBase"),T=a("UIManager");function A(){var t=null!==p&&p.apply(this,arguments)||this;return t.OreRed=null,t.ShopContent=null,t.BoxContent=null,t.FreeBox=null,t.FreeGet=null,t.FreeTimer=null,t.Freetime=null,t.VideoBox=null,t.VideoGet=null,t.VideoTimer=null,t.Videotime=null,t.GoodsContent=null,t.GoodsRefTime=null,t.GoodRefCount=null,t.OreShopContent=null,t.Ore=null,t.Time=null,t.Item=null,t.OreGoodsContent=null,t.Shop=null,t.OreShop=null,t.BtnFrame=[],t.tag=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(A,p=x.default),A.prototype.onLoad=function(){},A.prototype.start=function(){cc.systemEvent.on(C.EventConst.Shop_Ref,this.initGoods,this)},A.prototype.clickTag=function(t,e){e=parseInt(e),this.tag=e,0==this.tag?this.initShop():this.initOreShop()},A.prototype.onEnable=function(){p.prototype.onEnable.call(this),0==this.tag?this.initShop():this.initOreShop()},A.prototype.initOreShop=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p,f;return u(this,function(u){switch(u.label){case 0:if(this.OreShop.spriteFrame=this.BtnFrame[0],this.Shop.spriteFrame=this.BtnFrame[1],this.OreShopContent.active=!0,this.ShopContent.active=!1,this.OreGoodsContent.children.length<4)for(t=4-this.OreGoodsContent.children.length,n=0;n<t;n++)cc.instantiate(this.Item).setParent(this.OreGoodsContent);this.Ore.string=""+S.default.refSetCoin(b.default.getOre()),e=b.default.getOreGoods(),n=0,u.label=1;case 1:return n<this.OreGoodsContent.children.length?(o=h.default.Instance.getGoodsByID(e[n].goodsid),a=y.default.Instance.GetProp(o.propID),i=this.OreGoodsContent.children[n],(l=i.getChildByName("name").getComponent(cc.Label)).string=""+o.name,l.node.color=cc.color().fromHEX(y.default.Instance.GetLevelColor(a.frame)),r=i.getChildByName("frame").getComponent(cc.Sprite),p="PropFrame/"+a.frame,(l=S.default.GetRes("Bundle",p,cc.SpriteFrame))?[3,3]:[4,S.default.loadImage("Bundle",p)]):[3,7];case 2:l=u.sent(),u.label=3;case 3:return r.spriteFrame=l,c=i.getChildByName("icon").getComponent(cc.Sprite),f="PropIcon/"+a.icon,(s=S.default.GetRes("Bundle",f,cc.SpriteFrame))?[3,5]:[4,S.default.loadImage("Bundle",f)];case 4:s=u.sent(),u.label=5;case 5:c.spriteFrame=s,(p=i.getChildByName("buybtn")).getChildByName("need").getComponent(cc.Label).string=""+o.price,f=i.getChildByName("endbtn"),p.active=e[n].ishave,f.active=!e[n].ishave,u.label=6;case 6:return n++,[3,1];case 7:return[2]}})})},A.prototype.initShop=function(){this.OreShop.spriteFrame=this.BtnFrame[1],this.Shop.spriteFrame=this.BtnFrame[0],this.OreShopContent.active=!1,this.ShopContent.active=!0,this.initBoxNum(),this.initGoods(),13==f.default.instance.teacherid&&(f.default.instance.teacherid=0)},A.prototype.initRefreshTime=function(){this.GoodsRefTime.string=""+S.default.hour_min_secTimeFuncion(b.default.resetTime),this.GoodRefCount.string=b.default.getShopRefCount()+"/4",this.Time.string=S.default.hour_min_secTimeFuncion(b.default.oreResetTime)+"\u540e\u5237\u65b0\u5546\u54c1"},A.prototype.ClickRefresh=function(){var t=this;g.default.instance.play(g.Sound.Click),b.default.getShopRefCount()<=0?R.default.instance.setText(-1,"\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c"):S.default.getSdk().PlatformCallBack("REWARD",function(){b.default.setShopRefCount(),v.default.Instance.RandomGoods(),t.initGoods()},function(){R.default.instance.setText(-1,"\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c")},-13)},A.prototype.initGoods=function(){for(var t=0;t<this.GoodsContent.childrenCount;t++)this.GoodsContent.children[t].getComponent(I.default).refresh(t)},A.prototype.initBoxNum=function(){var t=b.default.getShopBoxNum();this.FreeBox.getChildByName("num").getComponent(cc.Label).string="("+t[0]+"/2",this.VideoBox.getChildByName("num").getComponent(cc.Label).string="("+t[1]+"/2"},A.prototype.initBox=function(){var t=b.default.getShopBoxTime();this.FreeGet.active=t[0]<=0,this.FreeTimer.active=!(t[0]<=0),this.Freetime.string=""+S.default.hour_min_secTimeFuncion(t[0]),this.VideoGet.active=t[1]<=0,this.VideoTimer.active=!(t[1]<=0),this.Videotime.string=""+S.default.hour_min_secTimeFuncion(t[1])},A.prototype.ClickFreeBox=function(){g.default.instance.play(g.Sound.Click);var t=b.default.getShopBoxNum();t[0]<=0?R.default.instance.setText(-1,"\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c"):(t[0]--,b.default.setShopBoxNum(t),(t=b.default.getShopBoxTime())[0]=300,b.default.setShopBoxTime(t),this.initBoxNum(),this.GetGift(0))},A.prototype.ClickVideoBox=function(){g.default.instance.play(g.Sound.Click),b.default.getShopBoxNum()[1]<=0?R.default.instance.setText(-1,"\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c"):this.GetGift(1)},A.prototype.clickToEquip=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return g.default.instance.play(g.Sound.Click),m.default.Instance.isUnlcok(41)?(this.CloseThis(),[4,T.default.Instance.ShowUI(P.default.EquipPanel)]):[3,2];case 1:return t.sent(),T.default.Instance.GetClass(P.default.EquipPanel).getComponent(k.default).ClickSmelter(),[3,3];case 2:R.default.instance.setText(-1,"\u529f\u80fd\u672a\u89e3\u9501"),t.label=3;case 3:return[2]}})})},A.prototype.GetGift=function(t){return s(this,void 0,void 0,function(){var e,n,o;return u(this,function(a){switch(a.label){case 0:return e=d.default.Instance.GetRandomTypeGift(t),0!=t?[3,2]:[4,T.default.Instance.ShowUI(P.default.RewardPanel)];case 1:return a.sent(),n=[],0<e.coin&&(o=y.default.Instance.GetCoinProp(),n.push({prop:o,have:e.coin})),0<e.jewel&&(o=y.default.Instance.GetJewelProp(),n.push({prop:o,have:e.jewel})),999999!=e.prop1_id&&(o=y.default.Instance.GetProp(e.prop1_id),n.push({prop:o,have:e.prop1_num})),999999!=e.prop2_id&&(o=y.default.Instance.GetProp(e.prop2_id),n.push({prop:o,have:e.prop2_num})),999999!=e.prop3_id&&(o=y.default.Instance.GetProp(e.prop3_id),n.push({prop:o,have:e.prop3_num})),999999!=e.prop4_id&&(o=y.default.Instance.GetProp(e.prop4_id),n.push({prop:o,have:e.prop4_num})),T.default.Instance.GetClass(P.default.RewardPanel).getComponent(O.default).initAsset(n),[3,4];case 2:return[4,T.default.Instance.ShowUI(P.default.FreeBox)];case 3:a.sent(),T.default.Instance.GetClass(P.default.FreeBox).getComponent(_.default).init(e,this),a.label=4;case 4:return[2]}})})},A.prototype.ClickOff=function(){g.default.instance.play(g.Sound.Click),this.CloseThis()},A.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),T.default.Instance.ShowInter()},A.prototype.clickOreGoods=function(t){return s(this,void 0,void 0,function(){var e,n,o,a,i;return u(this,function(r){switch(r.label){case 0:return g.default.instance.play(g.Sound.Click),a=t.getCurrentTarget(),e=a.parent.getSiblingIndex(),n=b.default.getOreGoods(),o=h.default.Instance.getGoodsByID(n[e].goodsid),a=y.default.Instance.GetProp(o.propID),b.default.getOre()<o.price?(R.default.instance.setText(-1,"\u7194\u6676\u4e0d\u8db3"),[3,3]):[3,1];case 1:return b.default.setShopCount(),b.default.setOre(-o.price),(i=[]).push({prop:a,have:1}),[4,T.default.Instance.ShowUI(P.default.RewardPanel)];case 2:r.sent(),T.default.Instance.GetClass(P.default.RewardPanel).getComponent(O.default).initAsset(i),n[e].ishave=!1,b.default.setOreGoods(n),this.initOreShop(),r.label=3;case 3:return[2]}})})},A.prototype.clickEquipMessage=function(t){return s(this,void 0,void 0,function(){var e,n,o,a,i,r=this;return u(this,function(l){switch(l.label){case 0:return g.default.instance.play(g.Sound.Click),e=t.getCurrentTarget(),n=e.parent.getSiblingIndex(),(o=b.default.getOreGoods())[n].ishave?(a=h.default.Instance.getGoodsByID(o[n].goodsid),i=y.default.Instance.GetProp(a.propID),[4,T.default.Instance.ShowUI(P.default.EquipMessage)]):[3,2];case 1:l.sent(),T.default.Instance.GetClass(P.default.EquipMessage).getComponent(w.default).initItem(1,i,function(){return s(r,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return b.default.getOre()<a.price?(R.default.instance.setText(-1,"\u7194\u6676\u4e0d\u8db3"),[3,3]):[3,1];case 1:return b.default.setShopCount(),b.default.setOre(-a.price),(t=[]).push({prop:i,have:1}),[4,T.default.Instance.ShowUI(P.default.RewardPanel)];case 2:e.sent(),T.default.Instance.GetClass(P.default.RewardPanel).getComponent(O.default).initAsset(t),o[n].ishave=!1,b.default.setOreGoods(o),this.initOreShop(),e.label=3;case 3:return[2]}})})}),l.label=2;case 2:return[2]}})})},A.prototype.clickRefreshOre=function(){var t=this;g.default.instance.play(g.Sound.Click),S.default.getSdk().PlatformCallBack("REWARD",function(){R.default.instance.setText(-1,"\u5237\u65b0\u6210\u529f"),h.default.Instance.randomGoods(),t.initOreShop()},function(){R.default.instance.setText(-1,"\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c")},-13)},A.prototype.initRed=function(){for(var t=!1,e=b.default.getOre(),n=b.default.getOreGoods(),o=0;o<n.length;o++)e>h.default.Instance.getGoodsByID(n[o].goodsid).price&&(t=!0);this.OreRed.active=t},A.prototype.update=function(){this.initBox(),this.initRefreshTime(),this.initRed()},c([i(cc.Node)],A.prototype,"OreRed",void 0),c([i(cc.Node)],A.prototype,"ShopContent",void 0),c([i(cc.Node)],A.prototype,"BoxContent",void 0),c([i(cc.Node)],A.prototype,"FreeBox",void 0),c([i(cc.Node)],A.prototype,"FreeGet",void 0),c([i(cc.Node)],A.prototype,"FreeTimer",void 0),c([i(cc.Label)],A.prototype,"Freetime",void 0),c([i(cc.Node)],A.prototype,"VideoBox",void 0),c([i(cc.Node)],A.prototype,"VideoGet",void 0),c([i(cc.Node)],A.prototype,"VideoTimer",void 0),c([i(cc.Label)],A.prototype,"Videotime",void 0),c([i(cc.Node)],A.prototype,"GoodsContent",void 0),c([i(cc.Label)],A.prototype,"GoodsRefTime",void 0),c([i(cc.Label)],A.prototype,"GoodRefCount",void 0),c([i(cc.Node)],A.prototype,"OreShopContent",void 0),c([i(cc.Label)],A.prototype,"Ore",void 0),c([i(cc.Label)],A.prototype,"Time",void 0),c([i(cc.Node)],A.prototype,"Item",void 0),c([i(cc.Node)],A.prototype,"OreGoodsContent",void 0),c([i(cc.Sprite)],A.prototype,"Shop",void 0),c([i(cc.Sprite)],A.prototype,"OreShop",void 0),c([i(cc.SpriteFrame)],A.prototype,"BtnFrame",void 0),a=c([a],A),r.default=a,cc._RF.pop()},{}],ShowNewEquip:[function(t,e,n){"use strict";cc._RF.push(e,"6fe59iAM0VG1pRymynZWlKY","ShowNewEquip");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("PropData"),f=i("OnHook"),d=i("EquipDataManager"),h=i("HeroDataManager"),y=i("PropDataManager"),v=i("SoundManager"),g=i("GameTools"),m=i("TipGroup"),b=i("UIBase");function C(){var t=null!==u&&u.apply(this,arguments)||this;return t.fightNum=null,t.frame=null,t.equipName=null,t.icon=null,t.data=null,t}i=(a=cc._decorator).ccclass,a.property,l(C,u=b.default),C.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.fightNum=t.getChildByName("fight").getChildByName("fightnum").getComponent(cc.Label),this.frame=t.getChildByName("frame").getComponent(cc.Sprite),this.equipName=t.getChildByName("name").getComponent(cc.Label),this.icon=t.getChildByName("icon").getComponent(cc.Sprite)},C.prototype.onEnable=function(){this.init()},C.prototype.init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i=this;return s(this,function(r){switch(r.label){case 0:return(t=d.default.Instance.GetNewEquip()).isCan?(this.data=t,e=t.propdata.prop,n=d.default.Instance.GetEquip(e.goodsid),this.fightNum.string=""+g.default.refSetCoin(n.fight),o="PropFrame/"+e.frame,(n=g.default.GetRes("Bundle",o,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage("Bundle",o)]):[3,5];case 1:n=r.sent(),r.label=2;case 2:return this.frame.spriteFrame=n,this.equipName.string=""+e.name,this.equipName.node.color=cc.color().fromHEX(y.default.Instance.GetLevelColor(e.frame)),o="PropIcon/"+e.icon,(a=g.default.GetRes("Bundle",o,cc.SpriteFrame))?[3,4]:[4,g.default.loadImage("Bundle",o)];case 3:a=r.sent(),r.label=4;case 4:return this.icon.spriteFrame=a,[3,6];case 5:d.default.Instance.SubNewEquip(function(t){t?i.init():i.CloseThis()}),r.label=6;case 6:return[2]}})})},C.prototype.start=function(){},C.prototype.ClickOnEquip=function(){return c(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(a){switch(a.label){case 0:if(v.default.instance.play(v.Sound.Click),this.ClickOff(),t=this.data.propdata.prop,e=this.data.userid,o=d.default.Instance.GetEquip(t.goodsid),n=y.default.Instance.GetOnEquip(e,o.type)){if(d.default.Instance.GetEquip(n.goodsid).fight>=o.fight)return console.log("\u6218\u6597\u529b\u5c5e\u6027\u4e00\u81f4\uff0c\u4e0d\u9700\u8981\u66f4\u6362"),[2];y.default.Instance.Unfix(n)}return m.default.instance.setText(-1,"\u6210\u529f\u7a7f\u6234"+o.name),[4,h.default.Instance.GetMaxFight()];case 1:return n=a.sent(),y.default.Instance.subPackProp(t.id,1),o=new p.default(t.id,t.type,t.name,t.goodsid,t.capacity,t.info,t.consumables,t.frame,t.icon,t.have,!0,e,t.rewardNum),y.default.Instance.addPack([{prop:o,have:1}]),f.default.instance.MaxFightChange(n),cc.systemEvent.emit("initequip"),[2]}})})},C.prototype.ClickOff=function(){var t=this;v.default.instance.play(v.Sound.Click),d.default.Instance.SubNewEquip(function(e){e?t.init():t.CloseThis()})},C.prototype.CloseThis=function(){this.node.active=!1},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],C),r.default=i,cc._RF.pop()},{}],SignDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"e5eebr0O75HQIZRcdcfUISl","SignDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("SignData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/sign",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/sign")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.num=a.num,i.goodid=a.goodid,i.name=a.name,this.allDataList.push(i);return[2]}})})},y.prototype.GetData=function(t){return this.allDataList[t%8]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],SignData:[function(t,e,n){"use strict";cc._RF.push(e,"4a1e2QhEkFFfo6u5l39FBag","SignData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.num=1,this.name="",this.id=0,this.goodid=0}),a.default=o,cc._RF.pop()},{}],SignPanel:[function(t,e,n){"use strict";cc._RF.push(e,"5dee9g9dKBAo6AQaGlNUPOr","SignPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropDataManager"),d=a("SignDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("DoublePanel"),m=a("PanelConst"),b=a("TipGroup"),C=a("UIBase"),S=a("UIManager");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.gou=null,t.oneceSubscribeMsgNode=null,t.todayFrame=null,t.todayIcon=null,t.todayName=null,t.todayNum=null,t.End=null,t.tomorrowFrame=null,t.tomorrowIcon=null,t.tomorrowName=null,t.tomorrowNum=null,t.prop=null,t.data=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=C.default),w.prototype.onEnable=function(){p.prototype.onEnable.call(this),"QQ"!=y.default.channel&&(this.oneceSubscribeMsgNode.active=!1),this.init()},w.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p;return u(this,function(u){switch(u.label){case 0:return t=y.default.getDay(),e=d.default.Instance.GetData(t),n=f.default.Instance.GetProp(e.goodid),this.data=e,this.prop=n,a="PropFrame/"+n.frame,(o=v.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,v.default.loadImage("Bundle",a)];case 1:o=u.sent(),u.label=2;case 2:return this.todayFrame.spriteFrame=o,a="PropIcon/"+n.icon,(i=v.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,4]:[4,v.default.loadImage("Bundle",a)];case 3:i=u.sent(),u.label=4;case 4:return this.todayIcon.spriteFrame=i,this.todayName.string=""+n.name,this.todayNum.string="\xd7"+e.num,this.todayName.node.color=cc.color().fromHEX(f.default.Instance.GetLevelColor(n.frame)),r=d.default.Instance.GetData(t+1),l=f.default.Instance.GetProp(r.goodid),s="PropFrame/"+l.frame,(c=v.default.GetRes("Bundle",s,cc.SpriteFrame))?[3,6]:[4,v.default.loadImage("Bundle",s)];case 5:c=u.sent(),u.label=6;case 6:return this.tomorrowFrame.spriteFrame=c,s="PropIcon/"+l.icon,(p=v.default.GetRes("Bundle",s,cc.SpriteFrame))?[3,8]:[4,v.default.loadImage("Bundle",s)];case 7:p=u.sent(),u.label=8;case 8:return this.tomorrowIcon.spriteFrame=p,this.tomorrowName.string=""+l.name,this.tomorrowNum.string="\xd7"+r.num,this.tomorrowName.node.color=cc.color().fromHEX(f.default.Instance.GetLevelColor(l.frame)),this.End.active=y.default.getSignIsGet(),[2]}})})},w.prototype.ClickGet=function(){return s(this,void 0,void 0,function(){var t,e=this;return u(this,function(n){switch(n.label){case 0:return h.default.instance.play(h.Sound.Click),y.default.getSignIsGet()?(b.default.instance.setText(-1,"\u4eca\u65e5\u5df2\u9886\u53d6"),[3,3]):[3,1];case 1:return y.default.setSignIsGet(),(t=function(){var t=[];t.push({prop:e.prop,have:e.data.num}),f.default.Instance.addPack(t),b.default.instance.setText(-1,"\u606d\u559c\u83b7\u5f97"+e.prop.name+"+"+e.data.num)})(),this.CloseThis(),[4,S.default.Instance.ShowUI(m.default.DoublePanel)];case 2:n.sent(),S.default.Instance.GetClass(m.default.DoublePanel).getComponent(g.default).init({prop:this.prop,have:this.data.num},t),n.label=3;case 3:return this.gou.active&&v.default.getSdk().oneceSubscribeMsg(function(){b.default.instance.setText(-1,"\u8ba2\u9605\u6210\u529f")},function(t){t?b.default.instance.setText(-1,"\u5df2\u7ecf\u8ba2\u9605"):b.default.instance.setText(-1,"\u8ba2\u9605\u5931\u8d25")}),[2]}})})},w.prototype.start=function(){},w.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},w.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},w.prototype.ClickIsGo=function(){this.gou.active?this.gou.active=!1:this.gou.active=!0},c([i(cc.Node)],w.prototype,"gou",void 0),c([i(cc.Node)],w.prototype,"oneceSubscribeMsgNode",void 0),c([i(cc.Sprite)],w.prototype,"todayFrame",void 0),c([i(cc.Sprite)],w.prototype,"todayIcon",void 0),c([i(cc.Label)],w.prototype,"todayName",void 0),c([i(cc.Label)],w.prototype,"todayNum",void 0),c([i(cc.Node)],w.prototype,"End",void 0),c([i(cc.Sprite)],w.prototype,"tomorrowFrame",void 0),c([i(cc.Sprite)],w.prototype,"tomorrowIcon",void 0),c([i(cc.Label)],w.prototype,"tomorrowName",void 0),c([i(cc.Label)],w.prototype,"tomorrowNum",void 0),a=c([a],w),r.default=a,cc._RF.pop()},{}],SingleBase:[function(t,e,n){"use strict";cc._RF.push(e,"920d4UWvchHUZ4fPB8TzFRw","SingleBase");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},c=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(i,"__esModule",{value:!0});var s,u=cc._decorator;function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.LOCAL_DATA_KEY="Test",t.curLocalData=null,t.isNeedUpdateLocal=!1,t}a=u.ccclass,u.property,r(p,s=cc.Component),Object.defineProperty(p.prototype,"CurLocalData",{get:function(){return null==this.curLocalData&&this.InitLocalDataValue(),this.curLocalData},set:function(t){this.curLocalData=t},enumerable:!1,configurable:!0}),p.prototype.GetLocalDataByKey=function(t,e){return void 0===(t=this.CurLocalData[t])||null==t?e:t},p.prototype.SetLocalDataKeyValue=function(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0),this.CurLocalData[t]=e,n?this.SaveLocalData():this.isNeedUpdateLocal=!0},p.prototype.Init=function(){return l(this,void 0,void 0,function(){return c(this,function(){return[2]})})},p.prototype.InitLocalDataValue=function(){"Test"==this.LOCAL_DATA_KEY&&console.log("\u6ca1\u6709\u8bbe\u7f6e\u672c\u5730\u5b58\u6863\u7684key\u503c\uff01\uff01\uff01\uff01\uff01"),this.CurLocalData={}},p.prototype.SaveLocalData=function(){this.isNeedUpdateLocal=!1},p.prototype.UpdateCurData=function(t){this.CurLocalData=t},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],p),i.default=a,cc._RF.pop()},{}],Singleton:[function(t,e,n){"use strict";cc._RF.push(e,"26593pCO7hA7Jg3aBTy2i2d","Singleton");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;function r(){}o=i.ccclass,i.property,r.GetManagerRoot=function(){return this.rootNode||(this.rootNode=cc.find("Manager")),this.rootNode},r.RegistSingleTon=function(t){var e,n=this.GetManagerRoot();try{e=n.addComponent(t)}catch(e){console.log("manager\u540d\u5b57\u9519\u8bef \u4e0d\u5b58\u5728\u5bf9\u5e94\u7684\u811a\u672c"+t)}return e},r.rootNode=null,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],r),a.default=o,cc._RF.pop()},{}],Skill1:[function(t,e,n){"use strict";cc._RF.push(e,"b75a3tg5VhJ9aFsKTknHkdI","Skill1");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight");function u(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(u,c=cc.Component),u.prototype.onEnable=function(){},u.prototype.init=function(t){this.node.active=!0;var e=this.node.getComponent(sp.Skeleton);e.setAnimation(0,"ef8_2",!1),e.setEventListener(function(){t()})},u.prototype.start=function(){},u.prototype.update=function(){var t;s.default.instance.state!=s.FightState.ready?(t=s.default.instance.teamData[0].node,this.node.setPosition(t.getPosition())):this.node.active=!1},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],u),r.default=i,cc._RF.pop()},{}],SkillConst:[function(t,e,n){"use strict";cc._RF.push(e,"0542cHjZRZPs6yK5UDLWHNn","SkillConst");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u,p=a("GameSys"),f=a("Bane"),d=a("Cure"),h=a("CureMatrix"),y=a("Eddy"),v=a("Fireball"),g=a("Flame"),m=a("Flamepalm"),b=a("Knife"),C=a("Moon"),S=a("PersistCure"),w=a("Skill1"),k=a("Star"),_=a("Thunder"),P=a("Wind"),O=a("bullet"),I=a("GameFight");function R(){var t=null!==s&&s.apply(this,arguments)||this;return t.Skill=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(R,s=cc.Component),(u=R).prototype.onLoad=function(){u.instance=this},R.prototype.Thunder=function(t){for(var e=I.default.instance.GetTeam(),n=0;n<e.length;n++)!function(n){var o=I.default.instance.CreateThunder();o.setParent(e[n].SpineContent),o.getComponent(_.default).init(function(){var o=0;1<t.Upatk?(o=t.GetPracticalAtk()*t.fatality.skillNum*t.Upatk,t.Upatk=1):o=t.GetPracticalAtk()*t.fatality.skillNum,0<t.Suck&&(t.Cure(o*t.Suck),t.Suck=0),e[n].TheStrike(o,t.role.hit,!1,!1)})}(n)},R.prototype.GuideThunder=function(t){var e=t.curpannel.CreateSkillLJ();e.setPosition(cc.v2(0,0));var n=e.getComponent(sp.Skeleton);n.setAnimation(0,"ef13_bg",!1),n.setCompleteListener(function(){p.default.SkillLJ.restor(e)});for(var o=t.curpannel.GetMontser(),a=0;a<o.length;a++)!function(e){var n=t.curpannel.CreateThunder();n.setParent(o[e].Spine),n.getComponent(_.default).init(function(){var n=5*t.GetPracticalAtk();o[e].TheStrike(n,t.role.hit,!1,!1),o[e].Constraint()})}(a)},R.prototype.Eddy=function(t){I.default.instance.CreateEddy().getComponent(y.default).init(t,function(){for(var e=I.default.instance.GetTeam(),n=0;n<e.length;n++){var o=0;1<t.Upatk?(o=t.GetPracticalAtk()*t.fatality.skillNum*t.Upatk,t.Upatk=1):o=t.GetPracticalAtk()*t.fatality.skillNum,e[n].TheStrike(o,t.role.hit,!1,!1)}})},R.prototype.Star=function(t,e){for(var n=0;n<15;n++){var o=I.default.instance.CreateStar(),a=0;1<e.Upatk?(a=e.GetPracticalAtk()*e.fatality.skillNum*e.Upatk,e.Upatk=1):a=e.GetPracticalAtk()*e.fatality.skillNum,o.getComponent(k.default).init(t,e,n,a)}},R.prototype.Knife=function(t,e){var n=Math.floor(2*Math.random())+5;0==t&&(n=5);for(var o=0;o<n;o++){var a=I.default.instance.CreateKnife(),i=0;0==t?(i=e.GetPracticalAtk()*e.role.skill1num,a.setPosition(cc.v2(-600,250))):(1<e.Upatk?(i=e.GetPracticalAtk()*e.fatality.skillNum*e.Upatk,e.Upatk=1):i=e.GetPracticalAtk()*e.fatality.skillNum,a.setPosition(cc.v2(500,250))),0==t?a.getComponent(b.default).initTeamer(t,e,i,o):a.getComponent(b.default).initMonster(t,e,i,o)}},R.prototype.Tofly=function(t,e){for(var n=I.default.instance.GetTeam(),o=0,a=0,i=t.node.getPosition(),r=0;r<n.length;r++){var l=n[r].node.getPosition().sub(i).mag();0==o?(a=r,o=l):l<=o&&(o=l,a=r)}var c=n[a],s=.1/p.default.speed,u=t.node.position.sub(c.node.position);cc.tween(t.Content).by(s,{position:cc.v3(-u.x/2,-u.y/2,0)}).call(function(){var e=t.GetPracticalAtk()*t.fatality.skillNum;c.TheStrike(e,t.role.hit,!1,!1),t.Cure(e),c.Tofly(t)}).by(s,{position:cc.v3(u.x/2,u.y/2,0)}).call(function(){e()}).start()},R.prototype.CureMatrix=function(t,e){var n=I.default.instance.CreateCureMatrix(),o=0;1<e.Upatk?(o=e.GetPracticalAtk()*e.fatality.skillNum*e.Upatk,e.Upatk=1):o=e.GetPracticalAtk()*e.fatality.skillNum,n.getComponent(h.default).init(t,e,o)},R.prototype.CureAll=function(t,e){if(0==t)for(var n=I.default.instance.GetTeam(),o=0;o<n.length;o++){var a=e.GetPracticalAtk()*e.fatality.skillNum;n[o].Cure(a)}else{var i=I.default.instance.GetMonster();for(o=0;o<i.length;o++)a=e.GetPracticalAtk()*e.fatality.skillNum,i[o].Cure(a)}},R.prototype.FastAtk=function(t){for(var e=0;e<5;e++){var n=I.default.instance.Createbuttet();n.setPosition(t.node.getPosition()),n.getComponent(O.default).init(e,2,t,t.target,function(){var e=0;1<t.Upatk?(e=t.GetPracticalAtk()*t.Upatk,t.Upatk=1):e=t.GetPracticalAtk(),t.target.TheStrike(e*=.5,t.role.hit,!1,!1)})}},R.prototype.Wind=function(t,e){var n=0;1<e.Upatk?(n=e.GetPracticalAtk()*e.Upatk,e.Upatk=1):n=e.GetPracticalAtk(),n*=.5;var o=I.default.instance.CreateWind();o.setPosition(cc.v2(e.node.x,e.node.y)),o.getComponent(P.default).init(t,n,e,e.target)},R.prototype.BaneMatrix=function(t,e){I.default.instance.CreateBaneMatrix().getComponent(f.default).init(t,e)},R.prototype.GuideBaneMatrix=function(t,e){e.curpannel.CreateBaneMatrix().getComponent(f.default).init(t,e)},R.prototype.Moon=function(t,e){var n=0;1<e.Upatk?(n=e.GetPracticalAtk()*e.Upatk,e.Upatk=1):n=e.GetPracticalAtk(),n*=e.role.initiative;var o=I.default.instance.CreateMoon();o.setPosition(cc.v2(e.node.x,e.node.y)),o.getComponent(C.default).init(t,n,e,e.target)},R.prototype.TeamStar=function(t,e){var n=this;this.Skill.node.active=!0;var o=0;this.Skill.getComponent(w.default).init(function(){var t=I.default.instance.GetMonster(),a=e.GetPracticalAtk()*e.role.skill1num;2==p.default.getMaxCustoms()&&(a=999999);for(var i=++o<6?a/10:a/2,r=0;r<t.length;r++)!function(n){t[n].TheStrike(i,e.role.hit,!1,!0);var o=I.default.instance.CreatewzlxHit();o.setPosition(t[n].node.getPosition()),(n=o.getComponent(sp.Skeleton)).setAnimation(0,"ef8_3",!1),n.setCompleteListener(function(){p.default.wzlxHit.restor(o)})}(r);6<=o&&n.Skill.setCompleteListener(function(){n.Skill.node.active=!1})})},R.prototype.TeamThunder=function(t){var e=I.default.instance.CreateSkillLJ();e.setPosition(cc.v2(0,675));var n=e.getComponent(sp.Skeleton);n.setAnimation(0,"ef13_bg",!1),n.setCompleteListener(function(){p.default.SkillLJ.restor(e)});for(var o=I.default.instance.GetMonster(),a=0;a<o.length;a++)!function(e){var n=I.default.instance.CreateThunder();n.setParent(o[e].SpineContent),n.getComponent(_.default).init(function(){var n=t.GetPracticalAtk()*t.role.skill3num;o[e].TheStrike(n,t.role.hit,!1,!1),o[e].Constraint(t)})}(a)},R.prototype.Flamepalm=function(t){var e,n=I.default.instance.CreateFlamepalm(),o=t.node.getPosition();n.setPosition(o),e=t.GetPracticalAtk()*t.role.skill1num,n.getComponent(m.default).init(t,function(){for(var n=I.default.instance.GetMonster(),a=0;a<n.length;a++){var i=n[a].node.getPosition();o.sub(i).mag()<=200&&(n[a].TheStrike(e,t.role.hit,!1,!1),(i=I.default.instance.CreateFlame()).setParent(n[a].SpineContent),i.getComponent(g.default).init(n[a]))}})},R.prototype.FireBall=function(t){var e=I.default.instance.CreateFireBall(),n=t.node.getPosition();e.setPosition(n),e.getComponent(v.default).init(t,function(){for(var e=I.default.instance.GetMonster(),o=t.GetPracticalAtk()*t.role.skill1num,a=0;a<e.length;a++){var i=e[a].node.getPosition();n.sub(i).mag()<=200&&e[a].TheStrike(o,t.role.hit,!1,!1)}})},R.prototype.GuideFireBall=function(t){var e=t.curpannel.CreateFireBall(),n=t.node.getPosition();e.setPosition(n),e.getComponent(v.default).Guideinit(t,function(){for(var e=t.curpannel.GetMontser(),o=t.GetPracticalAtk()*t.role.skill1num,a=0;a<e.length;a++){var i=e[a].node.getPosition();n.sub(i).mag()<=200&&e[a].TheStrike(o,t.role.hit,!1,!1)}})},R.prototype.PersistCure=function(t){var e=I.default.instance.GetTeam();I.default.instance.CreateCure().getComponent(d.default).init();for(var n=0;n<e.length;n++){var o=I.default.instance.CreatePersistCure();o.setParent(e[n].SpineContent),o.getComponent(S.default).init(e[n],t.role.skill1num)}},R.prototype.FourAtk=function(t){for(var e=0;e<4;e++){var n=I.default.instance.Createbuttet();n.setPosition(t.node.getPosition()),n.getComponent(O.default).init(e,3,t,t.target,function(){var e=t.GetPracticalAtk()*t.role.skill2num;t.target.TheStrike(e,t.role.hit,!1,!1)})}},R.prototype.Sneer=function(t){for(var e=I.default.instance.GetMonster(),n=0;n<e.length;n++)e[n].setTarget(t)},R.prototype.Shield=function(t){for(var e=I.default.instance.GetTeam(),n=0,o=0,a=0;a<e.length;a++)(0==n||e[a].role.hp<n)&&(n=e[a].role.hp,o=a);e[o].setShield(t.role.skill2num)},R.prototype.update=function(){},R.instance=null,c([i(sp.Skeleton)],R.prototype,"Skill",void 0),a=u=c([a],R),r.default=a,cc._RF.pop()},{}],SkillDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"dd503DziqtO/q9wSgLC6Fjk","SkillDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("SkillData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/skillData",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/skillData")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.info=a.info,i.spine=a.spine,i.release=a.release,i.skillType=a.skillType,i.cd=a.cd,i.skillNum=a.skillNum,i.isFatality=a.isFatality,this.allDataList.push(i);return[2]}})})},y.prototype.GetSkill=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],SkillData:[function(t,e,n){"use strict";cc._RF.push(e,"d5bf0EuytRCdabdy9sr3bxN","SkillData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],SkillUi:[function(t,e,n){"use strict";cc._RF.push(e,"58758T1aLlKY5R6o0tE8Hfb","SkillUi");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.Sp=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.start=function(){},p.prototype.init=function(t,e){var n=this;switch(this.node.opacity=255,e="p"+t+"_"+e,t){case 1:this.node.y=59.5;break;case 2:this.node.y=183.5;break;case 3:this.node.y=307.5;break;case 4:this.node.y=431.5;break;case 5:this.node.y=555.5}this.Sp.setAnimation(0,e,!1),this.Sp.setCompleteListener(function(){u.default.SkillSp.restor(n.node)}),cc.tween(this.node).delay(1.5).to(.5,{opacity:255}).start()},c([i(sp.Skeleton)],p.prototype,"Sp",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],SkipUp:[function(t,e,n){"use strict";cc._RF.push(e,"99617uW7gVF9IQldpF6VV+P","SkipUp");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("EquipDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("TipGroup"),m=a("UIBase");function b(){var t=null!==p&&p.apply(this,arguments)||this;return t.oldFightNum=null,t.oldFrame=null,t.oldIcon=null,t.oldName=null,t.newFightNum=null,t.newFrame=null,t.newIcon=null,t.newName=null,t.video=null,t.share=null,t.newprop=null,t.oldprop=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,p=m.default),b.prototype.init=function(t,e){return s(this,void 0,void 0,function(){var n,o,a,i,r,l,c;return u(this,function(s){switch(s.label){case 0:return this.callback=e,this.oldprop=t,n=f.default.Instance.GetEquip(t.goodsid),this.oldFightNum.string="\u6218\u6597\u529b:"+v.default.refSetCoin(n.fight),o="PropIcon/"+t.icon,(n=v.default.GetRes("Bundle",o,cc.SpriteFrame))?[3,2]:[4,v.default.loadImage("Bundle",o)];case 1:n=s.sent(),s.label=2;case 2:return this.oldIcon.spriteFrame=n,o="PropFrame/"+t.frame,(a=v.default.GetRes("Bundle",o,cc.SpriteFrame))?[3,4]:[4,v.default.loadImage("Bundle",o)];case 3:a=s.sent(),s.label=4;case 4:return this.oldFrame.spriteFrame=a,this.oldName.string=t.name,this.oldName.node.color=cc.color().fromHEX(d.default.Instance.GetLevelColor(t.frame)),i=d.default.Instance.GetProp(t.id+1),this.newprop=i,r=f.default.Instance.GetEquip(i.goodsid),this.newFightNum.string="\u6218\u6597\u529b:"+v.default.refSetCoin(r.fight),l="PropIcon/"+i.icon,(r=v.default.GetRes("Bundle",l,cc.SpriteFrame))?[3,6]:[4,v.default.loadImage("Bundle",l)];case 5:r=s.sent(),s.label=6;case 6:return this.newIcon.spriteFrame=r,l="PropFrame/"+i.frame,(c=v.default.GetRes("Bundle",l,cc.SpriteFrame))?[3,8]:[4,v.default.loadImage("Bundle",l)];case 7:c=s.sent(),s.label=8;case 8:return this.newFrame.spriteFrame=c,this.newName.string=i.name,this.newName.node.color=cc.color().fromHEX(d.default.Instance.GetLevelColor(i.frame)),y.default.channel,this.share.active=!1,this.video.active=!0,[2]}})})},b.prototype.onEnable=function(){p.prototype.onEnable.call(this)},b.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.callback(!1),this.CloseThis()},b.prototype.ClickUp=function(){h.default.instance.play(h.Sound.Click),y.default.channel,this.VideoUp()},b.prototype.VideoUp=function(){var t=this;v.default.getSdk().PlatformCallBack("REWARD",function(){t.callback(!0),t.CloseThis()},function(){g.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-14)},b.prototype.ShareUp=function(){var t=this;v.default.getSdk().shareFriend(2,function(){t.callback(!0),t.CloseThis()},function(){g.default.instance.setText(-1,"\u5206\u4eab\u5931\u8d25")})},b.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},b.prototype.start=function(){},c([i(cc.Label)],b.prototype,"oldFightNum",void 0),c([i(cc.Sprite)],b.prototype,"oldFrame",void 0),c([i(cc.Sprite)],b.prototype,"oldIcon",void 0),c([i(cc.Label)],b.prototype,"oldName",void 0),c([i(cc.Label)],b.prototype,"newFightNum",void 0),c([i(cc.Sprite)],b.prototype,"newFrame",void 0),c([i(cc.Sprite)],b.prototype,"newIcon",void 0),c([i(cc.Label)],b.prototype,"newName",void 0),c([i(cc.Node)],b.prototype,"video",void 0),c([i(cc.Node)],b.prototype,"share",void 0),a=c([a],b),r.default=a,cc._RF.pop()},{}],SmelterItem:[function(t,e,n){"use strict";cc._RF.push(e,"2b5caqeLGRBC52K3QsBmi4X","SmelterItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropDataManager"),d=a("SoundManager"),h=a("GameTools"),y=a("TipGroup");function v(){var t=null!==p&&p.apply(this,arguments)||this;return t.Name=null,t.Frame=null,t.Icon=null,t.Head=null,t.Tick=null,t.Have=null,t.packdata=null,t.EquipSmelter=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(v,p=cc.Component),v.prototype.onLoad=function(){cc.systemEvent.on("initTick",this.initTick,this)},v.prototype.init=function(t,e){return s(this,void 0,void 0,function(){var n,o,a,i,r;return u(this,function(l){switch(l.label){case 0:return this.EquipSmelter=e,this.packdata=t,n=f.default.Instance.GetProp(t.prop.id).crystal,this.Have.string="x"+t.have,this.Tick.active=!1,999999==n||this.packdata.prop.isOn?(this.node.active=!1,[3,10]):[3,1];case 1:return this.packdata.prop.isOn?(this.Head.node.active=!0,this.Tick.active=!1,n=0==this.packdata.prop.userid?"TeamHead/hero_fight_avatar":"TeamHead/hero_fight_avatar_"+this.packdata.prop.userid,(o=h.default.GetRes("SpriteBundle1",n,cc.SpriteFrame))?[3,3]:[4,h.default.loadImage("SpriteBundle1",n)]):[3,4];case 2:o=l.sent(),l.label=3;case 3:return this.Head.spriteFrame=o,[3,5];case 4:this.Head.node.active=!1,l.label=5;case 5:return this.Name.string=""+this.packdata.prop.name,this.Name.node.color=cc.color().fromHEX(f.default.Instance.GetLevelColor(this.packdata.prop.frame)),i="PropFrame/"+this.packdata.prop.frame,(a=h.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,7]:[4,h.default.loadImage("Bundle",i)];case 6:a=l.sent(),l.label=7;case 7:return this.Frame.spriteFrame=a,i="PropIcon/"+this.packdata.prop.icon,(r=h.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,9]:[4,h.default.loadImage("Bundle",i)];case 8:r=l.sent(),l.label=9;case 9:this.Icon.spriteFrame=r,l.label=10;case 10:return[2]}})})},v.prototype.clickThis=function(){if(d.default.instance.play(d.Sound.Click),this.packdata.prop.isOn)return y.default.instance.setText(-1,"\u88c5\u5907\u7a7f\u6234\u4e2d...");this.Tick.active?(this.Tick.active=!1,this.EquipSmelter.subProp(this.packdata.prop,this.packdata.have)):(this.Tick.active=!0,this.EquipSmelter.addProp(this.packdata.prop,this.packdata.have))},v.prototype.initTick=function(){var t,e;this.packdata.prop.isOn||999999==f.default.Instance.GetProp(this.packdata.prop.id).crystal||(t=this.EquipSmelter.tickArray,e=this.packdata.prop.frame,t[parseInt(e[e.length-1])-1]?this.Tick.active||(this.Tick.active=!0,this.EquipSmelter.addProp(this.packdata.prop,this.packdata.have)):this.Tick.active&&(this.Tick.active=!1,this.EquipSmelter.subProp(this.packdata.prop,this.packdata.have)))},c([i(cc.Label)],v.prototype,"Name",void 0),c([i(cc.Sprite)],v.prototype,"Frame",void 0),c([i(cc.Sprite)],v.prototype,"Icon",void 0),c([i(cc.Sprite)],v.prototype,"Head",void 0),c([i(cc.Node)],v.prototype,"Tick",void 0),c([i(cc.Label)],v.prototype,"Have",void 0),a=c([a],v),r.default=a,cc._RF.pop()},{}],SmelterPanel:[function(t,e,n){"use strict";cc._RF.push(e,"c078bJsgr5JO5T87Y5D82kn","SmelterPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("SoundManager"),p=a("GameSys"),f=a("GameTools"),d=a("UIBase");function h(){var t=null!==s&&s.apply(this,arguments)||this;return t.Num=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(h,s=d.default),h.prototype.onEnable=function(){s.prototype.onEnable.call(this)},h.prototype.init=function(t){p.default.setOre(t),this.Num.string="+"+f.default.refSetCoin(t)},h.prototype.clickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},h.prototype.CloseThis=function(){s.prototype.CloseThis.call(this)},c([i(cc.Label)],h.prototype,"Num",void 0),a=c([a],h),r.default=a,cc._RF.pop()},{}],Soaring:[function(t,e,n){"use strict";cc._RF.push(e,"f26e6bhr+5ANr/tN65Phc/v","Soaring");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("CoinOutPutDataManager"),f=i("SoundManager"),d=i("GameSys"),h=i("GameTools"),y=i("PanelConst"),v=i("TipGroup"),g=i("UIBase"),m=i("UIManager");function b(){return null!==u&&u.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(b,u=g.default),b.prototype.onEnable=function(){u.prototype.onEnable.call(this)},b.prototype.start=function(){},b.prototype.ClickDo=function(){return c(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return f.default.instance.play(f.Sound.Click),d.default.disater=50,t=p.default.Instance.GetNeedCoin(),m.default.Instance.ChangeCoin(-t),[4,m.default.Instance.ShowUI(y.default.DisasterPanel)];case 1:return e.sent(),this.CloseThis(),[2]}})})},b.prototype.ClickVideo=function(){var t=this;f.default.instance.play(f.Sound.Click),h.default.getSdk().PlatformCallBack("REWARD",function(){return c(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return d.default.disater=100,t=p.default.Instance.GetNeedCoin(),m.default.Instance.ChangeCoin(-t),[4,m.default.Instance.ShowUI(y.default.DisasterPanel)];case 1:return e.sent(),this.CloseThis(),[2]}})})},function(){v.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-15)},b.prototype.CloseThis=function(){u.prototype.CloseThis.call(this)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],b),r.default=i,cc._RF.pop()},{}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"21e8bt8LOVHXZi7O8yukU1q","SoundManager");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.Sound=void 0;var s,u,p,f=a("GameSys"),d=cc._decorator;function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.audios=[],t.audioid=-1,t.bgm=!0,t}i=d.ccclass,a=d.property,(d=s=r.Sound||(r.Sound={}))[d.BGM1=0]="BGM1",d[d.BGM2=1]="BGM2",d[d.BGM3=2]="BGM3",d[d.Click=3]="Click",d[d.Nan=4]="Nan",d[d.Nv=5]="Nv",d[d.PlayUp=6]="PlayUp",d[d.SkillUp=7]="SkillUp",d[d.FightSuccess=8]="FightSuccess",d[d.FightFail=9]="FightFail",d[d.UpSuccess=10]="UpSuccess",d[d.UpFail=11]="UpFail",d[d.DieNan=12]="DieNan",d[d.DieNv=13]="DieNv",l(h,u=cc.Component),(p=h).prototype.onLoad=function(){(p.instance=this).play(s.BGM1,!0,1)},h.prototype.play=function(t,e){f.default.getMusic()&&this.bgm&&(t<3?t!=this.audioid&&(this.audioid=cc.audioEngine.playMusic(this.audios[t],e||!0)):cc.audioEngine.playEffect(this.audios[t],e||!1))},h.prototype.init=function(){f.default.getMusic()?this.playBGM():this.stopBGM()},h.prototype.stopBGM=function(){f.default.setMusic(!1),cc.audioEngine.pauseAll()},h.prototype.playBGM=function(){f.default.getMusic()&&this.bgm&&(f.default.setMusic(!0),-1==this.audioid?this.play(s.BGM1,!0,1):cc.audioEngine.resumeAll())},c([a({type:cc.AudioClip})],h.prototype,"audios",void 0),i=p=c([i],h),r.default=i,cc._RF.pop()},{}],StartGame:[function(t,e,n){"use strict";cc._RF.push(e,"64a4bQ3dCRCcbywbNRLAM8Y","StartGame");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ChapterDataManager"),d=a("SoundManager"),h=a("EventConst"),y=a("GameTools"),v=a("ForewordPanel"),g=a("PanelConst"),m=a("UIBase"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.Sp=null,t.Content=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=m.default),C.prototype.start=function(){},C.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.Sp.node.active=!1,this.Content.active=!0},C.prototype.ClickStart=function(){var t=this;d.default.instance.play(d.Sound.Click),y.default.getSdk().dot(2),this.Content.active=!1,this.Sp.node.active=!0,this.Sp.setAnimation(0,"lunhui",!1),this.Sp.setCompleteListener(function(){return s(t,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return cc.systemEvent.emit(h.EventConst.GameStart),this.CloseThis(),t=f.default.Instance.GetData(1),[4,b.default.Instance.ShowUI(g.default.ForewordPanel)];case 1:return e.sent(),b.default.Instance.GetClass(g.default.ForewordPanel).getComponent(v.default).init(function(){cc.systemEvent.emit(h.EventConst.playChapter,t)}),[2]}})})})},C.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(sp.Skeleton)],C.prototype,"Sp",void 0),c([i(cc.Node)],C.prototype,"Content",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],Start:[function(t,e,n){"use strict";cc._RF.push(e,"86369suF9JPe4nK0vrop23D","Start");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.onLoad=function(){},s.prototype.start=function(){cc.assetManager.loadBundle("LoadScene",function(t,e){return t?console.log("this.Bundle is not find"):(console.log("LoadScene",e),void e.loadScene("LoadScene",function(t,e){t?console.log("error:",t):cc.director.runScene(e)}))})},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],Star:[function(t,e,n){"use strict";cc._RF.push(e,"20bddPo7nVGhrGI0X0349wc","Star");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.open=0,t.master=null,t.atk=0,t.target=null,t.type=0,t.moveSpeed=3,t.dir=cc.v2(0,0),t.g=1e3,t.move=!1,t.i=!1,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e,n,o){this.node.setPosition(cc.v2(0,900)),this.target=null,this.move=!1,this.type=t,this.open=.01,this.master=e,this.atk=o},p.prototype.GetTagret=function(){if((i=s.default.instance.GetMonster()).length<=0)return this.target=null,this.move=!1,void u.default.Star.restor(this.node);var t=Math.floor(Math.random()*i.length);this.target=i[t];var e=this.master.node.getPosition(),n=cc.v2(e.x-100,e.y+150),o=cc.v2(e.x-150,e.y+75),a=cc.v2(e.x-200,e.y),i=cc.v2(e.x-150,e.y-75);t=cc.v2(e.x-100,e.y-150),(e=[]).push(n,o,a,i,t),t=Math.floor(5*Math.random()),this.i=t<2,this.node.setPosition(e[t]),this.getBezierPoints()},p.prototype.getBezierPoints=function(){if(s.default.instance.state==s.FightState.ready)return this.target=null,this.move=!1,void u.default.Star.restor(this.node);var t=this.node.getPosition(),e=this.target.node.parent.convertToWorldSpaceAR(this.target.node.getPosition());e=this.node.parent.convertToNodeSpaceAR(e),this.dir.x=e.x-t.x,this.g=300*Math.random()+800,this.i?this.dir.y=e.y-t.y+.5*this.g:this.dir.y=e.y-t.y-.5*this.g,this.move=!0},p.prototype.update=function(t){if(s.default.instance.state==s.FightState.ready)return this.target=null,this.move=!1,void u.default.Star.restor(this.node);var e,n,o;0<this.open&&(this.open-=t*u.default.speed,this.open<=0&&this.GetTagret()),this.target&&(this.target.node?(e=this.node.getPosition(),o=this.target.node.parent.convertToWorldSpaceAR(this.target.node.getPosition()),n=this.node.parent.convertToNodeSpaceAR(o),o=e.sub(n).mag(),e.sub(n).signAngle(cc.v2(1,0)),Math.PI,o<=50&&(this.target.TheStrike(this.atk,this.master.role.hit,!1,!0),this.target=null,this.move=!1,u.default.Star.restor(this.node))):(this.target=null,this.move=!1,u.default.Star.restor(this.node))),this.move&&(this.node.x+=t*this.dir.x*u.default.speed*this.moveSpeed,this.node.y+=t*this.dir.y*u.default.speed*this.moveSpeed,this.i?this.dir.y-=this.g*t*this.moveSpeed*u.default.speed:this.dir.y+=this.g*t*this.moveSpeed*u.default.speed)},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],StateDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"e14706eWX1Fz45gf1tZ48fX","StateDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("StateData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/State",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/State")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.state=a.state,i.rewardId=a.rewardId,i.count=a.count,i.explain=a.explain,this.allDataList.push(i);return[2]}})})},y.prototype.GetData=function(t){for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].id==t)return this.allDataList[e];if(e==this.allDataList.length-1)return this.allDataList[e]}},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],StateData:[function(t,e,n){"use strict";cc._RF.push(e,"26cceeHZnpLBr6JD4w6Iugu","StateData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],StateMachine:[function(t,e,n){"use strict";cc._RF.push(e,"9469dlB4LFJu7+S0G7Si/np","StateMachine");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],State:[function(t,e,n){"use strict";cc._RF.push(e,"a7c71zoahtDSI+CXrQ6KhrU","State");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],StoryDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"20211zRSXdNi6fqvxHdsW7c","StoryDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("StoryData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/Stroy",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/Stroy")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.name=a.name,i.head=a.head,i.paint=a.paint,i.allusion1_level=a.allusion1_level,i.allusion1_info=a.allusion1_info,i.allusion2_level=a.allusion2_level,i.allusion2_info=a.allusion2_info,i.allusion3_level=a.allusion3_level,i.allusion3_info=a.allusion3_info,i.allusion4_level=a.allusion4_level,i.allusion4_info=a.allusion4_info,i.allusion5_level=a.allusion5_level,i.allusion5_info=a.allusion5_info,i.unlock=a.unlock,i.unlockDocument=a.unlockDocument,this.allDataList.push(i);return[2]}})})},v.prototype.GetStory=function(t){for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].id==t)return this.allDataList[e];if(e>=this.allDataList.length-1)return this.allDataList[e]}},v.prototype.IsCanUnlock=function(t){return t=this.GetStory(t),!(d.default.getMaxCustoms()<t.unlock)},v.prototype.UnlockOrder=function(){for(var t,e=[],n=0;n<this.allDataList.length;n++)e.push(this.allDataList[n].unlock);for(n=0;n<e.length;n++)for(var o=0;o<=n;o++)e[o]>e[n]&&(t=e[n],e[n]=e[o],e[o]=t);return e},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],StoryData:[function(t,e,n){"use strict";cc._RF.push(e,"b042dkQPy9GMouS2F7P20Wd","StoryData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],SystemDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"4a48f1Rx+5M3pP0UB7VVNa5","SystemDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("SystemData"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return s(this,function(l){switch(l.label){case 0:return t=h.default.getSdk().isHaveRank()?"Jsons/SystemData":"Jsons/SystemData2",null!=(e=h.default.GetRes("JsonBundle",t,cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle",t)];case 1:return n=l.sent(),[3,3];case 2:n=e.json,l.label=3;case 3:for(o=n.length,a=0;a<o;a++)i=n[a],(r=new f.default).id=i.id,r.info=i.info,r.level=i.level,r.unlockSystem=i.unlockSystem,this.allDataList.push(r);return[2]}})})},v.prototype.isUnlcok=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].unlockSystem==t&&(e=this.allDataList[n]);return d.default.getMaxCustoms()>=e.level},v.prototype.CanUnlock=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].unlockSystem==t&&(e=this.allDataList[n]);return"\u8fd8\u5dee"+(e.level-d.default.getCustoms())+"\u5173\u5f00\u542f"+e.info},v.prototype.SubLevelUnlock=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].unlockSystem==t&&(e=this.allDataList[n]);return e.level-d.default.getMaxCustoms()},v.prototype.isHaveUnlock=function(){if(d.default.getCustoms()<d.default.getMaxCustoms())return null;for(var t=d.default.getMaxCustoms(),e=0;e<this.allDataList.length;e++){if(this.allDataList[e].level==t)return this.allDataList[e];if(e>=this.allDataList.length-1)return null}},v.prototype.GetNextUnlock=function(){for(var t=d.default.getMaxCustoms(),e=0;e<this.allDataList.length;e++){if(this.allDataList[e].level>t)return this.allDataList[e];if(e>=this.allDataList.length-1)return null}},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],SystemData:[function(t,e,n){"use strict";cc._RF.push(e,"ab9b3S7yAZGB6iPp3unUwTs","SystemData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],TTManager:[function(t,e,n){"use strict";cc._RF.push(e,"e0150MgORpO3b7d2KiAQy1r","TTManager");var o,a=t,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=a("HttpClient"),s=a("SdkManager"),u=a("Recorder"),p=a("GameSys"),f=a("TipGroup"),d=a("EventConst"),h=a("UIManager"),y=a("ServerUtil"),v="https://www-tomato123-cn.oss-cn-beijing.aliyuncs.com/XXMNQ/share.png";function g(){var t=null!==l&&l.apply(this,arguments)||this;return t.userinfo=null,t.shareIds=["10","11"],t.shareParam=[{title:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:v}],t.index=0,t.bannerAd=null,t.bannerID=["4i8l6f06e1ca4956vp","4i8l6f06e1ca4956vp","4i8l6f06e1ca4956vp"],t.bannerNum=0,t.banneris=!1,t.bannerCount=0,t.bannerRepeat=5,t.rewardedAd=null,t.rewardID=["4a82mfe8fgi92dhj0j","4a82mfe8fgi92dhj0j","4a82mfe8fgi92dhj0j"],t.rewardNum=0,t.count=0,t.interstitialAd=null,t.recorder=null,t.recorderTime=0,t.recordvidoe=null,t.recordTime=null,t.appbox=null,t}r(g,l=s.default),g.prototype.authorize=function(t,e,n){window.tt&&tt.getSetting({success:function(t){console.log("\u6388\u6743\u72b6\u6001:",t),t.authSetting["scope.userInfo"],tt.getUserInfo({success:function(t){console.log("\u83b7\u53d6\u6388\u6743\u6210\u529f:",t),(t=t.userInfo)?(e({nickName:t.nickName,avatarUrl:t.avatarUrl}),y.default.setUserInfo(t.nickName,t.avatarUrl,{success:function(t){console.log("setUserInfo"+t)},fail:function(t){console.log("setUserInfo error",t)}})):n()},fail:function(t){console.log("\u83b7\u53d6\u6388\u6743\u5931\u8d25:",t),n()}})}})},g.prototype.getRankId=function(){return"ttrank"},g.prototype.setRankScore=function(t){window.tt&&tt.setUserCloudStorage({KVDataList:[{key:"GCXX",value:""+t}],success:function(){console.log("\u4e0a\u4f20\u5206\u6570\u6210\u529f\uff1a",t)},fail:function(){console.log("\u4e0a\u4f20\u5931\u8d25")},complete:function(){console.log("\u4e0a\u4f20\u5b8c\u6210")}})},g.prototype.getFriendOpenDataContext=function(){if(window.tt){var t=tt.getOpenDataContext();return t.postMessage({channel:"TT",type:"friend",open:"0",openid:y.default.openId}),t}},g.prototype.hideFriendOpenDataContext=function(){if(window.tt){var t=tt.getOpenDataContext();return t.postMessage({channel:"TT",type:"friend",open:"1",openid:y.default.openId}),t}},g.prototype.getSurpassOpenDataContext=function(t){tt.getOpenDataContext().postMessage({channel:"TT",type:"surpass",open:"0",score:t,openid:y.default.openId})},g.prototype.getChannelId=function(){return"0001048"},g.prototype.initShare=function(){if(window.tt){for(var t=this,e=this,n=0;n<this.shareIds.length;n++)!function(n){var o=e.shareIds[n];y.default.getShare(o,function(e){e={title:e.title,imageUrl:e.img},t.shareParam[n]=e})}(n);tt.showShareMenu({menus:["shareAppMessage","shareTimeline"]}),tt.onShareAppMessage(function(){return t.shareParam[0]});var o=0;cc.game.on(cc.game.EVENT_HIDE,function(){o=Date.now()}),cc.game.on(cc.game.EVENT_SHOW,function(){t.shareSuccess&&(0!=o&&(3e3<Date.now()-o?t.shareSuccess():t.shareFail&&t.shareFail()),t.shareSuccess=null,t.shareFail=null,o=0)})}},g.prototype.shareFriend=function(t,e,n){if(window.tt){void 0===t&&(t=0);var o={};y.default.openId&&(o={query:"sopenid="+y.default.openId+"&sid="+t}),Object.assign(o,this.shareParam[t]),tt.shareAppMessage(o),this.shareSuccess=e,this.shareFail=n}},g.prototype.getShareList=function(t,e){y.default.getShareList(this.shareIds[t],{success:function(t){console.log(t),e(t)},fail:function(t){console.log(t)}})},g.prototype.share=function(){tt.shareAppMessage({title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",desc:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:v,query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}})},g.cocosToWXPixel=function(t){var e=cc.game.canvas.width,n=cc.game.canvas.height,o=cc.winSize.width,a=cc.winSize.height,i=t.width,r=t.height;return t=t.convertToWorldSpace(cc.v2(0,r)),cc.rect(e/o*t.x,(1-t.y/a)*n,e/o*i,n/a*r)},g.prototype.onHideListen=function(){tt.onHide(function(){console.log("tt.onHide()")})},g.prototype.vibrate=function(){window.tt&&tt.vibrateShort({})},g.prototype.customer=function(){window.tt&&tt.openCustomerServiceConversation()},g.prototype.sendEvent=function(t,e){window.tt&&(e?(tt.reportAnalytics(t,e),tt.uma.trackEvent(t,e)):(tt.reportAnalytics(t),tt.uma.trackEvent(t)))},g.prototype.BannerAd=function(){if(window.tt){var t=this;console.log("tt.getSystemInfoSync():",tt.getSystemInfoSync()),this.banneris=!1;var e=tt.getSystemInfoSync().screenWidth,n=tt.getSystemInfoSync().screenHeight,o=200;this.bannerAd=tt.createBannerAd({adUnitId:this.bannerID[this.bannerNum],style:{width:o,top:n-o/16*9}}),this.bannerAd.style.left=(e-o)/2,console.log("app\u540d\u79f0:",tt.getSystemInfoSync().appName),"XiGua"==tt.getSystemInfoSync().appName?this.bannerAd.style.top=n-o/16*9+200:this.bannerAd.style.top=n-o/16*9,console.log("\u5b9e\u4f8b\u5316banner:",this.bannerAd),this.bannerAd.onResize(function(a){console.log(a.width,a.height),o!=a.width&&(o=a.width,t.bannerAd.style.top=n-a.height,t.bannerAd.style.left=(e-a.width)/2)}),this.bannerAd.onLoad(function(){t.banneris=!0}),this.bannerAd.onError(function(e){console.log("res:",e),t.banneris=!1})}},g.prototype.BannerShow=function(){window.tt&&(this.banneris?(console.log("\u8c03\u7528banner"),this.bannerAd.show()):this.bannerAd?this.banneris?(console.log("\u5b58\u5728banner\uff0c\u4e14\u52a0\u8f7d\u6210\u529f"),this.bannerAd.show()):(this.bannerAd.destroy(),this.bannerAd=null,console.log("\u5b58\u5728banner\uff0c\u52a0\u8f7d\u4e0d\u6210\u529f")):(console.log("\u4e0d\u5b58\u5728banner"),this.BannerAd()))},g.prototype.BannerHide=function(){window.tt&&(null!=this.bannerAd&&this.bannerAd.hide(),0==this.bannerRepeat?null==this.bannerAd&&this.BannerAd():0<this.bannerRepeat&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.BannerAd()))},g.prototype.RewardedAd=function(){window.tt&&(this.rewardedAd=tt.createRewardedVideoAd({adUnitId:this.rewardID[this.rewardNum]}),this.rewardNum++,3<=this.rewardNum&&(this.rewardNum=0))},g.prototype.RewardedShow=function(t,e){if(window.tt){var n=this;this.count++,3<=this.count&&(this.count=0,this.RewardedAd());var o=function t(o){console.log("rewardad"+o.errCode+" : "+o.errMsg),e(!0),n.rewardedAd.offError(t)};this.rewardedAd.show(),this.rewardedAd.onClose(function a(i){i.isEnded?(console.log("\u6210\u529f"),t()):(console.log("\u5931\u8d25"),e(!1)),n.rewardedAd.offClose(a),n.rewardedAd.offError(o)}),this.rewardedAd.onError(o)}},g.prototype.InterstitialAd=function(){window.tt&&tt.createInterstitialAd&&(this.interstitialAd=tt.createInterstitialAd({adUnitId:"19m0l9n004hlk9p961"}))},g.prototype.InterstitialShow=function(){window.tt&&this.interstitialAd&&this.interstitialAd.show().catch(function(t){console.error(t)})},g.prototype.isHaveRank=function(){return!0},g.prototype.SendAdsMessage=function(){},g.prototype.showShare=function(){window.tt&&tt.showShareMenu({withShareTicket:!0})},g.prototype.ClickShare=function(t,e){window.tt&&(tt.shareAppMessage({title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",desc:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:"",query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}}),t&&(this.shareSuccess=t,this.shareFail=e))},g.prototype.onShareListen=function(){window.tt&&tt.onShareAppMessage(function(){return{title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25",t)}}})},g.prototype.onShareMessageToFriend=function(){tt.onShareMessageToFriend(function(t){console.log("\u597d\u53cb\u5206\u4eab\u56de\u8c03\uff1a",t),t.success?h.default.Instance.shareCallback():f.default.instance.setText(-1,"\u5206\u4eab\u5931\u8d25")})},g.prototype.hideWXOpen=function(){tt.getOpenDataContext().postMessage({type:"hideWXOpen"})},g.prototype.setTranscends=function(){var t=tt.getOpenDataContext();t.canvas.width=200,t.canvas.height=150,t.postMessage({type:"transcend",open:"0",width:200,height:150,score:0})},g.prototype.hideTranscends=function(){tt.getOpenDataContext().postMessage({type:"transcend",open:"1",width:200,height:150,score:0})},g.prototype.login=function(t,e){this.ttlogin(a.code,t,e),this.RewardedAd(),this.initShare(),this.InterstitialAd(),this.onShareListen(),this.showShare(),this.recorderAd()},g.prototype.ttlogin=function(t,e,n){console.log("\u6b63\u5728\u8c03\u7528\u5b57\u8282\u767b\u5f55......"),console.log("\u5b57\u8282\u767b\u5f55\u6210\u529f"),this.onClickShare(function(){}),this.loadData(e,n)},g.prototype.loadData=function(t){u.default.init(y.default.guid,{},6e4),t()},g.prototype.onClickShare=function(t){if(window.tt){var e=this,n=tt.getLaunchOptionsSync();console.log("LaunchOption.scene...",n.scene),o(n),tt.onShow(function(t){console.log("onShow",t),o(t)})}function o(n){switch(console.log("\u573a\u666f\u503c:",n),n.scene){case"014001":case"014002":case"014003":case"014004":case"014008":case"014006":case"014007":case"014009":case"011007":case"024001":case"024002":case"024003":case"024004":case"024005":case"021002":console.log("\u662f\u5426\u53d7\u9080\u8fdb\u5165\u6e38\u620f:",n);var o=n.query.sopenid,a=n.query.sid;o&&(t(a,o),y.default.clickShare(e.shareIds[a],o,{success:function(t){console.log("clickShare",t)},fail:function(t){console.log("clickShare",t)}}))}}},g.prototype.postReset=function(){tt.getOpenDataContext().postMessage({type:"postReset"})},g.prototype.showLoading=function(){tt.showLoading({title:"\u52a0\u8f7d\u4e2d",mask:!0})},g.prototype.hideLoading=function(){tt.hideLoading()},g.prototype.goOtherGame=function(){tt.navigateToMiniProgram({appId:"wx12b4fa0aca4d37c8"})},g.prototype.toOtherGame=function(t,e){void 0===e&&(e=""),tt.navigateToMiniProgram({appId:t,success:function(){}})},g.prototype.isHaveShare=function(){return!1},g.prototype.recorderAd=function(){if(window.tt){var t=this;null==this.recorder&&(this.recorder=tt.getGameRecorderManager(),this.recorder.onStop(function(e){console.log("\u5f55\u5c4f\u7ed3\u675f"),t.recordvidoe=e.videoPath}),this.recorder.onStart(function(){console.log("\u5f00\u59cb\u5f55\u5c4f"),p.default.isdorecorder=1,cc.systemEvent.emit(d.EventConst.Recorder)}))}},g.prototype.shareRecorder=function(t,e){window.tt&&tt.shareAppMessage({channel:"video",title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",desc:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:"",query:"",extra:{videoPath:this.recordvidoe,videoTopics:["\u4fee\u771f\u6a21\u62df\u5668","\u8521\u5409\u4fee\u4ed9"],createChallenge:!1},success:function(){t()},fail:function(){e()}})},g.prototype.recorderstart=function(){if(window.tt){var t=this;console.log("\u5f00\u59cb\u5f55\u5c4f"),this.recorderTime=(new Date).getTime(),this.recorder.start({duration:300}),this.recordTime=setTimeout(function(){clearTimeout(t.recordTime),t.recorder.stop(),p.default.isdorecorder=2,cc.systemEvent.emit(d.EventConst.Recorder)},3e4)}},g.prototype.recorderstop=function(){if(window.tt)return this.recordTime&&clearTimeout(this.recordTime),console.log("\u5f55\u5c4f\u7ed3\u675f"),this.recorder.stop(),((new Date).getTime()-this.recorderTime)/1e3<3?(p.default.isdorecorder=0,cc.systemEvent.emit(d.EventConst.Recorder),void f.default.instance.setText(-1,"\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2\u3002")):(p.default.isdorecorder=2,void cc.systemEvent.emit(d.EventConst.Recorder))},g.prototype.MoreGame=function(){window.tt&&(tt.navigateToMiniProgram?tt.navigateToMiniProgram():tt.showModal({title:"\u63d0\u793a",content:"\u5f53\u524d\u5ba2\u6237\u7aef\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u8be5\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5ba2\u6237\u7aef\u6216\u5173\u95ed\u540e\u91cd\u542f\u66f4\u65b0\u3002"}),tt.onMoreGamesModalClose(function(t){console.log("modal closed",t)}),tt.onNavigateToMiniProgram(function(t){console.log(t.errCode),console.log(t.errMsg)}),"ios"!==tt.getSystemInfoSync().platform&&tt.showMoreGamesModal({appLaunchOptions:[],success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}}))},g.prototype.AppBoxAd=function(){this.appbox=tt.createAppBox({adUnitId:"edbf5ffaec52961434526484cbe23a82"})},g.prototype.AppBoxShow=function(){var t=this;this.AppBoxAd(),this.appbox.load().then(function(){return t.appbox.show()})},g.prototype.saveApp=function(t,e){tt.saveAppToDesktop({success:function(){t()},fail:function(){e()},complete:function(){}})},g.prototype.PlatformCallBack=function(t,e,n,o){var a=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u5e7f\u544a\u6309\u94ae\u70b9\u51fb",pos:o}),p.default.isShowVideoAd&&this.RewardedShow(function(){a.sendEvent("videoaded",{message:"\u5e7f\u544a\u64ad\u653e\u6210\u529f",pos:o}),e();var t=p.default.getLevel();60<t&&(t=10*Math.floor(t/10),a.sendEvent("levelvideo",{message:t}))},n)):"BANNER"==t?p.default.isShowBannerAd&&this.BannerShow():"BANNERCLOSE"==t?p.default.isShowBannerAd&&this.BannerHide():"INTER"==t&&p.default.isShowInterAd&&p.default.interTime<=0&&(p.default.interTime=30,this.InterstitialShow())},g.prototype.controlKey=function(){c.default.RequestHttpData("198","0001049",{success:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t);for(var e=JSON.parse(t.data.info.cdk),n=0;n<e.length;n++)for(var o=e[n],a=0;a<p.default.wxcdk.length&&p.default.wxcdk[a].CDK!=o.cdk;a++)if(p.default.wxcdk[a].CDK!=o.cdk&&a==p.default.wxcdk.length-1){p.default.wxcdk.push({CDK:o.cdk,state:!1});break}p.default.CDKArray=e,p.default.setWXCDK(p.default.wxcdk)},fail:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t)}},"1.0.0")},g.prototype.getMenuButtonBottom=function(){return wx.getMenuButtonBoundingClientRect().bottom/cc.view.getFrameSize().height*cc.winSize.height},g.prototype.addToFavorites=function(){window.tt&&tt.showFavoriteGuide({type:"bar",content:"\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f",position:"bottom",success:function(){console.log("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u6210\u529f")},fail:function(){console.log("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25")}})},g.prototype.openAwemeUserProfile=function(){tt.openAwemeUserProfile()},r=g,i.default=r,cc._RF.pop()},{}],TalkDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"ae0c3/JlzlDuK5G55MvZ26T","TalkDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TalkData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t.teachDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.initTalkData()];case 1:return t.sent(),[4,this.initTeachData()];case 2:return t.sent(),[2]}})})},y.prototype.initTalkData=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/Talk",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/Talk")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.group=a.group,i.left_paint=a.left_paint,i.left_name=a.left_name,i.right_name=a.right_name,i.right_paint=a.right_paint,i.whoTalk=a.whoTalk,i.contain=a.contain,i.isSprite_left=a.isSprite_left,i.isSprite_right=a.isSprite_right,this.allDataList.push(i);return[2]}})})},y.prototype.initTeachData=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/TeachTalk",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/TeachTalk")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.group=a.group,this.teachDataList.push(i);return[2]}})})},y.prototype.GetGroupTalk=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].group==t&&e.push(this.allDataList[n]);return e},y.prototype.GetGroupTeach=function(t){for(var e=[],n=0;n<this.teachDataList.length;n++)this.teachDataList[n].group==t&&e.push(this.teachDataList[n]);return e},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],TalkData:[function(t,e,n){"use strict";cc._RF.push(e,"49df2+P9uJKyLUR5dr5/UiP","TalkData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.id=0,this.group=0,this.left_paint="",this.isSprite_left="",this.isSprite_right="",this.left_name="",this.right_name="",this.right_paint="",this.whoTalk="",this.contain=""}),a.default=o,cc._RF.pop()},{}],TalkPanel:[function(t,e,n){"use strict";cc._RF.push(e,"22cb4F0ft1Iuoi/QdnybjMT","TalkPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CustomTalkDataManager"),d=a("TalkDataManager"),h=a("GameTools"),y=a("UIBase");function v(){var t=null!==p&&p.apply(this,arguments)||this;return t.Teacher=null,t.Sp=null,t.Left=null,t.LeftPaint=null,t.LeftSp=null,t.LeftName=null,t.Right=null,t.RightPaint=null,t.RightName=null,t.RightSp=null,t.txt=null,t.btn=null,t.Array=[],t.index=0,t.cout=0,t.teachgroup=-1,t.timeout=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(v,p=y.default),v.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.Right=t.getChildByName("right"),this.RightName=this.Right.getChildByName("name").getComponent(cc.Label),this.RightPaint=this.Right.getChildByName("icon").getComponent(cc.Sprite),this.Left=t.getChildByName("left"),this.LeftName=this.Left.getChildByName("name").getComponent(cc.Label),this.LeftPaint=this.Left.getChildByName("icon").getComponent(cc.Sprite),this.txt=t.getChildByName("txt").getComponent(cc.Label),this.btn=t.getChildByName("btn")},v.prototype.onEnable=function(){p.prototype.onEnable.call(this),this.Left.active=!1,this.Right.active=!1,this.Teacher.active=!1},v.prototype.init=function(t,e){102==t&&(this.Teacher.active=!0),this.callback=e,this.Array=d.default.Instance.GetGroupTalk(t),this.index=0,this.ShowTxt()},v.prototype.initCustoms=function(t,e,n){this.callback=n,this.index=0,this.Array=[];for(var o=f.default.Instance.GetGroupTalk(t),a=0;a<o.length;a++){var i=o[a];i.startOrEnd==e&&(i={id:i.id,group:i.mission,isSprite_right:i.isSprite_right,isSprite_left:i.isSprite_left,left_paint:i.left_paint,left_name:i.left_name,contain:i.contain,whoTalk:i.whoTalk,right_name:i.right_name,right_paint:i.right_paint},this.Array.push(i))}this.ShowTxt()},v.prototype.initTeach=function(t,e){this.callback=e,this.index=0,this.Array=[],this.Array=d.default.Instance.GetGroupTeach(t),this.ShowTxt(),this.teachgroup=t},v.prototype.ShowTxt=function(){var t,e=this,n=this.Array[this.index];this.initTalk(n),6==n.id&&4==n.group?(this.Sp.node.active=!0,this.Sp.setAnimation(0,"A2",!1),this.Sp.setCompleteListener(function(){e.Sp.node.active=!1}),t=this.Array[this.index+1],this.initTalk(t)):this.Sp.node.active=!1,this.str=n.contain,this.cout=0,this.typewriter(n.contain)},v.prototype.typewriter=function(t){var e=this;this.txt.string="       ",this.node.stopAllActions();for(var n=this,o=0;o<t.length;o++)!function(o){cc.tween(n.node).delay(.05*o).call(function(){e.txt.string+=t[o],o>=t.length-1&&(e.cout=1)}).start()}(o)},v.prototype.ClickBtn=function(){this.index++,0==this.cout?(this.node.stopAllActions(),this.txt.string="       "+this.str,this.cout=1):this.index>=this.Array.length?this.CloseThis():this.ShowTxt()},v.prototype.initTalk=function(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(o){switch(o.label){case 0:return this.Left.active=!0,"999999"==t.left_paint?[3,5]:(this.LeftName.string=""+t.left_name,"true"!=t.isSprite_left?[3,3]:(e="Talk/"+t.left_paint,(n=h.default.GetRes("SpriteBundle1",e,cc.SpriteFrame))?[3,2]:[4,h.default.loadImage("SpriteBundle1",e)]));case 1:n=o.sent(),o.label=2;case 2:return this.LeftPaint.spriteFrame=n,this.LeftPaint.node.active=!0,this.LeftSp.node.active=!1,[3,4];case 3:this.LeftPaint.node.active=!1,this.LeftSp.node.active=!0,this.LeftSp.setAnimation(0,t.left_paint,!1),o.label=4;case 4:return this.LeftPaint.node.active=!0,[3,6];case 5:this.LeftPaint.node.active=!1,o.label=6;case 6:return this.LeftPaint.node.color="\u5de6"==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#9D9D9D"),this.LeftName.node.color="\u5de6"==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#9D9D9D"),this.Right.active=!0,"999999"==t.right_paint?[3,11]:(this.RightName.string=""+t.right_name,"true"!=t.isSprite_right?[3,9]:(e="Talk/"+t.right_paint,(n=h.default.GetRes("SpriteBundle1",e,cc.SpriteFrame))?[3,8]:[4,h.default.loadImage("SpriteBundle1",e)]));case 7:n=o.sent(),o.label=8;case 8:return this.RightPaint.spriteFrame=n,this.RightPaint.node.active=!0,this.RightSp.node.active=!1,[3,10];case 9:this.RightPaint.node.active=!1,this.RightSp.node.active=!0,this.RightSp.setAnimation(0,t.right_paint,!1),o.label=10;case 10:return this.RightPaint.node.parent.active=!0,[3,12];case 11:this.RightPaint.node.parent.active=!1,o.label=12;case 12:return this.RightPaint.node.color="\u53f3"==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#9D9D9D"),this.RightName.node.color="\u53f3"==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#9D9D9D"),[2]}})})},v.prototype.start=function(){},v.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),this.callback(),this.teachgroup=-1},c([i(cc.Node)],v.prototype,"Teacher",void 0),c([i(sp.Skeleton)],v.prototype,"Sp",void 0),c([i(sp.Skeleton)],v.prototype,"LeftSp",void 0),c([i(sp.Skeleton)],v.prototype,"RightSp",void 0),a=c([a],v),r.default=a,cc._RF.pop()},{}],TaskPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bb779sCzuVB7IINFJ5T9L4w","TaskPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("OnHook"),p=a("AwardDataManager"),f=a("SoundManager"),d=a("GameSys"),h=a("AwardItem"),y=a("EveryDayTask"),v=a("UIBase"),g=a("UIManager");function m(){var t=null!==s&&s.apply(this,arguments)||this;return t.Teacher=null,t.Sp=[],t.evenyday=null,t.evenydaySp=null,t.everydayRed=null,t.award=null,t.awardSp=null,t.awardRed=null,t.everyContent=null,t.doingNum=null,t.awardContent=null,t.progress=null,t.progressNum=null,t.nowType=!0,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,s=v.default),m.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.evenyday=t.getChildByName("layout").getChildByName("everyday").getComponent(cc.Sprite),this.evenydaySp=t.getChildByName("layout").getChildByName("everyday").getChildByName("txt").getComponent(cc.Sprite),this.award=t.getChildByName("layout").getChildByName("award").getComponent(cc.Sprite),this.awardSp=t.getChildByName("layout").getChildByName("award").getChildByName("txt").getComponent(cc.Sprite),this.everyContent=t.getChildByName("everyContent"),this.doingNum=this.everyContent.getChildByName("doingNum").getComponent(cc.Label),this.everydayRed=t.getChildByName("layout").getChildByName("everyday").getChildByName("red"),this.awardRed=t.getChildByName("layout").getChildByName("award").getChildByName("red"),this.awardContent=t.getChildByName("awardContent"),this.progress=this.awardContent.getChildByName("progress").getComponent(cc.Sprite),this.progressNum=this.awardContent.getChildByName("progressNum").getComponent(cc.Label)},m.prototype.onEnable=function(){s.prototype.onEnable.call(this),this.evenyday.spriteFrame=this.Sp[1],this.award.spriteFrame=this.Sp[0],this.everyContent.active=!0,this.awardContent.active=!1,this.initEveryDay(),7==u.default.instance.teacherid?this.ShowTeacher(0):this.HideTeacher()},m.prototype.initEveryDay=function(){this.everyContent.active=!0,this.awardContent.active=!1;for(var t=this.everyContent.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),e=0;e<t.childrenCount;e++)t.children[e].getComponent(y.default).init(e,this);var n=d.default.getEveryDay(),o=0;for(e=0;e<n.length;e++)1==n[e].state&&(o+=1);this.doingNum.string="\u8fdb\u884c\u4e2d\u7684:"+o+"/4"},m.prototype.initAward=function(){this.everyContent.active=!1,this.awardContent.active=!0;var t=this.awardContent.getChildByName("ScrollView").getChildByName("view").getChildByName("content");if(t.childrenCount<=0)for(var e=p.default.Instance.GetMaxType(),n=0;n<e;n++)this.CreatorRaiseditem().setParent(t);for(n=0;n<t.childrenCount;n++)t.children[n].getComponent(h.default).init(n,this);this.initMaxOver()},m.prototype.initMaxOver=function(){this.progress.fillRange=p.default.Instance.GetOverNum(),this.progressNum.string=(100*p.default.Instance.GetOverNum()).toFixed(2)+"%"},m.prototype.ClickChange=function(){f.default.instance.play(f.Sound.Click),this.nowType=!this.nowType,this.nowType?(this.evenyday.spriteFrame=this.Sp[1],this.award.spriteFrame=this.Sp[0],this.everyContent.active=!0,this.awardContent.active=!1,this.initEveryDay()):(this.evenyday.spriteFrame=this.Sp[0],this.award.spriteFrame=this.Sp[1],this.everyContent.active=!1,this.awardContent.active=!0,this.initAward()),this.HideTeacher(),u.default.instance.teacherid=0},m.prototype.CreatorRaiseditem=function(){return d.default.raiseditem.get()},m.prototype.start=function(){var t=this;cc.director.getScheduler().schedule(function(){t.TaskRed()},this,1)},m.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis()},m.prototype.CloseThis=function(){s.prototype.CloseThis.call(this),g.default.Instance.ShowInter()},m.prototype.TaskRed=function(){for(var t=d.default.getEveryDay(),e=0,n=0;n<t.length;n++)1==t[n].state&&(e+=1);var o=e<4;p.default.Instance.isHaveReceive()||(o=!1),this.everydayRed.active=o,o=p.default.Instance.isHaveSuccess(),this.awardRed.active=o},m.prototype.ShowTeacher=function(t){switch(this.Teacher.active=!0,t){case 0:this.Teacher.setPosition(cc.v2(170,290));break;case 1:this.Teacher.setPosition(cc.v2(168,500))}},m.prototype.HideTeacher=function(){this.Teacher.active=!1},c([i(cc.Node)],m.prototype,"Teacher",void 0),c([i(cc.SpriteFrame)],m.prototype,"Sp",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],TeachPanel:[function(t,e,n){"use strict";cc._RF.push(e,"dae7cBR95FIoaCHirS5gNGb","TeachPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("GameFight"),d=a("GuideAI"),h=a("GuideMonsterDataManager"),y=a("SoundManager"),v=a("TalkDataManager"),g=a("GameSys"),m=a("EventConst"),b=a("CartoonPanel"),C=a("fightTxt"),S=a("PanelConst"),w=a("TalkPanel"),k=a("UIBase"),_=a("UIManager");function P(){var t=null!==p&&p.apply(this,arguments)||this;return t.Skill=[],t.transition=null,t.SkillUi=null,t.TeamerHp=null,t.MonsterHp=null,t.SkillSuo=null,t.SkillPro=null,t.Teamer=null,t.Monster=null,t.startSp=null,t.guideSp=null,t.Down=null,t.Up=null,t.state=0,t.TeamerArray=[],t.MonsterArray=[],t.sixpos=[],t.group=0,t.T_maxhp=0,t.M_maxhp=0,t.scene=0,t.playerNum=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(P,p=k.default),P.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.TeamerHp=t.getChildByName("TeamHp").getChildByName("hp").getComponent(cc.Sprite),this.MonsterHp=t.getChildByName("MonsterHp").getChildByName("hp").getComponent(cc.Sprite),this.Teamer=t.getChildByName("Teamer"),this.Monster=t.getChildByName("Monster"),this.startSp=t.getChildByName("startSp").getComponent(sp.Skeleton),this.SkillSuo=t.getChildByName("Skill1").getChildByName("suo"),this.SkillPro=t.getChildByName("Skill1").getChildByName("progress").getComponent(cc.Sprite),this.guideSp=t.getChildByName("guideSp"),this.Down=t.getChildByName("Down"),this.Up=t.getChildByName("Up")},P.prototype.onEnable=function(){this.SkillSuo.parent.active=!1,this.transition.node.active=!1,this.advanceplot()},P.prototype.advanceplot=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(e){switch(e.label){case 0:switch(this.group){case 0:return[3,1];case 1:return[3,2];case 2:return[3,3];case 3:return[3,4];case 4:return[3,5];case 5:return[3,6]}return[3,9];case 1:return this.OpenFight(),this.scene=0,[3,10];case 2:return this.OpenFight(),[3,10];case 3:return this.group++,this.advanceplot(),[3,10];case 4:return setTimeout(function(){return s(t,void 0,void 0,function(){var t=this;return u(this,function(){return this.Showtransition(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,_.default.Instance.ShowUI(S.default.CartoonPanel)];case 1:return t.sent(),[4,_.default.Instance.GetClass(S.default.CartoonPanel).getComponent(b.default).init()];case 2:return t.sent(),this.group++,this.CloseThis(),[2]}})})}),[2]})})},500),[3,10];case 5:return this.OpenFight(),this.scene=1,[3,10];case 6:return[4,_.default.Instance.ShowUI(S.default.TalkPanel)];case 7:return e.sent(),[4,_.default.Instance.GetClass(S.default.TalkPanel).getComponent(w.default).initTeach(4,function(){t.Showtransition(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.CloseThis(),[4,_.default.Instance.ShowUI(S.default.TalkPanel)];case 1:return t.sent(),[4,_.default.Instance.GetClass(S.default.TalkPanel).getComponent(w.default).initTeach(5,function(){_.default.Instance.ShowUI(S.default.StartGame)})];case 2:return t.sent(),[2]}})})})})];case 8:return e.sent(),[3,10];case 9:return[3,10];case 10:return[2]}})})},P.prototype.OpenFight=function(){var t=this;function e(){return s(t,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return this.state=f.FightState.fight,t=0,t=4==this.group?3:this.group,v.default.Instance.GetGroupTeach(t)?[4,_.default.Instance.ShowUI(S.default.TalkPanel)]:[3,3];case 1:return e.sent(),[4,_.default.Instance.GetClass(S.default.TalkPanel).getComponent(w.default).initTeach(t,function(){n()})];case 2:return e.sent(),[3,4];case 3:n(),e.label=4;case 4:return[2]}})})}this.TeamerArray=[],this.T_maxhp=0,this.MonsterArray=[],this.M_maxhp=0;var n=function(){switch(t.group){case 0:t.AllReady();break;case 1:t.GruideSp();break;case 4:t.AllReady()}};switch(this.group){case 0:this.initTeam(1),this.initMonster(2);break;case 1:this.initTeam(1);for(var o=this.GetTeamer()[0].node.getPosition(),a=0;a<6;a++){var i=this.initMonster(3),r=1==a||4==a?1:.5,l=(r=a<3?-r:r,1==a||4==a?0:1);l=2==a||3==a?-l:l,l=cc.v2(o.x+200*r,o.y+200*l),i.setPosition(l)}break;case 4:for(this.Teamer.children[0].active=!1,a=0;a<3;a++)this.initTeam(a+5);this.initMonster(4)}1==this.group?setTimeout(function(){e()},1e3):this.ShowStartSp(e)},P.prototype.initTeam=function(t){var e={id:(e=h.default.Instance.GetRole(t)).id,level:1,realm:e.level,hp:e.hp,atk:e.atk,interval:e.speed,atkSpeed:60/e.speed,hit:e.hit,dodge:e.dodge,crit:e.ctr,maxhp:e.hp,maxmp:e.mp,name:e.object,type:5==t||1==t?"\u8fd1\u6218":"\u8fdc\u7a0b",skillType:0,injured_anger:7,Shot_anger:15,time_anger:15,skillResult:1};this.T_maxhp+=e.maxhp;var n=0;switch(t){case 1:n=0;break;case 5:n=1;break;case 6:n=2;break;case 7:n=3}(t=this.Teamer.children[n]).active=!0,(t=t.getComponent(d.default)).init(e,this),this.TeamerArray.push(t)},P.prototype.initMonster=function(t){var e=h.default.Instance.GetRole(t),n={id:e.id,level:1,realm:e.level,hp:e.hp,atk:e.atk,interval:e.speed,atkSpeed:60/e.speed,hit:e.hit,dodge:e.dodge,crit:e.ctr,maxhp:e.hp,maxmp:e.mp,name:e.object,type:"\u8fdc\u7a0b",skillType:0,injured_anger:7,Shot_anger:15,time_anger:15,skillResult:0};return this.M_maxhp+=n.maxhp,e=this.CreateMonster(),4==t?e.setScale(1.5):e.setScale(1),e.getComponent(d.default).init(n,this),this.MonsterArray.push(e.getComponent(d.default)),e},P.prototype.CreateMonster=function(){var t=g.default.GuideMonster.get();return t.setParent(this.Monster),t},P.prototype.AllReady=function(){for(var t=0;t<this.TeamerArray.length;t++)this.TeamerArray[t].Ready();for(t=0;t<this.MonsterArray.length;t++)this.MonsterArray[t].Ready()},P.prototype.OverFight=function(){this.playerNum++;var t=this.GetTeamer().length;this.playerNum>=t&&(this.playerNum=0,this.group++,this.advanceplot())},P.prototype.GruideSp=function(){this.SkillSuo.parent.active=!0,this.guideSp.active=!0,this.SkillSuo.active=!1},P.prototype.ClickSkill=function(){this.guideSp.active=!1,this.GetTeamer()[0].DoWZLX()},P.prototype.DoWZLX=function(){var t=this;this.SkillUi.node.active=!0,this.SkillUi.setAnimation(0,"Zskill1",!1),this.SkillUi.setCompleteListener(function(){t.SkillUi.node.active=!1}),this.Skill[0].node.active=!0,this.Skill[0].setAnimation(0,"ef8_1",!1),this.Skill[0].setCompleteListener(function(){t.Skill[0].node.active=!1,t.Skill[1].node.active=!0,t.Skill[2].node.active=!0,t.Skill[3].node.active=!0}),this.Skill[2].setCompleteListener(function(){var e=t.GetMontser();t.Skill[1].node.active=!1,t.Skill[2].node.active=!1,t.Skill[3].node.active=!1;for(var n=0;n<e.length;n++)e[n].TheStrike(999999,1e3,!0,!0);setTimeout(function(){t.OverFight()},500)})},P.prototype.ShowStartSp=function(t){var e=this;this.startSp.node.active=!0,this.startSp.setAnimation(0,"start",!1),this.startSp.setCompleteListener(function(){t(),e.startSp.node.active=!1})},P.prototype.ClickStart=function(){y.default.instance.play(y.Sound.Click),cc.systemEvent.emit(m.EventConst.GameStart),this.CloseThis()},P.prototype.GetTeamer=function(){for(var t=[],e=0;e<this.TeamerArray.length;e++)this.TeamerArray[e].isDie()||t.push(this.TeamerArray[e]);return t},P.prototype.GetMontser=function(){for(var t=[],e=0;e<this.MonsterArray.length;e++)this.MonsterArray[e].isDie()||t.push(this.MonsterArray[e]);return t},P.prototype.setText=function(t,e,n){var o=g.default.fightTxt.get();o.setParent(this.node),o.getComponent(C.default).setText(t,e,n)},P.prototype.start=function(){},P.prototype.update=function(){var t=this.TeamerArray[0].node.getPosition();this.Skill[0].node.setPosition(t);for(var e=0,n=0;n<this.TeamerArray.length;n++)e+=this.TeamerArray[n].GetHp();this.TeamerHp.fillRange=e/this.T_maxhp;var o=0;for(n=0;n<this.MonsterArray.length;n++)o+=this.MonsterArray[n].GetHp();this.MonsterHp.fillRange=o/this.M_maxhp},P.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},P.prototype.Createbuttet=function(){var t=g.default.buttet.get();return t.setParent(this.node),t},P.prototype.CreateBaneMatrix=function(){var t=g.default.BaneMatrix.get();return t.setParent(this.Down),t},P.prototype.CreateFireBall=function(){var t=g.default.Fireball.get();return t.setParent(this.Up),t},P.prototype.CreateSkillLJ=function(){var t=g.default.SkillLJ.get();return t.setParent(this.Down),t},P.prototype.CreateThunder=function(){var t=g.default.Thunder.get();return t.setParent(this.Up),t},P.prototype.Showtransition=function(t){this.transition.node.active=!0,this.transition.setAnimation(0,"in2",!1),this.transition.setEventListener(function(e,n){"stop"==n.data.name&&t()})},P.prototype.SkipGuide=function(){var t=this;y.default.instance.play(y.Sound.Click),this.Showtransition(function(){return s(t,void 0,void 0,function(){return u(this,function(){return this.CloseThis(),_.default.Instance.ShowUI(S.default.StartGame),[2]})})})},c([i(sp.Skeleton)],P.prototype,"Skill",void 0),c([i(sp.Skeleton)],P.prototype,"transition",void 0),c([i(sp.Skeleton)],P.prototype,"SkillUi",void 0),a=c([a],P),r.default=a,cc._RF.pop()},{}],TeamSkillDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"7e33de6hfRHWKsXeiTpF0PV","TeamSkillDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("TeamSkillData"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/TeamSkillData",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/TeamSkillData")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.master=a.master,i.icon=a.icon,i.skillName=a.skillName,i.unlockinfo=a.unlockinfo,i.unlocklevel=a.unlocklevel,i.info=a.info,i.release=a.release,i.skillType=a.skillType,i.needMp=a.needMp,i.power=a.power,this.allDataList.push(i);return[2]}})})},y.prototype.GetSkill=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],TeamSkillData:[function(t,e,n){"use strict";cc._RF.push(e,"39401qhq15B56Dw9gtN53VJ","TeamSkillData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],TeamerData:[function(t,e,n){"use strict";cc._RF.push(e,"ef629USRDlOWo3bk+eRO2LO","TeamerData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.name="\u5c01\u4e91\u7b71",this.injured_anger=10,this.Shot_anger=7,this.time_anger=15,this.maxmp=100,this.type="\u8fd1\u6218",this.skillType=1,this.skillResult=0}),a.default=o,cc._RF.pop()},{}],Teamer:[function(t,e,n){"use strict";cc._RF.push(e,"33318bhOH1OKZJO+L6APep4","Teamer");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f,d=a("AiBase"),h=a("AITeamerAttack"),y=a("AITeamerDie"),v=a("AITeamerIdle"),g=a("AITeamerMove"),m=a("AITeamerSkill"),b=a("AITeamerVertigo"),C=a("DiscipleDataManager"),S=a("HeroDataManager"),w=a("PetDataManager"),k=a("RealmDataManager"),_=a("SoundManager"),P=a("StoryDataManager"),O=a("TeamSkillDataManager"),I=a("GameSys"),R=a("EventConst"),x=a("GameTools"),T=a("TipGroup"),A=a("GameFight"),D=a("SkillConst");function B(){var t=null!==p&&p.apply(this,arguments)||this;return t.Rank=null,t.RankIcon=null,t.RankLabel=null,t.Content=null,t.cursor=null,t.hpSprite=null,t.hpMaxSprite=null,t.mpSprite=null,t.SpineContent=null,t.RealmLabel=null,t.headSp=null,t.role=null,t.index=0,t.startpos=new cc.Vec3(0,0,0),t.moveSpeed=200,t.target=null,t.anger=0,t.Absdodge=0,t.Upatk=1,t.Shield=0,t.MaxShield=0,t.Suck=0,t.Vertigo=0,t.dodge={value:0,time:0},t.atk={value:0,time:0},t.atk2={value:0,time:0},t.fqatk={value:0,time:0},t.crit={value:0,time:0},t.DR={value:0,time:0},t.skill1=0,t.skill2=0,t.skill3=0,t.skill4=0,t.petskill=0,t.teamerskill=0,t.discipleid=0,t.releaseTime=0,t.skilltype=0,t.release=!0,t.callback=null,t.s=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(B,p=d.default),(f=B).prototype.onLoad=function(){this.SpineContent=this.node.getChildByName("SpineContent"),this.Content=this.node.getChildByName("Content"),this.near_Sp=this.Content.getChildByName("attackA_hit").getComponent(sp.Skeleton),this.far_Sp=this.Content.getChildByName("attackB_hit").getComponent(sp.Skeleton),this.normalatk=this.Content.getChildByName("attackA_atk").getComponent(sp.Skeleton),this.shieldSp=this.Content.getChildByName("Spine").getChildByName("shieldSp").getComponent(sp.Skeleton),this.teamName=this.Content.getChildByName("name").getComponent(cc.Label),this.doSkillSp=this.Content.getChildByName("doskill").getComponent(sp.Skeleton),this.RealmLabel=this.Content.getChildByName("realm").getComponent(cc.Label),this.hpMaxSprite=this.Content.getChildByName("hpmax"),this.do=this.Content.getChildByName("cd"),this.dopro=this.do.getChildByName("pro").getComponent(cc.Sprite),this.shield=this.Content.getChildByName("shield"),this.shieldpro=this.shield.getChildByName("pro").getComponent(cc.Sprite),this.initStartpos(),this.InitAi()},B.prototype.init=function(t,e,n){return s(this,void 0,void 0,function(){var o,a;return u(this,function(i){switch(i.label){case 0:return this.Content.setPosition(0,0),this.role=e,this.index=t,this.doSkillSp.node.active=!1,this.release=!1,this.cursor=this.node.getChildByName("Content").getChildByName("cursor"),this.cursor.angle=0,this.headSp=this.node.getChildByName("Content").getChildByName("head").getComponent(cc.Sprite),this.do.active=!1,this.shield.active=!1,this.near_Sp.node.active=!1,this.normalatk.node.active=!1,this.shieldSp.node.active=!1,o="",0==t?(o="TeamHead/hero_fight_avatar",this.teamName.string="\u5c0f\u8521\u5409"):1==t?(o="PetHead/pet_avatar_"+I.default.getPetIndex(),this.teamName.string=""+w.default.Instance.GetName(I.default.getPetIndex()-1)):(a=P.default.Instance.GetStory(n+1),o="TeamHead/"+a.head,this.teamName.string=""+P.default.Instance.GetStory(n+1).name),(a=x.default.GetRes("SpriteBundle1",o,cc.SpriteFrame))?[3,2]:[4,x.default.loadImage("SpriteBundle1",o)];case 1:a=i.sent(),i.label=2;case 2:return this.headSp.spriteFrame=a,this.RealmLabel.string=1!=t?this.role.realm:"",this.RealmLabel.node.color=cc.color().fromHEX(k.default.Instance.GetRealmColor(this.role.realm)),this.Absdodge=0,this.Upatk=1,this.Shield=0,this.Suck=0,(this.Vertigo=0)==this.index&&cc.systemEvent.emit(R.EventConst.Game_Fight_initSkill),n&&(this.discipleid=n),this.RefreshHp(),this.RefreshMp(),this.initSkillCd(),1<this.index&&this.initRank(),[2]}})})},B.prototype.initRank=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i;return u(this,function(r){switch(r.label){case 0:return[4,C.default.Instance.GetIsUnlock(this.discipleid)];case 1:if(!r.sent())return[3,6];if(!(0<(t=I.default.getDiscipleRank()[this.discipleid])))return[3,4];for(this.Rank.active=!0,e=[2,4,6,8,10],o=n=0;o<e.length;o++)if(t<=e[o]){n=o;break}return a="PropIcon/rank"+n,(i=x.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,3]:[4,x.default.loadImage("Bundle",a)];case 2:i=r.sent(),r.label=3;case 3:return this.RankIcon.spriteFrame=i,this.RankLabel.string="+"+t,[3,5];case 4:this.Rank.active=!1,r.label=5;case 5:return[3,7];case 6:this.Rank.active=!1,r.label=7;case 7:return[2]}})})},B.prototype.Ready=function(){this.node.active&&(this.target=null,this.ChangeState(f.STATE_MOVE))},B.prototype.initSkillCd=function(){0==this.index?(this.skill1=0,this.skill2=0,this.skill3=0,this.skill4=0):1==this.index?this.petskill=0:(this.skill1=Math.floor(6*Math.random()),this.skill2=0)},B.prototype.InitAi=function(){var t=new v.default(this,f.STATE_IDLE);this.AddAiState(t),t=new g.default(this,f.STATE_MOVE),this.AddAiState(t),t=new h.default(this,f.STATE_ATTACK),this.AddAiState(t),t=new y.default(this,f.STATE_DIE),this.AddAiState(t),t=new b.default(this,f.STATE_Vertigo),this.AddAiState(t),t=new m.default(this,f.STATE_SKILL),this.AddAiState(t)},B.prototype.initStartpos=function(){this.startpos.x=this.node.getPosition().x,this.startpos.y=this.node.getPosition().y},B.prototype.isDie=function(){return!(0<this.role.hp)},B.prototype.TheStrike=function(t,e,n,o,a){if(this.isDie())return!0;var i=Math.floor(100*Math.random());if(e=e-this.role.dodge+this.dodge.value,0<this.Absdodge)return A.default.instance.setText(5,"\u95ea",this.node),!1;if(e<i)return A.default.instance.setText(5,"\u95ea",this.node),!1;if(0<this.DR.time&&(t*=1-this.DR.value),!(this.Shield>t)){if(t-=this.Shield,this.Shield=0,this.shieldpro.fillRange=this.Shield/this.MaxShield,this.shield.active=!1,this.shieldSp.node.active=!1,t>=this.role.hp&&(t=this.role.hp),0!=A.default.instance.fightType&&(this.role.hp-=t,cc.systemEvent.emit(R.EventConst.Game_Fight_changeHp,0,-t)),this.role.hp=this.role.hp<=0?0:this.role.hp,this.role.hp<=0&&this.ToDie(),this.AddAngre(1),this.RefreshHp(),0!=A.default.instance.fightType)if(a)switch(a){case 3:A.default.instance.setText(a,"\u4e2d\u6bd2-"+x.default.refSetCoin(Math.floor(t)),this.node);break;case 10:A.default.instance.setText(a,"\u707c\u70e7-"+x.default.refSetCoin(Math.floor(t)),this.node)}else n?A.default.instance.setText(0,"\u66b4\u51fb-"+x.default.refSetCoin(Math.floor(t)),this.node):A.default.instance.setText(1,"-"+x.default.refSetCoin(Math.floor(t)),this.node);return this.role.hp<=0&&A.default.instance.setText(8,"",this.node),o&&(this.near_Sp.node.active=!0,this.near_Sp.setAnimation(0,"atkA_hit",!1)),this.role.hp<=0}this.Shield-=t,this.shieldpro.fillRange=this.Shield/this.MaxShield,A.default.instance.setText(4,"\u62b5\u6321-"+x.default.refSetCoin(Math.floor(t)),this.node)},B.prototype.Tofly=function(t){var e=this.node.getPosition();t=t.node.parent.convertToWorldSpaceAR(this.node.getPosition()),t=this.node.parent.convertToNodeSpaceAR(t),e=e.sub(t).signAngle(cc.v2(1,0)),(t=cc.v2(-Math.cos(e),Math.sin(e))).normalizeSelf(),e=100*-t.x,t=100*-t.y,e=this.node.getPosition().x+e,(t=400<(t=this.node.getPosition().y+t)?400:t)<120&&(t=120),260<(e=e<-260?-260:e)&&(e=260),cc.tween(this.node).to(.1,{x:e,y:t},{easing:"backOut"}).start()},B.prototype.ToDie=function(){console.log("\u4e00\u4f4d\u961f\u5458\u6b7b\u4ea1\u4e86"),this.node.active=!1,this.ChangeState(f.STATE_DIE),0==this.index?_.default.instance.play(_.Sound.DieNan):1==this.index||(0==this.discipleid?_.default.instance.play(_.Sound.DieNv):_.default.instance.play(_.Sound.DieNan)),A.default.instance.GetTeam().length<=0&&A.default.instance.LoseChallenge()},B.prototype.RefreshHp=function(){this.node.active&&(this.hpSprite.fillRange=this.role.hp/this.role.maxhp),this.hpSprite.node.active=0!=A.default.instance.fightType,this.hpMaxSprite.active=0!=A.default.instance.fightType},B.prototype.RefreshMp=function(){this.node.active&&(0==this.index?this.mpSprite.fillRange=this.anger/this.role.maxmp:1==this.index?this.mpSprite.fillRange=(this.role.initiative_cd-this.petskill)/this.role.initiative_cd:this.mpSprite.fillRange=(this.role.skill1cd-this.skill1)/this.role.skill1cd)},B.prototype.ToStartpos=function(){(0!=A.default.instance.fightType?cc.tween(this.node).to(1,{position:cc.v3(this.startpos)}).call(function(){A.default.instance.ToStartpos()}):cc.tween(this.node).to(1,{position:cc.v3(this.startpos)}).call(function(){A.default.instance.OnHooKCallback()})).start();var t=this.cursor.angle%360;t<0&&(t+=360),this.cursor.angle=-t,t=this.cursor.angle<180?0:360,cc.tween(this.cursor).to(1,{angle:t}).call(function(){}).start()},B.prototype.GetMonster=function(){p.prototype.GetMonster.call(this);var t=A.default.instance.GetMonster();if(0<t.length){for(var e=1e5,n=0,o=0;o<t.length;o++){var a=t[o].node.getPosition();(a=this.node.getPosition().sub(a).mag())<=e&&(n=o,e=a)}return this.target=t[n],t[n]}return 0!=this.curStateId&&this.ChangeState(f.STATE_IDLE),null},B.prototype.AddAngre=function(t){if(0==this.role.skillType)return!1;if(this.anger+=0==t?this.role.Shot_anger:this.role.injured_anger,this.anger>=this.role.maxmp&&(this.anger=this.role.maxmp),this.RefreshMp(),0==this.index&&cc.systemEvent.emit(R.EventConst.Game_Fight_changeMp,this.anger),0==this.index){if(!(0<this.role.hp&&I.default.automatic&&5!=this.curStateId))return!1;this.DoSkill()}else{if(!(0<this.role.hp&&5!=this.curStateId))return!1;this.DoSkill()}},B.prototype.DoSkill=function(){var t,e,n=this;0==this.index?300<=this.anger&&this.skill4<=0&&S.default.Instance.IsUnlockSkill(4)?this.ManualSkill(3):200<=this.anger&&this.skill2<=0&&S.default.Instance.IsUnlockSkill(2)?this.ManualSkill(1):100<=this.anger&&this.skill1<=0&&S.default.Instance.IsUnlockSkill(1)?this.ManualSkill(0):this.skill3<=0&&S.default.Instance.IsUnlockSkill(3)&&this.ManualSkill(2):1==this.index?this.petskill<=0&&(this.skilltype=1,this.releaseTime=this.role.initiative_rel,this.ChangeStateToSkill(),this.callback=function(){n.SubMp(100),n.petskill=n.role.initiative_cd,D.default.instance.Moon(0,n),n.callback=null,n.ChangeState(f.STATE_MOVE)}):this.skill1<=0?C.default.Instance.IsUnlockSkill(this.discipleid,1)&&(this.skilltype=1,t=6+3*this.discipleid,this.releaseTime=O.default.Instance.GetSkill(t).release,this.ChangeStateToSkill(),this.callback=function(){switch(A.default.instance.setText(7,O.default.Instance.GetSkill(t).skillName,n.node),n.SubMp(100),n.skill1=n.role.skill1cd,n.discipleid){case 0:D.default.instance.Knife(0,n),A.default.instance.CreateSkill(3,1);break;case 1:D.default.instance.FireBall(n),A.default.instance.CreateSkill(4,1);break;case 2:D.default.instance.BaneMatrix(0,n),A.default.instance.CreateSkill(5,1);break;case 3:D.default.instance.PersistCure(n),A.default.instance.CreateSkill(2,1)}n.callback=null,n.ChangeState(f.STATE_MOVE)}):this.skill2<=0&&C.default.Instance.IsUnlockSkill(this.discipleid,2)&&(this.skilltype=0,e=7+3*this.discipleid,this.releaseTime=O.default.Instance.GetSkill(e).release,this.ChangeStateToSkill(),this.callback=function(){switch(A.default.instance.setText(6,O.default.Instance.GetSkill(e).skillName,n.node),n.skill2=n.role.skill2cd,n.discipleid){case 0:D.default.instance.FourAtk(n);break;case 1:n.UpAttack();break;case 2:D.default.instance.Sneer(n),n.SubAttack();break;case 3:D.default.instance.Shield(n)}n.callback=null,n.ChangeState(f.STATE_MOVE)})},B.prototype.UpAttack=function(){var t=this.role.atk*(1+this.role.skill2num/100);this.atk2={value:t,time:5}},B.prototype.SubAttack=function(){this.DR={value:this.role.skill2num,time:3}},B.prototype.AtkUpBuff=function(t){t=this.role.atk*t,this.fqatk={value:t,time:20}},B.prototype.ManualSkill=function(t){var e=this;if(6!=this.curStateId){if(0==t){if(0<this.skill1)return void T.default.instance.setText(-1,"\u6280\u80fd\u51b7\u5374\u4e2d");this.skilltype=1,this.releaseTime=O.default.Instance.GetSkill(1).release,this.ChangeStateToSkill(),this.callback=function(){A.default.instance.setText(7,O.default.Instance.GetSkill(1).skillName,e.node),e.SubMp(100),e.skill1=e.role.skill1cd,D.default.instance.TeamStar(0,e),e.callback=null,e.ChangeState(f.STATE_MOVE),A.default.instance.CreateSkill(1,1)}}else if(1==t){if(0<this.skill2)return void T.default.instance.setText(-1,"\u6280\u80fd\u51b7\u5374\u4e2d");this.skilltype=1,this.releaseTime=O.default.Instance.GetSkill(2).release,this.ChangeStateToSkill(),this.callback=function(){A.default.instance.setText(7,O.default.Instance.GetSkill(2).skillName,e.node),e.SubMp(200),e.skill2=e.role.skill2cd,e.SkillCure(),e.callback=null,e.ChangeState(f.STATE_MOVE),A.default.instance.CreateSkill(1,2)}}else if(2==t){if(0<this.skill3)return void T.default.instance.setText(-1,"\u6280\u80fd\u51b7\u5374\u4e2d");this.skilltype=1,this.releaseTime=O.default.Instance.GetSkill(3).release,this.ChangeStateToSkill(),this.callback=function(){A.default.instance.setText(6,O.default.Instance.GetSkill(3).skillName,e.node),e.dodge={value:e.role.skill3num,time:5},e.skill3=e.role.skill3cd,e.callback=null,e.ChangeState(f.STATE_MOVE)}}else if(3==t){if(0<this.skill4)return void T.default.instance.setText(-1,"\u6280\u80fd\u51b7\u5374\u4e2d");this.skilltype=1,this.releaseTime=O.default.Instance.GetSkill(4).release,this.ChangeStateToSkill(),this.callback=function(){A.default.instance.setText(7,O.default.Instance.GetSkill(4).skillName,e.node),e.SubMp(300),e.skill4=e.role.skill4cd,D.default.instance.TeamThunder(e),e.callback=null,e.ChangeState(f.STATE_MOVE),A.default.instance.CreateSkill(1,3)}}this.ChangeStateToSkill(),this.CleanSp()}else T.default.instance.setText(-1,"\u7729\u6655\u4e86")},B.prototype.CleanSp=function(){this.SpineContent.destroyAllChildren()},B.prototype.SubMp=function(t){this.anger-=t,cc.systemEvent.emit(R.EventConst.Game_Fight_changeMp,this.anger)},B.prototype.SkillCure=function(){A.default.instance.setText(7,O.default.Instance.GetSkill(1).skillName,this.node);var t=this.role.skill2num,e=this.role.atk*t;(t=A.default.instance.CreateSkillHC()).setPosition(cc.v2(0,375)),(t=t.getComponent(sp.Skeleton)).setAnimation(0,"ef12_1",!1),t.setCompleteListener(function(){cc.systemEvent.emit(R.EventConst.Game_FIght_allTeamCure,e)})},B.prototype.WinTrials=function(){A.default.instance.WinTrials()},B.prototype.Cure=function(t){var e,n,o;this.node.active&&(this.role.hp<=0?console.log("\u8be5\u5355\u4f4d\u5df2\u6b7b\u4ea1,\u65e0\u6cd5\u6cbb\u7597"):(e=this.role.maxhp-this.role.hp,this.role.hp+=n=e<=(n=t)?e:t,this.role.hp>=this.role.maxhp&&(this.role.hp=this.role.maxhp),A.default.instance.setText(2,"\u6062\u590d+"+x.default.refSetCoin(Math.floor(t)),this.node),cc.systemEvent.emit(R.EventConst.Game_Fight_changeHp,0,n),(o=A.default.instance.CreateTreat()).setParent(this.node),o.y=-70,setTimeout(function(){I.default.treat.restor(o)},1e3)))},B.prototype.Constraint=function(t){this.Vertigo=t.skill.skillNum,this.ChangeState(f.STATE_Vertigo)},B.prototype.setShield=function(t){this.Shield=t,this.MaxShield=t,this.shield.active=!0,this.shieldpro.fillRange=1,this.shieldSp.node.active=!0},B.prototype.Counter=function(t){t.TheStrike(this.role.skill3num,this.role.hit,!1,!0)},B.prototype.SkillAbsdodge=function(){},B.prototype.SkillUpatk=function(){},B.prototype.SkillShield=function(){},B.prototype.SkillSuck=function(){},B.prototype.allConstraint=function(){for(var t=A.default.instance.GetMonster(),e=0;e<t.length;e++)t[e].Constraint(this)},B.prototype.GetSkill=function(){return null},B.prototype.start=function(){cc.systemEvent.on(R.EventConst.Game_FIght_allTeamCure,this.Cure,this)},B.prototype.update=function(t){p.prototype.update.call(this,t),this.curStateId!=f.STATE_DIE&&this.curStateId!=f.STATE_Vertigo&&this.curStateId!=f.STATE_IDLE&&999999!=this.curStateId&&(0==this.index?this.release||(S.default.Instance.IsUnlockSkill(1)&&0<this.skill1&&(this.skill1-=t*I.default.speed),S.default.Instance.IsUnlockSkill(2)&&0<this.skill2&&(this.skill2-=t*I.default.speed),S.default.Instance.IsUnlockSkill(3)&&0<this.skill3&&(this.skill3-=t*I.default.speed),S.default.Instance.IsUnlockSkill(4)&&0<this.skill4&&(this.skill4-=t*I.default.speed)):1==this.index?0<this.petskill&&(this.petskill-=t*I.default.speed):(0<this.skill1&&(this.skill1-=t*I.default.speed),0<this.skill2&&(this.skill2-=t*I.default.speed)),this.s+=t,1<=this.s&&(this.s=0,this.anger+=this.role.time_anger),0<this.dodge.time&&(this.dodge.time-=t*I.default.speed,this.dodge.time<=0&&(this.dodge.value=0,this.dodge.time=0)),0<this.atk.time&&(this.atk.time-=t*I.default.speed,this.atk.time<=0&&(this.atk.value=0,this.atk.time=0,this.role.atk=this.role.atk/(1-this.role.skill2num/100))),0<this.atk2.time&&(this.atk2.time-=t*I.default.speed,this.atk2.time<=0&&(this.atk2.value=0,this.atk2.time=0)),0<this.fqatk.time&&(this.fqatk.time-=t*I.default.speed,this.fqatk.time<=0&&(this.fqatk.value=0,this.fqatk.time=0)),0<this.DR.time&&(this.DR.time-=t*I.default.speed,this.DR.time<=0&&(this.DR.value=0,this.DR.time=0)))},B.prototype.ChangeStateToMove=function(){this.curStateId!=f.STATE_DIE&&this.curStateId!=f.STATE_IDLE&&this.curStateId!=f.STATE_SKILL&&this.ChangeState(f.STATE_MOVE)},B.prototype.ChangeStateToSkill=function(){this.curStateId!=f.STATE_DIE&&this.curStateId!=f.STATE_IDLE&&this.curStateId!=f.STATE_SKILL&&this.ChangeState(f.STATE_SKILL)},B.prototype.GetPracticalAtk=function(){return this.role.atk+this.fqatk.value+this.atk2.value},B.STATE_IDLE=0,B.STATE_MOVE=1,B.STATE_ATTACK=2,B.STATE_DIE=3,B.STATE_Vertigo=4,B.STATE_SKILL=5,c([i(cc.Node)],B.prototype,"Rank",void 0),c([i(cc.Sprite)],B.prototype,"RankIcon",void 0),c([i(cc.Label)],B.prototype,"RankLabel",void 0),c([i(cc.Sprite)],B.prototype,"hpSprite",void 0),c([i(cc.Sprite)],B.prototype,"mpSprite",void 0),a=f=c([a],B),r.default=a,cc._RF.pop()},{}],Thunder:[function(t,e,n){"use strict";cc._RF.push(e,"7bd92LggihJUrCJLiIt5V4F","Thunder");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameSys");function u(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(u,c=cc.Component),u.prototype.onLoad=function(){this.spine=this.node.getChildByName("spine").getComponent(sp.Skeleton)},u.prototype.init=function(t){var e=this;this.spine.setAnimation(0,"ef13_hit",!1),this.spine.setCompleteListener(function(){"ef13_hit"==e.spine.animation&&(e.spine.setAnimation(0,"ef13_hit_flash",!1),s.default.Thunder.restor(e.node),t())})},u.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],u),r.default=i,cc._RF.pop()},{}],TimeManager:[function(t,e,n){"use strict";cc._RF.push(e,"846a9qolUtFYLJI2aKLYQJv","TimeManager");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f,d=a("OnHook"),h=a("ArtifactsDataManager"),y=a("AwardDataManager"),v=a("BuildDataManager"),g=a("DiscipleDataManager"),m=a("DrugDataManager"),b=a("EquipDataManager"),C=a("HeroDataManager"),S=a("IntensifyDataManager"),w=a("OreShopDataManager"),k=a("PropDataManager"),_=a("ReincarnDataManager"),P=a("ShopDataManager"),O=a("SystemDataManager"),I=a("WeaponDataManager"),R=a("GameSys"),x=a("SectControl"),T=a("EventConst"),A=a("GameTools"),D=a("ServerUtil"),B=a("OffLinePanel"),M=a("PanelConst"),G=a("UIManager");function N(){var t=null!==p&&p.apply(this,arguments)||this;return t.CeshiLabel=null,t.wxsw_red=null,t.rank_red=null,t.activity=null,t.sevenTimeNode=null,t.sevenTime=null,t.intensify_red=null,t.reincarn_red=null,t.shop_red=null,t.alchemy_red=null,t.task_red=null,t.artifact_red=null,t.pet_red=null,t.disciple_red=null,t.sect_red=null,t.roam_red=null,t.trials_red=null,t.role_red=null,t.weapon_red=null,t.online_red=null,t.sign_red=null,t.sectTime=0,t.seventime=0,t.time=[0,5,60,300],t.hideTime=0,t.worldobj=[],t.querytime=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(N,p=cc.Component),(f=N).prototype.onLoad=function(){f.instance=this},N.prototype.init=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(e){switch(e.label){case 0:return[4,this.initOffLine()];case 1:return e.sent(),R.default.getSevenCount()<4&&(this.seventime=this.time[R.default.getSevenCount()]),cc.director.getScheduler().schedule(function(){t.onSchedule()},this,1),cc.director.getScheduler().schedule(function(){return s(t,void 0,void 0,function(){var t,e,n,o;return u(this,function(a){switch(a.label){case 0:return R.default.SaveGameDate(),R.default.setOffTime(),e=(t=A.default.getSdk()).setRankScore,o=(n=Math).floor,[4,C.default.Instance.GetMaxFight()];case 1:return e.apply(t,[o.apply(n,[a.sent()])]),[2]}})})},this,15),this.initRank(),[2]}})})},N.prototype.initRank=function(){var t=this;"WX"!=R.default.channel&&"QQ"!=R.default.channel&&"TT"!=R.default.channel||D.default.getRankList(R.default.rankid,{success:function(e){e=JSON.parse(e),t.worldobj=e.data},fail:function(t){console.log("\u83b7\u53d6\u6392\u884c\u699c\u5931\u8d25\uff1a",t)}})},N.prototype.initOffLine=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p,f;return u(this,function(u){switch(u.label){case 0:return isNaN(R.default.saveTime)||R.default.saveTime<=0?(this.CeshiLabel.string="\u767b\u9646\u65f6\u95f4\uff1a"+R.default.serverTime+"\n\u79bb\u7ebf\u65f6\u95f4:"+R.default.saveTime+"\n\u8fdb\u884c\u77eb\u6b63",R.default.saveTime=R.default.serverTime,R.default.setOffTime(),[2]):[3,1];case 1:return console.log("\u767b\u9646\u65f6\u95f4\uff1a"+R.default.serverTime+",\u79bb\u7ebf\u65f6\u95f4:"+R.default.saveTime),this.CeshiLabel.string="\u767b\u9646\u65f6\u95f4\uff1a"+R.default.serverTime+"\n\u79bb\u7ebf\u65f6\u95f4:"+R.default.saveTime,t=(R.default.serverTime-R.default.saveTime)/1e3,(e=43200<=(e=t)?43200:e)/60<5?(console.log("\u4f4e\u4e8e\u4e94\u5206\u949f\u6ca1\u6709\u79bb\u7ebf\u6536\u76ca"),[3,4]):[3,2];case 2:return[4,G.default.Instance.ShowUI(M.default.OffLinePanel)];case 3:u.sent(),G.default.Instance.GetClass(M.default.OffLinePanel).getComponent(B.default).init(e),u.label=4;case 4:for(n=R.default.getDrugTime(),o=R.default.getDrugBoxNum(),a=R.default.getDrugOver(),l=0;l<o.length;l++)0<o[l]&&((i=m.default.Instance.GetDrug(l+1).needtime*o[l])<t?(n[l]=0,R.default.setDrugTime(n),a[l]=o[l],R.default.setDrugOver(a)):(n[l]=i-t,R.default.setDrugTime(n)));for(r=R.default.getEveryDay(),l=0;l<r.length;l++)0<r[l].time?(r[l].time-=t,r[l].time<=0&&(r[l].time=0,R.default.setEveryDay(r))):null!=r[l].time&&!isNaN(r[l].time)||(r[l].time=0,R.default.setEveryDay(r));0<R.default.getDevil()&&(f=R.default.getDevil(),(f-=t)<=0&&(f=0),R.default.setDevil(f)),R.default.getDiceNum()<10&&(c=Math.floor(t/300),s=t%300,0<c&&(p=R.default.getDiceNum(),10<=c+p&&(c=10-p),R.default.setDiceNum(c)),(f=R.default.getDiceTime())>=s?f-=s:(f=f+300-s,R.default.setDiceNum(1)),R.default.setDiceTime(f)),10<=R.default.getDiceNum()&&R.default.setDiceTime(0),R.default.saveTime=R.default.serverTime,R.default.SaveGameDate(),R.default.setOffTime(),u.label=5;case 5:return[2]}})})},N.prototype.start=function(){this.init()},N.prototype.onSchedule=function(){for(var t=R.default.getDrugTime(),e=R.default.getDrugBoxNum(),n=R.default.getDrugOver(),o=0;o<t.length;o++)0<t[o]?(--t[o],t[o]<=0&&(t[o]=0,n[o]+=e[o],R.default.setDrugOver(n))):0<e[o]-n[o]&&(t[o]=m.default.Instance.GetDrug(o+1).needtime);for(var a=R.default.getEveryDay(),i=0;i<a.length;i++)0<a[i].time&&(--a[i].time,a[i].time<=0&&(a[i].time=0,R.default.setEveryDay(a)));var r=R.default.getShopBoxTime();0<r[0]&&(--r[0],r[0]<=0&&(r[0]=0,R.default.setShopBoxTime(r)));var l=R.default.getRefTime(),c=new Date,s=c.getHours();0==l[r=Math.floor(s/6)]&&(l[r]=1,R.default.setRefTime(l),P.default.Instance.RandomGoods()),l=6*(r+1),r=0,r=24<l?(l=6,(new Date).setHours(l,0,0,0)+864e5):new Date(R.default.serverTime).setHours(l,0,0,0),c=c.getTime(),R.default.resetTime=(r-c)/1e3,0==(r=R.default.getOreRefTime())[s=Math.floor(s/12)]&&(r[s]=1,R.default.setOreRefTime(r),w.default.Instance.randomGoods()),r=12*(s+1),s=0,s=24<r?(r=12,(new Date).setHours(r,0,0,0)+864e5):new Date(R.default.serverTime).setHours(r,0,0,0),R.default.oreResetTime=(s-c)/1e3,0<R.default.dicetime&&(--R.default.dicetime,R.default.dicetime<=0&&(R.default.setDiceNum(1),R.default.dicetime=10<=R.default.getDiceNum()?0:300,R.default.setDiceTime(R.default.dicetime))),10<=R.default.getDiceNum()&&R.default.setDiceTime(0),0<R.default.devil&&(R.default.devil--,R.default.devil<=0&&(R.default.setDevil(0),d.default.instance.DispelDevil())),0<this.querytime&&this.querytime--,R.default.online++,0<R.default.interTime&&R.default.interTime--,0<R.default.addTime&&R.default.addTime--,0<R.default.FreeCoinTime&&R.default.FreeCoinTime--,0<this.seventime&&this.seventime--,this.IntensifyRed(),this.ReincarnRed(),this.AlchemyRed(),this.TaskRed(),this.ArtifactRed(),this.PetRed(),this.DiscipleRed(),this.SectRed(),this.RoamRed(),this.TrialsRed(),this.RoleRed(),this.WeaponRed(),this.OnlineRed(),this.SignRed(),this.RankRed(),this.ActivityRed(),this.FriendHelp(),this.SWRed(),this.ShopRed()},N.prototype.SWRed=function(){for(var t=!1,e=R.default.getWxSW(),n=0;n<R.default.othergame.length;n++)if(0==e[n]||1==e[n]){t=!0;break}this.wxsw_red.active=t},N.prototype.FriendHelp=function(){},N.prototype.RankRed=function(){if("WX"==R.default.channel||"QQ"==R.default.channel||"TT"==R.default.channel){for(var t=!1,e=R.default.getWorldWorship(),n=0;n<this.worldobj.length;n++)if(0==e[n]){t=!0;break}O.default.Instance.isUnlcok(37)||(t=!1),this.rank_red.active=t}},N.prototype.ActivityRed=function(){var t=!1;R.default.getSaveToDesktip()||(t=!0),R.default.getaddColorSign()||(t=!0),R.default.getSubscribemsg()||(t=!0),R.default.getAddMy()||(t=!0),this.activity.active=t,R.default.sevencount<4?(this.sevenTimeNode.active=!0,this.sevenTime.string=A.default.hour_min_secTimeFuncion(this.seventime)):this.sevenTimeNode.active=!1},N.prototype.RoleRed=function(){for(var t=!1,e=0;e<4&&!(t=b.default.Instance.isHaveCanOn(0,e));e++);var n,o=R.default.getCoin(),a=R.default.getSkillLevel(),i=R.default.getLevel();for(e=0;e<5&&(C.default.Instance.IsUnlockSkill(e+1)?(t=o>=(n=C.default.Instance.GetSkill(a[e])).skill1coin&&0==e&&i>a[e]||t,t=o>=n.skill2coin&&1==e&&i>a[e]||t,t=o>=n.skill3coin&&2==e&&i>a[e]||t,t=o>=n.skill4coin&&3==e&&i>a[e]||t,t=o>=n.skill5coin&&4==e&&i>a[e]||t):C.default.Instance.IsCanUnlockSkill(e+1)&&(t=o>=(n=C.default.Instance.GetSkill(a[e]+1)).skill2coin&&1==e&&i>a[e]||t,t=o>=n.skill3coin&&2==e&&i>a[e]||t,t=o>=n.skill4coin&&3==e&&i>a[e]||t,t=o>=n.skill5coin&&4==e&&i>a[e]||t),!t);e++);this.role_red.active!=t&&(this.role_red.active=t)},N.prototype.SectRed=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return t=!1,e=O.default.Instance.isUnlcok(14),[4,v.default.Instance.isHaveSuccess()];case 1:return(n=o.sent())&&(t=n),e||(t=e),this.sect_red.active!=t&&(this.sect_red.active=t),[2]}})})},N.prototype.RoamRed=function(){var t=!1,e=O.default.Instance.isUnlcok(10);0<R.default.getDiceNum()&&(t=!0),this.roam_red.active!=(t=e?t:e)&&(this.roam_red.active=t)},N.prototype.TrialsRed=function(){var t=!1,e=O.default.Instance.isUnlcok(17);0<R.default.getResetCount()&&(t=!0),this.trials_red.active!=(t=e?t:e)&&(this.trials_red.active=t)},N.prototype.WeaponRed=function(){for(var t,e=!1,n=O.default.Instance.isUnlcok(9),o=k.default.Instance.GetPackPropType(1),a=[],i=0;i<o.length;i++)for(var r=0;r<o[i].have;r++)a.push(o[i].prop);for(r=0;r<a.length;r++){var l=[];for(i=0;i<a.length;i++)if(a[i].id==a[r].id&&l.push(i),3<=l.length){e=!0;break}}if(!O.default.Instance.isUnlcok(19)||(t=I.default.Instance.isHaveFuse())&&(e=t),O.default.Instance.isUnlcok(41)){var c=k.default.Instance.GetPack();for(i=0;i<c.length;i++){var s=k.default.Instance.GetProp(c[i].prop.id).crystal;c[i].prop.isOn||1!=c[i].prop.type||999999==s||(e=!0)}}this.weapon_red.active!=(e=n?e:n)&&(this.weapon_red.active=e)},N.prototype.DiscipleRed=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p;return u(this,function(u){switch(u.label){case 0:for(t=!1,e=O.default.Instance.isUnlcok(2),(n=g.default.Instance.isHaveCanUp())&&(t=n),r=0;r<4;r++)g.default.Instance.GetIsUnlock(r)||(p=g.default.Instance.IsCanUnlock(r+1))&&(t=p);for(i=1;i<5;i++)if(g.default.Instance.GetIsUnlock(i-1))for(r=0;r<4;r++)if(o=!!b.default.Instance.isHaveCanOn(i,r)){t=o,cc.systemEvent.emit(T.EventConst.CanUpEquip,i);break}a=R.default.getCoin(),i=0,u.label=1;case 1:if(!(i<4))return[3,7];if(!g.default.Instance.GetIsUnlock(i))return[3,6];r=1,u.label=2;case 2:return r<4?g.default.Instance.IsUnlockSkill(i,r)?[4,g.default.Instance.GetRole(i)]:[3,4]:[3,6];case 3:switch(l=u.sent(),c=R.default.getDisciple()[i],s=!1,r){case 1:s=a>=l.skill1coin&&c.level>c.skill1&&c.skill1<200;break;case 2:s=a>=l.skill2coin&&c.level>c.skill2&&c.skill2<200,cc.systemEvent.emit(T.EventConst.CanUpSkill,i,s);break;case 3:s=a>=l.skill3coin&&c.level>c.skill3&&c.skill3<200,cc.systemEvent.emit(T.EventConst.CanUpSkill,i,s)}return s&&(t=s),[3,5];case 4:(p=g.default.Instance.IsCanUnlockSkill(i,r))&&(t=p),u.label=5;case 5:return r++,[3,2];case 6:return i++,[3,1];case 7:return e||(t=e),this.disciple_red.active!=t&&(this.disciple_red.active=t),[2]}})})},N.prototype.PetRed=function(){var t=!1,e=O.default.Instance.isUnlcok(4);0<k.default.Instance.GetPackPropType(0).length&&(t=!0),this.pet_red.active!=(t=e?t:e)&&(this.pet_red.active=t)},N.prototype.ArtifactRed=function(){var t=!1,e=O.default.Instance.isUnlcok(11),n=h.default.Instance.GetbuyJewel();R.default.getJewel()>=n&&(t=!0),this.artifact_red.active!=(t=e?t:e)&&(this.artifact_red.active=t)},N.prototype.TaskRed=function(){for(var t=!1,e=O.default.Instance.isUnlcok(7),n=R.default.getEveryDay(),o=0,a=0;a<n.length;a++)1==n[a].state&&(o+=1);o<4&&(t=!0);var i=y.default.Instance.isHaveSuccess();i&&(t=i),y.default.Instance.isHaveReceive()||(t=!1),this.task_red.active!=(t=e?t:e)&&(this.task_red.active=t)},N.prototype.IntensifyRed=function(){var t=!1,e=(t=S.default.Instance.isCanUp(),O.default.Instance.isUnlcok(15));this.intensify_red.active!=(t=e?t:e)&&(this.intensify_red.active=t)},N.prototype.ReincarnRed=function(){var t=R.default.getLevel(),e=!1,n=O.default.Instance.isUnlcok(16),o=_.default.Instance.isMax();e=0<R.default.getReincarnCount(),o||(e=t>=61+10*R.default.getReincarn()),this.reincarn_red.active!=(e=n?e:n)&&(this.reincarn_red.active=e)},N.prototype.ShopRed=function(){for(var t=!1,e=O.default.Instance.isUnlcok(13),n=R.default.getOre(),o=R.default.getOreGoods(),a=0;a<o.length;a++)n>w.default.Instance.getGoodsByID(o[a].goodsid).price&&(t=!0);this.shop_red.active!=(t=e?t:e)&&(this.shop_red.active=t)},N.prototype.OnlineRed=function(){for(var t=[120,300,600,1200],e=R.default.getOnlineIsGet(),n=!1,o=0;o<e.length;o++)0==e[o]&&R.default.online>=t[o]&&(n=!0);this.online_red.active=n},N.prototype.SignRed=function(){this.sign_red.active=!R.default.getSignIsGet()},N.prototype.AlchemyRed=function(){for(var t=!1,e=S.default.Instance.GetCanMakeNum(),n=R.default.getDrugBoxNum(),o=0;o<n.length;o++)if(m.default.Instance.isUnlock(o)&&n[o]<e){t=!0;break}for(o=0;o<n.length;o++){var a=R.default.getDrugBoxNum()[o],i=R.default.getDrugTime()[o],r=R.default.getDrugOver()[o];0<i||0<a-r||0<a&&(t=!0)}O.default.Instance.isUnlcok(5)||(t=!1),this.alchemy_red.active=t},N.prototype.SectOutput=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return u(this,function(a){switch(a.label){case 0:t=0,a.label=1;case 1:return t<10?v.default.Instance.isUnlock(t)?[4,v.default.Instance.GetBuildData(t)]:[3,3]:[3,4];case 2:e=3*a.sent().output,this.GetCoin(e),n=G.default.Instance.GetClass(M.default.Sect),G.default.Instance&&n&&(o=n.getComponent(x.default)).node.active&&o.ShowTxt(t,e),a.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},N.prototype.GetCoin=function(t){R.default.setCoin(t),cc.systemEvent.emit(T.EventConst.Coin)},N.prototype.update=function(t){this.sectTime+=t,3<=this.sectTime&&(this.SectOutput(),this.sectTime=0)},N.instance=null,c([i(cc.Label)],N.prototype,"CeshiLabel",void 0),c([i(cc.Node)],N.prototype,"wxsw_red",void 0),c([i(cc.Node)],N.prototype,"rank_red",void 0),c([i(cc.Node)],N.prototype,"activity",void 0),c([i(cc.Node)],N.prototype,"sevenTimeNode",void 0),c([i(cc.Label)],N.prototype,"sevenTime",void 0),c([i(cc.Node)],N.prototype,"intensify_red",void 0),c([i(cc.Node)],N.prototype,"reincarn_red",void 0),c([i(cc.Node)],N.prototype,"shop_red",void 0),c([i(cc.Node)],N.prototype,"alchemy_red",void 0),c([i(cc.Node)],N.prototype,"task_red",void 0),c([i(cc.Node)],N.prototype,"artifact_red",void 0),c([i(cc.Node)],N.prototype,"pet_red",void 0),c([i(cc.Node)],N.prototype,"disciple_red",void 0),c([i(cc.Node)],N.prototype,"sect_red",void 0),c([i(cc.Node)],N.prototype,"roam_red",void 0),c([i(cc.Node)],N.prototype,"trials_red",void 0),c([i(cc.Node)],N.prototype,"role_red",void 0),c([i(cc.Node)],N.prototype,"weapon_red",void 0),c([i(cc.Node)],N.prototype,"online_red",void 0),c([i(cc.Node)],N.prototype,"sign_red",void 0),a=f=c([a],N),r.default=a,cc._RF.pop()},{}],TipGroup:[function(t,e,n){"use strict";cc._RF.push(e,"aea80Nfzd5OsJK3hkofvipQ","TipGroup");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u,p=a("FightUp"),f=a("GameSys"),d=a("PoolManager"),h=a("Tiptxt");function y(){var t=null!==s&&s.apply(this,arguments)||this;return t.txt=null,t.FightUp=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(y,s=cc.Component),(u=y).prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),u.instance=this,f.default._tipTxt=new d.default(this.txt,10),f.default.FightUp=new d.default(this.FightUp,10)},y.prototype.setText=function(t,e,n){void 0===n&&(n=0),console.error("\u6253\u5370\u5185\u5bb9:",e),(n=f.default._tipTxt.get()).setParent(this.node),n.getComponent(h.default).setText(t,e)},y.prototype.setFightNum=function(t,e){var n=f.default.FightUp.get();n.setParent(this.node),n.setPosition(cc.v2(0,-520)),n.getComponent(p.default).init(t,e)},y.instance=null,c([i(cc.Prefab)],y.prototype,"txt",void 0),c([i(cc.Prefab)],y.prototype,"FightUp",void 0),a=u=c([a],y),r.default=a,cc._RF.pop()},{}],Tiptxt:[function(t,e,n){"use strict";cc._RF.push(e,"44cf5fZaONCgJn1WFStrS7D","Tiptxt");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.txt=null,t.tiptxt=null,t.list=[],t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.setText=function(t,e,n){void 0===n&&(n=0),this.txt.node.active=!1,this.tiptxt.node.active=!1,0==t||1==t||2==t||3==t||4==t?(this.node.width=650,this.txt.node.active=!0,this.txt.spriteFrame=this.list[t]):-1==t&&(this.tiptxt.node.active=!0,this.tiptxt.string=e),this.Tween()},p.prototype.Tween=function(){var t=this;cc.tween(this.node).call(function(){t.node.opacity=0,t.node.y=100}).by(2,{y:300}).call(function(){t.restore()}).start(),cc.tween(this.node).to(.3,{opacity:255}).start(),cc.tween(this.node).delay(1.7).to(.3,{opacity:0}).start()},p.prototype.restore=function(){u.default._tipTxt.restor(this.node)},p.prototype.start=function(){},c([i(cc.Sprite)],p.prototype,"txt",void 0),c([i(cc.Label)],p.prototype,"tiptxt",void 0),c([i([cc.SpriteFrame])],p.prototype,"list",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],TouchSp:[function(t,e,n){"use strict";cc._RF.push(e,"98596JR6upKnIJ/TrMWYKW+","TouchSp");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.Sp=null,t}r(u,c=cc.Component),u.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.PlaySp,this),this.node._touchListener.setSwallowTouches(!1)},u.prototype.start=function(){},u.prototype.PlaySp=function(t){t=t.getLocation(),t=this.node.parent.convertToNodeSpaceAR(t),this.Sp.node.setPosition(t),this.Sp.setAnimation(0,"touch",!1),t=Math.floor(360*Math.random()),this.Sp.node.angle=t},l([s(sp.Skeleton)],u.prototype,"Sp",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],TrialsDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"cf078JNM2xNn6/yncBru/Rr","TrialsDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("MonsterData"),d=i("TrialsData"),h=i("GameSys"),y=i("GameTools"),v=i("MonsterDataManager"),g=i("PropDataManager"),m=i("SingleBase");function b(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t.array=[],t}i=(a=cc._decorator).ccclass,a.property,l(b,u=m.default),(p=b).prototype.onLoad=function(){p.Instance=this},b.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=y.default.GetRes("JsonBundle","Jsons/Trials",cc.JsonAsset))?[3,2]:[4,y.default.loadJson("JsonBundle","Jsons/Trials")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new d.default).id=a.id,i.hit=a.hit,i.dodge=a.dodge,i.crit=a.crit,i.wave1_name=a.wave1_name,i.wave1_hp=a.wave1_hp,i.wave1_atk=a.wave1_atk,i.wave1_speed=a.wave1_speed,i.wave1_num=a.wave1_num,i.wave1_fight=a.wave1_fight,i.wave1_role=a.wave1_role,i.wave2_name=a.wave2_name,i.wave2_hp=a.wave2_hp,i.wave2_atk=a.wave2_atk,i.wave2_speed=a.wave2_speed,i.wave2_num=a.wave2_num,i.wave2_fight=a.wave2_fight,i.wave3_name=a.wave3_name,i.wave3_hp=a.wave3_hp,i.wave3_atk=a.wave3_atk,i.wave3_speed=a.wave3_speed,i.wave3_num=a.wave3_num,i.wave3_fight=a.wave3_fight,i.wave4_name=a.wave4_name,i.wave4_hp=a.wave4_hp,i.wave4_atk=a.wave4_atk,i.wave4_speed=a.wave4_speed,i.wave4_num=a.wave4_num,i.wave4_fight=a.wave4_fight,i.wave5_name=a.wave5_name,i.wave5_hp=a.wave5_hp,i.wave5_atk=a.wave5_atk,i.wave5_speed=a.wave5_speed,i.wave5_num=a.wave5_num,i.wave5_fight=a.wave5_fight,i.boss1_name=a.boss1_name,i.boss1_hp=a.boss1_hp,i.boss1_atk=a.boss1_atk,i.boss1_speed=a.boss1_speed,i.boss1_num=a.boss1_num,i.boss1_fight=a.boss1_fight,i.boss2_name=a.boss2_name,i.boss2_hp=a.boss2_hp,i.boss2_atk=a.boss2_atk,i.boss2_speed=a.boss2_speed,i.boss2_num=a.boss2_num,i.boss2_fight=a.boss2_fight,i.maxfight=a.maxfight,i.coin=a.icon,i.jewel=a.jewel,i.equipid=a.equipid,i.drug1=a.drug1,i.drug2=a.drug2,i.drug3=a.drug3,this.allDataList.push(i);return[2]}})})},b.prototype.GetRole=function(t){void 0===t&&(t=h.default.getMaxTier());var e=this.GetMaxTier();e<=t&&(t=e);for(var n=0;n<this.allDataList.length;n++)if(this.allDataList[n].id==t)return this.allDataList[n]},b.prototype.GetMaxTier=function(){return this.allDataList[this.allDataList.length-1].id},b.prototype.GetCustoms=function(t){void 0===t&&(t=h.default.getMaxTier());for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].id==t)return this.allDataList[e];if(e>=this.allDataList.length-1)return this.allDataList[e]}},b.prototype.GetMaxWave=function(t){void 0===t&&(t=h.default.getMaxTier()),this.array=[];var e=this.GetCustoms(t);return t=0,0<e.wave1_num&&(t+=1,this.array.push(1)),0<e.wave2_num&&(t+=1,this.array.push(2)),0<e.wave3_num&&(t+=1,this.array.push(3)),0<e.wave4_num&&(t+=1,this.array.push(4)),0<e.wave5_num&&(t+=1,this.array.push(5)),(0<e.boss1_num||0<e.boss2_num)&&(t+=1,this.array.push(6)),t},b.prototype.GetMonsterNum=function(t,e){void 0===e&&(e=h.default.getMaxTier());var n=this.GetCustoms(e);switch(this.array[t-1]){case 1:return n.wave1_num;case 2:return n.wave2_num;case 3:return n.wave3_num;case 4:return n.wave4_num;case 5:return n.wave5_num;case 6:return n.boss1_num+n.boss2_num}},b.prototype.GetBossNum=function(t,e){void 0===e&&(e=h.default.getMaxTier());var n=this.GetCustoms(e);switch(t){case 1:return n.boss1_num;case 2:return n.boss2_num}},b.prototype.GetMonsterRole=function(t,e){void 0===e&&(e=h.default.getMaxTier());var n=this.GetRole(e),o=new f.default;switch(o.id=0,o.realm="",o.dodge=n.dodge,o.hit=n.hit,o.crit=n.crit,o.realm=n.wave1_role,o.maxmp=100,this.array[t-1]){case 1:o.name=n.wave1_name,o.atk=n.wave1_atk,o.hp=n.wave1_hp,o.interval=n.wave1_speed,o.atkSpeed=60/o.interval;break;case 2:o.name=n.wave2_name,o.atk=n.wave2_atk,o.hp=n.wave2_hp,o.interval=n.wave2_speed,o.atkSpeed=60/o.interval;break;case 3:o.name=n.wave3_name,o.atk=n.wave3_atk,o.hp=n.wave3_hp,o.interval=n.wave3_speed,o.atkSpeed=60/o.interval;break;case 4:o.name=n.wave4_name,o.atk=n.wave4_atk,o.hp=n.wave4_hp,o.interval=n.wave4_speed,o.atkSpeed=60/o.interval;break;case 5:o.name=n.wave5_name,o.atk=n.wave5_atk,o.hp=n.wave5_hp,o.interval=n.wave5_speed,o.atkSpeed=60/o.interval}return o.maxhp=o.hp,t=v.default.Instance.GetMonster(o.name),o.range=t.range,o.atkType=t.atkType,o.type=t.type,o.skillType=t.skillType,o.fatalityType=t.fatalityType,o.skillName=t.skillName,o.fatalityName=t.fatalityName,o},b.prototype.GetBossRole=function(t,e){void 0===e&&(e=h.default.getMaxTier());var n=this.GetRole(e),o=new f.default;switch(o.id=0,o.realm="",o.dodge=n.dodge,o.hit=n.hit,o.crit=n.crit,o.realm=n.wave1_role,o.maxmp=100,t){case 1:o.name=n.boss1_name,o.atk=n.boss1_atk,o.hp=n.boss1_hp,o.interval=n.boss1_speed,o.atkSpeed=60/o.interval;break;case 2:o.name=n.boss2_name,o.atk=n.boss2_atk,o.hp=n.boss2_hp,o.interval=n.boss2_speed,o.atkSpeed=60/o.interval}return o.maxhp=o.hp,t=v.default.Instance.GetMonster(o.name),o.range=t.range,o.atkType=t.atkType,o.type=t.type,o.skillType=t.skillType,o.fatalityType=t.fatalityType,o.skillName=t.skillName,o.fatalityName=t.fatalityName,o},b.prototype.GetWave=function(t){return this.array[t-1]},b.prototype.GetReward=function(t){void 0===t&&(t=h.default.getMaxTier());var e,n=this.GetCustoms(t);return t=[],0<n.coin&&(e=g.default.Instance.GetCoinProp(),t.push({prop:e,have:n.coin})),0<n.jewel&&(e=g.default.Instance.GetJewelProp(),t.push({prop:e,have:n.jewel})),999999!=n.equipid&&(e=g.default.Instance.GetProp(n.equipid),t.push({prop:e,have:1})),0!=n.drug1&&(e=g.default.Instance.GetProp(1),t.push({prop:e,have:n.drug1})),0!=n.drug2&&(e=g.default.Instance.GetProp(2),t.push({prop:e,have:n.drug2})),0!=n.drug3&&(e=g.default.Instance.GetProp(3),t.push({prop:e,have:n.drug3})),t},b.prototype.GetAllReward=function(t){void 0===t&&(t=h.default.getMaxTier());for(var e=[],n=1;n<t;n++){var o=this.GetReward(n);if(e.length<=0)e=o;else for(var a=0;a<o.length;a++)for(var i=0;i<e.length;i++){if(o[a].prop.id==e[i].prop.id){e[i].have+=o[a].have;break}i==e.length-1&&e.push(o[a])}}return e},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],b),r.default=i,cc._RF.pop()},{}],TrialsData:[function(t,e,n){"use strict";cc._RF.push(e,"99ce7E+dZBIX4oRkxh9XMx0","TrialsData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],TrialsItem:[function(t,e,n){"use strict";cc._RF.push(e,"610ffoEf2ZJhYb6Pclu9Zog","TrialsItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("PropDataManager"),y=a("TrialsDataManager"),v=a("GameSys"),g=a("GameTools");function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.spframe=[],t.frame=null,t.Tier=null,t.Fight=null,t.Info=null,t.Content=null,t.index=0,t.curpanel=null,t.award=[],t}a=(i=cc._decorator).ccclass,i=i.property,l(m,p=cc.Component),m.prototype.onLoad=function(){this.Tier=this.node.getChildByName("tier").getComponent(cc.Label),this.Fight=this.node.getChildByName("fight").getComponent(cc.Label),this.Info=this.node.getChildByName("unlock").getComponent(cc.Label),this.frame=this.node.getChildByName("frame").getComponent(cc.Sprite),this.Content=this.node.getChildByName("award").getChildByName("view").getChildByName("content");for(var t=0;t<this.Content.childrenCount;t++)this.award.push(this.Content.children[t])},m.prototype.init=function(t,e){return s(this,void 0,void 0,function(){var n,o,a,i,r;return u(this,function(l){switch(l.label){case 0:for(this.index=t,this.curpanel=e,n=v.default.getMaxTier(),a=y.default.Instance.GetMaxTier(),a=(n=a<=n?a:n)+t,n=y.default.Instance.GetCustoms(a),this.Tier.string=a+"\u5c42",this.Fight.string="\u63a8\u8350\u6218\u529b:"+g.default.refSetCoin(n.maxfight),this.Info.string=1==a?"\u6311\u6218\u6761\u4ef6:\u9ed8\u8ba4\u5f00\u542f":"\u6311\u6218\u6761\u4ef6:\u901a\u5173"+(a-1)+"\u5c42",this.frame.spriteFrame=0==t?this.spframe[0]:this.spframe[1],o=0;o<this.award.length;o++)this.award[o].active=!1;return 0<n.coin?(this.award[0].active=!0,i=n.coin,[4,d.default.Instance.GetOutPut()]):[3,2];case 1:a=i*l.sent(),this.award[0].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(a),l.label=2;case 2:return 0<n.jewel&&(this.award[1].active=!0,r=n.jewel*f.default.Instance.GetOutPut(),this.award[1].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r)),999999!=n.equipid&&(this.award[2].active=!0,r=h.default.Instance.GetProp(n.equipid),this.award[2].getChildByName("name").getComponent(cc.Label).string=""+r.name),0<n.drug1&&(this.award[3].active=!0,this.award[3].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(n.drug1)),0<n.drug2&&(this.award[4].active=!0,this.award[4].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(n.drug2)),0<n.drug3&&(this.award[5].active=!0,this.award[5].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(n.drug3)),[2]}})})},m.prototype.start=function(){},c([i(cc.SpriteFrame)],m.prototype,"spframe",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],TrialsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"329d0h4SHNAAo8PLxI8pvVP","TrialsPanel");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("GameFight"),d=a("MonsterDataManager"),h=a("SoundManager"),y=a("TrialsDataManager"),v=a("GameSys"),g=a("EventConst"),m=a("GameTools"),b=a("PanelConst"),C=a("RewardPanel"),S=a("TipGroup"),w=a("TrialsItem"),k=a("UIBase"),_=a("UIManager");function P(){var t=null!==p&&p.apply(this,arguments)||this;return t.coinLabel=null,t.jewelLabel=null,t.leftContent=null,t.rightContent=null,t.downContent=null,t.history=null,t.resetCount=null,t.mopupNum=null,t.Video=null,t.boss1=null,t.boss2=null,t.array=[],t}a=(i=cc._decorator).ccclass,i=i.property,l(P,p=k.default),P.prototype.start=function(){cc.systemEvent.on(g.EventConst.Coin,this.initCoin,this),cc.systemEvent.on(g.EventConst.Jewel,this.initJewel,this)},P.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.leftContent=t.getChildByName("left"),this.rightContent=t.getChildByName("right"),this.downContent=t.getChildByName("down"),this.coinLabel=t.getChildByName("Coin").getChildByName("coin").getComponent(cc.Label),this.jewelLabel=t.getChildByName("Jewel").getChildByName("jewel").getComponent(cc.Label),this.boss1=this.rightContent.getChildByName("Layout").getChildByName("boss1"),this.boss2=this.rightContent.getChildByName("Layout").getChildByName("boss2"),this.history=this.downContent.getChildByName("maxrecord").getComponent(cc.Label),this.resetCount=this.downContent.getChildByName("resetCount").getComponent(cc.Label),this.mopupNum=this.downContent.getChildByName("box").getChildByName("num").getComponent(cc.Label);for(var e=2;0<=e;e--)this.array.push(this.leftContent.children[e])},P.prototype.onEnable=function(){this.init(),_.default.Instance.HideMain()},P.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r;return u(this,function(l){switch(l.label){case 0:if(o=v.default.getMaxTier(),t=y.default.Instance.GetMaxTier(),0<(e=t-(o=t<=o?t:o)))for(n=0;n<this.array.length;n++)n<e?(this.array[n].active=!0,this.array[n].getComponent(w.default).init(n,this)):this.array[n].active=!1;else this.array[0].active=!0,this.array[0].getComponent(w.default).init(0,this);return 0<(o=y.default.Instance.GetCustoms()).boss1_num?(this.boss1.active=!0,this.boss1.getChildByName("role").getComponent(cc.Label).string=""+o.wave1_role,this.boss1.getChildByName("name").getComponent(cc.Label).string=""+o.boss1_name,this.boss1.getChildByName("num").getComponent(cc.Label).string="\xd7"+o.boss1_num,a=d.default.Instance.GetMonster(o.boss1_name),i="boss/"+a.sprite,(r=m.default.GetRes("SpriteBundle1",i,cc.SpriteFrame))?[3,2]:[4,m.default.loadImage("SpriteBundle1",i)]):[3,3];case 1:r=l.sent(),l.label=2;case 2:return this.boss1.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=r,[3,4];case 3:this.boss1.active=!1,l.label=4;case 4:return 0<o.boss2_num?(this.boss2.active=!0,this.boss2.getChildByName("role").getComponent(cc.Label).string=""+o.wave1_role,this.boss2.getChildByName("name").getComponent(cc.Label).string=""+o.boss2_name,this.boss2.getChildByName("num").getComponent(cc.Label).string="\xd7"+o.boss2_num,a=d.default.Instance.GetMonster(o.boss2_name),i="boss/"+a.sprite,(r=m.default.GetRes("SpriteBundle1",i,cc.SpriteFrame))?[3,6]:[4,m.default.loadImage("SpriteBundle1",i)]):[3,7];case 5:r=l.sent(),l.label=6;case 6:return this.boss2.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=r,[3,8];case 7:this.boss2.active=!1,l.label=8;case 8:return this.initDown(),[2]}})})},P.prototype.initDown=function(){this.history.string=""+v.default.getMaxTier(),this.resetCount.string=""+v.default.getResetCount(),this.mopupNum.string=0<v.default.getMopUp()?"\xd7"+(v.default.getMaxTier()-1):"\xd70",0<v.default.getResetCount()?this.Video.active=!1:this.Video.active=!0},P.prototype.initCoin=function(){this.coinLabel.string=m.default.refSetCoin(v.default.getCoin())},P.prototype.initJewel=function(){this.jewelLabel.string=m.default.refSetCoin(v.default.getJewel())},P.prototype.ClickReset=function(){var t=this;h.default.instance.play(h.Sound.Click);var e=v.default.getResetCount();v.default.getMaxTier()-1<=0?S.default.instance.setText(-1,"\u8fd8\u672a\u901a\u5173\u8fc7"):0<e?(v.default.setResetCount(0),v.default.setMopUp(1),this.initDown()):m.default.getSdk().PlatformCallBack("REWARD",function(){v.default.setMopUp(1),t.initDown()},function(){S.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-16)},P.prototype.ClickMopUp=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return h.default.instance.play(h.Sound.Click),v.default.getMopUp()<=0?(S.default.instance.setText(-1,"\u5df2\u7ecf\u626b\u8361\u8fc7\u4e86\uff0c\u8bf7\u91cd\u7f6e"),[2]):[3,1];case 1:return v.default.getMaxTier()-1<=0?(S.default.instance.setText(-1,"\u8fd8\u672a\u901a\u5173\u8fc7"),[2]):[3,2];case 2:return v.default.setMopUp(0),this.initDown(),t=y.default.Instance.GetAllReward(),[4,_.default.Instance.ShowUI(b.default.RewardPanel)];case 3:e.sent(),_.default.Instance.GetClass(b.default.RewardPanel).getComponent(C.default).initAsset(t),e.label=4;case 4:return[2]}})})},P.prototype.ClickTrials=function(){h.default.instance.play(h.Sound.Click),f.default.instance.state!=f.FightState.challenge&&f.default.instance.state!=f.FightState.Trials?(this.CloseThis(),f.default.instance.OpenTrials()):S.default.instance.setText(-1,"\u5f53\u524d\u6b63\u5728\u6311\u6218\u4e2d,\u8bf7\u7a0d\u540e")},P.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},P.prototype.CloseThis=function(){_.default.Instance.ShowMain(),p.prototype.CloseThis.call(this),_.default.Instance.ShowInter()},c([i(cc.Node)],P.prototype,"Video",void 0),a=c([a],P),r.default=a,cc._RF.pop()},{}],UIBase:[function(t,e,n){"use strict";cc._RF.push(e,"2d1e10sZTpIkIDOg9/9aTby","UIBase");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.isdestoy=!1,t.mask=null,t.foreMask=null,t.animRoot=null,t.isScaleAnim=!1,t.isAnim=!1,t}r(u,c=cc.Component),u.prototype.onEnable=function(){this.isAnim=!1,this.isScaleAnim&&this.animRoot&&this.OpenWithScaleAnim()},u.prototype.CloseThis=function(){this.isAnim||(this.isScaleAnim&&this.animRoot?(this.isAnim=!0,this.CloseWithScaleAnim()):this.Destroy())},u.prototype.OpenWithScaleAnim=function(){var t=this;this.animRoot.scale=0,cc.tween(this.animRoot).to(.3,{scale:1},{easing:"backOut"}).call(function(){t.openAnimHandler&&t.openAnimHandler()}).start()},u.prototype.CloseWithScaleAnim=function(){var t=this;this.foreMask&&(this.foreMask.active=!0),this.animRoot.stopAllActions(),cc.tween(this.animRoot).to(.3,{scale:0},{easing:"backIn"}).call(function(){t.closeAnimHandler&&t.closeAnimHandler(),t.Destroy()}).start()},u.prototype.Destroy=function(){this.isdestoy?this.node.destroy():this.node.active=!1},l([s({displayName:"\u662f\u5426\u9500\u6bc1"})],u.prototype,"isdestoy",void 0),l([s({type:cc.Node,displayName:"\u5e95\u5c42\u906e\u7f69"})],u.prototype,"mask",void 0),l([s({type:cc.Node,displayName:"\u6700\u4e0a\u5c42\u906e\u7f69"})],u.prototype,"foreMask",void 0),l([s({type:cc.Node,displayName:"\u52a8\u753b\u8282\u70b9"})],u.prototype,"animRoot",void 0),l([s({displayName:"\u662f\u5426\u662f\u5927\u5c0f\u53d8\u5316\u52a8\u753b"})],u.prototype,"isScaleAnim",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],UIClass:[function(t,e,n){"use strict";cc._RF.push(e,"924e6lmZnJJyr9ACS5yK3iN","UIClass");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t,e){this.panelName=t,this.panelUI=e},cc._RF.pop()},{}],UIEventListener:[function(t,e,n){"use strict";cc._RF.push(e,"663a9vwZWdLBZHt9rZPyNR1","UIEventListener");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(u=cc._decorator).ccclass;var c,s,u=u.property;function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.touchAudio=null,t.touchAnim=!1,t.clickInterval=.1,t.isDowning=!1,t.downTimer=0,t.longDownEffTime=.3,t.touchEvents=[],t.touchLongEvents=[],t.touchStartEvents=[],t.touchCancelEvents=[],t.touchMoveEvents=[],t.touchSliderEvents=[],t.isSliderEffect=!1,t.rawScale=0,t.clickTime=null,t.initScale=1,t}r(p,c=cc.Component),(s=p).Get=function(t,e){void 0===e&&(e=!1);var n=t.getComponent(s);return(n=n||t.addComponent(s)).touchAnim=e,n},p.prototype.onLoad=function(){this.rawScale=this.node.scale,this.node.on("touchstart",this.touchStart.bind(this),this.node),this.node.on("touchend",this.touchEnd.bind(this),this.node),this.node.on("touchcancel",this.touchCancel.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove.bind(this),this.node)},p.prototype.touchStart=function(){0!=this.enabled&&(this.initScale=this.node.scale,this.isSliderEffect=!1,this.touchAnim&&(this.node.scale=this.initScale-.05),this.isDowning=!0,(this.downTimer=0)<this.touchStartEvents.length&&cc.Component.EventHandler.emitEvents(this.touchStartEvents))},p.prototype.touchEnd=function(){var t,e;this.isDowning=!1,0==this.enabled||(this.touchAnim&&(this.node.scale=this.initScale),this.isSliderEffect)||(t=new Date,e=1e3*this.clickInterval,t.getTime()-this.clickTime<e||(this.clickTime=t.getTime(),0<this.touchEvents.length&&cc.Component.EventHandler.emitEvents(this.touchEvents,this.node)))},p.prototype.touchCancel=function(){0!=this.enabled&&(this.isDowning=!1,this.touchAnim&&(this.node.scale=this.initScale),0<this.touchCancelEvents.length&&cc.Component.EventHandler.emitEvents(this.touchCancelEvents))},p.prototype.touchMove=function(t){0!=this.enabled&&(0<this.touchMoveEvents.length&&cc.Component.EventHandler.emitEvents(this.touchMoveEvents,this.node.name),0==this.isSliderEffect)&&(t=t.getDelta(),(this.isSliderY?0<this.sliderEffSpeed?t.y>=this.sliderEffSpeed:t.y<=this.sliderEffSpeed:0<this.sliderEffSpeed?t.x>=this.sliderEffSpeed:t.x<=this.sliderEffSpeed)&&0<this.touchSliderEvents.length&&(this.isSliderEffect=!0,cc.Component.EventHandler.emitEvents(this.touchSliderEvents,this.node.name)))},p.prototype.addTouchStartEvent=function(t){this.touchStartEvents=[],this.touchStartEvents.push(t)},p.prototype.addTouchEvent=function(t){this.touchEvents=[],this.touchEvents.push(t)},p.prototype.addTouchCancelEvent=function(t){this.touchCancelEvents=[],this.touchCancelEvents.push(t)},p.prototype.addTouchLongEvent=function(t){this.touchLongEvents=[],this.touchLongEvents.push(t)},p.prototype.addTouchSliderEvent=function(t){this.touchSliderEvents=[],this.touchSliderEvents.push(t)},p.prototype.addMoveEvent=function(t){this.touchMoveEvents.push(t)},p.prototype.update=function(){this.isDowning&&(this.downTimer+=cc.director.getDeltaTime(),this.downTimer>=this.longDownEffTime&&(0<this.touchLongEvents.length&&cc.Component.EventHandler.emitEvents(this.touchLongEvents,this.node.name),this.isDowning=!1))},p.prototype.onDestroy=function(){this.node.targetOff(this.node)},l([u({type:cc.AudioClip,displayName:"\u89e6\u6478\u97f3"})],p.prototype,"touchAudio",void 0),l([u({displayName:"\u89e6\u6478\u52a8\u753b"})],p.prototype,"touchAnim",void 0),l([u({type:cc.Float,displayName:"\u70b9\u51fb\u95f4\u9694"})],p.prototype,"clickInterval",void 0),l([u({type:cc.Component.EventHandler,displayName:"\u89e6\u6478\u56de\u8c03"})],p.prototype,"touchEvents",void 0),a=s=l([a],p),i.default=a,cc._RF.pop()},{}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"f88e7PD51lOJ76MkK8SxTFX","UIManager");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f,d=a("GameFight"),h=a("OnHook"),y=a("CoinOutPutDataManager"),v=a("GameSys"),g=a("EventConst"),m=a("GameTools"),b=a("TipGroup"),C=a("UIBase"),S=a("UIClass");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.OneCustomNode=null,t.CustomNode=null,t.Surpass=null,t.bannerNode=null,t.NativeAdBanner=null,t.Mask=null,t.panelStack=new Array,t.panelRoot=null,t.FightContent=null,t.internum=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=cc.Component),(f=w).prototype.onLoad=function(){var t=this;(f.Instance=this).panelRoot=this.node.getChildByName("Content"),cc.systemEvent.on(g.EventConst.ShowMask,function(){t.Mask.active=!0},this),cc.systemEvent.on(g.EventConst.HideMask,function(){t.Mask.active=!1},this),this.Surpass.active="WX"==v.default.channel||"QQ"==v.default.channel||"TT"==v.default.channel,this.OneCustomNode.active=!1},w.prototype.OnTouchMove=function(){console.log("\u63a5\u6536\u4e8b\u4ef6")},w.prototype.start=function(){3003!=v.default.source||v.default.getAddMy()||v.default.channel},w.prototype.ShowUI=function(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(o){switch(o.label){case 0:return(n=this.Check(t))?(n.panelUI.node.active=!0,n.panelUI.node.setSiblingIndex(99),[2,n.panelUI]):[3,1];case 1:return cc.systemEvent.emit(g.EventConst.Showblockinput),null!=(e=m.default.GetRes("Bundle","Prefabs/UI/"+t,cc.Prefab))?[3,3]:[4,m.default.LoadAny("Bundle","Prefabs/UI/"+t,cc.Prefab)];case 2:e=o.sent(),o.label=3;case 3:e&&(n=cc.instantiate(e),("NewresultPanel"==t||"ChallengeLose"==t?this.FightContent:this.panelRoot).addChild(n),n.setPosition(cc.Vec2.ZERO),n=n.getComponent(C.default),n=new S.default(t,n),this.AddPanelStack(n)),cc.systemEvent.emit(g.EventConst.Hideblockinput),o.label=4;case 4:return[2]}})})},w.prototype.HideMain=function(){for(var t=h.default.instance.node.getComponentsInChildren(cc.RenderComponent),e=0;e<t.length;e++)t[e].enabled=!1;var n=d.default.instance.node.getComponentsInChildren(cc.RenderComponent);for(e=0;e<n.length;e++)n[e].enabled=!1},w.prototype.ShowMain=function(){for(var t=h.default.instance.node.getComponentsInChildren(cc.RenderComponent),e=0;e<t.length;e++)t[e].enabled=!0;var n=d.default.instance.node.getComponentsInChildren(cc.RenderComponent);for(e=0;e<n.length;e++)n[e].enabled=!0},w.prototype.GetClass=function(t){return(t=this.Check(t))?t.panelUI:null},w.prototype.HideUI=function(t){if(t=this.Check(t))return t.panelUI.CloseThis(),t.panelUI;console.log("\u6ca1\u6709\u627e\u5230\u8be5\u9762\u677f")},w.prototype.HideAllUi=function(){for(var t=0;t<this.panelRoot.childrenCount;t++)this.panelRoot.children[t].active=!1},w.prototype.GetPanelByType=function(t){var e=this.panelStack.length;if(0<e){for(var n=0;n<e;n++)if(this.panelStack[n].panelName==t)return this.panelStack[n];return null}return null},w.prototype.Check=function(t){var e=this.panelStack.length;if(0<e){for(var n=0;n<e;n++)if(this.panelStack[n].panelName==t)return this.panelStack[n];return!1}return!1},w.prototype.AddPanelStack=function(t){this.panelStack.push(t)},w.prototype.ChangeCoin=function(t){v.default.setCoin(t),0<t&&b.default.instance.setText(-1,"\u7075\u6c14+"+m.default.refSetCoin(t)),cc.systemEvent.emit(g.EventConst.Coin)},w.prototype.ChangeJewel=function(t){v.default.setJewel(t),0<t&&b.default.instance.setText(-1,"\u7075\u77f3+"+m.default.refSetCoin(t)),cc.systemEvent.emit(g.EventConst.Jewel)},w.prototype.GetCoin=function(t){v.default.setCoin(t),cc.systemEvent.emit(g.EventConst.Coin)},w.prototype.GetJewel=function(t){v.default.setJewel(t),cc.systemEvent.emit(g.EventConst.Jewel)},w.prototype.ShowInter=function(){this.internum++,999!=v.default.splashAdCount&&this.internum>=v.default.splashAdCount&&(this.internum=0,m.default.getSdk().PlatformCallBack("INTER"))},w.prototype.shareCallback=function(){var t=this;b.default.instance.setText(-1,"\u5206\u4eab\u6210\u529f"),setTimeout(function(){return s(t,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,y.default.Instance.GetOutPut()];case 1:return t=180*e.sent(),f.Instance.ChangeJewel(t),[2]}})})},500)},w.prototype.HideSurpass=function(){this.Surpass.active=!1},w.prototype.ShowSurpass=function(){this.Surpass.active=!0},w.Instance=null,c([i(cc.Node)],w.prototype,"OneCustomNode",void 0),c([i(cc.Node)],w.prototype,"CustomNode",void 0),c([i(cc.Node)],w.prototype,"Surpass",void 0),c([i(cc.Node)],w.prototype,"bannerNode",void 0),c([i(cc.Node)],w.prototype,"NativeAdBanner",void 0),c([i(cc.Node)],w.prototype,"Mask",void 0),c([i(cc.Node)],w.prototype,"FightContent",void 0),a=f=c([a],w),r.default=a,cc._RF.pop()},{}],UnlockDisciple:[function(t,e,n){"use strict";cc._RF.push(e,"46f2bGUCX9GEIY2Mm/gA9eD","UnlockDisciple");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("CoinOutPutDataManager"),f=i("SoundManager"),d=i("StoryDataManager"),h=i("GameTools"),y=i("TipGroup"),v=i("UIBase"),g=i("UIManager");function m(){var t=null!==u&&u.apply(this,arguments)||this;return t.nameLabel=null,t.icon=null,t.coin=null,t.doubleCoin=null,t}i=(a=cc._decorator).ccclass,a.property,l(m,u=v.default),m.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.nameLabel=t.getChildByName("name").getComponent(cc.Label),this.icon=t.getChildByName("icon").getComponent(cc.Sprite),this.coin=t.getChildByName("one").getChildByName("coin").getComponent(cc.Label),this.doubleCoin=t.getChildByName("double").getChildByName("coin").getComponent(cc.Label)},m.prototype.onEnable=function(){u.prototype.onEnable.call(this),h.default.getSdk().PlatformCallBack("BANNER")},m.prototype.init=function(t){return c(this,void 0,void 0,function(){var e,n,o;return s(this,function(a){switch(a.label){case 0:return n=d.default.Instance.GetStory(t+1),e=n.name,o="Head/hero_avatar_"+(t+1),(n=h.default.GetRes("SpriteBundle2",o,cc.SpriteFrame))?[3,2]:[4,h.default.loadImage("SpriteBundle2",o)];case 1:n=a.sent(),a.label=2;case 2:return this.icon.spriteFrame=n,this.nameLabel.string=""+e,[4,p.default.Instance.GetOutPut()];case 3:return o=180*a.sent(),this.coin.string="\xd7"+h.default.refSetCoin(o),this.doubleCoin.string="\xd7"+h.default.refSetCoin(2*o),[2]}})})},m.prototype.ClickOneGet=function(){return c(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return f.default.instance.play(f.Sound.Click),this.CloseThis(),[4,p.default.Instance.GetOutPut()];case 1:return t=180*e.sent(),g.default.Instance.ChangeCoin(t),[2]}})})},m.prototype.ClickDoubleGet=function(){var t=this;f.default.instance.play(f.Sound.Click),h.default.getSdk().PlatformCallBack("REWARD",function(){return c(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.CloseThis(),[4,p.default.Instance.GetOutPut()];case 1:return t=180*e.sent(),g.default.Instance.ChangeCoin(2*t),[2]}})})},function(){y.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-17)},m.prototype.CloseThis=function(){u.prototype.CloseThis.call(this),h.default.getSdk().PlatformCallBack("BANNERCLOSE")},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],m),r.default=i,cc._RF.pop()},{}],UnlockNewArtifacts:[function(t,e,n){"use strict";cc._RF.push(e,"86830Z6MYJHcJXcWiZ53+Af","UnlockNewArtifacts");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("TipGroup"),m=a("UIBase"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.ArtifactsName=null,t.Artifacts=null,t.oneNum=null,t.doubleNum=null,t.reward=0,t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=m.default),C.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.ArtifactsName=t.getChildByName("name").getComponent(cc.Label),this.oneNum=t.getChildByName("one").getChildByName("coin").getComponent(cc.Label),this.doubleNum=t.getChildByName("double").getChildByName("coin").getComponent(cc.Label)},C.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a;return u(this,function(i){switch(i.label){case 0:return p.prototype.onEnable.call(this),v.default.getSdk().PlatformCallBack("BANNER"),o=y.default.getMaxArtifacts(),t=f.default.Instance.GetNowData(o),e="Artifacts/"+o,n=v.default.GetRes("SpriteBundle1",e,cc.SpriteFrame),(o=null)!=n?[3,2]:[4,v.default.loadImage("SpriteBundle1",e)];case 1:return o=i.sent(),[3,3];case 2:o=n,i.label=3;case 3:return this.Artifacts.spriteFrame=o,this.ArtifactsName.string=""+t.name,a=this,[4,d.default.Instance.GetOutPut()];case 4:return a.reward=900*i.sent(),this.oneNum.string="\xd7"+v.default.refSetCoin(this.reward),this.doubleNum.string="\xd7"+v.default.refSetCoin(2*this.reward),[2]}})})},C.prototype.start=function(){},C.prototype.ClickOne=function(){h.default.instance.play(h.Sound.Click),b.default.Instance.ChangeCoin(this.reward),this.CloseThis()},C.prototype.ClickDouble=function(){var t=this;h.default.instance.play(h.Sound.Click),v.default.getSdk().PlatformCallBack("REWARD",function(){b.default.Instance.ChangeCoin(2*t.reward),t.CloseThis()},function(){g.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-18)},C.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),v.default.getSdk().PlatformCallBack("BANNERCLOSE")},c([i(cc.Sprite)],C.prototype,"Artifacts",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],UnlockPet:[function(t,e,n){"use strict";cc._RF.push(e,"28937poCOpHFJzPbMOp5cLR","UnlockPet");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("PetDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("TipGroup"),m=a("UIBase"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.oneLabel=null,t.doubelLabel=null,t.icon=null,t.Name=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=m.default),C.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return p.prototype.onEnable.call(this),v.default.getSdk().PlatformCallBack("BANNER"),[4,f.default.Instance.GetOutPut()];case 1:return n=180*o.sent(),this.oneLabel.string="\xd7"+v.default.refSetCoin(n),this.doubelLabel.string="\xd7"+v.default.refSetCoin(2*n),t=y.default.getPetIndex(),e="Pet/"+t,(n=v.default.GetRes("Bundle",e,cc.SpriteFrame))?[3,3]:[4,v.default.loadImage("Bundle",e)];case 2:n=o.sent(),o.label=3;case 3:return this.icon.spriteFrame=n,this.Name.string=d.default.Instance.GetName(t-1),[2]}})})},C.prototype.ClickOne=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return h.default.instance.play(h.Sound.Click),this.CloseThis(),[4,f.default.Instance.GetOutPut()];case 1:return t=180*e.sent(),b.default.Instance.ChangeCoin(t),[2]}})})},C.prototype.ClickDouble=function(){var t=this;h.default.instance.play(h.Sound.Click),v.default.getSdk().PlatformCallBack("REWARD",function(){return s(t,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return this.CloseThis(),[4,f.default.Instance.GetOutPut()];case 1:return t=180*e.sent(),b.default.Instance.ChangeCoin(2*t),[2]}})})},function(){g.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-19)},C.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),v.default.getSdk().PlatformCallBack("BANNERCLOSE")},C.prototype.start=function(){},c([i(cc.Label)],C.prototype,"oneLabel",void 0),c([i(cc.Label)],C.prototype,"doubelLabel",void 0),c([i(cc.Sprite)],C.prototype,"icon",void 0),c([i(cc.Label)],C.prototype,"Name",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],UnlockSys:[function(t,e,n){"use strict";cc._RF.push(e,"f5698d+LxdH6qjtM8epMZyy","UnlockSys");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("OnHook"),f=i("CoinOutPutDataManager"),d=i("SoundManager"),h=i("GameSys"),y=i("GameTools"),v=i("PanelConst"),g=i("TalkPanel"),m=i("TipGroup"),b=i("UIBase"),C=i("UIManager");function S(){var t=null!==u&&u.apply(this,arguments)||this;return t.nameLabel=null,t.icon=null,t.coin=null,t.doubleCoin=null,t.index=0,t}i=(a=cc._decorator).ccclass,a.property,l(S,u=b.default),S.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.nameLabel=t.getChildByName("name").getComponent(cc.Label),this.icon=t.getChildByName("icon").getComponent(cc.Sprite),this.coin=t.getChildByName("one").getChildByName("coin").getComponent(cc.Label),this.doubleCoin=t.getChildByName("double").getChildByName("coin").getComponent(cc.Label)},S.prototype.start=function(){},S.prototype.onEnable=function(){u.prototype.onEnable.call(this),y.default.getSdk().PlatformCallBack("BANNER")},S.prototype.init=function(t){return c(this,void 0,void 0,function(){var e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:switch(this.index=t,o=n=e="",t){case 1:e="\u7a81\u7834",n="Icon/1",o="SpriteBundle1",y.default.getSdk().dot(5);break;case 2:e="\u9053\u53cb",n="Icon/2",o="SpriteBundle1";break;case 3:e="\u81ea\u52a8\u6218\u6597",n="Icon/9",o="SpriteBundle1";break;case 4:e="\u795e\u517d",n="Icon/3",o="SpriteBundle1";break;case 5:e="\u5c0f\u836f\u94fa",n="Icon/4",o="SpriteBundle1";break;case 6:e="\u4e24\u500d\u901f",n="Icon/6",o="SpriteBundle1";break;case 7:e="\u4efb\u52a1",n="Icon/5",o="SpriteBundle1";break;case 8:e="\u516d\u5473\u5730\u9ec4\u4e39",n="PropIcon/item_danMadicine2",o="Bundle";break;case 9:e="\u5929\u5de5\u53f0",n="Icon/8",o="SpriteBundle1";break;case 10:e="\u884c\u5929\u4e0b",n="Icon/12",o="SpriteBundle1";break;case 11:e="\u795e\u5668",n="Icon/7",o="SpriteBundle1";break;case 12:e="\u8111\u6b8b\u4e39",n="PropIcon/item_danMadicine3",o="Bundle";break;case 13:e="\u5c0f\u5356\u94fa",n="Icon/10",o="SpriteBundle1";break;case 14:e="\u9e21\u7a9d\u6751",n="Icon/11",o="SpriteBundle1";break;case 15:e="\u79d8\u6cd5\u5883",n="Icon/13",o="SpriteBundle1";break;case 16:e="\u8f6e\u56de",n="Icon/14",o="SpriteBundle1";break;case 17:e="\u65e0\u5c3d\u5854",n="Icon/15",o="SpriteBundle1";break;case 18:e="\u542b\u7b11\u534a\u6b65\u4e39",n="PropIcon/item_danMadicine3",o="Bundle";break;case 19:e="\u795e\u5668\u8c31",n="Icon/17",o="SpriteBundle1";break;case 20:e="\u76d6\u4e2d\u9499",n="PropIcon/item_danMadicine4",o="Bundle";break;case 21:e="\u4f38\u817f\u77aa\u773c\u4e39",n="PropIcon/item_danMadicine5",o="Bundle";break;case 30:e="\u6280\u80fd",n="Icon/18",o="SpriteBundle1";break;case 31:e="\u5728\u7ebf\u5956\u52b1",n="Icon/31",o="SpriteBundle1";break;case 33:e="\u6bcf\u65e5\u7b7e\u5230",n="Icon/33",o="SpriteBundle1";break;case 34:e="\u7fe0\u82b1",n="Icon/34",o="SpriteBundle1";break;case 35:e="\u5c0f\u9a6c\u54e5",n="Icon/35",o="SpriteBundle1";break;case 36:e="\u6ed1\u5c0f\u7a3d",n="Icon/34",o="SpriteBundle1";break;case 37:e="\u6392\u884c\u699c",n="Icon/37",o="SpriteBundle1";break;case 38:e="\u805a\u7075\u9635",n="Icon/38",o="SpriteBundle1";break;case 40:e="\u4ed9\u6676\u5b9d\u7bb1",n="Icon/40",o="SpriteBundle1";break;case 41:e="\u7194\u70bc\u7089",n="Icon/41",o="SpriteBundle1"}return(a=y.default.GetRes(o,n,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage(o,n)];case 1:a=r.sent(),r.label=2;case 2:return this.icon.spriteFrame=a,this.nameLabel.string=""+e,[4,f.default.Instance.GetOutPut()];case 3:return i=180*r.sent(),this.coin.string="\xd7"+y.default.refSetCoin(i),this.doubleCoin.string="\xd7"+y.default.refSetCoin(2*i),[2]}})})},S.prototype.ClickOneGet=function(){return c(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return d.default.instance.play(d.Sound.Click),this.CloseThis(),[4,f.default.Instance.GetOutPut()];case 1:return t=180*e.sent(),C.default.Instance.ChangeCoin(t),[2]}})})},S.prototype.ClickDoubleGet=function(){var t=this;d.default.instance.play(d.Sound.Click),y.default.getSdk().PlatformCallBack("REWARD",function(){return c(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.CloseThis(),[4,f.default.Instance.GetOutPut()];case 1:return t=180*e.sent(),C.default.Instance.ChangeCoin(2*t),[2]}})})},function(){m.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-20)},S.prototype.CloseThis=function(){return c(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return u.prototype.CloseThis.call(this),p.default.instance.initButton(),30!=this.index?[3,1]:(console.log("\u8df3\u8fc7\u8be5\u6b65\u9aa4"),p.default.instance.ShowGuideSp(22),[3,7]);case 1:return 40!=this.index?[3,2]:(h.default.setCrystal(20),p.default.instance.ShowGuideSp(40),[3,7]);case 2:return 41!=this.index?[3,3]:(p.default.instance.ShowGuideSp(41),[3,7]);case 3:return 31!=this.index&&33!=this.index&&8!=this.index&&12!=this.index&&18!=this.index&&20!=this.index&&21!=this.index&&4!=this.index?[3,4]:(console.log("\u8df3\u8fc7\u8be5\u6b65\u9aa4"),[3,7]);case 4:return 1!=this.index?[3,5]:(p.default.instance.ShowGuideSp(31),[3,7]);case 5:return[4,C.default.Instance.ShowUI(v.default.TalkPanel)];case 6:e.sent(),C.default.Instance.GetClass(v.default.TalkPanel).getComponent(g.default).init(this.index,function(){3==t.index?p.default.instance.ClickAutomaticSkill():p.default.instance.ShowGuideSp(t.index)}),e.label=7;case 7:return p.default.instance.CreateSysicon(this.index),y.default.getSdk().PlatformCallBack("BANNERCLOSE"),[2]}})})},S.prototype.ClickShare=function(){d.default.instance.play(d.Sound.Click),y.default.getSdk().share()},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],S),r.default=i,cc._RF.pop()},{}],UpTalkManager:[function(t,e,n){"use strict";cc._RF.push(e,"e0c87Gb8vtCm7qWXoMRC0ZO","UpTalkManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("UpTalk"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/UpTalk",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/UpTalk")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.talk=a.talk,i.character=a.character,this.allDataList.push(i);return[2]}})})},y.prototype.GetTalk=function(t){var e="";switch(t){case 3:e="\u7504\u4e0d\u9519";break;case 0:e="\u7fe0\u82b1";break;case 1:e="\u5c0f\u9a6c\u54e5";break;case 2:e="\u6ed1\u5c0f\u7a3d";break;case 5:e="\u5c0f\u8521\u5409"}for(var n=[],o=0;o<this.allDataList.length;o++)this.allDataList[o].character==e&&n.push(this.allDataList[o]);return n[Math.floor(Math.random()*n.length)].talk},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],UpTalk:[function(t,e,n){"use strict";cc._RF.push(e,"aba54Gsy/VIhJorid8iu7JN","UpTalk");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){this.character="",this.talk="",this.id=0}),a.default=o,cc._RF.pop()},{}],VIVOManager:[function(t,e,n){"use strict";cc._RF.push(e,"62721NX4+1KIJzJ2BAqUqUH","VIVOManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("SoundManager"),u=i("GameSys"),p=i("Recorder"),f=i("UIManager"),d=i("HttpClient"),h=i("NativeAdBanner"),y=i("SdkManager");function v(){var t=null!==c&&c.apply(this,arguments)||this;return t.bannerAd=null,t.bannerid=["8156e152a0cf45b49fe321490e2af453","8156e152a0cf45b49fe321490e2af453","8156e152a0cf45b49fe321490e2af453"],t.bannerNum=0,t.bannerRepeat=3,t.bannerCount=0,t.interstitialAd=null,t.CustomAdisShow=!1,t.customAd=null,t.nativeAd=null,t.currentAd=null,t.rewardedVideoAd=null,t.rewardid=["364dac07c0434668a6d51016ee486804","364dac07c0434668a6d51016ee486804","364dac07c0434668a6d51016ee486804"],t.rewardNum=0,t.rewardCount=0,t.boxBannerAd=null,t.index=0,t}i=(a=cc._decorator).ccclass,a.property,l(v,c=y.default),v.prototype.login=function(t){p.default.init(),t(),this.RewardedAd(),this.createNativeAd()},v.prototype.BannerAd=function(){this.bannerAd=qg.createBannerAd({adUnitId:this.bannerid[this.bannerNum],style:{}}),this.bannerNum++,3<=this.bannerNum&&(this.bannerNum=0)},v.prototype.BannerShow=function(t){0==this.bannerRepeat?null==this.bannerAd&&this.BannerAd(t):0<this.bannerRepeat&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.BannerAd(t)),this.bannerAd.show()},v.prototype.BannerHide=function(){this.bannerAd&&this.bannerAd.hide()},v.prototype.InterstitialAd=function(){},v.prototype.hideCustomAd=function(){this.CustomAdisShow=!1,this.customAd.hide()},v.prototype.createCustomAd=function(){var t=this;this.customAd=qg.createCustomAd({posId:"5e78e66c37904d6c9e9e705ef25e0d3f",style:{}}),this.customAd.onError(function(t){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5f02\u5e38",t)}),this.CustomAdisShow&&this.customAd.show().then(function(){t.CustomAdisShow||t.hideCustomAd(),console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})},v.prototype.createNativeAd=function(){var t=this;this.nativeAd=qg.createNativeAd({posId:"c59a6fa5c36949b9bb1ef53d81baa8a7"}),this.nativeAd.onLoad(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210-onload\u89e6\u53d1",JSON.stringify(e)),e&&e.adList&&(t.currentAd=e.adList.pop(),console.log("currentAd:",t.currentAd))}),this.nativeAd.onError(function(t){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5f02\u5e38",t)}),this.nativeAd.load()},v.prototype.reportAdShow=function(){this.nativeAd.reportAdShow({adId:this.currentAd.adId})},v.prototype.reportAdClick=function(){this.nativeAd.reportAdClick({adId:this.currentAd.adId}),this.currentAd=null,this.nativeAd.load()},v.prototype.InterstitialShow=function(){this.interstitialAd=qg.createInterstitialAd({posId:"dd1a34a87c524e199ea7e385eb97f748"});var t=this.interstitialAd.show();t&&t.then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(t){switch(t.code){case 30003:console.log("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149\u63d2\u5c4f\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:console.log("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:console.log("load\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;default:console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(t))}})},v.prototype.RewardedAd=function(){this.rewardedVideoAd=qg.createRewardedVideoAd({adUnitId:this.rewardid[this.rewardNum]}),this.rewardNum++,3<=this.rewardNum&&(this.rewardNum=0)},v.prototype.RewardedShow=function(t,e){var n=this;this.rewardedVideoAd.load().then(function(){return n.rewardedVideoAd.show()}).catch(function(t){return console.log(t.errMsg)}),this.rewardedVideoAd.onClose(function(o){o.isEnded?(t(),3<=n.rewardCount&&(null!=n.rewardedVideoAd&&(n.rewardedVideoAd.destroy(),n.rewardedVideoAd=null),n.rewardCount=0),n.bannerCount++,null==n.rewardedVideoAd&&n.RewardedAd()):e(!1),n.rewardedVideoAd.offClose(),n.rewardedVideoAd.offError()}),this.rewardedVideoAd.onError(function(t){console.log("rewardad"+t.errCode+" : "+t.errMsg),e(!0),s.default.instance.playBGM(),n.rewardedVideoAd.offError()})},v.prototype.saveDesktop=function(t,e){qg.hasShortcutInstalled({success:function(n){n?e():qg.installShortcut({success:function(){t()}})}})},v.prototype.isHaveShare=function(){return!1},v.prototype.showBoxBanner=function(t){qg.createBoxBannerAd?(this.boxBannerAd=qg.createBoxBannerAd({posId:"7d783c8423fd4ad4a42c2d319fff8512"}),this.boxBannerAd.onError(function(t){console.log("\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)}),this.boxBannerAd.show().then(function(){console.log("show success")})):(console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"),t())},v.prototype.closeBoxBanner=function(){null!=this.boxBannerAd&&this.boxBannerAd.destroy()},v.prototype.PlatformCallBack=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),"REWARD"==t?u.default.isShowVideoAd&&(s.default.instance.bgm=!1,cc.audioEngine.pauseAll(),this.RewardedShow(function(){s.default.instance.bgm=!0,s.default.instance.playBGM(),e()},function(){s.default.instance.bgm=!0,s.default.instance.playBGM(),n()})):"INTER"==t||("BANNER2"==t?u.default.isShowBannerAd&&this.BannerShow(f.default.Instance.bannerNode):"BANNERCLOSE2"==t?u.default.isShowBannerAd&&this.BannerHide():"BANNER"===t?0==this.index?qg.createCustomAd?(console.log("\u521b\u5efa\u539f\u751f\u5e7f\u544a"),this.CustomAdisShow=!0,this.createCustomAd()):this.PlatformCallBack("BANNER2"):(this.index=0,this.PlatformCallBack("BANNER2")):"BANNERCLOSE"===t&&(f.default.Instance.NativeAdBanner.getComponent(h.default).hideNativeBanner(),this.PlatformCallBack("BANNERCLOSE2"),this.hideCustomAd(),this.closeBoxBanner()))},v.prototype.isHaveAddToDesktop=function(){return!0},v.prototype.controlKey=function(){d.default.RequestHttpData("190","0001068",{success:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t),u.default.isShowBannerAd=t.data.info.isShowBannerAd,u.default.isShowInterAd=t.data.info.isShowInterAd,u.default.isShowVideoAd=t.data.info.isShowVideoAd,u.default.splashAdCount=t.data.info.splashAdCount,u.default.isjumpguide=t.data.info.isjumpguide},fail:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t)}},"1.0.0")},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],WeaponDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"a72afACMJJDl7Gy9upJYQIT","WeaponDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("WeaponData"),d=i("GameTools"),h=i("PropDataManager"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/Weapon",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/Weapon")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.name=a.name,i.debris=a.debris,i.num=a.num,i.level=a.level,i.debrisid=a.debrisid,i.finishid=a.finishid,this.allDataList.push(i);return[2]}})})},v.prototype.GetWeaponLen=function(){return this.allDataList.length},v.prototype.GetWeapon=function(t){return this.allDataList[t]},v.prototype.isHaveFuse=function(){for(var t=!1,e=0;e<8;e++){var n=p.Instance.GetWeapon(e);(h.default.Instance.GetPackProp(n.debrisid).have||0)>=n.num&&(t=!0)}return t},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],WeaponData:[function(t,e,n){"use strict";cc._RF.push(e,"6a0b5ZXL9xL+qYWEKVvVmvy","WeaponData");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],Wind:[function(t,e,n){"use strict";cc._RF.push(e,"b6bf1XiPX9Ld6PqNnjUC/KF","Wind");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameFight"),u=i("GameSys");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.type=0,t.atk=0,t.master=null,t.count=0,t.target=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e,n,o){this.type=t,this.atk=e,this.master=n,this.count=0,this.target=o},p.prototype.start=function(){},p.prototype.Attack=function(){if(this.count++,this.target.TheStrike(this.atk,this.master.role.hit,!1,!1),0==this.type)for(var t=s.default.instance.GetMonster(),e=0;e<t.length;e++){if(t[e]!=this.target){this.target=t[e];break}e>=t.length-1&&(this.target=null,u.default.buttet.restor(this.node))}else{var n=s.default.instance.GetTeam();for(e=0;e<n.length;e++){if(n[e]!=this.target){this.target=n[e];break}e>=n.length-1&&(this.target=null,u.default.buttet.restor(this.node))}}8<=this.count&&(this.target=null,u.default.buttet.restor(this.node))},p.prototype.update=function(t){var e,n,o;this.target&&this.target.node&&(o=this.node.getPosition(),n=this.target.node.getPosition(),e=o.sub(n).mag(),n=(o=o.sub(n).signAngle(cc.v2(1,0)))/Math.PI*180,this.node.angle=-n,(o=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),50<e?(this.node.x+=t*o.x*u.default.speed*1e3,this.node.y+=t*o.y*u.default.speed*1e3):s.default.instance.state==s.FightState.ready?u.default.buttet.restor(this.node):this.Attack())},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],WorshipDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"0e4bfGfc1NA/J/VtYPiKIV8","WorshipDataManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("Worship"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/Worship",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/Worship")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).rewardId=a.rewardId,i.count=a.count,i.id=a.id,i.state=a.state,this.allDataList.push(i);return[2]}})})},y.prototype.getRankData=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].state==t)return this.allDataList[e]},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],Worship:[function(t,e,n){"use strict";cc._RF.push(e,"0ecd5g9rWZBeaHXr/P5BsSR","Worship");var o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var i=cc._decorator;o=i.ccclass,i.property,o=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([o],function(){}),a.default=o,cc._RF.pop()},{}],WxAnnouncement:[function(t,e,n){"use strict";cc._RF.push(e,"cc637ZkgU5O2KwHzyDkDgsc","WxAnnouncement");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys"),p=a("UIBase");function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.StrLabel=null,t.wxstr="",t.ttstr="",t}a=(i=cc._decorator).ccclass,i=i.property,l(f,s=p.default),f.prototype.onLoad=function(){this.StrLabel.string="WX"==u.default.channel?this.wxstr:this.ttstr},f.prototype.onEnable=function(){s.prototype.onEnable.call(this)},f.prototype.CloseThis=function(){s.prototype.CloseThis.call(this)},c([i(cc.Label)],f.prototype,"StrLabel",void 0),c([i({displayName:"\u5fae\u4fe1\u516c\u544a\u5185\u5bb9"})],f.prototype,"wxstr",void 0),c([i({displayName:"\u5934\u6761\u516c\u544a\u5185\u5bb9"})],f.prototype,"ttstr",void 0),a=c([a],f),r.default=a,cc._RF.pop()},{}],WxErrorTouch:[function(t,e,n){"use strict";cc._RF.push(e,"aded24zwuJOvaWDjSbGp8yo","WxErrorTouch");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("CoinOutPutDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("PanelConst"),m=a("UIBase"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.progress=null,t.btn=null,t.videobtn=null,t.info=null,t.num=0,t.issub=!1,t.subtime=1,t.subnum=1,t.isshow=!1,t.pro=20,t.type=0,t.isend=!1,t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=m.default),C.prototype.onLoad=function(){this.btn.on(cc.Node.EventType.TOUCH_START,this.onClickBtn,this),this.videobtn.on(cc.Node.EventType.TOUCH_START,this.onClickVideoBtn,this)},C.prototype.init=function(t){var e=this;switch(this.node.stopAllActions(),this.type=t,this.num=0,this.issub=!1,this.btn.active=!0,this.videobtn.active=!1,this.isshow=!1,this.pro=20,this.isend=!1,t){case 0:this.info.string="\u72c2\u70b9\u5c4f\u5e55 \u52a0\u901f\u4fee\u7ec3";break;case 1:this.info.string="\u72c2\u70b9\u5c4f\u5e55 \u52a9\u6211\u6e21\u52ab";break;case 2:this.info.string="\u72c2\u70b9\u5c4f\u5e55 \u6e21\u5316\u5fc3\u9b54"}this.callback=function(){return s(e,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:switch(this.node.stopAllActions(),t){case 0:return[3,1];case 1:return[3,2];case 2:return[3,4]}return[3,5];case 1:return f.default.instance.normalBreak(),e=d.default.Instance.GetNeedCoin(),b.default.Instance.ChangeCoin(e),[3,6];case 2:return y.default.disater=100,e=d.default.Instance.GetNeedCoin(),b.default.Instance.ChangeCoin(-e),[4,b.default.Instance.ShowUI(g.default.DisasterPanel)];case 3:return n.sent(),[3,6];case 4:return y.default.setDevil(0),f.default.instance.DispelDevil(),[3,6];case 5:return[3,6];case 6:return this.CloseThis(),[2]}})})}},C.prototype.onClickBtn=function(){var t,e=this;this.num+=y.default.addprogress,console.log("\u70b9\u51fb\u589e\u52a0\u8fdb\u5ea6\u503c:",y.default.addprogress),this.subtime=this.subnum,50<=this.num&&this.num<=70&&!this.isshow&&(t=Math.floor(100*Math.random())+this.pro,this.pro+=20,60<=t&&(this.btn.active=!0,v.default.getSdk().PlatformCallBack("BANNER"),cc.tween(this.node).delay(3).call(function(){v.default.getSdk().PlatformCallBack("BANNERCLOSE")}).start(),this.isshow=!0,cc.tween(this.node).delay(3).call(function(){e.btn.active=!0,e.videobtn.active=!1}).start())),100<=this.num&&(this.isend=!0,this.callback())},C.prototype.onClickVideoBtn=function(){var t=this;h.default.instance.play(h.Sound.Click),this.btn.active=!0,this.videobtn.active=!1,this.isend=!0,v.default.getSdk().PlatformCallBack("REWARD",function(){t.callback()},function(){t.callback()},-1)},C.prototype.CloseThis=function(){p.prototype.CloseThis.call(this),this.node.stopAllActions(),v.default.getSdk().PlatformCallBack("BANNERCLOSE")},C.prototype.update=function(t){this.isend||(this.subtime-=t,this.subtime<=0&&0<this.num&&(this.num-=20*t,this.num<=0&&(this.num=0)),this.progress.fillRange=this.num/100)},c([i(cc.Sprite)],C.prototype,"progress",void 0),c([i(cc.Node)],C.prototype,"btn",void 0),c([i(cc.Node)],C.prototype,"videobtn",void 0),c([i(cc.Label)],C.prototype,"info",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],WxManager:[function(t,e,n){"use strict";cc._RF.push(e,"4dadfXgDu9H0bLgN9C/JkWx","WxManager");var o,a=t,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=a("HttpClient"),s=a("GameTools"),u=a("SdkManager"),p=a("Recorder"),f=a("GameSys"),d=a("TipGroup"),h=a("EventConst"),y=a("UIManager"),v=a("PanelConst"),g=a("SoundManager"),m=a("ServerUtil"),b="https://www-tomato123-cn.oss-cn-beijing.aliyuncs.com/XXMNQ/share.png";function C(){var t=null!==l&&l.apply(this,arguments)||this;return t.index=0,t.bannerAd=null,t.bannerID=[],t.bannerNum=0,t.bannerCount=0,t.bannerRepeat=1,t.rewardedAd=null,t.rewardID=["3e70264eb4eacef8","02e28eb709a575e2","eedf7496ebfc0c3d"],t.rewardNum=0,t.count=0,t.rewardstate=!1,t.interstitialAd=null,t._noShareGroup=!1,t.SwTime=0,t.recorder=null,t.recorderTime=0,t.recordvidoe=null,t.recordTime=null,t.appbox=null,t.userinfo=null,t.shareIds=["7","8","15"],t.shareParam=[{title:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:b}],t.scene="",t.allTmplIds=["jKQlwX0rvdliqXTGfgyU7ztMWafCNauC6khGKK1F3J8","jStzKa62M8dUvGtwoXJKkgZJ9lg2_Xuh95TYXlPbeRM","KCzux9tv9n4ISZXjkg0_wAKchlyRS8iBxdpLsGHRuoM","d-82widx_IOH7BWyxjHEMr9RbAGcxd9T3oSDky-ohFc"],t.customID=["adunit-ce820a80b3990928","adunit-128b47b42e630319"],t}r(C,l=u.default),C.prototype.share=function(){wx.shareAppMessage({title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",imageUrl:b,query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}})},C.prototype.getRankId=function(){return"fight"},C.cocosToWXPixel=function(t){var e=cc.game.canvas.width,n=cc.game.canvas.height,o=cc.winSize.width,a=cc.winSize.height,i=t.width,r=t.height;return t=t.convertToWorldSpace(cc.v2(0,r)),cc.rect(e/o*t.x,(1-t.y/a)*n,e/o*i,n/a*r)},C.prototype.onHideListen=function(){wx.onHide(function(){console.log("wx.onHide()")})},C.prototype.vibrate=function(){wx.vibrateShort({})},C.prototype.setRankScore=function(t){wx.setUserCloudStorage({KVDataList:[{key:"GCXX",value:""+t}],success:function(){console.log("\u4e0a\u4f20\u5206\u6570\u6210\u529f\uff1a",t)},fail:function(){console.log("\u4e0a\u4f20\u5931\u8d25")},complete:function(){console.log("\u4e0a\u4f20\u5b8c\u6210")}})},C.prototype.openCustomerServiceConversation=function(){wx.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def~",sendMessageImg:b})},C.prototype.getFriendOpenDataContext=function(){var t=wx.getOpenDataContext();return t.postMessage({channel:"WX",type:"friend",open:"0",openid:m.default.openId}),t},C.prototype.hideFriendOpenDataContext=function(){var t=wx.getOpenDataContext();return t.postMessage({channel:"WX",type:"friend",open:"1",openid:m.default.openId}),t},C.prototype.postMessage=function(t){var e=wx.getOpenDataContext();return e.postMessage({channel:"WX",type:"pos",open:"2",openid:m.default.openId,pos:t}),e},C.prototype.getSurpassOpenDataContext=function(t){wx.getOpenDataContext().postMessage({channel:"WX",type:"surpass",open:"0",score:t,openid:m.default.openId})},C.prototype.sendEvent=function(t,e){e?(e.scene=f.default.scene,wx.uma.trackEvent(t,e)):wx.uma.trackEvent(t,{scene:f.default.scene})},C.prototype.BannerAd=function(){console.log("\u8f93\u51fa\u5e7f\u544a\u53c2\u6570:",this.bannerID[this.bannerNum]);var t=s.default.cocosToWX(y.default.Instance.bannerNode);this.bannerAd=wx.createBannerAd({adUnitId:this.bannerID[this.bannerNum],style:{left:t.x,top:t.y,width:t.width}}),this.bannerNum++,this.bannerNum>=this.bannerID.length&&(this.bannerNum=0)},C.prototype.BannerShow=function(){0==this.bannerRepeat?null==this.bannerAd&&this.BannerAd():0<this.bannerRepeat&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.BannerAd()),this.bannerAd.show()},C.prototype.BannerHide=function(){null!=this.bannerAd&&this.bannerAd.hide()},C.prototype.RewardedAd=function(){this.rewardedAd=wx.createRewardedVideoAd({adUnitId:"adunit-"+this.rewardID[this.rewardNum]}),this.rewardNum++,3<=this.rewardNum&&(this.rewardNum=0)},C.prototype.RewardedShow=function(t,e){var n,o=this;this.rewardstate?d.default.instance.setText(-1,"\u5e7f\u544a\u6b63\u5728\u52a0\u8f7d\u4e2d~"):(this.rewardstate=!0,this.count++,3<=this.count&&(this.count=0,this.RewardedAd()),n=function(a){o.rewardstate=!1,a&&a.isEnded||void 0===a?(console.log("\u6210\u529f"),t()):(console.log("\u5931\u8d25"),e(!1)),o.rewardedAd.offClose(n)},this.rewardedAd.onClose(n),this.rewardedAd.show().then(function(){}).catch(function(t){console.log("reward show error, retry...",t.errCode,t.errMsg),d.default.instance.setText(-1,"\u5e7f\u544a\u6b63\u5728\u52a0\u8f7d\u4e2d~"),o.rewardedAd.load().then(function(){console.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),o.rewardedAd.show().then(function(){}).catch(function(t){console.log("reward show2 error",t.errCode,t.errMsg),d.default.instance.setText(-1,"\u5e7f\u544a\u6b63\u5728\u51c6\u5907\u4e2d\uff0c\u4f11\u606f\u4f1a\u513f\u518d\u56de\u6765\u5427~"),o.rewardstate=!1,o.rewardedAd.offClose(n)})}).catch(function(t){console.log("reward load error",t.errCode,t.errMsg),d.default.instance.setText(-1,"\u5e7f\u544a\u6b63\u5728\u51c6\u5907\u4e2d\uff0c\u4f11\u606f\u4f1a\u513f\u518d\u56de\u6765\u5427~"),o.rewardstate=!1,o.rewardedAd.offClose(n)})}))},C.prototype.InterstitialAd=function(){wx.createInterstitialAd&&(this.interstitialAd=wx.createInterstitialAd({adUnitId:"adunit-8d2274c1d8e46b05"}))},C.prototype.InterstitialShow=function(){this.interstitialAd&&this.interstitialAd.show().catch(function(t){console.error(t)})},C.prototype.SendAdsMessage=function(){},C.prototype.showShare=function(){console.log("\u8c03\u7528\u5206\u4eab\u63a5\u53e3"),wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"],success:function(t){console.log("showShareMenu.success:",t)},fail:function(t){console.log("showShareMenu.fail:",t)}})},C.prototype.ClickShare=function(t,e){wx.shareAppMessage({title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",desc:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:b,query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f"),t()},fail:function(){console.log("\u5206\u4eab\u5931\u8d25"),e()}}),t&&(this.shareSuccess=t,this.shareFail=e)},C.prototype.onShareMessageToFriend=function(){wx.onShareMessageToFriend(function(t){console.log("\u597d\u53cb\u5206\u4eab\u56de\u8c03\uff1a",t),t.success?y.default.Instance.shareCallback():d.default.instance.setText(-1,"\u5206\u4eab\u5931\u8d25")})},C.prototype.hideWXOpen=function(){wx.getOpenDataContext().postMessage({type:"hideWXOpen"})},C.prototype.setTranscends=function(){var t=wx.getOpenDataContext();t.canvas.width=200,t.canvas.height=150,t.postMessage({type:"transcend",open:"0",width:200,height:150,score:0})},C.prototype.hideTranscends=function(){wx.getOpenDataContext().postMessage({type:"transcend",open:"1",width:200,height:150,score:0})},C.prototype.getChannelId=function(){return"0001049"},C.prototype.login=function(t,e){var n=this;wx.login({success:function(o){o.code?(console.log("\u83b7\u53d6code\u6210\u529f:",o),n.wxlogin(o.code,t,e)):(console.log("\u767b\u5f55\u5931\u8d25\uff01"+o.errMsg),e())},fail:function(t){console.log("\u83b7\u53d6code\u5931\u8d25:",t),e()}}),this.onShareMessageToFriend(),this.initShare(),this.RewardedAd(),this.InterstitialAd(),this.getBannerID()},C.prototype.wxlogin=function(t,e,n){var o=this;console.log("\u6b63\u5728\u8c03\u7528\u5fae\u4fe1\u767b\u5f55......"),m.default.login_wx(t,function(){console.log("\u5fae\u4fe1\u767b\u5f55\u6210\u529f"),o.onClickShare(function(){}),wx.uploadUserEvent(m.default.openId,0),o.loadData(function(){f.default.setWxScene(o.scene),e()},n)},function(){o.onClickShare(function(){}),console.log("\u5fae\u4fe1\u767b\u5f55\u5931\u8d25"),n()})},C.prototype.loadData=function(t,e){c.default.loadData(function(e){var n=e.ctime;f.default.serverTime=Date.parse(n.replace(/-/g,"/")),console.log("\u65f6\u95f4\u6233",f.default.serverTime),e.data?p.default.init(m.default.guid,JSON.parse(e.data),6e4):p.default.init(m.default.guid,{},6e4),t()},function(t){console.log("\u83b7\u53d6\u670d\u52a1\u5668\u5b58\u6863\u5931\u8d25",t),e()})},C.prototype.postReset=function(){wx.getOpenDataContext().postMessage({type:"postReset"})},C.prototype.showLoading=function(){wx.showLoading({title:"\u52a0\u8f7d\u4e2d",mask:!0})},C.prototype.hideLoading=function(){wx.hideLoading()},C.prototype.goOtherGame=function(){wx.navigateToMiniProgram({appId:"wx12b4fa0aca4d37c8"})},C.prototype.toOtherGame=function(t,e,n){console.log("\u4e92\u63a8:",t,e),wx.navigateToMiniProgram({appId:t,path:e}),this.SwTime=Date.now(),n&&(this.SwCallback=n)},C.prototype.recorderAd=function(){var t=this;null==this.recorder&&(this.recorder=wx.getGameRecorderManager(),this.recorder.onStop(function(e){t.recordvidoe=e.videoPath,cc.systemEvent.emit(h.EventConst.Recorder)}),this.recorder.onStart(function(){console.log("\u5f00\u59cb\u5f55\u5c4f"),cc.systemEvent.emit(h.EventConst.Recorder)}))},C.prototype.shareRecorder=function(t,e){wx.shareAppMessage({channel:"video",title:"\u6751\u53e3\u5c0f\u8521\u5409\u7684\u4fee\u4ed9\u4e4b\u8def",desc:"\u5f00\u5c40\u4e00\u53ea\u5e73\u5e95\u9505\uff0c\u4fee\u4ed9\u5168\u9760\u6536\u7834\u70c2",imageUrl:"",query:"",extra:{videoPath:this.recordvidoe,videoTopics:["\u6e21\u52ab\u6210\u4ed9","\u900d\u9065\u4ed9\u5251\u4f20"],createChallenge:!1},success:function(){t()},fail:function(){e()}})},C.prototype.recorderstart=function(){var t=this;console.log("\u5f00\u59cb\u5f55\u5c4f"),this.recorderTime=(new Date).getTime(),this.recorder.start({duration:300});var e=0;this.recordTime=setTimeout(function(){170<=++e&&(clearTimeout(t.recordTime),t.recorder.stop())},1e3,180)},C.prototype.recorderstop=function(){this.recordTime&&clearTimeout(this.recordTime),console.log("\u5f55\u5c4f\u7ed3\u675f"),this.recorder.stop(),((new Date).getTime()-this.recorderTime)/1e3<3?d.default.instance.setText(-1,"\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2\u3002"):y.default.Instance.ShowUI(v.default.ShareRecorder)},C.prototype.MoreGame=function(){wx.navigateToMiniProgram?wx.navigateToMiniProgram():wx.showModal({title:"\u63d0\u793a",content:"\u5f53\u524d\u5ba2\u6237\u7aef\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u8be5\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5ba2\u6237\u7aef\u6216\u5173\u95ed\u540e\u91cd\u542f\u66f4\u65b0\u3002"}),wx.onMoreGamesModalClose(function(t){console.log("modal closed",t)}),wx.onNavigateToMiniProgram(function(t){console.log(t.errCode),console.log(t.errMsg)}),"ios"!==wx.getSystemInfoSync().platform&&wx.showMoreGamesModal({appLaunchOptions:[],success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}})},C.prototype.AppBoxAd=function(){this.appbox=wx.createAppBox({adUnitId:"edbf5ffaec52961434526484cbe23a82"})},C.prototype.AppBoxShow=function(){var t=this;this.AppBoxAd(),this.appbox.load().then(function(){return t.appbox.show()})},C.prototype.saveApp=function(t,e){wx.saveAppToDesktop({success:function(){t()},fail:function(){e()},complete:function(){}})},C.prototype.PlatformCallBack=function(t,e,n,o){var a=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u5e7f\u544a\u6309\u94ae\u70b9\u51fb",pos:o}),f.default.isShowVideoAd&&(g.default.instance.bgm=!1,cc.audioEngine.pauseAll(),this.RewardedShow(function(){g.default.instance.bgm=!0,g.default.instance.playBGM(),a.sendEvent("videoaded",{message:"\u5e7f\u544a\u64ad\u653e\u6210\u529f",pos:o}),wx.uploadUserEvent(m.default.openId,1),e();var t=f.default.getLevel();60<t&&(t=10*Math.floor(t/10),a.sendEvent("levelvideo",{message:t}))},function(){g.default.instance.bgm=!0,g.default.instance.playBGM(),n()}))):"BANNER"==t?f.default.isShowBannerAd&&this.BannerShow():"BANNERCLOSE"==t?f.default.isShowBannerAd&&this.BannerHide():"INTER"==t&&f.default.isShowInterAd&&f.default.interTime<=0&&(f.default.interTime=30,this.InterstitialShow())},C.prototype.isHaveShare=function(){return!0},C.prototype.controlKey=function(){c.default.RequestHttpData("198","0001049",{success:function(t){var e=JSON.parse(t);if(console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",e),t=e.data.info.cishu,f.default.wxvideocount>=t&&f.default.setWXVideoCount(t),f.default.videocd=e.data.info.lingqiCD,f.default.isVideoCount=e.data.info.guanggaocishu,f.default.wxshareswitch=e.data.info.fenxiang,f.default.splashAdCount=e.data.info.chaping,e.data.info.wuchu&&(f.default.errortouch=e.data.info.wuchu),e.data.info.jindu&&(f.default.addprogress=e.data.info.jindu),e.data.info.cdk){for(var n=JSON.parse(e.data.info.cdk),o=0;o<n.length;o++)for(var a=n[o],i=0;i<f.default.wxcdk.length&&f.default.wxcdk[i].CDK!=a.cdk;i++)if(f.default.wxcdk[i].CDK!=a.cdk&&i==f.default.wxcdk.length-1){f.default.wxcdk.push({CDK:a.cdk,state:!1});break}f.default.CDKArray=n,f.default.setWXCDK(f.default.wxcdk)}},fail:function(t){t=JSON.parse(t),console.log("\u540e\u7aef\u8c03\u63a7\u5f00\u5173:",t)}},"1.0.0"),c.default.getOther("wxc2641f865cdde458",{success:function(t){var e=JSON.parse(t).data;console.log("\u4e92\u63a8\u83b7\u53d6\u6210\u529f:",e),f.default.othergame=[];for(var n=0;n<e.length;n++){var o=e[n];f.default.othergame.push({name:o.gameName,icon:o.gameUrl,appid:o.gameElect,path:o.gamePath})}},fail:function(t){console.log("\u4e92\u63a8\u83b7\u53d6\u5931\u8d25:",t)}})},C.prototype.getMenuButtonBottom=function(){return wx.getMenuButtonBoundingClientRect().bottom/cc.view.getFrameSize().height*cc.winSize.height},C.prototype.authorize=function(t,e,n){var o=this;wx.getSetting({success:function(a){a.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(t){t=t.userInfo,e({nickName:t.nickName,avatarUrl:t.avatarUrl})},fail:function(){n()}}):(a=s.default.cocosToWX(t),o.userinfo=wx.createUserInfoButton({type:"image",text:"",image:"authorize.png",style:{left:a.x,top:a.y,width:a.width,height:a.height,backgroundColor:"{255,255,255,0}",borderColor:"#ffffff",borderWidth:0,borderRadius:0,textAlign:"center",fontSize:0,lineHeight:0},withCredentials:!1}),o.userinfo.show(),o.userinfo.onTap(function(t){(t=t.userInfo)?(e({nickName:t.nickName,avatarUrl:t.avatarUrl}),o.closeUserInfo(),m.default.setUserInfo(t.nickName,t.avatarUrl,{success:function(t){console.log("setUserInfo"+t)},fail:function(t){console.log("setUserInfo error",t)}})):n()}))}})},C.prototype.closeUserInfo=function(){null!=this.userinfo&&this.userinfo.hide()},C.prototype.isHaveRank=function(){return!0},C.prototype.initShare=function(){for(var t=this,e=this,n=0;n<this.shareIds.length;n++)!function(n){var o=e.shareIds[n];m.default.getShare(o,function(e){e={title:e.title,imageUrl:e.img},t.shareParam[n]=e})}(n);wx.showShareMenu({menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage(function(){return t.shareParam[2]}),wx.onShareTimeline(function(){return t.shareParam[0]});var o=0;cc.game.on(cc.game.EVENT_HIDE,function(){o=Date.now()}),cc.game.on(cc.game.EVENT_SHOW,function(){t.shareSuccess&&(0!=o&&(3e3<Date.now()-o?t.shareSuccess():t.shareFail&&t.shareFail()),t.shareSuccess=null,t.shareFail=null),t.SwCallback&&(0!=o&&(3e4<Date.now()-o?t.SwCallback(!0):t.SwCallback(!1)),t.SwCallback=null),o=0})},C.prototype.shareFriend=function(t,e,n){void 0===t&&(t=0);var o={};m.default.openId&&(o={query:"sopenid="+m.default.openId+"&sid="+t}),Object.assign(o,this.shareParam[t]),wx.shareAppMessage(o),this.shareSuccess=e,this.shareFail=n},C.prototype.onClickShare=function(t){function e(e){switch(console.log("\u573a\u666f\u503c:",e),n.scene=e.scene,e.scene){case 1007:case 1008:case 1044:var o=e.query.sopenid,a=e.query.sid;o&&(t(a,o),m.default.clickShare(n.shareIds[a],o,{success:function(t){console.log("clickShare",t)},fail:function(t){console.log("clickShare",t)}}));break;case 1089:n.SwCallback&&(0!=n.SwTime&&(3e4<Date.now()-n.SwTime?n.SwCallback(!0):n.SwCallback(!1)),n.SwCallback=null),n.SwTime=0}}var n=this,o=wx.getLaunchOptionsSync();console.log("LaunchOption.scene...",o.scene),e(o),wx.onShow(function(t){console.log("onShow",t),e(t)})},C.prototype.getShareList=function(t,e){m.default.getShareList(this.shareIds[t],{success:function(t){console.log(t),e(t)},fail:function(t){console.log(t)}})},C.prototype.requestSubscribeMessage=function(t,e,n){t=this.allTmplIds[t],wx.requestSubscribeMessage({tmplIds:[t],success:function(t){console.log("\u8ba2\u9605\u6210\u529f(\u524d\u7aef)"),Object.keys(t).forEach(function(o){"accept"==t[o]&&m.default.subscribe(o,{success:function(t){console.log("\u8ba2\u9605\u6210\u529f(\u540e\u7aef)",o),e(t)},fail:function(e){console.log("\u8ba2\u9605\u5931\u8d25(\u540e\u7aef)",t.errMsg,t.errCode),n&&n(e)}})})},fail:function(t){console.log("\u8ba2\u9605\u5931\u8d25(\u524d\u7aef)",t.errMsg,t.errCode),n&&n(t.errCode)}})},C.prototype.getConfig=function(){m.default.getConfig({success:function(t){t=JSON.parse(t),f.default.splashAdCount=t.data.info.chaping,console.log("\u8bf7\u6c42\u6210\u529f:",t)},fail:function(t){t=JSON.parse(t),console.log("\u8bf7\u6c42\u5931\u8d25:",t)}})},C.prototype.showCustomAd=function(t){var e=null,n="";switch(t){case"one":e=s.default.cocosToWX(y.default.Instance.OneCustomNode),n=this.customID[1];break;case"more":e=s.default.cocosToWX(y.default.Instance.CustomNode),n=this.customID[0]}var o=wx.createCustomAd({adUnitId:n,style:{left:e.x,top:e.y,width:e.width,fixed:!0}});return o.onLoad(function(){console.log("customAd \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),o.show()}),o.onError(function(t){console.log("customAd load error",t),o.destroy()}),o.onClose(function(){o.destroy()}),o},C.prototype.getBannerID=function(){var t=this;c.default.getBannerID("wxc2641f865cdde458",{success:function(e){console.log("\u5e7f\u544a\u53c2\u6570\u8bf7\u6c42\u6210\u529f:",JSON.parse(e));var n=JSON.parse(e);if(n)for(var o=0;o<n.length;o++)"banner"==n[o].adUnitType&&t.bannerID.push(n[o].adUnitId);else t.bannerID.push("adunit-a60aaababe71c21b");console.log("\u5fae\u4fe1banner\u5e7f\u544a\u53c2\u6570:",t.bannerID)},fail:function(){console.log("\u5e7f\u544a\u53c2\u6570\u83b7\u53d6\u5931\u8d25,\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570"),t.bannerID.push("adunit-a60aaababe71c21b")}})},r=C,i.default=r,cc._RF.pop()},{}],WxOpenComponent:[function(t,e,n){"use strict";cc._RF.push(e,"c68cd+zWdFFg48OdyFzQAIw","WxOpenComponent");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0});var c,s=cc._decorator,u=s.ccclass;function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.autoUpdate=!0,t.updateDelay=0,t}a=s.property,s.requireComponent,r(p,c=cc.Component),p.prototype.onLoad=function(){this.wxsubContextView=this.getComponent(cc.SubContextView),this.autoUpdate||(this.wxsubContextView.getComponent(cc.SubContextView).enabled=!1)},p.prototype.onEnable=function(){var t,e=this;cc.sys.platform==cc.sys.WECHAT_GAME&&((t=wx.getOpenDataContext()).canvas.width=this.node.width,t.canvas.height=this.node.height,this.wxsubContextView.reset(),console.log("\u4e3b\u57df:",this.node.width,this.node.height),this.autoUpdate||setTimeout(function(){e.node.active&&e.wxsubContextView.update()},this.updateDelay))},l([a({tooltip:"\u662f\u5426\u81ea\u52a8\u5237\u65b0\u5f00\u653e\u57df"})],p.prototype,"autoUpdate",void 0),l([a({tooltip:"\u5237\u65b0\u5ef6\u65f6\uff08\u6beb\u79d2,\u81ea\u52a8\u5237\u65b0\u5173\u95ed\u65f6\u6709\u6548\uff09"})],p.prototype,"updateDelay",void 0),u=l([u],p),i.default=u,cc._RF.pop()},{}],WxShareSwitch:[function(t,e,n){"use strict";cc._RF.push(e,"12929f8PrZH65FOX4xSYWRM","WxShareSwitch");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.onEnable=function(){var t=this.node.getChildByName("share"),e=this.node.getChildByName("video");t.active=!1,e.active=!0},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],Yehuo:[function(t,e,n){"use strict";cc._RF.push(e,"0d6daHDm5FG2rrT+QdxxfZU","Yehuo");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.label=null,t.text="hello",t}r(u,c=cc.Component),u.prototype.start=function(){},l([s(cc.Label)],u.prototype,"label",void 0),l([s],u.prototype,"text",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],ZorderControl:[function(t,e,n){"use strict";cc._RF.push(e,"021bbdwehBIwrzO7gklpw8f","ZorderControl");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.update=function(){this.node.zIndex=-this.node.y},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],adLevelManager:[function(t,e,n){"use strict";cc._RF.push(e,"a59aa0LazFP47ck/TANsn6s","adLevelManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("adLevel"),d=i("GameSys"),h=i("GameTools"),y=i("SingleBase");function v(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(v,u=y.default),(p=v).prototype.onLoad=function(){p.Instance=this},v.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=h.default.GetRes("JsonBundle","Jsons/adLevel",cc.JsonAsset))?[3,2]:[4,h.default.loadJson("JsonBundle","Jsons/adLevel")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).ADreward=a.ADreward,i.level=a.level,i.rangeMax=a.rangeMax,i.downReward=a.downReward,i.id=a.id,i.rangeMix=a.rangeMix,this.allDataList.push(i);return[2]}})})},v.prototype.getAdReward=function(){for(var t=d.default.getLevel(),e=0;e<this.allDataList.length;e++){var n=this.allDataList[e];if(t>=n.rangeMix&&t<=n.rangeMax)return n.ADreward}},v.prototype.getOffLineReward=function(){for(var t=d.default.getLevel(),e=0;e<this.allDataList.length;e++){var n=this.allDataList[e];if(t>=n.rangeMix&&t<=n.rangeMax)return n.downReward}},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],v),r.default=i,cc._RF.pop()},{}],adLevel:[function(t,e,n){"use strict";cc._RF.push(e,"2b460DuMeJG4oXAfb3roq3F","adLevel");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){},cc._RF.pop()},{}],adapters:[function(t,e,n){"use strict";cc._RF.push(e,"c8e3dAqr/RJ4Yfr2eyyfRwx","adapters");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.minpos=0,t.maxpos=0,t}r(u,c=cc.Component),u.prototype.onLoad=function(){var t=cc.winSize.width,e=cc.winSize.height;console.log("\u673a\u578b\uff1a"+t,e),this.node.getComponent(cc.Widget).top=e<=1334?this.minpos:this.maxpos},u.prototype.start=function(){},l([s({type:cc.Float,displayName:"\u77ed\u5c4f"})],u.prototype,"minpos",void 0),l([s({type:cc.Float,displayName:"\u957f\u5c4f"})],u.prototype,"maxpos",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],addColorSign:[function(t,e,n){"use strict";cc._RF.push(e,"6e2ba5jBRVDOJ198QZLFQM1","addColorSign");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("GameTools"),v=a("TipGroup"),g=a("UIBase"),m=a("UIManager");function b(){var t=null!==p&&p.apply(this,arguments)||this;return t.Coin=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,p=g.default),b.prototype.start=function(){},b.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return p.prototype.onEnable.call(this),h.default.addTime=60,[4,f.default.Instance.GetOutPut()];case 1:return t=2400*e.sent(),this.Coin.string="\xd7"+y.default.refSetCoin(t),[2]}})})},b.prototype.ClickGet=function(){var t=this;d.default.instance.play(d.Sound.Click),this.CloseThis(),h.default.getaddColorSign()?v.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"):y.default.getSdk().addColorSign(function(){return s(t,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,f.default.Instance.GetOutPut()];case 1:return t=2400*e.sent(),m.default.Instance.ChangeCoin(t),h.default.setaddColorSign(),[2]}})})},function(){v.default.instance.setText(-1,"\u6dfb\u52a0\u5931\u8d25")})},b.prototype.Clickoff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis()},b.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],b.prototype,"Coin",void 0),a=c([a],b),r.default=a,cc._RF.pop()},{}],awardShow:[function(t,e,n){"use strict";cc._RF.push(e,"ed6cdH4glNDsoEaA3IEtbM2","awardShow");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.startpos=null,t}r(u,c=cc.Component),u.prototype.onEnable=function(){var t=this;this.node.scale=0,this.node.stopAllActions(),0==this.startpos.x&&0==this.startpos.y||this.node.setPosition(this.startpos),cc.tween(this.node).call(function(){t.node.scale=0,t.node.opacity=0}).to(.3,{scale:1.5,opacity:255}).by(.3,{y:-100,scale:-.5},{easing:"backOut"}).start()},u.prototype.start=function(){},l([s({displayName:"\u539f\u59cb\u5750\u6807"})],u.prototype,"startpos",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],bgline:[function(t,e,n){"use strict";cc._RF.push(e,"5dc77/r8ZZAX6T38nnakMhy","bgline");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.onLoad=function(){var t=cc.tween(this.node).by(6,{angle:360}),e=cc.tween(this.node).to(2,{opacity:50}).to(2,{opacity:255});cc.tween(this.node).repeatForever(t).start(),cc.tween(this.node).repeatForever(e).start()},s.prototype.start=function(){},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],breathe:[function(t,e,n){"use strict";cc._RF.push(e,"b501b550f9NorPaCZ+3D+i7","breathe");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.onLoad=function(){var t=cc.tween(this.node).to(.6,{scale:1.2}).to(.6,{scale:.8});cc.tween(this.node).repeatForever(t).start()},s.prototype.start=function(){},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],bullet:[function(t,e,n){"use strict";cc._RF.push(e,"f354c5ZDD1FC6bTaIgpebU/","bullet");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("GameSys"),u=i("GameFight");function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.id=3,t.master=null,t.callbak=null,t.end=!0,t.open=0,t.target=null,t}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.init=function(t,e,n,o,a){this.Sp.setAnimation(0,"atkB"+e+"_bullet",!0),this.id=e,this.open=.3*t,this.callbak=null,this.master=n,this.callbak=a,this.end=!1,this.target=o},p.prototype.onLoad=function(){this.Sp=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},p.prototype.start=function(){},p.prototype.update=function(t){var e,n,o,a,i=this;if(!this.end)return u.default.instance.state!=u.FightState.ready&&this.target&&this.target.node?void(0<this.open?this.open-=t*s.default.speed:(o=this.node.getPosition(),n=this.target.node.getPosition(),e=o.sub(n).mag(),n=(o=cc.v2(o.sub(n)).signAngle(cc.v2(1,0)))/Math.PI*180,this.node.angle=-n,(o=cc.v2(-Math.cos(o),Math.sin(o))).normalizeSelf(),50<e?(this.node.x+=t*o.x*s.default.speed*1200,this.node.y+=t*o.y*s.default.speed*1200):(this.end=!0,u.default.instance.state==u.FightState.ready||this.callbak(),a="atkB"+this.id+"_hit",this.Sp.setAnimation(0,a,!1),this.Sp.setCompleteListener(function(){i.Sp.animation==a&&s.default.buttet.restor(i.node)})))):(this.end=!0,void s.default.buttet.restor(this.node))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],clickAni:[function(t,e,n){"use strict";cc._RF.push(e,"4132aa7xGpH4Ia69XXsz0hd","clickAni");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.start=function(){},s.prototype.Click=function(){var t=this.node.getComponent(cc.Button);t.enabled=!1,cc.tween(this.node).delay(.5).call(function(){t.enabled=!0}).start()},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],discipleItem:[function(t,e,n){"use strict";cc._RF.push(e,"a198bxLeZZCjbu3SZx6pA7A","discipleItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("OnHook"),d=a("DiscipleDataManager"),h=a("DisciplerankUpDataManager"),y=a("EquipDataManager"),v=a("HeroDataManager"),g=a("PropDataManager"),m=a("SoundManager"),b=a("StoryDataManager"),C=a("UpTalkManager"),S=a("GameSys"),w=a("EventConst"),k=a("GameTools"),_=a("DetailsPanel"),P=a("PanelConst"),O=a("TipGroup"),I=a("UIManager"),R=a("UnlockDisciple");function x(){var t=null!==p&&p.apply(this,arguments)||this;return t.MaxBtn=null,t.QiPao=null,t.Rank=null,t.RankIcon=null,t.banner=null,t.bubble=null,t.bubbleLabel=null,t.Content=null,t.discipleName=null,t.info=null,t.fightNum=null,t.level=null,t.upBtn=null,t.upCoin=null,t.unlockBtn=null,t.unlockCoin=null,t.icon=null,t.redpos=null,t.type1=null,t.type2=null,t.wild=null,t.index=0,t.curpanel=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(x,p=cc.Component),x.prototype.onLoad=function(){},x.prototype.init=function(t,e){this.index=t,this.curpanel=e,this.initMessage()},x.prototype.initMessage=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l,c,s,p,f,y,v,m,C,w;return u(this,function(u){switch(u.label){case 0:return[4,d.default.Instance.GetRole(this.index)];case 1:return t=u.sent(),e=S.default.getDisciple()[this.index],[4,d.default.Instance.GetFightNum(this.index)];case 2:return i=u.sent(),this.fightNum.string="\u6218\u529b:"+k.default.refSetCoin(i),this.level.string=t.realm,[4,d.default.Instance.GetIsUnlock(this.index)];case 3:return n=u.sent(),o=S.default.getCoin(),this.upBtn.active=n&&e.level<200,this.MaxBtn.active=200<=e.level,r=d.default.Instance.GetUpCoin(this.index),this.upCoin.string=k.default.refSetCoin(r),r<=o?k.default.ResetGrayAllNode(this.upBtn):k.default.SetGrayAllNode(this.upBtn),this.Rank.string="+"+S.default.getDiscipleRank()[this.index],a=b.default.Instance.GetStory(this.index+1),i="Head/"+a.paint,(r=k.default.GetRes("SpriteBundle2",i,cc.SpriteFrame))?[3,5]:[4,k.default.loadImage("SpriteBundle2",i)];case 4:r=u.sent(),u.label=5;case 5:return this.icon.spriteFrame=r,this.discipleName.string=a.name,l=d.default.Instance.IsCanUnlock(this.index+1),this.unlockBtn.active=!(n||!l),this.info.node.active=!n&&!l,[4,d.default.Instance.GetUnlockCoin(this.index)];case 6:for(m=u.sent(),this.unlockCoin.string=k.default.refSetCoin(m),m<=o?k.default.ResetGrayAllNode(this.unlockBtn):k.default.SetGrayAllNode(this.unlockBtn),c=b.default.Instance.UnlockOrder(),this.info.string=""+a.unlockDocument,s=0;s<c.length;s++)c[s]==a.unlock&&this.node.setSiblingIndex(s);for(this.type1.string=this.index%2==0?"\u8fd1\u6218":"\u8fdc\u7a0b",w=["\u8f93\u51fa","\u8f93\u51fa","\u8089\u76fe","\u6cbb\u7597"],this.type2.string=w[this.index],n||l?(this.Content.active=!0,this.icon.node.color=cc.color().fromHEX("#FFFFFF"),this.node.getChildByName("banner").color=cc.color().fromHEX("#FFFFFF"),this.wild.active=!1):(this.Content.active=!1,this.discipleName.string="??????",this.icon.node.color=cc.color().fromHEX("#000000"),this.node.getChildByName("banner").color=cc.color().fromHEX("#9D9D9D"),this.wild.active=!0),p=[2,4,6,8,10],f=S.default.getDiscipleRank()[this.index],v=y=0;v<p.length;v++)if(f<=p[v]){y=v;break}return C="PropIcon/rank"+y,(m=k.default.GetRes("Bundle",C,cc.SpriteFrame))?[3,8]:[4,k.default.loadImage("Bundle",C)];case 7:m=u.sent(),u.label=8;case 8:return this.RankIcon.spriteFrame=m,this.RankIcon.node.active=0!=f,!n||10<=f?this.QiPao.active=!1:(w=g.default.Instance.getDiscipleRank(this.index+1),C=g.default.Instance.GetPackProp(w.id),w=h.default.Instance.getDiscipleRank(this.index+1),C.have>=w.needChips?this.QiPao.active=!0:this.QiPao.active=!1),[2]}})})},x.prototype.ClickUnlock=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(o){switch(o.label){case 0:return m.default.instance.play(m.Sound.Click),t=S.default.getCoin(),[4,d.default.Instance.GetUnlockCoin(this.index)];case 1:return e=o.sent(),t<e?(O.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,I.default.Instance.ShowUI(P.default.FreeCoin)]):[3,2];case 2:return b.default.Instance.IsCanUnlock(this.index+1)?(this.ShowSp(),n=S.default.getDisciple(),I.default.Instance.ChangeCoin(-e),n[this.index].unlock=!0,n[this.index].state=!0,S.default.setDisciple(n),m.default.instance.play(m.Sound.PlayUp),this.initMessage(),[4,I.default.Instance.ShowUI(P.default.UnlockDisciple)]):(n=b.default.Instance.GetStory(this.index+1),O.default.instance.setText(-1,n.unlockDocument),[2]);case 3:o.sent(),I.default.Instance.GetClass(P.default.UnlockDisciple).node.getComponent(R.default).init(this.index),3==this.index&&2==f.default.instance.teacherid?this.curpanel.ShowTeacher(1):(f.default.instance.teacherid=0,this.curpanel.HideTeacher()),o.label=4;case 4:return[2]}})})},x.prototype.ClickUp=function(){return s(this,void 0,void 0,function(){var t,e,n,o=this;return u(this,function(a){switch(a.label){case 0:return m.default.instance.play(m.Sound.Click),this.curpanel.HideTeacher(),f.default.instance.teacherid=0,n=S.default.getCoin(),t=d.default.Instance.GetUpCoin(this.index),n<t?(O.default.instance.setText(-1,"\u7075\u6c14\u4e0d\u8db3"),[2,I.default.Instance.ShowUI(P.default.FreeCoin)]):[3,1];case 1:return 200<=(e=S.default.getDisciple())[this.index].level?(O.default.instance.setText(-1,"\u5df2\u6ee1\u7ea7"),[2]):[4,v.default.Instance.GetMaxFight()];case 2:n=a.sent(),this.ShowSp(),I.default.Instance.ChangeCoin(-t),e[this.index].level+=1,S.default.setDisciple(e),this.initMessage(),f.default.instance.MaxFightChange(n),m.default.instance.play(m.Sound.PlayUp),this.bubble.stopAllActions(),this.bubble.active=!0,cc.tween(this.bubble).call(function(){o.bubbleLabel.string=""+C.default.Instance.GetTalk(o.index)}).delay(2).call(function(){o.bubble.active=!1}).start(),a.label=3;case 3:return[2]}})})},x.prototype.ClickThis=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,d.default.Instance.GetIsUnlock(this.index)];case 1:return t=n.sent(),e=d.default.Instance.IsCanUnlock(this.index+1),t||e?(m.default.instance.play(m.Sound.Click),[4,I.default.Instance.ShowUI(P.default.DETAILS_PANEL)]):[2];case 2:return n.sent(),I.default.Instance.GetClass(P.default.DETAILS_PANEL).getComponent(_.default).init(this.index),3==this.index&&2==f.default.instance.teacherid&&this.curpanel.HideTeacher(),[2]}})})},x.prototype.start=function(){var t=this;cc.systemEvent.on(w.EventConst.Coin,this.initMessage,this),cc.director.getScheduler().schedule(function(){t.red()},this,1)},x.prototype.red=function(){return s(this,void 0,void 0,function(){var t,e,n,o,a,i,r,l;return u(this,function(c){switch(c.label){case 0:return t=!1,[4,d.default.Instance.GetIsUnlock(this.index)];case 1:return c.sent()?[3,2]:(this.redpos.active=!1,[3,8]);case 2:for(o=0;o<4;o++)if(e=!!y.default.Instance.isHaveCanOn(this.index+1,o)){t=e;break}n=S.default.getCoin(),o=1,c.label=3;case 3:return o<4?d.default.Instance.IsUnlockSkill(this.index,o)?[4,d.default.Instance.GetRole(this.index)]:[3,5]:[3,7];case 4:switch(a=c.sent(),i=!1,r=0,o){case 1:r=S.default.getDisciple()[this.index].skill1,i=n>=a.skill1coin&&r<200;break;case 2:r=S.default.getDisciple()[this.index].skill2,i=n>=a.skill2coin&&r<200;break;case 3:r=S.default.getDisciple()[this.index].skill3,i=n>=a.skill3coin&&r<200}return i&&(t=i),[3,6];case 5:(l=d.default.Instance.IsCanUnlockSkill(this.index,o))&&(t=l),c.label=6;case 6:return o++,[3,3];case 7:this.redpos.active=t,c.label=8;case 8:return[2]}})})},x.prototype.ShowSp=function(){var t=this;this.banner.stopAllActions(),cc.tween(this.banner).call(function(){t.banner.active=!0,t.banner.opacity=255}).to(.3,{opacity:0}).call(function(){t.banner.active=!1}).start()},c([i(cc.Node)],x.prototype,"MaxBtn",void 0),c([i(cc.Node)],x.prototype,"QiPao",void 0),c([i(cc.Label)],x.prototype,"Rank",void 0),c([i(cc.Sprite)],x.prototype,"RankIcon",void 0),c([i(cc.Node)],x.prototype,"banner",void 0),c([i(cc.Node)],x.prototype,"bubble",void 0),c([i(cc.Label)],x.prototype,"bubbleLabel",void 0),c([i(cc.Node)],x.prototype,"Content",void 0),c([i(cc.Label)],x.prototype,"discipleName",void 0),c([i(cc.Label)],x.prototype,"info",void 0),c([i(cc.Label)],x.prototype,"fightNum",void 0),c([i(cc.Label)],x.prototype,"level",void 0),c([i(cc.Node)],x.prototype,"upBtn",void 0),c([i(cc.Label)],x.prototype,"upCoin",void 0),c([i(cc.Node)],x.prototype,"unlockBtn",void 0),c([i(cc.Label)],x.prototype,"unlockCoin",void 0),c([i(cc.Sprite)],x.prototype,"icon",void 0),c([i(cc.Node)],x.prototype,"redpos",void 0),c([i(cc.Label)],x.prototype,"type1",void 0),c([i(cc.Label)],x.prototype,"type2",void 0),c([i(cc.Node)],x.prototype,"wild",void 0),a=c([a],x),r.default=a,cc._RF.pop()},{}],egg:[function(t,e,n){"use strict";cc._RF.push(e,"41fd1m3X5lLvKO/rU9Lb4nR","egg");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropDataManager"),d=a("GameSys"),h=a("EggPanel"),y=a("PanelConst"),v=a("UIManager");function g(){var t=null!==p&&p.apply(this,arguments)||this;return t.index=0,t.type=[],t.num=[],t.needCount=0,t.interval=.3,t.count=0,t.isCanClick=!0,t}a=(i=cc._decorator).ccclass,i=i.property,l(g,p=cc.Component),g.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){var e;t.isCanClick&&(t.isCanClick=!1,cc.tween(t.node).delay(t.interval).call(function(){t.isCanClick=!0}).start(),t.count++,t.count>=t.needCount)&&((e=d.default.getCDK()).length<=0||-1==e.indexOf(t.index))&&t.GetReward()})},g.prototype.GetReward=function(){return s(this,void 0,void 0,function(){var t,e,n,o=this;return u(this,function(a){switch(a.label){case 0:for(t=[],e=0;e<this.type.length;e++)n=127==this.type[e]?f.default.Instance.GetCoinProp():128==this.type[e]?f.default.Instance.GetJewelProp():f.default.Instance.GetProp(this.type[e]),t.push({prop:n,have:this.num[e]});return[4,v.default.Instance.ShowUI(y.default.EggPanel)];case 1:return a.sent(),v.default.Instance.GetClass(y.default.EggPanel).getComponent(h.default).initAsset(t,function(){d.default.setCDK(o.index)}),[2]}})})},c([i({displayName:"\u5f69\u86cb"})],g.prototype,"index",void 0),c([i({displayName:"\u5956\u52b1\u7c7b\u578b",type:cc.Float})],g.prototype,"type",void 0),c([i({displayName:"\u5956\u52b1\u503c",type:cc.Float})],g.prototype,"num",void 0),c([i({displayName:"\u70b9\u51fb\u89e6\u53d1\u6b21\u6570"})],g.prototype,"needCount",void 0),c([i({displayName:"\u70b9\u51fb\u95f4\u9694"})],g.prototype,"interval",void 0),a=c([a],g),r.default=a,cc._RF.pop()},{}],elixir:[function(t,e,n){"use strict";cc._RF.push(e,"12788d/V81OqYn9X7xC6xhL","elixir");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){var t=null!==l&&l.apply(this,arguments)||this;return t.index=0,t}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.init=function(t,e){this.index=t,this.AlchemyPanel=e},s.prototype.onLoad=function(){},s.prototype.start=function(){},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],equipitem:[function(t,e,n){"use strict";cc._RF.push(e,"d0c4d+PsndNm4cOO+dpx32j","equipitem");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("OnHook"),f=i("PropDataManager"),d=i("SoundManager"),h=i("EventConst"),y=i("GameTools"),v=i("TipGroup");function g(){var t=null!==u&&u.apply(this,arguments)||this;return t.frame=null,t.icon=null,t.namelabel=null,t.have=null,t.packdata=null,t.curpanel=null,t}i=(a=cc._decorator).ccclass,a.property,l(g,u=cc.Component),g.prototype.onLoad=function(){this.frame=this.node.getChildByName("frame").getComponent(cc.Sprite),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.namelabel=this.node.getChildByName("name").getComponent(cc.Label),this.have=this.node.getChildByName("have").getComponent(cc.Label),this.onhead=this.node.getChildByName("on-head").getComponent(cc.Sprite)},g.prototype.start=function(){},g.prototype.init=function(t,e){return c(this,void 0,void 0,function(){var n,o,a,i,r;return s(this,function(l){switch(l.label){case 0:return this.curpanel=e,this.packdata=t,this.packdata.prop.isOn?(this.onhead.node.active=!0,n=0==this.packdata.prop.userid?"TeamHead/hero_fight_avatar":"TeamHead/hero_fight_avatar_"+this.packdata.prop.userid,(o=y.default.GetRes("SpriteBundle1",n,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("SpriteBundle1",n)]):[3,3];case 1:o=l.sent(),l.label=2;case 2:return this.onhead.spriteFrame=o,[3,4];case 3:this.onhead.node.active=!1,l.label=4;case 4:return this.namelabel.string=""+this.packdata.prop.name,this.namelabel.node.color=cc.color().fromHEX(f.default.Instance.GetLevelColor(this.packdata.prop.frame)),this.have.string="\xd7"+this.packdata.have,i="PropFrame/"+this.packdata.prop.frame,(a=y.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,6]:[4,y.default.loadImage("Bundle",i)];case 5:a=l.sent(),l.label=6;case 6:return this.frame.spriteFrame=a,i="PropIcon/"+this.packdata.prop.icon,(r=y.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,8]:[4,y.default.loadImage("Bundle",i)];case 7:r=l.sent(),l.label=8;case 8:return this.icon.spriteFrame=r,[2]}})})},g.prototype.ShowType=function(t){switch(t){case 0:this.node.active=!0;break;case 1:this.node.active=2==this.packdata.prop.type;break;case 2:this.node.active=1==this.packdata.prop.type;break;case 3:this.node.active=0==this.packdata.prop.type}},g.prototype.Clickitem=function(){d.default.instance.play(d.Sound.Click),"frameLevel_7"==this.packdata.prop.frame?v.default.instance.setText(-1,"\u5df2\u8fbe\u5230\u6700\u5927\u54c1\u7ea7"):(this.curpanel.ExtractProp(this.packdata),9==p.default.instance.teacherid&&cc.systemEvent.emit(h.EventConst.itemintensify))},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],g),r.default=i,cc._RF.pop()},{}],fightTxt:[function(t,e,n){"use strict";cc._RF.push(e,"fdb3942TGpNmIIT4v2EwdFO","fightTxt");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.txtlabel=null,t.banner=null,t.die=null,t.suo=null,t.Sp=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.setText=function(t,e,n){var o=this;switch(this.Sp.node.active=!1,this.suo.active=!1,t){case 0:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#DC3232");break;case 1:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#FFFFFF");break;case 2:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#77EC4F");break;case 3:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#BF69F6");break;case 4:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#FFE671");break;case 5:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#00fbff");break;case 6:this.banner.active=!1,this.Sp.node.active=!0,this.Sp.setAnimation(0,"eff_skill_di",!1),this.txtlabel.node.color=cc.color().fromHEX("#FFFFFF");break;case 7:this.banner.active=!1,this.Sp.node.active=!0,this.Sp.setAnimation(0,"eff_Sskill_di",!1),this.txtlabel.node.color=cc.color().fromHEX("#FFFFFF");break;case 9:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#DE57D6");break;case 10:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#DC3232")}8==t||99==t?(this.txtlabel.node.active=!1,this.banner.active=!1,this.die.active=8==t,this.suo.active=8!=t,this.node.setPosition(n.getPosition().x,n.getPosition().y),this.node.opacity=0,(8==t?cc.tween(this.node).to(0,{scale:1.5}).to(.3,{scale:1,opacity:255}).delay(.5):cc.tween(this.node).to(.3,{scale:1,opacity:255}).delay(1.5)).to(.3,{opacity:0}).call(function(){u.default.fightTxt.restor(o.node)}).start()):(this.die.active=!1,this.txtlabel.node.active=!0,this.node.setPosition(n.getPosition().x,n.getPosition().y+30),this.txtlabel.string=""+e,this.node.opacity=255,this.node.scale=1,0==t?(cc.tween(this.node).to(0,{scale:0}).to(.3,{scale:1.5},{easing:"backOut"}).start(),cc.tween(this.node).by(1,{y:100}).call(function(){u.default.fightTxt.restor(o.node)}).start()):6==t?(this.node.setPosition(n.getPosition().x,n.getPosition().y+50),cc.tween(this.node).to(0,{scale:.1}).to(.06,{scale:1.2}).to(.08,{scale:1.1}).start(),cc.tween(this.node).delay(.66).by(.8,{y:100}).call(function(){u.default.fightTxt.restor(o.node)}).start()):7==t?(this.node.setPosition(n.getPosition().x,n.getPosition().y+50),cc.tween(this.node).to(0,{scale:.1}).to(.06,{scale:1.3}).to(.08,{scale:1.1}).start(),cc.tween(this.node).delay(.66).by(.8,{y:100}).call(function(){u.default.fightTxt.restor(o.node)}).start()):(cc.tween(this.node).by(1,{y:100}).call(function(){u.default.fightTxt.restor(o.node)}).start(),cc.tween(this.node).delay(.7).to(.3,{opacity:0}).start()))},p.prototype.start=function(){},c([i(cc.Label)],p.prototype,"txtlabel",void 0),c([i(cc.Node)],p.prototype,"banner",void 0),c([i(cc.Node)],p.prototype,"die",void 0),c([i(cc.Node)],p.prototype,"suo",void 0),c([i(sp.Skeleton)],p.prototype,"Sp",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],guideSp:[function(t,e,n){"use strict";cc._RF.push(e,"8b5a37hgaVF3q47ZrhA01D6","guideSp");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.label=null,t}r(u,c=cc.Component),u.prototype.onLoad=function(){},u.prototype.onEnable=function(){var t=this;this.node.stopAllActions(),cc.tween(this.node).delay(2).call(function(){t.node.active=!1}).start()},u.prototype.start=function(){},l([s(cc.Label)],u.prototype,"label",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],isShare:[function(t,e,n){"use strict";cc._RF.push(e,"887b0AqjodO8qMjIvEHhml3","isShare");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0});var c,s=i("SoundManager"),u=i("GameTools");function p(){return null!==c&&c.apply(this,arguments)||this}i=(a=cc._decorator).ccclass,a.property,l(p,c=cc.Component),p.prototype.onLoad=function(){this.node.active=u.default.getSdk().isHaveShare()},p.prototype.ClickShare=function(){s.default.instance.play(s.Sound.Click),u.default.getSdk().shareFriend(2)},p.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],p),r.default=i,cc._RF.pop()},{}],labelAni:[function(t,e,n){"use strict";cc._RF.push(e,"3dbb4iuyvdDmrkiu+6dp7ZC","labelAni");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(i,"__esModule",{value:!0}),a=(s=cc._decorator).ccclass;var c,s=s.property;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.txt=null,t.str=["\u7fe0\u82b1\u6b63\u5728\u51c6\u5907\u9178\u83dc","\u5c0f\u83dc\u9e21\u6b63\u5728\u6574\u7406\u7834\u70c2","\u5c0f\u9a6c\u54e5\u6b63\u51c6\u5907\u7814\u4e60\u6b66\u5fb7","\u7504\u4e0d\u9519\u6b63\u5728\u6234\u5927\u91d1\u94fe\u5b50\uff0c\u5927\u58a8\u955c","\u6ed1\u5c0f\u7a3d\u6b63\u5728\u79cd\u690d\u6ed1\u7a3d\u679c"],t}r(u,c=cc.Component),u.prototype.onLoad=function(){var t=this,e=0,n=cc.tween(this.node).call(function(){t.txt.string=t.str[e],++e>=t.str.length&&(e=0)}).delay(1.5);cc.tween(this.node).repeatForever(n).start()},u.prototype.start=function(){},u.prototype.update=function(){},l([s(cc.Label)],u.prototype,"txt",void 0),a=l([a],u),i.default=a,cc._RF.pop()},{}],levelDropManager:[function(t,e,n){"use strict";cc._RF.push(e,"16c664nnyRKUqwa8YTZwvpC","levelDropManager");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p,f=i("levelDrop"),d=i("GameTools"),h=i("SingleBase");function y(){var t=null!==u&&u.apply(this,arguments)||this;return t.allDataList=new Array,t}i=(a=cc._decorator).ccclass,a.property,l(y,u=h.default),(p=y).prototype.onLoad=function(){p.Instance=this},y.prototype.Init=function(){return c(this,void 0,void 0,function(){var t,e,n,o,a,i;return s(this,function(r){switch(r.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","Jsons/levelDrop",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","Jsons/levelDrop")];case 1:return e=r.sent(),[3,3];case 2:e=t.json,r.label=3;case 3:for(n=e.length,o=0;o<n;o++)a=e[o],(i=new f.default).id=a.id,i.mapName=a.mapName,i.map=a.map,i.rewardId=a.rewardId,this.allDataList.push(i);return[2]}})})},y.prototype.getScene=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].map==t&&e.push(this.allDataList[n]);return e},i=p=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],y),r.default=i,cc._RF.pop()},{}],levelDrop:[function(t,e,n){"use strict";cc._RF.push(e,"67aceKOW/tD9pm6+dANzx5B","levelDrop");var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){},cc._RF.pop()},{}],qqActivity:[function(t,e,n){"use strict";cc._RF.push(e,"cde4cIC0PFKn5nSejDyFqD4","qqActivity");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("SoundManager"),p=a("GameSys"),f=a("PanelConst"),d=a("UIBase"),h=a("UIManager");function y(){var t=null!==s&&s.apply(this,arguments)||this;return t.saveDesktopBtnRed=null,t.addColorSignBtnRed=null,t.subCribeMsgBtnRed=null,t.addMyBtnRed=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(y,s=d.default),y.prototype.onEnable=function(){s.prototype.onEnable.call(this),p.default.getSaveToDesktip()?this.saveDesktopBtnRed.active=!1:this.saveDesktopBtnRed.active=!0,p.default.getaddColorSign()?this.addColorSignBtnRed.active=!1:this.addColorSignBtnRed.active=!0,p.default.getSubscribemsg()?this.subCribeMsgBtnRed.active=!1:this.subCribeMsgBtnRed.active=!0,p.default.getAddMy()?this.addMyBtnRed.active=!1:this.addMyBtnRed.active=!0},y.prototype.start=function(){},y.prototype.ClickSaveDesktop=function(){u.default.instance.play(u.Sound.Click),h.default.Instance.ShowUI(f.default.qqsaveAppToDesktop),this.CloseThis()},y.prototype.ClickAddColorSign=function(){u.default.instance.play(u.Sound.Click),h.default.Instance.ShowUI(f.default.qqaddColorSign),this.CloseThis()},y.prototype.ClickSubScribeMsg=function(){u.default.instance.play(u.Sound.Click),h.default.Instance.ShowUI(f.default.qqsubScribeMsg),this.CloseThis()},y.prototype.ClickAddMy=function(){u.default.instance.play(u.Sound.Click),h.default.Instance.ShowUI(f.default.qqaddMy),this.CloseThis()},y.prototype.ClickoneceSubscribeMsg=function(){u.default.instance.play(u.Sound.Click),h.default.Instance.ShowUI(f.default.OnceSubScribeMsg)},y.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},y.prototype.CloseThis=function(){s.prototype.CloseThis.call(this)},c([i(cc.Node)],y.prototype,"saveDesktopBtnRed",void 0),c([i(cc.Node)],y.prototype,"addColorSignBtnRed",void 0),c([i(cc.Node)],y.prototype,"subCribeMsgBtnRed",void 0),c([i(cc.Node)],y.prototype,"addMyBtnRed",void 0),a=c([a],y),r.default=a,cc._RF.pop()},{}],qqShow:[function(t,e,n){"use strict";cc._RF.push(e,"a5d69ktJL1D1a20GNz9rSTn","qqShow");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.SysName="",t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.onLoad=function(){"QQ"==u.default.channel?(this.node.active=!0,console.log("\u529f\u80fd\u540d\u79f0:",this.SysName,"\u7ea2\u5305\u6d3b\u52a8\u65f6\u95f4:",u.default.sevenday),"\u4e03\u65e5\u6d3b\u52a8"==this.SysName&&(7<u.default.sevenday?this.node.active=!1:this.node.active=!0)):this.node.active=!1},p.prototype.update=function(){},c([i({displayName:"\u529f\u80fd\u540d\u79f0"})],p.prototype,"SysName",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],qqaddColorSign:[function(t,e,n){"use strict";cc._RF.push(e,"72b07BqkUNIjqgJr5CqGi/y","qqaddColorSign");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("PanelConst"),m=a("RewardPanel"),b=a("TipGroup"),C=a("UIBase"),S=a("UIManager");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.coinlable=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=C.default),w.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return p.prototype.onEnable.call(this),[4,f.default.Instance.GetOutPut()];case 1:return t=2400*e.sent(),this.coinlable.string="\xd7"+v.default.refSetCoin(t),[2]}})})},w.prototype.start=function(){},w.prototype.ClickBtn=function(){var t=this;h.default.instance.play(h.Sound.Click),v.default.getSdk().addColorSign(function(){return s(t,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return y.default.getaddColorSign()?(b.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"),[3,3]):[3,1];case 1:return t=[],e=d.default.Instance.GetCoinProp(),t.push({prop:e,have:2400}),e=d.default.Instance.GetProp(30),t.push({prop:e,have:1}),e=d.default.Instance.GetProp(44),t.push({prop:e,have:1}),[4,S.default.Instance.ShowUI(g.default.RewardPanel)];case 2:n.sent(),S.default.Instance.GetClass(g.default.RewardPanel).getComponent(m.default).initAsset(t,function(){}),y.default.setaddColorSign(),n.label=3;case 3:return[2]}})})},function(){b.default.instance.setText(-1,"\u6dfb\u52a0\u5931\u8d25")}),this.CloseThis()},w.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},w.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},c([i(cc.Label)],w.prototype,"coinlable",void 0),a=c([a],w),r.default=a,cc._RF.pop()},{}],qqaddMy:[function(t,e,n){"use strict";cc._RF.push(e,"39680sLhQxNib3o4LzIcA4y","qqaddMy");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("PropDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("PanelConst"),v=a("RewardPanel"),g=a("TipGroup"),m=a("UIBase"),b=a("UIManager");function C(){var t=null!==p&&p.apply(this,arguments)||this;return t.label=null,t.text="hello",t}a=(i=cc._decorator).ccclass,i=i.property,l(C,p=m.default),C.prototype.onEnable=function(){p.prototype.onEnable.call(this)},C.prototype.start=function(){},C.prototype.ClickBtn=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return d.default.instance.play(d.Sound.Click),3003!=h.default.source?(g.default.instance.setText(-1,"\u6761\u4ef6\u4e0d\u6ee1\u8db3,\u8bf7\u4ece\u6211\u7684\u5c0f\u7a0b\u5e8f\u8fdb\u5165"),[2]):h.default.getAddMy()?(g.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"),[2]):(t=[],e=f.default.Instance.GetCoinProp(),t.push({prop:e,have:3600}),[4,b.default.Instance.ShowUI(y.default.RewardPanel)]);case 1:return n.sent(),b.default.Instance.GetClass(y.default.RewardPanel).getComponent(v.default).initAsset(t,function(){}),h.default.setAddMy(),this.CloseThis(),[2]}})})},C.prototype.ClickOff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis()},C.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],C.prototype,"label",void 0),c([i],C.prototype,"text",void 0),a=c([a],C),r.default=a,cc._RF.pop()},{}],qqsaveAppToDesktop:[function(t,e,n){"use strict";cc._RF.push(e,"1338bWYyeVFT5givI7n2zt6","qqsaveAppToDesktop");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("PanelConst"),m=a("RewardPanel"),b=a("TipGroup"),C=a("UIBase"),S=a("UIManager");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.coinlable=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=C.default),w.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return p.prototype.onEnable.call(this),[4,f.default.Instance.GetOutPut()];case 1:return t=2400*e.sent(),this.coinlable.string="\xd7"+v.default.refSetCoin(t),[2]}})})},w.prototype.start=function(){},w.prototype.ClickBtn=function(){var t=this;h.default.instance.play(h.Sound.Click),v.default.getSdk().saveDesktop(function(){return s(t,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return y.default.getSaveToDesktip()?(b.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"),[3,3]):[3,1];case 1:return t=[],e=d.default.Instance.GetCoinProp(),t.push({prop:e,have:2400}),e=d.default.Instance.GetProp(9),t.push({prop:e,have:1}),e=d.default.Instance.GetProp(16),t.push({prop:e,have:1}),[4,S.default.Instance.ShowUI(g.default.RewardPanel)];case 2:n.sent(),S.default.Instance.GetClass(g.default.RewardPanel).getComponent(m.default).initAsset(t,function(){}),y.default.setSaveToDesktip(),n.label=3;case 3:return[2]}})})},function(){b.default.instance.setText(-1,"\u6dfb\u52a0\u5931\u8d25")}),this.CloseThis()},w.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},w.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},c([i(cc.Label)],w.prototype,"coinlable",void 0),a=c([a],w),r.default=a,cc._RF.pop()},{}],qqsubScribeMsg:[function(t,e,n){"use strict";cc._RF.push(e,"75494D0EcNGq5v/6aGSneG5","qqsubScribeMsg");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("PropDataManager"),h=a("SoundManager"),y=a("GameSys"),v=a("GameTools"),g=a("PanelConst"),m=a("RewardPanel"),b=a("TipGroup"),C=a("UIBase"),S=a("UIManager");function w(){var t=null!==p&&p.apply(this,arguments)||this;return t.coinlabel=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(w,p=C.default),w.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return p.prototype.onEnable.call(this),[4,f.default.Instance.GetOutPut()];case 1:return t=2400*e.sent(),this.coinlabel.string="\xd7"+v.default.refSetCoin(t),[2]}})})},w.prototype.start=function(){},w.prototype.ClickBtn=function(){var t=this;h.default.instance.play(h.Sound.Click),v.default.getSdk().subscribeMsg(function(){return s(t,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return y.default.getSubscribemsg()?(b.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"),this.CloseThis(),[3,3]):[3,1];case 1:return t=[],e=d.default.Instance.GetCoinProp(),t.push({prop:e,have:2400}),e=d.default.Instance.GetProp(23),t.push({prop:e,have:1}),e=d.default.Instance.GetProp(37),t.push({prop:e,have:1}),e=d.default.Instance.GetProp(119),t.push({prop:e,have:4}),[4,S.default.Instance.ShowUI(g.default.RewardPanel)];case 2:n.sent(),S.default.Instance.GetClass(g.default.RewardPanel).getComponent(m.default).initAsset(t,function(){}),y.default.setSubscribemsg(),this.CloseThis(),n.label=3;case 3:return[2]}})})},function(t){t?b.default.instance.setText(-1,"\u5df2\u7ecf\u8ba2\u9605"):b.default.instance.setText(-1,"\u8ba2\u9605\u5931\u8d25")})},w.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis()},w.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],w.prototype,"coinlabel",void 0),a=c([a],w),r.default=a,cc._RF.pop()},{}],rewardItem:[function(t,e,n){"use strict";cc._RF.push(e,"4cffcddWAZMnoqTsHrbfjzD","rewardItem");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("ArtifactsDataManager"),d=a("CoinOutPutDataManager"),h=a("PropDataManager"),y=a("ReincarnDataManager"),v=a("GameTools"),g=a("TipGroup");function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.startpos=cc.v2(0,0),t.propdata=null,t.num=0,t.iconSprite=null,t.numLabel=null,t.nameLabel=null,t.propframe=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(m,p=cc.Component),m.prototype.onLoad=function(){},m.prototype.init=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!0),s(this,void 0,void 0,function(){var o,a,i,r,l,c,s,p=this;return u(this,function(u){switch(u.label){case 0:return this.propdata=t.prop,this.num=t.have,this.numLabel=this.node.getChildByName("num").getComponent(cc.Label),this.iconSprite=this.node.getChildByName("icon").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.propframe=this.node.getChildByName("frame").getComponent(cc.Sprite),this.nameLabel.string=""+this.propdata.name,o=0,4!=this.propdata.type?[3,4]:e?(a=y.default.Instance.GetAddOutput()*this.num,[3,3]):[3,1];case 1:return[4,d.default.Instance.GetOutPut()];case 2:a=u.sent()*this.num,u.label=3;case 3:return o=a,this.numLabel.string="\xd7"+v.default.refSetCoin(o),[3,5];case 4:5==this.propdata.type?(o=f.default.Instance.GetOutPut()*this.num,this.numLabel.string="\xd7"+v.default.refSetCoin(o)):(o=this.num,this.numLabel.string="\xd7"+v.default.refSetCoin(this.num)),u.label=5;case 5:return this.nameLabel.node.color=cc.color().fromHEX(h.default.Instance.GetLevelColor(this.propdata.frame)),c="PropFrame/"+this.propdata.frame,(i=v.default.GetRes("Bundle",c,cc.SpriteFrame))?[3,7]:[4,v.default.loadImage("Bundle",c)];case 6:i=u.sent(),u.label=7;case 7:return this.propframe.spriteFrame=i,l=r="",l=4==this.propdata.type?(r="Award/coin","SpriteBundle1"):5==this.propdata.type?(r="Award/jewel","SpriteBundle1"):(r="PropIcon/"+this.propdata.icon,"Bundle"),c=v.default.GetRes(l,r,cc.SpriteFrame),s=null,c?(s=c,[3,10]):[3,8];case 8:return[4,v.default.loadImage(l,r)];case 9:s=u.sent(),u.label=10;case 10:return this.iconSprite.spriteFrame=s,106<this.iconSprite.node.width?this.iconSprite.node.scale=.5:this.iconSprite.node.scale=1,n&&(this.ShowAnimation(),setTimeout(function(){g.default.instance.setText(-1,"\u606d\u559c\u83b7\u5f97"+p.propdata.name+"\xd7"+v.default.refSetCoin(o))},300*this.node.getSiblingIndex())),[2]}})})},m.prototype.start=function(){},m.prototype.ShowAnimation=function(){var t=this;this.node.scale=0,this.node.stopAllActions(),0==this.startpos.x&&0==this.startpos.y||this.node.setPosition(this.startpos),cc.tween(this.node).call(function(){t.node.scale=0,t.node.opacity=0}).to(.3,{scale:1.5,opacity:255}).by(.3,{y:-100,scale:-.5},{easing:"backOut"}).start()},c([i({displayName:"\u539f\u59cb\u5750\u6807"})],m.prototype,"startpos",void 0),a=c([a],m),r.default=a,cc._RF.pop()},{}],saveAppToDesktop:[function(t,e,n){"use strict";cc._RF.push(e,"447e4FaLKlPq4SZE4v/m0Bx","saveAppToDesktop");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},u=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var p,f=a("CoinOutPutDataManager"),d=a("SoundManager"),h=a("GameSys"),y=a("GameTools"),v=a("TipGroup"),g=a("UIBase"),m=a("UIManager");function b(){var t=null!==p&&p.apply(this,arguments)||this;return t.Coin=null,t}a=(i=cc._decorator).ccclass,i=i.property,l(b,p=g.default),b.prototype.start=function(){},b.prototype.onEnable=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return p.prototype.onEnable.call(this),[4,f.default.Instance.GetOutPut()];case 1:return t=2400*e.sent(),this.Coin.string="\xd7"+y.default.refSetCoin(t),[2]}})})},b.prototype.ClickGet=function(){var t=this;d.default.instance.play(d.Sound.Click),this.CloseThis(),h.default.getisAddToDesktop()?v.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"):y.default.getSdk().addToFavorites(function(){return s(t,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,f.default.Instance.GetOutPut()];case 1:return t=2400*e.sent(),m.default.Instance.ChangeCoin(t),h.default.setisAddToDesktop(),[2]}})})},function(){v.default.instance.setText(-1,"\u6536\u85cf\u5931\u8d25")})},b.prototype.Clickoff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis()},b.prototype.CloseThis=function(){p.prototype.CloseThis.call(this)},c([i(cc.Label)],b.prototype,"Coin",void 0),a=c([a],b),r.default=a,cc._RF.pop()},{}],spectrunitem:[function(t,e,n){"use strict";cc._RF.push(e,"8342dru5x9A6Kb+W5E/Ftsb","spectrunitem");var o,a,i=t,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n=n||Promise)(function(a,i){function r(t){try{c(o.next(t))}catch(t){i(t)}}function l(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(r,l)}c((o=o.apply(t,e||[])).next())})},s=function(t,e){var n,o,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},r={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,(r=a?[2&r[0],a.value]:r)[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};Object.defineProperty(r,"__esModule",{value:!0});var u,p=i("EquipDataManager"),f=i("PropDataManager"),d=i("SoundManager"),h=i("WeaponDataManager"),y=i("GameSys"),v=i("GameTools"),g=i("EquipMessage"),m=i("PanelConst"),b=i("RewardPanel"),C=i("TipGroup"),S=i("UIManager");function w(){var t=null!==u&&u.apply(this,arguments)||this;return t.icon=null,t.needlabel=null,t.havelabel=null,t.namelabel=null,t.debrisIcon=null,t.makeBtn=null,t.index=0,t}i=(a=cc._decorator).ccclass,a.property,l(w,u=cc.Component),w.prototype.onLoad=function(){this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.namelabel=this.node.getChildByName("name").getComponent(cc.Label),this.needlabel=this.node.getChildByName("need").getComponent(cc.Label),this.havelabel=this.node.getChildByName("have").getComponent(cc.Label),this.debrisIcon=this.node.getChildByName("debris").getComponent(cc.Sprite),this.makeBtn=this.node.getChildByName("make")},w.prototype.onEnable=function(){this.init()},w.prototype.init=function(){return c(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(a){switch(a.label){case 0:return this.index=this.node.getSiblingIndex(),this.spectrun=h.default.Instance.GetWeapon(this.index),this.needlabel.string="\u6240\u9700\u788e\u7247",this.debris=f.default.Instance.GetPackProp(this.spectrun.debrisid),n="PropIcon/"+this.debris.prop.icon,(t=v.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,2]:[4,v.default.loadImage("Bundle",n)];case 1:t=a.sent(),a.label=2;case 2:return this.debrisIcon.spriteFrame=t,this.finish=f.default.Instance.GetProp(this.spectrun.finishid),e=this.debris.have||0,this.havelabel.string="("+e+"/"+this.spectrun.num+")",this.namelabel.string=""+this.finish.name,n="PropIcon/"+this.finish.icon,(o=v.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,4]:[4,v.default.loadImage("Bundle",n)];case 3:o=a.sent(),a.label=4;case 4:return this.icon.spriteFrame=o,e>=this.spectrun.num?v.default.ResetGrayAllNode(this.makeBtn):v.default.SetGrayAllNode(this.makeBtn),[2]}})})},w.prototype.showEquipMessage=function(){return c(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return d.default.instance.play(d.Sound.Click),[4,S.default.Instance.ShowUI(m.default.EquipMessage)];case 1:return e.sent(),S.default.Instance.GetClass(m.default.EquipMessage).getComponent(g.default).initItem(0,this.finish,function(){return c(t,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return(this.debris.have||0)>=this.spectrun.num?(f.default.Instance.subPackProp(this.spectrun.debrisid,this.spectrun.num),[4,S.default.Instance.ShowUI(m.default.RewardPanel)]):[3,2];case 1:return t.sent(),S.default.Instance.GetClass(m.default.RewardPanel).getComponent(b.default).initAsset([{prop:this.finish,have:1}]),this.init(),y.default.setMakeCount(),p.default.Instance.AddNewEquip({prop:this.finish,have:1}),S.default.Instance.ShowUI(m.default.ShowNewEquip),[3,3];case 2:C.default.instance.setText(-1,"\u788e\u7247\u4e0d\u8db3"),t.label=3;case 3:return[2]}})})}),[2]}})})},w.prototype.ClickGet=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return d.default.instance.play(d.Sound.Click),(this.debris.have||0)>=this.spectrun.num?(f.default.Instance.subPackProp(this.spectrun.debrisid,this.spectrun.num),[4,S.default.Instance.ShowUI(m.default.RewardPanel)]):[3,2];case 1:return t.sent(),S.default.Instance.GetClass(m.default.RewardPanel).getComponent(b.default).initAsset([{prop:this.finish,have:1}]),this.init(),y.default.setMakeCount(),p.default.Instance.AddNewEquip({prop:this.finish,have:1}),S.default.Instance.ShowUI(m.default.ShowNewEquip),[3,3];case 2:C.default.instance.setText(-1,"\u788e\u7247\u4e0d\u8db3"),t.label=3;case 3:return[2]}})})},w.prototype.start=function(){},i=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([i],w),r.default=i,cc._RF.pop()},{}],ttShow:[function(t,e,n){"use strict";cc._RF.push(e,"7f932nwcqpEnZu6v1NK0xHV","ttShow");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.label=null,t.sysName="",t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.onLoad=function(){"TT"==u.default.channel||"OPPO"==u.default.channel?this.node.active=!0:this.node.active=!1,window.tt&&"\u5173\u6ce8\u6296\u97f3"==this.sysName&&("TT"==u.default.channel&&"Douyin"==tt.getSystemInfoSync().appName?this.node.active=!0:this.node.active=!1)},p.prototype.start=function(){},c([i(cc.Label)],p.prototype,"label",void 0),c([i({displayName:"\u529f\u80fd"})],p.prototype,"sysName",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],tupoHalo:[function(t,e,n){"use strict";cc._RF.push(e,"48051AkBKlJAqmwVmfeGiDn","tupoHalo");var o,a=e,i=n,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var l,c=cc._decorator;function s(){return null!==l&&l.apply(this,arguments)||this}a=c.ccclass,c.property,r(s,l=cc.Component),s.prototype.onLoad=function(){var t=this.node.getComponent(sp.Skeleton),e=cc.tween(this.node).delay(3.5).call(function(){t.setAnimation(0,"tupo",!1)});cc.tween(this.node).repeatForever(e).start(),t.setAnimation(0,"tupo",!1)},s.prototype.start=function(){},a=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}([a],s),i.default=a,cc._RF.pop()},{}],vivoShow:[function(t,e,n){"use strict";cc._RF.push(e,"779a1bHBJ9DcI/bXZzRkpIP","vivoShow");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameSys");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.label=null,t.text="hello",t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.onLoad=function(){"TT"==u.default.channel||"OPPO"==u.default.channel?this.node.active=!1:this.node.active=!0},p.prototype.start=function(){},c([i(cc.Label)],p.prototype,"label",void 0),c([i],p.prototype,"text",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}],zhihui:[function(t,e,n){"use strict";cc._RF.push(e,"64bdaYj0uRIE4ij13UCEp1x","zhihui");var o,a=t,i=e,r=n,l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(a=t[l])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(r,"__esModule",{value:!0});var s,u=a("GameTools");function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.label=null,t.text="hello",t}a=(i=cc._decorator).ccclass,i=i.property,l(p,s=cc.Component),p.prototype.onLoad=function(){u.default.SetGrayAllNode(this.node)},p.prototype.start=function(){},c([i(cc.Label)],p.prototype,"label",void 0),c([i],p.prototype,"text",void 0),a=c([a],p),r.default=a,cc._RF.pop()},{}]},{},["NewScript - 001","AIATK","AIDIE","AIIDLE","AIMOVE","AIMonsterAttack","AIMonsterDie","AIMonsterIdle","AIMonsterMove","AIMonsterSkill","AIMonsterVertigo","AIMonsterWait","AISKILL","AITeamerAttack","AITeamerDie","AITeamerIdle","AITeamerMove","AITeamerSkill","AITeamerVertigo","AIVER","AiBase","AiHang","AiIdle","AiMoveBase","AiState","AlchemyBox","AlchemyPanel","Android","AndroidManager","Artifacts","ArtifactsData","ArtifactsDataManager","ArtifactsItem","ArtifactsPanel","AwardData","AwardDataManager","AwardItem","BaiduManager","Bane","Bob","BobState","Buider","BuidleUpPanel","BuildData","BuildDataManager","BuildLvData","BuildLvDataManager","BuilderControl","Canvas","CartoonPanel","ChallengeLose","ChapterData","ChapterDataManager","ChapterSp","ClearPanel","CloudRecorder","CoinIcon","CoinOutPutData","CoinOutPutDataManager","CrystalBoxData","CrystalBoxDataManager","CrystalBoxPanel","CrystalBoxSp","Cure","CureMatrix","CustomArea","CustomTalkData","CustomTalkDataManager","DefaultStateMachine","DetailsPanel","DetailsSkill","DetailsStory","DevilPanel","DisasterPanel","Disciple0","Disciple1","Disciple2","Disciple3","DiscipleControl","DiscipleDataManager","DisciplePanel","DiscipleUpPanel","DisciplerankUpData","DisciplerankUpDataManager","DoublePanel","DrugData","DrugDataManager","Eddy","EggPanel","EquipData","EquipDataManager","EquipMessage","EquipPanel","EquipSmelter","Equipintensify","Equipspectrum","EventConst","EveryDayData","EveryDayItem","EveryDayManager","EveryDayTask","FightUp","Fireball","Flame","Flamepalm","ForewordPanel","FreeBox","FreeCoin","FreeJewel","FriendHelpPanel","FriendItem","GameBgTouch","GameEntry","GameFight","GameFightSkill","GameGroup","GameManager","GameMessage","GameSys","GameTools","GiftData","GiftDataManager","GiveUpPanel","GuideAI","GuideData","GuideDataManager","GuideManager","GuideMonsterData","GuideMonsterDataManager","GuidePanel","H4399Manager","HeartDevilData","HeartDevilDataManager","HeroDataManager","Hothalo","HttpClient","IOSManager","IllusionPanel","IntensifyData","IntensifyDataManager","IntensifyItem","IntensifyPanel","InvitationData","InvitationDataManager","JBGItem","JBGPanel","Knife","LoadGroup","LoadItem","LoadManager","LoadPanel","LoadingPanel","LocalRecorder","M4399Manager","M58Manager","MD5","MZManager","MapCameraControl","MapsPanel","MeRank","MessagePanel","MessageSkill","Monster","MonsterData","MonsterDataManager","Moon","NativeAdBanner","NewScript","NewresultItem","NewresultPanel","OPPOManager","OffLinePanel","OnHook","OnceSubScribeMsg","OnlineData","OnlineDataManager","OnlinePanel","Onlineitem","OpenCrystalBoxData","OpenCrystalBoxManager","OptionsPanel","OreData","OreShopDataManager","OutputCoin","PackItem","PackPanel","PanelConst","PathArea_45Angle","PathFind","PersistCure","PetData","PetDataManager","PetPanel","PoolManager","Privacy","PropData","PropDataManager","QQManager","QualityUp","RankItem","RankPanel","RealmAddPanel","RealmData","RealmDataManager","RealmPanel","RealmReward","Recorder","RedAni","RedPackManager","RefBox","ReincarnData","ReincarnDataManager","ReincarnPanel","ReincarnSp","RewardPanel","Roam","RoamBoxData","RoamChallenge","RoamData","RoamDataManager","RoamLandmark","RoamNewLine","RoamPanel","RoamPos","RoamReward","RoamUpData","SWItem","SWPanel","SceneData","SceneDataManager","SdkManager","SectBronControl","SectControl","SectTxt","ServerUtil","SevenMoney","ShareFriend","ShareRecorder","ShopData","ShopDataManager","ShopItem","ShopPanel","ShowNewEquip","SignData","SignDataManager","SignPanel","SingleBase","Singleton","Skill1","SkillConst","SkillData","SkillDataManager","SkillUi","SkipUp","SmelterItem","SmelterPanel","Soaring","SoundManager","Star","Start","StartGame","State","StateData","StateDataManager","StateMachine","StoryData","StoryDataManager","SystemData","SystemDataManager","TTManager","TalkData","TalkDataManager","TalkPanel","TaskPanel","TeachPanel","TeamSkillData","TeamSkillDataManager","Teamer","TeamerData","Thunder","TimeManager","TipGroup","Tiptxt","TouchSp","TrialsData","TrialsDataManager","TrialsItem","TrialsPanel","UIBase","UIClass","UIEventListener","UIManager","UnlockDisciple","UnlockNewArtifacts","UnlockPet","UnlockSys","UpTalk","UpTalkManager","VIVOManager","WeaponData","WeaponDataManager","Wind","Worship","WorshipDataManager","WxAnnouncement","WxErrorTouch","WxManager","WxOpenComponent","WxShareSwitch","Yehuo","ZorderControl","adLevel","adLevelManager","adapters","addColorSign","awardShow","bgline","breathe","bullet","clickAni","discipleItem","egg","elixir","equipitem","fightTxt","guideSp","isShare","labelAni","levelDrop","levelDropManager","qqActivity","qqShow","qqaddColorSign","qqaddMy","qqsaveAppToDesktop","qqsubScribeMsg","rewardItem","saveAppToDesktop","spectrunitem","ttShow","tupoHalo","vivoShow","zhihui"]);