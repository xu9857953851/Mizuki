System.register("chunks:///_virtual/AdMgr.ts",["cc","./Global.ts","./InputBlock.ts","./WxAd.ts","./Debug.ts"],(function(n){var t,i,e,o;return{setters:[function(n){t=n.cclegacy},function(n){i=n.Global},function(n){e=n.InputBlock},null,function(n){o=n.Debug}],execute:function(){t._RF.push({},"89e0c3MC/ZEmatc4RZuVADt","AdMgr",void 0);n("AdMgr",function(){function n(){}return n.init=function(){var n;null==(n=this.ad)||n.init()},n.showBanner=function(){var n;null==(n=this.ad)||n.showBanner()},n.hideBanner=function(){var n;null==(n=this.ad)||n.hideBanner()},n.showRewardedVideo=function(n,t,i){var o;e.setActive(2),null==(o=this.ad)||o.showRewardedVideo(n,t,i)},n.showInterstitialAd=function(n,t,u){var a;Date.now()-i.Last_Inter_Ad_Show_Time<3e4?o.Log("AdMgr","插屏冷却中"):(e.setActive(2),null==(a=this.ad)||a.showInterstitialAd(n,t,u))},n}()).ad=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"4ec22SiSCtIH5tIfhLB1ntc","ArrayUtil",void 0);var t=r("ArrayUtil",function(){function r(){}return r.has=function(r,n){return!!r&&(!(r.length<=0)&&-1!=r.indexOf(n))},r.shuffle=function(r){if(r&&!(r.length<=1))for(var n=r.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),e=[r[t],r[n]];r[n]=e[0],r[t]=e[1]}},r.remove=function(r,n){if(!r)return!1;if(r.length<=0)return!1;var t=r.indexOf(n);if(-1===t)return!1;r.splice(t,1)},r.removeMultiIdx=function(r,n){if(!n)return r;if(n.length<=0)return r;for(var t=[],e=new Set(n),i=0;i<r.length;i++)e.has(i)||t.push(r[i]);return t},r.pickItem=function(r){return r?r.length<=0?null:r[Math.floor(Math.random()*r.length)]:null},r.pickIndex=function(r){return r?r.length<=0?null:Math.floor(Math.random()*r.length):null},r.pickItems=function(r,n,t){if(void 0===t&&(t=!1),!r)return null;if(r.length<=0)return null;var e=[];if(t){for(var i=[].concat(r),u=0;u<n;u++){var l=this.pickIndex(i),f=i[l];if(e.push(f),i.splice(l,1),i.length<=0)break}return e}for(var a=0;a<n;a++){var o=this.pickItem(r);e.push(o)}return e},r.pickIndexs=function(r,n,t){if(void 0===t&&(t=!1),!r)return null;if(r.length<=0)return null;var e=[];if(t){for(var i=[].concat(r),u=0;u<n;u++){var l=this.pickIndex(i);if(e.push(l),i.splice(l,1),i.length<=0)break}return e}for(var f=0;f<n;f++){var a=this.pickIndex(r);e.push(a)}return e},r.removeSame=function(r,n,t){t||(t=function(r,n){return r===n});for(var e=[],i=[],u=1,l=1;l<r.length;l++){if(t(r[l],r[l-1])){if(++u>=n){var f=[];e.push(f);for(var a=0;a<n;a++){var o=l+a-u+1;f.push(o),i.push(o)}}}else u=1}return{removeIdxArr:e,arr:r=this.removeMultiIdx(r,i)}},r}());globalThis.ArrayUtil=t,n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Debug.ts","./ResMgr.ts","./Bundle.ts","./Setting.ts"],(function(i){var o,t,u,n,e,s,r,a,c,d,g,l;return{setters:[function(i){o=i.inheritsLoose,t=i.createClass},function(i){u=i.cclegacy,n=i._decorator,e=i.AudioSource,s=i.game,r=i.Game,a=i.Component},function(i){c=i.Debug},function(i){d=i.ResMgr},function(i){g=i.Bundle},function(i){l=i.Setting}],execute:function(){var h,p;u._RF.push({},"79432KzY8JGh7M/c0pay+I1","AudioMgr",void 0);var f=n.ccclass,m=(n.property,n.requireComponent),_="AudioMgr";i("AudioMgr",f("Manager/AudioMgr")(h=m(e)(((p=function(i){function u(){return i.apply(this,arguments)||this}o(u,i);var n=u.prototype;return n.onLoad=function(){globalThis.AudioMgr=this,u._audio=this.getComponent(e),s.on(r.EVENT_HIDE,this.onHide,this),s.on(r.EVENT_SHOW,this.onShow,this)},n.onHide=function(){u.pauseBgm(),c.Log(_,"进入后台")},n.onShow=function(){u.resumeBgm(),c.Log(_,"回到前台")},u.playBgm=function(i,o){if(void 0===o&&(o=1),l.BgmEnabled)if(i||(i=this.curBgm))if(this.curBgm===i)this._audio.volume=o,this._audio.playing||this._audio.play();else{var t=d.getRes(g.Audio,i);if(!t)return void console.warn("当前声音文件 "+i+" 未进行加载");this._audio.stop(),this.curBgm=i,this._audio.clip=t,this._audio.loop=!0,this._audio.volume=o,this._audio.play()}else c.Warn(_,"不需要播放BGM")},u.pauseBgm=function(){this.curBgm&&this._audio.pause()},u.resumeBgm=function(){this.curBgm&&this._audio.play()},u.stopBgm=function(){this._audio.stop(),this.curBgm=null},u.playSfx=function(i,o){if(void 0===o&&(o=1),l.SfxEnabled){var t=d.getRes(g.Audio,i);t?this._audio.playOneShot(t,o):c.Warn(_,"暂未加载音频"+i)}},t(u,null,[{key:"Audio",get:function(){return this._audio}}]),u}(a))._audio=void 0,p.curBgm=null,h=p))||h)||h);u._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./GameMgr.ts","./Global.ts","./Debug.ts","./AudioMgr.ts","./VibrateUtil.ts"],(function(t){var e,n,o,i,r,l,c,s,a,u,d,f,g;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,i=t._decorator,r=t.Sprite,l=t.Component},function(t){c=t.EventMgr},function(t){s=t.EventType},function(t){a=t.GameMgr},function(t){u=t.Global},function(t){d=t.Debug},function(t){f=t.AudioMgr},function(t){g=t.VibrateUtil}],execute:function(){var h;o._RF.push({},"debc9sGDMRKgYdwCruu7tAU","Ball",void 0);var p=i.ccclass;i.property,t("Ball",p("Game/Ball")(h=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._sp=null,e._selected=!1,e._data=null,e}e(o,t);var i=o.prototype;return i.onLoad=function(){this._sp=this.getComponent(r)},i.onDestroy=function(){},i.onSelect=function(){a.curIdArr.length>=u.Slot_Cnt?d.Warn("Ball","槽位已满，无法继续"):this.doSelect()},i.doSelect=function(){f.playSfx("点击消除物"),g.vibrate(),this.Selected=!0;var t=this.node.getWorldPosition();c.emit(s.SelectBall,t,this.node.angle,this._data),this.node.destroy()},n(o,[{key:"Selected",get:function(){return this._selected},set:function(t){this._selected=t}},{key:"Data",get:function(){return this._data},set:function(t){this._data=t}}]),o}(l))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/BallBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bundle.ts","./ResMgr.ts"],(function(e){var t,r,a,n,i,s,l,o,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){s=e.cclegacy,l=e._decorator,o=e.Sprite,c=e.Component},function(e){u=e.Bundle},function(e){p=e.ResMgr}],execute:function(){var f,d,h,B,g;s._RF.push({},"de567/GaYpErbJ0QiauDpLw","BallBase",void 0);var y=l.ccclass,v=l.property;e("BallBase",(f=y("ScriptBase/BallBase"),d=v(o),f((g=t((B=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"sp",g,n(t)),t._data=null,t}return r(t,e),i(t,[{key:"Data",get:function(){return this._data},set:function(e){var t=this;this._data=e;var r="ball/"+e.name+"/spriteFrame";p.isLoaded(u.Icon,r)?this.sp.spriteFrame=p.getRes(u.Icon,r):p.loadRes(u.Icon,r).then((function(e){t.sp.spriteFrame=e}))}}]),t}(c)).prototype,"sp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=B))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/BallBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ball.ts","./EventMgr.ts","./EventType.ts","./Debug.ts","./ResMgr.ts","./Bundle.ts","./GameMgr.ts","./Global.ts","./cfg_ball.ts"],(function(t){var l,e,a,n,o,i,s,r,c,u,h,f,B,g,v,d,p;return{setters:[function(t){l=t.inheritsLoose,e=t.createClass},function(t){a=t.cclegacy,n=t._decorator,o=t.macro,i=t.instantiate,s=t.math,r=t.Component},function(t){c=t.Ball},function(t){u=t.EventMgr},function(t){h=t.EventType},function(t){f=t.Debug},function(t){B=t.ResMgr},function(t){g=t.Bundle},function(t){v=t.GameMgr},function(t){d=t.Global},function(t){p=t.CfgBall}],execute:function(){var b;a._RF.push({},"8e1e9Q72kBMIKbiO8GfKOuu","BallBox",void 0);var M=n.ccclass,R=(n.property,"BallBox");t("BallBox",M("Game/BallBox")(b=function(t){function a(){for(var l,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(l=t.call.apply(t,[this].concat(a))||this).waitBalls=[],l}l(a,t);var n=a.prototype;return n.onLoad=function(){u.on(h.UseSkillMove,this.onUseSkillMove,this),u.on(h.ReqCreateBall,this.onReqCreateBall,this),this.schedule(this.tryCreateBall,.05,o.REPEAT_FOREVER)},n.onDestroy=function(){this.unscheduleAllCallbacks(),u.off(h.UseSkillMove,this.onUseSkillMove,this),u.off(h.ReqCreateBall,this.onReqCreateBall,this)},n.tryCreateBall=function(){if(!(this.waitBalls.length<=0)){var t=this.waitBalls.shift(),l=B.getRes(g.Game,t.name,"ball/"),e=i(l);e.setPosition(s.randomRangeInt(-250,250),1200,0),e.setScale(d.Ball_Scale,d.Ball_Scale),this.node.addChild(e),e.getComponent(c).Data=t}},n.onReqCreateBall=function(t){if(void 0===t&&(t=1),!(v.ballData.length<=0)){t=Math.min(v.ballData.length,t),f.Log(R,"创建"+t+"个球");for(var l=0;l<t&&!(v.ballData.length<=0);l++){var e=v.ballData.shift();e?this.waitBalls.push(e):f.Warn(R,"创建消除物时发生意外错误")}f.Log(R,"剩余"+v.ballData.length+"个球")}},n.onUseSkillMove=function(){for(var t=0;t<v.curIdArr.length;t++){var l=v.curIdArr[t],e=p[l];this.waitBalls.push(e)}v.curIdArr=[]},e(a,[{key:"IsEmpty",get:function(){return this.node.children.length<=0}}]),a}(r))||b);a._RF.pop()}}}));

System.register("chunks:///_virtual/BallType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"9dee6zox8dMOq7pAQQPBgb7","BallType",void 0);e("BallType",function(e){return e.Misc="misc",e.Red="red",e.Yellow="yellow",e.Blue="blue",e.Orange="orange",e.Green="green",e.Pig="pig",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/BtnExtend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./EventType.ts"],(function(t){var n,e,i,o,c,s,r,l,a,u,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){c=t.cclegacy,s=t._decorator,r=t.Button,l=t.Node,a=t.Component},function(t){u=t.AudioMgr},function(t){f=t.EventType}],execute:function(){var h,p,d,S,v,b,k,y;c._RF.push({},"e858boYmuRNtaUbAZS8rSGo","BtnExtend",void 0);var E=s.ccclass,x=s.property,T=s.disallowMultiple,g=s.requireComponent;t("BtnExtend",(h=E("UIExtend/BtnExtend"),p=T(!0),d=g(r),S=x({range:[0,1,.1],slide:!0}),h(v=p(v=d((k=n((b=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),s=0;s<e;s++)c[s]=arguments[s];return n=t.call.apply(t,[this].concat(c))||this,i(n,"safeTime",k,o(n)),i(n,"clickSfx",y,o(n)),n.btn=null,n.clickEvents=void 0,n.isSafe=!0,n}e(n,t);var c=n.prototype;return c.onLoad=function(){this.btn=this.getComponent(r),this.btn.node.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.btn.node.on(f.Click,this.onClick,this)},c.onTouchStart=function(){this.handleClickSfx()},c.onClick=function(){this.handleSafe()},c.handleSafe=function(){var t=this;this.isSafe&&(this.isSafe=!1,this.clickEvents=this.btn.clickEvents,this.btn.clickEvents=[],this.scheduleOnce((function(){t.isSafe=!0,t.btn.clickEvents=t.clickEvents}),this.safeTime))},c.handleClickSfx=function(){this.clickSfx&&u.playSfx(this.clickSfx)},n}(a)).prototype,"safeTime",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),y=n(b.prototype,"clickSfx",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"btnClick"}}),v=b))||v)||v)||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/BtnSkillBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,o=t.Component}],execute:function(){var c;e._RF.push({},"cc488Uu20VLroNqBBDCYkpS","BtnSkillBase",void 0);var l=r.ccclass;r.property,t("BtnSkillBase",l("BtnSkillBase")(c=function(t){function e(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).iconAdd=null,n}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Bundle.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"105baVpUGlOC7EYBCfoZ7kt","Bundle",void 0);e("Bundle",function(e){return e.Resources="resources",e.UI="ui",e.Game="game",e.Level="level",e.Font="font",e.Audio="audio",e.Icon="icon",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_ball.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"22e3ccX91xCf70rNO5Pwfx4","cfg_ball",void 0);e("CfgBall",[{id:0,name:"乌龟车",type:"red"},{id:1,name:"书包",type:"orange"},{id:2,name:"兔子",type:"red"},{id:3,name:"冰淇淋1",type:"misc"},{id:4,name:"冰淇淋2",type:"misc"},{id:5,name:"冰糕",type:"orange"},{id:6,name:"勋章",type:"yellow"},{id:7,name:"卡",type:"red"},{id:8,name:"卡2",type:"red"},{id:9,name:"圣诞球",type:"red"},{id:10,name:"地球仪",type:"blue"},{id:11,name:"坦克",type:"blue"},{id:12,name:"坦克2",type:"red"},{id:13,name:"大卡车",type:"red"},{id:14,name:"奖杯1",type:"yellow"},{id:15,name:"奖杯2",type:"yellow"},{id:16,name:"奖牌",type:"yellow"},{id:17,name:"姜饼人",type:"misc"},{id:18,name:"宝剑",type:"yellow"},{id:19,name:"宝箱",type:"yellow"},{id:20,name:"小熊",type:"blue"},{id:21,name:"小熊2",type:"blue"},{id:22,name:"小熊3",type:"red"},{id:23,name:"小熊4",type:"red"},{id:24,name:"小熊5",type:"blue"},{id:25,name:"小花",type:"misc"},{id:26,name:"小车",type:"red"},{id:27,name:"弓箭",type:"blue"},{id:28,name:"弓箭2",type:"red"},{id:29,name:"恐龙",type:"green"},{id:30,name:"手枪",type:"blue"},{id:31,name:"扑克",type:"yellow"},{id:32,name:"扑克2",type:"yellow"},{id:33,name:"打气球",type:"blue"},{id:34,name:"拖拉机",type:"green"},{id:35,name:"挖掘机",type:"blue"},{id:36,name:"木马",type:"red"},{id:37,name:"机器人",type:"blue"},{id:38,name:"机器人2",type:"blue"},{id:39,name:"架子1",type:"yellow"},{id:40,name:"架子2",type:"yellow"},{id:41,name:"棒棒糖",type:"misc"},{id:42,name:"椅子",type:"blue"},{id:43,name:"汽车",type:"blue"},{id:44,name:"沙滩球",type:"misc"},{id:45,name:"沙滩球2",type:"yellow"},{id:46,name:"游泳圈",type:"yellow"},{id:47,name:"游泳圈2",type:"blue"},{id:48,name:"火车头",type:"green"},{id:49,name:"炮竹",type:"yellow"},{id:50,name:"熊",type:"yellow"},{id:51,name:"猫爪",type:"orange"},{id:52,name:"球",type:"red"},{id:53,name:"球2",type:"red"},{id:54,name:"磁带",type:"yellow"},{id:55,name:"礼物",type:"blue"},{id:56,name:"章鱼",type:"red"},{id:57,name:"粽子",type:"green"},{id:58,name:"网球",type:"green"},{id:59,name:"自行车",type:"blue"},{id:60,name:"车",type:"red"},{id:61,name:"金猪",type:"yellow"},{id:62,name:"闹钟",type:"red"},{id:63,name:"闹钟2",type:"yellow"},{id:64,name:"雨伞",type:"blue"},{id:65,name:"风扇",type:"red"},{id:66,name:"风车",type:"misc"},{id:67,name:"风车2",type:"blue"},{id:68,name:"飞机",type:"red"},{id:69,name:"飞机2",type:"blue"},{id:70,name:"飞碟",type:"blue"},{id:71,name:"魔棒",type:"misc"},{id:72,name:"鸭子游泳圈",type:"yellow"},{id:73,name:"鸭子车",type:"yellow"},{id:74,name:"黄色风车",type:"yellow"},{id:75,name:"臭屁猪",type:"pig"},{id:76,name:"健身猪",type:"pig"},{id:77,name:"鼻涕猪",type:"pig"},{id:78,name:"大眼猪",type:"pig"},{id:79,name:"贪睡猪",type:"pig"},{id:80,name:"蛋黄猪",type:"pig"},{id:81,name:"薯条猪",type:"pig"},{id:82,name:"游戏猪",type:"pig"},{id:83,name:"奶茶猪",type:"pig"},{id:84,name:"趴地猪",type:"pig"},{id:85,name:"羊羊猪",type:"pig"},{id:86,name:"滑板猪",type:"pig"}]);i._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_gashapon.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"09a5bk0WWpBJJyRh89ouys/","cfg_gashapon",void 0);t("CfgGashapon",[{id:0,itemId:0,cnt:100,weight:20},{id:1,itemId:0,cnt:200,weight:15},{id:2,itemId:0,cnt:500,weight:10},{id:3,itemId:0,cnt:800,weight:5},{id:4,itemId:1,cnt:1,weight:10},{id:5,itemId:2,cnt:1,weight:20},{id:6,itemId:3,cnt:1,weight:15},{id:7,itemId:4,cnt:1,weight:.5},{id:8,itemId:5,cnt:1,weight:.5},{id:9,itemId:6,cnt:1,weight:.5},{id:10,itemId:7,cnt:1,weight:.5},{id:11,itemId:8,cnt:1,weight:.5},{id:12,itemId:9,cnt:1,weight:.5},{id:13,itemId:10,cnt:1,weight:.5},{id:14,itemId:11,cnt:1,weight:.5},{id:15,itemId:12,cnt:1,weight:.5},{id:16,itemId:13,cnt:1,weight:.5},{id:17,itemId:14,cnt:1,weight:.5},{id:18,itemId:15,cnt:1,weight:.5}]);i._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_level.ts",["cc"],(function(p){var r;return{setters:[function(p){r=p.cclegacy}],execute:function(){r._RF.push({},"589e3TdcuNGWZgjWDycD6B7","cfg_level",void 0);p("CfgNormalLevel",[{id:1,group:10,pigGroup:1,pairGroup:8,time:50},{id:2,group:50,pigGroup:0,pairGroup:40,time:150},{id:3,group:52,pigGroup:0,pairGroup:42,time:160},{id:4,group:54,pigGroup:0,pairGroup:44,time:165},{id:5,group:56,pigGroup:8,pairGroup:46,time:170},{id:6,group:58,pigGroup:0,pairGroup:48,time:175},{id:7,group:60,pigGroup:0,pairGroup:50,time:180},{id:8,group:62,pigGroup:0,pairGroup:42,time:185},{id:9,group:64,pigGroup:0,pairGroup:44,time:190},{id:10,group:66,pigGroup:13,pairGroup:46,time:195},{id:11,group:68,pigGroup:0,pairGroup:48,time:200},{id:12,group:70,pigGroup:0,pairGroup:50,time:210},{id:13,group:72,pigGroup:0,pairGroup:47,time:220},{id:14,group:74,pigGroup:0,pairGroup:47,time:225},{id:15,group:76,pigGroup:18,pairGroup:47,time:235},{id:16,group:78,pigGroup:0,pairGroup:45,time:245},{id:17,group:80,pigGroup:0,pairGroup:40,time:240},{id:18,group:85,pigGroup:0,pairGroup:42,time:250},{id:19,group:90,pigGroup:0,pairGroup:45,time:265},{id:20,group:100,pigGroup:24,pairGroup:50,time:290},{id:21,group:105,pigGroup:0,pairGroup:50,time:305},{id:22,group:110,pigGroup:0,pairGroup:55,time:315},{id:23,group:115,pigGroup:0,pairGroup:55,time:325},{id:24,group:120,pigGroup:0,pairGroup:60,time:340},{id:25,group:135,pigGroup:29,pairGroup:67,time:280},{id:26,group:90,pigGroup:0,pairGroup:45,time:265},{id:27,group:120,pigGroup:0,pairGroup:55,time:340},{id:28,group:110,pigGroup:0,pairGroup:55,time:330},{id:29,group:125,pigGroup:0,pairGroup:60,time:350},{id:30,group:135,pigGroup:29,pairGroup:67,time:380},{id:31,group:90,pigGroup:0,pairGroup:45,time:265},{id:32,group:120,pigGroup:0,pairGroup:55,time:340},{id:33,group:120,pigGroup:0,pairGroup:55,time:330},{id:34,group:125,pigGroup:0,pairGroup:60,time:350},{id:35,group:135,pigGroup:29,pairGroup:67,time:390},{id:36,group:90,pigGroup:0,pairGroup:45,time:265},{id:37,group:120,pigGroup:0,pairGroup:55,time:340},{id:38,group:100,pigGroup:0,pairGroup:50,time:340},{id:39,group:125,pigGroup:0,pairGroup:60,time:350},{id:40,group:135,pigGroup:29,pairGroup:67,time:390},{id:41,group:90,pigGroup:0,pairGroup:45,time:265},{id:42,group:120,pigGroup:0,pairGroup:55,time:340},{id:43,group:120,pigGroup:0,pairGroup:55,time:340},{id:44,group:125,pigGroup:0,pairGroup:60,time:350},{id:45,group:135,pigGroup:29,pairGroup:67,time:390},{id:46,group:90,pigGroup:0,pairGroup:45,time:265},{id:47,group:120,pigGroup:0,pairGroup:55,time:340},{id:48,group:120,pigGroup:0,pairGroup:55,time:340},{id:49,group:125,pigGroup:0,pairGroup:60,time:350},{id:50,group:135,pigGroup:29,pairGroup:67,time:390},{id:51,group:90,pigGroup:0,pairGroup:45,time:265},{id:52,group:120,pigGroup:0,pairGroup:55,time:340},{id:53,group:100,pigGroup:0,pairGroup:50,time:340},{id:54,group:125,pigGroup:0,pairGroup:60,time:350},{id:55,group:135,pigGroup:29,pairGroup:67,time:390},{id:56,group:90,pigGroup:0,pairGroup:45,time:265},{id:57,group:120,pigGroup:0,pairGroup:55,time:340},{id:58,group:120,pigGroup:0,pairGroup:55,time:350},{id:59,group:125,pigGroup:0,pairGroup:60,time:350},{id:60,group:135,pigGroup:29,pairGroup:67,time:390},{id:61,group:90,pigGroup:0,pairGroup:45,time:265},{id:62,group:120,pigGroup:0,pairGroup:55,time:340},{id:63,group:100,pigGroup:0,pairGroup:50,time:350},{id:64,group:125,pigGroup:0,pairGroup:60,time:350},{id:65,group:135,pigGroup:29,pairGroup:67,time:390},{id:66,group:90,pigGroup:0,pairGroup:45,time:265},{id:67,group:120,pigGroup:0,pairGroup:55,time:350},{id:68,group:96,pigGroup:0,pairGroup:48,time:340},{id:69,group:125,pigGroup:0,pairGroup:60,time:350},{id:70,group:140,pigGroup:29,pairGroup:70,time:400}]),p("CfgSuperLevel",[{id:1,group:3,time:-1,pairGroup:0},{id:2,group:150,time:400,pairGroup:75}]);r._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_passReward.ts",["cc"],(function(s){var n;return{setters:[function(s){n=s.cclegacy}],execute:function(){n._RF.push({},"d2576gg+39CgpNSYy24NLn8","cfg_passReward",void 0);s("CfgPassReward",[{id:0,passLevel:10,coinCnt:300,skillCnt:1},{id:1,passLevel:20,coinCnt:600,skillCnt:1},{id:2,passLevel:30,coinCnt:1e3,skillCnt:2},{id:3,passLevel:40,coinCnt:1500,skillCnt:2},{id:4,passLevel:50,coinCnt:1800,skillCnt:2},{id:5,passLevel:60,coinCnt:1800,skillCnt:2},{id:6,passLevel:70,coinCnt:2e3,skillCnt:3}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/CfgDec.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"549a6XmI0xN9Ik2DDiFPD4z","CfgDec",void 0);e("DefaultDec",[0]),e("CfgDec",[{id:0,needCatchedPigCnt:0},{id:1,needCatchedPigCnt:2},{id:2,needCatchedPigCnt:5},{id:3,needCatchedPigCnt:10}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/CfgItem.ts",["cc","./Bundle.ts","./ItemType.ts","./SkillType.ts"],(function(e){var n,i,o,t;return{setters:[function(e){n=e.cclegacy},function(e){i=e.Bundle},function(e){o=e.ItemType},function(e){t=e.SkillType}],execute:function(){n._RF.push({},"2ef25I11RRIUrJ+H0hYm0Ro","CfgItem",void 0);e("CfgItem",[{id:0,name:"猪猪币",type:o.Coin,bundle:i.Icon,icon:"item/icon_zzb"},{id:1,name:"冰冻道具",type:o.Skill,skillType:t.Freeze,bundle:i.Icon,icon:"item/icon_bd"},{id:2,name:"消除道具",type:o.Skill,skillType:t.Erase,bundle:i.Icon,icon:"item/icon_pd"},{id:3,name:"移出道具",type:o.Skill,skillType:t.Move,bundle:i.Icon,icon:"item/icon_yc"},{id:4,name:"臭屁猪",type:o.Collection,bundle:i.Icon,icon:"item/img1_1"},{id:5,name:"健身猪",type:o.Collection,bundle:i.Icon,icon:"item/img2_1"},{id:6,name:"鼻涕猪",type:o.Collection,bundle:i.Icon,icon:"item/img3_1"},{id:7,name:"大眼猪",type:o.Collection,bundle:i.Icon,icon:"item/img4_1"},{id:8,name:"贪睡猪",type:o.Collection,bundle:i.Icon,icon:"item/img5_1"},{id:9,name:"蛋黄猪",type:o.Collection,bundle:i.Icon,icon:"item/img6_1"},{id:10,name:"薯条猪",type:o.Collection,bundle:i.Icon,icon:"item/img7_1"},{id:11,name:"游戏猪",type:o.Collection,bundle:i.Icon,icon:"item/img8_1"},{id:12,name:"奶茶猪",type:o.Collection,bundle:i.Icon,icon:"item/img9_1"},{id:13,name:"趴地猪",type:o.Collection,bundle:i.Icon,icon:"item/img10_1"},{id:14,name:"羊羊猪",type:o.Collection,bundle:i.Icon,icon:"item/img11_1"},{id:15,name:"滑板猪",type:o.Collection,bundle:i.Icon,icon:"item/img12_1"}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/CfgName.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d4df6IN2hZEfIi9HnJ2TljV","CfgName",void 0);e("CfgName",["机器人爱好者","修行者","旅行侦探","潇洒走一回","飞天小猪","菜鸟大人","大大怪将军","蜜语甜心","甜点兔兔","星星狐语","冷酷王子","牛奶小草莓","琉璃仙子","萤火之歌","女巫的黑猫","风之少女梦","星空女神","秋水长天","飘渺的尘埃","梦中轻音","天地霸主","黑妞爱狗蛋"]);t._RF.pop()}}}));

System.register("chunks:///_virtual/CirclePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,a,c,s,o,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){c=e.cclegacy,s=e._decorator,o=e.Vec2,l=e.PageView}],execute:function(){var n,h,u;c._RF.push({},"c1980SyL21EuZWTY8iRps3w","CirclePageView",void 0);var g=s.ccclass,p=s.property;e("CirclePageView",g("UIExtend/CirclePageView")((u=i((h=function(e){function i(){for(var i,t=arguments.length,c=new Array(t),s=0;s<t;s++)c[s]=arguments[s];return i=e.call.apply(e,[this].concat(c))||this,r(i,"circle",u,a(i)),i}return t(i,e),i.prototype._autoScrollToPage=function(){var e=this._startBounceBackIfNeeded();if(!this.circle&&e){var i=this._getHowMuchOutOfBoundary();this._clampDelta(i),(i.x>0||i.y<0)&&(this._curPageIdx=0===this._pages.length?0:this._pages.length-1),(i.x<0||i.y>0)&&(this._curPageIdx=0),this.indicator&&this.indicator._changedState()}else{var t=new o;o.subtract(t,this._touchBeganPosition,this._touchEndPosition);var r=this._curPageIdx,a=r+this._getDragDirection(t),c=this.pageTurningSpeed*Math.abs(r-a);if(this.circle){if(-1===a)return void this.scrollToPage(this._pages.length-1,c);if(a===this._pages.length)return void this.scrollToPage(0,c)}if(a<this._pages.length){if(this._isScrollable(t,r,a))return void this.scrollToPage(a,c);var s=this._calculateTouchMoveVelocity();if(this._isQuicklyScrollable(s))return void this.scrollToPage(a,c)}this.scrollToPage(r,c)}},i}(l)).prototype,"circle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n=h))||n);c._RF.pop()}}}));

System.register("chunks:///_virtual/CoinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./CoinMgr.ts","./LabelTick.ts","./ResMgr.ts","./Bundle.ts","./AudioMgr.ts"],(function(i){var t,n,e,o,s,a,c,r,u,l,h,d,f,p,C,m,v,g,b;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,a=i._decorator,c=i.math,r=i.tween,u=i.v3,l=i.Node,h=i.Sprite,d=i.Component},function(i){f=i.EventMgr},function(i){p=i.EventType},function(i){C=i.CoinMgr},function(i){m=i.LabelTick},function(i){v=i.ResMgr},function(i){g=i.Bundle},function(i){b=i.AudioMgr}],execute:function(){var y,I,k,S,w;s._RF.push({},"c3b43fuycJEPLI1Et7usH3D","CoinItem",void 0);var M=a.ccclass,T=a.property;i("CoinItem",(y=M("Item/CoinItem"),I=T(m),y((w=t((S=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"labelTick",w,o(t)),t.coin=0,t}n(t,i);var s=t.prototype;return s.onLoad=function(){f.emit(p.CoinItemShow,this),f.on(p.CoinItemShow,this.onShow,this),f.on(p.CoinItemHide,this.onHide,this),f.on(p.UpdateCoin,this.updateCoin,this)},s.onDisable=function(){this.unscheduleAllCallbacks()},s.onDestroy=function(){f.emit(p.CoinItemHide,this),this.unscheduleAllCallbacks(),f.off(p.UpdateCoin,this.updateCoin,this),f.off(p.CoinItemShow,this.onShow,this),f.off(p.CoinItemHide,this.onHide,this)},s.onShow=function(i){this!==i&&(this.node.active=!1)},s.onHide=function(i){this!==i&&(this.node.active=!0,this.init(i.coin))},s.addCoin=function(){this.node.active&&(C.CurCoin+=1e3,this.updateCoin(C.CurCoin))},s.init=function(i){this.coin=i,this.labelTick.init(i)},s.updateCoin=function(i,t){var n=this;if(void 0===t&&(t=!0),this.node.active){this.coin=i,this.labelTick.tickLabel(i);t&&(b.playSfx("a获得金币"),this.schedule((function(){var i=n.createFlyCoin(),t=c.randomRangeInt(-50,50),e=c.randomRangeInt(-100,-50),o=r(i);o.to(.5,{position:u(t,e)},{easing:"cubicOut"}),o.to(1,{position:n.node.position},{easing:"backIn"}),o.call((function(){b.playSfx("a获得金币1"),i.destroy()})),o.start()}),.1,5))}},s.createFlyCoin=function(){var i=new l;return i.addComponent(h).spriteFrame=v.getSpriteFrame(g.UI,"zzb","image/common/"),this.node.parent.addChild(i),i},t}(d)).prototype,"labelTick",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=S))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/CoinMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemMgr.ts"],(function(n){var t,e,r,i;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,r=n.math},function(n){i=n.ItemMgr}],execute:function(){e._RF.push({},"dad9e++GnNNAq62LJJad40y","CoinMgr",void 0);var o=n("CoinMgr",function(){function n(){}return t(n,null,[{key:"CurCoin",get:function(){var n;return null!=(n=i.ItemDic[0])?n:0},set:function(n){i.setItem(0,r.clamp(n,0,9999999))}}]),n}());o.fakeCoin=0,globalThis.CoinMgr=o,e._RF.pop()}}}));

System.register("chunks:///_virtual/CollectItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./UIMgr.ts","./UI.ts","./CollectMgr.ts"],(function(t){var e,n,i,r,a,o,l,c,u,s,p,f,m,d,b,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,c=t.Sprite,u=t.Node,s=t.Material,p=t.Button,f=t.Component},function(t){m=t.ResMgr},function(t){d=t.Bundle},function(t){b=t.UIMgr},function(t){h=t.UI},function(t){g=t.CollectMgr}],execute:function(){var y,C,I,k,v,z,M,S,U,B,F,w,D;o._RF.push({},"16629z24clDnq9SUQ4n483F","CollectItem",void 0);var P=l.ccclass,N=l.property;t("CollectItem",(y=P("Item/CollectItem"),C=N(c),I=N(c),k=N(u),v=N(s),z=N(s),y((U=e((S=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"bg",U,r(e)),i(e,"icon",B,r(e)),i(e,"redPoint",F,r(e)),i(e,"matNormal",w,r(e)),i(e,"matBlack",D,r(e)),e.btn=null,e.data=null,e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.btn=this.getComponent(p)},o.updateState=function(){var t=this.data,e=t.id,n=t.bundle,i=t.icon,r=(t.type,g.has(e)),a=g.canUnlock(e),o=g.isUnlocked(e),l=o?"tjdk1":"tjdk2";this.redPoint.active=r&&a&&!o,this.btn.interactable=r&&(a||o),this.icon.spriteFrame=m.getSpriteFrame(n,i),this.bg.spriteFrame=m.getSpriteFrame(d.UI,l,"image/uiCollect/"),this.icon.material=!r||a&&!o?this.matBlack:this.matNormal},o.onClick=function(){b.open(h.CollectInfo,this.data),g.unlock(this.data.id),this.updateState()},a(e,[{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.updateState()}}]),e}(f)).prototype,"bg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(S.prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(S.prototype,"redPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(S.prototype,"matNormal",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(S.prototype,"matBlack",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=S))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/CollectMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemType.ts","./Debug.ts","./StorageUtil.ts","./ItemMgr.ts"],(function(t){var n,e,r,c,o,l;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){r=t.ItemType},function(t){c=t.Debug},function(t){o=t.StorageUtil},function(t){l=t.ItemMgr}],execute:function(){e._RF.push({},"86733B7PQJM/rcNX4QqBl+D","CollectMgr",void 0);var i="CollectMgr",u=t("CollectMgr",function(){function t(){}return t.init=function(){this.unlockedArr=o.getObj("unlockedCollectArr",[])},t.has=function(t){return!!l.ItemDic[t]},t.isUnlocked=function(t){return this.unlockedArr.includes(t)},t.canUnlock=function(t){return this.has(t)&&!this.unlockedArr.includes(t)},t.add=function(t){this.has(t)?c.Warn(i,"已有id为"+t+"的图鉴"):l.setItem(t,1)},t.unlock=function(t){this.isUnlocked(t)?c.Warn(i,"已解锁id为"+t+"的图鉴"):(this.unlockedArr.push(t),this.unlockedArr.sort(),o.setObj("unlockedCollectArr",this.unlockedArr))},t.hasCollectCanUnlock=function(){return this.Cnt>this.unlockedArr.length},n(t,null,[{key:"UnlockedArr",get:function(){return this.unlockedArr}},{key:"Cnt",get:function(){var t=0,n=l.ItemDic;for(var e in l.ItemDic)if(Object.prototype.hasOwnProperty.call(n,e)){var c=Number(e);l.getType(c)===r.Collection&&t++}return t}}]),t}());u.unlockedArr=[],globalThis.CollectMgr=u,e._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Debug.ts",["cc"],(function(n){var r;return{setters:[function(n){r=n.cclegacy}],execute:function(){r._RF.push({},"24152lr7B5ApJuM1SRUJV/V","Debug",void 0);n("Debug",function(){function n(){}return n.Log=function(n){for(var r,e=arguments.length,o=new Array(e>1?e-1:0),c=1;c<e;c++)o[c-1]=arguments[c];(r=console).log.apply(r,[n+" --\x3e "].concat(o))},n.Warn=function(n){for(var r,e=arguments.length,o=new Array(e>1?e-1:0),c=1;c<e;c++)o[c-1]=arguments[c];(r=console).warn.apply(r,[n+" --\x3e "].concat(o))},n.Error=function(n){for(var r,e=arguments.length,o=new Array(e>1?e-1:0),c=1;c<e;c++)o[c-1]=arguments[c];(r=console).error.apply(r,[n+" --\x3e "].concat(o))},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/DebugPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Stage.ts","./GameMgr.ts","./UIMgr.ts","./UI.ts","./GameMode.ts","./CoinMgr.ts","./EventMgr.ts","./EventType.ts","./SkillMgr.ts","./SkillType.ts","./CollectMgr.ts","./Global.ts"],(function(e){var n,i,l,t,o,r,a,u,c,s,d,p,f,g,v,b,m,h,M,C,G,S,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Slider,u=e.Label,c=e.isValid,s=e.math,d=e.Component},function(e){p=e.Stage},function(e){f=e.GameMgr},function(e){g=e.UIMgr},function(e){v=e.UI},function(e){b=e.GameMode},function(e){m=e.CoinMgr},function(e){h=e.EventMgr},function(e){M=e.EventType},function(e){C=e.SkillMgr},function(e){G=e.SkillType},function(e){S=e.CollectMgr},function(e){T=e.Global}],execute:function(){var k,y,_,B,L,D,I,P,z,w,E;o._RF.push({},"cc9d42yOP1DdJJCGmJr1rwy","DebugPanel",void 0);var A=r.ccclass,U=r.property;e("DebugPanel",(k=A("Debug/DebugPanel"),y=U(a),_=U(u),B=U(a),L=U(u),k((P=n((I=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,l(n,"levelTimeSlider",P,t(n)),l(n,"lbLevelTime",z,t(n)),l(n,"ballGroupSlider",w,t(n)),l(n,"lbBallGroup",E,t(n)),n}i(n,e);var o=n.prototype;return o.onLoad=function(){this.node.active=!1},o.onEnable=function(){this.lbLevelTime.string=T.Level_Time+"s",this.lbBallGroup.string=T.Ball_Group+"组",this.levelTimeSlider.progress=T.Level_Time/500,this.ballGroupSlider.progress=T.Ball_Group/300},o.onClick=function(){this.node.active=!this.node.active},o.onBtnPassClick=function(){if(c(f.stage)){var e=f.stage.getComponent(p);switch(g.close(v.Game),f.Mode){case b.Normal:e.onNormalModeWin();break;case b.Super:e.onSuperModeWin()}}},o.onBtnAddCoinClick=function(){m.CurCoin+=1e3,h.emit(M.UpdateCoin,m.CurCoin)},o.onBtnAddFreezeClick=function(){C.addSkill(G.Freeze)},o.onBtnAddEraseClick=function(){C.addSkill(G.Erase)},o.onBtnAddMoveClick=function(){C.addSkill(G.Move)},o.onBtnAddPigClick=function(){var e=s.randomRangeInt(4,16);S.add(e)},o.onBtnTestClick=function(){f.startGame(),this.scheduleOnce((function(){g.close(v.Main)}),.5),T.Is_Test_Level=!0},o.onTgHardLevelToggle=function(e){T.Is_Hard_Level=e.isChecked,console.log(T.Is_Hard_Level)},o.onLevelTimeSlider=function(e){var n=e.progress,i=Math.floor(500*n);T.Level_Time=Math.max(30,i),this.lbLevelTime.string=T.Level_Time+"s"},o.onBallGroupSlider=function(e){var n=e.progress,i=Math.floor(300*n);T.Ball_Group=Math.max(3,i),this.lbBallGroup.string=T.Ball_Group+"组"},n}(d)).prototype,"levelTimeSlider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(I.prototype,"lbLevelTime",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(I.prototype,"ballGroupSlider",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(I.prototype,"lbBallGroup",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=I))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/DecItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgDec.ts","./DecMgr.ts","./ResMgr.ts","./Bundle.ts","./CollectMgr.ts"],(function(e){var t,i,n,r,a,o,l,c,s,u,d,p,g,f,b,h,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.Sprite,s=e.Node,u=e.Button,d=e.Label,p=e.Material,g=e.Component},function(e){f=e.CfgDec},function(e){b=e.DecMgr},function(e){h=e.ResMgr},function(e){m=e.Bundle},function(e){y=e.CollectMgr}],execute:function(){var U,k,D,v,C,I,M,z,w,F,L,_,B,N,P,S,T,R,Y,j,x,A,H,X,q;o._RF.push({},"59c6frXevhPlYLPMCYvF4a7","DecItem",void 0);var E=l.ccclass,G=l.property;e("DecItem",(U=E("Item/DecItem"),k=G(c),D=G(c),v=G(c),C=G(c),I=G(s),M=G(s),z=G(u),w=G(u),F=G(d),L=G(p),_=G(p),U((P=t((N=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"bg",P,r(t)),n(t,"decType",S,r(t)),n(t,"decName",T,r(t)),n(t,"decDes",R,r(t)),n(t,"decUsing",Y,r(t)),n(t,"decLocked",j,r(t)),n(t,"btnUse",x,r(t)),n(t,"btnUnlock",A,r(t)),n(t,"lbCondition",H,r(t)),n(t,"normalMat",X,r(t)),n(t,"grayMat",q,r(t)),t.data=null,t.id=0,t.isUsing=!1,t.isUnlocked=!1,t}i(t,e);var o=t.prototype;return o.updateData=function(){var e=this.id;this.IsUnlocked=b.isUnlocked(e),this.IsUsing=b.isUsing(e);var t=y.Cnt,i=f[e].needCatchedPigCnt,n=b.canUnlock(e);this.btnUse.node.active=!this.isUsing&&this.isUnlocked,this.btnUnlock.node.active=n&&!this.isUnlocked,this.lbCondition.node.active=!n,this.lbCondition.string="累计捕捉"+t+"/"+i+"只猪"},o.onBtnUseClick=function(){b.use(this.id);for(var e=this.node.parent.getComponentsInChildren(t),i=0;i<e.length;i++){e[i].updateData()}},o.onBtnUnlockClick=function(){b.unlock(this.id);for(var e=this.node.parent.getComponentsInChildren(t),i=0;i<e.length;i++){e[i].updateData()}},a(t,[{key:"Data",get:function(){return this.data},set:function(e){this.data=e;var t=e.id;this.id=t,this.decType.spriteFrame=h.getSpriteFrame(m.UI,"type_"+t,"image/uiDecoration/"),this.decName.spriteFrame=h.getSpriteFrame(m.UI,"name_"+t,"image/uiDecoration/"),this.decDes.spriteFrame=h.getSpriteFrame(m.UI,"des_"+t,"image/uiDecoration/"),this.updateData()}},{key:"IsUsing",get:function(){return this.isUsing},set:function(e){this.isUsing=e,this.decUsing.active=e}},{key:"IsUnlocked",get:function(){return this.isUnlocked},set:function(e){this.isUnlocked=e,this.decLocked.active=!e;var t=e?this.normalMat:this.grayMat;this.bg.material=t,this.decType.material=t,this.decName.material=t,this.decDes.material=t}}]),t}(g)).prototype,"bg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(N.prototype,"decType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(N.prototype,"decName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"decDes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(N.prototype,"decUsing",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(N.prototype,"decLocked",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"btnUse",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"btnUnlock",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(N.prototype,"lbCondition",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(N.prototype,"normalMat",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(N.prototype,"grayMat",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=N))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/DecMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgDec.ts","./Debug.ts","./StorageUtil.ts","./CollectMgr.ts"],(function(e){var c,t,n,s,u,i,o;return{setters:[function(e){c=e.createClass},function(e){t=e.cclegacy},function(e){n=e.DefaultDec,s=e.CfgDec},function(e){u=e.Debug},function(e){i=e.StorageUtil},function(e){o=e.CollectMgr}],execute:function(){t._RF.push({},"8f355jD+SlLT4ZLFyEhMuQZ","DecMgr",void 0);var r="DecMgr",l="unlockedDecs",D="curUseDec",h=e("DecMgr",function(){function e(){}return e.init=function(){this.unlockedDecs=i.getObj(l,[].concat(n)),i.setObj(l,this.unlockedDecs),this.CurUseDec=i.getItem(D,0)},e.unlock=function(e){this.isUnlocked(e)?u.Warn(r,"id为"+e+"的装饰已被解锁，无需重复解锁"):(this.unlockedDecs.push(e),i.setObj(l,this.unlockedDecs),u.Log(r,"解锁id为"+e+"的装饰"))},e.use=function(e){this.curUseDec!==e?this.CurUseDec=e:u.Warn(r,"id为"+e+"的装饰已被使用，无需重复使用")},e.isUnlocked=function(e){return this.unlockedDecs.includes(e)},e.isUsing=function(e){return this.curUseDec===e},e.canUnlock=function(e){var c=o.Cnt,t=s[e].needCatchedPigCnt,n=Math.max(e-1,0),u=this.isUnlocked(n);return c>=t&&u},e.hasDecCanUnlock=function(){for(var e=0;e<s.length;e++){var c=s[e];if(this.canUnlock(c.id)&&!this.isUnlocked(c.id))return!0}return!1},e.reset=function(){this.CurUseDec=0,this.unlockedDecs=[].concat(n),i.setObj(l,this.unlockedDecs)},c(e,null,[{key:"UnlockedDecs",get:function(){return this.unlockedDecs}},{key:"CurUseDec",get:function(){return this.curUseDec},set:function(e){this.curUseDec=e,i.setItem(D,this.curUseDec)}}]),e}());h.unlockedDecs=[],h.curUseDec=0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Decoration.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./DecMgr.ts"],(function(e){var t,r,i,n,o,c,s,a,u,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,s=e.Sprite,a=e.Component},function(e){u=e.ResMgr},function(e){p=e.Bundle},function(e){l=e.DecMgr}],execute:function(){var f,g,h;o._RF.push({},"1a125Jr8ahDSoBq1GfSpUfu","Decoration",void 0);var y=c.ccclass,D=c.property;e("Decoration",y("Misc/Decoration")((h=t((g=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"key",h,n(t)),t.sp=void 0,t}return r(t,e),t.prototype.onLoad=function(){this.sp=this.getComponent(s),this.sp.spriteFrame=u.getSpriteFrame(p.Game,""+this.key+l.CurUseDec,"image/")},t}(a)).prototype,"key",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=g))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/DtoBall.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"90cf5r+GBVHcJydx9ajvtX4","DtoBall",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoGashapon.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"890486apslJApxl33QqOnoV","DtoGashapon",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoLevel.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5b305Wteo9FVZwuHI3GFyn1","DtoLevel",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DtoPassReward.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"93fb6FVmrxD4amnZOdFWZ9V","DtoPassReward",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoRank.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a0e4aeAv0FF4a011MT/srQm","DtoRank",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoReward.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"858f0EjULFKeZbkcqeyYP2/","DtoReward",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/EffectAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./AudioMgr.ts"],(function(t){var e,i,n,o,c,r,s,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.UIOpacity,c=t.tween,r=t.Component},function(t){s=t.EventMgr},function(t){a=t.EventType},function(t){u=t.AudioMgr}],execute:function(){var f;i._RF.push({},"9cc75GPyNhPbrMCf9SM9JDq","EffectAlert",void 0);var l=n.ccclass;n.property,t("EffectAlert",l("Game/EffectAlert")(f=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).uiOpacity=null,e}e(i,t);var n=i.prototype;return n.onLoad=function(){this.uiOpacity=this.getComponent(o),s.on(a.TimeTick,this.onTimeTick,this),s.on(a.UseSkillFreeze,this.onUseSkillFreeze,this),this.node.active=!1},n.start=function(){c(this.uiOpacity).sequence(c(this.uiOpacity).to(.5,{opacity:50}),c(this.uiOpacity).to(.5,{opacity:255})).repeatForever().start()},n.onDestroy=function(){s.off(a.TimeTick,this.onTimeTick,this),s.off(a.UseSkillFreeze,this.onUseSkillFreeze,this)},n.onTimeTick=function(t){var e=this.node.active,i=t>0&&t<=5;this.node.active=i,!e&&i&&u.playSfx("a倒计时")},n.onUseSkillFreeze=function(){this.node.active=!1},i}(r))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/EffectFreeze.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./EventType.ts","./EventMgr.ts","./AudioMgr.ts"],(function(e){var t,n,o,i,s,r,c,u,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.isValid,s=e.Component},function(e){r=e.Global},function(e){c=e.EventType},function(e){u=e.EventMgr},function(e){l=e.AudioMgr}],execute:function(){var f;n._RF.push({},"2e5d7SFu5lLq6y6HumTkSLl","EffectFreeze",void 0);var a=o.ccclass;o.property,e("EffectFreeze",a("Game/EffectFreeze")(f=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onLoad=function(){u.on(c.UseSkillFreeze,this.onRemove,this)},o.onDestroy=function(){u.off(c.UseSkillFreeze,this.onRemove,this),this.unscheduleAllCallbacks()},o.start=function(){this.scheduleOnce(this.onRemove,r.Freeze_Time),l.playSfx("a冰冻道具")},o.onRemove=function(){i(this.node)&&this.node.destroy()},n}(s))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectMgr.ts",["cc"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy,n=t.instantiate}],execute:function(){e._RF.push({},"99a40aze3xOO67617VY8NcF","EffectMgr",void 0);t("EffectMgr",function(){function t(){}return t.create=function(t,e,c){var r=n(t);return e.addChild(r),c&&r.setWorldPosition(c),r},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Egg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./ArrayUtil.ts","./EventMgr.ts","./EventType.ts"],(function(t){var n,o,i,s,r,a,e,h,p,c,g,u,l;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,s=t.RigidBody2D,r=t.Sprite,a=t.v2,e=t.math,h=t.Component},function(t){p=t.ResMgr},function(t){c=t.Bundle},function(t){g=t.ArrayUtil},function(t){u=t.EventMgr},function(t){l=t.EventType}],execute:function(){var d;o._RF.push({},"9ef1bqkvYxOko3rB7h0hSZe","Egg",void 0);var y=i.ccclass;i.property,t("Egg",y("Item/Egg")(d=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).rigidBody=null,n.sp=null,n.orgPos=null,n}n(o,t);var i=o.prototype;return i.onLoad=function(){this.rigidBody=this.getComponent(s),this.sp=this.getComponent(r),this.rigidBody.gravityScale=0;var t=g.pickItem([1,2,3]),n=p.getSpriteFrame(c.UI,"niuidan"+t,"image/uiGashapon/");this.sp.spriteFrame=n,this.orgPos=this.node.getPosition(),u.on(l.StartGashapon,this.onStartGashapon,this),u.on(l.EndGashapon,this.onEndGashapon,this)},i.onDestroy=function(){u.off(l.StartGashapon,this.onStartGashapon,this),u.off(l.EndGashapon,this.onEndGashapon,this)},i.onStartGashapon=function(){var t=a();t.x=e.randomRange(-50,50),t.y=50,t.normalize().multiplyScalar(50),this.rigidBody.linearVelocity=t},i.onEndGashapon=function(){this.node.setPosition(this.orgPos),this.rigidBody.linearVelocity=a()},o}(h))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/EnergyMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageUtil.ts","./Global.ts","./TimeUtil.ts","./EventMgr.ts","./EventType.ts"],(function(e){var t,n,r,i,s,g,o,a,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,i=e._decorator,s=e.Component},function(e){g=e.StorageUtil},function(e){o=e.Global},function(e){a=e.TimeUtil},function(e){c=e.EventMgr},function(e){u=e.EventType}],execute:function(){var y,E;r._RF.push({},"84722e8aWpAS6xbNSALQyUA","EnergyMgr",void 0);var h=i.ccclass,m=(i.property,3e5);e("EnergyMgr",h("Manager/EnergyMgr")(((E=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.onLoad=function(){window&&(window.EnergyMgr=r),r._node=this.node,r.init()},r.init=function(){this.MaxEnergy=g.getItem("maxEnergy",o.Default_Max_Energy),this.CurEnergy=g.getItem("curEnergy",o.Default_Max_Energy),this.LastRecoverTime=g.getItem("lastRecoverTime",-1)},i.update=function(e){r.Enabled&&r.updateEnergy(e)},r.updateEnergy=function(e){if(!(this._curEngery>=this._maxEngergy)){var t=a.getCurrTimeStamp();-1===this._lastRecoverTime&&(this.LastRecoverTime=t);var n=t-this._lastRecoverTime;if(n>=m){var r=Math.floor(n/m);this.CurEnergy=Math.min(this._curEngery+r,this._maxEngergy)}}},n(r,null,[{key:"Enabled",get:function(){return this._node.active},set:function(e){this._node.active=e}},{key:"CurEnergy",get:function(){return this._curEngery},set:function(e){var t=this._curEngery;this._curEngery=e,this._curEngery<0&&(this._curEngery=0),this._curEngery>t&&(this.LastRecoverTime=-1),c.emit(u.UpdateEnergy),g.setItem("curEnergy",this._curEngery)}},{key:"MaxEnergy",get:function(){return this._maxEngergy},set:function(e){this._maxEngergy=e,c.emit(u.UpdateEnergy),g.setItem("maxEnergy",this._maxEngergy)}},{key:"LastRecoverTime",set:function(e){this._lastRecoverTime=e,g.setItem("lastRecoverTime",this._lastRecoverTime)}},{key:"isEmpty",get:function(){return!!this.Enabled&&this._curEngery<=0}}]),r}(s))._node=void 0,E._curEngery=10,E._maxEngergy=10,E._lastRecoverTime=-1,y=E))||y);r._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,i,r;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.director,r=n.Component}],execute:function(){var c,s;e._RF.push({},"9a7eeGxAlpJtL+cEC8eYEST","EventMgr",void 0);var u=o.ccclass;o.property,n("EventMgr",u("Manager/EventMgr")(((s=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.onLoad=function(){e._node=this.node,i.addPersistRootNode(this.node)},e.on=function(n,t,e,o){this._node.on(n,t,e,o)},e.once=function(n,t,e,o){this._node.once(n,t,e,o)},e.emit=function(n,t,e,o,i,r){this._node.emit(n,t,e,o,i,r)},e.off=function(n,t,e,o){this._node.off(n,t,e,o)},e.offAll=function(n){this._node.targetOff(n)},e.has=function(n,t,e){return this._node.hasEventListener(n,t,e)},e}(r))._node=void 0,c=s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventType.ts",["cc"],(function(e){var l;return{setters:[function(e){l=e.cclegacy}],execute:function(){l._RF.push({},"c7fa9QGmtBBIYbVwCza1OPL","EventType",void 0);e("EventType",function(e){return e.Click="click",e.WxOnShow="WxOnShow",e.WxOnHide="WxOnHide",e.UpdateRedPoint="UpdateRedPoint",e.Pause="Pause",e.Resume="Resume",e.OpenUI="OpenUI",e.CloseUI="CloseUI",e.SelectBall="SelectBall",e.ReqCreateBall="ReqCreateBall",e.TimeTick="TimeTick",e.TimeOut="TimeOut",e.TimeReset="TimeReset",e.Revive="Revive",e.Win="Win",e.Fail="Fail",e.UseSkillFreeze="UseSkillFreeze",e.UseSkillErase="UseSkillErase",e.UseSkillMove="UseSkillMove",e.AddSkillFreeze="AddSkillFreeze",e.AddSkillErase="AddSkillErase",e.AddSkillMove="AddSkillMove",e.UpdateSkillCnt="UpdateSkillCnt",e.AddSkill="AddSkill",e.UpdateLevel="UpdateLevel",e.UpdateCoin="UpdateCoin",e.StartGashapon="StartGashapon",e.EndGashapon="EndGashapon",e.UnlockHomePeice="UnlockHomePeice",e.CoinItemShow="CoinItemShow",e.CoinItemHide="CoinItemHide",e}({}));l._RF.pop()}}}));

System.register("chunks:///_virtual/FailType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1e1a9ehIeNOm6QF1fszV/ky","FailType",void 0);e("FailType",function(e){return e[e.TimeOut=0]="TimeOut",e[e.SlotFull=1]="SlotFull",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Floaty.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,i,n,a,l,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.tween,s=t.v3,c=t.Component}],execute:function(){var f,u,p,h;n._RF.push({},"eaa9aoMVFhCBY75R+3rE22h","Floaty",void 0);var y=a.ccclass,v=a.property;t("Floaty",y("Misc/Floaty")((p=e((u=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"floatInterval",p,i(e)),o(e,"floatOffset",h,i(e)),e}return r(e,t),e.prototype.start=function(){l(this.node).sequence(l(this.node).by(this.floatInterval,{position:s(0,this.floatOffset,0)}),l(this.node).by(this.floatInterval,{position:s(0,-this.floatOffset,0)})).repeatForever().start()},e}(c)).prototype,"floatInterval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),h=e(u.prototype,"floatOffset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=u))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/FlyBall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BallBase.ts"],(function(l){var t,e,n,r;return{setters:[function(l){t=l.inheritsLoose},function(l){e=l.cclegacy,n=l._decorator},function(l){r=l.BallBase}],execute:function(){var a;e._RF.push({},"b8254JW2WVPPZH1ouCdE/YJ","FlyBall",void 0);var c=n.ccclass;n.property,l("FlyBall",c("Game/FlyBall")(a=function(l){function e(){return l.apply(this,arguments)||this}return t(e,l),e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./ResMgr.ts","./Bundle.ts","./Debug.ts","./StorageUtil.ts","./TimeMgr.ts","./GameMode.ts","./UI.ts","./cfg_ball.ts","./Global.ts","./BallType.ts","./ArrayUtil.ts","./GameUtil.ts","./cfg_level.ts","./TrackMgr.ts"],(function(e){var t,a,r,l,i,s,n,u,o,c,p,h,g,v,f,m,d,L,_,M,y,G,B,b,S,D,k;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,n=e.instantiate,u=e.math,o=e.Component},function(e){c=e.EventMgr},function(e){p=e.EventType},function(e){h=e.ResMgr},function(e){g=e.Bundle},function(e){v=e.Debug},function(e){f=e.StorageUtil},function(e){m=e.TimeMgr},function(e){d=e.GameMode,L=e.ModeName},function(e){_=e.UI},function(e){M=e.CfgBall},function(e){y=e.Global},function(e){G=e.BallType},function(e){B=e.ArrayUtil},function(e){b=e.GameUtil},function(e){S=e.CfgNormalLevel,D=e.CfgSuperLevel},function(e){k=e.TrackMgr}],execute:function(){var I,T;i._RF.push({},"fc7ab3uDQZMAr967dLrCODL","GameMgr",void 0);var x=s.ccclass,C=(s.property,"GameMgr"),N=e("GameMgr",x("Manager/GameMgr")(((T=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.onLoad=function(){globalThis.GameMgr=i,i._node=this.node,i.curLevel=f.getItem("curLevel",1)},i.createStage=function(){var e=h.getRes(g.Game,"Stage");this.stage=n(e),this._node.addChild(this.stage)},i.startGame=function(){var e=r(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.Is_Test_Level=!1,this.ballData=[],this.curIdArr=[],c.emit(p.OpenUI,_.Transition),k.track("start_game",{mode:this.GameModeName,level:this.GameLevelId}),e.next=7,m.delay(.5);case 7:return this.stage&&this.stage.destroy(),e.next=10,m.delay();case 10:this.createStage(),v.Log(C,"游戏开始");case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.quitGame=function(){var e=r(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stage){e.next=2;break}return e.abrupt("return");case 2:return this.ballData=[],this.curIdArr=[],c.emit(p.OpenUI,_.Transition),e.next=7,m.delay(.5);case 7:this.stage&&this.stage.destroy(),this.stage=null,v.Log(C,"游戏放弃");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.initLevelConfig=function(){var e=0,t=null;if(y.Is_Test_Level)switch(this.Mode){case d.Normal:e=this.CurLevel-1,y.Ball_Scale=Math.max(1-e*y.Ball_Shrink_Scale,y.Min_Ball_Scale),y.Ball_Scale<=.65?y.Max_Group=40:y.Max_Group=Math.min(15+e,40);break;case d.Super:e=this.SuperLevel-1,y.Ball_Scale=[1,y.Min_Ball_Scale][e],y.Max_Group=[20,40][e]}else switch(this.Mode){case d.Normal:e=this.CurLevel>70?u.randomRangeInt(50,70):this.CurLevel-1,t=S[e],y.Ball_Group=t.group,y.Pig_Group=t.pigGroup,y.Pair_Group=t.pairGroup,y.Level_Time=t.time,y.Ball_Scale=Math.max(1-e*y.Ball_Shrink_Scale,y.Min_Ball_Scale),y.Max_Group=y.Ball_Scale<=.65?40:Math.min(15+e,40);break;case d.Super:e=this.SuperLevel-1,t=D[e],y.Ball_Group=t.group,y.Pig_Group=0,y.Pair_Group=t.pairGroup,y.Level_Time=t.time,y.Ball_Scale=[1,y.Min_Ball_Scale][e],y.Max_Group=[20,40][e]}},i.generateBallData=function(e,t,a){var r=[];switch(this.Mode){case d.Normal:if(1===this.CurLevel){r=b.getNormalBalls();for(var l=e-t,i=0;i<l;i++){var s=B.pickItem(r);this.ballData.push(s,s,s)}var n=b.getBallsByType(G.Pig);n=n.splice(0,1);var u=B.pickItem(n);this.ballData.push(u,u,u),B.shuffle(this.ballData),this.printBallData()}else this.isHardLevel?this.generatePigLevelGroup(e,t,a):this.generateNoPigLevelGroup(e,t,a);break;case d.Super:this.generateNoPigLevelGroup(e,t,a)}v.Log(C,"当前关卡总共"+e+"组球")},i.generatePigLevelGroup=function(e,t,a){for(var r=[G.Red,G.Yellow,G.Blue],l=B.pickItem(r),i=b.getBallsByType(l),s=e-t,n=[],u=[],o=0;o<s;o++){var c=B.pickItem(i);o<a?n.push(c,c,c):u.push(c,c,c)}var p=b.getBallsByType(G.Pig),h=1+Math.floor(this.CurLevel/5);p=p.splice(0,h);for(var g=0;g<t;g++){var v=B.pickItem(p);u.push(v,v,v)}B.shuffle(u);for(var f=0;f<e;f++)if(f%2==0){if(n.length>0){var m,d=n.splice(0,3);(m=this.ballData).push.apply(m,d)}else if(u.length>0){var L,_=u.splice(0,3);(L=this.ballData).push.apply(L,_)}}else if(u.length>0){var M,y=u.splice(0,3);(M=this.ballData).push.apply(M,y)}else if(n.length>0){var S,D=n.splice(0,3);(S=this.ballData).push.apply(S,D)}this.printBallData()},i.generateNoPigLevelGroup=function(e,t,a){for(var r=b.getNormalBalls(),l=e-t,i=[],s=[],n=0;n<l;n++){var u=B.pickItem(r);n<a?i.push(u,u,u):s.push(u,u,u)}B.shuffle(s);for(var o=0;o<e;o++)if(o%2==0){if(i.length>0){var c,p=i.splice(0,3);(c=this.ballData).push.apply(c,p)}else if(s.length>0){var h,g=s.splice(0,3);(h=this.ballData).push.apply(h,g)}}else if(s.length>0){var v,f=s.splice(0,3);(v=this.ballData).push.apply(v,f)}else if(i.length>0){var m,d=i.splice(0,3);(m=this.ballData).push.apply(m,d)}this.printBallData()},i.printBallData=function(){for(var e=new Map,t=0;t<this.ballData.length;t++){var a=this.ballData[t].name;e.has(a)||e.set(a,0);var r=e.get(a);e.set(a,r+1)}console.log("总共"+this.ballData.length+"个球"),console.log(e)},i.printCurIdArr=function(){for(var e=0;e<this.curIdArr.length;e++){var t=this.curIdArr[e],a=M[t];console.log(a)}},a(i,null,[{key:"Pause",get:function(){return this._pause},set:function(e){this._pause=e,c.emit(p.Pause,e)}},{key:"CurLevel",get:function(){return this.curLevel},set:function(e){this.curLevel=Math.max(1,e),f.setItem("curLevel",this.curLevel),c.emit(p.UpdateLevel,this.curLevel)}},{key:"SuperLevel",get:function(){return this.superLevel},set:function(e){this.superLevel=Math.min(e,2),c.emit(p.UpdateLevel,this.superLevel)}},{key:"Mode",get:function(){return this.mode},set:function(e){this.mode=e}},{key:"GameModeName",get:function(){return L[this.mode]}},{key:"GameLevelId",get:function(){switch(this.mode){case d.Normal:return this.curLevel;case d.Super:return this.superLevel}}},{key:"isHardLevel",get:function(){return this.curLevel>1&&this.curLevel%5==0}}]),i}(o))._node=void 0,T._pause=!1,T.stage=null,T.slotBox=null,T.curLevel=1,T.superLevel=1,T.mode=d.Normal,T.ballData=[],T.curIdArr=[],I=T))||I);globalThis.GameMgr=N,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameMode.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"d8c753sxMRLdryLDTONtJ6d","GameMode",void 0);e("GameMode",function(e){return e[e.Normal=0]="Normal",e[e.Super=1]="Super",e}({})),e("ModeName",["normal","super"]);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtil.ts",["cc","./Global.ts","./cfg_ball.ts","./BallType.ts"],(function(t){var e,n,c,l,i,o;return{setters:[function(t){e=t.cclegacy,n=t.sys,c=t.game},function(t){l=t.qg},function(t){i=t.CfgBall},function(t){o=t.BallType}],execute:function(){e._RF.push({},"b956eqLejpFnJDRlZtO5TSN","GameUtil",void 0);t("GameUtil",function(){function t(){}return t.getBallsByType=function(t){return i.filter((function(e){return e.type==t}))},t.getNormalBalls=function(){return i.filter((function(t){return t.type!=o.Pig}))},t.isType=function(t,e){var n=i[t];return!!n&&n.type==e},t.exit=function(){switch(n.platform){case n.Platform.MOBILE_BROWSER:case n.Platform.DESKTOP_BROWSER:case n.Platform.ANDROID:c.end();break;case n.Platform.OPPO_MINI_GAME:l.exitApplication({data:"",success:function(){console.log("success")},fail:function(t){console.error(t)}})}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GashaponMgr.ts",["cc","./cfg_gashapon.ts","./MathUtil.ts"],(function(t){var n,a,e;return{setters:[function(t){n=t.cclegacy},function(t){a=t.CfgGashapon},function(t){e=t.MathUtil}],execute:function(){n._RF.push({},"2c746c99KhC2pE9Udsq66Dg","GashaponMgr",void 0);t("GashaponMgr",function(){function t(){}return t.getRandId=function(){for(var t=[],n=0;n<a.length;n++){var r=a[n];t.push(r.weight)}return e.randWeight(t)},t.getRandReward=function(){var t=this.getRandId(),n=a[t];return{itemId:n.itemId,cnt:n.cnt}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["cc"],(function(e){var _;return{setters:[function(e){_=e.cclegacy}],execute:function(){_._RF.push({},"8b9a7NpOe9NkL6FuWN5ugvn","Global",void 0);var l=e("Global",(function(){}));l.Version="1.0.0",l.Default_Item={0:0,1:1,2:1,3:1},l.Level_Time=30,l.Is_Hard_Level=!1,l.Ball_Group=3,l.Pig_Group=0,l.Pair_Group=0,l.Is_Test_Level=!1,l.Freeze_Time=30,l.Slot_Cnt=7,l.Max_Group=20,l.Ball_Scale=1,l.Ball_Shrink_Scale=.025,l.Min_Ball_Scale=.6,l.Normal_Level_Coin_Default_Cnt=100,l.Normal_Level_Coin_Add_Cnt=10,l.Super_Level_Coin_Default_Cnt=1e3,l.Gashapon_One_Cost=500,l.Gashapon_Ten_Cost=4500,l.HomePeice_Unlock_Cost=1111,l.SideBar_Reward_Coin=300,l.Share_Record_Coin=300,l.Last_Inter_Ad_Show_Time=0;e("ks",globalThis.ks),e("wx",globalThis.wx),e("qq",globalThis.qq),e("qg",globalThis.qg),e("tt",globalThis.tt),e("my",globalThis.my),e("TAPTAP",!1);_._RF.pop()}}}));

System.register("chunks:///_virtual/HomeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HomePieceItem.ts","./HomeMgr.ts","./CoinMgr.ts","./Global.ts","./UIMgr.ts","./UI.ts","./EventMgr.ts","./EventType.ts","./AudioMgr.ts","./Bundle.ts","./EffectMgr.ts","./ResMgr.ts"],(function(e){var t,n,i,o,r,c,l,a,s,u,f,m,p,d,h,g,b,k,U,v,y,I,P,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.Prefab,a=e.Node,s=e.instantiate,u=e.ParticleSystem2D,f=e.v2,m=e.Component},function(e){p=e.HomePieceItem},function(e){d=e.HomeMgr},function(e){h=e.CoinMgr},function(e){g=e.Global},function(e){b=e.UIMgr},function(e){k=e.UI},function(e){U=e.EventMgr},function(e){v=e.EventType},function(e){y=e.AudioMgr},function(e){I=e.Bundle},function(e){P=e.EffectMgr},function(e){C=e.ResMgr}],execute:function(){var H,M,S,_,R,z,A,D,E,w,B;r._RF.push({},"65609U4HQBDio5HR5ZkjAY1","HomeItem",void 0);var x=c.ccclass,T=c.property;e("HomeItem",(H=x("Item/HomeItem"),M=T(l),S=T(a),_=T(a),R=T(a),H((D=t((A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"homePieceItemPre",D,o(t)),i(t,"btnUnlock",E,o(t)),i(t,"lock",w,o(t)),i(t,"content",B,o(t)),t.id=0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){U.on(v.UnlockHomePeice,this.updateState,this)},r.start=function(){this.id=this.node.getSiblingIndex();for(var e=0;e<9;e++){var t=s(this.homePieceItemPre);this.content.addChild(t),t.getComponent(p).Id=this.id}this.updateState()},r.onDestroy=function(){U.off(v.UnlockHomePeice,this.updateState,this)},r.onBtnUnlockClick=function(){if(h.CurCoin<g.HomePeice_Unlock_Cost)b.open(k.Toast,"金币不足");else if(y.playSfx("a家园解锁"),h.CurCoin-=g.HomePeice_Unlock_Cost,U.emit(v.UpdateCoin,h.CurCoin,!1),d.unlock(this.id),U.emit(v.UnlockHomePeice),d.isAllUnlocked(this.id)){var e=C.getRes(I.UI,"Shinning","particle/"),t=P.create(e,this.node).getComponent(u);t.posVar=f(360,800),t.totalParticles=30,t.emissionRate=15,y.playSfx("a通关成功")}},r.updateState=function(){var e=d.canUnlock(this.id),t=d.isAllUnlocked(this.id);this.btnUnlock.active=e&&!t,this.lock.active=!e},t}(m)).prototype,"homePieceItemPre",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(A.prototype,"btnUnlock",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(A.prototype,"lock",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(A.prototype,"content",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=A))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/HomeMgr.ts",["cc","./ArrayUtil.ts","./StorageUtil.ts","./TrackMgr.ts"],(function(n){var e,t,o,c;return{setters:[function(n){e=n.cclegacy},function(n){t=n.ArrayUtil},function(n){o=n.StorageUtil},function(n){c=n.TrackMgr}],execute:function(){e._RF.push({},"9f2bbwUKxtHE4nzX2C8klWK","HomeMgr",void 0);var r=n("HomeMgr",function(){function n(){}return n.init=function(){this.unlockedHome=o.getObj("unlockedHome",{0:[]})},n.unlock=function(n){this.unlockedHome.hasOwnProperty(n)||(this.unlockedHome[n]=[]);var e=this.unlockedHome[n],r=t.removeMultiIdx([0,1,2,3,4,5,6,7,8],e);if(!(r.length<=0)){var u=t.pickItem(r);e.push(u),e.sort(),o.setObj("unlockedHome",this.unlockedHome),c.track("unlock_home")}},n.isUnlocked=function(n,e){var t=this.unlockedHome[n];return t?t.includes(e):null},n.isAllUnlocked=function(n){var e=this.unlockedHome[n];return!!e&&e.length>=9},n.canUnlock=function(n){if(n<=0)return!0;var e=n-1,t=this.unlockedHome[e];return!!t&&t.length>=9},n}());r.unlockedHome={},globalThis.HomeMgr=r,e._RF.pop()}}}));

System.register("chunks:///_virtual/HomePieceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./HomeMgr.ts","./EventMgr.ts","./EventType.ts","./EffectMgr.ts"],(function(e){var t,n,i,o,c,s,r,u,a,l,f,h;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,o=e._decorator,c=e.Sprite,s=e.Component},function(e){r=e.ResMgr},function(e){u=e.Bundle},function(e){a=e.HomeMgr},function(e){l=e.EventMgr},function(e){f=e.EventType},function(e){h=e.EffectMgr}],execute:function(){var p;i._RF.push({},"1bee2+Mu+FNnaZgBFaEZsj7","HomePieceItem",void 0);var d=o.ccclass;o.property,e("HomePieceItem",d("Item/HomePieceItem")(p=function(e){function i(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).sp=null,t.id=0,t.isUnlocked=!1,t}t(i,e);var o=i.prototype;return o.onLoad=function(){this.sp=this.getComponent(c),l.on(f.UnlockHomePeice,this.onUnlockHomePeice,this)},o.onDestroy=function(){l.off(f.UnlockHomePeice,this.onUnlockHomePeice,this)},o.updateState=function(){var e=this.node.getSiblingIndex(),t=a.isUnlocked(this.id,e);this.isUnlocked=t;var n=t?""+e:e+"_1",i=r.getSpriteFrame(u.UI,n,"image/uiHome/"+this.id+"/");this.sp.spriteFrame=i},o.onUnlockHomePeice=function(){var e=this.isUnlocked;if(this.updateState(),!e&&this.isUnlocked){var t=r.getRes(u.UI,"Shinning","particle/");h.create(t,this.node)}},n(i,[{key:"Id",get:function(){return this.id},set:function(e){this.id=e,this.updateState()}}]),i}(s))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/InputBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,c,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,c=t._decorator,o=t.BlockInputEvents,s=t.Component}],execute:function(){var u,l;i._RF.push({},"9b7dfe7eXxHR4G7BQOM8lL3","InputBlock",void 0);var r=c.ccclass,p=c.requireComponent,a=c.disallowMultiple;t("InputBlock",r("Misc/InputBlock")(u=a(!0)(u=p(o)(((l=function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i.prototype.onLoad=function(){i._inst=this,i.Active=!1},i.setActive=function(t){this._inst.unscheduleAllCallbacks(),this.Active=!0,this._inst.scheduleOnce((function(){i.Active=!1}),t)},e(i,null,[{key:"Active",set:function(t){this._inst.node.active=t}}]),i}(s))._inst=void 0,u=l))||u)||u)||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./CfgItem.ts","./StorageUtil.ts"],(function(t){var i,e,c,n,s;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){c=t.Global},function(t){n=t.CfgItem},function(t){s=t.StorageUtil}],execute:function(){e._RF.push({},"8a5f49UPdhHBq9JLMhh6us4","ItemMgr",void 0);var u=t("ItemMgr",function(){function t(){}return t.init=function(){this.itemDic=s.getObj("itemDic",c.Default_Item),s.setObj("itemDic",this.itemDic)},t.setItem=function(t,i){return this.itemDic[t]||(this.itemDic[t]=0),this.itemDic[t]=i,s.setObj("itemDic",this.itemDic),this.itemDic[t]},t.updateItem=function(t,i){return this.itemDic[t]||(this.itemDic[t]=0),this.itemDic[t]+=i,s.setObj("itemDic",this.itemDic),this.itemDic[t]},t.getType=function(t){return n[t].type},t.getCnt=function(t){return this.itemDic[t]},i(t,null,[{key:"ItemDic",get:function(){return this.itemDic}}]),t}());u.itemDic={},globalThis.ItemMgr=u,e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"41e94mhPxZNyIeHSVzn2TyK","ItemType",void 0);e("ItemType",function(e){return e[e.Coin=0]="Coin",e[e.Skill=1]="Skill",e[e.Collection=2]="Collection",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,u,n,s,l,a,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,u=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.Label,a=e.CCInteger,c=e.Component}],execute:function(){var o,h,b,f,p,m,d,N;n._RF.push({},"51142RfrX9DBphTxuZVxIcR","LabelTick",void 0);var x=s.ccclass,g=s.property,v=s.requireComponent;e("LabelTick",(o=x("UIExtend/LabelTick"),h=v(l),b=g(a),o(f=h((m=i((p=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return i=e.call.apply(e,[this].concat(n))||this,r(i,"prefix",m,u(i)),r(i,"suffix",d,u(i)),r(i,"decimalPlaces",N,u(i)),i.label=null,i.curNumber=0,i.intervalPerUpdate=0,i.finalNumber=0,i}t(i,e);var n=i.prototype;return n.onLoad=function(){this.label=this.getComponent(l)},n.onEnable=function(){},n.onDisable=function(){this.unscheduleAllCallbacks()},n.onDestroy=function(){this.unscheduleAllCallbacks()},n.init=function(e){this.curNumber=e,this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix},n.tickLabel=function(e,i){void 0===i&&(i=.5),this.curNumber===e?(this.curNumber=e,this.finalNumber=e,this.label.string=""+this.prefix+this.finalNumber.toFixed(this.decimalPlaces)+this.suffix):(this.finalNumber=e,this.intervalPerUpdate=(e-this.curNumber)/(33*i),this.unschedule(this.updateForNumber),this.schedule(this.updateForNumber,.03),this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix)},n.updateForNumber=function(e){this.curNumber+=this.intervalPerUpdate,(this.intervalPerUpdate>0&&this.curNumber>this.finalNumber||this.intervalPerUpdate<0&&this.curNumber<this.finalNumber)&&(this.curNumber=this.finalNumber,this.unschedule(this.updateForNumber)),this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix},n.stop=function(){this.unschedule(this.updateForNumber),this.curNumber=null,this.finalNumber=null},i}(c)).prototype,"prefix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=i(p.prototype,"suffix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=i(p.prototype,"decimalPlaces",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=p))||f)||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/Load.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bundle.ts","./ResMgr.ts","./Setting.ts","./AdMgr.ts","./CollectMgr.ts","./DecMgr.ts","./HomeMgr.ts","./ItemMgr.ts","./PassRewardMgr.ts","./RankMgr.ts"],(function(e){var r,t,n,o,i,s,a,c,u,l,d,p,g,f,h,m,B,M,R,v,y,x,D;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,u=e.ProgressBar,l=e.math,d=e.director,p=e.Component,g=e.macro},function(e){f=e.Bundle},function(e){h=e.ResMgr},function(e){m=e.Setting},function(e){B=e.AdMgr},function(e){M=e.CollectMgr},function(e){R=e.DecMgr},function(e){v=e.HomeMgr},function(e){y=e.ItemMgr},function(e){x=e.PassRewardMgr},function(e){D=e.RankMgr}],execute:function(){var P,w,I,A,L;a._RF.push({},"c44ddJa9ZpJIIUxBBel/awW","Load",void 0);var k=c.ccclass,F=c.property;e("Load",(P=k("Scene/Load"),w=F(u),P((L=r((A=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,n(r,"progressBar",L,o(r)),r.loaded=!1,r}t(r,e);var a=r.prototype;return a.start=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.init(),e.next=3,this.loadBundle();case 3:this.loadRes(),this.schedule(this.updateProgress,.3,g.REPEAT_FOREVER);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.init=function(){m.init(),B.init(),y.init(),R.init(),M.init(),v.init(),x.init(),D.init()},a.loadBundle=function(){return Promise.all([h.loadBundle(f.Font),h.loadBundle(f.Game),h.loadBundle(f.UI),h.loadBundle(f.Audio),h.loadBundle(f.Icon)])},a.loadRes=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.loadDir(f.Resources);case 2:return e.next=4,h.loadDir(f.Icon);case 4:return e.next=6,h.loadDir(f.Font);case 6:return e.next=8,h.loadDir(f.Audio);case 8:return e.next=10,h.loadDir(f.UI);case 10:return e.next=12,h.loadDir(f.Game);case 12:this.loaded=!0;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.updateProgress=function(){var e=l.randomRange(.1,.3);this.progressBar.progress=Math.min(this.progressBar.progress+e,.9),this.loaded&&(this.progressBar.progress=1,this.unschedule(this.updateProgress),this.scheduleOnce((function(){d.loadScene("main")}),.1))},r}(p)).prototype,"progressBar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=A))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./DebugPanel.ts","./Global.ts","./Setting.ts","./CfgDec.ts","./CfgItem.ts","./CfgName.ts","./cfg_ball.ts","./cfg_gashapon.ts","./cfg_level.ts","./cfg_passReward.ts","./DtoBall.ts","./DtoGashapon.ts","./DtoLevel.ts","./DtoPassReward.ts","./DtoRank.ts","./DtoReward.ts","./BallType.ts","./Bundle.ts","./EventType.ts","./FailType.ts","./GameMode.ts","./ItemType.ts","./PhysicGroup.ts","./SkillType.ts","./UI.ts","./UIType.ts","./Ball.ts","./BallBase.ts","./BallBox.ts","./BtnSkillBase.ts","./EffectAlert.ts","./EffectFreeze.ts","./FlyBall.ts","./SkillBox.ts","./Slot.ts","./SlotBall.ts","./Stage.ts","./StageTimer.ts","./SuperModeTip.ts","./AdMgr.ts","./AudioMgr.ts","./CoinMgr.ts","./CollectMgr.ts","./DecMgr.ts","./EffectMgr.ts","./EnergyMgr.ts","./EventMgr.ts","./GameMgr.ts","./GashaponMgr.ts","./HomeMgr.ts","./ItemMgr.ts","./PassRewardMgr.ts","./RankMgr.ts","./ResMgr.ts","./SkillMgr.ts","./TimeMgr.ts","./TrackMgr.ts","./UIMgr.ts","./Decoration.ts","./Floaty.ts","./InputBlock.ts","./RedPoint.ts","./Rotate.ts","./Shake.ts","./RefButton.ts","./RefSprite.ts","./Load.ts","./Main.ts","./Wechat.ts","./WxAd.ts","./WxShare.ts","./BtnExtend.ts","./CirclePageView.ts","./LabelTick.ts","./Switcher.ts","./ToggleExtend.ts","./UIBase.ts","./UICollect.ts","./UICollectInfo.ts","./UIDecoration.ts","./UIFail.ts","./UIGame.ts","./UIGashapon.ts","./UIGetReward.ts","./UIHome.ts","./UIMain.ts","./UIPassReward.ts","./UIPause.ts","./UIRank.ts","./UIReplay.ts","./UIRevive.ts","./UISetting.ts","./UISkill.ts","./UIStageTip.ts","./UISuperWin.ts","./UIToast.ts","./UITransition.ts","./UIWin.ts","./CoinItem.ts","./CollectItem.ts","./DecItem.ts","./Egg.ts","./HomeItem.ts","./HomePieceItem.ts","./RankItem.ts","./TimeOutReviveTip.ts","./ArrayUtil.ts","./Debug.ts","./GameUtil.ts","./MathUtil.ts","./ObjUtil.ts","./StorageUtil.ts","./TimeUtil.ts","./VibrateUtil.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIMgr.ts","./UI.ts","./TrackMgr.ts","./StorageUtil.ts"],(function(t){var e,n,r,i,c,o,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,i=t.Component},function(t){c=t.UIMgr},function(t){o=t.UI},function(t){a=t.TrackMgr},function(t){s=t.StorageUtil}],execute:function(){var u;n._RF.push({},"ae8df2n3YhLxI5JSggXuKQc","Main",void 0);var g=r.ccclass;r.property,t("Main",g("Scene/Main")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.start=function(){c.open(o.Main);var t=s.getItem("isNew",1==s.getItem("curLevel",1));a.track("enter_game",{is_new_player:t}),s.setItem("isNew",!1)},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy,r=t.math}],execute:function(){n._RF.push({},"c0d0eKNUodPMpvHFwYAailX","MathUtil",void 0);t("MathUtil",function(){function t(){}return t.IsInRange=function(t,n,r){return!(t<n)&&!(t>r)},t.randWeight=function(t){if(!t)return-1;if(t.length<=0)return-1;for(var n=[0],e=0,u=0;u<t.length;u++){var i=t[u];e+=i,n.push(n[u]+i)}for(var a=r.randomRange(0,e),c=0;c<n.length;c++)if(a>=n[c]&&a<=n[c+1])return c;return-1},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ObjUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"f8d2eYTnyVHsraF02+wD5vV","ObjUtil",void 0);t("ObjUtil",function(){function t(){}return t.isEmpty=function(t){return 0===Object.keys(t).length},t.get=function(t,n,e){return t&&t.hasOwnProperty(n)?t[n]:e},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PassRewardMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cfg_passReward.ts","./SkillType.ts","./UI.ts","./MathUtil.ts","./StorageUtil.ts","./CoinMgr.ts","./GameMgr.ts","./SkillMgr.ts","./UIMgr.ts"],(function(r){var t,e,n,a,i,s,u,l,c,o,d,g;return{setters:[function(r){t=r.createClass},function(r){e=r.cclegacy,n=r.math},function(r){a=r.CfgPassReward},function(r){i=r.SkillType},function(r){s=r.UI},function(r){u=r.MathUtil},function(r){l=r.StorageUtil},function(r){c=r.CoinMgr},function(r){o=r.GameMgr},function(r){d=r.SkillMgr},function(r){g=r.UIMgr}],execute:function(){e._RF.push({},"972853oX2xCn59czLv4ZpJC","PassRewardMgr",void 0),r("PassRewardMgr",function(){function r(){}return r.init=function(){this.rewardedArr=l.getObj("passRewardedArr",[])},r.getReward=function(){var r=this.rewardedArr.length;this.rewardedArr.push(r),l.setObj("passRewardedArr",this.rewardedArr);for(var t=a[r],e=t.coinCnt,n=t.skillCnt,o=[],f=[i.Freeze,i.Move,i.Erase],h=[15,42.5,42.5],p=0;p<n;p++){var w=f[u.randWeight(h)];d.addSkill(w,1),o.push({itemId:d.getSkillId(w),cnt:1})}c.CurCoin+=e,o.push({itemId:0,cnt:e}),g.open(s.GetReward,o)},r.canGetReward=function(){var r=this.CurData;return o.CurLevel>r.passLevel},r.isAllGet=function(){return this.rewardedArr.length>=a.length},t(r,null,[{key:"CurData",get:function(){var r=n.clamp(this.rewardedArr.length,0,a.length-1);return a[r]}}]),r}()).rewardedArr=[],e._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicGroup.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"73b2czB5GhIlZ2L1pEaYN8Y","PhysicGroup",void 0);e("PhysicsGroup",function(e){return e[e.Default=1]="Default",e[e.Ball=2]="Ball",e[e.Brick=4]="Brick",e[e.Wall=8]="Wall",e[e.Paddle=16]="Paddle",e[e.Item=32]="Item",e[e.DeadArea=64]="DeadArea",e}({}));c._RF.pop()}}}));

System.register("chunks:///_virtual/RankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts"],(function(e){var t,n,r,i,a,l,o,u,c,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Sprite,u=e.Label,c=e.Component},function(e){p=e.ResMgr},function(e){s=e.Bundle}],execute:function(){var b,m,f,g,h,y,v,I,k,R,d;a._RF.push({},"6f702w25wlLH4bCasN5JOXJ","RankItem",void 0);var w=l.ccclass,L=l.property;e("RankItem",(b=w("Item/RankItem"),m=L(o),f=L(o),g=L(u),h=L(u),b((I=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,r(t,"bg",I,i(t)),r(t,"rankIcon",k,i(t)),r(t,"lbName",R,i(t)),r(t,"lbLevel",d,i(t)),t}return n(t,e),t.prototype.init=function(e,t){var n=t.name,r=t.level,i=e<3?"ph_tiao1":"ph_tiao2";this.bg.spriteFrame=p.getSpriteFrame(s.UI,i,"image/uiRank/"),this.rankIcon.spriteFrame=p.getSpriteFrame(s.UI,"ph_mingci"+e,"image/uiRank/"),this.lbName.string=n,this.lbLevel.string=r+"关"},t}(c)).prototype,"bg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"rankIcon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(v.prototype,"lbName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(v.prototype,"lbLevel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgName.ts","./ObjUtil.ts","./StorageUtil.ts","./GameMgr.ts","./ArrayUtil.ts"],(function(t){var a,n,r,e,i,s,o,l;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy,r=t.math},function(t){e=t.CfgName},function(t){i=t.ObjUtil},function(t){s=t.StorageUtil},function(t){o=t.GameMgr},function(t){l=t.ArrayUtil}],execute:function(){n._RF.push({},"b57e9UanYBJ0bsEsLZCTaMR","RankMgr",void 0);var u=t("RankMgr",function(){function t(){}return t.init=function(){if(this.rankData=s.getObj("rankData",{}),i.isEmpty(this.rankData)){for(var t=0;t<e.length;t++){var a=e[t];this.rankData[a]=r.randomRangeInt(1,20)}s.setObj("rankData",this.rankData)}},t.getRankByName=function(t){for(var a=0;a<this.RankArr.length;a++){if(this.RankArr[a].name===t)return a}return-1},t.updateRankData=function(){for(var t in this.rankData)Object.prototype.hasOwnProperty.call(this.rankData,t)&&(this.rankData[t]+=l.pickItem([0,0,0,1,1,2]));s.setObj("rankData",this.rankData)},a(t,null,[{key:"RankArr",get:function(){var t=[];for(var a in this.rankData)if(Object.prototype.hasOwnProperty.call(this.rankData,a)){var n=this.rankData[a];t.push({name:a,level:n})}return t.push({name:"自己",level:o.CurLevel}),t.sort((function(t,a){return a.level-t.level})),t}}]),t}());u.rankData={},globalThis.RankMgr=u,n._RF.pop()}}}));

System.register("chunks:///_virtual/RedPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,c,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,c=t.macro,i=t.Component}],execute:function(){var r;e._RF.push({},"fb4bfHiHMlMQYM0H8tZquMG","RedPoint",void 0);var u=o.ccclass;o.property,t("RedPoint",u("Misc/RedPoint")(r=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(n=t.call.apply(t,[this].concat(o))||this).updateFunc=null,n}n(e,t);var o=e.prototype;return o.onDestroy=function(){this.unscheduleAllCallbacks()},o.start=function(){this.onUpdate(),this.schedule(this.onUpdate,1,c.REPEAT_FOREVER)},o.onUpdate=function(){this.updateFunc&&(this.node.active=this.updateFunc())},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/RefButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Debug.ts"],(function(e){var t,i,r,s,p,h;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,r=e._decorator,s=e.Button,p=e.Component},function(e){h=e.Debug}],execute:function(){var a;i._RF.push({},"fc53cDS9gNPW7qDyGafGChJ","RefButton",void 0);var d=r.ccclass,n=(r.property,r.disallowMultiple),o=r.requireComponent;e("RefButton",d("Ref/RefButton")(a=n(!0)(a=o(s)(a=function(e){function i(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).btn=void 0,t.curNormalSprite=void 0,t.curHoverSprite=void 0,t.curPressedSprite=void 0,t.curDisabledSprite=void 0,t.isNormalSpriteChanged=!1,t.isHoverSpriteChanged=!1,t.isPressedSpriteChanged=!1,t.isDisabledSpriteChanged=!1,t}t(i,e);var r=i.prototype;return r.onLoad=function(){this.btn=this.getComponent(s),this.curNormalSprite=this.btn.normalSprite,this.curHoverSprite=this.btn.hoverSprite,this.curPressedSprite=this.btn.pressedSprite,this.curDisabledSprite=this.btn.disabledSprite},r.update=function(e){this.node.isValid&&(this.updateNormalSpriteFrame(),this.updateHoverSpriteFrame(),this.updatePressedSpriteFrame(),this.updateDisabledSpriteFrame())},r.updateNormalSpriteFrame=function(){this.curNormalSprite!==this.btn.normalSprite&&(this.isNormalSpriteChanged&&this.curNormalSprite&&this.curNormalSprite.decRef(),this.btn.normalSprite&&this.btn.normalSprite.addRef(),this.curNormalSprite=this.btn.normalSprite,this.isNormalSpriteChanged=!0,h.Log(this.name,"设置normalSprite"))},r.updateHoverSpriteFrame=function(){this.curHoverSprite!==this.btn.hoverSprite&&(this.isHoverSpriteChanged&&this.curHoverSprite&&this.curHoverSprite.decRef(),this.btn.hoverSprite&&this.btn.hoverSprite.addRef(),this.curHoverSprite=this.btn.hoverSprite,this.isHoverSpriteChanged=!0,h.Log(this.name,"设置hoverSprite"))},r.updatePressedSpriteFrame=function(){this.curPressedSprite!==this.btn.pressedSprite&&(this.isPressedSpriteChanged&&this.curPressedSprite&&this.curPressedSprite.decRef(),this.btn.pressedSprite&&this.btn.pressedSprite.addRef(),this.curPressedSprite=this.btn.pressedSprite,this.isPressedSpriteChanged=!0,h.Log(this.name,"设置pressedSprite"))},r.updateDisabledSpriteFrame=function(){this.curDisabledSprite!==this.btn.disabledSprite&&(this.isDisabledSpriteChanged&&this.curDisabledSprite&&this.curDisabledSprite.decRef(),this.btn.disabledSprite&&this.btn.disabledSprite.addRef(),this.curDisabledSprite=this.btn.disabledSprite,this.isDisabledSpriteChanged=!0,h.Log(this.name,"设置disabledSprite"))},r.onDestroy=function(){this.isNormalSpriteChanged&&this.curNormalSprite&&this.curNormalSprite.decRef(),this.isHoverSpriteChanged&&this.curHoverSprite&&this.curHoverSprite.decRef(),this.isPressedSpriteChanged&&this.curPressedSprite&&this.curPressedSprite.decRef(),this.isDisabledSpriteChanged&&this.curDisabledSprite&&this.curDisabledSprite.decRef()},i}(p))||a)||a)||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/RefSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,s,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,s=t.Sprite,p=t.Component}],execute:function(){var a;i._RF.push({},"06d3cxmYIlF4rgTwtMJnB++","RefSprite",void 0);var h=r.ccclass,n=r.requireComponent,c=r.disallowMultiple;t("RefSprite",h("Ref/RefSprite")(a=c(!0)(a=n(s)(a=function(t){function i(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).sp=void 0,e.curSpriteFrame=void 0,e.curSpriteAtlas=void 0,e.isSpriteFrameChanged=!1,e.isSpriteAtlasChanged=!1,e}e(i,t);var r=i.prototype;return r.onLoad=function(){this.sp=this.getComponent(s),this.curSpriteFrame=this.sp.spriteFrame,this.curSpriteAtlas=this.sp.spriteAtlas},r.update=function(t){this.node.isValid&&(this.updateSpriteAtlas(),this.updateSpriteFrame())},r.updateSpriteFrame=function(){this.curSpriteFrame!==this.sp.spriteFrame&&(this.isSpriteFrameChanged&&this.curSpriteFrame&&this.curSpriteFrame.decRef(),this.sp.spriteFrame&&this.sp.spriteFrame.addRef(),this.curSpriteFrame=this.sp.spriteFrame,this.isSpriteFrameChanged=!0)},r.updateSpriteAtlas=function(){this.curSpriteAtlas!==this.sp.spriteAtlas&&(this.isSpriteAtlasChanged&&this.curSpriteAtlas&&this.curSpriteAtlas.decRef(),this.sp.spriteAtlas&&this.sp.spriteAtlas.addRef(),this.curSpriteAtlas=this.sp.spriteAtlas,this.isSpriteAtlasChanged=!0)},r.onDestroy=function(){this.isSpriteAtlasChanged&&this.curSpriteAtlas&&this.curSpriteAtlas.decRef(),this.isSpriteFrameChanged&&this.curSpriteFrame&&this.curSpriteFrame.decRef()},i}(p))||a)||a)||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts","./Debug.ts"],(function(e){var r,n,t,s,o,a,i,d;return{setters:[function(e){r=e.createClass,n=e.asyncToGenerator,t=e.regeneratorRuntime,s=e.extends},function(e){o=e.cclegacy,a=e.assetManager},function(e){i=e.ArrayUtil},function(e){d=e.Debug}],execute:function(){o._RF.push({},"18c3dVw309B54avl/M3OpJz","ResMgr",void 0);var u="ResMgr",c=e("ResMgr",function(){function e(){}return e.loadBundle=function(e,r){return void 0===r&&(r=null),new Promise((function(n,t){var s=Date.now();a.getBundle(e)?(d.Warn(u,"资源包"+e+"已加载,无需重复加载"),n(a.getBundle(e))):(d.Log(u,"资源包"+e+"开始加载"),a.loadBundle(e,(function(o,a){if(o)d.Error(u,"资源包"+e+"加载失败 err:"+o),t(o);else{var i=Date.now();d.Log(u,"资源包"+e+"加载完毕,用时"+(i-s)+"ms"),r&&r(a),n(a)}})))}))},e.preloadDir=function(e,r){var s=this;return void 0===r&&(r="./"),new Promise(n(t().mark((function n(o,i){var c,l;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d.Log(u,"开始预加载资源包"+e+"下的文件夹"+r),c=a.getBundle(e)){n.next=6;break}return n.next=5,s.loadBundle(e);case 5:c=n.sent;case 6:l=Date.now(),c.preloadDir(r,(function(n,t){if(n)d.Error(u,"资源包"+e+"下的文件夹"+r+"预加载失败,err:"+n),i(n);else{var s=Date.now();d.Log(u,"资源包"+e+"下的文件夹"+r+"预加载完毕,用时"+(s-l)+"ms"),o()}}));case 8:case"end":return n.stop()}}),n)}))))},e.loadDir=function(e,r,s){var o=this;return void 0===r&&(r="./"),void 0===s&&(s=!1),new Promise(n(t().mark((function n(c,l){var f,R;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d.Log(u,"开始加载资源包"+e+"下的文件夹"+r),f=a.getBundle(e)){n.next=6;break}return n.next=5,o.loadBundle(e);case 5:f=n.sent;case 6:R=Date.now(),f.loadDir(r,(function(n,t){if(n)d.Error(u,"资源包"+e+"下的文件夹"+r+"加载失败,err:"+n),l(n);else{if(s){o._loadedRefRes.hasOwnProperty(e)||(o._loadedRefRes[e]=[]);for(var a=0;a<t.length;a++){var f=t[a];i.has(o._loadedRefRes[e],f)||(o._loadedRefRes[e].push(f),f.addRef())}}var v=Date.now();d.Log(u,"资源包"+e+"下的文件夹"+r+"加载完毕,用时"+(v-R)+"ms"),c()}}));case 8:case"end":return n.stop()}}),n)}))))},e.loadRes=function(e,r,s,o){var c=this;return void 0===s&&(s=""),void 0===o&&(o=!1),new Promise(n(t().mark((function n(l,f){var R,v,g;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(R=s+r,d.Log(u,"开始加载资源包"+e+"下的文件"+R),v=a.getBundle(e)){n.next=7;break}return n.next=6,c.loadBundle(e);case 6:v=n.sent;case 7:g=Date.now(),v.load(R,(function(r,n){if(r)d.Error(u,"资源包"+e+"下的文件"+R+"加载失败,err:"+r),f(r);else{var t=Date.now();o&&(c._loadedRefRes.hasOwnProperty(e)||(c._loadedRefRes[e]=[]),i.has(c._loadedRefRes[e],n)||(c._loadedRefRes[e].push(n),n.addRef())),d.Log(u,"资源包"+e+"下的文件"+R+"加载完毕,用时"+(t-g)+"ms"),l(n)}}));case 9:case"end":return n.stop()}}),n)}))))},e.getRes=function(e,r,n){void 0===n&&(n="");var t=a.getBundle(e);if(!t)return d.Error(u,"资源包"+e+"暂未加载,无法获取资源"+r),null;var s=n+r,o=t.get(s);return o||d.Warn(u,"资源获取失败",s),o},e.isLoaded=function(e,r,n){void 0===n&&(n="");var t=a.getBundle(e);if(!t)return d.Error(u,"资源包"+e+"暂未加载"),!1;var s=n+r;return!!t.get(s)},e.release=function(e){if(this._loadedRefRes.hasOwnProperty(e)){for(var r=this._loadedRefRes[e],n=r.length,t=0;t<n;t++){var s=r[t];s.isValid?s.decRef():d.Warn(this.name,"忽略无效资源,"+s.name+":"+s.uuid)}delete this._loadedRefRes[e],d.Log(this.name,"释放资源包"+e+"中的"+n+"个资源")}else d.Warn(this.name,"暂未记录资源包"+e+"中任何资源，无需释放")},e.recordAssets=function(){this.recordedAssets=s({},this.Assets._map)},e.compareAssets=function(){var e=s({},this.Assets._map),r={},n={};for(var t in this.recordedAssets)e.hasOwnProperty(t)||(r[t]=this.recordedAssets[t]);for(var o in e)this.recordedAssets.hasOwnProperty(o)||(n[o]=e[o]);console.log(r),console.log(n)},e.getSpriteFrame=function(e,r,n){return void 0===n&&(n=""),this.getRes(e,r+"/spriteFrame",n)},r(e,null,[{key:"Assets",get:function(){return a.assets}},{key:"LoadedRes",get:function(){return this._loadedRefRes}}]),e}());c._loadedRefRes={},c.recordedAssets={},o._RF.pop()}}}));

System.register("chunks:///_virtual/Rotate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,n,i,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Component}],execute:function(){var s,u,p;i._RF.push({},"6b9acTOKxRPKb2/9uu/YoaF","Rotate",void 0);var l=a.ccclass,f=a.property;e("Rotate",l("Misc/Rotate")((p=t((u=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"rotate_speed",p,n(t)),t}return r(t,e),t.prototype.update=function(e){this.node.angle+=this.rotate_speed*e},t}(c)).prototype,"rotate_speed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),s=u))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/Setting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageUtil.ts"],(function(e){var t,n,i,a;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,i=e.PhysicsSystem2D},function(e){a=e.StorageUtil}],execute:function(){n._RF.push({},"0e05aoaPd5CY4kLpLQPu/rr","Setting",void 0);var s=e("Setting",function(){function e(){}return e.init=function(){var e=i.instance;e.enable=!0,e.fixedTimeStep=1/60,e.velocityIterations=6,e.positionIterations=6,this.sfxEnabled=a.getItem("sfxEnabled",!0),this.bgmEnabled=a.getItem("bgmEnabled",!0),this.vibrateEnabled=a.getItem("vibrateEnabled",!0)},t(e,null,[{key:"VibrateEnabled",get:function(){return this.vibrateEnabled},set:function(e){this.vibrateEnabled=e,a.setItem("vibrateEnabled",e)}},{key:"SfxEnabled",get:function(){return this.sfxEnabled},set:function(e){this.sfxEnabled=e,a.setItem("sfxEnabled",e)}},{key:"BgmEnabled",get:function(){return this.bgmEnabled},set:function(e){this.bgmEnabled=e,a.setItem("bgmEnabled",e)}}]),e}());s.vibrateEnabled=!0,s.sfxEnabled=!0,s.bgmEnabled=!0,globalThis.Setting=s,n._RF.pop()}}}));

System.register("chunks:///_virtual/Shake.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,r,i,s,l,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,l=e.tween,o=e.Component}],execute:function(){var h,c,u,p,k;i._RF.push({},"2840flXNXFIw61GRpqk0Yl7","Shake",void 0);var g=s.ccclass,d=s.property;e("Shake",g("Misc/Shake")((u=t((c=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"shakeAngle",u,r(t)),a(t,"shakeInterval",p,r(t)),a(t,"delay",k,r(t)),t}return n(t,e),t.prototype.start=function(){l(this.node).sequence(l(this.node).delay(this.delay),l(this.node).to(this.shakeInterval,{angle:this.shakeAngle}),l(this.node).to(this.shakeInterval,{angle:-this.shakeAngle}),l(this.node).to(this.shakeInterval,{angle:this.shakeAngle}),l(this.node).to(this.shakeInterval,{angle:-this.shakeAngle}),l(this.node).to(this.shakeInterval,{angle:0})).repeatForever().start()},t}(o)).prototype,"shakeAngle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),p=t(c.prototype,"shakeInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),k=t(c.prototype,"delay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),h=c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillMgr.ts","./SkillType.ts","./Debug.ts","./UIMgr.ts","./UI.ts","./GameMgr.ts","./EventMgr.ts","./EventType.ts"],(function(t){var n,e,i,l,o,r,s,a,c,u,p,k,d,f,S,h,v,g,y,C,M;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Label,a=t.SpriteFrame,c=t.Node,u=t.Sprite,p=t.tween,k=t.v3,d=t.Component},function(t){f=t.SkillMgr},function(t){S=t.SkillType},function(t){h=t.Debug},function(t){v=t.UIMgr},function(t){g=t.UI},function(t){y=t.GameMgr},function(t){C=t.EventMgr},function(t){M=t.EventType}],execute:function(){var T,b,m,I,B,U,x;o._RF.push({},"09a20WNxM5GvKRrrrZpxp+K","SkillBox",void 0);var z=r.ccclass,A=r.property,E="SkillBox";t("SkillBox",(T=z("Game/SkillBox"),b=A([s]),m=A([a]),T((U=n((B=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"skillCntTips",U,l(n)),i(n,"skillIcons",x,l(n)),n}e(n,t);var o=n.prototype;return o.onLoad=function(){C.on(M.UpdateSkillCnt,this.onUpdateSkillCnt,this),C.on(M.AddSkill,this.onAddSkill,this)},o.start=function(){for(var t=0;t<this.skillCntTips.length;t++){var n=this.skillCntTips[t],e=f.skillCnt(t);n.string=""+e,n.node.parent.active=e>0}},o.onDestroy=function(){C.off(M.UpdateSkillCnt,this.onUpdateSkillCnt,this),C.off(M.AddSkill,this.onAddSkill,this)},o.onUpdateSkillCnt=function(t,n){var e=this.skillCntTips[t];e.string=""+n,e.node.parent.active=n>0},o.onAddSkill=function(t){var n=new c;n.addComponent(u).spriteFrame=this.skillIcons[t],this.node.parent.addChild(n);var e=this.node.children[t],i=p(n);i.set({scale:k(0,0,0)}),i.to(.2,{scale:k(1,1,1)},{easing:"backOut"}),i.delay(.1),i.parallel(p(n).to(.5,{worldPosition:e.worldPosition}),p(n).to(.5,{scale:k(.5,.5,.5)})),i.call((function(){n.destroy(),p(e).to(.2,{scale:k(1.2,1.2,1)}).to(.2,{scale:k(1,1,1)}).start()})),i.start()},o.onBtnFreezeClick=function(){f.hasSkill(S.Freeze)?f.useSkill(S.Freeze):(v.open(g.Skill,S.Freeze),h.Warn(E,"冰冻道具数量不足，使用失败"))},o.onBtnEraseClick=function(){if(f.hasSkill(S.Erase)){if(y.curIdArr.length<=0)return void v.open(g.Toast,"放置栏不能没有物品");f.useSkill(S.Erase)}else v.open(g.Skill,S.Erase),h.Warn(E,"移除道具数量不足，使用失败")},o.onBtnMoveClick=function(){if(f.hasSkill(S.Move)){if(y.curIdArr.length<=0)return void v.open(g.Toast,"放置栏不能没有物品");f.useSkill(S.Move)}else v.open(g.Skill,S.Move),h.Warn(E,"移出道具数量不足，使用失败")},n}(d)).prototype,"skillCntTips",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(B.prototype,"skillIcons",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=B))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillMgr.ts",["cc","./CfgItem.ts","./EventType.ts","./SkillType.ts","./EventMgr.ts","./ItemMgr.ts","./TrackMgr.ts"],(function(e){var t,i,l,n,r,s,k,a;return{setters:[function(e){t=e.cclegacy},function(e){i=e.CfgItem},function(e){l=e.EventType},function(e){n=e.SkillType,r=e.SkillName},function(e){s=e.EventMgr},function(e){k=e.ItemMgr},function(e){a=e.TrackMgr}],execute:function(){t._RF.push({},"14e94Hls5BC/L6+D8gmVEoB","SkillMgr",void 0);e("SkillMgr",function(){function e(){}return e.useSkill=function(e){var t=this.getSkillId(e),i=k.updateItem(t,-1);switch(s.emit(l.UpdateSkillCnt,e,i),a.track("use_skill",{skill_name:this.getSkillName(e)}),e){case n.Freeze:s.emit(l.UseSkillFreeze);break;case n.Erase:s.emit(l.UseSkillErase);break;case n.Move:s.emit(l.UseSkillMove)}},e.addSkill=function(e,t){void 0===t&&(t=1);var i=this.getSkillId(e),r=k.updateItem(i,t);switch(s.emit(l.UpdateSkillCnt,e,r),s.emit(l.AddSkill,e),e){case n.Freeze:s.emit(l.AddSkillFreeze);break;case n.Erase:s.emit(l.AddSkillErase);break;case n.Move:s.emit(l.AddSkillMove)}},e.hasSkill=function(e){var t=this.getSkillId(e);return k.getCnt(t)>0},e.skillCnt=function(e){var t=this.getSkillId(e);return k.getCnt(t)},e.getSkillId=function(e){for(var t=0;t<i.length;t++){var l=i[t];if((null==l?void 0:l.skillType)===e)return l.id}return-1},e.getSkillName=function(e){return r[e]},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillType.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"33fdaV78DhHR7dAPW9O4uUX","SkillType",void 0);e("SkillType",function(e){return e[e.Freeze=0]="Freeze",e[e.Erase=1]="Erase",e[e.Move=2]="Move",e}({})),e("SkillName",["冰冻","消除","移出"]);r._RF.pop()}}}));

System.register("chunks:///_virtual/Slot.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,r,s,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,r=o.tween,s=o.v3,c=o.Component}],execute:function(){var i;n._RF.push({},"2c0c3bs+yxLHLokjSgx/4Cf","Slot",void 0);var l=e.ccclass;e.property,o("Slot",l("Game/Slot")(i=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).orgWorldPos=void 0,t}t(n,o);var e=n.prototype;return e.start=function(){var o=this;this.scheduleOnce((function(){o.orgWorldPos=o.node.getWorldPosition()}),.1)},e.shake=function(o){r(this.node).delay(o).by(.1,{position:s(0,-10,0)}).by(.1,{position:s(0,10,0)}).start()},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/SlotBall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BallBase.ts","./GameMgr.ts"],(function(t){var o,n,r,l,e,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,l=t.tween},function(t){e=t.BallBase},function(t){i=t.GameMgr}],execute:function(){var s;n._RF.push({},"560cexv/TJFsKcchiJIpBJf","SlotBall",void 0);var c=r.ccclass;r.property,t("SlotBall",c("Game/SlotBall")(s=function(t){function n(){for(var o,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(o=t.call.apply(t,[this].concat(r))||this).curIdx=0,o.tw=null,o}o(n,t);var r=n.prototype;return r.start=function(){this.curIdx=this.node.getSiblingIndex()},r.update=function(t){var o=this.node.getSiblingIndex();if(o!==this.curIdx){var n=Math.abs(o-this.curIdx);this.curIdx=o;var r=this.getSlotWorldPos(o);r&&(this.tw&&this.tw.stop(),this.tw=l(this.node),this.tw.to(.15*n,{worldPosition:r}).start())}},r.getSlotWorldPos=function(t){return i.slotBox?i.slotBox.children[t].worldPosition:null},n}(e))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Stage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./InputBlock.ts","./UIMgr.ts","./UI.ts","./BallBox.ts","./ArrayUtil.ts","./GameMgr.ts","./FlyBall.ts","./SlotBall.ts","./Global.ts","./GameMode.ts","./ResMgr.ts","./Bundle.ts","./AudioMgr.ts","./FailType.ts","./Ball.ts","./EffectMgr.ts","./cfg_ball.ts","./BallType.ts","./CollectMgr.ts","./Shake.ts","./Slot.ts","./Debug.ts","./GameUtil.ts"],(function(e){var t,l,n,o,i,a,r,s,c,u,f,d,h,p,g,v,B,y,S,m,b,M,P,x,k,I,T,A,C,U,w,R,E,F,O,G,_,D,z,W,L,N,q,H;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,c=e.Node,u=e.UITransform,f=e.macro,d=e.instantiate,h=e.v3,p=e.math,g=e.Vec3,v=e.UIOpacity,B=e.isValid,y=e.tween,S=e.Component},function(e){m=e.EventMgr},function(e){b=e.EventType},function(e){M=e.InputBlock},function(e){P=e.UIMgr},function(e){x=e.UI},function(e){k=e.BallBox},function(e){I=e.ArrayUtil},function(e){T=e.GameMgr},function(e){A=e.FlyBall},function(e){C=e.SlotBall},function(e){U=e.Global},function(e){w=e.GameMode},function(e){R=e.ResMgr},function(e){E=e.Bundle},function(e){F=e.AudioMgr},function(e){O=e.FailType},function(e){G=e.Ball},function(e){_=e.EffectMgr},function(e){D=e.CfgBall},function(e){z=e.BallType},function(e){W=e.CollectMgr},function(e){L=e.Shake},function(e){N=e.Slot},function(e){q=e.Debug},function(e){H=e.GameUtil}],execute:function(){var V,j,Y,J,K,Q,X,Z,$,ee,te,le,ne,oe,ie;a._RF.push({},"c2315EwLzxLtYgpLudlGqgB","Stage",void 0);var ae=r.ccclass,re=r.property,se="Stage";e("Stage",(V=ae("Game/Stage"),j=re(s),Y=re(s),J=re(s),K=re(c),Q=re(c),X=re(k),V((ee=t(($=function(e){function t(){for(var t,l=arguments.length,i=new Array(l),a=0;a<l;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"flyBallPre",ee,o(t)),n(t,"slotBallPre",te,o(t)),n(t,"parMergePre",le,o(t)),n(t,"slotBox",ne,o(t)),n(t,"slotBallBox",oe,o(t)),n(t,"ballBox",ie,o(t)),t._uiTrans=null,t}l(t,e);var a=t.prototype;return a.onLoad=function(){this._uiTrans=this.getComponent(u),T.slotBox=this.slotBox,m.on(b.TimeOut,this.onTimeOut,this),m.on(b.SelectBall,this.onSelectBall,this),m.on(b.UseSkillFreeze,this.onUseSkillFreeze,this),m.on(b.UseSkillErase,this.onUseSkillErase,this),m.on(b.UseSkillMove,this.onUseSkillMove,this),m.on(b.Revive,this.onRevive,this)},a.onDestroy=function(){T.slotBox=null,this.unscheduleAllCallbacks(),m.off(b.TimeOut,this.onTimeOut,this),m.off(b.SelectBall,this.onSelectBall,this),m.off(b.UseSkillFreeze,this.onUseSkillFreeze,this),m.off(b.UseSkillErase,this.onUseSkillErase,this),m.off(b.UseSkillMove,this.onUseSkillMove,this),m.off(b.Revive,this.onRevive,this),P.close(x.Game)},a.start=function(){var e=this;T.initLevelConfig();var t=3*Math.min(U.Ball_Group,U.Max_Group),l=.06*t;T.generateBallData(U.Ball_Group,U.Pig_Group,U.Pair_Group),m.emit(b.ReqCreateBall,t),M.Active=!0,this.scheduleOnce((function(){M.Active=!1,P.open(x.Game),T.isHardLevel&&P.open(x.StageTip,"困难关卡"),m.emit(b.TimeReset),e.schedule(e.onCheckWin,.5,f.REPEAT_FOREVER)}),l)},a.onUseSkillFreeze=function(){var e=R.getRes(E.Game,"EffectFreeze"),t=d(e);this.node.addChild(t)},a.onUseSkillErase=function(){for(var e=this,t=T.curIdArr,l=new Map,n=0,o=0;o<t.length;o++){var a=t[o];if(l.has(a)){var r=l.get(a);r.push(o),l.set(a,r),n++}else{if(l.size>=2)break;l.set(a,[o]),n++}}t.splice(0,n);for(var s,c=i(l);!(s=c()).done;){for(var u=s.value,f=u[0],d=u[1],g=[],v=0;v<d.length;v++){var B=d[v],S=this.slotBallBox.children[B],M=S.getWorldPosition();g.push({id:f,angle:0,worldPos:M}),S.destroy()}for(var P=3-d.length,x=this.getBallById(f,P),k=0;k<x.length;k++){var A=x[k],C=A.node.getWorldPosition();g.push({id:f,angle:A.node.angle,worldPos:C}),A.node.destroy()}if(x.length<P){var U=P-x.length;q.Log(se,"从候补数组中找"+U+"个");for(var w=[],R=0;R<T.ballData.length;R++){if(T.ballData[R].id===f){var E=h();if(E.x=this.node.worldPosition.x+p.randomRangeInt(-250,250),E.y=this.node.worldPosition.y+1200,g.push({id:f,angle:0,worldPos:E}),w.push(R),--U<=0)break}}for(var O=0;O<w.length;O++){var G=w[O],L=T.ballData[G];q.Log(se,"从候补中移除了",L.name)}T.ballData=I.removeMultiIdx(T.ballData,w)}for(var N=[],V=function(){var t=g[j],l=t.id,n=t.worldPos,o=t.angle,i=e.createFlyBall(n,o,D[l]);i.scale=h(.5,.5,1);var a=y(i),r=g[0].worldPos,s=e._uiTrans.convertToNodeSpaceAR(r);if(!N.includes(l)&&(N.push(l),H.isType(l,z.Pig))){var c=l-71;W.add(c),F.playSfx("a抓到猪音效")}a.to(.15,{position:s}),a.call((function(){i.destroy(),_.create(e.parMergePre,e.node,r)})),a.start()},j=0;j<g.length;j++)V()}m.emit(b.ReqCreateBall,6),this.scheduleOnce((function(){F.playSfx("a合并"),e.afterMerge()}),.2)},a.onRevive=function(e){e===O.SlotFull&&m.emit(b.UseSkillMove)},a.getBallById=function(e,t){void 0===t&&(t=1);for(var l=this.getComponentsInChildren(G),n=l.length,o=[],i=0,a=0;a<n;a++){var r=l[a];if(i===t)break;r.Data.id===e&&(o.push(r),i++)}return o},a.onUseSkillMove=function(){F.playSfx("a移出道具"),this.slotBallBox.destroyAllChildren()},a.onTimeOut=function(){this.ballBox.IsEmpty||P.open(x.Revive,O.TimeOut)},a.onSelectBall=function(e,t,l){var n=this,o=l.id,i=T.curIdArr.lastIndexOf(o);-1===i?T.curIdArr.push(o):T.curIdArr=[].concat(T.curIdArr.slice(0,i),[o],T.curIdArr.slice(i));var a=T.curIdArr.lastIndexOf(o),r=this.createFlyBall(e,t,l),s=this.slotBox.getComponentsInChildren(N)[a],c=s.orgWorldPos,u=g.distance(r.worldPosition,c),f=p.clamp(u/2e3,.1,.2),d=this.addSlotBall(a,c,l),h=d.addComponent(v);h.opacity=0,s.shake(f),this.flyBallToSlot(r,f,c).then((function(){B(d)?(h.opacity=255,n.scheduleOnce(n.doMerge)):q.Log(se,"忽略合并")}))},a.doMerge=function(){this.mergeBall(),this.afterMerge()},a.createFlyBall=function(e,t,l){var n=d(this.flyBallPre),o=this._uiTrans.convertToNodeSpaceAR(e);return n.setPosition(o),n.setScale(U.Ball_Scale,U.Ball_Scale),n.angle=t,this.node.addChild(n),n.getComponent(A).Data=l,n},a.flyBallToSlot=function(e,t,l){var n=this;return new Promise((function(o,i){var a=y(e);a.to(t,{worldPosition:l,angle:0,scale:h(.5,.5,1)}),a.by(.1,{position:h(0,-10,0)}),a.by(.1,{position:h(0,10,0)}),a.call((function(){n.scheduleOnce((function(){e.destroy()})),o()})),a.start()}))},a.addSlotBall=function(e,t,l){var n=d(this.slotBallPre);return this.slotBallBox.addChild(n),n.setSiblingIndex(e),n.setWorldPosition(t),n.getComponent(C).Data=l,H.isType(l.id,z.Pig)&&n.addComponent(L),n},a.mergeBall=function(){var e=this,t=I.removeSame(T.curIdArr,3),l=t.removeIdxArr;if(T.curIdArr=t.arr,!(l.length<=0))for(var n=function(){for(var t=l[o],n=e.slotBallBox.children[t[1]].getWorldPosition(),i=0,a=[],r=function(){var l=t[s],o=e.slotBallBox.children[l],r=o.getComponent(C),c=o.getWorldPosition(),u=o.angle;a.push(o),i=r.Data.id;var f=e.createFlyBall(c,u,r.Data);f.scale=h(.5,.5,1);var d=y(f),p=e._uiTrans.convertToNodeSpaceAR(n);d.to(.3,{position:p},{easing:"sineOut"}),d.call((function(){f.destroy()})),d.start()},s=0;s<t.length;s++)r();if(a.forEach((function(e){e.destroy()})),H.isType(i,z.Pig)){var c=i-71;W.add(c),F.playSfx("a抓到猪音效")}e.scheduleOnce((function(){F.playSfx("a合并"),_.create(e.parMergePre,e.node,n)}),.28),m.emit(b.ReqCreateBall,3)},o=0;o<l.length;o++)n()},a.onCheckWin=function(){if(!T.Pause&&this.ballBox.IsEmpty)switch(this.unschedule(this.onCheckWin),T.Mode){case w.Normal:this.onNormalModeWin();break;case w.Super:this.onSuperModeWin()}},a.afterMerge=function(){switch(T.curIdArr.length){case 6:P.open(x.Toast,"仅剩一个空位");break;case 7:P.open(x.Revive,O.SlotFull)}},a.onNormalModeWin=function(){T.Pause=!0,M.setActive(.5),this.scheduleOnce((function(){P.open(x.Win)}),.5)},a.onSuperModeWin=function(){var e=this;T.Pause=!0,M.setActive(.5),this.scheduleOnce((function(){switch(T.SuperLevel){case 1:P.open(x.StageTip,"难度飙升"),e.scheduleOnce((function(){T.SuperLevel++,T.startGame()}),2);break;case 2:P.open(x.SuperWin)}}),.5)},t}(S)).prototype,"flyBallPre",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t($.prototype,"slotBallPre",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t($.prototype,"parMergePre",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t($.prototype,"slotBox",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t($.prototype,"slotBallBox",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t($.prototype,"ballBox",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=$))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/StageTimer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeUtil.ts","./EventMgr.ts","./EventType.ts","./GameMgr.ts","./Debug.ts","./Global.ts","./GameMode.ts","./FailType.ts"],(function(e){var t,i,s,n,o,r,a,l,f,m,u,h,c,T;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,n=e._decorator,o=e.Label,r=e.Component},function(e){a=e.TimeUtil},function(e){l=e.EventMgr},function(e){f=e.EventType},function(e){m=e.GameMgr},function(e){u=e.Debug},function(e){h=e.Global},function(e){c=e.GameMode},function(e){T=e.FailType}],execute:function(){var v;s._RF.push({},"a8ba4QEbvBErYoZl31/6yha","StageTimer",void 0);var p=n.ccclass,_=(n.property,"StageTimer");e("StageTimer",p("Game/StageTimer")(v=function(e){function s(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this)._label=null,t.leftTime=0,t._freeze=!1,t._freezeTime=0,t._pause=!1,t}t(s,e);var n=s.prototype;return n.onLoad=function(){this._label=this.getComponent(o),globalThis.StageTimer=this,l.on(f.Revive,this.onRevive,this),l.on(f.UseSkillFreeze,this.onUseSkillFreeze,this),l.on(f.TimeReset,this.onTimeReset,this)},n.onDestroy=function(){l.off(f.Revive,this.onRevive,this),l.off(f.UseSkillFreeze,this.onUseSkillFreeze,this),l.off(f.TimeReset,this.onTimeReset,this)},n.update=function(e){this._pause||m.Pause||-1!==h.Level_Time&&(this._freeze?(this._freezeTime-=e,this._freezeTime<=0&&(this._freeze=!1,u.Log(_,"结束冰冻"))):(this.LeftTime-=e,this.leftTime<=0&&(this._pause=!0,l.emit(f.TimeOut))))},n.onTimeReset=function(){this._pause=!1,this.LeftTime=h.Level_Time},n.onRevive=function(e){if(e===T.TimeOut)switch(this._pause=!1,m.Mode){case c.Normal:this.LeftTime=m.isHardLevel?300:60;break;case c.Super:this.LeftTime=1===m.SuperLevel?60:300}},n.onUseSkillFreeze=function(){this._freeze=!0,this._freezeTime=h.Freeze_Time,u.Log(_,"开始冰冻")},i(s,[{key:"LeftTime",get:function(){return this.leftTime},set:function(e){this.leftTime=Math.max(e,0),l.emit(f.TimeTick,this.leftTime),this._label.string=a.formatTime_HHMMSS(1e3*Math.round(this.leftTime))}}]),s}(r))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/StorageUtil.ts",["cc","./Debug.ts"],(function(t){var e,o,r;return{setters:[function(t){e=t.cclegacy,o=t.sys},function(t){r=t.Debug}],execute:function(){e._RF.push({},"610021vdilF1atM5/90llvj","StorageUtil",void 0);var l="StorageUtil";t("StorageUtil",function(){function t(){}return t.setItem=function(t,e,n){void 0===n&&(n=!0),"boolean"==typeof e&&(e=Number(e));var a=this.getFullKey(t);n&&r.Log(l,"保存"+a+",值为:",e),o.localStorage.setItem(a,String(e))},t.setObj=function(t,e,n){void 0===n&&(n=!0);var a=JSON.stringify(e),i=this.getFullKey(t);n&&r.Log(l,"保存"+i+",值为:",a),o.localStorage.setItem(i,a)},t.getItem=function(t,e){var n=this.getFullKey(t),a=o.localStorage.getItem(n);return a?JSON.parse(a):(r.Log(l,n+"使用默认值:",e),e)},t.getObj=function(t,e){var n=this.getFullKey(t),a=o.localStorage.getItem(n);return a?JSON.parse(a):(r.Log(l,n+"使用默认值:",e),e)},t.removeItem=function(t){var e=this.getFullKey(t);o.localStorage.removeItem(e)},t.clear=function(){o.localStorage.clear()},t.getFullKey=function(t){return"zxz_"+t},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SuperModeTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeMgr.ts"],(function(e){var t,r,i,n,o,a,c,p,u,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,p=e._decorator,u=e.Node,s=e.Component},function(e){l=e.TimeMgr}],execute:function(){var f,h,d,y,v,m,g;c._RF.push({},"dcc74mCkNhBe75W0E2ZY9+f","SuperModeTip",void 0);var T=p.ccclass,b=p.property;e("SuperModeTip",(f=T("Game/SuperModeTip"),h=b(u),d=b(u),f((m=t((v=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"tip0",m,n(t)),i(t,"tip1",g,n(t)),t}return r(t,e),t.prototype.start=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.tip0.active=!0,this.tip1.active=!1,e.next=4,l.delay(1);case 4:this.tip0.active=!1,this.tip1.active=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(s)).prototype,"tip0",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(v.prototype,"tip1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/Switcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,s,c,a,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,c=t._decorator,a=t.Button,p=t.Node,l=t.Component}],execute:function(){var u,f,h,y,d,v,O,C,I;s._RF.push({},"4772djXcEtGA6kLkEpQOZ0P","Switcher",void 0);var b=c.ccclass,g=c.property,w=c.requireComponent,k=c.executeInEditMode;t("Switcher",(u=b("UIExtend/Switcher"),f=w(a),h=k(!0),y=g(p),d=g(p),u(v=f(v=h((C=e((O=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"on",C,o(e)),i(e,"off",I,o(e)),e._isOn=!0,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.node.on(a.EventType.CLICK,this.onClick,this)},s.onDestroy=function(){this.node.off(a.EventType.CLICK,this.onClick,this)},s.onClick=function(){this.IsOn=!this.IsOn},r(e,[{key:"IsOn",get:function(){return this._isOn},set:function(t){this._isOn=t,this.on&&(this.on.active=t),this.off&&(this.off.active=!t)}}]),e}(l)).prototype,"on",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(O.prototype,"off",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e(O.prototype,"IsOn",[g],Object.getOwnPropertyDescriptor(O.prototype,"IsOn"),O.prototype),v=O))||v)||v)||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/TimeMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,i,s,o,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t._decorator,o=t.director,c=t.Component}],execute:function(){var a,u;i._RF.push({},"9a36f5tW91Gnp7BUUKYgzAc","TimeMgr",void 0);var p=s.ccclass;s.property,t("TimeMgr",p("Manager/TimeMgr")(((u=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.onLoad=function(){i._inst=this,o.addPersistRootNode(this.node)},i.delay=function(){var t=n(r().mark((function t(e){var n=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=0),t.abrupt("return",new Promise((function(t,r){n._inst.scheduleOnce((function(){t()}),e)})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setTimer=function(t,e,n){var r=this;void 0===n&&(n=1);var i=0,s=this.nextId++;s>1e4&&(s=0);var o=function(){t&&t(),++i>=n&&r.clearTimer(s)};return this._timerMap.set(s,o),this._inst.schedule(o,e,n),s},i.clearTimer=function(t){this._timerMap.has(t)&&(this._inst.unschedule(this._timerMap.get(t)),this._timerMap.delete(t))},i}(c))._inst=null,u._timerMap=new Map,u.nextId=0,a=u))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/TimeOutReviveTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./GameMode.ts"],(function(e){var t,n,i,r,o,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,r=e.Label,o=e.Component},function(e){a=e.GameMgr},function(e){c=e.GameMode}],execute:function(){var u;n._RF.push({},"c7898GD5FZCzo7nuKx61Thf","TimeOutReviveTip",void 0);var s=i.ccclass;i.property,e("TimeOutReviveTip",s("Item/TimeOutReviveTip")(u=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).label=null,t}t(n,e);var i=n.prototype;return i.onLoad=function(){this.label=this.getComponent(r)},i.start=function(){var e=1;switch(a.Mode){case c.Normal:e=a.isHardLevel?1:5;break;case c.Super:e=1===a.SuperLevel?1:5}this.label.string="复活并加时"+e+"分钟"},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"07102ahwgBFAZu9HS4Vb7oI","TimeUtil",void 0);var r=e("TimeUtil",function(){function e(){}return e.getCurrTimeStamp=function(){return Date.now()},e.getHours=function(){return(new Date).getHours()},e.getCurrTimeDate=function(){return new Date(this.getCurrTimeStamp())},e.getCurWeekDay=function(){var e=this.getCurrTimeDate().getDay();return 0==e?7:e},e.isSameDay=function(e){var t=new Date(e),r=this.getCurrTimeDate();return t.getFullYear()==r.getFullYear()&&t.getMonth()==r.getMonth()&&t.getDate()==r.getDate()},e.isSameWeek=function(e){for(var t=this.getCurrTimeStamp(),r=this.getCurWeekDay(),n=new Date(e).toLocaleDateString(),i=1;i<=7;i++)if(n==new Date(t+24*(i-r)*3600*1e3).toLocaleDateString())return!0;return!1},e.getAssignTimestamp=function(e){return e=e.replace(/-/g,"/"),new Date(e).getTime()},e.formatTime_HHMMSS=function(e){var t=e/1e3,r=(Array(2).join("0")+Math.floor(t/3600)).slice(-2),n=(Array(2).join("0")+Math.floor(t%3600/60)).slice(-2),i=(Array(2).join("0")+Math.floor(t)%60).slice(-2);return"00"==r?n+":"+i:r+":"+n+":"+i},e.formatTime_DDHHMMSS=function(e){var t=e/1e3,r=t%60,n=(t=Math.floor(t/60))%60,i=(t=Math.floor(t/60))%24,a=(t=Math.floor(t/24),"");return t>0?(a=t+"天",i>0&&(a+=i+"小时")):(i>0&&(a+=i+"小时"),n>0?a+=n+"分":i>0&&(a+="零"),r>0&&(a+=Math.floor(r)+"秒")),a},e.isWithinTimeRange=function(e,t,r){var n=new Date(e).getHours(),i=r<t;return n>=t&&n<(i?r+24:r)},e.getTodayTimestampAtHour=function(e,t){void 0===t&&(t=0);var r=new Date;return r.setHours(e,t,0,0),r.getTime()},e}());globalThis.TimeUtil=r,t._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleExtend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(e){var t,n,i,o,c,r,l,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,l=e.Toggle,s=e.Component},function(e){a=e.AudioMgr}],execute:function(){var u,f,g,h,p,d,v,T;c._RF.push({},"659835HTWVKuJmTmyMhYpAf","ToggleExtend",void 0);var k=r.ccclass,S=r.property,x=r.disallowMultiple,y=r.requireComponent;e("ToggleExtend",(u=k("UIExtend/ToggleExtend"),f=x(!0),g=y(l),h=S({range:[0,1,.1],slide:!0}),u(p=f(p=g((v=t((d=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,i(t,"safeTime",v,o(t)),i(t,"clickSfx",T,o(t)),t.toggle=null,t.checkEvents=void 0,t.isSafe=!0,t}n(t,e);var c=t.prototype;return c.onLoad=function(){this.toggle=this.getComponent(l)},c.start=function(){this.toggle.node.on(l.EventType.TOGGLE,this.onToggle,this)},c.onToggle=function(){this.handleSafe(),this.handleClickSfx()},c.handleSafe=function(){var e=this;this.isSafe&&(this.isSafe=!1,this.scheduleOnce((function(){e.checkEvents=e.toggle.checkEvents,e.toggle.checkEvents=[],e.scheduleOnce(e.recover,e.safeTime)})))},c.handleClickSfx=function(){this.clickSfx&&a.playSfx(this.clickSfx)},c.recover=function(){this.isSafe=!0,this.toggle.checkEvents=this.checkEvents},t}(s)).prototype,"safeTime",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),T=t(d.prototype,"clickSfx",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"btnClick"}}),p=d))||p)||p)||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/TrackMgr.ts",["cc","./Debug.ts"],(function(t){var c,n;return{setters:[function(t){c=t.cclegacy},function(t){n=t.Debug}],execute:function(){c._RF.push({},"1bfe3XhK75EuqLFQtbsWn1e","TrackMgr",void 0);t("TrackMgr",function(){function t(){}return t.track=function(t,c){void 0===c&&(c={}),n.Log("TrackMgr","事件名:"+t+",data:"+JSON.stringify(c))},t}());c._RF.pop()}}}));

System.register("chunks:///_virtual/UI.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"c8a08FNqdVHerPY3SIR/1mx","UI",void 0);e("UI",function(e){return e.Main="UIMain",e.Level="UILevel",e.Game="UIGame",e.Pause="UIPause",e.Win="UIWin",e.SuperWin="UISuperWin",e.Fail="UIFail",e.Confirm="UIConfirm",e.Setting="UISetting",e.Top="UITop",e.Toast="UIToast",e.SideBar="UISideBar",e.Rank="UIRank",e.Replay="UIReplay",e.Revive="UIRevive",e.Skill="UISkill",e.Transition="UITransition",e.Collect="UICollect",e.CollectInfo="UICollectInfo",e.Gashapon="UIGashapon",e.GetReward="UIGetReward",e.Decoration="UIDecoration",e.StageTip="UIStageTip",e.Home="UIHome",e.PassReward="UIPassReward",e.ShareVideo="UIShareVideo",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIType.ts","./EventMgr.ts","./EventType.ts"],(function(e){var n,t,i,o,c,r,s,u,a,l,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,s=e.Widget,u=e.Enum,a=e.Component},function(e){l=e.UIType},function(e){p=e.EventMgr},function(e){f=e.EventType}],execute:function(){var y,d,h,v,m,g;c._RF.push({},"111f5/XxgFNRZIz42m+GGGf","UIBase",void 0);var I=r.ccclass,E=r.property,b=r.requireComponent;e("UIBase",(y=I("ScriptBase/UIBase"),d=b(s),h=E({type:u(l)}),y(v=d((g=n((m=function(e){function n(){for(var n,t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return n=e.call.apply(e,[this].concat(c))||this,i(n,"uiType",g,o(n)),n}t(n,e);var c=n.prototype;return c.onOpen=function(e){},c.onClose=function(e){},c.open=function(e,n,t){p.emit(f.OpenUI,e,n,t)},c.delayOpen=function(e,n,t,i){this.scheduleOnce(this.open.bind(this,n,t,i),e)},c.close=function(e,n){e||(e=this.node.name),p.emit(f.CloseUI,e,n)},c.delayClose=function(e,n,t){this.scheduleOnce(this.close.bind(this,n,t),e)},c.bindClick=function(e,n,t,i,o){var c=new a.EventHandler;c.target=n,c.component=t,c.handler=i,c.customEventData=o,e.clickEvents=[c]},c.unbindClick=function(e){e.clickEvents=[]},n}(a)).prototype,"uiType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.Common}}),v=m))||v)||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/UICollect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CollectItem.ts","./CfgItem.ts","./ItemType.ts","./CollectMgr.ts"],(function(t){var e,n,o,i,l,r,c,a,u,s,f,p,C,m,I,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,c=t.Widget,a=t.Prefab,u=t.Label,s=t.Node,f=t.instantiate},function(t){p=t.UIBase},function(t){C=t.CollectItem},function(t){m=t.CfgItem},function(t){I=t.ItemType},function(t){g=t.CollectMgr}],execute:function(){var b,h,y,d,v,B,P,U,w,z;l._RF.push({},"f3992PYq8hNko7Dog9oR/w8","UICollect",void 0);var D=r.ccclass,x=r.property,_=r.requireComponent;t("UICollect",(b=D("UI/UICollect"),h=_(c),y=x(a),d=x(u),v=x(s),b(B=h((U=e((P=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,o(e,"collectItemPre",U,i(e)),o(e,"lbCnt",w,i(e)),o(e,"itemBox",z,i(e)),e}n(e,t);var l=e.prototype;return l.onOpen=function(t){for(var e=0,n=0;n<m.length;n++){var o=m[n];o.id;if(o.type===I.Collection){var i=f(this.collectItemPre);this.itemBox.addChild(i),i.getComponent(C).Data=o,e++}}this.lbCnt.string="已收集"+g.Cnt+"/"+e},l.onClose=function(t){},l.onBtnCloseClick=function(){this.close()},e}(p)).prototype,"collectItemPre",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"lbCnt",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(P.prototype,"itemBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=P))||B)||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/UICollectInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./ResMgr.ts"],(function(e){var n,t,i,r,o,l,c,a,s,u,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,c=e.Widget,a=e.Sprite,s=e.Label},function(e){u=e.UIBase},function(e){p=e.ResMgr}],execute:function(){var f,b,I,g,h,m,y,C;o._RF.push({},"beabfq4X/hF5IJAA/fGzHQJ","UICollectInfo",void 0);var d=l.ccclass,v=l.property,U=l.requireComponent;e("UICollectInfo",(f=d("UI/UICollectInfo"),b=U(c),I=v(a),g=v(s),f(h=b((y=n((m=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,i(n,"icon",y,r(n)),i(n,"lbName",C,r(n)),n}t(n,e);var o=n.prototype;return o.onOpen=function(e){this.icon.spriteFrame=p.getSpriteFrame(e.bundle,e.icon),this.lbName.string=e.name},o.onClose=function(e){},o.onBtnCloseClick=function(){this.close()},n}(u)).prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(m.prototype,"lbName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h)||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIDecoration.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CfgDec.ts","./DecItem.ts","./StorageUtil.ts","./DecMgr.ts","./CollectMgr.ts"],(function(t){var e,n,o,r,i,c,a,s,l,u,f,p,g,d,h,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,a=t.Widget,s=t.Prefab,l=t.Node,u=t.instantiate},function(t){f=t.UIBase},function(t){p=t.CfgDec},function(t){g=t.DecItem},function(t){d=t.StorageUtil},function(t){h=t.DecMgr},function(t){C=t.CollectMgr}],execute:function(){var D,I,m,v,y,U,b,P;i._RF.push({},"78914c1yi1L9553D3+2a7+z","UIDecoration",void 0);var z=c.ccclass,M=c.property,B=c.requireComponent;t("UIDecoration",(D=z("UI/UIDecoration"),I=B(a),m=M(s),v=M(l),D(y=I((b=e((U=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,o(e,"decItemPre",b,r(e)),o(e,"content",P,r(e)),e}n(e,t);var i=e.prototype;return i.onOpen=function(t){for(var e=p.length,n=0;n<e;n++){var o=p[n];this.createDecItem(o)}},i.onClose=function(t){},i.onBtnCloseClick=function(){this.close()},i.createDecItem=function(t){var e=u(this.decItemPre);this.content.addChild(e),e.getComponent(g).Data=t},i.onTest=function(){var t=C.Cnt;d.setItem("curCatchedPigCnt",t+1);for(var e=this.node.getComponentsInChildren(g),n=0;n<e.length;n++){e[n].updateData()}},i.onReset=function(){d.setItem("curCatchedPigCnt",0),h.reset();for(var t=this.node.getComponentsInChildren(g),e=0;e<t.length;e++){t[e].updateData()}},e}(f)).prototype,"decItemPre",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(U.prototype,"content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=U))||y)||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIFail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./UI.ts","./AudioMgr.ts","./TrackMgr.ts"],(function(e){var t,n,o,a,i,c,r,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,a=e.Widget},function(e){i=e.UIBase},function(e){c=e.GameMgr},function(e){r=e.UI},function(e){s=e.AudioMgr},function(e){u=e.TrackMgr}],execute:function(){var l;n._RF.push({},"ab20cnijD5PGqJcDkVABmrI","UIFail",void 0);var f=o.ccclass,m=(o.property,o.requireComponent);e("UIFail",f("UI/UIFail")(l=m(a)(l=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onOpen=function(e){s.stopBgm(),s.playSfx("a通关失败"),c.Pause=!0,u.track("game_fail",{mode:c.GameModeName,level:c.GameLevelId})},o.onClose=function(e){c.Pause=!1},o.onBtnReplayClick=function(){u.track("restart_game",{mode:c.GameModeName,level:c.GameLevelId}),c.startGame(),this.close()},o.onBtnCloseClick=function(){var e=this;c.quitGame(),this.scheduleOnce((function(){e.close(),e.open(r.Main)}),.5)},n}(i))||l)||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./EventMgr.ts","./EventType.ts","./GameMode.ts","./AudioMgr.ts","./Global.ts"],(function(e){var t,n,i,o,r,l,a,c,s,u,p,v,f,d,h,m,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Widget,c=e.Label,s=e.Node},function(e){u=e.UIBase},function(e){p=e.UI},function(e){v=e.GameMgr},function(e){f=e.EventMgr},function(e){d=e.EventType},function(e){h=e.GameMode},function(e){m=e.AudioMgr},function(e){L=e.Global}],execute:function(){var b,g,U,y,G,I,M,B;r._RF.push({},"b5168XlFOBNW7ZntKcA7QRv","UIGame",void 0);var C=l.ccclass,k=l.property,R=l.requireComponent;e("UIGame",(b=C("UI/UIGame"),g=R(a),U=k(c),y=k(s),b(G=g((M=t((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"lbLevel",M,o(t)),i(t,"timer",B,o(t)),t}n(t,e);var r=t.prototype;return r.onOpen=function(e){switch(this.timer.active=L.Level_Time>0,m.playBgm("游戏内音乐"),f.on(d.UpdateLevel,this.onUpdateLevel,this),v.Mode){case h.Normal:this.lbLevel.node.active=!0,this.onUpdateLevel(v.CurLevel);break;case h.Super:this.lbLevel.node.active=!1,this.onUpdateLevel(v.SuperLevel)}},r.onClose=function(e){f.off(d.UpdateLevel,this.onUpdateLevel,this)},r.onBtnSettingClick=function(){this.open(p.Setting)},r.onBtnReplayClick=function(){this.open(p.Replay)},r.onBtnPauseClick=function(){this.open(p.Pause)},r.onUpdateLevel=function(e){this.lbLevel.string="第"+e+"关"},t}(u)).prototype,"lbLevel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"timer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=I))||G)||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIGashapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./CoinMgr.ts","./Global.ts","./EventMgr.ts","./EventType.ts","./CoinItem.ts","./GashaponMgr.ts","./AudioMgr.ts","./ItemMgr.ts","./InputBlock.ts","./TimeMgr.ts","./AdMgr.ts","./TrackMgr.ts"],(function(n){var t,e,r,o,a,i,s,c,u,p,f,h,l,d,C,m,v,g,I,y,G,k,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){s=n.cclegacy,c=n._decorator,u=n.Widget},function(n){p=n.UIBase},function(n){f=n.UI},function(n){h=n.CoinMgr},function(n){l=n.Global},function(n){d=n.EventMgr},function(n){C=n.EventType},function(n){m=n.CoinItem},function(n){v=n.GashaponMgr},function(n){g=n.AudioMgr},function(n){I=n.ItemMgr},function(n){y=n.InputBlock},function(n){G=n.TimeMgr},function(n){k=n.AdMgr},function(n){w=n.TrackMgr}],execute:function(){var M,T,x,R,_,b;s._RF.push({},"c3642ZvhMZBRaOwnHx75sbo","UIGashapon",void 0);var A=c.ccclass,B=c.property,U=c.requireComponent;n("UIGashapon",(M=A("UI/UIGashapon"),T=U(u),x=B(m),M(R=T((b=t((_=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return t=n.call.apply(n,[this].concat(a))||this,r(t,"coinItem",b,o(t)),t}e(t,n);var s=t.prototype;return s.onOpen=function(n){this.coinItem.init(h.CurCoin)},s.onClose=function(n){},s.onBtnCloseClick=function(){this.close(),this.open(f.Main)},s.onBtnOneClick=function(){var n=a(i().mark((function n(){var t,e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(h.CurCoin<l.Gashapon_One_Cost)){n.next=3;break}return this.open(f.Toast,"金币不足"),n.abrupt("return");case 3:return g.playSfx("a摇晃扭蛋"),d.emit(C.StartGashapon),w.track("gashapon",{mode:"单次"}),h.CurCoin-=l.Gashapon_One_Cost,h.fakeCoin=h.CurCoin,this.coinItem.updateCoin(h.CurCoin,!1),t=v.getRandReward(),e=t.itemId,r=t.cnt,I.updateItem(e,r),y.Active=!0,n.next=15,G.delay(2);case 15:y.Active=!1,d.emit(C.EndGashapon),this.open(f.GetReward,[t]);case 18:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s.onBtnTwoClick=function(){var n=a(i().mark((function n(){var t,e,r,o=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=function(){var n=a(i().mark((function n(t){var e,r,a,s,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(w.track("gashapon",{mode:"看视频"}),g.playSfx("a摇晃扭蛋"),d.emit(C.StartGashapon),h.fakeCoin=h.CurCoin,e=[],r=0;r<2;r++)a=v.getRandReward(),s=a.itemId,c=a.cnt,I.updateItem(s,c),e.push(a);return y.Active=!0,n.next=9,G.delay(2);case 9:y.Active=!1,d.emit(C.EndGashapon),o.open(f.GetReward,e);case 12:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),e=function(){o.open(f.Toast,"激励视频播放未完成")},r=function(){o.open(f.Toast,"暂时没有合适的广告")},k.showRewardedVideo(t,e,r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s.onBtnTenClick=function(){var n=a(i().mark((function n(){var t,e,r,o,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(h.CurCoin<l.Gashapon_Ten_Cost)){n.next=3;break}return this.open(f.Toast,"金币不足"),n.abrupt("return");case 3:for(g.playSfx("a摇晃扭蛋"),d.emit(C.StartGashapon),w.track("gashapon",{mode:"十连"}),h.CurCoin-=l.Gashapon_Ten_Cost,h.fakeCoin=h.CurCoin,this.coinItem.updateCoin(h.CurCoin,!1),t=[],e=0;e<10;e++)r=v.getRandReward(),o=r.itemId,a=r.cnt,I.updateItem(o,a),t.push(r);return y.Active=!0,n.next=14,G.delay(2);case 14:y.Active=!1,d.emit(C.EndGashapon),this.open(f.GetReward,t);case 17:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t}(p)).prototype,"coinItem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=_))||R)||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIGetReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CfgItem.ts","./ResMgr.ts","./ItemType.ts","./CoinMgr.ts","./InputBlock.ts","./AudioMgr.ts","./ItemMgr.ts","./CoinItem.ts","./UI.ts","./AdMgr.ts","./TrackMgr.ts"],(function(t){var e,n,r,i,o,a,c,s,u,l,f,p,d,h,w,b,g,m,I,v,C,y,k,R,x,G,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,l=t.Widget,f=t.Sprite,p=t.Label,d=t.Node,h=t.tween,w=t.v3},function(t){b=t.UIBase},function(t){g=t.CfgItem},function(t){m=t.ResMgr},function(t){I=t.ItemType},function(t){v=t.CoinMgr},function(t){C=t.InputBlock},function(t){y=t.AudioMgr},function(t){k=t.ItemMgr},function(t){R=t.CoinItem},function(t){x=t.UI},function(t){G=t.AdMgr},function(t){A=t.TrackMgr}],execute:function(){var M,T,U,z,D,_,B,F,L,S,O,P,j,H;s._RF.push({},"3dacejXH+FCKJvYNd+LzdQ0","UIGetReward",void 0);var N=u.ccclass,q=u.property,J=u.requireComponent;t("UIGetReward",(M=N("UI/UIGetReward"),T=J(l),U=q(f),z=q(p),D=q(d),_=q(d),B=q(R),M(F=T((S=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"icon",S,i(e)),r(e,"lbCnt",O,i(e)),r(e,"btnDoubleGet",P,i(e)),r(e,"btnGet",j,i(e)),r(e,"coinItem",H,i(e)),e.rewardArr=[],e.tw=void 0,e.curReward=null,e}n(e,t);var s=e.prototype;return s.onLoad=function(){},s.onOpen=function(t){this.coinItem.init(v.fakeCoin),this.rewardArr=t,this.CurReward=this.rewardArr.shift()},s.onClose=function(t){},s.onBtnGetClick=function(){var t=a(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.rewardArr.length,this.btnGet.active=e>0,this.btnDoubleGet.active=e>0,A.track("get_reward",{is_video:"看"}),!(e<=0)){t.next=10;break}return t.next=7,this.getItem();case 7:this.close(),t.next=13;break;case 10:return t.next=12,this.getItem();case 12:this.CurReward=this.rewardArr.shift();case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onBtnDoubleClick=function(){var t=a(c().mark((function t(){var e,n,r,i=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=function(){var t=a(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.rewardArr.length,i.btnGet.active=n>0,i.btnDoubleGet.active=n>0,A.track("get_reward",{is_video:"没看"}),!(n<=0)){t.next=10;break}return t.next=7,i.getItem(1);case 7:i.close(),t.next=13;break;case 10:return t.next=12,i.getItem(1);case 12:i.CurReward=i.rewardArr.shift();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){i.open(x.Toast,"激励视频播放未完成")},r=function(){i.open(x.Toast,"暂时没有合适的广告")},G.showRewardedVideo(e,n,r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.getItem=function(t){var e=this;return void 0===t&&(t=0),new Promise((function(n,r){var i=e.curReward,o=i.itemId,a=i.cnt,c=k.getType(o);switch(t>0&&(e.lbCnt.string="x"+(t+1)*a,k.updateItem(o,t*a)),c){case I.Coin:e.coinItem.updateCoin(e.coinItem.coin+(t+1)*a),C.setActive(2),e.scheduleOnce((function(){n()}),2);break;case I.Skill:n();break;case I.Collection:n()}}))},o(e,[{key:"CurReward",set:function(t){this.curReward=t;var e=t.itemId,n=t.cnt,r=g[e],i=r.bundle,o=r.icon,a=r.type;this.lbCnt.string="x"+n;var c=m.getSpriteFrame(i,o);this.icon.spriteFrame=c,a===I.Collection&&y.playSfx("a通关成功"),this.tw&&this.tw.stop(),this.tw=h(this.icon.node),this.tw.set({scale:w()}),this.tw.to(.5,{scale:w(1,1,1)},{easing:"backOut"}),this.tw.start()}}]),e}(b)).prototype,"icon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(L.prototype,"lbCnt",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"btnDoubleGet",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(L.prototype,"btnGet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(L.prototype,"coinItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=L))||F)||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIHome.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./CoinItem.ts","./CoinMgr.ts"],(function(e){var t,i,n,o,r,a,c,s,l,u,g,p,h,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Widget,s=e.Prefab,l=e.PageView,u=e.instantiate,g=e.math},function(e){p=e.UIBase},function(e){h=e.UI},function(e){f=e.CoinItem},function(e){m=e.CoinMgr}],execute:function(){var I,P,d,C,x,b,w,y,v,U;r._RF.push({},"3fe06H4NjBAcppp/pA55uBO","UIHome",void 0);var B=a.ccclass,V=a.property,H=a.requireComponent;e("UIHome",(I=B("UI/UIHome"),P=H(c),d=V(s),C=V(l),x=V(f),I(b=P((y=t((w=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"homeItemPre",y,o(t)),n(t,"pageView",v,o(t)),n(t,"coinItem",U,o(t)),t.curPageIdx=0,t.maxPageCnt=0,t}i(t,e);var r=t.prototype;return r.onOpen=function(e){this.coinItem.init(m.CurCoin);for(var t=0;t<3;t++){var i=u(this.homeItemPre);this.pageView.addPage(i)}this.maxPageCnt=this.pageView.content.children.length},r.onClose=function(e){},r.onBtnCloseClick=function(){this.close(),this.open(h.Main)},r.onBtnLeftClick=function(){this.curPageIdx=g.clamp(this.curPageIdx-1,0,this.maxPageCnt-1),console.log(this.curPageIdx),this.pageView.scrollToPage(this.curPageIdx,.5)},r.onBtnRightClick=function(){this.curPageIdx=g.clamp(this.curPageIdx+1,0,this.maxPageCnt-1),console.log(this.curPageIdx),this.pageView.scrollToPage(this.curPageIdx,.5)},t}(p)).prototype,"homeItemPre",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"pageView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(w.prototype,"coinItem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b)||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./GameMode.ts","./AudioMgr.ts","./DecMgr.ts","./CollectMgr.ts","./CoinMgr.ts","./Global.ts","./PassRewardMgr.ts","./CoinItem.ts","./RedPoint.ts","./AdMgr.ts"],(function(n){var t,e,o,i,r,a,c,l,u,s,p,f,d,b,C,h,g,R,m,P;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Widget},function(n){l=n.UIBase},function(n){u=n.UI},function(n){s=n.GameMgr},function(n){p=n.GameMode},function(n){f=n.AudioMgr},function(n){d=n.DecMgr},function(n){b=n.CollectMgr},function(n){C=n.CoinMgr},function(n){h=n.Global},function(n){g=n.PassRewardMgr},function(n){R=n.CoinItem},function(n){m=n.RedPoint},function(n){P=n.AdMgr}],execute:function(){var M,G,y,w,I,k,B,U,D,v,z,_,A,F,H,S;r._RF.push({},"13f93pPWxlEjb7hG/ltNGEc","UIMain",void 0);var L=a.ccclass,j=a.property,x=a.requireComponent;n("UIMain",(M=L("UI/UIMain"),G=x(c),y=j(R),w=j(m),I=j(m),k=j(m),B=j(m),U=j(m),M(D=G((z=t((v=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,o(t,"coinItem",z,i(t)),o(t,"btnDecRedPoint",_,i(t)),o(t,"btnCollectRedPoint",A,i(t)),o(t,"btnHomeRedPoint",F,i(t)),o(t,"btnPassRewardRedPoint",H,i(t)),o(t,"btnGashaponRedPoint",S,i(t)),t}e(t,n);var r=t.prototype;return r.onOpen=function(n){this.coinItem.init(C.CurCoin),P.showInterstitialAd(),this.btnDecRedPoint.updateFunc=function(){return d.hasDecCanUnlock()},this.btnCollectRedPoint.updateFunc=function(){return b.hasCollectCanUnlock()},this.btnHomeRedPoint.updateFunc=function(){return C.CurCoin>=h.HomePeice_Unlock_Cost},this.btnGashaponRedPoint.updateFunc=function(){return C.CurCoin>=h.Gashapon_One_Cost},this.btnPassRewardRedPoint.updateFunc=function(){return!g.isAllGet()&&g.canGetReward()},f.playBgm("主界面音乐")},r.onClose=function(n){f.stopBgm()},r.onBtnStartClick=function(){s.Mode=p.Normal,s.startGame(),this.delayClose(.5)},r.onBtnSuperClick=function(){s.Mode=p.Super,s.SuperLevel=1,s.startGame(),this.delayClose(.5)},r.onBtnSettingClick=function(){this.open(u.Setting)},r.onBtnGashaponClick=function(){this.close(),this.open(u.Gashapon)},r.onBtnCollectClick=function(){this.open(u.Collect)},r.onBtnDecorationClick=function(){this.open(u.Decoration)},r.onBtnHomeClick=function(){this.close(),this.open(u.Home)},r.onBtnRewardClick=function(){this.open(u.PassReward)},r.onBtnRankClick=function(){this.open(u.Rank)},t}(l)).prototype,"coinItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(v.prototype,"btnDecRedPoint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(v.prototype,"btnCollectRedPoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"btnHomeRedPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(v.prototype,"btnPassRewardRedPoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"btnGashaponRedPoint",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=v))||D)||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Debug.ts","./UIType.ts","./EventMgr.ts","./EventType.ts","./ResMgr.ts","./UIBase.ts","./UI.ts"],(function(e){var t,n,i,r,s,o,p,a,u,c,h,l,d,f,g,U,_,I,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){p=e.cclegacy,a=e._decorator,u=e.Node,c=e.Component,h=e.instantiate,l=e.isValid},function(e){d=e.Debug},function(e){f=e.UIType},function(e){g=e.EventMgr},function(e){U=e.EventType},function(e){_=e.ResMgr},function(e){I=e.UIBase},function(e){v=e.UI}],execute:function(){var M,y,k,b,x,S;p._RF.push({},"2c522MGUX1PWKPa7gjqU4Ab","UIMgr",void 0);var R=a.ccclass,T=a.property,P="UIMgr";e("UIMgr",(M=R("Manager/UIMgr"),y=T(u),M(((S=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"popUpMask",x,r(t)),t}return n(t,e),t.prototype.onLoad=function(){globalThis.UIMgr=t,t._inst=this,t._node=this.node,t.init(),t.regist()},t.init=function(){g.on(U.OpenUI,this.open,this),g.on(U.CloseUI,this.close,this)},t.open=function(){var e=s(o().mark((function e(t,n,i){var r,s,p,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isOpened(t)){e.next=3;break}return d.Warn(P,t+"已经打开"),e.abrupt("return");case 3:if(_.isLoaded("ui",t)){e.next=7;break}return e.next=7,_.loadRes("ui",t);case 7:if(r=_.getRes("ui",t)){e.next=11;break}return d.Error(P,t+"不存在"),e.abrupt("return");case 11:(null==(s=this._register[t])?void 0:s.ref)&&r.addRef(),p=h(r),a=p.getComponent(I),d.Log(P,"打开"+t),i||(i=a.uiType),this._node.children[i].addChild(p),a.onOpen(n),i===f.PopUp&&(u=p.getSiblingIndex(),this._inst.popUpMask.active=!0,this._inst.popUpMask.setSiblingIndex(u-1),this._popUpStack.push(t)),i===f.Toast?(l(this._toast)&&this._toast.destroy(),this._toast=p):this._openedUI[t]=a;case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.close=function(e,t){if(this.isOpened(e)){var n=this._register[e];if(null!=n&&n.ref){var i=_.getRes("ui",e);i.decRef(),i.refCount<=0&&d.Log(P,"卸载"+e)}var r=this._openedUI[e];if(d.Log(P,"关闭"+e),r.uiType===f.PopUp){var s=this._popUpStack.indexOf(e);if(this._popUpStack.splice(s,1),this._popUpStack.length<=0)this._inst.popUpMask.active=!1;else{var o=this._popUpStack[this._popUpStack.length-1],p=this._openedUI[o].node.getSiblingIndex();this._inst.popUpMask.setSiblingIndex(Math.max(0,p))}}r.onClose(t),delete this._openedUI[e],r.node.destroy()}},t.get=function(e){return this._openedUI[e]},t.isOpened=function(e){return this._openedUI.hasOwnProperty(e)},t.regist=function(){this._register[v.Main]={ref:!1},this._register[v.Pause]={ref:!1},this._register[v.Rank]={ref:!1}},t}(c))._inst=null,S._node=null,S._openedUI={},S._popUpStack=[],S._toast=null,S._register={},x=t((b=S).prototype,"popUpMask",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=b))||k));p._RF.pop()}}}));

System.register("chunks:///_virtual/UIPassReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./PassRewardMgr.ts","./GameMgr.ts","./TrackMgr.ts"],(function(e){var t,r,n,i,a,s,l,o,u,c,p,b,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.Widget,o=e.ProgressBar,u=e.Label,c=e.Node},function(e){p=e.UIBase},function(e){b=e.PassRewardMgr},function(e){g=e.GameMgr},function(e){f=e.TrackMgr}],execute:function(){var d,h,v,w,y,P,G,R,m,B,C,I,M,U;a._RF.push({},"a4299iX6cZCU5/ndRDbdW7L","UIPassReward",void 0);var z=s.ccclass,L=s.property,T=s.requireComponent;e("UIPassReward",(d=z("UI/UIPassReward"),h=T(l),v=L(o),w=L(u),y=L(u),P=L(u),G=L(c),d(R=h((B=t((m=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"progressBar",B,i(t)),n(t,"lbProgress",C,i(t)),n(t,"lbTip",I,i(t)),n(t,"lbAllGet",M,i(t)),n(t,"btnGet",U,i(t)),t}r(t,e);var a=t.prototype;return a.onOpen=function(e){this.updateState()},a.onClose=function(e){},a.updateState=function(){var e=b.canGetReward(),t=b.isAllGet();this.btnGet.active=!t&&e,this.lbTip.node.active=!t&&!e,this.lbAllGet.node.active=t;var r=b.CurData.passLevel,n=g.CurLevel-1,i=Math.min(n,r);this.lbTip.string="再过"+(r-i)+"关可领取奖励",this.lbProgress.string=i+"/"+r,this.progressBar.progress=i/r},a.onBtnCloseClick=function(){this.close()},a.onBtnGetClick=function(){var e=b.CurData.passLevel;f.track("get_pass_reward",{pass_level:e}),b.getReward(),this.updateState()},t}(p)).prototype,"progressBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(m.prototype,"lbProgress",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(m.prototype,"lbTip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(m.prototype,"lbAllGet",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(m.prototype,"btnGet",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=m))||R)||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPause.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./Setting.ts","./AudioMgr.ts"],(function(t){var e,n,i,o,r,a,u,l,c,s,f,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Widget,l=t.Toggle},function(t){c=t.UIBase},function(t){s=t.UI},function(t){f=t.GameMgr},function(t){g=t.Setting},function(t){b=t.AudioMgr}],execute:function(){var p,d,h,m,B,y,I,C,k,E;r._RF.push({},"9f380B0izdKPaV3/4q4Vp9j","UIPause",void 0);var S=a.ccclass,P=a.property,U=a.requireComponent;t("UIPause",(p=S("UI/UIPause"),d=U(u),h=P(l),m=P(l),B=P(l),p(y=d((C=e((I=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"tgSfx",C,o(e)),i(e,"tgBgm",k,o(e)),i(e,"tgVibrate",E,o(e)),e}n(e,t);var r=e.prototype;return r.onOpen=function(t){f.Pause=!0,this.tgSfx.setIsCheckedWithoutNotify(g.SfxEnabled),this.tgBgm.setIsCheckedWithoutNotify(g.BgmEnabled),this.tgVibrate.setIsCheckedWithoutNotify(g.VibrateEnabled)},r.onClose=function(t){f.Pause=!1},r.onBtnQuitClick=function(){this.close(),this.open(s.Fail)},r.onBtnContinueClick=function(){this.close()},r.onBtnCloseClick=function(){this.close()},r.onTgSfxClick=function(){g.SfxEnabled=!g.SfxEnabled},r.onTgBgmClick=function(){g.BgmEnabled=!g.BgmEnabled,g.BgmEnabled?b.resumeBgm():b.pauseBgm()},r.onTgVibratelick=function(){g.VibrateEnabled=!g.VibrateEnabled},e}(c)).prototype,"tgSfx",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(I.prototype,"tgBgm",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(I.prototype,"tgVibrate",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=I))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./RankMgr.ts","./GameMgr.ts","./RankItem.ts","./TrackMgr.ts"],(function(e){var t,n,r,i,a,o,l,u,c,s,f,p,k,b,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Widget,u=e.Node,c=e.Label,s=e.Prefab,f=e.instantiate},function(e){p=e.UIBase},function(e){k=e.RankMgr},function(e){b=e.GameMgr},function(e){g=e.RankItem},function(e){m=e.TrackMgr}],execute:function(){var v,y,I,h,R,d,z,C,L,M,U,P;a._RF.push({},"ab975fudz9Ji6N0qDxAskW/","UIRank",void 0);var w=o.ccclass,B=o.property,_=o.requireComponent;e("UIRank",(v=w("UI/UIRank"),y=_(l),I=B(u),h=B(u),R=B(c),d=B(s),v(z=y((L=t((C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"layout",L,i(t)),r(t,"selfItem",M,i(t)),r(t,"lbLevel",U,i(t)),r(t,"rankItemPre",P,i(t)),t}n(t,e);var a=t.prototype;return a.onOpen=function(e){var t=k.getRankByName("自己")<7;this.selfItem.active=!t,this.lbLevel.string=b.CurLevel+"关";for(var n=t?7:6,r=0;r<n;r++){var i=f(this.rankItemPre);this.layout.addChild(i);var a=i.getComponent(g),o=k.RankArr[r];a.init(r,o)}m.track("open_rank",{isSucc:1})},a.onClose=function(e){},a.onBtnCloseClick=function(){this.close()},t}(p)).prototype,"layout",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(C.prototype,"selfItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(C.prototype,"lbLevel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(C.prototype,"rankItemPre",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=C))||z)||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIReplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts"],(function(n){var e,t,o,i,c,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,i=n.Widget},function(n){c=n.UIBase},function(n){s=n.GameMgr}],execute:function(){var r;t._RF.push({},"269f7XcQRpFiK9QjxRWiOY+","UIReplay",void 0);var u=o.ccclass,a=(o.property,o.requireComponent);n("UIReplay",u("UI/UIReplay")(r=a(i)(r=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onOpen=function(n){s.Pause=!0},o.onClose=function(n){s.Pause=!1},o.onBtnContinueClick=function(){this.close()},o.onBtnReplayClick=function(){s.startGame(),this.close()},o.onBtnCloseClick=function(){this.close()},t}(c))||r)||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIRevive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./EventMgr.ts","./EventType.ts","./GameMode.ts","./AdMgr.ts"],(function(e){var i,n,t,o,r,a,c,s,l,u,f,p,v,d,h,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Widget,s=e.Label,l=e.Node},function(e){u=e.UIBase},function(e){f=e.UI},function(e){p=e.GameMgr},function(e){v=e.EventMgr},function(e){d=e.EventType},function(e){h=e.GameMode},function(e){y=e.AdMgr}],execute:function(){var g,T,b,I,M,R,m,U;r._RF.push({},"a186eB7CSRBNoppDC1ert1x","UIRevive",void 0);var B=a.ccclass,C=a.property,w=a.requireComponent;e("UIRevive",(g=B("UI/UIRevive"),T=w(c),b=C(s),I=C([l]),g(M=T((m=i((R=function(e){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,t(i,"lbTip",m,o(i)),t(i,"failNodes",U,o(i)),i.failType=void 0,i}n(i,e);var r=i.prototype;return r.onOpen=function(e){var i=this;p.Pause=!0,this.failType=e,this.failNodes.forEach((function(e,n){e.active=n===i.failType}));var n=p.isHardLevel||p.Mode===h.Super?5:1;this.scheduleOnce((function(){i.lbTip.string="复活并加时"+n+"分钟"}))},r.onClose=function(e){p.Pause=!1},r.onBtnReviveClick=function(){var e=this;y.showRewardedVideo((function(i){v.emit(d.Revive,e.failType),e.close()}),(function(){e.open(f.Toast,"激励视频播放未完成")}),(function(){e.open(f.Toast,"暂时没有合适的广告")}))},r.onBtnCloseClick=function(){this.close(),this.open(f.Fail)},i}(u)).prototype,"lbTip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(R.prototype,"failNodes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=R))||M)||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/UISetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./Setting.ts","./AudioMgr.ts","./Global.ts"],(function(t){var e,n,i,r,o,l,a,u,c,s,g,b,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Widget,u=t.Toggle,c=t.Label},function(t){s=t.UIBase},function(t){g=t.GameMgr},function(t){b=t.Setting},function(t){f=t.AudioMgr},function(t){p=t.Global}],execute:function(){var d,h,m,y,B,S,I,V,E,k,v,C;o._RF.push({},"d59142/iI5MZYvh8knF5b5G","UISetting",void 0);var x=l.ccclass,U=l.property,z=l.requireComponent;t("UISetting",(d=x("UI/UISetting"),h=z(a),m=U(u),y=U(u),B=U(u),S=U(c),d(I=h((E=e((V=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"tgSfx",E,r(e)),i(e,"tgBgm",k,r(e)),i(e,"tgVibrate",v,r(e)),i(e,"lbVersion",C,r(e)),e}n(e,t);var o=e.prototype;return o.onOpen=function(t){g.Pause=!0,this.tgSfx.setIsCheckedWithoutNotify(b.SfxEnabled),this.tgBgm.setIsCheckedWithoutNotify(b.BgmEnabled),this.tgVibrate.setIsCheckedWithoutNotify(b.VibrateEnabled),this.lbVersion.string="v"+p.Version},o.onClose=function(t){g.Pause=!1},o.onBtnCloseClick=function(){this.close()},o.onTgSfxClick=function(){b.SfxEnabled=!b.SfxEnabled},o.onTgBgmClick=function(){b.BgmEnabled=!b.BgmEnabled,b.BgmEnabled?f.resumeBgm():f.pauseBgm()},o.onTgVibratelick=function(){b.VibrateEnabled=!b.VibrateEnabled},e}(s)).prototype,"tgSfx",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(V.prototype,"tgBgm",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(V.prototype,"tgVibrate",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(V.prototype,"lbVersion",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=V))||I)||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/UISkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./SkillMgr.ts","./GameMgr.ts","./UI.ts","./AdMgr.ts","./TrackMgr.ts"],(function(t){var n,e,i,o,l,r,s,c,a,u,f,k,p,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.Widget,c=t.Node},function(t){a=t.UIBase},function(t){u=t.SkillMgr},function(t){f=t.GameMgr},function(t){k=t.UI},function(t){p=t.AdMgr},function(t){g=t.TrackMgr}],execute:function(){var h,d,v,y,I,M;l._RF.push({},"26b12M+SaxJvKeKOhwaFZyy","UISkill",void 0);var S=r.ccclass,U=r.property,m=r.requireComponent;t("UIGetSkill",(h=S("UI/UIGetSkill"),d=m(s),v=U([c]),h(y=d((M=n((I=function(t){function n(){for(var n,e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return n=t.call.apply(t,[this].concat(l))||this,i(n,"contents",M,o(n)),n.skill=null,n}e(n,t);var l=n.prototype;return l.onOpen=function(t){f.Pause=!0,this.skill=t;for(var n=0;n<this.contents.length;n++){this.contents[n].active=this.skill===n}},l.onClose=function(t){f.Pause=!1},l.onBtnGetClick=function(){var t=this;p.showRewardedVideo((function(n){g.track("get_skill",{skill_name:u.getSkillName(t.skill)}),u.addSkill(t.skill),t.close()}),(function(){t.open(k.Toast,"激励视频播放未完成")}),(function(){t.open(k.Toast,"暂时没有合适的广告")}))},l.onBtnCloseClick=function(){this.close()},n}(a)).prototype,"contents",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=I))||y)||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIStageTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){var i,e,r,n,o,a,l,p,u,c,s,f,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Widget,p=t.Label,u=t.Node,c=t.UIOpacity,s=t.tween,f=t.v3},function(t){y=t.UIBase}],execute:function(){var b,g,h,d,v,w,I,T,U,O;o._RF.push({},"20f65pXklxMXLCKLZwpj4Q3","UIStageTip",void 0);var m=a.ccclass,z=a.property,L=a.requireComponent;t("UIStageTip",(b=m("UI/UIStageTip"),g=L(l),h=z(p),d=z(u),v=z(c),b(w=g((T=i((I=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"lbTip",T,n(i)),r(i,"arrow",U,n(i)),r(i,"uiOpacity",O,n(i)),i}e(i,t);var o=i.prototype;return o.onOpen=function(t){var i=this;this.lbTip.string=t,s(this.lbTip.node).to(.5,{position:f(0,0,0)},{easing:"sineOut"}).start(),s(this.arrow).to(10,{position:f(850,0)}).start(),s(this.uiOpacity).delay(2).to(1,{opacity:0}).call((function(){i.node.destroy()})).start()},o.onClose=function(t){},i}(y)).prototype,"lbTip",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(I.prototype,"arrow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(I.prototype,"uiOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=I))||w)||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/UISuperWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./UI.ts","./AudioMgr.ts","./CoinMgr.ts","./TimeMgr.ts","./InputBlock.ts","./CoinItem.ts","./Global.ts"],(function(n){var t,e,i,r,o,u,c,a,s,l,p,f,I,m,C,g,h,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized,o=n.asyncToGenerator,u=n.regeneratorRuntime},function(n){c=n.cclegacy,a=n._decorator,s=n.Widget},function(n){l=n.UIBase},function(n){p=n.GameMgr},function(n){f=n.UI},function(n){I=n.AudioMgr},function(n){m=n.CoinMgr},function(n){C=n.TimeMgr},function(n){g=n.InputBlock},function(n){h=n.CoinItem},function(n){y=n.Global}],execute:function(){var d,v,M,U,b,_;c._RF.push({},"55107CbYKpNdYvorZkVfQTb","UISuperWin",void 0);var B=a.ccclass,G=a.property,S=a.requireComponent;n("UISuperWin",(d=B("UI/UISuperWin"),v=S(s),M=G(h),d(U=v((_=t((b=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return t=n.call.apply(n,[this].concat(o))||this,i(t,"coinItem",_,r(t)),t}e(t,n);var c=t.prototype;return c.onOpen=function(n){p.Pause=!0,this.coinItem.init(m.CurCoin),I.stopBgm(),I.playSfx("a通关成功"),m.CurCoin+=y.Super_Level_Coin_Default_Cnt},c.onClose=function(n){p.Pause=!1,g.Active=!1},c.onBtnGetClick=function(){var n=o(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g.Active=!0,this.coinItem.updateCoin(m.CurCoin),n.next=4,C.delay(2);case 4:return p.quitGame(),n.next=7,C.delay(.5);case 7:this.close(),this.open(f.Main);case 9:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t}(l)).prototype,"coinItem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=b))||U)||U));c._RF.pop()}}}));

System.register("chunks:///_virtual/UIToast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){var n,o,e,s,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,s=t.Widget,r=t.Label},function(t){i=t.UIBase}],execute:function(){var c;o._RF.push({},"77689t//+dLirYhKMrlJsQa","UIToast",void 0);var a=e.ccclass,l=(e.property,e.requireComponent);t("UIToast",a("UI/UIToast")(c=l(s)(c=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).lbToast=null,n}n(o,t);var e=o.prototype;return e.onLoad=function(){this.lbToast=this.getComponentInChildren(r)},e.onDestroy=function(){this.unscheduleAllCallbacks()},e.onOpen=function(t){var n=this;this.lbToast.string=""+t,this.scheduleOnce((function(){n.node.destroy()}),2)},e.onClose=function(t){},o}(i))||c)||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/UITransition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(n){var t,e,o,r,i,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,r=n.Widget,i=n.tween,s=n.v3},function(n){c=n.UIBase}],execute:function(){var a;e._RF.push({},"faba7hDNr5JFqtokzdEi3+k","UITransition",void 0);var u=o.ccclass,l=(o.property,o.requireComponent);n("UITransition",u("UI/UITransition")(a=l(r)(a=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.onOpen=function(n){for(var t=this,e=this.node.children,o=0;o<e.length;o++){var r=e[o];i(r).sequence(i(r).to(.2,{angle:8}),i(r).to(.2,{angle:-8})).repeatForever().start(),i(r).by(1,{position:s(-2e3,0,0)}).start()}this.scheduleOnce((function(){t.close()}),1)},o.onClose=function(n){},e}(c))||a)||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIType.ts",["cc"],(function(o){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"5e880vRZzdPbr6TDMq95Hni","UIType",void 0);o("UIType",function(o){return o[o.Common=0]="Common",o[o.PopUp=1]="PopUp",o[o.Top=2]="Top",o[o.Toast=3]="Toast",o}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/UIWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./AudioMgr.ts","./Global.ts","./CoinMgr.ts","./ArrayUtil.ts","./InputBlock.ts","./TimeMgr.ts","./CoinItem.ts","./UI.ts","./AdMgr.ts","./RankMgr.ts","./TrackMgr.ts"],(function(t){var n,e,i,r,o,a,u,c,s,l,p,f,m,C,d,v,h,g,I,y,w,_,k,M,b,A,x,U,G;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){c=t.cclegacy,s=t._decorator,l=t.Widget,p=t.Node,f=t.Label,m=t.v2,C=t.tween,d=t.v3,v=t.math},function(t){h=t.UIBase},function(t){g=t.GameMgr},function(t){I=t.AudioMgr},function(t){y=t.Global},function(t){w=t.CoinMgr},function(t){_=t.ArrayUtil},function(t){k=t.InputBlock},function(t){M=t.TimeMgr},function(t){b=t.CoinItem},function(t){A=t.UI},function(t){x=t.AdMgr},function(t){U=t.RankMgr},function(t){G=t.TrackMgr}],execute:function(){var L,B,R,T,N,P,W,z,D,F;c._RF.push({},"53080JFSltPuag+WxVvfmJN","UIWin",void 0);var S=s.ccclass,q=s.property,J=s.requireComponent;t("UIWin",(L=S("UI/UIWin"),B=J(l),R=q(p),T=q(f),N=q(b),L(P=B((z=n((W=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"pointer",z,r(n)),i(n,"lbCoin",D,r(n)),i(n,"coinItem",F,r(n)),n.coin=0,n.multi=1,n.posArr=[m(-180,-16),m(0,80),m(90,140),m(150,180)],n.multiArr=[2,3,4,3],n.tw=null,n}e(n,t);var c=n.prototype;return c.onOpen=function(t){I.stopBgm(),I.playSfx("a通关成功"),x.showInterstitialAd(),G.track("game_win",{mode:g.GameModeName,level:g.GameLevelId}),this.coinItem.init(w.CurCoin),g.Pause=!0;this.tw=C(this.pointer).sequence(C(this.pointer).to(.75,{position:d(180,-170)}),C(this.pointer).to(.75,{position:d(-180,-170)})).repeatForever().start(),this.Coin=y.Normal_Level_Coin_Default_Cnt+(g.CurLevel-1)*y.Normal_Level_Coin_Add_Cnt,w.CurCoin+=this.coin,U.updateRankData()},c.onClose=function(t){g.Pause=!1,k.Active=!1},c.onBtnMultiClick=function(){var t=a(u().mark((function t(){var n,e,i,r=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(){var t=a(u().mark((function t(n){var e,i,o,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G.track("get_level_reward",{is_video:"看"}),r.tw.stop(),e=_.pickItem([0,0,0,0,0,1,2,3]),r.multi=r.multiArr[e],i=r.posArr[e],o=v.randomRangeInt(i.x,i.y),r.pointer.setPosition(o,-170),a=(r.multi-1)*r.coin,r.Coin=r.multi*r.coin,w.CurCoin+=a,r.coinItem.updateCoin(w.CurCoin),g.CurLevel++,k.Active=!0,t.next=15,M.delay(2);case 15:g.startGame(),r.close();case 17:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),e=function(){r.open(A.Toast,"激励视频播放未完成")},i=function(){r.open(A.Toast,"暂时没有合适的广告")},x.showRewardedVideo(n,e,i);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.onBtnNextClick=function(){var t=a(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.coinItem.updateCoin(w.CurCoin),G.track("get_level_reward",{is_video:"没看"}),g.CurLevel++,k.Active=!0,t.next=6,M.delay(2);case 6:g.startGame(),this.close();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o(n,[{key:"Coin",set:function(t){this.coin=Math.max(t,0),this.lbCoin.string="x"+this.coin}}]),n}(h)).prototype,"pointer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(W.prototype,"lbCoin",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(W.prototype,"coinItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=W))||P)||P));c._RF.pop()}}}));

System.register("chunks:///_virtual/VibrateUtil.ts",["cc","./Setting.ts","./Wechat.ts"],(function(t){var i,e;return{setters:[function(t){i=t.cclegacy},function(t){e=t.Setting},null],execute:function(){i._RF.push({},"13e8bcygodGUpflbxGpVrih","VibrateUtil",void 0),t("VibrateUtil",function(){function t(){}return t.vibrate=function(t){if(e.VibrateEnabled){var i=Date.now();i-this._lastVibrateTime>100&&(this._lastVibrateTime=i)}},t}())._lastVibrateTime=0,i._RF.pop()}}}));

System.register("chunks:///_virtual/Wechat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./Debug.ts"],(function(t){var n,e,o,s;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){o=t.wx},function(t){s=t.Debug}],execute:function(){e._RF.push({},"70ff6chXrRJP7xFiRqW/U0/","Wechat",void 0);t("WeChat",function(){function t(){}return t.init=function(){this._sysInfo=o.getSystemInfoSync(),s.Log("WeChat","系统信息:",this._sysInfo)},t.reboot=function(){o.restartMiniProgram()},t.compareVersion=function(t,n){t=t.split("."),n=n.split(".");for(var e=Math.max(t.length,n.length);t.length<e;)t.push("0");for(;n.length<e;)n.push("0");for(var o=0;o<e;o++){var s=parseInt(t[o]),i=parseInt(n[o]);if(s>i)return 1;if(s<i)return-1}return 0},t.showToast=function(t,n,e){void 0===n&&(n="none"),void 0===e&&(e=1500),o.showToast({title:t,icon:n,duration:e})},t.hideToast=function(){o.hideToast({})},t.vibrate=function(){o.vibrateShort(null)},t.postMsg=function(t){o.getOpenDataContext().postMessage(t)},n(t,null,[{key:"StatusBarHeight",get:function(){var t,n;return null!=(t=null==(n=this._sysInfo)?void 0:n.statusBarHeight)?t:0}}]),t}())._sysInfo=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/WxAd.ts",["cc","./Global.ts","./Debug.ts","./Wechat.ts"],(function(n){var e,d,r,i;return{setters:[function(n){e=n.cclegacy},function(n){d=n.wx},function(n){r=n.Debug},function(n){i=n.WeChat}],execute:function(){e._RF.push({},"4475fPiCSpPnKWKVEpphPne","WxAd",void 0);var t="WxAd",o=n("WxAd",function(){function n(){}return n.init=function(){var n=d.getSystemInfoSync();this._windowWidth=n.windowWidth,this._windowHeight=n.windowHeight},n.preloadRewardedVideo=function(){this.rewardedVideoAd=d.createRewardedVideoAd({adUnitId:""}),this.rewardedVideoAd.load().catch((function(n){r.Error(t,n)}))},n.showRewardedVideo=function(n,e,o){var a=this;void 0===e&&(e=null),void 0===o&&(o=null),this.rewardedVideoAd=d.createRewardedVideoAd({adUnitId:""});this.rewardedVideoAd.offError(),this.rewardedVideoAd.onError((function(n){r.Error(t,"激励视频播放失败:",n.errMsg),i.showToast("视频拉取失败"),o&&o()})),this.rewardedVideoAd.show().catch((function(n){a.rewardedVideoAd.load().then((function(){return a.rewardedVideoAd.show()}))}));this.rewardedVideoAd.offClose(),this.rewardedVideoAd.onClose((function(d){a.rewardedVideoAd&&(d&&d.isEnded||void 0===d?n&&n():(i.showToast("中途退出，不下发奖励"),e&&e()))}))},n.showInterstitialAd=function(){if(d){var n=d.createInterstitialAd({adUnitId:""});n.load().then((function(){n.show().then((function(){r.Log(t,"插屏展示成功")}))})).catch((function(n){r.Error(t,"插屏展示失败",n)}))}},n.createBanner=function(n){var e=this;this._bannerAd=d.createBannerAd({adUnitId:"",adIntervals:60,style:{width:this._windowWidth,left:0,top:0}}),this._bannerAd?(this._bannerAd.onLoad((function(){n&&e.showBanner()})),this._bannerAd.onResize((function(n){e._bannerAd.style.top=e._windowHeight-e._bannerAd.style.realHeight})),this._bannerAd.onError((function(n){r.Error(t,"Banner报错 ",n.errCode," ",n.errMsg)}))):r.Error(t,"Banner创建失败")},n.showBanner=function(){this._bannerAd?this._bannerAd.show().then((function(){r.Log(t,"Banner展示成功")})).catch((function(n){r.Error(t,"Banner展示失败",n)})):r.Warn(t,"Banner暂未创建，无法展示")},n.hideBanner=function(){this._bannerAd?(this._bannerAd.hide(),r.Log(t,"Banner隐藏成功")):r.Warn(t,"Banner暂未创建，无法隐藏")},n}());o.rewardedVideoAd=void 0,o._bannerAd=void 0,o._windowWidth=void 0,o._windowHeight=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/WxShare.ts",["cc","./EventMgr.ts","./EventType.ts","./Wechat.ts","./Global.ts"],(function(e){var a,t,s,l,n,i;return{setters:[function(e){a=e.cclegacy,t=e.sys},function(e){s=e.EventMgr},function(e){l=e.EventType},function(e){n=e.WeChat},function(e){i=e.wx}],execute:function(){a._RF.push({},"e43f471eudFlLUTmelPpVbO","WxShare",void 0);var c=e("WxShare",function(){function e(){}return e.share=function(e,a,n){t.platform===t.Platform.WECHAT_GAME&&(console.log("WxShare --\x3e 拉起分享"),this.shareTime=Date.now(),this.succCallBack=e,this.failCallBack=a,s.on(l.WxOnShow,this.onShow,this),i.shareAppMessage({title:"",imageUrlId:"",imageUrl:""}))},e.onShow=function(e){if(!(this.shareTime<=0)){var a=Date.now()-this.shareTime;this.shareTime=0,a>=3e3?(console.log("WxShare --\x3e 分享成功"),n.showToast("分享成功"),this.succCallBack&&this.succCallBack()):(console.log("WxShare --\x3e 分享失败"),n.showToast("分享失败"),this.failCallBack&&this.failCallBack())}},e}());c.shareTime=0,c.succCallBack=null,c.failCallBack=null,a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});