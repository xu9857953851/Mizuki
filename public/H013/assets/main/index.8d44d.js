System.register("chunks:///_virtual/AddWeaponDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./UIHelper.ts","./MainConst.ts","./BattleState.ts","./BaseDialog.ts"],(function(e){var t,n,i,a,l,o,r,c,s,p,u,d,_,h,y,b,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,l=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,s=e.Sprite,p=e.Label,u=e.Button},function(e){d=e.ViewUtil},function(e){_=e.YT},function(e){h=e.UIHelper},function(e){y=e.MAIN_PREFABS,b=e.MAIN_BUNDLE},function(e){f=e.BattleState},function(e){g=e.BaseDialog}],execute:function(){var v,B,C,m,w,k,D,A,S,T,I,N,z;r._RF.push({},"97dc7CUIA9Bn6TT6xVTaigb","AddWeaponDialog",void 0);var L=c.ccclass,M=c.property;e("AddWeaponDialog",(v=L("AddWeaponDialog"),B=M({type:s,displayName:"图标",visible:!0}),C=M({type:p,displayName:"提示",visible:!0}),m=M({type:u,displayName:"领取按钮",visible:!0}),w=M({type:u,displayName:"关闭按钮",visible:!0}),k=M({type:u,displayName:"取消按钮",visible:!0}),v((S=t((A=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"_iconSpr",S,a(t)),i(t,"_tips",T,a(t)),i(t,"_getBtn",I,a(t)),i(t,"_closeBtn",N,a(t)),i(t,"_cancelBtn",z,a(t)),t._cnt=void 0,t._callback=void 0,t}n(t,e),t.Show=function(e,n){var i=d.createPrefabNode(y.AddWeaponDialog,b);i.parent=f.ins.control.view.dialogRoot;var a=i.getComponent(t);return a._init(e,n),a};var r=t.prototype;return r._init=function(e,t){this._cnt=1,this._callback=t,h.changeSpriteFrame(e,b,this._iconSpr),this._closeBtn.node.on(u.EventType.CLICK,this._onCloseBtnClicked,this),this._cancelBtn.node.on(u.EventType.CLICK,this._onCancelBtnClicked,this),this._getBtn.node.on(u.EventType.CLICK,this._onGetBtnClicked,this)},r._onCloseBtnClicked=function(){var e;_.audio.play(2),null==(e=this._callback)||e.call(this,!1),this.close()},r._onCancelBtnClicked=function(){var e;_.audio.play(2),null==(e=this._callback)||e.call(this,!1),this.close()},r._onGetBtnClicked=function(){var e=l(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.audio.play(2),e.next=3,_.game.watchAD("add_weapon");case 3:e.sent&&(f.ins.control.roleMgr.player.weaponModule.addWeaponCnt(this._cnt),null==(t=this._callback)||t.call(this,!0),this.close());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(g)).prototype,"_iconSpr",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(A.prototype,"_tips",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(A.prototype,"_getBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(A.prototype,"_closeBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(A.prototype,"_cancelBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=A))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/ADMananger.ts",["cc"],(function(){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"89911VpzgZDFo3OIoCncVYs","ADMananger",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/AgeTips.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,c,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,s=t.Button,a=t.Component}],execute:function(){var l,p,u,f,h;o._RF.push({},"0c6bfPv/RFKDKkCOSi4YQ47","AgeTips",void 0);var b=c.ccclass,g=c.property;t("AgeTips",(l=b("AgeTips"),p=g(s),l((h=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"btnOk",h,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){this.btnOk.node.on("click",this.close.bind(this))},o.close=function(){this.node.active=!1},e}(a)).prototype,"btnOk",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentBase.ts",["cc","./ZDUtils.ts","./ZDGameState.ts","./EAIStatus.ts"],(function(t){var i,s,e,a,n,u;return{setters:[function(t){i=t.cclegacy,s=t.math,e=t.Vec2},function(t){a=t.ZDUtils},function(t){n=t.ZDGameState},function(t){u=t.EAIStatus}],execute:function(){i._RF.push({},"98ddcxb4oVCE77GnqHgPLV2","AIAgentBase",void 0);t("AIAgentBase",function(){function t(t){this._status=void 0,this._entity=void 0,this._moveDir=void 0,this._targetRole=void 0,this._moveDir=new e,this._init(t)}var i=t.prototype;return i._init=function(t){this._entity=t,this._status=u.None},i.setParams=function(t){this._initParams(t)},i.destroy=function(){this._onDestroy()},i.update=function(t){this._entity.enable&&(this._status==u.None&&(this._changeState(),this._initState()),this._validateState(t),this._excuteState(t),this._updateState(t))},i.resetState=function(){this._status=u.None},i._initState=function(){},i._validateState=function(t){this._status==u.Move?this._validateMoveStatus(t):this._status==u.Pursue?this._validatePursueStatus(t):this._status==u.Wait&&this._validateWaitStatus(t)},i._excuteState=function(t){this._status==u.Move||this._status==u.Pursue&&(a.getPositionVector(this._entity.pos,this._targetRole.pos,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y))},i._setMoveStatus=function(){this._status=u.Move,function(t,i,e){var a=n.runtime.ui.mapRect,u=-1,_=1,h=-1,r=1;t.x-i-o<=a.xMin?u=0:t.x+i+o>=a.xMax&&(_=0);t.y-i-o<=a.yMin?h=0:t.y+i+o>=a.yMax&&(r=0);e.x=s.randomRange(u,_),e.y=s.randomRange(h,r)}(this._entity.pos,this._entity.radius,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y)},i.setWaitStatus=function(){this._status=u.Wait,this._entity.endMove()},i._setPursueStatus=function(t){this._status=u.Pursue,this._targetRole=t},i._validateMoveStatus=function(t){},i._validatePursueStatus=function(t){},i._validateWaitStatus=function(t){},i._initParams=function(t){},i._onDestroy=function(){},t}());var o=100;i._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentBase3.ts",["cc","./ZDUtils3.ts","./ZDGameState3.ts","./EAIStatus3.ts"],(function(t){var i,s,e,a,n,u;return{setters:[function(t){i=t.cclegacy,s=t.math,e=t.Vec2},function(t){a=t.ZDUtils3},function(t){n=t.ZDGameState3},function(t){u=t.EAIStatus3}],execute:function(){i._RF.push({},"3369cd/hkRIAqzxJ03mihk/","AIAgentBase3",void 0);t("AIAgentBase3",function(){function t(t){this._status=void 0,this._entity=void 0,this._moveDir=void 0,this._detachLeft=0,this._targetRole=void 0,this._moveDir=new e,this._init(t)}var i=t.prototype;return i._init=function(t){this._entity=t,this._status=u.None},i.setParams=function(t){this._initParams(t)},i.destroy=function(){this._onDestroy()},i.update=function(t){if(this._entity.enable){if(this._status==u.None&&(this._changeState(),this._initState()),this._status==u.Detach){if(this._detachLeft-=t,this._detachLeft>0)return;this._setMoveStatus()}this._validateState(t),this._excuteState(t),this._updateState(t)}},i._initState=function(){},i._validateState=function(t){this._status==u.Move?this._validateMoveStatus(t):this._status==u.Pursue?this._validatePursueStatus(t):this._status==u.Wait&&this._validateWaitStatus(t)},i._excuteState=function(t){this._status==u.Move||this._status==u.Pursue&&(a.getPositionVector(this._entity.pos,this._targetRole.pos,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y))},i._setMoveStatus=function(){this._status=u.Move,function(t,i,e){var a=n.runtime.ui.mapRect,u=-1,_=1,h=-1,r=1;t.x-i-o<=a.xMin?u=0:t.x+i+o>=a.xMax&&(_=0);t.y-i-o<=a.yMin?h=0:t.y+i+o>=a.yMax&&(r=0);e.x=s.randomRange(u,_),e.y=s.randomRange(h,r)}(this._entity.pos,this._entity.radius,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y)},i.setWaitStatus=function(){this._status=u.Wait,this._entity.endMove()},i._setPursueStatus=function(t){this._status=u.Pursue,this._targetRole=t},i._validateMoveStatus=function(t){},i._validatePursueStatus=function(t){},i._validateWaitStatus=function(t){},i._initParams=function(t){},i._onDestroy=function(){},i.onDirCanNotMove=function(){var t=!1;if(this._status==u.Move||this._status==u.Pursue?(this._status=u.Detach,this._detachLeft=2,t=!0):this._status==u.Detach&&(t=!0),t){var i=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=i,this._entity.startMove(this._moveDir.x,this._moveDir.y)}},t}());var o=100;i._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentBase4.ts",["cc","./ZDUtils4.ts","./ZDGameState4.ts","./EAIStatus4.ts"],(function(t){var i,s,e,a,n,u;return{setters:[function(t){i=t.cclegacy,s=t.math,e=t.Vec2},function(t){a=t.ZDUtils4},function(t){n=t.ZDGameState4},function(t){u=t.EAIStatus}],execute:function(){i._RF.push({},"512b9y9rT9K/bdkLYE6T7L8","AIAgentBase4",void 0);t("AIAgentBase",function(){function t(t){this._status=void 0,this._entity=void 0,this._moveDir=void 0,this._targetRole=void 0,this._moveDir=new e,this._init(t)}var i=t.prototype;return i._init=function(t){this._entity=t,this._status=u.None},i.setParams=function(t){this._initParams(t)},i.destroy=function(){this._onDestroy()},i.update=function(t){this._entity.enable&&(this._status==u.None&&(this._changeState(),this._initState()),this._validateState(t),this._excuteState(t),this._updateState(t))},i.resetState=function(){this._status=u.None},i._initState=function(){},i._validateState=function(t){this._status==u.Move?this._validateMoveStatus(t):this._status==u.Pursue?this._validatePursueStatus(t):this._status==u.Wait&&this._validateWaitStatus(t)},i._excuteState=function(t){this._status==u.Move||this._status==u.Pursue&&(a.getPositionVector(this._entity.pos,this._targetRole.pos,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y))},i._setMoveStatus=function(){this._status=u.Move,function(t,i,e){var a=n.runtime.ui.mapRect,u=-1,_=1,h=-1,r=1;t.x-i-o<=a.xMin?u=0:t.x+i+o>=a.xMax&&(_=0);t.y-i-o<=a.yMin?h=0:t.y+i+o>=a.yMax&&(r=0);e.x=s.randomRange(u,_),e.y=s.randomRange(h,r)}(this._entity.pos,this._entity.radius,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y)},i.setWaitStatus=function(){this._status=u.Wait,this._entity.endMove()},i._setPursueStatus=function(t){this._status=u.Pursue,this._targetRole=t},i._validateMoveStatus=function(t){},i._validatePursueStatus=function(t){},i._validateWaitStatus=function(t){},i._initParams=function(t){},i._onDestroy=function(){},t}());var o=100;i._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentBase5.ts",["cc","./ZDUtils5.ts","./ZDGameState5.ts","./EAIStatus5.ts"],(function(t){var i,s,e,a,n,u;return{setters:[function(t){i=t.cclegacy,s=t.math,e=t.Vec2},function(t){a=t.ZDUtils4},function(t){n=t.ZDGameState5},function(t){u=t.EAIStatus}],execute:function(){i._RF.push({},"7da71AIiC1JII2k1PgmUN7x","AIAgentBase5",void 0);t("AIAgentBase",function(){function t(t){this._status=void 0,this._entity=void 0,this._moveDir=void 0,this._targetRole=void 0,this._moveDir=new e,this._init(t)}var i=t.prototype;return i._init=function(t){this._entity=t,this._status=u.None},i.setParams=function(t){this._initParams(t)},i.destroy=function(){this._onDestroy()},i.update=function(t){this._entity.enable&&(this._status==u.None&&(this._changeState(),this._initState()),this._validateState(t),this._excuteState(t),this._updateState(t))},i.resetState=function(){this._status=u.None},i._initState=function(){},i._validateState=function(t){this._status==u.Move?this._validateMoveStatus(t):this._status==u.Pursue?this._validatePursueStatus(t):this._status==u.Wait&&this._validateWaitStatus(t)},i._excuteState=function(t){this._status==u.Move||this._status==u.Pursue&&(a.getPositionVector(this._entity.pos,this._targetRole.pos,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y))},i._setMoveStatus=function(){this._status=u.Move,function(t,i,e){var a=n.runtime.ui.mapRect,u=-1,_=1,h=-1,r=1;t.x-i-o<=a.xMin?u=0:t.x+i+o>=a.xMax&&(_=0);t.y-i-o<=a.yMin?h=0:t.y+i+o>=a.yMax&&(r=0);e.x=s.randomRange(u,_),e.y=s.randomRange(h,r)}(this._entity.pos,this._entity.radius,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y)},i.setWaitStatus=function(){this._status=u.Wait,this._entity.endMove()},i._setPursueStatus=function(t){this._status=u.Pursue,this._targetRole=t},i._validateMoveStatus=function(t){},i._validatePursueStatus=function(t){},i._validateWaitStatus=function(t){},i._initParams=function(t){},i._onDestroy=function(){},t}());var o=100;i._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentBase6.ts",["cc","./ZDGameState6.ts","./EAIStatus6.ts"],(function(t){var i,s,e,a,n;return{setters:[function(t){i=t.cclegacy,s=t.Vec2,e=t.math},function(t){a=t.ZDGameState6},function(t){n=t.EAIStatus}],execute:function(){i._RF.push({},"17700r9IRhBc5ay7WuvPqKv","AIAgentBase6",void 0);t("AIAgentBase",function(){function t(t){this._status=void 0,this._entity=void 0,this._moveDir=void 0,this._targetRole=void 0,this._moveDir=new s,this._init(t)}var i=t.prototype;return i._init=function(t){this._entity=t,this._status=n.None},i.setParams=function(t){this._initParams(t)},i.destroy=function(){this._onDestroy()},i.update=function(t){this._entity.enable&&(this._status==n.None&&(this._changeState(),this._initState()),this._validateState(t),this._excuteState(t),this._updateState(t))},i.resetState=function(){this._status=n.None},i._initState=function(){},i._validateState=function(t){this._status==n.Move?this._validateMoveStatus(t):this._status==n.Pursue?this._validatePursueStatus(t):this._status==n.Wait&&this._validateWaitStatus(t)},i._excuteState=function(t){this._status==n.Move||this._status==n.Pursue&&this._entity.moveByTargetPos(this._targetRole.pos,t)},i._setMoveStatus=function(){this._status=n.Move,function(t,i,s){var n=a.runtime.ui.mapRect,o=-1,_=1,h=-1,r=1;t.x-i-u<=n.xMin?o=0:t.x+i+u>=n.xMax&&(_=0);t.y-i-u<=n.yMin?h=0:t.y+i+u>=n.yMax&&(r=0);s.x=e.randomRange(o,_),s.y=e.randomRange(h,r),s.normalize()}(this._entity.pos,this._entity.radius,this._moveDir),this._entity.startMove(this._moveDir.x,this._moveDir.y)},i.setWaitStatus=function(){this._status=n.Wait,this._entity.endMove()},i._setPursueStatus=function(t){this._status=n.Pursue,this._targetRole=t,this._entity.endMove()},i._validateMoveStatus=function(t){},i._validatePursueStatus=function(t){},i._validateWaitStatus=function(t){},i._initParams=function(t){},i._onDestroy=function(){},t}());var u=100;new s;i._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentImps.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectPool.ts","./ZDUtils.ts","./ZDConst.ts","./ZDGameState.ts","./AIAgentBase.ts","./EAIStatus.ts"],(function(t){var i,e,s,n,o,a,r,u,_,h,c,l,m;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t.math,n=t.toRadian,o=t.Vec3,a=t.tween},function(t){r=t.PDEffectPool},function(t){u=t.ZDUtils},function(t){_=t.AI_SKILL_CFG,h=t.GRASS_CFG},function(t){c=t.ZDGameState},function(t){l=t.AIAgentBase},function(t){m=t.EAIStatus}],execute:function(){t("createAIAgent",(function(t,i,e){var s=null;1==i?s=new f(t):2==i?s=new v(t):3==i?s=new S(t):4==i?s=new p(t):5==i?s=new d(t):6==i?s=new y(t):7==i?s=new g(t):8==i?s=new A(t):9==i?s=new I(t):10==i&&(s=new P(t));return s.setParams(e),s})),e._RF.push({},"37ff9wLLppAFohMRUuB92eJ","AIAgentImps",void 0);var f=t("AIAgentImp1",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this._setMoveStatus()},s._validateMoveStatus=function(t){this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower?this._setPursueStatus(this._entity.fightHero):w(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},s._validatePursueStatus=function(t){this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower||this._setMoveStatus()},e}(l)),v=t("AIAgentImp2",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=this._findTarget();t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){this._targetRole&&this._targetRole.enable||this._setMoveStatus()},s._validateMoveStatus=function(t){var i=this._findTarget();i&&this._setPursueStatus(i)},s._findTarget=function(){for(var t,i=c.runtime.control.aiHeros,e=0;e<i.length;++e)if((t=i[e]).enable&&t!=this._entity)return t;return null},e}(l)),S=t("AIAgentImp3",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),p=t("AIAgentImp4",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._sulTime=void 0,i._minTm=void 0,i._maxTm=void 0,i}i(e,t);var n=e.prototype;return n._initParams=function(t){t&&2==t.length?(this._minTm=t[0],this._maxTm=t[1]):(this._minTm=3,this._maxTm=5)},n._updateState=function(t){},n._changeState=function(){},n.resetState=function(){this._sulTime=s.randomRange(this._minTm,this._maxTm),this._setMoveStatus()},n._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},n._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},n._validateMoveStatus=function(t){if(this._sulTime-=t,this._sulTime<=0){this._sulTime=0;var i=c.runtime.control.mainHero;if(i&&!i.isIntoGrass())return void this._setPursueStatus(i)}w(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},n._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),d=t("AIAgentImp5",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._setPursueStatus(i))},e}(l)),y=t("AIAgentImp6",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus(),this._entity.playSleepAni()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._entity.playMoveAni(),this._setPursueStatus(i))},e}(l)),g=t("AIAgentImp7",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._cooldown=void 0,i._moveSpeed=void 0,i._duration=void 0,i._prveTime=void 0,i._skillTime=void 0,i._effect=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&4==t.length?(this._minDistance=t[0],this._cooldown=t[1],this._moveSpeed=t[2],this._duration=t[3]):(this._minDistance=800,this._cooldown=5,this._moveSpeed=400),this._prveTime=0,this._skillTime=0},s._updateState=function(t){if(this._status==m.Attract){if(this._skillTime+=t,this._skillTime>=this._duration)return void this._endAttract();if(u.getPositionVector(c.runtime.control.mainHero.pos,this._entity.pos,this._moveDir),c.runtime.control.mainHero.forceMove(t,this._moveDir,this._moveSpeed),this._effect){var i=u.vectorToDegree(this._moveDir);this._effect.node.angle=i+90}}},s._changeState=function(){},s._startAttract=function(){var t=this;this._status=m.Attract,this._skillTime=0,this._entity.endMove(),u.getPositionVector(c.runtime.control.mainHero.pos,this._entity.pos,this._moveDir);var i=u.vectorToDegree(this._moveDir);this._effect=r.ShowAttractEffect((function(){t._effect=null})),this._effect.setPos(this._entity.pos.x,this._entity.pos.y),this._effect.node.angle=i+90},s._endAttract=function(){this._prveTime=Math.floor(Date.now()/1e3),c.runtime.control.mainHero.cancelForceMove();var t=c.runtime.control.mainHero;t&&!t.isIntoGrass()&&this._setPursueStatus(t)},s._isInCd=function(){return Math.floor(Date.now()/1e3)-this._prveTime<this._cooldown},s._onDestroy=function(){c.runtime.control.mainHero.cancelForceMove(),this._effect&&(this._effect.stop(),r.Collect(this._effect))},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){var i=c.runtime.control.mainHero;if(!this._isInCd()&&u.getDistance(this._entity.pos,c.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();i.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){if(!this._isInCd()&&u.getDistance(this._entity.pos,c.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),A=t("AIAgentImp8",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._maxScale=void 0,i._waitTime=void 0,i._cooldown=void 0,i._time1=void 0,i._time2=void 0,i._time=void 0,i._scaleStep=void 0,i}i(e,t);var n=e.prototype;return n._initParams=function(t){t&&5==t.length?(this._maxScale=t[0],this._waitTime=t[1]/1e3,this._time1=t[2]/1e3,this._time2=t[3]/1e3,this._cooldown=t[4]/1e3):(this._maxScale=2,this._waitTime=.7,this._time1=.4,this._time2=.2,this._cooldown=1),this._time=0,this._scaleStep=0},n._updateState=function(t){if(1==this._scaleStep){this._time+=t;var i=s.clamp01(this._time/this._time1),e=(this._maxScale-1)*i+1;this._entity.setWeaponScale(e),i>=1&&(this._scaleStep++,this._time=0)}else if(2==this._scaleStep)this._time+=t,this._time>=this._waitTime&&(this._scaleStep++,this._time=0);else if(3==this._scaleStep){this._time+=t;var n=s.clamp01(this._time/this._time2),o=this._maxScale-(this._maxScale-1)*n;this._entity.setWeaponScale(o),n>=1&&(this._scaleStep++,this._time=0)}else 4==this._scaleStep?(this._time+=t,this._time>=this._cooldown&&(this._scaleStep++,this._time=0)):5==this._scaleStep&&(this._scaleStep=1,this._time=0)},n._changeState=function(){},n._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t),this._scaleStep=1,this._time=0},n._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},n._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},n._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),I=t("AIAgentImp9",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._speed=void 0,i._duration=void 0,i._cooldown=void 0,i._time=void 0,i._fireStep=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&3==t.length?(this._speed=t[0],this._duration=t[1]/1e3,this._cooldown=t[2]/1e3):(this._speed=1e3,this._duration=1,this._cooldown=3),this._time=0,this._fireStep=0},s._updateState=function(t){var i=this._entity;if(0==this._fireStep)this._time+=t,this._time>=this._cooldown&&i.weaponModule.weapons.length>0&&(this._fireStep++,this._time=0,i.pauseWeaponRotation());else if(1==this._fireStep)this._time+=t,this._time>_.SKILL2.STEP1_TM&&(this._fireStep++,this._time=0);else if(2==this._fireStep){i.weaponModule.weapons.length<=0?(i.resumeWeaponRotation(),this._time=0,this._fireStep=0):(this._fire(),this._time=0,i.hideAllWeapon(),i.resumeWeaponRotation(),this._fireStep++)}else 3==this._fireStep&&(this._time+=t,this._time>=_.SKILL2.WAIT_TM&&(this._time=0,i.showAllWeapon(),this._fireStep=0))},s._changeState=function(){},s._fire=function(){var t=this._entity.weaponModule.weapons;if(!(t.length<=0))for(var i,e=0,s=t.length;e<s;++e){var o=(i=t[e]).realDegree+90,a=n(o),r=Math.cos(a),u=Math.sin(a),_=i.worldPos,h=c.runtime.control.addBullet(0,_.x,_.y);h.setRes(i.res),h.startByDir(r,u,this._speed,this._duration,i.atk,!1,!0,!0)}},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t),this._time=0},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),P=t("AIAgentImp10",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._showAni())},s._showAni=function(){var t=this;this._status=m.TransformAni;var i=c.runtime.control.mainHero,e=new o,s=c.runtime.ui.mapRect,n=this._entity,r=h.ENEMY.MOVE_DIS;i.pos.x>this._entity.pos.x?e.x=Math.min(this._entity.pos.x+r,s.xMax-200):e.x=Math.max(this._entity.pos.x-r,s.xMin+200),e.y=this._entity.pos.y,n.view.node.setScale(o.ZERO),n._enable=!1,n.setForceShow(),a(n.view.node).to(h.ENEMY.MOVE_TM,{worldPosition:e,scale:o.ONE}).delay(h.ENEMY.WAIT_TM).call((function(){n._enable=!0,n.setPos(e),t._setPursueStatus(i),n.cancelForceShow()})).start()},e}(l));function w(t,i){var e=c.runtime.ui.mapRect;return t.x-i-M<=e.xMin||(t.x+i+M>=e.xMax||(t.y-i-M<=e.yMin||t.y+i+M>=e.yMax))}var M=100;e._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentImps3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts","./PDEffectPool3.ts","./ZDUtils3.ts","./ZDConst3.ts","./ZDGameState3.ts","./AIAgentBase3.ts","./EAIStatus3.ts"],(function(t){var i,e,s,n,a,o,r,u,_,h,c,l,m,f,v;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,n=t.math,a=t.toRadian,o=t.Vec3,r=t.tween},function(t){u=t.MathUtil},function(t){_=t.PDEffectPool3},function(t){h=t.ZDUtils3},function(t){c=t.AI_SKILL_CFG,l=t.GRASS_CFG},function(t){m=t.ZDGameState3},function(t){f=t.AIAgentBase3},function(t){v=t.EAIStatus3}],execute:function(){t("createAIAgent",(function(t,i,e){var s=null;1==i?s=new p(t):2==i?s=new S(t):3==i?s=new d(t):4==i?s=new g(t):5==i?s=new y(t):6==i?s=new A(t):7==i?s=new D(t):8==i?s=new M(t):9==i?s=new w(t):10==i?s=new I(t):11==i?s=new P(t):12==i?s=new T(t):13==i&&(s=new E(t));return s.setParams(e),s})),s._RF.push({},"aba87qkbX1NRbmznoOxP3o0","AIAgentImps3",void 0);var p=t("AIAgentImp1",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._waitDuration=void 0,i._waitLeft=void 0,i}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this._setMoveStatus(),this._randomWaitDuration()},s._validateMoveStatus=function(t){this._validateWaitDuration(t)||(this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower?this._setPursueStatus(this._entity.fightHero):H(this._entity.pos,this._entity.radius)&&this._setMoveStatus())},s._validatePursueStatus=function(t){this._validateWaitDuration(t)||this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower||this._setMoveStatus()},s._randomWaitDuration=function(){this._waitDuration=n.randomRange(5,10),this._waitLeft=n.randomRange(2,3)},s._validateWaitDuration=function(t){return this._waitDuration-=t,this._waitDuration<=0&&(this.setWaitStatus(),!0)},s._validateWaitStatus=function(t){this._waitLeft-=t,this._waitLeft<=0&&(this._randomWaitDuration(),this._setMoveStatus())},e}(f)),S=t("AIAgentImp2",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=m.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){var i=m.runtime.control.mainHero;(i.isIntoGrass()||i.isDefence)&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=m.runtime.control.mainHero;!i||i.isIntoGrass()||i.isDefence||this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;!i||i.isIntoGrass()||i.isDefence||this._setPursueStatus(i)},e}(f)),d=t("AIAgentImp3",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=m.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){m.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(f)),g=t("AIAgentImp4",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._sulTime=void 0,i._minTm=void 0,i._maxTm=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&2==t.length?(this._minTm=t[0],this._maxTm=t[1]):(this._minTm=3,this._maxTm=5)},s._updateState=function(t){},s._changeState=function(){},s.onDirCanNotMove=function(){this._sulTime=n.randomRange(this._minTm,this._maxTm),this._setMoveStatus()},s._initState=function(){var t=m.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){m.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){if(this._sulTime-=t,this._sulTime<=0){this._sulTime=0;var i=m.runtime.control.mainHero;if(i&&!i.isIntoGrass())return void this._setPursueStatus(i)}H(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(f)),y=t("AIAgentImp5",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){m.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):h.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._setPursueStatus(i))},e}(f)),A=t("AIAgentImp6",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus(),this._entity.playSleepAni()},s._validatePursueStatus=function(t){m.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):h.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._entity.playMoveAni(),this._setPursueStatus(i))},e}(f)),D=t("AIAgentImp7",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._cooldown=void 0,i._moveSpeed=void 0,i._duration=void 0,i._prveTime=void 0,i._skillTime=void 0,i._effect=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&4==t.length?(this._minDistance=t[0],this._cooldown=t[1],this._moveSpeed=t[2],this._duration=t[3]):(this._minDistance=800,this._cooldown=5,this._moveSpeed=400),this._prveTime=0,this._skillTime=0},s._updateState=function(t){if(this._status==v.Attract){if(this._skillTime+=t,this._skillTime>=this._duration)return void this._endAttract();if(h.getPositionVector(m.runtime.control.mainHero.pos,this._entity.pos,this._moveDir),m.runtime.control.mainHero.forceMove(t,this._moveDir,this._moveSpeed),this._effect){var i=h.vectorToDegree(this._moveDir);this._effect.node.angle=i+90}}},s._changeState=function(){},s._startAttract=function(){var t=this;this._status=v.Attract,this._skillTime=0,this._entity.endMove(),h.getPositionVector(m.runtime.control.mainHero.pos,this._entity.pos,this._moveDir);var i=h.vectorToDegree(this._moveDir);this._effect=_.ShowAttractEffect((function(){t._effect=null})),this._effect.setPos(this._entity.pos.x,this._entity.pos.y),this._effect.node.angle=i+90},s._endAttract=function(){this._prveTime=Math.floor(Date.now()/1e3),m.runtime.control.mainHero.cancelForceMove();var t=m.runtime.control.mainHero;t&&!t.isIntoGrass()&&this._setPursueStatus(t)},s._isInCd=function(){return Math.floor(Date.now()/1e3)-this._prveTime<this._cooldown},s._onDestroy=function(){m.runtime.control.mainHero.cancelForceMove(),this._effect&&(this._effect.stop(),_.Collect(this._effect))},s._initState=function(){var t=m.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){var i=m.runtime.control.mainHero;if(!this._isInCd()&&h.getDistance(this._entity.pos,m.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();i.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){if(!this._isInCd()&&h.getDistance(this._entity.pos,m.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(f)),M=t("AIAgentImp8",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._maxScale=void 0,i._waitTime=void 0,i._cooldown=void 0,i._time1=void 0,i._time2=void 0,i._time=void 0,i._scaleStep=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&5==t.length?(this._maxScale=t[0],this._waitTime=t[1]/1e3,this._time1=t[2]/1e3,this._time2=t[3]/1e3,this._cooldown=t[4]/1e3):(this._maxScale=2,this._waitTime=.7,this._time1=.4,this._time2=.2,this._cooldown=1),this._time=0,this._scaleStep=0},s._updateState=function(t){if(1==this._scaleStep){this._time+=t;var i=n.clamp01(this._time/this._time1),e=(this._maxScale-1)*i+1;this._entity.setWeaponScale(e),i>=1&&(this._scaleStep++,this._time=0)}else if(2==this._scaleStep)this._time+=t,this._time>=this._waitTime&&(this._scaleStep++,this._time=0);else if(3==this._scaleStep){this._time+=t;var s=n.clamp01(this._time/this._time2),a=this._maxScale-(this._maxScale-1)*s;this._entity.setWeaponScale(a),s>=1&&(this._scaleStep++,this._time=0)}else 4==this._scaleStep?(this._time+=t,this._time>=this._cooldown&&(this._scaleStep++,this._time=0)):5==this._scaleStep&&(this._scaleStep=1,this._time=0)},s._changeState=function(){},s._initState=function(){var t=m.runtime.control.mainHero;t&&this._setPursueStatus(t),this._scaleStep=1,this._time=0},s._validatePursueStatus=function(t){m.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(f)),w=t("AIAgentImp9",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._speed=void 0,i._duration=void 0,i._cooldown=void 0,i._time=void 0,i._fireStep=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&3==t.length?(this._speed=t[0],this._duration=t[1]/1e3,this._cooldown=t[2]/1e3):(this._speed=1e3,this._duration=1,this._cooldown=3),this._time=0,this._fireStep=0},s._updateState=function(t){var i=this._entity;if(0==this._fireStep)this._time+=t,this._time>=this._cooldown&&i.weaponModule.weapons.length>0&&(this._fireStep++,this._time=0,i.pauseWeaponRotation());else if(1==this._fireStep)this._time+=t,this._time>c.SKILL2.STEP1_TM&&(this._fireStep++,this._time=0);else if(2==this._fireStep){i.weaponModule.weapons.length<=0?(i.resumeWeaponRotation(),this._time=0,this._fireStep=0):(this._fire(),this._time=0,i.hideAllWeapon(),i.resumeWeaponRotation(),this._fireStep++)}else 3==this._fireStep&&(this._time+=t,this._time>=c.SKILL2.WAIT_TM&&(this._time=0,i.showAllWeapon(),this._fireStep=0))},s._changeState=function(){},s._fire=function(){var t=this._entity.weaponModule.weapons;if(!(t.length<=0))for(var i,e=0,s=t.length;e<s;++e){var n=(i=t[e]).realDegree+90,o=a(n),r=Math.cos(o),u=Math.sin(o),_=i.worldPos,h=m.runtime.control.addBullet(0,_.x,_.y);h.setRes(i.res),h.startByDir(r,u,this._speed,this._duration,i.atk,!1,!0,!0)}},s._initState=function(){var t=m.runtime.control.mainHero;t&&this._setPursueStatus(t),this._time=0},s._validatePursueStatus=function(t){m.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(f)),I=t("AIAgentImp10",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){m.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=m.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=m.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):h.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._showAni())},s._showAni=function(){var t=this;this._status=v.TransformAni;var i=m.runtime.control.mainHero,e=new o,s=m.runtime.ui.mapRect,n=this._entity,a=l.ENEMY.MOVE_DIS;i.pos.x>this._entity.pos.x?e.x=Math.min(this._entity.pos.x+a,s.xMax-200):e.x=Math.max(this._entity.pos.x-a,s.xMin+200),e.y=this._entity.pos.y,m.runtime.control.findMovablePosNearby(this._entity,e.x,e.y,e),n.view.node.setScale(o.ZERO),n._enable=!1,n._isMoving=!1,n.setForceShow(),r(n.view.node).to(l.ENEMY.MOVE_TM,{worldPosition:e,scale:o.ONE}).delay(l.ENEMY.WAIT_TM).call((function(){n._enable=!0,n.setPos(e),t._setPursueStatus(i),n.cancelForceShow()})).start()},e}(f)),P=t("AIAgentImp11",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._leftTime=0,i}i(e,t);var s=e.prototype;return s._updateState=function(t){this._leftTime-=t,this._leftTime<=0&&this._doMotion()},s._changeState=function(){},s._initState=function(){this._doMotion()},s._validateMoveStatus=function(t){},s._validatePursueStatus=function(t){4!=this._checkTargetStatus(this._targetRole)&&(this._leftTime=0)},s._validateWaitStatus=function(t){},s._doMotion=function(){this._targetRole=null;var t,i=this._entity.pos,e=C,s=m.runtime.control.mainHero,n=null;if(s.enable&&o.squaredDistance(s.pos,i)<=e&&(n=s),n)switch((t=4==this._checkTargetStatus(n)?this._randomAction(1):this._randomAction(2)).act){case 0:this._setPursueStatus(n);break;case 1:this.setWaitStatus();break;case 2:this._setMoveTarget(n,!0)}else{if(m.runtime.control.props.length>0){var a=Number.MAX_SAFE_INTEGER,r=null;m.runtime.control.props.forEach((function(t){o.squaredDistance(t.pos,i)<a&&(a,r=t)})),this._setMoveTarget(r,!1)}else this._setMoveStatus();t=G[2]}this._randomTime(t.time)},s._checkTargetStatus=function(t){return t&&t.enable?t.weaponModule.weaponCnt>this._entity.weaponCnt?2:t.isDefence?3:4:1},s._setMoveTarget=function(t,i){h.getPositionVector(this._entity.pos,t.pos,this._moveDir),i&&this._moveDir.multiplyScalar(-1),this._entity.startMove(this._moveDir.x,this._moveDir.y),this._status=v.Move},s._randomAction=function(t){var i=G,e=0,s=0,a=i.length;for(s=0;s<a;++s)e+=i[s]["weight_"+t];var o=n.randomRange(0,e),r=0;for(s=0;s<a;++s)if((r+=i[s]["weight_"+t])>o)return i[s];return null},s._randomTime=function(t){this._leftTime=n.randomRange(t[0],t[1])},e}(f)),T=t("AIAgentImp12",function(t){function s(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._leftTime=0,i._leaveLeft=0,i}i(s,t);var a=s.prototype;return a._updateState=function(t){var i=this.target;if(i){if(this._checkDefence(i))if(this._entity.weaponCnt/2>=i.weaponModule.weaponCnt)this._leaveLeft=0;else if(i.isDefence)return this._leaveLeft-=t,this._leftTime=0,void(this._leaveLeft<=0&&(u.randomRatio01(W.DEFENCE_RATIO)?this.setWaitStatus():this._setMoveTarget(i,!0),this._leaveLeft=this._randomTime(W.LEAVE_RANGE)));if(this._leaveLeft>0)return this._leaveLeft=0,void this._onPickProp();this._leftTime-=t,this._leftTime<=0&&this._doMotion()}},a._changeState=function(){},a._initState=function(){this._doMotion()},a._validateMoveStatus=function(t){},a._validatePursueStatus=function(t){},a._validateWaitStatus=function(t){},a._doMotion=function(){this._targetRole=null;var t=this.target;t&&this._checkTargetPursue(t)?(this._setPursueStatus(t),this._leftTime=this._randomTime(W.CHECK_INTV)):this._onPickProp()},a._checkTargetPursue=function(t){return!(!t||!t.enable)&&(!(t.weaponModule.weaponCnt>this._entity.weaponCnt)&&!t.isDefence)},a._checkDefence=function(t){if(t){var i=this._entity.radius+t.radius+W.DEFENCE_RADIUS;if(i*i>=o.squaredDistance(this._entity.pos,t.pos))return!0}return!1},a._setMoveTarget=function(t,i){h.getPositionVector(this._entity.pos,t.pos,this._moveDir),i&&this._moveDir.multiplyScalar(-1),this._entity.startMove(this._moveDir.x,this._moveDir.y),this._status=v.Move},a._onPickProp=function(){if(m.runtime.control.props.length>0){var t=Number.MAX_SAFE_INTEGER,i=null,e=this._entity.pos;m.runtime.control.props.forEach((function(s){o.squaredDistance(s.pos,e)<t&&(t,i=s)})),this._setMoveTarget(i,!1)}else this._setMoveStatus();this._leftTime=this._randomTime(W.CHECK_INTV)},a._randomTime=function(t){return n.randomRange(t[0],t[1])},e(s,[{key:"target",get:function(){var t=m.runtime.control.mainHero;return t&&t.enable?t:null}}]),s}(f)),E=t("AIAgentImp13",function(t){function s(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._leftTime=0,i}i(s,t);var a=s.prototype;return a._updateState=function(t){var i=this.target;if(i){var e,s=i.weaponModule.weaponCnt,n=this._entity.weaponCnt,a=o.squaredDistance(i.pos,this._entity.pos);if(n>=s)(e=s<=2?this._entity.radius:i.radius+this._entity.radius-x.DEFENCE_RADIUS)*e>=a?this._status!=v.Wait&&this.setWaitStatus():this._status!=v.Pursue&&this._setPursueStatus(i),this._leftTime=0;else{if(n>2&&(e=i.radius+this._entity.radius)*e>=a)return this._status!=v.Wait&&this.setWaitStatus(),void(this._leftTime=0);this._leftTime-=t,this._leftTime<=0&&this._onPickProp(i,a)}}},a._changeState=function(){},a._initState=function(){},a._validateMoveStatus=function(t){},a._validatePursueStatus=function(t){},a._validateWaitStatus=function(t){},a._setMoveTarget=function(t,i){h.getPositionVector(this._entity.pos,t.pos,this._moveDir),i&&this._moveDir.multiplyScalar(-1),this._entity.startMove(this._moveDir.x,this._moveDir.y),this._status=v.Move},a._onPickProp=function(t,i){var e=m.runtime.control.props;if(e.length>0){var s,n,a=Number.MAX_SAFE_INTEGER,r=null,u=this._entity.pos;o.subtract(x.ESCAPE_LOOK_DIR,t.pos,u).normalize(),e.forEach((function(t){o.subtract(x.ESCAPE_DIR,t.pos,u),(s=x.ESCAPE_DIR.lengthSqr())<a&&(x.ESCAPE_DIR.normalize(),n=o.dot(x.ESCAPE_DIR,x.ESCAPE_LOOK_DIR),(s<i||n<=x.DOT_MAX)&&(s=a,r=t))})),r?this._setMoveTarget(r,!1):this._setMoveTarget(t,!0)}else this._setMoveTarget(t,!0);this._leftTime=this._randomTime(x.CHECK_INTV)},a._randomTime=function(t){return n.randomRange(t[0],t[1])},e(s,[{key:"target",get:function(){var t=m.runtime.control.mainHero;return t&&t.enable?t:null}}]),s}(f));function H(t,i){var e=m.runtime.ui.mapRect;return t.x-i-R<=e.xMin||(t.x+i+R>=e.xMax||(t.y-i-R<=e.yMin||t.y+i+R>=e.yMax))}var R=100,C=25e4,G=[{act:0,weight_1:80,weight_2:0,time:[.5,2]},{act:1,weight_1:10,weight_2:30,time:[.5,2]},{act:2,weight_1:10,weight_2:70,time:[.5,2]}],W={DEFENCE_RADIUS:20,DEFENCE_RATIO:.2,CHECK_INTV:[.5,1],LEAVE_RANGE:[2,3]},x={ESCAPE_DIR:new o,ESCAPE_LOOK_DIR:new o,DEFENCE_RADIUS:30,DOT_MAX:.5,CHECK_INTV:[1,2]};s._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentImps4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectPool4.ts","./ZDUtils4.ts","./ZDConst4.ts","./ZDGameState4.ts","./AIAgentBase4.ts","./EAIStatus4.ts"],(function(t){var i,e,s,n,o,a,r,u,_,h,c,l,m;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t.math,n=t.toRadian,o=t.Vec3,a=t.tween},function(t){r=t.PDEffectPool},function(t){u=t.ZDUtils4},function(t){_=t.AI_SKILL_CFG,h=t.GRASS_CFG},function(t){c=t.ZDGameState4},function(t){l=t.AIAgentBase},function(t){m=t.EAIStatus}],execute:function(){t("createAIAgent",(function(t,i,e){var s=null;1==i?s=new f(t):2==i?s=new v(t):3==i?s=new S(t):4==i?s=new p(t):5==i?s=new d(t):6==i?s=new y(t):7==i?s=new g(t):8==i?s=new A(t):9==i?s=new I(t):10==i?s=new P(t):11==i&&(s=new w(t));return s.setParams(e),s})),e._RF.push({},"31824RcrEdFMoMd6QUZbR66","AIAgentImps4",void 0);var f=t("AIAgentImp1",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this._setMoveStatus()},s._validateMoveStatus=function(t){this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower?this._setPursueStatus(this._entity.fightHero):M(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},s._validatePursueStatus=function(t){this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower||this._setMoveStatus()},e}(l)),v=t("AIAgentImp2",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=this._findTarget();t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){this._targetRole&&this._targetRole.enable||this._setMoveStatus()},s._validateMoveStatus=function(t){var i=this._findTarget();i&&this._setPursueStatus(i)},s._findTarget=function(){for(var t,i=c.runtime.control.aiHeros,e=0;e<i.length;++e)if((t=i[e]).enable&&t!=this._entity)return t;return null},e}(l)),S=t("AIAgentImp3",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),p=t("AIAgentImp4",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._sulTime=void 0,i._minTm=void 0,i._maxTm=void 0,i}i(e,t);var n=e.prototype;return n._initParams=function(t){t&&2==t.length?(this._minTm=t[0],this._maxTm=t[1]):(this._minTm=3,this._maxTm=5)},n._updateState=function(t){},n._changeState=function(){},n.resetState=function(){this._sulTime=s.randomRange(this._minTm,this._maxTm),this._setMoveStatus()},n._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},n._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},n._validateMoveStatus=function(t){if(this._sulTime-=t,this._sulTime<=0){this._sulTime=0;var i=c.runtime.control.mainHero;if(i&&!i.isIntoGrass())return void this._setPursueStatus(i)}M(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},n._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),d=t("AIAgentImp5",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._setPursueStatus(i))},e}(l)),y=t("AIAgentImp6",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus(),this._entity.playSleepAni()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._entity.playMoveAni(),this._setPursueStatus(i))},e}(l)),g=t("AIAgentImp7",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._cooldown=void 0,i._moveSpeed=void 0,i._duration=void 0,i._prveTime=void 0,i._skillTime=void 0,i._effect=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&4==t.length?(this._minDistance=t[0],this._cooldown=t[1],this._moveSpeed=t[2],this._duration=t[3]):(this._minDistance=800,this._cooldown=5,this._moveSpeed=400),this._prveTime=0,this._skillTime=0},s._updateState=function(t){if(this._status==m.Attract){if(this._skillTime+=t,this._skillTime>=this._duration)return void this._endAttract();if(u.getPositionVector(c.runtime.control.mainHero.pos,this._entity.pos,this._moveDir),c.runtime.control.mainHero.forceMove(t,this._moveDir,this._moveSpeed),this._effect){var i=u.vectorToDegree(this._moveDir);this._effect.node.angle=i+90}}},s._changeState=function(){},s._startAttract=function(){var t=this;this._status=m.Attract,this._skillTime=0,this._entity.endMove(),u.getPositionVector(c.runtime.control.mainHero.pos,this._entity.pos,this._moveDir);var i=u.vectorToDegree(this._moveDir);this._effect=r.ShowAttractEffect((function(){t._effect=null})),this._effect.setPos(this._entity.pos.x,this._entity.pos.y),this._effect.node.angle=i+90},s._endAttract=function(){this._prveTime=Math.floor(Date.now()/1e3),c.runtime.control.mainHero.cancelForceMove();var t=c.runtime.control.mainHero;t&&!t.isIntoGrass()&&this._setPursueStatus(t)},s._isInCd=function(){return Math.floor(Date.now()/1e3)-this._prveTime<this._cooldown},s._onDestroy=function(){c.runtime.control.mainHero.cancelForceMove(),this._effect&&(this._effect.stop(),r.Collect(this._effect))},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){var i=c.runtime.control.mainHero;if(!this._isInCd()&&u.getDistance(this._entity.pos,c.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();i.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){if(!this._isInCd()&&u.getDistance(this._entity.pos,c.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),A=t("AIAgentImp8",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._maxScale=void 0,i._waitTime=void 0,i._cooldown=void 0,i._time1=void 0,i._time2=void 0,i._time=void 0,i._scaleStep=void 0,i}i(e,t);var n=e.prototype;return n._initParams=function(t){t&&5==t.length?(this._maxScale=t[0],this._waitTime=t[1]/1e3,this._time1=t[2]/1e3,this._time2=t[3]/1e3,this._cooldown=t[4]/1e3):(this._maxScale=2,this._waitTime=.7,this._time1=.4,this._time2=.2,this._cooldown=1),this._time=0,this._scaleStep=0},n._updateState=function(t){if(1==this._scaleStep){this._time+=t;var i=s.clamp01(this._time/this._time1),e=(this._maxScale-1)*i+1;this._entity.setWeaponScale(e),i>=1&&(this._scaleStep++,this._time=0)}else if(2==this._scaleStep)this._time+=t,this._time>=this._waitTime&&(this._scaleStep++,this._time=0);else if(3==this._scaleStep){this._time+=t;var n=s.clamp01(this._time/this._time2),o=this._maxScale-(this._maxScale-1)*n;this._entity.setWeaponScale(o),n>=1&&(this._scaleStep++,this._time=0)}else 4==this._scaleStep?(this._time+=t,this._time>=this._cooldown&&(this._scaleStep++,this._time=0)):5==this._scaleStep&&(this._scaleStep=1,this._time=0)},n._changeState=function(){},n._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t),this._scaleStep=1,this._time=0},n._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},n._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},n._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),I=t("AIAgentImp9",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._speed=void 0,i._duration=void 0,i._cooldown=void 0,i._time=void 0,i._fireStep=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&3==t.length?(this._speed=t[0],this._duration=t[1]/1e3,this._cooldown=t[2]/1e3):(this._speed=1e3,this._duration=1,this._cooldown=3),this._time=0,this._fireStep=0},s._updateState=function(t){var i=this._entity;if(0==this._fireStep)this._time+=t,this._time>=this._cooldown&&i.weaponModule.weapons.length>0&&(this._fireStep++,this._time=0,i.pauseWeaponRotation());else if(1==this._fireStep)this._time+=t,this._time>_.SKILL2.STEP1_TM&&(this._fireStep++,this._time=0);else if(2==this._fireStep){i.weaponModule.weapons.length<=0?(i.resumeWeaponRotation(),this._time=0,this._fireStep=0):(this._fire(),this._time=0,i.hideAllWeapon(),i.resumeWeaponRotation(),this._fireStep++)}else 3==this._fireStep&&(this._time+=t,this._time>=_.SKILL2.WAIT_TM&&(this._time=0,i.showAllWeapon(),this._fireStep=0))},s._changeState=function(){},s._fire=function(){var t=this._entity.weaponModule.weapons;if(!(t.length<=0))for(var i,e=0,s=t.length;e<s;++e){var o=(i=t[e]).realDegree+90,a=n(o),r=Math.cos(a),u=Math.sin(a),_=i.worldPos,h=c.runtime.control.addBullet(0,_.x,_.y);h.setRes(i.res),h.startByDir(r,u,this._speed,this._duration,i.atk,!1,!0,!0)}},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t),this._time=0},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),P=t("AIAgentImp10",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._showAni())},s._showAni=function(){var t=this;this._status=m.TransformAni;var i=c.runtime.control.mainHero,e=new o,s=c.runtime.ui.mapRect,n=this._entity,r=h.ENEMY.MOVE_DIS;i.pos.x>this._entity.pos.x?e.x=Math.min(this._entity.pos.x+r,s.xMax-200):e.x=Math.max(this._entity.pos.x-r,s.xMin+200),e.y=this._entity.pos.y,n.view.node.setScale(o.ZERO),n._enable=!1,n.setForceShow(),a(n.view.node).to(h.ENEMY.MOVE_TM,{worldPosition:e,scale:o.ONE}).delay(h.ENEMY.WAIT_TM).call((function(){n._enable=!0,n.setPos(e),t._setPursueStatus(i),n.cancelForceShow()})).start()},e}(l)),w=t("AIAgentImp11",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s.update=function(t){},e}(l));function M(t,i){var e=c.runtime.ui.mapRect;return t.x-i-H<=e.xMin||(t.x+i+H>=e.xMax||(t.y-i-H<=e.yMin||t.y+i+H>=e.yMax))}var H=100;e._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentImps5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectPool5.ts","./ZDUtils5.ts","./ZDConst5.ts","./ZDGameState5.ts","./AIAgentBase5.ts","./EAIStatus5.ts"],(function(t){var i,e,s,n,o,a,r,u,_,h,c,l,m;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t.math,n=t.toRadian,o=t.Vec3,a=t.tween},function(t){r=t.PDEffectPool},function(t){u=t.ZDUtils4},function(t){_=t.AI_SKILL_CFG,h=t.GRASS_CFG},function(t){c=t.ZDGameState5},function(t){l=t.AIAgentBase},function(t){m=t.EAIStatus}],execute:function(){t("createAIAgent",(function(t,i,e){var s=null;1==i?s=new f(t):2==i?s=new v(t):3==i?s=new S(t):4==i?s=new p(t):5==i?s=new d(t):6==i?s=new y(t):7==i?s=new g(t):8==i?s=new A(t):9==i?s=new I(t):10==i?s=new P(t):11==i&&(s=new w(t));return s.setParams(e),s})),e._RF.push({},"0eab9UCSL5DDJ/g4cA19ISd","AIAgentImps5",void 0);var f=t("AIAgentImp1",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this._setMoveStatus()},s._validateMoveStatus=function(t){this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower?this._setPursueStatus(this._entity.fightHero):M(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},s._validatePursueStatus=function(t){this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower||this._setMoveStatus()},e}(l)),v=t("AIAgentImp2",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=this._findTarget();t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){this._targetRole&&this._targetRole.enable||this._setMoveStatus()},s._validateMoveStatus=function(t){var i=this._findTarget();i&&this._setPursueStatus(i)},s._findTarget=function(){for(var t,i=c.runtime.control.aiHeros,e=0;e<i.length;++e)if((t=i[e]).enable&&t!=this._entity)return t;return null},e}(l)),S=t("AIAgentImp3",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),p=t("AIAgentImp4",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._sulTime=void 0,i._minTm=void 0,i._maxTm=void 0,i}i(e,t);var n=e.prototype;return n._initParams=function(t){t&&2==t.length?(this._minTm=t[0],this._maxTm=t[1]):(this._minTm=3,this._maxTm=5)},n._updateState=function(t){},n._changeState=function(){},n.resetState=function(){this._sulTime=s.randomRange(this._minTm,this._maxTm),this._setMoveStatus()},n._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},n._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},n._validateMoveStatus=function(t){if(this._sulTime-=t,this._sulTime<=0){this._sulTime=0;var i=c.runtime.control.mainHero;if(i&&!i.isIntoGrass())return void this._setPursueStatus(i)}M(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},n._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),d=t("AIAgentImp5",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._setPursueStatus(i))},e}(l)),y=t("AIAgentImp6",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus(),this._entity.playSleepAni()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._entity.playMoveAni(),this._setPursueStatus(i))},e}(l)),g=t("AIAgentImp7",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._cooldown=void 0,i._moveSpeed=void 0,i._duration=void 0,i._prveTime=void 0,i._skillTime=void 0,i._effect=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&4==t.length?(this._minDistance=t[0],this._cooldown=t[1],this._moveSpeed=t[2],this._duration=t[3]):(this._minDistance=800,this._cooldown=5,this._moveSpeed=400),this._prveTime=0,this._skillTime=0},s._updateState=function(t){if(this._status==m.Attract){if(this._skillTime+=t,this._skillTime>=this._duration)return void this._endAttract();if(u.getPositionVector(c.runtime.control.mainHero.pos,this._entity.pos,this._moveDir),c.runtime.control.mainHero.forceMove(t,this._moveDir,this._moveSpeed),this._effect){var i=u.vectorToDegree(this._moveDir);this._effect.node.angle=i+90}}},s._changeState=function(){},s._startAttract=function(){var t=this;this._status=m.Attract,this._skillTime=0,this._entity.endMove(),u.getPositionVector(c.runtime.control.mainHero.pos,this._entity.pos,this._moveDir);var i=u.vectorToDegree(this._moveDir);this._effect=r.ShowAttractEffect((function(){t._effect=null})),this._effect.setPos(this._entity.pos.x,this._entity.pos.y),this._effect.node.angle=i+90},s._endAttract=function(){this._prveTime=Math.floor(Date.now()/1e3),c.runtime.control.mainHero.cancelForceMove();var t=c.runtime.control.mainHero;t&&!t.isIntoGrass()&&this._setPursueStatus(t)},s._isInCd=function(){return Math.floor(Date.now()/1e3)-this._prveTime<this._cooldown},s._onDestroy=function(){c.runtime.control.mainHero.cancelForceMove(),this._effect&&(this._effect.stop(),r.Collect(this._effect))},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){var i=c.runtime.control.mainHero;if(!this._isInCd()&&u.getDistance(this._entity.pos,c.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();i.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){if(!this._isInCd()&&u.getDistance(this._entity.pos,c.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),A=t("AIAgentImp8",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._maxScale=void 0,i._waitTime=void 0,i._cooldown=void 0,i._time1=void 0,i._time2=void 0,i._time=void 0,i._scaleStep=void 0,i}i(e,t);var n=e.prototype;return n._initParams=function(t){t&&5==t.length?(this._maxScale=t[0],this._waitTime=t[1]/1e3,this._time1=t[2]/1e3,this._time2=t[3]/1e3,this._cooldown=t[4]/1e3):(this._maxScale=2,this._waitTime=.7,this._time1=.4,this._time2=.2,this._cooldown=1),this._time=0,this._scaleStep=0},n._updateState=function(t){if(1==this._scaleStep){this._time+=t;var i=s.clamp01(this._time/this._time1),e=(this._maxScale-1)*i+1;this._entity.setWeaponScale(e),i>=1&&(this._scaleStep++,this._time=0)}else if(2==this._scaleStep)this._time+=t,this._time>=this._waitTime&&(this._scaleStep++,this._time=0);else if(3==this._scaleStep){this._time+=t;var n=s.clamp01(this._time/this._time2),o=this._maxScale-(this._maxScale-1)*n;this._entity.setWeaponScale(o),n>=1&&(this._scaleStep++,this._time=0)}else 4==this._scaleStep?(this._time+=t,this._time>=this._cooldown&&(this._scaleStep++,this._time=0)):5==this._scaleStep&&(this._scaleStep=1,this._time=0)},n._changeState=function(){},n._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t),this._scaleStep=1,this._time=0},n._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},n._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},n._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),I=t("AIAgentImp9",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._speed=void 0,i._duration=void 0,i._cooldown=void 0,i._time=void 0,i._fireStep=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&3==t.length?(this._speed=t[0],this._duration=t[1]/1e3,this._cooldown=t[2]/1e3):(this._speed=1e3,this._duration=1,this._cooldown=3),this._time=0,this._fireStep=0},s._updateState=function(t){var i=this._entity;if(0==this._fireStep)this._time+=t,this._time>=this._cooldown&&i.weaponModule.weapons.length>0&&(this._fireStep++,this._time=0,i.pauseWeaponRotation());else if(1==this._fireStep)this._time+=t,this._time>_.SKILL2.STEP1_TM&&(this._fireStep++,this._time=0);else if(2==this._fireStep){i.weaponModule.weapons.length<=0?(i.resumeWeaponRotation(),this._time=0,this._fireStep=0):(this._fire(),this._time=0,i.hideAllWeapon(),i.resumeWeaponRotation(),this._fireStep++)}else 3==this._fireStep&&(this._time+=t,this._time>=_.SKILL2.WAIT_TM&&(this._time=0,i.showAllWeapon(),this._fireStep=0))},s._changeState=function(){},s._fire=function(){var t=this._entity.weaponModule.weapons;if(!(t.length<=0))for(var i,e=0,s=t.length;e<s;++e){var o=(i=t[e]).realDegree+90,a=n(o),r=Math.cos(a),u=Math.sin(a),_=i.worldPos,h=c.runtime.control.addBullet(0,_.x,_.y);h.setRes(i.res),h.startByDir(r,u,this._speed,this._duration,i.atk,!1,!0,!0)}},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t),this._time=0},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(l)),P=t("AIAgentImp10",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._showAni())},s._showAni=function(){var t=this;this._status=m.TransformAni;var i=c.runtime.control.mainHero,e=new o,s=c.runtime.ui.mapRect,n=this._entity,r=h.ENEMY.MOVE_DIS;i.pos.x>this._entity.pos.x?e.x=Math.min(this._entity.pos.x+r,s.xMax-200):e.x=Math.max(this._entity.pos.x-r,s.xMin+200),e.y=this._entity.pos.y,n.view.node.setScale(o.ZERO),n._enable=!1,n.setForceShow(),a(n.view.node).to(h.ENEMY.MOVE_TM,{worldPosition:e,scale:o.ONE}).delay(h.ENEMY.WAIT_TM).call((function(){n._enable=!0,n.setPos(e),t._setPursueStatus(i),n.cancelForceShow()})).start()},e}(l)),w=t("AIAgentImp11",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s.update=function(t){},e}(l));function M(t,i){var e=c.runtime.ui.mapRect;return t.x-i-H<=e.xMin||(t.x+i+H>=e.xMax||(t.y-i-H<=e.yMin||t.y+i+H>=e.yMax))}var H=100;e._RF.pop()}}}));

System.register("chunks:///_virtual/AIAgentImps6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectPool6.ts","./ZDUtils6.ts","./ZDConst6.ts","./ZDGameState6.ts","./AIAgentBase6.ts","./EAIStatus6.ts"],(function(t){var i,e,s,n,a,o,r,u,_,h,c,m,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t.math,n=t.toRadian,a=t.Vec3,o=t.tween},function(t){r=t.PDEffectPool},function(t){u=t.ZDUtils},function(t){_=t.AI_SKILL_CFG,h=t.GRASS_CFG},function(t){c=t.ZDGameState6},function(t){m=t.AIAgentBase},function(t){l=t.EAIStatus}],execute:function(){t("createAIAgent",(function(t,i,e){var s=null;1==i?s=new v(t):2==i?s=new f(t):3==i?s=new S(t):4==i?s=new p(t):5==i?s=new d(t):6==i?s=new y(t):7==i?s=new g(t):8==i?s=new A(t):9==i?s=new I(t):10==i?s=new P(t):11==i&&(s=new M(t));return s.setParams(e),s})),e._RF.push({},"5b03aUGg/VCzrigPNBtc5ub","AIAgentImps6",void 0);var v=t("AIAgentImp1",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this._setMoveStatus()},s._validateMoveStatus=function(t){this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower?this._setPursueStatus(this._entity.fightHero):w(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},s._validatePursueStatus=function(t){this._entity.fightHero&&this._entity.fightHero.fightPower>this._entity.fightPower||this._setMoveStatus()},e}(m)),f=t("AIAgentImp2",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=this._findTarget();t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){this._targetRole&&this._targetRole.enable||this._setMoveStatus()},s._validateMoveStatus=function(t){var i=this._findTarget();i&&this._setPursueStatus(i)},s._findTarget=function(){for(var t,i=c.runtime.control.aiHeros,e=0;e<i.length;++e)if((t=i[e]).enable&&t!=this._entity)return t;return null},e}(m)),S=t("AIAgentImp3",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s._updateState=function(t){},s._changeState=function(){},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(m)),p=t("AIAgentImp4",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._sulTime=void 0,i._minTm=void 0,i._maxTm=void 0,i}i(e,t);var n=e.prototype;return n._initParams=function(t){t&&2==t.length?(this._minTm=t[0],this._maxTm=t[1]):(this._minTm=3,this._maxTm=5)},n._updateState=function(t){},n._changeState=function(){},n.resetState=function(){this._sulTime=s.randomRange(this._minTm,this._maxTm),this._setMoveStatus()},n._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},n._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},n._validateMoveStatus=function(t){if(this._sulTime-=t,this._sulTime<=0){this._sulTime=0;var i=c.runtime.control.mainHero;if(i&&!i.isIntoGrass())return void this._setPursueStatus(i)}w(this._entity.pos,this._entity.radius)&&this._setMoveStatus()},n._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(m)),d=t("AIAgentImp5",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._setPursueStatus(i))},e}(m)),y=t("AIAgentImp6",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus(),this._entity.playSleepAni()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._entity.playMoveAni(),this._setPursueStatus(i))},e}(m)),g=t("AIAgentImp7",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._cooldown=void 0,i._moveSpeed=void 0,i._duration=void 0,i._prveTime=void 0,i._skillTime=void 0,i._effect=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&4==t.length?(this._minDistance=t[0],this._cooldown=t[1],this._moveSpeed=t[2],this._duration=t[3]):(this._minDistance=800,this._cooldown=5,this._moveSpeed=400),this._prveTime=0,this._skillTime=0},s._updateState=function(t){if(this._status==l.Attract){if(this._skillTime+=t,this._skillTime>=this._duration)return void this._endAttract();if(u.getPositionVector(c.runtime.control.mainHero.pos,this._entity.pos,this._moveDir),c.runtime.control.mainHero.forceMove(t,this._moveDir,this._moveSpeed),this._effect){var i=u.vectorToDegree(this._moveDir);this._effect.node.angle=i+90}}},s._changeState=function(){},s._startAttract=function(){var t=this;this._status=l.Attract,this._skillTime=0,this._entity.endMove(),c.runtime.control.mainHero.endMove(),u.getPositionVector(c.runtime.control.mainHero.pos,this._entity.pos,this._moveDir);var i=u.vectorToDegree(this._moveDir);this._effect=r.ShowAttractEffect((function(){t._effect=null})),this._effect.setPos(this._entity.pos.x,this._entity.pos.y),this._effect.node.angle=i+90},s._endAttract=function(){this._prveTime=Math.floor(Date.now()/1e3),c.runtime.control.mainHero.cancelForceMove();var t=c.runtime.control.mainHero;t&&!t.isIntoGrass()&&this._setPursueStatus(t)},s._isInCd=function(){return Math.floor(Date.now()/1e3)-this._prveTime<this._cooldown},s._onDestroy=function(){c.runtime.control.mainHero.cancelForceMove(),this._effect&&(this._effect.stop(),r.Collect(this._effect))},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t)},s._validatePursueStatus=function(t){var i=c.runtime.control.mainHero;if(!this._isInCd()&&u.getDistance(this._entity.pos,c.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();i.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){if(!this._isInCd()&&u.getDistance(this._entity.pos,c.runtime.control.mainHero.pos)<=this._minDistance)return void this._startAttract();var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(m)),A=t("AIAgentImp8",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._maxScale=void 0,i._waitTime=void 0,i._cooldown=void 0,i._time1=void 0,i._time2=void 0,i._time=void 0,i._scaleStep=void 0,i}i(e,t);var n=e.prototype;return n._initParams=function(t){t&&5==t.length?(this._maxScale=t[0],this._waitTime=t[1]/1e3,this._time1=t[2]/1e3,this._time2=t[3]/1e3,this._cooldown=t[4]/1e3):(this._maxScale=2,this._waitTime=.7,this._time1=.4,this._time2=.2,this._cooldown=1),this._time=0,this._scaleStep=0},n._updateState=function(t){if(1==this._scaleStep){this._time+=t;var i=s.clamp01(this._time/this._time1),e=(this._maxScale-1)*i+1;this._entity.setWeaponScale(e),i>=1&&(this._scaleStep++,this._time=0)}else if(2==this._scaleStep)this._time+=t,this._time>=this._waitTime&&(this._scaleStep++,this._time=0);else if(3==this._scaleStep){this._time+=t;var n=s.clamp01(this._time/this._time2),a=this._maxScale-(this._maxScale-1)*n;this._entity.setWeaponScale(a),n>=1&&(this._scaleStep++,this._time=0)}else 4==this._scaleStep?(this._time+=t,this._time>=this._cooldown&&(this._scaleStep++,this._time=0)):5==this._scaleStep&&(this._scaleStep=1,this._time=0)},n._changeState=function(){},n._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t),this._scaleStep=1,this._time=0},n._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},n._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},n._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(m)),I=t("AIAgentImp9",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._speed=void 0,i._duration=void 0,i._cooldown=void 0,i._time=void 0,i._fireStep=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&3==t.length?(this._speed=t[0],this._duration=t[1]/1e3,this._cooldown=t[2]/1e3):(this._speed=1e3,this._duration=1,this._cooldown=3),this._time=0,this._fireStep=0},s._updateState=function(t){var i=this._entity;if(0==this._fireStep)this._time+=t,this._time>=this._cooldown&&i.weaponModule.weapons.length>0&&(this._fireStep++,this._time=0,i.pauseWeaponRotation());else if(1==this._fireStep)this._time+=t,this._time>_.SKILL2.STEP1_TM&&(this._fireStep++,this._time=0);else if(2==this._fireStep){i.weaponModule.weapons.length<=0?(i.resumeWeaponRotation(),this._time=0,this._fireStep=0):(this._fire(),this._time=0,i.hideAllWeapon(),i.resumeWeaponRotation(),this._fireStep++)}else 3==this._fireStep&&(this._time+=t,this._time>=_.SKILL2.WAIT_TM&&(this._time=0,i.showAllWeapon(),this._fireStep=0))},s._changeState=function(){},s._fire=function(){var t=this._entity.weaponModule.weapons;if(!(t.length<=0))for(var i,e=0,s=t.length;e<s;++e){var a=(i=t[e]).realDegree+90,o=n(a),r=Math.cos(o),u=Math.sin(o),_=i.worldPos,h=c.runtime.control.addBullet(0,_.x,_.y);h.setRes(i.res),h.startByDir(r,u,this._speed,this._duration,i.atk,!1,!0,!0)}},s._initState=function(){var t=c.runtime.control.mainHero;t&&this._setPursueStatus(t),this._time=0},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},e}(m)),P=t("AIAgentImp10",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._isActive=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&1==t.length?this._minDistance=t[0]:this._minDistance=800,this._isActive=!1},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this.setWaitStatus()},s._validatePursueStatus=function(t){c.runtime.control.mainHero.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&!i.isIntoGrass()&&this._setPursueStatus(i)},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;this._isActive?i&&!i.isIntoGrass()&&this._setPursueStatus(i):u.getDistance(this._entity.pos,i.pos)<=this._minDistance&&(this._isActive=!0,this._showAni())},s._showAni=function(){var t=this;this._status=l.TransformAni;var i=c.runtime.control.mainHero,e=new a,s=c.runtime.ui.mapRect,n=this._entity,r=h.ENEMY.MOVE_DIS;i.pos.x>this._entity.pos.x?e.x=Math.min(this._entity.pos.x+r,s.xMax-200):e.x=Math.max(this._entity.pos.x-r,s.xMin+200),e.y=this._entity.pos.y,n.view.node.setScale(a.ZERO),n._enable=!1,n.setForceShow(),o(n.view.node).to(h.ENEMY.MOVE_TM,{worldPosition:e,scale:a.ONE}).delay(h.ENEMY.WAIT_TM).call((function(){n._enable=!0,n.setPos(e),t._setPursueStatus(i),n.cancelForceShow()})).start()},e}(m)),M=t("AIAgentImp11",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._minDistance=void 0,i._maxDistance=void 0,i}i(e,t);var s=e.prototype;return s._initParams=function(t){t&&2==t.length?(this._minDistance=t[0],this._maxDistance=t[1]):(this._minDistance=800,this._maxDistance=1100)},s._updateState=function(t){},s._changeState=function(){},s._initState=function(){this._setMoveStatus()},s.resetState=function(){this._setMoveStatus()},s._validatePursueStatus=function(t){var i=c.runtime.control.mainHero;u.getDistance(this._entity.pos,i.pos)>=this._maxDistance?this._setMoveStatus():i.isIntoGrass()&&(this._entity.isBoss||this._setMoveStatus())},s._validateMoveStatus=function(t){var i=c.runtime.control.mainHero;i&&i.enable?i.isIntoGrass()?w(this._entity.pos,this._entity.radius)&&this._setMoveStatus():u.getDistance(this._entity.pos,i.pos)<=this._minDistance?this._setPursueStatus(i):w(this._entity.pos,this._entity.radius)&&this._setMoveStatus():this.setWaitStatus()},s._validateWaitStatus=function(t){var i=c.runtime.control.mainHero;i&&i.enable&&this._setMoveStatus()},e}(m));function w(t,i){var e=c.runtime.ui.mapRect;return t.x-i-D<=e.xMin||(t.x+i+D>=e.xMax||(t.y-i-D<=e.yMin||t.y+i+D>=e.yMax))}var D=100;e._RF.pop()}}}));

System.register("chunks:///_virtual/AlertView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_Alert.ts","./ViewBase.ts"],(function(t){var i,e,n,s,o;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy},function(t){s=t.default},function(t){o=t.ViewBase}],execute:function(){n._RF.push({},"1cb94mWLLVMDb/p0Vg8BCqR","AlertView",void 0);t("AlertView",function(t){function n(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).tips=void 0,i}i(n,t);var o=n.prototype;return o._preShowAnim=function(){this.ui.m_view.m_btn_ok.onClick(this.onClickOK,this),this.tips=[],this.ui.m_view.visible=!1},o._afterShowAnim=function(){},o._preHideAnim=function(){},o._afterHideAnim=function(){},o.onClickOK=function(){this.showAlert()},o.Alert=function(t){n.instance.isOpened?t&&this.tips.push(t):(n.instance.show(),t&&this.tips.push(t),this.showAlert())},o.showAlert=function(){var t=this.tips.shift();t?(this.ui.m_view.visible=!0,this.ui.m_view.m_txt_content.text=t):this.hide()},e(n,null,[{key:"instance",get:function(){return this._getInstance(n,s,1)}}]),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/AliAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultAds.ts"],(function(n){var o,e,i;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy},function(n){i=n.default}],execute:function(){e._RF.push({},"7ff0aaa6RxNGIJBmFlLCLFG","AliAds",void 0);n("default",function(n){function e(){var o;return(o=n.call(this)||this).config=void 0,o._rewardVideo=void 0,o.base=void 0,o._bannerAd=void 0,o._intersitialAd=void 0,o.boxBanner=void 0,o.gamebox=void 0,o.onRewardAdLoad=void 0,o.onRewardAdError=void 0,o.onRewardAdClose=void 0,o.base=my,o}o(e,n);var i=e.prototype;return i.init=function(n){this.config=n},i.showBannerAd=function(){var n=this;if(console.log("showBannerAd"),this.base&&this.config.bannerIdMain){if(!this._bannerAd){var o=this.base.getSystemInfoSync().windowWidth,e=this.base.getSystemInfoSync().windowHeight;if(e/o<=1334/750)return console.log("小屏手机不显示banner");var i={};i.adUnitId=this.config.bannerIdMain,i.adIntervals=30;var t={left:0,top:0,width:375};i.style=t,this._bannerAd=this.base.createBannerAd(i),this._bannerAd.onLoad((function(){console.log("banner加载成功"),n._bannerAd.style.top=e-n._bannerAd.style.realHeight,n._bannerAd.style.left=(o-n._bannerAd.style.realWidth)/2})),this._bannerAd.onError((function(n){console.error("banner广告加载失败",n)})),this._bannerAd.onResize((function(o){n._bannerAd.style.top=e-o.height}))}this._bannerAd&&this._bannerAd.show()}},i.hideBannerAd=function(){console.log("hideBannerAd"),this._bannerAd&&this._bannerAd.hide()},i.showRewardVideoAd=function(){var n=this;this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var o=this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"+o),new Promise((function(e,i){o&&(n._rewardVideo&&n.onRewardAdLoad,n.onRewardAdLoad=function(){console.log("视频广告加载成功"),n.base.hideLoading()},n.onRewardAdClose=function(o){n.base.hideLoading(),console.log("视频回调",o);var i=o.isEnded;e(i)},n.onRewardAdError=function(o){console.error("视频广告加载失败",o),n.base.showToast("视频加载失败,请稍后重试"),e(!1),n.base.hideLoading()},n._rewardVideo?(n._rewardVideo.onLoad(n.onRewardAdLoad),n._rewardVideo.onError(n.onRewardAdError),n._rewardVideo.onClose(n.onRewardAdClose),n.base.showLoading("视频加载中..."),n._rewardVideo.load().then((function(){n._rewardVideo.show().then((function(){n.base.hideLoading()}))}))):(n._rewardVideo=n.base.createRewardedAd({adUnitId:o}),n._rewardVideo.onLoad(n.onRewardAdLoad),n._rewardVideo.onError(n.onRewardAdError),n._rewardVideo.onClose(n.onRewardAdClose),n.base.showLoading("视频加载中..."),n._rewardVideo.load().then((function(){n._rewardVideo.show().then((function(){n.base.hideLoading()}))}))))}))},i.showInterstitialAd=function(){var n=this;if(console.log("showInterstitialAd"),!this._intersitialAd){if(this._intersitialAd=this.base.createInterstitialAd({adUnitId:this.config.initerstitialAdId}),null==this._intersitialAd)return void console.log("IDE内不支持创建InterstitialAd");this._intersitialAd.onError((function(n){console.error("插页加载失败",n)})),this._intersitialAd.onClose((function(){console.log("插页close"),n._intersitialAd.destroy(),n._intersitialAd=null}))}this._intersitialAd&&this._intersitialAd.load().then((function(){n._intersitialAd.show()}))},i.showGameboxBanner=function(){var n=this.base.getSystemInfoSync().windowWidth,o=this.base.getSystemInfoSync().windowHeight;this.boxBanner||(this.boxBanner=this.base.createCustomAd({adUnitId:this.config.gameBoxBannerAdId,style:{left:(n-360)/2,top:o-108,width:n,height:106}}),this.boxBanner.onLoad((function(n){console.log("boxBanner onload",n)})),this.boxBanner.onError((function(n){console.log("boxBanner err",n)}))),this.boxBanner&&this.boxBanner.show()},i.hideGameboxBanner=function(){this.boxBanner&&this.boxBanner.destroy(),this.boxBanner=null},i.showGamebox=function(){if(!this.gamebox){var n=this.base.getSystemInfoSync().windowWidth,o=this.base.getSystemInfoSync().windowHeight;this.gamebox=this.base.createCustomAd({adUnitId:this.config.gameBoxAdId,style:{left:0,top:o-228,width:n,height:226}}),this.gamebox.onLoad((function(n){console.log("gamebox onload",n)})),this.gamebox.onError((function(n){console.log("gamebox err",n)}))}this.gamebox&&this.gamebox.show()},i.hideGamebox=function(){this.gamebox&&this.gamebox.hide()},i.showNativeAd=function(){},i.showSplashAd=function(){},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/AliPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AliAds.ts","./DefaultPlatform.ts","./DefaultRecorder.ts","./SDK.ts"],(function(e){var t,n,o,s,i,a,c,r,u;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,i=e.game},function(e){a=e.default},function(e){c=e.default},function(e){r=e.default},function(e){u=e.default}],execute:function(){s._RF.push({},"e4ee6FqCS1J3ZDNCfsevFTQ","AliPlatform",void 0);e("default",function(e){function s(){var t;return(t=e.call(this)||this).inited=!1,t.base=my,t}t(s,e);var c=s.prototype;return c.init=function(e){var t=this;console.log("初始化平台==支付宝"),this.systemInfo=this.base.getSystemInfoSync(),this.ads=new a,this.ads.init(e.adConfig),this.isSupportRank=!1,this.recorder=new r,this.recorder.isSupport=!1,this.gameName=e.gameName,this.appId=e.appId,this.base.onShareAppMessage=function(){return{title:t.gameName,desc:"这个小游戏真好玩",success:function(e){console.log(e)},fail:function(e){console.log(e)},complete:function(e){}}},this.base.setKeepScreenOn({keepScreenOn:!0,success:function(e){},fail:function(e){}}),this.base.onShow(this.onShow.bind(this)),this.base.onHide(this.onHide.bind(this))},c.onShow=function(e){console.log("my OnShow",e),i.resume(),this.inited||(this.checkUpdate(),this.inited=!0)},c.checkUpdate=function(){var e=this,t=this.base.getUpdateManager();null!=t&&(t.onCheckForUpdate((function(e){console.log("onCheckForUpdate",e.hasUpdate),e.hasUpdate&&this.base.showToast({title:"即将有更新请留意"})})),t.onUpdateReady((function(){e.base.showModal({title:"更新提示",content:"新版本已经准备好，是否立即使用？",success:function(e){e.confirm?this.base.getUpdateManager().applyUpdate():this.base.showToast({icon:"none",title:"小程序下一次「冷启动」时会使用新版本"})}})})),t.onUpdateFailed((function(){e.base.showToast({title:"更新失败，下次启动继续..."})})))},c.onHide=function(e){console.log("my OnHide",e),i.pause()},c.login=function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.useCloudStorage=t,this.base.login){e.next=3;break}return e.abrupt("return");case 3:this.base.login({success:function(e){if(e.code)return t?u.Inst.login(e.code):null;console.log("登录失败！"+e.errMsg)}});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.Vibrate=function(e){e?this.base.vibrateLong({success:function(e){},fail:function(e){console.error("调用震动失败",e)},complete:function(e){}}):this.base.vibrateShort({success:function(e){},fail:function(e){console.error("调用震动失败",e)},complete:function(e){}})},c.showLoading=function(e,t){console.log("showLoading"+e),this.base&&this.base.showLoading&&this.base.showLoading({title:e,mask:t})},c.hideLoading=function(){console.log("hideLoading"),this.base&&this.base.hideLoading&&this.base.hideLoading()},c.showToast=function(e){console.log("showToast"+e),this.base&&this.base.showToast&&this.base.showToast({title:e})},c.reportEvent=function(e,t){},c.hasShortcutInstalled=function(){return new Promise((function(e,t){e(!0)}))},s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/Android233Ads.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./DefaultAds.ts"],(function(o){var i,e,n,t,a;return{setters:[function(o){i=o.inheritsLoose},function(o){e=o.cclegacy,n=o.native},function(o){t=o.YT},function(o){a=o.default}],execute:function(){e._RF.push({},"16a30CCCTdCQIEcDrgy0agV","Android233Ads",void 0);o("default",function(o){function e(){for(var i,e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(i=o.call.apply(o,[this].concat(n))||this).config=void 0,i._rewardVideo=void 0,i.base=void 0,i._bannerAd=void 0,i._intersitialAd=void 0,i.boxBanner=void 0,i.gamebox=void 0,i.nativeAdtime=void 0,i}i(e,o);var a=e.prototype;return a.init=function(o){this.config=o,console.log("init Android233 Ad"),n.reflection.callStaticMethod("com/cocos/game/AppActivity","initADs","()V"),this.nativeAdtime=Date.now()},a.showBannerAd=function(){},a.hideBannerAd=function(){},a.showRewardVideoAd=function(){this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"),new Promise((function(o,i){t.audio.pauseAll();window.callByNative=function(i){switch(console.log("msg from Android233 onRewardVideo=="+i),i){case"onComplete":o(!0);break;case"onError":t.gui.toast("视频加载失败，请稍后重试"),o(!1),console.error("视频播放错误");break;case"onSkip":console.error("中止播放"),t.gui.toast("跳过视频不能获得奖励"),o(!1)}t.audio.resumeAll(),window.callByNative=null},n.reflection.callStaticMethod("com/cocos/game/AppActivity","showRewardVideoAd","()V")}))},a.showInterstitialAd=function(){},a.showGameboxBanner=function(){},a.hideGameboxBanner=function(){},a.showGamebox=function(){},a.hideGamebox=function(){},a.showNativeAd=function(){if(!((Date.now()-this.nativeAdtime)/1e3<60)){this.nativeAdtime=Date.now(),t.audio.pauseAll();window.callByNative=function(o){console.log("msg from Android233 onRewardVideo=="+o),t.audio.resumeAll(),window.callByNative=null},n.reflection.callStaticMethod("com/cocos/game/AppActivity","showNativeAd","()V")}},a.showSplashAd=function(){},e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/Android233Platform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultPlatform.ts","./DefaultRecorder.ts","./Android233Ads.ts"],(function(t){var n,e,i,o,r,s,a,u;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t.native},function(t){s=t.default},function(t){a=t.default},function(t){u=t.default}],execute:function(){o._RF.push({},"51463MiTU1Kdb09nD5eLWGT","Android233Platform",void 0);t("default",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var s=o.prototype;return s.init=function(t){this.base=r.bridge,this.ads=new u,this.ads.init(t.adConfig),this.recorder=new a,this.recorder.init(),this.gameName=t.gameName,this.appId=t.appId},s.login=function(){var t=e(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1),this.useCloudStorage=n;case 2:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.Vibrate=function(t){},s.showLoading=function(t){},s.hideLoading=function(){},s.showToast=function(t){console.log("showToast"+t)},s.hasShortcutInstalled=function(){return new Promise((function(t,n){t(!0)}))},o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationControlCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,t,o,e,r,a,l,p;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Animation,p=n.Component}],execute:function(){var c,s,u,m,y;r._RF.push({},"fdfd7K4+6JDx5edmicRnV41","AnimationControlCmp",void 0);var f=a.ccclass,d=a.property;n("AnimationControlCmp",(c=f("AnimationControlCmp"),s=d({type:l,displayName:"动画组件",visible:!0}),c((y=i((m=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,o(i,"_animation",y,e(i)),i}return t(i,n),i.prototype.play=function(n){this._animation.play(n)},i}(p)).prototype,"_animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationControlCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,t,o,e,r,a,l,p;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Animation,p=n.Component}],execute:function(){var c,s,u,m,y;r._RF.push({},"16e50YA1epD57HfxQnNiNcU","AnimationControlCmp3",void 0);var f=a.ccclass,C=a.property;n("AnimationControlCmp3",(c=f("AnimationControlCmp3"),s=C({type:l,displayName:"动画组件",visible:!0}),c((y=i((m=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,o(i,"_animation",y,e(i)),i}return t(i,n),i.prototype.play=function(n){this._animation.play(n)},i}(p)).prototype,"_animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationControlCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,t,o,e,r,a,l,p;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Animation,p=n.Component}],execute:function(){var c,s,u,m,y;r._RF.push({},"f4496HxdjdMpK0finRQHqQa","AnimationControlCmp4",void 0);var f=a.ccclass,C=a.property;n("AnimationControlCmp4",(c=f("AnimationControlCmp4"),s=C({type:l,displayName:"动画组件",visible:!0}),c((y=i((m=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,o(i,"_animation",y,e(i)),i}return t(i,n),i.prototype.play=function(n){this._animation.play(n)},i}(p)).prototype,"_animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationControlCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,o,e,r,a,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Animation,p=t.Component}],execute:function(){var c,s,u,m,y;r._RF.push({},"81a6cmMDyJErotglypoQf8t","AnimationControlCmp5",void 0);var f=a.ccclass,C=a.property;t("AnimationControlCmp5",(c=f("AnimationControlCmp5"),s=C({type:l,displayName:"动画组件",visible:!0}),c((y=n((m=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"_animation",y,e(n)),n}return i(n,t),n.prototype.play=function(t){this._animation.play(t)},n}(p)).prototype,"_animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationControlCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,t,o,e,r,a,l,p;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Animation,p=n.Component}],execute:function(){var c,s,u,m,y;r._RF.push({},"56272ceqTVNX7H+YuWeNEDh","AnimationControlCmp6",void 0);var f=a.ccclass,h=a.property;n("AnimationControlCmp6",(c=f("AnimationControlCmp6"),s=h({type:l,displayName:"动画组件",visible:!0}),c((y=i((m=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,o(i,"_animation",y,e(i)),i}return t(i,n),i.prototype.play=function(n){this._animation.play(n)},i}(p)).prototype,"_animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/App.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YTAudioMgr.ts","./EventMessage.ts","./LanguageManager.ts","./TimeManager.ts","./BuildTimeConstants.ts","./GlobalConfig.ts","./WebQueryConfig.ts","./GUI.ts","./UIManager.ts","./YT.ts","./GameEntry.ts","./GMView.ts","./fairygui.mjs"],(function(e){var t,n,i,o,r,a,s,u,c,l,p,f,d,g,m,h,w,y,v,E,b,_,C,G,M,T,R,N,A,I,z,D,S,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Node,l=e.JsonAsset,p=e.KeyCode,f=e.director,d=e.Component,g=e.game,m=e.Game,h=e.log,w=e.input,y=e.Input,v=e.sys,E=e.view},function(e){b=e.YTAudioMgr},function(e){_=e.EventMessage},function(e){C=e.LanguageManager},function(e){G=e.TimeManager},function(e){M=e.BuildTimeConstants},function(e){T=e.GlobalConfig},function(e){R=e.WebQueryConfig},function(e){N=e.GUI},function(e){A=e.UIManager},function(e){I=e.YT,z=e.version},function(e){D=e.GameEntry},function(e){S=e.GMView},function(e){P=e.GRoot}],execute:function(){var V,k,Y,K,W,x,L;s._RF.push({},"16173WKY9JDHoo77E6vQiIu","App",void 0);u.ccclass;var H=u.property;e("App",(V=H({type:c,tooltip:"UI_2D层"}),k=H({type:l,tooltip:"平台配置"}),Y=H({type:l,tooltip:"游戏全局配置"}),W=t((K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"ui",W,o(t)),i(t,"platformConfig",x,o(t)),i(t,"globalConfig",L,o(t)),t._audioNode=null,t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.game_start_time=performance.now(),console.log("YT Framework v"+z),this.enabled=!1,e.next=5,this.initPlatform();case 5:f.addPersistRootNode(this.node),f.addPersistRootNode(this.ui),this._onGlobalLoaded(this.globalConfig);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onGlobalLoaded=function(){var e=r(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.YT=I,I.config.btc=new M,I.config.query=new R,I.config.game=new T(t),g.frameRate=I.config.game.frameRate,this.enabled=!0,this._audioNode=new c("PersistRootNode"),f.addPersistRootNode(this._audioNode),I.game=this.node.addComponent(D),I.game.init(),I.audio=this._audioNode.addComponent(b),I.gui=new A(this.ui),I.timer=this.node.addComponent(G),I.language=new C,g.on(m.EVENT_SHOW,(function(){h("Game.EVENT_SHOW"),I.audio.resumeAll(),f.resume(),g.resume(),I.message.dispatchEvent(_.GAME_ENTER)})),w.on(y.EventType.KEY_DOWN,this.onKeybordKeyDown,this),g.on(m.EVENT_HIDE,(function(){h("Game.EVENT_HIDE"),I.audio.pauseAll(),f.pause(),g.pause(),I.message.dispatchEvent(_.GAME_EXIT)})),n=this.ui.addComponent(N),v.isMobile||E.setResizeCallback((function(){I.viewportSize.set(E.getVisibleSize()),I.viewportRect.set(E.getViewportRect()),n.resize(),I.message.dispatchEvent(_.GAME_RESIZE),I.gui.updateAllUI()})),I.viewportSize.set(E.getVisibleSize()),I.viewportRect.set(E.getViewportRect()),e.next=23,this.appStart();case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onDestroy=function(){},s.onKeybordKeyDown=function(e){if(I.isGM)switch(e.keyCode){case p.SPACE:I.logic.isPause?(I.logic.resume(),f.resume(),P.inst.closeModalWait()):(I.logic.pause(),f.pause(),P.inst.showModalWait("游戏已暂停"));break;case p.KEY_G:S.instance.show()}},s.initPlatform=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.appStart=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(d)).prototype,"ui",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(K.prototype,"platformConfig",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(K.prototype,"globalConfig",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K));s._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(n){var r,t;return{setters:[function(n){r=n.cclegacy,t=n.math}],execute:function(){r._RF.push({},"05ed97rZQFJZpltWXxtkKXP","ArrayUtil",void 0);n("ArrayUtil",function(){function n(){}return n.noRepeated=function(n){for(var r=[n[0]],t=1;t<n.length;t++){for(var e=!1,o=0;o<r.length;o++)if(n[t]==r[o]){e=!0;break}e||r.push(n[t])}return r},n.copy2DArray=function(n){for(var r=[],t=0;t<n.length;t++)r.push(n[t].concat());return r},n.copy=function(n,r){var t=0,e=r.length;for(t=0;t<e;++t)n.push(r[t])},n.fisherYatesShuffle=function(n){for(var r=n.length;r;){var t=Math.floor(Math.random()*r--),e=n[r];n[r]=n[t],n[t]=e}return n},n.confound=function(n){return n.slice().sort((function(){return Math.random()-.5}))},n.flattening=function(n){for(;n.some((function(n){return Array.isArray(n)}));)n=[].concat.apply([],n);return n},n.remove=function(n,r){var t=n.indexOf(r);return t>=0&&(n.splice(t,1),!0)},n.combineArrays=function(n,r){return[].concat(n,r)},n.randomFromArray=function(n){return 0==n.length?null:n[t.randomRangeInt(0,n.length)]},n.randomArrayFromArray=function(n,r){if(!n||0==n.length)return[];var e=Math.min(n.length,r);if(n.length==e)return[].concat(n);for(var o=[];o.length<e;){var a=[].concat(n),u=0,f=e<a.length?e:a.length;for(u=0;u<f;++u){var i=t.randomRangeInt(0,a.length);o.push(a[i]),a.splice(i,1)}}return o},n.randomByWeight=function(n,r){if(!n||!r||0==r.length||n.length!=r.length)return console.error(" MathUtil.RandomByWeight 参数异常 "),null;var e=0,o=0,a=r.length;for(o=0;o<a;++o)e+=r[o];var u=t.randomRange(0,e),f=0;for(o=0;o<a;++o)if((f+=r[o])>u)return n[o];return null},n.randomByWeight2=function(n){if(!n||0==n.length)return null;var r=0,e=0,o=n.length;for(e=0;e<o;++e)r+=n[e].weight;var a=t.randomRange(0,r),u=0;for(e=0;e<o;++e)if((u+=n[e].weight)>a)return n[e];return null},n.removeByArray=function(n,r){for(var t=n.concat(),e=0;e<t.length;){var o=t[e];r.indexOf(o)>=0?t.splice(e,1):e++}return t},n.insert=function(n,r,t){if(t<0||t+1>=r.length)r.push(n);else{for(var e=r.length-1;e>=t;e--)r[e+1]=r[e];r[t]=n}},n.append=function(n,r){var t=0,e=r.length;for(t=0;t<e;++t)n.push(r[t])},n.getRandomValueInArray=function(n){return n[Math.floor(Math.random()*n.length)]},n.Insert=function(n,r,t){if(t<0||t+1>=r.length)r.push(n);else{for(var e=r.length-1;e>=t;e--)r[e+1]=r[e];r[t]=n}},n.PushArray=function(n,r){if(n){for(var t=0,e=r.length;t<e;++t)n.push(r[t]);return n}},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/AStar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var s,i;return{setters:[function(t){s=t.extends},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"05b6fgoiDJMmbgYl+4VJqJm","AStar",void 0);t("Point",(function(t,s){this.x=void 0,this.y=void 0,this.G=0,this.H=0,this.F=0,this.father=null,this.is_close=!1,this.x=t,this.y=s}));var e=t("default",function(){function t(){}return t.clear=function(){this.arr_open=[],this.pppp=null,this.start=null,this.end=null,this.map=null,this.size=null,this.map=null},t.getRoute=function(t,i,e,h){var r=this;this.is_find=!1,this.arr_open=[],this.pppp=null,this.start=s({},t),this.end=s({},i),this.map=new Map,e.forEach((function(t,i){(r.checkNear(r.start,t,10)||r.checkNear(r.end,t,10))&&r.map.set(i,s({},t))})),this.size=h,e.get(this.start.x+this.start.y*this.size.width)?e.get(this.start.x+this.start.y*this.size.width).G=0:console.error("位置不对：",this.start.x+this.start.y*this.size.width);var n=new Array;try{this.search(this.start)}catch(t){return console.error("位置不对"),n}return this.pppp&&this.getFather(this.pppp,n),n},t.checkNear=function(t,s,i){return Math.abs(t.x-s.x)<=i&&Math.abs(t.y-s.y)<=i},t.search=function(t){var s=this;if(t.x==this.end.x&&t.y==this.end.y)return this.is_find=!0,void(this.pppp=t);this.getAround(t).forEach((function(i){s.setFather(i,t)})),this.arr_open.sort(this.compare),this.arr_open.forEach((function(t,i,e){t.is_close&&e.splice(i,1),s.is_find||s.search(t)}))},t.getAround=function(t){t.is_close=!0;var s,i,e=new Array;return 0!=t.y&&(s=t.x+(t.y-1)*this.size.width,!(i=this.map.get(s))||i.is_close||this.arr_open.includes(i)||(e.push(i),this.arr_open.push(i))),t.y+1!=this.size.height&&(s=t.x+(t.y+1)*this.size.width,!(i=this.map.get(s))||i.is_close||this.arr_open.includes(i)||(e.push(i),this.arr_open.push(i))),0!=t.x&&(s=t.x-1+t.y*this.size.width,!(i=this.map.get(s))||i.is_close||this.arr_open.includes(i)||(e.push(i),this.arr_open.push(i))),t.x+1!=this.size.width&&(s=t.x+1+t.y*this.size.width,!(i=this.map.get(s))||i.is_close||this.arr_open.includes(i)||(e.push(i),this.arr_open.push(i))),e},t.setFather=function(t,s){(!t.father||t.father.G>s.G)&&(t.father=s,t.G=t.father.G+1,t.H=Math.abs(t.x-this.end.x)+Math.abs(t.y-this.end.y),t.F=t.G+t.H)},t.compare=function(t,s){return t.F>s.F?1:-1},t.getFather=function(t,s){var i=t.father;i&&this.getFather(i,s),s.push(t)},t}());e.start=null,e.end=null,e.map=null,e.size=null,e.arr_open=[],e.pppp=null,e.is_find=!1,i._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncAStar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BinaryHeap.ts"],(function(t){var s,i,e;return{setters:[function(t){s=t.createClass},function(t){i=t.cclegacy},function(t){e=t.BinaryHeap}],execute:function(){i._RF.push({},"ca716okxjZPzqrLILfIv3pc","AsyncAStar",void 0);var h={manhattan:function(t,s){return Math.abs(s.x-t.x)+Math.abs(s.y-t.y)},diagonal:function(t,s){var i=Math.sqrt(2),e=Math.abs(s.x-t.x),h=Math.abs(s.y-t.y);return 1*(e+h)+(i-2)*Math.min(e,h)}};t("AsyncAStar",function(){function t(t,s){this._graph=null,this._start=null,this._end=null,this._options=null,this._callback=null,this._heuristic=null,this._open_heap=null,this._closest=!1,this._closest_node=null,this._open_step=0,this._frame=0,this._searching=!1,this._min_distance=Number.MAX_VALUE,this._nearest_node=null,this._findWaitList=void 0,this._graph=t;var i=s||Object.create(null);this._heuristic=i.heuristic||h.diagonal,this._closest=i.closest||!1,this._open_step=i.open_step||0,this._open_heap=new e((function(t){return t.f})),this._findWaitList=[]}var i=t.prototype;return i.findPath=function(t,s,i){if(this._searching)this._findWaitList.push({start:t,end:s,callback:i});else{var e=this._graph.grid_node(t),h=this._graph.grid_node(s);this.search(e,h,i)}},i.search=function(t,s,i){if(!this._searching){if(!t||!s||t.equals(s))return this._callback=i,this._searching=!0,void this._complete([]);this._start=t,this._end=s,this._closest_node=t,this._start.h=this._heuristic(this._start,this._end),this._graph.mark_dirty(this._start),this._open_heap.push(this._start),this._frame=1,this._callback=i,this._searching=!0,this._min_distance=this._start.h,this._nearest_node=t,this.update()}},i.update=function(){this._updateFind(0)},i._updateFind=function(t){for(var s=0;this._open_heap.size()>0;){var i=this._open_heap.pop();if(i===this._end){var e=this._path_to(i);return void this._complete(e)}i.closed=!0;for(var h=this._graph.neighbors(i),n=0,_=h.length;n<_;n++){var a=h[n];if(!a.closed&&!a.is_wall()){var r=i.g+a.get_cost(i),o=a.visited;if(!o||r<a.g)if(a.visited=!0,a.parent=i,a.h=a.h||this._heuristic(a,this._end),a.g=r,a.f=a.g+a.h,this._graph.mark_dirty(a),this._closest&&(a.h<this._closest_node.h||a.h===this._closest_node.h&&a.g<this._closest_node.g)&&(this._closest_node=a),o)this._open_heap.rescore(a);else{this._open_heap.push(a);var c=this._heuristic(a,this._end);c<this._min_distance&&(this._min_distance=c,this._nearest_node=a)}}}if(++s===this._open_step)return void this._frame++}this._complete(this._path_to(this._closest?this._closest_node:this._nearest_node))},i.clear=function(){this._graph.clear(),this._graph=null,this._start=null,this._end=null,this._options=null,this._callback=null,this._heuristic=null,this._open_heap.clear(),this._open_heap=null,this._open_step=0,this._frame=0,this._searching=!1,this._closest=!1,this._closest_node=null,this._min_distance=Number.MAX_VALUE,this._nearest_node=null},i.path_smooth=function(t,s){return void 0===s&&(s=.5),this._smooth(t,s)},i._complete=function(t){var s=this._frame;this._frame=0;var i=this._callback;this._callback=null,this._graph.clean_dirty(),this._open_heap.clear(),this._searching=!1,i&&i(s,t);var e=this._findWaitList.shift();if(e){var h=this._graph.grid_node(e.start),n=this._graph.grid_node(e.end);this.search(h,n,e.callback)}},i._smooth=function(t,s){void 0===s&&(s=.5);for(var i=new Array,e=0,h=t.length;e<h;e++){var n=t[e],_=t[e+1];if(e>0&&_){var a=n.x+(_.x-n.x)*s,r=n.y+(_.y-n.y)*s;i.push({x:a,y:r})}else i.push({x:n.x,y:n.y})}return i},i._path_to=function(t){var s=new Array;if(!t)return s;for(var i=t;i.parent;)s.push({x:i.x,y:i.y}),i=i.parent;return s},s(t,[{key:"graph",get:function(){return this._graph}},{key:"open_step",get:function(){return this._open_step}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AttrMgr.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4b3e6wg2TNPrraaVVjX4Fv3","AttrMgr",void 0);t("AttrMgr",function(){function t(){this.buffAddPetAtkSpeedTime=0,this.buffAddTowerAtkSpeedTime=0}return t.prototype.update=function(t){this.buffAddPetAtkSpeedTime>0&&(this.buffAddPetAtkSpeedTime-=t),this.buffAddTowerAtkSpeedTime>0&&(this.buffAddTowerAtkSpeedTime-=t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("AudioConfig",void 0),t._RF.push({},"e31bei3N0RGM7AKRNWa7Ffs","AudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/AudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("AudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffectEx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var n,e,o,u,i,a,r,c;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,i=t.AudioClip,a=t.AudioSource,r=t.Node},function(t){c=t.YT}],execute:function(){u._RF.push({},"e2cb0fmAYhBDbipHv30S3p7","AudioEffectEx",void 0);t("AudioEffectEx",function(){function t(t){this.container=void 0,this._volume=void 0,this._audioMap={},this._audioStatus={},this.container=new r("afx"),t.addChild(this.container),this.volume=1}var u=t.prototype;return u.load=function(){var t=e(o().mark((function t(n,e,u,i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getAudioSource(n,e,u);case 2:(a=t.sent)&&(a.volume=i||this.volume,a.play());case 4:case"end":return t.stop()}}),t,this)})));return function(n,e,o,u){return t.apply(this,arguments)}}(),u._getAudioSource=function(t,n,e){var o=this,u=n+"."+t;return new Promise((function(r){if(1==o._audioStatus[u])r(null);else{var s=o._audioMap[u];s||(s=o._audioMap[u]=[],o._audioStatus[u]=1);var l=null,f=0,p=s.length;for(f=0;f<p;++f)if(!s[f].playing){l=s[f];break}l?r(l):e>0&&s.length>=e?r(null):c.res.load(t,n,i,null,(function(t){t?((l=o.container.addComponent(a)).loop=!1,l.volume=o.volume,l.playOnAwake=!1,l.clip=t,o._audioMap[u].push(l),o._audioStatus[u]=2,r(l)):r(null)}))}}))},u.stop=function(){},u.play=function(){},u.pause=function(){},n(t,[{key:"volume",get:function(){return this._volume},set:function(t){this._volume=t}}]),t}());u._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeSpiritGameConst.ts","./CommonSaveData.ts","./YT.ts","./util2.ts"],(function(n){var t,e,i,o,a,s,u,r,c,f;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,i=n.AudioSource,o=n.Node,a=n.isValid,s=n.AssetManager},function(n){u=n.TreeSpiritGameConst},function(n){r=n.CommonSaveData},function(n){c=n.YT},function(n){f=n.updater}],execute:function(){e._RF.push({},"531d0MNFqZJ9J12xYglUie2","AudioManager",void 0),n("default",function(){var n=e.prototype;function e(){var n=this;if(this.bgm=void 0,this.effectMap={},this.frameMap={},window.cc){var t=window.cc.AudioPlayer;t&&(t.maxAudioChannel=40)}f((function(){n.frameMap={}}),.1)}return n.updateSettings=function(){this.bgm&&(this.bgm.getComponent(i).volume=r.instance.musicVolume)},n.clear=function(){this.bgm&&(this.bgm.destroy(),this.bgm=null)},n.playMusic=function(n){var t=this;if(this.bgmOn){this.bgm&&(this.bgm.destroy(),this.bgm=null);var e=new o;e.parent=this.node;var a=e.addComponent(i);a.loop=!0;var s=r.instance.isMusicOn?1:0;a.volume=r.instance.musicVolume*s,a.playOnAwake=!0,this.bgm=e,this.bundle.load("/audio/"+n,(function(n,e){n&&console.error(n),t.node.active&&(a.clip=e,a.play())}))}},n.playEffect=function(n){var t,e=this;if(n&&this.sfxOn&&!this.frameMap[n]){var a;if(this.frameMap[n]=!0,(t=this.effectMap)[n]||(t[n]=[]),this.effectMap[n].length>5)null==(a=this.effectMap[n].shift())||a.destroy();var s=new o;s.parent=this.node;var u=s.addComponent(i);u.loop=!1;var c=r.instance.isSoundOn?1:0;u.volume=r.instance.soundVolume*c,u.playOnAwake=!0,this.effectMap[n].push(s),this.bundle.load("/audio/"+n,(function(t,o){t&&console.error(t),s.active&&(u.clip=o,u.play(),u.node.on(i.EventType.ENDED,(function(){s.destroy(),e.effectMap[n].splice(e.effectMap[n].indexOf(s),1)})))}))}},n.playLastEffect=function(n){if(!this.sfxOn)return null;var t=new o;t.parent=this.node;var e=t.addComponent(i);e.loop=!0;var s=r.instance.isSoundOn?1:0;return e.volume=r.instance.soundVolume*s,e.playOnAwake=!0,this.bundle.load("/audio/"+n,(function(n,i){n&&console.error(n),a(t)&&(e.clip=i,e.play())})),e},n.vibrate=function(n){return void 0===n&&(n=!1),c.game.vibrate(n)},t(e,[{key:"node",get:function(){return c.audio.node}},{key:"sfxOn",get:function(){return r.instance.isSoundOn}},{key:"bgmOn",get:function(){return r.instance.isMusicOn}},{key:"bundle",get:function(){return s.instance.getBundle(u.data.UIPackage)}}],[{key:"inst",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonSaveData.ts","./YT.ts","./util3.ts"],(function(n){var t,e,i,o,a,s,u,c;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,i=n.AudioSource,o=n.Node,a=n.AssetManager},function(n){s=n.CommonSaveData},function(n){u=n.YT},function(n){c=n.updater}],execute:function(){e._RF.push({},"e6487EM6N9Bc6zAmKcfqYHL","AudioManager",void 0),n("default",function(){var n=e.prototype;function e(){var n=this;if(this.bgm=void 0,this.effectMap={},this.frameMap={},window.cc){var t=window.cc.AudioPlayer;t&&(t.maxAudioChannel=40)}c((function(){n.frameMap={}}),.1)}return n.updateSettings=function(){this.bgm&&(this.bgm.getComponent(i).volume=s.instance.musicVolume)},n.clear=function(){this.bgm&&(this.bgm.destroy(),this.bgm=null)},n.playMusic=function(n){var t=this;if(this.bgmOn){var e=new o;e.parent=this.node;var a=e.addComponent(i);a.loop=!0;var u=s.instance.isMusicOn?1:0;a.volume=s.instance.musicVolume*u,a.playOnAwake=!0,this.bgm=e,this.bundle.load("/audio/"+n,(function(n,e){n&&console.error(n),t.node.active&&(a.clip=e,a.play())}))}},n.playEffect=function(n){var t,e=this;if(n&&this.sfxOn&&!this.frameMap[n]){if(this.frameMap[n]=!0,(t=this.effectMap)[n]||(t[n]=[]),this.effectMap[n].length>5){var a=this.effectMap[n].shift().getComponent(i);a.stop(),a.clip=null}var u,c;u?c=u.getComponent(i):((u=new o).parent=this.node,(c=u.addComponent(i)).loop=!1);var r=s.instance.isSoundOn?1:0;c.volume=s.instance.soundVolume*r,this.effectMap[n].push(u),this.bundle.load("/audio/"+n,(function(t,o){t&&console.error(t),u.active&&(c.clip=o,c.play(),c.node.on(i.EventType.ENDED,(function(){c.clip=null,c.node.destroy(),e.effectMap[n].splice(e.effectMap[n].indexOf(u),1)})))}))}},n.playLastEffect=function(n){var t=this;if(!this.sfxOn)return null;var e=new o;e.parent=this.node;var a=e.addComponent(i);a.loop=!0;var u=s.instance.isSoundOn?1:0;return a.volume=s.instance.soundVolume*u,a.playOnAwake=!0,this.bundle.load("/audio/"+n,(function(n,e){n&&console.error(n),t.node.active&&(a.clip=e,a.play())})),a},n.vibrate=function(n){return void 0===n&&(n=!1),u.game.vibrate(n)},t(e,[{key:"node",get:function(){return u.audio.node}},{key:"sfxOn",get:function(){return s.instance.isSoundOn}},{key:"bgmOn",get:function(){return s.instance.isMusicOn}},{key:"bundle",get:function(){return a.instance.getBundle("shoudaqiao")}}],[{key:"inst",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonSaveData.ts","./YT.ts","./util22.ts"],(function(n){var t,e,i,o,a,s,u,c;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,i=n.AudioSource,o=n.Node,a=n.AssetManager},function(n){s=n.CommonSaveData},function(n){u=n.YT},function(n){c=n.updater}],execute:function(){e._RF.push({},"783b7BNoZlH6aTYEgiFuFNa","AudioManager2",void 0),n("default",function(){var n=e.prototype;function e(){var n=this;if(this.bgm=void 0,this.effectMap={},this.frameMap={},window.cc){var t=window.cc.AudioPlayer;t&&(t.maxAudioChannel=40)}c((function(){n.frameMap={}}),.1)}return n.updateSettings=function(){this.bgm&&(this.bgm.getComponent(i).volume=s.instance.musicVolume)},n.clear=function(){this.bgm&&(this.bgm.destroy(),this.bgm=null)},n.playMusic=function(n){var t=this;if(this.bgmOn){var e=new o;e.parent=this.node;var a=e.addComponent(i);a.loop=!0;var u=s.instance.isMusicOn?1:0;a.volume=s.instance.musicVolume*u,a.playOnAwake=!0,this.bgm=e,this.bundle.load("/audio/"+n,(function(n,e){n&&console.error(n),t.node.active&&(a.clip=e,a.play())}))}},n.playEffect=function(n){var t,e=this;if(n&&this.sfxOn&&!this.frameMap[n]){if(this.frameMap[n]=!0,(t=this.effectMap)[n]||(t[n]=[]),this.effectMap[n].length>5){var a=this.effectMap[n].shift().getComponent(i);a.stop(),a.clip=null}var u,c;u?c=u.getComponent(i):((u=new o).parent=this.node,(c=u.addComponent(i)).loop=!1);var r=s.instance.isSoundOn?1:0;c.volume=s.instance.soundVolume*r,this.effectMap[n].push(u),this.bundle.load("/audio/"+n,(function(t,o){t&&console.error(t),u.active&&(c.clip=o,c.play(),c.node.on(i.EventType.ENDED,(function(){c.clip=null,c.node.destroy(),e.effectMap[n].splice(e.effectMap[n].indexOf(u),1)})))}))}},n.playLastEffect=function(n){var t=this;if(!this.sfxOn)return null;var e=new o;e.parent=this.node;var a=e.addComponent(i);a.loop=!0;var u=s.instance.isSoundOn?1:0;return a.volume=s.instance.soundVolume*u,a.playOnAwake=!0,this.bundle.load("/audio/"+n,(function(n,e){n&&console.error(n),t.node.active&&(a.clip=e,a.play())})),a},n.vibrate=function(n){return void 0===n&&(n=!1),u.game.vibrate(n)},t(e,[{key:"node",get:function(){return u.audio.node}},{key:"sfxOn",get:function(){return s.instance.isSoundOn}},{key:"bgmOn",get:function(){return s.instance.isMusicOn}},{key:"bundle",get:function(){return a.instance.getBundle("shoudaqiao_2")}}],[{key:"inst",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMusic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var s,e,i,n,o,a,u;return{setters:[function(t){s=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,n=t._decorator,o=t.AudioClip,a=t.AudioSource},function(t){u=t.YT}],execute:function(){var r;i._RF.push({},"5c1f3kqGetBiIv48/CvuaQv","AudioMusic",void 0);var l=n.ccclass,_=(n.menu,function(t){return t[t.None=0]="None",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded",t[t.Release=3]="Release",t}(_||{})),h=function(){function t(){this._path=null,this._bundle=null}var s=t.prototype;return s.isSame=function(t,s){return this._path==t&&this._bundle==s},s.init=function(t,s){this._path=t,this._bundle=s},s.cloneTo=function(t){t._path=this._path,t._bundle=this._bundle},s.clear=function(){this._path=null,this._bundle=null},s.release=function(){this._path&&this._bundle&&(u.res.release(this._path,this._bundle),this._path=null,this._bundle=null)},t}(),c=t("event_bgm_loaded","yt.__event_bgm_loaded__");t("AudioMusic",l("AudioMusic")(r=function(t){function i(){for(var s,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(s=t.call.apply(t,[this].concat(i))||this)._progress=0,s._current=new h,s._loading=new h,s._isPausing=!1,s._status=_.None,s}s(i,t);var n=i.prototype;return n.load=function(t,s){if(!(this._status==_.Loaded&&this._current.isSame(t,s)||this._status==_.Loading&&this._loading.isSame(t,s))){this._loading.init(t,s),this._status=_.Loading;var e=this;u.res.load(t,s,o,null,(function(i){e._status!=_.Release&&(e._current.isSame(t,s)||e.stop(),e._loading.isSame(t,s)?(e.loop=!0,e.clip=i,u.message.dispatchEvent(c,e),e._status=_.Loaded,e._doPlay(),e._loading.cloneTo(e._current),e._loading.clear()):u.res.release(t))}))}},n.release=function(){this._current.release(),this._status=_.Release},n.resume=function(){this._isPausing=!1,this._doPlay()},n.pause=function(){this._isPausing=!0,this._status==_.Loaded&&t.prototype.pause.call(this)},n.onDisable=function(){},n.stop=function(){this._status=_.None,t.prototype.stop.call(this),this.release(),this.enabled=!1,this._isPausing=!1},n._doPlay=function(){this._status!=_.Loaded||this._isPausing||this.play()},e(i,[{key:"progress",get:function(){return this.duration>0&&(this._progress=this.currentTime/this.duration),this._progress},set:function(t){this._progress=t,this.currentTime=t*this.duration}}]),i}(a))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/AutoAnimCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,e,o,r,a,u,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,u=n.Animation,p=n.Component}],execute:function(){var c,l,s,m,f,y;r._RF.push({},"35628uuhqtN2bs/zvuI+M5f","AutoAnimCmp",void 0);var h=a.ccclass,A=a.property,v=a.requireComponent;n("AutoAnimCmp",(c=h("AutoAnimCmp"),l=v(u),s=A({displayName:"动画",type:u}),c(m=l((y=t((f=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,e(t,"anim",y,o(t)),t}i(t,n);var r=t.prototype;return r.onEnable=function(){this.anim.play()},r.onDisable=function(){this.anim.stop()},t}(p)).prototype,"anim",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f))||m)||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/AutoConfigSetter.ts",["cc","./ConfigManager.ts","./AudioConfig.ts","./BoxConfig.ts","./BuildsConfig.ts","./BulletConfig.ts","./CardsConfig.ts","./CardConfig.ts","./EffectConfig.ts","./EquipConfig.ts","./ExpConfig.ts","./G11BoxConfig.ts","./G11Const.ts","./G11EmitterConfig.ts","./G11LevelConfig.ts","./G11MonsterConfig.ts","./G11RefreshConfig.ts","./G11SkillConfig.ts","./G11WeaponConfig.ts","./G12LevelConfig.ts","./G13LevelConfig.ts","./GameConfig.ts","./GameConst.ts","./GoodsConfig.ts","./HeroConfig.ts","./ItemConfig.ts","./LevelConfig.ts","./ModuleConfig.ts","./MonsterConfig.ts","./PackAnimConfig.ts","./PackBagConfig.ts","./PackBagItemConfig.ts","./PackEnemyConfig.ts","./PackGameConst.ts","./PackLevelConfig.ts","./PackMergeConfig.ts","./PindaoBulletConfig.ts","./PindaoGameConst.ts","./PindaoLevelConfig.ts","./PindaoQuestConfig.ts","./PindaoRoleConfig.ts","./PindaoTalentConfig.ts","./QjcjAudioConfig.ts","./QjcjEnemyConfig.ts","./QjcjLevelConfig.ts","./QjcjRoleConfig.ts","./QjcjSpawnConfig.ts","./RewardConfig.ts","./RoleAtkConfig.ts","./RoleCampConfig.ts","./RoleLevelConfig.ts","./SampleConfig.ts","./SdmAudioConfig.ts","./SdmConst.ts","./SdmCostConfig.ts","./SdmEffectConfig.ts","./SdmEnemyConfig.ts","./SdmGenConfig.ts","./SdmItemConfig.ts","./SdmLevelConfig.ts","./SdmRandom2Config.ts","./SdmRandomConfig.ts","./SdmShopItemConfig.ts","./SdmWaveConfig.ts","./SzAudioConfig.ts","./SzConst.ts","./SzDiceConfig.ts","./SzEffectConfig.ts","./SzEnemyConfig.ts","./SzLevelConfig.ts","./SzTypesConfig.ts","./DragonLevelConfig.ts","./ShoudaqiaoBottleConfig.ts","./ShoudaqiaoBottleConfigPlayer.ts","./ShoudaqiaoBulletConfig.ts","./ShoudaqiaoBulletConfigPlayer2.ts","./ShoudaqiaoChestConfig2.ts","./ShoudaqiaoDragonConfig2.ts","./ShoudaqiaoGameConst.ts","./ShoudaqiaoLevelConfig2.ts","./ShoudaqiaoTalentConfig.ts","./DragonLevelConfig2.ts","./ShoudaqiaoBeginPanelConfig.ts","./ShoudaqiaoBottleConfig2.ts","./ShoudaqiaoBottleConfigPlayer2.ts","./ShoudaqiaoBulletConfig2.ts","./ShoudaqiaoBulletConfigPlayer.ts","./ShoudaqiaoChestConfig.ts","./ShoudaqiaoDragonConfig.ts","./ShoudaqiaoGameConst2.ts","./ShoudaqiaoLevelConfig.ts","./ShoudaqiaoTalentConfig2.ts","./SubGameConfig.ts","./ZzlAudioConfig.ts","./ZzlBoxConfig.ts","./ZzlDragonConfig.ts","./ZzlGameConst.ts","./ZzlLevelConfig.ts","./ZzlWeaponConfig.ts","./TfBuildingConfig.ts","./TfEnemyWaveConfig.ts","./TfEntityConfig.ts","./TfLevelConfig.ts","./TfConst.ts","./TpEnemyWaveConfig.ts","./TpEnemyConfig.ts","./TpEntityConfig.ts","./TpLevelConfig.ts","./TpShopItemConfig.ts","./TpSkillConfig.ts","./TpConst.ts","./TaskConfig.ts","./TjsbLevelConfig.ts","./TreeSpiritActionConfig.ts","./TreeSpiritBulletConfig.ts","./TreeSpiritConfig.ts","./TreeSpiritEnemyConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritLevelConfig.ts","./TreeSpiritSpawnConfig.ts","./TreeSpiritTalentConfig.ts","./TreeSpiritWaveConfig.ts","./TurnRewardConfig.ts","./ViewsConfig.ts","./WaveConfig.ts","./WordsConfig.ts","./WkAudioConfig.ts","./WkDoorConfig.ts","./WkEffectConfig.ts","./WkEmiterConfig.ts","./WkEnemyConfig.ts","./WkGameConst.ts","./WkLevelConfig.ts","./WkRewardConfig.ts","./WkRoleConfig.ts","./ZdAudioConfig5.ts","./ZdBarrierConfig2.ts","./ZdBulletConfig4.ts","./ZdHeroConfig5.ts","./ZdLevelConfig4.ts","./ZdMapConfig4.ts","./ZdMonsterConfig4.ts","./ZdPropConfig3.ts","./ZdShopConfig3.ts","./ZdTowerConfig5.ts","./ZdWeaponConfig.ts","./ZdhcEnemyConfig.ts","./ZdhcGoldWaveConfig.ts","./ZdhcHeroConfig.ts","./ZdhcKnifeConfig.ts","./ZdhcLevelConfig.ts","./ZdhcWaveConfig.ts","./ZdAudioConfig.ts","./ZdBarrierConfig4.ts","./ZdBulletConfig3.ts","./ZdHeroConfig3.ts","./ZdLevelConfig5.ts","./ZdMapConfig5.ts","./ZdMonsterConfig.ts","./ZdPropConfig5.ts","./ZdShopConfig.ts","./ZdTowerConfig2.ts","./ZdWeaponConfig3.ts","./ZdAinameConfig2.ts","./ZdAudioConfig4.ts","./ZdBarrierConfig.ts","./ZdBulletConfig.ts","./ZdHeroConfig.ts","./ZdLevelConfig.ts","./ZdMapConfig3.ts","./ZdMonsterConfig3.ts","./ZdPropConfig4.ts","./ZdShopConfig4.ts","./ZdTowerConfig4.ts","./ZdWave2.ts","./ZdWeaponConfig5.ts","./ZdAudioConfig2.ts","./ZdBarrierConfig3.ts","./ZdBuffConfig.ts","./ZdBulletConfig5.ts","./ZdHeroConfig2.ts","./ZdLevelConfig3.ts","./ZdMapConfig2.ts","./ZdMonsterConfig2.ts","./ZdPropConfig.ts","./ZdShopConfig2.ts","./ZdTowerConfig3.ts","./ZdWave.ts","./ZdWeaponConfig2.ts","./ZdAudioConfig3.ts","./ZdBarrierConfig5.ts","./ZdBulletConfig2.ts","./ZdHeroConfig4.ts","./ZdLevelConfig2.ts","./ZdMapConfig.ts","./ZdMonsterConfig5.ts","./ZdPropConfig2.ts","./ZdShopConfig5.ts","./ZdSpawnConfig.ts","./ZdTowerConfig.ts","./ZdWeaponConfig4.ts"],(function(n){var o,i,f,d,g,C,t,e,u,a,s,c,A,r,l,Z,S,p,h,m,v,T,k,B,z,L,W,q,G,P,E,y,b,j,M,w,R,_,H,D,Q,x,I,K,F,V,X,Y,J,N,O,U,$,nn,on,fn,dn,gn,Cn,tn,en,un,an,sn,cn,An,rn,ln,Zn,Sn,pn,hn,mn,vn,Tn,kn,Bn,zn,Ln,Wn,qn,Gn,Pn,En,yn,bn,jn,Mn,wn,Rn,_n,Hn,Dn,Qn,xn,In,Kn,Fn,Vn,Xn,Yn,Jn,Nn,On,Un,$n,no,oo,io,fo,go,Co,to,eo,uo,ao,so,co,Ao,ro,lo,Zo,So,po,ho,mo,vo,To,ko,Bo,zo,Lo,Wo,qo,Go,Po,Eo,yo,bo,jo,Mo,wo,Ro,_o,Ho,Do,Qo,xo,Io,Ko,Fo,Vo,Xo,Yo,Jo,No,Oo,Uo,$o,ni,oi,ii,fi,di,gi,Ci,ti,ei,ui,ai,si,ci,Ai,ri,li,Zi,Si,pi,hi,mi,vi,Ti,ki,Bi,zi,Li,Wi,qi,Gi,Pi,Ei,yi,bi,ji,Mi,wi,Ri,_i,Hi,Di,Qi;return{setters:[function(n){o=n.cclegacy},function(n){i=n.ConfigManager},function(n){f=n.AudioConfig},function(n){d=n.BoxConfig},function(n){g=n.BuildsConfig},function(n){C=n.BulletConfig},function(n){t=n.CardsConfig},function(n){e=n.CardConfig},function(n){u=n.EffectConfig},function(n){a=n.EquipConfig},function(n){s=n.ExpConfig},function(n){c=n.G11BoxConfig},function(n){A=n.G11Const},function(n){r=n.G11EmitterConfig},function(n){l=n.G11LevelConfig},function(n){Z=n.G11MonsterConfig},function(n){S=n.G11RefreshConfig},function(n){p=n.G11SkillConfig},function(n){h=n.G11WeaponConfig},function(n){m=n.G12LevelConfig},function(n){v=n.G13LevelConfig},function(n){T=n.GameConfig},function(n){k=n.GameConst},function(n){B=n.GoodsConfig},function(n){z=n.HeroConfig},function(n){L=n.ItemConfig},function(n){W=n.LevelConfig},function(n){q=n.ModuleConfig},function(n){G=n.MonsterConfig},function(n){P=n.PackAnimConfig},function(n){E=n.PackBagConfig},function(n){y=n.PackBagItemConfig},function(n){b=n.PackEnemyConfig},function(n){j=n.PackGameConst},function(n){M=n.PackLevelConfig},function(n){w=n.PackMergeConfig},function(n){R=n.PindaoBulletConfig},function(n){_=n.PindaoGameConst},function(n){H=n.PindaoLevelConfig},function(n){D=n.PindaoQuestConfig},function(n){Q=n.PindaoRoleConfig},function(n){x=n.PindaoTalentConfig},function(n){I=n.QjcjAudioConfig},function(n){K=n.QjcjEnemyConfig},function(n){F=n.QjcjLevelConfig},function(n){V=n.QjcjRoleConfig},function(n){X=n.QjcjSpawnConfig},function(n){Y=n.RewardConfig},function(n){J=n.RoleAtkConfig},function(n){N=n.RoleCampConfig},function(n){O=n.RoleLevelConfig},function(n){U=n.SampleConfig},function(n){$=n.SdmAudioConfig},function(n){nn=n.SdmConst},function(n){on=n.SdmCostConfig},function(n){fn=n.SdmEffectConfig},function(n){dn=n.SdmEnemyConfig},function(n){gn=n.SdmGenConfig},function(n){Cn=n.SdmItemConfig},function(n){tn=n.SdmLevelConfig},function(n){en=n.SdmRandom2Config},function(n){un=n.SdmRandomConfig},function(n){an=n.SdmShopItemConfig},function(n){sn=n.SdmWaveConfig},function(n){cn=n.SzAudioConfig},function(n){An=n.SzConst},function(n){rn=n.SzDiceConfig},function(n){ln=n.SzEffectConfig},function(n){Zn=n.SzEnemyConfig},function(n){Sn=n.SzLevelConfig},function(n){pn=n.SzTypesConfig},function(n){hn=n.DragonLevelConfig},function(n){mn=n.ShoudaqiaoBottleConfig},function(n){vn=n.ShoudaqiaoBottleConfigPlayer},function(n){Tn=n.ShoudaqiaoBulletConfig},function(n){kn=n.ShoudaqiaoBulletConfigPlayer},function(n){Bn=n.ShoudaqiaoChestConfig},function(n){zn=n.ShoudaqiaoDragonConfig},function(n){Ln=n.ShoudaqiaoGameConst},function(n){Wn=n.ShoudaqiaoLevelConfig},function(n){qn=n.ShoudaqiaoTalentConfig},function(n){Gn=n.DragonLevelConfig},function(n){Pn=n.ShoudaqiaoBeginPanelConfig},function(n){En=n.ShoudaqiaoBottleConfig},function(n){yn=n.ShoudaqiaoBottleConfigPlayer},function(n){bn=n.ShoudaqiaoBulletConfig},function(n){jn=n.ShoudaqiaoBulletConfigPlayer},function(n){Mn=n.ShoudaqiaoChestConfig},function(n){wn=n.ShoudaqiaoDragonConfig},function(n){Rn=n.ShoudaqiaoGameConst},function(n){_n=n.ShoudaqiaoLevelConfig},function(n){Hn=n.ShoudaqiaoTalentConfig},function(n){Dn=n.SubGameConfig},function(n){Qn=n.ZzlAudioConfig},function(n){xn=n.ZzlBoxConfig},function(n){In=n.ZzlDragonConfig},function(n){Kn=n.ZzlGameConst},function(n){Fn=n.ZzlLevelConfig},function(n){Vn=n.ZzlWeaponConfig},function(n){Xn=n.TfBuildingConfig},function(n){Yn=n.TfEnemyWaveConfig},function(n){Jn=n.TfEntityConfig},function(n){Nn=n.TfLevelConfig},function(n){On=n.TfConst},function(n){Un=n.TpEnemyWaveConfig},function(n){$n=n.TpEnemyConfig},function(n){no=n.TpEntityConfig},function(n){oo=n.TpLevelConfig},function(n){io=n.TpShopItemConfig},function(n){fo=n.TpSkillConfig},function(n){go=n.TpConst},function(n){Co=n.TaskConfig},function(n){to=n.TjsbLevelConfig},function(n){eo=n.TreeSpiritActionConfig},function(n){uo=n.TreeSpiritBulletConfig},function(n){ao=n.TreeSpiritConfig},function(n){so=n.TreeSpiritEnemyConfig},function(n){co=n.TreeSpiritGameConst},function(n){Ao=n.TreeSpiritLevelConfig},function(n){ro=n.TreeSpiritSpawnConfig},function(n){lo=n.TreeSpiritTalentConfig},function(n){Zo=n.TreeSpiritWaveConfig},function(n){So=n.TurnRewardConfig},function(n){po=n.ViewsConfig},function(n){ho=n.WaveConfig},function(n){mo=n.WordsConfig},function(n){vo=n.WkAudioConfig},function(n){To=n.WkDoorConfig},function(n){ko=n.WkEffectConfig},function(n){Bo=n.WkEmiterConfig},function(n){zo=n.WkEnemyConfig},function(n){Lo=n.WkGameConst},function(n){Wo=n.WkLevelConfig},function(n){qo=n.WkRewardConfig},function(n){Go=n.WkRoleConfig},function(n){Po=n.ZdAudioConfig},function(n){Eo=n.ZdBarrierConfig},function(n){yo=n.ZdBulletConfig},function(n){bo=n.ZdHeroConfig},function(n){jo=n.ZdLevelConfig},function(n){Mo=n.ZdMapConfig},function(n){wo=n.ZdMonsterConfig},function(n){Ro=n.ZdPropConfig},function(n){_o=n.ZdShopConfig},function(n){Ho=n.ZdTowerConfig},function(n){Do=n.ZdWeaponConfig},function(n){Qo=n.ZdhcEnemyConfig},function(n){xo=n.ZdhcGoldWaveConfig},function(n){Io=n.ZdhcHeroConfig},function(n){Ko=n.ZdhcKnifeConfig},function(n){Fo=n.ZdhcLevelConfig},function(n){Vo=n.ZdhcWaveConfig},function(n){Xo=n.ZdAudioConfig},function(n){Yo=n.ZdBarrierConfig},function(n){Jo=n.ZdBulletConfig},function(n){No=n.ZdHeroConfig},function(n){Oo=n.ZdLevelConfig},function(n){Uo=n.ZdMapConfig},function(n){$o=n.ZdMonsterConfig},function(n){ni=n.ZdPropConfig},function(n){oi=n.ZdShopConfig},function(n){ii=n.ZdTowerConfig},function(n){fi=n.ZdWeaponConfig},function(n){di=n.ZdAinameConfig},function(n){gi=n.ZdAudioConfig},function(n){Ci=n.ZdBarrierConfig},function(n){ti=n.ZdBulletConfig},function(n){ei=n.ZdHeroConfig},function(n){ui=n.ZdLevelConfig},function(n){ai=n.ZdMapConfig},function(n){si=n.ZdMonsterConfig},function(n){ci=n.ZdPropConfig},function(n){Ai=n.ZdShopConfig},function(n){ri=n.ZdTowerConfig},function(n){li=n.ZdWave},function(n){Zi=n.ZdWeaponConfig},function(n){Si=n.ZdAudioConfig},function(n){pi=n.ZdBarrierConfig},function(n){hi=n.ZdBuffConfig},function(n){mi=n.ZdBulletConfig},function(n){vi=n.ZdHeroConfig},function(n){Ti=n.ZdLevelConfig},function(n){ki=n.ZdMapConfig},function(n){Bi=n.ZdMonsterConfig},function(n){zi=n.ZdPropConfig},function(n){Li=n.ZdShopConfig},function(n){Wi=n.ZdTowerConfig},function(n){qi=n.ZdWave},function(n){Gi=n.ZdWeaponConfig},function(n){Pi=n.ZdAudioConfig},function(n){Ei=n.ZdBarrierConfig},function(n){yi=n.ZdBulletConfig},function(n){bi=n.ZdHeroConfig},function(n){ji=n.ZdLevelConfig},function(n){Mi=n.ZdMapConfig},function(n){wi=n.ZdMonsterConfig},function(n){Ri=n.ZdPropConfig},function(n){_i=n.ZdShopConfig},function(n){Hi=n.ZdSpawnConfig},function(n){Di=n.ZdTowerConfig},function(n){Qi=n.ZdWeaponConfig}],execute:function(){o._RF.push({},"2b838wgA3RHYKn/HbXixTmr","AutoConfigSetter",void 0);n("AutoConfigSetter",function(){function n(){}return n.SetConfig=function(n){switch(void 0===n&&(n="resources"),n){case"resources":i.AddConfig(f,n),i.AddConfig(d,n),i.AddConfig(g,n),i.AddConfig(C,n),i.AddConfig(t,n),i.AddConfig(e,n),i.AddConfig(u,n),i.AddConfig(a,n),i.AddConfig(s,n),i.AddConfig(T,n),i.AddConfig(k,n),i.AddConfig(B,n),i.AddConfig(z,n),i.AddConfig(L,n),i.AddConfig(W,n),i.AddConfig(q,n),i.AddConfig(G,n),i.AddConfig(Y,n),i.AddConfig(J,n),i.AddConfig(N,n),i.AddConfig(O,n),i.AddConfig(U,n),i.AddConfig(Dn,n),i.AddConfig(Co,n),i.AddConfig(So,n),i.AddConfig(po,n),i.AddConfig(ho,n),i.AddConfig(mo,n);break;case"game11":i.AddConfig(c,n),i.AddConfig(A,n),i.AddConfig(r,n),i.AddConfig(l,n),i.AddConfig(Z,n),i.AddConfig(S,n),i.AddConfig(p,n),i.AddConfig(h,n),i.AddConfig(m,n),i.AddConfig(v,n);break;case"pack":i.AddConfig(P,n),i.AddConfig(E,n),i.AddConfig(y,n),i.AddConfig(b,n),i.AddConfig(j,n),i.AddConfig(M,n),i.AddConfig(w,n);break;case"pindao":i.AddConfig(R,n),i.AddConfig(_,n),i.AddConfig(H,n),i.AddConfig(D,n),i.AddConfig(Q,n),i.AddConfig(x,n);break;case"qjcj":i.AddConfig(I,n),i.AddConfig(K,n),i.AddConfig(F,n),i.AddConfig(V,n),i.AddConfig(X,n);break;case"sdm":i.AddConfig($,n),i.AddConfig(nn,n),i.AddConfig(on,n),i.AddConfig(fn,n),i.AddConfig(dn,n),i.AddConfig(gn,n),i.AddConfig(Cn,n),i.AddConfig(tn,n),i.AddConfig(en,n),i.AddConfig(un,n),i.AddConfig(an,n),i.AddConfig(sn,n);break;case"shaizi":i.AddConfig(cn,n),i.AddConfig(An,n),i.AddConfig(rn,n),i.AddConfig(ln,n),i.AddConfig(Zn,n),i.AddConfig(Sn,n),i.AddConfig(pn,n);break;case"shoudaqiao":i.AddConfig(hn,n),i.AddConfig(mn,n),i.AddConfig(vn,n),i.AddConfig(Tn,n),i.AddConfig(kn,n),i.AddConfig(Bn,n),i.AddConfig(zn,n),i.AddConfig(Ln,n),i.AddConfig(Wn,n),i.AddConfig(qn,n);break;case"shoudaqiao_2":i.AddConfig(Gn,n),i.AddConfig(Pn,n),i.AddConfig(En,n),i.AddConfig(yn,n),i.AddConfig(bn,n),i.AddConfig(jn,n),i.AddConfig(Mn,n),i.AddConfig(wn,n),i.AddConfig(Rn,n),i.AddConfig(_n,n),i.AddConfig(Hn,n);break;case"sub_zzl":i.AddConfig(Qn,n),i.AddConfig(xn,n),i.AddConfig(In,n),i.AddConfig(Kn,n),i.AddConfig(Fn,n),i.AddConfig(Vn,n);break;case"tafang":i.AddConfig(Xn,n),i.AddConfig(Yn,n),i.AddConfig(Jn,n),i.AddConfig(Nn,n),i.AddConfig(On,n);break;case"tangping":i.AddConfig(Un,n),i.AddConfig($n,n),i.AddConfig(no,n),i.AddConfig(oo,n),i.AddConfig(io,n),i.AddConfig(fo,n),i.AddConfig(go,n);break;case"tjsb":i.AddConfig(to,n);break;case"treeSpirit":i.AddConfig(eo,n),i.AddConfig(uo,n),i.AddConfig(ao,n),i.AddConfig(so,n),i.AddConfig(co,n),i.AddConfig(Ao,n),i.AddConfig(ro,n),i.AddConfig(lo,n),i.AddConfig(Zo,n);break;case"wukong":i.AddConfig(vo,n),i.AddConfig(To,n),i.AddConfig(ko,n),i.AddConfig(Bo,n),i.AddConfig(zo,n),i.AddConfig(Lo,n),i.AddConfig(Wo,n),i.AddConfig(qo,n),i.AddConfig(Go,n);break;case"zhuandao":i.AddConfig(Po,n),i.AddConfig(Eo,n),i.AddConfig(yo,n),i.AddConfig(bo,n),i.AddConfig(jo,n),i.AddConfig(Mo,n),i.AddConfig(wo,n),i.AddConfig(Ro,n),i.AddConfig(_o,n),i.AddConfig(Ho,n),i.AddConfig(Do,n);break;case"zhuandaoHc":i.AddConfig(Qo,n),i.AddConfig(xo,n),i.AddConfig(Io,n),i.AddConfig(Ko,n),i.AddConfig(Fo,n),i.AddConfig(Vo,n);break;case"zhuandao_3":i.AddConfig(Xo,n),i.AddConfig(Yo,n),i.AddConfig(Jo,n),i.AddConfig(No,n),i.AddConfig(Oo,n),i.AddConfig(Uo,n),i.AddConfig($o,n),i.AddConfig(ni,n),i.AddConfig(oi,n),i.AddConfig(ii,n),i.AddConfig(fi,n),i.AddConfig(di,n);break;case"zhuandao_4":i.AddConfig(gi,n),i.AddConfig(Ci,n),i.AddConfig(ti,n),i.AddConfig(ei,n),i.AddConfig(ui,n),i.AddConfig(ai,n),i.AddConfig(si,n),i.AddConfig(ci,n),i.AddConfig(Ai,n),i.AddConfig(ri,n),i.AddConfig(li,n),i.AddConfig(Zi,n);break;case"zhuandao_5":i.AddConfig(Si,n),i.AddConfig(pi,n),i.AddConfig(hi,n),i.AddConfig(mi,n),i.AddConfig(vi,n),i.AddConfig(Ti,n),i.AddConfig(ki,n),i.AddConfig(Bi,n),i.AddConfig(zi,n),i.AddConfig(Li,n),i.AddConfig(Wi,n),i.AddConfig(qi,n),i.AddConfig(Gi,n);break;case"zhuandao_6":i.AddConfig(Pi,n),i.AddConfig(Ei,n),i.AddConfig(yi,n),i.AddConfig(bi,n),i.AddConfig(ji,n),i.AddConfig(Mi,n),i.AddConfig(wi,n),i.AddConfig(Ri,n),i.AddConfig(_i,n),i.AddConfig(Hi,n),i.AddConfig(Di,n),i.AddConfig(Qi,n)}},n}()),n("AutoConfigSetterBundle",function(n){return n.resources="resources",n.game11="game11",n.pack="pack",n.pindao="pindao",n.qjcj="qjcj",n.sdm="sdm",n.shaizi="shaizi",n.shoudaqiao="shoudaqiao",n.shoudaqiao_2="shoudaqiao_2",n.sub_zzl="sub_zzl",n.tafang="tafang",n.tangping="tangping",n.tjsb="tjsb",n.treeSpirit="treeSpirit",n.wukong="wukong",n.zhuandao="zhuandao",n.zhuandaoHc="zhuandaoHc",n.zhuandao_3="zhuandao_3",n.zhuandao_4="zhuandao_4",n.zhuandao_5="zhuandao_5",n.zhuandao_6="zhuandao_6",n}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/AutoSpineCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,a,o,p,l,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,p=e.sp,l=e.CCString,u=e.Component}],execute:function(){var c,s,m,y,f,b,h,C;a._RF.push({},"26c0fy56KtIb7NENb+1NDpa","AutoSpineCmp",void 0);var N=o.ccclass,S=o.property,d=o.requireComponent;e("AutoSpineCmp",(c=N("AutoSpineCmp"),s=d(p.Skeleton),m=S({displayName:"动画",type:p.Skeleton}),y=S({displayName:"动画名",type:l}),c(f=s((h=n((b=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,t(n,"anim",h,r(n)),t(n,"animName",C,r(n)),n}i(n,e);var a=n.prototype;return a.onEnable=function(){this.anim.setAnimation(0,this.animName,!1)},a.onDisable=function(){},n}(u)).prototype,"anim",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(b.prototype,"animName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=b))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/Awaiters.ts",["cc"],(function(n){var t,e;return{setters:[function(n){t=n.cclegacy,e=n.Animation}],execute:function(){t._RF.push({},"f8c41V0bk1OgL9Un64uCqFk","Awaiters",void 0);n("Awaiters",function(){function n(){}return n.NextFrame=function(){return this.Frames(1)},n.Frames=function(n){return new Promise((function(t){setTimeout((function(){t()}),16*n)}))},n.Seconds=function(n){return new Promise((function(t){setTimeout((function(){t()}),1e3*n)}))},n.OnAnimEnd=function(n,t){var i=this;if(n.enabledInHierarchy)return new Promise((function(r){n.once(e.EventType.FINISHED,(function(){r()}),i),n.play(t)}))},n.OnUIAnimEnd=function(n){return new Promise((function(t){n?n.play((function(){t()})):t()}))},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/BagManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PackBagItemConfig.ts","./PackMergeConfig.ts","./util.ts","./GameBagHolder.ts","./GameBagItem.ts","./GameBagOption.ts","./GameBagPack.ts","./GameBagSlot.ts","./PackGame.ts","./PackView.ts"],(function(t){var e,i,n,o,s,a,r,c,u,h,g,f,p,l;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.PackBagItemConfig},function(t){o=t.PackMergeConfig},function(t){s=t.default,a=t.repeat,r=t.vec2},function(t){c=t.default},function(t){u=t.default},function(t){h=t.default},function(t){g=t.default},function(t){f=t.E_BagSlotState},function(t){p=t.default},function(t){l=t.PackView}],execute:function(){i._RF.push({},"bb131Df9OxGt77WoXARqqiG","BagManager",void 0);var m=0,d=1,v=8;t("default",function(){function t(){this.pack=void 0,this.option=void 0,this.holder=void 0,this.items=[],this.mergeTargets=[],this.moveSlots=!0,this.showingHelp=!1,this.lv3RateMul=1}var i=t.prototype;return i.init=function(){this.pack=new g,this.pack.bindView(this.ui.m_pack),this.option=new h,this.option.bindView(this.ui.m_option),this.holder=new c},i.clear=function(){[].concat(this.items).forEach((function(t){return t.dispose()})),this.pack&&(this.pack.dispose(),this.pack=null),this.items.length=0,this.option=null,this.holder&&(this.holder.dispose(),this.holder=null)},i.createItem=function(t){var e=new u(t);return this.items.push(e),e},i.createSlotItem=function(t){var e=new u(null,t);return this.items.push(e),e},i.createOption=function(t){var e;e=t.merge?this.createItem(t.merge):this.createSlotItem(t.slot),t.isAD&&e.addAD(),this.uninstallItem(e)},i.createOptionByID=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),e?this.createOption({slot:n.data[t],isAD:i}):this.createOption({merge:o.data[t],isAD:i}),this.option.updatePosition(!0)},i.createOptions=function(){var t=this,e=s.pickRandomByArrWeight(this.game.waveConfig.option_count,this.game.waveConfig.count_weight);[].concat(this.option.items).forEach((function(e){return t.removeItem(e)})),this.getRefreshOption(e).forEach((function(e){return t.createOption(e)})),this.option.updatePosition(!1),this.save(),this.checkMergeCandidates()},i.createSlot1Option=function(t){var e=this,i=n.dataList.find((function(t){return"x"===t.shape}));a(t,(function(){e.createOption({isAD:!1,slot:i})})),this.option.updatePosition(!1),this.save()},i.installItem=function(t){this.pack.addItem(t),this.option.removeItem(t)},i.uninstallItem=function(t){this.pack.removeItem(t),this.option.addItem(t)},i.removeItem=function(t){this.pack.removeItem(t),this.option.removeItem(t);var e=this.items.indexOf(t);-1!==e&&this.items.splice(e,1),t.dispose()},i.upgradeItem=function(t,e){var i=r(t),n=this.pack.items.includes(t);this.removeItem(t);var o=this.createItem(e);return o.view.setPosition(i.x,i.y),n?this.installItem(o):this.uninstallItem(o),this.option.updatePosition(!0),o},i.setMergeTarget=function(t){var e=this;this.clearMergeTarget(),t.forEach((function(t){return e.mergeTargets.push(t)})),this.mergeTargets.forEach((function(t){return t.popup(!0)}))},i.clearMergeTarget=function(){var t=[].concat(this.mergeTargets);return this.mergeTargets.forEach((function(t){return t.popup(!1)})),this.mergeTargets.length=0,t},i.checkLv4Merge=function(){var t=this.items.find((function(t){return t.canUpgradeSP()}));if(t){var e=this.items.find((function(e){return e.canUpgradeSP()&&e!==t&&e.mergeConfig.bag_item===t.mergeConfig.bag_item}));return t&&e?[t,e]:void 0}},i.showMergeHelp=function(t,e){this.showingHelp=!0},i.hideMergeHelp=function(){this.showingHelp&&(this.showingHelp=!1)},i.intoGridEditMode=function(){this.option.items.forEach((function(t){t.isSlot||(t.view.touchable=!1)})),this.holder.bindItems()},i.outofGridEditMode=function(t){0===t?this.ui.m_grid_edit.selectedIndex=0:1===t&&this.items.forEach((function(t){t.view.touchable=!0}))},i.save=function(){var t=this;if(!this.pack.opened){var e={width:this.config.width,height:this.config.height,cellSize:this.config.cellSize,gap:this.config.gap,slot:[],pack:[],neibs:[],option:[],loc:[]};this.pack.items.forEach((function(i){e.pack.push(i.mergeConfig.id);var n=t.pack.getRelativeItemLoc(i);e.loc.push([n.x,n.y]);var o=t.pack.getNeibItems(i).map((function(e){return t.pack.items.indexOf(e)}));e.neibs.push(o)})),this.option.items.forEach((function(t){var i={ad:t.isAD,slot:null,merge:null};t.isSlot?i.slot=t.config.id:i.merge=t.mergeConfig.id,e.option.push(i)})),this.pack.tiles.forEach((function(t){var i=v;t.state===f.unlock?i=d:t.state===f.lock&&(i=m),e.slot.push(i)})),this.runtime.bag=e}},i.load=function(){var t=this;this.config.option.forEach((function(e){e.merge?t.createOption({merge:o.data[e.merge],isAD:e.ad}):t.createOption({slot:n.data[e.slot],isAD:e.ad})})),this.config.pack.forEach((function(e,i){var n=t.createItem(o.data[e]),s=t.config.loc[i];t.pack.setRelativeItemLoc(n,s[0],s[1]),t.installItem(n)})),this.option.updatePosition(!1),this.updateBagState()},i.updateBagState=function(){},i.getRefreshOption=function(t){var e=this,i=[];return a(t,(function(){var t=s.pickRandomByArrWeight(e.game.waveConfig.equip_level,e.game.waveConfig.equip_weight),n=e.getMergeOption(e.getRoleOption(),t);i.push({merge:n,isAD:!1})})),i},i.getMergeOption=function(t,e){var i=o.dataList.filter((function(i){return i.bag_item===t.id&&i.level===e}));return s.pickRandom(i)},i.getRoleOption=function(){var t=n.dataList;return s.pickRandom(t)},i.checkMergeCandidates=function(t){if(!t||!t.isSlot){this.items.forEach((function(t){return t.rotate(!1)}));var e={};this.items.forEach((function(i){i.isSlot||t&&i.mergeConfig.id!=t.mergeConfig.id||5!=i.mergeConfig.level&&(e[i.mergeConfig.id]||(e[i.mergeConfig.id]=[]),e[i.mergeConfig.id].push(i))})),Object.values(e).forEach((function(t){t.length<2||t.forEach((function(t){t.rotate(!0)}))}))}},e(t,[{key:"ui",get:function(){return l.inst.ui.m_battle.m_bag}},{key:"config",get:function(){return this.game.runtime.bag}},{key:"runtime",get:function(){return this.game.runtime}},{key:"game",get:function(){return p.inst}}],[{key:"inst",get:function(){return this._inst||(this._inst=new t,globalThis.bag=this._inst),this._inst}}]),t}())._inst=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils.ts","./ZDConst.ts","./ZDGameState.ts","./BarrierItemCmp.ts","./RoleShadowCmp.ts"],(function(t){var i,e,n,r,o,s,a,c,h,m,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.ViewUtil},function(t){o=t.ZDResUtils},function(t){s=t.ZD_BUNDLE,a=t.BARRIER_CFG,c=t.ZD_RES_PREFABS},function(t){h=t.ZDGameState},function(t){m=t.BarrierItemCmp},function(t){u=t.RoleShadowCmp}],execute:function(){var p;e._RF.push({},"9c215dYTvVA+IsV61Jq8vin","BarrierCmp",void 0);var l=n.ccclass;n.property,t("BarrierCmp",l("BarrierCmp")(p=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this)._scale=1,i._isHurtView=void 0,i._itemCmp=void 0,i}i(e,t),e.Create=function(){var t=r.createPrefabNode(c.BARRIER_VIEW,s);t.parent=h.runtime.ui.barrierRoot;var i=t.getComponent(e);return i._init(),i};var n=e.prototype;return n._init=function(){},n.setModelView=function(t){this._isHurtView=!1;var i=o.fullBarrierModelRes(t),e=r.createPrefabNode(i,s);this._itemCmp=e.getComponent(m),e.parent=this._viewRoot,this._itemCmp.showNormalFrame()},n.setHurtView=function(){this._isHurtView||this._itemCmp.showHurtFrame()},n.getSize=function(t){var i=this._itemCmp.node.uiTransform.contentSize;t.width=i.width,t.height=i.height},n.showView=function(){t.prototype.showView.call(this),this.node.parent=h.runtime.ui.barrierRoot},n.update=function(t){if(this._scale<1){var i=this._scale+a.HIT_ADD_SCALE;i>1&&(i=1),this._scale=i,this._itemCmp.setIconScale(this._scale)}},n.hitEffect=function(){this._scale<1||(this._scale=a.HIT_SCALE,this._itemCmp.setIconScale(this._scale))},n.dieEffect=function(t){this._itemCmp.haveDieAni()?this._itemCmp.playDieAni(t):null==t||t()},n.birthEffect=function(t){this._itemCmp.haveBirthAni()?this._itemCmp.playBirthAni(t):null==t||t()},n.setHpView=function(t){this._itemCmp&&this._itemCmp.setHpView(t)},n.randomDropPos=function(t){return this._itemCmp.randomDropPos(t)},n.setVisible=function(t){this.node.active=t},n.setModelVisible=function(t){this._viewRoot.active=t},e}(u))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils3.ts","./ZDConst3.ts","./ZDGameState3.ts","./BarrierItemCmp3.ts","./RoleShadowCmp3.ts"],(function(t){var i,e,n,r,s,o,a,c,m,h,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.ViewUtil},function(t){s=t.ZDResUtils3},function(t){o=t.ZD_BUNDLE,a=t.BARRIER_CFG,c=t.ZD_RES_PREFABS},function(t){m=t.ZDGameState3},function(t){h=t.BarrierItemCmp3},function(t){u=t.RoleShadowCmp3}],execute:function(){var p;e._RF.push({},"165162DPLxMibDLGgtBZSc6","BarrierCmp3",void 0);var l=n.ccclass;n.property,t("BarrierCmp3",l("BarrierCmp3")(p=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this)._scale=1,i._isHurtView=void 0,i._itemCmp=void 0,i}i(e,t),e.Create=function(){var t=r.createPrefabNode(c.BARRIER_VIEW,o);t.parent=m.runtime.ui.barrierRoot;var i=t.getComponent(e);return i._init(),i};var n=e.prototype;return n._init=function(){},n.setModelView=function(t){this._isHurtView=!1;var i=s.fullBarrierModelRes(t),e=r.createPrefabNode(i,o);this._itemCmp=e.getComponent(h),e.parent=this._viewRoot,this._itemCmp.showNormalFrame()},n.setHurtView=function(){this._isHurtView||this._itemCmp.showHurtFrame()},n.getSize=function(t){var i=this._itemCmp.node.uiTransform.contentSize;t.width=i.width,t.height=i.height},n.showView=function(){t.prototype.showView.call(this),this.node.parent=m.runtime.ui.barrierRoot},n.update=function(t){if(this._scale<1){var i=this._scale+a.HIT_ADD_SCALE;i>1&&(i=1),this._scale=i,this._itemCmp.setIconScale(this._scale)}},n.hitEffect=function(){this._scale<1||(this._scale=a.HIT_SCALE,this._itemCmp.setIconScale(this._scale))},n.dieEffect=function(t){this._itemCmp.haveDieAni()?this._itemCmp.playDieAni(t):null==t||t()},n.birthEffect=function(t){this._itemCmp.haveBirthAni()?this._itemCmp.playBirthAni(t):null==t||t()},n.setHpView=function(t){this._itemCmp&&this._itemCmp.setHpView(t)},n.setHPViewActive=function(t){this._itemCmp&&this._itemCmp.setHpViewActive(t)},n.randomDropPos=function(t){return this._itemCmp.randomDropPos(t)},n.setVisible=function(t){this.node.active=t},n.setModelVisible=function(t){this._viewRoot.active=t},e}(u))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils4.ts","./ZDConst4.ts","./ZDGameState4.ts","./BarrierItemCmp4.ts","./RoleShadowCmp4.ts"],(function(t){var i,e,n,o,r,s,a,c,m,h,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.ViewUtil},function(t){r=t.ZDResUtils},function(t){s=t.ZD_BUNDLE,a=t.BARRIER_CFG,c=t.ZD_RES_PREFABS},function(t){m=t.ZDGameState4},function(t){h=t.BarrierItemCmp4},function(t){u=t.RoleShadowCmp4}],execute:function(){var p;e._RF.push({},"37d94Gwj+tCMopmApdyPqgv","BarrierCmp4",void 0);var l=n.ccclass;n.property,t("BarrierCmp4",l("BarrierCmp4")(p=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._scale=1,i._isHurtView=void 0,i._itemCmp=void 0,i}i(e,t),e.Create=function(){var t=o.createPrefabNode(c.BARRIER_VIEW,s);t.parent=m.runtime.ui.roleRoot;var i=t.getComponent(e);return i._init(),i};var n=e.prototype;return n._init=function(){},n.setModelView=function(t){this._isHurtView=!1;var i=r.fullBarrierModelRes(t),e=o.createPrefabNode(i,s);this._itemCmp=e.getComponent(h),e.parent=this._viewRoot,this._itemCmp.showNormalFrame(),this._itemCmp.init()},n.setHurtView=function(){this._isHurtView||this._itemCmp.showHurtFrame()},n.getSize=function(t){var i=this._itemCmp.node.uiTransform.contentSize;t.width=i.width,t.height=i.height},n.showView=function(){t.prototype.showView.call(this),this.node.parent=m.runtime.ui.roleRoot},n.update=function(t){if(this._scale<1){var i=this._scale+a.HIT_ADD_SCALE;i>1&&(i=1),this._scale=i,this._itemCmp.setIconScale(this._scale)}},n.hitEffect=function(){this._scale<1||(this._scale=a.HIT_SCALE,this._itemCmp.setIconScale(this._scale))},n.dieEffect=function(t){this._itemCmp.haveDieAni()?this._itemCmp.playDieAni(t):null==t||t()},n.birthEffect=function(t){this._itemCmp.haveBirthAni()?this._itemCmp.playBirthAni(t):null==t||t()},n.setHpView=function(t){this._itemCmp&&this._itemCmp.setHpView(t)},n.randomDropPos=function(t){return this._itemCmp.randomDropPos(t)},n.setVisible=function(t){this.node.active=t},n.setModelVisible=function(t){this._viewRoot.active=t},e}(u))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils5.ts","./ZDConst5.ts","./ZDGameState5.ts","./BarrierItemCmp5.ts","./RoleShadowCmp5.ts"],(function(t){var i,e,n,o,r,s,a,c,m,h,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.ViewUtil},function(t){r=t.ZDResUtils},function(t){s=t.ZD_BUNDLE,a=t.BARRIER_CFG,c=t.ZD_RES_PREFABS},function(t){m=t.ZDGameState5},function(t){h=t.BarrierItemCmp5},function(t){u=t.RoleShadowCmp5}],execute:function(){var p;e._RF.push({},"55f426eOc1KToBJ5CsOPu3J","BarrierCmp5",void 0);var l=n.ccclass;n.property,t("BarrierCmp5",l("BarrierCmp5")(p=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._scale=1,i._isHurtView=void 0,i._itemCmp=void 0,i}i(e,t),e.Create=function(){var t=o.createPrefabNode(c.BARRIER_VIEW,s);t.parent=m.runtime.ui.roleRoot;var i=t.getComponent(e);return i._init(),i};var n=e.prototype;return n._init=function(){},n.setModelView=function(t){this._isHurtView=!1;var i=r.fullBarrierModelRes(t),e=o.createPrefabNode(i,s);this._itemCmp=e.getComponent(h),e.parent=this._viewRoot,this._itemCmp.showNormalFrame(),this._itemCmp.init()},n.setHurtView=function(){this._isHurtView||this._itemCmp.showHurtFrame()},n.getSize=function(t){var i=this._itemCmp.node.uiTransform.contentSize;t.width=i.width,t.height=i.height},n.showView=function(){t.prototype.showView.call(this),this.node.parent=m.runtime.ui.roleRoot},n.update=function(t){if(this._scale<1){var i=this._scale+a.HIT_ADD_SCALE;i>1&&(i=1),this._scale=i,this._itemCmp.setIconScale(this._scale)}},n.hitEffect=function(){this._scale<1||(this._scale=a.HIT_SCALE,this._itemCmp.setIconScale(this._scale))},n.dieEffect=function(t){this._itemCmp.haveDieAni()?this._itemCmp.playDieAni(t):null==t||t()},n.birthEffect=function(t){this._itemCmp.haveBirthAni()?this._itemCmp.playBirthAni(t):null==t||t()},n.setHpView=function(t){this._itemCmp&&this._itemCmp.setHpView(t)},n.randomDropPos=function(t){return this._itemCmp.randomDropPos(t)},n.setVisible=function(t){this.node.active=t},n.setModelVisible=function(t){this._viewRoot.active=t},e}(u))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils6.ts","./ZDConst6.ts","./ZDGameState6.ts","./BarrierItemCmp6.ts","./RoleShadowCmp6.ts"],(function(t){var e,i,n,r,o,s,a,c,m,h,u,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,r=t._decorator},function(t){o=t.ViewUtil},function(t){s=t.ZDResUtils},function(t){a=t.ZD_BUNDLE,c=t.BARRIER_CFG,m=t.ZD_RES_PREFABS},function(t){h=t.ZDGameState6},function(t){u=t.BarrierItemCmp6},function(t){p=t.RoleShadowCmp6}],execute:function(){var l;n._RF.push({},"f2ff7MeillHnIhspMTmp9W8","BarrierCmp6",void 0);var f=r.ccclass;r.property,t("BarrierCmp6",f("BarrierCmp6")(l=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._scale=1,e._isHurtView=void 0,e._itemCmp=void 0,e}e(n,t),n.Create=function(){var t=o.createPrefabNode(m.BARRIER_VIEW,a);t.parent=h.runtime.ui.barrierRoot;var e=t.getComponent(n);return e._init(),e};var r=n.prototype;return r._init=function(){},r.setModelView=function(t){this._isHurtView=!1;var e=s.fullBarrierModelRes(t),i=o.createPrefabNode(e,a);this._itemCmp=i.getComponent(u),i.parent=this._viewRoot,this._itemCmp.showNormalFrame()},r.setHurtView=function(){this._isHurtView||this._itemCmp.showHurtFrame()},r.getSize=function(t){var e=this._itemCmp.node.uiTransform.contentSize;t.width=e.width,t.height=e.height},r.showView=function(){t.prototype.showView.call(this),this.node.parent=h.runtime.ui.barrierRoot},r.update=function(t){if(this._scale<1){var e=this._scale+c.HIT_ADD_SCALE;e>1&&(e=1),this._scale=e,this._itemCmp.setIconScale(this._scale)}},r.hitEffect=function(){this._scale<1||(this._scale=c.HIT_SCALE,this._itemCmp.setIconScale(this._scale))},r.dieEffect=function(t){this._itemCmp.haveDieAni()?this._itemCmp.playDieAni(t):null==t||t()},r.birthEffect=function(t){this._itemCmp.haveBirthAni()?this._itemCmp.playBirthAni(t):null==t||t()},r.setHpView=function(t){this._itemCmp&&this._itemCmp.setHpView(t)},r.randomDropPos=function(t){return this._itemCmp.randomDropPos(t)},r.setVisible=function(t){this.node.active=t},r.setModelVisible=function(t){this._viewRoot.active=t},i(n,[{key:"iconNode",get:function(){return this._itemCmp.iconNode}}]),n}(p))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierItemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VecPool.ts"],(function(i){var e,t,n,a,r,o,l,s,p,u,c,h,m,_,y,b;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.createClass},function(i){o=i.cclegacy,l=i._decorator,s=i.Sprite,p=i.SpriteFrame,u=i.Label,c=i.Node,h=i.Animation,m=i.AnimationClip,_=i.math,y=i.Component},function(i){b=i.VecPool}],execute:function(){var d,f,v,g,A,w,N,I,S,z,F,L,D,R,H,V,B,C,E,P,x;o._RF.push({},"1751047LVxAtLmWoQ+RnOhv","BarrierItemCmp",void 0);var T=l.ccclass,k=l.property;i("BarrierItemCmp",(d=T("BarrierItemCmp"),f=k({type:s,displayName:"图标",visible:!0}),v=k({type:s,displayName:"阴影",visible:!0}),g=k({type:[p],displayName:"精灵帧",visible:!0}),A=k({type:u,displayName:"血量",visible:!0}),w=k({type:c,displayName:"掉落范围节点",visible:!0}),N=k({type:h,displayName:"动画组件",visible:!0,group:"动画"}),I=k({type:m,displayName:"受击动画",visible:function(){return!!this._animation},group:"动画"}),S=k({type:m,displayName:"死亡动画",visible:function(){return!!this._animation},group:"动画"}),z=k({type:m,displayName:"生长动画",visible:function(){return!!this._animation},group:"动画"}),d((D=e((L=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=i.call.apply(i,[this].concat(r))||this,n(e,"_icon",D,a(e)),n(e,"_shadow",R,a(e)),n(e,"_frames",H,a(e)),n(e,"_hpLab",V,a(e)),n(e,"_dropRectNode",B,a(e)),e._defIconScale=void 0,n(e,"_animation",C,a(e)),n(e,"_hitAni",E,a(e)),n(e,"_dieAni",P,a(e)),n(e,"_birthAni",x,a(e)),e}t(e,i);var o=e.prototype;return o.haveHitAni=function(){return!!this._animation&&!!this._hitAni},o.haveDieAni=function(){return!!this._animation&&!!this._dieAni},o.haveBirthAni=function(){return!!this._animation&&!!this._birthAni},o.playHitAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._hitAni.name&&(null==i||i())})),this._animation.play(this._hitAni.name)},o.playDieAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._dieAni.name&&(null==i||i())})),this._animation.play(this._dieAni.name)},o.playBirthAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._birthAni.name&&(null==i||i())})),this._animation.play(this._birthAni.name)},o.onLoad=function(){this._defIconScale=this._icon.node.getScale()},o.showNormalFrame=function(){this._icon.spriteFrame=this._frames[0]},o.showHurtFrame=function(){this._icon.spriteFrame=this._frames[1]},o.setIconScale=function(i){var e=b.getV3();e.set(this._defIconScale),e.multiplyScalar(i),this._icon.node.setScale(e),b.putV3(e)},o.setHpView=function(i){this._hpLab&&(this._hpLab.string=String(i))},o.randomDropPos=function(i){var e=b.getV3();this._dropRectNode.getWorldPosition(e);var t=this._dropRectNode.uiTransform.contentSize;return i.x=_.randomRange(e.x-t.width/2,e.x+t.width/2),i.y=_.randomRange(e.y-t.height/2,e.y+t.height/2),b.putV3(e),i},r(e,[{key:"shadow",get:function(){return this._shadow.node}}]),e}(y)).prototype,"_icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(L.prototype,"_shadow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(L.prototype,"_frames",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null,null]}}),V=e(L.prototype,"_hpLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(L.prototype,"_dropRectNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(L.prototype,"_animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(L.prototype,"_hitAni",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(L.prototype,"_dieAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(L.prototype,"_birthAni",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=L))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierItemCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VecPool3.ts"],(function(i){var e,t,n,a,r,o,l,s,p,u,c,h,m,_,b,y;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.createClass},function(i){o=i.cclegacy,l=i._decorator,s=i.Sprite,p=i.SpriteFrame,u=i.Label,c=i.Node,h=i.Animation,m=i.AnimationClip,_=i.math,b=i.Component},function(i){y=i.VecPool3}],execute:function(){var d,f,v,g,A,w,N,S,I,z,L,F,D,H,V,R,B,C,E,P,T;o._RF.push({},"976408EJp1G3LSVqstPUceJ","BarrierItemCmp3",void 0);var x=l.ccclass,k=l.property;i("BarrierItemCmp3",(d=x("BarrierItemCmp3"),f=k({type:s,displayName:"图标",visible:!0}),v=k({type:s,displayName:"阴影",visible:!0}),g=k({type:[p],displayName:"精灵帧",visible:!0}),A=k({type:u,displayName:"血量",visible:!0}),w=k({type:c,displayName:"掉落范围节点",visible:!0}),N=k({type:h,displayName:"动画组件",visible:!0,group:"动画"}),S=k({type:m,displayName:"受击动画",visible:function(){return!!this._animation},group:"动画"}),I=k({type:m,displayName:"死亡动画",visible:function(){return!!this._animation},group:"动画"}),z=k({type:m,displayName:"生长动画",visible:function(){return!!this._animation},group:"动画"}),d((D=e((F=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=i.call.apply(i,[this].concat(r))||this,n(e,"_icon",D,a(e)),n(e,"_shadow",H,a(e)),n(e,"_frames",V,a(e)),n(e,"_hpLab",R,a(e)),n(e,"_dropRectNode",B,a(e)),e._defIconScale=void 0,n(e,"_animation",C,a(e)),n(e,"_hitAni",E,a(e)),n(e,"_dieAni",P,a(e)),n(e,"_birthAni",T,a(e)),e}t(e,i);var o=e.prototype;return o.haveHitAni=function(){return!!this._animation&&!!this._hitAni},o.haveDieAni=function(){return!!this._animation&&!!this._dieAni},o.haveBirthAni=function(){return!!this._animation&&!!this._birthAni},o.playHitAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._hitAni.name&&(null==i||i())})),this._animation.play(this._hitAni.name)},o.playDieAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._dieAni.name&&(null==i||i())})),this._animation.play(this._dieAni.name)},o.playBirthAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._birthAni.name&&(null==i||i())})),this._animation.play(this._birthAni.name)},o.onLoad=function(){this._defIconScale=this._icon.node.getScale()},o.showNormalFrame=function(){this._icon.spriteFrame=this._frames[0]},o.showHurtFrame=function(){this._icon.spriteFrame=this._frames[1]},o.setIconScale=function(i){var e=y.getV3();e.set(this._defIconScale),e.multiplyScalar(i),this._icon.node.setScale(e),y.putV3(e)},o.setHpView=function(i){this._hpLab&&(this._hpLab.string=String(i))},o.setHpViewActive=function(i){this._hpLab&&(this._hpLab.node.active=i)},o.randomDropPos=function(i){var e=y.getV3();this._dropRectNode.getWorldPosition(e);var t=this._dropRectNode.uiTransform.contentSize;return i.x=_.randomRange(e.x-t.width/2,e.x+t.width/2),i.y=_.randomRange(e.y-t.height/2,e.y+t.height/2),y.putV3(e),i},r(e,[{key:"shadow",get:function(){return this._shadow.node}}]),e}(b)).prototype,"_icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(F.prototype,"_shadow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(F.prototype,"_frames",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null,null]}}),R=e(F.prototype,"_hpLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(F.prototype,"_dropRectNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(F.prototype,"_animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(F.prototype,"_hitAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(F.prototype,"_dieAni",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(F.prototype,"_birthAni",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=F))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierItemCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VecPool4.ts"],(function(i){var e,t,n,a,r,o,l,s,p,u,c,h,m,_,y,b;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.createClass},function(i){o=i.cclegacy,l=i._decorator,s=i.Sprite,p=i.SpriteFrame,u=i.Label,c=i.Node,h=i.Animation,m=i.AnimationClip,_=i.math,y=i.Component},function(i){b=i.VecPool}],execute:function(){var f,d,v,g,A,w,N,I,S,z,D,F,R,C,H,L,B,E,V,P,T;o._RF.push({},"00409m7E75IMZTtRbuMC5Dx","BarrierItemCmp4",void 0);var x=l.ccclass,M=l.property;i("BarrierItemCmp4",(f=x("BarrierItemCmp4"),d=M({type:s,displayName:"图标",visible:!0}),v=M({type:s,displayName:"阴影",visible:!0}),g=M({type:[p],displayName:"精灵帧",visible:!0}),A=M({type:u,displayName:"血量",visible:!0}),w=M({type:c,displayName:"掉落范围节点",visible:!0}),N=M({type:h,displayName:"动画组件",visible:!0,group:"动画"}),I=M({type:m,displayName:"受击动画",visible:function(){return!!this._animation},group:"动画"}),S=M({type:m,displayName:"死亡动画",visible:function(){return!!this._animation},group:"动画"}),z=M({type:m,displayName:"生长动画",visible:function(){return!!this._animation},group:"动画"}),f((R=e((F=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=i.call.apply(i,[this].concat(r))||this,n(e,"_icon",R,a(e)),n(e,"_shadow",C,a(e)),n(e,"_frames",H,a(e)),n(e,"_hpLab",L,a(e)),n(e,"_dropRectNode",B,a(e)),e._defIconScale=void 0,n(e,"_animation",E,a(e)),n(e,"_hitAni",V,a(e)),n(e,"_dieAni",P,a(e)),n(e,"_birthAni",T,a(e)),e}t(e,i);var o=e.prototype;return o.haveHitAni=function(){return!!this._animation&&!!this._hitAni},o.haveDieAni=function(){return!!this._animation&&!!this._dieAni},o.haveBirthAni=function(){return!!this._animation&&!!this._birthAni},o.playHitAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._hitAni.name&&(null==i||i())})),this._animation.play(this._hitAni.name)},o.playDieAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._dieAni.name&&(null==i||i())})),this._animation.play(this._dieAni.name)},o.playBirthAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(t,n){n.name==e._birthAni.name&&(null==i||i())})),this._animation.play(this._birthAni.name)},o.onLoad=function(){this._defIconScale=this._icon.node.getScale()},o.init=function(){},o.showNormalFrame=function(){this._icon.spriteFrame=this._frames[0]},o.showHurtFrame=function(){this._icon.spriteFrame=this._frames[1]},o.setIconScale=function(i){var e=b.getV3();e.set(this._defIconScale),e.multiplyScalar(i),this._icon.node.setScale(e),b.putV3(e)},o.setHpView=function(i){this._hpLab&&(this._hpLab.string=String(i))},o.randomDropPos=function(i){var e=b.getV3();this._dropRectNode.getWorldPosition(e);var t=this._dropRectNode.uiTransform.contentSize;return i.x=_.randomRange(e.x-t.width/2,e.x+t.width/2),i.y=_.randomRange(e.y-t.height/2,e.y+t.height/2),b.putV3(e),i},r(e,[{key:"shadow",get:function(){return this._shadow.node}}]),e}(y)).prototype,"_icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(F.prototype,"_shadow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(F.prototype,"_frames",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null,null]}}),L=e(F.prototype,"_hpLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(F.prototype,"_dropRectNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(F.prototype,"_animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(F.prototype,"_hitAni",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(F.prototype,"_dieAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(F.prototype,"_birthAni",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=F))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierItemCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VecPool5.ts"],(function(i){var n,e,t,a,r,o,l,u,p,s,c,h,m,_,y,b;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.createClass},function(i){o=i.cclegacy,l=i._decorator,u=i.Sprite,p=i.SpriteFrame,s=i.Label,c=i.Node,h=i.Animation,m=i.AnimationClip,_=i.math,y=i.Component},function(i){b=i.VecPool}],execute:function(){var d,f,v,g,A,N,w,I,z,S,D,B,F,H,L,R,C,P,E,T,V;o._RF.push({},"24dccXJ1UdPB7N1mtnhNTf+","BarrierItemCmp5",void 0);var x=l.ccclass,k=l.property;i("BarrierItemCmp5",(d=x("BarrierItemCmp5"),f=k({type:u,displayName:"图标",visible:!0}),v=k({type:u,displayName:"阴影",visible:!0}),g=k({type:[p],displayName:"精灵帧",visible:!0}),A=k({type:s,displayName:"血量",visible:!0}),N=k({type:c,displayName:"掉落范围节点",visible:!0}),w=k({type:h,displayName:"动画组件",visible:!0,group:"动画"}),I=k({type:m,displayName:"受击动画",visible:function(){return!!this._animation},group:"动画"}),z=k({type:m,displayName:"死亡动画",visible:function(){return!!this._animation},group:"动画"}),S=k({type:m,displayName:"生长动画",visible:function(){return!!this._animation},group:"动画"}),d((F=n((B=function(i){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=i.call.apply(i,[this].concat(r))||this,t(n,"_icon",F,a(n)),t(n,"_shadow",H,a(n)),t(n,"_frames",L,a(n)),t(n,"_hpLab",R,a(n)),t(n,"_dropRectNode",C,a(n)),n._defIconScale=void 0,t(n,"_animation",P,a(n)),t(n,"_hitAni",E,a(n)),t(n,"_dieAni",T,a(n)),t(n,"_birthAni",V,a(n)),n}e(n,i);var o=n.prototype;return o.haveHitAni=function(){return!!this._animation&&!!this._hitAni},o.haveDieAni=function(){return!!this._animation&&!!this._dieAni},o.haveBirthAni=function(){return!!this._animation&&!!this._birthAni},o.playHitAni=function(i){var n=this;this._animation.once(h.EventType.FINISHED,(function(e,t){t.name==n._hitAni.name&&(null==i||i())})),this._animation.play(this._hitAni.name)},o.playDieAni=function(i){var n=this;this._animation.once(h.EventType.FINISHED,(function(e,t){t.name==n._dieAni.name&&(null==i||i())})),this._animation.play(this._dieAni.name)},o.playBirthAni=function(i){var n=this;this._animation.once(h.EventType.FINISHED,(function(e,t){t.name==n._birthAni.name&&(null==i||i())})),this._animation.play(this._birthAni.name)},o.onLoad=function(){},o.init=function(){},o.showNormalFrame=function(){},o.showHurtFrame=function(){},o.setIconScale=function(i){},o.setHpView=function(i){this._hpLab&&(this._hpLab.string=String(i))},o.randomDropPos=function(i){var n=b.getV3();this._dropRectNode.getWorldPosition(n);var e=this._dropRectNode.uiTransform.contentSize;return i.x=_.randomRange(n.x-e.width/2,n.x+e.width/2),i.y=_.randomRange(n.y-e.height/2,n.y+e.height/2),b.putV3(n),i},r(n,[{key:"shadow",get:function(){return this._shadow.node}}]),n}(y)).prototype,"_icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(B.prototype,"_shadow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(B.prototype,"_frames",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null,null]}}),R=n(B.prototype,"_hpLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(B.prototype,"_dropRectNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(B.prototype,"_animation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(B.prototype,"_hitAni",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(B.prototype,"_dieAni",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(B.prototype,"_birthAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=B))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/BarrierItemCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VecPool6.ts"],(function(i){var e,n,t,a,r,o,l,s,p,u,c,h,m,_,y,d;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.createClass},function(i){o=i.cclegacy,l=i._decorator,s=i.Sprite,p=i.SpriteFrame,u=i.Label,c=i.Node,h=i.Animation,m=i.AnimationClip,_=i.math,y=i.Component},function(i){d=i.VecPool}],execute:function(){var b,f,g,v,A,w,N,I,S,z,F,D,V,H,L,R,B,C,E,P,T;o._RF.push({},"94d98y193pFWa5lZUmntVV6","BarrierItemCmp6",void 0);var x=l.ccclass,k=l.property;i("BarrierItemCmp6",(b=x("BarrierItemCmp6"),f=k({type:s,displayName:"图标",visible:!0}),g=k({type:s,displayName:"阴影",visible:!0}),v=k({type:[p],displayName:"精灵帧",visible:!0}),A=k({type:u,displayName:"血量",visible:!0}),w=k({type:c,displayName:"掉落范围节点",visible:!0}),N=k({type:h,displayName:"动画组件",visible:!0,group:"动画"}),I=k({type:m,displayName:"受击动画",visible:function(){return!!this._animation},group:"动画"}),S=k({type:m,displayName:"死亡动画",visible:function(){return!!this._animation},group:"动画"}),z=k({type:m,displayName:"生长动画",visible:function(){return!!this._animation},group:"动画"}),b((V=e((D=function(i){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=i.call.apply(i,[this].concat(r))||this,t(e,"_icon",V,a(e)),t(e,"_shadow",H,a(e)),t(e,"_frames",L,a(e)),t(e,"_hpLab",R,a(e)),t(e,"_dropRectNode",B,a(e)),e._defIconScale=void 0,t(e,"_animation",C,a(e)),t(e,"_hitAni",E,a(e)),t(e,"_dieAni",P,a(e)),t(e,"_birthAni",T,a(e)),e}n(e,i);var o=e.prototype;return o.haveHitAni=function(){return!!this._animation&&!!this._hitAni},o.haveDieAni=function(){return!!this._animation&&!!this._dieAni},o.haveBirthAni=function(){return!!this._animation&&!!this._birthAni},o.playHitAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(n,t){t.name==e._hitAni.name&&(null==i||i())})),this._animation.play(this._hitAni.name)},o.playDieAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(n,t){t.name==e._dieAni.name&&(null==i||i())})),this._animation.play(this._dieAni.name)},o.playBirthAni=function(i){var e=this;this._animation.once(h.EventType.FINISHED,(function(n,t){t.name==e._birthAni.name&&(null==i||i())})),this._animation.play(this._birthAni.name)},o.onLoad=function(){this._defIconScale=this._icon.node.getScale()},o.showNormalFrame=function(){this._icon.spriteFrame=this._frames[0]},o.showHurtFrame=function(){this._icon.spriteFrame=this._frames[1]},o.setIconScale=function(i){var e=d.getV3();e.set(this._defIconScale),e.multiplyScalar(i),this._icon.node.setScale(e),d.putV3(e)},o.setHpView=function(i){this._hpLab&&(this._hpLab.string=String(i))},o.randomDropPos=function(i){var e=d.getV3();this._dropRectNode.getWorldPosition(e);var n=this._dropRectNode.uiTransform.contentSize;return i.x=_.randomRange(e.x-n.width/2,e.x+n.width/2),i.y=_.randomRange(e.y-n.height/2,e.y+n.height/2),d.putV3(e),i},r(e,[{key:"shadow",get:function(){return this._shadow.node}},{key:"iconNode",get:function(){return this._icon.node}}]),e}(y)).prototype,"_icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(D.prototype,"_shadow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(D.prototype,"_frames",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null,null]}}),R=e(D.prototype,"_hpLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(D.prototype,"_dropRectNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(D.prototype,"_animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(D.prototype,"_hitAni",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(D.prototype,"_dieAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(D.prototype,"_birthAni",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=D))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,n,t,a,o,r,l,s,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,l=i.Animation,s=i.AnimationClip,p=i.Component}],execute:function(){var c,u,h,y,m,_,d,f,b;o._RF.push({},"1ce064GrUFO/58F2U7fTx9L","BaseDialog",void 0);var v=r.ccclass,g=r.property;i("BaseDialog",(c=v("BaseDialog"),u=g({type:l,displayName:"动画",visible:!0}),h=g({type:s,displayName:"展示动画",visible:!0}),y=g({type:s,displayName:"关闭动画",visible:!0}),c((d=e((_=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=i.call.apply(i,[this].concat(o))||this,t(e,"_animation",d,a(e)),t(e,"_showAni",f,a(e)),t(e,"_hideAni",b,a(e)),e}n(e,i);var o=e.prototype;return o.show=function(){this._showAni&&this._animation.play(this._showAni.name)},o.close=function(){var i=this;this._hideAni?(this._animation.play(this._hideAni.name),this._animation.once(l.EventType.FINISHED,(function(){i.node.destroy()}))):this.node.destroy()},e}(p)).prototype,"_animation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(_.prototype,"_showAni",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(_.prototype,"_hideAni",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=_))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDialog2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,n,t,o,a,r,l,s,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,l=i.Animation,s=i.AnimationClip,p=i.Component}],execute:function(){var c,u,h,y,d,m,_,f,b;a._RF.push({},"21350Ig/2hGDJ+I5PZo2BLv","BaseDialog",void 0);var v=r.ccclass,g=r.property;r.executeInEditMode,r.requireComponent,i("BaseDialog",(c=v("BaseDialog"),u=g({type:l,displayName:"动画",visible:!0}),h=g({type:s,displayName:"展示动画",visible:!0}),y=g({type:s,displayName:"关闭动画",visible:!0}),c((_=e((m=function(i){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=i.call.apply(i,[this].concat(a))||this,t(e,"_animation",_,o(e)),t(e,"_showAni",f,o(e)),t(e,"_hideAni",b,o(e)),e}n(e,i);var a=e.prototype;return a.show=function(){this._showAni&&this._animation.play(this._showAni.name)},a.close=function(){var i=this;this._hideAni?(this._animation.play(this._hideAni.name),this._animation.once(l.EventType.FINISHED,(function(){i.node.destroy()}))):this.node.destroy()},e}(p)).prototype,"_animation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(m.prototype,"_showAni",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(m.prototype,"_hideAni",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDialog3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,n,t,a,o,r,l,s,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,l=i.Animation,s=i.AnimationClip,p=i.Component}],execute:function(){var c,u,h,y,d,m,_,b,f;o._RF.push({},"90b14/EwkFGjpvbDA5Obgzu","BaseDialog3",void 0);var v=r.ccclass,g=r.property;r.executeInEditMode,r.requireComponent,i("BaseDialog3",(c=v("BaseDialog3"),u=g({type:l,displayName:"动画",visible:!0}),h=g({type:s,displayName:"展示动画",visible:!0}),y=g({type:s,displayName:"关闭动画",visible:!0}),c((_=e((m=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=i.call.apply(i,[this].concat(o))||this,t(e,"_animation",_,a(e)),t(e,"_showAni",b,a(e)),t(e,"_hideAni",f,a(e)),e}n(e,i);var o=e.prototype;return o.show=function(){this._showAni&&this._animation.play(this._showAni.name)},o.close=function(){var i=this;this._hideAni?(this._animation.play(this._hideAni.name),this._animation.once(l.EventType.FINISHED,(function(){i.node.destroy()}))):this.node.destroy()},e}(p)).prototype,"_animation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(m.prototype,"_showAni",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(m.prototype,"_hideAni",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDialog4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,n,t,a,o,r,l,s,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,l=i.Animation,s=i.AnimationClip,p=i.Component}],execute:function(){var c,u,h,y,d,m,_,b,f;o._RF.push({},"aedcau+u9dL1I18bsUkSX+v","BaseDialog4",void 0);var v=r.ccclass,g=r.property;r.executeInEditMode,r.requireComponent,i("BaseDialog4",(c=v("BaseDialog4"),u=g({type:l,displayName:"动画",visible:!0}),h=g({type:s,displayName:"展示动画",visible:!0}),y=g({type:s,displayName:"关闭动画",visible:!0}),c((_=e((m=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=i.call.apply(i,[this].concat(o))||this,t(e,"_animation",_,a(e)),t(e,"_showAni",b,a(e)),t(e,"_hideAni",f,a(e)),e}n(e,i);var o=e.prototype;return o.show=function(){this._showAni&&this._animation.play(this._showAni.name)},o.close=function(){var i=this;this._hideAni?(this._animation.play(this._hideAni.name),this._animation.once(l.EventType.FINISHED,(function(){i.node.destroy()}))):this.node.destroy()},e}(p)).prototype,"_animation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(m.prototype,"_showAni",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(m.prototype,"_hideAni",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDialog5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,n,t,a,o,r,l,s,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,l=i.Animation,s=i.AnimationClip,p=i.Component}],execute:function(){var c,u,h,y,m,d,_,b,f;o._RF.push({},"6bc6aA7WGJDSKSONmobie9s","BaseDialog5",void 0);var v=r.ccclass,A=r.property;r.executeInEditMode,r.requireComponent,i("BaseDialog5",(c=v("BaseDialog5"),u=A({type:l,displayName:"动画",visible:!0}),h=A({type:s,displayName:"展示动画",visible:!0}),y=A({type:s,displayName:"关闭动画",visible:!0}),c((_=e((d=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=i.call.apply(i,[this].concat(o))||this,t(e,"_animation",_,a(e)),t(e,"_showAni",b,a(e)),t(e,"_hideAni",f,a(e)),e}n(e,i);var o=e.prototype;return o.show=function(){this._showAni&&this._animation.play(this._showAni.name)},o.close=function(){var i=this;this._hideAni?(this._animation.play(this._hideAni.name),this._animation.once(l.EventType.FINISHED,(function(){i.node.destroy()}))):this.node.destroy()},e}(p)).prototype,"_animation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(d.prototype,"_showAni",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(d.prototype,"_hideAni",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=d))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDialog6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,n,t,a,o,r,l,s,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,l=i.Animation,s=i.AnimationClip,p=i.Component}],execute:function(){var c,u,h,y,d,m,_,f,b;o._RF.push({},"ad6d2eCfelCjbw9L2SChFmz","BaseDialog6",void 0);var v=r.ccclass,g=r.property;r.executeInEditMode,r.requireComponent,i("BaseDialog6",(c=v("BaseDialog6"),u=g({type:l,displayName:"动画",visible:!0}),h=g({type:s,displayName:"展示动画",visible:!0}),y=g({type:s,displayName:"关闭动画",visible:!0}),c((_=e((m=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=i.call.apply(i,[this].concat(o))||this,t(e,"_animation",_,a(e)),t(e,"_showAni",f,a(e)),t(e,"_hideAni",b,a(e)),e}n(e,i);var o=e.prototype;return o.show=function(){this._showAni&&this._animation.play(this._showAni.name)},o.close=function(){var i=this;this._hideAni?(this._animation.play(this._hideAni.name),this._animation.once(l.EventType.FINISHED,(function(){i.node.destroy()}))):this.node.destroy()},e}(p)).prototype,"_animation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(m.prototype,"_showAni",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(m.prototype,"_hideAni",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseState.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"78b262TVVRPcZ77iSvyIgKK","BaseState",void 0);t("default",function(){function t(t){this.id=void 0,this.isFinished=void 0,this.nextState=void 0,this.passTime=void 0,this.deltaTime=void 0,this.id=t}var i=t.prototype;return i.GetNextState=function(){return this.isFinished?this.nextState:0},i.OnEnter=function(t,i){this.isFinished=!1,this.nextState=0,this.passTime=0,this.deltaTime=0,this._DoEnter(t,i)},i.OnRunning=function(t,i){this.isFinished||(this.deltaTime=i,this.passTime+=i,this._DoRunning(t))},i.OnExit=function(t,i){this._DoExit(t,i)},i._DoEnter=function(t,i){},i._DoRunning=function(t){},i._DoExit=function(t,i){},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BattleConst.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"b0ecdJz9OhODJNxC8oM+ZIP","BattleConst",void 0);_("BUILDING_CFG",{BASE_RADIUS:800}),_("SHOP_CFG",{WOOD_ADD_SPEED:.1}),_("MONSTER_CFG",{BACK_TM:.02,BACK_SPEED:400,HIT_RED_TM:.1}),_("WEAPON_CFG",{ATK_TREE_SPEED:.2,ATK_MONSTER_SPEED:.08,DEFAULT_WIDTH:110,IDLE_ADD_ROTATION_TM:5}),_("PLAYER_MONSTER_CFG",{LOGGER:{CUT_CNT:3,IDLE_TM:{Min:1.5,Max:5},IDLE_RANGE:{Min:30,Max:100}},IDLE_TM:2}),_("ROLE_ANI_NAME",{IDLE:"idle",MOVE:"move",ATTACK:"attack",DIE:"die"}),_("SKILL_CFG",{SKILL_HURT_INTERVAL:.08});E._RF.pop()}}}));

System.register("chunks:///_virtual/BattleControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EquipConfig.ts","./HeroConfig.ts","./ConfigUtils.ts","./BattleData.ts","./BattleEnum.ts","./BattleView2.ts","./CardsMgr.ts","./AttrMgr.ts","./RoleMgr.ts","./ExpMgr.ts","./RemainMgr.ts","./WaveMgr.ts","./BattleUtils.ts","./LoseDialog.ts","./ReviveDialog.ts","./WinDialog2.ts","./YT.ts"],(function(t){var e,i,o,n,s,r,a,l,h,v,d,u,g,_,c,f,w,p,M,y;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,o=t.Vec3},function(t){n=t.EquipConfig},function(t){s=t.HeroConfig},function(t){r=t.ConfigUtils},function(t){a=t.BattleData},function(t){l=t.EGoodsType},function(t){h=t.BattleView},function(t){v=t.CardsMgr},function(t){d=t.AttrMgr},function(t){u=t.RoleMgr},function(t){g=t.ExpMgr},function(t){_=t.RemainMgr},function(t){c=t.WaveMgr},function(t){f=t.BattleUtils},function(t){w=t.LoseDialog},function(t){p=t.ReviveDialog},function(t){M=t.WinDialog},function(t){y=t.YT}],execute:function(){i._RF.push({},"d1ec4RUH1JFL6AA2c//ym8i","BattleControl",void 0);t("BattleControl",function(){var t=i.prototype;function i(){this._info=void 0,this._view=void 0,this._data=void 0,this._roleMgr=void 0,this._cardMgr=void 0,this._waveMgr=void 0,this._expMgr=void 0,this._remainMgr=void 0,this._attrMgr=void 0,this._isResult=void 0,this._isRevive=void 0,this._unlockTowerList=void 0,this._view=new h,this._data=new a,this._attrMgr=new d,this._expMgr=new g,this._cardMgr=new v,this._roleMgr=new u,this._waveMgr=new c,this._remainMgr=new _,this._isResult=!1,this._isRevive=!1,this._unlockTowerList=[]}return t.addUnlockTower=function(t){this._unlockTowerList.push(t)},t.clear=function(){this._roleMgr.clear()},t.init=function(t){this._info=t;var e=t.data;this._view.init(e.scene);var i=e.levelControl.view.size;this._view.mapLayer.setSize(i.width,i.height,1),this._view.mapLayer.bindFocusNode(e.levelControl.player.view.node),this._roleMgr.init(e.levelControl,t.battleData),this._initGoods(e.levelControl.view.weapons,e.levelControl.view.remainNodes,e.levelControl.view.boxNodes,e.levelControl.view.buffNodes),this._data.init(this._view.uiLayer),this._waveMgr.init(this._view.uiLayer.waveCmp,e.levelControl.levelConfig.waves),this._remainMgr.init(this._view.uiLayer.remainCmp,t.data.levelControl.levelConfig.remains,t.battleData.remainState,t.data.data.cards),this._expMgr.init(this._view.uiLayer.expCmp),this._cardMgr.init();var o,n=e.levelControl.levelConfig.waves.length,s=Math.min(n,null!=(o=t.battleData.levelHistory)?o:0);this._view.uiLayer.setHistoryView("历史最高波次:"+s+"/"+n+"波"),this._roleMgr.enterBattle()},t.enter=function(){this._view.enter(),this.info.battleData.isActiveSinan&&(this._roleMgr.setTipsGoods(),this._roleMgr.tipsGoods?this._view.posTipsLayer.tipsGoods(this._roleMgr.tipsGoods.pos):this._view.posTipsLayer.cancelTipsGoods())},t.leave=function(){this._view.leave(),this._roleMgr.leave(this.runTimeData.levelControl)},t.update=function(t){this._isResult||this._view.haveDialog()||(this._roleMgr.update(t),this._waveMgr.update(t),this._view.update(t),this._attrMgr.update(t))},t.lateUpdate=function(t){this._isResult||this._view.haveDialog()},t._initGoods=function(t,e,i,a){var h,v=new o,d=n.data[this._info.battleData.weaponId].model,u=s.data[this._info.battleData.playerId];u.weapon_1&&(d=u.weapon_1);for(var g=0,_=t.length;g<_;++g)(h=t[g]).getWorldPosition(v),h.uiTransform.width,f.getRandomPointInRectBySize(v,h.uiTransform.contentSize,v),this._roleMgr.addGoodsByType(l.Weapon,d,v.x,v.y);for(g=0,_=e.length;g<_;++g)(h=e[g]).getWorldPosition(v),h.uiTransform.width,f.getRandomPointInRectBySize(v,h.uiTransform.contentSize,v),this._roleMgr.addGoodsByType(l.Remain,this._info.data.levelControl.levelConfig.remains[g],v.x,v.y);g=0,_=i.length;for(var c=r.getRandomBoxByLevelId(this._info.battleData.levelId,_);g<_;++g)(h=i[g]).getWorldPosition(v),h.uiTransform.width,f.getRandomPointInRectBySize(v,h.uiTransform.contentSize,v),this._roleMgr.addGoodsByType(l.Treasure,c[g],v.x,v.y);g=0,_=a.length;for(var w=r.getRandomBuffByLevelId(this._info.battleData.levelId,_);g<_;++g)(h=a[g]).getWorldPosition(v),h.uiTransform.width,f.getRandomPointInRectBySize(v,h.uiTransform.contentSize,v),this._roleMgr.addGoodsByType(l.Buff,w[g],v.x,v.y)},t.playerCancelMove=function(){var t;null==(t=this._roleMgr)||null==(t=t.player)||t.endMove()},t.playerStartMove=function(t,e){var i;null==(i=this._roleMgr)||null==(i=i.player)||i.startMove(t,e)},t.levelUp=function(){this._cardMgr.show()},t.addExp=function(t){t*=1+this._cardMgr.attr.expAddPercent,this._expMgr.addExp(Math.floor(t))},t.addRemain=function(t){var e;null==(e=this._remainMgr)||e.findItemed(t)},t.onFindGoods=function(t){this.info.battleData.isActiveSinan&&t==this._roleMgr.tipsGoods&&(this._roleMgr.setTipsGoods(),this._roleMgr.tipsGoods?this._view.posTipsLayer.tipsGoods(this._roleMgr.tipsGoods.pos):this._view.posTipsLayer.cancelTipsGoods())},t.win=function(){this._isResult=!0,this.showResult(!0)},t.playerDie=function(){var t=this;this._isResult=!0,this._isRevive?this.showResult(!1):p.Show(1,(function(e){t._isRevive=!0,e?(t._roleMgr.player.revive(),t._isResult=!1):t.showResult(!1)}))},t.campDie=function(){var t=this;this._isResult=!0,this._isResult=!0,this._isRevive?this.showResult(!1):p.Show(2,(function(e){t._isRevive=!0,e?(t._roleMgr.campBuilding.revive(),t._isResult=!1):t.showResult(!1)}))},t.showResult=function(t){var e={gold:this.data.gold,isWin:t,waveIdx:this._waveMgr.roundIndex,maxWave:this._waveMgr.maxRoundIndex,unlockTowers:this._unlockTowerList,remains:this._remainMgr.findRemains,levelId:this._info.battleData.levelId};y.dataSdk.reportEvent("game_end",{level_id:e.levelId,game_result:t?"win":"lose",wave:e.waveIdx,max_wave:e.maxWave}),t?M.Show(e):w.Show(e)},e(i,[{key:"info",get:function(){return this._info}},{key:"view",get:function(){return this._view}},{key:"data",get:function(){return this._data}},{key:"roleMgr",get:function(){return this._roleMgr}},{key:"runTimeData",get:function(){return this._info.data}},{key:"cardsMgr",get:function(){return this._cardMgr}},{key:"waveMgr",get:function(){return this._waveMgr}},{key:"expMgr",get:function(){return this._expMgr}},{key:"remainMgr",get:function(){return this._remainMgr}},{key:"attrMgr",get:function(){return this._attrMgr}}]),i}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BattleData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var a,i,d,o;return{setters:[function(t){a=t.createClass},function(t){i=t.cclegacy,d=t.random},function(t){o=t.YT}],execute:function(){i._RF.push({},"dd4b0tyDzxJy42HlR7E/UJf","BattleData",void 0);t("BattleData",function(){function t(){this._gold=void 0,this._wood=void 0,this._uiView=void 0,this._gold=this._wood=0}var i=t.prototype;return i.init=function(t){var a,i;this._uiView=t,null==(a=this._uiView)||a.setGoldView(this._gold),null==(i=this._uiView)||i.setTreeCntView(this._wood)},i.addGold=function(t){var a;this._gold+=t,null==(a=this._uiView)||a.setGoldView(this._gold)},i.addWood=function(t){var a;this._wood+=t,t>0&&(o.data.dailyData.woodCount+=t,o.data.dailyData.save=!0),this._wood<0&&(this._wood=0),null==(a=this._uiView)||a.setTreeCntView(this._wood)},i.addKillEnemy=function(t){t?(o.data.userData.killBoss++,d()<.05&&o.data.userData.unlockedSkin.includes(2016)&&o.data.addItemByItemId(2016,1)):o.data.userData.killEnemy++,o.data.dailyData.killCount++,o.data.userData.save=!0,o.data.checkSpSkinUnlock()},i.openTreasure=function(){o.data.dailyData.boxBatCount++,o.data.dailyData.save=!0},i.addBuilding=function(){o.data.dailyData.buildCount++,o.data.dailyData.save=!0},i.refreshItems=function(){o.data.dailyData.changeCardCount++,o.data.dailyData.save=!0},a(t,[{key:"gold",get:function(){return this._gold}},{key:"wood",get:function(){return this._wood}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BattleEnum.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"d1f9110gzVA2IhJO+T4oxnX","BattleEnum",void 0);e("ERoleType",function(e){return e[e.None=0]="None",e[e.Player=1]="Player",e[e.HeroAI=2]="HeroAI",e[e.EnemyMonster=3]="EnemyMonster",e[e.PlayerMonster=4]="PlayerMonster",e[e.Goods=5]="Goods",e[e.Shop=6]="Shop",e[e.Building=7]="Building",e[e.Bullet=8]="Bullet",e[e.Tree=9]="Tree",e}({})),e("EShopType",function(e){return e[e.CampFire=0]="CampFire",e[e.RoadBlock=1]="RoadBlock",e[e.Tower=2]="Tower",e[e.GoldMine=3]="GoldMine",e[e.Logger=4]="Logger",e[e.Warrior=5]="Warrior",e[e.Shooter=6]="Shooter",e[e.Mage=7]="Mage",e}({})),e("EPlayerMonsterType",function(e){return e[e.Logger=0]="Logger",e[e.Warrior=1]="Warrior",e[e.Shooter=2]="Shooter",e[e.Mage=3]="Mage",e}({})),e("EBuildingType",function(e){return e[e.Camp=0]="Camp",e[e.CampFire=1]="CampFire",e[e.RoadBlock=2]="RoadBlock",e[e.Tower=3]="Tower",e[e.GoldMine=4]="GoldMine",e}({})),e("EGoodsType",function(e){return e[e.Weapon=0]="Weapon",e[e.Treasure=1]="Treasure",e[e.Buff=2]="Buff",e[e.Remain=3]="Remain",e[e.Wood=4]="Wood",e[e.Gold=5]="Gold",e[e.Exp=6]="Exp",e[e.Gem=7]="Gem",e}({})),e("ERoleStatus",function(e){return e[e.None=0]="None",e[e.Birth=1]="Birth",e[e.Idle=2]="Idle",e[e.Death=3]="Death",e[e.Remove=4]="Remove",e}({})),e("EMonsterStatus",function(e){return e[e.None=0]="None",e[e.Idle=1]="Idle",e[e.Move=2]="Move",e[e.Attack=3]="Attack",e[e.MoveToIdle=4]="MoveToIdle",e[e.Patrol=5]="Patrol",e}({})),e("EShape",function(e){return e[e.Rect=0]="Rect",e[e.Circle=1]="Circle",e}({})),e("ECamp",function(e){return e[e.Player=0]="Player",e[e.Enemy=1]="Enemy",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/BattleManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bump-ts.esm.mjs","./TreeSpiritBulletConfig.ts","./TreeSpiritEnemyConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritLevelConfig.ts","./YT.ts","./UI_Toast2.ts","./BattleView.ts","./GameBorder.ts","./GameEnemyBoss.ts","./GameGem.ts","./GameObject2.ts","./GamePlayer.ts","./GameSpawner3.ts","./WindowBase.ts","./WindowCup.ts","./WindowWin.ts","./util2.ts","./EffectManager2.ts","./fguiGesture2.ts"],(function(e){var t,i,n,s,r,a,o,u,h,c,l,d,f,p,m,v,g,w,y,_,b,T,x,k,B,W,P,E,S,D,G,I,C;return{setters:[function(e){t=e.asyncToGenerator,i=e.regeneratorRuntime,n=e.createClass},function(e){s=e.cclegacy,r=e.PhysicsSystem2D,a=e.EPhysics2DDrawFlags,o=e.Tween,u=e.game,h=e.UITransform,c=e.tween},function(e){l=e.default},function(e){d=e.TreeSpiritBulletConfig},function(e){f=e.TreeSpiritEnemyConfig},function(e){p=e.TreeSpiritGameConst},function(e){m=e.TreeSpiritLevelConfig},function(e){v=e.YT},function(e){g=e.default},function(e){w=e.BattleView},function(e){y=e.default},function(e){_=e.GameEnemyBoss},function(e){b=e.default},function(e){T=e.default},function(e){x=e.default},function(e){k=e.default},function(e){B=e.default},function(e){W=e.default},function(e){P=e.default},function(e){E=e.repeat,S=e.default,D=e.vec2,G=e.Emitter},function(e){I=e.default},function(e){C=e.default}],execute:function(){s._RF.push({},"b50f0k+0vZKzqO3o1r1LYeU","BattleManager",void 0);e("DamageBoardLimit",10),e("PerspBottomXWidth",375);var M=e("PerspYHeight",375/Math.tan(10/(180/Math.PI)));e("default",function(){function e(){var e=this;this.started=!1,this.center=void 0,this.prevEnemyY=void 0,this.prevTime=void 0,this.level=1,this.items=[],this.noDMG=!1,this.world=void 0,this.ev=new G(this),this.paused=!1,this.enemies=[],this.panels=[],this.player=void 0,this.spawner=void 0,this.enemyBoss=null,this.speed=1,this.killed=0,this.progress=0,this.enemyY=0,this.config=void 0,this.pauseHandle=void 0,this.speedMul=1,this.speedMul2=1,this.curDmgBoard=0,this.curDmgBoardTime=0,this.bulletNum=-1,this.gesture=void 0,this.view=void 0,this.round=-1,this.layers=void 0,this.scale=1,this.gameBGOriY=null,this.anyWindow=!1,this.time=0,this.scroll=0,this.judgeWinTime=0,this.update=function(){if(!e.paused){var t=v.gui.getWindow(B);if(t&&!e.anyWindow?e.ev.emit("pause"):!t&&e.anyWindow&&e.ev.emit("resume"),e.anyWindow=!!t,!e.anyWindow&&!e.view.isDisposed){var i=u.deltaTime;e.enemyY=e.prevEnemyY,e.prevEnemyY=-1/0,e.ev.emit("update",i*e.speed),e.time+=i,e.curDmgBoardTime+=i,e.curDmgBoardTime>.1&&(e.curDmgBoardTime=0,e.curDmgBoard=0),e.started&&Date.now()-e.judgeWinTime>1e3&&(e.addKill(0),e.judgeWinTime=Date.now()),e.enemies.forEach((function(e){e.enabled&&(e.view.node.getComponent(h).priority=e.view.y)}))}}}}var s=e.prototype;return s.init=function(){var e=this;console.log("BattleManager init",this),this.world=l.newWorld(100),this.gesture=new C,v.timer.schedule(this.update),this.pauseHandle=this.gesture.ev.on("key",(function(t){32==t&&e.pause(!e.paused,!0)}))},s.reset=function(){v.timer.unschedule(this.update),this.gesture.ev.off("key",this.pauseHandle)},s.bindView=function(){var e=t(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view=t,this.center={x:.5*this.width,y:.5*this.height},this.layers={bg:t.m_bg_layer,water:t.m_water_layer,enemy:t.m_enemy_layer,txt:t.m_txt_layer,player:t.m_player_layer,bullet:t.m_bullet_layer,effect:t.m_effect_layer,board:t.m_dmg_layer,boss:t.m_boss_layer,part:t.m_part_layer,lv:t.m_level_layer,dmg:t.m_dmg_layer};case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.showDebug=function(){r.instance.debugDrawFlags=a.Aabb|a.Pair|a.CenterOfMass|a.Joint|a.Shape},s.newGame=function(){var e=t(i().mark((function e(){var t,n,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m.dataList,this.config=t.find((function(e){return e.level==s.level})),this.bulletNum=this.config.bulletNum,(n=new y).bindEvents(),n.bindView(this.view.m_border),this.onStartGame();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onStartGame=function(){var e=t(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ev.emit("start"),e.next=3,this.createPlayer();case 3:this.startWave(),this.updateView(),this.resetKill(),this.time=0,this.round+=1,this.progress=0,this.showToast("toast_treeSpirit_start");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.setupPlayer=function(){console.log("准备玩家",this.config);var e=globalThis.testWeapon||this.config.weapon;this.player.addWeapon(d.data[e],!1,!0),this.player.setPos(.5*this.view.width,this.floorY)},s.updateView=function(){this.view.m_game_bg.url="ui://"+p.data.UIPackage+"/"+this.config.bg,w.inst.refreshPath()},s.addKill=function(e,t){this.started&&(t&&t.talentId&&this.enemies.forEach((function(e){e.waveId==t.waveId&&(e.talentId=null,e.view.m_withItem.selectedIndex=0)})),this.killed+=e,this.view.m_waveText.text="已通过"+(100*this.killed/this.spawner.count).toFixed(1)+"%",this.enemyBoss.hp<=0&&(this.view.m_waveText.text="",this.gameWin()))},s.resetKill=function(){this.killed=0,this.view.m_waveText.text="已通过"+(100*this.killed/this.spawner.count).toFixed(1)+"%"},s.startWave=function(){this.enemyBoss=new _(f.data[this.config.bossId]),this.enemies.push(this.enemyBoss),this.spawner=new k(this,!0),this.spawner.start(),this.started=!0},s.spawnGems=function(){var e=this;E(250,t(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.player.delay(.01*n,(function(){var t=new b;t.init(S.randomRange(50,700),S.randomRange(-10,20),!1),t.body.applyLinearImpulseToCenter(D(S.randomRange(-1,1),-1),!0),e.player.ev.on("dispose",(function(){return t.dispose()}))}));case 1:case"end":return t.stop()}}),t)}))))},s.killAllOther=function(){var t=0;this.enemies.forEach((function(i){t+=1,e.delay(.05*t,(function(){i.dispose()}))})),this.enemies=[]},s.gameWin=function(){var e=t(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.started){e.next=2;break}return e.abrupt("return");case 2:this.killAllOther(),this.started=!1,this.clear(),this.ev.emit("over",!0),console.log("游戏胜利"),P.showWithArg({isWin:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.gameLose=function(){var n=t(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.started){t.next=2;break}return t.abrupt("return");case 2:return this.progress=1-this.enemyBoss.hp/this.enemyBoss.config.hp,this.started=!1,this.enemies.forEach((function(e){return e.paused=!0})),v.gui.lockScreen(),t.next=8,e.delay(1.5);case 8:v.gui.unlockScreen(),this.clear(),this.ev.emit("over",!1),console.log("游戏失败"),P.showWithArg({isWin:!1});case 13:case"end":return t.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}(),s.createPlayer=function(){var e=t(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.player=new x(this.config.playerHp),this.player.bindEvents(),e.next=4,this.player.createView();case 4:this.player.setPos(.5*this.view.width,.8*this.view.height),this.setupPlayer();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.updater=function(e,t){var i=this;return void 0===t&&(t=0),new Promise((function(n){var s=0,r=i.inst.ev.on("update",(function(a){(s+=a)>t&&(e(0==t?a:s)&&(i.inst.ev.off("update",r),n()),s-=t)}))}))},e.delay=function(e,t){var i=0;return this.updater((function(n){if((i+=n)>e)return null==t||t(),!0}))},s.clear=function(){o.stopAllByTag(88888),I.inst.returnAllDamageBoard(),this.ev.emit("end"),this.started=!1,this.player.dispose(),[].concat(this.enemies).forEach((function(e){e.dispose()})),this.enemies.length=0,[].concat(this.panels).forEach((function(e){e.dispose()})),[].concat(this.items).forEach((function(e){e.dispose()})),this.panels.length=0,this.items.length=0,T.clear(),this.paused=!1,this.pause(!1,!1),this.noDMG=!1},s.getEnemeyInRange=function(e,t){return this.enemies.filter((function(i){return i.enabled&&S.distanceObject(e,i)<t}))},s.showToast=function(){var n=t(i().mark((function t(n,s){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=g.createInstance()).m_icon.url="ui://"+p.data.LVPackage+"/"+n,t.next=4,e.updater((function(){return!!r.m_icon.component}));case 4:a=r.m_icon.component,s&&(s.desc!=s.panelDesc?(a.title=s.desc,a.getChild("title1").text=s.panelDesc):a.title=s.desc),this.view.addChild(r),r.x=-500,r.y=.4*this.view.height,c(r).to(.5,{x:300},{easing:"quadIn"}).to(1,{x:450}).to(.3,{x:1250}).call((function(){r.dispose()})).start().tag(88888);case 10:case"end":return t.stop()}}),t,this)})));return function(e,t){return n.apply(this,arguments)}}(),s.showCup=function(){W.showWithArg({ids:[101,201,301]})},s.pause=function(t,i){t?(e.inst.paused=!0,i&&(this.view.m_paused.selectedIndex=1),r.instance.autoSimulation=!1,S.pauseTransitions(e.inst.view)):(e.inst.paused=!1,i&&(this.view.m_paused.selectedIndex=0),S.resumeTransitions(),r.instance.autoSimulation=!0),v.message.dispatchEvent("TreeSpiritPause",t)},s.calculatePersp=function(e){return(M-e)/M},s.getPerspPos=function(e,t){return e>375?375+(e-375)*t:375-(375-e)*t},n(e,[{key:"state",get:function(){return"treeSpirit"}},{key:"height",get:function(){return this.view.height}},{key:"width",get:function(){return this.view.width}},{key:"floorY",get:function(){return this.view.m_floor.y}},{key:"delta",get:function(){return u.deltaTime*this.speed}}],[{key:"inst",get:function(){return this._inst=this._inst||new e,globalThis.battle=this._inst,this._inst}}]),e}())._inst=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/BattleManager2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bump-ts.esm.mjs","./ShoudaqiaoBulletConfig.ts","./ShoudaqiaoGameConst.ts","./ShoudaqiaoLevelConfig2.ts","./YT.ts","./UI_Toast.ts","./GameEnemy3.ts","./GamePlayer2.ts","./GameSpawner.ts","./WindowBase2.ts","./WindowCup2.ts","./WindowWin3.ts","./util3.ts","./GameBullet2.ts","./ShoudaqiaoBulletConfigPlayer2.ts","./EffectManager.ts","./fguiGesture.ts","./SubGameData.ts"],(function(t){var e,i,n,s,a,r,o,u,h,l,c,d,f,p,g,m,v,w,y,_,b,k,x,C,W,E,P,T,D;return{setters:[function(t){e=t.createClass,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t.PhysicsSystem2D,r=t.EPhysics2DDrawFlags,o=t.Color,u=t.tween,h=t.game},function(t){l=t.default},function(t){c=t.ShoudaqiaoBulletConfig},function(t){d=t.ShoudaqiaoGameConst},function(t){f=t.ShoudaqiaoLevelConfig},function(t){p=t.YT},function(t){g=t.default},function(t){m=t.default},function(t){v=t.default},function(t){w=t.default},function(t){y=t.default},function(t){_=t.default},function(t){b=t.default},function(t){k=t.default,x=t.Emitter,C=t.isDouyin},function(t){W=t.default},function(t){E=t.ShoudaqiaoBulletConfigPlayer},function(t){P=t.default},function(t){T=t.default},function(t){D=t.SubGameData}],execute:function(){s._RF.push({},"e261dGV/+JCXI7jE9I4W4ad","BattleManager",void 0),t("default",function(){function t(){var t=this;this.gesture=null,this.started=!1,this.center=void 0,this.prevEnemyY=void 0,this.prevTime=void 0,this.level=1,this.shouldPull=!1,this.isDragon=void 0,this.world=void 0,this.ev=new x(this),this.paused=!1,this.enemies=[],this.panels=[],this.bottles=[],this.dragons=[],this.chests=[],this.player=void 0,this.spawner=void 0,this.speed=1,this.killed=0,this.enemyY=0,this.config=void 0,this.view=void 0,this.layers=void 0,this.gameCount=0,this.scale=1,this.anyWindow=!1,this.time=0,this.scroll=0,this.pullBackTimer=0,this.update=function(){if(!t.paused){var e=p.gui.getWindow(y);if(e&&!t.anyWindow?t.ev.emit("pause"):!e&&t.anyWindow&&t.ev.emit("resume"),t.anyWindow=!!e,!t.anyWindow&&t.view&&!t.view.isDisposed){var i=Math.min(.05,h.deltaTime);t.enemyY=t.prevEnemyY,t.prevEnemyY=-1/0,t.ev.emit("update",i*t.speed),t.time+=i,t.pullBackTimer-=i,t.shouldPull=t.pullBackTimer>0}}},this.gesture||(this.gesture=new T)}var s=t.prototype;return s.init=function(){console.log("BattleManager init",this),this.world=l.newWorld(64),this.spawner||(this.spawner=new w(this)),p.timer.schedule(this.update)},s.bindView=function(){var t=i(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.view=e,console.log(this.view),this.center={x:.5*this.width,y:.5*this.height},this.layers={bg:e.m_bg_layer,enemy:e.m_enemy_layer,txt:e.m_txt_layer,player:e.m_player_layer,bullet:e.m_bullet_layer,effect:e.m_effect_layer,board:e.m_dmg_layer,boss:e.m_boss_layer,part:e.m_part_layer,lv:e.m_level_layer};case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.showDebug=function(){a.instance.debugDrawFlags=r.Aabb|r.Pair|r.CenterOfMass|r.Joint|r.Shape},s.resortEnemies=function(){this.enemies.forEach((function(t){t.view.sortingOrder=1e3*t.pos.y-t.pos.x+999999}))},s.newGame=function(){var t=i(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.gameCount+=1,this.config=f.dataList.find((function(t){return t.level==e.level})),t.next=4,this.onStartGame();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onStartGame=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.ev.emit("start"),t.next=3,this.createPlayer();case 3:this.updateView(),this.resetKill(),this.time=0,this.spawner.start(),this.started=!0,this.paused=!1;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.setupPlayer=function(){console.log("准备玩家"),this.player.addWeapon(this.bulletData[this.config.weapon],!1),this.player.setPos(.5*this.view.width,this.floorY)},s.updateView=function(){this.view.m_path.text=D.getExtraGameTips(101),this.view.m_path.stroke=2,this.view.m_path.strokeColor=o.BLACK,this.view.m_game_bg.url="ui://"+d.data.UIPackage+"/"+this.config.bg,this.view.m_withLine.selectedIndex=this.isDragon?0:1},s.addKill=function(){if(this.killed+=1,this.view.m_waveText.text="已通过"+(100*this.killed/this.spawner.total).toFixed(1)+"%",this.isDragon){if(this.spawner.stopped)if(0==this.dragons.length)this.view.m_waveText.text="",this.gameWin();else if(1==this.dragons.length){return this.dragons[0].kill()}}else this.spawner.stopped&&0==this.enemies.length&&(this.view.m_waveText.text="",this.gameWin())},s.resetKill=function(){this.killed=0,this.view.m_waveText.text="已通过"+(100*this.killed/this.spawner.total).toFixed(1)+"%"},s.gameWin=function(){this.started&&(this.clear(),this.ev.emit("over",!0),console.log("游戏胜利"),b.showWithArg({isWin:!0}))},s.gameLose=function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.started){e.next=2;break}return e.abrupt("return");case 2:return this.started=!1,e.next=5,t.delay(.2);case 5:if(!this.started){e.next=7;break}return e.abrupt("return");case 7:this.clear(),this.ev.emit("over",!1),console.log("游戏失败"),b.showWithArg({isWin:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.createPlayer=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.player=new v,this.player.bindEvents(),t.next=4,this.player.createView();case 4:this.player.setPos(.5*this.view.width,.8*this.view.height),this.setupPlayer();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.updater=function(t,e){var i=this;return void 0===e&&(e=0),new Promise((function(n){var s=0,a=i.inst.ev.on("update",(function(r){(s+=r)>e&&(t(0==e?r:s)&&(i.inst.ev.off("update",a),n()),s-=e)}))}))},t.delay=function(t,e){var i=0;return this.updater((function(n){if((i+=n)>t)return null==e||e(),!0}))},s.clear=function(){var t;for(var e in this.ev.emit("end"),this.started=!1,P.inst.clearDmgBoard(),this.player.dispose(),[].concat(this.enemies).forEach((function(t){t.dispose()})),this.enemies.length=0,[].concat(this.panels).forEach((function(t){t.dispose()})),[].concat(this.bottles).forEach((function(t){t.dispose()})),[].concat(this.dragons).forEach((function(t){t.dispose()})),[].concat(this.chests).forEach((function(t){t.dispose()})),this.bottles.length=0,this.panels.length=0,this.dragons.length=0,this.chests.length=0,null==(t=m.pool)||t.clear(),W.pools)W.pools[e].clear();for(var i in P.pools)P.pools[i].clear()},s.getEnemeyInRange=function(t,e){return this.enemies.filter((function(i){return i.enabled&&k.distanceObject(t,i)<e}))},s.getDragonInRange=function(t,e){return this.dragons.filter((function(i){return i.enabled&&k.distanceObject(t,i)<e}))},s.showToast=function(t){if(t.toast){var e=g.createInstance();e.m_icon.url="ui://"+d.data.LVPackage+"/"+t.toast,this.view.addChild(e),e.x=375,e.y=2e3,u(e).to(.5,{y:.4*this.view.height},{easing:"quadIn"}).delay(1).to(.2,{scaleX:0,scaleY:0}).call((function(){e.dispose()})).start()}},s.showCup=function(){_.showWithArg({ids:[101,201,301]})},e(t,[{key:"gameConst",get:function(){return d.data}},{key:"height",get:function(){return this.view.height}},{key:"width",get:function(){return this.view.width}},{key:"floorY",get:function(){return this.view.m_floor.y}},{key:"delta",get:function(){return h.deltaTime*this.speed}},{key:"isHard",get:function(){var t=!!globalThis.__GM?d.data.hard_level_count:d.data.hard_level_count_player;return this.gameCount%t!=0}},{key:"bulletData",get:function(){return C()?E.data:c.data}},{key:"bulletDataList",get:function(){return C(),E.dataList}}],[{key:"inst",get:function(){return this._inst=this._inst||new t,globalThis.battle=this._inst,this._inst}}]),t}())._inst=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/BattleManager22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bump-ts.esm.mjs","./ShoudaqiaoBeginPanelConfig.ts","./ShoudaqiaoBulletConfig2.ts","./ShoudaqiaoBulletConfigPlayer.ts","./ShoudaqiaoGameConst2.ts","./ShoudaqiaoLevelConfig.ts","./YT.ts","./SubGameData.ts","./UI_Toast3.ts","./fairygui.mjs","./BridgeBgMove.ts","./GameBullet22.ts","./GameEnemy22.ts","./GamePlayer22.ts","./GameSpawner2.ts","./SZLBattleState2.ts","./WindowBase22.ts","./WindowCup22.ts","./WindowWin2.ts","./fguiGesture22.ts","./util22.ts","./EffectManager22.ts"],(function(e){var t,i,n,s,a,r,o,l,h,u,c,d,f,g,y,p,m,v,b,w,_,x,L,T,B,P,C,k,E,S,W,Y,I,M;return{setters:[function(e){t=e.createClass,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e.PhysicsSystem2D,r=e.EPhysics2DDrawFlags,o=e.Color,l=e.tween,h=e.Tween,u=e.game},function(e){c=e.default},function(e){d=e.ShoudaqiaoBeginPanelConfig},function(e){f=e.ShoudaqiaoBulletConfig},function(e){g=e.ShoudaqiaoBulletConfigPlayer},function(e){y=e.ShoudaqiaoGameConst},function(e){p=e.ShoudaqiaoLevelConfig},function(e){m=e.YT},function(e){v=e.SubGameData},function(e){b=e.default},function(e){w=e.UIPackage},function(e){_=e.BridgeBgMove},function(e){x=e.default},function(e){L=e.default},function(e){T=e.default},function(e){B=e.default},function(e){P=e.default},function(e){C=e.default},function(e){k=e.default},function(e){E=e.default},function(e){S=e.default},function(e){W=e.default,Y=e.Emitter,I=e.isDouyin},function(e){M=e.default}],execute:function(){s._RF.push({},"c878c8u8WtCF6TQ6+yRZuKk","BattleManager2",void 0),e("default",function(){function e(){var e=this;this.gesture=null,this.started=!1,this.center=void 0,this.prevEnemyY=void 0,this.prevTime=void 0,this.level=1,this.shouldPull=!1,this.isDragon=void 0,this.world=void 0,this.ev=new Y(this),this.paused=!1,this.enemies=[],this.panels=[],this.dropPanels=[],this.bottles=[],this.dragons=[],this.chests=[],this.player=void 0,this.spawner=void 0,this.bridgeBgMove=null,this.speed=1,this.killed=0,this.enemyY=0,this.config=void 0,this.view=void 0,this.timeouts=[],this.layers=void 0,this.gameCount=0,this.scale=1,this.allYMove=300,this.bgYMove=1e3,this.allTime=11,this.allTime_2=6,this.beginLayer=void 0,this.beginChooseing=!1,this.beginTime=0,this.curBeginPanelId=1,this.anyWindow=!1,this.time=0,this.scroll=0,this.pullBackTimer=0,this.update=function(){if(!e.paused){var t=Math.min(.05,u.deltaTime);if(e.beginChooseing){e.beginTime+=t;var i=d.data[e.curBeginPanelId];i&&e.beginTime>=i.startTime&&(e.curBeginPanelId+=1,e.createBeginPanel(i))}var n=m.gui.getWindow(C);n&&!e.anyWindow?e.ev.emit("pause"):!n&&e.anyWindow&&e.ev.emit("resume"),e.anyWindow=!!n,e.anyWindow||e.view&&!e.view.isDisposed&&(e.enemyY=e.prevEnemyY,e.prevEnemyY=-1/0,e.ev.emit("update",t*e.speed),e.time+=t,e.pullBackTimer-=t,e.shouldPull=e.pullBackTimer>0)}},this.gesture||(this.gesture=new S)}var s=e.prototype;return s.init=function(){console.log("BattleManager init",this),this.world=c.newWorld(64),this.spawner||(this.spawner=new B(this)),m.timer.schedule(this.update),this.bridgeBgMove=P.Ins.scene.getComponentInChildren(_)},s.bindView=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view=t,console.log(this.view),this.center={x:.5*this.width,y:.5*this.height},this.layers={bg:t.m_bg_layer,enemy:t.m_enemy_layer,txt:t.m_txt_layer,player:t.m_player_layer,bullet:t.m_bullet_layer,effect:t.m_effect_layer,board:t.m_dmg_layer,boss:t.m_boss_layer,part:t.m_part_layer,lv:t.m_level_layer};case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.showDebug=function(){a.instance.debugDrawFlags=r.Aabb|r.Pair|r.CenterOfMass|r.Joint|r.Shape},s.resortEnemies=function(){this.enemies.forEach((function(e){e.view.sortingOrder=1e3*e.pos.y-e.pos.x+999999}))},s.newGame=function(){var e=i(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gameCount+=1,this.config=p.dataList.find((function(e){return e.level==t.level})),e.next=4,this.onStartGame();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onStartGame=function(){var e=i(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.timeouts.forEach((function(e){clearTimeout(e)})),this.timeouts=[],this.ev.emit("start"),e.next=5,this.createPlayer();case 5:this.updateView(),this.paused=!1,this.view.m_finger.play(),this.startBeginPanel((function(){t.resetKill(),t.time=0,t.spawner.start(),t.started=!0}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.setupPlayer=function(){console.log("准备玩家"),this.player.addWeapon(this.bulletData[this.config.weapon],!1),this.player.setPos(.5*this.view.width,this.floorY)},s.updateView=function(){this.view.m_path.text=v.getExtraGameTips(901),this.view.m_path.stroke=2,this.view.m_path.strokeColor=o.BLACK,this.view.m_game_bg.url="ui://"+y.data.UIPackage+"/"+this.config.bg,this.view.m_withLine.selectedIndex=this.isDragon?0:1,this.beginTime=0,this.curBeginPanelId=1,this.view.m_beginLayer&&(this.beginLayer=this.view.m_beginLayer,1==this.config.beginType?this.beginLayer.visible=!0:this.beginLayer.visible=!1)},s.startBeginPanel=function(e){var t=this;if(!this.beginLayer)return this.player.playNormal(),void e();var i=1.5;this.beginChooseing=!0;var n=this.player.y;if(1==this.config.beginType){var s=this.view.m_beginLayer.localToGlobal(this.view.m_beginLayer.m_rEnd.x,this.view.m_beginLayer.m_rEnd.y);this.player.setPos(this.player.x,this.view.m_player_layer.globalToLocal(s.x,s.y).y+365),this.player.slideR(!0),this.player.playAnimLa(),l(this.beginLayer).by(this.allTime,{y:-this.allYMove}).call((function(){t.beginLayer.setPosition(t.beginLayer.x,t.beginLayer.y+t.allYMove),t.beginLayer.visible=!1,t.beginLayer=null,t.player.playAnimLuo(i),t.view.m_suduxian.visible=!0;var s=t.player;l(t.player.pos).to(i,{y:n},{easing:"quintIn",onUpdate:function(){s.setPos(s.pos.x,s.pos.y)}}).call((function(){t.beginChooseing=!1,t.player.playNormal(),M.inst.playAnimEffect("shoudaqiao2_res@tiaoxia",t.player.x,t.player.y,t.scale,t.layers.effect),t.view.m_suduxian.visible=!1})).delay(.3).call((function(){e()})).tag(88888).start()})).tag(88888).start(),l(this.player).by(this.allTime,{y:-this.allYMove}).tag(88888).start();var a=this.view.m_game_bg.component.m_game_bg2;a.setPosition(a.x,a.y-this.bgYMove),a.setScale(.2,.2),l(a).by(this.allTime,{y:this.bgYMove+80,scaleX:1,scaleY:1}).by(1.5,{y:-80,scaleX:-.2,scaleY:-.2},{easing:"quintIn"}).tag(88888).start()}else 2==this.config.beginType&&(this.bridgeBgMove.init(this.allTime_2,i),this.beginLayer.visible=!1,this.player.setPos(this.player.x,this.player.y+100),this.player.slideR(!1,!1),l(this.player).by(this.allTime_2,{y:1}).call((function(){t.player.playAnimLuo(i),t.view.m_suduxian.visible=!0;var s=t.player;l(t.player.pos).to(.75,{y:t.player.y-500}).to(.75,{y:n},{easing:"quintIn",onUpdate:function(){s.setPos(s.pos.x,s.pos.y)}}).call((function(){t.beginChooseing=!1,t.player.playNormal(),M.inst.playAnimEffect("shoudaqiao2_res@tiaoxia",t.player.x,t.player.y,t.scale,t.layers.effect),t.view.m_suduxian.visible=!1})).delay(.3).call((function(){e()})).tag(88888).start()})).tag(88888).start())},s.createBeginPanel=function(e){var t=this;if(1==this.config.beginType){var i=w.createObject("shoudaqiao2",e.viewL).asCom;this.beginLayer.addChild(i),i.m_buffLabel.text=e.desL,i.setPosition(this.beginLayer.m_lStart.x,this.beginLayer.m_lStart.y),i.setScale(0,0),i.sortingOrder=1e4-e.id,l(i).to(e.time,{scaleX:.8,scaleY:.8,x:this.beginLayer.m_lEnd.x,y:this.beginLayer.m_lEnd.y}).call((function(){t.player.beginIsLeft&&t.player.setBaseBuff(e.symbolTypeL,e.buffTypeL,e.valueL),i.dispose()})).tag(88888).start();var n=w.createObject("shoudaqiao2",e.viewR).asCom;this.beginLayer.addChild(n),n.m_buffLabel.text=e.desR,n.setPosition(this.beginLayer.m_rStart.x,this.beginLayer.m_rStart.y),n.setScale(0,0),n.sortingOrder=1e4-e.id,l(n).to(e.time,{scaleX:.8,scaleY:.8,x:this.beginLayer.m_rEnd.x,y:this.beginLayer.m_rEnd.y}).tag(88888).call((function(){t.player.beginIsLeft||t.player.setBaseBuff(e.symbolTypeR,e.buffTypeR,e.valueR),n.dispose()})).start()}else this.config.beginType},s.addKill=function(){if(this.killed+=1,this.view.m_waveText.text="已通过"+(100*this.killed/this.spawner.total).toFixed(1)+"%",this.isDragon){if(this.spawner.stopped)if(0==this.dragons.length)this.view.m_waveText.text="",this.gameWin();else if(1==this.dragons.length){return this.dragons[0].kill()}}else this.spawner.stopped&&0==this.enemies.length&&(this.view.m_waveText.text="",this.gameWin())},s.resetKill=function(){this.killed=0,this.view.m_waveText.text="已通过"+(100*this.killed/this.spawner.total).toFixed(1)+"%"},s.gameWin=function(){this.started&&(this.clear(),this.ev.emit("over",!0),console.log("游戏胜利"),E.showWithArg({isWin:!0}))},s.gameLose=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.started){t.next=2;break}return t.abrupt("return");case 2:return this.started=!1,t.next=5,e.delay(.2);case 5:if(!this.started){t.next=7;break}return t.abrupt("return");case 7:this.clear(),this.ev.emit("over",!1),console.log("游戏失败"),E.showWithArg({isWin:!1});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.createPlayer=function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.player=new T,this.player.bindEvents(),e.next=4,this.player.createView();case 4:this.player.setPos(.5*this.view.width,.8*this.view.height),this.setupPlayer();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.updater=function(e,t){var i=this;return void 0===t&&(t=0),new Promise((function(n){var s=0,a=i.inst.ev.on("update",(function(r){(s+=r)>t&&(e(0==t?r:s)&&(i.inst.ev.off("update",a),n()),s-=t)}))}))},e.delay=function(e,t){var i=0;return this.updater((function(n){if((i+=n)>e)return null==t||t(),!0}))},s.clear=function(){var e;for(var t in this.paused=!0,this.timeouts.forEach((function(e){clearTimeout(e)})),this.timeouts=[],h.stopAllByTag(88888),this.ev.emit("end"),this.started=!1,M.inst.clearDmgBoard(),this.player.dispose(),[].concat(this.enemies).forEach((function(e){e.dispose()})),this.enemies.length=0,[].concat(this.panels).forEach((function(e){e.dispose()})),[].concat(this.bottles).forEach((function(e){e.dispose()})),[].concat(this.dragons).forEach((function(e){e.dispose()})),[].concat(this.chests).forEach((function(e){e.dispose()})),this.bottles.length=0,this.panels.length=0,this.dragons.length=0,this.chests.length=0,null==(e=L.pool)||e.clear(),x.pools)x.pools[t].clear();for(var i in M.pools)M.pools[i].clear()},s.getEnemeyInRange=function(e,t){return this.enemies.filter((function(i){return i.enabled&&W.distanceObject(e,i)<t}))},s.getDragonInRange=function(e,t){return this.dragons.filter((function(i){return i.enabled&&W.distanceObject(e,i)<t}))},s.showToast=function(e){var t=b.createInstance();t.m_icon.url="ui://"+y.data.UIPackage+"/piaodai",t.m_icon.component.m_label.text=e.toast,this.view.addChild(t),t.x=-750,t.y=.4*this.view.height,l(t).to(.3,{x:375},{easing:"quadIn"}).delay(1).to(.2,{scaleX:0,scaleY:0}).call((function(){t.dispose()})).tag(88888).start()},s.showCup=function(){k.showWithArg({ids:[101,201,301]})},t(e,[{key:"gameConst",get:function(){return y.data}},{key:"height",get:function(){return this.view.height}},{key:"width",get:function(){return this.view.width}},{key:"floorY",get:function(){return this.view.m_floor.y}},{key:"delta",get:function(){return u.deltaTime*this.speed}},{key:"isHard",get:function(){var e=!!globalThis.__GM?y.data.hard_level_count:y.data.hard_level_count_player;return this.gameCount%e!=0}},{key:"bulletData",get:function(){return I()?g.data:f.data}},{key:"bulletDataList",get:function(){return I(),g.dataList}}],[{key:"inst",get:function(){return this._inst=this._inst||new e,globalThis.battle=this._inst,this._inst}}]),e}())._inst=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/BattleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./BulletConfig.ts","./EquipConfig.ts","./HeroConfig.ts","./Awaiters.ts","./YT.ts","./LoadingData.ts","./LoadingManager.ts","./GameStateBase.ts","./MainConst.ts","./BattleControl.ts","./DamageTextCmp2.ts"],(function(t){var n,e,a,r,o,i,s,u,c,l,d,f,p,h,_,v,g,m,w,y;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t.tween,u=t.Prefab},function(t){c=t.BuildsConfig},function(t){l=t.BulletConfig},function(t){d=t.EquipConfig},function(t){f=t.HeroConfig},function(t){p=t.Awaiters},function(t){h=t.YT},function(t){_=t.LoadingGroup},function(t){v=t.LoadingManager},function(t){g=t.GameStateBase},function(t){m=t.MAIN_BUNDLE},function(t){w=t.BattleControl},function(t){y=t.DamageTextCmp}],execute:function(){i._RF.push({},"1383ayKHgpLCrS7cZNwsb2O","BattleState",void 0),t("BattleState",function(t){n(g,t);var i=g.prototype;function g(){var n;return(n=t.call(this)||this)._control=void 0,n._pause=void 0,g._instance=a(n),n._control=new w,n}return i.pause=function(){this._pause=!0},i.resume=function(){this._pause=!1},i.onEnterState=function(){var t=r(o().mark((function t(){var n,e=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length<=0?void 0:e[0],t.next=3,this._loadRes(n);case 3:return this._control.init(n),this.scene=n.data.scene,h.audio.play(1),t.next=8,p.Seconds(this._enterAni(n.data));case 8:n.data.levelControl.view.enterBattle(),this._control.enter();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i._afterSceneLoaded=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i._onPreEnter=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i._getPreloads=function(t){},i._doEnterState=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.update=function(t,n){this._pause||this._control.update(t)},i.lateUpdate=function(t,n){this._pause||this._control.lateUpdate(t)},i._doDestroy=function(){this._control.clear(),y.Clear(),g._instance=null},i._onLeave=function(){this._control.leave()},i._enterAni=function(t){var n=t.uiCamera.orthoHeight,e=t.mapCamera;return s(e).to(.5,{orthoHeight:n}).start(),.5},i.enterHall=function(t,n){var e={data:this._control.runTimeData,type:t,resultData:n};this._onLeave(),h.logic.onEnterHall(e)},i._loadRes=function(){var t=r(o().mark((function t(n){var e,a,r,i,s,l,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=new _,a=f.data[n.battleData.playerId],e.add(a.res,m,u),n.battleData.towerId&&(r=c.data[n.battleData.towerId].bullet,this._addResByBulletId(r,e)),n.battleData.remoteWeaponId&&(i=Number(d.data[n.battleData.remoteWeaponId].model),this._addResByBulletId(i,e)),s=0;s<n.battleData.soldierIds.length;++s)(l=n.battleData.soldierIds[s])&&(p=c.data[l],e.add(p.res,m,u),p.bullet>0&&this._addResByBulletId(p.addHp,e));return t.next=8,this._doLoad(e);case 8:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i._addResByBulletId=function(t,n){if(t){var e=l.data[t].model;n.add(e,m,u)}},i._doLoad=function(){var t=r(o().mark((function t(n){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Date.now(),t.abrupt("return",new Promise((function(t){v.instance.startLoad(n,(function(){console.log("耗时: "+(Date.now()-e)+"ms"),t()}),!0)})));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),e(g,[{key:"control",get:function(){return this._control}},{key:"isPause",get:function(){return this._pause}}],[{key:"ins",get:function(){return this._instance}}]),g}(g))._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUtils.ts",["cc"],(function(t){var n,e,r,a,i;return{setters:[function(t){n=t.cclegacy,e=t.Vec2,r=t.Vec3,a=t.toDegree,i=t.math}],execute:function(){n._RF.push({},"7a7e7J0mqtJorazZF3bEYZl","BattleUtils",void 0);t("BattleUtils",function(){function t(){}return t.isCrossByCircle=function(t,n,e,r){var a=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return!(a>n+r||a<Math.abs(n-r))},t.isCrossByCircle2=function(t,n,e,r){return!(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))>n+r)},t.findCircleIntersections=function(t,n,e,a,i){var o=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));if(o>n+a||o<Math.abs(n-a))return!1;var h=(Math.pow(n,2)-Math.pow(a,2)+Math.pow(o,2))/(2*o),y=Math.sqrt(Math.pow(n,2)-Math.pow(h,2)),x=t.x+h*(e.x-t.x)/o,c=t.y+h*(e.y-t.y)/o,s=null!=i?i:new r;return s.x=x+y*(e.y-t.y)/o,s.y=c-y*(e.x-t.x)/o,!0},t.findCircleIntersectionsTowPos=function(t,n,e,r){var a=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));if(a>n+r||a<Math.abs(n-r))return null;var i=(Math.pow(n,2)-Math.pow(r,2)+Math.pow(a,2))/(2*a),o=Math.sqrt(Math.pow(n,2)-Math.pow(i,2)),h=t.x+i*(e.x-t.x)/a,y=t.y+i*(e.y-t.y)/a;return a===n+r||a===Math.abs(n-r)?null:(v[0].x=h+o*(e.y-t.y)/a,v[0].y=y-o*(e.x-t.x)/a,v[0].x=h-o*(e.y-t.y)/a,v[0].y=y+o*(e.x-t.x)/a,v)},t.rectContainPoint=function(t,n,e){return e.x>t.x-n.width/2&&e.x<t.x+n.width/2&&e.y>t.y-n.height/2&&e.y<t.y+n.height/2},t.cricleContainPoint=function(t,n,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))<=n},t.isRectIntersect=function(t,n,e,r){var a=t.x-n.width/2,i=t.y-n.height/2,o=t.x+n.width/2,h=t.y+n.height/2,y=e.x-r.width/2,x=e.y-r.height/2,c=e.x+r.width/2,s=e.y+r.height/2;return!(a>c||o<y||i>s||h<x)},t.isIntersectRectCircle=function(t,n,e,r){var a=t.x-n.width/2,i=t.x+n.width/2,o=t.y-n.height/2,h=t.y+n.height/2,y=e.x,x=e.y;e.x<a?y=a:e.x>i&&(y=i),e.y<o?x=o:e.y>h&&(x=h);var c=e.x-y,s=e.y-x;return Math.sqrt(c*c+s*s)<=r},t.getVectorVerticalDir=function(t,n,e){n?(e.x=t.y,e.y=-1*t.x):(e.x=-1*t.y,e.y=t.x)},t.vectorToRadian=function(t){var n=Math.atan2(t.y,t.x);return n<0&&(n+=2*Math.PI),n},t.vectorToDegree=function(t){var n=this.vectorToRadian(t);return a(n)},t.vectorBetween=function(t,n,r){var a=e.angle(t,n),i=e.angle(t,r),o=e.angle(n,r);return i<a&&o<a},t.getDistance=function(t,n){return e.distance(t,n)},t.getPositionVector=function(t,n,r){var a=null!=r?r:new e;return r.x=n.x-t.x,r.y=n.y-t.y,a.normalize()},t.vectorToAngle=function(t){var n=180*Math.atan2(t.y,t.x)/Math.PI;return n<0&&(n+=360),n},t.getPositionAngle=function(t,n){var e=this.getPositionVector(t,n,o);return this.vectorToAngle(e)},t.getRandomPointInCircle=function(t,n,e,r){void 0===r&&(r=0);var a=Math.random()*Math.PI*2,i=Math.sqrt(Math.random())*n+r;return e.x=t.x+i*Math.cos(a),e.y=t.y+i*Math.sin(a),e},t.getRandomPointInRectBySize=function(t,n,e){return this.getRandomPointInRect(t,n.width,n.height,e)},t.getRandomPointInRect=function(t,n,e,r){return r.x=i.randomRange(t.x-n/2,t.x+n/2),r.y=i.randomRange(t.y-e/2,t.y+e/2),r},t.circleCross=function(t,n,r,a,i){var v=e.distance(t,r);if(v<=Math.abs(n-a))return!1;if(v>=n+a)return!1;var p=o;e.subtract(p,r,t),p.normalize();h.set(o).negative();var g=(Math.pow(n,2)-Math.pow(a,2)+Math.pow(v,2))/(2*v),d=Math.sqrt(Math.pow(n,2)-Math.pow(g,2));return f.x=t.x+g*p.x,f.y=t.y+g*p.y,y.x=f.x+d*(r.y-t.y)/v,y.y=f.y-d*(r.x-t.x)/v,x.x=f.x-d*(r.y-t.y)/v,x.y=f.y+d*(r.x-t.x)/v,e.subtract(c,y,t),c.normalize(),e.subtract(s,x,t),s.normalize(),e.subtract(u,y,r),u.normalize(),e.subtract(M,x,r),M.normalize(),w.x=-1*o.y,w.y=o.x,l.x=o.y,l.y=-1*o.x,i[0].set(c),i[1].set(s),i[2].set(u),i[3].set(M),i[4].set(f),!0},t.circleCross2=function(t,n,r,a,i){var v=e.distance(t,r);if(v<=Math.abs(n-a))if(n>a)n=v;else{if(!(n<a))return 1;a=v}if(v>n+a)return 0;var p=o;e.subtract(p,r,t),p.normalize();h.set(o).negative();var g=(Math.pow(n,2)-Math.pow(a,2)+Math.pow(v,2))/(2*v),d=Math.sqrt(Math.pow(n,2)-Math.pow(g,2));return f.x=t.x+g*p.x,f.y=t.y+g*p.y,y.x=f.x+d*(r.y-t.y)/v,y.y=f.y-d*(r.x-t.x)/v,x.x=f.x-d*(r.y-t.y)/v,x.y=f.y+d*(r.x-t.x)/v,e.subtract(c,y,t),c.normalize(),e.subtract(s,x,t),s.normalize(),e.subtract(u,y,r),u.normalize(),e.subtract(M,x,r),M.normalize(),w.x=-1*o.y,w.y=o.x,l.x=o.y,l.y=-1*o.x,i[0].set(c),i[1].set(s),i[2].set(u),i[3].set(M),i[4].set(f),2},t}());var o=new e,h=new e,y=new e,x=new e,c=new e,s=new e,u=new e,M=new e,w=new e,l=new e,f=new e,v=[{x:0,y:0},{x:0,y:0}];n._RF.pop()}}}));

System.register("chunks:///_virtual/BattleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./SubGameData.ts","./UI_Battle3.ts","./BattleManager.ts","./WindowSettings2.ts","./const.ts"],(function(t){var i,n,e,s,a,o,u,c,l,r;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy},function(t){s=t.ViewBase},function(t){a=t.YT},function(t){o=t.SubGameData},function(t){u=t.default},function(t){c=t.default},function(t){l=t.default},function(t){r=t.treeSpiritGameID}],execute:function(){e._RF.push({},"28ad78OOeBFwb3KiNUd+qgK","BattleView",void 0);t("BattleView",function(t){function e(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).aligneCenter=!0,i}i(e,t);var s=e.prototype;return s._onCreate=function(){console.log("创建视图"),c.inst.bindView(this.ui),c.inst.newGame(),this.ui.m_back.onClick((function(){c.inst.clear(),a.logic.onEnterHall()})),this.ui.m_pause.onClick((function(){c.inst.pause(!0,!0)})),this.ui.m_setting.onClick((function(){l.show()})),this.ui.m_pauseMask.onClick((function(){c.inst.pause(!1,!0)})),this.refreshPath()},s.refreshPath=function(){this.ui.m_pause.visible=a.isGM,this.ui.m_cp.visible=!1,globalThis.__GM&&(this.ui.m_path.visible=!0),this.ui.m_path.text=o.getExtraGameTips(r)},s._preShowAnim=function(){console.log("显示视图")},s._afterShowAnim=function(){},s._preHideAnim=function(){},s._afterHideAnim=function(){},n(e,null,[{key:"inst",get:function(){return this._getInstance(e,u)}}]),e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/BattleView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HurtEffectLayer.ts","./MapLayer.ts","./PosTipsLayer.ts","./TouchLayer.ts","./UILayer.ts"],(function(t){var e,i,o,a,r,h,s;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){o=t.HurtEffectLayer},function(t){a=t.MapLayer},function(t){r=t.PosTipsLayer},function(t){h=t.TouchLayer},function(t){s=t.UILayer}],execute:function(){i._RF.push({},"6506a+/z7FFJ5LrLFLx1cnM","BattleView",void 0);t("BattleView",function(){function t(){this._touchLayer=void 0,this._posTipsLayer=void 0,this._mapLayer=void 0,this._uiLayer=void 0,this._hurtEffectLayer=void 0,this._effectRoot=void 0,this._hurtRoot=void 0,this._dialogRoot=void 0,this._topRoot=void 0,this._battleNodeMap=void 0,this._battleNodeUI=void 0}var i=t.prototype;return i.haveDialog=function(){return this._dialogRoot.children.length>0},i.init=function(t){this._battleNodeMap=t.getChildByPath("CanvasMap/_BATTLE_MAP"),this._battleNodeUI=t.getChildByPath("Canvas/_BATTLE_UI"),this._touchLayer=this._battleNodeUI.getChildByName("_touch").getComponent(h),this._uiLayer=this._battleNodeUI.getChildByName("_ui").getComponent(s),this._dialogRoot=this._battleNodeUI.getChildByName("_dialog"),this._topRoot=this._battleNodeUI.getChildByName("_top"),this._hurtEffectLayer=this._battleNodeUI.getChildByName("_hurt_effect").getComponent(o),this._posTipsLayer=this._battleNodeMap.getChildByName("_pos_tips").getComponent(r),this._mapLayer=this._battleNodeMap.getChildByName("_map").getComponent(a),this._effectRoot=this._battleNodeMap.getChildByName("_effect"),this._hurtRoot=this._battleNodeMap.getChildByName("_hurt_text")},i.update=function(t){var e,i,o;null==(e=this._mapLayer)||e.logicUpdate(t),null==(i=this._posTipsLayer)||i.logicUpdate(t),null==(o=this._hurtEffectLayer)||o.logicUpdate(t)},i.lateUpdate=function(t){},i.enter=function(){this._battleNodeMap.active=!0,this._battleNodeUI.active=!0,this._touchLayer.enter(),this._posTipsLayer.enter(),this._hurtEffectLayer.enter()},i.leave=function(){var t;this._battleNodeMap.active=!1,this._battleNodeUI.active=!1,null==(t=this._mapLayer)||t.logicUpdate(1),this._touchLayer.leave(),this._posTipsLayer.leave(),this._hurtEffectLayer.leave()},e(t,[{key:"touchLayer",get:function(){return this._touchLayer}},{key:"posTipsLayer",get:function(){return this._posTipsLayer}},{key:"mapLayer",get:function(){return this._mapLayer}},{key:"uiLayer",get:function(){return this._uiLayer}},{key:"hurtEffectLayer",get:function(){return this._hurtEffectLayer}},{key:"effectRoot",get:function(){return this._effectRoot}},{key:"hurtRoot",get:function(){return this._hurtRoot}},{key:"dialogRoot",get:function(){return this._dialogRoot}},{key:"topRoot",get:function(){return this._topRoot}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BattleView22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./UI_Battle4.ts","./BattleManager22.ts","./WindowSettings22.ts","./util22.ts"],(function(n){var e,t,i,s,a,u,o,c,r,l,f,p,d,h;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass,i=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){a=n.cclegacy,u=n.PhysicsSystem2D,o=n.TweenSystem,c=n.director},function(n){r=n.ViewBase},function(n){l=n.YT},function(n){f=n.default},function(n){p=n.default},function(n){d=n.default},function(n){h=n.default}],execute:function(){a._RF.push({},"d8022fPyGFPH7sOkFJlML35","BattleView2",void 0);n("BattleView",function(n){function a(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=n.call.apply(n,[this].concat(i))||this).aligneCenter=!0,e.allPauseTween=void 0,e}e(a,n);var r=a.prototype;return r._onCreate=function(){var n=i(s().mark((function n(){var e=this;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("创建视图"),p.inst.bindView(this.ui),n.next=4,p.inst.newGame();case 4:this.ui.m_back.onClick((function(){p.inst.clear(),l.logic.onEnterHall()})),this.ui.m_pause.onClick((function(){p.inst.paused||(p.inst.paused=!0,e.ui.m_paused.selectedIndex=1,u.instance.autoSimulation=!1,h.pauseTransitions(p.inst.view),e.allPauseTween=o.instance.ActionManager.pauseAllRunningActions())})),this.ui.m_setting.onClick((function(){d.show()})),this.ui.m_pauseMask.onClick((function(){c.resume(),p.inst.paused=!1,e.ui.m_paused.selectedIndex=0,h.resumeTransitions(),u.instance.autoSimulation=!0,o.instance.ActionManager.resumeTargets(e.allPauseTween)})),this.ui.m_path.visible=l.isGM;case 9:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r._preShowAnim=function(){console.log("显示视图")},r._afterShowAnim=function(){},r._preHideAnim=function(){},r._afterHideAnim=function(){},t(a,null,[{key:"inst",get:function(){return this._getInstance(a,f)}}]),a}(r));a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleManager2.ts","./ViewBase.ts","./YT.ts","./WindowSettings.ts","./util3.ts","./UI_Battle8.ts"],(function(t){var n,e,i,s,u,a,o,c,r,l,f,p,h;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,a=t.PhysicsSystem2D,o=t.director},function(t){c=t.default},function(t){r=t.ViewBase},function(t){l=t.YT},function(t){f=t.default},function(t){p=t.default},function(t){h=t.default}],execute:function(){u._RF.push({},"7c0cenMlx9NbLhFuVVHaaKT","BattleView",void 0);t("BattleView",function(t){function u(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).aligneCenter=!0,n}n(u,t);var r=u.prototype;return r._onCreate=function(){var t=i(s().mark((function t(){var n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("创建视图"),c.inst.bindView(this.ui),t.next=4,c.inst.newGame();case 4:this.ui.m_back.onClick((function(){c.inst.clear(),l.logic.onEnterHall()})),this.ui.m_pause.onClick((function(){c.inst.paused=!0,n.ui.m_paused.selectedIndex=1,a.instance.autoSimulation=!1,p.pauseTransitions(c.inst.view)})),this.ui.m_setting.onClick((function(){f.show()})),this.ui.m_pauseMask.onClick((function(){o.resume(),c.inst.paused=!1,n.ui.m_paused.selectedIndex=0,p.resumeTransitions(),a.instance.autoSimulation=!0})),this.ui.m_path.visible=l.isGM;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._preShowAnim=function(){console.log("显示视图")},r._afterShowAnim=function(){},r._preHideAnim=function(){},r._afterHideAnim=function(){},e(u,null,[{key:"inst",get:function(){return this._getInstance(u,h)}}]),u}(r));u._RF.pop()}}}));

System.register("chunks:///_virtual/BeginPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Enum,u=e.CCFloat,c=e.Component}],execute:function(){var p,s,f,y,b,g,m,d,h;a._RF.push({},"07f67+b211F14O0srPhziIf","BeginPanel",void 0);var v=o.ccclass,P=o.property,T=e("SymbolType",function(e){return e[e.add=1]="add",e[e.mul=2]="mul",e}({})),z=e("BuffType",function(e){return e[e.atk=1]="atk",e[e.as=2]="as",e[e.critRate=3]="critRate",e[e.critDmg=4]="critDmg",e[e.role=5]="role",e[e.burst=6]="burst",e}({}));e("BeginPanel",(p=v("BeginPanel"),s=P({type:l(T)}),f=P({type:l(z)}),y=P(u),p((m=t((g=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"symbolType",m,i(t)),n(t,"buffType",d,i(t)),n(t,"value",h,i(t)),t.canGet=!1,t}return r(t,e),t}(c)).prototype,"symbolType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.add}}),d=t(g.prototype,"buffType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.as}}),h=t(g.prototype,"value",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),b=g))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/BinaryHeap.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"be32d7m/dBEYY20EaC/CxwO","BinaryHeap",void 0);t("BinaryHeap",function(){function t(t){this._content=null,this._score=null,this._content=new Array,this._score=t}var n=t.prototype;return n.push=function(t){this._content.push(t),this.sink_down(this._content.length-1)},n.pop=function(){var t=this._content[0],n=this._content.pop();return this._content.length>0&&(this._content[0]=n,this.bubble_up(0)),t},n.remove=function(t){var n=this._content.indexOf(t),e=this._content.pop();n!==this._content.length-1&&(this._content[n]=e,this._score(e)<this._score(t)?this.sink_down(n):this.bubble_up(n))},n.size=function(){return this._content.length},n.clear=function(){this._content=new Array},n.rescore=function(t){this.sink_down(this._content.indexOf(t))},n.sink_down=function(t){for(var n=this._content[t];t>0;){var e=(t+1>>1)-1,i=this._content[e];if(!(this._score(n)<this._score(i)))break;this._content[e]=n,this._content[t]=i,t=e}},n.bubble_up=function(t){for(var n=this._content.length,e=this._content[t],i=this._score(e);;){var s=t+1<<1,o=s-1,c=null,h=null;if(o<n){var r=this._content[o];(h=this._score(r))<i&&(c=o)}if(s<n){var _=this._content[s];this._score(_)<(null===c?i:h)&&(c=s)}if(null===c)break;this._content[t]=this._content[c],this._content[c]=e,t=c}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BitArray.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"f0256eUOOtKpruQkJTpG0fr","BitArray",void 0);t("BitArray",function(){function t(t){this._src=void 0,this._src=new Uint8Array(Math.ceil(t/8))}var r=t.prototype;return r.set=function(t,r){r?this._src[Math.floor(t/8)]|=1<<t%8:this._src[Math.floor(t/8)]&=~(1<<t%8)},r.get=function(t){return(this._src[Math.floor(t/8)]&1<<t%8)>0},r.fill=function(t){this._src.fill(t)},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/BoxArray.ts",["cc"],(function(t){var i,s,e;return{setters:[function(t){i=t.cclegacy,s=t.view,e=t.math}],execute:function(){i._RF.push({},"348faxBgEtNSYzIvUI6zuw2","BoxArray",void 0);var h=[250,250];t("BoxArray",function(){function t(){this._width=void 0,this._height=void 0,this._rows=void 0,this._cells=void 0,this._dWidth=void 0,this._dHeight=void 0,this._data=void 0}var i=t.prototype;return i.init=function(t,i){this._width=t,this._height=i,this._dWidth=this._width/2-s.getVisibleSize().width/2,this._dHeight=this._height/2-s.getVisibleSize().height/2,this._data=[],this._rows=Math.ceil(i/h[1]),this._cells=Math.ceil(t/h[0]);for(var e=0;e<this._rows;++e){for(var r=[],o=0;o<this._cells;++o)r.push([]);this._data.push(r)}},i.getIndexByPos=function(t,i){var s=this._convertX2Cell(t);return this._convertY2Row(i)*this._cells+s},i.addItem=function(t,i){this.getArrayByIndex(i).push(t)},i.addItemByPos=function(t,i,s){var e=this._convertX2Cell(i),h=this._convertY2Row(s),r=this._data[h][e];r.push(t)},i.removeItem=function(t,i,s){var e=this._data[t][i],h=e.indexOf(s);h>=0&&e.splice(h,1)},i.removeItemByPos=function(t,i,s){var e=this._convertX2Cell(t),h=this._convertY2Row(i);this.removeItem(h,e,s)},i.getArrayByIndex=function(t){var i=Math.floor(t/this._cells),s=t%this._cells;return this._data[i][s]},i.getRangeItems=function(t,i,s){var e=this._convertX2Cell(t),h=this._convertY2Row(i);return this._addItemByCells(h,e,s),h<this._rows-1&&this._addItemByCells(h+1,e,s),h>0&&this._addItemByCells(h-1,e,s),e>0&&this._addItemByCells(h,e-1,s),e<this._cells-1&&this._addItemByCells(h,e+1,s),h>0&&e>0&&this._addItemByCells(h-1,e-1,s),h>0&&e<this._cells-1&&this._addItemByCells(h-1,e+1,s),h<this._rows-1&&e>0&&this._addItemByCells(h+1,e-1,s),h<this._rows-1&&e<this._cells-1&&this._addItemByCells(h+1,e+1,s),s},i._addItemByCells=function(t,i,s){var e=this._data[t][i];s.push.apply(s,e)},i._convertY2Row=function(t){var i=this._dHeight+t;return e.clamp(Math.floor(i/h[1]),0,this._rows-1)},i._convertX2Cell=function(t){var i=this._dWidth+t;return e.clamp(Math.floor(i/h[0]),0,this._cells-1)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BoxArray2.ts",["cc","./ZDGameState.ts"],(function(t){var i,e,s;return{setters:[function(t){i=t.cclegacy,e=t.math},function(t){s=t.ZDGameState}],execute:function(){i._RF.push({},"7435bBBJ21N3oGiO2J4+45R","BoxArray",void 0);var h=[250,250];t("BoxArray",function(){function t(){this._width=void 0,this._height=void 0,this._minX=void 0,this._maxX=void 0,this._rows=void 0,this._cells=void 0,this._dWidth=void 0,this._dHeight=void 0,this._data=void 0}var i=t.prototype;return i.init=function(t,i){this._width=t,this._height=i,this._dWidth=this._width/2-s.runtime.ui.mapLayer.viewSize.x/2,this._dHeight=this._height/2-s.runtime.ui.mapLayer.viewSize.y/2,this._data=[],this._rows=Math.ceil(i/h[1]),this._cells=Math.ceil(t/h[0]);for(var e=0;e<this._rows;++e){for(var r=[],a=0;a<this._cells;++a)r.push([]);this._data.push(r)}},i.getIndexByPos=function(t,i){var e=this._convertX2Cell(t);return this._convertY2Row(i)*this._cells+e},i.addItem=function(t,i){this.getArrayByIndex(i).push(t)},i.addItemByPos=function(t,i,e){var s=this._convertX2Cell(i),h=this._convertY2Row(e),r=this._data[h][s];r.push(t)},i.removeItem=function(t,i,e){var s=this._data[t][i],h=s.indexOf(e);h>=0&&s.splice(h,1)},i.removeItemByPos=function(t,i,e){var s=this._convertX2Cell(t),h=this._convertY2Row(i);this.removeItem(h,s,e)},i.getArrayByIndex=function(t){var i=Math.floor(t/this._cells),e=t%this._cells;return this._data[i][e]},i.getRangeItems=function(t,i,h){t=e.clamp(t,s.runtime.ui.mapLayer.MAP_RECT.xMin,s.runtime.ui.mapLayer.MAP_RECT.xMax),i=e.clamp(i,s.runtime.ui.mapLayer.MAP_RECT.yMin,s.runtime.ui.mapLayer.MAP_RECT.yMax);var r=this._convertX2Cell(t),a=this._convertY2Row(i);return this._addItemByCells(a,r,h),a<this._rows-1&&this._addItemByCells(a+1,r,h),a>0&&this._addItemByCells(a-1,r,h),r>0&&this._addItemByCells(a,r-1,h),r<this._cells-1&&this._addItemByCells(a,r+1,h),a>0&&r>0&&this._addItemByCells(a-1,r-1,h),a>0&&r<this._cells-1&&this._addItemByCells(a-1,r+1,h),a<this._rows-1&&r>0&&this._addItemByCells(a+1,r-1,h),a<this._rows-1&&r<this._cells-1&&this._addItemByCells(a+1,r+1,h),h},i._addItemByCells=function(t,i,e){var s=this._data[t][i];e.push.apply(e,s)},i._convertY2Row=function(t){var i=this._dHeight+t;return Math.min(this._rows-1,Math.floor(i/h[1]))},i._convertX2Cell=function(t){var i=this._dWidth+t;return Math.min(this._cells-1,Math.floor(i/h[0]))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BoxArray3.ts",["cc","./ZDGameState3.ts"],(function(t){var i,e,s;return{setters:[function(t){i=t.cclegacy,e=t.math},function(t){s=t.ZDGameState3}],execute:function(){i._RF.push({},"6b000vJk1ZLWqYVObWHp0It","BoxArray3",void 0);var h=[250,250];t("BoxArray3",function(){function t(){this._width=void 0,this._height=void 0,this._minX=void 0,this._maxX=void 0,this._rows=void 0,this._cells=void 0,this._dWidth=void 0,this._dHeight=void 0,this._data=void 0}var i=t.prototype;return i.init=function(t,i){this._width=t,this._height=i,this._dWidth=this._width/2-s.runtime.ui.mapLayer.viewSize.x/2,this._dHeight=this._height/2-s.runtime.ui.mapLayer.viewSize.y/2,this._data=[],this._rows=Math.ceil(i/h[1]),this._cells=Math.ceil(t/h[0]);for(var e=0;e<this._rows;++e){for(var r=[],n=0;n<this._cells;++n)r.push([]);this._data.push(r)}},i.getIndexByPos=function(t,i){var e=this._convertX2Cell(t);return this._convertY2Row(i)*this._cells+e},i.addItem=function(t,i){this.getArrayByIndex(i).push(t)},i.addItemByPos=function(t,i,e){var s=this._convertX2Cell(i),h=this._convertY2Row(e),r=this._data[h][s];r.push(t)},i.removeItem=function(t,i,e){var s=this._data[t][i],h=s.indexOf(e);h>=0&&s.splice(h,1)},i.removeItemByPos=function(t,i,e){var s=this._convertX2Cell(t),h=this._convertY2Row(i);this.removeItem(h,s,e)},i.getArrayByIndex=function(t){var i=Math.floor(t/this._cells),e=t%this._cells;return this._data[i][e]},i.getRangeItems=function(t,i,h){t=e.clamp(t,s.runtime.ui.mapLayer.MAP_RECT.xMin,s.runtime.ui.mapLayer.MAP_RECT.xMax),i=e.clamp(i,s.runtime.ui.mapLayer.MAP_RECT.yMin,s.runtime.ui.mapLayer.MAP_RECT.yMax);var r=this._convertX2Cell(t),n=this._convertY2Row(i);return this._addItemByCells(n,r,h),n<this._rows-1&&this._addItemByCells(n+1,r,h),n>0&&this._addItemByCells(n-1,r,h),r>0&&this._addItemByCells(n,r-1,h),r<this._cells-1&&this._addItemByCells(n,r+1,h),n>0&&r>0&&this._addItemByCells(n-1,r-1,h),n>0&&r<this._cells-1&&this._addItemByCells(n-1,r+1,h),n<this._rows-1&&r>0&&this._addItemByCells(n+1,r-1,h),n<this._rows-1&&r<this._cells-1&&this._addItemByCells(n+1,r+1,h),h},i.getEmptySurround=function(t,i){var s,h,r,n,o,a=this._convertX2Cell(t),_=this._convertY2Row(i),l=[];for(n=-2;n<=2;n++)if(!((r=_+n)<0||r>=this._rows))for(o=-2;o<=2;o++)(h=a+o)<0||h>=this._cells||-2!=n&&2!=n&&-2!=o&&2!=o||(s=this._data[r][h])&&0!=s.length||l.push([h,r]);return l.length>0?(n=e.randomRangeInt(0,l.length),[this._convertCell2X(l[n][0]),this._convertRow2Y(l[n][1])]):null},i._addItemByCells=function(t,i,e){var s=this._data[t][i];e.push.apply(e,s)},i._convertY2Row=function(t){var i=this._dHeight+t;return Math.min(this._rows-1,Math.floor(i/h[1]))},i._convertX2Cell=function(t){var i=this._dWidth+t;return Math.min(this._cells-1,Math.floor(i/h[0]))},i._convertRow2Y=function(t){return t*h[1]-this._dHeight},i._convertCell2X=function(t){return t*h[0]-this._dWidth},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BoxArray4.ts",["cc","./ZDGameState4.ts"],(function(t){var i,e,s;return{setters:[function(t){i=t.cclegacy,e=t.math},function(t){s=t.ZDGameState4}],execute:function(){i._RF.push({},"0ba49sDHSNCQq3ztBo8CIhg","BoxArray4",void 0);var h=[600,600];t("BoxArray",function(){function t(){this._width=void 0,this._height=void 0,this._minX=void 0,this._maxX=void 0,this._rows=void 0,this._cells=void 0,this._dWidth=void 0,this._dHeight=void 0,this._data=void 0}var i=t.prototype;return i.init=function(t,i){this._width=t,this._height=i,this._dWidth=this._width/2-s.runtime.ui.mapLayer.viewSize.x/2,this._dHeight=this._height/2-s.runtime.ui.mapLayer.viewSize.y/2,this._data=[],this._rows=Math.ceil(i/h[1]),this._cells=Math.ceil(t/h[0]);for(var e=0;e<this._rows;++e){for(var r=[],a=0;a<this._cells;++a)r.push([]);this._data.push(r)}},i.getIndexByPos=function(t,i){var e=this._convertX2Cell(t);return this._convertY2Row(i)*this._cells+e},i.addItem=function(t,i){this.getArrayByIndex(i).push(t)},i.addItemByPos=function(t,i,e){var s=this._convertX2Cell(i),h=this._convertY2Row(e),r=this._data[h][s];r.push(t)},i.removeItem=function(t,i,e){var s=this._data[t][i],h=s.indexOf(e);h>=0&&s.splice(h,1)},i.removeItemByPos=function(t,i,e){var s=this._convertX2Cell(t),h=this._convertY2Row(i);this.removeItem(h,s,e)},i.getArrayByIndex=function(t){var i=Math.floor(t/this._cells),e=t%this._cells;return this._data[i][e]},i.getRangeItems=function(t,i,h){t=e.clamp(t,s.runtime.ui.mapLayer.MAP_RECT.xMin,s.runtime.ui.mapLayer.MAP_RECT.xMax),i=e.clamp(i,s.runtime.ui.mapLayer.MAP_RECT.yMin,s.runtime.ui.mapLayer.MAP_RECT.yMax);var r=this._convertX2Cell(t),a=this._convertY2Row(i);return this._addItemByCells(a,r,h),a<this._rows-1&&this._addItemByCells(a+1,r,h),a>0&&this._addItemByCells(a-1,r,h),r>0&&this._addItemByCells(a,r-1,h),r<this._cells-1&&this._addItemByCells(a,r+1,h),a>0&&r>0&&this._addItemByCells(a-1,r-1,h),a>0&&r<this._cells-1&&this._addItemByCells(a-1,r+1,h),a<this._rows-1&&r>0&&this._addItemByCells(a+1,r-1,h),a<this._rows-1&&r<this._cells-1&&this._addItemByCells(a+1,r+1,h),h},i._addItemByCells=function(t,i,e){var s=this._data[t][i];e.push.apply(e,s)},i._convertY2Row=function(t){var i=this._dHeight+t;return Math.min(this._rows-1,Math.floor(i/h[1]))},i._convertX2Cell=function(t){var i=this._dWidth+t;return Math.min(this._cells-1,Math.floor(i/h[0]))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BoxArray5.ts",["cc","./ZDGameState5.ts"],(function(t){var i,e,s;return{setters:[function(t){i=t.cclegacy,e=t.math},function(t){s=t.ZDGameState5}],execute:function(){i._RF.push({},"93bbeDNXFtLGaQpk+yyADVf","BoxArray5",void 0);var h=[1e3,1e3];t("BoxArray",function(){function t(){this._width=void 0,this._height=void 0,this._minX=void 0,this._maxX=void 0,this._rows=void 0,this._cells=void 0,this._dWidth=void 0,this._dHeight=void 0,this._data=void 0}var i=t.prototype;return i.init=function(t,i){this._width=t,this._height=i,this._dWidth=this._width/2-s.runtime.ui.mapLayer.viewSize.x/2,this._dHeight=this._height/2-s.runtime.ui.mapLayer.viewSize.y/2,this._data=[],this._rows=Math.ceil(i/h[1]),this._cells=Math.ceil(t/h[0]);for(var e=0;e<this._rows;++e){for(var r=[],a=0;a<this._cells;++a)r.push([]);this._data.push(r)}},i.getIndexByPos=function(t,i){var e=this._convertX2Cell(t);return this._convertY2Row(i)*this._cells+e},i.addItem=function(t,i){this.getArrayByIndex(i).push(t)},i.addItemByPos=function(t,i,e){var s=this._convertX2Cell(i),h=this._convertY2Row(e),r=this._data[h][s];r.push(t)},i.removeItem=function(t,i,e){var s=this._data[t][i],h=s.indexOf(e);h>=0&&s.splice(h,1)},i.removeItemByPos=function(t,i,e){var s=this._convertX2Cell(t),h=this._convertY2Row(i);this.removeItem(h,s,e)},i.getArrayByIndex=function(t){var i=Math.floor(t/this._cells),e=t%this._cells;return this._data[i][e]},i.getRangeItems=function(t,i,h){t=e.clamp(t,s.runtime.ui.mapLayer.MAP_RECT.xMin,s.runtime.ui.mapLayer.MAP_RECT.xMax),i=e.clamp(i,s.runtime.ui.mapLayer.MAP_RECT.yMin,s.runtime.ui.mapLayer.MAP_RECT.yMax);var r=this._convertX2Cell(t),a=this._convertY2Row(i);return this._addItemByCells(a,r,h),a<this._rows-1&&this._addItemByCells(a+1,r,h),a>0&&this._addItemByCells(a-1,r,h),r>0&&this._addItemByCells(a,r-1,h),r<this._cells-1&&this._addItemByCells(a,r+1,h),a>0&&r>0&&this._addItemByCells(a-1,r-1,h),a>0&&r<this._cells-1&&this._addItemByCells(a-1,r+1,h),a<this._rows-1&&r>0&&this._addItemByCells(a+1,r-1,h),a<this._rows-1&&r<this._cells-1&&this._addItemByCells(a+1,r+1,h),h},i._addItemByCells=function(t,i,e){var s=this._data[t][i];e.push.apply(e,s)},i._convertY2Row=function(t){var i=this._dHeight+t;return Math.min(this._rows-1,Math.floor(i/h[1]))},i._convertX2Cell=function(t){var i=this._dWidth+t;return Math.min(this._cells-1,Math.floor(i/h[0]))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BoxArray6.ts",["cc","./ZDGameState6.ts"],(function(t){var i,e,s;return{setters:[function(t){i=t.cclegacy,e=t.math},function(t){s=t.ZDGameState6}],execute:function(){i._RF.push({},"1ec3cmEfYlMz5M0h1MxdkwW","BoxArray6",void 0);var h=[250,250];t("BoxArray",function(){function t(){this._width=void 0,this._height=void 0,this._minX=void 0,this._maxX=void 0,this._rows=void 0,this._cells=void 0,this._dWidth=void 0,this._dHeight=void 0,this._data=void 0}var i=t.prototype;return i.init=function(t,i){this._width=t,this._height=i,this._dWidth=this._width/2-s.runtime.ui.mapLayer.viewSize.x/2,this._dHeight=this._height/2-s.runtime.ui.mapLayer.viewSize.y/2,this._data=[],this._rows=Math.ceil(i/h[1]),this._cells=Math.ceil(t/h[0]);for(var e=0;e<this._rows;++e){for(var r=[],a=0;a<this._cells;++a)r.push([]);this._data.push(r)}},i.getIndexByPos=function(t,i){var e=this._convertX2Cell(t);return this._convertY2Row(i)*this._cells+e},i.addItem=function(t,i){this.getArrayByIndex(i).push(t)},i.addItemByPos=function(t,i,e){var s=this._convertX2Cell(i),h=this._convertY2Row(e),r=this._data[h][s];r.push(t)},i.removeItem=function(t,i,e){var s=this._data[t][i],h=s.indexOf(e);h>=0&&s.splice(h,1)},i.removeItemByPos=function(t,i,e){var s=this._convertX2Cell(t),h=this._convertY2Row(i);this.removeItem(h,s,e)},i.getArrayByIndex=function(t){var i=Math.floor(t/this._cells),e=t%this._cells;return this._data[i][e]},i.getRangeItems=function(t,i,h){t=e.clamp(t,s.runtime.ui.mapLayer.MAP_RECT.xMin,s.runtime.ui.mapLayer.MAP_RECT.xMax),i=e.clamp(i,s.runtime.ui.mapLayer.MAP_RECT.yMin,s.runtime.ui.mapLayer.MAP_RECT.yMax);var r=this._convertX2Cell(t),a=this._convertY2Row(i);return this._addItemByCells(a,r,h),a<this._rows-1&&this._addItemByCells(a+1,r,h),a>0&&this._addItemByCells(a-1,r,h),r>0&&this._addItemByCells(a,r-1,h),r<this._cells-1&&this._addItemByCells(a,r+1,h),a>0&&r>0&&this._addItemByCells(a-1,r-1,h),a>0&&r<this._cells-1&&this._addItemByCells(a-1,r+1,h),a<this._rows-1&&r>0&&this._addItemByCells(a+1,r-1,h),a<this._rows-1&&r<this._cells-1&&this._addItemByCells(a+1,r+1,h),h},i._addItemByCells=function(t,i,e){var s=this._data[t][i];e.push.apply(e,s)},i._convertY2Row=function(t){var i=this._dHeight+t;return Math.min(this._rows-1,Math.floor(i/h[1]))},i._convertX2Cell=function(t){var i=this._dWidth+t;return Math.min(this._cells-1,Math.floor(i/h[0]))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BoxConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("BoxConfig",void 0),o._RF.push({},"493e3IWLWpEXqnKIZdHzboq","BoxConfig",void 0),function(i){i.config=function(){this.id=void 0,this.type=void 0,this.stage=void 0,this.probability=void 0,this.gold=void 0,this.goldNum=void 0,this.AD=void 0,this.buff=void 0,this.des=void 0,this.num=void 0,this.time=void 0};i.isConst=!1,i.path="config/BoxConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("BoxConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/BoxHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,p,s,c,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){p=e.cclegacy,s=e._decorator,c=e.RigidBody2D,a=e.Vec2,l=e.Component}],execute:function(){var u,y,f,d,m,v,h,g,_;p._RF.push({},"882bfa3NHBA+JNMtfWtY9fi","BoxHelper",void 0);var b=s.ccclass,B=s.property,C=s.menu,D=s.requireComponent;e("BoxHelper",(u=b("CapsuleHelper"),y=C("副玩法11/盒子"),f=D(c),d=B({displayName:"更新"}),m=B({displayName:"删除"}),v=B({displayName:"白边",type:a}),u(h=y(h=f((t((g=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),p=0;p<r;p++)n[p]=arguments[p];return(t=e.call.apply(e,[this].concat(n))||this)._edit=!1,t._remove=!1,o(t,"Offset",_,i(t)),t}r(t,e);var p=t.prototype;return p.removeAll=function(){},p.resetCapsule=function(){},n(t,[{key:"Edit",get:function(){return this._edit},set:function(e){this._edit=e,e&&this.resetCapsule()}},{key:"Remove",get:function(){return this._remove},set:function(e){this._remove=e,e&&this.removeAll()}}]),t}(l)).prototype,"Edit",[d],Object.getOwnPropertyDescriptor(g.prototype,"Edit"),g.prototype),t(g.prototype,"Remove",[m],Object.getOwnPropertyDescriptor(g.prototype,"Remove"),g.prototype),_=t(g.prototype,"Offset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),h=g))||h)||h)||h));p._RF.pop()}}}));

System.register("chunks:///_virtual/BoxView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./UI_Box.ts","./HallView.ts"],(function(t){var n,e,i,r,a,u,o,s,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){u=t.ViewBase},function(t){o=t.YT},function(t){s=t.default},function(t){c=t.HallView}],execute:function(){a._RF.push({},"d37836IkCtJ87co+hpKRwCB","BoxView",void 0);t("BoxView",function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var u=a.prototype;return u._preShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_btn_get_double.onClick(this._onClickAd,this),this.ui.m_btn_get_double.m_ad.selectedIndex=0==o.data.dailyData.boxAdCount?0:1;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._onClickAd=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=o.data.dailyData.boxAdCount){t.next=2;break}return t.abrupt("return",this.addHumer());case 2:return t.next=4,o.game.watchAD("宝箱");case 4:if(!t.sent){t.next=6;break}this.addHumer();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.addHumer=function(){var t;o.data.dailyData.boxAdCount++,o.data.costHumer(-10),o.gui.toast("获得锤子+10"),null==(t=c.instance.curPage)||t.refresh(),this.hide()},u._afterShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u._preHideAnim=function(){},u._afterHideAnim=function(){},e(a,null,[{key:"instance",get:function(){return this._getInstance(a,s)}}]),a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/BridgeBgMove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleManager22.ts","./BeginPanel.ts"],(function(t){var e,i,o,r,n,s,a,l,g,c,u,d,h,f,b,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Node,l=t.v3,g=t.UITransform,c=t.Camera,u=t.tween,d=t.Component},function(t){h=t.default},function(t){f=t.BeginPanel,b=t.SymbolType,p=t.BuffType}],execute:function(){var v,m,y,P,B,S,O,x,M;n._RF.push({},"c8b90rixHxKE77ex/D946Wd","BridgeBgMove",void 0);var w=s.ccclass,C=s.property;t("BridgeBgMove",(v=w("BridgeBgMove"),m=C(a),y=C(a),P=C(a),v((O=e((S=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"bg",O,r(e)),o(e,"bridge",x,r(e)),o(e,"farBg",M,r(e)),e.bridgeOriPos=l(),e.bgOriRotation=l(),e.bgOriScale=l(),e.bridgeMoveSpeed=430,e.startMove=!1,e.startLuo=!1,e.getPosNode=null,e.allPanel=[],e.camera=null,e.moveOffset=120,e}i(e,t);var n=e.prototype;return n.start=function(){this.getPosNode=this.node.getChildByName("getPos"),this.bridgeOriPos.set(this.bridge.worldPosition),console.log("当前: ",this.node.getComponent(g).contentSize),this.bgOriRotation.set(this.bg.eulerAngles),this.bgOriScale.set(this.bg.scale).multiplyScalar(1600/this.node.getComponent(g).contentSize.height),this.allPanel=this.getComponentsInChildren(f),this.camera=this.getComponentInChildren(c)},n.init=function(t,e){var i=this;this.bridge.setWorldPosition(this.bridgeOriPos),this.bg.setRotationFromEuler(this.bgOriRotation),this.allPanel.forEach((function(t){t.node.active=!0,t.canGet=!0})),this.farBg.setScale(.65,.65,.65),u(this.farBg).to(t,{scale:l(.75,.75,.75)}).tag(88888).start(),this.bg.setScale(this.bgOriScale.clone().multiplyScalar(.5)),this.bg.setRotationFromEuler(-40,0,0);u(this.bg).to(t-0,{scale:this.bgOriScale.clone().multiplyScalar(1.1),eulerAngles:l(-25,0,0)}).call((function(){i.bridgeMoveSpeed*=2,u(i.camera).to(1,{fov:15}).to(1,{fov:45}).tag(88888).start()})).to(0,{scale:this.bgOriScale.clone().multiplyScalar(1.2),eulerAngles:l(-20,0,0)}).call((function(){i.startLuo=!0,u(i.bg).to(e,{x:375}).tag(88888).start(),u(i.bridge).to(e,{x:375}).tag(88888).start()})).to(e,{scale:this.bgOriScale.clone().multiplyScalar(1.5),eulerAngles:l(0,0,0)}).call((function(){i.startMove=!1})).tag(88888).start(),this.bridgeMoveSpeed=this.bridge.getComponent(g).height/(t+1.2),this.startMove=!0,this.startLuo=!1},n.update=function(t){var e=this;h.inst.paused||this.startMove&&(this.bridge.setWorldPosition(this.bridge.worldPosition.add(this.bridge.up.clone().multiplyScalar(-t*this.bridgeMoveSpeed))),this.allPanel.forEach((function(t){t.canGet&&t.node.worldPosition.z>=e.getPosNode.worldPosition.z&&(t.canGet=!1,t.node.worldPosition.x<=e.getPosNode.worldPosition.x&&h.inst.player.beginIsLeft&&(t.node.active=!1,console.log("获取!!!左"),e.getBuff(t.symbolType,t.buffType,t.value)),t.node.worldPosition.x>e.getPosNode.worldPosition.x&&!h.inst.player.beginIsLeft&&(t.node.active=!1,console.log("获取!!!右"),e.getBuff(t.symbolType,t.buffType,t.value)))})))},n.getBuff=function(t,e,i){h.inst.player.setBaseBuff(b[t],p[e],i,!0)},n.slideL=function(t){this.startLuo||(u(this.bg).to(t,{x:375+.5*this.moveOffset}).tag(88888).start(),u(this.bridge).to(t,{x:375+this.moveOffset}).tag(88888).start())},n.slideR=function(t){this.startLuo||(u(this.bg).to(t,{x:375-.5*this.moveOffset}).tag(88888).start(),u(this.bridge).to(t,{x:375-this.moveOffset}).tag(88888).start())},e}(d)).prototype,"bg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(S.prototype,"bridge",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(S.prototype,"farBg",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=S))||B));n._RF.pop()}}}));

System.register("chunks:///_virtual/BridgeBgMoveType3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleManager22.ts","./BridgeBgMove.ts"],(function(t){var e,i,o,a,n,r,s,l,c,g,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,s=t.Animation,l=t.tween,c=t.v3,g=t.UITransform},function(t){u=t.default},function(t){p=t.BridgeBgMove}],execute:function(){var d,f,h,y,b;n._RF.push({},"53b5d7diPNOjq8euFPFQ4A1","BridgeBgMoveType3",void 0);var v=r.ccclass,m=r.property;t("BridgeBgMoveType3",(d=v("BridgeBgMoveType3"),f=m(s),d((b=e((y=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,o(e,"enemyAnim",b,a(e)),e.fogOriOpacity=155,e}i(e,t);var n=e.prototype;return n.start=function(){t.prototype.start.call(this),this.fogOriOpacity=this.fogNode.opacity},n.init=function(t,e){var i=this;this.bridge.setWorldPosition(this.bridgeOriPos),this.bg.setRotationFromEuler(this.bgOriRotation),this.enemyAnim.node.setScale(1,1,1),this.fogNode.opacity=this.fogOriOpacity,this.allPanel.forEach((function(t){t.node.active=!0,t.canGet=!0})),this.farBg.setScale(.65,.65,.65),l(this.farBg).to(t,{scale:c(.75,.75,.75)}).tag(88888).start(),this.bg.setScale(this.bgOriScale.clone().multiplyScalar(.5)),this.bg.setRotationFromEuler(-40,0,0);l(this.bg).to(t-0,{scale:this.bgOriScale.clone().multiplyScalar(1.1),eulerAngles:c(-25,0,0)}).call((function(){i.bridgeMoveSpeed*=2,l(i.camera).to(1,{fov:15}).to(1,{fov:45}).tag(88888).start(),l(i.fogNode).to(e/2,{opacity:0}).call((function(){l(i.enemyAnim.node).to(e/2,{scale:c(3,0,1)},{easing:"quintIn"}).tag(88888).start()})).tag(88888).start()})).to(0,{scale:this.bgOriScale.clone().multiplyScalar(1.2),eulerAngles:c(-20,0,0)}).call((function(){i.startLuo=!0,l(i.bg).to(e,{x:375}).tag(88888).start(),l(i.bridge).to(e,{x:375}).tag(88888).start()})).to(e,{scale:this.bgOriScale.clone().multiplyScalar(1.5),eulerAngles:c(0,0,0)}).call((function(){i.startMove=!1})).tag(88888).start(),this.bridgeMoveSpeed=this.bridge.getComponent(g).height/(t+1.2),this.startMove=!0,this.startLuo=!1},n.update=function(t){var e=this;if(!u.inst.paused&&this.startMove){this.bridge.setWorldPosition(this.bridge.worldPosition.add(this.bridge.up.clone().multiplyScalar(-t*this.bridgeMoveSpeed)));var i=u.inst.player;this.allPanel.forEach((function(t){t.canGet&&t.node.worldPosition.z>=e.getPosNode.worldPosition.z&&(t.canGet=!1,t.node.position.x<0&&-1==i.beginPos&&(t.node.active=!1,console.log("获取!!!左"),e.getBuff(t.symbolType,t.buffType,t.value)),t.node.position.x>0&&1==i.beginPos&&(t.node.active=!1,console.log("获取!!!右"),e.getBuff(t.symbolType,t.buffType,t.value)),0==t.node.position.x&&0==i.beginPos&&(t.node.active=!1,console.log("获取!!!中"),e.getBuff(t.symbolType,t.buffType,t.value)))}))}},e}(p)).prototype,"enemyAnim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/BuffBase.ts",["cc","./ZdBuffConfig.ts","./ZWTTools.ts","./ZDConst5.ts","./ZDGameState5.ts"],(function(i){var e,t,o,s,f,n;return{setters:[function(i){e=i.cclegacy},function(i){t=i.ZdBuffConfig},function(i){o=i.ZWTTools},function(i){s=i.ZD5BuffType,f=i.ZD_BUNDLE},function(i){n=i.ZDGameState5}],execute:function(){e._RF.push({},"98ecc1FDKdIRq+R1GP5Yunq","BuffBase",void 0);i("BuffBase",function(){function i(i,e){this.id=1,this.config=void 0,this.survTime=0,this.intervalTime=0,this.owner=void 0,this.effViewNode=void 0,this.id=i,this.config=t.data[i],this.owner=e,this.survTime=this.config.time,this.config.effView&&""!=this.config.effView&&(this.effViewNode=o.PoolManager.Inst.getByPool(this.config.effView,"effect/prefab/"+this.config.effView,f),o.batchesAdd(n.runtime.ui.effectRoot,this.effViewNode),this.effViewNode.setWorldPosition(this.owner.pos))}var e=i.prototype;return e.resetSurvTime=function(){this.survTime=this.config.time},e.onUpdate=function(i){if(this.effViewNode&&this.effViewNode.setWorldPosition(this.owner.pos),this.config.interval&&(this.intervalTime+=i,this.intervalTime>=this.config.interval))switch(this.intervalTime=0,this.config.type){case s.Dot:this.owner.hurt(this.config.value1)}this.survTime-=i,this.survTime<=0&&this.owner.removeBuff(this)},e.destroy=function(){this.effViewNode&&o.PoolManager.Inst.pushByPool(this.config.effView,this.effViewNode)},i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BuildRateView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./UI_BuildRate.ts"],(function(t){var e,n,i,r,u,c,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){u=t.cclegacy},function(t){c=t.ViewBase},function(t){o=t.default}],execute:function(){u._RF.push({},"f92feTILStFD7Gpmk18FpDd","BuildRateView",void 0);t("BuildRateView",function(t){function u(){return t.apply(this,arguments)||this}e(u,t);var c=u.prototype;return c._preShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_btn_close.onClick(this.hide,this);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c._afterShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c._preHideAnim=function(){},c._afterHideAnim=function(){},n(u,null,[{key:"instance",get:function(){return this._getInstance(u,o)}}]),u}(c));u._RF.pop()}}}));

System.register("chunks:///_virtual/BuildsConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var d;i("BuildsConfig",void 0),t._RF.push({},"b2a33WMvL9Pl5rsZWq03qPh","BuildsConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.quality=void 0,this.typeName=void 0,this.res=void 0,this.fire_audio=void 0,this.wood=void 0,this.hp=void 0,this.bullet=void 0,this.addHp=void 0,this.atk=void 0,this.def=void 0,this.range=void 0,this.range1=void 0,this.range2=void 0,this.atkSpeed=void 0,this.speed=void 0,this.speed1=void 0,this.speed12=void 0,this.maxNum=void 0,this.levelHp=void 0,this.levelAtk=void 0,this.levelDef=void 0,this.leveladdHp=void 0,this.unlock=void 0,this.time=void 0,this.weight=void 0,this.magazine=void 0,this.bulletCount=void 0,this.num=void 0,this.penetrate=void 0};i.isConst=!1,i.path="config/BuildsConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(d||(d=i("BuildsConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/BuildsPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./BuildsConfig.ts","./ItemConfig.ts","./Awaiters.ts","./ArrayUtil.ts","./GameUtils.ts","./ViewUtil.ts","./YT.ts","./BuildViewCmp.ts","./UI_popBuild.ts","./BoxView.ts","./BuildRateView.ts","./GetRewardView.ts","./PageBase.ts","./GetBuildNewView.ts"],(function(t){var e,i,n,a,r,s,o,u,c,l,f,h,d,p,m,v,_,w,k,B,g,x,b;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t.Color,s=t.random,o=t.Animation},function(t){u=t.GRoot,c=t.PopupDirection},function(t){l=t.BuildsConfig},function(t){f=t.ItemConfig},function(t){h=t.Awaiters},function(t){d=t.ArrayUtil},function(t){p=t.GameUtils},function(t){m=t.ViewUtil},function(t){v=t.YT},function(t){_=t.BuildViewCmp},function(t){w=t.default},function(t){k=t.BoxView},function(t){B=t.BuildRateView},function(t){g=t.GetRwardView},function(t){x=t.PageBase},function(t){b=t.GetBuildNewView}],execute:function(){a._RF.push({},"424caV78tNHJ5F1L8OWQGmq","BuildsPage",void 0);t("BuildRewardData",(function(){this.lv=void 0,this.fight=void 0,this.type=void 0,this.cfg=void 0})),t("BuildsPage",function(t){function a(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).datas=void 0,e.weights=void 0,e.popup=void 0,e.buildView=void 0,e.effAnim=void 0,e.defaultIcons=[],e.isPlaying=!1,e}e(a,t);var x=a.prototype;return x.onCreate=function(){this.ui.m_btnMake.onClick(this._onClickBtnMake,this),this.ui.m_humer.onClick(this._onClickBtnMake1,this),this.ui.m_btn.onClick(this._onClickBtnBox,this),this.ui.m_btnRate.onClick(this._onClickBtnRate,this),this.popup||(this.popup=w.createInstance()),this.defaultIcons=this.ui.m_list._children.map((function(t){return t.icon})),this.refresh()},x.renderBuild=function(t,e){var i=this,n=t+1,a=v.data.userData.builds[n];if(!a||0==a.lv)return e.m_quality.selectedIndex=0,e.m_lock.visible=!0,t-1<=v.data.userData.roleLevel&&(a=v.data.userData.builds[n]={id:0,lv:0},e.m_lock.visible=!1),a||(e.clearClick(),e.onClick((function(){v.gui.toast("修炼"+(t-1)+"次解锁")}))),void(e.icon=this.defaultIcons[t]);var r=l.data[a.id];e.clearClick(),e.onClick((function(){i.popup.m_txt_name.text=r.name;var t=v.data.getBuildProps(r.id);i.popup.m_txt_p1.text=t[0].key+t[0].value,i.popup.m_txt_p2.text=t[1].key+t[1].value,i.popup.m_txt_lv.text="Lv."+a.lv,i.popup.m_cmpIcon.m_quality.selectedIndex=r.quality,i.popup.m_cmpIcon.setIcon(f.data[r.id].icon,"game"),u.inst.showPopup(i.popup,e,c.Up)})),e.m_lock.visible=!1,e.m_quality.selectedIndex=r.quality,e.title="Lv."+a.lv,e.setIcon(f.data[r.id].icon,"game")},x.refresh=function(){this.datas=l.dataList.filter((function(t){return null!=v.data.userData.builds[t.type]})),this.weights=this.datas.map((function(t){return t.weight})),this.ui.m_btnMake.m_txt_cost.text=v.data.userData.humer+"/10",this.ui.m_btnMake.m_txt_cost.color=v.data.userData.humer<10?r.RED:r.WHITE,this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderBuild.bind(this),this.ui.m_list.numItems=8,this.ui.m_atk.m_title.text=v.data.buildPower.toFixedNumberCN(),this.showBuildView()},x.showBuildView=function(){this.buildView||(this.buildView=_.Create(),p.addNode2Gloader(this.buildView.node,this.ui.m_loaderScene)),this.buildView.node&&this.buildView.refreshBuilds()},x.showHitEff=function(){var t=i(n().mark((function t(){var e,a=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.gui.lockScreen(),this.isPlaying=!1,this.effAnim){t.next=9;break}return t.next=5,v.res.loadAsync("effect/prefab/effect_06","game");case 5:e=m.createPrefabNode("effect/prefab/effect_06","game"),this.effAnim=e.getComponentInChildren(o),this.effAnim.on(o.EventType.FINISHED,i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.isPlaying=!1;case 1:case"end":return t.stop()}}),t)}))),this),p.addNode2Gloader(e,this.ui.m_humer.m_loader);case 9:return this.ui.m_humer.m_t0.play(),this.effAnim.node.active=!1,t.next=13,h.Seconds(.7);case 13:return this.isPlaying=!0,this.effAnim.node.active=!0,this.effAnim.play(),t.next=18,h.Seconds(.5);case 18:v.gui.unlockScreen();case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x.onHide=function(){this.ui.m_btn.offClick(this._onClickBtnMake,this)},x._afterHideAnim=function(){},x._onClickBtnMake=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(v.data.userData.humer<10)){t.next=3;break}return this._onClickBtnBox(),t.abrupt("return");case 3:if(!v.data.costHumer(10)){t.next=11;break}return console.error("十连制作"),t.next=7,this.showHitEff();case 7:e=this.randomBuild(),this.refresh(),console.error(e),g.instance.show(e);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x.randomOnce=function(){v.data.userData.buildCount++;var t=this.datas,e=this.weights,i=d.randomByWeight(t,e),n=this.calcLv();return{cfg:i,lv:n,fight:this.calcFight(i.id,n),type:i.type}},x.calcLv=function(){return 1+Math.ceil(v.data.userData.buildCount/6)+(s()>.5?1:-1)},x.randomBuild=function(){for(var t=[],e=0;e<10;e++){var i=this.randomOnce();t.push(i)}return t},x._onClickBtnMake1=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(v.data.userData.humer<1)){t.next=3;break}return this._onClickBtnBox(),t.abrupt("return");case 3:if(!v.data.costHumer(1)){t.next=10;break}return t.next=6,this.showHitEff();case 6:e=this.randomOnce(),this.refresh(),b.instance.show([e]),console.error(e);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x.calcFight=function(t,e){var i=0,n=l.data[t];if(n){var a=Math.floor(n.hp+n.levelHp*(e-1)),r=Math.floor(n.atk*Math.pow(n.levelAtk,e-1)),s=Math.floor(n.def+n.levelDef*(e-1));i=Math.floor(1*a+Math.pow(r,.5)+10*s)}return i},x.showEff=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.Seconds(1);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x._onClickBtnBox=function(){k.instance.show()},x._onClickBtnRate=function(){B.instance.show()},a}(x));a._RF.pop()}}}));

System.register("chunks:///_virtual/BuildTimeConstants.ts",["cc","./env"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t}],execute:function(){n._RF.push({},"21a39/4HchJdJkSQKKKkLh9","BuildTimeConstants",void 0);var o=Object.keys(e).sort();t("BuildTimeConstants",(function(){var t=o.reduce((function(t,n){return Math.max(t,n.length)}),0),n=""+o.map((function(n){var o=e[n],u="boolean"==typeof o?o?"true":"false":o;return"\n"+n.padStart(t," ")+" : "+u}));console.log(n)}));n._RF.pop()}}}));

System.register("chunks:///_virtual/BuildViewCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./ViewUtil.ts","./YT.ts","./MainConst.ts","./UIHelper.ts","./GameUtils.ts"],(function(e){var t,i,n,r,o,a,s,l,c,u,d,p,f,h,m,y,v,C,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.Component,d=e.instantiate,p=e.Animation,f=e.Sprite},function(e){h=e.BuildsConfig},function(e){m=e.ViewUtil},function(e){y=e.YT},function(e){v=e.MAIN_PREFABS,C=e.MAIN_BUNDLE},function(e){b=e.UIHelper},function(e){w=e.GameUtils}],execute:function(){var g,_,B,N,k;s._RF.push({},"fb1a1YkVYZLqLluYKMFiNaI","BuildViewCmp",void 0);var x=l.ccclass,R=l.property;e("BuildViewCmp",(g=x("BuildViewCmp"),_=R({type:c,displayName:"建筑",visible:!0}),g((k=t((N=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_viewRoot",k,r(t)),t._modelNode=void 0,t}i(t,e),t.Create=function(){return m.createPrefabNode(v.hallBuildView,C).getComponent(t)};var s=t.prototype;return s._init=function(e){this.setModelRes(e)},s.setModelRes=function(e){this._modelNode=m.createPrefabNode(e,C),this._modelNode.parent=this._viewRoot},s.refreshBuilds=function(){var e=o(a().mark((function e(){var t,i,n,r,o,s,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=y.data.userData.builds,i=1;case 2:if(!(i<8)){e.next=25;break}if(!(n=this.node.getChildByPath("items/"+i))){e.next=22;break}if(!((r=t[i])&&r.id>0)){e.next=22;break}if(n.active=!0,n.destroyAllChildren(),o=h.data[r.id],!(i<=4)){e.next=15;break}s=n.getComponent(f),b.changeSpriteFrame(o.res,C,s),e.next=22;break;case 15:return e.next=17,y.res.loadAsync(o.res,C);case 17:l=e.sent,c=d(l),n.addChild(c),w.setLayer(c,n.layer),c.getComponentInChildren(p).play("move");case 22:i++,e.next=2;break;case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(u)).prototype,"_viewRoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=N))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst.ts","./ZDGameState.ts","./RoleBaseCmp2.ts"],(function(e){var t,i,n,r,o,a,l,c,s,u,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Sprite},function(e){c=e.ViewUtil},function(e){s=e.UIHelper},function(e){u=e.ZD_RES_PREFABS,p=e.ZD_BUNDLE},function(e){f=e.ZDGameState},function(e){h=e.RoleBaseCmp}],execute:function(){var m,d,y,_,S;o._RF.push({},"153e6YHK11ACKbPf/eOjQfE","BulletCmp",void 0);var v=a.ccclass,g=a.property;e("BulletCmp",(m=v("BulletCmp"),d=g({type:l,displayName:"图标节点",visible:!0}),m((S=t((_=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_iconSpr",S,r(t)),t}i(t,e),t.Create=function(){var e=c.createPrefabNode(u.BULLET_VIEW,p);e.parent=f.runtime.ui.bulletRoot;var i=e.getComponent(t);return i._init(),i};var o=t.prototype;return o._init=function(){},o.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},o.showView=function(){e.prototype.showView.call(this),this.node.parent=f.runtime.ui.bulletRoot},o.update=function(e){},o.setRes=function(e){s.changeSpriteFrame(e,p,this._iconSpr)},t}(h)).prototype,"_iconSpr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst3.ts","./ZDGameState3.ts","./RoleBaseCmp3.ts"],(function(e){var t,i,n,r,o,a,l,c,s,u,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Sprite},function(e){c=e.ViewUtil},function(e){s=e.UIHelper},function(e){u=e.ZD_RES_PREFABS,p=e.ZD_BUNDLE},function(e){h=e.ZDGameState3},function(e){f=e.RoleBaseCmp3}],execute:function(){var m,d,y,S,_;o._RF.push({},"6b078SjWJNEYZho7eK6LIrx","BulletCmp3",void 0);var v=a.ccclass,g=a.property;e("BulletCmp3",(m=v("BulletCmp3"),d=g({type:l,displayName:"图标节点",visible:!0}),m((_=t((S=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_iconSpr",_,r(t)),t}i(t,e),t.Create=function(){var e=c.createPrefabNode(u.BULLET_VIEW,p);e.parent=h.runtime.ui.bulletRoot;var i=e.getComponent(t);return i._init(),i};var o=t.prototype;return o._init=function(){},o.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},o.showView=function(){e.prototype.showView.call(this),this.node.parent=h.runtime.ui.bulletRoot},o.update=function(e){},o.setRes=function(e){s.changeSpriteFrame(e,p,this._iconSpr)},t}(f)).prototype,"_iconSpr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=S))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst4.ts","./ZDGameState4.ts","./RoleBaseCmp4.ts"],(function(t){var e,i,n,r,o,a,l,c,s,u,p,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Sprite},function(t){c=t.ViewUtil},function(t){s=t.UIHelper},function(t){u=t.ZD_RES_PREFABS,p=t.ZD_BUNDLE},function(t){f=t.ZDGameState4},function(t){h=t.RoleBaseCmp4}],execute:function(){var m,d,y,_,v;o._RF.push({},"5b32a/gTEVKTajMETY/7vQc","BulletCmp4",void 0);var S=a.ccclass,g=a.property;t("BulletCmp4",(m=S("BulletCmp4"),d=g({type:l,displayName:"图标节点",visible:!0}),m((v=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_iconSpr",v,r(e)),e}i(e,t),e.Create=function(){var t=c.createPrefabNode(u.BULLET_VIEW,p);t.parent=f.runtime.ui.bulletRoot;var i=t.getComponent(e);return i._init(),i};var o=e.prototype;return o._init=function(){},o.getSize=function(t){var e=this.node.uiTransform.contentSize;t.width=e.width*this.node.scale.x,t.height=e.height*this.node.scale.y},o.showView=function(){t.prototype.showView.call(this),this.node.parent=f.runtime.ui.bulletRoot},o.update=function(t){},o.setRes=function(t){s.changeSpriteFrame(t,p,this._iconSpr)},e}(h)).prototype,"_iconSpr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst5.ts","./ZDGameState5.ts","./RoleBaseCmp5.ts"],(function(t){var e,n,i,o,u,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.ViewUtil},function(t){u=t.ZD_BUNDLE},function(t){r=t.ZDGameState5},function(t){c=t.RoleBaseCmp5}],execute:function(){var s;n._RF.push({},"7ba3cwPYaVOSLy7j9Kam+Vc","BulletCmp5",void 0);var a=i.ccclass;i.property,t("BulletCmp5",a("BulletCmp5")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t),n.Create=function(t){var e=o.createPrefabNode("prefab/bullet/"+t,u);e.parent=r.runtime.ui.bulletRoot;var i=e.getComponent(n);return i._init(),i};var i=n.prototype;return i._init=function(){},i.getSize=function(t){var e=this.node.uiTransform.contentSize;t.width=e.width*this.node.scale.x,t.height=e.height*this.node.scale.y},i.showView=function(){t.prototype.showView.call(this),this.node.parent=r.runtime.ui.bulletRoot},i.update=function(t){},i.setRes=function(t){},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst6.ts","./ZDGameState6.ts","./RoleBaseCmp6.ts"],(function(t){var e,i,n,o,r,a,l,c,s,u,p,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Sprite},function(t){c=t.ViewUtil},function(t){s=t.UIHelper},function(t){u=t.ZD_RES_PREFABS,p=t.ZD_BUNDLE},function(t){f=t.ZDGameState6},function(t){h=t.RoleBaseCmp6}],execute:function(){var m,d,y,S,_;r._RF.push({},"01736vIyoJATZNoVfOhFSkJ","BulletCmp6",void 0);var v=a.ccclass,g=a.property;t("BulletCmp6",(m=v("BulletCmp6"),d=g({type:l,displayName:"图标节点",visible:!0}),m((_=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"_iconSpr",_,o(e)),e}i(e,t),e.Create=function(){var t=c.createPrefabNode(u.BULLET_VIEW,p);t.parent=f.runtime.ui.bulletRoot;var i=t.getComponent(e);return i._init(),i};var r=e.prototype;return r._init=function(){},r.getSize=function(t){var e=this.node.uiTransform.contentSize;t.width=e.width*this.node.scale.x,t.height=e.height*this.node.scale.y},r.showView=function(){t.prototype.showView.call(this),this.node.parent=f.runtime.ui.bulletRoot},r.update=function(t){},r.setRes=function(t){s.changeSpriteFrame(t,p,this._iconSpr)},e}(h)).prototype,"_iconSpr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=S))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/BulletConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("BulletConfig",void 0),t._RF.push({},"87b1axwhb5LBquM3WTG7zwf","BulletConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.move_speed=void 0,this.type=void 0,this.hurt_tm=void 0,this.fire_cnt=void 0,this.enemy_cnt=void 0,this.fire_angle=void 0,this.random_radius=void 0,this.life=void 0,this.cross=void 0,this.is_exp=void 0,this.exp_range=void 0};i.isConst=!1,i.path="config/BulletConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("BulletConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSfx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var n,o,e,i,u,r,s,c,a;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){u=t.cclegacy,r=t._decorator,s=t.Node,c=t.Component},function(t){a=t.YT}],execute:function(){var h,d,f,T,p,l;u._RF.push({},"bd5dfBgwwlGkbAG3WHsu/WU","ButtonSfx",void 0);var y=r.ccclass,E=r.property,v=r.menu;t("default",(h=y("ButtonSfx"),d=v("ui/button/ButtonSfx"),f=E({displayName:"音效id"}),h(T=d((l=n((p=function(t){function n(){for(var n,o=arguments.length,u=new Array(o),r=0;r<o;r++)u[r]=arguments[r];return n=t.call.apply(t,[this].concat(u))||this,e(n,"audioId",l,i(n)),n}o(n,t);var u=n.prototype;return u.onLoad=function(){this.node.on(s.EventType.TOUCH_START,this.onTouchtStart,this),this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},u.onDestroy=function(){this.node.off(s.EventType.TOUCH_START,this.onTouchtStart,this),this.node.off(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},u.onTouchtStart=function(t){a.audio.play(this.audioId)},u.onTouchEnd=function(t){},n}(c)).prototype,"audioId",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=p))||T)||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./Vec3Util.ts"],(function(t){var e,i,r,a,s,o,n,h,c,l,u,d;return{setters:[function(t){e=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t.Vec3,o=t.PhysicsSystem,n=t.Camera,h=t.renderer,c=t.screen,l=t.Rect},function(t){u=t.Awaiters},function(t){d=t.Vec3Util}],execute:function(){a._RF.push({},"7fa4aXulYdPb4uwi9DlQzC4","CameraController",void 0);t("CameraController",function(){function t(t){this.root=void 0,this.camera=void 0,this.bounds=void 0,this.halfViewWidth=void 0,this.halfViewHeight=void 0,this.isOrtho=void 0,this.baseCameraHeight=-1,this.defaultVisibility=void 0,this._ray=null,this._position=void 0,this._uiPos=void 0,this.root=t;var e=t.getComponent(n)||t.getComponentInChildren(n);this.camera=e,this.defaultVisibility=e.visibility,this.isOrtho=e.projection==h.scene.CameraProjection.ORTHO,this.isOrtho&&(this.baseCameraHeight=e.orthoHeight),this._setCameraRect(),this._position=t.getPosition(),this._uiPos=new s}var a=t.prototype;return a.scaleOrthoCamera=function(t){if(this.isOrtho){if(t<=0)return;var e=this.baseCameraHeight*t;this.camera.orthoHeight=e,this._setCameraRect()}},a._setCameraRect=function(){var t=i(r().mark((function t(){var e,i,a,o,n,h;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.NextFrame();case 2:e=c.windowSize,i=new s(0,0,0),a=new s,o=new s,this.camera.screenToWorld(i,a),i.set(e.width,e.height,0),this.camera.screenToWorld(i,o),n=o.x-a.x,h=o.y-a.y,this.halfViewWidth=n/2,this.halfViewHeight=h/2,this.bounds=new l(0,0,n,h);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.convertToUINode=function(t,e,i){var r=i||new s;return this.camera.convertToUINode(t,e,r),r},a.getTarget=function(t,e,i,r){return void 0===i&&(i=4294967295),void 0===r&&(r=1e7),this._ray=this.camera.screenPointToRay(t,e,this._ray),o.instance.raycastClosest(this._ray,i,r)?o.instance.raycastClosestResult.collider.node:null},a.worldToScreen=function(t,e){var i=e||new s;return this.camera.worldToScreen(t,i),i},a.screenToWorld2D=function(t,e){var i=e||new s;return this.camera.screenToWorld(t,i),i},a.screenToWorld_Y=function(t,e){var i=e||new s;this._ray=this.camera.screenPointToRay(t.x,t.y,this._ray);var r=s.dot(this._ray.d,d.s_down);return s.multiplyScalar(i,this._ray.d,this._ray.o.y/r).add(this._ray.o),i},a.screenToWorld_Z=function(t,e){var i=e||new s;this._ray=this.camera.screenPointToRay(t.x,t.y,this._ray);var r=s.dot(this._ray.d,d.s_back);return s.multiplyScalar(i,this._ray.d,this._ray.o.z/r).add(this._ray.o),i},a.update=function(t){},a.destroy=function(){this.root=null,this.camera=null},e(t,[{key:"hideGameCamera",set:function(t){this.camera.visibility=t?0:this.defaultVisibility}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraScalerCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDConst3.ts"],(function(e){var t,o,n,a,s,i,h,r,_,c,f,d,g;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy,a=e._decorator,s=e.Camera,i=e.Tween,h=e.tween,r=e.Component},function(e){_=e.YT},function(e){c=e.WEAPON_EVENTS,f=e.getCntScaleByCnt,d=e.HERO_MOTION_MOD,g=e.ATTACK_DATA}],execute:function(){var m;n._RF.push({},"49e9fZfoq9FdZCA8sblWnTD","CameraScalerCmp",void 0);var l=a.ccclass;a.property,e("CameraScalerCmp",l("CameraScalerCmp")(m=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._camera=void 0,t._baseSize=void 0,t._offset=void 0,t._modOffset=void 0,t}t(n,e);var a=n.prototype;return a.getWorldPosition=function(e){this._camera.node.getWorldPosition(e)},a.initialize=function(){this._camera=this.getComponent(s),this._baseSize=0,this._offset=0,this._modOffset=0,_.message.on(c.main_cnt_changed,this._onWeaponCntChanged,this),_.message.on(c.main_hero_mod_changed,this._onHeroModChanged,this),_.message.on(c.camera_orth_height_changed,this._onOrthHeightChanged,this)},a._onWeaponCntChanged=function(e){var t=f(e);t.orth!=this._offset&&(this._offset=t.orth,this._doScale())},a._onHeroModChanged=function(e){var t=0;t=e==d.Atk?g.CAMERA_SCALE:0,this._modOffset!=t&&(this._modOffset=t,this._doScale())},a._onOrthHeightChanged=function(e){this._baseSize!=e&&(this._baseSize=e,this._doScale())},a._doScale=function(){i.stopAllByTarget(this._camera);var e=this._offset+this._modOffset+this._baseSize;h(this._camera).to(.4,{orthoHeight:e}).start()},a.release=function(){_.message.off(c.main_cnt_changed,this._onWeaponCntChanged,this),_.message.off(c.main_hero_mod_changed,this._onHeroModChanged,this),_.message.off(c.camera_orth_height_changed,this._onOrthHeightChanged,this),i.stopAllByTarget(this._camera)},o(n,[{key:"orthoHeight",get:function(){return this._camera.orthoHeight}}]),n}(r))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtil.ts",["cc","./YT.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.cclegacy,n=t.Vec3},function(t){r=t.YT}],execute:function(){e._RF.push({},"2704edx6CpHnbTQsrKJRyOG","CameraUtil",void 0);t("CameraUtil",function(){function t(){}return t.isInView=function(t,e){var i=t.node.getWorldPosition(),o=t.worldToScreen(e),c=n.normalize(new n,e.subtract(i)),u=t.node.forward,a=n.dot(u,c),s=r.viewportRect;return a>0&&o.x<=s.width&&o.x>=0&&o.y<=s.height&&o.y>=0},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CampBuildingCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelper.ts","./MainConst.ts","./RoleBuildingBaseCmp.ts"],(function(i){var e,n,t,r,o,p,a,c,l,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,p=i._decorator,a=i.Sprite},function(i){c=i.UIHelper},function(i){l=i.MAIN_BUNDLE},function(i){u=i.RoleBuildingBaseCmp}],execute:function(){var s,d,f,m,g;o._RF.push({},"d4accJW9DVFVKYZ5CVUMoNi","CampBuildingCmp",void 0);var C=p.ccclass,y=p.property;i("CampBuildingCmp",(s=C("CampBuildingCmp"),d=y({type:a,displayName:"图标",visible:!0}),s((g=e((m=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),p=0;p<n;p++)o[p]=arguments[p];return e=i.call.apply(i,[this].concat(o))||this,t(e,"_iconSpr",g,r(e)),e}n(e,i);var o=e.prototype;return o._init=function(){},o.updateRes=function(i){c.changeSpriteFrame(i,l,this._iconSpr)},o.update=function(i){},e}(u)).prototype,"_iconSpr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/CampFireBuildingCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./MainConst.ts","./BattleState.ts","./RoleBuildingBaseCmp.ts"],(function(e){var t,n,i,r,o,a,l,s,c,p,u,d,f,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,c=e.Sprite},function(e){p=e.ViewUtil},function(e){u=e.UIHelper},function(e){d=e.MAIN_PREFABS,f=e.MAIN_BUNDLE},function(e){m=e.BattleState},function(e){g=e.RoleBuildingBaseCmp}],execute:function(){var h,v,y,_,C,N,b;a._RF.push({},"f152a2byytMaa58qafhMKNA","CampFireBuildingCmp",void 0);var B=l.ccclass,S=l.property;e("CampFireBuildingCmp",(h=B("CampFireBuildingCmp"),v=S({type:s,displayName:"范围",visible:!0}),y=S({type:c,displayName:"图标",visible:!0}),h((N=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_rangeNode",N,r(t)),i(t,"_iconSpr",b,r(t)),t}n(t,e);var a=t.prototype;return a.setRange=function(e){this._rangeNode.uiTransform.setContentSize(e,e)},t.Create=function(e){var n=p.createPrefabNode(d.BuildingCampFire,f);n.parent=m.ins.control.runTimeData.levelControl.view.roleRoot;var i=n.getComponent(t);return i._init(e),i},a._init=function(e){u.changeSpriteFrame(e,f,this._iconSpr),this._rangeNode.parent=m.ins.control.runTimeData.levelControl.view.bottonRoot},a.update=function(e){},a.setModelScale=function(e,t){var n;null==(n=this._viewRoot)||n.setScale(e,t)},a.updateHpPercent=function(e){},a.setParent=function(t){e.prototype.setParent.call(this,t),this._rangeNode.parent=m.ins.control.runTimeData.levelControl.view.bottonRoot},a.removeParent=function(){e.prototype.removeParent.call(this),this._rangeNode.parent.removeFromParent()},a.remove=function(){this._rangeNode.parent=this.node,this.node.destroy()},a.setVisible=function(t){e.prototype.setVisible.call(this,t),this._rangeNode.active=t},o(t,[{key:"range",get:function(){return this._rangeNode.uiTransform.width}}]),t}(g)).prototype,"_rangeNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(C.prototype,"_iconSpr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=C))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/CapsuleHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,p,s,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){p=e.cclegacy,s=e._decorator,a=e.RigidBody2D,c=e.Vec2,l=e.Component}],execute:function(){var u,y,f,d,m,v,h,g,C;p._RF.push({},"c3f8ePQ1CNK246IZ9IVGdo0","CapsuleHelper",void 0);var _=s.ccclass,b=s.property,D=s.menu,O=s.requireComponent;e("CapsuleHelper",(u=_("CapsuleHelper"),y=D("副玩法11/胶囊"),f=O(a),d=b({displayName:"更新"}),m=b({displayName:"删除"}),v=b({displayName:"白边",type:c}),u(h=y(h=f((t((g=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),p=0;p<r;p++)n[p]=arguments[p];return(t=e.call.apply(e,[this].concat(n))||this)._edit=!1,t._remove=!1,o(t,"Offset",C,i(t)),t}r(t,e);var p=t.prototype;return p.removeAll=function(){},p.resetCapsule=function(){},n(t,[{key:"Edit",get:function(){return this._edit},set:function(e){this._edit=e,e&&this.resetCapsule()}},{key:"Remove",get:function(){return this._remove},set:function(e){this._remove=e,e&&this.removeAll()}}]),t}(l)).prototype,"Edit",[d],Object.getOwnPropertyDescriptor(g.prototype,"Edit"),g.prototype),t(g.prototype,"Remove",[m],Object.getOwnPropertyDescriptor(g.prototype,"Remove"),g.prototype),C=t(g.prototype,"Offset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),h=g))||h)||h)||h));p._RF.pop()}}}));

System.register("chunks:///_virtual/CardConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("CardConfig",void 0),t._RF.push({},"ba2fenLvQZLBKDualMWslUl","CardConfig",void 0),function(i){i.config=function(){this.id=void 0,this.icon=void 0,this.desc=void 0,this.quality=void 0,this.needHp=void 0,this.wood=void 0,this.needWeapon=void 0,this.num=void 0,this.showNum=void 0,this.addHp=void 0,this.params=void 0,this.params2=void 0};i.isConst=!1,i.path="config/CardConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("CardConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/CardDialogCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./MainConst.ts","./BattleState.ts","./BaseDialog.ts","./CardItemCmp.ts"],(function(e){var t,i,n,s,r,a,o,l,c,d,u,h,f,p,m,_,y,g,C,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,l=e._decorator,c=e.Button,d=e.tween,u=e.v3,h=e.easing,f=e.Vec3},function(e){p=e.ViewUtil},function(e){m=e.YT},function(e){_=e.MAIN_PREFABS,y=e.MAIN_BUNDLE},function(e){g=e.BattleState},function(e){C=e.BaseDialog},function(e){v=e.CardItemCmp}],execute:function(){var I,b,D,w,B,A,R;o._RF.push({},"df10f6DkIhMSaXf1CPWQFS/","CardDialogCmp",void 0);var P=l.ccclass,S=l.property;e("CardDialogCmp",(I=P("CardDialogCmp"),b=S({type:[v],displayName:"元素列表",visible:!0}),D=S({type:c,displayName:"刷新按钮",visible:!0}),I((A=t((B=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_items",A,s(t)),n(t,"_refreshBtn",R,s(t)),t._isPlayAni=void 0,t}i(t,e),t.Show=function(e){var i=p.createPrefabNode(_.CardDialog,y);i.parent=g.ins.control.view.dialogRoot;var n=i.getComponent(t);return n._init(e),n.show(),n};var o=t.prototype;return o._init=function(e){this._refreshBtn.node.on(c.EventType.CLICK,this._onRefreshClicked,this);for(var t=0;t<3;++t)t<e.length?this._items[t].init(t,e[t],this._onItemClicked.bind(this)):this._items[t].node.active=!1},o._onRefreshClicked=function(){var e=r(a().mark((function e(){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.game.watchAD("3x1");case 2:if(e.sent)for(t=g.ins.control.cardsMgr.refreshItems(),g.ins.control.data.refreshItems(),i=0;i<3;++i)this._items[i].setItemId(t[i]),this._items[i].node.setScale(0,1.15,1),d(this._items[i].node).to(.3,{scale:u(1.15,1.15,1)},{easing:h.sineIn}).start();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._onItemClicked=function(e,t){if(!this._isPlayAni){this._isPlayAni=!0,this._refreshBtn.node.active=!1,m.audio.play(10);for(var i=0;i<3;++i)i==e?1==i?d(this._items[i].node).delay(.1).by(.1,{scale:u(.3,.3),position:u(0,100)},{easing:h.sineOut}).delay(1).call(this._exeAndClose.bind(this,t)).start():d(this._items[i].node).to(.1,{position:f.ZERO},{easing:h.sineIn}).delay(.1).by(.1,{scale:u(.3,.3),position:u(0,100)},{easing:h.sineOut}).delay(1).call(this._exeAndClose.bind(this,t)).start():d(this._items[i].node).to(.1,{scale:f.ZERO},{easing:h.sineIn}).start()}},o._exeAndClose=function(e){g.ins.control.cardsMgr.selectedCard(e),this.close()},t}(C)).prototype,"_items",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(B.prototype,"_refreshBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=B))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/CardInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardsConfig.ts","./ViewBase.ts","./YT.ts","./UI_CardInfo.ts","./HallView.ts"],(function(t){var e,n,a,i,r,s,d,u,c,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.CardsConfig},function(t){d=t.ViewBase},function(t){u=t.YT},function(t){c=t.default},function(t){o=t.HallView}],execute:function(){r._RF.push({},"cb1f1VQyM9Gw6Xt/Lfljfui","CardInfoView",void 0);t("CardInfoView",function(t){function r(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).cardIdx=void 0,e.datas=void 0,e}e(r,t);var d=r.prototype;return d._preShowAnim=function(){var t=a(i().mark((function t(){var e=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.datas=s.dataList.sort((function(t,e){return t.quality-e.quality})),this.cardIdx=this.datas.findIndex((function(t){return t.id==e._uiParam})),this.refreshCardInfo(),this.ui.m_btn_left.onClick((function(){e.cardIdx--,e.refreshCardInfo()}),this),this.ui.m_btn_right.onClick((function(){e.cardIdx++,e.refreshCardInfo()}),this),this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_btn_upgrade.onClick(this.onClickUpgrade,this);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.onClickUpgrade=function(){if(!this.ui.m_btn_upgrade.grayed){var t=this.datas[this.cardIdx];u.data.upgradeCard(t.id,t.needNum[u.data.userData.cards[t.id].lv]),u.data.dailyData.lvupCardsCount++,u.data.dailyData.save=!0,this.refreshCardInfo()}},d.refreshCardInfo=function(){this.ui.m_btn_left.visible=this.cardIdx>0,this.ui.m_btn_right.visible=this.cardIdx<this.datas.length-1;var t=this.datas[this.cardIdx],e=this.ui;this.ui.m_btn_close.onClick(this.hide,this);var n=u.data.userData.cards[t.id];n||(n=u.data.userData.cards[t.id]={lv:0,num:0,n:0}),e.m_txt_name.text=t.name,e.setIcon(t.icon,"game"),e.m_quality.selectedIndex=t.quality,e.m_txt_lv.text="Lv."+n.lv,0==n.lv?(e.m_state.selectedIndex=0,e.m_pro.max=t.needNum[n.lv],e.m_pro.value=n.num):n.lv==t.maxLevel?e.m_state.selectedIndex=3:(e.m_state.selectedIndex=n.num>=t.needNum[n.lv]?2:1,this.ui.m_btn_upgrade.grayed=u.data.userData.cards[t.id].num<t.needNum[u.data.userData.cards[t.id].lv],e.m_pro.max=t.needNum[n.lv],e.m_pro.value=n.num),e.m_txt_desc.text=t.des.replace("{0}",(t.base+t.levelup*n.lv).toFixedFloatString())},d._afterShowAnim=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d._preHideAnim=function(){},d._afterHideAnim=function(){var t;null==(t=o.instance.curPage)||t.refresh()},n(r,null,[{key:"instance",get:function(){return this._getInstance(r,c)}}]),r}(d));r._RF.pop()}}}));

System.register("chunks:///_virtual/CardItemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardConfig.ts","./UIHelper.ts","./MainConst.ts","./FrameArraySprite.ts"],(function(i){var e,t,n,r,a,o,l,c,s,p,u,d,_,f;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,l=i.Sprite,c=i.Label,s=i.Node,p=i.Component},function(i){u=i.CardConfig},function(i){d=i.UIHelper},function(i){_=i.MAIN_BUNDLE},function(i){f=i.FrameArraySprite}],execute:function(){var h,y,m,b,C,g,v,I,S;a._RF.push({},"a1630hua6tAuofnrDfPuuyU","CardItemCmp",void 0);var k=o.ccclass,L=o.property;i("CardItemCmp",(h=k("CardItemCmp"),y=L({type:f,displayName:"品质图",visible:!0}),m=L({type:l,displayName:"图标",visible:!0}),b=L({type:c,displayName:"描述",visible:!0}),h((v=e((g=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,n(e,"_qualitySpr",v,r(e)),n(e,"_iconSpr",I,r(e)),n(e,"_descLab",S,r(e)),e._clickCallback=void 0,e._index=void 0,e._config=void 0,e}t(e,i);var a=e.prototype;return a.init=function(i,e,t){this._index=i,this._clickCallback=t,this.node.on(s.EventType.TOUCH_END,this._onItemClicked,this),this.setItemId(e)},a.setItemId=function(i){this._config=u.data[i],this._config||console.error("错误的itemId"+i),this._descLab.string=this._config.desc,d.changeSpriteFrame(this._config.icon,_,this._iconSpr),3==this._config.quality?this._qualitySpr.index=0:this._qualitySpr.index=1},a._onItemClicked=function(i){var e;null==(e=this._clickCallback)||e.call(this,this._index,this._config.id)},e}(p)).prototype,"_qualitySpr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(g.prototype,"_iconSpr",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(g.prototype,"_descLab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=g))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardsConfig.ts","./PageBase.ts","./YT.ts","./ArrayUtil.ts","./GetCardView.ts","./CardInfoView.ts","./CardRateView.ts"],(function(t){var a,e,n,i,s,r,d,o,c,u,l,h;return{setters:[function(t){a=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t.Color},function(t){r=t.CardsConfig},function(t){d=t.PageBase},function(t){o=t.YT},function(t){c=t.ArrayUtil},function(t){u=t.GetCardView},function(t){l=t.CardInfoView},function(t){h=t.CardRateView}],execute:function(){i._RF.push({},"c92d299691KLLOuJXw67dYg","CardPage",void 0);t("CardPage",function(t){function i(){for(var a,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(a=t.call.apply(t,[this].concat(n))||this).datas={},a.weights=[],a.ids=[],a}a(i,t);var d=i.prototype;return d.onCreate=function(){this.initData(),this.ui.m_btn_make.onClick(this.onClickMake.bind(this),this),this.ui.m_btn_makead.onClick(this.onClickMakeAd.bind(this),this),this.ui.m_btnRate.onClick(this.onClickRate.bind(this),this),this.ids=r.dataList.map((function(t){return t.id})),this.weights=r.dataList.map((function(t){return t.probability})),this.refresh()},d.onClickMake=function(t){o.data.costGem(100)&&this.onGetCard()},d.onClickMakeAd=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(o.data.dailyData.cardAdCount>=10)){t.next=3;break}return o.gui.toast("今日免费次数已用尽，明天再来吧~"),t.abrupt("return");case 3:return t.next=5,o.game.watchAD("制作遗物");case 5:if(!t.sent){t.next=9;break}o.data.dailyData.cardAdCount++,o.data.dailyData.save=!0,this.onGetCard();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.onClickRate=function(){h.instance.show()},d.onGetCard=function(){var t=c.randomByWeight(this.ids,this.weights);o.data.onGetCard(t,1),console.error("获得了卡牌",r.data[t]),u.instance.show(r.data[t]),o.data.dailyData.makeCardsCount++,o.data.dailyData.save=!0,this.refresh()},d.initData=function(){var t=this;this.datas={};for(var a,e=function(e){t.datas[e]=r.dataList.filter((function(t){return t.quality==e})),(a=t.ui.m_list.getChildAt(e-1).m_list).setVirtual(),a.itemRenderer=t.renderCard.bind(t,e),a.numItems=t.datas[e].length},n=1;n<5;n++)e(n)},d.refresh=function(){for(var t=1;t<5;t++){this.ui.m_list.getChildAt(t-1).m_list.numItems=this.datas[t].length}this.ui.m_btn_make.m_txt_cost.text=o.data.userData.gem.toFixedNumberCN()+"/100",this.ui.m_btn_makead.m_txt_cost.text="免费("+(10-o.data.dailyData.cardAdCount)+"/10)",this.ui.m_btn_make.m_txt_cost.color=o.data.userData.gem>=100?s.WHITE:s.RED},d.renderCard=function(t,a,e){var n=this.datas[t][a],i=o.data.userData.cards[n.id];i||(i=o.data.userData.cards[n.id]={lv:0,num:0,n:0},o.data.userData.save=!0),e.title=n.name,e.setIcon(n.icon,"game"),0==i.lv?(e.m_quality.selectedIndex=0,e.m_state.selectedIndex=0):(e.m_txt_lv.text="Lv."+i.lv,e.m_quality.selectedIndex=n.quality,i.lv==n.maxLevel?e.m_state.selectedIndex=3:(e.m_state.selectedIndex=i.num>=n.needNum[i.lv]?2:1,e.m_pro.max=n.needNum[i.lv],e.m_pro.value=i.num)),e.m_new.selectedIndex=i.n,e.clearClick(),e.onClick(this.onClickCard.bind(this,n),this)},d.onClickCard=function(t){1==o.data.userData.cards[t.id].n&&(o.data.userData.cards[t.id].n=0,o.data.userData.save=!0),l.instance.show(t.id)},d._preHide=function(){},d.onHide=function(){},d._afterHideAnim=function(){},d._onClickBtnSidebar=function(){},i}(d));i._RF.pop()}}}));

System.register("chunks:///_virtual/CardRateView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./UI_CardRate.ts"],(function(t){var n,e,r,i,u,o,a;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){u=t.cclegacy},function(t){o=t.ViewBase},function(t){a=t.default}],execute:function(){u._RF.push({},"d6905RnqDFCirTi+6oqUhGx","CardRateView",void 0);t("CardRateView",function(t){function u(){return t.apply(this,arguments)||this}n(u,t);var o=u.prototype;return o._preShowAnim=function(){var t=r(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_btn_close.onClick(this.hide,this);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._afterShowAnim=function(){var t=r(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o._preHideAnim=function(){},o._afterHideAnim=function(){},e(u,null,[{key:"instance",get:function(){return this._getInstance(u,a)}}]),u}(o));u._RF.pop()}}}));

System.register("chunks:///_virtual/CardsAttr.ts",["cc","./BattleState.ts"],(function(e){var t,a;return{setters:[function(e){t=e.cclegacy},function(e){a=e.BattleState}],execute:function(){t._RF.push({},"efeb64VfupH3ZyiRTlKbMso","CardsAttr",void 0);e("CardsAttr",function(){function e(){this.monsterHitBackDistance=0,this.weaponSizeAddPercent=0,this.weaponRotationSpeedAddPercent=0,this.isStopWeaponRotaionSpeedAdd=!1,this.weaponCountAdd=0,this.remoteWeaponAtkSpeedAddPercent=0,this.isStopRemoteWeaponAtkSpeedAdd=!1,this.remoteWeaponCountAdd=0,this.isKillAddRemoteWeaponAtkSpeed=!1,this.playerAtkAddPercent=0,this.playerMoveSpeedAddPercent=0,this.playerMaxHpAddPercent=0,this.playerMoveSpeedByLeaveCampAddPercent=0,this.isRunAddHp=!1,this.isCampResumeHpByPlayer=!1,this.campHealthAddBuildAtkPercent=0,this.isCampSubHpSubBuildWood=!1,this.expAddPercent=0,this.petDamageAddPercent=0,this.petCnt=0,this.towerWeaponHitSplitCnt=0,this.towerFireWeaponCntAdd=0,this.towerAtkSpeedByTowerCntAddPercent=0,this.campFireRangeAddPercent=0,this.campFireResumeNumAddPercent=0,this.isCampFireAddAtkSpeed=!1,this.roadBlockMaxHpAddPercent=0,this.isRoadBlockResumeByPlayer=!1,this.addTowerAddRoadBlockMaxHpPercent=0,this.loggerCutAbsAddPercent=0,this.loggerCutTreeAddWoodExt=0,this.loggerCutTreeAddGem=0,this.warriorNotHealthAddDefPercent=0,this.isCanAddHighWarrior=!1,this.isAddPlayerAtkByWarrior=!1,this.isShooterKillAddAtkSpeed=!1,this.isShooterDieFireBullet=!1,this.isShooterFireBulletExt=!1,this.isMageKillEnemyResumeHp=!1,this.isMageKillEnemyAddMoveSpeed=!1,this.mageHpLowAddPerecnt=0}return e.prototype.setAttrByCardId=function(e){switch(e){case 1001:this.monsterHitBackDistance+=.05;break;case 1002:a.ins.control.roleMgr.player.weaponModule.addScale(.2);break;case 1003:this.weaponRotationSpeedAddPercent+=.2;break;case 1004:this.remoteWeaponAtkSpeedAddPercent+=.2;break;case 1005:this.playerMoveSpeedAddPercent+=.1;break;case 1006:this.playerMaxHpAddPercent+=.25,a.ins.control.roleMgr.player.reSetMaxHp(this.playerMaxHpAddPercent);break;case 1007:this.expAddPercent+=.25;break;case 1008:this.petDamageAddPercent+=.2;break;case 1009:case 1010:this.petCnt+=1;var t=a.ins.control.info.battleData.petId,r=a.ins.control.roleMgr.player.pos;a.ins.control.roleMgr.addRolePet(t,r.x,r.y);break;case 1011:case 1012:this.remoteWeaponCountAdd+=1;break;case 1013:case 1014:this.weaponCountAdd+=1,a.ins.control.roleMgr.player.weaponModule.addWeaponCnt(1);break;case 1015:this.playerMoveSpeedByLeaveCampAddPercent+=.3;break;case 1016:this.isStopWeaponRotaionSpeedAdd=!0;break;case 1017:this.isStopRemoteWeaponAtkSpeedAdd=!0;break;case 1018:this.isRunAddHp=!0;break;case 1019:this.isKillAddRemoteWeaponAtkSpeed=!0;break;case 1020:var s=a.ins.control.roleMgr.player._hp;a.ins.control.roleMgr.player.hurt(Math.floor(.2*s)),this.playerAtkAddPercent+=.5;break;case 1021:this.isCampResumeHpByPlayer=!0;break;case 1022:this.campHealthAddBuildAtkPercent+=.3;break;case 1023:this.isCampSubHpSubBuildWood=!0;break;case 1024:this.towerWeaponHitSplitCnt+=1;break;case 1025:this.towerFireWeaponCntAdd+=1;break;case 1026:this.towerAtkSpeedByTowerCntAddPercent+=.25;break;case 1027:var d;null==(d=a.ins.control.roleMgr.campFireBuilding)||d.addRange(.2);break;case 1028:this.campFireResumeNumAddPercent+=.2;break;case 1029:this.isCampFireAddAtkSpeed=!0;break;case 1030:a.ins.control.roleMgr.roadBlockBuilding.addMaxHp(.25);break;case 1031:this.isRoadBlockResumeByPlayer=!0;break;case 1032:this.addTowerAddRoadBlockMaxHpPercent+=.25;break;case 1033:this.loggerCutAbsAddPercent+=.5;break;case 1034:this.loggerCutTreeAddWoodExt+=1;break;case 1035:this.loggerCutTreeAddGem+=1;break;case 1036:this.warriorNotHealthAddDefPercent+=.4;break;case 1037:this.isCanAddHighWarrior=!0;break;case 1038:this.isAddPlayerAtkByWarrior=!0;break;case 1039:this.isShooterKillAddAtkSpeed=!0;break;case 1040:this.isShooterDieFireBullet=!0;break;case 1041:this.isShooterFireBulletExt=!0;break;case 1042:this.isMageKillEnemyResumeHp=!0;break;case 1043:this.isMageKillEnemyAddMoveSpeed=!0;break;case 1044:this.mageHpLowAddPerecnt+=.4}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CardsConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("CardsConfig",void 0),t._RF.push({},"0f4b4M3v3RAmJO6vHlYpxfV","CardsConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.parm=void 0,this.des=void 0,this.quality=void 0,this.type=void 0,this.base=void 0,this.levelup=void 0,this.maxLevel=void 0,this.needNum=void 0,this.probability=void 0,this.num1=void 0,this.num2=void 0};i.isConst=!1,i.path="config/CardsConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("CardsConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/CardsData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataBase.ts"],(function(t){var a,n,s;return{setters:[function(t){a=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.DataBase}],execute:function(){n._RF.push({},"76d1fNA5pVMM7CisZtNSVH4","CardsData",void 0);t("CardsData",function(t){function n(){return t.apply(this,arguments)||this}return a(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/CardsMgr.ts",["cc","./CardConfig.ts","./BattleState.ts","./CardsAttr.ts","./CardDialogCmp.ts"],(function(t){var n,r,e,s,i,o;return{setters:[function(t){n=t.cclegacy,r=t.math},function(t){e=t.CardConfig},function(t){s=t.BattleState},function(t){i=t.CardsAttr},function(t){o=t.CardDialogCmp}],execute:function(){n._RF.push({},"5675edkuvhJbpplF81icflJ","CardsMgr",void 0);var a=[],d=[];t("CardsMgr",function(){function t(){this._selectedInfo=void 0,this._cards=void 0,this.attr=void 0,this._selectedInfo={},this.attr=new i}var n=t.prototype;return n.init=function(){this._cards=[];for(var t,n=0,r=e.dataList.length;n<r;++n)t=e.dataList[n],this._isUnLock(t.needWeapon,t.id)&&this._cards.push(t.id)},n._isUnLock=function(t,n){var r=s.ins.control.info.battleData;return 1==t||(2==t?!!r.remoteWeaponId:3==t?!!r.petId:4==t?!!r.roadBlockId:5==t?!!r.soldierIds[0]:6==t?!!r.soldierIds[1]:7==t?!!r.soldierIds[2]:8==t&&!!r.soldierIds[3])},n.show=function(){var t=this.refreshItems();t.length>0&&o.Show(t)},n.refreshItems=function(){a.length=0,d.length=0;for(var t=0;t<this._cards.length;++t){var n=this._cards[t],s=e.data[n];this._attrIsUnLock(s)&&((s.showNum>1||0==this.getSelectedCnts(n))&&a.push(n))}for(var i=0,o=Math.min(a.length,3);i++<o;){var l=r.randomRangeInt(0,a.length),c=a[l];d.push(c),a.splice(l,1)}return d},n._attrIsUnLock=function(t){var n=t.id;return 1024==n||1025==n||1026==n?s.ins.control.roleMgr.towerBuildings.length>0:1027==n||1028==n||1029==n?null!=s.ins.control.roleMgr.campFireBuilding:1030!=n&&1031!=n&&1032!=n||null!=s.ins.control.roleMgr.roadBlockBuilding},n.getSelectedCnts=function(t){var n;return null!=(n=this._selectedInfo[t])?n:0},n.selectedCard=function(t){var n,r=null!=(n=this._selectedInfo[t])?n:0;this._selectedInfo[t]=r+1,this.attr.setAttrByCardId(t)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CommonSaveData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var n,e,a,i,o;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){o=t.YT}],execute:function(){t("deepCopy",r),i._RF.push({},"1c06dcYpXdCM4hKFldBY1hg","CommonSaveData",void 0);var s=t("CommonSaveInfo",(function(){this.isMusicOn=!0,this.musicVolume=1,this.isSoundOn=!0,this.soundVolume=1,this.isVibrate=!0,this.lowRate=!1,this.subGameClicked=[]})),c=t("CommonSaveData",function(){function t(){this._data=void 0}return t.Load=function(){var n=e(a().mark((function n(e){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.SAVE_NAME=e+"_common",this._instance=new t,n.next=4,o.platform.getLocalStorage(this.SAVE_NAME);case 4:i=n.sent,this._instance._data=new s,i&&r(i,this._instance._data);case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),t.Save=function(){o.platform.setLocalStorage(this.SAVE_NAME,JSON.stringify(this._instance._data),!0)},n(t,null,[{key:"instance",get:function(){return this._instance._data}}]),t}());function r(t,n){var e;for(var a in t)"object"==typeof(e=t[a])&&n[a]?r(e,n[a]):n[a]=e}c.SAVE_NAME=void 0,c._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/comUpdater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Emitter.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.Emitter}],execute:function(){n._RF.push({},"ca128528d1JIJ+Q37ulAok5","comUpdater",void 0);t("default",function(){function t(t){this._ev=void 0,this.com=t}var n=t.prototype;return n.clear=function(){this.ev.dispose()},n.wait=function(t,e){var n=this;return void 0===e&&(e=0),new Promise((function(i){var r=0,u=n.ev.on("update",(function(o){(r+=o)>e&&(t(0==e?o:r)&&(n.ev.off("update",u),i()),r-=e)}))}))},n.delay=function(t,e){var n=0;return this.wait((function(i){if((n+=i)>t)return null==e||e(),!0}))},n.nextFrame=function(t){return this.delay(0,t)},e(t,[{key:"ev",get:function(){return this._ev||(this._ev=new i(this))}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigEx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WordsConfig.ts","./LanguageData.ts"],(function(n){var t,i,e,o;return{setters:[function(n){t=n.createClass},function(n){i=n.cclegacy},function(n){e=n.WordsConfig},function(n){o=n.LanguageData}],execute:function(){i._RF.push({},"c3ab5gm6GpPt44c83Kb4/K9","ConfigEx",void 0),n("GameConfigEx",function(){function n(){var n,t=e.dataList,i=0,a=t.length;for(i=0;i<a;++i)n=t[i],o.RegistWords(n.id,n[o.current]);window.GameConfigEx=this}var i=n.prototype;return i.init=function(n){},i.initialize=function(){},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConsts.ts","./gEvents.ts","./YT.ts"],(function(t){var e,n,a,o,r,s,i,c,u;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime,a=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,r=t.JsonAsset,s=t.assetManager},function(t){i=t.GameConsts},function(t){c=t.gEvents},function(t){u=t.YT}],execute:function(){o._RF.push({},"fc0cdQdcJFMapDn2ATgM1Q0","ConfigManager",void 0),t("ConfigManager",function(){function t(){}return t.AddConfig=function(t,e){void 0===e&&(e=i.Bundle.resource),null!=t.path?this._configMap[e]?this._configMap[e].indexOf(t)<0&&this._configMap[e].push(t):this._configMap[e]=[t]:console.error("错误的配置字段",t)},t.StartLoad=function(){var t=e(n().mark((function t(e,o){var f,l,g,p,d,h,v,M,x;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o=i.Bundle.resource),console.log("开始加载"+o+"配置"),0!=(f=this._configMap[o]).length){t.next=6;break}return e&&e(),t.abrupt("return");case 6:if(l=0,g=f.length,p=s.getBundle(o)){t.next=13;break}return t.next=12,u.res.loadBundleAsync(o);case 12:p=t.sent;case 13:for(d=function(t){if(l++,u.message.dispatchEvent(c.on_load_progress_changed,l/g),l==g){for(var n,s=a(f);!(n=s()).done;){var i=n.value,d=i.path;if(!u.isGM&&i.extPath&&(console.error("使用玩家配置",i.extPath),d=i.extPath),console.log("加载配置 "+o+" "+d+"  "),i.data=p.get(d,r).json,i.dataList=[],i.isConst)Object.setPrototypeOf(i.data,i.config.prototype);else{for(var h in i.data){var v=i.data[h];null!=v&&(Object.setPrototypeOf(v,i.config.prototype),i.dataList.push(v))}i.dataList.length>0&&(i.lastData=i.dataList[i.dataList.length-1])}}e&&e()}},h=a(f);!(v=h()).done;)M=v.value,x=M.path,!u.isGM&&M.extPath&&(console.error("使用玩家配置",M.extPath),x=M.extPath),u.res.load(x,o,r,null,d);case 15:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t}())._configMap={},o._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigUtils.ts",["cc","./BoxConfig.ts"],(function(t){var n,i,a;return{setters:[function(t){n=t.cclegacy,i=t.math},function(t){a=t.BoxConfig}],execute:function(){n._RF.push({},"8052aWvpNtF4K7lsFw6TByT","ConfigUtils",void 0);t("ConfigUtils",function(){function t(){}return t.getRandomBoxByLevelId=function(t,n){for(var e,o=[],r=[],f=0,s=0,u=a.dataList.length;s<u;++s)1==(e=a.dataList[s]).type&&e.stage==t&&(f+=e.probability,r.push(e));for(;n--;){var g=i.randomRange(0,f),l=0;for(s=0,u=r.length;s<u;++s)if(g<=(l+=(e=r[s]).probability)){o.push(e.id);break}}return o},t.getRandomBuffByLevelId=function(t,n){for(var e,o=[],r=[],f=0,s=0,u=a.dataList.length;s<u;++s)2!=(e=a.dataList[s]).type||e.stage!=t&&0!=e.stage||(f+=e.probability,r.push(e));for(;n--;){var g=i.randomRange(0,f),l=0;for(s=0,u=r.length;s<u;++s)if(g<=(l+=(e=r[s]).probability)){o.push(e.id);break}}return o},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/const.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"baf77rmAKBANYFCR2YfEy8C","const",void 0);t("StandardPackageConfig",{width:9,height:10,cellSize:60,gap:2,slot:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pack:[],neibs:[],option:[],loc:[]}),t("DungeonPackageConfig",{width:9,height:10,cellSize:60,gap:2,slot:[8,0,0,0,0,0,0,0,8,0,0,8,0,0,0,8,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,8,0,0,0,8,0,0,8,0,0,0,0,0,0,0,8],pack:[],neibs:[],option:[],loc:[]}),t("treeSpiritGameID",108),t("return_true",(function(){return!0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/const2.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c21f9R3S7hAvp5m3Uc4rblr","const",void 0);t("StandardPackageConfig",{width:9,height:10,cellSize:60,gap:2,slot:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pack:[],neibs:[],option:[],loc:[]}),t("DungeonPackageConfig",{width:9,height:10,cellSize:60,gap:2,slot:[8,0,0,0,0,0,0,0,8,0,0,8,0,0,0,8,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,8,0,0,0,8,0,0,8,0,0,0,0,0,0,0,8],pack:[],neibs:[],option:[],loc:[]}),t("return_true",(function(){return!0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/const22.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e2355uWt1pGrazjLj2m1vbL","const2",void 0);t("StandardPackageConfig",{width:9,height:10,cellSize:60,gap:2,slot:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pack:[],neibs:[],option:[],loc:[]}),t("DungeonPackageConfig",{width:9,height:10,cellSize:60,gap:2,slot:[8,0,0,0,0,0,0,0,8,0,0,8,0,0,0,8,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,8,0,0,0,8,0,0,8,0,0,0,0,0,0,0,8],pack:[],neibs:[],option:[],loc:[]}),t("return_true",(function(){return!0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/CurveTexture.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./MoveWithTouch.ts","./UsefulTools.ts","./MeshSprite.ts"],(function(e){var t,n,i,r,o,s,a,l,h,c,u,d,p,f,_,g,y,m,v,T,x,b,O,P,C,E,w,N,M,S,z,V,A,D,R,k,F,I,U,G,H,W;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,s=e.createClass,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){h=e.cclegacy,c=e._decorator,u=e.Vec2,d=e.Vec3,p=e.MeshRenderer,f=e.Node,_=e.Enum,g=e.EffectAsset,y=e.SpriteFrame,m=e.CCInteger,v=e.CCFloat,T=e.CCBoolean,x=e.Color,b=e.v3,O=e.UIMeshRenderer,P=e.UIOpacity,C=e.Texture2D,E=e.Material,w=e.v4,N=e.Mat4,M=e.utils,S=e.v2,z=e.PolygonCollider2D,V=e.RigidBody2D,A=e.ERigidBody2DType,D=e.misc,R=e.UITransform,k=e.Sprite,F=e.RenderTexture,I=e.Component},function(e){U=e.EDITOR_NOT_IN_PREVIEW},function(e){G=e.MoveWithTouch},function(e){H=e.UsefulTools},function(e){W=e.MeshSprite}],execute:function(){var j,B,L,X,Y,q,K,Z,J,Q,$,ee,te,ne,ie,re,oe,se,ae,le,he,ce,ue,de,pe,fe,_e,ge,ye,me,ve,Te,xe,be,Oe,Pe,Ce,Ee,we,Ne,Me,Se,ze,Ve,Ae,De,Re,ke,Fe,Ie,Ue,Ge,He,We,je,Be,Le,Xe,Ye,qe,Ke,Ze,Je,Qe,$e,et,tt,nt,it,rt,ot,st,at,lt;e("inEditorZH",gt),h._RF.push({},"5895dAXMtRB5Y5LDDX4xP8/","CurveTexture",void 0);var ht=c.ccclass,ct=c.property,ut=c.executeInEditMode,dt=c.requireComponent,pt=c.disallowMultiple,ft=c.menu,_t=c.help;function gt(){return!1}u.prototype.toVec3||(console.warn("当前环境无 Vec2.toVec3() 定义,开始兼容性定义"),u.prototype.toVec3=function(e){return void 0===e&&(e=0),new d(this.x,this.y,e)}),d.prototype.toVec2||(console.warn("当前环境无 Vec3.toVec2() 定义,开始兼容性定义"),d.prototype.toVec2=function(){return new u(this.x,this.y)});var yt=!1,mt=e("TerrainRenderMode",function(e){return e[e.VERTICAL_MODE=0]="VERTICAL_MODE",e[e.TANGENT_MODE=1]="TANGENT_MODE",e[e.TANGENT_MODE_CENTER=2]="TANGENT_MODE_CENTER",e}({})),vt=e("TerrainRenderUVMode",function(e){return e[e.UV_REPEAT_GRID=0]="UV_REPEAT_GRID",e[e.UV_REPEAT_LENGTH=1]="UV_REPEAT_LENGTH",e}({}));e("CurveTexture",(j=ht("CurveTexture"),B=dt(p),L=_t("https://github.com/soidaken/CurveTexture2d"),X=ft("2D/CurveTexture2d(曲线纹理2d)"),Y=ct({}),q=ct({tooltip:" (Automatically sync terrain data from another node, this node cannot edit terrain when enabled)",displayName:" Enable Follow Mode"}),K=ct({type:f}),Z=ct({type:f,tooltip:" (Target node to follow)",displayName:" (Follow Target)"}),J=ct({type:_(mt)}),Q=ct({type:_(mt),tooltip:" (Terrain rendering mode, VERTICAL_MODE renders vertically downward according to control points, suitable for thick textures; TANGENT_MODE/TANGENT_MODE_CENTER renders vertically downward according to the tangent direction of control points, suitable for thin textures)",displayName:" Terrain Rendering Mod",group:"(Terrain Rendering)"}),$=ct({type:_(vt)}),ee=ct({type:_(vt),tooltip:" (Terrain UV rendering mode, UV_REPEAT_GRID repeats according to the default grid; UV_REPEAT_LENGTH repeats according to length)",displayName:" Terrain Rendering UV Mod",group:"(Terrain Rendering)"}),te=ct({type:g}),ne=ct({type:g,tooltip:"effect asset",displayName:"effect asset",group:"(Terrain Rendering)"}),ie=ct({type:y}),re=ct({type:y,tooltip:" Terrain texture",displayName:" Terrain Texture",group:"(Terrain Rendering)"}),oe=ct({}),se=ct({tooltip:"head/tail fixed texture",displayName:"head/tail fixed texture",group:"(Terrain Rendering)",visible:function(){return this._renderMode==mt.TANGENT_MODE||this._renderMode==mt.TANGENT_MODE_CENTER}}),ae=ct({type:y}),le=ct({type:y,tooltip:" Terrain texture",displayName:" Terrain Texture",group:"(Terrain Rendering)",visible:function(){return 1==this._headTailFixedOnOff}}),he=ct({}),ce=ct({tooltip:" (If it is upside down, click me!)",displayName:" (Upside Down?)",group:" (Terrain Rendering)"}),ue=ct({}),de=ct({tooltip:" (Thickness of the terrain, 0 sets it to the texture height value)",displayName:" (Terrain Thickness)",group:" (Terrain Rendering)"}),pe=ct({}),fe=ct({type:d,tooltip:" (Offset value for rendering start, z is temporarily invalid)",group:" (Terrain Rendering)",displayName:" (Rendering Offset)"}),_e=ct({}),ge=ct({type:m,tooltip:" (Number of subdivisions between every two control points, default is 16)",displayName:" (Number of Subdivided Points)",group:" (Terrain Rendering)",slide:!0,range:[0,32,2]}),ye=ct({}),me=ct({tooltip:" (Whether the head and tail are closed, rendered as a closed area)",displayName:" (Head and Tail Closure)",group:" (Head and Tail Closure Parameters)"}),ve=ct({type:W}),Te=ct({tooltip:" (Inner rendering component after closure, if not needed, it can be left unset)",displayName:" (Head and Tail Closure)",group:" (Head and Tail Closure Parameters)",type:W,visible:function(){return this._headTailCloseOnoff}}),xe=ct({}),be=ct({tooltip:"Add a [PhysicsPolygonCollider] component to a specific child node, or you can implement it yourself after fetching data from [getCurveTexturePoints].)",displayName:" (Synchronize Generation of Physical Properties)",group:" (Physical Properties)"}),Oe=ct({}),Pe=ct({type:v,tooltip:" (Thickness of the physical collider, 0 sets it to the texture height value)",displayName:" (Physical Collider Thickness)",group:" (Physical Properties)",visible:function(){return this._physcisOnOff}}),Ce=ct({}),Ee=ct({type:d,tooltip:" (Offset value for the physical collider, default is (0,0,0))",displayName:" (Physical Collider Offset)",group:" (Physical Properties)",visible:function(){return this._physcisOnOff}}),we=ct({type:[u]}),Ne=ct({}),Me=ct({type:T,tooltip:" (Whether to display gizmo in editor)",displayName:" (Whether to display gizmo in editor)",group:" (Terrain Editing Parameter Control)"}),Se=ct({}),ze=ct({type:T,tooltip:" (Sort in X direction)",displayName:" (Sort in X direction)",group:" (Terrain Editing Parameter Control)"}),Ve=ct({}),Ae=ct({type:T,tooltip:"editWhenRun",displayName:"editWhenRun",group:" (Terrain Editing Parameter Control)"}),De=ct({type:y}),Re=ct({type:y,tooltip:" (Texture of Terrain Control Points)",displayName:" (Texture of Terrain Control Points)",group:{name:" (Terrain Editing Parameter Control)",style:"tab"}}),ke=ct({}),Fe=ct({type:x,tooltip:" (Gizmo color when editing control points, alpha value is >=50)",displayName:" (Color of  Control Points)",group:" (Points Editing Parameter Control)"}),j(Ie=B(Ie=pt(Ie=ut(Ie=L(Ie=X((Ge=t((Ue=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this)._curve_width=512,t._curve_height=512,t._curve_height_result=512,t._curve_collider_thickness=0,t._headNode=null,t._tailNode=null,i(t,"_syncOnOff",Ge,r(t)),i(t,"_syncTarget",He,r(t)),i(t,"_renderMode",We,r(t)),i(t,"_renderUVMode",je,r(t)),i(t,"_spEffectAsset",Be,r(t)),t._gizmoInitColor=new x(255,255,255,255),i(t,"_spFrame",Le,r(t)),i(t,"_headTailFixedOnOff",Xe,r(t)),i(t,"_headTailFrame",Ye,r(t)),i(t,"_updownFix",qe,r(t)),i(t,"_thickness",Ke,r(t)),i(t,"_offset",Ze,r(t)),t._controlPoints=[b(-500,-130,0),b(-160,30,0),b(160,-130,0),b(500,30,0)],i(t,"_smoothness",Je,r(t)),i(t,"_headTailCloseOnoff",Qe,r(t)),i(t,"_innerMeshSprite",$e,r(t)),i(t,"_physcisOnOff",et,r(t)),i(t,"_physicsThickness",tt,r(t)),t._physicsCollider=null,i(t,"_offsetCollider",nt,r(t)),t._vertexesSegment=[],t._vertexes=[],t.renderer=null,t._minSegmentLength=8,t._NAME_OF_PHYSICSNODE="physicContainerNode",i(t,"midPoints",it,r(t)),i(t,"_visibleOnOff",rt,r(t)),i(t,"_sortInXDirection",ot,r(t)),i(t,"_editWhenRun",st,r(t)),i(t,"_gizmotag",at,r(t)),i(t,"_gizmoColor",lt,r(t)),t._editNodes=[],t._lastPositionHash="",t._lastSyncPositionHash="",t._lastEditNodes=null,t}n(t,e);var h=t.prototype;return h.getCurveTexturePoints=function(){return this._vertexesSegment},h.onLoad=function(){for(var e=[],t=[],n=0;n<this.node.children.length;n++){var i=this.node.children[n];i.name.startsWith("gizmo_")&&t.push(i)}this._sortInXDirection&&(t.sort((function(e,t){return e.x-t.x})),t.forEach((function(e,t){e.setSiblingIndex(t+10)})));for(var r=0;r<t.length;r++){var o=t[r];e.push(o.position)}this._controlPoints=e.length>0?e:this._controlPoints},h.debugPrint=function(){console.log(this.node.name+" CurveTexture.ts debugPrint _curve_width : ",this._curve_width),console.log(this.node.name+" CurveTexture.ts debugPrint _curve_height : ",this._curve_height),console.log(this.node.name+" CurveTexture.ts debugPrint _controlPoints : ",this._controlPoints),console.log(this.node.name+" CurveTexture.ts debugPrint _vertexesSegment : ",this._vertexesSegment),console.log(this.node.name+" CurveTexture.ts debugPrint _vertexes : ",this._vertexes)},h.onEnable=function(){var e=this;this.node.off(f.EventType.TRANSFORM_CHANGED),this.node.on(f.EventType.TRANSFORM_CHANGED,(function(t){t&f.TransformBit.TRS&&e._refreshAll("559")}),this),this._registerKeyForGizmo(),this._refreshAll("565")},h._refreshAll=function(e){var n=this.node.getComponent(p);n?(this.renderer=n,this.node.getComponent(O)||this.node.addComponent(O),this.renderer?(this.node.getComponents(t).length>1&&console.error(this.node.name+yt?" 请去除无用的[ CurveTexture ]组件,一个节点只需绑定一个,多个存在只会有最后一个生效!":" (Please remove unnecessary [CurveTexture] components, only one needs to be bound to a node, if multiple exist, only the last one will take effect!)"),this._spFrame?this._spEffectAsset?(this._curve_height=this._spFrame.originalSize.height,this._curve_width=this._spFrame.originalSize.width,this._curve_width&this._curve_width-1?console.warn(" (The width of the texture is not a power of 2, please check!)"):this._curve_height&this._curve_height-1?console.warn(" (The height of the texture is not a power of 2, please check!)"):(null==this.gizmoTag&&console.warn(" ([ Control Point Texture] has not been specified yet! Drag in the [gizmotag] resource)"),this.node.getComponent(P)&&console.warn(this.node.name+" (Please remove the [UIOpacity] component, this property is ignored in actual rendering, if transparency is needed, please modify the original texture!)"),this._applySpriteFrame(),this._syncOnOff&&this._syncTarget||(this._vertexesSegment.length=0,this._vertexesSegment=this._generateSegmentVertex(this._smoothness),this._updateHeadTail(),this._headTailCloseOnoff&&this.innerMeshSprite&&(this.innerMeshSprite.node.setWorldPosition(this.node.worldPosition),this.innerMeshSprite.setVertexes(this._vertexesSegment))),this._vertexesSegment.length>0&&(this._updateMesh(),this.generatePhysicData()))):console.warn(" (The [Effect Asset] has not been specified yet, drag in the default [curvetexure-sprite.effect] texture of the plugin!)"):console.warn(" (The [Terrain Texture] has not been specified yet, drag in the default [terrain-ground] texture of the plugin!)")):console.warn(" (No MeshRenderer component, please add MeshRenderer component!)")):console.warn("MeshRenderer component not found!")},h._applySpriteFrame=function(){if(this._spFrame&&this.renderer){this._curve_height_result=0==this._thickness?this._curve_height:this._thickness,this._curve_collider_thickness=0==this._physicsThickness?this._curve_height:this._physicsThickness;var e=this._spFrame.texture;e.setWrapMode(C.WrapMode.REPEAT,C.WrapMode.REPEAT,C.WrapMode.REPEAT);var t=this.renderer.getMaterialInstance(0);t&&t.effectAsset===this._spEffectAsset||((t=new E).initialize({effectAsset:this._spEffectAsset,defines:{USE_TEXTURE:!0}}),this.renderer.setMaterialInstance(t,0)),t.setProperty("mainTexture",e,0);var n=this._spFrame.uv,i=n[0],r=n[1],o=n[6]-n[0],s=n[5]-n[1],a=w(i,r,o,s);t.setProperty("altlasUV",a,0)}else{if(!this._spFrame)this.renderer.getMaterialInstance(0).setProperty("mainTexture",null,0)}},h._getTangentPos=function(e,t,n,i){return t.clone().subtract(e).normalize().toVec2().rotate(n).multiplyScalar(i).add(e.toVec2()).toVec3()},h._updateHeadTail=function(){this._updateHead(),this._updateTail()},h._transfromPositonWhenScale=function(e,t){var n=e.clone(),i=t.getWorldMatrix(),r=new d;d.transformMat4(r,n,i);var o=new N;N.invert(o,t.getWorldMatrix());var s=new d;return d.transformMat4(s,r,o),s},h._updateHead=function(){if(this._headTailFixedOnOff){if(!this._headTailFrame)return void console.warn(" (Please set the head/tail texture)");var e=this.node.getChildByName("_headNode_");e||(e=new f("_headNode_")).setParent(this.node),e.setSiblingIndex(0),e.setPosition(0,0,this.node.z);var t=e.getComponent(p);t||(t=e.addComponent(p)),e.getComponent(O)||e.addComponent(O);var n=t.getMaterialInstance(0);n||((n=new E).initialize({effectAsset:this._spEffectAsset,defines:{USE_TEXTURE:!0}}),t.setMaterialInstance(n,0)),n.setProperty("mainTexture",this._headTailFrame.texture,0);var i=this._headTailFrame.uv,r=i[0],o=i[1],s=i[6]-i[0],a=i[5]-i[1],l=w(r,o,s,a);n.setProperty("altlasUV",l,0);var h=this._vertexesSegment[0],c=this._vertexesSegment[1],u=h.clone(),d=this._getTangentPos(u,c,-Math.PI/2,this._curve_height_result),_=h.clone().subtract(c).normalize().multiplyScalar(this._headTailFrame.originalSize.width).add(h),g=d.clone().subtract(u).add(_);if(this._renderMode===mt.TANGENT_MODE_CENTER){var y=_.clone().subtract(g).multiplyScalar(.5);_=_.add(y),g=g.add(y),u=u.add(y),d=d.add(y)}var m=[],v=[];v.push(_,g,u,d);for(var T=0;T<v.length;T++)m.push(v[T].x,v[T].y,v[T].z);var x=this.node.scale.x*this.node.scale.y>0?[0,1,2,1,3,2]:[0,2,1,1,2,3];e.scale.x*e.scale.y<0&&(x=[0,2,1,1,2,3]);var b=M.MeshUtils.createMesh({positions:m,uvs:[0,0,0,1,1,0,1,1],indices:x});t.mesh&&t.mesh.destroy(),t.mesh=b}else{var P=this.node.getChildByName("_headNode_");P&&P.destroy()}},h._updateTail=function(){if(this._headTailFixedOnOff){if(!this._headTailFrame)return void console.warn(" (Please set the head/tail texture)");var e=this.node.getChildByName("_tailNode_");e||(e=new f("_tailNode_")).setParent(this.node),e.setSiblingIndex(0),e.setPosition(0,0,this.node.z);var t=e.getComponent(p);t||(t=e.addComponent(p)),e.getComponent(O)||e.addComponent(O);var n=t.getMaterialInstance(0);n||((n=new E).initialize({effectAsset:this._spEffectAsset,defines:{USE_TEXTURE:!0}}),t.setMaterialInstance(n,0)),n.setProperty("mainTexture",this._headTailFrame.texture,0);var i=this._headTailFrame.uv,r=i[0],o=i[1],s=i[6]-i[0],a=i[5]-i[1],l=w(r,o,s,a);n.setProperty("altlasUV",l,0);var h=this._vertexesSegment[this._vertexesSegment.length-1].clone(),c=this._getTangentPos(h,this._vertexesSegment[this._vertexesSegment.length-2],Math.PI/2,this._curve_height_result),u=h.clone().subtract(this._vertexesSegment[this._vertexesSegment.length-2]).normalize().multiplyScalar(this._headTailFrame.originalSize.width).add(h),d=u.clone().subtract(h).add(c);if(this._renderMode===mt.TANGENT_MODE_CENTER){var _=h.clone().subtract(c).multiplyScalar(.5);h=h.add(_),c=c.add(_),u=u.add(_),d=d.add(_)}var g=[],y=[];y.push(h,c,u,d);for(var m=0;m<y.length;m++)g.push(y[m].x,y[m].y,y[m].z);var v=this.node.scale.x*this.node.scale.y>0?[0,1,2,1,3,2]:[0,2,1,1,2,3],T=M.MeshUtils.createMesh({positions:g,uvs:[1,0,1,1,0,0,0,1],indices:v});t.mesh&&t.mesh.destroy(),t.mesh=T}else{var x=this.node.getChildByName("_tailNode_");x&&x.destroy()}},h._catmullRom=function(e,t,n,i,r){var o=r*r,s=o*r,a=.5*(2*t.x+(-e.x+n.x)*r+(2*e.x-5*t.x+4*n.x-i.x)*o+(-e.x+3*t.x-3*n.x+i.x)*s),l=.5*(2*t.y+(-e.y+n.y)*r+(2*e.y-5*t.y+4*n.y-i.y)*o+(-e.y+3*t.y-3*n.y+i.y)*s);return b(a,l,0)},h._generateSegmentVertex=function(e,t){void 0===e&&(e=8),void 0===t&&(t=!1);var n=[],i=this._controlPoints,r=i.length;if(0===e)return n.push.apply(n,i),t||console.log(this.node.name+" (Number of points after subdivision):",n.length),this._headTailCloseOnoff&&n.push(i[0].clone()),n;if(r<2)return 1===r&&n.push(i[0].clone()),n;if(2===r){var o=i[0],s=i[1];return n.push(o.clone()),n.push(s.clone()),n}var a=[],l=0;this._headTailCloseOnoff?(a.push(i[i.length-1].clone()),a.push.apply(a,i),a.push(i[0].clone()),a.push(i[1].clone()),l=r):(l=r-1,a.push(i[0].clone().add(i[0].clone().subtract(i[1]))),a.push.apply(a,i),a.push(i[r-1].clone().add(i[r-1].clone().subtract(i[r-2]))));for(var h=0;h<l;h++){var c=a[h],u=a[h+1],d=a[h+2],p=a[h+3];0===h&&n.push(u.clone());var f=u.clone().subtract(d).length(),_=e;if(f<40)_=1;else for(;_>1&&f/_<this._minSegmentLength;)_=Math.floor(_/2);for(var g=1/_,y=1;y<=_;y++){var m=y*g,v=this._catmullRom(c,u,d,p,m);n.push(v)}}return t||console.log(this.node.name+" (Number of points after subdivision):",n.length),n},h._updateMesh=function(){if(!this._spFrame||this._controlPoints.length<2)return console.warn("Need at least 2 points to define the curve."),void(this.renderer.mesh=null);var e=this._calculateVertexes();if(0===e.length)return console.warn(this.node.name,"No vertexes calculated."),void(this.renderer.mesh=null);var t=this._renderUVMode==vt.UV_REPEAT_GRID?this._calculateUVs():this._calculateTangentsUVs(),n=this._calculateIndices(),i=M.MeshUtils.createMesh({positions:e,uvs:t,indices:n});this.renderer.mesh&&this.renderer.mesh.destroy(),this.renderer.mesh=i},h._crossPointBy2Segment=function(e,t,n,i,r){void 0===r&&(r=!1);var o=e,s=t,a=n,l=i,h=(l.y-a.y)*(s.x-o.x)-(l.x-a.x)*(s.y-o.y);if(0===h)return null;var c=((l.x-a.x)*(o.y-a.y)-(l.y-a.y)*(o.x-a.x))/h,u=((s.x-o.x)*(o.y-a.y)-(s.y-o.y)*(o.x-a.x))/h;return r||c>=0&&c<=1&&u>=0&&u<=1?S(o.x+c*(s.x-o.x),o.y+c*(s.y-o.y)):null},h._signedAngle3D=function(e,t,n){var i=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)+Math.pow(e.z,2)),r=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)+Math.pow(t.z,2));if(0===i||0===r)return NaN;var o=e.x*t.x+e.y*t.y+e.z*t.z,s=e.y*t.z-e.z*t.y,a=e.z*t.x-e.x*t.z,l=e.x*t.y-e.y*t.x,h=n||b(0,0,1),c=s*h.x+a*h.y+l*h.z,u=Math.sign(c),d=Math.min(1,Math.max(-1,o/(i*r)));return u*Math.acos(d)},h._calclateTangentPoints=function(e,t){t=t<0?1:t;var n=new u(0,0),i=new u(0,0),r=[],o=e;this._headTailCloseOnoff&&(o=e.map((function(e){return e.clone()}))).push(o[1].clone());for(var s=0;s<o.length;s++){r.push(o[s].clone());var a=1*t,l=(new d(0,0,0),new u(0,0),(s==o.length-1?o[s].clone().subtract(o[s-1]).clone().normalize().toVec2():o[s+1].clone().subtract(o[s]).clone().normalize().toVec2()).clone().rotate(-Math.PI/2).multiplyScalar(a)),h=o[s].toVec2().add(l);if(s<o.length-1){var c=o[s+1].toVec2().add(l);if(s>0){var p=1.414*a,f=this._crossPointBy2Segment(n,i,h,c,!0);if(f){var _=f.clone().subtract(o[s].toVec2()),g=_.clone().normalize();_.length()>p&&this._smoothness>6&&(f=g.clone().multiplyScalar(p).add(o[s].toVec2())),r.push(f.toVec3())}else console.log(this.node.name+" 交点计算失败,交点退化为原始点"),r.push(h.toVec3())}i=c}0!==s&&s!==o.length-1||r.push(h.toVec3()),n=h}this._headTailCloseOnoff&&(r.pop(),r.pop(),r[0]=r[r.length-2],r[1]=r[r.length-1]);for(var y=r.map((function(e){return e.toVec2()})),m=0;m<y.length;m+=2)if(0!==m&&y.length-2!==m)for(var v=y[m],T=y[m+1],x=0;x<y.length;x+=2)if(y.length-2!==x&&x!==m&&x!==m-2&&x!==m+2){var b=y[x],O=y[x+2],P=this._crossPointBy2Segment(v,T,b,O,!1);P&&(r[m+1].x=P.x,r[m+1].y=P.y)}return r},h._calclateTangentCenterPoints=function(e,t,n){t=t<0?1:t;var i=new u(0,0),r=new u(0,0),o=new u(0,0),s=new u(0,0),a=[],l=e;this._headTailCloseOnoff&&(l=e.map((function(e){return e.clone()}))).push(l[1].clone());for(var h=0;h<l.length;h++){var c=.5*t,p=(new d(0,0,0),new u(0,0)),f=(p=h==l.length-1?l[h].clone().subtract(l[h-1]).clone().normalize().toVec2():l[h+1].clone().subtract(l[h]).clone().normalize().toVec2()).clone().rotate(Math.PI/2).multiplyScalar(c),_=p.clone().rotate(-Math.PI/2).multiplyScalar(c),g=l[h].toVec2().add(f),y=l[h].toVec2().add(_);if(h<l.length-1){var m=l[h+1].toVec2().add(f),v=l[h+1].toVec2().add(_);if(h>0){var T=this._crossPointBy2Segment(i,o,g,m,!0),x=1.414*c;if(T){var b=T.clone().subtract(l[h].toVec2()),O=b.clone().normalize();b.length()>x&&this._smoothness>6&&(T=O.clone().multiplyScalar(x).add(l[h].toVec2())),a.push(T.toVec3())}else console.log(this.node.name+" 交点计算失败,交点退化为原始点"),a.push(g.toVec3());var P=this._crossPointBy2Segment(r,s,y,v,!0);if(P){var C=P.clone().subtract(l[h].toVec2()),E=C.clone().normalize();C.length()>x&&this._smoothness>6&&(P=E.clone().multiplyScalar(x).add(l[h].toVec2())),a.push(P.toVec3())}else console.log(this.node.name+" 交点计算失败,交点退化为原始点"),a.push(y.toVec3())}o=m,s=v}0===h&&(a.push(g.toVec3()),a.push(y.toVec3())),h===l.length-1&&(a.push(g.toVec3()),a.push(y.toVec3())),i=g,r=y}return this._headTailCloseOnoff&&(a.pop(),a.pop(),a[0]=a[a.length-2],a[1]=a[a.length-1]),a},h._calculateVertexes=function(){var e=[];if(this._vertexes.length=0,this._vertexesSegment.length<2)return console.warn(this.node.name,"count of subdivided points is less than 2"),e;for(var t=[],n=0;n<this._vertexesSegment.length;n++){var i=this._vertexesSegment[n];i&&t.push(i.clone().add(this._offset))}if(this._renderMode==mt.VERTICAL_MODE)for(var r=0;r<t.length-1;r++){var o=t[r],s=t[r+1],a=o.clone().add(b(0,-this._curve_height_result,0)),l=s.clone().add(b(0,-this._curve_height_result,0));this._vertexes.push(o),this._vertexes.push(a),this._vertexes.push(s),this._vertexes.push(a),this._vertexes.push(l),this._vertexes.push(s)}else this._renderMode==mt.TANGENT_MODE?this._vertexes=this._calclateTangentPoints(t,this._curve_height_result):this._renderMode==mt.TANGENT_MODE_CENTER&&(this._vertexes=this._calclateTangentCenterPoints(t,this._curve_height_result));return this._vertexes.forEach((function(t){e.push(t.x,t.y,t.z)})),e},h._calculateUVs=function(){var e=[];if(!this._spFrame||0===this._vertexes.length||this._vertexesSegment.length<2)return e;for(var t=0;t<this._vertexes.length;t++){var n=this._vertexes[t],i=n.x/this._curve_width,r=1-n.y/this._curve_height;this._updownFix&&(r=n.y/this._curve_height),e.push(i,r)}return e},h._calculateTangentsUVs=function(){for(var e,t=[],n=this._curve_width,i=this._curve_height,r=n,s=0,a=null,l=0,h=0,c=o(this._vertexes);!(e=c()).done;){var u=e.value,d=0,p=0;s%2==0?(p=this._updownFix?this._curve_height_result/i:0,h=d=null!=a?(l+=u.clone().subtract(a).length())/r:0,a=u):(p=this._updownFix?0:this._curve_height_result/i,d=h),t.push(d,p),s+=1}return t},h._calculateNormals=function(){for(var e=[],t=b(0,0,1),n=0;n<this._vertexes.length;n++)e.push(t.x,t.y,t.z);return e},h._calculateIndices=function(){for(var e=[],t=this._vertexes.length,n=0;n<t-2;n++)this.node.scale.x*this.node.scale.y>0?(e.push(n),e.push(n%2==0?n+1:n+2),e.push(n%2==0?n+2:n+1)):(e.push(n),e.push(n%2==0?n+2:n+1),e.push(n%2==0?n+1:n+2));return e},h._extractPolygonOutline=function(e){var t=this;if(this._renderMode==mt.VERTICAL_MODE){var n=[],i=this._vertexesSegment.map((function(e){return e.clone().add(t._offsetCollider).toVec2()}));n.push.apply(n,i);var r=i.map((function(e){return e.clone().add(S(0,-t._curve_collider_thickness))})).reverse();return n.push.apply(n,r),n}if(this._renderMode==mt.TANGENT_MODE_CENTER){for(var o=this._vertexesSegment.map((function(e){return e.clone().add(t._offsetCollider)})),s=this._calclateTangentCenterPoints(o,this._curve_collider_thickness,!0),a=s.filter((function(e,t){return t%2==0})),l=this._smoothness;H.isPolygonSelfIntersect(a).result&&l>2;){l-=2;var h=this._generateSegmentVertex(l,!0);a=(s=this._calclateTangentCenterPoints(h,this._curve_collider_thickness,!0)).filter((function(e,t){return t%2==0}))}for(var c=[],u=[],d=0;d<s.length;d++)d%2==0?c.push(s[d].clone().add(this._offsetCollider).toVec2()):u.push(s[d].clone().add(this._offsetCollider).toVec2());return c.concat(u.reverse())}if(this._renderMode==mt.TANGENT_MODE){for(var p=this._vertexesSegment.map((function(e){return e.clone().add(t._offsetCollider)})),f=this._calclateTangentPoints(p,this._curve_collider_thickness),_=f.filter((function(e,t){return t%2==0})),g=this._smoothness;H.isPolygonSelfIntersect(_).result&&g>2;){g-=2;var y=this._generateSegmentVertex(g,!0);_=(f=this._calclateTangentCenterPoints(y,this._curve_collider_thickness,!0)).filter((function(e,t){return t%2==0}))}for(var m=[],v=[],T=0;T<f.length;T++)T%2==0?m.push(f[T].clone().add(this._offsetCollider).toVec2()):v.push(f[T].clone().add(this._offsetCollider).toVec2());return m.concat(v.reverse())}},h.generatePhysicData=function(){if(this._physcisOnOff){var e=this.node.getChildByName(this._NAME_OF_PHYSICSNODE);if(e||((e=new f(this._NAME_OF_PHYSICSNODE)).setSiblingIndex(0),this.node.addChild(e)),e.setPosition(0,0,0),this._physicsCollider=e.getComponent(z),this._physicsCollider||(this._physicsCollider=e.addComponent(z)),!e.getComponent(V))e.addComponent(V).type=A.Static;var t=this._extractPolygonOutline(this._vertexes);this._physicsCollider.points=t,this._physicsCollider.apply(),this._calculateMiddleLinePoints(t)}else{var n=this.node.getChildByName(this._NAME_OF_PHYSICSNODE);n&&n.destroy()}},h._calculateMiddleLinePoints=function(e){for(var t=[],n=e.length/2,i=e.length-1,r=0;r<n;r++){var o=e[r],s=e[i-r];t.push(S(o.x+s.x,o.y+s.y).multiplyScalar(.5))}return this.midPoints=t,t},h._registerKeyForGizmo=function(){},h._padStart=function(e,t,n){for(void 0===n&&(n="0");e.length<t;)e=n+e;return e},h._simpleHash=function(e,t){void 0===t&&(t=8);for(var n=5381,i=0;i<e.length;i++)n=(n<<5)+n+e.charCodeAt(i),n&=4294967295;var r=(n>>>0).toString(16);return this._padStart(r,t).slice(-t)},h._normalizeAngle=function(e){return(e%360+360)%360},h._angleOfVec=function(e){if(!e)return 0;if(0==e.x&&0==e.y)return 0;var t=S(e.x,e.y),n=D.radiansToDegrees(t.signAngle(S(1,0)));return this._normalizeAngle(-n)},h._checkAndAddGizmoNodesByControlPoints=function(){var e=this._controlPoints.length,t=this._editNodes.length;console.log("cpcount",e),console.log("nodecount",t);for(var n=e,i=0;i<n;i++){var r=this._controlPoints[i],o=new f;o.name="gizmo_"+(i+1),o.setPosition(r.x,r.y+1,r.z);o.addComponent(P);var s=o.addComponent(R),a=o.addComponent(k);this.node.addChild(o),a.spriteFrame=this._gizmotag,s.setContentSize(80,80),o.getComponent(k).color=this.gizmoColor,this._editWhenRun&&o.addComponent(G)}},h.update=function(){var e=a(l().mark((function e(n){var i,r,s,a,h,c,u,d,p,f,_,g,y,m,v,T,x,O,C,E,w,N,M,z,V,A,D,F,I,H=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._syncOnOff||!this._syncTarget){e.next=17;break}return i=this._syncTarget.getComponent(t),this._controlPoints=i.controlPoints,this._vertexesSegment=i.vertexesSegment,this._updateHeadTail(),this.node.setPosition(this._syncTarget.position.x,this._syncTarget.position.y),this.node.getScale().x===this._syncTarget.scale.x&&this.node.getScale().y===this._syncTarget.scale.y||this.node.setScale(this._syncTarget.scale.x,this._syncTarget.scale.y,1),r=[],this._controlPoints.forEach((function(e){return r.push(e.x+","+e.y+";")})),this._vertexesSegment.forEach((function(e){return r.push(e.x+","+e.y+";")})),s=r.join(""),s+=""+this._sortInXDirection,(a=this._simpleHash(s))!=this._lastSyncPositionHash&&(this._lastSyncPositionHash=a,this._refreshAll("1683")),this._editNodes=this.node.children.filter((function(e){return e.name.startsWith("gizmo_")})),this._editNodes.forEach((function(e){e.destroy()})),e.abrupt("return");case 17:if(null!=this._gizmotag){e.next=19;break}return e.abrupt("return");case 19:e.next=43;break;case 26:(c=e.sent)[c.length-1],u=-1,d=null,p=-1,f=l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=g.value,(n=H._lastEditNodes.findIndex((function(e){return e.uuid===t})))>u&&(u=n,d=H._lastEditNodes[n],p=n);case 3:case"end":return e.stop()}}),e)})),_=o(c);case 33:if((g=_()).done){e.next=37;break}return e.delegateYield(f(),"t0",35);case 35:e.next=33;break;case 37:y=this._lastEditNodes[p-1],m=this._lastEditNodes[p+1],v=S(1,0),m?v=m.getPosition().clone().subtract(d.getPosition()).toVec2().normalize():y&&(v=d.getPosition().clone().subtract(y.getPosition()).toVec2().normalize()),d&&(T=150,m&&(T=m.getPosition().clone().subtract(d.getPosition()).length(),T/=h.length+1),x=d.getSiblingIndex(),h.forEach((function(e,t){e.setSiblingIndex(x+1),x=e.getSiblingIndex();var n=T*(t+1);e.setPosition(d.getPosition().toVec2().add(v.clone().multiplyScalar(n)).add(S(0,4*(t+1))).toVec3())})));case 42:this._lastEditNodes=undefined;case 43:if(this._editNodes.length=0,this._editNodes=this.node.children.filter((function(e){return e.name.startsWith("gizmo_")})),this._editWhenRun||U){e.next=48;break}return this._editNodes.forEach((function(e){e.destroy()})),e.abrupt("return");case 48:for(this._editNodes.length<=0?this._checkAndAddGizmoNodesByControlPoints():this._editNodes.length<=1&&this.scheduleOnce((function(){H._editNodes.length=0,H._controlPoints.length=0,H._controlPoints.push(b(200,200,0)),H._controlPoints.push(b(400,300,0))}),0),O=0;O<this._editNodes.length;O++)C=this._editNodes[O],C.getComponent(R).setContentSize(80,80),C.getComponent(P).opacity=255,(E=C.getComponent(k)).color=this.gizmoColor,E.spriteFrame=this._gizmotag,this._editWhenRun?null==C.getComponent(G)&&C.addComponent(G):(w=C.getComponent(G))&&w.destroy();this._sortInXDirection&&(this._editNodes.sort((function(e,t){var n=e.getPosition(),i=t.getPosition();return n.x-i.x})),this._editNodes.forEach((function(e,t){e.setSiblingIndex(t+10)}))),N=0;case 52:if(!(N<this._editNodes.length)){e.next=69;break}if(M=this._editNodes[N],N!=this._editNodes.length-1){e.next=60;break}if(!this._headTailCloseOnoff){e.next=58;break}e.next=60;break;case 58:return M.angle=0,e.abrupt("break",69);case 60:z=this._editNodes[N+1],this._headTailCloseOnoff&&N===this._editNodes.length-1&&(z=this._editNodes[0]),V=M.getPosition(),A=z.getPosition(),D=this._angleOfVec(A.clone().subtract(V).toVec2()),M.angle=D;case 66:N++,e.next=52;break;case 69:this._sortInXDirection&&(this._editNodes.sort((function(e,t){var n=e.getPosition(),i=t.getPosition();return n.x-i.x})),this._editNodes.forEach((function(e,t){e.setSiblingIndex(t+10)}))),F="",this._editNodes.forEach((function(e){var t=e.getPosition();F+=t.x+","+t.y+","+t.z+";"})),(I=this._simpleHash(F))!==this._lastPositionHash&&(this._lastPositionHash=I,this._controlPoints.length=0,this._editNodes.forEach((function(e){var t=e.getPosition();H._controlPoints.push(t)})),this._refreshAll("1567"));case 74:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s(t,[{key:"syncOnOff",get:function(){return this._syncOnOff},set:function(e){e||(this.syncTarget=null),this._syncOnOff=e,this._refreshAll()}},{key:"syncTarget",get:function(){return this._syncTarget},set:function(e){if(this._syncOnOff){if(e){var n=e.getComponent(t);if(!n)return void console.warn(" (The target node to follow does not have a CurveTexture component, please add it)");if(e===this.node)return void console.warn(" (The target node to follow cannot be itself)");if(n.syncTarget&&n.syncTarget===this.node)return void console.warn(" (Circular following detected, illegal operation!)")}this._syncTarget=e,this._refreshAll()}else console.warn(" (Follow mode needs to be enabled first)")}},{key:"renderMode",get:function(){return this._renderMode},set:function(e){this._renderMode=e,this._refreshAll()}},{key:"renderUVMode",get:function(){return this._renderUVMode},set:function(e){this._renderUVMode=e,this._refreshAll()}},{key:"spEffectAsset",get:function(){return this._spEffectAsset},set:function(e){this._spEffectAsset=e,this._refreshAll()}},{key:"spFrame",get:function(){return this._spFrame},set:function(e){this._spFrame=e;for(var t=F.prototype.readPixels.call(e.texture,0,this._spFrame.height/2-2,4,4),n=0,i=0,r=0,o=0;o<t.length;o+=4)n+=t[o],i+=t[o+1],r+=t[o+2];n/=16,i/=16,r/=16;var s=H.rgbToHsl(n,i,r),a=s[0],l=s[1],h=s[2];h=Math.min(h+.16,.95);var c=H.hslToRgb(a,l,h);n=c[0],i=c[1],r=c[2],this._gizmoInitColor.set(n,i,r,this.gizmoColor.a),this.gizmoColor=this._gizmoInitColor,this._refreshAll()}},{key:"headTailFixedOnOff",get:function(){return this._headTailFixedOnOff},set:function(e){this._headTailFixedOnOff=e,this._refreshAll()}},{key:"headTailFrame",get:function(){return this._headTailFrame},set:function(e){this._headTailFrame=e,this._refreshAll()}},{key:"updownFix",get:function(){return this._updownFix},set:function(e){this._updownFix=e,this._refreshAll()}},{key:"thickness",get:function(){return this._thickness},set:function(e){this._thickness=e,this._refreshAll()}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e,this._offset.z=0,this._refreshAll()}},{key:"controlPoints",get:function(){return this._controlPoints},set:function(e){this._controlPoints=null,this._controlPoints=e.slice(),this._refreshAll()}},{key:"smoothness",get:function(){return this._smoothness},set:function(e){this._smoothness=e%2==1?e+1:e,this._refreshAll()}},{key:"headTailCloseOnoff",get:function(){return this._headTailCloseOnoff},set:function(e){if(!e)return this._headTailCloseOnoff=!1,void this._refreshAll();var t=H.isPolygonSelfIntersect(this._controlPoints);if(t.result){if(this._editNodes){var n=this._editNodes[t.index],i=this._editNodes[t.index+1];n.setScale(1.2,1.2,1),setTimeout((function(){n.setScale(1,1,1)}),250),i.setScale(1.2,1.2,1),setTimeout((function(){i.setScale(1,1,1)}),250)}console.warn(" (Control points have self-intersection, please check!)")}else{var r=H.isCollinear(this._controlPoints);r.result?console.warn(" (Control points have continuous collinear points, please check!)"):H.hasDuplicatePoints(this._controlPoints)?console.warn(" (Control points have duplicate points, please check!)"):(this._headTailCloseOnoff=e,this._refreshAll())}}},{key:"innerMeshSprite",get:function(){return this._innerMeshSprite},set:function(e){this._innerMeshSprite=e,this._refreshAll()}},{key:"physcisOnOff",get:function(){return this._physcisOnOff},set:function(e){this._physcisOnOff=e,this._refreshAll()}},{key:"physicsThickness",get:function(){return this._physicsThickness},set:function(e){this._physicsThickness=e,this._refreshAll()}},{key:"physicsCollider",get:function(){return this._physicsCollider}},{key:"offsetCollider",get:function(){return this._offsetCollider},set:function(e){this._offsetCollider=e,this._offsetCollider.z=0,this._refreshAll()}},{key:"vertexesSegment",get:function(){return this._vertexesSegment}},{key:"gizmoVisibleOnOff",get:function(){return this._visibleOnOff},set:function(e){this._editNodes.forEach((function(t){t.active=e})),this._visibleOnOff=e}},{key:"sortInXDirection",get:function(){return this._sortInXDirection},set:function(e){this._sortInXDirection=e}},{key:"editWhenRun",get:function(){return this._editWhenRun},set:function(e){this._editWhenRun=e}},{key:"gizmoTag",get:function(){return this._gizmotag},set:function(e){this._gizmotag=e}},{key:"gizmoColor",get:function(){return this._gizmoColor},set:function(e){var t=e.a<50||e.a;t=e.a>200?200:e.a,this._gizmoColor.set(e.r,e.g,e.b,t)}}]),t}(I)).prototype,"_syncOnOff",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(Ue.prototype,"syncOnOff",[q],Object.getOwnPropertyDescriptor(Ue.prototype,"syncOnOff"),Ue.prototype),He=t(Ue.prototype,"_syncTarget",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ue.prototype,"syncTarget",[Z],Object.getOwnPropertyDescriptor(Ue.prototype,"syncTarget"),Ue.prototype),We=t(Ue.prototype,"_renderMode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.VERTICAL_MODE}}),t(Ue.prototype,"renderMode",[Q],Object.getOwnPropertyDescriptor(Ue.prototype,"renderMode"),Ue.prototype),je=t(Ue.prototype,"_renderUVMode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vt.UV_REPEAT_GRID}}),t(Ue.prototype,"renderUVMode",[ee],Object.getOwnPropertyDescriptor(Ue.prototype,"renderUVMode"),Ue.prototype),Be=t(Ue.prototype,"_spEffectAsset",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ue.prototype,"spEffectAsset",[ne],Object.getOwnPropertyDescriptor(Ue.prototype,"spEffectAsset"),Ue.prototype),Le=t(Ue.prototype,"_spFrame",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ue.prototype,"spFrame",[re],Object.getOwnPropertyDescriptor(Ue.prototype,"spFrame"),Ue.prototype),Xe=t(Ue.prototype,"_headTailFixedOnOff",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(Ue.prototype,"headTailFixedOnOff",[se],Object.getOwnPropertyDescriptor(Ue.prototype,"headTailFixedOnOff"),Ue.prototype),Ye=t(Ue.prototype,"_headTailFrame",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ue.prototype,"headTailFrame",[le],Object.getOwnPropertyDescriptor(Ue.prototype,"headTailFrame"),Ue.prototype),qe=t(Ue.prototype,"_updownFix",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(Ue.prototype,"updownFix",[ce],Object.getOwnPropertyDescriptor(Ue.prototype,"updownFix"),Ue.prototype),Ke=t(Ue.prototype,"_thickness",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(Ue.prototype,"thickness",[de],Object.getOwnPropertyDescriptor(Ue.prototype,"thickness"),Ue.prototype),Ze=t(Ue.prototype,"_offset",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(0,0,0)}}),t(Ue.prototype,"offset",[fe],Object.getOwnPropertyDescriptor(Ue.prototype,"offset"),Ue.prototype),Je=t(Ue.prototype,"_smoothness",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 16}}),t(Ue.prototype,"smoothness",[ge],Object.getOwnPropertyDescriptor(Ue.prototype,"smoothness"),Ue.prototype),Qe=t(Ue.prototype,"_headTailCloseOnoff",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(Ue.prototype,"headTailCloseOnoff",[me],Object.getOwnPropertyDescriptor(Ue.prototype,"headTailCloseOnoff"),Ue.prototype),$e=t(Ue.prototype,"_innerMeshSprite",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ue.prototype,"innerMeshSprite",[Te],Object.getOwnPropertyDescriptor(Ue.prototype,"innerMeshSprite"),Ue.prototype),et=t(Ue.prototype,"_physcisOnOff",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(Ue.prototype,"physcisOnOff",[be],Object.getOwnPropertyDescriptor(Ue.prototype,"physcisOnOff"),Ue.prototype),tt=t(Ue.prototype,"_physicsThickness",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(Ue.prototype,"physicsThickness",[Pe],Object.getOwnPropertyDescriptor(Ue.prototype,"physicsThickness"),Ue.prototype),nt=t(Ue.prototype,"_offsetCollider",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(0,0,0)}}),t(Ue.prototype,"offsetCollider",[Ee],Object.getOwnPropertyDescriptor(Ue.prototype,"offsetCollider"),Ue.prototype),it=t(Ue.prototype,"midPoints",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=t(Ue.prototype,"_visibleOnOff",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),t(Ue.prototype,"gizmoVisibleOnOff",[Me],Object.getOwnPropertyDescriptor(Ue.prototype,"gizmoVisibleOnOff"),Ue.prototype),ot=t(Ue.prototype,"_sortInXDirection",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(Ue.prototype,"sortInXDirection",[ze],Object.getOwnPropertyDescriptor(Ue.prototype,"sortInXDirection"),Ue.prototype),st=t(Ue.prototype,"_editWhenRun",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(Ue.prototype,"editWhenRun",[Ae],Object.getOwnPropertyDescriptor(Ue.prototype,"editWhenRun"),Ue.prototype),at=t(Ue.prototype,"_gizmotag",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ue.prototype,"gizmoTag",[Re],Object.getOwnPropertyDescriptor(Ue.prototype,"gizmoTag"),Ue.prototype),lt=t(Ue.prototype,"_gizmoColor",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x("#9EECFF")}}),t(Ue.prototype,"gizmoColor",[Fe],Object.getOwnPropertyDescriptor(Ue.prototype,"gizmoColor"),Ue.prototype),Ie=Ue))||Ie)||Ie)||Ie)||Ie)||Ie)||Ie));h._RF.pop()}}}));

System.register("chunks:///_virtual/CustomSafeArea.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,o,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,a=e._decorator,o=e.sys,c=e.SafeArea}],execute:function(){var n;r._RF.push({},"d7baeQa1HREVbtkcZQMQsjz","CustomSafeArea",void 0);var s=a.ccclass;a.property,e("CustomSafeArea",s("CustomSafeArea")(n=function(e){function r(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).top=void 0,t}return t(r,e),r.prototype.updateArea=function(){var e=o.getSafeAreaRect();this.top=e.y},r}(c))||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/CutTreeUICmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,c,a,s,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,a=e._decorator,s=e.Label,l=e.Node,u=e.Vec3,p=e.Component}],execute:function(){var b,d,h,y,f,_,v;c._RF.push({},"73bc1U4vjdED416PpC4NObj","CutTreeUICmp",void 0);var C=a.ccclass,g=a.property;e("CutTreeUICmp",(b=C("CutTreeUICmp"),d=g({type:s,displayName:"数量文本",visible:!0}),h=g({type:l,displayName:"图标节点",visible:!0}),b((_=t((f=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_cntLab",_,o(t)),n(t,"_iconNode",v,o(t)),t._iconPos=new u,t}i(t,e);var c=t.prototype;return c.show=function(){this.node.active=!0},c.hide=function(){this.node.active=!1},c.setCntLabView=function(e){this._cntLab.string=String(e)},r(t,[{key:"iconPos",get:function(){return this._iconNode.getWorldPosition(this._iconPos),this._iconPos}}]),t}(p)).prototype,"_cntLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(f.prototype,"_iconNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/CutTreeUICmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,c,a,s,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,a=e._decorator,s=e.Label,l=e.Node,u=e.Vec3,p=e.Component}],execute:function(){var d,h,y,b,f,_,C;c._RF.push({},"2c916WIoW1C5LdSIX5jIj2B","CutTreeUICmp3",void 0);var v=a.ccclass,g=a.property;e("CutTreeUICmp3",(d=v("CutTreeUICmp3"),h=g({type:s,displayName:"数量文本",visible:!0}),y=g({type:l,displayName:"图标节点",visible:!0}),d((_=t((f=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_cntLab",_,o(t)),n(t,"_iconNode",C,o(t)),t._iconPos=new u,t}i(t,e);var c=t.prototype;return c.show=function(){this.node.active=!0},c.hide=function(){this.node.active=!1},c.setCntLabView=function(e){this._cntLab.string=String(e)},r(t,[{key:"iconPos",get:function(){return this._iconNode.getWorldPosition(this._iconPos),this._iconPos}}]),t}(p)).prototype,"_cntLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(f.prototype,"_iconNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));c._RF.pop()}}}));

System.register("chunks:///_virtual/CutTreeUICmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,a,c,s,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,c=e._decorator,s=e.Label,l=e.Node,p=e.Vec3,u=e.Component}],execute:function(){var b,d,h,y,f,_,v;a._RF.push({},"e0a97peiMBJKaKl3pbsHI6V","CutTreeUICmp4",void 0);var C=c.ccclass,g=c.property;e("CutTreeUICmp4",(b=C("CutTreeUICmp4"),d=g({type:s,displayName:"数量文本",visible:!0}),h=g({type:l,displayName:"图标节点",visible:!0}),b((_=t((f=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_cntLab",_,o(t)),n(t,"_iconNode",v,o(t)),t._iconPos=new p,t}i(t,e);var a=t.prototype;return a.show=function(){this.node.active=!0},a.hide=function(){this.node.active=!1},a.setCntLabView=function(e){this._cntLab.string=String(e)},r(t,[{key:"iconPos",get:function(){return this._iconNode.getWorldPosition(this._iconPos),this._iconPos}}]),t}(u)).prototype,"_cntLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(f.prototype,"_iconNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/CutTreeUICmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,c,a,s,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,a=e._decorator,s=e.Label,l=e.Node,u=e.Vec3,p=e.Component}],execute:function(){var d,b,f,h,y,_,m;c._RF.push({},"ce07eG3EXdIobr6o7mPRPf2","CutTreeUICmp5",void 0);var v=a.ccclass,C=a.property;e("CutTreeUICmp5",(d=v("CutTreeUICmp5"),b=C({type:s,displayName:"数量文本",visible:!0}),f=C({type:l,displayName:"图标节点",visible:!0}),d((_=t((y=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_cntLab",_,o(t)),n(t,"_iconNode",m,o(t)),t._iconPos=new u,t}i(t,e);var c=t.prototype;return c.show=function(){this.node.active=!0},c.hide=function(){this.node.active=!1},c.setCntLabView=function(e){this._cntLab.string=String(e)},r(t,[{key:"iconPos",get:function(){return this._iconNode.getWorldPosition(this._iconPos),this._iconPos}}]),t}(p)).prototype,"_cntLab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(y.prototype,"_iconNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/CutTreeUICmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,c,s,a,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,s=e._decorator,a=e.Label,l=e.Node,u=e.Vec3,p=e.Component}],execute:function(){var d,b,h,y,f,_,v;c._RF.push({},"6d169K6n8ZNwb0tjss0Vvp2","CutTreeUICmp6",void 0);var C=s.ccclass,g=s.property;e("CutTreeUICmp6",(d=C("CutTreeUICmp6"),b=g({type:a,displayName:"数量文本",visible:!0}),h=g({type:l,displayName:"图标节点",visible:!0}),d((_=t((f=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_cntLab",_,o(t)),n(t,"_iconNode",v,o(t)),t._iconPos=new u,t}i(t,e);var c=t.prototype;return c.show=function(){this.node.active=!0},c.hide=function(){this.node.active=!1},c.setCntLabView=function(e){this._cntLab.string=String(e)},r(t,[{key:"iconPos",get:function(){return this._iconNode.getWorldPosition(this._iconPos),this._iconPos}}]),t}(p)).prototype,"_cntLab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(f.prototype,"_iconNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/DamageBoardPool.ts",["cc","./util2.ts"],(function(t){var i,s,o;return{setters:[function(t){i=t.cclegacy,s=t.Tween},function(t){o=t.default}],execute:function(){i._RF.push({},"1676c66Vn5DIKOB2tbVlUz0","DamageBoardPool",void 0);t("default",function(){function t(t,i,s,o){void 0===i&&(i=100),void 0===s&&(s=!0),void 0===o&&(o=!1),this.pool=[],this.insts=[],this.name=void 0,this.ctor=t,this.size=i,this.remove=s,this.limit=o}var i=t.prototype;return i.fetch=function(t){var i;if(i=this.limit&&this.insts.length>=this.size?this.insts.shift():this.pool.pop()){if(i.isDisposed)return this.fetch(t)}else i=this.ctor();return this.remove?t.addChild(i):(i.alpha=1,(!i.parent||t!=i.parent&&t&&!t.isDisposed)&&t.addChild(i)),this.insts.push(i),i},i.return=function(t){o.fetchArrEle(this.insts,t),this.pool.length<this.size?(this.pool.push(t),this.remove?t.dispose():t.alpha=0):(s.stopAllByTarget(t.node),t.dispose())},i.returnAll=function(){var t=this;this.insts.forEach((function(i){i&&i.node&&i.node.isValid&&(s.stopAllByTarget(i.node),t.return(i))}))},i.clear=function(){this.pool.forEach((function(t){s.stopAllByTarget(t.node),t.dispose()})),this.pool.length=0},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/DamageBoardPool2.ts",["cc","./util3.ts"],(function(t){var i,s;return{setters:[function(t){i=t.cclegacy},function(t){s=t.default}],execute:function(){i._RF.push({},"916abYbic1FMJeC1l7y/jku","DamageBoardPool",void 0);t("default",function(){function t(t,i,s,e){void 0===i&&(i=100),void 0===s&&(s=!0),void 0===e&&(e=!1),this.pool=[],this.insts=[],this.name=void 0,this.ctor=t,this.size=i,this.remove=s,this.limit=e}var i=t.prototype;return i.fetch=function(t){var i;if(i=this.limit&&this.insts.length>=this.size?this.insts.shift():this.pool.pop()){if(i.isDisposed)return this.fetch(t)}else i=this.ctor();return this.remove?t.addChild(i):(i.alpha=1,(!i.parent||t!=i.parent&&t&&!t.isDisposed)&&t.addChild(i)),this.insts.push(i),i},i.return=function(t){s.fetchArrEle(this.insts,t),this.pool.length<this.size?(this.pool.push(t),this.remove?t.parent.removeChild(t,!1):t.alpha=0):t.dispose()},i.clear=function(){this.pool.forEach((function(t){return t.dispose()})),this.pool.length=0},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/DamageBoardPool22.ts",["cc","./util22.ts"],(function(t){var i,s;return{setters:[function(t){i=t.cclegacy},function(t){s=t.default}],execute:function(){i._RF.push({},"0b47f/k+/5E05nLFKZj+4lL","DamageBoardPool2",void 0);t("default",function(){function t(t,i,s,e){void 0===i&&(i=100),void 0===s&&(s=!0),void 0===e&&(e=!1),this.pool=[],this.insts=[],this.name=void 0,this.ctor=t,this.size=i,this.remove=s,this.limit=e}var i=t.prototype;return i.fetch=function(t){var i;if(i=this.limit&&this.insts.length>=this.size?this.insts.shift():this.pool.pop()){if(i.isDisposed)return this.fetch(t)}else i=this.ctor();return this.remove?t.addChild(i):(i.alpha=1,(!i.parent||t!=i.parent&&t&&!t.isDisposed)&&t.addChild(i)),this.insts.push(i),i},i.return=function(t){s.fetchArrEle(this.insts,t),this.pool.length<this.size?(this.pool.push(t),this.remove?t.parent.removeChild(t,!1):t.alpha=0):t.dispose()},i.clear=function(){this.pool.forEach((function(t){return t.dispose()})),this.pool.length=0},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/DamageTextCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDGameState4.ts"],(function(t){var e,i,o,n,a,r,s,c,l,u,p,h,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Label,c=t.Vec3,l=t.tween,u=t.easing,p=t.Component},function(t){h=t.ViewUtil},function(t){_=t.ZDGameState4}],execute:function(){var m,f,d,y,b,v;a._RF.push({},"b25abLIHEJP1Km7AGobrH6F","DamageTextCmp",void 0);var g=r.ccclass,w=r.property;t("DamageTextCmp",(m=g("DamageTextCmp"),f=w({type:s,displayName:"伤害文本",visible:!0}),m(((v=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"_textLab",b,n(e)),e._type=void 0,e._pos=void 0,e._scale=void 0,e}i(e,t),e.Show=function(t,i,o,n){if(!(this.curSumNum>30)){var a;this.curSumNum++;var r=this._pool[t];if(r&&(a=r.shift()),a)a.node.parent=_.runtime.ui.mapTopLayer;else{"prefab/damage_text1";var s=h.createPrefabNode("prefab/damage_text1","zhuandao_4");s.parent=_.runtime.ui.mapTopLayer,(a=s.getComponent(e))._init(t)}return a._show(i,o,n),a}},e.ShowNormal=function(t,e,i){return this.Show(1,t,e,i)},e.ShowCrit=function(t,e,i){return this.Show(2,t,e,i)},e.Collect=function(t){t.node.removeFromParent();var e=this._pool[t._type];e||(e=this._pool[t._type]=[]),t._clear(),e.push(t)},e.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}};var a=e.prototype;return a._init=function(t){this._type=t,this._pos=new c,this._scale=new c},a._show=function(t,e,i){this._textLab.string=t,this.node.setWorldPosition(e,i,0),this.node.uiOpacity.opacity=255,this._pos.set(0,100),this._scale.set(.8,.8,.8),this.node.setScale(.2,.2,.2),l(this.node).by(.5,{worldPosition:this._pos,scale:this._scale},{easing:u.sineIn}).delay(.5).to(.3,{opacity:0}).call(this._onAniPlayEnd.bind(this)).start()},a._clear=function(){this._textLab.string=""},a._onAniPlayEnd=function(){e.curSumNum--,e.Collect(this)},e}(p))._pool={},v.curSumNum=0,b=e((y=v).prototype,"_textLab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/DamageTextCmp2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleState.ts"],(function(t){var e,i,o,n,s,r,a,l,c,p,h,u,_,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Label,l=t.Vec3,c=t.tween,p=t.easing,h=t.Component},function(t){u=t.ViewUtil},function(t){_=t.MAIN_BUNDLE,d=t.MAIN_PREFABS},function(t){f=t.BattleState}],execute:function(){var y,v,w,m,b,g;s._RF.push({},"c4d5a5RuLdDbJeC/Wx3dmK7","DamageTextCmp",void 0);var C=r.ccclass,x=r.property;t("DamageTextCmp",(y=C("DamageTextCmp"),v=x({type:a,displayName:"伤害文本",visible:!0}),y(((g=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"_textLab",b,n(e)),e._type=void 0,e._pos=void 0,e._scale=void 0,e}i(e,t),e.Show=function(t,i,o,n){var s,r=this._pool[t];if(r&&(s=r.shift()),s)s.node.parent=f.ins.control.view.hurtRoot;else{var a;1==t?a=d.HurtView1:2==t&&(a=d.HurtView2);var l=u.createPrefabNode(a,_);l.parent=f.ins.control.view.hurtRoot,(s=l.getComponent(e))._init(t)}return s._show(i,o,n),s},e.ShowNormal=function(t,e,i){return this.Show(1,t,e,i)},e.ShowCrit=function(t,e,i){return this.Show(2,t,e,i)},e.Collect=function(t){t.node.removeFromParent();var e=this._pool[t._type];e||(e=this._pool[t._type]=[]),t._clear(),e.push(t)},e.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}};var s=e.prototype;return s._init=function(t){this._type=t,this._pos=new l,this._scale=new l},s._show=function(t,e,i){this._textLab.string=t,this.node.setWorldPosition(e,i,0),this.node.uiOpacity.opacity=255,this._pos.set(0,100),this._scale.set(.8,.8,.8),this.node.setScale(.2,.2,.2),c(this.node).by(.5,{worldPosition:this._pos,scale:this._scale},{easing:p.sineIn}).delay(.5).to(.3,{opacity:0}).call(this._onAniPlayEnd.bind(this)).start()},s._clear=function(){this._textLab.string=""},s._onAniPlayEnd=function(){e.Collect(this)},e}(h))._pool={},b=e((m=g).prototype,"_textLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=m))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/DamageTextCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDGameState5.ts"],(function(t){var e,i,o,n,a,r,s,c,l,u,p,h,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Label,c=t.Vec3,l=t.tween,u=t.easing,p=t.Component},function(t){h=t.ViewUtil},function(t){_=t.ZDGameState5}],execute:function(){var m,f,d,y,g,v;a._RF.push({},"e3305QhsDFDSb/xwZwdrIqg","DamageTextCmp5",void 0);var w=r.ccclass,b=r.property;t("DamageTextCmp5",(m=w("DamageTextCmp5"),f=b({type:s,displayName:"伤害文本",visible:!0}),m(((v=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"_textLab",g,n(e)),e._type=void 0,e._pos=void 0,e._scale=void 0,e}i(e,t),e.Show=function(t,i,o,n){if(!(this.curSumNum>30)){var a;this.curSumNum++;var r=this._pool[t];if(r&&(a=r.shift()),a)a.node.parent=_.runtime.ui.mapTopLayer;else{"prefab/damage_text1";var s=h.createPrefabNode("prefab/damage_text1","zhuandao_5");s.parent=_.runtime.ui.mapTopLayer,(a=s.getComponent(e))._init(t)}return a._show(i,o,n),a}},e.ShowNormal=function(t,e,i){return this.Show(1,t,e,i)},e.ShowCrit=function(t,e,i){return this.Show(2,t,e,i)},e.Collect=function(t){t.node.removeFromParent();var e=this._pool[t._type];e||(e=this._pool[t._type]=[]),t._clear(),e.push(t)},e.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}};var a=e.prototype;return a._init=function(t){this._type=t,this._pos=new c,this._scale=new c},a._show=function(t,e,i){this._textLab.string=t,this.node.setWorldPosition(e,i,0),this.node.uiOpacity.opacity=255,this._pos.set(0,100),this._scale.set(.8,.8,.8),this.node.setScale(.2,.2,.2),l(this.node).by(.5,{worldPosition:this._pos,scale:this._scale},{easing:u.sineIn}).delay(.5).to(.3,{opacity:0}).call(this._onAniPlayEnd.bind(this)).start()},a._clear=function(){this._textLab.string=""},a._onAniPlayEnd=function(){e.curSumNum--,e.Collect(this)},e}(p))._pool={},v.curSumNum=0,g=e((y=v).prototype,"_textLab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/DataAnalysisSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./SDK.ts"],(function(t){var e,n,a,o,r,i;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t.sys},function(t){r=t.YT},function(t){i=t.default}],execute:function(){a._RF.push({},"b96actFezRBLY0wb9RUczoP","DataAnalysisSDK",void 0);t("default",function(){function t(){this.ge=void 0}var a=t.prototype;return a.Init=function(){var t=e(n().mark((function t(e){var a,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=1),a=r.platform.config.GEToken,s={accessToken:a,clientId:i.Inst.openId,autoTrack:{appLaunch:!0,appShow:!0,appHide:!0},name:"ge",debugMode:"none"},this.ge=new GravityAnalyticsAPI(s),this.ge.setupAndStart(),o.localStorage.getItem(a+"registerGE")||(this.ge.initialize({name:"player"+i.Inst.openId,version:e,openid:i.Inst.openId,enable_sync_attribution:!1}).then((function(t){console.log("initialize success ",t)})).catch((function(t){console.log("initialize failed, error is ",t)})),o.localStorage.setItem(a+"registerGE","1"));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.reportAdshow=function(t){o.platform!=o.Platform.WECHAT_GAME&&o.platform!=o.Platform.ALIPAY_MINI_GAME||this.ge.adShowEvent("reward",t,{custom_param:""})},a.reportEvent=function(t,e){(e=e||{}).user_id||(e.user_id=i.Inst.openId),console.log("track",t,e),this.ge&&(o.platform!=o.Platform.WECHAT_GAME&&o.platform!=o.Platform.BYTEDANCE_MINI_GAME||this.ge.track(t,e))},t}()),t("EGameEvents",function(t){return t[t.ad_watch_finish=0]="ad_watch_finish",t[t.feedback=1]="feedback",t[t.subgame_start=2]="subgame_start",t[t.game_start=3]="game_start",t[t.game_end=4]="game_end",t}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/DataBase.ts",["cc"],(function(t){var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"ea156EEC99NgpeQtKLKRBPv","DataBase",void 0);t("DataBase",function(){function t(){this._data=void 0}var a=t.prototype;return a.init=function(t){this._data=t},a.save=function(){this._data.save=!0},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/DataMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./CardsConfig.ts","./HeroConfig.ts","./ItemConfig.ts","./LevelConfig.ts","./RewardConfig.ts","./YT.ts","./GameDataDef.ts","./CardsData.ts","./MainSaveData.ts"],(function(t){var a,e,n,i,s,r,u,o,d,c,h,l,f,D;return{setters:[function(t){a=t.createClass,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){s=t.BuildsConfig},function(t){r=t.CardsConfig},function(t){u=t.HeroConfig},function(t){o=t.ItemConfig},function(t){d=t.LevelConfig},function(t){c=t.RewardConfig},function(t){h=t.YT},function(t){l=t.GameData},function(t){f=t.CardsData},function(t){D=t.MainSaveData}],execute:function(){i._RF.push({},"0137bp7WLFJNYkpvy4b/utR","DataMgr",void 0);t("DataMgr",function(){function t(){this._cardData=void 0,this._cardData=new f}var i=t.prototype;return i.load=function(){var t=e(n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.GameInfo.instance.loadData("MAIN",D,!0);case 2:a=t.sent,this._cardData.init(a),this.initUserData();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.costCoin=function(t){return this.userData.coin>=t&&(this.userData.coin-=t,this.userData.save=!0,h.message.dispatchEvent("on_res_changed"),!0)},i.costGem=function(t){return this.userData.gem>=t?(this.userData.gem-=t,this.userData.save=!0,h.message.dispatchEvent("on_res_changed"),!0):(h.gui.toast("钻石不足"),!1)},i.costHumer=function(t){return this.userData.humer>=t&&(this.userData.humer-=t,this.userData.save=!0,h.message.dispatchEvent("on_res_changed"),!0)},i.checkCanBuy=function(t,a){switch(t){case 1:return this.userData.coin>=a;case 2:return this.userData.gem>=a;default:return!1}},i.addItemByItemId=function(t,a){var e=o.data[t];switch(e.type){case 1:this.userData.coin+=a;break;case 2:this.userData.gem+=a;break;case 3:this.userData.humer+=a,h.gui.toast("恭喜获得锤子+"+a);break;case 4:this.onGetCard(e.id,a);break;case 5:this.unlockSkin(e.id);break;case 6:this.onGetBuild(e.id)}this.userData.save=!0,h.message.dispatchEvent("on_res_changed",e.type)},i.unlockSkin=function(t){this.userData.unlockedSkin.push(t),u.data[t].show&&(this.userData.roleSkinId=t,h.gui.toast("恭喜获得英雄："+u.data[t].name))},i.addItemByItemIds=function(t,a){for(var e=0;e<t.length;e++)this.addItemByItemId(t[e],a[e])},i.onGetCard=function(t,a){void 0===a&&(a=0);var e=this.userData.cards[t];return this.userData.cards[t]||(e=this.userData.cards[t]={lv:0,num:0,n:0}),e.num+=a,0==e.lv&&(e.lv=1,e.num=0,e.n=1),this.userData.save=!0,e},i.getBuildProps=function(t,a){var e=[],n=["atk","def","hp","addHp"],i=["levelAtk","levelDef","levelHp","leveladdHp"],r=["攻  击","防  御","生  命","生命恢复"],u=s.data[t],o=[{key:"",value:0,fight:0},{key:"",value:0,fight:0}];if(!u)return o;var d=this.userData.builds[u.type];if(a||(a=d.lv),0==a)return o;for(var c=0;c<n.length;c++){var h=u[n[c]];if(h>0){var l=u[i[c]];e.push({key:r[c]+": ",value:Math.floor(h+(a-1)*l),fight:this.calcPower(u.id,a)})}}return e},i.onGetBuild=function(t,a){void 0===a&&(a=0);var e=this.userData.builds[t],n=s.data[t];return e=this.userData.builds[n.type]={lv:a,id:t},this.userData.save=!0,e},i.upgradeCard=function(t,a){var e=this.userData.cards[t];if(!this.userData.cards[t])throw new Error("没有该卡牌数据"+t);return e.num-=a,e.lv+=1,this.userData.save=!0,e},i.initUserData=function(){null==this.userData.builds[1]&&(this.userData.builds[1]={id:3101,lv:1},this.userData.builds[2]={id:3201,lv:1},this.userData.builds[3]={id:3301,lv:1}),3!=this.userData.turnId||this.isSkinUnlocked(2101)||this.unlockSkin(2101);var t=d.dataList.length;this.userData.chapterId=Math.min(this.userData.chapterId,t),this.userData.save=!0},i.calcPower=function(t,a){if(0==t||0==a)return 0;var e=0,n=s.data[t];if(n){var i=Math.floor(n.hp+n.levelHp*(a-1)),r=Math.floor(n.atk*Math.pow(n.levelAtk,a-1)),u=Math.floor(n.def+n.levelDef*(a-1));e=Math.floor(1*i+Math.pow(r,.5)+10*u)}return e},i.isSkinUnlocked=function(t){return-1!=this.userData.unlockedSkin.indexOf(t)},i.getCardsProperty=function(t){var a=this.userData.cards[t];if(!a||0==a.lv)return 0;var e=r.data[t];if(!e)throw new Error("没有该卡牌数据"+t);return e.base+a.lv*e.levelup},i.checkOnlineReward=function(){var t=c.dataList.filter((function(t){return 1==t.condition}));if(this.dailyData.onlineR.length==t.length)return null;for(var a=this.dailyData.ols/60,e=[],n=0;n<t.length;n++){var i=t[n];a>i.num&&-1==this.dailyData.onlineR.indexOf(i.id)&&e.push(i.id)}return e},i.getTaskProgress=function(t){var a=0;switch(t){case 1:a=this.dailyData.woodCount;break;case 2:a=this.dailyData.boxBatCount;break;case 3:a=this.dailyData.killCount;break;case 4:a=this.dailyData.buildCount;break;case 5:a=this.dailyData.adCount;break;case 6:a=this.dailyData.makeCardsCount;break;case 7:a=this.dailyData.lvupCardsCount;break;case 8:a=this.dailyData.battleCount;break;case 9:a=this.dailyData.changeCardCount}return a},i.checkSpSkinUnlock=function(){var t=h.data.userData.adCount;if(!this.isSkinUnlocked(2014)&&t>=10?this.addItemByItemId(2014,1):!this.isSkinUnlocked(2013)&&t>=20&&this.addItemByItemId(2013,1),!this.isSkinUnlocked(2018)&&h.data.userData.killBoss>=100?this.addItemByItemId(2018,1):!this.isSkinUnlocked(2019)&&h.data.userData.killEnemy>=5e3&&this.addItemByItemId(2019,1),!this.isSkinUnlocked(2015)){var a=[];d.dataList.filter((function(t){return t.id<=6})).forEach((function(t){return t.remains.forEach((function(t){a.includes(t)||a.push(t)}))})),h.data.userData.hideCards.length>=a.length&&this.addItemByItemId(2015,1)}},i.tryEnterSubGame=function(t,a){void 0===a&&(a=!1),this.subData.getInfo(t).lastEnterTime=a?0:Date.now(),this.subData.save=!0},a(t,[{key:"userData",get:function(){return l.GameInfo.UserInfo}},{key:"batData",get:function(){return l.GameInfo.BatInfo}},{key:"dailyData",get:function(){return l.GameInfo.DailyInfo}},{key:"mainData",get:function(){return l.GameInfo.SaveInfo}},{key:"subData",get:function(){return l.GameInfo.SubInfo}},{key:"buildPower",get:function(){for(var t=0,a=1;a<9;a++){var e=this.userData.builds[a];e&&e.lv>0&&(t+=this.calcPower(e.id,e.lv))}return t}},{key:"cards",get:function(){return this.userData.cards}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/DateUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7c73bcYmlRP1Iia8hOrxRs6","DateUtil",void 0);e("DateUtil",function(){function e(){}return e.format=function(e,t){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},e.getCurTickTime=function(){return Math.floor((new Date).getTime()/1e3)},e.isSameDay=function(e,t){var n=new Date(e),r=new Date(t);return n.toLocaleDateString()==r.toLocaleDateString()},e.GetUtcDay=function(e){return Math.floor(e/1e3/60/60/24)},e.isCrossWeek=function(e,t){var n=new Date(e),r=new Date(t),a=!1;if(n.getFullYear()!=r.getFullYear())a=!0;else if(n.getMonth()!=r.getMonth())a=!0;else{var i=n.getDate(),o=r.getDate();if(i!=o){var g=o-i,u=n.getDay();0==u&&(u=7),u+g>7&&(a=!0)}}return a},e.GetWeekEndTime=function(e){var t=e.getTime(),n=this.GetDayLeft(e),r=e.getDay();return 0==r?t+n:t+n+864e5*(7-r)},e.GetDayLeft=function(e){var t=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),a=e.getMilliseconds();return 0==n&&0==r&&0==a?t=24-t:(t=23-t,0==r&&0==a?n=60-n:(n=59-n,0==a?r=60-r:(r=59-r,a=1e3-a))),36e5*t+6e4*n+1e3*r+a},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DefaultAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(n){var e,o,r,t,u;return{setters:[function(n){e=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){r=n.cclegacy,t=n.game},function(n){u=n.YT}],execute:function(){r._RF.push({},"f944cYU2dNJvJSb1L272A+w","DefaultAds",void 0);n("default",function(){function n(){this.rewardIndex=0,this.config=void 0}var r=n.prototype;return r.init=function(n){console.log("ad cfg",n),this.config=n},r.showBannerAd=function(){},r.hideBannerAd=function(){},r.showRewardVideoAd=function(){return new Promise((function(n){console.error("直接奖励"),n(!0)}))},r.showRewardvideoAdAsync=function(){var n=e(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u.isGM){n.next=3;break}return console.error("直接奖励"),n.abrupt("return",new Promise((function(n){n(!0)})));case 3:return u.gui.lockScreen(),u.audio.pauseAll(),t.pause(),n.next=8,u.platform.ads.showRewardVideoAd();case 8:return e=n.sent,u.audio.resumeAll(),t.resume(),u.gui.unlockScreen(),n.abrupt("return",e);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r.showInterstitialAd=function(){},r.showNativeAd=function(){},r.showSplashAd=function(){},r.showGameboxBanner=function(){},r.hideGameboxBanner=function(){},r.showGamebox=function(){},r.hideGamebox=function(){},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/DefaultPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultAds.ts","./DefaultRecorder.ts","./SDK.ts"],(function(e){var t,n,o,r,s,a,i,u;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.sys,s=e.game},function(e){a=e.default},function(e){i=e.default},function(e){u=e.default}],execute:function(){o._RF.push({},"88d13Sg2ChISIHRqSarsPaF","DefaultPlatform",void 0);e("default",function(){function e(){this.base=void 0,this.ads=void 0,this.recorder=void 0,this.systemInfo=void 0,this.isSupportRank=void 0,this.useCloudStorage=!1,this.gameName="",this.appId="",this.enterScene="",this.config=void 0,this.userInfo={}}var o=e.prototype;return o.init=function(e){this.config=e,this.isSupportRank=!1,this.ads=new a,this.ads.init(e.adConfig),this.gameName=e.gameName,this.appId=e.appId,this.recorder=new i,this.recorder.init(),this.userInfo={avatarUrl:"",nickName:"玩家9527"}},o.getUserInfo=function(){var e=this;return new Promise((function(t,n){t(e.userInfo)}))},o.navToSidebar=function(e){console.log(r.platform+" 平台没有或暂未接入该api: navToSidebar"),e&&e(!0)},o.showToast=function(e){console.log("showToast "+e)},o.showLoading=function(e,t){console.log("showLoading")},o.hideLoading=function(){console.log("hideLoading")},o.Vibrate=function(e){console.log("调用振动-isLong",e)},o.getRankList=function(e,t,n){console.log("当前平台不支持 getRankList")},o.getRankData=function(){var e=t(n().mark((function e(o,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(t(n().mark((function e(t,o){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(null);case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.setRankData=function(e){console.log("当前平台不支持 setRankData")},o.reportEvent=function(e,t){console.log("数据上报 当前平台不支持",e,t)},o.onShareAppMessage=function(e,t){console.log("当前平台不支持 onShareAppMessage")},o.shareAppMessage=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("当前平台不支持 shareAppMessage  "+t),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.login=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.useCloudStorage=t,this.useCloudStorage){e.next=3;break}return e.abrupt("return");case 3:if(!t){e.next=6;break}return e.next=6,u.Inst.login("");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.getCloudStorage=function(e){var o=this;return new Promise(t(n().mark((function t(r,s){var a,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.getLocalStorage(e);case 2:if(a=t.sent,o.useCloudStorage){t.next=7;break}r(a),t.next=11;break;case 7:return t.next=9,u.Inst.getCloudStorage(e);case 9:(i=t.sent)&&a?i.saveVersion>=a.saveVersion?(console.log(e+"云端数据版本高，使用云端数据"),r(i)):(console.log(e+"本地数据版本高于云端数据，使用本地数据"),r(a)):i&&!a?(console.log(e+"没有本地数据，使用云端数据"),r(i)):!i&&a?(console.log(e+"没有云端数据，使用本地数据"),r(a)):r(null);case 11:case"end":return t.stop()}}),t)}))))},o.getLocalStorage=function(e){return new Promise((function(t,n){var o=r.localStorage.getItem(e);t(o?JSON.parse(o):null)}))},o.setCloudStorage=function(e,t,n){void 0===n&&(n=!1),r.localStorage.setItem(e,t),this.useCloudStorage&&u.Inst.setCloudStorage(e,t,n)},o.setLocalStorage=function(e,t,n){r.localStorage.setItem(e,t)},o.exitGame=function(){s.end()},o.createShortcut=function(){return new Promise((function(e,t){console.error("当前平台不支持创建桌面图标"),e(!0)}))},o.hasShortcutInstalled=function(){return new Promise((function(e,t){console.error("当前平台不支持监测是否创建桌面图标"),e(!1)}))},o.checkFeedSubscribeStatus=function(){return new Promise((function(e,t){console.error("checkFeedSubscribeStatus"),e(!1)}))},o.requestFeedSubscribe=function(){return new Promise((function(e,t){console.error("checkFeedSubscribeStatus"),e(!1)}))},o.reportScene=function(e){var t=performance.now()-window.game_start_time;console.log("reportScene cost"+t,e)},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/DefaultRecorder.ts",["cc"],(function(o){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"a5342JUHzhNwJDhJDjfhQyn","DefaultRecorder",void 0);o("default",function(){function o(){this.isSupport=void 0}var e=o.prototype;return e.init=function(){this.isSupport=!1,console.log("Recorder init")},e.start=function(){console.log("Recorder start")},e.stop=function(){console.log("Recorder stop")},e.pause=function(){console.log("Recorder pause")},e.resume=function(){console.log("Recorder resume")},e.shareVideo=function(o){return new Promise((function(o){o("")}))},e.navigateToVideo=function(o){console.log("当前平台不支持")},o}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DragonLevelConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("DragonLevelConfig",void 0),o._RF.push({},"3c60anf7yBIjLP+7v2LDOJB","DragonLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.name=void 0,this.ad=void 0,this.outline=void 0,this.view=void 0,this.bg=void 0,this.weapon=void 0,this.scroll=void 0,this.hp=void 0,this.waves=void 0,this.prefix=void 0,this.hide=void 0,this.dragon=void 0};i.isConst=!1,i.path="config/DragonLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("DragonLevelConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/DragonLevelConfig2.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("DragonLevelConfig",void 0),o._RF.push({},"ac2c5p4N1NI56NjmUCN1azj","DragonLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.name=void 0,this.ad=void 0,this.outline=void 0,this.view=void 0,this.bg=void 0,this.weapon=void 0,this.scroll=void 0,this.hp=void 0,this.waves=void 0,this.prefix=void 0,this.hide=void 0,this.dragon=void 0};i.isConst=!1,i.path="config/DragonLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("DragonLevelConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/DropExpCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleState.ts"],(function(t){var s,i,e,o,n,r,h,a,_,l;return{setters:[function(t){s=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,o=t._decorator,n=t.Vec3,r=t.Component},function(t){h=t.ViewUtil},function(t){a=t.MAIN_PREFABS,_=t.MAIN_BUNDLE},function(t){l=t.BattleState}],execute:function(){var c,d;e._RF.push({},"df6e01NYB1JZKu0Qz/bXxYY","DropExpCmp",void 0);var p=o.ccclass,P=(o.property,t("DropExpCmp",p("DropExpCmp")(((d=function(t){function e(){for(var s,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}s(e,t),e.Create=function(){var t=this._pool.shift();t||(t=h.createPrefabNode(a.DropExp,_).getComponent(e))._init();return t.node.parent=l.ins.control.runTimeData.levelControl.view.bottonRoot,t},e.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},e.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var o=e.prototype;return o._init=function(){this._startPos=new n,this._endPos=new n,this._state=0,this._time=0},o.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos)},o.flyToPlayer=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._time=0,this._state=6,this.node.setWorldPosition(this._startPos)},o.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.05&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0);else if(6==this._state){var s=l.ins.control.roleMgr.player;this._endPos.set(s.pos.x,s.pos.y),this._state=7,this._time=0,this._totalTime=n.distance(this._startPos,this._endPos)/2e3}else if(7==this._state){this._time+=t;var i=l.ins.control.roleMgr.player;this._endPos.set(i.pos.x,i.pos.y);var o=this._time/this._totalTime;n.lerp(P,this._startPos,this._endPos,o),this.node.setWorldPosition(P),o>=1&&(this._state=8)}else if(8==this._state){var r;null==(r=this._endCallback)||r.call(this),e.Collect(this)}},o.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},i(e,[{key:"pos",get:function(){return this._startPos}}]),e}(r))._pool=[],c=d))||c),new n);e._RF.pop()}}}));

System.register("chunks:///_virtual/DropGemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleState.ts"],(function(t){var s,i,e,o,n,h,r,a,_,l;return{setters:[function(t){s=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,o=t._decorator,n=t.Vec3,h=t.Component},function(t){r=t.ViewUtil},function(t){a=t.MAIN_PREFABS,_=t.MAIN_BUNDLE},function(t){l=t.BattleState}],execute:function(){var c,d;e._RF.push({},"b9672gda5hMp5Ud/vscBLTC","DropGemCmp",void 0);var P=o.ccclass,m=(o.property,t("DropGemCmp",P("DropGemCmp")(((d=function(t){function e(){for(var s,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}s(e,t),e.Create=function(){var t=this._pool.shift();t||(t=r.createPrefabNode(a.DropGem,_).getComponent(e))._init();return t.node.parent=l.ins.control.runTimeData.levelControl.view.bottonRoot,t},e.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},e.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var o=e.prototype;return o._init=function(){this._startPos=new n,this._endPos=new n,this._state=0,this._time=0},o.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos)},o.flyToPlayer=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._time=0,this._state=6,this.node.setWorldPosition(this._startPos)},o.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.05&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0);else if(6==this._state){var s=l.ins.control.roleMgr.player;this._endPos.set(s.pos.x,s.pos.y),this._state=7,this._time=0,this._totalTime=n.distance(this._startPos,this._endPos)/2e3}else if(7==this._state){this._time+=t;var i=l.ins.control.roleMgr.player;this._endPos.set(i.pos.x,i.pos.y);var o=this._time/this._totalTime;n.lerp(m,this._startPos,this._endPos,o),this.node.setWorldPosition(m),o>=1&&(this._state=8)}else if(8==this._state){var h;null==(h=this._endCallback)||h.call(this),e.Collect(this)}},o.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},i(e,[{key:"pos",get:function(){return this._startPos}}]),e}(h))._pool=[],c=d))||c),new n);e._RF.pop()}}}));

System.register("chunks:///_virtual/DropGoldCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./MainConst.ts","./BattleState.ts"],(function(t){var s,i,e,o,n,r,a,h,l,_,c,d,p,u,P;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Sprite,l=t.Vec3,_=t.Component},function(t){c=t.ViewUtil},function(t){d=t.YT},function(t){p=t.MAIN_PREFABS,u=t.MAIN_BUNDLE},function(t){P=t.BattleState}],execute:function(){var m,f,y,v,C,w;r._RF.push({},"f6a91LvDC9J0qhN0PenP2eT","DropGoldCmp",void 0);var T=a.ccclass,D=a.property,b=(t("DropGoldCmp",(m=T("DropGoldCmp"),f=D({type:h,displayName:"图标",visible:!0}),m(((w=function(t){function s(){for(var s,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return s=t.call.apply(t,[this].concat(n))||this,e(s,"_iconSpr",C,o(s)),s._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}i(s,t),s.Create=function(){var t=this._pool.shift();t||(t=c.createPrefabNode(p.DropGold,u).getComponent(s))._init();return t.node.parent=P.ins.control.runTimeData.levelControl.view.bottonRoot,t},s.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},s.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var r=s.prototype;return r._init=function(){this._startPos=new l,this._endPos=new l,this._state=0,this._time=0},r.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos),this.showMapLayer()},r.flyToUI=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._time=0,this.node.setWorldPosition(this._startPos),this.showFlyTreeIcon(this)},r.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.2&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.25&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0,this.showFlyTreeIcon(this));else if(6==this._state);else if(7==this._state){this._time+=t;var i=this._time/this._totalTime;l.lerp(b,this._startPos,this._endPos,i),this.node.setWorldPosition(b),i>=1&&(this._state=8)}else if(8==this._state){var e;null==(e=this._endCallback)||e.call(this),d.audio.play(8),s.Collect(this)}},r.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},r.moveToEnd=function(t){this._endPos.set(t),this._state=7,this._time=0,this._totalTime=l.distance(this._startPos,this._endPos)/1500},r.showUILayer=function(){this.node.layer=2,this._iconSpr.node.layer=2},r.showMapLayer=function(){this.node.layer=1,this._iconSpr.node.layer=1},r.showFlyTreeIcon=function(t){var s=P.ins.control.runTimeData;t.node.parent=P.ins.control.view.topRoot,s.mapCamera.worldToScreen(t.pos,b),s.uiCamera.screenToWorld(b,b),t.setWorldPos(b),t.showUILayer(),t.moveToEnd(P.ins.control.view.uiLayer.goldPos)},n(s,[{key:"pos",get:function(){return this._startPos}}]),s}(_))._pool=[],C=s((v=w).prototype,"_iconSpr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y)),new l);r._RF.pop()}}}));

System.register("chunks:///_virtual/DropWoodCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./MainConst.ts","./BattleState.ts"],(function(t){var s,i,e,o,n,r,a,h,l,_,c,d,p,u,m;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Sprite,l=t.Vec3,_=t.Component},function(t){c=t.ViewUtil},function(t){d=t.YT},function(t){p=t.MAIN_PREFABS,u=t.MAIN_BUNDLE},function(t){m=t.BattleState}],execute:function(){var P,f,y,v,w,C;r._RF.push({},"5d751zUjcVBioOp1hDz7Jxb","DropWoodCmp",void 0);var T=a.ccclass,W=a.property,b=(t("DropWoodCmp",(P=T("DropWoodCmp"),f=W({type:h,displayName:"图标",visible:!0}),P(((C=function(t){function s(){for(var s,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return s=t.call.apply(t,[this].concat(n))||this,e(s,"_iconSpr",w,o(s)),s._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}i(s,t),s.Create=function(){var t=this._pool.shift();t||(t=c.createPrefabNode(p.DropWood,u).getComponent(s))._init();return t.node.parent=m.ins.control.runTimeData.levelControl.view.bottonRoot,t},s.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},s.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var r=s.prototype;return r._init=function(){this._startPos=new l,this._endPos=new l,this._state=0,this._time=0},r.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos),this.showMapLayer()},r.flyToUI=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._time=0,this.node.setWorldPosition(this._startPos),this.showFlyTreeIcon(this)},r.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.2&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.25&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0,this.showFlyTreeIcon(this));else if(6==this._state);else if(7==this._state){this._time+=t;var i=this._time/this._totalTime;l.lerp(b,this._startPos,this._endPos,i),this.node.setWorldPosition(b),i>=1&&(this._state=8)}else if(8==this._state){var e;null==(e=this._endCallback)||e.call(this),d.audio.play(7),s.Collect(this)}},r.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},r.moveToEnd=function(t){this._endPos.set(t),this._state=7,this._time=0,this._totalTime=l.distance(this._startPos,this._endPos)/1500},r.showUILayer=function(){this.node.layer=2,this._iconSpr.node.layer=2},r.showMapLayer=function(){this.node.layer=1,this._iconSpr.node.layer=1},r.showFlyTreeIcon=function(t){var s=m.ins.control.runTimeData;t.node.parent=m.ins.control.view.topRoot,s.mapCamera.worldToScreen(t.pos,b),s.uiCamera.screenToWorld(b,b),t.setWorldPos(b),t.showUILayer(),t.moveToEnd(m.ins.control.view.uiLayer.treePos)},n(s,[{key:"pos",get:function(){return this._startPos}}]),s}(_))._pool=[],w=s((v=C).prototype,"_iconSpr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y)),new l);r._RF.pop()}}}));

System.register("chunks:///_virtual/EAIStatus.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c06a2Saa8xI2oEUzTd4Sp1d","EAIStatus",void 0);t("EAIStatus",function(t){return t[t.None=0]="None",t[t.Move=1]="Move",t[t.Pursue=2]="Pursue",t[t.Wait=3]="Wait",t[t.Attract=4]="Attract",t[t.TransformAni=5]="TransformAni",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EAIStatus3.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c10177qiMdKwY3sMxr4BAAS","EAIStatus3",void 0);t("EAIStatus3",function(t){return t[t.None=0]="None",t[t.Move=1]="Move",t[t.Pursue=2]="Pursue",t[t.Wait=3]="Wait",t[t.Attract=4]="Attract",t[t.TransformAni=5]="TransformAni",t[t.Detach=6]="Detach",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EAIStatus4.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"640fbtIc8VDKIv0AsOfTTaj","EAIStatus4",void 0);t("EAIStatus",function(t){return t[t.None=0]="None",t[t.Move=1]="Move",t[t.Pursue=2]="Pursue",t[t.Wait=3]="Wait",t[t.Attract=4]="Attract",t[t.TransformAni=5]="TransformAni",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EAIStatus5.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5838eNHu7FEKKw+MQIm4f9T","EAIStatus5",void 0);t("EAIStatus",function(t){return t[t.None=0]="None",t[t.Move=1]="Move",t[t.Pursue=2]="Pursue",t[t.Wait=3]="Wait",t[t.Attract=4]="Attract",t[t.TransformAni=5]="TransformAni",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EAIStatus6.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"6a602V+VPxGrZM1oDeEdjHH","EAIStatus6",void 0);t("EAIStatus",function(t){return t[t.None=0]="None",t[t.Move=1]="Move",t[t.Pursue=2]="Pursue",t[t.Wait=3]="Wait",t[t.Attract=4]="Attract",t[t.TransformAni=5]="TransformAni",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EarCut.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t;return{setters:[function(n){e=n.createForOfIteratorHelperLoose},function(n){t=n.cclegacy}],execute:function(){function r(n,e,t,r,x){var i;if(x===F(n,e,t,r)>0)for(var u=e;u<t;u+=r)i=j(u/r|0,n[u],n[u+1],i);else for(var v=t-r;v>=e;v-=r)i=j(v/r|0,n[v],n[v+1],i);return i&&M(i,i.next)&&(k(i),i=i.next),i||null}function x(n,e){if(!n)return n;e||(e=n);var t,r=n;do{if(t=!1,r.steiner||!M(r,r.next)&&0!==d(r.prev,r,r.next))r=r.next;else{if(k(r),(r=e=r.prev)===r.next)break;t=!0}}while(t||r!==e);return e}function i(n,e,t,r,o,y,p){if(n){!p&&y&&function(n,e,t,r){var x=n;do{0===x.z&&(x.z=l(x.x,x.y,e,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==n);x.prevZ.nextZ=null,x.prevZ=null,function(n){var e,t=1;do{var r=n,x=void 0;n=null;var i=null;for(e=0;r;){e++;for(var u=r,v=0,a=0;a<t&&(v++,u=u.nextZ);a++);for(var f=t;v>0||f>0&&u;)0!==v&&(0===f||!u||r.z<=u.z)?(x=r,r=r.nextZ,v--):(x=u,u=u.nextZ,f--),i?i.nextZ=x:n=x,x.prevZ=i,i=x;r=u}i.nextZ=null,t*=2}while(e>1)}(x)}(n,r,o,y);for(var h=n;n.prev!==n.next;){var c=n.prev,s=n.next;if(y?v(n,r,o,y):u(n))e.push(c.i,n.i,s.i),k(n),n=s.next,h=s.next;else if((n=s)===h){p?1===p?i(n=a(x(n),e),e,t,r,o,y,2):2===p&&f(n,e,t,r,o,y):i(x(n),e,t,r,o,y,1);break}}}}function u(n){var e=n.prev,t=n,r=n.next;if(d(e,t,r)>=0)return!1;for(var x=e.x,i=t.x,u=r.x,v=e.y,a=t.y,f=r.y,o=Math.min(x,i,u),y=Math.min(v,a,f),p=Math.max(x,i,u),l=Math.max(v,a,f),h=r.next;h!==e;){if(h.x>=o&&h.x<=p&&h.y>=y&&h.y<=l&&s(x,v,i,a,u,f,h.x,h.y)&&d(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function v(n,e,t,r){var x=n.prev,i=n,u=n.next;if(d(x,i,u)>=0)return!1;for(var v=x.x,a=i.x,f=u.x,o=x.y,y=i.y,p=u.y,h=Math.min(v,a,f),c=Math.min(o,y,p),Z=Math.max(v,a,f),M=Math.max(o,y,p),g=l(h,c,e,t,r),m=l(Z,M,e,t,r),w=n.prevZ,z=n.nextZ;w&&w.z>=g&&z&&z.z<=m;){if(w.x>=h&&w.x<=Z&&w.y>=c&&w.y<=M&&w!==x&&w!==u&&s(v,o,a,y,f,p,w.x,w.y)&&d(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,z.x>=h&&z.x<=Z&&z.y>=c&&z.y<=M&&z!==x&&z!==u&&s(v,o,a,y,f,p,z.x,z.y)&&d(z.prev,z,z.next)>=0)return!1;z=z.nextZ}for(;w&&w.z>=g;){if(w.x>=h&&w.x<=Z&&w.y>=c&&w.y<=M&&w!==x&&w!==u&&s(v,o,a,y,f,p,w.x,w.y)&&d(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;z&&z.z<=m;){if(z.x>=h&&z.x<=Z&&z.y>=c&&z.y<=M&&z!==x&&z!==u&&s(v,o,a,y,f,p,z.x,z.y)&&d(z.prev,z,z.next)>=0)return!1;z=z.nextZ}return!0}function a(n,e){var t=n;do{var r=t.prev,i=t.next.next;!M(r,i)&&g(r,t,t.next,i)&&z(r,i)&&z(i,r)&&(e.push(r.i,t.i,i.i),k(t),k(t.next),t=n=i),t=t.next}while(t!==n);return x(t)}function f(n,e,t,r,u,v){var a=n;do{for(var f=a.next.next;f!==a.prev;){if(a.i!==f.i&&Z(a,f)){var o=b(a,f);return a=x(a,a.next),o=x(o,o.next),i(a,e,t,r,u,v,0),void i(o,e,t,r,u,v,0)}f=f.next}a=a.next}while(a!==n)}function o(n,e){var t=n.x-e.x;0===t&&(0===(t=n.y-e.y)&&(t=(n.next.y-n.y)/(n.next.x-n.x)-(e.next.y-e.y)/(e.next.x-e.x)));return t}function y(n,e){var t=function(n,e){var t,r=e,x=n.x,i=n.y,u=-1/0;if(M(n,r))return r;do{if(M(n,r.next))return r.next;if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u&&(u=v,t=r.x<r.next.x?r:r.next,v===x))return t}r=r.next}while(r!==e);if(!t)return null;var a=t,f=t.x,o=t.y,y=1/0;r=t;do{if(x>=r.x&&r.x>=f&&x!==r.x&&c(i<o?x:u,i,f,o,i<o?u:x,i,r.x,r.y)){var l=Math.abs(i-r.y)/(x-r.x);z(r,n)&&(l<y||l===y&&(r.x>t.x||r.x===t.x&&p(t,r)))&&(t=r,y=l)}r=r.next}while(r!==a);return t}(n,e);if(!t)return e;var r=b(t,n);return x(r,r.next),x(t,t.next)}function p(n,e){return d(n.prev,n,e.prev)<0&&d(e.next,n,n.next)<0}function l(n,e,t,r,x){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-t)*x|0)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function h(n){var e=n,t=n;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==n);return t}function c(n,e,t,r,x,i,u,v){return(x-u)*(e-v)>=(n-u)*(i-v)&&(n-u)*(r-v)>=(t-u)*(e-v)&&(t-u)*(i-v)>=(x-u)*(r-v)}function s(n,e,t,r,x,i,u,v){return!(n===u&&e===v)&&c(n,e,t,r,x,i,u,v)}function Z(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function(n,e){var t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&g(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}(n,e)&&(z(n,e)&&z(e,n)&&function(n,e){var t=n,r=!1,x=(n.x+e.x)/2,i=(n.y+e.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==n);return r}(n,e)&&(0!==d(n.prev,n,e.prev)||0!==d(n,e.prev,e))||M(n,e)&&d(n.prev,n,n.next)>0&&d(e.prev,e,e.next)>0)}function d(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function M(n,e){return n.x===e.x&&n.y===e.y}function g(n,e,t,r){var x=w(d(n,e,t)),i=w(d(n,e,r)),u=w(d(t,r,n)),v=w(d(t,r,e));return x!==i&&u!==v||(!(0!==x||!m(n,t,e))||(!(0!==i||!m(n,r,e))||(!(0!==u||!m(t,n,r))||!(0!==v||!m(t,e,r)))))}function m(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function w(n){return n>0?1:n<0?-1:0}function z(n,e){return d(n.prev,n,n.next)<0?d(n,e,n.next)>=0&&d(n,n.prev,e)>=0:d(n,e,n.prev)<0||d(n,n.next,e)<0}function b(n,e){var t=E(n.i,n.x,n.y),r=E(e.i,e.x,e.y),x=n.next,i=e.prev;return n.next=e,e.prev=n,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function j(n,e,t,r){var x=E(n,e,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function k(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function E(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function F(n,e,t,r){for(var x=0,i=e,u=t-r;i<t;i+=r)x+=(n[u]-n[i])*(n[i+1]+n[u+1]),u=i;return x}n({default:function(n,e,t){void 0===t&&(t=2);var x,u,v,a=e&&e.length,f=a?e[0]*t:n.length,p=r(n,0,f,t,!0),l=[];if(!p||p.next===p.prev)return l;a&&(p=function(n,e,t,x){for(var i=[],u=0,v=e.length;u<v;u++){var a=r(n,e[u]*x,u<v-1?e[u+1]*x:n.length,x,!1);a===a.next&&(a.steiner=!0),i.push(h(a))}i.sort(o);for(var f=0;f<i.length;f++)t=y(i[f],t);return t}(n,e,p,t));if(n.length>80*t){x=1/0,u=1/0;for(var c=-1/0,s=-1/0,Z=t;Z<f;Z+=t){var d=n[Z],M=n[Z+1];d<x&&(x=d),M<u&&(u=M),d>c&&(c=d),M>s&&(s=M)}v=0!==(v=Math.max(c-x,s-u))?32767/v:0}return i(p,l,t,x,u,v,0),l},deviation:function(n,e,t,r){var x=e&&e.length,i=x?e[0]*t:n.length,u=Math.abs(F(n,0,i,t));if(x)for(var v=0,a=e.length;v<a;v++){var f=e[v]*t,o=v<a-1?e[v+1]*t:n.length;u-=Math.abs(F(n,f,o,t))}for(var y=0,p=0;p<r.length;p+=3){var l=r[p]*t,h=r[p+1]*t,c=r[p+2]*t;y+=Math.abs((n[l]-n[c])*(n[h+1]-n[l+1])-(n[l]-n[h])*(n[c+1]-n[l+1]))}return 0===u&&0===y?0:Math.abs((y-u)/u)},flatten:function(n){for(var t,r=[],x=[],i=n[0][0].length,u=0,v=0,a=e(n);!(t=a()).done;){for(var f,o=t.value,y=e(o);!(f=y()).done;)for(var p=f.value,l=0;l<i;l++)r.push(p[l]);v&&(u+=v,x.push(u)),v=o.length}return{vertices:r,holes:x,dimensions:i}}}),t._RF.push({},"44145jwo0pIJLjjpsEwGszm","EarCut",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/EditorUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"26eefbmzUxOcoj5bR1B2pZB","EditorUtils",void 0);e("EditorUtils",function(){function e(){}return e._setProperty=function(){var e=t(r().mark((function e(t,n,s){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Editor.Message.request("scene","set-property",{uuid:t,path:n,dump:s});case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),e.createNode=function(){var e=t(r().mark((function e(t,n,s){var u,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.children.length,e.next=3,Editor.Message.request("scene","create-node",{name:n,parent:t.uuid,keepWorldTransform:!0});case 3:return a=t.children[u],e.next=6,this.setTransform(a,s);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),e.createComponent=function(){var e=t(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Editor.Message.request("scene","create-component",{uuid:t.uuid,component:n});case 2:return e.abrupt("return",t.getComponent(n));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.createAsset=function(){var e=t(r().mark((function e(t,n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Editor.Message.request("asset-db","create-asset","db://assets/"+t,n,{overwrite:!0});case 2:return s=e.sent,e.abrupt("return",s.uuid);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.getUUID=function(){var e=t(r().mark((function e(t,n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Editor.Message.request("asset-db","query-asset-info",t);case 2:if(s=e.sent,!n){e.next=5;break}return e.abrupt("return",s.subAssets[Object.keys(s.subAssets)[0]].uuid);case 5:return e.abrupt("return",s.uuid);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.setComProperty=function(){var e=t(r().mark((function e(t,n,s){var u,a,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=t.node.uuid,a=t.node.components.indexOf(t),e.t0=r().keys(s);case 3:if((e.t1=e.t0()).done){e.next=9;break}return c=e.t1.value,e.next=7,this._setProperty(u,"__comps__."+a+"."+c,{type:n,value:s[c]});case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),e.setTransform=function(){var e=t(r().mark((function e(t,n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.uuid,!n.pos){e.next=4;break}return e.next=4,this._setProperty(s,"position",{type:"cc.Vec3",value:{x:n.pos[0],y:n.pos[1],z:n.pos[2]}});case 4:if(!n.rot){e.next=7;break}return e.next=7,this._setProperty(s,"rotation",{type:"cc.Vec3",value:{x:n.rot[0],y:n.rot[1],z:n.rot[2]}});case 7:if(!n.scale){e.next=10;break}return e.next=10,this._setProperty(s,"scale",{type:"cc.Vec3",value:{x:n.scale[0],y:n.scale[1],z:n.scale[2]}});case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),e.setMesh=function(){var e=t(r().mark((function e(t,n,s){var u,a,c,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Editor.Message.request("asset-db","query-asset-info",n);case 2:u=e.sent,a=void 0,c=s+".mesh",e.t0=r().keys(u.subAssets);case 6:if((e.t1=e.t0()).done){e.next=14;break}if(i=e.t1.value,(o=u.subAssets[i]).name!=c){e.next=12;break}return a=o.uuid,e.abrupt("break",14);case 12:e.next=6;break;case 14:if(void 0!==a){e.next=18;break}console.error("找不到这个mesh: ",n,s),e.next=20;break;case 18:return e.next=20,this._setProperty(t.uuid,"__comps__.0.mesh",{type:"cc.Mesh",value:{uuid:a}});case 20:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),e.setMaterial=function(){var e=t(r().mark((function e(t,n,s){var u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Editor.Message.request("asset-db","query-uuid","db://assets/"+n+".mtl");case 2:return u=e.sent,e.next=5,this._setProperty(t.uuid,"__comps__.0.sharedMaterials."+s,{type:"cc.Material",value:{uuid:u}});case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),e.setName=function(){var e=t(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._setProperty(t.uuid,"name",{type:"string",value:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),e.savePrefab=function(){var e=t(r().mark((function e(t,n){var s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.parent,u=t.getSiblingIndex(),e.next=4,Editor.Message.request("scene","create-prefab",t.uuid,"db://assets/"+n+".prefab");case 4:return e.next=6,Editor.Message.request("scene","remove-node",{uuid:s.children[u].uuid});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,s,a,r,c,l,u,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,r=i._decorator,c=i.Animation,l=i.Vec3,u=i.isValid,p=i.Component}],execute:function(){var d,h,f,_,m;a._RF.push({},"f2d71HsEtBONoTW+EIRdzEN","EffectBase",void 0);var y=r.ccclass,b=r.property;i("EffectBase",(d=y("EffectBase"),h=b({type:c,displayName:"动画",visible:!0}),d((m=t((_=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"_animation",m,o(t)),t._res=void 0,t._bindNode=void 0,t._pos=new l,t}n(t,i);var a=t.prototype;return a._init=function(i){this._res=i},a._show=function(){},a.set=function(){},a.setPos=function(i,t){this._pos.set(i,t),this.node.setWorldPosition(this._pos)},a.bindNode=function(i){this._bindNode=i,this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos)},a.update=function(i){this._bindNode&&u(this._bindNode)&&(this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos))},a.playOnceCallback=function(i,t){var n=this;this._animation.once(c.EventType.FINISHED,(function(){t(n)}),this),this.play(i)},a.play=function(i){i?this._animation.play(i):this._animation.play()},a.remove=function(){this._bindNode=null,this.node.removeFromParent()},a.stop=function(){this._animation.stop()},a.pause=function(){this._animation.pause()},a.resume=function(){this._animation.resume()},s(t,[{key:"res",get:function(){return this._res}}]),t}(p)).prototype,"_animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/EffectCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectBase.ts","./EffectPool.ts"],(function(t){var n,e,o,i,s,c,a,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Animation,s=t.toDegree,c=t.Vec3},function(t){a=t.EffectBase},function(t){f=t.EffectPool}],execute:function(){var r;e._RF.push({},"f4ea1MaRe9CeJgHJPxJGSdr","EffectCmp",void 0);var l=o.ccclass;o.property,t("EffectCmp",l("EffectCmp")(r=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._pos=new c,n}n(e,t);var o=e.prototype;return o._init=function(n){t.prototype._init.call(this,n),this._animation.on(i.EventType.FINISHED,this._onAnimationPlayFinished,this)},o.set=function(t,n){this.setPos2f(t,n);var e=Math.atan2(t,n);e<0&&(e+=2*Math.PI),this.node.angle=s(e),this._animation.play()},o._onAnimationPlayFinished=function(){f.Collect(this)},o.setPos2f=function(t,n){this._pos.set(t,n),this.node.setWorldPosition(this._pos)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/EffectComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectConfig.ts","./GameUtils.ts","./ViewUtil.ts"],(function(e){var t,i,o,n,s,r,a,f,l;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator,n=e.Layers,s=e.ParticleUtils,r=e.Component},function(e){a=e.EffectConfig},function(e){f=e.GameUtils},function(e){l=e.ViewUtil}],execute:function(){var c,h;i._RF.push({},"7beb7M1YutHZKG6ml7aoe3I","EffectComponent",void 0);var u=o.ccclass;o.property,e("EffectComponent",u("EffectComponent")(((h=function(e){function i(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).effectId=void 0,t._enable=!1,t._hasTime=!1,t._leftTime=0,t}t(i,e),i.PlayEffect=function(e,t,o,s,r,c){void 0===c&&(c=n.Enum.UI_3D);var h=this._pool[e];h||(h=this._pool[e]=[]);var u=a.data[e],p=h.shift();p||(p=l.createPrefabNode(u.path,u.bundle).addComponent(i));return p.effectId=e,f.setLayer(p.node,c),r.addChild(p.node),p._initialize(t,o,s,u),p},i.Free=function(){for(var e in this._pool){var t=this._pool[e];if(t&&t.length>0){var i=0,o=t.length;for(i=0;i<o;++i)t[i].node.destroy()}}this._pool={}};var o=i.prototype;return o._initialize=function(e,t,i,o){this._enable=!0,this.node.setPosition(e),this.node.setRotationFromEuler(t),this.node.setScale(i),this._leftTime=o.time,o.time<=0?this._hasTime=!1:this._hasTime=!0,s.play(this.node)},o.update=function(e){this._enable&&this._hasTime&&(this._leftTime-=e,this._leftTime<=0&&this.recover())},o.recover=function(){this._enable&&(this._enable=!1,s.stop(this.node),this.node.removeFromParent(),i._pool[this.effectId].push(this))},i}(r))._pool={},c=h))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/EffectConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("EffectConfig",void 0),i._RF.push({},"60b0eUlS0ZLRLmQGqYWByfL","EffectConfig",void 0),function(t){t.config=function(){this.id=void 0,this.type=void 0,this.path=void 0,this.bundle=void 0,this.anim=void 0,this.time=void 0,this.need_preload=void 0};t.isConst=!1,t.path="config/EffectConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(n||(n=t("EffectConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/EffectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./util3.ts","./BattleManager2.ts","./DamageBoardPool2.ts","./ShoudaqiaoGameConst.ts"],(function(t){var e,n,i,o,a,r,s,c,u,l,f,p,d,v,y,g,m,h,D,P,T,w,C,M,x,A;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.tween,r=t.game,s=t.Color,c=t.resources,u=t.instantiate,l=t.isValid,f=t.ParticleSystem2D},function(t){p=t.UIPackage,d=t.GComponent,v=t.GMovieClip,y=t.GLoader,g=t.GImage,m=t.GTextField,h=t.GLoader3D,D=t.AlignType,P=t.VertAlignType},function(t){T=t.default,w=t.throughFGUI,C=t.through},function(t){M=t.default},function(t){x=t.default},function(t){A=t.ShoudaqiaoGameConst}],execute:function(){o._RF.push({},"45b2cyy4d9Pj6xiAugyg78k","EffectManager",void 0);var B=t("default",function(){function t(){this.scale=2,this.poolMap={}}var o=t.prototype;return o.createPref=function(){var t=n(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){c.load("prefab/"+e,(function(i,o){o||console.log(e);var a=u(o),r=M.inst.layers.part.node;r&&r.active&&(r.addChild(a),a.layer=r.layer),M.updater((function(){if(!l(n)||!l(a))return!0;a.setPosition(n.position.clone())}));var s=0;C(a,(function(t){var e=t.getComponent(f);e&&(s=Math.max(s,e.duration+e.life),e.autoRemoveOnFinish=!0,e.playOnLoad=!0)})),s>0&&M.delay(s,(function(){l(a)&&a.destroy()})),t(a)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o.clearEffectPool=function(){for(var e in t.pools)t.pools[e].clear();t.pools={}},o.playAnimEffect=function(e,n,i,o,a,r){if(void 0===o&&(o=1),void 0===a&&(a=M.inst.layers.effect),e){var s=A.data.UIPackage,c=!0;if(e.startsWith("!")&&(c=!1,e=e.slice(1)),e.includes("@")){var u=e.split("@");s=u[0],e=u[1]}if(p.getItemByURL("ui://"+s+"/"+e)){var l,f=s+"@"+e;if(c?((l=t.pools[f]||new x((function(){return p.createObject(s,e)}),100,!1,!0)).name=f,t.pools[f]=l):console.log(s,e),T.isUIInsideTree(a)){var y=c?l.fetch(a):p.createObject(s,e);c||a.addChild(y);var g=Date.now();y.pool_time=g,0==y.pivotX&&0==y.pivotY&&y.setPivot(.5,.5,!0),y.setPosition(n,i),y.setScale(o*this.scale,o*this.scale);var m=!1;return w(y,(function(t){if(t instanceof d&&t.getTransitionAt(0)){m=!0;var e=t.getTransitionAt(0);e.stop(),e.play((function(){c?y.pool_time==g&&l.return(y):y.dispose()}))}})),m||w(y,(function(t){t instanceof v&&(t.frame=0,t.playing=!0,t.setPlaySettings(0,-1,1,-1,(function(){c?y.pool_time==g&&l.return(y):y.dispose()})))})),r&&M.updater((function(){if(r.isDisposed||y.isDisposed)return!0;y.setPosition(r.x,r.y)})),y}}else console.warn("资源",s,e,"不存在")}},o.playAnimEffectDur=function(t,e,n,i,o){void 0===i&&(i=1),void 0===o&&(o=M.inst.layers.effect);var a=A.data.UIPackage;if(p.getItemByURL("ui://"+a+"/"+t)){var r=p.createObject(a,t);o.addChild(r),0==r.pivotX&&0==r.pivotY&&r.setPivot(.5,.5,!0),r.setPosition(e,n),r.setScale(i*this.scale,i*this.scale);var s=!1;return w(r,(function(t){t instanceof d&&t.getTransitionAt(0)&&(s=!0,t.getTransitionAt(0).play())})),s||w(r,(function(t){t instanceof v&&(t.frame=0,t.playing=!0,t.setPlaySettings(0,-1,-1,-1))})),r}console.warn("资源",t,"不存在")},o.playSpineEffect=function(){var t=n(i().mark((function t(e,n,o,a,r,s,c,u,l){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===s&&(s=1),t.abrupt("return",new Promise((function(t){var i=new h;i.width=100,i.height=100,i.setPivot(.5,.5,!0),i.x=o,i.y=a,i.align=D.Center,i.verticalAlign=P.Middle,i.setScale(s,s),c.addChild(i),i.setUrlWithBundle(n,e),M.updater((function(){var e=i._content;return!!e&&(e.setAnimation(0,r,!!l),l?M.delay(l,(function(){i.isDisposed||(i.dispose(),t(i))})):e.setCompleteListener((function(e){i.dispose(),t(i)})),!0)})),u&&M.updater((function(){if(u.isDisposed||i.isDisposed)return!0;i.setPosition(u.x,u.y)}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,i,o,a,r,s,c,u){return t.apply(this,arguments)}}(),o.createDamageBoard=function(t,e,n,i,o){var a;if(!(t<=0||isNaN(t))){(a=this.poolMap)[e]||(a[e]=new x((function(){return p.createObjectFromURL("ui://shoudaqiao_res/"+e)}),100));var r=this.poolMap[e].fetch(M.inst.layers.board),s=t.toFixed(0);r.title=s,r.setScale(o,o),r.setPosition(n,i),r.getTransitionAt(0).play((function(){r.dispose()}))}},o.clearDmgBoard=function(){for(var t in this.poolMap)this.poolMap[t].clear();this.poolMap={}},o.moveDmgBoardByTween=function(t,e){var n=t.y-200,i=t.y-30;a(t).to(.1,{scaleX:1.5,scaleY:1.5,y:i}).delay(.2).to(.2,{y:n,alpha:0}).call((function(){e.return(t)})).start()},o.moveDmgBoardByGravity=function(t,e){var n=0,i=T.randomRange(-300,300),o=T.randomRange(-1e3,-1500);M.updater((function(a){if(n+=a,o+=5e3*r.deltaTime,t.x+=i*r.deltaTime,t.y+=o*r.deltaTime,n>.4&&(t.alpha-=5*r.deltaTime,t.alpha<=0))return e.return(t),!0}))},o.createDamagedEffect=function(t,e){void 0===e&&(e=s.WHITE),t.isDisposed||w(t,(function(n){if(n instanceof y||n instanceof g){var i=0;M.updater((function(){if(t.isDisposed)return!0;if(n.isDisposed)return!0;e||(e=n.color),n.color=i%2==0?s.RED:e;var o=(i+=1)>1;return o&&(n.color=e),o}),.04)}}))},o.createDamagedEffectText=function(t,e){void 0===e&&(e=s.WHITE),t.isDisposed||w(t,(function(n){var i=0;M.updater((function(){if(t.isDisposed)return!0;if(n instanceof m){if(n.isDisposed)return!0;e||(e=n.color),n.color=i%2==0?s.RED:e;var o=(i+=1)>1;return o&&(n.color=e),o}}),.1)}))},e(t,null,[{key:"inst",get:function(){return this._inst=this._inst||new t,this._inst}}]),t}());B._inst=void 0,B.pools={},o._RF.pop()}}}));

System.register("chunks:///_virtual/EffectManager2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./util2.ts","./BattleManager.ts","./DamageBoardPool.ts","./TreeSpiritGameConst.ts","./UI_DamageBoard.ts","./UI_DamageBoardCrit.ts"],(function(t){var e,n,i,o,a,r,s,c,u,l,f,d,p,m,g,v,y,h,P,D,B,T,w,I,_,A,C,x;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.tween,r=t.game,s=t.Color,c=t.resources,u=t.instantiate,l=t.isValid,f=t.ParticleSystem2D},function(t){d=t.UIPackage,p=t.GComponent,m=t.GMovieClip,g=t.GLoader,v=t.GTextField,y=t.GLoader3D,h=t.AlignType,P=t.VertAlignType},function(t){D=t.default,B=t.throughFGUI,T=t.through},function(t){w=t.default,I=t.DamageBoardLimit},function(t){_=t.default},function(t){A=t.TreeSpiritGameConst},function(t){C=t.default},function(t){x=t.default}],execute:function(){o._RF.push({},"cb5b5m9qO5Pw6mKvu5MBfSP","EffectManager",void 0);var E=t("default",function(){function t(){this.scale=2,this.dmgPool=new _(C.createInstance,400),this.critPool=new _(x.createInstance,100)}var o=t.prototype;return o.createPref=function(){var t=n(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){c.load("prefab/"+e,(function(i,o){o||console.log(e);var a=u(o),r=w.inst.layers.part.node;r&&r.active&&(r.addChild(a),a.layer=r.layer),w.updater((function(){if(!l(n)||!l(a))return!0;a.setPosition(n.position.clone())}));var s=0;T(a,(function(t){var e=t.getComponent(f);e&&(s=Math.max(s,e.duration+e.life),e.autoRemoveOnFinish=!0,e.playOnLoad=!0)})),s>0&&w.delay(s,(function(){l(a)&&a.destroy()})),t(a)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o.clearEffectPool=function(){for(var e in t.pools)t.pools[e].clear();this.critPool.clear(),this.dmgPool.clear(),t.pools={}},o.playAnimEffect=function(e,n,i,o,a,r){if(void 0===o&&(o=1),void 0===a&&(a=w.inst.layers.effect),e){var s=A.data.UIPackage;if(e.includes("@")){var c=e.split("@");s=c[0],e=c[1]}if(d.getItemByURL("ui://"+s+"/"+e)){var u=s+"@"+e,l=t.pools[u]||new _((function(){return d.createObject(s,e)}),200,!1,!0);if(l.name=u,t.pools[u]=l,D.isUIInsideTree(a)){var f=l.fetch(a),g=Date.now();f.pool_time=g,0==f.pivotX&&0==f.pivotY&&f.setPivot(.5,.5,!0),f.setPosition(n,i),f.setScale(o*this.scale,o*this.scale);var v=!1;return B(f,(function(t){if(t instanceof p&&t.getTransitionAt(0)){v=!0;var e=t.getTransitionAt(0);e.stop(),e.play((function(){f.pool_time==g&&l.return(f)}))}})),v||B(f,(function(t){t instanceof m&&(t.frame=0,t.playing=!0,t.setPlaySettings(0,-1,1,-1,(function(){f.pool_time==g&&l.return(f)})))})),r&&w.updater((function(){if(r.isDisposed||f.isDisposed)return!0;f.setPosition(r.x,r.y)})),f}}else console.warn("资源",s,e,"不存在")}},o.playAnimEffectDur=function(t,e,n,i,o){void 0===i&&(i=1),void 0===o&&(o=w.inst.layers.effect);var a=A.data.UIPackage;if(d.getItemByURL("ui://"+a+"/"+t)){var r=d.createObject(a,t);o.addChild(r),0==r.pivotX&&0==r.pivotY&&r.setPivot(.5,.5,!0),r.setPosition(e,n),r.setScale(i*this.scale,i*this.scale);var s=!1;return B(r,(function(t){t instanceof p&&t.getTransitionAt(0)&&(s=!0,t.getTransitionAt(0).play())})),s||B(r,(function(t){t instanceof m&&(t.frame=0,t.playing=!0,t.setPlaySettings(0,-1,-1,-1))})),r}console.warn("资源",t,"不存在")},o.playSpineEffect=function(){var t=n(i().mark((function t(e,n,o,a,r,s,c,u,l){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===s&&(s=1),t.abrupt("return",new Promise((function(t){var i=new y;i.width=100,i.height=100,i.setPivot(.5,.5,!0),i.x=o,i.y=a,i.align=h.Center,i.verticalAlign=P.Middle,i.setScale(s,s),c.addChild(i),i.setUrlWithBundle(n,e),w.updater((function(){var e=i._content;return!!e&&(e.setAnimation(0,r,!!l),l?w.delay(l,(function(){i.isDisposed||(i.dispose(),t(i))})):e.setCompleteListener((function(e){i.dispose(),t(i)})),!0)})),u&&w.updater((function(){if(u.isDisposed||i.isDisposed)return!0;i.setPosition(u.x,u.y)}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,i,o,a,r,s,c,u){return t.apply(this,arguments)}}(),o.createDamageBoard=function(t,e,n,i){if(!(w.inst.curDmgBoard>=I||(w.inst.curDmgBoard+=1,t<=0||isNaN(t)))){var o=e?this.critPool:this.dmgPool,a=o.fetch(w.inst.layers.board),r=t.toFixed(0);a.m_count.text=r,a.alpha=1,a.setPosition(n,i),this.moveDmgBoardByTween(a,o)}},o.moveDmgBoardByTween=function(t,e){var n=t.y-150,i=t.y-30;t.setScale(0,0),a(t).to(.15,{scaleX:1,scaleY:1,y:i},{easing:"quintOut"}).parallel(a(t).to(.1,{scaleX:.8,scaleY:.8}).tag(88888),a(t).to(.6,{y:n}).tag(88888)).to(.2,{y:n-50,alpha:0}).call((function(){e.return(t)})).start().tag(88888)},o.returnAllDamageBoard=function(){this.dmgPool.returnAll(),this.critPool.returnAll()},o.moveDmgBoardByGravity=function(t,e){var n=0,i=D.randomRange(-300,300),o=D.randomRange(-1e3,-1500);w.updater((function(a){if(n+=a,o+=5e3*r.deltaTime,t.x+=i*r.deltaTime,t.y+=o*r.deltaTime,n>.4&&(t.alpha-=5*r.deltaTime,t.alpha<=0))return e.return(t),!0}))},o.createDamagedEffect=function(t,e){void 0===e&&(e=s.WHITE),t.isDisposed||B(t,(function(n){var i=0;w.updater((function(){if(t.isDisposed)return!0;if(n instanceof g){if(n.isDisposed)return!0;e||(e=n.color),n.color=i%2==0?s.RED:e;var o=(i+=1)>1;return o&&(n.color=e),o}}),.1)}))},o.createDamagedEffectText=function(t,e){void 0===e&&(e=s.WHITE),t.isDisposed||B(t,(function(n){var i=0;w.updater((function(){if(t.isDisposed)return!0;if(n instanceof v){if(n.isDisposed)return!0;e||(e=n.color),n.color=i%2==0?s.RED:e;var o=(i+=1)>1;return o&&(n.color=e),o}}),.1)}))},e(t,null,[{key:"inst",get:function(){return this._inst=this._inst||new t,this._inst}}]),t}());E._inst=void 0,E.pools={},o._RF.pop()}}}));

System.register("chunks:///_virtual/EffectManager22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./util22.ts","./BattleManager22.ts","./DamageBoardPool22.ts","./ShoudaqiaoGameConst2.ts"],(function(t){var e,n,i,o,a,r,s,c,u,f,l,p,d,v,y,g,h,m,D,P,T,w,B,C,M,E;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.tween,r=t.game,s=t.Color,c=t.resources,u=t.instantiate,f=t.isValid,l=t.ParticleSystem2D},function(t){p=t.UIPackage,d=t.GComponent,v=t.GMovieClip,y=t.GLoader,g=t.GImage,h=t.GTextField,m=t.GLoader3D,D=t.AlignType,P=t.VertAlignType},function(t){T=t.default,w=t.throughFGUI,B=t.through},function(t){C=t.default},function(t){M=t.default},function(t){E=t.ShoudaqiaoGameConst}],execute:function(){o._RF.push({},"0f968y8sfBNjKYe2Xcbj40h","EffectManager2",void 0);var _=t("default",function(){function t(){this.scale=2,this.poolMap={}}var o=t.prototype;return o.createPref=function(){var t=n(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){c.load("prefab/"+e,(function(i,o){o||console.log(e);var a=u(o),r=C.inst.layers.part.node;r&&r.active&&(r.addChild(a),a.layer=r.layer),C.updater((function(){if(!f(n)||!f(a))return!0;a.setPosition(n.position.clone())}));var s=0;B(a,(function(t){var e=t.getComponent(l);e&&(s=Math.max(s,e.duration+e.life),e.autoRemoveOnFinish=!0,e.playOnLoad=!0)})),s>0&&C.delay(s,(function(){f(a)&&a.destroy()})),t(a)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o.clearEffectPool=function(){for(var e in t.pools)t.pools[e].clear();t.pools={}},o.playAnimEffect=function(e,n,i,o,a,r){if(void 0===o&&(o=1),void 0===a&&(a=C.inst.layers.effect),e){var s=E.data.UIPackage,c=!0;if(e.startsWith("!")&&(c=!1,e=e.slice(1)),e.includes("@")){var u=e.split("@");s=u[0],e=u[1]}if(p.getItemByURL("ui://"+s+"/"+e)){var f,l=s+"@"+e;if(c?((f=t.pools[l]||new M((function(){return p.createObject(s,e)}),100,!1,!0)).name=l,t.pools[l]=f):console.log(s,e),T.isUIInsideTree(a)){var y=c?f.fetch(a):p.createObject(s,e);c||a.addChild(y);var g=Date.now();y.pool_time=g,0==y.pivotX&&0==y.pivotY&&y.setPivot(.5,.5,!0),y.setPosition(n,i),y.setScale(o*this.scale,o*this.scale);var h=!1;return w(y,(function(t){if(t instanceof d&&t.getTransitionAt(0)){h=!0;var e=t.getTransitionAt(0);e.stop(),e.play((function(){c?y.pool_time==g&&f.return(y):y.dispose()}))}})),h||w(y,(function(t){t instanceof v&&(t.frame=0,t.playing=!0,t.setPlaySettings(0,-1,1,-1,(function(){c?y.pool_time==g&&f.return(y):y.dispose()})))})),r&&C.updater((function(){if(r.isDisposed||y.isDisposed)return!0;y.setPosition(r.x,r.y)})),y}}else console.warn("资源",s,e,"不存在")}},o.playAnimEffectDur=function(t,e,n,i,o){void 0===i&&(i=1),void 0===o&&(o=C.inst.layers.effect);var a=E.data.UIPackage;if(p.getItemByURL("ui://"+a+"/"+t)){var r=p.createObject(a,t);o.addChild(r),0==r.pivotX&&0==r.pivotY&&r.setPivot(.5,.5,!0),r.setPosition(e,n),r.setScale(i*this.scale,i*this.scale);var s=!1;return w(r,(function(t){t instanceof d&&t.getTransitionAt(0)&&(s=!0,t.getTransitionAt(0).play())})),s||w(r,(function(t){t instanceof v&&(t.frame=0,t.playing=!0,t.setPlaySettings(0,-1,-1,-1))})),r}console.warn("资源",t,"不存在")},o.playSpineEffect=function(){var t=n(i().mark((function t(e,n,o,a,r,s,c,u,f){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===s&&(s=1),t.abrupt("return",new Promise((function(t){var i=new m;i.width=100,i.height=100,i.setPivot(.5,.5,!0),i.x=o,i.y=a,i.align=D.Center,i.verticalAlign=P.Middle,i.setScale(s,s),c.addChild(i),i.setUrlWithBundle(n,e),C.updater((function(){var e=i._content;return!!e&&(e.setAnimation(0,r,!!f),f?C.delay(f,(function(){i.isDisposed||(i.dispose(),t(i))})):e.setCompleteListener((function(e){i.dispose(),t(i)})),!0)})),u&&C.updater((function(){if(u.isDisposed||i.isDisposed)return!0;i.setPosition(u.x,u.y)}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,i,o,a,r,s,c,u){return t.apply(this,arguments)}}(),o.createDamageBoard=function(t,e,n,i,o){var a;if(!(t<=0||isNaN(t))){(a=this.poolMap)[e]||(a[e]=new M((function(){return p.createObjectFromURL("ui://shoudaqiao2_res/"+e)}),100));var r=this.poolMap[e].fetch(C.inst.layers.board),s=t.toFixed(0);r.title=s,r.setScale(o,o),r.setPosition(n,i),r.getTransitionAt(0).play((function(){r.dispose()}))}},o.clearDmgBoard=function(){for(var t in this.poolMap)this.poolMap[t].clear();this.poolMap={}},o.moveDmgBoardByTween=function(t,e){var n=t.y-200,i=t.y-30;a(t).to(.1,{scaleX:1.5,scaleY:1.5,y:i}).delay(.2).to(.2,{y:n,alpha:0}).call((function(){e.return(t)})).start().tag(88888)},o.moveDmgBoardByGravity=function(t,e){var n=0,i=T.randomRange(-300,300),o=T.randomRange(-1e3,-1500);C.updater((function(a){if(n+=a,o+=5e3*r.deltaTime,t.x+=i*r.deltaTime,t.y+=o*r.deltaTime,n>.4&&(t.alpha-=5*r.deltaTime,t.alpha<=0))return e.return(t),!0}))},o.createDamagedEffect=function(t,e){void 0===e&&(e=s.WHITE),t.isDisposed||w(t,(function(n){if(n instanceof y||n instanceof g){var i=0;C.updater((function(){if(t.isDisposed)return!0;if(n.isDisposed)return!0;e||(e=n.color),n.color=i%2==0?s.RED:e;var o=(i+=1)>1;return o&&(n.color=e),o}),.04)}}))},o.createDamagedEffectText=function(t,e){void 0===e&&(e=s.WHITE),t.isDisposed||w(t,(function(n){var i=0;C.updater((function(){if(t.isDisposed)return!0;if(n instanceof h){if(n.isDisposed)return!0;e||(e=n.color),n.color=i%2==0?s.RED:e;var o=(i+=1)>1;return o&&(n.color=e),o}}),.1)}))},e(t,null,[{key:"inst",get:function(){return this._inst=this._inst||new t,this._inst}}]),t}());_._inst=void 0,_.pools={},o._RF.pop()}}}));

System.register("chunks:///_virtual/EffectManager3.ts",["cc","./EffectConfig.ts","./EffectComponent.ts","./SpineEffectComponent.ts","./GameUtils.ts","./Vec3Util.ts","./ViewUtil.ts"],(function(e){var t,n,f,o,c,a,i,r,l,s,u,d;return{setters:[function(e){t=e.cclegacy,n=e.Vec3,f=e.Layers,o=e.Node,c=e.sp,a=e.Prefab},function(e){i=e.EffectConfig},function(e){r=e.EffectComponent},function(e){l=e.SpineEffectComponent},function(e){s=e.GameUtils},function(e){u=e.Vec3Util},function(e){d=e.ViewUtil}],execute:function(){t._RF.push({},"68795RzG1NH2KpZVpQ7RTGp","EffectManager",void 0),e("EffectManager",function(){function e(){}return e.PlayEffect=function(e,t,n,o,c,a){void 0===o&&(o=f.Enum.UI_3D),void 0===c&&(c=null),void 0===a&&(a=null);var s,d,p,E=i.data[e];if(E)switch(d=c||u.v3_zero,p=a||u.v3_one,E.type){case 1:s=r.PlayEffect(e,t,d,p,n,o);break;case 2:s=l.PlayEffect(e,t,d,p,n,E.anim,o)}else console.error(" 特效播放失败 "+e+" ");return s},e.GetEffect=function(e){var t=i.data[e];return t?d.createPrefabNode(t.path,t.bundle):new o("effect_"+e)},e.Free=function(){r.Free(),l.Free()},e.Preload=function(e){var t,n=[],f=i.dataList,o=0,c=f.length;for(o=0;o<c;++o)(t=f[o]).need_preload&&n.push(t.id);n.length>0&&this.GetPreloads(n,e)},e.GetPreloads=function(e,t){if(e.length>0){var n,f=0,o=e.length;for(f=0;f<o;++f)if(n=i.data[e[f]])switch(n.type){case 1:t.add(n.path,n.bundle,a);break;case 2:t.add(n.path,n.bundle,c.SkeletonData)}}},e.PlayEffectWorld=function(e,t,n,o,c,a){return void 0===o&&(o=f.Enum.UI_3D),void 0===c&&(c=null),void 0===a&&(a=null),s.WorldToLocal(t,n,this._wpos),this.PlayEffect(e,this._wpos,n,o,c,a)},e}())._wpos=new n,t._RF.pop()}}}));

System.register("chunks:///_virtual/EffectPool.ts",["cc","./ViewUtil.ts","./MainConst.ts","./BattleState.ts","./EffectBase.ts"],(function(t){var o,e,n,i,c,l;return{setters:[function(t){o=t.cclegacy},function(t){e=t.ViewUtil},function(t){n=t.MAIN_BUNDLE,i=t.MAIN_PREFABS},function(t){c=t.BattleState},function(t){l=t.EffectBase}],execute:function(){o._RF.push({},"74258XULSZNwIBODEkJnOQp","EffectPool",void 0),t("EffectPool",function(){function t(){}return t.Show=function(t){var o=this._pool[t];o||(o=this._pool[t]=[]);var i=o.shift();i||(i=e.createPrefabNode(t,n).getComponent(l))._init(t);return i.node.parent=c.ins.control.view.effectRoot,i._show(),i},t.Collect=function(t){var o=t.res;this._pool[o].push(t),t.remove()},t.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}},t.ShowDieEffect=function(o,e){var n=this.Show(i.EffectDie);return n.setPos(o,e),n.playOnceCallback(null,t.Collect.bind(t)),n},t.ShowExploteEffect=function(o,e){var n=this.Show(i.EffectExplote);return n.setPos(o,e),n.playOnceCallback(null,t.Collect.bind(t)),n},t.ShowRotationSkillEffect=function(){return e.createPrefabNode(i.EffectRotaionSkill,n).getComponent(l)},t.ShowLeiSkillEffect=function(o,e){var n=this.Show(i.EffectLeiSkill);return n.setPos(o,e),n.playOnceCallback(null,t.Collect.bind(t)),n},t}())._pool={},o._RF.pop()}}}));

System.register("chunks:///_virtual/EGame11Enums.ts",["cc"],(function(a){var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){e._RF.push({},"9c875jxHpJIqoLYThapC611","EGame11Enums",void 0);a("EGame11BodyTagEnum",function(a){return a[a.Fall_Bullet=101]="Fall_Bullet",a[a.Fall_Weapon=102]="Fall_Weapon",a[a.Ratio=103]="Ratio",a[a.Capacity=104]="Capacity",a[a.Weapon=105]="Weapon",a[a.Pipe=106]="Pipe",a}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ELevelState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"927c9+1EXhDS4gNX0ELOToi","ELevelState",void 0);e("ELevelState",function(e){return e[e.None=0]="None",e[e.PreAnim=1]="PreAnim",e[e.Merge=2]="Merge",e[e.PreBattle=3]="PreBattle",e[e.Battle=4]="Battle",e[e.BackMerge=5]="BackMerge",e[e.End=6]="End",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Emitter.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"86523FSTdZLgZZBU+4FvXU+","Emitter",void 0);t("Emitter",function(){function t(t){this.sender=void 0,this.all=new Map,this.sender=t}var e=t.prototype;return e.on=function(t,e){var n=this.all.get(t);return n&&n.push(e)||this.all.set(t,[e]),e},e.off=function(t,e){var n=this.all.get(t);n&&(e?n.splice(n.indexOf(e)>>>0,1):n.length=0)},e.emit=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.all.get(t)||[]).slice().map((function(t){t.apply(void 0,n)}))},e.dispose=function(){this.all.clear()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc","./index.js"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"99212hrYmZLZ7xA7OmOe5Tl","EncryptUtil",void 0);var e=t("EncryptUtil",function(){function t(){}return t.md5=function(t){return r.MD5(t).toString()},t.initCrypto=function(t,n){this.key=t,this.iv=r.enc.Hex.parse(n)},t.aesEncrypt=function(t,n,e){return r.AES.encrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString()},t.aesDecrypt=function(t,n,e){return r.AES.decrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString(r.enc.Utf8)},t}());e.key=null,e.iv=null,e.JsonFormatter={stringify:function(t){var n={ct:t.ciphertext.toString(r.enc.Base64)};return t.iv&&(n.iv=t.iv.toString()),t.salt&&(n.s=t.salt.toString()),JSON.stringify(n)},parse:function(t){var n=JSON.parse(t),e=r.lib.CipherParams.create({ciphertext:r.enc.Base64.parse(n.ct)});return n.iv&&(e.iv=r.enc.Hex.parse(n.iv)),n.s&&(e.salt=r.enc.Hex.parse(n.s)),e}},n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyHero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWave2.ts","./ZDUtils4.ts","./RoleHeroAI4.ts","./RoleMonster4.ts"],(function(t){var e,i,o,r,s,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t.v3},function(t){r=t.ZdWave},function(t){s=t.ZDUtils4},function(t){n=t.RoleHeroAI},function(t){a=t.EBehaviorStatus}],execute:function(){i._RF.push({},"8cc00ZRG6RFCp8C6/D92PA7","EnemyHero",void 0);var c=o();t("EnemyHero",function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).curFindTargetTime=0,e._behaviorStatus=void 0,e._moveTarget=void 0,e}e(i,t);var o=i.prototype;return o._onInit=function(e){t.prototype._onInit.call(this,e);var i=r.data[(this.curCtrl.curWaveConfig?this.curCtrl.curWaveConfig.id:0)+1];i||(i=this.curCtrl.curWaveConfig),this._hp=this._maxHp=this._config.hp*(i.level-1),this._maxHp<=0&&(this._hp=this._maxHp=1)},o._updateMove=function(e){var i;if(t.prototype._updateMove.call(this,e),this._moveTarget&&this._moveTarget.enable&&s.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),Date.now()-this.curFindTargetTime>500){this.curFindTargetTime=Date.now();var o=this.curCtrl.getAreaMinOpp(this.campType,this.curArea,this._position);if(o)this._moveTarget=o;else{this._moveTarget=null,this._behaviorStatus=a.MoveDir;var r=this.curCtrl.getAreaInfo(this.curArea),n=c.set(r.exitPos).subtract(this._position);this._moveDir.set(n.x,n.y).normalize()}}null==(i=this._view)||i.setModelFlipX(this._moveDir.x>0)},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyHero5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils5.ts","./RoleHeroAI5.ts"],(function(t){var i,e,s,n,o,r,a;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t.v3,n=t.Animation,o=t.Vec3},function(t){r=t.ZDUtils4},function(t){a=t.RoleHeroAI}],execute:function(){e._RF.push({},"f5021gPTXBKM5bNQ/gUu10P","EnemyHero5",void 0);s(),t("EnemyHero",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).curFindTargetTime=0,i._behaviorStatus=void 0,i._moveTarget=void 0,i.anim=void 0,i.curAtkTime=0,i.curAtkAnimTime=0,i}i(e,t);var s=e.prototype;return s._onInit=function(i){t.prototype._onInit.call(this,i),this._hp=this._maxHp=this._config.hp*this.curCtrl.CurWaveConfig.level,this._maxHp<=0&&(this._hp=this._maxHp=1)},s._initView=function(){t.prototype._initView.call(this),this.anim=this._view.node.getComponentInChildren(n)},s._updateMove=function(i){var e,s;(t.prototype._updateMove.call(this,i),this._moveTarget&&this._moveTarget.enable&&r.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),Date.now()-this.curFindTargetTime>500&&(this.curFindTargetTime=Date.now(),this._moveTarget=this.curCtrl.baseTower),this.anim)&&(this.curAtkTime+=i,this.curAtkTime>=1/this._config.as&&this.curCtrl.baseTower&&o.distance(this.pos,this.curCtrl.baseTower.pos)<=this._config.weapon_radius+this.size.width/2+this.curCtrl.baseTower.size.width/2&&(this.curAtkAnimTime=this.anim.getState("attack").duration,this.curAtkAnimTime>1/this._config.as&&(this.anim.getState("attack").speed=this.curAtkAnimTime/(1/this._config.as)),this.curAtkAnimTime=this.curAtkAnimTime/this.anim.getState("attack").speed,this.anim.play("attack"),null==(s=this.curCtrl.baseTower)||s.hurt(this._config.atk),this.curAtkTime=0));null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0)},e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMonster4.ts"],(function(t){var e,i,r,o,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t.v3},function(t){o=t.EBehaviorStatus,n=t.RoleMonster}],execute:function(){i._RF.push({},"4c999P/wwtCqqau6Tb4pbJn","EnemyMonster",void 0);var s=r();t("EnemyMonster",function(t){function i(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).curFindTargetTime=0,e}return e(i,t),i.prototype._updateMove=function(e){var i;if(t.prototype._updateMove.call(this,e),Date.now()-this.curFindTargetTime>500){this.curFindTargetTime=Date.now();var r=this.curCtrl.getAreaMinOpp(this.campType,this.curArea,this._position);if(r)this._moveTarget=r;else{this._moveTarget=null,this._behaviorStatus=o.MoveDir;var n=this.curCtrl.getAreaInfo(this.curArea),a=s.set(n.exitPos).subtract(this._position);this._moveDir.set(a.x,a.y).normalize()}}null==(i=this._view)||i.setModelFlipX(this._moveDir.x>0)},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyMonster5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMonster5.ts"],(function(t){var e,i,s,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t.v3,r=t.Vec3},function(t){a=t.RoleMonster}],execute:function(){i._RF.push({},"dd5d2QRorFNaLqQi37jOS4P","EnemyMonster5",void 0);s(),t("EnemyMonster",function(t){function i(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).curFindTargetTime=0,e.oriMove=s(),e.atkBaseTower=!1,e.curAtkTime=0,e.curAtkAnimTime=0,e}return e(i,t),i.prototype._updateMove=function(e){var i;(t.prototype._updateMove.call(this,e),Date.now()-this.curFindTargetTime>500&&!this.atkBaseTower&&(this.curFindTargetTime=Date.now(),this.curCtrl.baseTower&&r.distance(this.pos,this.curCtrl.baseTower.pos)<=this._config.ar+this.size.width/2+this.curCtrl.baseTower.size.width/2?(this._moveTarget=null,this._moveDir.set(0,0),this.atkBaseTower=!0,this.anim.stop()):this._moveTarget=this.curCtrl.baseTower),this.atkBaseTower)&&(this.curAtkTime+=e,this.curAtkTime>=1/this._config.as&&(this.curAtkAnimTime=this.anim.getState("attack").duration,this.curAtkAnimTime>1/this._config.as&&(this.anim.getState("attack").speed=this.curAtkAnimTime/(1/this._config.as)),this.curAtkAnimTime=this.curAtkAnimTime/this.anim.getState("attack").speed,this.anim.play("attack"),null==(i=this.curCtrl.baseTower)||i.hurt(this._config.atk),this.curAtkTime=0))},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/EquipConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("EquipConfig",void 0),t._RF.push({},"8f304kD5jVJlpMN35K23oL4","EquipConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.model=void 0,this.type=void 0,this.base_value=void 0,this.atkMax=void 0,this.speed=void 0,this.range1=void 0,this.speed1=void 0,this.range2=void 0,this.speed2=void 0,this.range3=void 0,this.palstance=void 0,this.unlock_cost=void 0,this.levelupId=void 0,this.upgrade_cost=void 0,this.conditon_role_lv=void 0,this.maxLevel=void 0,this.goldBase=void 0,this.goldAdd=void 0,this.atk=void 0,this.curve=void 0,this.show=void 0,this.tail=void 0,this.des=void 0};i.isConst=!1,i.path="config/EquipConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("EquipConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/EventData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3b4e2Mi1IlLeb1j036NW6PD","EventData",void 0);t("EventData",(function(){this.event=void 0,this.listener=void 0,this.object=void 0,this.once=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["cc","./EventData.ts"],(function(e){var t,n,r,i;return{setters:[function(e){t=e.cclegacy,n=e.warn,r=e.js},function(e){i=e.EventData}],execute:function(){t._RF.push({},"c680af5iPNKeIO4cArf/90m","EventDispatcher",void 0);e("EventDispatcher",function(){function e(){this.events={}}var t=e.prototype;return t.on=function(e,t,n){this._addListener(e,t,n,!1)},t.once=function(e,t,n){this._addListener(e,t,n,!0)},t._addListener=function(e,t,r,s){if(e&&t){var c=this.events[e];null==c&&(c=[],this.events[e]=c);var a=0,o=c.length;for(a=0;a<o;++a){var v=c[a];if(v.listener==t&&v.object==r&&v.once!=s)return void n("EventDispatcher重复注册事件 "+e)}var f=new i;f.event=e,f.listener=t,f.object=r,f.once=s,c.push(f)}else n("EventDispatcher事件"+e+"监听函数为空")},t.off=function(e,t,n){var i=this.events[e];if(i){var s=0,c=i.length;for(s=0;s<c;++s){var a=i[s];if(a.listener==t&&a.object==n){r.array.removeAt(i,s);break}}0==i.length&&delete this.events[e]}},t.clear=function(e){null!=this.events[e]&&delete this.events[e]},t.dispatchEvent=function(e){var t=this.events[e];if(null!=t){for(var n,r=t.concat(),i=0,s=r.length,c=arguments.length,a=new Array(c>1?c-1:0),o=1;o<c;o++)a[o-1]=arguments[o];for(i=0;i<s;++i){var v;(v=(n=r[i]).listener).call.apply(v,[n.object].concat(a)),n.once&&this.off(n.event,n.listener,n.object)}}},t.destroy=function(){this.events={}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EventMessage.ts",["cc"],(function(e){var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){E._RF.push({},"beea7u9xnJD4rMj6ua/LTcF","EventMessage",void 0);e("EventMessage",function(e){return e.GAME_ENTER="EventMessage.GAME_ENTER",e.GAME_EXIT="EventMessage.GAME_EXIT",e.GAME_RESIZE="EventMessage.GAME_RESIZE",e}({}));E._RF.pop()}}}));

System.register("chunks:///_virtual/ExpConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("ExpConfig",void 0),i._RF.push({},"73db4MHbX5Bj7XP23Wh2wtI","ExpConfig",void 0),function(t){t.config=function(){this.id=void 0,this.exp=void 0};t.isConst=!1,t.path="config/ExpConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(n||(n=t("ExpConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ExpLayerCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,a,n,l,s,o,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,s=e._decorator,o=e.ProgressBar,c=e.Label,p=e.Component}],execute:function(){var u,y,b,f,v,m,L;l._RF.push({},"0ccc1iSNM1LhJgAemsjQznk","ExpLayerCmp",void 0);var g=s.ccclass,h=s.property;e("ExpLayerCmp",(u=g("ExpLayerCmp"),y=h({type:o,displayName:"进度条",visible:!0}),b=h({type:c,displayName:"等级",visible:!0}),u((m=r((v=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return r=e.call.apply(e,[this].concat(n))||this,i(r,"_bar",m,a(r)),i(r,"_lvLab",L,a(r)),r}return t(r,e),n(r,[{key:"level",set:function(e){this._lvLab.string=e}},{key:"barPercent",set:function(e){this._bar.progress=e}}]),r}(p)).prototype,"_bar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(v.prototype,"_lvLab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/ExpMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ExpConfig.ts","./BattleState.ts"],(function(t){var i,e,s,u;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){s=t.ExpConfig},function(t){u=t.BattleState}],execute:function(){e._RF.push({},"fdef12/gulJM4Dd49bHTEkH","ExpMgr",void 0);t("ExpMgr",function(){function t(){this._view=void 0,this._curLv=void 0,this._maxLv=void 0,this._curExp=void 0,this._maxExp=void 0}var e=t.prototype;return e.init=function(t){this._view=t,this._curLv=1,this._maxLv=s.dataList[s.dataList.length-1].id,this._curExp=0,this._maxExp=s.data[this._curLv].exp,this._updateView()},e.addExp=function(t){this._curLv>=this._maxLv||(this._curExp+=t,this._curExp>=this._maxExp&&(this._curExp-=this._maxExp,this._curLv+=1,this._maxExp=s.data[this._curLv].exp,u.ins.control.levelUp()),this._updateView())},e._updateView=function(){this._curLv>=this._maxExp?(this._view.level="Max",this._view.barPercent=1):(this._view.level="Lv"+this._curLv,this._view.barPercent=this._curExp/this._maxExp)},i(t,[{key:"curLevel",get:function(){return this._curLv}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FBIWarningView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./UI_FBIWarning.ts"],(function(n){var t,e,r,i,u,s,c;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,r=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){u=n.cclegacy},function(n){s=n.ViewBase},function(n){c=n.default}],execute:function(){u._RF.push({},"8d509ixAvxCC73dDNnsfY8Q","FBIWarningView",void 0);n("FBIWarningView",function(n){function u(){return n.apply(this,arguments)||this}t(u,n);var s=u.prototype;return s._preShowAnim=function(){var n=r(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.ui.m_btn_close.onClick(this.hide,this);case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s._afterShowAnim=function(){var n=r(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s._preHideAnim=function(){},s._afterHideAnim=function(){},e(u,null,[{key:"instance",get:function(){return this._getInstance(u,c)}}]),u}(s));u._RF.pop()}}}));

System.register("chunks:///_virtual/FeedbackView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_Feedback.ts","./YT.ts","./ViewBase.ts"],(function(e){var t,i,n,o,s,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy},function(e){o=e.default},function(e){s=e.YT},function(e){c=e.ViewBase}],execute:function(){n._RF.push({},"b1b79FTkhxOA5L7uxEQmxAN","FeedbackView",void 0);e("FeedbackView",function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).feedTypes=["虚假宣传","数据丢失","游戏卡顿","广告异常"],t}t(n,e);var c=n.prototype;return c._onCreate=function(){},c._preShowAnim=function(){this.ui.m_view.m_btn_close.onClick(this.hide,this),this.ui.m_view.m_btn_confirm.onClick(this._onConfirm,this)},c._onConfirm=function(){var e=this.ui.m_view.m_list_tog.selectedIndex;if(e>-1){var t=this.feedTypes[e],i="用户未填写详情";this.ui.m_view.m_txt_input.text&&(i=this.ui.m_view.m_txt_input.text),s.gui.toast("提交成功,我们将会尽快处理！"),s.dataSdk.reportEvent("feedback",{feed_type:t,feed_detail:i}),this.hide()}else s.gui.toast("请选择反馈内容")},c._afterShowAnim=function(){},c._preHideAnim=function(){},c._afterHideAnim=function(){},i(n,null,[{key:"instance",get:function(){return this._getInstance(n,o)}}]),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/fguiGesture.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./util3.ts"],(function(t){var i,e,o,s,n,h,u,c,r;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,o=t.input,s=t.Input},function(t){n=t.GRoot,h=t.Event},function(t){u=t.default,c=t.updater,r=t.Emitter}],execute:function(){e._RF.push({},"8d4f4oU4PdAYqc2MKKynm5C","fguiGesture",void 0);t("default",function(){function t(){this.ev=new r(this),this.touchPrevPos=void 0,this.initialDistance=0,this.touchStartTime=0,this.longTouchThreshold=1e3,this.isDown=!1,n.inst.on(h.TOUCH_BEGIN,this.onTouchStart,this),n.inst.on(h.TOUCH_END,this.onTouchEnd,this),n.inst.on(h.TOUCH_MOVE,this.onTouchMove,this),n.inst.on(h.MOUSE_WHEEL,this.onMouseWheel,this),o.on(s.EventType.KEY_DOWN,this.onKeyDown,this)}var e=t.prototype;return e.onKeyDown=function(t){this.ev.emit("key",t.keyCode)},e.onMouseWheel=function(t){this.ev.emit("zoom",t.mouseWheelDelta)},e.onTouchStart=function(t){var i=this,e=this.touches;this.touchStartTime=(new Date).getTime();var o=e.length;if(1==this.touches.length)this.ev.emit("touch",t.pos),this.touchPrevPos=t.pos.clone();else if(2==o){var s=this.touches[0].pos,n=this.touches[0].pos;this.initialDistance=u.distanceObject(s,n)}this.isDown=!0,c((function(){return!i.isDown||(i.touches.length>1||void((new Date).getTime()-i.touchStartTime>i.longTouchThreshold&&(i.ev.emit("hold"),i.isDown=!1)))}))},e.onTouchMove=function(t){if(this.touchStartTime){var i=this.touches;if(2===i.length){var e=i[0].pos,o=i[1].pos,s=u.distanceObject(e,o);if(0!==this.initialDistance){var n=s-this.initialDistance;this.initialDistance=s,this.ev.emit("zoom",n)}else this.initialDistance=s}else if(1===i.length){var h=t.pos.clone().subtract(this.touchPrevPos);if(h.length()<1)return;this.touchPrevPos=t.pos.clone(),this.ev.emit("pan",h),this.ev.emit("untouch"),this.isDown=!1}}},e.onTouchEnd=function(t){this.isDown&&(this.ev.emit("untouch"),this.isDown=!1),this.ev.emit("off"),this.touchPrevPos=null,this.initialDistance=0,this.touchStartTime=0},i(t,[{key:"root",get:function(){return n.inst}},{key:"touches",get:function(){return n.inst.inputProcessor._touches.filter((function(t){return t.began}))}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/fguiGesture2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./util2.ts"],(function(t){var i,e,o,s,n,h,u,c,r;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,o=t.input,s=t.Input},function(t){n=t.GRoot,h=t.Event},function(t){u=t.default,c=t.updater,r=t.Emitter}],execute:function(){e._RF.push({},"10c3fHlRtxP1qSzr+ChfI+h","fguiGesture",void 0);t("default",function(){function t(){this.ev=new r(this),this.touchPrevPos=void 0,this.initialDistance=0,this.touchStartTime=0,this.longTouchThreshold=1e3,this.isDown=!1,n.inst.on(h.TOUCH_BEGIN,this.onTouchStart,this),n.inst.on(h.TOUCH_END,this.onTouchEnd,this),n.inst.on(h.TOUCH_MOVE,this.onTouchMove,this),n.inst.on(h.MOUSE_WHEEL,this.onMouseWheel,this),o.on(s.EventType.KEY_DOWN,this.onKeyDown,this)}var e=t.prototype;return e.onKeyDown=function(t){this.ev.emit("key",t.keyCode)},e.onMouseWheel=function(t){this.ev.emit("zoom",t.mouseWheelDelta)},e.onTouchStart=function(t){var i=this,e=this.touches;this.touchStartTime=(new Date).getTime();var o=e.length;if(1==this.touches.length)this.ev.emit("touch",t.pos),this.touchPrevPos=t.pos.clone();else if(2==o){var s=this.touches[0].pos,n=this.touches[0].pos;this.initialDistance=u.distanceObject(s,n)}this.isDown=!0,c((function(){return!i.isDown||(i.touches.length>1||void((new Date).getTime()-i.touchStartTime>i.longTouchThreshold&&(i.ev.emit("hold"),i.isDown=!1)))}))},e.onTouchMove=function(t){if(this.touchStartTime){var i=this.touches;if(2===i.length){var e=i[0].pos,o=i[1].pos,s=u.distanceObject(e,o);if(0!==this.initialDistance){var n=s-this.initialDistance;this.initialDistance=s,this.ev.emit("zoom",n)}else this.initialDistance=s}else if(1===i.length){var h=t.pos.clone().subtract(this.touchPrevPos);if(h.length()<1)return;this.touchPrevPos=t.pos.clone(),this.ev.emit("pan",h),this.ev.emit("untouch"),this.isDown=!1}}},e.onTouchEnd=function(t){this.isDown&&(this.ev.emit("untouch"),this.isDown=!1),this.ev.emit("off"),this.touchPrevPos=null,this.initialDistance=0,this.touchStartTime=0},i(t,[{key:"root",get:function(){return n.inst}},{key:"touches",get:function(){return n.inst.inputProcessor._touches.filter((function(t){return t.began}))}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/fguiGesture22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./util22.ts"],(function(t){var i,e,o,s,n,h,u,c,r;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,o=t.input,s=t.Input},function(t){n=t.GRoot,h=t.Event},function(t){u=t.default,c=t.updater,r=t.Emitter}],execute:function(){e._RF.push({},"7bec4e/MoFJ1JmkdsZaOLvP","fguiGesture2",void 0);t("default",function(){function t(){this.ev=new r(this),this.touchPrevPos=void 0,this.initialDistance=0,this.touchStartTime=0,this.longTouchThreshold=1e3,this.isDown=!1,n.inst.on(h.TOUCH_BEGIN,this.onTouchStart,this),n.inst.on(h.TOUCH_END,this.onTouchEnd,this),n.inst.on(h.TOUCH_MOVE,this.onTouchMove,this),n.inst.on(h.MOUSE_WHEEL,this.onMouseWheel,this),o.on(s.EventType.KEY_DOWN,this.onKeyDown,this)}var e=t.prototype;return e.onKeyDown=function(t){this.ev.emit("key",t.keyCode)},e.onMouseWheel=function(t){this.ev.emit("zoom",t.mouseWheelDelta)},e.onTouchStart=function(t){var i=this,e=this.touches;this.touchStartTime=(new Date).getTime();var o=e.length;if(1==this.touches.length)this.ev.emit("touch",t.pos),this.touchPrevPos=t.pos.clone();else if(2==o){var s=this.touches[0].pos,n=this.touches[0].pos;this.initialDistance=u.distanceObject(s,n)}this.isDown=!0,c((function(){return!i.isDown||(i.touches.length>1||void((new Date).getTime()-i.touchStartTime>i.longTouchThreshold&&(i.ev.emit("hold"),i.isDown=!1)))}))},e.onTouchMove=function(t){if(this.touchStartTime){var i=this.touches;if(2===i.length){var e=i[0].pos,o=i[1].pos,s=u.distanceObject(e,o);if(0!==this.initialDistance){var n=s-this.initialDistance;this.initialDistance=s,this.ev.emit("zoom",n)}else this.initialDistance=s}else if(1===i.length){var h=t.pos.clone().subtract(this.touchPrevPos);if(h.length()<1)return;this.touchPrevPos=t.pos.clone(),this.ev.emit("pan",h),this.ev.emit("untouch"),this.isDown=!1}}},e.onTouchEnd=function(t){this.isDown&&(this.ev.emit("untouch"),this.isDown=!1),this.ev.emit("off"),this.touchPrevPos=null,this.initialDistance=0,this.touchStartTime=0},i(t,[{key:"root",get:function(){return n.inst}},{key:"touches",get:function(){return n.inst.inputProcessor._touches.filter((function(t){return t.began}))}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/fguiGesture3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./Emitter.ts","./util.ts"],(function(t){var i,o,e,s,n,h,u,c,r;return{setters:[function(t){i=t.createClass},function(t){o=t.cclegacy,e=t.input,s=t.Input},function(t){n=t.Event,h=t.GRoot},function(t){u=t.Emitter},function(t){c=t.default,r=t.updater}],execute:function(){o._RF.push({},"b5d22q1eDRNaKicno4XkRYZ","fguiGesture",void 0);t("default",function(){function t(t){void 0===t&&(t=h.inst),this.ev=new u(this),this.touchPrevPos=void 0,this.initialDistance=0,this.touchStartTime=0,this.longTouchThreshold=500,this.isDown=!1,this.downPos=void 0,this.curPos=void 0,this.touchDur=0,this.root=t,this.root.on(n.TOUCH_BEGIN,this.onTouchStart,this),this.root.on(n.TOUCH_END,this.onTouchEnd,this),this.root.on(n.TOUCH_MOVE,this.onTouchMove,this),this.root.on(n.MOUSE_WHEEL,this.onMouseWheel,this),e.on(s.EventType.KEY_DOWN,this.onKeyDown,this)}var o=t.prototype;return o.onKeyDown=function(t){this.ev.emit("key",t.keyCode)},o.onMouseWheel=function(t){this.ev.emit("zoom",t.mouseWheelDelta)},o.onTouchStart=function(t){var i=this;this.downPos=t.pos.clone(),this.curPos=t.pos.clone();var o=this.touches;this.touchStartTime=(new Date).getTime();var e=o.length;if(1==this.touches.length)this.ev.emit("touch",t.pos),this.touchPrevPos=t.pos.clone();else if(2==e){var s=this.touches[0].pos,n=this.touches[0].pos;this.initialDistance=c.distanceObject(s,n)}this.isDown=!0,r((function(){if(!i.isDown)return!0;if(i.touches.length>1)return!0;var t=(new Date).getTime()-i.touchStartTime;i.touchDur=t,t>i.longTouchThreshold&&i.ev.emit("hold")}))},o.onTouchMove=function(t){if(this.curPos=t.pos.clone(),this.touchStartTime){var i=this.touches;if(2===i.length){var o=i[0].pos,e=i[1].pos,s=c.distanceObject(o,e);if(0!==this.initialDistance){var n=s-this.initialDistance;this.initialDistance=s,this.ev.emit("zoom",n)}else this.initialDistance=s}else if(1===i.length){var h=t.pos.clone().subtract(this.touchPrevPos);if(h.length()<1)return;this.touchPrevPos=t.pos.clone(),this.ev.emit("pan",h),this.ev.emit("untouch"),this.isDown=!1}}},o.onTouchEnd=function(t){this.isDown&&(this.ev.emit("untouch"),this.isDown=!1),this.ev.emit("off"),this.touchPrevPos=null,this.initialDistance=0,this.touchStartTime=0},i(t,[{key:"touches",get:function(){return h.inst.inputProcessor._touches.filter((function(t){return t.began}))}}]),t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/fguiPatch.ts",["cc","./fairygui.mjs","./YT.ts"],(function(t){var o,e,n,r,i,p,a,s;return{setters:[function(t){o=t.cclegacy,e=t.TweenAction},function(t){n=t.GLoader3D,r=t.GButton,i=t.Event,p=t.GObject,a=t.GComponent},function(t){s=t.YT}],execute:function(){o._RF.push({},"afdd1f+6ZdIoqJRmiOpkFhl","fguiPatch",void 0);t("patchAll",(function(){var t=n.prototype.dispose;n.prototype.dispose=function(){this.url=null,this.freeSpine(),t.call(this)};var o=r.prototype.constructExtension;r.prototype.constructExtension=function(t){o.call(this,t),this._node.on(i.CLICK,(function(){s.audio.play("touch")}))},console.log("patch all");p.prototype.findParent;p.prototype.findParent=function(){if(!this._node)return null;if(this._parent)return this._parent;for(var t=this._node.parent;t;){var o=t.$gobj;if(o)return o;t=t.parent}return null};var c=p.prototype.setScale;p.prototype.setScale=function(t,o){this._node&&c.call(this,t,o)};var u=a.prototype.removeChildren;a.prototype.removeChildren=function(t,o,e){null==e&&(e=!0),u.call(this,t,o,e)},console.warn("path gobj");var l=e.prototype.update;e.prototype.update=function(t){this.target instanceof p&&this.target.isDisposed||l.call(this,t)};var h=e.prototype.startWithTarget;e.prototype.startWithTarget=function(t){t instanceof p&&t.isDisposed||h.call(this,t)}}));o._RF.pop()}}}));

System.register("chunks:///_virtual/fguiPatch2.ts",["cc","./fairygui.mjs","./YT.ts","./util.ts"],(function(t){var e,o,n,r,i,a,s,p,c,u,l,h,d,f,y,v,g;return{setters:[function(t){e=t.cclegacy,o=t.Component,n=t.macro,r=t.TweenAction,i=t.director},function(t){a=t.GTextField,s=t.GRichTextField,p=t.GLoader3D,c=t.GButton,u=t.Event,l=t.GObject,h=t.GComponent,d=t.GTween,f=t.GRoot,y=t.ScrollPane},function(t){v=t.YT},function(t){g=t.default}],execute:function(){e._RF.push({},"df6efVmlEZOtoqFTzxYPrT7","fguiPatch",void 0);t("patchAll",(function(){var t=Object.getOwnPropertyDescriptor(a.prototype,"text").set;Object.getOwnPropertyDescriptor(a.prototype,"text").get;Object.defineProperty(s.prototype,"text",{get:t,set:function(t){g.setRichText(this,t,{stroke:2}),null==this._text&&(this._text=""),this.updateGear(6),this.markSizeChanged(),this.updateText()}});var e=p.prototype.dispose;p.prototype.dispose=function(){this.url=null,this.freeSpine(),e.call(this)};var m=c.prototype.constructExtension;c.prototype.constructExtension=function(t){m.call(this,t),this._node.on(u.CLICK,(function(){v.audio.play("click")}))},console.log("patch all");l.prototype.findParent;l.prototype.findParent=function(){if(!this._node)return null;if(this._parent)return this._parent;for(var t=this._node.parent;t;){var e=t.$gobj;if(e)return e;t=t.parent}return null};var x=l.prototype.setScale;l.prototype.setScale=function(t,e){this._node&&x.call(this,t,e)};var T=h.prototype.removeChildren;h.prototype.removeChildren=function(t,e,o){null==o&&(o=!0),T.call(this,t,e,o)},console.warn("path gobj");var _=o.prototype.schedule;o.prototype.schedule=function(t,e,o,r){return void 0===e&&(e=0),void 0===o&&(o=n.REPEAT_FOREVER),void 0===r&&(r=0),_.call(this,t,e,o,r)};var P=r.prototype.update;r.prototype.update=function(t){this.target instanceof l&&this.target.isDisposed||P.call(this,t)};var C=r.prototype.startWithTarget;r.prototype.startWithTarget=function(t){t instanceof l&&t.isDisposed||C.call(this,t)};var E=Date.now();requestAnimationFrame((function t(){var e=.001*(Date.now()-E);E=Date.now(),i.isPaused()&&(d.update(e),f.inst.node.getComponentsInChildren(y).forEach((function(t){t.update(e)}))),requestAnimationFrame(t)}))}));e._RF.pop()}}}));

System.register("chunks:///_virtual/fguiPatch22.ts",["cc","./fairygui.mjs","./YT.ts"],(function(t){var o,e,n,i,r,a,p,s;return{setters:[function(t){o=t.cclegacy,e=t.TweenAction},function(t){n=t.GLoader3D,i=t.GButton,r=t.Event,a=t.GObject,p=t.GComponent},function(t){s=t.YT}],execute:function(){o._RF.push({},"b567dQBUyRLipcZWa+THi8L","fguiPatch2",void 0);t("patchAll",(function(){var t=n.prototype.dispose;n.prototype.dispose=function(){this.url=null,this.freeSpine(),t.call(this)};var o=i.prototype.constructExtension;i.prototype.constructExtension=function(t){o.call(this,t),this._node.on(r.CLICK,(function(){s.audio.playByName("touch")}))},console.log("patch all");a.prototype.findParent;a.prototype.findParent=function(){if(!this._node)return null;if(this._parent)return this._parent;for(var t=this._node.parent;t;){var o=t.$gobj;if(o)return o;t=t.parent}return null};var c=a.prototype.setScale;a.prototype.setScale=function(t,o){this._node&&c.call(this,t,o)};var u=p.prototype.removeChildren;p.prototype.removeChildren=function(t,o,e){null==e&&(e=!0),u.call(this,t,o,e)},console.warn("path gobj");var l=e.prototype.update;e.prototype.update=function(t){this.target instanceof a&&this.target.isDisposed||l.call(this,t)};var h=e.prototype.startWithTarget;e.prototype.startWithTarget=function(t){t instanceof a&&t.isDisposed||h.call(this,t)}}));o._RF.pop()}}}));

System.register("chunks:///_virtual/fguiPatch3.ts",["cc","./fairygui.mjs","./YT.ts"],(function(t){var o,e,n,r,i,a,p,s;return{setters:[function(t){o=t.cclegacy,e=t.TweenAction},function(t){n=t.GLoader3D,r=t.GButton,i=t.Event,a=t.GObject,p=t.GComponent},function(t){s=t.YT}],execute:function(){o._RF.push({},"f59f8owHFlFaqSTUPlyFzXP","fguiPatch",void 0);t("patchAll",(function(){var t=n.prototype.dispose;n.prototype.dispose=function(){this.url=null,this.freeSpine(),t.call(this)};var o=r.prototype.constructExtension;r.prototype.constructExtension=function(t){o.call(this,t),this._node.on(i.CLICK,(function(){s.audio.playByName("touch")}))},console.log("patch all");a.prototype.findParent;a.prototype.findParent=function(){if(!this._node)return null;if(this._parent)return this._parent;for(var t=this._node.parent;t;){var o=t.$gobj;if(o)return o;t=t.parent}return null};var c=a.prototype.setScale;a.prototype.setScale=function(t,o){this._node&&c.call(this,t,o)};var u=p.prototype.removeChildren;p.prototype.removeChildren=function(t,o,e){null==e&&(e=!0),u.call(this,t,o,e)},console.warn("path gobj");var l=e.prototype.update;e.prototype.update=function(t){this.target instanceof a&&this.target.isDisposed||l.call(this,t)};var f=e.prototype.startWithTarget;e.prototype.startWithTarget=function(t){t instanceof a&&t.isDisposed||f.call(this,t)}}));o._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst.ts"],(function(t){var e,i,o,n,s,r,a,c,p,l,h,_,u,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,c=t.Sprite,p=t.Vec3,l=t.Component},function(t){h=t.ViewUtil},function(t){_=t.UIHelper},function(t){u=t.ZD_RES_PREFABS,d=t.ZD_BUNDLE,f=t.PD_CFG}],execute:function(){var m,y,v,g,F;r._RF.push({},"3773eH27v9JVJydRfTinuDl","FlyWeaponCmp",void 0);var P=a.ccclass,R=a.property;t("FlyWeaponCmp",(m=P("FlyWeaponCmp"),y=R({type:c,displayName:"图标",visible:!0}),m((F=e((g=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"_iconSpr",F,n(e)),e._waitRemove=void 0,e._dir=void 0,e._time=void 0,e._pos=new p,e}i(e,t),e.Create=function(){var t=h.createPrefabNode(u.FLY_WEAPON,d).getComponent(e);return t._init(),t};var r=e.prototype;return r._init=function(){this._dir={x:0,y:0}},r.startFly=function(t,e){this._dir.x=t,this._dir.y=e,this._time=f.FLY.TM},r.logicUpdate=function(t){this._waitRemove||this._time<=0||(this.node.angle+=t*f.FLY.ROTATION,this._pos.x+=t*this._dir.x*f.FLY.SPEED,this._pos.y+=t*this._dir.y*f.FLY.SPEED,this.node.setWorldPosition(this._pos),this._time-=t,this._time<=0&&(this._waitRemove=!0))},r.addTo=function(t){this.node.parent=t,this._waitRemove=!1,this.node.angle=0},r.remove=function(){this.node.removeFromParent()},r.changeRes=function(t){_.changeSpriteFrame(t,d,this._iconSpr)},r.setPos=function(t){this._pos.set(t),this.node.setWorldPosition(this._pos)},r.setPos2f=function(t,e){this._pos.set(t,e),this.node.setWorldPosition(this._pos)},r.getPos=function(t){this.node.getWorldPosition(this._pos),t.set(this._pos)},r.setAngle=function(t){this.node.angle=t},r.getAngle=function(){return this.node.angle},s(e,[{key:"waitRemove",get:function(){return this._waitRemove}}]),e}(l)).prototype,"_iconSpr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWeaponConfig3.ts","./ViewUtil.ts","./UIHelper.ts","./ZDConst3.ts","./ZDGameState3.ts"],(function(t){var e,i,o,n,s,r,a,p,c,_,h,l,d,u,f,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,p=t.Sprite,c=t.Vec3,_=t.Component},function(t){h=t.ZdWeaponConfig},function(t){l=t.ViewUtil},function(t){d=t.UIHelper},function(t){u=t.ZD_RES_PREFABS,f=t.ZD_BUNDLE,m=t.PD_CFG},function(t){y=t.ZDGameState3}],execute:function(){var g,v,P,F,D;r._RF.push({},"d4d46cq8u9Lqaq/Q3AtPHPC","FlyWeaponCmp3",void 0);var w=a.ccclass,C=a.property;t("FlyWeaponCmp3",(g=w("FlyWeaponCmp3"),v=C({type:p,displayName:"图标",visible:!0}),g((D=e((F=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"_iconSpr",D,n(e)),e._waitRemove=void 0,e._dir=void 0,e._weaponId=0,e._time=void 0,e._isDelete=!1,e._pos=new c,e}i(e,t),e.Create=function(){var t=l.createPrefabNode(u.FLY_WEAPON,f).getComponent(e);return t._init(),t};var r=e.prototype;return r._init=function(){this._dir={x:0,y:0}},r.startFly=function(t,e,i){this._dir.x=t,this._dir.y=e,this._time=m.FLY.TM,this._isDelete=i},r.logicUpdate=function(t){if(!this._waitRemove&&!(this._time<=0)&&(this.node.angle+=t*m.FLY.ROTATION,this._pos.x+=t*this._dir.x*m.FLY.SPEED,this._pos.y+=t*this._dir.y*m.FLY.SPEED,this.node.setWorldPosition(this._pos),this._time-=t,this._time<=0&&(this._waitRemove=!0,!this._isDelete))){var e=h.data[this._weaponId];e&&y.runtime.control.dropProp(e.prop_id,this._pos.x,this._pos.y,!0)}},r.addTo=function(t){this.node.parent=t,this._waitRemove=!1,this.node.angle=0},r.remove=function(){this.node.removeFromParent()},r.changeRes=function(t,e){this._weaponId=t,d.changeSpriteFrame(e,f,this._iconSpr)},r.setPos=function(t){this._pos.set(t),this.node.setWorldPosition(this._pos)},r.setPos2f=function(t,e){this._pos.set(t,e),this.node.setWorldPosition(this._pos)},r.getPos=function(t){this.node.getWorldPosition(this._pos),t.set(this._pos)},r.setAngle=function(t){this.node.angle=t},r.getAngle=function(){return this.node.angle},s(e,[{key:"waitRemove",get:function(){return this._waitRemove}}]),e}(_)).prototype,"_iconSpr",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=F))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst4.ts"],(function(t){var e,i,o,n,s,r,a,c,p,l,h,_,u,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,c=t.Sprite,p=t.Vec3,l=t.Component},function(t){h=t.ViewUtil},function(t){_=t.UIHelper},function(t){u=t.ZD_RES_PREFABS,d=t.ZD_BUNDLE,f=t.PD_CFG}],execute:function(){var m,y,g,v,F;r._RF.push({},"28100dgDQZJa6QzME5sS/FF","FlyWeaponCmp4",void 0);var P=a.ccclass,R=a.property;t("FlyWeaponCmp4",(m=P("FlyWeaponCmp4"),y=R({type:c,displayName:"图标",visible:!0}),m((F=e((v=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"_iconSpr",F,n(e)),e._waitRemove=void 0,e._dir=void 0,e._time=void 0,e._pos=new p,e}i(e,t),e.Create=function(){var t=h.createPrefabNode(u.FLY_WEAPON,d).getComponent(e);return t._init(),t};var r=e.prototype;return r._init=function(){this._dir={x:0,y:0}},r.startFly=function(t,e){this._dir.x=t,this._dir.y=e,this._time=f.FLY.TM},r.logicUpdate=function(t){this._waitRemove||this._time<=0||(this.node.angle+=t*f.FLY.ROTATION,this._pos.x+=t*this._dir.x*f.FLY.SPEED,this._pos.y+=t*this._dir.y*f.FLY.SPEED,this.node.setWorldPosition(this._pos),this._time-=t,this._time<=0&&(this._waitRemove=!0))},r.addTo=function(t){this.node.parent=t,this._waitRemove=!1,this.node.angle=0},r.remove=function(){this.node.removeFromParent()},r.changeRes=function(t){_.changeSpriteFrame(t,d,this._iconSpr)},r.setPos=function(t){this._pos.set(t),this.node.setWorldPosition(this._pos)},r.setPos2f=function(t,e){this._pos.set(t,e),this.node.setWorldPosition(this._pos)},r.getPos=function(t){this.node.getWorldPosition(this._pos),t.set(this._pos)},r.setAngle=function(t){this.node.angle=t},r.getAngle=function(){return this.node.angle},s(e,[{key:"waitRemove",get:function(){return this._waitRemove}}]),e}(l)).prototype,"_iconSpr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst5.ts"],(function(t){var e,i,o,n,s,r,a,c,p,l,h,_,u,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,c=t.Sprite,p=t.Vec3,l=t.Component},function(t){h=t.ViewUtil},function(t){_=t.UIHelper},function(t){u=t.ZD_RES_PREFABS,d=t.ZD_BUNDLE,f=t.PD_CFG}],execute:function(){var m,y,g,v,F;r._RF.push({},"68490CXs3BIbrRYUgNy+B9k","FlyWeaponCmp5",void 0);var P=a.ccclass,R=a.property;t("FlyWeaponCmp5",(m=P("FlyWeaponCmp5"),y=R({type:c,displayName:"图标",visible:!0}),m((F=e((v=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"_iconSpr",F,n(e)),e._waitRemove=void 0,e._dir=void 0,e._time=void 0,e._pos=new p,e}i(e,t),e.Create=function(){var t=h.createPrefabNode(u.FLY_WEAPON,d).getComponent(e);return t._init(),t};var r=e.prototype;return r._init=function(){this._dir={x:0,y:0}},r.startFly=function(t,e){this._dir.x=t,this._dir.y=e,this._time=f.FLY.TM},r.logicUpdate=function(t){this._waitRemove||this._time<=0||(this.node.angle+=t*f.FLY.ROTATION,this._pos.x+=t*this._dir.x*f.FLY.SPEED,this._pos.y+=t*this._dir.y*f.FLY.SPEED,this.node.setWorldPosition(this._pos),this._time-=t,this._time<=0&&(this._waitRemove=!0))},r.addTo=function(t){this.node.parent=t,this._waitRemove=!1,this.node.angle=0},r.remove=function(){this.node.removeFromParent()},r.changeRes=function(t){_.changeSpriteFrame(t,d,this._iconSpr)},r.setPos=function(t){this._pos.set(t),this.node.setWorldPosition(this._pos)},r.setPos2f=function(t,e){this._pos.set(t,e),this.node.setWorldPosition(this._pos)},r.getPos=function(t){this.node.getWorldPosition(this._pos),t.set(this._pos)},r.setAngle=function(t){this.node.angle=t},r.getAngle=function(){return this.node.angle},s(e,[{key:"waitRemove",get:function(){return this._waitRemove}}]),e}(l)).prototype,"_iconSpr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst6.ts"],(function(t){var e,i,o,n,s,r,a,p,c,l,h,_,u,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,p=t.Sprite,c=t.Vec3,l=t.Component},function(t){h=t.ViewUtil},function(t){_=t.UIHelper},function(t){u=t.ZD_RES_PREFABS,d=t.ZD_BUNDLE,f=t.PD_CFG}],execute:function(){var m,y,v,g,P;r._RF.push({},"59268JEKkpCQb9PIm+7Sbzq","FlyWeaponCmp6",void 0);var F=a.ccclass,R=a.property;t("FlyWeaponCmp6",(m=F("FlyWeaponCmp6"),y=R({type:p,displayName:"图标",visible:!0}),m((P=e((g=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"_iconSpr",P,n(e)),e._waitRemove=void 0,e._dir=void 0,e._time=void 0,e._pos=new c,e}i(e,t),e.Create=function(){var t=h.createPrefabNode(u.FLY_WEAPON,d).getComponent(e);return t._init(),t};var r=e.prototype;return r._init=function(){this._dir={x:0,y:0}},r.startFly=function(t,e){this._dir.x=t,this._dir.y=e,this._time=f.FLY.TM},r.logicUpdate=function(t){this._waitRemove||this._time<=0||(this.node.angle+=t*f.FLY.ROTATION,this._pos.x+=t*this._dir.x*f.FLY.SPEED,this._pos.y+=t*this._dir.y*f.FLY.SPEED,this.node.setWorldPosition(this._pos),this._time-=t,this._time<=0&&(this._waitRemove=!0))},r.addTo=function(t){this.node.parent=t,this._waitRemove=!1,this.node.angle=0},r.remove=function(){this.node.removeFromParent()},r.changeRes=function(t){_.changeSpriteFrame(t,d,this._iconSpr)},r.setPos=function(t){this._pos.set(t),this.node.setWorldPosition(this._pos)},r.setPos2f=function(t,e){this._pos.set(t,e),this.node.setWorldPosition(this._pos)},r.getPos=function(t){this.node.getWorldPosition(this._pos),t.set(this._pos)},r.setAngle=function(t){this.node.angle=t},r.getAngle=function(){return this.node.angle},s(e,[{key:"waitRemove",get:function(){return this._waitRemove}}]),e}(l)).prototype,"_iconSpr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponMgr.ts",["cc","./FlyWeaponCmp.ts","./ZDResUtils.ts","./ZDGameState.ts"],(function(t){var e,o,n,s;return{setters:[function(t){e=t.cclegacy},function(t){o=t.FlyWeaponCmp},function(t){n=t.ZDResUtils},function(t){s=t.ZDGameState}],execute:function(){e._RF.push({},"06b85iheMNL/KmoUOirymFG","FlyWeaponMgr",void 0);t("FlyWeaponMgr",function(){function t(){this._pool=void 0,this._runItems=void 0,this._pool=[],this._runItems=[]}var e=t.prototype;return e.update=function(t){for(var e,o=0,n=this._runItems.length;o<n;++o)(e=this._runItems[o]).logicUpdate(t),e.waitRemove&&(this._runItems.splice(o,1),this._collectItem(e),o--,n--)},e.show=function(t,e,o,s,i){var r=this._getItem(),u=n.fullWeaponModelRes(t);r.changeRes(u),r.setPos2f(e,o),this._runItems.push(r),r.startFly(s,i)},e._getItem=function(){var t=this._pool.shift();return t||(t=o.Create()),t.addTo(s.runtime.ui.weaponRoot),t},e._collectItem=function(t){t.remove(),this._pool.push(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponMgr3.ts",["cc","./FlyWeaponCmp3.ts","./ZDResUtils3.ts","./ZDGameState3.ts"],(function(t){var e,o,n,s;return{setters:[function(t){e=t.cclegacy},function(t){o=t.FlyWeaponCmp3},function(t){n=t.ZDResUtils3},function(t){s=t.ZDGameState3}],execute:function(){e._RF.push({},"cb2d5f9S0VFNI/aDlRHAJZj","FlyWeaponMgr3",void 0);t("FlyWeaponMgr3",function(){function t(){this._pool=void 0,this._runItems=void 0,this._pool=[],this._runItems=[]}var e=t.prototype;return e.update=function(t){for(var e,o=0,n=this._runItems.length;o<n;++o)(e=this._runItems[o]).logicUpdate(t),e.waitRemove&&(this._runItems.splice(o,1),this._collectItem(e),o--,n--)},e.show=function(t,e,o,s,i,u,r){var c=this._getItem(),a=n.fullWeaponModelRes(e);c.changeRes(t,a),c.setPos2f(o,s),this._runItems.push(c),c.startFly(i,u,r)},e._getItem=function(){var t=this._pool.shift();return t||(t=o.Create()),t.addTo(s.runtime.ui.weaponRoot),t},e._collectItem=function(t){t.remove(),this._pool.push(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponMgr4.ts",["cc","./FlyWeaponCmp4.ts","./ZDResUtils4.ts","./ZDGameState4.ts"],(function(t){var e,o,n,s;return{setters:[function(t){e=t.cclegacy},function(t){o=t.FlyWeaponCmp4},function(t){n=t.ZDResUtils},function(t){s=t.ZDGameState4}],execute:function(){e._RF.push({},"063efM91oJBRKuF9oQseoxb","FlyWeaponMgr4",void 0);t("FlyWeaponMgr",function(){function t(){this._pool=void 0,this._runItems=void 0,this._pool=[],this._runItems=[]}var e=t.prototype;return e.update=function(t){for(var e,o=0,n=this._runItems.length;o<n;++o)(e=this._runItems[o]).logicUpdate(t),e.waitRemove&&(this._runItems.splice(o,1),this._collectItem(e),o--,n--)},e.show=function(t,e,o,s,i){var u=this._getItem(),r=n.fullWeaponModelRes(t);u.changeRes(r),u.setPos2f(e,o),this._runItems.push(u),u.startFly(s,i)},e._getItem=function(){var t=this._pool.shift();return t||(t=o.Create()),t.addTo(s.runtime.ui.weaponRoot),t},e._collectItem=function(t){t.remove(),this._pool.push(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponMgr5.ts",["cc","./FlyWeaponCmp5.ts","./ZDResUtils5.ts","./ZDGameState5.ts"],(function(t){var e,o,n,s;return{setters:[function(t){e=t.cclegacy},function(t){o=t.FlyWeaponCmp5},function(t){n=t.ZDResUtils},function(t){s=t.ZDGameState5}],execute:function(){e._RF.push({},"dc65cAPRc5HSqj3WPNFUkah","FlyWeaponMgr5",void 0);t("FlyWeaponMgr",function(){function t(){this._pool=void 0,this._runItems=void 0,this._pool=[],this._runItems=[]}var e=t.prototype;return e.update=function(t){for(var e,o=0,n=this._runItems.length;o<n;++o)(e=this._runItems[o]).logicUpdate(t),e.waitRemove&&(this._runItems.splice(o,1),this._collectItem(e),o--,n--)},e.show=function(t,e,o,s,i){var u=this._getItem(),r=n.fullWeaponModelRes(t);u.changeRes(r),u.setPos2f(e,o),this._runItems.push(u),u.startFly(s,i)},e._getItem=function(){var t=this._pool.shift();return t||(t=o.Create()),t.addTo(s.runtime.ui.weaponRoot),t},e._collectItem=function(t){t.remove(),this._pool.push(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FlyWeaponMgr6.ts",["cc","./FlyWeaponCmp6.ts","./ZDResUtils6.ts","./ZDGameState6.ts"],(function(t){var e,o,n,s;return{setters:[function(t){e=t.cclegacy},function(t){o=t.FlyWeaponCmp6},function(t){n=t.ZDResUtils},function(t){s=t.ZDGameState6}],execute:function(){e._RF.push({},"c42e2lhRo1LPpbm2nZ7hyxx","FlyWeaponMgr6",void 0);t("FlyWeaponMgr",function(){function t(){this._pool=void 0,this._runItems=void 0,this._pool=[],this._runItems=[]}var e=t.prototype;return e.update=function(t){for(var e,o=0,n=this._runItems.length;o<n;++o)(e=this._runItems[o]).logicUpdate(t),e.waitRemove&&(this._runItems.splice(o,1),this._collectItem(e),o--,n--)},e.show=function(t,e,o,s,i){var u=this._getItem(),r=n.fullWeaponModelRes(t);u.changeRes(r),u.setPos2f(e,o),this._runItems.push(u),u.startFly(s,i)},e._getItem=function(){var t=this._pool.shift();return t||(t=o.Create()),t.addTo(s.runtime.ui.weaponRoot),t},e._collectItem=function(t){t.remove(),this._pool.push(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Fog2RoleMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr2.ts","./ZDEnum.ts","./ZDGameState.ts"],(function(t){var e,o,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.RoleMgr},function(t){r=t.ERoleType},function(t){i=t.ZDGameState}],execute:function(){o._RF.push({},"5139bCwbfhKf7ynHbuePWOY","Fog2RoleMgr",void 0);t("Fog2RoleMgr",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n._roleUpdate=function(e){var o;t.prototype._roleUpdate.call(this,e);var n,i=0,u=this._runTimeData.roleMap[r.HeroAI];for(i=0,n=(u=this._runTimeData.roleMap[r.HeroAI]).length;i<n;++i)(o=u[i]).setActiveView(this._isCanActive(o))},n._isCanActive=function(t){return i.runtime.ui.isInPicture(t.pos)},o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/Fog2RoleMgr3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr3.ts","./ZDEnum3.ts","./ZDGameState3.ts"],(function(t){var e,o,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.RoleMgr3},function(t){r=t.ERoleType},function(t){i=t.ZDGameState3}],execute:function(){o._RF.push({},"2081dOz6MpK06fVNjJS9g7X","Fog2RoleMgr3",void 0);t("Fog2RoleMgr3",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n._roleUpdate=function(e){var o;t.prototype._roleUpdate.call(this,e);var n,i=0,u=this._runTimeData.roleMap[r.HeroAI];for(i=0,n=(u=this._runTimeData.roleMap[r.HeroAI]).length;i<n;++i)(o=u[i]).setActiveView(this._isCanActive(o))},n._isCanActive=function(t){return i.runtime.ui.isInPicture(t.pos)},o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/Fog2RoleMgr4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr4.ts","./ZDEnum4.ts","./ZDGameState4.ts"],(function(t){var e,o,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.RoleMgr},function(t){r=t.ERoleType},function(t){i=t.ZDGameState4}],execute:function(){o._RF.push({},"1e365zjSQhAzo1HCMD/cv9E","Fog2RoleMgr4",void 0);t("Fog2RoleMgr",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n._roleUpdate=function(e){var o;t.prototype._roleUpdate.call(this,e);var n,i=0,u=this._runTimeData.roleMap[r.HeroAI];for(i=0,n=(u=this._runTimeData.roleMap[r.HeroAI]).length;i<n;++i)(o=u[i]).setActiveView(this._isCanActive(o))},n._isCanActive=function(t){return i.runtime.ui.isInPicture(t.pos)},o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/Fog2RoleMgr5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr5.ts","./ZDEnum5.ts","./ZDGameState5.ts"],(function(t){var e,o,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.RoleMgr},function(t){r=t.ERoleType},function(t){i=t.ZDGameState5}],execute:function(){o._RF.push({},"bd700BRJk1ADYk6T5KAFmPL","Fog2RoleMgr5",void 0);t("Fog2RoleMgr",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n._roleUpdate=function(e){var o;t.prototype._roleUpdate.call(this,e);var n,i=0,u=this._runTimeData.roleMap[r.HeroAI];for(i=0,n=(u=this._runTimeData.roleMap[r.HeroAI]).length;i<n;++i)(o=u[i]).setActiveView(this._isCanActive(o))},n._isCanActive=function(t){return i.runtime.ui.isInPicture(t.pos)},o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/Fog2RoleMgr6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr6.ts","./ZDEnum6.ts","./ZDGameState6.ts"],(function(t){var e,o,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.RoleMgr},function(t){r=t.ERoleType},function(t){i=t.ZDGameState6}],execute:function(){o._RF.push({},"8c862T3zUBKB5oa/czElRYb","Fog2RoleMgr6",void 0);t("Fog2RoleMgr",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n._roleUpdate=function(e){var o;t.prototype._roleUpdate.call(this,e);var n,i=0,u=this._runTimeData.roleMap[r.HeroAI];for(i=0,n=(u=this._runTimeData.roleMap[r.HeroAI]).length;i<n;++i)(o=u[i]).setActiveView(this._isCanActive(o))},n._isCanActive=function(t){return i.runtime.ui.isInPicture(t.pos)},o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,h,r,a,o,_;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,s=t.Node,h=t.UITransform,r=t.Sprite,a=t.Texture2D,o=t.SpriteFrame,_=t.Rect}],execute:function(){e._RF.push({},"d8068xL+C5Ko613ahFrjzjh","FogBlock",void 0);t("FogBlock",function(){function t(t,i,e,s,h){this._width=void 0,this._height=void 0,this._pixelData=void 0,this._sprite=void 0,this._texture2d=void 0,this._dirty=void 0,this._bounds=void 0,this._node=void 0,this._width=t,this._height=i,this._dirty=!1,this._bounds=new _(h.x+e,h.y+s,t,i)}var e=t.prototype;return e.createData=function(t){var i=t.slice(0);this._pixelData=new Uint8Array(i)},e.createNode=function(t){var i=new s;i.layer=t;var e=i.addComponent(h);e.setAnchorPoint(0,0),e.setContentSize(this._width,this._height),this._sprite=i.addComponent(r),this._sprite.spriteAtlas=null,this._sprite.sizeMode=r.SizeMode.RAW,this._sprite.type=r.Type.SIMPLE,this._sprite.trim=!1,this._texture2d=new a,this._texture2d.reset({width:this._width,height:this._height,format:a.PixelFormat.RGBA8888}),this._texture2d.uploadData(this._pixelData);var _=new o;return _.texture=this._texture2d,_.packable=!1,this._sprite.spriteFrame=_,this._texture2d.setWrapMode(a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE),this._node=i,i},e.syncData=function(t){this._dirty&&(this._texture2d.uploadData(this._pixelData),this._dirty=!1),this._node.active=t.intersects(this._bounds)},e.clearFog=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=0,this._pixelData[e+1]=0,this._pixelData[e+2]=0,this._pixelData[e+3]=0,this._dirty=!0},e.clearFogBorder=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=101,this._pixelData[e+1]=135,this._pixelData[e+2]=23,this._pixelData[e+3]=255,this._dirty=!0},e.clearFogBorderByColor=function(t,i,e){var s=4*((this._height-i-1)*this._width+t);this._pixelData[s]=e.r,this._pixelData[s+1]=e.g,this._pixelData[s+2]=e.b,this._pixelData[s+3]=e.a,this._dirty=!0},e.clear=function(){this._sprite.node.removeFromParent(),this._texture2d.destroy()},i(t,[{key:"pixelData",get:function(){return this._pixelData}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlock3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,h,r,a,o,_;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,s=t.Node,h=t.UITransform,r=t.Sprite,a=t.Texture2D,o=t.SpriteFrame,_=t.Rect}],execute:function(){e._RF.push({},"2b85cSZ6SxJUJ5wgbBdX4GH","FogBlock3",void 0);t("FogBlock3",function(){function t(t,i,e,s){this._width=void 0,this._height=void 0,this._pixelData=void 0,this._sprite=void 0,this._texture2d=void 0,this._dirty=void 0,this._bounds=void 0,this._node=void 0,this._width=t,this._height=i,this._dirty=!1,this._bounds=new _(e,s,t,i)}var e=t.prototype;return e.createData=function(t){var i=t.slice(0);this._pixelData=new Uint8Array(i)},e.createNode=function(t){var i=new s;i.layer=t;var e=i.addComponent(h);e.setAnchorPoint(0,0),e.setContentSize(this._width,this._height),this._sprite=i.addComponent(r),this._sprite.spriteAtlas=null,this._sprite.sizeMode=r.SizeMode.RAW,this._sprite.type=r.Type.SIMPLE,this._sprite.trim=!1,this._texture2d=new a,this._texture2d.reset({width:this._width,height:this._height,format:a.PixelFormat.RGBA8888}),this._texture2d.uploadData(this._pixelData);var _=new o;return _.texture=this._texture2d,_.packable=!1,this._sprite.spriteFrame=_,this._texture2d.setWrapMode(a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE),this._node=i,i},e.syncData=function(t){this._dirty&&(this._texture2d.uploadData(this._pixelData),this._dirty=!1),this._node.active=t.intersects(this._bounds)},e.clearFog=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=0,this._pixelData[e+1]=0,this._pixelData[e+2]=0,this._pixelData[e+3]=0,this._dirty=!0},e.clearFogBorder=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=101,this._pixelData[e+1]=135,this._pixelData[e+2]=23,this._pixelData[e+3]=255,this._dirty=!0},e.clearFogBorderByColor=function(t,i,e){var s=4*((this._height-i-1)*this._width+t);this._pixelData[s]=e.r,this._pixelData[s+1]=e.g,this._pixelData[s+2]=e.b,this._pixelData[s+3]=e.a,this._dirty=!0},e.clear=function(){this._sprite.node.removeFromParent(),this._texture2d.destroy()},i(t,[{key:"pixelData",get:function(){return this._pixelData}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlock4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,r,h,a,o,_;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,s=t.Node,r=t.UITransform,h=t.Sprite,a=t.Texture2D,o=t.SpriteFrame,_=t.Rect}],execute:function(){e._RF.push({},"e675eEru9ZOFZWzNbAIYQMU","FogBlock4",void 0);t("FogBlock",function(){function t(t,i,e,s,r){this._width=void 0,this._height=void 0,this._pixelData=void 0,this._sprite=void 0,this._texture2d=void 0,this._dirty=void 0,this._bounds=void 0,this._node=void 0,this._width=t,this._height=i,this._dirty=!1,this._bounds=new _(r.x+e,r.y+s,t,i)}var e=t.prototype;return e.createData=function(t){var i=t.slice(0);this._pixelData=new Uint8Array(i)},e.createNode=function(t){var i=new s;i.layer=t;var e=i.addComponent(r);e.setAnchorPoint(0,0),e.setContentSize(this._width,this._height),this._sprite=i.addComponent(h),this._sprite.spriteAtlas=null,this._sprite.sizeMode=h.SizeMode.RAW,this._sprite.type=h.Type.SIMPLE,this._sprite.trim=!1,this._texture2d=new a,this._texture2d.reset({width:this._width,height:this._height,format:a.PixelFormat.RGBA8888}),this._texture2d.uploadData(this._pixelData);var _=new o;return _.texture=this._texture2d,_.packable=!1,this._sprite.spriteFrame=_,this._texture2d.setWrapMode(a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE),this._node=i,i},e.syncData=function(t){this._dirty&&(this._texture2d.uploadData(this._pixelData),this._dirty=!1),this._node.active=t.intersects(this._bounds)},e.clearFog=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=0,this._pixelData[e+1]=0,this._pixelData[e+2]=0,this._pixelData[e+3]=0,this._dirty=!0},e.clearFogBorder=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=101,this._pixelData[e+1]=135,this._pixelData[e+2]=23,this._pixelData[e+3]=255,this._dirty=!0},e.clearFogBorderByColor=function(t,i,e){var s=4*((this._height-i-1)*this._width+t);this._pixelData[s]=e.r,this._pixelData[s+1]=e.g,this._pixelData[s+2]=e.b,this._pixelData[s+3]=e.a,this._dirty=!0},e.clear=function(){this._sprite.node.removeFromParent(),this._texture2d.destroy()},i(t,[{key:"pixelData",get:function(){return this._pixelData}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlock5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,r,h,a,o,_;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,s=t.Node,r=t.UITransform,h=t.Sprite,a=t.Texture2D,o=t.SpriteFrame,_=t.Rect}],execute:function(){e._RF.push({},"def0drjXgROLoC57Pv0+XY0","FogBlock5",void 0);t("FogBlock",function(){function t(t,i,e,s,r){this._width=void 0,this._height=void 0,this._pixelData=void 0,this._sprite=void 0,this._texture2d=void 0,this._dirty=void 0,this._bounds=void 0,this._node=void 0,this._width=t,this._height=i,this._dirty=!1,this._bounds=new _(r.x+e,r.y+s,t,i)}var e=t.prototype;return e.createData=function(t){var i=t.slice(0);this._pixelData=new Uint8Array(i)},e.createNode=function(t){var i=new s;i.layer=t;var e=i.addComponent(r);e.setAnchorPoint(0,0),e.setContentSize(this._width,this._height),this._sprite=i.addComponent(h),this._sprite.spriteAtlas=null,this._sprite.sizeMode=h.SizeMode.RAW,this._sprite.type=h.Type.SIMPLE,this._sprite.trim=!1,this._texture2d=new a,this._texture2d.reset({width:this._width,height:this._height,format:a.PixelFormat.RGBA8888}),this._texture2d.uploadData(this._pixelData);var _=new o;return _.texture=this._texture2d,_.packable=!1,this._sprite.spriteFrame=_,this._texture2d.setWrapMode(a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE),this._node=i,i},e.syncData=function(t){this._dirty&&(this._texture2d.uploadData(this._pixelData),this._dirty=!1),this._node.active=t.intersects(this._bounds)},e.clearFog=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=0,this._pixelData[e+1]=0,this._pixelData[e+2]=0,this._pixelData[e+3]=0,this._dirty=!0},e.clearFogBorder=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=101,this._pixelData[e+1]=135,this._pixelData[e+2]=23,this._pixelData[e+3]=255,this._dirty=!0},e.clearFogBorderByColor=function(t,i,e){var s=4*((this._height-i-1)*this._width+t);this._pixelData[s]=e.r,this._pixelData[s+1]=e.g,this._pixelData[s+2]=e.b,this._pixelData[s+3]=e.a,this._dirty=!0},e.clear=function(){this._sprite.node.removeFromParent(),this._texture2d.destroy()},i(t,[{key:"pixelData",get:function(){return this._pixelData}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlock6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,h,r,a,o,_;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,s=t.Node,h=t.UITransform,r=t.Sprite,a=t.Texture2D,o=t.SpriteFrame,_=t.Rect}],execute:function(){e._RF.push({},"5095fHbTFJISJalRo/QCyk8","FogBlock6",void 0);t("FogBlock",function(){function t(t,i,e,s,h){this._width=void 0,this._height=void 0,this._pixelData=void 0,this._sprite=void 0,this._texture2d=void 0,this._dirty=void 0,this._bounds=void 0,this._node=void 0,this._width=t,this._height=i,this._dirty=!1,this._bounds=new _(h.x+e,h.y+s,t,i)}var e=t.prototype;return e.createData=function(t){var i=t.slice(0);this._pixelData=new Uint8Array(i)},e.createNode=function(t){var i=new s;i.layer=t;var e=i.addComponent(h);e.setAnchorPoint(0,0),e.setContentSize(this._width,this._height),this._sprite=i.addComponent(r),this._sprite.spriteAtlas=null,this._sprite.sizeMode=r.SizeMode.RAW,this._sprite.type=r.Type.SIMPLE,this._sprite.trim=!1,this._texture2d=new a,this._texture2d.reset({width:this._width,height:this._height,format:a.PixelFormat.RGBA8888}),this._texture2d.uploadData(this._pixelData);var _=new o;return _.texture=this._texture2d,_.packable=!1,this._sprite.spriteFrame=_,this._texture2d.setWrapMode(a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE,a.WrapMode.CLAMP_TO_EDGE),this._node=i,i},e.syncData=function(t){this._dirty&&(this._texture2d.uploadData(this._pixelData),this._dirty=!1),this._node.active=t.intersects(this._bounds)},e.clearFog=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=0,this._pixelData[e+1]=0,this._pixelData[e+2]=0,this._pixelData[e+3]=0,this._dirty=!0},e.clearFogBorder=function(t,i){var e=4*((this._height-i-1)*this._width+t);this._pixelData[e]=101,this._pixelData[e+1]=135,this._pixelData[e+2]=23,this._pixelData[e+3]=255,this._dirty=!0},e.clearFogBorderByColor=function(t,i,e){var s=4*((this._height-i-1)*this._width+t);this._pixelData[s]=e.r,this._pixelData[s+1]=e.g,this._pixelData[s+2]=e.b,this._pixelData[s+3]=e.a,this._dirty=!0},e.clear=function(){this._sprite.node.removeFromParent(),this._texture2d.destroy()},i(t,[{key:"pixelData",get:function(){return this._pixelData}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlockList.ts",["cc","./ZDGameState.ts","./FogBlock.ts"],(function(t){var o,e,i,r,s,c;return{setters:[function(t){o=t.cclegacy,e=t.Rect,i=t.gfx,r=t.director},function(t){s=t.ZDGameState},function(t){c=t.FogBlock}],execute:function(){o._RF.push({},"f72f7Q7o9xImbwc0B+GxAjU","FogBlockList",void 0);var n=[512,512],a=new e;t("FogBlockList",function(){function t(t,o){this._width=void 0,this._height=void 0,this._rows=void 0,this._cells=void 0,this._blocks=void 0,this._width=t,this._height=o,this._rows=Math.floor(this._width/n[0]),this._cells=Math.floor(this._height/n[1]),this._blocks=[]}var o=t.prototype;return o.createItems=function(t,o){this._blocks.length=0;var e=new i.BufferTextureCopy;e.texOffset.x=0,e.texOffset.y=0,e.texExtent.width=n[0],e.texExtent.height=n[1];var s=new ArrayBuffer(n[0]*n[1]*4),a=new Uint8Array(s);r.root.device.copyTextureToBuffers(o,[a],[e]);for(var h=0,l=0,f=t.getWorldPosition(),u=t.layer,_=0;_<this._rows;++_){for(var g=0;g<this._cells;++g){var v=new c(n[0],n[1],h,l,f);v.createData(s);var k=v.createNode(u);k.parent=t,k.setPosition(h,l),this._blocks.push(v),h+=n[0]}h=0,l+=n[1]}},o.sysnData=function(){var t=s.runtime.ui.mapLayer.REAL_SCENE_RECT;a.set(t.xMin,t.yMin,t.xMax-t.xMin,t.yMax-t.yMin);for(var o=0,e=this._blocks.length;o<e;++o)this._blocks[o].syncData(a)},o.getBlock=function(t,o){var e=Math.floor(o/n[1]),i=Math.floor(t/n[0]),r=e*this._rows+i;return this._blocks[r]},o.clearFog=function(t,o){var e=this.getBlock(t,o),i=t%n[0],r=o%n[1];null==e||e.clearFog(i,r)},o.clearFogBorderByColor=function(t,o,e){var i=this.getBlock(t,o),r=t%n[0],s=o%n[1];null==i||i.clearFogBorderByColor(r,s,e)},o.clear=function(){for(var t=0,o=this._blocks.length;t<o;++t)this._blocks[t].clear();this._blocks.length=0},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlockList3.ts",["cc","./ZDGameState3.ts","./FogBlock3.ts"],(function(t){var o,e,r,i,s,c,n;return{setters:[function(t){o=t.cclegacy,e=t.Rect,r=t.Vec3,i=t.gfx,s=t.director},function(t){c=t.ZDGameState3},function(t){n=t.FogBlock3}],execute:function(){o._RF.push({},"5f387xT+t9C3JYZn6J8iQHi","FogBlockList3",void 0);var l=[512,512],h=new e,a=new r;t("FogBlockList3",function(){function t(t,o){this._width=void 0,this._height=void 0,this._rows=void 0,this._cells=void 0,this._blocks=void 0,this._width=t,this._height=o,this._rows=Math.floor(this._width/l[0]),this._cells=Math.floor(this._height/l[1]),this._blocks=[]}var o=t.prototype;return o.createItems=function(t,o){this._blocks.length=0;var e=new i.BufferTextureCopy;e.texOffset.x=0,e.texOffset.y=0,e.texExtent.width=l[0],e.texExtent.height=l[1];var r=new ArrayBuffer(l[0]*l[1]*4),c=new Uint8Array(r);s.root.device.copyTextureToBuffers(o,[c],[e]);for(var h=0,a=0,f=t.getWorldPosition(),u=t.layer,g=0;g<this._rows;++g){for(var _=0;_<this._cells;++_){var v=new n(l[0],l[1],f.x+h,f.y+a);v.createData(r);var k=v.createNode(u);k.parent=t,k.setPosition(h,a),this._blocks.push(v),h+=l[0]}h=0,a+=l[1]}},o.sysnData=function(){var t=c.runtime.scaler.orthoHeight,o=2*t;c.runtime.scaler.getWorldPosition(a),h.set(a.x-t,a.y-t,o,o);for(var e=0,r=this._blocks.length;e<r;++e)this._blocks[e].syncData(h)},o.getBlock=function(t,o){var e=Math.floor(o/l[1]),r=Math.floor(t/l[0]),i=e*this._rows+r;return this._blocks[i]},o.clearFog=function(t,o){var e=this.getBlock(t,o),r=t%l[0],i=o%l[1];null==e||e.clearFog(r,i)},o.clearFogBorderByColor=function(t,o,e){var r=this.getBlock(t,o),i=t%l[0],s=o%l[1];null==r||r.clearFogBorderByColor(i,s,e)},o.clear=function(){for(var t=0,o=this._blocks.length;t<o;++t)this._blocks[t].clear()},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlockList4.ts",["cc","./ZDGameState4.ts","./FogBlock4.ts"],(function(t){var o,e,r,i,s,c;return{setters:[function(t){o=t.cclegacy,e=t.Rect,r=t.gfx,i=t.director},function(t){s=t.ZDGameState4},function(t){c=t.FogBlock}],execute:function(){o._RF.push({},"7a5b7bH4GlB54j5/uvfrrOX","FogBlockList4",void 0);var n=[512,512],a=new e;t("FogBlockList",function(){function t(t,o){this._width=void 0,this._height=void 0,this._rows=void 0,this._cells=void 0,this._blocks=void 0,this._width=t,this._height=o,this._rows=Math.floor(this._width/n[0]),this._cells=Math.floor(this._height/n[1]),this._blocks=[]}var o=t.prototype;return o.createItems=function(t,o){this._blocks.length=0;var e=new r.BufferTextureCopy;e.texOffset.x=0,e.texOffset.y=0,e.texExtent.width=n[0],e.texExtent.height=n[1];var s=new ArrayBuffer(n[0]*n[1]*4),a=new Uint8Array(s);i.root.device.copyTextureToBuffers(o,[a],[e]);for(var l=0,h=0,f=t.getWorldPosition(),u=t.layer,_=0;_<this._rows;++_){for(var g=0;g<this._cells;++g){var v=new c(n[0],n[1],l,h,f);v.createData(s);var k=v.createNode(u);k.parent=t,k.setPosition(l,h),this._blocks.push(v),l+=n[0]}l=0,h+=n[1]}},o.sysnData=function(){var t=s.runtime.ui.mapLayer.REAL_SCENE_RECT;a.set(t.xMin,t.yMin,t.xMax-t.xMin,t.yMax-t.yMin);for(var o=0,e=this._blocks.length;o<e;++o)this._blocks[o].syncData(a)},o.getBlock=function(t,o){var e=Math.floor(o/n[1]),r=Math.floor(t/n[0]),i=e*this._rows+r;return this._blocks[i]},o.clearFog=function(t,o){var e=this.getBlock(t,o),r=t%n[0],i=o%n[1];null==e||e.clearFog(r,i)},o.clearFogBorderByColor=function(t,o,e){var r=this.getBlock(t,o),i=t%n[0],s=o%n[1];null==r||r.clearFogBorderByColor(i,s,e)},o.clear=function(){for(var t=0,o=this._blocks.length;t<o;++t)this._blocks[t].clear();this._blocks.length=0},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlockList5.ts",["cc","./ZDGameState5.ts","./FogBlock5.ts"],(function(t){var o,e,i,r,s,c;return{setters:[function(t){o=t.cclegacy,e=t.Rect,i=t.gfx,r=t.director},function(t){s=t.ZDGameState5},function(t){c=t.FogBlock}],execute:function(){o._RF.push({},"bc8acdQ/gxOW4kTuHvTVqQZ","FogBlockList5",void 0);var n=[512,512],a=new e;t("FogBlockList",function(){function t(t,o){this._width=void 0,this._height=void 0,this._rows=void 0,this._cells=void 0,this._blocks=void 0,this._width=t,this._height=o,this._rows=Math.floor(this._width/n[0]),this._cells=Math.floor(this._height/n[1]),this._blocks=[]}var o=t.prototype;return o.createItems=function(t,o){this._blocks.length=0;var e=new i.BufferTextureCopy;e.texOffset.x=0,e.texOffset.y=0,e.texExtent.width=n[0],e.texExtent.height=n[1];var s=new ArrayBuffer(n[0]*n[1]*4),a=new Uint8Array(s);r.root.device.copyTextureToBuffers(o,[a],[e]);for(var h=0,l=0,f=t.getWorldPosition(),u=t.layer,_=0;_<this._rows;++_){for(var g=0;g<this._cells;++g){var v=new c(n[0],n[1],h,l,f);v.createData(s);var k=v.createNode(u);k.parent=t,k.setPosition(h,l),this._blocks.push(v),h+=n[0]}h=0,l+=n[1]}},o.sysnData=function(){var t=s.runtime.ui.mapLayer.REAL_SCENE_RECT;a.set(t.xMin,t.yMin,t.xMax-t.xMin,t.yMax-t.yMin);for(var o=0,e=this._blocks.length;o<e;++o)this._blocks[o].syncData(a)},o.getBlock=function(t,o){var e=Math.floor(o/n[1]),i=Math.floor(t/n[0]),r=e*this._rows+i;return this._blocks[r]},o.clearFog=function(t,o){var e=this.getBlock(t,o),i=t%n[0],r=o%n[1];null==e||e.clearFog(i,r)},o.clearFogBorderByColor=function(t,o,e){var i=this.getBlock(t,o),r=t%n[0],s=o%n[1];null==i||i.clearFogBorderByColor(r,s,e)},o.clear=function(){for(var t=0,o=this._blocks.length;t<o;++t)this._blocks[t].clear();this._blocks.length=0},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/FogBlockList6.ts",["cc","./ZDGameState6.ts","./FogBlock6.ts"],(function(t){var o,e,i,r,s,c;return{setters:[function(t){o=t.cclegacy,e=t.Rect,i=t.gfx,r=t.director},function(t){s=t.ZDGameState6},function(t){c=t.FogBlock}],execute:function(){o._RF.push({},"7ee6bAyc+JGjZ1l5XbQhMNB","FogBlockList6",void 0);var n=[512,512],h=new e;t("FogBlockList",function(){function t(t,o){this._width=void 0,this._height=void 0,this._rows=void 0,this._cells=void 0,this._blocks=void 0,this._width=t,this._height=o,this._rows=Math.floor(this._width/n[0]),this._cells=Math.floor(this._height/n[1]),this._blocks=[]}var o=t.prototype;return o.createItems=function(t,o){this._blocks.length=0;var e=new i.BufferTextureCopy;e.texOffset.x=0,e.texOffset.y=0,e.texExtent.width=n[0],e.texExtent.height=n[1];var s=new ArrayBuffer(n[0]*n[1]*4),h=new Uint8Array(s);r.root.device.copyTextureToBuffers(o,[h],[e]);for(var l=0,a=0,f=t.getWorldPosition(),u=t.layer,_=0;_<this._rows;++_){for(var g=0;g<this._cells;++g){var v=new c(n[0],n[1],l,a,f);v.createData(s);var k=v.createNode(u);k.parent=t,k.setPosition(l,a),this._blocks.push(v),l+=n[0]}l=0,a+=n[1]}},o.sysnData=function(){var t=s.runtime.ui.mapLayer.REAL_SCENE_RECT;h.set(t.xMin,t.yMin,t.xMax-t.xMin,t.yMax-t.yMin);for(var o=0,e=this._blocks.length;o<e;++o)this._blocks[o].syncData(h)},o.getBlock=function(t,o){var e=Math.floor(o/n[1]),i=Math.floor(t/n[0]),r=e*this._rows+i;return this._blocks[r]},o.clearFog=function(t,o){var e=this.getBlock(t,o),i=t%n[0],r=o%n[1];null==e||e.clearFog(i,r)},o.clearFogBorderByColor=function(t,o,e){var i=this.getBlock(t,o),r=t%n[0],s=o%n[1];null==i||i.clearFogBorderByColor(r,s,e)},o.clear=function(){for(var t=0,o=this._blocks.length;t<o;++t)this._blocks[t].clear();this._blocks.length=0},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/FogClear.ts",["cc"],(function(i){var t,r;return{setters:[function(i){t=i.cclegacy,r=i.Vec2}],execute:function(){t._RF.push({},"9294bt8nbFDJ5e4MGTY0RLa","FogClear",void 0);i("FogClear",function(){function i(i,t){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._buffer=void 0,this._pixelColor=void 0,this.init(i,t)}var t=i.prototype;return t.init=function(i,t){this._width=Math.round(i),this._height=Math.round(t),this._initMaskPoint(),this._initPixelColor()},t._initPixelColor=function(){this._buffer=new ArrayBuffer(this._width*this._height*4),this._pixelColor=new Uint8Array(this._buffer),this._pixelColor.fill(0);for(var i=0;i<this._width;++i)for(var t=0;t<this._height;++t){var r=4*(t*this._width+i);this._pixelColor[r]=0,this._pixelColor[r+1]=0,this._pixelColor[r+2]=0,this._pixelColor[r+3]=0}},t._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var i=0;i<this._width;++i){this._maskPoint[i]||(this._maskPoint[i]=[]);for(var t=0;t<this._height;++t)this._maskPoint[i][t]=0}},t.getData=function(){return this._pixelColor},t.clearFog=function(i,t,r,h,e){if(i=Math.round(i),t=Math.round(t),r=Math.round(r),h=Math.round(h),i!=r||t!=h){var n=1;if(s.set(0,0),i==r)s.x=Math.round(.5*e);else if(t==h)s.y=Math.round(.5*e);else{var _=(h-t)/(r-i);n=Math.sqrt(_*_+1),s.y=.5*e/n,s.x=Math.round(s.y*_),s.y=Math.round(s.y)}i>r?(o.set(r,h),a.set(i,t)):(o.set(i,t),a.set(r,h)),this._drawLine(o,a,e,s,n)}},t._drawLine=function(i,t,r,h,o){if(i.y==t.y){var a=i.x<t.x?i.x:t.x;e.set(a,Math.round(i.y-.5*r)),this._drawRect(e,Math.abs(i.x-t.x),r)}else if(i.x==t.x){var s=i.y<t.y?i.y:t.y;e.set(Math.round(i.x-.5*r),s),this._drawRect(e,r,Math.abs(i.y-t.y))}else{var f=(i.x-t.x)/(i.y-t.y);n.set(i.x-h.x,i.y+h.y),_.set(i.x+h.x,i.y-h.y),l.set(t.x-h.x,t.y+h.y),x.set(t.x+h.x,t.y-h.y);var c=Math.round(r*o);t.y>i.y?_.x<l.x?(d.set(_.x,_.y+c),u.set(l.x,l.y-c),this._drawVerticalTriangle(d,_,n),this._drawParallelogram(_,u,c),this._drawVerticalTriangle(l,u,x)):(d.set(_.x,Math.round(l.y-(_.x-l.x)*f)),u.set(l.x,Math.round(_.y+(_.x-l.x)*f)),this._drawVerticalTriangle(l,u,n),this._drawParallelogram(u,_,l.y-u.y),this._drawVerticalTriangle(d,_,x)):n.x<x.x?(d.set(n.x,n.y-c),u.set(x.x,x.y+c),this._drawVerticalTriangle(n,d,_),this._drawParallelogram(d,x,c),this._drawVerticalTriangle(u,x,l)):(d.set(n.x,Math.round(x.y-(n.x-x.x)*f)),u.set(x.x,Math.round(n.y+(n.x-x.x)*f)),this._drawVerticalTriangle(u,x,_),this._drawParallelogram(x,d,n.y-d.y),this._drawVerticalTriangle(n,d,l))}},t._drawRect=function(i,t,r){for(var h=this._clampX(i.x),o=this._clampX(i.x+t),a=this._clampY(i.y),s=this._clampY(i.y+r),e=h;e<=o;++e)for(var n=a;n<=s;++n)this._drawPixel(e,n)},t.circle=function(i,t,r){i=Math.round(i),t=Math.round(t),this._drawCircle(i,t,r)},t._drawCircle=function(i,t,r){if(0!=(r=Math.round(r)))for(var h=r*r,o=this._minX(i-r),a=this._maxX(i+r),s=o;s<=a;++s){var e=i-s;e=Math.round(Math.sqrt(h-e*e));for(var n=this._minY(t-e),_=this._maxY(t+e),l=n;l<=_;++l)this._drawPixel(s,l)}},t._drawParallelogram=function(i,t,r){if(i.x!=t.x)for(var h=(t.y-i.y)/(t.x-i.x),o=this._minX(i.x),a=this._maxX(t.x),s=o;s<=a;++s){var e=i.y+Math.round((s-i.x)*h),n=e+r;e=this._minY(e),n=this._maxY(n);for(var _=e;_<=n;++_)this._drawPixel(s,_)}},t._drawVerticalTriangle=function(i,t,r){if(r.x!=i.x){var h=(r.y-i.y)/(r.x-i.x),o=(r.y-t.y)/(r.x-t.x),a=r.x,s=i.x;a<s&&(a=i.x,s=r.x),s=this._minX(s),a=this._maxX(a);for(var e=s;e<=a;++e)for(var n=this._clampY(Math.round(i.y+(e-i.x)*h)),_=this._clampY(Math.round(t.y+(e-t.x)*o));_<=n;++_)this._drawPixel(e,_)}},t._drawPixel=function(i,t){if(i=Math.round(i),t=Math.round(t),1!=this._maskPoint[i][t]){var r=4*(t*this._width+i);this._pixelColor[r+3]=255,this._maskPoint[i][t]=1}},t._updateBottonFog=function(i,t){for(var r=1;r<=14&&!(t>=this._height-r);++r)if(0==this._maskPoint[i][t+r]){var h=4*((t+r)*this._width+i),o=1-r/14;this._pixelColor[h]+=(255-this._pixelColor[h])*o,this._pixelColor[h+1]+=(255-this._pixelColor[h+1])*o,this._pixelColor[h+2]+=(255-this._pixelColor[h+2])*o,this._pixelColor[h+3]=Math.min(255,50+10*r)}},t._updateUpFog=function(i,t){for(var r=1;r<=20&&!(t<r);++r)if(0==this._maskPoint[i][t-r]){var h=4*((t-r)*this._width+i),o=1-r/20;this._pixelColor[h]-=this._pixelColor[h]*o,this._pixelColor[h+1]-=this._pixelColor[h+1]*o,this._pixelColor[h+2]-=this._pixelColor[h+2]*o}},t._drawRowPixel=function(i,t,r){for(var o=4*(r*this._width+i),a=i;a<=t;++a)1!=this._maskPoint[a][r]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[a][r]=1),o+=4},t._drawColPixel=function(i,t,r){for(var o=4*(i*this._width+r),a=i;a<=t;++a)1!=this._maskPoint[r][a]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[r][a]=1),o+=4*this._width},t._minX=function(i){return i>=0?i:0},t._maxX=function(i){return i<this._width?i:this._width-1},t._minY=function(i){return i>=0?i:0},t._maxY=function(i){return i<this._height?i:this._height-1},t._clampX=function(i){return i<0?0:i>=this._width?this._width-1:i},t._clampY=function(i){return i<0?0:i>=this._height?this._height-1:i},i}());var h=[0,0,0,255],o=new r,a=new r,s=new r,e=new r,n=new r,_=new r,l=new r,x=new r,d=new r,u=new r;t._RF.pop()}}}));

System.register("chunks:///_virtual/FogClear3.ts",["cc"],(function(i){var t,r;return{setters:[function(i){t=i.cclegacy,r=i.Vec2}],execute:function(){t._RF.push({},"69b7f7fPLlHAqBG2ptHQVDd","FogClear3",void 0);i("FogClear3",function(){function i(i,t){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._buffer=void 0,this._pixelColor=void 0,this.init(i,t)}var t=i.prototype;return t.init=function(i,t){this._width=Math.round(i),this._height=Math.round(t),this._initMaskPoint(),this._initPixelColor()},t._initPixelColor=function(){this._buffer=new ArrayBuffer(this._width*this._height*4),this._pixelColor=new Uint8Array(this._buffer),this._pixelColor.fill(0);for(var i=0;i<this._width;++i)for(var t=0;t<this._height;++t){var r=4*(t*this._width+i);this._pixelColor[r]=0,this._pixelColor[r+1]=0,this._pixelColor[r+2]=0,this._pixelColor[r+3]=0}},t._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var i=0;i<this._width;++i){this._maskPoint[i]||(this._maskPoint[i]=[]);for(var t=0;t<this._height;++t)this._maskPoint[i][t]=0}},t.getData=function(){return this._pixelColor},t.clearFog=function(i,t,r,h,e){if(i=Math.round(i),t=Math.round(t),r=Math.round(r),h=Math.round(h),i!=r||t!=h){var n=1;if(s.set(0,0),i==r)s.x=Math.round(.5*e);else if(t==h)s.y=Math.round(.5*e);else{var _=(h-t)/(r-i);n=Math.sqrt(_*_+1),s.y=.5*e/n,s.x=Math.round(s.y*_),s.y=Math.round(s.y)}i>r?(o.set(r,h),a.set(i,t)):(o.set(i,t),a.set(r,h)),this._drawLine(o,a,e,s,n)}},t._drawLine=function(i,t,r,h,o){if(i.y==t.y){var a=i.x<t.x?i.x:t.x;e.set(a,Math.round(i.y-.5*r)),this._drawRect(e,Math.abs(i.x-t.x),r)}else if(i.x==t.x){var s=i.y<t.y?i.y:t.y;e.set(Math.round(i.x-.5*r),s),this._drawRect(e,r,Math.abs(i.y-t.y))}else{var f=(i.x-t.x)/(i.y-t.y);n.set(i.x-h.x,i.y+h.y),_.set(i.x+h.x,i.y-h.y),l.set(t.x-h.x,t.y+h.y),x.set(t.x+h.x,t.y-h.y);var c=Math.round(r*o);t.y>i.y?_.x<l.x?(d.set(_.x,_.y+c),u.set(l.x,l.y-c),this._drawVerticalTriangle(d,_,n),this._drawParallelogram(_,u,c),this._drawVerticalTriangle(l,u,x)):(d.set(_.x,Math.round(l.y-(_.x-l.x)*f)),u.set(l.x,Math.round(_.y+(_.x-l.x)*f)),this._drawVerticalTriangle(l,u,n),this._drawParallelogram(u,_,l.y-u.y),this._drawVerticalTriangle(d,_,x)):n.x<x.x?(d.set(n.x,n.y-c),u.set(x.x,x.y+c),this._drawVerticalTriangle(n,d,_),this._drawParallelogram(d,x,c),this._drawVerticalTriangle(u,x,l)):(d.set(n.x,Math.round(x.y-(n.x-x.x)*f)),u.set(x.x,Math.round(n.y+(n.x-x.x)*f)),this._drawVerticalTriangle(u,x,_),this._drawParallelogram(x,d,n.y-d.y),this._drawVerticalTriangle(n,d,l))}},t._drawRect=function(i,t,r){for(var h=this._clampX(i.x),o=this._clampX(i.x+t),a=this._clampY(i.y),s=this._clampY(i.y+r),e=h;e<=o;++e)for(var n=a;n<=s;++n)this._drawPixel(e,n)},t.circle=function(i,t,r){i=Math.round(i),t=Math.round(t),this._drawCircle(i,t,r)},t._drawCircle=function(i,t,r){if(0!=(r=Math.round(r)))for(var h=r*r,o=this._minX(i-r),a=this._maxX(i+r),s=o;s<=a;++s){var e=i-s;e=Math.round(Math.sqrt(h-e*e));for(var n=this._minY(t-e),_=this._maxY(t+e),l=n;l<=_;++l)this._drawPixel(s,l)}},t._drawParallelogram=function(i,t,r){if(i.x!=t.x)for(var h=(t.y-i.y)/(t.x-i.x),o=this._minX(i.x),a=this._maxX(t.x),s=o;s<=a;++s){var e=i.y+Math.round((s-i.x)*h),n=e+r;e=this._minY(e),n=this._maxY(n);for(var _=e;_<=n;++_)this._drawPixel(s,_)}},t._drawVerticalTriangle=function(i,t,r){if(r.x!=i.x){var h=(r.y-i.y)/(r.x-i.x),o=(r.y-t.y)/(r.x-t.x),a=r.x,s=i.x;a<s&&(a=i.x,s=r.x),s=this._minX(s),a=this._maxX(a);for(var e=s;e<=a;++e)for(var n=this._clampY(Math.round(i.y+(e-i.x)*h)),_=this._clampY(Math.round(t.y+(e-t.x)*o));_<=n;++_)this._drawPixel(e,_)}},t._drawPixel=function(i,t){if(i=Math.round(i),t=Math.round(t),1!=this._maskPoint[i][t]){var r=4*(t*this._width+i);this._pixelColor[r+3]=255,this._maskPoint[i][t]=1}},t._updateBottonFog=function(i,t){for(var r=1;r<=14&&!(t>=this._height-r);++r)if(0==this._maskPoint[i][t+r]){var h=4*((t+r)*this._width+i),o=1-r/14;this._pixelColor[h]+=(255-this._pixelColor[h])*o,this._pixelColor[h+1]+=(255-this._pixelColor[h+1])*o,this._pixelColor[h+2]+=(255-this._pixelColor[h+2])*o,this._pixelColor[h+3]=Math.min(255,50+10*r)}},t._updateUpFog=function(i,t){for(var r=1;r<=20&&!(t<r);++r)if(0==this._maskPoint[i][t-r]){var h=4*((t-r)*this._width+i),o=1-r/20;this._pixelColor[h]-=this._pixelColor[h]*o,this._pixelColor[h+1]-=this._pixelColor[h+1]*o,this._pixelColor[h+2]-=this._pixelColor[h+2]*o}},t._drawRowPixel=function(i,t,r){for(var o=4*(r*this._width+i),a=i;a<=t;++a)1!=this._maskPoint[a][r]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[a][r]=1),o+=4},t._drawColPixel=function(i,t,r){for(var o=4*(i*this._width+r),a=i;a<=t;++a)1!=this._maskPoint[r][a]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[r][a]=1),o+=4*this._width},t._minX=function(i){return i>=0?i:0},t._maxX=function(i){return i<this._width?i:this._width-1},t._minY=function(i){return i>=0?i:0},t._maxY=function(i){return i<this._height?i:this._height-1},t._clampX=function(i){return i<0?0:i>=this._width?this._width-1:i},t._clampY=function(i){return i<0?0:i>=this._height?this._height-1:i},i}());var h=[0,0,0,255],o=new r,a=new r,s=new r,e=new r,n=new r,_=new r,l=new r,x=new r,d=new r,u=new r;t._RF.pop()}}}));

System.register("chunks:///_virtual/FogClear4.ts",["cc"],(function(i){var t,r;return{setters:[function(i){t=i.cclegacy,r=i.Vec2}],execute:function(){t._RF.push({},"1d8b5R1cbJA6K8dKtJi927q","FogClear4",void 0);i("FogClear",function(){function i(i,t){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._buffer=void 0,this._pixelColor=void 0,this.init(i,t)}var t=i.prototype;return t.init=function(i,t){this._width=Math.round(i),this._height=Math.round(t),this._initMaskPoint(),this._initPixelColor()},t._initPixelColor=function(){this._buffer=new ArrayBuffer(this._width*this._height*4),this._pixelColor=new Uint8Array(this._buffer),this._pixelColor.fill(0);for(var i=0;i<this._width;++i)for(var t=0;t<this._height;++t){var r=4*(t*this._width+i);this._pixelColor[r]=0,this._pixelColor[r+1]=0,this._pixelColor[r+2]=0,this._pixelColor[r+3]=0}},t._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var i=0;i<this._width;++i){this._maskPoint[i]||(this._maskPoint[i]=[]);for(var t=0;t<this._height;++t)this._maskPoint[i][t]=0}},t.getData=function(){return this._pixelColor},t.clearFog=function(i,t,r,h,e){if(i=Math.round(i),t=Math.round(t),r=Math.round(r),h=Math.round(h),i!=r||t!=h){var n=1;if(s.set(0,0),i==r)s.x=Math.round(.5*e);else if(t==h)s.y=Math.round(.5*e);else{var _=(h-t)/(r-i);n=Math.sqrt(_*_+1),s.y=.5*e/n,s.x=Math.round(s.y*_),s.y=Math.round(s.y)}i>r?(o.set(r,h),a.set(i,t)):(o.set(i,t),a.set(r,h)),this._drawLine(o,a,e,s,n)}},t._drawLine=function(i,t,r,h,o){if(i.y==t.y){var a=i.x<t.x?i.x:t.x;e.set(a,Math.round(i.y-.5*r)),this._drawRect(e,Math.abs(i.x-t.x),r)}else if(i.x==t.x){var s=i.y<t.y?i.y:t.y;e.set(Math.round(i.x-.5*r),s),this._drawRect(e,r,Math.abs(i.y-t.y))}else{var f=(i.x-t.x)/(i.y-t.y);n.set(i.x-h.x,i.y+h.y),_.set(i.x+h.x,i.y-h.y),l.set(t.x-h.x,t.y+h.y),x.set(t.x+h.x,t.y-h.y);var c=Math.round(r*o);t.y>i.y?_.x<l.x?(d.set(_.x,_.y+c),u.set(l.x,l.y-c),this._drawVerticalTriangle(d,_,n),this._drawParallelogram(_,u,c),this._drawVerticalTriangle(l,u,x)):(d.set(_.x,Math.round(l.y-(_.x-l.x)*f)),u.set(l.x,Math.round(_.y+(_.x-l.x)*f)),this._drawVerticalTriangle(l,u,n),this._drawParallelogram(u,_,l.y-u.y),this._drawVerticalTriangle(d,_,x)):n.x<x.x?(d.set(n.x,n.y-c),u.set(x.x,x.y+c),this._drawVerticalTriangle(n,d,_),this._drawParallelogram(d,x,c),this._drawVerticalTriangle(u,x,l)):(d.set(n.x,Math.round(x.y-(n.x-x.x)*f)),u.set(x.x,Math.round(n.y+(n.x-x.x)*f)),this._drawVerticalTriangle(u,x,_),this._drawParallelogram(x,d,n.y-d.y),this._drawVerticalTriangle(n,d,l))}},t._drawRect=function(i,t,r){for(var h=this._clampX(i.x),o=this._clampX(i.x+t),a=this._clampY(i.y),s=this._clampY(i.y+r),e=h;e<=o;++e)for(var n=a;n<=s;++n)this._drawPixel(e,n)},t.circle=function(i,t,r){i=Math.round(i),t=Math.round(t),this._drawCircle(i,t,r)},t._drawCircle=function(i,t,r){if(0!=(r=Math.round(r)))for(var h=r*r,o=this._minX(i-r),a=this._maxX(i+r),s=o;s<=a;++s){var e=i-s;e=Math.round(Math.sqrt(h-e*e));for(var n=this._minY(t-e),_=this._maxY(t+e),l=n;l<=_;++l)this._drawPixel(s,l)}},t._drawParallelogram=function(i,t,r){if(i.x!=t.x)for(var h=(t.y-i.y)/(t.x-i.x),o=this._minX(i.x),a=this._maxX(t.x),s=o;s<=a;++s){var e=i.y+Math.round((s-i.x)*h),n=e+r;e=this._minY(e),n=this._maxY(n);for(var _=e;_<=n;++_)this._drawPixel(s,_)}},t._drawVerticalTriangle=function(i,t,r){if(r.x!=i.x){var h=(r.y-i.y)/(r.x-i.x),o=(r.y-t.y)/(r.x-t.x),a=r.x,s=i.x;a<s&&(a=i.x,s=r.x),s=this._minX(s),a=this._maxX(a);for(var e=s;e<=a;++e)for(var n=this._clampY(Math.round(i.y+(e-i.x)*h)),_=this._clampY(Math.round(t.y+(e-t.x)*o));_<=n;++_)this._drawPixel(e,_)}},t._drawPixel=function(i,t){if(i=Math.round(i),t=Math.round(t),1!=this._maskPoint[i][t]){var r=4*(t*this._width+i);this._pixelColor[r+3]=255,this._maskPoint[i][t]=1}},t._updateBottonFog=function(i,t){for(var r=1;r<=14&&!(t>=this._height-r);++r)if(0==this._maskPoint[i][t+r]){var h=4*((t+r)*this._width+i),o=1-r/14;this._pixelColor[h]+=(255-this._pixelColor[h])*o,this._pixelColor[h+1]+=(255-this._pixelColor[h+1])*o,this._pixelColor[h+2]+=(255-this._pixelColor[h+2])*o,this._pixelColor[h+3]=Math.min(255,50+10*r)}},t._updateUpFog=function(i,t){for(var r=1;r<=20&&!(t<r);++r)if(0==this._maskPoint[i][t-r]){var h=4*((t-r)*this._width+i),o=1-r/20;this._pixelColor[h]-=this._pixelColor[h]*o,this._pixelColor[h+1]-=this._pixelColor[h+1]*o,this._pixelColor[h+2]-=this._pixelColor[h+2]*o}},t._drawRowPixel=function(i,t,r){for(var o=4*(r*this._width+i),a=i;a<=t;++a)1!=this._maskPoint[a][r]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[a][r]=1),o+=4},t._drawColPixel=function(i,t,r){for(var o=4*(i*this._width+r),a=i;a<=t;++a)1!=this._maskPoint[r][a]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[r][a]=1),o+=4*this._width},t._minX=function(i){return i>=0?i:0},t._maxX=function(i){return i<this._width?i:this._width-1},t._minY=function(i){return i>=0?i:0},t._maxY=function(i){return i<this._height?i:this._height-1},t._clampX=function(i){return i<0?0:i>=this._width?this._width-1:i},t._clampY=function(i){return i<0?0:i>=this._height?this._height-1:i},i}());var h=[0,0,0,255],o=new r,a=new r,s=new r,e=new r,n=new r,_=new r,l=new r,x=new r,d=new r,u=new r;t._RF.pop()}}}));

System.register("chunks:///_virtual/FogClear5.ts",["cc"],(function(i){var t,r;return{setters:[function(i){t=i.cclegacy,r=i.Vec2}],execute:function(){t._RF.push({},"35b72UavANAo6LTu+VJ2CDb","FogClear5",void 0);i("FogClear",function(){function i(i,t){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._buffer=void 0,this._pixelColor=void 0,this.init(i,t)}var t=i.prototype;return t.init=function(i,t){this._width=Math.round(i),this._height=Math.round(t),this._initMaskPoint(),this._initPixelColor()},t._initPixelColor=function(){this._buffer=new ArrayBuffer(this._width*this._height*4),this._pixelColor=new Uint8Array(this._buffer),this._pixelColor.fill(0);for(var i=0;i<this._width;++i)for(var t=0;t<this._height;++t){var r=4*(t*this._width+i);this._pixelColor[r]=0,this._pixelColor[r+1]=0,this._pixelColor[r+2]=0,this._pixelColor[r+3]=0}},t._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var i=0;i<this._width;++i){this._maskPoint[i]||(this._maskPoint[i]=[]);for(var t=0;t<this._height;++t)this._maskPoint[i][t]=0}},t.getData=function(){return this._pixelColor},t.clearFog=function(i,t,r,h,e){if(i=Math.round(i),t=Math.round(t),r=Math.round(r),h=Math.round(h),i!=r||t!=h){var n=1;if(s.set(0,0),i==r)s.x=Math.round(.5*e);else if(t==h)s.y=Math.round(.5*e);else{var _=(h-t)/(r-i);n=Math.sqrt(_*_+1),s.y=.5*e/n,s.x=Math.round(s.y*_),s.y=Math.round(s.y)}i>r?(o.set(r,h),a.set(i,t)):(o.set(i,t),a.set(r,h)),this._drawLine(o,a,e,s,n)}},t._drawLine=function(i,t,r,h,o){if(i.y==t.y){var a=i.x<t.x?i.x:t.x;e.set(a,Math.round(i.y-.5*r)),this._drawRect(e,Math.abs(i.x-t.x),r)}else if(i.x==t.x){var s=i.y<t.y?i.y:t.y;e.set(Math.round(i.x-.5*r),s),this._drawRect(e,r,Math.abs(i.y-t.y))}else{var f=(i.x-t.x)/(i.y-t.y);n.set(i.x-h.x,i.y+h.y),_.set(i.x+h.x,i.y-h.y),l.set(t.x-h.x,t.y+h.y),x.set(t.x+h.x,t.y-h.y);var c=Math.round(r*o);t.y>i.y?_.x<l.x?(d.set(_.x,_.y+c),u.set(l.x,l.y-c),this._drawVerticalTriangle(d,_,n),this._drawParallelogram(_,u,c),this._drawVerticalTriangle(l,u,x)):(d.set(_.x,Math.round(l.y-(_.x-l.x)*f)),u.set(l.x,Math.round(_.y+(_.x-l.x)*f)),this._drawVerticalTriangle(l,u,n),this._drawParallelogram(u,_,l.y-u.y),this._drawVerticalTriangle(d,_,x)):n.x<x.x?(d.set(n.x,n.y-c),u.set(x.x,x.y+c),this._drawVerticalTriangle(n,d,_),this._drawParallelogram(d,x,c),this._drawVerticalTriangle(u,x,l)):(d.set(n.x,Math.round(x.y-(n.x-x.x)*f)),u.set(x.x,Math.round(n.y+(n.x-x.x)*f)),this._drawVerticalTriangle(u,x,_),this._drawParallelogram(x,d,n.y-d.y),this._drawVerticalTriangle(n,d,l))}},t._drawRect=function(i,t,r){for(var h=this._clampX(i.x),o=this._clampX(i.x+t),a=this._clampY(i.y),s=this._clampY(i.y+r),e=h;e<=o;++e)for(var n=a;n<=s;++n)this._drawPixel(e,n)},t.circle=function(i,t,r){i=Math.round(i),t=Math.round(t),this._drawCircle(i,t,r)},t._drawCircle=function(i,t,r){if(0!=(r=Math.round(r)))for(var h=r*r,o=this._minX(i-r),a=this._maxX(i+r),s=o;s<=a;++s){var e=i-s;e=Math.round(Math.sqrt(h-e*e));for(var n=this._minY(t-e),_=this._maxY(t+e),l=n;l<=_;++l)this._drawPixel(s,l)}},t._drawParallelogram=function(i,t,r){if(i.x!=t.x)for(var h=(t.y-i.y)/(t.x-i.x),o=this._minX(i.x),a=this._maxX(t.x),s=o;s<=a;++s){var e=i.y+Math.round((s-i.x)*h),n=e+r;e=this._minY(e),n=this._maxY(n);for(var _=e;_<=n;++_)this._drawPixel(s,_)}},t._drawVerticalTriangle=function(i,t,r){if(r.x!=i.x){var h=(r.y-i.y)/(r.x-i.x),o=(r.y-t.y)/(r.x-t.x),a=r.x,s=i.x;a<s&&(a=i.x,s=r.x),s=this._minX(s),a=this._maxX(a);for(var e=s;e<=a;++e)for(var n=this._clampY(Math.round(i.y+(e-i.x)*h)),_=this._clampY(Math.round(t.y+(e-t.x)*o));_<=n;++_)this._drawPixel(e,_)}},t._drawPixel=function(i,t){if(i=Math.round(i),t=Math.round(t),1!=this._maskPoint[i][t]){var r=4*(t*this._width+i);this._pixelColor[r+3]=255,this._maskPoint[i][t]=1}},t._updateBottonFog=function(i,t){for(var r=1;r<=14&&!(t>=this._height-r);++r)if(0==this._maskPoint[i][t+r]){var h=4*((t+r)*this._width+i),o=1-r/14;this._pixelColor[h]+=(255-this._pixelColor[h])*o,this._pixelColor[h+1]+=(255-this._pixelColor[h+1])*o,this._pixelColor[h+2]+=(255-this._pixelColor[h+2])*o,this._pixelColor[h+3]=Math.min(255,50+10*r)}},t._updateUpFog=function(i,t){for(var r=1;r<=20&&!(t<r);++r)if(0==this._maskPoint[i][t-r]){var h=4*((t-r)*this._width+i),o=1-r/20;this._pixelColor[h]-=this._pixelColor[h]*o,this._pixelColor[h+1]-=this._pixelColor[h+1]*o,this._pixelColor[h+2]-=this._pixelColor[h+2]*o}},t._drawRowPixel=function(i,t,r){for(var o=4*(r*this._width+i),a=i;a<=t;++a)1!=this._maskPoint[a][r]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[a][r]=1),o+=4},t._drawColPixel=function(i,t,r){for(var o=4*(i*this._width+r),a=i;a<=t;++a)1!=this._maskPoint[r][a]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[r][a]=1),o+=4*this._width},t._minX=function(i){return i>=0?i:0},t._maxX=function(i){return i<this._width?i:this._width-1},t._minY=function(i){return i>=0?i:0},t._maxY=function(i){return i<this._height?i:this._height-1},t._clampX=function(i){return i<0?0:i>=this._width?this._width-1:i},t._clampY=function(i){return i<0?0:i>=this._height?this._height-1:i},i}());var h=[0,0,0,255],o=new r,a=new r,s=new r,e=new r,n=new r,_=new r,l=new r,x=new r,d=new r,u=new r;t._RF.pop()}}}));

System.register("chunks:///_virtual/FogClear6.ts",["cc"],(function(i){var t,r;return{setters:[function(i){t=i.cclegacy,r=i.Vec2}],execute:function(){t._RF.push({},"745d8dBlI9Is6nMDcocwyev","FogClear6",void 0);i("FogClear",function(){function i(i,t){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._buffer=void 0,this._pixelColor=void 0,this.init(i,t)}var t=i.prototype;return t.init=function(i,t){this._width=Math.round(i),this._height=Math.round(t),this._initMaskPoint(),this._initPixelColor()},t._initPixelColor=function(){this._buffer=new ArrayBuffer(this._width*this._height*4),this._pixelColor=new Uint8Array(this._buffer),this._pixelColor.fill(0);for(var i=0;i<this._width;++i)for(var t=0;t<this._height;++t){var r=4*(t*this._width+i);this._pixelColor[r]=0,this._pixelColor[r+1]=0,this._pixelColor[r+2]=0,this._pixelColor[r+3]=0}},t._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var i=0;i<this._width;++i){this._maskPoint[i]||(this._maskPoint[i]=[]);for(var t=0;t<this._height;++t)this._maskPoint[i][t]=0}},t.getData=function(){return this._pixelColor},t.clearFog=function(i,t,r,h,e){if(i=Math.round(i),t=Math.round(t),r=Math.round(r),h=Math.round(h),i!=r||t!=h){var n=1;if(s.set(0,0),i==r)s.x=Math.round(.5*e);else if(t==h)s.y=Math.round(.5*e);else{var _=(h-t)/(r-i);n=Math.sqrt(_*_+1),s.y=.5*e/n,s.x=Math.round(s.y*_),s.y=Math.round(s.y)}i>r?(o.set(r,h),a.set(i,t)):(o.set(i,t),a.set(r,h)),this._drawLine(o,a,e,s,n)}},t._drawLine=function(i,t,r,h,o){if(i.y==t.y){var a=i.x<t.x?i.x:t.x;e.set(a,Math.round(i.y-.5*r)),this._drawRect(e,Math.abs(i.x-t.x),r)}else if(i.x==t.x){var s=i.y<t.y?i.y:t.y;e.set(Math.round(i.x-.5*r),s),this._drawRect(e,r,Math.abs(i.y-t.y))}else{var f=(i.x-t.x)/(i.y-t.y);n.set(i.x-h.x,i.y+h.y),_.set(i.x+h.x,i.y-h.y),l.set(t.x-h.x,t.y+h.y),x.set(t.x+h.x,t.y-h.y);var c=Math.round(r*o);t.y>i.y?_.x<l.x?(d.set(_.x,_.y+c),u.set(l.x,l.y-c),this._drawVerticalTriangle(d,_,n),this._drawParallelogram(_,u,c),this._drawVerticalTriangle(l,u,x)):(d.set(_.x,Math.round(l.y-(_.x-l.x)*f)),u.set(l.x,Math.round(_.y+(_.x-l.x)*f)),this._drawVerticalTriangle(l,u,n),this._drawParallelogram(u,_,l.y-u.y),this._drawVerticalTriangle(d,_,x)):n.x<x.x?(d.set(n.x,n.y-c),u.set(x.x,x.y+c),this._drawVerticalTriangle(n,d,_),this._drawParallelogram(d,x,c),this._drawVerticalTriangle(u,x,l)):(d.set(n.x,Math.round(x.y-(n.x-x.x)*f)),u.set(x.x,Math.round(n.y+(n.x-x.x)*f)),this._drawVerticalTriangle(u,x,_),this._drawParallelogram(x,d,n.y-d.y),this._drawVerticalTriangle(n,d,l))}},t._drawRect=function(i,t,r){for(var h=this._clampX(i.x),o=this._clampX(i.x+t),a=this._clampY(i.y),s=this._clampY(i.y+r),e=h;e<=o;++e)for(var n=a;n<=s;++n)this._drawPixel(e,n)},t.circle=function(i,t,r){i=Math.round(i),t=Math.round(t),this._drawCircle(i,t,r)},t._drawCircle=function(i,t,r){if(0!=(r=Math.round(r)))for(var h=r*r,o=this._minX(i-r),a=this._maxX(i+r),s=o;s<=a;++s){var e=i-s;e=Math.round(Math.sqrt(h-e*e));for(var n=this._minY(t-e),_=this._maxY(t+e),l=n;l<=_;++l)this._drawPixel(s,l)}},t._drawParallelogram=function(i,t,r){if(i.x!=t.x)for(var h=(t.y-i.y)/(t.x-i.x),o=this._minX(i.x),a=this._maxX(t.x),s=o;s<=a;++s){var e=i.y+Math.round((s-i.x)*h),n=e+r;e=this._minY(e),n=this._maxY(n);for(var _=e;_<=n;++_)this._drawPixel(s,_)}},t._drawVerticalTriangle=function(i,t,r){if(r.x!=i.x){var h=(r.y-i.y)/(r.x-i.x),o=(r.y-t.y)/(r.x-t.x),a=r.x,s=i.x;a<s&&(a=i.x,s=r.x),s=this._minX(s),a=this._maxX(a);for(var e=s;e<=a;++e)for(var n=this._clampY(Math.round(i.y+(e-i.x)*h)),_=this._clampY(Math.round(t.y+(e-t.x)*o));_<=n;++_)this._drawPixel(e,_)}},t._drawPixel=function(i,t){if(i=Math.round(i),t=Math.round(t),1!=this._maskPoint[i][t]){var r=4*(t*this._width+i);this._pixelColor[r+3]=255,this._maskPoint[i][t]=1}},t._updateBottonFog=function(i,t){for(var r=1;r<=14&&!(t>=this._height-r);++r)if(0==this._maskPoint[i][t+r]){var h=4*((t+r)*this._width+i),o=1-r/14;this._pixelColor[h]+=(255-this._pixelColor[h])*o,this._pixelColor[h+1]+=(255-this._pixelColor[h+1])*o,this._pixelColor[h+2]+=(255-this._pixelColor[h+2])*o,this._pixelColor[h+3]=Math.min(255,50+10*r)}},t._updateUpFog=function(i,t){for(var r=1;r<=20&&!(t<r);++r)if(0==this._maskPoint[i][t-r]){var h=4*((t-r)*this._width+i),o=1-r/20;this._pixelColor[h]-=this._pixelColor[h]*o,this._pixelColor[h+1]-=this._pixelColor[h+1]*o,this._pixelColor[h+2]-=this._pixelColor[h+2]*o}},t._drawRowPixel=function(i,t,r){for(var o=4*(r*this._width+i),a=i;a<=t;++a)1!=this._maskPoint[a][r]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[a][r]=1),o+=4},t._drawColPixel=function(i,t,r){for(var o=4*(i*this._width+r),a=i;a<=t;++a)1!=this._maskPoint[r][a]&&(this._pixelColor[o]=h[0],this._pixelColor[o+1]=h[1],this._pixelColor[o+2]=h[2],this._pixelColor[o+3]=h[3],this._maskPoint[r][a]=1),o+=4*this._width},t._minX=function(i){return i>=0?i:0},t._maxX=function(i){return i<this._width?i:this._width-1},t._minY=function(i){return i>=0?i:0},t._maxY=function(i){return i<this._height?i:this._height-1},t._clampX=function(i){return i<0?0:i>=this._width?this._width-1:i},t._clampY=function(i){return i<0?0:i>=this._height?this._height-1:i},i}());var h=[0,0,0,255],o=new r,a=new r,s=new r,e=new r,n=new r,_=new r,l=new r,x=new r,d=new r,u=new r;t._RF.pop()}}}));

System.register("chunks:///_virtual/FogMap.ts",["cc","./YT.ts","./FogBlockList.ts"],(function(t){var i,s,o,r;return{setters:[function(t){i=t.cclegacy,s=t.Vec2},function(t){o=t.YT},function(t){r=t.FogBlockList}],execute:function(){i._RF.push({},"e376fHoBp9Es4k50Xlwc5dT","FogMap",void 0);t("FogMap",function(){function t(t,i){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._blockList=void 0,this._topColor1=void 0,this._topColor2=void 0,this._bottonColor=void 0,this._topHeight1=void 0,this._topHeight2=void 0,this._bottonHeight=void 0,this.init(t,i)}var i=t.prototype;return i.setStyle=function(t,i,s,o,r,e){this._topColor1=t,this._topColor2=i,this._bottonColor=s,this._topHeight1=o,this._topHeight2=r,this._bottonHeight=e},i.init=function(t,i){this._width=e(t),this._height=e(i),this._initMaskPoint()},i.initBlock=function(t,i){this._blockList=new r(this._width,this._height),this._blockList.createItems(t,i)},i._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var t=0;t<this._width;++t){this._maskPoint[t]||(this._maskPoint[t]=[]);for(var i=0;i<this._height;++i)this._maskPoint[t][i]=0}},i._isMaskPoint=function(t,i){try{return 1==this._maskPoint[t][i]}catch(s){console.error(t,i)}},i._setMaskPoint=function(t,i){this._maskPoint[t][i]=1},i._clearPixel=function(t,i){this._blockList.clearFog(t,i)},i._clearBorderPixelByColor=function(t,i,s){this._blockList.clearFogBorderByColor(t,i,s)},i.sysnData=function(){this._blockList.sysnData()},i.clear=function(){this._blockList.clear()},i.clearFog=function(t,i,s,o,r){if(t=e(t),i=e(i),s=e(s),o=e(o),t!=s||i!=o){var _=1;if(n.set(0,0),t==s)n.x=e(.5*r);else if(i==o)n.y=e(.5*r);else{var l=(o-i)/(s-t);_=Math.sqrt(l*l+1),n.y=.5*r/_,n.x=e(n.y*l),n.y=e(n.y)}t>s?(a.set(s,o),h.set(t,i)):(a.set(t,i),h.set(s,o)),this._drawLine(a,h,r,n,_)}},i._drawLine=function(t,i,s,o,r){if(t.y==i.y){var a=t.x<i.x?t.x:i.x;_.set(a,e(t.y-.5*s)),this._drawRect(_,Math.abs(t.x-i.x),s)}else if(t.x==i.x){var h=t.y<i.y?t.y:i.y;_.set(e(t.x-.5*s),h),this._drawRect(_,s,Math.abs(t.y-i.y))}else{var n=(t.x-i.x)/(t.y-i.y);l.set(t.x-o.x,t.y+o.y),c.set(t.x+o.x,t.y-o.y),x.set(i.x-o.x,i.y+o.y),d.set(i.x+o.x,i.y-o.y);var u=e(s*r);i.y>t.y?c.x<x.x?(y.set(c.x,c.y+u),f.set(x.x,x.y-u),this._drawVerticalTriangle(y,c,l),this._drawParallelogram(c,f,u),this._drawVerticalTriangle(x,f,d)):(y.set(c.x,e(x.y-(c.x-x.x)*n)),f.set(x.x,e(c.y+(c.x-x.x)*n)),this._drawVerticalTriangle(x,f,l),this._drawParallelogram(f,c,x.y-f.y),this._drawVerticalTriangle(y,c,d)):l.x<d.x?(y.set(l.x,l.y-u),f.set(d.x,d.y+u),this._drawVerticalTriangle(l,y,c),this._drawParallelogram(y,d,u),this._drawVerticalTriangle(f,d,x)):(y.set(l.x,e(d.y-(l.x-d.x)*n)),f.set(d.x,e(l.y+(l.x-d.x)*n)),this._drawVerticalTriangle(f,d,c),this._drawParallelogram(d,y,l.y-y.y),this._drawVerticalTriangle(l,y,x))}},i.drawRect=function(t,i,s){this._drawRect(t,i,s)},i._drawRect=function(t,i,s){for(var o=this._clampX(t.x),r=this._clampX(t.x+i),e=this._clampY(t.y),a=this._clampY(t.y+s),h=o;h<=r;++h)for(var n=e;n<=a;++n)this._drawPixel(h,n,h==o||h==r||n==e||n==a)},i.circle=function(t,i,s){t=e(t),i=e(i),this._drawCircle(t,i,s)},i._drawCircle=function(t,i,s){if(0!=(s=e(s)))for(var r=s*s,a=this._minX(t-s),h=this._maxX(t+s),n=a;n<=h;++n){var _=t-n;_=e(Math.sqrt(r-_*_));for(var l=this._minY(i-_),c=this._maxY(i+_),x=l;x<=c;++x)this._drawPixel(n,x,x==l||x==c||n==a||n==h);o.isGM||(this._updateBottonFog(n,l),this._updateUpFog(n,c))}},i._drawParallelogram=function(t,i,s){if(t.x!=i.x)for(var o=(i.y-t.y)/(i.x-t.x),r=this._minX(t.x),a=this._maxX(i.x),h=r;h<=a;++h){var n=t.y+e((h-t.x)*o),_=n+s;n=this._minY(n),_=this._maxY(_);for(var l=n;l<=_;++l)this._drawPixel(h,l)}},i._drawVerticalTriangle=function(t,i,s){if(s.x!=t.x){var o=(s.y-t.y)/(s.x-t.x),r=(s.y-i.y)/(s.x-i.x),a=s.x,h=t.x;a<h&&(a=t.x,h=s.x),h=this._minX(h),a=this._maxX(a);for(var n=h;n<=a;++n)for(var _=this._clampY(e(t.y+(n-t.x)*o)),l=this._clampY(e(i.y+(n-i.x)*r));l<=_;++l)this._drawPixel(n,l)}},i._drawPixel=function(t,i,s){void 0===s&&(s=!1),t=e(t),i=e(i),this._isMaskPoint(t,i)||(this._setMaskPoint(t,i),this._clearPixel(t,i),o.isGM&&s&&(this._updateBottonFog(t,i),this._updateUpFog(t,i)))},i._updateUpFog=function(t,i){for(var s=1,o=this._topHeight1+this._topHeight2;s<=o;++s){var r=i+s;if(r>=this._height-1)break;this._isMaskPoint(t,r)||(s<this._topHeight2?this._clearBorderPixelByColor(t,r,this._topColor2):this._clearBorderPixelByColor(t,r,this._topColor1))}},i._updateBottonFog=function(t,i){for(var s=1,o=this._bottonHeight;s<=o;++s){var r=i-s;if(r<0)return;this._isMaskPoint(t,r)||this._clearBorderPixelByColor(t,r,this._bottonColor)}},i._minX=function(t){return t>=0?t:0},i._maxX=function(t){return t<this._width?t:this._width-1},i._minY=function(t){return t>=0?t:0},i._maxY=function(t){return t<this._height?t:this._height-1},i._clampX=function(t){return t<0?0:t>=this._width?this._width-1:t},i._clampY=function(t){return t<0?0:t>=this._height?this._height-1:t},t}());function e(t){return Math.round(t)}var a=new s,h=new s,n=new s,_=new s,l=new s,c=new s,x=new s,d=new s,y=new s,f=new s;i._RF.pop()}}}));

System.register("chunks:///_virtual/FogMap3.ts",["cc","./YT.ts","./FogBlockList3.ts"],(function(t){var i,s,o,r;return{setters:[function(t){i=t.cclegacy,s=t.Vec2},function(t){o=t.YT},function(t){r=t.FogBlockList3}],execute:function(){i._RF.push({},"24500C/iQJOkpT3qcRTgYF2","FogMap3",void 0);t("FogMap3",function(){function t(t,i){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._blockList=void 0,this._topColor1=void 0,this._topColor2=void 0,this._bottonColor=void 0,this._topHeight1=void 0,this._topHeight2=void 0,this._bottonHeight=void 0,this.init(t,i)}var i=t.prototype;return i.setStyle=function(t,i,s,o,r,e){this._topColor1=t,this._topColor2=i,this._bottonColor=s,this._topHeight1=o,this._topHeight2=r,this._bottonHeight=e},i.init=function(t,i){this._width=e(t),this._height=e(i),this._initMaskPoint()},i.initBlock=function(t,i){this._blockList=new r(this._width,this._height),this._blockList.createItems(t,i)},i._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var t=0;t<this._width;++t){this._maskPoint[t]||(this._maskPoint[t]=[]);for(var i=0;i<this._height;++i)this._maskPoint[t][i]=0}},i._isMaskPoint=function(t,i){try{return 1==this._maskPoint[t][i]}catch(s){console.error(t,i)}},i._setMaskPoint=function(t,i){this._maskPoint[t][i]=1},i._clearPixel=function(t,i){this._blockList.clearFog(t,i)},i._clearBorderPixelByColor=function(t,i,s){this._blockList.clearFogBorderByColor(t,i,s)},i.sysnData=function(){this._blockList.sysnData()},i.clear=function(){this._blockList.clear()},i.clearFog=function(t,i,s,o,r){if(t=e(t),i=e(i),s=e(s),o=e(o),t!=s||i!=o){var _=1;if(n.set(0,0),t==s)n.x=e(.5*r);else if(i==o)n.y=e(.5*r);else{var l=(o-i)/(s-t);_=Math.sqrt(l*l+1),n.y=.5*r/_,n.x=e(n.y*l),n.y=e(n.y)}t>s?(a.set(s,o),h.set(t,i)):(a.set(t,i),h.set(s,o)),this._drawLine(a,h,r,n,_)}},i._drawLine=function(t,i,s,o,r){if(t.y==i.y){var a=t.x<i.x?t.x:i.x;_.set(a,e(t.y-.5*s)),this._drawRect(_,Math.abs(t.x-i.x),s)}else if(t.x==i.x){var h=t.y<i.y?t.y:i.y;_.set(e(t.x-.5*s),h),this._drawRect(_,s,Math.abs(t.y-i.y))}else{var n=(t.x-i.x)/(t.y-i.y);l.set(t.x-o.x,t.y+o.y),c.set(t.x+o.x,t.y-o.y),x.set(i.x-o.x,i.y+o.y),y.set(i.x+o.x,i.y-o.y);var u=e(s*r);i.y>t.y?c.x<x.x?(d.set(c.x,c.y+u),f.set(x.x,x.y-u),this._drawVerticalTriangle(d,c,l),this._drawParallelogram(c,f,u),this._drawVerticalTriangle(x,f,y)):(d.set(c.x,e(x.y-(c.x-x.x)*n)),f.set(x.x,e(c.y+(c.x-x.x)*n)),this._drawVerticalTriangle(x,f,l),this._drawParallelogram(f,c,x.y-f.y),this._drawVerticalTriangle(d,c,y)):l.x<y.x?(d.set(l.x,l.y-u),f.set(y.x,y.y+u),this._drawVerticalTriangle(l,d,c),this._drawParallelogram(d,y,u),this._drawVerticalTriangle(f,y,x)):(d.set(l.x,e(y.y-(l.x-y.x)*n)),f.set(y.x,e(l.y+(l.x-y.x)*n)),this._drawVerticalTriangle(f,y,c),this._drawParallelogram(y,d,l.y-d.y),this._drawVerticalTriangle(l,d,x))}},i.drawRect=function(t,i,s){this._drawRect(t,i,s)},i._drawRect=function(t,i,s){for(var o=this._clampX(t.x),r=this._clampX(t.x+i),e=this._clampY(t.y),a=this._clampY(t.y+s),h=o;h<=r;++h)for(var n=e;n<=a;++n)this._drawPixel(h,n,h==o||h==r||n==e||n==a)},i.circle=function(t,i,s){t=e(t),i=e(i),this._drawCircle(t,i,s)},i._drawCircle=function(t,i,s){if(0!=(s=e(s)))for(var r=s*s,a=this._minX(t-s),h=this._maxX(t+s),n=a;n<=h;++n){var _=t-n;_=e(Math.sqrt(r-_*_));for(var l=this._minY(i-_),c=this._maxY(i+_),x=l;x<=c;++x)this._drawPixel(n,x,x==l||x==c||n==a||n==h);o.isGM||(this._updateBottonFog(n,l),this._updateUpFog(n,c))}},i._drawParallelogram=function(t,i,s){if(t.x!=i.x)for(var o=(i.y-t.y)/(i.x-t.x),r=this._minX(t.x),a=this._maxX(i.x),h=r;h<=a;++h){var n=t.y+e((h-t.x)*o),_=n+s;n=this._minY(n),_=this._maxY(_);for(var l=n;l<=_;++l)this._drawPixel(h,l)}},i._drawVerticalTriangle=function(t,i,s){if(s.x!=t.x){var o=(s.y-t.y)/(s.x-t.x),r=(s.y-i.y)/(s.x-i.x),a=s.x,h=t.x;a<h&&(a=t.x,h=s.x),h=this._minX(h),a=this._maxX(a);for(var n=h;n<=a;++n)for(var _=this._clampY(e(t.y+(n-t.x)*o)),l=this._clampY(e(i.y+(n-i.x)*r));l<=_;++l)this._drawPixel(n,l)}},i._drawPixel=function(t,i,s){void 0===s&&(s=!1),t=e(t),i=e(i),this._isMaskPoint(t,i)||(this._setMaskPoint(t,i),this._clearPixel(t,i),o.isGM&&s&&(this._updateBottonFog(t,i),this._updateUpFog(t,i)))},i._updateUpFog=function(t,i){for(var s=1,o=this._topHeight1+this._topHeight2;s<=o;++s){var r=i+s;if(r>=this._height-1)break;this._isMaskPoint(t,r)||(s<this._topHeight2?this._clearBorderPixelByColor(t,r,this._topColor2):this._clearBorderPixelByColor(t,r,this._topColor1))}},i._updateBottonFog=function(t,i){for(var s=1,o=this._bottonHeight;s<=o;++s){var r=i-s;if(r<0)return;this._isMaskPoint(t,r)||this._clearBorderPixelByColor(t,r,this._bottonColor)}},i._minX=function(t){return t>=0?t:0},i._maxX=function(t){return t<this._width?t:this._width-1},i._minY=function(t){return t>=0?t:0},i._maxY=function(t){return t<this._height?t:this._height-1},i._clampX=function(t){return t<0?0:t>=this._width?this._width-1:t},i._clampY=function(t){return t<0?0:t>=this._height?this._height-1:t},t}());function e(t){return Math.round(t)}var a=new s,h=new s,n=new s,_=new s,l=new s,c=new s,x=new s,y=new s,d=new s,f=new s;i._RF.pop()}}}));

System.register("chunks:///_virtual/FogMap4.ts",["cc","./YT.ts","./FogBlockList4.ts"],(function(t){var i,s,o,r;return{setters:[function(t){i=t.cclegacy,s=t.Vec2},function(t){o=t.YT},function(t){r=t.FogBlockList}],execute:function(){i._RF.push({},"5c19fFT+/ZMs5B9pQq4wjbL","FogMap4",void 0);t("FogMap",function(){function t(t,i){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._blockList=void 0,this._topColor1=void 0,this._topColor2=void 0,this._bottonColor=void 0,this._topHeight1=void 0,this._topHeight2=void 0,this._bottonHeight=void 0,this.init(t,i)}var i=t.prototype;return i.setStyle=function(t,i,s,o,r,e){this._topColor1=t,this._topColor2=i,this._bottonColor=s,this._topHeight1=o,this._topHeight2=r,this._bottonHeight=e},i.init=function(t,i){this._width=e(t),this._height=e(i),this._initMaskPoint()},i.initBlock=function(t,i){this._blockList=new r(this._width,this._height),this._blockList.createItems(t,i)},i._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var t=0;t<this._width;++t){this._maskPoint[t]||(this._maskPoint[t]=[]);for(var i=0;i<this._height;++i)this._maskPoint[t][i]=0}},i._isMaskPoint=function(t,i){try{return 1==this._maskPoint[t][i]}catch(s){console.error(t,i)}},i._setMaskPoint=function(t,i){this._maskPoint[t][i]=1},i._clearPixel=function(t,i){this._blockList.clearFog(t,i)},i._clearBorderPixelByColor=function(t,i,s){this._blockList.clearFogBorderByColor(t,i,s)},i.sysnData=function(){this._blockList.sysnData()},i.clear=function(){this._blockList.clear()},i.clearFog=function(t,i,s,o,r){if(t=e(t),i=e(i),s=e(s),o=e(o),t!=s||i!=o){var _=1;if(n.set(0,0),t==s)n.x=e(.5*r);else if(i==o)n.y=e(.5*r);else{var l=(o-i)/(s-t);_=Math.sqrt(l*l+1),n.y=.5*r/_,n.x=e(n.y*l),n.y=e(n.y)}t>s?(a.set(s,o),h.set(t,i)):(a.set(t,i),h.set(s,o)),this._drawLine(a,h,r,n,_)}},i._drawLine=function(t,i,s,o,r){if(t.y==i.y){var a=t.x<i.x?t.x:i.x;_.set(a,e(t.y-.5*s)),this._drawRect(_,Math.abs(t.x-i.x),s)}else if(t.x==i.x){var h=t.y<i.y?t.y:i.y;_.set(e(t.x-.5*s),h),this._drawRect(_,s,Math.abs(t.y-i.y))}else{var n=(t.x-i.x)/(t.y-i.y);l.set(t.x-o.x,t.y+o.y),c.set(t.x+o.x,t.y-o.y),x.set(i.x-o.x,i.y+o.y),y.set(i.x+o.x,i.y-o.y);var u=e(s*r);i.y>t.y?c.x<x.x?(d.set(c.x,c.y+u),f.set(x.x,x.y-u),this._drawVerticalTriangle(d,c,l),this._drawParallelogram(c,f,u),this._drawVerticalTriangle(x,f,y)):(d.set(c.x,e(x.y-(c.x-x.x)*n)),f.set(x.x,e(c.y+(c.x-x.x)*n)),this._drawVerticalTriangle(x,f,l),this._drawParallelogram(f,c,x.y-f.y),this._drawVerticalTriangle(d,c,y)):l.x<y.x?(d.set(l.x,l.y-u),f.set(y.x,y.y+u),this._drawVerticalTriangle(l,d,c),this._drawParallelogram(d,y,u),this._drawVerticalTriangle(f,y,x)):(d.set(l.x,e(y.y-(l.x-y.x)*n)),f.set(y.x,e(l.y+(l.x-y.x)*n)),this._drawVerticalTriangle(f,y,c),this._drawParallelogram(y,d,l.y-d.y),this._drawVerticalTriangle(l,d,x))}},i.drawRect=function(t,i,s){this._drawRect(t,i,s)},i._drawRect=function(t,i,s){for(var o=this._clampX(t.x),r=this._clampX(t.x+i),e=this._clampY(t.y),a=this._clampY(t.y+s),h=o;h<=r;++h)for(var n=e;n<=a;++n)this._drawPixel(h,n,h==o||h==r||n==e||n==a)},i.circle=function(t,i,s){t=e(t),i=e(i),this._drawCircle(t,i,s)},i._drawCircle=function(t,i,s){if(0!=(s=e(s)))for(var r=s*s,a=this._minX(t-s),h=this._maxX(t+s),n=a;n<=h;++n){var _=t-n;_=e(Math.sqrt(r-_*_));for(var l=this._minY(i-_),c=this._maxY(i+_),x=l;x<=c;++x)this._drawPixel(n,x,x==l||x==c||n==a||n==h);o.isGM||(this._updateBottonFog(n,l),this._updateUpFog(n,c))}},i._drawParallelogram=function(t,i,s){if(t.x!=i.x)for(var o=(i.y-t.y)/(i.x-t.x),r=this._minX(t.x),a=this._maxX(i.x),h=r;h<=a;++h){var n=t.y+e((h-t.x)*o),_=n+s;n=this._minY(n),_=this._maxY(_);for(var l=n;l<=_;++l)this._drawPixel(h,l)}},i._drawVerticalTriangle=function(t,i,s){if(s.x!=t.x){var o=(s.y-t.y)/(s.x-t.x),r=(s.y-i.y)/(s.x-i.x),a=s.x,h=t.x;a<h&&(a=t.x,h=s.x),h=this._minX(h),a=this._maxX(a);for(var n=h;n<=a;++n)for(var _=this._clampY(e(t.y+(n-t.x)*o)),l=this._clampY(e(i.y+(n-i.x)*r));l<=_;++l)this._drawPixel(n,l)}},i._drawPixel=function(t,i,s){void 0===s&&(s=!1),t=e(t),i=e(i),this._isMaskPoint(t,i)||(this._setMaskPoint(t,i),this._clearPixel(t,i),o.isGM&&s&&(this._updateBottonFog(t,i),this._updateUpFog(t,i)))},i._updateUpFog=function(t,i){for(var s=1,o=this._topHeight1+this._topHeight2;s<=o;++s){var r=i+s;if(r>=this._height-1)break;this._isMaskPoint(t,r)||(s<this._topHeight2?this._clearBorderPixelByColor(t,r,this._topColor2):this._clearBorderPixelByColor(t,r,this._topColor1))}},i._updateBottonFog=function(t,i){for(var s=1,o=this._bottonHeight;s<=o;++s){var r=i-s;if(r<0)return;this._isMaskPoint(t,r)||this._clearBorderPixelByColor(t,r,this._bottonColor)}},i._minX=function(t){return t>=0?t:0},i._maxX=function(t){return t<this._width?t:this._width-1},i._minY=function(t){return t>=0?t:0},i._maxY=function(t){return t<this._height?t:this._height-1},i._clampX=function(t){return t<0?0:t>=this._width?this._width-1:t},i._clampY=function(t){return t<0?0:t>=this._height?this._height-1:t},t}());function e(t){return Math.round(t)}var a=new s,h=new s,n=new s,_=new s,l=new s,c=new s,x=new s,y=new s,d=new s,f=new s;i._RF.pop()}}}));

System.register("chunks:///_virtual/FogMap5.ts",["cc","./YT.ts","./FogBlockList5.ts"],(function(t){var i,s,o,r;return{setters:[function(t){i=t.cclegacy,s=t.Vec2},function(t){o=t.YT},function(t){r=t.FogBlockList}],execute:function(){i._RF.push({},"cad075RWnNGWYjP2qT3YKJC","FogMap5",void 0);t("FogMap",function(){function t(t,i){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._blockList=void 0,this._topColor1=void 0,this._topColor2=void 0,this._bottonColor=void 0,this._topHeight1=void 0,this._topHeight2=void 0,this._bottonHeight=void 0,this.init(t,i)}var i=t.prototype;return i.setStyle=function(t,i,s,o,r,a){this._topColor1=t,this._topColor2=i,this._bottonColor=s,this._topHeight1=o,this._topHeight2=r,this._bottonHeight=a},i.init=function(t,i){this._width=a(t),this._height=a(i),this._initMaskPoint()},i.initBlock=function(t,i){this._blockList=new r(this._width,this._height),this._blockList.createItems(t,i)},i._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var t=0;t<this._width;++t){this._maskPoint[t]||(this._maskPoint[t]=[]);for(var i=0;i<this._height;++i)this._maskPoint[t][i]=0}},i._isMaskPoint=function(t,i){try{return 1==this._maskPoint[t][i]}catch(s){console.error(t,i)}},i._setMaskPoint=function(t,i){this._maskPoint[t][i]=1},i._clearPixel=function(t,i){this._blockList.clearFog(t,i)},i._clearBorderPixelByColor=function(t,i,s){this._blockList.clearFogBorderByColor(t,i,s)},i.sysnData=function(){this._blockList.sysnData()},i.clear=function(){this._blockList.clear()},i.clearFog=function(t,i,s,o,r){if(t=a(t),i=a(i),s=a(s),o=a(o),t!=s||i!=o){var _=1;if(n.set(0,0),t==s)n.x=a(.5*r);else if(i==o)n.y=a(.5*r);else{var l=(o-i)/(s-t);_=Math.sqrt(l*l+1),n.y=.5*r/_,n.x=a(n.y*l),n.y=a(n.y)}t>s?(e.set(s,o),h.set(t,i)):(e.set(t,i),h.set(s,o)),this._drawLine(e,h,r,n,_)}},i._drawLine=function(t,i,s,o,r){if(t.y==i.y){var e=t.x<i.x?t.x:i.x;_.set(e,a(t.y-.5*s)),this._drawRect(_,Math.abs(t.x-i.x),s)}else if(t.x==i.x){var h=t.y<i.y?t.y:i.y;_.set(a(t.x-.5*s),h),this._drawRect(_,s,Math.abs(t.y-i.y))}else{var n=(t.x-i.x)/(t.y-i.y);l.set(t.x-o.x,t.y+o.y),c.set(t.x+o.x,t.y-o.y),x.set(i.x-o.x,i.y+o.y),d.set(i.x+o.x,i.y-o.y);var u=a(s*r);i.y>t.y?c.x<x.x?(y.set(c.x,c.y+u),f.set(x.x,x.y-u),this._drawVerticalTriangle(y,c,l),this._drawParallelogram(c,f,u),this._drawVerticalTriangle(x,f,d)):(y.set(c.x,a(x.y-(c.x-x.x)*n)),f.set(x.x,a(c.y+(c.x-x.x)*n)),this._drawVerticalTriangle(x,f,l),this._drawParallelogram(f,c,x.y-f.y),this._drawVerticalTriangle(y,c,d)):l.x<d.x?(y.set(l.x,l.y-u),f.set(d.x,d.y+u),this._drawVerticalTriangle(l,y,c),this._drawParallelogram(y,d,u),this._drawVerticalTriangle(f,d,x)):(y.set(l.x,a(d.y-(l.x-d.x)*n)),f.set(d.x,a(l.y+(l.x-d.x)*n)),this._drawVerticalTriangle(f,d,c),this._drawParallelogram(d,y,l.y-y.y),this._drawVerticalTriangle(l,y,x))}},i.drawRect=function(t,i,s){this._drawRect(t,i,s)},i._drawRect=function(t,i,s){for(var o=this._clampX(t.x),r=this._clampX(t.x+i),a=this._clampY(t.y),e=this._clampY(t.y+s),h=o;h<=r;++h)for(var n=a;n<=e;++n)this._drawPixel(h,n,h==o||h==r||n==a||n==e)},i.circle=function(t,i,s){t=a(t),i=a(i),this._drawCircle(t,i,s)},i._drawCircle=function(t,i,s){if(0!=(s=a(s)))for(var r=s*s,e=this._minX(t-s),h=this._maxX(t+s),n=e;n<=h;++n){var _=t-n;_=a(Math.sqrt(r-_*_));for(var l=this._minY(i-_),c=this._maxY(i+_),x=l;x<=c;++x)this._drawPixel(n,x,x==l||x==c||n==e||n==h);o.isGM||(this._updateBottonFog(n,l),this._updateUpFog(n,c))}},i._drawParallelogram=function(t,i,s){if(t.x!=i.x)for(var o=(i.y-t.y)/(i.x-t.x),r=this._minX(t.x),e=this._maxX(i.x),h=r;h<=e;++h){var n=t.y+a((h-t.x)*o),_=n+s;n=this._minY(n),_=this._maxY(_);for(var l=n;l<=_;++l)this._drawPixel(h,l)}},i._drawVerticalTriangle=function(t,i,s){if(s.x!=t.x){var o=(s.y-t.y)/(s.x-t.x),r=(s.y-i.y)/(s.x-i.x),e=s.x,h=t.x;e<h&&(e=t.x,h=s.x),h=this._minX(h),e=this._maxX(e);for(var n=h;n<=e;++n)for(var _=this._clampY(a(t.y+(n-t.x)*o)),l=this._clampY(a(i.y+(n-i.x)*r));l<=_;++l)this._drawPixel(n,l)}},i._drawPixel=function(t,i,s){void 0===s&&(s=!1),t=a(t),i=a(i),this._isMaskPoint(t,i)||(this._setMaskPoint(t,i),this._clearPixel(t,i),o.isGM&&s&&(this._updateBottonFog(t,i),this._updateUpFog(t,i)))},i._updateUpFog=function(t,i){for(var s=1,o=this._topHeight1+this._topHeight2;s<=o;++s){var r=i+s;if(r>=this._height-1)break;this._isMaskPoint(t,r)||(s<this._topHeight2?this._clearBorderPixelByColor(t,r,this._topColor2):this._clearBorderPixelByColor(t,r,this._topColor1))}},i._updateBottonFog=function(t,i){for(var s=1,o=this._bottonHeight;s<=o;++s){var r=i-s;if(r<0)return;this._isMaskPoint(t,r)||this._clearBorderPixelByColor(t,r,this._bottonColor)}},i._minX=function(t){return t>=0?t:0},i._maxX=function(t){return t<this._width?t:this._width-1},i._minY=function(t){return t>=0?t:0},i._maxY=function(t){return t<this._height?t:this._height-1},i._clampX=function(t){return t<0?0:t>=this._width?this._width-1:t},i._clampY=function(t){return t<0?0:t>=this._height?this._height-1:t},t}());function a(t){return Math.round(t)}var e=new s,h=new s,n=new s,_=new s,l=new s,c=new s,x=new s,d=new s,y=new s,f=new s;i._RF.pop()}}}));

System.register("chunks:///_virtual/FogMap6.ts",["cc","./YT.ts","./FogBlockList6.ts"],(function(t){var i,s,o,r;return{setters:[function(t){i=t.cclegacy,s=t.Vec2},function(t){o=t.YT},function(t){r=t.FogBlockList}],execute:function(){i._RF.push({},"9d15arvCPNEzrwsQc20HwaB","FogMap6",void 0);t("FogMap",function(){function t(t,i){this._width=void 0,this._height=void 0,this._maskPoint=void 0,this._blockList=void 0,this._topColor1=void 0,this._topColor2=void 0,this._bottonColor=void 0,this._topHeight1=void 0,this._topHeight2=void 0,this._bottonHeight=void 0,this.init(t,i)}var i=t.prototype;return i.setStyle=function(t,i,s,o,r,a){this._topColor1=t,this._topColor2=i,this._bottonColor=s,this._topHeight1=o,this._topHeight2=r,this._bottonHeight=a},i.init=function(t,i){this._width=a(t),this._height=a(i),this._initMaskPoint()},i.initBlock=function(t,i){this._blockList=new r(this._width,this._height),this._blockList.createItems(t,i)},i._initMaskPoint=function(){this._maskPoint||(this._maskPoint=[]);for(var t=0;t<this._width;++t){this._maskPoint[t]||(this._maskPoint[t]=[]);for(var i=0;i<this._height;++i)this._maskPoint[t][i]=0}},i._isMaskPoint=function(t,i){try{return 1==this._maskPoint[t][i]}catch(s){console.error(t,i)}},i._setMaskPoint=function(t,i){this._maskPoint[t][i]=1},i._clearPixel=function(t,i){this._blockList.clearFog(t,i)},i._clearBorderPixelByColor=function(t,i,s){this._blockList.clearFogBorderByColor(t,i,s)},i.sysnData=function(){this._blockList.sysnData()},i.clear=function(){this._blockList.clear()},i.clearFog=function(t,i,s,o,r){if(t=a(t),i=a(i),s=a(s),o=a(o),t!=s||i!=o){var _=1;if(n.set(0,0),t==s)n.x=a(.5*r);else if(i==o)n.y=a(.5*r);else{var l=(o-i)/(s-t);_=Math.sqrt(l*l+1),n.y=.5*r/_,n.x=a(n.y*l),n.y=a(n.y)}t>s?(e.set(s,o),h.set(t,i)):(e.set(t,i),h.set(s,o)),this._drawLine(e,h,r,n,_)}},i._drawLine=function(t,i,s,o,r){if(t.y==i.y){var e=t.x<i.x?t.x:i.x;_.set(e,a(t.y-.5*s)),this._drawRect(_,Math.abs(t.x-i.x),s)}else if(t.x==i.x){var h=t.y<i.y?t.y:i.y;_.set(a(t.x-.5*s),h),this._drawRect(_,s,Math.abs(t.y-i.y))}else{var n=(t.x-i.x)/(t.y-i.y);l.set(t.x-o.x,t.y+o.y),c.set(t.x+o.x,t.y-o.y),x.set(i.x-o.x,i.y+o.y),d.set(i.x+o.x,i.y-o.y);var u=a(s*r);i.y>t.y?c.x<x.x?(y.set(c.x,c.y+u),f.set(x.x,x.y-u),this._drawVerticalTriangle(y,c,l),this._drawParallelogram(c,f,u),this._drawVerticalTriangle(x,f,d)):(y.set(c.x,a(x.y-(c.x-x.x)*n)),f.set(x.x,a(c.y+(c.x-x.x)*n)),this._drawVerticalTriangle(x,f,l),this._drawParallelogram(f,c,x.y-f.y),this._drawVerticalTriangle(y,c,d)):l.x<d.x?(y.set(l.x,l.y-u),f.set(d.x,d.y+u),this._drawVerticalTriangle(l,y,c),this._drawParallelogram(y,d,u),this._drawVerticalTriangle(f,d,x)):(y.set(l.x,a(d.y-(l.x-d.x)*n)),f.set(d.x,a(l.y+(l.x-d.x)*n)),this._drawVerticalTriangle(f,d,c),this._drawParallelogram(d,y,l.y-y.y),this._drawVerticalTriangle(l,y,x))}},i.drawRect=function(t,i,s){this._drawRect(t,i,s)},i._drawRect=function(t,i,s){for(var o=this._clampX(t.x),r=this._clampX(t.x+i),a=this._clampY(t.y),e=this._clampY(t.y+s),h=o;h<=r;++h)for(var n=a;n<=e;++n)this._drawPixel(h,n,h==o||h==r||n==a||n==e)},i.circle=function(t,i,s){t=a(t),i=a(i),this._drawCircle(t,i,s)},i._drawCircle=function(t,i,s){if(0!=(s=a(s)))for(var r=s*s,e=this._minX(t-s),h=this._maxX(t+s),n=e;n<=h;++n){var _=t-n;_=a(Math.sqrt(r-_*_));for(var l=this._minY(i-_),c=this._maxY(i+_),x=l;x<=c;++x)this._drawPixel(n,x,x==l||x==c||n==e||n==h);o.isGM||(this._updateBottonFog(n,l),this._updateUpFog(n,c))}},i._drawParallelogram=function(t,i,s){if(t.x!=i.x)for(var o=(i.y-t.y)/(i.x-t.x),r=this._minX(t.x),e=this._maxX(i.x),h=r;h<=e;++h){var n=t.y+a((h-t.x)*o),_=n+s;n=this._minY(n),_=this._maxY(_);for(var l=n;l<=_;++l)this._drawPixel(h,l)}},i._drawVerticalTriangle=function(t,i,s){if(s.x!=t.x){var o=(s.y-t.y)/(s.x-t.x),r=(s.y-i.y)/(s.x-i.x),e=s.x,h=t.x;e<h&&(e=t.x,h=s.x),h=this._minX(h),e=this._maxX(e);for(var n=h;n<=e;++n)for(var _=this._clampY(a(t.y+(n-t.x)*o)),l=this._clampY(a(i.y+(n-i.x)*r));l<=_;++l)this._drawPixel(n,l)}},i._drawPixel=function(t,i,s){void 0===s&&(s=!1),t=a(t),i=a(i),this._isMaskPoint(t,i)||(this._setMaskPoint(t,i),this._clearPixel(t,i),o.isGM&&s&&(this._updateBottonFog(t,i),this._updateUpFog(t,i)))},i._updateUpFog=function(t,i){for(var s=1,o=this._topHeight1+this._topHeight2;s<=o;++s){var r=i+s;if(r>=this._height-1)break;this._isMaskPoint(t,r)||(s<this._topHeight2?this._clearBorderPixelByColor(t,r,this._topColor2):this._clearBorderPixelByColor(t,r,this._topColor1))}},i._updateBottonFog=function(t,i){for(var s=1,o=this._bottonHeight;s<=o;++s){var r=i-s;if(r<0)return;this._isMaskPoint(t,r)||this._clearBorderPixelByColor(t,r,this._bottonColor)}},i._minX=function(t){return t>=0?t:0},i._maxX=function(t){return t<this._width?t:this._width-1},i._minY=function(t){return t>=0?t:0},i._maxY=function(t){return t<this._height?t:this._height-1},i._clampX=function(t){return t<0?0:t>=this._width?this._width-1:t},i._clampY=function(t){return t<0?0:t>=this._height?this._height-1:t},t}());function a(t){return Math.round(t)}var e=new s,h=new s,n=new s,_=new s,l=new s,c=new s,x=new s,d=new s,y=new s,f=new s;i._RF.pop()}}}));

System.register("chunks:///_virtual/FollowPos.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var s,o,e,i,r,h,n,p,a,l,c,u,f;return{setters:[function(t){s=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,h=t._decorator,n=t.v3,p=t.v2,a=t.Prefab,l=t.instantiate,c=t.Node,u=t.clamp,f=t.Component}],execute:function(){var v,d,P,g;r._RF.push({},"cff16akqvlF6ZuSEentr40x","FollowPos",void 0);var y=h.ccclass,A=h.property,x=(h.executeInEditMode,n()),w=p(),S=n(),M=n(),b=n();n(),t("default",(v=A(a),y((g=s((P=function(t){function s(){for(var s,o=arguments.length,r=new Array(o),h=0;h<o;h++)r[h]=arguments[h];return(s=t.call.apply(t,[this].concat(r))||this).points=[],s.pathArr=[],s.isMoveFinish=!0,e(s,"body",g,i(s)),s.space=20,s.followPos=n(),s.targetPos=n(),s.preStepPos=n(),s}o(s,t);var r=s.prototype;return r.onLoad=function(){for(var t=0;t<50;t++){var s=l(this.body);s.parent=this.node,S.set(t*this.space-300,0,0),s.setWorldPosition(S),this.points.push({node:s,pos:n(S),toIdx:t}),this.pathArr.push(n(S))}this.preStepPos.set(this.pathArr[this.pathArr.length-1]),this.followPos.set(this.preStepPos),this.targetPos.set(this.preStepPos)},r.start=function(){this.registerEventListeners()},r.registerEventListeners=function(){this.node.on(c.EventType.TOUCH_START,this.onMouseMove,this),this.node.on(c.EventType.TOUCH_MOVE,this.onMouseMove,this)},r.onMouseMove=function(t){t.getUILocation(w),this.targetPos.set(w.x,w.y)},r.setPath=function(t){this.followPos.lerp(this.targetPos,t/.016*.1),x.set(this.followPos).subtract(this.preStepPos);var s=this.preStepPos.x,o=this.preStepPos.y,e=x.length(),i=Math.floor(e/this.space);if(i>0){for(var r=x.normalize().multiplyScalar(this.space),h=1;h<=i;h++){var p=s+h*r.x,a=o+h*r.y;this.preStepPos.set(p,a),this.pathArr.push(n(p,a)),this.isMoveFinish=!1}this.pathArr.push(n(this.followPos.x,this.followPos.y))}else this.pathArr[this.pathArr.length-1].set(n(this.followPos.x,this.followPos.y))},r.update=function(t){this.setPath(t),this.move2(t)},r.move2=function(t){var s=this.points.length,o=(this.pathArr.length,this.points[s-1]),e=this.pathArr.length-1;o.toIdx=e,o.pos.set(this.pathArr[e]),o.node.setWorldPosition(o.pos);for(var i=s-2;i>=0;i--){var r=this.points[i+1],h=this.points[i],n=b.set(r.pos),p=!0,a=r.toIdx,l=this.space;do{var c=a-1;if(c<0)S.set(0,0,0),p=!1;else{var f=S.set(this.pathArr[c]).subtract(n).length();f<l?(a=c,n.set(this.pathArr[a]),l-=f):p=!1}}while(p);M.set(S).normalize(),M.multiplyScalar(l).add(this.pathArr[a]),h.toIdx=a,h.pos.set(M),h.node.setWorldPosition(h.pos)}if(this.points[0]){var v=u(this.points[0].toIdx-1,0,this.pathArr.length-1);this.pathArr.splice(0,v);for(var d=0;d<this.points.length;d++){this.points[d].toIdx-=v}}},s}(f)).prototype,"body",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=P))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/FontBinder.ts",["cc","./fairygui.mjs","./UI_DamageBoardCrit1.ts","./UI_DamageBoard1.ts","./UI_DamageBoard.ts","./UI_DamageBoardCrit.ts"],(function(t){var n,e,i,o,a,u;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){i=t.default},function(t){o=t.default},function(t){a=t.default},function(t){u=t.default}],execute:function(){n._RF.push({},"d95ecXBfahFCJ0pzZ187Q9Q","FontBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(i.URL,i),e.setExtension(o.URL,o),e.setExtension(a.URL,a),e.setExtension(u.URL,u)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/FrameArraySprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,a,p,s,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,p=e._decorator,s=e.Sprite,c=e.SpriteFrame,l=e.CCInteger,u=e.Component}],execute:function(){var y,m,d,f,h,_,F,b,g;a._RF.push({},"aab8baNms5Lk7oNi7lGlCxr","FrameArraySprite",void 0);var x=p.ccclass,v=p.property,C=p.executeInEditMode,S=p.requireComponent;e("FrameArraySprite",(y=x("FrameArraySprite"),m=S(s),d=v({type:[c],tooltip:"帧图片列表",visible:!0}),f=v({type:l,tooltip:"当前显示的帧图"}),h=v({type:l}),y(_=C(_=m((b=t((F=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_spriteFrames",b,n(t)),i(t,"_index",g,n(t)),t}return r(t,e),o(t,[{key:"index",get:function(){return this._index},set:function(e){e<0||(this._index=e%this._spriteFrames.length,this.node.getComponent(s).spriteFrame=this._spriteFrames[this._index])}}]),t}(u)).prototype,"_spriteFrames",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null]}}),t(F.prototype,"index",[f],Object.getOwnPropertyDescriptor(F.prototype,"index"),F.prototype),g=t(F.prototype,"_index",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=F))||_)||_)||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/FrameInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,r,t,n;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){t=e.cclegacy,n=e._decorator}],execute:function(){var a,o,l,u,p,s,c,f,m,b,y,h,d;t._RF.push({},"b1114x1AEJInogBOpvxH9hd","FrameInfo",void 0);var g=n.ccclass,v=n.property;n.requireComponent,n.menu,e("FrameInfo",(a=g("FrameInfo"),o=v({displayName:"动作名前缀"}),l=v({displayName:"帧数"}),u=v({displayName:"帧间隔模式(帧率模式)"}),p=v({displayName:"间隔帧数(帧率)"}),s=v({displayName:"是否循环"}),a((m=i((f=function(){r(this,"suffix",m,this),r(this,"frame",b,this),r(this,"mode",y,this),r(this,"value",h,this),r(this,"loop",d,this)}).prototype,"suffix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=i(f.prototype,"frame",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=i(f.prototype,"mode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=i(f.prototype,"value",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=i(f.prototype,"loop",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=f))||c));t._RF.pop()}}}));

System.register("chunks:///_virtual/FrameSequenceCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrameInfo.ts"],(function(e){var t,i,n,r,a,s,l,o,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.Sprite,o=e.Component},function(e){u=e.FrameInfo}],execute:function(){var h,c,m,_,f,p,d,y,v,F;a._RF.push({},"88c1dR6+DVOjZ2k/uVrMxJy","FrameSequenceCmp",void 0);var b=s.ccclass,g=s.property,A=s.menu;e("FrameSequenceCmp",(h=b("FrameSequenceCmp"),c=A("序列帧/间隔"),m=g(l),_=g({type:[u],displayName:"动画列表"}),f=g({displayName:"默认动画"}),h(p=c((y=t((d=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"frame",y,r(t)),n(t,"animations",v,r(t)),n(t,"defaultAnim",F,r(t)),t._isPlaying=!1,t._current=void 0,t._frame=void 0,t._delay=void 0,t._interval=void 0,t}i(t,e);var a=t.prototype;return a.onEnable=function(){this.defaultAnim>=0?this.playAnim(this.defaultAnim):(this.enabled=!1,this._isPlaying=!1)},a.playAnim=function(e){e>=0&&e<this.animations.length?(this.enabled=!0,this._isPlaying=!0,this._frame=0,this._delay=0,this._current=this.animations[e],this._current.mode?this._interval=1/this._current.value:this._interval=this._current.value,this._setFrame()):this.stop()},a.stop=function(){this.enabled=!1,this._isPlaying=!1},a.update=function(e){if(this._isPlaying)if(this._current.mode)for(this._delay+=e;this._delay>=this._interval;)this._delay-=this._interval,this._nextFrame();else this._delay=(this._delay+1)%this._interval,0==this._delay&&this._nextFrame()},a._nextFrame=function(){this._frame=(this._frame+1)%this._current.frame,(0!=this._frame||this._current.loop)&&this._setFrame()},a._setFrame=function(){this.frame.changeSpriteFrameFromAtlas(this._current.suffix+"_"+this._frame)},t}(o)).prototype,"frame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(d.prototype,"animations",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(d.prototype,"defaultAnim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=d))||p)||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/FreeList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9e4a9oRH8VCJKCiy5T9Pn9B","FreeList",void 0);t("FreeList",function(){function t(t,n,e){this._name=null,this._max=0,this._constructor=null,this._data=null,this._name=t,this._max=n,this._constructor=e,this._data=new Array}var e=t.prototype;return e.alloc=function(){return this._data.length?this._data.pop():this._constructor.apply(this,arguments)},e.free=function(t){return this._data.length<this._max&&(this._data.push(t),!0)},n(t,[{key:"name",get:function(){return this._name}},{key:"max",get:function(){return this._max}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/G11BoxConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("G11BoxConfig",void 0),t._RF.push({},"dc3baVlgNxP67JcncOPG8/m","G11BoxConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.capacity=void 0,this.skills=void 0,this.skill_weight=void 0};i.isConst=!1,i.path="config/G11BoxConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("G11BoxConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/G11Const.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var o;t("G11Const",void 0),n._RF.push({},"ca374CEUDhFWaNczURr5PrQ","G11Const",void 0),function(t){t.config=function(){this.extAttack=void 0,this.extAttackSpeed=void 0};t.isConst=!0,t.path="config/G11Const",t.extPath=void 0,t.data=null}(o||(o=t("G11Const",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/G11EmitterConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("G11EmitterConfig",void 0),t._RF.push({},"268ebeT4fFNFoGpUx+GZsKC","G11EmitterConfig",void 0),function(i){i.config=function(){this.id=void 0,this.fire_audio=void 0,this.bullet_path=void 0,this.bundle=void 0,this.speed=void 0,this.radius=void 0,this.time=void 0,this.shape=void 0,this.shape_param=void 0,this.bullet_num=void 0,this.cost_bullet=void 0};i.isConst=!1,i.path="config/G11EmitterConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("G11EmitterConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/G11LevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("G11LevelConfig",void 0),t._RF.push({},"1e480u2n8JFhrrPjW+LN4ml","G11LevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.mode=void 0,this.outline=void 0,this.ad=void 0,this.icon=void 0,this.cup_path=void 0,this.path=void 0,this.bullet_path=void 0,this.role_path=void 0,this.bundle=void 0,this.gravity=void 0,this.impulse=void 0,this.bullet_num=void 0,this.duration=void 0,this.refresh_id=void 0,this.easy_refresh_id=void 0,this.easy_cnt=void 0,this.pass_count=void 0,this.zombie_wave=void 0,this.hp=void 0,this.weapon=void 0,this.bgm=void 0,this.move_speed=void 0,this.hp_ratio=void 0,this.weapon_type=void 0};i.isConst=!1,i.path="config/G11LevelConfig",i.extPath="config/G11LevelConfig@player",i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("G11LevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/G11MonsterConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("G11MonsterConfig",void 0),t._RF.push({},"cc7efFKCfJHG4PhObTyUG7l","G11MonsterConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.hp=void 0,this.size=void 0,this.scale=void 0,this.motion_name=void 0,this.hit_effect=void 0,this.hit_audio=void 0,this.dead_effect=void 0,this.dead_audio=void 0,this.atk_duration=void 0,this.atk=void 0,this.move_speed=void 0};i.isConst=!1,i.path="config/G11MonsterConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("G11MonsterConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/G11RefreshConfig.ts",["cc"],(function(i){var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){var n;i("G11RefreshConfig",void 0),e._RF.push({},"ce989pAVENE8ZH2w1XRmarL","G11RefreshConfig",void 0),function(i){i.config=function(){this.id=void 0,this.enemy_born=void 0,this.enemy_ids=void 0,this.enemy_count=void 0};i.isConst=!1,i.path="config/G11RefreshConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("G11RefreshConfig",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/G11SkillConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("G11SkillConfig",void 0),t._RF.push({},"b5cfbwSQ+JMHJavd99i5xVP","G11SkillConfig",void 0),function(i){i.config=function(){this.id=void 0,this.icon=void 0,this.type=void 0,this.value=void 0,this.desc=void 0};i.isConst=!1,i.path="config/G11SkillConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("G11SkillConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/G11WeaponConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("G11WeaponConfig",void 0),t._RF.push({},"eac2b/eLbBFx5Lrer4PXBDE","G11WeaponConfig",void 0),function(i){i.config=function(){this.id=void 0,this.icon=void 0,this.icon_bundle=void 0,this.skinType=void 0,this.skinName=void 0,this.slotName=void 0,this.attaName=void 0,this.scale=void 0,this.damage=void 0,this.motion_name=void 0,this.idle2_name=void 0,this.bullet_add=void 0,this.emitter_id=void 0,this.shoot_step=void 0,this.shoot_time=void 0,this.shoot_anim_speed=void 0,this.fire_offset=void 0,this.multable=void 0,this.bullet_limit=void 0,this.ext_atk=void 0,this.show_model=void 0,this.drop_model=void 0};i.isConst=!1,i.path="config/G11WeaponConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("G11WeaponConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/G12LevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("G12LevelConfig",void 0),t._RF.push({},"930cf1gO7tIuZJTkz5K1HOu","G12LevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.mode=void 0,this.outline=void 0,this.ad=void 0,this.icon=void 0,this.cup_path=void 0,this.path=void 0,this.bullet_path=void 0,this.role_path=void 0,this.bundle=void 0,this.gravity=void 0,this.impulse=void 0,this.bullet_num=void 0,this.duration=void 0,this.refresh_id=void 0,this.pass_count=void 0,this.zombie_wave=void 0,this.hp=void 0,this.weapon=void 0,this.bgm=void 0,this.move_speed=void 0,this.hp_ratio=void 0,this.weapon_type=void 0};i.isConst=!1,i.path="config/G12LevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("G12LevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/G13LevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("G13LevelConfig",void 0),t._RF.push({},"be8311FAEVAkLA8zXTzF1ED","G13LevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.mode=void 0,this.outline=void 0,this.ad=void 0,this.icon=void 0,this.cup_path=void 0,this.path=void 0,this.bullet_path=void 0,this.role_path=void 0,this.bundle=void 0,this.gravity=void 0,this.impulse=void 0,this.bullet_num=void 0,this.duration=void 0,this.refresh_id=void 0,this.pass_count=void 0,this.zombie_wave=void 0,this.hp=void 0,this.weapon=void 0,this.bgm=void 0,this.move_speed=void 0,this.hp_ratio=void 0,this.weapon_type=void 0};i.isConst=!1,i.path="config/G13LevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("G13LevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/Game11AddHpView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(e){var t,n,i,r,a,o,c,s,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,l=e.Node,u=e.Component},function(e){p=e.YT}],execute:function(){var d,f,h,y,m,g,v;c._RF.push({},"1dff0QqZgZLDb7IHNruz1v3","Game11AddHpView",void 0);var w=s.ccclass,b=s.property;e("Game11AddHpView",(d=w("Game11AddHpView"),f=b({displayName:"广告按钮",type:l}),h=b({displayName:"关闭按钮",type:l}),d((g=t((m=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"adBtn",g,r(t)),i(t,"closeBtn",v,r(t)),t}n(t,e);var c=t.prototype;return c.show=function(){this.node.active=!0,p.logic.pause()},c.hideMe=function(){this.node.active=!1,p.logic.resume()},c.onClickCloseBtn=function(){this.hideMe()},c.onClickADBtn=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.game.watchAD("让子弹射-加血");case 2:if(!e.sent){e.next=5;break}p.logic.state.players[0].addHp(100),this.hideMe();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(u)).prototype,"adBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"closeBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=m))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockCapacityCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11BlockCmpBase.ts","./EGame11Enums.ts"],(function(e){var t,i,a,r,c,o,l,n,p,s,y,u,h,m,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,c=e.createClass},function(e){o=e.cclegacy,l=e._decorator,n=e.Node,p=e.Sprite,s=e.Label,y=e.CCInteger,u=e.Color,h=e.math},function(e){m=e.Game11BlockCmpBase},function(e){f=e.EGame11BodyTagEnum}],execute:function(){var _,b,g,d,C,v,B,k,w,z,F,G,N,T,S;o._RF.push({},"0aec9mL+S5NGpE//nObT4ph","Game11BlockCapacityCmp",void 0);var E=l.ccclass,R=l.property;l.menu,e("Game11BlockCapacityCmp",(_=E("Game11BlockCapacityCmp"),b=R({displayName:"栏",type:n}),g=R({displayName:"栏图",type:p}),d=R({displayName:"容量文本",type:s}),C=R({serializable:!0}),v=R({displayName:"容量",type:y}),B=R({displayName:"归零后隐藏",serializable:!0,visible:function(){return!0}}),_(((S=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,a(t,"center",z,r(t)),a(t,"colorSp",F,r(t)),a(t,"text",G,r(t)),a(t,"_capacity",N,r(t)),a(t,"hideBlock",T,r(t)),t._left=void 0,t._color=void 0,t}i(t,e);var o=t.prototype;return o.initialize=function(t){e.prototype.initialize.call(this,t),this._color=new u,this._resetCapacity(this._capacity),this._createTrigger(f.Capacity)},o.onTrigger=function(e){return this._resetCapacity(this._left-1),this._left<=0&&(this.waitRecover=!0,this._capacity=0,this.hideBlock&&(this.node.active=!1)),!0},o._resetCapacity=function(e){this._left=h.clamp(e,0,this._capacity),u.lerp(this._color,t.Red,t.White,h.clamp01(this._left/this._capacity)),this.text.string=""+this._left,this.colorSp.color=this._color},o._removeTrigger=function(){this.center.active=!1,e.prototype._removeTrigger.call(this)},c(t,[{key:"capacity",get:function(){return this._capacity},set:function(e){this._capacity=e}}]),t}(m)).White=new u("#FFFFFF"),S.Red=new u("#FF4B4B"),z=t((w=S).prototype,"center",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(w.prototype,"colorSp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(w.prototype,"text",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(w.prototype,"_capacity",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(w.prototype,"capacity",[v],Object.getOwnPropertyDescriptor(w.prototype,"capacity"),w.prototype),T=t(w.prototype,"hideBlock",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=w))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockCmpBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(i){var t,e,s,r,o,a,n,h,l,_,c,p,g,d,u,m;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,s=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,n=i.UITransform,h=i.CCFloat,l=i.Vec2,_=i.Vec3,c=i.Rect,p=i.Collider2D,g=i.math,d=i.Component,u=i.Vec4},function(i){m=i.YT}],execute:function(){var v,y,f,b,w,x,z,T,P,B,M,k;o._RF.push({},"425661/JV5HMZjo/fzbzxtR","Game11BlockCmpBase",void 0);var C=a.ccclass,D=a.property;i("Game11BlockCmpBase",(v=C("Game11BlockCmpBase"),y=D({displayName:"触发器",type:n}),f=D({displayName:"能否移动",serializable:!0}),b=D({displayName:"移动范围",visible:function(){return this.movable}}),w=D({displayName:"移动速度",type:h,visible:function(){return this.movable}}),v(((k=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,s(t,"trigger",T,r(t)),s(t,"movable",P,r(t)),s(t,"range",B,r(t)),s(t,"speed",M,r(t)),t._realMovable=!1,t._moveType=void 0,t._inited=!1,t._pos=void 0,t._offset=void 0,t._axis=void 0,t._dir=void 0,t._startPos=void 0,t._targetPos=void 0,t._bounds=void 0,t.sid=void 0,t._collider=void 0,t.waitRecover=!1,t.waitDestroy=!1,t}e(t,i);var o=t.prototype;return o.initialize=function(i){if(this._moveType=0,this._realMovable=this.movable,this.movable)if(this._pos=new l,this._offset=new l,this._axis=new l(0,0),this._dir=1,0==this.range.x&&0==this.range.z||(this._moveType+=2,this._axis.x=Math.max(Math.abs(this.range.x),Math.abs(this.range.z))),0==this.range.y&&0==this.range.w||(this._moveType+=1,this._axis.y=Math.max(Math.abs(this.range.y),Math.abs(this.range.w))),this._moveType>0){if(this._axis.normalize(),this._startPos=this.node.getPosition(),this._targetPos=new _,this._moveType>2){var t=this.range.x,e=this.range.z-t,s=this.range.w,r=this.range.y-s;this._bounds=new c(t,s,e,r)}}else this._realMovable=!1;this._inited=!0},o._createTrigger=function(i){this.trigger&&(this._collider=this.trigger.getComponent(p),this.sid=++t.Game11_Block_SID,this._collider.tag=i,this._collider.__owner__=this)},o.update=function(i){if(this._inited&&!m.logic.Paused&&this._realMovable&&this._moveType>0){switch(l.multiplyScalar(this._offset,this._axis,this.speed*i*this._dir),this._pos.add(this._offset),this._moveType){case 1:(this._pos.y<=this.range.w||this._pos.y>=this.range.y)&&(this._dir*=-1);break;case 2:(this._pos.x<=this.range.x||this._pos.x>=this.range.z)&&(this._dir*=-1);break;case 3:this._bounds.contains(this._pos)||(this._dir*=-1)}this._pos.x=g.clamp(this._pos.x,this.range.x,this.range.z),this._pos.y=g.clamp(this._pos.y,this.range.w,this.range.y),this._targetPos.set(this._startPos.x+this._pos.x,this._startPos.y+this._pos.y,this._startPos.z),this.node.setPosition(this._targetPos),this._syncBodies()}},o.lateUpdate=function(){this.waitRecover&&this.recover(),this.waitDestroy&&this.node.destroy()},o.onTrigger=function(i){return!0},o.recover=function(){this._removeTrigger()},o._removeTrigger=function(){this.trigger&&(this.trigger.node.active=!1)},o._syncBodies=function(){},t}(d)).Game11_Block_SID=0,T=t((z=k).prototype,"trigger",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(z.prototype,"movable",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=t(z.prototype,"range",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),M=t(z.prototype,"speed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=z))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockTriggeBombCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11BlockTriggerCmp.ts","./Game11State.ts"],(function(e){var r,t,o,i,n,a,c,l,m,s,u,p,b,f,g,y,d,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass,a=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){l=e.cclegacy,m=e._decorator,s=e.Vec2,u=e.CCFloat,p=e.CircleCollider2D,b=e.Vec3,f=e.RigidBody2D,g=e.v2,y=e.Component},function(e){d=e.EGame11BlockTriggerType},function(e){h=e.Game11State}],execute:function(){var B,v,C,w,k,T,G,_,z;l._RF.push({},"146f77odkVOgYm4nXzBbMNx","Game11BlockTriggeBombCmp",void 0);var F=m.ccclass,P=m.property;new s,e("Game11BlockTriggerBombCmp",(B=F("Game11BlockTriggerBombCmp"),v=P({displayName:"爆炸间隔",type:u}),C=P({displayName:"爆炸力",type:u}),w=P({displayName:"爆炸范围",type:u}),B((G=r((T=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,o(r,"bombInterval",G,i(r)),o(r,"bombForce",_,i(r)),o(r,"bombCircle",z,i(r)),r._timer=0,r}t(r,e);var l=r.prototype;return l.onLoad=function(){var e=a(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.lateUpdate=function(e){this._timer+=e,this._timer>=this.bombInterval&&(this._timer=0,this.Bomb())},l.Bomb=function(){var e,r=this;console.log("Bomb!!!");this.getComponent(p).radius;null==(e=h.Inst.root)||e.fallNode.children.filter((function(e){return e.active&&b.distance(e.worldPosition,r.node.worldPosition)<=r.bombCircle})).forEach((function(e){var t=e.worldPosition.clone().subtract(r.node.worldPosition).normalize(),o=e.worldPosition;e.getComponent(f).applyForce(g(t.x,t.y).multiplyScalar(r.bombForce),g(o.x,o.y),!0)}))},n(r,[{key:"triggerType",get:function(){return d.Bomb}}]),r}(y)).prototype,"bombInterval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),_=r(T.prototype,"bombForce",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3e3}}),z=r(T.prototype,"bombCircle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),k=T))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockTriggeBoxrCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11State.ts","./Game11BlockCmpBase.ts","./Game11BlockTriggerCmp.ts","./Awaiters.ts","./G11BoxConfig.ts"],(function(t){var i,e,n,r,a,o,s,c,l,u,p,h,f,m,k,y,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,l=t.Sprite,u=t.CCInteger,p=t.Animation},function(t){h=t.Game11State},function(t){f=t.Game11BlockCmpBase},function(t){m=t.EGame11BlockTriggerType,k=t.Game11BlockTriggerCmp},function(t){y=t.Awaiters},function(t){g=t.G11BoxConfig}],execute:function(){var d,B,b,x,_,v,w,C,T,G,z;s._RF.push({},"a4f0a7yANVLMJxxRgrwbsAx","Game11BlockTriggeBoxrCmp",void 0);var I=c.ccclass,L=c.property;t("Game11BlockTriggerBoxCmp",(d=I("Game11BlockTriggerBoxCmp"),B=L({displayName:"背景",type:l}),b=L({displayName:"反向扣减数量",serializable:!0,type:u}),x=L({displayName:"关联显示的板子",serializable:!0,type:[f]}),_=L({displayName:"关联子弹多倍的板子",serializable:!0,type:f}),d((C=i((w=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,n(i,"bg",C,r(i)),i.cnts=[],i.boxIds=[],n(i,"minusBack",T,r(i)),n(i,"linkBlock",G,r(i)),n(i,"linkMultiBlock",z,r(i)),i._index=0,i.anim=void 0,i}e(i,t);var s=i.prototype;return s.onLoad=function(){var t=a(o().mark((function t(){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=g.dataList.filter((function(t){return t.level==h.Inst.config.id})),this.cnts=i.map((function(t){return t.capacity})),this.boxIds=i.map((function(t){return t.id})),console.log("cnts",this.cnts),this.setLinkBlock(!1);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.setLinkBlock=function(t){this.linkBlock.length>0&&this.linkBlock.forEach((function(i){i.node.active=t,i.node.components.forEach((function(i){i.enabled=t}))}))},s.initialize=function(i){t.prototype.initialize.call(this,i),this.anim=this.getComponent(p),this._capacity=this.cnts[this._index],this._resetText()},s.resetCapacity=function(){var t=a(o().mark((function t(){var i,e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.boxIds[this._index],this._index++,this._capacity=this.cnts[this._index],this._capacity){t.next=12;break}return this._collider.enabled=!1,t.next=7,y.NextFrame();case 7:return this.setLinkBlock(!0),this.waitRecover=!0,this.waitDestroy=!0,h.Inst.showSkillView(i,null),t.abrupt("return",!1);case 12:return h.Inst.showSkillView(i,(function(){e._resetText()})),t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onTrigger=function(t){var i=!0;switch(this._type){case m.Minus:var e,n=1;if(this.linkMultiBlock&&t._ignoreSids.includes(this.linkMultiBlock.sid)&&(n=this.minusBack),0==this._capacity)return!0;if(this._capacity=Math.max(0,this._capacity-n),i=!1,null==(e=this.anim)||e.play(),0==this._capacity)return this._resetText(),this.resetCapacity(),!1;this._resetText();break;default:console.error("box 只能配 “-”")}return i},i}(k)).prototype,"bg",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(w.prototype,"minusBack",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),G=i(w.prototype,"linkBlock",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(w.prototype,"linkMultiBlock",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockTriggeHoleCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11BlockTriggerCmp.ts","./Game11State.ts","./Game11BulletCmp.ts","./Game11WeaponCmp.ts"],(function(e){var t,r,n,o,i,a,c,l,s,u,p,m,d,f,g,h,k,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime,c=e.createClass},function(e){l=e.cclegacy,s=e._decorator,u=e.Vec2,p=e.Node,m=e.CircleCollider2D,d=e.Vec3},function(e){f=e.EGame11BlockTriggerType,g=e.Game11BlockTriggerCmp},function(e){h=e.Game11State},function(e){k=e.Game11BulletCmp},function(e){v=e.Game11WeaponCmp}],execute:function(){var y,C,G,B,T;l._RF.push({},"8023cxIbOlI8qG6EdtfbuAO","Game11BlockTriggeHoleCmp",void 0);var b=s.ccclass,w=s.property;new u,e("Game11BlockTriggerHoleCmp",(y=b("Game11BlockTriggerHoleCmp"),C=w({displayName:"出口",serializable:!0,type:p}),y((T=t((B=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"linkBlock",T,o(t)),t._sid=0,t.idx=0,t}r(t,e);var l=t.prototype;return l.onLoad=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._sid=parseInt(this.node.uuid.split(".")[1]);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onTrigger=function(e){return!0},l.lateUpdate=function(){this.idx++,this.idx%2==0&&this.transForm()},l.transForm=function(){var e,t=this;if(this.enabled){var r=this.getComponent(m).radius;null==(e=h.Inst.root)||e.fallNode.children.filter((function(e){return e.active&&d.distance(e.worldPosition,t.node.worldPosition)<=r})).forEach(i(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.getComponent(k)||r.getComponent(v))&&n.node){e.next=3;break}return e.abrupt("return");case 3:n.node.active=!1,n.node.setWorldPosition(t.linkBlock.worldPosition),n.node.active=!0;case 6:case"end":return e.stop()}}),e)}))))}},c(t,[{key:"triggerType",get:function(){return f.Transform}}]),t}(g)).prototype,"linkBlock",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=B))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockTriggerBlinCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11BlockTriggerCmp.ts"],(function(t){var i,e,r,o,n,a,l,s,p,c,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.Sprite,s=t.Color,p=t.CCFloat,c=t.math},function(t){u=t.Game11BlockTriggerCmp}],execute:function(){var g,h,m,y,d,f,b,_,C;n._RF.push({},"569754Y64RP2ppmYRbMatrI","Game11BlockTriggerBlinCmp",void 0);var B=a.ccclass,v=a.property;t("Game11BlockTriggerBlinCmp",(g=B("Game11BlockTriggerBlinCmp"),h=v({displayName:"背景",type:l}),m=v({displayName:"颜色",serializable:!0,type:[s]}),y=v({displayName:"变色频率",type:p}),g((b=i((f=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n))||this,r(i,"bg",b,o(i)),r(i,"colors",_,o(i)),r(i,"duration",C,o(i)),i._index=0,i._past=0,i}e(i,t);var n=i.prototype;return n.initialize=function(i){t.prototype.initialize.call(this,i);var e=c.randomRangeInt(0,this.colors.length);this._setColor(e)},n.update=function(i){t.prototype.update.call(this,i),this._past+=i,this._past>=this.duration&&this._setColor(this._index+1)},n._setColor=function(t){this._index=t,this.bg.color=this.colors[t%this.colors.length],this._past=0},i}(u)).prototype,"bg",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(f.prototype,"colors",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=i(f.prototype,"duration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),d=f))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockTriggerCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./EGame11Enums.ts","./Game11State.ts","./Game11BlockCmpBase.ts"],(function(t){var i,e,a,o,r,n,c,s,p,l,y,u,h,g,m,d,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){n=t.cclegacy,c=t._decorator,s=t.ccenum,p=t.Label,l=t.CCInteger,y=t.Vec3,u=t.RigidBody2D,h=t.Vec2},function(t){g=t.YT},function(t){m=t.EGame11BodyTagEnum},function(t){d=t.Game11State},function(t){b=t.Game11BlockCmpBase}],execute:function(){var f,_,w,T,C,k,z,B,M,P,G,x,v,L,E,N,D,O,R,I,V,A;n._RF.push({},"695e7xLaTFGYKwzkNXGCh+t","Game11BlockTriggerCmp",void 0);var S=c.ccclass,j=c.property,F=t("EGame11BlockTriggerType",function(t){return t[t.Multi=1]="Multi",t[t.Add=2]="Add",t[t.Minus=3]="Minus",t[t.Transform=4]="Transform",t[t.Bomb=5]="Bomb",t}({}));s(F);t("Game11BlockTriggerCmp",(f=S("Game11BlockTriggerCmp"),_=j({displayName:"文本",type:p}),w=j({serializable:!0}),T=j({displayName:"倍数",type:l}),C=j({displayName:"限制倍数?",type:l,serializable:!0}),k=j({displayName:"玩家倍数?",type:l,serializable:!0}),z=j({displayName:"加特林倍数?",tooltip:"碰撞到可倍增的武器的倍数",type:l,serializable:!0}),B=j({serializable:!0}),M=j({displayName:"显示倍数",type:l}),P=j({serializable:!0}),G=j({displayName:"运算",type:F}),x=j({displayName:"归零后隐藏",serializable:!0,visible:function(){return this.MinusVisable}}),f((E=i((L=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i=t.call.apply(t,[this].concat(r))||this,a(i,"text",E,o(i)),a(i,"_capacity",N,o(i)),a(i,"capacityLim",D,o(i)),a(i,"capacityP",O,o(i)),a(i,"capacityJTL",R,o(i)),a(i,"_showCapacity",I,o(i)),a(i,"_type",V,o(i)),a(i,"hideBlock",A,o(i)),i._wpos=new y,i}e(i,t);var n=i.prototype;return n.onEnable=function(){this._resetText()},n.onFocusInEditor=function(){},n._resetText=function(){if(this.text){var t,i;switch(t=this._showCapacity>0?this._showCapacity:this._capacity,this._type){case F.Multi:i="x";break;case F.Add:i="+";break;case F.Minus:i=t>0?"-":""}this.text.string=""+i+t}},n.initialize=function(i){t.prototype.initialize.call(this,i),this._createTrigger(m.Ratio)},n.onTrigger=function(t){var i=!0;switch(this._type){case F.Multi:if(this.capacity>1){13==g.logic.state.config.mode?(t.node.getWorldPosition(this._wpos),t.node.getComponent(u).linearVelocity=h.ZERO):this.node.getWorldPosition(this._wpos);var e=this.capacity-1;this.capacityLim>0&&d.Inst.root.limitBullet&&(e=this.capacityLim),e>0&&g.logic.state.createBulletItem(this._wpos,t.node.worldPosition.x,e,t._ignoreSids.concat([this.sid]))}break;case F.Add:this.capacity>0&&(13==g.logic.state.config.mode?(t.node.getWorldPosition(this._wpos),t.node.getComponent(u).linearVelocity=h.ZERO):this.node.getWorldPosition(this._wpos),g.logic.state.createBulletItem(this._wpos,t.node.worldPosition.x,this.capacity,t._ignoreSids.concat([this.sid])));break;case F.Minus:this._capacity=Math.max(0,this._capacity-1),i=!1,this._capacity<=0&&(this._collider.enabled=!1,this.hideBlock&&(this.waitRecover=!0,this.waitDestroy=!0)),this._resetText()}return i},r(i,[{key:"capacity",get:function(){return!g.isGM&&this.capacityP>0&&this.triggerType==F.Multi?this.capacityP:this._capacity},set:function(t){this._capacity=t}},{key:"showCapacity",get:function(){return this._showCapacity},set:function(t){this._showCapacity=t}},{key:"triggerType",get:function(){return this._type},set:function(t){this._type=t}},{key:"MinusVisable",get:function(){return this._type==F.Minus&&this._capacity>0}}]),i}(b)).prototype,"text",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(L.prototype,"_capacity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i(L.prototype,"capacity",[T],Object.getOwnPropertyDescriptor(L.prototype,"capacity"),L.prototype),D=i(L.prototype,"capacityLim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=i(L.prototype,"capacityP",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=i(L.prototype,"capacityJTL",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=i(L.prototype,"_showCapacity",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(L.prototype,"showCapacity",[M],Object.getOwnPropertyDescriptor(L.prototype,"showCapacity"),L.prototype),V=i(L.prototype,"_type",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Multi}}),i(L.prototype,"triggerType",[G],Object.getOwnPropertyDescriptor(L.prototype,"triggerType"),L.prototype),A=i(L.prototype,"hideBlock",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=L))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockTriggeRewardCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11State.ts","./Game11BlockCmpBase.ts","./Game11BlockTriggerCmp.ts","./Awaiters.ts","./ArrayUtil.ts","./Game11BulletCmp.ts"],(function(t){var e,i,r,a,n,o,s,c,l,u,p,h,y,f,m,d,b,g,w,_,k,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.createClass,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){c=t.cclegacy,l=t._decorator,u=t.Vec2,p=t.Sprite,h=t.CCInteger,y=t.CCFloat,f=t.Animation,m=t.RigidBody2D},function(t){d=t.Game11State},function(t){b=t.Game11BlockCmpBase},function(t){g=t.EGame11BlockTriggerType,w=t.Game11BlockTriggerCmp},function(t){_=t.Awaiters},function(t){k=t.ArrayUtil},function(t){C=t.Game11BulletCmp}],execute:function(){var B,z,v,x,T,G,I,N,R,L,S,A,P,D,M,F,E,Z,U,W,Y,j,q;c._RF.push({},"7dfc6ZqZTZPea41lY5L7x/L","Game11BlockTriggeRewardCmp",void 0);var H=l.ccclass,V=l.property;new u,t("Game11BlockTriggerRewardCmp",(B=H("Game11BlockTriggerRewardCmp"),z=V({displayName:"背景",type:p}),v=V({displayName:"倍数组",serializable:!0,type:[h]}),x=V({displayName:"发射数量组",serializable:!0,type:[h]}),T=V({displayName:"子弹id",serializable:!0,type:h}),G=V({displayName:"武器id",serializable:!0,type:h}),I=V({displayName:"子弹 武器 出现权重",serializable:!0,type:[h]}),N=V({displayName:"发射cd",serializable:!0,type:y}),R=V({displayName:"单次发射数量",serializable:!0,type:h}),L=V({displayName:"反向扣减数量",serializable:!0,type:h}),S=V({displayName:"关联显示的板子",serializable:!0,type:[b]}),B((D=e((P=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"bg",D,a(e)),r(e,"capacitys",M,a(e)),r(e,"counts",F,a(e)),r(e,"bulletId",E,a(e)),r(e,"weaponId",Z,a(e)),r(e,"weights",U,a(e)),r(e,"cd",W,a(e)),r(e,"shootCnt",Y,a(e)),e._timer=0,r(e,"minusBack",j,a(e)),r(e,"linkBlock",q,a(e)),e._index=0,e._type=g.Minus,e.anim=void 0,e.state=0,e._curCnt=0,e}i(e,t);var c=e.prototype;return c.onLoad=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setLinkBlock(!1);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.setLinkBlock=function(t){this.linkBlock.length>0&&this.linkBlock.forEach((function(e){e.node.active=t,e.node.components.forEach((function(e){e.enabled=t}))}))},c.initialize=function(e){t.prototype.initialize.call(this,e),this.anim=this.getComponent(f),this._capacity=this.capacitys[this._index],this._resetText()},c.resetCapacity=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._index++,this._capacity=this.capacitys[this._index],this._capacity){t.next=10;break}return this._collider.enabled=!1,t.next=6,_.NextFrame();case 6:return this.setLinkBlock(!0),this.waitRecover=!0,this.waitDestroy=!0,t.abrupt("return",!1);case 10:return this._curCnt=this.counts[this._index],this.throwReward(),t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.throwReward=function(){this.state=1},c.update=function(t){if(1==this.state&&(this._timer+=t,this._timer>=this.cd)){this._timer=0;for(var e=0;e<this.shootCnt;e++)if(this._curCnt--,this.shoot(),this._curCnt<=0){this.state=0,this._resetText();break}}},c.shoot=function(){var t=o(s().mark((function t(){var e,i,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[0,1],i=k.randomByWeight(e,this.weights),r=d.Inst.StartImpulse.clone().rotate((5*this._curCnt%60-30)*Math.PI/180).multiplyScalar(5),0==i?(console.log("shoot bullet"),a=d.Inst.root,C.Create(this.node.worldPosition,a.fallNode,[this.sid],a.groundY-200,r)):(console.log("shoot gun"),d.Inst.createWeaponItem(this.weaponId,this.node.worldPosition,this.getComponent(m).gravityScale));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c._resetText=function(){var t;this.text&&(t=this._showCapacity>0?this._showCapacity:this._capacity,this.text.string=0==t?"":" "+t)},c.onTrigger=function(t){if(1!=this.state){var e=!0;switch(this._type){case g.Minus:var i;if(0==this._capacity)return!0;if(this._capacity=Math.max(0,this._capacity-1),e=!1,null==(i=this.anim)||i.play(),0==this._capacity)return this._resetText(),this.resetCapacity(),!1;this._resetText();break;default:console.error("reward 只能配 “-”")}return e}},n(e,[{key:"triggerType",get:function(){return this._type}}]),e}(w)).prototype,"bg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(P.prototype,"capacitys",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(P.prototype,"counts",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(P.prototype,"bulletId",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=e(P.prototype,"weaponId",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=e(P.prototype,"weights",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[1,0]}}),W=e(P.prototype,"cd",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),Y=e(P.prototype,"shootCnt",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),j=e(P.prototype,"minusBack",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),q=e(P.prototype,"linkBlock",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=P))||A));c._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BlockTriggerWeaponCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G11WeaponConfig.ts","./YT.ts","./UIHelper.ts","./EGame11Enums.ts","./Game11State.ts","./Game11BlockCmpBase.ts"],(function(e){var t,i,a,r,n,o,p,l,s,c,u,g,m,y,f,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,p=e._decorator,l=e.Sprite,s=e.CCInteger,c=e.CCBoolean,u=e.RigidBody2D},function(e){g=e.G11WeaponConfig},function(e){m=e.YT},function(e){y=e.UIHelper},function(e){f=e.EGame11BodyTagEnum},function(e){h=e.Game11State},function(e){b=e.Game11BlockCmpBase}],execute:function(){var d,I,w,D,C,T,z,W,_,B,G,v,S,k,E,N,P;o._RF.push({},"50b09RUtEpB+quK6I3Kt/ZC","Game11BlockTriggerWeaponCmp",void 0);var R=p.ccclass,x=p.property;e("Game11BlockTriggerWeaponCmp",(d=R("Game11BlockTriggerWeaponCmp"),I=x({displayName:"图标",type:l}),w=x({serializable:!0,displayName:"目标触发器",type:[b]}),D=x({serializable:!0}),C=x({displayName:"武器id",type:s}),T=x({displayName:"神级武器id",type:s,serializable:!0}),z=x({serializable:!0,displayName:"神级目标触发器",type:b}),W=x({displayName:"是否直接获得",serializable:!0,type:c}),d(((P=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"icon",G,r(t)),a(t,"tagetTriggers",v,r(t)),a(t,"_weaponID",S,r(t)),a(t,"superWeaponID",k,r(t)),a(t,"tagetTriggerSuper",E,r(t)),a(t,"getImmediate",N,r(t)),t}i(t,e);var o=t.prototype;return o.initialize=function(i){e.prototype.initialize.call(this,i);var a=g.data[this._weaponID];y.changeSpriteFrame(a.icon,a.icon_bundle,this.icon),this._createTrigger(f.Weapon),m.isGM&&this.superWeaponID>0&&(t.playCnt++,t.playCnt%30==0?console.error("本局可以发触升级武器",this._weaponID):this.superWeaponID=0),i.push(this._weaponID)},o.onTrigger=function(e){if(this.tagetTriggers.length>0){var t=0;if(this.tagetTriggers.forEach((function(e){t+=e.capacity})),!(t<=0))return!0}this.waitRecover=!0,this.waitDestroy=!0;var i=this.node.getWorldPosition();return i.x=e.node.worldPosition.x,this.getImmediate?h.Inst.addWeapon(this._weaponID,0):m.logic.state.createWeaponItem(this._weaponID,i,this.getComponent(u).gravityScale,this.superWeaponID,this.tagetTriggerSuper),!0},n(t,[{key:"weaponID",get:function(){return this._weaponID},set:function(e){this._weaponID=e}}]),t}(b)).playCnt=0,G=t((B=P).prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(B.prototype,"tagetTriggers",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(B.prototype,"_weaponID",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(B.prototype,"weaponID",[C],Object.getOwnPropertyDescriptor(B.prototype,"weaponID"),B.prototype),k=t(B.prototype,"superWeaponID",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(B.prototype,"tagetTriggerSuper",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(B.prototype,"getImmediate",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=B))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/Game11Boat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11Monster.ts","./GameUtils.ts","./ViewUtil.ts","./ArrayUtil.ts","./Game11State.ts","./Awaiters.ts","./Game11BoatWave.ts"],(function(t){var e,o,n,s,i,r,a,h,u,c,d,l,f,m,v;return{setters:[function(t){e=t.createClass,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,i=t._decorator,r=t.Layers,a=t.Animation,h=t.Vec3},function(t){u=t.EGame11MonsterStatus},function(t){c=t.GameUtils},function(t){d=t.ViewUtil},function(t){l=t.ArrayUtil},function(t){f=t.Game11State},function(t){m=t.Awaiters},function(t){v=t.Game11BoatWave}],execute:function(){s._RF.push({},"8a6e0XCN2BFuKyK2YS8GzGW","Game11Boat",void 0);i.ccclass,i.property;var p=t("Game11Boat",function(){function t(){this.monsters=void 0,this._status=u.None,this.moveSpeed=0,this.root=void 0,this.position=new h,this._halfWidth=100,this.endX=-375,this.anim=void 0,this.enemyRoot=void 0,this.enemyCnt=0,this.wave=void 0}t.FreeWave=function(t){this.wavePool.push(t)},t.ClearWave=function(){this.wavePool.forEach((function(t){return t.node.destroy()})),this.wavePool=[]},t.Create=function(e,o,n){var s=this._mPool;s||(this._mPool=s=[]);var i=s.pop();return i||(i=new t),i._init(e,o,n),i},t.Free=function(){var t,e=0,o=0;if((t=this._mPool)&&t.length>0)for(o=t.length,e=0;e<o;++e)t[e].destroy();this._mPool=null};var s=t.prototype;return s.destroy=function(){},s._syncPosition=function(){this.root.setWorldPosition(this.position)},s._loadModel=function(t,e){this.root=d.createPrefabNode(t,e),c.SetLayer(this.root,r.Enum.UI_3D),this.root.setScale(1,1,1)},s._loadWaveModel=function(t,e){var o=d.createPrefabNode(t,e);return c.SetLayer(this.root,r.Enum.UI_3D),o.setScale(1,1,1),o},s._init=function(t,e,o){this.enemyCnt=0,this.endX=o,this.monsters=[],this.position.set(t),this._status=u.None,this._loadModel("prefab/monster/boat","game11"),e.addChild(this.root),this.anim=this.root.getComponent(a),this.enemyRoot=this.root.getChildByPath("root/body/pos"),this.anim.play("idle"),this.bindVave(),this._syncPosition()},s.bindVave=function(){var e=t.wavePool.pop();e||(e=this._loadWaveModel("prefab/monster/boatVave","game11").getComponent(v));f.Inst.root.boatWaveNode.addChild(e.node),this.wave=e,e.bind(this.root)},s.bindMonster=function(t,e){this.moveSpeed=t.config.move_speed,this.monsters.push(t),t.owenerBoat=this;var o=this.enemyRoot.children[e];o.addChild(t.root),t.position.set(o.worldPosition),t.stand(e),this.enemyCnt++},s.move=function(){this._status=u.Enable},s.update=function(t){if(this._status==u.Enable){var e=this.moveSpeed*t,o=this.endX,n=this.position.x+e;if(this.position.x=Math.max(n,o),this._syncPosition(),this.position.x<=o)return void this.monsterAboard();var s=this.Poses;if(this.checkDead())return void this.onMonsterDead();this.monsters.forEach((function(t,e){t.position.set(s[t.posIndex])}))}else if(this._status==u.Dead);else if(this._status==u.Jumping&&this.checkDead())return void this.onMonsterDead();return-1},s.checkDead=function(){return this.monsters.length>0&&0==this.enemyCnt},s.lateUpdate=function(t){switch(this._status){case u.Enable:case u.Dead:}},s.onMonsterDead=function(){var t=o(n().mark((function t(){var e,o,s=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._status!=u.Dead&&this._status!=u.Recover&&this._status!=u.Recovered){t.next=2;break}return t.abrupt("return");case 2:return this.monsters=[],this._status=u.Dead,t.next=6,m.Seconds(.2);case 6:this.anim&&(null==(e=this.anim)||e.on(a.EventType.FINISHED,(function(){s.recover()})),null==(o=this.anim)||o.play("dead")),this.wave&&this.wave.free();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.monsterAboard=function(){var t=o(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._status=u.Jumping,this.monsters.filter((function(t){return t.isAlive&&t.owenerBoat==e})).forEach((function(t,e){t.aboard(.05*e)})),t.next=5,m.Seconds(1);case 5:null==this||this.onMonsterDead();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.recover=function(){this._status!=u.Recovered&&(this._status=u.Recovered,this.root.removeFromParent(),l.remove(f.Inst.boats,this),t._mPool.push(this))},e(t,[{key:"Poses",get:function(){var t=this;return this.enemyRoot.children.map((function(e){return t.position.clone().add(e.position)}))}},{key:"isFull",get:function(){return 7==this.monsters.length}}]),t}());p._mPool=[],p.wavePool=[],s._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BoatCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,r,a,n,i,s,p,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.createClass},function(t){i=t.cclegacy,s=t._decorator,p=t.Mask,c=t.CCBoolean,u=t.Component}],execute:function(){var l,h,f,m,y,w;i._RF.push({},"c6f01OtFa5K4pVBVYDG1w7Q","Game11BoatCmp",void 0);var k=s.ccclass,C=s.property;t("Game11BoatCmp",(l=k("Game11BoatCmp"),h=C(p),f=C({type:c}),l((w=e((y=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,r(e,"mask",w,a(e)),e.show=!1,e}o(e,t);var i=e.prototype;return i.start=function(){},i.update=function(t){},n(e,[{key:"ShowMask",get:function(){return this.show},set:function(t){this.show=t,this.mask&&(this.mask.enabled=this.show)}}]),e}(u)).prototype,"mask",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(y.prototype,"ShowMask",[f],Object.getOwnPropertyDescriptor(y.prototype,"ShowMask"),y.prototype),m=y))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BoatMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ListEx.ts","./YT.ts","./Game11MonsterCmp.ts","./Game11State.ts","./Game11Damage.ts","./Game11Monster.ts"],(function(t){var i,s,e,o,n,a,h,r,c,_,d,l,u,p,m,f,v;return{setters:[function(t){i=t.inheritsLoose,s=t.createClass,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){n=t.cclegacy,a=t.Vec3,h=t.Tween,r=t.randomRange,c=t.tween},function(t){_=t.Awaiters},function(t){d=t.ListEx},function(t){l=t.YT},function(t){u=t.Game11MonsterCmp},function(t){p=t.Game11State},function(t){m=t.Game11Damage},function(t){f=t.EGame11MonsterStatus,v=t.Game11Monster}],execute:function(){n._RF.push({},"c28aautpRFJH6fhLAkpC2QZ","Game11BoatMonster",void 0);new a;var P=t("Game11BoatMonster",function(t){function n(i,s,e){var o,n;return(o=t.call(this,i,s,e)||this).owenerBoat=void 0,o.sid=0,o.config=void 0,o.position=void 0,o._moveSpeed=void 0,o._atkDuration=void 0,o._atkPast=void 0,o._atkTime=void 0,o._fakeZ=void 0,o._status=f.None,o._deadTime=.05,o._deadMoveScale=.5,o._deadLeft=0,o.width=void 0,o._halfWidth=void 0,o._atkDis=void 0,o.height=void 0,o._halfHeight=void 0,o.posIndex=0,o.config=i,o._maxHP=i.hp*e,o._moveSpeed=o.config.move_speed,o.position=new a,o._loadModel(i.path,i.bundle,i.scale),o._cmp=o.root.getComponent(u),n=i.scale&&i.scale.length>0?i.scale:[1,1],o.width=i.size[0]*n[0],o._halfWidth=o.width/2,o._atkDis=1.5*i.size[0],o.height=i.size[1]*n[1],o._halfHeight=o.height/2,o}i(n,t),n.Create=function(t,i,s,e,o,a){var h=this._mPool[t.path];h||(h=this._mPool[t.path]=new d);var r=h.alloc();return r||(r=new n(t,o,a)),r.config=t,r._init(i,s,e),r},n.Free=function(){var t,i=0,s=0;for(var e in this._mPool)if((t=this._mPool[e])&&t.list.length>0)for(s=t.list.length,i=0;i<s;++i)t.list[i]._destroy();this._mPool={}};var v=n.prototype;return v._destroy=function(){this._destroyHUD(),this.root&&(this.root.destroy(),this.root=null)},v._init=function(t,i,s){this.sid=++n.Game11_Monster_SID,i.addChild(this.root),a.copy(this.position,t),this._syncPosition(),this.onIdle(),this.hp=this.config.hp,this._atkDuration=this.config.atk_duration,this._atkPast=0,this._atkTime=0,this._fakeZ=s,this._status=f.Enable,this.root.active=!0},v._syncPosition=function(){this.root.setWorldPosition(this.position),this._setHUDPosition(this._cmp.getHeadPos())},v.update=function(t,i,s,e,o){var n=-1;if(!this.isAlive)return n;if(this._status==f.Enable){var h=o[this._fakeZ];this._moveSpeed,e[this._fakeZ];e[this._fakeZ]=this.position.x+this._halfWidth;var r=p.Inst.mainPlayer.footPos,c=a.distance(this.position,r);0!=this._moveSpeed?(n=0,c<=this._atkDis?(this._atkPast-=t,this._atkPast<=0&&(this._atkPast=this._atkDuration,this._atkTime=this._cmp.play(this.config.motion_name,!1,0),n=1)):this.position.add(this.position.clone().subtract(r).normalize().multiplyScalar(this._moveSpeed/2*t)),this._syncPosition()):this.position.x<=s&&(n=0,this._setHUDPosition(this._cmp.getHeadPos()))}else this._status==f.Dead&&(n=0,o[this._fakeZ]=this._deadMoveScale);return n},v.lateUpdate=function(t){switch(this._status){case f.Enable:this._atkTime>0&&(this._atkTime-=t,this._atkTime<=0&&this.onIdle());break;case f.Dead:this._deadLeft-=t,this._deadLeft<=0&&(this._status=f.Recover);break;case f.Jumping:}},v.onMonsterDead=function(){this._status!=f.Dead?(this.hp=0,this._status=f.Dead,this._deadLeft=this._deadTime,this.root.active=!1,this._cmp&&this._cmp.play(this._cmp.deathName,!1,0)):console.error("怪又死了？"+this.config.hp)},v.recover=function(){this._status!=f.Recovered&&(this._status=f.Recovered,h.stopAllByTarget(this.root),this.position.x=2e4,this._syncPosition(),this.root.removeFromParent(),this.owenerBoat&&this.owenerBoat.enemyCnt--,this.owenerBoat=null,this._removeHUD(),n._mPool[this.config.path].free(this))},v.checkCollision=function(t,i){var s=this.centerPos.x,e=this.centerPos.y,o=Math.max(0,Math.abs(t.x-s)-this._halfWidth),n=Math.max(0,Math.abs(t.y-e)-this._halfHeight);return o*o+n*n<=i},v.onDamaged=function(t){this.isAlive&&(l.audio.play(this.config.hit_audio,5),l.logic.state.playEffect(this.config.hit_effect,this.centerPos),this.hp=Math.max(0,this.hp-t),p.Inst.root.showDamage&&m.create().show(t,this.centerPos,!1),this.hp>0?this._changeHUDValue(this._cmp.getHeadPos()):this._removeHUD())},v.stand=function(t){this.posIndex=t,this.position=this.root.parent.worldPosition,this._syncPosition(),this.onIdle(),this._moveSpeed=0},v.aboard=function(){var t=e(o().mark((function t(i){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Seconds(i);case 2:if(this.isAlive){t.next=4;break}return t.abrupt("return");case 4:this._cmp.play("jump",!1,0),this.playParabolaAnimation();case 6:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),v.playParabolaAnimation=function(){var t=this,i=new a(this.position.x,this.position.y,0),s=this.owenerBoat.position.x-130,e=(this.position.y,p.Inst.mainPlayer.footPos.x+this.width);s<e&&(s=e+this._atkDis,p.Inst.mainPlayer.footPos.y,r(-2,2));var o=new a(s,this.position.y,0);this.root.position=i,c(this.root).to(.8,{worldPosition:o},{onUpdate:function(s,e){var n=i.x+(o.x-i.x)*e,h=i.y+(o.y-i.y)*e+160*Math.sin(e*Math.PI);t.position.set(new a(n,h,0)),t._syncPosition()},onComplete:function(i){t.root.parent=p.Inst.root.enemyNode,t.position.set(o),t._syncPosition,t._moveSpeed=t.config.move_speed,t._status=f.Enable,t.owenerBoat=null,t.onMove()},easing:"linear"}).start()},s(n,[{key:"status",get:function(){return this._status}},{key:"isAlive",get:function(){return this.hp>0&&this._status<f.Dead}}]),n}(v));P.Game11_Monster_SID=0,P._mPool={},n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BoatWave.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11Boat.ts"],(function(t){var e,a,n,o,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,o=t.Animation,i=t.Component},function(t){r=t.Game11Boat}],execute:function(){var s;a._RF.push({},"88a886YNDBI3YgM8H4JwSEM","Game11BoatWave",void 0);var c=n.ccclass;n.property,t("Game11BoatWave",c("Game11BoatWave")(s=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).target=void 0,e.anim=void 0,e}e(a,t);var n=a.prototype;return n.update=function(t){this.target&&this.node.setWorldPosition(this.target.worldPosition)},n.bind=function(t){this.target=t,this.anim=this.node.getComponent(o),this.anim.play("boatWave")},n.free=function(){var t=this;this.anim.on(o.EventType.FINISHED,(function(){t.anim.off(o.EventType.FINISHED),t.anim.play("boatWave"),r.FreeWave(t),t.target=null})),this.anim.play("boatWaveHide")},a}(i))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/Game11Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtils.ts","./Vec3Util.ts","./ViewUtil.ts","./Game11State.ts"],(function(i){var t,o,s,e,h,n,r,a;return{setters:[function(i){t=i.createClass},function(i){o=i.cclegacy,s=i.Vec3,e=i.Layers},function(i){h=i.GameUtils},function(i){n=i.Vec3Util},function(i){r=i.ViewUtil},function(i){a=i.Game11State}],execute:function(){o._RF.push({},"8a15b87ffBHIbEBJhoIQzRZ","Game11Bullet",void 0),i("Game11Bullet",function(){function i(i){this.root=void 0,this.config=void 0,this.position=void 0,this._dir=void 0,this._offset=void 0,this._enable=!1,this._radius=void 0,this._damage=void 0,this._isDead=void 0,this._life=void 0,this._totalLifeTime=void 0,this.top=void 0,this.startPos=void 0,this.velocity=void 0,this.gravity=-1e3,this.config=i,this.root=r.createPrefabNode(i.bullet_path,i.bundle),h.SetLayer(this.root,e.Enum.UI_3D),this.position=new s,this._dir=new s,this._offset=new s,this.velocity=new s,this.top=null,this._totalLifeTime=i.time,this._radius=i.radius*i.radius}i.Create=function(t,o,s,e,h,n){var r=this._pool[t.id];r||(r=this._pool[t.id]=[]);var a=r.shift();return a||(a=new i(t)),a._init(o,s,e,h,n),a},i.Free=function(){if(this._pool){var i,t=0,o=0;for(var s in this._pool)if((i=this._pool[s])&&i.length>0)for(o=i.length,t=0;t<o;++t)i[t]._destroy();this._pool={}}};var o=i.prototype;return o._init=function(i,t,o,e,h){i.addChild(this.root),this.root.setWorldPosition(t),s.copy(this.position,t),s.copy(this._dir,o),this._enable=!0,this._damage=e,this._isDead=!1,this._life=0,this.top=h,this.top&&this.config.shape_param[1]&&(this.top.y+=this.config.shape_param[1]),this.startPos=t.clone(),this.top&&this.calculateInitialVelocity();var r=n.signedAngleEx(n.s_right,o,n.s_forward);this.root.setWorldRotationFromEuler(0,0,r)},o.update=function(i,t){var o=this;if(this._life+=i,this.top){this.position.x=this.position.x+this.velocity.x*i,this.position.y=this.position.y+this.velocity.y*i+.5*this.gravity*i*i,this.velocity.y=this.velocity.y+this.gravity*i;var e=this.position.clone().subtract(this.root.worldPosition).normalize();this.root.setWorldRotationFromEuler(0,0,n.signedAngleEx(n.s_right,e,n.s_forward)),this.root.setWorldPosition(this.position);s.distance(this.position,this._dir);if(!this._isDead){if(t&&t.length>0){var h=0,r=t.length;if(this.root.worldPosition.y<=a.Inst.mainPlayer.root.children[0].worldPosition.y+20||this._life>=this._totalLifeTime)return a.Inst.playEffect(11002,this.root.worldPosition),t.forEach((function(i){i.isAlive&&i.checkCollision(o.position,o._radius)&&i.onDamaged(o._damage)})),void(this._isDead=!0);for(h=0;h<r;++h)if(t[h].checkCollision(this.position,5))return a.Inst.playEffect(11002,this.root.worldPosition),t.forEach((function(i){i.isAlive&&i.checkCollision(o.position,o._radius)&&i.onDamaged(o._damage)})),void(this._isDead=!0)}return void((this._life>=this._totalLifeTime||this.root.worldPosition.y<=a.Inst.mainPlayer.root.children[0].worldPosition.y-20)&&(a.Inst.playEffect(11002,this.root.worldPosition),this._isDead=!0))}}else if(s.multiplyScalar(this._offset,this._dir,this.config.speed*i),s.add(this.position,this.position,this._offset),this.root.setWorldPosition(this.position),t&&t.length>0){var l,d=0,c=t.length;for(d=0;d<c;++d)if((l=t[d]).checkCollision(this.position,this._radius)){l.onDamaged(this._damage),this._isDead=!0;break}}!this._isDead&&this._life>=this._totalLifeTime&&(this._isDead=!0)},o.calculateInitialVelocity=function(){var i=this.top,t=this._dir,o=this.config.time;this._totalLifeTime=o,this.velocity.x=(t.x-this.startPos.x)/o;var s=o/2;this.gravity=2*(this.top.y-this.startPos.y)/(s*s)*-1,this.velocity.y=(i.y-this.startPos.y-.5*this.gravity*s*s)/s,this._totalLifeTime+=.5},o.recover=function(){this._enable&&(this._enable=!1,this.root.removeFromParent(),i._pool[this.config.id].push(this))},o._destroy=function(){this.root.destroy()},t(i,[{key:"isAlive",get:function(){return!this._isDead}}]),i}())._pool={},o._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BulletCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./EGame11Enums.ts","./Game11FallItemCmpBase.ts"],(function(t){var e,o,l,n,i,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,l=t._decorator},function(t){n=t.ViewUtil},function(t){i=t.YT},function(t){r=t.EGame11BodyTagEnum},function(t){u=t.Game11FallItemCmpBase}],execute:function(){var s,a;o._RF.push({},"c632fyG+7tP35vi3Q2X6dQU","Game11BulletCmp",void 0);var c=l.ccclass;l.property,t("Game11BulletCmp",c("Game11BulletCmp")(((a=function(t){function o(){return t.apply(this,arguments)||this}e(o,t),o.Create=function(t,e,l,i,r){this._pool||(this._pool=[]);var u=this._pool.shift();u||(u=n.createPrefabNode(o.BulletPath,o.BulletBundle).getComponent(o));return u._initialize(t,e,l,i,r),u},o.Free=function(){if(this._pool){var t=0,e=this._pool.length;for(t=0;t<e;++t)this._pool[t].node.destroy();this._pool=null}};var l=o.prototype;return l._initialize=function(t,e,o,l,n){var i;(this._groundY=l,this._createBody(e,t,r.Fall_Bullet,n),this._ignoreSids.length=0,o.length>0)&&(i=this._ignoreSids).push.apply(i,o)},l.recover=function(){t.prototype.recover.call(this),this.node.removeFromParent(),o._pool.push(this)},l._onFallEnd=function(){i.logic.state.addBulletCount(this._ownerIndex)},o}(u)).BulletPath=void 0,a.BulletBundle=void 0,a._pool=null,s=a))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BulletCupCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11State.ts"],(function(t){var i,e,n,o,a,s,r,l,p,u,h,c,m,_,f,d,y,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose,s=t.createClass},function(t){r=t.cclegacy,l=t._decorator,p=t.Label,u=t.Node,h=t.CCFloat,c=t.Animation,m=t.Vec3,_=t.Vec2,f=t.math,d=t.toDegree,y=t.Component},function(t){v=t.Game11State}],execute:function(){var g,b,w,P,x,A,C,N,R,z,B,k,G,W,S;r._RF.push({},"754f72mVmxBPYeOTk4Q8YBS","Game11BulletCupCmp",void 0);var F=l.ccclass,D=l.property;t("Game11BulletCupCmp",(g=F("Game11BulletCupCmp"),b=D({displayName:"数量",type:p}),w=D({displayName:"点",type:u}),P=D({displayName:"移动比例",type:h}),x=D({displayName:"半宽",type:h}),A=D({displayName:"轮子",type:[u]}),C=D({displayName:"动画",type:c}),g((z=i((R=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,n(i,"text",z,o(i)),n(i,"point",B,o(i)),n(i,"moveRatio",k,o(i)),n(i,"halfWidth",G,o(i)),n(i,"wheels",W,o(i)),n(i,"anim",S,o(i)),i._count=void 0,i._position=void 0,i._duration=void 0,i._past=void 0,i._wPos=void 0,i._xRange=void 0,i._idleName="idle",i._attackName="attack",i._fireAnimPast=0,i}e(i,t);var r=i.prototype;return r.init=function(t,i,e,n){this.count=t,this._duration=i,this._past=0,this._wPos=new m,this._xRange=new _(e+this.halfWidth,n-this.halfWidth),this._position=this.node.getWorldPosition(),this._stopAnim()},r.onUpdate=function(t){if(this._fireAnimPast>0&&(this._fireAnimPast-=t,this._fireAnimPast<=0&&this._stopAnim()),this._count>0&&(this._past+=t,this._past>=this._duration)){if(this.count=this._count-1,this._past=0,this.point.getWorldPosition(this._wPos),this.anim){this.anim.play(this._attackName);var i=this.anim.getState(this._attackName);this._fireAnimPast=i?i.duration/i.speed:.1}return v.Inst.root.stopShootBullet?null:this._wPos}return null},r.move=function(t){var i=f.clamp(this._position.x+t*this.moveRatio,this._xRange.x,this._xRange.y),e=i-this._position.x;this._position.x=i,this.node.setWorldPosition(this._position);for(var n,o=d(e/76),s=a(this.wheels);!(n=s()).done;){var r=n.value;r.setRotationFromEuler(0,0,r.eulerAngles.z-o)}},r.onGameEnd=function(){this._stopAnim()},r._stopAnim=function(){this.anim&&this.anim.play(this._idleName)},s(i,[{key:"count",get:function(){return this._count},set:function(t){this._count=t,this.text.string=""+t}}]),i}(y)).prototype,"text",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(R.prototype,"point",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(R.prototype,"moveRatio",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G=i(R.prototype,"halfWidth",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 75}}),W=i(R.prototype,"wheels",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=i(R.prototype,"anim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=R))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/Game11BulletQueue.ts",["cc","./ListEx.ts"],(function(t){var e,u,i,n;return{setters:[function(t){e=t.cclegacy,u=t.js,i=t.Vec3},function(t){n=t.ListEx}],execute:function(){e._RF.push({},"9554042L1FD5o05t4kAgBz/","Game11BulletQueue",void 0);var o=t("Game11BulletQueue",function(){function t(){this._enable=!0,this.position=void 0,this.count=void 0,this.allCount=void 0,this.ignore=[],this._wait=void 0,this.position=new i,this.count=0,this.ignore=[]}t.Get=function(e,u,i,o){this._pool||(this._pool=new n);var s=this._pool.alloc();return s||(s=new t),s.position.set(u,e.y,e.z),s.count=i,s.allCount=i,s.ignore=o,s._wait=!0,s._enable=!0,s},t.Free=function(){this._pool=null};var e=t.prototype;return e.update=function(t){return this._wait?(this._wait=!1,-2):this.count>0?(this.count--,0==this.count?0:1):-1},e.recover=function(){this._enable&&(this._enable=!1,this.ignore=[],t._pool.free(this))},t}());o._pool=null;t("BulletQueue",function(){function t(){this.queue=void 0,this.queue=[]}var e=t.prototype;return e.push=function(t,e,u,i){this.queue.push(o.Get(t,e,u,i))},e.update=function(t){var e,i,n=null,o=0,s=this.queue.length;for(o=0;o<s;){switch(i=!0,(e=this.queue[o]).update(t)){case-2:o++,i=!1;break;case-1:s--,u.array.fastRemoveAt(this.queue,o),i=!1;break;case 0:s--,u.array.fastRemoveAt(this.queue,o);break;case 1:o++}i&&(n||(n=[]),n.push(e))}return n},e.destroy=function(){if(this.queue){var t=0,e=this.queue.length;for(t=0;t<e;++t)this.queue[t].recover();this.queue.length=0}o.Free()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Game11ChallengeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./G11Const.ts"],(function(t){var e,n,i,o,s,a,r,c,h,p,u,l,d,T,f,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator,h=t.RichText,p=t.Animation,u=t.Node,l=t.Vec2,d=t.game,T=t.Component},function(t){f=t.YT},function(t){A=t.G11Const}],execute:function(){var v,y,_,b,g,k,E,C,m,S,w;r._RF.push({},"0d41dBLjlVDDa0usUa5/10l","Game11ChallengeView",void 0);var O=c.ccclass,G=c.property;t("Game11ChallengeView",(v=O("Game11ChallengeView"),y=G({displayName:"描述",type:h}),_=G({displayName:"阶段节点",type:p}),b=G({displayName:"攻击力",type:u}),g=G({displayName:"攻击速度",type:u}),v((C=e((E=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"richText",C,o(e)),i(e,"phaseGrp",m,o(e)),i(e,"btnAtk",S,o(e)),i(e,"btnAtkSpeed",w,o(e)),e._prevPos=new l,e}n(e,t);var r=e.prototype;return r.onEnable=function(){var t,e;(this.node.on(u.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.getChildByName("btnPause").active=f.isGM,this.btnAtk)&&(null==(t=this.btnAtk)||t.on(u.EventType.TOUCH_START,this.onAddAtk,this),this.btnAtk.active=this.btnAtkSpeed.active=!f.isGM,null==(e=this.btnAtkSpeed)||e.on(u.EventType.TOUCH_START,this.onAddAtkSpeed,this))},r.onAddAtk=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.game.watchAD("射子弹+攻击力");case 2:if(!t.sent){t.next=5;break}this.btnAtk.active=!1,f.logic.state.players[0].addAttack(A.data.extAttack);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onAddAtkSpeed=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.game.watchAD("射子弹+攻击速度");case 2:if(!t.sent){t.next=5;break}this.btnAtkSpeed.active=!1,f.logic.state.players[0].addAttackSpeed(A.data.extAttackSpeed);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onDisable=function(){this.node.off(u.EventType.TOUCH_START,this._onTouchBegin,this),this.node.off(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.off(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.btnAtk&&(this.btnAtk.off(u.EventType.TOUCH_START,this.onAddAtk,this),this.btnAtkSpeed.off(u.EventType.TOUCH_START,this.onAddAtkSpeed,this))},r.onClickBackBtn=function(){f.logic.onEnterHall()},r.onClickSettingBtn=function(){f.logic.state.showSettingView()},r._onTouchBegin=function(){this.node.on(u.EventType.TOUCH_MOVE,this._onTouchMove,this)},r._onTouchEnd=function(){this.node.off(u.EventType.TOUCH_MOVE,this._onTouchMove,this)},r._onTouchMove=function(t){t.touch.getDelta(this._prevPos),f.logic.state.moveCup(this._prevPos.x,this._prevPos.y),d.emit("ON_GAME11_MAZE_MOVE",this._prevPos)},r.onPhaseChanged=function(t){t?this.phaseGrp.node.active=!1:(this.phaseGrp.node.active=!0,this.phaseGrp.play())},r.onPause=function(){f.logic.Paused?f.logic.resume():f.logic.pause()},e}(T)).prototype,"richText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(E.prototype,"phaseGrp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(E.prototype,"btnAtk",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(E.prototype,"btnAtkSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=E))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/Game11Damage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var e,o,n,i,a,l,s,r,c,h,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Label,a=t.Pool,l=t.instantiate,s=t.Vec3,r=t.tween,c=t.Tween,h=t.Component},function(t){u=t.YT}],execute:function(){var d,p;o._RF.push({},"df9488tJV9Etr8+Ya3JTQyb","Game11Damage",void 0);var m=n.ccclass;n.property,t("Game11Damage",m("Game11Damage")(((p=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).label=null,e.timer=1,e}e(o,t);var n=o.prototype;return n.onLoad=function(){this.label=this.node.getComponent(i)},o.InitPool=function(t){this.parent=t,this.pool||(this.pool=new a((function(){return l(u.res.get("prefab/Damage","game11")).addComponent(o)}),50,(function(t){t.node.active=!1})))},o.clearPool=function(){this.pool.destroy()},o.create=function(){var t=o.pool.alloc();return t.node.setParent(this.parent),t},n.show=function(t,e,o,n,i){void 0===n&&(n=.6),void 0===i&&(i=!1);var a=t+(o?t:0);this.label.string=(o?"爆":"")+a.toString(),i&&(this.label.string=a.toString()+"压"),this.timer=.3,this.node.setWorldPosition(e),this.node.active=!0,this.node.setScale(s.ONE.clone().multiplyScalar(.1));var l=e.clone();l.y+=100*Math.random()+50,r(this.node).to(n,{worldPosition:l,scale:s.ONE.clone().multiplyScalar(1.5)},{easing:"quintOut"}).start()},n.showProperty=function(t,e,o,n,i,a){void 0===i&&(i=.4),this.label.string=t,this.timer=i,this.node.setWorldPosition(e),this.node.active=!0,this.node.setScale(s.ONE.clone().multiplyScalar(.1)),r(this.node).sequence(r(this.node).to(i/2,{worldPosition:n,scale:s.ONE.clone().multiplyScalar(1)},{easing:"expoOut"}),r(this.node).delay(.1),r(this.node).to(i/2,{worldPosition:o,scale:s.ONE.clone().multiplyScalar(1)},{easing:"expoOut"})).call(a).start()},n.collect=function(){this.timer=0,c.stopAllByTarget(this.node),this.node.active=!1,this.node.setScale(s.ONE),o.pool.free(this)},n.update=function(t){this.timer-=t,this.timer<=0&&(this.node.active=!1,this.collect())},o}(h)).pool=void 0,p.parent=null,d=p))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/Game11EndView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./YT.ts","./GameDataDef.ts"],(function(e){var t,i,n,a,r,o,l,s,c,u,p,m,d,b,y,f,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.CCString,u=e.Label,p=e.ProgressBar,m=e.RichText,d=e.Node,b=e.math,y=e.Component},function(e){f=e.StringUtil},function(e){h=e.YT},function(e){g=e.GameData}],execute:function(){var v,w,x,D,N,k,z,B,C,T,_,I,A,E,G,F,S,M,P,R,V,H,L,Y,O,U,j,q,W;l._RF.push({},"dc975H+diZOIIqWOwYPy0EE","Game11EndView",void 0);var Z=s.ccclass,J=s.property;e("Game11EndView",(v=Z("Game11EndView"),w=J({displayName:"胜利文字",type:c}),x=J({displayName:"失败文字",type:c}),D=J({displayName:"文本",type:u}),N=J({displayName:"时间",type:u}),k=J({displayName:"击杀",type:u}),z=J({displayName:"进度",type:p}),B=J({displayName:"进度文本",type:u}),C=J({displayName:"解锁",type:m}),T=J({displayName:"广告按钮",type:d}),_=J({displayName:"免广告按钮",type:d}),I=J({displayName:"每天看多少次广告"}),A=J({displayName:"已经免费的文本"}),E=J({displayName:"还需要看广告的文本"}),v((S=t((F=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"success",S,a(t)),n(t,"loose",M,a(t)),n(t,"text",P,a(t)),n(t,"time",R,a(t)),n(t,"num",V,a(t)),n(t,"bar",H,a(t)),n(t,"barText",L,a(t)),n(t,"unlock",Y,a(t)),n(t,"adBtn",O,a(t)),n(t,"noADBtn",U,a(t)),n(t,"maxADCount",j,a(t)),n(t,"freeText",q,a(t)),n(t,"nonFreeText",W,a(t)),t._data=void 0,t._gameId=void 0,t.lvID=void 0,t}i(t,e);var l=t.prototype;return l.onGameEnd=function(e,t){this._gameId=t.gameConfig.id,this.lvID=t.config.id,this.node.active=!0,e?(this.text.string=this.success,this.adBtn.active=!1,this.noADBtn.active=!1,this.unlock.node.active=!1):(this._data=g.GameInfo.SaveInfo,this.text.string=this.loose,this.unlock.node.active=!0,h.isGM?(this.adBtn.active=!1,this.noADBtn.active=!0,this.unlock.string="<outline color=#000000 width=2>"+this.freeText+"</outline>"):(this.adBtn.active=!0,this.noADBtn.active=!1,this.unlock.string="")),this._renderProgress(t),h.platform.ads.showNativeAd()},l.hideMe=function(){this.node.active=!1,this._data=null},l._renderProgress=function(e){this.time.string=f.formatSecond(e.pastTime,"MM分SS秒"),this.num.string=""+e.killCount,this.bar.progress=b.clamp01(e.killCount/e.totalEnemyCount),this.barText.string=(100*this.bar.progress).toFixed(2)+"%",e.killCount,e.totalEnemyCount},l.onClickCloseBtn=function(){h.logic.onEnterHall()},l.onClickADBtn=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.game.watchAD("让子弹射-重开");case 2:if(!e.sent){e.next=5;break}this._data.save=!0,h.logic.onEnterMoreGame(this._gameId,this.lvID);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onClickNoADBtn=function(){h.logic.onEnterMoreGame(this._gameId,this.lvID)},t}(y)).prototype,"success",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(F.prototype,"loose",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(F.prototype,"text",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(F.prototype,"time",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(F.prototype,"num",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(F.prototype,"bar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(F.prototype,"barText",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(F.prototype,"unlock",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(F.prototype,"adBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(F.prototype,"noADBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(F.prototype,"maxADCount",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),q=t(F.prototype,"freeText",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"<color=#00FF00>今天</color>可免费重新挑战"}}),W=t(F.prototype,"nonFreeText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"再观看<color=#FF0000>{0}</color>次广告后<color=#00FF00>当日</color>重新挑战免广告"}}),G=F))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/Game11EntityBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtils.ts","./ViewUtil.ts","./Game11HUDManager.ts"],(function(t){var e,i,s,n,o,h;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t.Layers},function(t){n=t.GameUtils},function(t){o=t.ViewUtil},function(t){h=t.Game11HUDManager}],execute:function(){i._RF.push({},"25a95cJ5ntOQbnDewucr8X0","Game11EntityBase",void 0);t("Game11EntityBase",function(){function t(t){this.root=void 0,this._hudType=void 0,this._hud=void 0,this._maxHP=void 0,this._cmp=void 0,this.hp=void 0,this._hudType=t}var i=t.prototype;return i._loadModel=function(t,e,i){this.root=o.createPrefabNode(t,e),n.SetLayer(this.root,s.Enum.UI_3D),i&&i.length>0?this.root.setScale(i[0],i[1],1):this.root.setScale(1,1,1)},i.onIdle=function(){this._cmp.playIdle()},i.onMove=function(){this._cmp.playMove()},i._destroyHUD=function(){this._hud&&(this._hud.node.destroy(),this._hud=null)},i._setHUDPosition=function(t){this._hud&&this._hud.setPosition(t)},i._removeHUD=function(){this._hud&&this._hud.recover()},i._changeHUDValue=function(t){this._hud||(this._hud=h.instance.getHUD(this._hudType)),this._hud.setMax(this._maxHP),h.instance.addHUD(this._hud,t),this._hud.setValue(this.hp)},e(t,[{key:"isAlive",get:function(){return this.hp>0}},{key:"centerPos",get:function(){return this._cmp.getHurtPos()}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/Game11EntityCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,a,r,o,n,l,s,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){n=e.cclegacy,l=e._decorator,s=e.Node,u=e.Vec3,h=e.Component}],execute:function(){var d,c,p,m,y,f,_,N,b,P,g;n._RF.push({},"d84depsA+hK7Jlvi7r+oD1F","Game11EntityCmp",void 0);l.ccclass;var v=l.property;e("Game11EntityCmp",(d=v({type:s,displayName:"受击节点",visible:!0}),c=v({type:s,displayName:"血条节点",visible:!0}),p=v({displayName:"待机-动画名"}),m=v({displayName:"移动-动画名"}),y=v({displayName:"死亡-动画名"}),_=t((f=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,a(t,"_hurtNode",_,r(t)),a(t,"_headNode",N,r(t)),a(t,"idleName",b,r(t)),a(t,"walkName",P,r(t)),a(t,"deathName",g,r(t)),t._hurtPos=void 0,t._headPos=void 0,t.side=1,t}i(t,e);var n=t.prototype;return n.getHurtPos=function(){return this._hurtPos||(this._hurtPos=new u),this._hurtNode?this._hurtNode.getWorldPosition(this._hurtPos):this._hurtPos},n.getHeadPos=function(){return this._headPos||(this._headPos=new u),this._headNode?this._headNode.getWorldPosition(this._headPos):this._headPos},n.getFirePos=function(){return null},n.playIdle=function(){this.play(this.idleName,!0,1)},n.playMove=function(){this.play(this.walkName,!0,1)},n.changeSide=function(e){void 0===e&&(e=!1);var t=e?-1:1;this.side*=t,this.anim.node.scale_x*=t},o(t,[{key:"anim",get:function(){return null}}]),t}(h)).prototype,"_hurtNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(f.prototype,"_headNode",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(f.prototype,"idleName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"walk"}}),P=t(f.prototype,"walkName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"walk"}}),g=t(f.prototype,"deathName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"death"}}),f));n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11FallItemCmpBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtils.ts","./EGame11Enums.ts","./Game11State.ts"],(function(i){var t,e,o,n,s,r,a,l,h,_,d,c,u;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator,n=i.Vec3,s=i.math,r=i.Collider2D,a=i.Contact2DType,l=i.RigidBody2D,h=i.Vec2,_=i.Component},function(i){d=i.GameUtils},function(i){c=i.EGame11BodyTagEnum},function(i){u=i.Game11State}],execute:function(){var v,g;e._RF.push({},"cfa6eEzYrZFxomAX7MuOGAb","Game11FallItemCmpBase",void 0);var p=o.ccclass;o.property,i("Game11FallItemCmpBase",p("Game11FallItemCmpBase")(((g=function(i){function e(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=i.call.apply(i,[this].concat(o))||this)._ownerIndex=-1,t._lineMoving=!1,t._lineMoveStepDur=void 0,t._lineMovePast=void 0,t._linePath=void 0,t._toIndex=void 0,t._startPos=new n,t._groundY=void 0,t._rigidEnable=!1,t._ignoreSids=[],t.collider=void 0,t._waitRecover=!1,t}t(e,i);var o=e.prototype;return o.lateUpdate=function(i){this._waitRecover?this.recover():this._rigidEnable?12==u.Inst.mode?n.distance(this.node.worldPosition,u.Inst.players[0].root.worldPosition)<100&&this._onHitFloor():this.node.worldPosition.y<=this._groundY&&this._onHitFloor():this._lineMoving&&this._onLineMoving(i)},o._onLineMoving=function(i){this._lineMovePast+=i;var t=s.clamp01(this._lineMovePast/this._lineMoveStepDur),o=e._temp;0==this._toIndex?n.lerp(o,this._startPos,this._linePath[this._toIndex],t):n.lerp(o,this._linePath[this._toIndex-1],this._linePath[this._toIndex],t),this.node.setWorldPosition(o),t>=1&&(this._toIndex++,this._lineMovePast=0,this._toIndex>=this._linePath.length&&(this._lineMoving=!1,this._onHitFloor()))},o.onEnterPipe=function(i,t){this._removeSync(),this.node.getWorldPosition(this._startPos),this._toIndex=0,this._lineMoving=!0,this._lineMoveStepDur=t,this._lineMovePast=0,this._linePath=i},o._createBody=function(i,t,e,o){this._waitRecover=!1,i.addChild(this.node),d.resetTransform(this.node),this.node.setWorldPosition(t),this.node.setWorldRotationFromEuler(0,0,0),this._rigidEnable=!0,this.collider=this.node.getComponent(r),this.collider.tag=e,this.collider.on(a.BEGIN_CONTACT,this._onBeginContact,this),this.collider.enabled=!0;var n=this.node.getComponent(l);return n.linearVelocity=h.ZERO,n.angularVelocity=0,o&&n.applyLinearImpulseToCenter(o,!0),n},o._removeSync=function(){this._rigidEnable=!1,this.collider.enabled=!1,this.collider.off(a.BEGIN_CONTACT,this._onBeginContact,this)},o.recover=function(){this._lineMoving=!1,this._ownerIndex=-1,this._removeSync()},o._onHitFloor=function(){this._onFallEnd(),this.recover()},o._onBeginContact=function(i,t,e){var o=t.tag;if(!this._waitRecover&&this._rigidEnable&&t){var n=t.__owner__;if(!(!n||n.waitRecover||this._ignoreSids.indexOf(n.sid)>-1))if(o==c.Pipe){var s=n;s.onTrigger(this),this.onEnterPipe(s.lines,s.stepDuration)}else if(i.tag==c.Fall_Bullet){n.onTrigger(this)?this._ignoreSids.push(n.sid):this._waitRecover=!0}else i.tag==c.Fall_Weapon&&(this._ignoreSids.push(n.sid),this.upgradeWeapon(n,this._ignoreSids))}},o.upgradeWeapon=function(i,t){},e}(_))._temp=new n,v=g))||v);e._RF.pop()}}}));

System.register("chunks:///_virtual/Game11FenjiCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,l,p,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Collider2D,p=e.Animation,c=e.Contact2DType,s=e.Component}],execute:function(){var u,m,y,f,g,h,d;a._RF.push({},"a53f3valHdGJ401d+B6AtKh","Game11FenjiCmp",void 0);var C=o.ccclass,b=o.property;e("Game11FenjiCmp",(u=C("Game11FenjiCmp"),m=b({displayName:"触发器",type:l}),y=b({displayName:"动画",type:p}),u((h=t((g=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"trigger",h,r(t)),n(t,"anim",d,r(t)),t}i(t,e);var a=t.prototype;return a.start=function(){this.trigger.on(c.BEGIN_CONTACT,this.beginContact,this)},a.beginContact=function(){this.anim.play("fenji")},a.update=function(e){},t}(s)).prototype,"trigger",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(g.prototype,"anim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/Game11FindPathMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListEx.ts","./SortComponent.ts","./Game11State.ts","./Game11Monster.ts"],(function(t){var i,e,o,s,n,h,a,r,l,d,p,m,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t.v3,s=t.RigidBody2D,n=t.CircleCollider2D,h=t.Vec3,a=t.Animation,r=t.v2},function(t){l=t.ListEx},function(t){d=t.SortComponent},function(t){p=t.Game11State},function(t){m=t.EGame11MonsterStatus,u=t.Game11Monster}],execute:function(){e._RF.push({},"9bc48rDXaJC+5FZoNs6+HoP","Game11FindPathMonster",void 0);var c=o();t("Game11FindPathMonster",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).weaponNode=null,i.attacking=!1,i.jumping=!1,i.timeout=null,i.birthPos=null,i.body=null,i.circle=null,i.sortCom=null,i.targetFindPathNode=null,i.curFindPathTime=.25,i.findPathTime=.25,i.tempV3=o(),i.tempV2=r(),i}i(e,t),e.Create=function(t,i,o,s,n,h){var a=this._zombiePool[t.path];a||(a=this._zombiePool[t.path]=new l);var r=a.alloc();return r||(r=new e(t,n,h)),r._init(i,o,s),r},e.Free=function(){var t,i=0,e=0;for(var o in this._zombiePool)if((t=this._zombiePool[o])&&t.list.length>0)for(e=t.list.length,i=0;i<e;++i)clearTimeout(t.list[i].timeout),t.list[i]._destroy();this._zombiePool={}};var f=e.prototype;return f.recover=function(){this._status!=m.Recovered&&(this._status=m.Recovered,this.root.removeFromParent(),this.root.active=!1,this._removeHUD(),e._zombiePool[this.config.path].free(this))},f._init=function(t,i,e){this.body=this.root.getComponent(s),this.circle=this.root.getComponent(n),this.weaponNode=this.root.getChildByName("weapon"),this.sortCom=this.root.getComponent(d),this.sid=++u.Game11_Monster_SID,i.addChild(this.root),this.root.active=!0,this.birthPos=t,h.copy(this.position,t),this.root.worldPosition=this.position,this._syncPosition(),this.onMove(),this.hp=this._maxHP,this._atkDuration=this.config.atk_duration,this._atkPast=0,this._atkTime=0,this._fakeZ=e,this._status=m.Enable},f.update=function(t,i,e,o,s){var n=this;if(!this.position)return-1;var h=-1;if(this._status==m.Enable){this.findPath(t);var r=s[this._fakeZ],l=this._moveSpeed*r*t;o[this._fakeZ]||this._halfWidth,this._halfWidth,this.position.x;this.position=this.root.worldPosition,o[this._fakeZ]=this.position.x+this._halfWidth;this.position.x;this.attacking=!1;var d=p.Inst.players[0];if(this.root.worldPosition.x-this.circle.radius-d.root.worldPosition.x<=200&&Math.abs(this.root.worldPosition.y-d.root.worldPosition.y)<=100){if(h=0,this._atkPast-=t,this.attacking=!0,this._atkPast<=0&&(this._atkPast=this._atkDuration,this._atkTime=this._cmp.play(this.config.motion_name,!1,0),h=1,this.weaponNode)){var u=this.weaponNode.getChildByName("anim").getComponent(a);u.play("weaponAtk"),this.timeout=setTimeout((function(){n.weaponNode&&u.play("weaponIdle")}),750)}}else this.position.x<=e&&(h=0);this._syncPosition(),this.weaponNode&&(this.attacking||(this.jumping?this.weaponNode.eulerAngles.z>-10&&(this.weaponNode.eulerAngles=c.set(this.weaponNode.eulerAngles).add3f(0,0,-100*t)):(this.weaponNode.eulerAngles.z>10&&(this.weaponNode.eulerAngles=c.set(this.weaponNode.eulerAngles).add3f(0,0,-100*t)),this.weaponNode.eulerAngles.z<10&&(this.weaponNode.eulerAngles=c.set(this.weaponNode.eulerAngles).add3f(0,0,100*t)))))}else this._status==m.Dead&&(h=0,s[this._fakeZ]=this._deadMoveScale);return this.sortCom.pos=this.root.position,h},f.findPath=function(t){var i=this.root.position.add3f(this.circle.offset.x,this.circle.offset.y,0);if(this.curFindPathTime+=t,this.curFindPathTime>=this.findPathTime&&(this.curFindPathTime=0,this.targetFindPathNode=p.Inst.getTargetFindPathNode(i)),this.targetFindPathNode){var e=Math.random()*this.targetFindPathNode.size.width-this.targetFindPathNode.size.width/2+this.targetFindPathNode.x,o=Math.random()*this.targetFindPathNode.size.height-this.targetFindPathNode.size.height/2+this.targetFindPathNode.y;this.tempV3.x=e,this.tempV3.y=o,this.tempV3=this.tempV3.subtract(i)}else this.tempV3.set(-1,0,0);this.tempV3.normalize().multiplyScalar(1),this.body.applyLinearImpulseToCenter(this.tempV2.set(this.tempV3.x,this.tempV3.y),!0),this.body.linearVelocity.length()>Math.abs(this._moveSpeed)/30&&(this.body.linearVelocity=this.body.linearVelocity.normalize().multiplyScalar(Math.abs(this._moveSpeed)/30))},f._syncPosition=function(){this._setHUDPosition(this._cmp.getHeadPos())},f._destroy=function(){this._destroyHUD(),this.root&&(this.root.destroy(),this.root=null)},e}(u))._zombiePool={},e._RF.pop()}}}));

System.register("chunks:///_virtual/Game11HUDCmpBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,r,i,n,o,s,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.ProgressBar,c=e.math,l=e.Component}],execute:function(){var p,u,m,h,d;n._RF.push({},"1d174dsYZZGCINkLDOZWP/4","Game11HUDCmpBase",void 0);var f=o.ccclass,v=o.property;e("Game11HUDCmpBase",(p=f("Game11HUDCmpBase"),u=v({displayName:"进度条",type:s}),p((d=t((h=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"bar",d,i(t)),t._maxValue=void 0,t}a(t,e);var n=t.prototype;return n.setParent=function(e,t){this.node.parent||(e.addChild(this.node),this.setPosition(t))},n.setMax=function(e){this._maxValue=e},n.setValue=function(e){var t=c.clamp01(c.clamp(e,0,this._maxValue)/this._maxValue);this.bar.progress=t},n.setPosition=function(e){this.node.setWorldPosition(e)},n.recover=function(){this.node.removeFromParent()},t}(l)).prototype,"bar",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11HUDManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./Game11HUDCmpBase.ts"],(function(t){var e,n,a,i,s;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,a=t.Prefab},function(t){i=t.ViewUtil},function(t){s=t.Game11HUDCmpBase}],execute:function(){n._RF.push({},"592d6L6tg1FULzS50hqks2y","Game11HUDManager",void 0),t("Game11HUDManager",function(){function t(){this._path=void 0,this._root=void 0,this._path={},this._path[0]={path:"prefab/self_bar",bundle:"game11"},this._path[1]={path:"prefab/enemy_bar",bundle:"game11"},this._path[2]={path:"prefab/Damage",bundle:"game11"}}t.Free=function(){this._instance&&(this._instance=null)};var n=t.prototype;return n.bindRoot=function(t){this._root=t},n.getPreload=function(t){t.add(this._path[0].path,this._path[0].bundle,a),t.add(this._path[1].path,this._path[1].bundle,a)},n.getHUD=function(t){var e=this._path[t];return i.createPrefabNode(e.path,e.bundle).getComponent(s)},n.addHUD=function(t,e){t.setParent(this._root,e)},e(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11HUDValueCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11HUDCmpBase.ts"],(function(e){var t,a,r,i,n,l,o,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.Label},function(e){p=e.Game11HUDCmpBase}],execute:function(){var s,c,u,m,f;n._RF.push({},"48ce327z5tORpzI6TAUkGD4","Game11HUDValueCmp",void 0);var y=l.ccclass,h=l.property;e("Game11HUDValueCmp",(s=y("Game11HUDValueCmp"),c=h({displayName:"进度",type:o}),s((f=t((m=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(t,"text",f,i(t)),t}return a(t,e),t.prototype.setValue=function(t){e.prototype.setValue.call(this,t),this.text.string=""+Math.floor(t)},t}(p)).prototype,"text",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11LevelSelectView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G11LevelConfig.ts","./YT.ts"],(function(e){var t,i,n,o,l,a,r,c,s,u,p,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Node,c=e.instantiate,s=e.Label,u=e.Button,p=e.Component},function(e){d=e.G11LevelConfig},function(e){h=e.YT}],execute:function(){var f,m,v,g,y,C,L;l._RF.push({},"d50676h1m1I5oeC+20uXK1C","Game11LevelSelectView",void 0);var _=a.ccclass,b=a.property;e("Game11LevelSelectView",(f=_("Game11LevelSelectView"),m=b({displayName:"列表",type:r}),v=b({displayName:"模板",type:r}),f((C=t((y=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"list",C,o(t)),n(t,"template",L,o(t)),t._gameId=void 0,t}i(t,e);var l=t.prototype;return l.onShow=function(e){this._gameId=e;var t,i=d.dataList.filter((function(t){return t.mode==e})),n=0,o=i.length;for(n=0;n<o;++n)i[n],(t=c(this.template)).children[0].getComponent(s).string="第"+(n+1)+"关",this.list.addChild(t),t.active=!0,t.getComponent(u).clickEvents[0].customEventData=""+n;this.node.active=!0},l.onClickLevelItem=function(e,t){this._hideMe();var i=+t,n=d.dataList[i],o=h.logic.state.config;n.id==o.id&&this.onClickCloseBtn()},l.onClickCloseBtn=function(){this._hideMe(),h.logic.state.onGameStart()},l._hideMe=function(){this.node.active=!1,this.list.destroyAllChildren()},t}(p)).prototype,"list",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(y.prototype,"template",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/Game11MazeCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,i,r,a,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Vec2,c=e.CCFloat,u=e.game,p=e.Component}],execute:function(){var l,h,f,v,m;r._RF.push({},"01c48keJqZBgpPQ4P0tSJhk","Game11MazeCmp",void 0);var _=a.ccclass,d=a.property;new s,e("Game11MazeCmp",(l=_("Game11MazeCmp"),h=d({displayName:"旋转速度",type:c}),l((m=t((v=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"moveRatio",m,i(t)),t._prevPos=new s,t}o(t,e);var r=t.prototype;return r.onEnable=function(){u.on("ON_GAME11_MAZE_MOVE",this.roateNode.bind(this))},r.onDisable=function(){u.off("ON_GAME11_MAZE_MOVE",this.roateNode.bind(this))},r._onTouchBegin=function(e){this._prevPos=e.getLocation()},r._onTouchEnd=function(e){this._prevPos.set(0,0)},r._onTouchMove=function(e){var t=e.getLocation(),o=t.subtract(this._prevPos);this.roateNode(o),this._prevPos=t},r.move=function(e){},r.roateNode=function(e){if(this.node){var t=this.node.eulerAngles.z,o=e.x*this.moveRatio;this.node.setRotationFromEuler(0,0,t+o)}},r.lateUpdate=function(e){},t}(p)).prototype,"moveRatio",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),f=v))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Game11Monster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListEx.ts","./YT.ts","./Game11MonsterCmp.ts","./Game11State.ts","./Game11EntityBase.ts","./Game11Damage.ts"],(function(t){var i,e,s,o,a,h,n,_,r,c;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,o=t.Vec3},function(t){a=t.ListEx},function(t){h=t.YT},function(t){n=t.Game11MonsterCmp},function(t){_=t.Game11State},function(t){r=t.Game11EntityBase},function(t){c=t.Game11Damage}],execute:function(){s._RF.push({},"effd9wqi1BB7pgZJkuKOvKs","Game11Monster",void 0);var d=t("EGame11MonsterStatus",function(t){return t[t.None=0]="None",t[t.Enable=1]="Enable",t[t.Jumping=2]="Jumping",t[t.Dead=3]="Dead",t[t.Recover=4]="Recover",t[t.Recovered=5]="Recovered",t}({})),l=t("Game11Monster",function(t){function s(i,e,s){var a,h;return(a=t.call(this,1)||this).sid=0,a.config=void 0,a.position=void 0,a._moveSpeed=void 0,a._atkDuration=void 0,a._atkPast=void 0,a._atkTime=void 0,a._fakeZ=void 0,a._status=d.None,a._deadTime=.05,a._deadMoveScale=.5,a._deadLeft=0,a.width=void 0,a._halfWidth=void 0,a._atkDis=void 0,a.height=void 0,a._halfHeight=void 0,a.config=i,a._maxHP=i.hp*s,a._moveSpeed=a.config.move_speed,a.position=new o,a._loadModel(i.path,i.bundle,i.scale),a._cmp=a.root.getComponent(n),h=i.scale&&i.scale.length>0?i.scale:[1,1],a.width=i.size[0]*h[0],a._halfWidth=a.width/2,a._atkDis=.9*a.width,a.height=i.size[1]*h[1],a._halfHeight=a.height/2,a}i(s,t),s.Create=function(t,i,e,o,h,n){var _=this._pool[t.path];_||(_=this._pool[t.path]=new a);var r=_.alloc();return r||(r=new s(t,h,n)),r._init(i,e,o),r},s.Free=function(){var t,i=0,e=0;for(var s in this._pool)if((t=this._pool[s])&&t.list.length>0)for(e=t.list.length,i=0;i<e;++i)t.list[i]._destroy();this._pool={}};var r=s.prototype;return r._destroy=function(){this._destroyHUD(),this.root&&(this.root.destroy(),this.root=null)},r._init=function(t,i,e){this.sid=++s.Game11_Monster_SID,i.addChild(this.root),o.copy(this.position,t),this._syncPosition(),this.onMove(),this.hp=this._maxHP,this._atkDuration=this.config.atk_duration,this._atkPast=0,this._atkTime=0,this._fakeZ=e,this._status=d.Enable},r._syncPosition=function(){this.root.setWorldPosition(this.position),this._setHUDPosition(this._cmp.getHeadPos())},r.update=function(t,i,e,s,o){var a=-1;if(this._status==d.Enable){var h=o[this._fakeZ],n=this._moveSpeed*h*t,_=s[this._fakeZ],r=(_||i-this._halfWidth)+this._halfWidth,c=this.position.x+n;0!=this._moveSpeed&&(this.position.x=Math.max(c,r)),s[this._fakeZ]=this.position.x+this._halfWidth;var l=this.position.x-i;!_&&l<=this._halfWidth||_-i<=this.width&&l<=this._atkDis?(a=0,this._atkPast-=t,this._atkPast<=0&&(this._atkPast=this._atkDuration,this._atkTime=this._cmp.play(this.config.motion_name,!1,0),a=1)):this.position.x<=e&&(a=0),this._syncPosition()}else this._status==d.Dead&&(a=0,o[this._fakeZ]=this._deadMoveScale);return a},r.lateUpdate=function(t){switch(this._status){case d.Enable:this._atkTime>0&&(this._atkTime-=t,this._atkTime<=0&&this.onIdle());break;case d.Dead:this._deadLeft-=t,this._deadLeft<=0&&(this._status=d.Recover)}},r.onMonsterDead=function(){this._status=d.Dead,this._deadLeft=this._deadTime,this._cmp&&this._cmp.play(this._cmp.deathName,!1,0)},r.recover=function(){this._status!=d.Recovered&&(this._status=d.Recovered,this.root.removeFromParent(),this._removeHUD(),s._pool[this.config.path].free(this))},r.checkCollision=function(t,i){var e=this.centerPos.x,s=this.centerPos.y,o=Math.max(0,Math.abs(t.x-e)-this._halfWidth),a=Math.max(0,Math.abs(t.y-s)-this._halfHeight);return o*o+a*a<=i},r.onDamaged=function(t){this.isAlive&&(h.audio.play(this.config.hit_audio,5),h.logic.state.playEffect(this.config.hit_effect,this.centerPos),this.hp=Math.max(0,this.hp-t),_.Inst.root.showDamage&&c.create().show(t,this.centerPos,!1),this.hp>0?this._changeHUDValue(this._cmp.getHeadPos()):this._removeHUD())},e(s,[{key:"status",get:function(){return this._status}},{key:"isAlive",get:function(){return this.hp>0}}]),s}(r));l.Game11_Monster_SID=0,l._pool={},s._RF.pop()}}}));

System.register("chunks:///_virtual/Game11MonsterCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11EntityCmp.ts"],(function(e){var t,i,n,r,a,o,s,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,p=e.Animation},function(e){c=e.Game11EntityCmp}],execute:function(){var l,u,m,y,f;o._RF.push({},"231e23GYS9JWq13bdUTfqJD","Game11MonsterCmp",void 0);var h=s.ccclass,d=s.property;e("Game11MonsterCmp",(l=h("Game11MonsterCmp"),u=d({type:p,displayName:"动画",visible:!0}),l((f=t((y=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_anim",f,r(t)),t}return i(t,e),t.prototype.play=function(e,t){var i=0;if(this.anim){this.anim.play(e);var n=this.anim.getState(e);n&&(i=n.duration/n.speed)}return i},a(t,[{key:"anim",get:function(){return this._anim}}]),t}(c)).prototype,"_anim",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Game11PipeLineCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EGame11Enums.ts","./Game11BlockCmpBase.ts"],(function(e){var i,t,n,o,r,a,l,s,p,c,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,s=e.Animation,p=e.Vec3},function(e){c=e.EGame11BodyTagEnum},function(e){u=e.Game11BlockCmpBase}],execute:function(){var f,h,m,y,d,g,b,v,P,G;r._RF.push({},"0dfc5NojWtEk4urxkVVU8CU","Game11PipeLineCmp",void 0);var j=a.ccclass,z=a.property;e("Game11PipeLineCmp",(f=j("Game11PipeLineCmp"),h=z({displayName:"路径根",type:l}),m=z({displayName:"两个点间的移动时间"}),y=z(s),f(((G=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,n(i,"pointRoot",b,o(i)),n(i,"stepDuration",v,o(i)),n(i,"fenji",P,o(i)),i.lines=void 0,i}t(i,e);var r=i.prototype;return r.onEnable=function(){this.lines=[];var e=0,i=this.pointRoot.children.length;for(e=0;e<i;++e)this.lines.push(new p)},r.initialize=function(i){this.movable=!1,e.prototype.initialize.call(this,i),this._createTrigger(c.Pipe),this._startPos=this.node.getWorldPosition();var t=0,n=this.lines.length;for(t=0;t<n;++t)this.pointRoot.children[t].getWorldPosition(this.lines[t])},r.onTrigger=function(e){return this.fenji&&this.fenji.play("fenji"),!0},i}(u))._temp=new p,b=i((g=G).prototype,"pointRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(g.prototype,"stepDuration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),P=i(g.prototype,"fenji",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Game11Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G11EmitterConfig.ts","./G11WeaponConfig.ts","./ArrayUtil.ts","./Vec3Util.ts","./ViewUtil.ts","./YT.ts","./Game11PlayerCmpBase.ts","./Game11EntityBase.ts"],(function(t){var i,e,a,s,r,o,n,h,c,m,l,f,_,p;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){a=t.cclegacy,s=t.Vec3,r=t.Animation,o=t.v3},function(t){n=t.G11EmitterConfig},function(t){h=t.G11WeaponConfig},function(t){c=t.ArrayUtil},function(t){m=t.Vec3Util},function(t){l=t.ViewUtil},function(t){f=t.YT},function(t){_=t.Game11PlayerCmpBase},function(t){p=t.Game11EntityBase}],execute:function(){a._RF.push({},"95d2fdXd4NHuZN5Ib+qSNEd","Game11Player",void 0);var d=function(t,i,e,a){this.minCapacity=void 0,this.maxCapacity=void 0,this.duration=void 0,this.scale=void 0,this.minCapacity=t[a],this.maxCapacity=t[a+1]||Number.MAX_SAFE_INTEGER,this.scale=e[a],this.duration=i[a]};new s,t("Game11PlayerAnim",function(t){function a(i,e,a,r){var o;return(o=t.call(this,0)||this).config=void 0,o.emitter=void 0,o._extAttack=0,o._atkRate=1,o._exAtkRate=0,o._extEmiterBullet=0,o._extAttackTime=0,o._extAttackSpeedRate=1,o._capacity=void 0,o._steps=void 0,o._attackDuration=void 0,o._attackPast=void 0,o._isAttacking=!1,o._fireDuration=void 0,o._timeScale=void 0,o._firePast=0,o._index=void 0,o._fireDir=new s,o._fireNormal=new s,o._fireOffset=new s,o._startPos=new s,o._prevTargetSID=0,o.mode=void 0,o.halfHp=!1,o.curAtkAnimTime=0,o.isDie=!1,o.extWeapon=[],o.addWeaponEff=null,o._changeTimer=0,o.root=l.createPrefabNode(e.role_path,e.bundle),o._cmp=o.root.getComponent(_),a.addChild(o.root),o.mode=e.mode,o.halfHp=!1,o.hp=o._maxHP=e.hp,o._capacity=0,o._index=r,o._createHUD(),o.onIdle(),o.changeWeapon(i,!1),o.extWeapon=[],o.resetAttckSide(),o}i(a,t);var p=a.prototype;return p.addExtWeapon=function(){return this.showAddWeaponEff()},p.showAddWeaponEff=function(){if(!this.addWeaponEff){var t=l.createPrefabNode("prefab/effect/getWeapon",this.config.icon_bundle);this.addWeaponEff=t.getComponent(r);var i=this.root.getComponent(_).weaponNode;t.parent=this.root,t.setWorldPosition(i.worldPosition)}f.audio.play(11007),this.addWeaponEff.play()},p.changeWeapon=function(t,i){if(this.config&&this.config.id==t)return this.addAttack(this.config.ext_atk),console.error("只增加攻击力"),void this.addExtWeapon();this.config=h.data[t],this.emitter=n.data[this.config.emitter_id],i&&(this.config.idle2_name&&(this._cmp.idleName=this.config.idle2_name),f.audio.play(11007)),this.isDie||this._cmp.playIdle(),this._steps=[];var e=this.config.shoot_step,a=this.config.shoot_time,s=0,r=e.length;for(s=0;s<r;++s)this._steps.push(new d(e,a,this.config.shoot_anim_speed,s));this.shootStep=this._steps[0]},p._createHUD=function(){0==this._index&&this._changeHUDValue(this._cmp.getHeadPos())},p.resetAttckSide=function(){this.playerCmp.isInternalAttack?this.playerCmp.changeSide(!0):(this.playerCmp.side>0?this._changeTimer=this.playerCmp.attckCD.x+Math.random()*(this.playerCmp.attckCD.y-this.playerCmp.attckCD.x):(this._changeTimer=this.playerCmp.attckInterval.x+Math.random()*(this.playerCmp.attckInterval.y-this.playerCmp.attckInterval.x),this.onIdle()),console.log("攻击方向+"+(this.playerCmp.side>0?"攻击":"停止")+this._changeTimer))},p.update=function(t,i,e,a){var r=this;if(this._isAttacking&&(this._attackPast+=t,this._attackPast>=this._attackDuration&&(this.playerCmp.isInternalAttack||this.onIdle(),this._isAttacking=!1)),this.hp=Math.max(0,this.hp-a),0==this._index&&this._changeHUDValue(this._cmp.getHeadPos()),this.isAlive){if(this._firePast+=t,this.curAtkAnimTime+=t,this._firePast>=this.fireDuration&&i&&e>=0&&this.attackable){var n;if(this._firePast=0,!(n=e>this._index?i[this._index]:i[0]))return;if(i.length>1&&this._prevTargetSID==n.sid&&(n=c.getRandomValueInArray(i.filter((function(t){return r._prevTargetSID!=t.sid})))),!n)return;this._prevTargetSID=n.sid,this.capacity=Math.max(0,this._capacity-this.emitter.cost_bullet),f.audio.play(this.emitter.fire_audio);var h=this._cmp.getFirePos();this.config.fire_offset&&(h.x+=this.config.fire_offset[0],h.y+=this.config.fire_offset[1]);var l=n.centerPos.clone();s.subtract(this._fireDir,l,h).normalize();var p=this.root.getComponent(_).weaponNode;if(p){var d=m.signedAngleEx(m.s_right,this._fireDir,m.s_forward);d<-25&&(d=-25),d>25&&(d=25),p.setWorldRotationFromEuler(0,0,d);var u=p.parent.children[0];"weapon"==u.name&&u.setWorldRotationFromEuler(0,0,d)}this._fireNormal.set(-this._fireDir.y,this._fireDir.x,0),this.extWeapon.forEach((function(t){t.play()}));var g=f.logic.state;switch(this.emitter.shape){case 1:var y=0,k=this.emitter.shape_param[0],v=0,x=this.BulletNum;for(v=0;v<x;++v)v>0?(y=v+1<<0,v%2==0&&(y*=-1)):y=0,s.multiplyScalar(this._fireOffset,this._fireNormal,y*k),s.add(this._startPos,h,this._fireOffset),g.createBullet(this.emitter,this._startPos,this._fireDir,this.Damage);break;case 2:var A,D=this.emitter.shape_param[0],C=0,P=this.BulletNum;for(C=0;C<P;++C)0==C?s.copy(this._startPos,this._fireDir):(A=C+1<<0,C%2==0&&(A*=-1),m.rotateDirXY(this._fireDir,A*D,this._startPos)),g.createBullet(this.emitter,h,this._startPos,this.Damage);break;case 3:var N=this.emitter.shape_param[0],S=0,E=this.BulletNum;for(S=0;S<E;++S)s.copy(this._fireNormal,l),this._fireNormal.y-=S*N,s.subtract(this._fireDir,this._fireNormal,h).normalize(),g.createBullet(this.emitter,h,this._fireDir,this.Damage);break;case 4:var b=this.emitter.shape_param[0],w=0,B=this.BulletNum;for(w=0;w<B;++w){s.copy(this._fireNormal,l),this._fireNormal.x+=w*b,this._fireNormal.y=h.y;var W=o(h.x+.5*(this._fireNormal.x-h.x),h.y);g.createBullet(this.emitter,h,this._fireNormal.clone(),this.Damage,W)}}this._attackPast=0,this._cmp.anim.getState(this.config.motion_name).speed=this._timeScale,this._cmp.play(this.config.motion_name,!1,0),this.curAtkAnimTime=0,this._isAttacking=!0,this.playerCmp.side<0&&this.playerCmp.isInternalAttack&&this.resetAttckSide()}}else this._removeHUD()},p.addBulletCount=function(){var t=this.config.bullet_add;this.config.bullet_limit>0?this.capacity=Math.min(this.config.bullet_limit,this._capacity+t):this.capacity=this._capacity+t},p.addEmiterBullet=function(t){this._extEmiterBullet+=t},p.addAttack=function(t){this._extAttack+=t,console.error("damage="+this.Damage)},p.multAttack=function(t){this._extAttack=(this.config.damage+this._extAttack)*t-this.config.damage,console.error("damage="+this.Damage)},p.addHp=function(t){this.hp+=t,this.hp=Math.min(this._maxHP,this.hp),this._changeHUDValue(this._cmp.getHeadPos())},p.addAttackSpeed=function(t){this._extAttackTime+=t},p.addAttackRate=function(t){this._exAtkRate+=t,console.error("damage="+this.Damage)},p.multiAttackSpeed=function(t){this._extAttackSpeedRate*=t},p.onDead=function(){this.isDie=!0,this._cmp.play(this._cmp.deathName,!1,0)},p.destroy=function(){this._destroyHUD(),this.mode,this.root.destroy()},e(a,[{key:"capacity",set:function(t){var i;this._capacity=t;var e=0,a=this._steps.length;for(e=0;e<a;++e)if((i=this._steps[e]).minCapacity<t&&i.maxCapacity>=t){this.shootStep=i;break}}},{key:"fireDuration",get:function(){return this._fireDuration/(1+this._extAttackTime)/this._extAttackSpeedRate}},{key:"shootStep",set:function(t){this._fireDuration=t.duration,this._timeScale=t.scale,this._attackDuration=this._cmp.anim.getState(this.config.motion_name).duration/this._timeScale}},{key:"weaponPos",get:function(){return this._cmp.weaponNode.worldPosition}},{key:"footPos",get:function(){return this._cmp.anim.node.worldPosition}},{key:"attackable",get:function(){return this._capacity>this.emitter.cost_bullet}},{key:"playerCmp",get:function(){return this._cmp}},{key:"BulletNum",get:function(){return this.emitter.bullet_num+this._extEmiterBullet}},{key:"Damage",get:function(){return(this.config.damage+this._extAttack)*(this._atkRate+this._exAtkRate)}}]),a}(p));a._RF.pop()}}}));

System.register("chunks:///_virtual/Game11PlayerCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11EntityCmp.ts"],(function(e){var i,t,r,n,a,o,s,l,p,c,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.sp,p=e.Node,c=e.Vec3},function(e){m=e.Game11EntityCmp}],execute:function(){var u,f,y,d,h,_,P;o._RF.push({},"aad72mpJUVEd6mE2kJ/ds1O","Game11PlayerCmp",void 0);var v=s.ccclass,b=s.property;e("Game11PlayerCmp",(u=v("Game11PlayerCmp"),f=b({type:l.Skeleton,displayName:"动画",visible:!0}),y=b({type:p,displayName:"攻击节点",visible:!0}),u((_=i((h=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,r(i,"_anim",_,n(i)),r(i,"_fireNode",P,n(i)),i._firePos=void 0,i}t(i,e);var o=i.prototype;return o.getFirePos=function(){return this._firePos||(this._firePos=new c),this._fireNode?this._fireNode.getWorldPosition(this._firePos):this._firePos},o.playIdle=function(){this.anim.timeScale=1,e.prototype.playIdle.call(this)},o.play=function(e,i,t){return this.anim.clearTrack(1),this.anim.setAnimation(t,e,i),this.anim.findAnimation(e).duration},a(i,[{key:"anim",get:function(){return this._anim}}]),i}(m)).prototype,"_anim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(h.prototype,"_fireNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Game11PlayerCmpBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11EntityCmp.ts"],(function(e){var t,i,r,a,n,l,o,s,p,c,u,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,o=e._decorator,s=e.Vec3,p=e.Animation,c=e.Node,u=e.CCBoolean,y=e.Vec2},function(e){f=e.Game11EntityCmp}],execute:function(){var m,b,d,h,v,_,g,N,w,P,k,C,I,z,A;l._RF.push({},"5377dO42plNk4F7A4EmbTJZ","Game11PlayerCmpBase",void 0);var B=o.ccclass,G=o.property;new s,e("Game11PlayerCmpBase",(m=B("Game11PlayerCmpBase"),b=G({type:p,displayName:"动画",visible:!0}),d=G({type:c,displayName:"攻击节点",visible:!0}),h=G({type:c,displayName:"武器",visible:!0}),v=G({type:u,displayName:"是否间隔攻击?",visible:!0}),_=G({type:y,displayName:"攻击冷却区间/s",visible:function(){return this.isInternalAttack}}),g=G({type:y,displayName:"攻击冷却间隔区间/s",visible:function(){return this.isInternalAttack}}),m((P=t((w=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(t,"_anim",P,a(t)),r(t,"_fireNode",k,a(t)),r(t,"weaponNode",C,a(t)),r(t,"isInternalAttack",I,a(t)),r(t,"attckCD",z,a(t)),r(t,"attckInterval",A,a(t)),t._firePos=void 0,t}i(t,e);var l=t.prototype;return l.getFirePos=function(){return this._firePos||(this._firePos=new s),this._fireNode?this._fireNode.getWorldPosition(this._firePos):this._firePos},l.playIdle=function(){e.prototype.playIdle.call(this)},l.play=function(e,t,i){this.anim.play(e);var r=this.anim.getState(e);return r?r.duration:(console.error("没有动画"+e),0)},n(t,[{key:"anim",get:function(){return this._anim}}]),t}(f)).prototype,"_anim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(w.prototype,"_fireNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(w.prototype,"weaponNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(w.prototype,"isInternalAttack",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=t(w.prototype,"attckCD",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y}}),A=t(w.prototype,"attckInterval",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y}}),N=w))||N));l._RF.pop()}}}));

System.register("chunks:///_virtual/Game11RefreshGroup.ts",["cc","./G11RefreshConfig.ts","./ArrayUtil.ts"],(function(e){var t,n,i;return{setters:[function(e){t=e.cclegacy},function(e){n=e.G11RefreshConfig},function(e){i=e.ArrayUtil}],execute:function(){t._RF.push({},"b2373EOPwJA0rrn8QRmZsfC","Game11RefreshGroup",void 0);e("G11RefreshGroup",function(){function e(e){this.config=void 0,this.time=void 0,this.waveIndex=void 0,this.config=n.data[e],this.time=0,this.waveIndex=0}var t=e.prototype;return t.update=function(e,t){if(this.time+=1e3*e,this.config.enemy_born[this.waveIndex]&&this.time>=this.config.enemy_born[this.waveIndex]){for(var n=this.config.enemy_count[this.waveIndex],i=this.config.enemy_ids[this.waveIndex],s=0;s<n.length;++s)for(var o=0;o<n[s];++o)t.push(i[s]);this.waveIndex++,console.log("刷新"+this.waveIndex+"/"+this.config.enemy_born.length,i)}},t.getMonsterList=function(){var e=[],t=this.config.enemy_ids,n=0,s=t.length;for(n=0;n<s;++n)i.PushArray(e,t[n]);return e.length>0?i.noRepeated(e):e},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Game11RotateCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(e){var t,r,o,i,n,a,l,p,c,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Node,p=e.CCFloat,c=e.Vec3,u=e.Component},function(e){s=e.YT}],execute:function(){var f,m,y,d,h,b,g,w,C,R;n._RF.push({},"1de98up9fxHBJFOfKDBshLt","Game11RotateCmp",void 0);var v=a.ccclass,z=a.property;e("Game11RotateCmp",(f=v("Game11RotateCmp"),m=z({displayName:"旋转中心",type:l}),y=z({displayName:"需要转动的节点",type:[l]}),d=z({displayName:"旋转速度",type:p}),f(((R=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"center",g,i(t)),o(t,"follows",w,i(t)),o(t,"rateSpeed",C,i(t)),t}return r(t,e),t.prototype.update=function(e){s.logic.Paused||(this.center.angle+=this.rateSpeed,this.follows.forEach((function(e){return e.setWorldRotationFromEuler(0,0,0)})))},t}(u))._temp=new c,g=t((b=R).prototype,"center",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(b.prototype,"follows",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(b.prototype,"rateSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=b))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11Scene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game11BlockCmpBase.ts"],(function(e){var t,i,n,o,a,r,l,s,h,d,u,c,y,p,f,g,m,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.UITransform,h=e.Node,d=e.CCInteger,u=e.CCFloat,c=e.CCBoolean,y=e.view,p=e.Vec3,f=e.Vec2,g=e.math,m=e.Component},function(e){_=e.Game11BlockCmpBase}],execute:function(){var v,b,N,C,x,w,M,k,z,B,R,P,S,W,D,X,G,I,Y,E,V,F,T,Z,A,L,j;r._RF.push({},"e9056Y1EmhDpJot8xM/feAI","Game11Scene",void 0);var H=e("Game11WallBounds",(function(e,t,i,n){this.xMin=void 0,this.xMax=void 0,this.width=void 0,this.xCenter=void 0,this.yMin=void 0,this.yMax=void 0,this.height=void 0,this.yCenter=void 0,this.xMin=e,this.xMax=i,this.width=i-e,this.xCenter=this.xMin+this.width/2,this.yMin=t,this.yMax=n,this.height=n-t,this.yCenter=this.yMin+this.height/2})),J=l.ccclass,U=l.property;e("Game11Scene",(v=J("Game11Scene"),b=U({displayName:"掉落范围",type:s}),N=U({displayName:"道路",type:s}),C=U({displayName:"杯子所在位置",type:h}),x=U({displayName:"杯子锁定相对位置"}),w=U({displayName:"杯子移动范围相对位置",tooltip:"0:绝对值,1:相对屏幕适配"}),M=U({displayName:"挡板",type:[s]}),k=U({displayName:"线数",type:d}),z=U({displayName:"z轴偏移",type:u}),B=U({displayName:"显示伤害",type:c}),R=U({displayName:"前方高能",type:d}),P=U({displayName:"最大容量",type:d}),S=U({displayName:"限制发射",type:d}),v((X=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"range",X,o(t)),n(t,"road",G,o(t)),n(t,"cupNode",I,o(t)),n(t,"lockRelative",Y,o(t)),n(t,"lockRangeRelative",E,o(t)),n(t,"blocks",V,o(t)),n(t,"lineCount",F,o(t)),n(t,"fakeZRatio",T,o(t)),n(t,"showDamage",Z,o(t)),n(t,"bossComing",A,o(t)),n(t,"maxbulletCnt",L,o(t)),n(t,"limitbulletCnt",j,o(t)),t._birthPos=void 0,t._offset=void 0,t._fakeDir=void 0,t.zIndex=0,t._playerNode=void 0,t.fallNode=void 0,t.enemyNode=void 0,t.boatNode=void 0,t.boatWaveNode=void 0,t.endNode=void 0,t._enemyMap=void 0,t.bulletNode=void 0,t.effectNode=void 0,t.attackX=void 0,t.attackRangeX=void 0,t.bounds=void 0,t.groundY=void 0,t._viewSize=void 0,t.moveScale=void 0,t.offsetX=0,t.attackMinY=0,t}i(t,e);var r=t.prototype;return r.getPlayerNode=function(e){return this._playerNode.children[e]},r.getEnemyRoot=function(e){return this._enemyMap[e]},r.initialize=function(){this._viewSize=y.getVisibleSize();var e=[],t=this.node.getComponentsInChildren(_);if(t&&t.length>0){var i=0,n=t.length;for(i=0;i<n;++i)t[i].initialize(e)}var o=this.road.contentSize.height,a=this.lineCount-1;this._fakeDir=new p(this.fakeZRatio/a,o/a,0),this._offset=new p,this.moveScale={};var r=this.road.node,l=r.getWorldPosition();this._playerNode=r.getChildByName("__birth__");var s=r.getChildByName("__start__");this._birthPos=s.getWorldPosition(),this._birthPos.y=l.y;var h=r.getChildByName("__end__");this.endNode=h;var d=h.getWorldPosition();this.attackX=d.x;var u=r.getChildByName("__attack__");return this.attackRangeX=u.getWorldPosition().x,this.attackMinY=u.getWorldPosition().y-80,this.fallNode=this.node.getChildByName("__fall__"),this.enemyNode=this.node.getChildByName("__enemy__"),this.boatNode=this.node.getChildByName("__boat__"),this.boatWaveNode=this.node.getChildByPath("bg/__wave__"),this.bulletNode=this.node.getChildByName("__bullet__"),this.effectNode=this.node.getChildByName("__effect__"),this.offsetX=this.node.getChildByName("__range__").position.x,this._initEnemyMap(),this._initRange(),e},r._initEnemyMap=function(){this._enemyMap={};var e,t=this.enemyNode,i=0;for(i=this.lineCount-1;i>=0;i--)this._enemyMap[i]=e=new h,t.addChild(e)},r._initRange=function(){var e=this.range.getBoundingBoxToWorld();this.bounds=new H(e.xMin,e.yMin,e.xMax,e.yMax),e.yMax<=this._birthPos.y?this.groundY=e.yMin+100:this.groundY=Math.max(this._birthPos.y,e.yMin)+100},r._getCurrentValue=function(e,t,i,n){return(e+t)/i*n},r.getCupPosition=function(){var e={pos:this.cupNode.getWorldPosition(),range:new f(0,0)};if(this.lockRelative){var t=(this.cupNode.position.y+667)/1334;e.pos.y=this._viewSize.height*t}var i=this.cupNode.children[0].getWorldPosition(),n=this.cupNode.children[1].getWorldPosition(),o=Math.round(i.x),a=Math.round(n.x),r=Math.min(o,a),l=Math.max(o,a);return 1==this.lockRangeRelative.x?e.range.x=r/750*this._viewSize.width+this.offsetX:e.range.x=r,1==this.lockRangeRelative.y?e.range.y=l/750*this._viewSize.width+this.offsetX:e.range.y=l,e},r.getPosition=function(e){var t=g.randomRangeInt(0,this.lineCount);return p.multiplyScalar(this._offset,this._fakeDir,t),p.add(e,this._birthPos,this._offset),t},r.resetMoveScale=function(){var e=0,t=this.lineCount;for(e=0;e<t;++e)this.moveScale[e]=1;return this.moveScale},a(t,[{key:"limitBullet",get:function(){return this.maxbulletCnt>0&&this.fallNode.children.length>=this.maxbulletCnt}},{key:"stopShootBullet",get:function(){return this.limitbulletCnt>0&&this.fallNode.children.length>=this.limitbulletCnt}}]),t}(m)).prototype,"range",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(D.prototype,"road",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(D.prototype,"cupNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(D.prototype,"lockRelative",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=t(D.prototype,"lockRangeRelative",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(0,0)}}),V=t(D.prototype,"blocks",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(D.prototype,"lineCount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),T=t(D.prototype,"fakeZRatio",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-20}}),Z=t(D.prototype,"showDamage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=t(D.prototype,"bossComing",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 999}}),L=t(D.prototype,"maxbulletCnt",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=t(D.prototype,"limitbulletCnt",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=D))||W));r._RF.pop()}}}));

System.register("chunks:///_virtual/Game11SettingsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(i){var e,t,o,r,a,l,s,u,n,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,l=i._decorator,s=i.Slider,u=i.Sprite,n=i.Component},function(i){c=i.YT}],execute:function(){var d,p,m,f,g,h,S,v,y,b,w,_;a._RF.push({},"208abyh7CFJforW72KhaIRl","Game11SettingsView",void 0);var M=l.ccclass,B=l.property,z=l.menu;i("Game11SettingsView",(d=M("Game11SettingsView"),p=z("副玩法11/界面/设置界面"),m=B({displayName:"bgm",type:s}),f=B({displayName:"bgm进度",type:u}),g=B({displayName:"音效",type:s}),h=B({displayName:"音效进度",type:u}),d(S=p((y=e((v=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=i.call.apply(i,[this].concat(a))||this,o(e,"musicSlider",y,r(e)),o(e,"musicSliderBg",b,r(e)),o(e,"audioSlider",w,r(e)),o(e,"audioSliderBg",_,r(e)),e._isOpened=!1,e._startMusic=void 0,e._startAudio=void 0,e._gameId=void 0,e}t(e,i);var a=e.prototype;return a.onShow=function(i){c.logic.pause(),this._gameId=i,this.musicSlider.progress=c.audio.volumeMusic,this.audioSlider.progress=c.audio.volumeEffect,this.onSlideMusic(),this.onSlideAudio(),this._isOpened=!0,this.node.active=!0},a.onClickCloseBtn=function(){this.node.active=!1,c.logic.resume()},a.onSlideMusic=function(){var i=this.musicSlider.progress;i<=0?(c.audio.switchMusic=!1,c.audio.volumeMusic=0):(c.audio.volumeMusic=i,c.audio.switchMusic=!0),this.musicSliderBg.fillRange=i},a.onSlideAudio=function(){var i=this.audioSlider.progress;i<=0?(c.audio.switchEffect=!1,c.audio.volumeEffect=0):(c.audio.volumeEffect=i,c.audio.switchEffect=!0),this.audioSliderBg.fillRange=i},a.onHide=function(i){this.node.active=!1,i&&(this._isOpened=!1)},e}(n)).prototype,"musicSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(v.prototype,"musicSliderBg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"audioSlider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(v.prototype,"audioSliderBg",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S)||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/Game11SkillCmp.ts",["cc","./G11SkillConfig.ts","./YT.ts","./UIHelper.ts","./Game11State.ts","./G11BoxConfig.ts"],(function(t){var e,i,n,a,s,r,o,l,c;return{setters:[function(t){e=t.cclegacy,i=t.Label,n=t.Sprite,a=t.randomRangeInt},function(t){s=t.G11SkillConfig},function(t){r=t.YT},function(t){o=t.UIHelper},function(t){l=t.Game11State},function(t){c=t.G11BoxConfig}],execute:function(){e._RF.push({},"4172cRKgaREbK5lRv+76Ily","Game11SkillCmp",void 0);t("Game11SkillCmp",function(){function t(t,e,i,n){this.node=void 0,this.endY=void 0,this.curList=[],this.speed=500,this.cb=void 0,this.config=void 0,this.node=t;var a=l.Inst.Cup;this.endY=a.node.worldPosition.y+a.anim.node.children[0].h,this.speed=e,this.cb=i,this.config=c.data[n]}var e=t.prototype;return e._renderList=function(){var t=this.config.skills.map((function(t){return s.data[t]})),e=this.config.skill_weight;this.curList=this.randomArrayFromArrayByWeight(t,e,2);var a=this.curList,r=0,l=a.length;for(r=0;r<l;++r){var c=a[r],d=this.node.children[r],h=d.getChildByName("Label").getComponent(i),u=d.getChildByName("icon").getComponent(n);h.string=c.desc,o.changeSpriteFrame(c.icon,"game11",u)}},e.randomArrayFromArrayByWeight=function(t,e,i){if(!t||0==t.length)return[];var n=Math.min(t.length,i);if(t.length==n)return[].concat(t);for(var s=[],r=[].concat(t),o=[].concat(e);s.length<n;){var l=0,c=0,d=0,h=o.length;for(d=0;d<h;++d)c+=o[d];var u=a(0,c),p=0;for(l=0;l<o.length;++l)if((p+=o[l])>u){s.push(r[l]),r.splice(l,1),o.splice(l,1);break}}return s},e.onShow=function(){this._renderList(),r.timer.addLateUpdate(this.update,this)},e.onHide=function(){var t;r.timer.removeLateUpdate(this.update,this),null==(t=this.cb)||t.call(this),this.cb=null,this.node.destroy()},e.update=function(t){if(this.node.y-=this.speed*t,this.node.worldPosition.y<this.endY){var e=l.Inst.Cup.node.x;this.onClickSkill(e<0?0:1),this.onHide()}},e.onClickSkill=function(t){var e=this.curList[t];switch(e.type){case 1:l.Inst.players[0].addHp(e.value);break;case 2:l.Inst.players[0].addAttack(e.value);break;case 3:l.Inst.players[0].multiAttackSpeed(e.value);break;case 4:l.Inst.players[0].addEmiterBullet(e.value);break;case 5:l.Inst.addCanonBulletCnt(e.value);break;case 6:l.Inst.players[0].multAttack(e.value);break;case 7:l.Inst.players[0].addAttackRate(e.value)}r.gui.toast(e.desc),this.onHide()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Game11SkillView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./Game11State.ts","./Game11SkillCmp.ts"],(function(t){var e,i,a,n,r,l,s,o,c,u,p,h,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.CCInteger,o=t.Node,c=t.instantiate,u=t.randomRange,p=t.Component},function(t){h=t.YT},function(t){d=t.Game11State},function(t){y=t.Game11SkillCmp}],execute:function(){var f,v,m,b,k,g,S,w,C;r._RF.push({},"b7e04Q0zyRC9JDVOrM/f6HZ","Game11SkillView",void 0);var I=l.ccclass,Y=l.property;t("Game11SkillView",(f=I("Game11SkillView"),v=Y({displayName:"技能数量",type:s}),m=Y({displayName:"下落速度",type:s}),b=Y({displayName:"技能list",type:o}),f((S=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,a(e,"count",S,n(e)),a(e,"dropSpeed",w,n(e)),a(e,"list",C,n(e)),e.cb=void 0,e.startY=void 0,e.endY=void 0,e.curList=[],e}i(e,t);var r=e.prototype;return r.show=function(t){this.node.active=!0,this.cb=t,this.list.y=this.startY},r.hideMe=function(){var t;this.node.active=!1,null==(t=this.cb)||t.call(this),this.cb=null},r.showSkillItem=function(t,e){this.node.active=!0;var i=c(this.list);i.parent=this.node,i.active=!0,i.y=this.startY,new y(i,this.dropSpeed,e,t).onShow()},r.onLoad=function(){this.startY=this.list.y,this.endY=this.node.h-this.startY},r.randomArrayFromArrayByWeight=function(t,e,i){if(!t||0==t.length)return[];var a=Math.min(t.length,i);if(t.length==a)return[].concat(t);for(var n=[],r=[].concat(t),l=[].concat(e);n.length<a;){var s=0,o=0,c=0,p=l.length;for(c=0;c<p;++c)o+=l[c];var h=u(0,o),d=0;for(s=0;s<l.length;++s)if((d+=l[s])>h){n.push(r[s]),r.splice(s,1),l.splice(s,1);break}}return n},r.onClickCloseBtn=function(){},r.onClickSkill=function(t){var e=this.curList[t];switch(e.type){case 1:d.Inst.players[0].addHp(e.value);break;case 2:d.Inst.players[0].addAttack(e.value);break;case 3:d.Inst.players[0].multiAttackSpeed(e.value);break;case 4:d.Inst.players[0].addEmiterBullet(e.value);break;case 5:d.Inst.addCanonBulletCnt(e.value);break;case 6:d.Inst.players[0].multAttack(e.value);break;case 7:d.Inst.players[0].addAttackRate(e.value)}h.gui.toast(e.desc),this.hideMe()},e}(p)).prototype,"count",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),w=e(g.prototype,"dropSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),C=e(g.prototype,"list",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=g))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/Game11State.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G11EmitterConfig.ts","./G11LevelConfig.ts","./G11MonsterConfig.ts","./G11WeaponConfig.ts","./G12LevelConfig.ts","./G13LevelConfig.ts","./Awaiters.ts","./ViewUtil.ts","./YT.ts","./SubGameData.ts","./LoadingData.ts","./LoadingManager.ts","./EffectManager3.ts","./SubGameStateBase.ts","./Game11BulletCmp.ts","./Game11WeaponCmp.ts","./Game11BulletCupCmp.ts","./Game11Scene.ts","./Game11BlockCmpBase.ts","./ZombieGameScene.ts","./SortComponent.ts","./Game11Boat.ts","./Game11BoatMonster.ts","./Game11Bullet.ts","./Game11FindPathMonster.ts","./Game11Monster.ts","./Game11Player.ts","./Game11ZombieMonster.ts","./Game11Damage.ts","./Game11HUDManager.ts","./Game11BulletQueue.ts","./Game11RefreshGroup.ts","./Game11AddHpView.ts","./Game11ChallengeView.ts","./Game11EndView.ts","./Game11SettingsView.ts","./Game11SkillView.ts"],(function(e){var t,i,n,s,o,a,r,h,l,u,c,f,d,g,p,m,_,v,C,y,b,w,P,G,S,B,k,E,x,N,V,I,M,L,T,W,F,D,A,H,R,Y,z,Q,U,O,Z,X,K,j,q,J,$,ee,te,ie,ne,se,oe;return{setters:[function(e){t=e.inheritsLoose,i=e.createForOfIteratorHelperLoose,n=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,r=e.Vec3,h=e.Vec2,l=e.Prefab,u=e.SpriteFrame,c=e.v2,f=e.PhysicsSystem2D,d=e.js,g=e.KeyCode,p=e.Tween,m=e.input,_=e.Input,v=e.PHYSICS_2D_PTM_RATIO,C=e.tween,y=e.sys,b=e.Animation},function(e){w=e.G11EmitterConfig},function(e){P=e.G11LevelConfig},function(e){G=e.G11MonsterConfig},function(e){S=e.G11WeaponConfig},function(e){B=e.G12LevelConfig},function(e){k=e.G13LevelConfig},function(e){E=e.Awaiters},function(e){x=e.ViewUtil},function(e){N=e.YT},function(e){V=e.SubGameData},function(e){I=e.LoadingGroup},function(e){M=e.LoadingManager},function(e){L=e.EffectManager},function(e){T=e.SubGameStateBase},function(e){W=e.Game11BulletCmp},function(e){F=e.Game11WeaponCmp},function(e){D=e.Game11BulletCupCmp},function(e){A=e.Game11Scene},function(e){H=e.Game11BlockCmpBase},function(e){R=e.ZombieGameScene},function(e){Y=e.SortComponent},function(e){z=e.Game11Boat},function(e){Q=e.Game11BoatMonster},function(e){U=e.Game11Bullet},function(e){O=e.Game11FindPathMonster},function(e){Z=e.EGame11MonsterStatus,X=e.Game11Monster},function(e){K=e.Game11PlayerAnim},function(e){j=e.Game11ZombieMonster},function(e){q=e.Game11Damage},function(e){J=e.Game11HUDManager},function(e){$=e.BulletQueue},function(e){ee=e.G11RefreshGroup},function(e){te=e.Game11AddHpView},function(e){ie=e.Game11ChallengeView},function(e){ne=e.Game11EndView},function(e){se=e.Game11SettingsView},function(e){oe=e.Game11SkillView}],execute:function(){a._RF.push({},"20b24lWGjBFLoKN3KvjEGpb","Game11State",void 0);var ae=new r,re=e("EGame11Status",function(e){return e[e.None=0]="None",e[e.Enable=1]="Enable",e[e.Pause=2]="Pause",e[e.Loose=3]="Loose",e[e.Success=4]="Success",e[e.Dead=5]="Dead",e[e.Loose_ING=6]="Loose_ING",e[e.End=7]="End",e}({}));e("Game11State",function(e){function a(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).config=void 0,t.mode=void 0,t.root=void 0,t._cupPath=void 0,t._cup=void 0,t._leftEnemyCount=void 0,t.totalEnemyCount=void 0,t._phaseChanged=void 0,t._status=re.None,t._waitTime=void 0,t._bulletQueue=void 0,t._refresh=void 0,t.enemies=void 0,t._monsterPos=void 0,t.players=void 0,t._bullets=void 0,t.killCount=void 0,t.pastTime=void 0,t.gameView=void 0,t.endView=void 0,t._addHpShown=!1,t.addHpView=void 0,t.skillView=void 0,t._lvView=void 0,t._settingsView=void 0,t._startImpulse=void 0,t._gravity=void 0,t.findPathNodes=null,t.findPathPoss=null,t._sortCmps=[],t.boats=[],t._configBundle="game11",t.sortFlag=0,t}t(a,e);var T=a.prototype;return T._doEnterState=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T._doDestroy=function(){},T._onPreEnter=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T._onPreEnterNext=function(e){var t=this,i=e;if(N.data.subData.getUnlockProgress(this.gameConfig.id,i),12==this.gameConfig.id)if(i)this.config=B.data[i];else{var n=B.dataList.filter((function(e){return e.mode==t.gameConfig.id}));this.config=n[this.data.index%n.length]}else if(13==this.gameConfig.id)if(i)this.config=k.data[i];else{var s=k.dataList.filter((function(e){return e.mode==t.gameConfig.id}));this.config=s[this.data.index%s.length]}else if(11==this.gameConfig.id)if(i)this.config=P.data[i];else{var o=P.dataList.filter((function(e){return e.mode==t.gameConfig.id}));this.config=o[this.data.index%o.length]}this.mode=this.config.mode,this._startImpulse=new h(this.config.impulse[0],this.config.impulse[1]),this._gravity=new h(this.config.gravity[0],this.config.gravity[1]),W.BulletPath=this.config.bullet_path,W.BulletBundle=this._sceneBundle,F.WeaponPath=S.data[this.config.weapon].drop_model,F.WeaponBundle=this._sceneBundle,this._cupPath=this.config.cup_path,this._bulletQueue=new $},T._getPreloads=function(e){a.playCnt++;var t,i=this.config.refresh_id;console.log(a.playCnt+"简单点/。？"+(a.playCnt==this.config.easy_refresh_id)),N.isGM&&this.config instanceof P.config&&this.config.easy_refresh_id&&a.playCnt%this.config.easy_cnt==0&&(i=this.config.easy_refresh_id),this._refresh=new ee(i),this._monsterPos=new r,e.add(this._cupPath,this._sceneBundle,l),e.add(W.BulletPath,W.BulletBundle,l),e.add(F.WeaponPath,F.WeaponBundle,l),e.add("prefab/Damage",this._sceneBundle,l),e.add("prefab/effect/getWeapon",this._sceneBundle,l),e.add("prefab/effect/warning",this._sceneBundle,l),e.add("prefab/effect/baozha",this._sceneBundle,l),15==this.config.mode&&(e.add("prefab/monster/boat",this._sceneBundle,l),e.add("prefab/monster/boatVave",this._sceneBundle,l)),e.add(this.config.path,this.config.bundle,l),e.add(this.config.role_path,this.config.bundle,l),J.instance.getPreload(e);var n=this._refresh.getMonsterList(),s=0,o=n.length;for(s=0;s<o;++s)t=G.data[n[s]],e.add(t.path,t.bundle,l),e.addEffect(t.dead_effect),e.addEffect(t.hit_effect);e.addEffect(11003),this._getWeaponPreload(this.config.weapon,e),L.GetPreloads(e.effects,e)},T.moveCup=function(e,t){this._status!=re.Pause&&this._cup.move(e)},T.createWeaponItem=function(e,t,i,n,s){return F.Create(e,t,this.root.fallNode,this.root.groundY,i,n,s)},T.createBulletItem=function(e,t,i,n){this._bulletQueue.push(e,t,i,n)},T.playLightEffect=function(e){L.PlayEffectWorld(201,e,this.root.effectNode)},T.addBulletCount=function(e){switch(this.config.weapon_type){case 0:var t;null==(t=this.players[0])||t.addBulletCount();break;case 1:if(e<0){var i=0,n=this.players.length;for(i=0;i<n;++i){var s;null==(s=this.players[i])||s.addBulletCount()}}else{var o;null==(o=this.players[e])||o.addBulletCount()}}},T.addWeapon=function(e,t){switch(this.config.weapon_type){case 0:this.players[0].changeWeapon(e,!0);break;case 1:t<0&&(t=this.players.length),this._createPlayer(t,e)}},T._createPlayer=function(e,t){1==S.data[t].skinType||(this.players[e]=new K(t,this.config,this.root.getPlayerNode(e),e))},T.createBullet=function(e,t,i,n,s){var o=U.Create(e,this.root.bulletNode,t,i,n,s);this._bullets.push(o)},T._getWeaponPreload=function(e,t){var i=t||new I,n=S.data[e];i.add(n.icon,n.icon_bundle,u);var s=w.data[n.emitter_id];return i.add(s.bullet_path,s.bundle,l),L.GetPreloads(i.effects,i),i},T._preloadWeapons=function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){M.instance.startLoad(t,(function(){e()}),!1)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T._afterSceneLoaded=function(){var e=s(o().mark((function e(t){var i,n,s,a,r,h,l,u,c,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.enemies=[],this.players=[],this._bullets=[],this.boats=[],i=this.scene.getChildByPath("Canvas/__ui__"),this.gameView=i.getComponentInChildren(ie),this.endView=i.getComponentInChildren(ne),this.addHpView=i.getComponentInChildren(te),this.skillView=i.getComponentInChildren(oe),this._settingsView=i.getComponentInChildren(se),this._settingsView.onHide(!1),n=this.scene.getChildByPath("Canvas/__hud__"),J.instance.bindRoot(n),s=this.scene.getChildByPath("Canvas/__root__"),a=x.createPrefabNode(this.config.path,this.config.bundle),s.addChild(a),a.getChildByName("findPathNodes")&&(this.findPathNodes=a.getChildByName("findPathNodes").children,this.findPathPoss=a.getChildByName("findPathNodesPos").children),e.next=19,E.Seconds(.1);case 19:if(X.Game11_Monster_SID=0,H.Game11_Block_SID=0,q.InitPool(n),this.gameView.richText.fontSize=22,this.gameView.richText.string=V.getExtraGameTips(this.gameConfig.id),this.gameView.richText.node.active=N.isGM,this.root=a.getComponent(A),!((r=this.root.initialize())&&r.length>0)){e.next=33;break}for(h=new I,l=0,u=r.length,l=0;l<u;++l)this._getWeaponPreload(r[l],h);return e.next=33,this._preloadWeapons(h);case 33:c=x.createPrefabNode(this._cupPath,this._sceneBundle),this._cup=c.getComponent(D),this.root.cupNode.addChild(c),f=this.root.getCupPosition(),c.setWorldPosition(f.pos),this._cup.init(this.config.bullet_num,this.config.duration,f.range.x,f.range.y),this._createPlayer(0,this.config.weapon),d=this._refresh.config.enemy_count,this.totalEnemyCount=this._leftEnemyCount=d.flatMap((function(e){return e})).reduce((function(e,t){return e+t}),0),this._phaseChanged=!1,this.killCount=0,this.pastTime=0,this.onGameStart();case 46:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),T.onGameStart=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.on(_.EventType.KEY_DOWN,this.spacePause,this),this._addHpShown=!1,e.next=4,E.Seconds(.5);case 4:this._status=re.Enable,f.instance.gravity=this._gravity,f.instance.enable=!0,N.audio.play(this.config.bgm);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),T.update=function(e,t){var i=this;switch(this._status){case re.Enable:this.pastTime+=e;var n=0,s=0,o=0,a=!1,r=-1,h=this.root.attackX,l=this.root.attackRangeX;if(this.enemies){var u;s=this.enemies.length;var f={},d=this.root.resetMoveScale();for(n=0;n<s;++n){switch((u=this.enemies[n]).update(e,h,l,f,d)){case 0:a=!0;break;case 1:a=!0,N.audio.play(102,5),o+=u.config.atk}u.isAlive&&(r=n)}}this.boats&&this.boats.forEach((function(t){t.update(e)}));var g=null;if(a&&(g=this.enemies.filter((function(e){return e.centerPos.x<=i.root.attackRangeX}))),this.players)for(s=this.players.length,n=0;n<s;++n)this.players[n].update(e,g,r,0==n?o:0);if(this._bullets)for(s=this._bullets.length,n=0;n<s;++n)this._bullets[n].update(e,this.enemies);this._updateRefresh(e);var p=this._bulletQueue.update(e);if(p&&p.length>0){s=p.length;var m,_=this.root.fallNode,v=this.root.groundY;for(n=0;n<s;++n){if(m=p[n],13==this.mode){var C=Math.floor(m.allCount/2),y=(m.allCount-m.count-C-1)/2,b=m.position.clone().add3f(30*y,0,0),w=c(Math.sign(y)*y*y,0);W.Create(b,_,m.ignore,v,w)}else W.Create(m.position,_,m.ignore,v,this._startImpulse);m.count<=0&&m.recover()}}break;case re.Loose_ING:if(this.enemies){var P=0,G=this.enemies.length,S={},B=this.root.resetMoveScale(),k=this.root.attackRangeX;for(P=0;P<G;++P)this.enemies[P].update(2*e,-2e3,k,S,B)}}},T.lateUpdate=function(e,t){switch(this._status){case re.Enable:if(this.enemies){var i,n=!1,s=0,o=this.enemies.length;for(s=0;s<o;)switch((i=this.enemies[s]).status){case Z.Enable:i.isAlive?i.lateUpdate(e):(this.killCount++,i.config.dead_effect>0&&L.PlayEffectWorld(i.config.dead_effect,i.centerPos,this.root.effectNode),N.audio.play(101,5),i.onMonsterDead()),s++;break;case Z.Dead:i.lateUpdate(e),s++;break;case Z.Recover:d.array.fastRemove(this._sortCmps,this.enemies[s].root.getComponent(Y)),i.recover(),d.array.fastRemoveAt(this.enemies,s),o--,n=!0}!this._sortBoat()&&n&&this.enemies.length>0&&this.enemies.sort(this._sortEnemy),this.sortFlag>10?(this._startSort(),this.sortFlag=0):this.sortFlag+=1}var a=this._cup.onUpdate(e);if(a&&(14!=this.gameConfig.id&&11!=this.gameConfig.id||N.audio.play(11006),W.Create(a,this.root.fallNode,[],this.root.groundY,this._startImpulse)),this._bullets){var r,h=0,l=this._bullets.length;for(h=0;h<l;)(r=this._bullets[h]).isAlive?h++:(d.array.fastRemoveAt(this._bullets,h),l--,r.recover())}if(this.addHpView&&this.players[0].isAlive&&this.players[0].hp<=10&&!this._addHpShown&&!N.isGM)return this._addHpShown=!0,void this.addHpView.show();if(this.players[0].isAlive)this._leftEnemyCount<=0&&0==this.enemies.length?(this._cup.onGameEnd(),this._status=re.Success):this._phaseChanged||(this._refresh.waveIndex>=this.config.zombie_wave&&(this._phaseChanged=!0,this.gameView.onPhaseChanged(!1)),this._refresh.waveIndex>=this.root.bossComing&&(this.root.bossComing=999,this.showWarningEff()));else{var u;12==this.config.mode&&(f.instance.enable=!1,this.enemyAdvance()),null==(u=this.getZombieSceneScript())||u.hideWall(),this._cup.onGameEnd(),this._status=re.Dead,this._collectBullets();var c=0,g=this.players.length;for(c=0;c<g;++c){var p;null==(p=this.players[c])||p.onDead()}N.gui.lockScreen(),this._waitTime=3,15==this.config.mode&&(this._waitTime=1)}break;case re.Pause:this._waitTime-=e,this._waitTime<=0&&(this._status=re.Enable,this.gameView.onPhaseChanged(!0));break;case re.Dead:this._waitTime-=e,this._waitTime<=0&&(f.instance.enable=!1,this._status=re.Loose_ING,this._waitTime=.5);break;case re.Loose_ING:this._waitTime-=e,this._waitTime<=0&&(this._status=re.Loose,N.gui.unlockScreen());break;case re.Loose:this._setStatusEnd(!1);break;case re.Success:this._setStatusEnd(!0),this.data.index++,N.data.subData.save=!0}},T._sortEnemy=function(e,t){return e.isAlive?t.isAlive?e.position.x-t.position.x:-1:1},T._sortBoat=function(){if(15==this.config.mode){var e=this.boats.filter((function(e){return e.position.x<850}));e.sort((function(e,t){return t.position.y-e.position.y}));var t=this.enemies.filter((function(e){return e.isAlive&&!e.owenerBoat}));t.sort((function(e,t){return t.position.y-e.position.y}));for(var i=0;i<e.length;i++){e[i].root.setSiblingIndex(i)}for(var n=0;n<t.length;n++){t[n].root.setSiblingIndex(n)}return this.sortFlag=0,!0}return!1},T._setStatusEnd=function(e){this._status=re.End,this._collectBullets(),this.endView.onGameEnd(e,this)},T._collectBullets=function(){if(this._bullets){var e=0,t=this._bullets.length;for(e=0;e<t;++e)this._bullets[e].recover();this._bullets=null}},T.spacePause=function(e){e.keyCode==g.SPACE&&(N.logic.Paused?N.logic.resume():N.logic.pause())},T.destroy=function(){var t;if(p.stopAllByTag(12001),m.off(_.EventType.KEY_DOWN,this.spacePause,this),this.players){var i=0,n=this.players.length;for(i=0;i<n;++i)this.players[i].destroy();this.players=null}if(this.enemies){var s=0,o=this.enemies.length;for(s=0;s<o;++s)this.enemies[s].recover();this.enemies=null}this._bulletQueue&&(this._bulletQueue.destroy(),this._bulletQueue=null),this._collectBullets(),null==(t=this.endView)||t.hideMe(),this._settingsView.onHide(!0),W.Free(),14==this.config.mode||13==this.config.mode?j.Free():12==this.config.mode?O.Free():X.Free(),U.Free(),J.Free(),N.audio.stopMusic(),L.Free(),p.stopAll(),q.clearPool(),f.instance.gravity=new h(0,-10*v),f.instance.enable=!0,z.Free(),z.ClearWave(),Q.Free(),this.root.node.destroy(),e.prototype.destroy.call(this),N.logic.resume()},T.enemyAdvance=function(){this.enemies.forEach((function(e){C(e.root).by(3,{position:new r(-1e3,0,0)}).start().tag(12001)}))},T._updateRefresh=function(e){if(!(this._leftEnemyCount<=0)){var t=[];this._refresh.update(e,t),this._createMonsters(t)}},T._createMonsters=function(){var e=s(o().mark((function e(t){var i,n,s,r,h,l,u,c,f,d,g,p,m,_,v,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=48;break}if(i={},n=[],this.root.getPosition(this._monsterPos),15!=this.config.mode){e.next=21;break}s=Math.ceil(t.length/7),console.log("船的数量："+s),r=0;case 9:if(!(r<s)){e.next=21;break}return h=this.root.endNode.children[r%3].worldPosition,ae.set(this._monsterPos.x+650*Math.floor(r/3),h.y),l=z.Create(ae.clone(),this.root.boatNode,h.x),n.push(l),this.boats.push(l),e.next=18,E.Frames(1);case 18:r++,e.next=9;break;case 21:u=null,m=0,_=t.length,m=0;case 24:if(!(m<_)){e.next=48;break}return v=m,e.next=28,E.Frames(3);case 28:if(this._status==re.Enable||this._status==re.Pause){e.next=30;break}return e.abrupt("break",48);case 30:if(N.logic.state instanceof a){e.next=32;break}return e.abrupt("break",48);case 32:if(f=G.data[t[m]],p=f.scale&&f.scale.length>0?f.scale[0]:1,d=this.root.getPosition(this._monsterPos),g=i[d]||0,this._monsterPos.x+=g,i[d]=g+f.size[0]*p,14==this.config.mode||13==this.config.mode?c=j.Create(f,this._monsterPos,this.root.enemyNode,d,this.config.move_speed,this.config.hp_ratio):12==this.config.mode?c=O.Create(f,this._monsterPos,this.root.enemyNode,d,this.config.move_speed,this.config.hp_ratio):15==this.config.mode?(c=Q.Create(f,this._monsterPos,this.root.enemyNode,d,this.config.move_speed,this.config.hp_ratio),u&&!u.isFull||(u=n.pop()),u&&(u.bindMonster(c,v%7),u.move())):c=X.Create(f,this._monsterPos,this.root.enemyNode,d,this.config.move_speed,this.config.hp_ratio),this.enemies.push(c),(C=c.root.getComponent(Y))&&this._sortCmps.push(C),this._leftEnemyCount--,!(this._leftEnemyCount<=0)){e.next=45;break}return e.abrupt("break",48);case 45:++m,e.next=24;break;case 48:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),T.playEffect=function(e,t){L.PlayEffectWorld(e,t,this.root.effectNode)},T.showSettingView=function(){this._settingsView.onShow(this.gameConfig.id)},T.getZombieSceneScript=function(){return this.root.getComponentInChildren(R)},T.getTargetFindPathNode=function(e){var t=this.getCurFindPathNode(e);return t?this.findPathPoss[t.name]:null},T.getCurFindPathNode=function(e){for(var t,n=i(this.findPathNodes);!(t=n()).done;){var s=t.value,o={top:s.y+s.size.height/2,bot:s.y-s.size.height/2,left:s.x-s.size.width/2,right:s.x+s.size.width/2};if(e.x>=o.left&&e.x<=o.right&&e.y>=o.bot&&e.y<=o.top)return s}return null},T._startSort=function(){if(this._sortCmps&&this._sortCmps.length>0)if(this._sortCmps.sort(this._doSortCmps),y.isNative&&y.os==y.OS.IOS){var e=0,t=this._sortCmps.length;for(e=0;e<t;++e)this._sortCmps[e].setChildIndex(e)}else{var i=this.root.enemyNode,n=i._children,s=0,o=this._sortCmps.length;for(s=0;s<o;++s)this._sortCmps[s].node._mySortIndex_=s+1;n.sort(this._doSortNode),i._updateSiblingIndex()}},T._doSortCmps=function(e,t){var i=e.sortX,n=e.sortY,s=t.sortX,o=t.sortY;return n==o?s-i:o-n},T._doSortNode=function(e,t){var i=e._mySortIndex_,n=t._mySortIndex_;return i&&n?i-n:i?n?0:-1:1},T.addCanonBulletCnt=function(e){this._cup.count+=e},T.showSkillView=function(e,t){console.log("boxid="+e),this.skillView.showSkillItem(e,t)},T.showWarningEff=function(){var e=x.createPrefabNode("prefab/effect/warning",this.config.bundle),t=e.getComponent(b);this.root.node.addChild(e),e.setPosition(r.ZERO),t.play()},n(a,[{key:"data",get:function(){return N.data.subData.gameInfo[this.gameConfig.id]}},{key:"Cup",get:function(){return this._cup}},{key:"Status",get:function(){return this._status}},{key:"mainPlayer",get:function(){return this.players[0]}},{key:"StartImpulse",get:function(){return this._startImpulse}}],[{key:"Inst",get:function(){return N.logic.state}}]),a}(T)).playCnt=0,a._RF.pop()}}}));

System.register("chunks:///_virtual/Game11Wave.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,r=t.Animation,a=t.Component}],execute:function(){var o;n._RF.push({},"c88c1B4/rhPqq6r09S/QSBH","Game11Wave",void 0);var c=i.ccclass;i.property,t("Game11Wave",c("Game11Wave")(o=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).timer=0,e.anim=void 0,e}e(n,t);var i=n.prototype;return i.onLoad=function(){},i.start=function(){this.timer=1+5*Math.random(),this.anim=this.getComponent(r)},i.update=function(t){this.timer>0&&(this.timer-=t,this.timer<=0&&(this.timer=5*Math.random(),this.anim.play()))},n}(a))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/Game11WeaponCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G11WeaponConfig.ts","./Awaiters.ts","./ViewUtil.ts","./YT.ts","./UIHelper.ts","./EGame11Enums.ts","./Game11FallItemCmpBase.ts","./Game11BlockTriggerCmp.ts"],(function(e){var n,t,o,i,a,r,s,p,c,u,l,d,f,h,m,g,_,v,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,p=e._decorator,c=e.Sprite,u=e.RigidBody2D,l=e.Animation},function(e){d=e.G11WeaponConfig},function(e){f=e.Awaiters},function(e){h=e.ViewUtil},function(e){m=e.YT},function(e){g=e.UIHelper},function(e){_=e.EGame11BodyTagEnum},function(e){v=e.Game11FallItemCmpBase},function(e){y=e.Game11BlockTriggerCmp}],execute:function(){var w,C,W,I,D,G;s._RF.push({},"79843elDA9N3reufZdc5Cw7","Game11WeaponCmp",void 0);var b=p.ccclass,x=p.property;e("Game11WeaponCmp",(w=b("Game11WeaponCmp"),C=x({displayName:"图标",type:c}),w(((G=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,o(n,"icon",D,i(n)),n._targetCmp=void 0,n._superWeaponID=void 0,n.weaponID=void 0,n._config=void 0,n}t(n,e),n.Create=function(e,t,o,i,a,r,s){var p=h.createPrefabNode(n.WeaponPath,n.WeaponBundle).getComponent(n);return p._initialize(e,t,o,i,a,r,s),p};var s=n.prototype;return s._initialize=function(){var e=a(r().mark((function e(n,t,o,i,a,s,p){var c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.weaponID=n,this._groundY=i,this._superWeaponID=s,this._targetCmp=p,c=d.data[n],this._config=c,g.changeSpriteFrame(c.icon,c.icon_bundle,this.icon),e.next=9,f.NextFrame();case 9:if(!c.show_model){e.next=12;break}return e.next=12,m.res.loadAsync(c.show_model,c.icon_bundle);case 12:this._createBody(o,t,_.Fall_Weapon).gravityScale=a;case 14:case"end":return e.stop()}}),e,this)})));return function(n,t,o,i,a,r,s){return e.apply(this,arguments)}}(),s.recover=function(){e.prototype.recover.call(this),this.node.destroy()},s._onFallEnd=function(){m.logic.state.addWeapon(this.weaponID,this._ownerIndex)},s.upgradeWeapon=function(){var e=a(r().mark((function e(t,o){var i,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._superWeaponID>0&&t===this._targetCmp)){e.next=7;break}return this.weaponID=this._superWeaponID,console.error("升级武器",this._superWeaponID),i=this.node.getComponent(l),e.next=6,f.OnAnimEnd(i,"lvup");case 6:i.play("idle");case 7:if(this._config.multable&&t instanceof y&&(a=t.capacityJTL)>1)for(s=0;s<a-1;s++)n.Create(this.weaponID,this.node.worldPosition,this.node.parent,this._groundY,this.node.getComponent(u).gravityScale)._ignoreSids=[].concat(o);case 8:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),n}(v)).WeaponPath="prefab/weapon",G.WeaponBundle=void 0,D=n((I=G).prototype,"icon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=I))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/Game11ZombieMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListEx.ts","./YT.ts","./Zombie.ts","./Game11State.ts","./Game11Monster.ts"],(function(t){var i,o,e,s,n,h,a,r,l,d,p,u,c;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t.v3,s=t.ERigidBody2DType,n=t.RigidBody2D,h=t.Vec3,a=t.Animation},function(t){r=t.ListEx},function(t){l=t.YT},function(t){d=t.Zombie},function(t){p=t.Game11State},function(t){u=t.EGame11MonsterStatus,c=t.Game11Monster}],execute:function(){o._RF.push({},"ea445SYmf1HzbhTHL53PZTv","Game11ZombieMonster",void 0);var m=e();t("Game11ZombieMonster",function(t){function o(){for(var i,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).weaponNode=null,i.attacking=!1,i.jumping=!1,i.timeout=null,i.birthPos=null,i.body=null,i}i(o,t),o.Create=function(t,i,e,s,n,h){var a=this._zombiePool[t.path];a||(a=this._zombiePool[t.path]=new r);var l=a.alloc();return l||(l=new o(t,n,h)),t.hp>9999&&(l.config=t,l._maxHP=t.hp*h,l._moveSpeed=t.move_speed,l.hp=t.hp*h),l._init(i,e,s),l},o.Free=function(){var t,i=0,o=0;for(var e in this._zombiePool)if((t=this._zombiePool[e])&&t.list.length>0)for(o=t.list.length,i=0;i<o;++i)clearTimeout(t.list[i].timeout),t.list[i]._destroy();this._zombiePool={}};var e=o.prototype;return e.recover=function(){this._status!=u.Recovered&&(this._status=u.Recovered,this.body.type=s.Animated,m.set(this.birthPos),m.x+=3e3,this.root.setWorldPosition(m),this.root.removeFromParent(),this._removeHUD(),o._zombiePool[this.config.path].free(this))},e._init=function(t,i,o){var e;this.weaponNode=this.root.getChildByName("weapon"),l.logic.state.getZombieSceneScript().setLayerChild(this.root),this.body=this.root.getComponent(n),this.body.type=s.Animated,this.sid=++c.Game11_Monster_SID,this.birthPos=t,h.copy(this.position,t),this.root.worldPosition=this.position,this._syncPosition(),null==(e=this.root.getComponent(d))||e.init(this.setJumping.bind(this),this.config.move_speed),this.onMove(),this.body.type=s.Dynamic,this.hp=this._maxHP,this._atkDuration=this.config.atk_duration,this._atkPast=0,this._atkTime=0,this._fakeZ=o,this._status=u.Enable},e.update=function(t,i,o,e,s){var n=this;if(!this.position)return-1;var h=-1;if(this._status==u.Enable){var r=s[this._fakeZ],d=this._moveSpeed*r*t,c=e[this._fakeZ];c||this._halfWidth,this._halfWidth,this.position.x;this.root.worldPosition.y<this.birthPos.y-300&&(this.root.worldPosition=this.birthPos.clone()),this.position=this.root.worldPosition,e[this._fakeZ]=this.position.x+this._halfWidth;var _=this.position.x-i;if(this.attacking=!1,!c&&_<=this._halfWidth||c-i<=this.width&&_<=this._atkDis){if(h=0,this._atkPast-=t,this.attacking=!0,this._atkPast<=0&&(this._atkPast=this._atkDuration,this._atkTime=this._cmp.play(this.config.motion_name,!1,0),h=1,this.weaponNode)){var f=l.logic.state.players[0].root.getChildByName("attackedPos").worldPosition.y,g=this.root.worldPosition.y>f?"weaponAtk_down":"weaponAtk_up",y=this.weaponNode.getChildByName("anim").getComponent(a);y.play(g),this.timeout=setTimeout((function(){n.weaponNode&&y.play("weaponIdle")}),750)}14==p.Inst.config.mode&&this.position.y<p.Inst.root.attackMinY&&(h=0)}else this.position.x<=o&&(h=0);this._syncPosition(),this.weaponNode&&(this.attacking||(this.jumping?this.weaponNode.eulerAngles.z>-10&&(this.weaponNode.eulerAngles=m.set(this.weaponNode.eulerAngles).add3f(0,0,-100*t)):(this.weaponNode.eulerAngles.z>10&&(this.weaponNode.eulerAngles=m.set(this.weaponNode.eulerAngles).add3f(0,0,-100*t)),this.weaponNode.eulerAngles.z<10&&(this.weaponNode.eulerAngles=m.set(this.weaponNode.eulerAngles).add3f(0,0,100*t)))))}else this._status==u.Dead&&(h=0,s[this._fakeZ]=this._deadMoveScale);return this.root.worldPosition.y<this.birthPos.y-300&&(this.root.worldPosition=this.birthPos.clone()),h},e._syncPosition=function(){this._setHUDPosition(this._cmp.getHeadPos())},e.setJumping=function(t){this.jumping=t},e._destroy=function(){this._destroyHUD(),this.root&&(this.root.destroy(),this.root=null)},o}(c))._zombiePool={},o._RF.pop()}}}));

System.register("chunks:///_virtual/GameAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleManager.ts","./util2.ts","./TreeSpiritActionConfig.ts","./WindowCup.ts"],(function(t){var e,n,a,r,c,i,o,u;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){r=t.default},function(t){c=t.default,i=t.delay},function(t){o=t.TreeSpiritActionConfig},function(t){u=t.default}],execute:function(){a._RF.push({},"6286bbLpKJPlr4UxL4f8LIg","GameAction",void 0);var s=t("default",function(){function t(){}return t.take=function(){var t=e(n().mark((function t(e){var a,s,p,l,f,_,b,d,k=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r.inst.player,a=k.length,s=new Array(a>1?a-1:0),p=1;p<a;p++)s[p-1]=k[p];l=s[0],s[1],s[1],f=s[1],_=s[2],b=s[1],s[1],t.t0=e,t.next=t.t0===o.E_action.dot?12:t.t0===o.E_action.attract?14:t.t0===o.E_action.fire_weapon?15:t.t0===o.E_action.kill_enemy?17:t.t0===o.E_action.push?18:t.t0===o.E_action.add_talent?23:t.t0===o.E_action.pick_weapon?24:t.t0===o.E_action.pick_talent?25:t.t0===o.E_action.change_weapon?26:t.t0===o.E_action.ultimate_skill||t.t0===o.E_action.show_cup?27:29;break;case 12:return _.damaged(f),t.abrupt("break",29);case 14:return t.abrupt("break",29);case 15:return i(.1,(function(){b.disposed||b.fire()})),t.abrupt("break",29);case 17:return t.abrupt("break",29);case 18:if(_.enabled){t.next=20;break}return t.abrupt("return");case 20:return _.setPos(_.pos.x,_.pos.y-l),_.velocity.y=-l,t.abrupt("break",29);case 23:case 24:case 25:case 26:return t.abrupt("break",29);case 27:d=l.match(/\[(.*?)\]/g).map((function(t){return t.replace(/[\[\]]/g,"").split(",").map((function(t){return parseInt(t)}))})).map((function(t){return c.pickRandom(t)})),u.showWithArg({ids:d});case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}());globalThis.action=s.take,a._RF.pop()}}}));

System.register("chunks:///_virtual/GameAttr.ts",["cc","./BattleManager.ts","./util2.ts","./GamePlayer.ts","./GameWeapon.ts"],(function(t){var e,r,i,n,u;return{setters:[function(t){e=t.cclegacy},function(t){r=t.default},function(t){i=t.vec2},function(t){n=t.default},function(t){u=t.default}],execute:function(){e._RF.push({},"a31efNceu1EYLHjBl8Jn8yH","GameAttr",void 0);t("default",function(){function t(t){this.runTimeAttr={atk:0},this.buffer={},this.dirty=!0,this.target=t,this.target instanceof u&&(this.runTimeAttr.atk=this.target.config.atk)}var e=t.prototype;return e.clearBuffer=function(){this.buffer={},this.target instanceof n&&[].concat(this.target.items).forEach((function(t){t.attr.clearBuffer()}))},e.getValue=function(t,e){if(null!=this.buffer[t]&&!e)return this.buffer[t];if(this.target instanceof n){var r=this.target.talents,i=[];return r.forEach((function(r){e&&r.config.targetBullet&&r.config.targetBullet!=e||r.config.attr[t]&&i.push(r.config.attr[t])})),this.buffer[t]=this.getAttrValue(i,t),this.buffer[t]}if(this.target instanceof u){var a=[this.target.parent.attr.getValue(t,this.target.config.id)];return this.buffer[t]=this.getAttrValue(a,t),this.buffer[t]}},e.getAttrKeys=function(){var t=[];this.target instanceof u&&this.target.parent.talents.forEach((function(e){for(var r in e.config.attr)-1==t.indexOf(r)&&t.push(r)}));return t},e.getAttrValue=function(t,e){return 0==t.length?0:t.reduce((function(t,e){return t+e}),0)},e.getNum=function(t){return this.getValue(t)},e.getCritRate=function(){return this.target.config.crit_rate+this.getNum("crit_rate")},e.getCritDmgMul=function(){return this.target.config.crit_dmg*(1+this.getNum("crit_dmg"))},e.getPlayerBulletDmg=function(t){void 0===t&&(t=!0);var e=this.target,i=(e.config.atk,e.playerCopy?r.inst.player.attr.runTimeAttr.atk:e.attr.runTimeAttr.atk),n=this.getCritRate(),u=!!t&&Math.random()<n;return u&&(i*=this.getCritDmgMul()),{dmg:i,isCrit:u}},e.getCD=function(){return 1/this.getBulletAttr("hit_rate","mul")},e.getBulletAttr=function(t,e){void 0===e&&(e="add");var r=this.target.config[t],i=this.getNum(t)+this.getNum("bullet_"+t);return"add"==e?r+i:r*(1+i)},e.getBulletSize=function(){var t="size",e=this.target.config.size,r=i(e),n=this.getNum(t)+this.getNum("bullet_size");return r.multiplyScalar(1+n)},e.getWeaponSPHit=function(){return this.getNum("sp_hit")},e.getWeaponSPBullet=function(){return this.getNum("sp_bullet")},e.setRunTimeAttr=function(t,e){switch(t){case"atk":this.runTimeAttr.atk*=e;break;case"atk_add":this.runTimeAttr.atk+=e}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameAttr2.ts",["cc","./BattleManager22.ts","./util22.ts","./GamePlayer22.ts","./GameWeapon22.ts"],(function(t){var r,e,i,n,a;return{setters:[function(t){r=t.cclegacy},function(t){e=t.default},function(t){i=t.vec2},function(t){n=t.default},function(t){a=t.default}],execute:function(){r._RF.push({},"3ab1aio9f9NkLLu4P3VGc/H","GameAttr2",void 0);t("default",function(){function t(t){this.runTimeAttr={atk:0,as:0,burst:0,critRate:0,critDmg:0},this.buffer={},this.dirty=!0,this.target=t,this.target instanceof a&&(this.runTimeAttr.atk=this.target.config.atk)}var r=t.prototype;return r.clearBuffer=function(){this.buffer={},this.target instanceof n&&[].concat(this.target.items).forEach((function(t){t.attr.clearBuffer()}))},r.getValue=function(t){if(null!=this.buffer[t])return this.buffer[t];if(this.target instanceof n){var r=this.target.talents,e=[];return r.forEach((function(r){r.config.attr[t]&&e.push(r.config.attr[t])})),this.buffer[t]=this.getAttrValue(e,t),this.buffer[t]}if(this.target instanceof a){var i=[this.target.parent.attr.getValue(t)];return this.buffer[t]=this.getAttrValue(i,t),this.buffer[t]}},r.getAttrKeys=function(){var t=[];this.target instanceof a&&this.target.parent.talents.forEach((function(r){for(var e in r.config.attr)-1==t.indexOf(e)&&t.push(e)}));return t},r.getAttrValue=function(t,r){return 0==t.length?0:t.reduce((function(t,r){return t+r}),0)},r.getNum=function(t){return this.getValue(t)},r.getCritRate=function(){return this.target.config.crit_rate+(this.getNum("crit_rate")+e.inst.player.attr.runTimeAttr.critRate)},r.getCritDmgMul=function(){return this.target.config.crit_dmg+this.getNum("crit_dmg")+e.inst.player.attr.runTimeAttr.critDmg},r.getPlayerBulletDmg=function(t){void 0===t&&(t=!0);this.target.config.atk;var r=e.inst.player.attr.runTimeAttr.atk,i=this.getCritRate(),n=!!t&&Math.random()<i,a=1;return n&&(a=this.getCritDmgMul()),{dmg:r*a,isCrit:n}},r.getCD=function(){return 1/this.getBulletAttr("hit_rate","mul")},r.getBulletAttr=function(t,r){void 0===r&&(r="add");var i=this.target.config[t],n=this.getNum(t)+this.getNum("bullet_"+t);return"add"==r?"burst"==t?i+n+e.inst.player.attr.runTimeAttr.burst:i+n:"hit_rate"==t?i*(1+n+e.inst.player.attr.runTimeAttr.as):i*(1+n)},r.getBulletSize=function(){var t="size",r=this.target.config.size,e=i(r),n=this.getNum(t)+this.getNum("bullet_size");return e.multiplyScalar(1+n)},r.getWeaponSPHit=function(){return this.getNum("sp_hit")},r.getWeaponSPBullet=function(){return this.getNum("sp_bullet")},r.setRunTimeAttr=function(t,r){switch(this.target instanceof n&&(console.log("------------------------------"),console.log("拾取属性: ",t,r)),t){case"atk":this.runTimeAttr.atk+=r;break;case"atk_mul":this.runTimeAttr.atk*=0==r?1:r;break;case"as":this.runTimeAttr.as+=r;break;case"burst":this.runTimeAttr.burst+=r;break;case"critRate":this.runTimeAttr.critRate+=r;break;case"critDmg":this.runTimeAttr.critDmg+=r}this.target instanceof n&&console.log("当前属性: ","atk:"+this.runTimeAttr.atk,"as:"+this.runTimeAttr.as,"burst:"+this.runTimeAttr.burst,"critRate:"+this.runTimeAttr.critRate,"critDmg:"+this.runTimeAttr.critDmg)},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/GameAttr3.ts",["cc","./util3.ts","./GamePlayer2.ts","./GameWeapon2.ts"],(function(t){var e,r,i,n;return{setters:[function(t){e=t.cclegacy},function(t){r=t.vec2},function(t){i=t.default},function(t){n=t.default}],execute:function(){e._RF.push({},"b9422yd0YtOobOl43EySQ4+","GameAttr",void 0);t("default",function(){function t(t){this.buffer={},this.dirty=!0,this.target=t}var e=t.prototype;return e.clearBuffer=function(){this.buffer={},this.target instanceof i&&[].concat(this.target.items).forEach((function(t){t.attr.clearBuffer()}))},e.getValue=function(t){if(null!=this.buffer[t])return this.buffer[t];if(this.target instanceof i){var e=this.target.talents,r=[];return e.forEach((function(e){e.config.attr[t]&&r.push(e.config.attr[t])})),this.buffer[t]=this.getAttrValue(r,t),this.buffer[t]}if(this.target instanceof n){var u=[this.target.parent.attr.getValue(t)];return this.buffer[t]=this.getAttrValue(u,t),this.buffer[t]}},e.getAttrKeys=function(){var t=[];this.target instanceof n&&this.target.parent.talents.forEach((function(e){for(var r in e.config.attr)-1==t.indexOf(r)&&t.push(r)}));return t},e.getAttrValue=function(t,e){return 0==t.length?0:t.reduce((function(t,e){return t+e}),0)},e.getNum=function(t){return this.getValue(t)},e.getCritRate=function(){return this.target.config.crit_rate+this.getNum("crit_rate")},e.getCritDmgMul=function(){return this.target.config.crit_dmg+this.getNum("crit_dmg")},e.getPlayerBulletDmg=function(t){void 0===t&&(t=!0);var e=this.target.config.atk,r=this.getNum("atk"),i=this.getCritRate(),n=!!t&&Math.random()<i,u=1;return n&&(u=this.getCritDmgMul()),{dmg:(e+r)*u,isCrit:n}},e.getCD=function(){return 1/this.getBulletAttr("hit_rate","mul")},e.getBulletAttr=function(t,e){void 0===e&&(e="add");var r=this.target.config[t],i=this.getNum(t)+this.getNum("bullet_"+t);return"add"==e?r+i:r*(1+i)},e.getBulletSize=function(){var t="size",e=this.target.config.size,i=r(e),n=this.getNum(t)+this.getNum("bullet_size");return i.multiplyScalar(1+n)},e.getWeaponSPHit=function(){return this.getNum("sp_hit")},e.getWeaponSPBullet=function(){return this.getNum("sp_bullet")},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameBagHolder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./GameGrid.ts","./GameBagSlot.ts","./util.ts"],(function(t){var i,e,a,s,o,n,c,r;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){a=t.cclegacy},function(t){s=t.Event},function(t){o=t.default},function(t){n=t.E_BagSlotState,c=t.default},function(t){r=t.default}],execute:function(){a._RF.push({},"a940eCSxW1KuJVwkf7O+C17","GameBagHolder",void 0);t("default",function(t){i(o,t);var a=o.prototype;function o(){var i;return(i=t.call(this)||this).items=[],i.dragStart=function(){i.bag.pack.tiles.forEach((function(t){t.state==n.unlock&&(t.state=n.lock,t.updateState())}))},i.dragMove=function(){i.bag.pack.tiles.forEach((function(t){return t.updateState()}));var t=i.checkHover();t.hovering.forEach((function(i){return i.setHover(t.canInstall)}))},i.dragEnd=function(){i.install()},i.originPos=void 0,i.view=i.bag.ui.m_holder,i.view.draggable=!0,i.view.visible=!1,i.view.on(s.DRAG_START,i.dragStart),i.view.on(s.DRAG_MOVE,i.dragMove),i.view.on(s.DRAG_END,i.dragEnd),i}return a.checkSlots=function(){var t=this,i=!0;if(this.bag.pack.items.forEach((function(t){t.isSlot&&i&&(i=t.checkNeib())})),i){var e=[];[].concat(this.bag.pack.items).forEach((function(i){i.tiles.forEach((function(i){var a=r.getRelativePos(t.bag.pack.view.m_container.m_tiles,i.view),s=t.bag.pack.getGridLoc(a),o=t.bag.pack.getGrid(s.x,s.y);e.push(o)})),t.bag.removeItem(i)})),this.items.forEach((function(i){var e=r.getRelativePos(t.bag.ui,i.view);t.bag.ui.addChild(i.view),i.view.setPosition(e.x,e.y),i.view.alpha=1,t.bag.pack.addItem(i)})),this.items.length=0,[].concat(this.tiles).forEach((function(i){var a=r.getRelativePos(t.bag.pack.view.m_container.m_tiles,i.view),s=t.bag.pack.getGridLoc(a),o=t.bag.pack.getGrid(s.x,s.y);o&&o.view.visible&&o.state==n.unlock&&e.push(o),t.removeTile(i)})),this.bag.pack.tiles.forEach((function(t){t.state!=n.ban&&t.changeState(n.lock)})),this.bag.pack.unlockSlots(e),this.bag.pack.close(!0)}else;},a.dispose=function(){this.disposed||(this.view&&!this.view.isDisposed&&(this.view.off(s.DRAG_START,this.dragStart),this.view.off(s.DRAG_MOVE,this.dragMove),this.view.off(s.DRAG_END,this.dragEnd),this.view=null),t.prototype.dispose.call(this))},a.bindItems=function(){var t=this;this.view.visible=!0;var i=this.bag.pack.view.m_container.m_tiles,e=r.getRelativePos(this.view.parent,i);this.originPos=e,this.view.setPosition(e.x,e.y),this.bag.pack.tiles.forEach((function(i){var e=new c(i.col,i.row,t.bag.ui.m_holder);e.changeState(i.state),e.view.visible=i.state==n.unlock,t.setTile(e)})),[].concat(this.bag.pack.items).forEach((function(i){if(!i.isSlot){t.bag.pack.removeItem(i);var e=r.getRelativePos(t.view,i.view);t.view.addChild(i.view),i.view.setPosition(e.x,e.y),i.view.alpha=.5,i.view.touchable=!1,t.items.push(i)}}))},a.checkHover=function(){var t=this,i=!0,e=[];return this.tiles.forEach((function(a){var s;if(a.state!=n.lock){var o=r.getRelativePos(t.packRoot,a.view),c=t.getGridLoc(o),l=t.bag.pack,v=l.getGrid(c.x,c.y);v&&v.state==n.lock&&e.push(v);var h=null==(s=l.getInstalled(c.x,c.y))?void 0:s.item;(!v||null!=h&&h.isSlot)&&(i=!1)}})),{canInstall:i&&e.length>0,hovering:e}},a.install=function(){var t=this;if(this.checkHover().canInstall){var i=this.tiles[0],e=r.getRelativePos(this.packRoot,i.view),a=this.getGridLoc(e),s=this.getGridPos(a.x,a.y),o={x:s.x-e.x,y:s.y-e.y};this.view.setPosition(this.view.x+o.x,this.view.y+o.y),this.originPos.set(this.view.x,this.view.y)}else this.view.setPosition(this.originPos.x,this.originPos.y);this.bag.pack.tiles.forEach((function(t){return t.updateState()})),this.tiles.forEach((function(i){if(i.state!=n.lock){var e=r.getRelativePos(t.bag.pack.view.m_container.m_tiles,i.view),a=t.bag.pack.getGridLoc(e);t.bag.pack.getGrid(a.x,a.y).state=n.unlock}}))},e(o,[{key:"packRoot",get:function(){return this.bag.pack.view.m_container.m_tiles}}]),o}(o));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameBagItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./PackBagItemConfig.ts","./PackMergeConfig.ts","./YT.ts","./util.ts","./GameBagSlot.ts","./GameGrid.ts","./PackGame.ts"],(function(e){var t,i,n,a,r,o,s,c,h,u,g,l,f,v,d,p,m,w,b;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime,a=e.createForOfIteratorHelperLoose,r=e.createClass},function(e){o=e.cclegacy,s=e.tween},function(e){c=e.UIPackage,h=e.Event},function(e){u=e.PackBagItemConfig},function(e){g=e.PackMergeConfig},function(e){l=e.YT},function(e){f=e.vec2,v=e.default,d=e.delay},function(e){p=e.default,m=e.E_BagSlotState},function(e){w=e.default},function(e){b=e.default}],execute:function(){o._RF.push({},"7f5f3RX3Q5DYJbS9z8UlxjE","GameBagItem",void 0),e("default",function(e){function o(t,i){var n;return(n=e.call(this)||this).view=void 0,n.slots=[],n.config=void 0,n.mergeConfig=void 0,n.isAD=!1,n.iconOutline=void 0,n.bubbleView=void 0,n.offsetRot=0,n.roleNode=void 0,n.dragging=!1,n.moveTween=void 0,n.viewRotation=0,n.scaleTween=void 0,n.rotateTween=void 0,t?(n.mergeConfig=t,n.config=u.data[n.mergeConfig.bag_item]):n.config=i,n.createView(),n}t(o,e);var w=o.prototype;return w.createView=function(){var e=c.createObjectFromURL("ui://PackBattle/"+this.config.bag_view);e.m_lv.selectedIndex=this.mergeConfig.level-1,this.view=e,this.view.m_image.url="ui://PackBattle/"+this.mergeConfig.role_view,this.view._children.forEach((function(e){e.touchable=!1})),this.view.opaque=!1,this.createSlots(),this.view.setPivot(.5,.5),this.view.draggable=!0,this.bag.ui.addChild(this.view),this.bindEvents()},w.bindEvents=function(){var e=this,t=!1,a=!1;this.view.on(h.TOUCH_BEGIN,(function(){a=!0})),this.view.on(h.TOUCH_END,i(n().mark((function i(){return n().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t||!a){i.next=7;break}if(!e.isAD){i.next=6;break}return i.next=4,l.game.watchAD();case 4:i.sent&&e.removeAD();case 6:b.inst.showEquipStat(e.mergeConfig);case 7:t=!1,a=!1;case 9:case"end":return i.stop()}}),i)})))),this.view.on(h.DRAG_START,(function(){e.rotateZero(),e.view.sortingOrder=1,t=!0,e.bag.pack.removeItem(e),e.bag.option.removeItem(e),e.bag.option.updatePosition(!0),e.bag.checkMergeCandidates(e),e.dragging=!0})),this.view.on(h.DRAG_MOVE,(function(){e.bag.pack.updateTilesView();var t=e.checkMerge();if(t)e.bag.setMergeTarget(t.items);else{e.bag.clearMergeTarget();var i=e.checkHover();i.hovering.forEach((function(e){e.setHover(i.canInstall)}))}})),this.view.on(h.DRAG_END,i(n().mark((function t(){var i,a,r,o,s,c;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dragging=!1,e.view.sortingOrder=0,e.bag.items.forEach((function(e){e.rotate(!1)})),!e.isAD){t.next=8;break}return t.next=6,l.game.watchAD();case 6:t.sent&&e.removeAD();case 8:if(e.bag.hideMergeHelp(),e.isAD||!e.isSlot){t.next=15;break}(i=e.checkHoverSlot()).canInstall?e.bag.moveSlots?e.bag.installItem(e):(e.bag.pack.unlockSlots(i.hovering),e.bag.removeItem(e)):e.bag.uninstallItem(e),!e.bag.moveSlots&&e.bag.pack.opened&&e.bag.pack.close(!0),t.next=47;break;case 15:if(e.isAD){t.next=45;break}if(!(a=e.checkMerge())){t.next=39;break}if(!a.other.isAD){t.next=27;break}return t.next=21,l.game.watchAD();case 21:if(!t.sent){t.next=26;break}a.other.removeAD(),t.next=27;break;case 26:return t.abrupt("return");case 27:r=f(a.other),o=e.bag.pack.items.includes(a.other),e.bag.clearMergeTarget().forEach((function(t){return e.bag.removeItem(t)})),(s=e.bag.createItem(a.config)).view.setPosition(r.x,r.y),o?e.bag.installItem(s):e.bag.uninstallItem(s),e.bag.option.updatePosition(!0),l.audio.play(14009),e.playerMerge(r),t.next=43;break;case 39:l.audio.play(14008),(c=e.checkHover()).items.forEach((function(t){e.bag.uninstallItem(t)})),c.canInstall?e.bag.installItem(e):e.bag.uninstallItem(e);case 43:t.next=47;break;case 45:!e.bag.moveSlots&&e.bag.pack.opened&&e.bag.pack.close(!0),e.bag.uninstallItem(e);case 47:e.bag.pack.updateTilesView(),e.bag.option.updatePosition(!0),e.bag.updateBagState(),e.bag.save(),e.bag.checkMergeCandidates();case 52:case"end":return t.stop()}}),t)}))))},w.createSlots=function(){for(var e=this.getShape(),t=e.length,i=e[0].length,n=0;n<i;n++)for(var a=0;a<t;a++)if(1==e[a][n]){var r=new p(n,a,this.view);r.bindItem(this),this.setTile(r)}var o=this.getTileViewSize();this.view.setSize(o.w,o.h)},w.createAD=function(){this.view.m_withAD.selectedIndex=1},w.moveTo=function(e,t,i){this.moveTween&&this.moveTween.stop(),this.moveTween=s(this.view).to(i,{x:e,y:t}).start()},w.rotateOffet=function(){var e=v.randomRange(-45,45);this.viewRotation||(this.viewRotation=e),this.view.rotation=this.viewRotation},w.rotateZero=function(){this.view.rotation=0},w.addAD=function(){this.isAD=!0,this.createAD()},w.removeAD=function(){this.isAD=!1,this.view.m_withAD.selectedIndex=0},w.getShape=function(){for(var e,t=[],i=this.config.shape.replace("\r","").split("\n"),n=a(i);!(e=n()).done;){for(var r,o=e.value,s=[],c=a(o);!(r=c()).done;){var h=r.value;s.push("x"==h?1:0)}t.push(s)}return t},w.checkHover=function(){for(var e,t=!0,i=this.bag.pack,n=[],r=[],o=a(this.tiles);!(e=o()).done;){var s=e.value,c=v.getRelativePos(i.view.m_container.m_tiles,s.view),h=this.getGridLoc(c),u=i.getGrid(h.x,h.y);u&&u.state==m.unlock&&n.push(u),(u&&u.state!=m.unlock||!u)&&(t=!1);var g=this.bag.pack.getItem(h.x,h.y);g&&r.push(g)}return{canInstall:t&&n.length>0,hovering:n,items:r}},w.checkHoverSlot=function(){for(var e,t=this,i=!0,n=this.bag.pack,r=[],o=a(this.tiles);!(e=o()).done;){var s=e.value,c=v.getRelativePos(n.view.m_container.m_tiles,s.view),h=this.getGridLoc(c),u=n.getGrid(h.x,h.y),g=n.getInstalled(h.x,h.y);if(!u||u.state!=m.lock||g){i=!1;break}r.push(u)}if(i&&!this.bag.moveSlots){var l=[];r.forEach((function(e){var i=e.col,n=e.row;[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}].forEach((function(e){var a=t.bag.pack.getGrid(i+e.x,n+e.y);a&&a.state==m.unlock&&l.push(a)}))})),0==l.length&&(i=!1)}return{canInstall:i&&r.length>0,hovering:r}},w.checkNeib=function(){for(var e,t=this,i=!0,n=this.bag.pack,r=[],o=a(this.tiles);!(e=o()).done;){var s=e.value,c=v.getRelativePos(n.view.m_container.m_tiles,s.view),h=this.getGridLoc(c),u=n.getGrid(h.x,h.y);if(!u){i=!1;break}r.push(u)}var g=[];return i&&r.forEach((function(e){var i=e.col,n=e.row;[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}].forEach((function(e){var a=t.bag.pack.getGrid(i+e.x,n+e.y);if(a&&a.state==m.unlock)g.push(a);else if(a){var r=t.bag.pack.getItem(i+e.x,n+e.y);r&&r.isSlot&&r!=t&&g.push(r)}}))})),g.length>0},w.checkMerge=function(){for(var e,t=a(this.bag.items);!(e=t()).done;){var i=e.value;if(i!=this&&this.checkOverLapWithItem(i)){var n=this.getMergeItems(i);if(n)return n}}},w.getMergeItems=function(e){var t,i,n=this;if(!this.isSlot&&(o.formulas||(o.formulas=[],g.dataList.forEach((function(e){e.formula&&e.formula.length>0&&o.formulas.push({ids:e.formula,config:e})}))),o.formulas.filter((function(t){if(!e.mergeConfig)return!1;var i=[n.mergeConfig.id,e.mergeConfig.id];return v.arrayCover(i,t.ids)})).forEach((function(r){var o=[n,e],s=[].concat(r.ids);v.fetchArrEle(s,n.mergeConfig.id),v.fetchArrEle(s,e.mergeConfig.id);for(var c,h=function(){var e=c.value,t=n.bag.items.find((function(t){return t.mergeConfig.id==e&&!o.includes(t)}));if(!t)return 1;o.push(t)},u=a(s);!(c=u()).done&&!h(););o.length==r.ids.length&&(t=o,i=r.config)})),i)){if(5==i.level&&!this.canUpgradeSP())return;return{other:e,config:i,items:t}}},w.updateInstallPos=function(){var e=this.tiles[0];if(e&&e.view){var t=this.bag.pack.getInstalledLoc(e);if(t){var i=this.bag.pack.getGridPos(t.x,t.y),n=f(i.x-e.view.x,i.y-e.view.y),a=v.getRelativePos(this.view.parent,this.bag.pack.view.m_container.m_tiles);this.view.setPosition(a.x+n.x,a.y+n.y)}}},w.checkOverLapWithItem=function(e){return!(this.x+this.w<e.x||e.x+e.w<this.x)&&!(this.y+this.h<e.y||e.y+e.h<this.y)},w.popup=function(e){if(!this.disposed&&(this.scaleTween&&this.scaleTween.stop(),this.view&&!this.view.isDisposed)){this.scaleTween=s(this.view).to(.1,{scaleX:e?1.2:1,scaleY:e?1.2:1}).start()}},w.rotate=function(e){var t;e||(null==(t=this.rotateTween)||t.stop(),this.rotateTween=null,this.view.rotation=0)},w.bounce=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=.3),this.popup(!0),e.next=4,d(t);case 4:this.popup(!1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),w.dispose=function(){var t;this.scaleTween&&this.scaleTween.stop(),this.moveTween&&this.moveTween.stop(),null==(t=this.rotateTween)||t.stop(),e.prototype.dispose.call(this)},w.canUpgradeSP=function(){return!1},w.playerMerge=function(){var e=i(n().mark((function e(t){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.createObjectFromURL("ui://PackBattle/merge"),this.bag.ui.addChild(i),i.setPosition(t.x-.5*i.width+.5*this.view.width,t.y-.5*i.height+.5*this.view.height),e.next=5,d(i._content.interval*(i._content.frames.length-1));case 5:i.dispose();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r(o,[{key:"x",get:function(){return this.view.x},set:function(e){this.view.x=e}},{key:"y",get:function(){return this.view.y},set:function(e){this.view.y=e}},{key:"w",get:function(){return this.view.width},set:function(e){this.view.width=e}},{key:"h",get:function(){return this.view.height},set:function(e){this.view.height=e}},{key:"isSlot",get:function(){return!1}}]),o}(w)).formulas=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/GameBagOption.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts"],(function(t){var e,i,n,r,s;return{setters:[function(t){e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy},function(t){r=t.default,s=t.delay}],execute:function(){n._RF.push({},"62e80ncs1RKjK9RlFj6018t","GameBagOption",void 0);t("default",function(){function t(){this.view=void 0,this.items=[]}var n=t.prototype;return n.bindView=function(t){this.view=t},n.updatePosition=function(){var t=e(i().mark((function t(e){var n,r,o,u,c,h=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e||(this.items.forEach((function(t){return t.view.setPosition(h.view.x+.5*h.view.width,h.view.y+.5*h.view.height)})),e=!0),n=this.items.reduce((function(t,e){return t+e.w}),0),r=this.view.width,o=this.view.y+.5*this.view.height,u=(r-n)/(this.items.length+1),c=this.view.x+u,this.items.sort((function(t,e){return t.view.x-e.view.x})),this.items.forEach((function(t){e?t.moveTo(c,o-.5*t.h,.2):t.view.setPosition(c,o-.5*t.h),c+=t.w+u,t.rotateOffet()})),t.next=10,s(.3);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.addItem=function(t){r.arrAdd(this.items,t)},n.removeItem=function(t){r.fetchArrEle(this.items,t)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameBagPack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameBagSlot.ts","./GameGrid.ts","./BagManager.ts","./util.ts"],(function(t){var i,e,n,s,o,a,r,l,c,h,u;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.tween},function(t){r=t.default,l=t.E_BagSlotState},function(t){c=t.default},function(t){h=t.default},function(t){u=t.default}],execute:function(){o._RF.push({},"b7c42ghtWtIA7LKxsxzBEUN","GameBagPack",void 0);t("default",function(t){function o(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).installed=[],i.view=void 0,i.originRect=void 0,i.items=[],i.opened=!1,i}i(o,t);var c=o.prototype;return c.updateTilesView=function(){this.tiles.forEach((function(t){return t.updateState()}))},c.bindView=function(t){this.view=t;for(var i=this.bag.config.slot,e=0;e<this.bag.config.height;e++)for(var n=0;n<this.bag.config.width;n++){var s=new r(n,e,this.view.m_container.m_tiles),o=i[e*this.bag.config.width+n],a=l.lock;1==o?a=l.unlock:8==o&&(a=l.ban),s.changeState(a),this.setTile(s)}var c=this.getTileViewSize();this.view.m_container.setSize(c.w,c.h);var h=.5*this.view.width-.5*c.w,u=.5*this.view.height-.5*c.h;this.view.m_container.setPosition(h,u),this.originRect={x:h,y:u,w:c.w,h:c.h},this.close(!1),this.updateTilesView()},c.setInstalled=function(t,i,e){this.installed[t]||(this.installed[t]=[]),this.installed[t][i]=e},c.getInstalled=function(t,i){return this.installed[t]?this.installed[t][i]:null},c.getInstalledLoc=function(t){for(var i in this.installed)for(var e in this.installed[i])if(this.installed[i][e]==t)return{x:Number(i),y:Number(e)}},c.removeInstall=function(t){for(var i in this.installed)for(var e in this.installed[i])this.installed[i][e]==t&&(this.getGrid(i,e).view.m_bg.visible=!0,this.installed[i][e]=null)},c.addItem=function(t){var i=this;u.arrAdd(this.items,t),t.tiles.forEach((function(t){var e=i.getRelativeGridLoc(t);i.setInstalled(e.x,e.y,t)})),t.updateInstallPos()},c.getItem=function(t,i,e){var n=this;return void 0===e&&(e=!1),this.items.find((function(s){return s.tiles.some((function(s){if(e)return t==s.col&&i==s.row;var o=n.getRelativeGridLoc(s);return o.x==t&&o.y==i}))}))},c.getRelativeGridLoc=function(t){return this.getGridLoc(u.getRelativePos(this.view.m_container.m_tiles,t.view))},c.getRelativeItemLoc=function(t){return this.getGridLoc(u.getRelativePos(this.view.m_container.m_tiles,t.view))},c.setRelativeItemLoc=function(t,i,e){var n=this.getGridPos(i,e),s=u.getRelativePos(this.bag.ui,this.view.m_container.m_tiles);t.view.setPosition(n.x+s.x,n.y+s.y)},c.updateInstalledsPostion=function(){this.items.forEach((function(t){t.updateInstallPos()}))},c.removeItem=function(t){var i=this;u.fetchArrEle(this.items,t),t.tiles.forEach((function(t){i.removeInstall(t)}))},c.open=function(){var t=n(s().mark((function t(i){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.opened=!0,this.updateTilesView(),!i){t.next=6;break}return t.abrupt("return",new Promise((function(t){a(e.view.m_container).to(.2,{width:e.originRect.w,height:e.originRect.h}).start(),a(e.view.m_container.m_tiles).to(.2,{x:0,y:0},{onUpdate:function(t,i){e.updateInstalledsPostion()}}).call((function(){e.bag.moveSlots&&e.bag.intoGridEditMode(),e.bag.moveSlots&&(e.bag.ui.m_grid_edit.selectedIndex=1),t(null)})).start()})));case 6:this.view.m_container.width=this.originRect.w,this.view.m_container.height=this.originRect.h,this.view.m_container.m_tiles.x=0,this.view.m_container.m_tiles.y=0;case 10:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),c.close=function(t){var i=this;this.bag.moveSlots&&this.bag.outofGridEditMode(0);var e=1/0,n=1/0,s=-1/0,o=-1/0;this.tiles.forEach((function(t){t.state==l.unlock&&(e=Math.min(t.view.x,e),n=Math.min(t.view.y,n),s=Math.max(t.view.x+t.view.width,s),o=Math.max(t.view.y+t.view.height,o))}));var r=s-e,c=o-n,h=-e,u=-n;if(this.opened=!1,this.updateTilesView(),t)return new Promise((function(t){a(i.view.m_container).to(.2,{width:r,height:c}).start(),a(i.view.m_container.m_tiles).to(.2,{x:h,y:u},{onUpdate:function(t,e){i.updateInstalledsPostion()}}).call((function(){i.bag.moveSlots&&i.bag.outofGridEditMode(1),t(null)})).start()}));this.view.m_container.setSize(r,c),this.view.m_container.m_tiles.setPosition(h,u),this.updateInstalledsPostion(),this.tiles.forEach((function(t){return t.view.m_withFrame.selectedIndex=0}))},c.getNeibItems=function(t){var i=this,e=[];return t.tiles.forEach((function(n){var s=i.getRelativeGridLoc(n);[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}].forEach((function(n){var o=i.getInstalled(s.x+n.x,s.y+n.y);o&&o.item!=t&&!e.includes(o.item)&&e.push(o.item)}))})),e},c.unlockSlots=function(t){t.forEach((function(t){t.changeState(l.unlock)}))},c.dispose=function(){this.view=null,[].concat(this.tiles).forEach((function(t){t.dispose()}))},e(o,[{key:"bag",get:function(){return h.inst}}]),o}(c));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameBagSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagManager.ts","./UI_BagSlotItem.ts"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){s=t.default},function(t){n=t.default}],execute:function(){i._RF.push({},"1a3f94v5mhK8rhKNubIR7Lx","GameBagSlot",void 0);var o=t("E_BagSlotState",function(t){return t[t.lock=0]="lock",t[t.ban=1]="ban",t[t.unlock=2]="unlock",t}({}));t("default",function(){var t=i.prototype;function i(t,e,i){this.col=void 0,this.row=void 0,this.item=void 0,this.view=void 0,this.state=void 0,this.isSlot=!1,this.root=i,this.col=t,this.row=e;var s=this.getGridPos(t,e);this.view=n.createInstance(),this.view.setPosition(s.x,s.y),this.view.setSize(this.bag.config.cellSize,this.bag.config.cellSize),this.root.addChild(this.view)}return t.checkState=function(){this.item},t.bindItem=function(t){this.item=t,this.view.alpha=0},t.changeState=function(t){this.state=t,this.updateState()},t.updateState=function(){switch(this.state){case o.lock:this.view.m_bg_color.selectedPage="black",this.view.visible=this.bag.pack.opened;break;case o.unlock:this.view.m_bg_color.selectedPage="white",this.view.visible=!0;break;case o.ban:this.view.m_bg_color.selectedPage="red",this.view.visible=this.bag.pack.opened}},t.setHover=function(t){this.view.m_bg_color.selectedPage=t?"green":"red"},t.setYellow=function(){this.view.m_bg_color.selectedPage="yellow"},t.getGridLoc=function(t,e){return{x:Math.round(t/(this.bag.config.cellSize+this.bag.config.gap)),y:Math.round(e/(this.bag.config.cellSize+this.bag.config.gap))}},t.getGridPos=function(t,e){return{x:t*(this.bag.config.cellSize+this.bag.config.gap),y:e*(this.bag.config.cellSize+this.bag.config.gap)}},t.dispose=function(){this.view.dispose()},e(i,[{key:"x",get:function(){return this.view.x},set:function(t){this.view.x=t}},{key:"y",get:function(){return this.view.y},set:function(t){this.view.y=t}},{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"bag",get:function(){return s.inst}}]),i}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GameBagTemp.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9081d9RK9JEb7vaPU36yfxs","GameBagTemp",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameBombingBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritGameConst.ts","./AudioManager.ts","./EffectManager2.ts","./util2.ts","./GameBullet.ts","./GameObject2.ts"],(function(t){var e,i,s,n,o,a,r,c,u,h,l,f,d;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){n=t.cclegacy},function(t){o=t.GComponent},function(t){a=t.TreeSpiritGameConst},function(t){r=t.default},function(t){c=t.default},function(t){u=t.repeat,h=t.default},function(t){l=t.default},function(t){f=t.PhysicTags,d=t.default}],execute:function(){n._RF.push({},"68da87muP9Cq7yJOpIjEmmY","GameBombingBullet",void 0);t("default",function(t){function n(e){var i;return(i=t.call(this,e)||this).damageInterval=.3,i.damageTimer=0,i.isSlowed=!1,i.onUpdate=function(t){i.disposed||!i.enabled||i.paused||(i.damageTimer+=t,i.isStatic||(i.processMoveState(t*i.timeScale),i.isColl&&i.updateAABB(!1)),i.damageTimer>=i.damageInterval&&(i.damageTimer=0,i.checkAndDamage()),i.ev.emit("update",t*i.timeScale,t))},i.ignorePanels=[],i.tag=f.player_bullet,i.isStatic=!1,i.isKine=!0,i.collBehavior={enemy:"cross",panel:"cross",drop:"cross"},i.damageInterval=a.data.hongzha_interval,i}e(n,t);var p=n.prototype;return p.launch=function(){var t=i(s().mark((function t(e,i,n,o,a){var c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===a&&(a=0),this.bindEvents(),this.weapon=e,this.setPos(i.x,i.y+500),c=this.attr.getBulletAttr("speed")/60,this.speed=c,this.bulletIndex=a,this.velocity.set(n.x*c,n.y*c),this.motion.set(n.x,n.y).normalize(),this.launchTime=Date.now()/1e3,this.bornPos=this.pos.clone(),this.isColl=!!this.attr.getBulletAttr("coll"),this.createView(),!this.disposed){t.next=15;break}return t.abrupt("return");case 15:if(this.view&&!this.view.isDisposed&&(this.view.rotation=0),this.target=o,!this.config.sounds.last){t.next=24;break}if(u=r.inst.playLastEffect(this.config.sounds.last)){t.next=21;break}return t.abrupt("return");case 21:this.game.ev.on("pause",(function(){u.node&&u.pause()})),this.game.ev.on("resume",(function(){u.node&&u.play()})),this.ev.on("dispose",(function(){u.node&&u.stop(),u.node&&u.node.destroy()}));case 24:this.init();case 25:case"end":return t.stop()}}),t,this)})));return function(e,i,s,n,o){return t.apply(this,arguments)}}(),p.createView=function(){var t=i(s().mark((function t(){var e,i=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.view=this.config.bullet?this.getView():new o,this.view.setPivot(.5,.5,!0),this.ev.on("dispose",(function(){i.view&&(i.config.bullet?l.pools[i.config.bullet].return(i.view):i.view.dispose())})),this.size.set(this.view.width*this.game.scale,this.view.height*this.game.scale),!this.config.effects.motion){t.next=14;break}return t.next=7,c.inst.createPref(this.config.effects.motion,this.view.node);case 7:if(e=t.sent,!this.disposed){t.next=11;break}return e.destroy(),t.abrupt("return");case 11:this.game.layers.bg.node.addChild(e),this.ev.on("update",(function(){e.setPosition(i.view.node.position)})),this.ev.on("dispose",(function(){e.destroy()}));case 14:this.view&&!this.view.isDisposed&&(this.view.rotation=0),this.ev.emit("created"),this.isColl&&this.createAABB(),this.updateView();case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p.checkAndDamage=function(){var t=this,e=this.world.queryRect(this.x-12.5,this.y-12.5+500,25,25,(function(t){return t.tag===f.enemy}));c.inst.playAnimEffect("hongzha",this.x,this.y+500,1,this.game.layers.effect),e.forEach((function(e){var i=d.getObjectByID(e);i&&i.enabled&&u(9,(function(e){t.onHitEnemy(i)}))}))},p.onColl=function(t){var e=d.getObjectByID(t.other);if(e&&e.isColl&&e.enabled&&!this.ignoreList.includes(e))switch(e.tag){case f.enemy:if(!this.enabled)return}},p.selfKillCheck=function(){var t=!1;(this.timer>=this.attr.getBulletAttr("life")||h.distanceObject(this.bornPos,this.pos)>this.attr.getBulletAttr("range")||this.attr.getBulletAttr("bounce")>=0&&this.bounceCount>this.attr.getBulletAttr("bounce"))&&(t=!0),t&&(this.ev.emit("remove"),this.onKill())},p.moveLinear=function(t){this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.config.bullet_rot?(this.selfRot+=this.config.bullet_rot*t,this.view.rotation=this.selfRot):this.view.rotation=h.rad2angle(h.angleObject(this.velocity))-90},p.playHitEffect=function(){},n}(l));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameBorder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./util2.ts","./BattleManager.ts"],(function(e){var i,t,n,o,s,r,d,a,h,c,u,v,l;return{setters:[function(e){i=e.createClass},function(e){t=e.cclegacy,n=e.RigidBody2D,o=e.ERigidBody2DType,s=e.PolygonCollider2D,r=e.BoxCollider2D,d=e.math},function(e){a=e.GGraph},function(e){h=e.Emitter,c=e.throughFGUI,u=e.default,v=e.vec2},function(e){l=e.default}],execute:function(){t._RF.push({},"894acgG+ENFlo2L8cO4Uo8I","GameBorder",void 0);e("default",function(){function e(){var e=this;this.ev=void 0,this.disposed=!1,this.view=void 0,this.enabled=!0,this.isColl=!0,this.body=void 0,this.collider=void 0,this.timeScale=1,this.onUpdate=function(i){e.disposed||(e.syncPosition(),e.ev.emit("update",i*e.timeScale,i))}}var t=e.prototype;return t.bindEvents=function(){var e=this;this.ev=new h(this),this.ev.emit("init");var i=this.game.ev.on("update",(function(i){return e.onUpdate(i)}));this.ev.on("dispose",(function(){e.game.ev.off("update",i)}));var t=this.game.ev.on("end",(function(){e.dispose()}));this.ev.on("dispose",(function(){return e.game.ev.off("end",t)}))},t.createView=function(){this.ev.emit("created")},t.bindView=function(e){this.view=e,this.view.node.obj=this,this.ev.emit("created"),this.parsePhysic()},t.parsePhysic=function(){var e=this;c(this.view,(function(i){var t=u.parseUIData(i);if(t.static||t.dynamic){var n=t.sub?e.view.node:i.node;e.createBody(n,i,!t.dynamic);var o=t.sensor||t.trigger,s=[];if(i instanceof a&&t.polygon)for(var r=i._polygonPoints,d=0;d<r.length/2;d++)s.push(v(r[2*d]-.5*i.width,-r[2*d+1]+.5*i.height));e.createCollider(n,i,o,s)}})),this.syncPosition()},t.createBody=function(e,i,t){var s=e.addComponent(n);e.obj=this,s.type=t?o.Static:o.Dynamic,s.enabledContactListener=!0,this.body=s},t.createCollider=function(e,i,t,n){if(void 0===t&&(t=!1),n.length>0){var o=e.addComponent(s);o.points=n,o.sensor=t,this.collider=o}else{var a=e.addComponent(r);a.size=new d.Size(i.width,i.height),a.sensor=t,this.collider=a,console.log(a)}},t.syncPosition=function(){var e=this.view.node.position,i=e.x,t=e.y;this.view._x=i,this.view._y=-t},t.dispose=function(){this.disposed||(this.disposed=!0,this.enabled=!1,this.ev.emit("remove"),this.ev.emit("dispose"),this.ev.dispose())},i(e,[{key:"game",get:function(){return l.inst}},{key:"x",get:function(){return this.view.x}},{key:"y",get:function(){return this.view.y}},{key:"w",get:function(){return this.view.width}},{key:"h",get:function(){return this.view.height}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameBottle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoTalentConfig.ts","./util3.ts","./GameDrop2.ts","./GameObject.ts","./ShoudaqiaoBottleConfig.ts","./EffectManager.ts","./AudioManager2.ts","./ShoudaqiaoBottleConfigPlayer.ts"],(function(t){var i,e,n,s,o,a,h,c,u,r,f,l,p,d,g,v,m;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.tween},function(t){h=t.ShoudaqiaoTalentConfig},function(t){c=t.default,u=t.vec2,r=t.isDouyin},function(t){f=t.default},function(t){l=t.PhysicTags,p=t.default},function(t){d=t.ShoudaqiaoBottleConfig},function(t){g=t.default},function(t){v=t.default},function(t){m=t.ShoudaqiaoBottleConfigPlayer}],execute:function(){o._RF.push({},"d5db5cFtE5Bbouv6QdLeghM","GameBottle",void 0);t("default",function(t){function o(i){var e;(e=t.call(this)||this).isStatic=!0,e.isKine=!1,e.isColl=!0,e.tag=l.bottle,e.timer=0,e.view=void 0,e.cd=void 0,e.noDMG=!1,e.data=void 0,e.config=void 0,e.projective=!0,e.pivot=u(.5,.5),e.hp=void 0,e.talent=void 0,e.v=i,e.view=i,e.data=c.parseUIData(e.view);var n=r()?m.dataList:d.dataList;return e.config=n.find((function(t){return t.group==e.data.gp&&t.level==e.game.config.level&&e.data.i==t.index})),e}i(o,t);var p=o.prototype;return p.bindView=function(){var t=n(s().mark((function t(){var i,e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.on("dispose",(function(){return e.view.dispose()})),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.pos.set(this.view.x,this.view.y),this.createAABB(),this.view.m_item_slot.title=1!=this.config.index&&this.game.config.hide?"":this.talent.desc,i=1!=this.config.index&&this.game.config.hide?"icon_unknown":this.talent.drop,this.view.m_item_slot.icon="ui://"+this.game.gameConst.RESPackage+"/"+i,this.view.icon="ui://"+this.game.gameConst.RESPackage+"/"+this.config.icon;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p.start=function(){var t=this;this.bindEvents(),this.hp=this.config.hp,this.pos.set(this.view.x,this.view.y);var i=c.pickRandom(this.config.talents);this.talent=h.data[i],this.bindView(),this.ev.on("update",(function(){t.projectView(),t.view.alpha=t.pos.y>0?1:0})),this.view.title=this.hp.toFixed(0)},p.createDrop=function(){var t=new f(this.talent),i=c.getRelativePos(this.game.view,this.view.m_item_slot);t.init(i.x,i.y)},p.onHit=function(t){this.hp-=1,this.hp=Math.max(this.hp,0),this.view.title=""+this.hp,g.inst.playAnimEffect(this.game.gameConst.RESPackage+"@"+this.config.effects.hit,t.view.x,t.view.y-50,.5*t.view.scaleX),0==this.hp?(this.createDrop(),this.kill()):v.inst.playEffect(this.config.sounds.hit),t.dispose()},p.kill=function(){this.upper&&(this.upper.moveDown(this.pos.clone()),this.upper.view.m_item_slot.icon="ui://"+this.game.gameConst.RESPackage+"/"+this.upper.talent.drop,this.upper.view.m_item_slot.title=this.upper.talent.desc),v.inst.playEffect(this.config.sounds.kill),g.inst.playAnimEffect("!"+this.game.gameConst.RESPackage+"@"+this.config.effects.kill,this.view.x,this.view.y,.5*this.view.scaleX),this.dispose()},p.moveDown=function(t){var i=this,e=this.pos.clone();a(this.pos).to(.5,{x:t.x,y:t.y},{onUpdate:function(){i.setPos(i.pos.x,i.pos.y)},easing:"quadIn"}).start(),this.game.player.delay(.1,(function(){i.upper&&i.upper.moveDown(e)}))},e(o,[{key:"upper",get:function(){var t=this;return this.game.bottles.find((function(i){return i.config.group==t.config.group&&i.config.index==t.config.index+1}))}}]),o}(p));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameBottle2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoTalentConfig2.ts","./ShoudaqiaoBottleConfig2.ts","./ShoudaqiaoBottleConfigPlayer2.ts","./AudioManager22.ts","./EffectManager22.ts","./util22.ts","./GameDrop22.ts","./GameObject22.ts"],(function(t){var i,e,s,n,o,a,h,c,r,l,u,f,p,v,g,d,m;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,s=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.tween},function(t){h=t.ShoudaqiaoTalentConfig},function(t){c=t.ShoudaqiaoBottleConfig},function(t){r=t.ShoudaqiaoBottleConfigPlayer},function(t){l=t.default},function(t){u=t.default},function(t){f=t.default,p=t.vec2,v=t.isDouyin},function(t){g=t.default},function(t){d=t.PhysicTags,m=t.default}],execute:function(){o._RF.push({},"f01a4Plb65IzoJk2vE2z8FX","GameBottle2",void 0);t("default",function(t){function o(i){var e;(e=t.call(this)||this).isStatic=!0,e.isKine=!1,e.isColl=!0,e.tag=d.bottle,e.timer=0,e.view=void 0,e.cd=void 0,e.noDMG=!1,e.data=void 0,e.config=void 0,e.projective=!0,e.pivot=p(.5,.5),e.hp=void 0,e.talent=void 0,e.v=i,e.view=i,e.data=f.parseUIData(e.view);var s=v()?r.dataList:c.dataList;return e.config=s.find((function(t){return t.group==e.data.gp&&t.level==e.game.config.level&&e.data.i==t.index})),e}i(o,t);var m=o.prototype;return m.bindView=function(){var t=s(n().mark((function t(){var i,e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.on("dispose",(function(){return e.view.dispose()})),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.pos.set(this.view.x,this.view.y),this.createAABB(),this.view.m_item_slot.title=1!=this.config.index&&this.game.config.hide?"":this.talent?this.talent.desc:"",i=1!=this.config.index&&this.game.config.hide?"icon_unknown":this.talent?this.talent.drop:"",this.view.m_item_slot.icon="ui://"+this.game.gameConst.RESPackage+"/"+i,this.view.icon="ui://"+this.game.gameConst.RESPackage+"/"+this.config.icon,1==this.config.index?this.view.m_item_slot.m_bottom.visible=!0:this.view.m_item_slot.m_bottom.visible=!1;case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),m.start=function(){var t=this;this.bindEvents(),this.hp=this.config.hp,this.pos.set(this.view.x,this.view.y);var i=f.pickRandom(this.config.talents);this.talent=h.data[i],this.bindView(),this.ev.on("update",(function(){t.projectView(),t.view.alpha=t.pos.y>0?1:0})),this.view.title=this.hp.toFixed(0)},m.createDrop=function(){if(this.talent){var t=new g(this.talent),i=f.getRelativePos(this.game.view,this.view.m_item_slot);t.init(i.x,i.y)}},m.onHit=function(t){var i=t.attr.getPlayerBulletDmg().dmg;this.hp-=i,this.hp=Math.max(this.hp,0),this.view.title=""+this.hp.toFixed(0),u.inst.playAnimEffect(this.game.gameConst.RESPackage+"@"+this.config.effects.hit,t.view.x,t.view.y-50,.5*t.view.scaleX),0==this.hp?(this.createDrop(),this.kill()):l.inst.playEffect(this.config.sounds.hit),t.hitCount++},m.kill=function(){this.upper&&(this.upper.moveDown(this.pos.clone()),this.upper.talent&&(this.upper.view.m_item_slot.m_bottom.visible=!0,this.upper.view.m_item_slot.icon="ui://"+this.game.gameConst.RESPackage+"/"+this.upper.talent.drop,this.upper.view.m_item_slot.title=this.upper.talent.desc)),l.inst.playEffect(this.config.sounds.kill),u.inst.playAnimEffect("!"+this.game.gameConst.RESPackage+"@"+this.config.effects.kill,this.view.x,this.view.y,.5*this.view.scaleX),this.dispose()},m.moveDown=function(t){var i=this,e=this.pos.clone();a(this.pos).to(.5,{x:t.x,y:t.y},{onUpdate:function(){i.setPos(i.pos.x,i.pos.y)},easing:"quadIn"}).tag(88888).start(),this.game.player.delay(.1,(function(){i.upper&&i.upper.moveDown(e)}))},e(o,[{key:"upper",get:function(){var t=this;return this.game.bottles.find((function(i){return i.config.group==t.config.group&&i.config.index==t.config.index+1}))}}]),o}(m));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritBulletConfig.ts","./TreeSpiritGameConst.ts","./YT.ts","./AudioManager.ts","./BattleManager.ts","./DamageBoardPool.ts","./EffectManager2.ts","./util2.ts","./GameChainHelper.ts","./GameEnemy.ts","./GameObject2.ts"],(function(t){var i,e,s,o,a,n,h,r,l,c,f,u,p,v,g,m,d,y,b,w,x,P,B,E,k,C,j;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,n=t.Vec2},function(t){h=t.UIPackage,r=t.GRoot,l=t.GComponent},function(t){c=t.TreeSpiritBulletConfig},function(t){f=t.TreeSpiritGameConst},function(t){u=t.YT},function(t){p=t.default},function(t){v=t.default},function(t){g=t.default},function(t){m=t.default},function(t){d=t.default,y=t.vec2,b=t.PIE,w=t.TAU,x=t.throughFGUI},function(t){P=t.default},function(t){B=t.default},function(t){E=t.default,k=t.PhysicTags,C=t.upperHeight,j=t.upperWidth}],execute:function(){a._RF.push({},"04a1cyLcNpMKYLrDT1gLaIh","GameBullet",void 0);var A=t("default",function(t){function a(i){var e;return void 0===i&&(i=c.data[1]),(e=t.call(this)||this).ev=void 0,e.isKine=!0,e.isStatic=!1,e.motion=new n(0,-1),e.weapon=void 0,e.tag=k.player_bullet,e.atk=globalThis.atk||0,e.timer=0,e.bornPos=void 0,e.hitCount=0,e.bounceCount=0,e.enabled=!0,e.ignoreList=[],e.collBehavior={enemy:"cross",panel:"cross",drop:"cross"},e.update=function(t){e.enabled&&(e.timer+=t,e.updateRefresh(t),e.selfKillCheck())},e.refreshTime=0,e.ignorePanels=[],e.bulletIndex=void 0,e.lerpTime=0,e.moveDist=void 0,e.moveStep=0,e.chainHelper=void 0,e.pathFrom=void 0,e.pathTo=void 0,e.pathFreq=void 0,e.fireOffset=void 0,e.rayHit=!1,e.prevPos=n.ZERO,e.launchTime=0,e.orbitOffset=void 0,e.target=void 0,e.selfRot=0,e.projective=!0,e.config=i,e.speed=i.speed,e}i(a,t);var A=a.prototype;return A.init=function(){this.timer=0,this.ev.on("update",this.update)},A.updateRefresh=function(t){var i=this.attr.getBulletAttr("refresh");i<=0||(this.refreshTime+=t,this.refreshTime>i&&(this.ignoreList.length=0,this.refreshTime=0),this.rayHit=!1)},A.selfKillCheck=function(){var t=!1;(this.hitCount>=this.attr.getBulletAttr("hit")||this.timer>=this.attr.getBulletAttr("life")||d.distanceObject(this.bornPos,this.pos)>this.attr.getBulletAttr("range")||this.attr.getBulletAttr("bounce")>=0&&this.bounceCount>this.attr.getBulletAttr("bounce"))&&(t=!0),t&&(this.ev.emit("remove"),this.onKill())},A.onKill=function(){if(this.enabled=!1,this.config.effects.remove){var t=this.projectPos(this.pos),i=this.projectScale(this.pos);m.inst.playAnimEffect(this.config.effects.remove,t.x,t.y,this.game.scale*i,this.game.layers.bg)}this.dispose()},A.getView=function(){var t=this,i=a.pools[this.config.bullet]||new g((function(){return h.createObject(f.data.UIPackage,t.config.bullet)}),100,!1);a.pools[this.config.bullet]=i;var e=this.config.layer?v.inst.layers[this.config.layer]:v.inst.layers.bullet;return i.fetch(e)},A.createView=function(){var t=s(o().mark((function t(){var i,e,s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.view=this.config.bullet?this.getView():new l,x(this.view,(function(t){t instanceof l&&t.getTransitionAt(0)&&t.getTransitionAt(0).play()})),this.view.setPivot(.5,.5,!0),this.config.ballistic==c.E_ballistic.ray&&this.setPos(this.x,-2e3),this.ev.on("dispose",(function(){s.view&&(s.config.bullet?a.pools[s.config.bullet].return(s.view):s.view.dispose())})),i=this.attr.getBulletSize(),this.view.setSize(i.x*this.game.scale,i.y*this.game.scale),this.size.set(i.x*this.game.scale,i.y*this.game.scale),!this.config.effects.motion){t.next=18;break}return t.next=11,m.inst.createPref(this.config.effects.motion,this.view.node);case 11:if(e=t.sent,!this.disposed){t.next=15;break}return e.destroy(),t.abrupt("return");case 15:this.game.layers.bg.node.addChild(e),this.ev.on("update",(function(){e.setPosition(s.view.node.position)})),this.ev.on("dispose",(function(){e.destroy()}));case 18:this.view&&!this.view.isDisposed&&(this.view.rotation=0),this.ev.emit("created"),this.isColl&&this.createAABB(),this.updateView();case 22:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),A.onColl=function(t){var i=E.getObjectByID(t.other);if(i&&i.isColl&&i.enabled&&!this.ignoreList.includes(i)){switch(i.tag){case k.enemy:if(!this.enabled)return;var e=i;this.onHitEnemy(e);break;case k.panel:var s=i;if(this.ignorePanels.includes(s))return;this.ignorePanels.push(s),s.damaged(this);break;case k.drop:var o=i;if(this.ignorePanels.includes(o))return;this.ignorePanels.push(o),o.damaged(this),this.hitCount++,this.selfKillCheck()}this.ev.emit("coll",i)}},A.onHitEnemy=function(t){var i=this;(this.ev.emit("hit",t),this.attr.getBulletAttr("aoe")>0)?v.inst.getEnemeyInRange(t,this.attr.getBulletAttr("aoe")).forEach((function(t){i.ignoreList.push(t),t.damaged(i)})):(this.ignoreList.push(t),t.damaged(this));var e=this.config.ballistic==c.E_ballistic.chain||this.config.ballistic==c.E_ballistic.ray;if(this.config.sounds.hit&&u.audio.play(this.config.sounds.hit),this.config.effects.hit){var s=this.projectPos(t.pos),o=this.projectScale(t.pos);e&&m.inst.playAnimEffect(this.config.effects.hit,s.x,s.y,this.game.scale*o,this.game.layers.effect)}t.enabled||this.ev.emit("kill",t),e||this.hitCount++,t.config.isBoss&&(this.hitCount=Number.MAX_VALUE),this.selfKillCheck()},A.onWallBounce=function(t){if(this.bounceCount++,this.selfKillCheck(),!this.disposed){var i=this.config.params.dump||1;0!=t.normal.x?this.velocity.x*=-i:this.velocity.y*=-i,this.ev.emit("coll_wall")}},A.launch=function(){var t=s(o().mark((function t(i,e,s,a,n){var h,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=0),this.bindEvents(),this.weapon=i,this.setPos(e.x,e.y),h=this.attr.getBulletAttr("speed")/60,this.speed=h,this.bulletIndex=n,this.velocity.set(s.x*h,s.y*h),this.motion.set(s.x,s.y).normalize(),this.launchTime=Date.now()/1e3,this.bornPos=this.pos.clone(),this.isColl=!!this.attr.getBulletAttr("coll"),this.createView(),!this.disposed){t.next=15;break}return t.abrupt("return");case 15:if(this.view&&!this.view.isDisposed&&(this.view.rotation=0),this.target=a,!this.config.sounds.last){t.next=24;break}if(r=p.inst.playLastEffect(this.config.sounds.last)){t.next=21;break}return t.abrupt("return");case 21:this.game.ev.on("pause",(function(){r.node&&r.pause()})),this.game.ev.on("resume",(function(){r.node&&r.play()})),this.ev.on("dispose",(function(){r.node&&r.stop(),r.node&&r.node.destroy()}));case 24:this.init();case 25:case"end":return t.stop()}}),t,this)})));return function(i,e,s,o,a){return t.apply(this,arguments)}}(),A.processMoveState=function(t){switch(this.config.ballistic){case c.E_ballistic.dir:this.moveDir(t);break;case c.E_ballistic.lerp:this.moveLerp(t);break;case c.E_ballistic.line:this.moveLinear(t);break;case c.E_ballistic.line_g:this.moveLinearGravity(t);break;case c.E_ballistic.orbit:this.moveOrbit(t);break;case c.E_ballistic.ray:this.moveRay(t);break;case c.E_ballistic.path:this.movePath(t);break;case c.E_ballistic.chain:this.moveChain(t);break;case c.E_ballistic.floor:this.moveFloor(t);break;case c.E_ballistic.static:this.moveStatic(t);break;case c.E_ballistic.center:this.moveCenter(t)}},A.moveCenter=function(t){var i=this.config.params.enter||1,e=this.config.params.mid||5,s=this.config.params.exit||.5,o=this.config.params.offx||.5,a=y(.5*r.inst.width,r.inst.height*o);if(this.timer<i){var n=this.bornPos.clone().lerp(a,this.timer/i);this.setPos(n.x,n.y)}else if(this.timer<i+e){var h=a.lerp(a.clone().add2f(0,-100),(this.timer-i)/e);this.setPos(h.x,h.y)}else if(this.timer<i+e+s){var l=a.lerp(a.clone().add2f(0,-1e3),(this.timer-i-e)/s);this.setPos(l.x,l.y)}else this.dispose()},A.moveStatic=function(t){var i=y(this.config.params.offsetX,this.config.params.offsetY),e=v.inst.player.pos.clone().add(i);this.setPos(e.x,e.y)},A.moveFloor=function(t){this.prevPos=this.pos.clone(),this.velocity.x*=.98,this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=0,this.pos.clone().subtract(this.prevPos).length()<1&&Math.abs(v.inst.height-this.y-.5*this.h)<2&&(this.velocity.set(0,0),this.setPos(this.pos.x,v.inst.height-.5*this.h))},A.moveChain=function(t){var i=this;this.chainHelper||(this.chainHelper=new P(this,this.target),this.ev.on("dispose",(function(){var t;null==(t=i.chainHelper)||t.dispose(),i.chainHelper=null})),this.weapon.parent.ev.on("dispose",(function(){var t;null==(t=i.chainHelper)||t.dispose(),i.chainHelper=null}))),this.chainHelper.update()},A.movePath=function(t){if(!this.pathFrom){var i=d.randomRange(this.config.params.fromY,this.config.params.toY);this.pathFrom=y(this.config.params.fromX,i).multiply(y(v.inst.width,v.inst.height)),this.pathTo=y(this.config.params.toX,i).multiply(y(v.inst.width,v.inst.height)),this.pathFreq=this.config.params.freq}var e=this.pathFrom.clone().lerp(this.pathTo,.5*(Math.cos(this.timer*this.pathFreq)+1)),s=d.rad2angle(d.angleObject(e,this.pos))-90;if(this.view.rotation!=s){var o=d.randomRange(this.config.params.fromY,this.config.params.toY)*v.inst.height;this.pathFrom.y=o,this.pathTo.y=o,e.y=o}this.setPos(e.x,e.y),this.config.params.dir?this.view.rotation=s:this.view.rotation=0},A.moveRay=function(t){var i=this;if(this.bornPos&&this.motion){var e;v.inst.player;this.config.target==c.E_target.up?(e=this.weapon.getFirePoint(),this.view.rotation=0):(e=this.bornPos.clone(),this.view.rotation=d.rad2angle(d.angleObject(this.motion))-90),e.x=this.x;var s=e.clone().add(y(0,this.h).rotate(d.angleObject(this.motion)+.5*b)),o=y(.5*e.x+.5*s.x,.5*e.y+.5*s.y);if(this.setPos(o.x,o.y),!this.rayHit)for(var a=0;a<1;a++){var n=(a-1)*this.w*.5,h=e.x+n,r=e.y,l=s.x+n,f=s.y,u=this.world.querySegment(h,r,l,f,(function(t){return!(!t||t.tag!=k.enemy&&t.tag!=k.panel)}));u.length>0&&u.forEach((function(t){var e=E.getObjectByID(t),s=i.ignoreList.includes(e);e&&e.enabled&&e instanceof B&&!s&&(i.onHitEnemy(e),i.rayHit=!0)}))}}},A.moveOrbit=function(t){if(null==this.orbitOffset){var i=this.bulletIndex%this.attr.getBulletAttr("burst");this.orbitOffset=i*w/this.attr.getBulletAttr("burst")}var e=this.attr.getBulletAttr("speed"),s=y(e,0).rotate(this.timer*this.attr.getBulletAttr("torque")+this.orbitOffset),o=v.inst.player.pos.clone().add(s);this.setPos(o.x,o.y);var a=s.clone().subtract(this.prevPos);this.prevPos=s.clone(),this.config.bullet_rot?(this.selfRot+=this.config.bullet_rot*t,this.view.rotation=this.selfRot):this.view.rotation=d.rad2angle(d.angleObject(a))},A.moveLinear=function(t){this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.config.bullet_rot?(this.selfRot+=this.config.bullet_rot*t,this.view.rotation=this.selfRot):this.view.rotation=d.rad2angle(d.angleObject(this.velocity))-90,this.y<-50&&this.dispose()},A.moveLinearGravity=function(t){this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=d.rad2angle(d.angleObject(this.velocity))-90},A.moveDir=function(t){var i,e=-d.loopValue(d.angleObject(this.velocity),-b,b);i=this.target?-d.loopValue(d.angleObject(this.pos,this.target.pos),-b,b):-d.loopValue(d.angleObject(this.pos,v.inst.player.pos),-b,b);var s=Math.max(e,i)-Math.min(e,i)>b?-1:1;if(Math.abs(e-i)>.03){var o=i>e?s:-s,a=this.attr.getBulletAttr("torque")*t;this.velocity.rotate(o*a)}this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=d.rad2angle(d.angleObject(this.velocity))-90},A.movePower=function(t){if(this.target){var i=this.target.pos.clone().subtract(this.pos);this.motion.set(i.x,i.y).normalize();var e=this.motion.clone().multiplyScalar(this.speed*t);this.velocity.lerp(e,this.attr.getBulletAttr("force")*t)}this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y)},A.moveLerp=function(t){if(this.target&&(!this.lerpTime&&this.target&&(this.lerpTime=d.distanceObject(this.pos,this.target)/this.attr.getBulletAttr("speed")),this.target&&this.bornPos)){var i=Math.min(this.timer/this.lerpTime,1),e=this.bornPos.clone().lerp(this.target.pos,i);this.prevPos=this.pos.clone(),this.setPos(e.x,e.y);var s=this.pos.clone().subtract(this.prevPos);this.view.rotation=d.rad2angle(d.angleObject(s))-90}},A.playHitEffect=function(t){void 0===t&&(t=0);var i=this.config.effects.hit?this.config.effects.hit:"effect_hit";this.projectPos(this.pos),this.projectScale(this.pos);m.inst.playAnimEffect(i,this.view.x,this.view.y+t,this.game.scale,this.game.layers.effect)},A.projectView=function(){if(this.projective){var t=1625-this.game.view.height,i=C/j*375-1334,e=1.2*(this.pos.y+i+t)/(1334+i);e=Math.max(0,e),this.view.setScale(e,e);var s=(this.pos.x-375)*e+375,o=this.game.floorY-100,a=this.pos.y>=o?this.pos.y:Math.pow(Math.max(0,this.pos.y/o),1.5)*o;this.view.setPosition(s,a),isNaN(a)}else this.view.setPosition(this.x,this.y)},e(a,[{key:"attr",get:function(){return this.weapon.attr}}]),a}(E));A.pools={},A.rayTargetMap={},a._RF.pop()}}}));

System.register("chunks:///_virtual/GameBullet2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./BattleManager2.ts","./DamageBoardPool2.ts","./util3.ts","./GameObject.ts","./ShoudaqiaoBulletConfig.ts","./ShoudaqiaoGameConst.ts","./YT.ts","./AudioManager2.ts","./EffectManager.ts"],(function(t){var i,e,s,o,a,n,h,r,l,c,f,u,p,v,g,m,d,y,b,w,x,P,B,k;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,n=t.Vec2},function(t){h=t.UIPackage,r=t.GComponent},function(t){l=t.default},function(t){c=t.default},function(t){f=t.default,u=t.vec2,p=t.TAU,v=t.PIE,g=t.throughFGUI},function(t){m=t.default,d=t.PhysicTags,y=t.upperHeight,b=t.upperWidth},function(t){w=t.ShoudaqiaoBulletConfig},function(t){x=t.ShoudaqiaoGameConst},function(t){P=t.YT},function(t){B=t.default},function(t){k=t.default}],execute:function(){a._RF.push({},"25b6cR+twNF95aZquSeXOt+","GameBullet",void 0),t("default",function(t){function a(i){var e;return(e=t.call(this)||this).ev=void 0,e.isKine=!0,e.isStatic=!1,e.motion=new n(0,-1),e.weapon=void 0,e.tag=d.player_bullet,e.atk=globalThis.atk||0,e.timer=0,e.bornPos=void 0,e.hitCount=0,e.bounceCount=0,e.enabled=!0,e.ignoreList=[],e.projective=!0,e.collBehavior={enemy:"cross",panel:"cross",bottle:"cross",chest:"cross"},e.update=function(t){e.enabled&&(e.timer+=t,e.updateRefresh(t),e.selfKillCheck())},e.refreshTime=0,e.ignorePanels=[],e.bulletIndex=void 0,e.lerpTime=0,e.pathFrom=void 0,e.pathTo=void 0,e.pathFreq=void 0,e.fireOffset=void 0,e.prevPos=n.ZERO,e.launchTime=0,e.orbitOffset=void 0,e.target=void 0,e.selfRot=0,e.moveDist=void 0,e.moveStep=0,e.config=i,e.speed=i.speed,e}i(a,t);var A=a.prototype;return A.init=function(){this.timer=0,this.ev.on("update",this.update)},A.updateRefresh=function(t){var i=this.attr.getBulletAttr("refresh");i<=0||(this.refreshTime+=t,this.refreshTime>i&&(this.ignoreList.length=0,this.refreshTime=0))},A.selfKillCheck=function(){var t=!1;(this.hitCount>=this.attr.getBulletAttr("hit")||this.timer>=this.attr.getBulletAttr("life")||f.distanceObject(this.bornPos,this.pos)>this.attr.getBulletAttr("range")||this.attr.getBulletAttr("bounce")>=0&&this.bounceCount>this.attr.getBulletAttr("bounce"))&&(t=!0),t&&(this.ev.emit("remove"),this.onKill())},A.onKill=function(){this.enabled=!1,this.config.effects.remove&&k.inst.playAnimEffect(this.config.effects.remove,this.x,this.y,this.game.scale,this.game.layers.bg),this.dispose()},A.getView=function(){var t=this,i=this.weapon.fixed?x.data.PlantsPack:x.data.UIPackage,e=a.pools[this.config.bullet]||new c((function(){return h.createObject(i,t.config.bullet)}),100,!1);a.pools[this.config.bullet]=e;var s=this.weapon.fixed?l.inst.layers.part:l.inst.layers.bullet;return e.fetch(s)},A.createView=function(){var t=s(o().mark((function t(){var i,e,s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.view=this.config.bullet?this.getView():new r,g(this.view,(function(t){t instanceof r&&t.getTransitionAt(0)&&t.getTransitionAt(0).play()})),this.view.setPivot(.5,.5,!0),this.ev.on("dispose",(function(){if(s.config.bullet){var t=a.pools[s.config.bullet];s.view instanceof r&&s.view._transitions.forEach((function(t){return t.stop(!0)})),t.return(s.view)}else s.view.dispose()})),i=this.attr.getBulletSize(),this.view.setSize(i.x*this.game.scale,i.y*this.game.scale),this.size.set(i.x*this.game.scale,i.y*this.game.scale),!this.config.effects.motion){t.next=17;break}return t.next=10,k.inst.createPref(this.config.effects.motion,this.view.node);case 10:if(e=t.sent,!this.disposed){t.next=14;break}return e.destroy(),t.abrupt("return");case 14:this.game.layers.bg.node.addChild(e),this.ev.on("update",(function(){e.setPosition(s.view.node.position)})),this.ev.on("dispose",(function(){e.destroy()}));case 17:this.view&&!this.view.isDisposed&&(this.view.rotation=0),this.ev.emit("created"),this.isColl&&this.createAABB(),this.updateView();case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),A.onColl=function(t){var i=m.getObjectByID(t.other);if(i&&i.isColl&&i.enabled&&!this.ignoreList.includes(i)){switch(i.tag){case d.enemy:if(!this.enabled)return;var e=i;this.onHitEnemy(e);break;case d.panel:var s=i;if(this.ignorePanels.includes(s))return;this.ignorePanels.push(s),s.onHit(this);break;case d.bottle:i.onHit(this);break;case d.chest:i.damaged(this)}this.ev.emit("coll",i)}},A.onHitEnemy=function(t){var i=this;if(this.ev.emit("hit",t),this.attr.getBulletAttr("aoe")>0){var e=l.inst.getEnemeyInRange(t,this.attr.getBulletAttr("aoe")),s=l.inst.getDragonInRange(t,this.attr.getBulletAttr("aoe"));[].concat(e,s).forEach((function(t){i.ignoreList.push(t),t.damaged(i)}))}else this.ignoreList.push(t),t.damaged(this);if(this.config.sounds.hit&&P.audio.playByName(this.config.sounds.hit),this.config.effects.hit){var o=this.weapon.fixed?this.game.layers.part:this.game.layers.effect;k.inst.playAnimEffect(this.config.effects.hit,this.view.x,this.view.y,this.game.scale,o)}t.enabled||this.ev.emit("kill",t),this.hitCount++,this.selfKillCheck()},A.onWallBounce=function(t){if(this.bounceCount++,this.selfKillCheck(),!this.disposed){var i=this.config.params.dump||1;0!=t.normal.x?this.velocity.x*=-i:this.velocity.y*=-i,this.ev.emit("coll_wall")}},A.launch=function(){var t=s(o().mark((function t(i,e,s,a,n){var h,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),this.bindEvents(),this.weapon=i,this.setPos(e.x,e.y),h=this.attr.getBulletAttr("speed")/60,this.speed=h,this.bulletIndex=n,this.velocity.set(s.x*h,s.y*h),this.motion.set(s.x,s.y).normalize(),this.launchTime=Date.now()/1e3,this.bornPos=this.pos.clone(),this.isColl=!!this.attr.getBulletAttr("coll"),t.next=14,this.createView();case 14:if(!this.disposed){t.next=16;break}return t.abrupt("return");case 16:if(this.view&&(this.view.rotation=0),this.target=a,!this.config.sounds.last){t.next=25;break}if(r=B.inst.playLastEffect(this.config.sounds.last)){t.next=22;break}return t.abrupt("return");case 22:this.game.ev.on("pause",(function(){r.node&&r.pause()})),this.game.ev.on("resume",(function(){r.node&&r.play()})),this.ev.on("dispose",(function(){r.node&&r.stop(),r.node&&r.node.destroy()}));case 25:this.init();case 26:case"end":return t.stop()}}),t,this)})));return function(i,e,s,o,a){return t.apply(this,arguments)}}(),A.processMoveState=function(t){switch(this.config.ballistic){case w.E_ballistic.dir:this.moveDir(t);break;case w.E_ballistic.lerp:this.moveLerp(t);break;case w.E_ballistic.line:this.moveLinear(t);break;case w.E_ballistic.line_g:this.moveLinearGravity(t);break;case w.E_ballistic.orbit:this.moveOrbit(t);break;case w.E_ballistic.ray:this.moveRay(t);break;case w.E_ballistic.path:this.movePath(t);break;case w.E_ballistic.chain:this.moveChain(t);break;case w.E_ballistic.floor:this.moveFloor(t);break;case w.E_ballistic.static:this.moveStatic(t);break;case w.E_ballistic.center:this.moveCenter(t)}},A.moveStatic=function(t){var i=u(this.config.params.offsetX,this.config.params.offsetY),e=l.inst.player.pos.clone().add(i);this.setPos(e.x,e.y)},A.moveFloor=function(t){this.prevPos=this.pos.clone(),this.velocity.x*=.98,this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=0,this.pos.clone().subtract(this.prevPos).length()<1&&Math.abs(l.inst.height-this.y-.5*this.h)<2&&(this.velocity.set(0,0),this.setPos(this.pos.x,l.inst.height-.5*this.h))},A.moveChain=function(t){},A.movePath=function(t){if(!this.pathFrom){var i=f.randomRange(this.config.params.fromY,this.config.params.toY);this.pathFrom=u(this.config.params.fromX,i).multiply(u(l.inst.width,l.inst.height)),this.pathTo=u(this.config.params.toX,i).multiply(u(l.inst.width,l.inst.height)),this.pathFreq=this.config.params.freq}var e=this.pathFrom.clone().lerp(this.pathTo,.5*(Math.cos(this.timer*this.pathFreq)+1)),s=f.rad2angle(f.angleObject(e,this.pos))-90;if(this.view.rotation!=s){var o=f.randomRange(this.config.params.fromY,this.config.params.toY)*l.inst.height;this.pathFrom.y=o,this.pathTo.y=o,e.y=o}this.setPos(e.x,e.y),this.config.params.dir?this.view.rotation=s:this.view.rotation=0},A.moveRay=function(t){var i=this;if(this.bornPos&&this.motion)if(this.weapon.disposed)this.dispose();else{var e;l.inst.player;this.config.target==w.E_target.up?(e=u(375,this.game.height),this.view.rotation=0):(e=this.bornPos.clone(),this.view.rotation=f.rad2angle(f.angleObject(this.motion))-90);var s=u(375,0),o=u(.5*e.x+.5*s.x,.5*e.y+.5*s.y);this.projective=!1,this.setPos(o.x,o.y);var a=this.world.queryRect(e.x-125,0,250,this.game.height,(function(t){return!(!t||t.tag!=d.enemy)}));a.length>0&&a.forEach((function(t){var e=m.getObjectByID(t);e&&e.enabled&&!i.ignoreList.includes(e)&&i.onHitEnemy(e)}))}},A.moveOrbit=function(t){if(null==this.orbitOffset){var i=this.bulletIndex%this.attr.getBulletAttr("burst");this.orbitOffset=i*p/this.attr.getBulletAttr("burst")}var e=this.attr.getBulletAttr("speed"),s=u(e,0).rotate(this.timer*this.attr.getBulletAttr("torque")+this.orbitOffset),o=l.inst.player.pos.clone().add(s);this.setPos(o.x,o.y);var a=s.clone().subtract(this.prevPos);this.prevPos=s.clone(),this.config.bullet_rot?(this.selfRot+=this.config.bullet_rot*t,this.view.rotation=this.selfRot):this.view.rotation=f.rad2angle(f.angleObject(a))},A.moveLinear=function(t){this.collBehavior.enemy=this.y<this.game.enemyY+100?"cross":null,this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.config.bullet_rot?(this.selfRot+=this.config.bullet_rot*t,this.view.rotation=this.selfRot):this.view.rotation=f.rad2angle(f.angleObject(this.velocity))-90,this.y<-50&&this.dispose()},A.moveLinearGravity=function(t){this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=f.rad2angle(f.angleObject(this.velocity))-90},A.moveDir=function(t){var i,e=-f.loopValue(f.angleObject(this.velocity),-v,v);i=this.target?-f.loopValue(f.angleObject(this.pos,this.target.pos),-v,v):-f.loopValue(f.angleObject(this.pos,l.inst.player.pos),-v,v);var s=Math.max(e,i)-Math.min(e,i)>v?-1:1;if(Math.abs(e-i)>.03){var o=i>e?s:-s,a=this.attr.getBulletAttr("torque")*t;this.velocity.rotate(o*a)}this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=f.rad2angle(f.angleObject(this.velocity))-90},A.movePower=function(t){if(this.target){var i=this.target.pos.clone().subtract(this.pos);this.motion.set(i.x,i.y).normalize();var e=this.motion.clone().multiplyScalar(this.speed*t);this.velocity.lerp(e,this.attr.getBulletAttr("force")*t)}this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y)},A.moveLerp=function(t){if(this.target&&(!this.lerpTime&&this.target&&(this.lerpTime=f.distanceObject(this.pos,this.target)/this.attr.getBulletAttr("speed")),this.target&&this.bornPos)){var i=Math.min(this.timer/this.lerpTime,1),e=this.bornPos.clone().lerp(this.target.pos,i);this.prevPos=this.pos.clone(),this.setPos(e.x,e.y);var s=this.pos.clone().subtract(this.prevPos);this.view.rotation=f.rad2angle(f.angleObject(s))-90}},A.moveCenter=function(t){var i=this.config.params.enter||1,e=this.config.params.mid||5,s=this.config.params.exit||.5,o=this.config.params.offx||.5,a=u(.5*this.game.view.width,this.game.view.height*o);if(this.timer<i){var n=this.bornPos.clone().lerp(a,this.timer/i);this.setPos(n.x,n.y)}else if(this.timer<i+e){var h=a.lerp(a.clone().add2f(0,-100),(this.timer-i)/e);this.setPos(h.x,h.y)}else if(this.timer<i+e+s){var r=a.lerp(a.clone().add2f(0,-1e3),(this.timer-i-e)/s);this.setPos(r.x,r.y)}else this.dispose()},A.projectView=function(){if(this.projective){var t=1625-this.game.view.height,i=y/b*375-1334,e=1.2*(this.pos.y+i+t)/(1334+i);e=Math.max(0,e),this.view.setScale(e,e);var s=(this.pos.x-375)*e+375,o=this.game.floorY-100,a=this.pos.y>=o?this.pos.y:Math.pow(Math.max(0,this.pos.y/o),1.5)*o;this.view.setPosition(s,a),isNaN(a)}else this.view.setPosition(this.x,this.y)},e(a,[{key:"attr",get:function(){return this.weapon.attr}}]),a}(m)).pools={},a._RF.pop()}}}));

System.register("chunks:///_virtual/GameBullet22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoBulletConfig2.ts","./ShoudaqiaoGameConst2.ts","./YT.ts","./fairygui.mjs","./AudioManager22.ts","./BattleManager22.ts","./DamageBoardPool22.ts","./EffectManager22.ts","./util22.ts","./GameObject22.ts"],(function(t){var i,e,s,o,a,n,h,r,l,c,f,u,p,v,g,m,d,y,b,w,x,P,B,k;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,n=t.Vec2},function(t){h=t.ShoudaqiaoBulletConfig},function(t){r=t.ShoudaqiaoGameConst},function(t){l=t.YT},function(t){c=t.UIPackage,f=t.GComponent},function(t){u=t.default},function(t){p=t.default},function(t){v=t.default},function(t){g=t.default},function(t){m=t.default,d=t.vec2,y=t.TAU,b=t.PIE,w=t.throughFGUI},function(t){x=t.default,P=t.PhysicTags,B=t.upperHeight,k=t.upperWidth}],execute:function(){a._RF.push({},"d5910QftdRDO69LyREsXFm+","GameBullet2",void 0),t("default",function(t){function a(i){var e;return(e=t.call(this)||this).ev=void 0,e.isKine=!0,e.isStatic=!1,e.motion=new n(0,-1),e.weapon=void 0,e.tag=P.player_bullet,e.atk=globalThis.atk||0,e.timer=0,e.bornPos=void 0,e.hitCount=0,e.bounceCount=0,e.enabled=!0,e.ignoreList=[],e.projective=!0,e.collBehavior={enemy:"cross",panel:"cross",bottle:"cross",chest:"cross",dropPanel:"cross"},e.update=function(t){e.enabled&&(e.timer+=t,e.updateRefresh(t),e.selfKillCheck())},e.refreshTime=0,e.ignorePanels=[],e.ignoreDropPanels=[],e.bulletIndex=void 0,e.lerpTime=0,e.pathFrom=void 0,e.pathTo=void 0,e.pathFreq=void 0,e.fireOffset=void 0,e.prevPos=n.ZERO,e.launchTime=0,e.orbitOffset=void 0,e.target=void 0,e.selfRot=0,e.moveDist=void 0,e.moveStep=0,e.config=i,e.speed=i.speed,e}i(a,t);var E=a.prototype;return E.init=function(){this.timer=0,this.ev.on("update",this.update)},E.updateRefresh=function(t){var i=this.attr.getBulletAttr("refresh");i<=0||(this.refreshTime+=t,this.refreshTime>i&&(this.ignoreList.length=0,this.refreshTime=0))},E.selfKillCheck=function(){var t=!1;(this.hitCount>=this.attr.getBulletAttr("hit")||this.timer>=this.attr.getBulletAttr("life")||m.distanceObject(this.bornPos,this.pos)>this.attr.getBulletAttr("range")||this.attr.getBulletAttr("bounce")>=0&&this.bounceCount>this.attr.getBulletAttr("bounce"))&&(t=!0),t&&(this.ev.emit("remove"),this.onKill())},E.onKill=function(){this.enabled=!1,this.config.effects.remove&&g.inst.playAnimEffect(this.config.effects.remove,this.x,this.y,this.game.scale,this.game.layers.bg),this.dispose()},E.getView=function(){var t=this,i=this.weapon.fixed?r.data.PlantsPack:r.data.UIPackage,e=a.pools[this.config.bullet]||new v((function(){return c.createObject(i,t.config.bullet)}),100,!1);a.pools[this.config.bullet]=e;var s=this.weapon.fixed?p.inst.layers.part:p.inst.layers.bullet;return e.fetch(s)},E.createView=function(){var t=s(o().mark((function t(){var i,e,s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.view=this.config.bullet?this.getView():new f,w(this.view,(function(t){t instanceof f&&t.getTransitionAt(0)&&t.getTransitionAt(0).play()})),this.view.setPivot(.5,.5,!0),this.ev.on("dispose",(function(){if(s.config.bullet){var t=a.pools[s.config.bullet];s.view instanceof f&&s.view._transitions.forEach((function(t){return t.stop(!0)})),t.return(s.view)}else s.view.dispose()})),i=this.attr.getBulletSize(),this.view.setSize(i.x*this.game.scale,i.y*this.game.scale),this.size.set(i.x*this.game.scale,i.y*this.game.scale),!this.config.effects.motion){t.next=17;break}return t.next=10,g.inst.createPref(this.config.effects.motion,this.view.node);case 10:if(e=t.sent,!this.disposed){t.next=14;break}return e.destroy(),t.abrupt("return");case 14:this.game.layers.bg.node.addChild(e),this.ev.on("update",(function(){e.setPosition(s.view.node.position)})),this.ev.on("dispose",(function(){e.destroy()}));case 17:this.view&&!this.view.isDisposed&&(this.view.rotation=0),this.ev.emit("created"),this.isColl&&this.createAABB(),this.updateView();case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),E.onColl=function(t){var i=x.getObjectByID(t.other);if(i&&i.isColl&&i.enabled&&!this.ignoreList.includes(i)){switch(i.tag){case P.enemy:if(!this.enabled)return;var e=i;this.onHitEnemy(e);break;case P.panel:var s=i;if(this.ignorePanels.includes(s))return;this.ignorePanels.push(s),s.onHit(this);break;case P.dropPanel:var o=i;if(this.ignoreDropPanels.includes(o))return;this.ignoreDropPanels.push(o),o.onHit(this);break;case P.bottle:i.onHit(this);break;case P.chest:i.damaged(this)}this.ev.emit("coll",i)}},E.onHitEnemy=function(t){var i=this;if(this.ev.emit("hit",t),this.attr.getBulletAttr("aoe")>0){var e=p.inst.getEnemeyInRange(t,this.attr.getBulletAttr("aoe")),s=p.inst.getDragonInRange(t,this.attr.getBulletAttr("aoe"));[].concat(e,s).forEach((function(t){i.ignoreList.push(t),t.damaged(i)}))}else this.ignoreList.push(t),t.damaged(this);if(this.config.sounds.hit&&l.audio.playByName(this.config.sounds.hit),this.config.effects.hit){var o=this.weapon.fixed?this.game.layers.part:this.game.layers.effect;g.inst.playAnimEffect(this.config.effects.hit,this.view.x,this.view.y,this.game.scale,o)}t.enabled||this.ev.emit("kill",t),this.hitCount++,this.selfKillCheck()},E.onWallBounce=function(t){if(this.bounceCount++,this.selfKillCheck(),!this.disposed){var i=this.config.params.dump||1;0!=t.normal.x?this.velocity.x*=-i:this.velocity.y*=-i,this.ev.emit("coll_wall")}},E.launch=function(){var t=s(o().mark((function t(i,e,s,a,n){var h,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),this.bindEvents(),this.weapon=i,this.setPos(e.x,e.y),h=this.attr.getBulletAttr("speed")/60,this.speed=h,this.bulletIndex=n,this.velocity.set(s.x*h,s.y*h),this.motion.set(s.x,s.y).normalize(),this.launchTime=Date.now()/1e3,this.bornPos=this.pos.clone(),this.isColl=!!this.attr.getBulletAttr("coll"),t.next=14,this.createView();case 14:if(!this.disposed){t.next=16;break}return t.abrupt("return");case 16:if(this.view&&(this.view.rotation=0),this.target=a,!this.config.sounds.last){t.next=25;break}if(r=u.inst.playLastEffect(this.config.sounds.last)){t.next=22;break}return t.abrupt("return");case 22:this.game.ev.on("pause",(function(){r.node&&r.pause()})),this.game.ev.on("resume",(function(){r.node&&r.play()})),this.ev.on("dispose",(function(){r.node&&r.stop(),r.node&&r.node.destroy()}));case 25:this.init();case 26:case"end":return t.stop()}}),t,this)})));return function(i,e,s,o,a){return t.apply(this,arguments)}}(),E.processMoveState=function(t){switch(this.config.ballistic){case h.E_ballistic.dir:this.moveDir(t);break;case h.E_ballistic.lerp:this.moveLerp(t);break;case h.E_ballistic.line:this.moveLinear(t);break;case h.E_ballistic.line_g:this.moveLinearGravity(t);break;case h.E_ballistic.orbit:this.moveOrbit(t);break;case h.E_ballistic.ray:this.moveRay(t);break;case h.E_ballistic.path:this.movePath(t);break;case h.E_ballistic.chain:this.moveChain(t);break;case h.E_ballistic.floor:this.moveFloor(t);break;case h.E_ballistic.static:this.moveStatic(t);break;case h.E_ballistic.center:this.moveCenter(t)}},E.moveStatic=function(t){var i=d(this.config.params.offsetX,this.config.params.offsetY),e=p.inst.player.pos.clone().add(i);this.setPos(e.x,e.y)},E.moveFloor=function(t){this.prevPos=this.pos.clone(),this.velocity.x*=.98,this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=0,this.pos.clone().subtract(this.prevPos).length()<1&&Math.abs(p.inst.height-this.y-.5*this.h)<2&&(this.velocity.set(0,0),this.setPos(this.pos.x,p.inst.height-.5*this.h))},E.moveChain=function(t){},E.movePath=function(t){if(!this.pathFrom){var i=m.randomRange(this.config.params.fromY,this.config.params.toY);this.pathFrom=d(this.config.params.fromX,i).multiply(d(p.inst.width,p.inst.height)),this.pathTo=d(this.config.params.toX,i).multiply(d(p.inst.width,p.inst.height)),this.pathFreq=this.config.params.freq}var e=this.pathFrom.clone().lerp(this.pathTo,.5*(Math.cos(this.timer*this.pathFreq)+1)),s=m.rad2angle(m.angleObject(e,this.pos))-90;if(this.view.rotation!=s){var o=m.randomRange(this.config.params.fromY,this.config.params.toY)*p.inst.height;this.pathFrom.y=o,this.pathTo.y=o,e.y=o}this.setPos(e.x,e.y),this.config.params.dir?this.view.rotation=s:this.view.rotation=0},E.moveRay=function(t){var i=this;if(this.bornPos&&this.motion)if(this.weapon.disposed)this.dispose();else{var e;p.inst.player;this.config.target==h.E_target.up?(e=d(375,this.game.height),this.view.rotation=0):(e=this.bornPos.clone(),this.view.rotation=m.rad2angle(m.angleObject(this.motion))-90);var s=d(375,0),o=d(.5*e.x+.5*s.x,.5*e.y+.5*s.y);this.projective=!1,this.setPos(o.x,o.y);var a=this.world.queryRect(e.x-125,0,250,this.game.height,(function(t){return!(!t||t.tag!=P.enemy)}));a.length>0&&a.forEach((function(t){var e=x.getObjectByID(t);e&&e.enabled&&!i.ignoreList.includes(e)&&i.onHitEnemy(e)}))}},E.moveOrbit=function(t){if(null==this.orbitOffset){var i=this.bulletIndex%this.attr.getBulletAttr("burst");this.orbitOffset=i*y/this.attr.getBulletAttr("burst")}var e=this.attr.getBulletAttr("speed"),s=d(e,0).rotate(this.timer*this.attr.getBulletAttr("torque")+this.orbitOffset),o=p.inst.player.pos.clone().add(s);this.setPos(o.x,o.y);var a=s.clone().subtract(this.prevPos);this.prevPos=s.clone(),this.config.bullet_rot?(this.selfRot+=this.config.bullet_rot*t,this.view.rotation=this.selfRot):this.view.rotation=m.rad2angle(m.angleObject(a))},E.moveLinear=function(t){this.collBehavior.enemy=this.y<this.game.enemyY+100?"cross":null,this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.config.bullet_rot?(this.selfRot+=this.config.bullet_rot*t,this.view.rotation=this.selfRot):this.view.rotation=m.rad2angle(m.angleObject(this.velocity))-90,this.y<-50&&this.dispose()},E.moveLinearGravity=function(t){this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=m.rad2angle(m.angleObject(this.velocity))-90},E.moveDir=function(t){var i,e=-m.loopValue(m.angleObject(this.velocity),-b,b);i=this.target?-m.loopValue(m.angleObject(this.pos,this.target.pos),-b,b):-m.loopValue(m.angleObject(this.pos,p.inst.player.pos),-b,b);var s=Math.max(e,i)-Math.min(e,i)>b?-1:1;if(Math.abs(e-i)>.03){var o=i>e?s:-s,a=this.attr.getBulletAttr("torque")*t;this.velocity.rotate(o*a)}this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y),this.view.rotation=m.rad2angle(m.angleObject(this.velocity))-90},E.movePower=function(t){if(this.target){var i=this.target.pos.clone().subtract(this.pos);this.motion.set(i.x,i.y).normalize();var e=this.motion.clone().multiplyScalar(this.speed*t);this.velocity.lerp(e,this.attr.getBulletAttr("force")*t)}this.setPos(this.pos.x+this.velocity.x,this.pos.y+this.velocity.y)},E.moveLerp=function(t){if(this.target&&(!this.lerpTime&&this.target&&(this.lerpTime=m.distanceObject(this.pos,this.target)/this.attr.getBulletAttr("speed")),this.target&&this.bornPos)){var i=Math.min(this.timer/this.lerpTime,1),e=this.bornPos.clone().lerp(this.target.pos,i);this.prevPos=this.pos.clone(),this.setPos(e.x,e.y);var s=this.pos.clone().subtract(this.prevPos);this.view.rotation=m.rad2angle(m.angleObject(s))-90}},E.moveCenter=function(t){var i=this.config.params.enter||1,e=this.config.params.mid||5,s=this.config.params.exit||.5,o=this.config.params.offx||.5,a=d(.5*this.game.view.width,this.game.view.height*o);if(this.timer<i){var n=this.bornPos.clone().lerp(a,this.timer/i);this.setPos(n.x,n.y)}else if(this.timer<i+e){var h=a.lerp(a.clone().add2f(0,-100),(this.timer-i)/e);this.setPos(h.x,h.y)}else if(this.timer<i+e+s){var r=a.lerp(a.clone().add2f(0,-1e3),(this.timer-i-e)/s);this.setPos(r.x,r.y)}else this.dispose()},E.projectView=function(){if(this.projective){var t=1625-this.game.view.height,i=B/k*375-1334,e=1.2*(this.pos.y+i+t)/(1334+i);e=Math.max(0,e),this.view.setScale(e,e);var s=(this.pos.x-375)*e+375,o=this.game.floorY-100,a=this.pos.y>=o?this.pos.y:Math.pow(Math.max(0,this.pos.y/o),1.5)*o;this.view.setPosition(s,a),isNaN(a)}else this.view.setPosition(this.x,this.y)},e(a,[{key:"attr",get:function(){return this.weapon.attr}}]),a}(x)).pools={},a._RF.pop()}}}));

System.register("chunks:///_virtual/GameChainHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritGameConst.ts","./BattleManager.ts","./util2.ts"],(function(t){var e,i,s,n,a,r,o,h;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){s=t.GComponent,n=t.UIPackage},function(t){a=t.TreeSpiritGameConst},function(t){r=t.default},function(t){o=t.default,h=t.repeat}],execute:function(){i._RF.push({},"c837aodBR5HFriil0t1DTYg","GameChainHelper",void 0);t("default",function(){function t(t,e){this.targets=[],this.target=void 0,this.pos=void 0,this.bullet=t,this.target=e,this.init()}var i=t.prototype;return i.update=function(){this.pos=this.bullet.weapon.getFirePoint(),this.view?this.updateView():this.init(),this.checkTargets()},i.checkTargets=function(){for(var t=0;t<this.targets.length;t++){var e=this.targets[t];if(this.bullet.ignoreList.includes(e)||this.bullet.onHitEnemy(e),0==t&&!e.enabled)return this.targets.length=0,this.target=null,void this.init();e.enabled||(this.targets=this.targets.splice(t),this.setSubTargets(),this.createViews())}},i.getRandomEnemey=function(){var t=this.game.enemies[0];return t&&!t.isChainTarget?t:o.pickRandom(this.game.enemies.filter((function(e){return!e.disposed&&!e.isChainTarget&&e!=t})))},i.init=function(){this.pos=this.bullet.weapon.getFirePoint(),this.target||(this.target=this.getRandomEnemey()),this.target?(this.target.isChainTarget=!0,this.targets.push(this.target),this.setSubTargets(),this.targets.length>0&&this.createViews()):this.view&&(this.view.dispose(),this.view=null)},i.createViews=function(){this.view&&this.view.dispose();var t=new s;this.view=t,r.inst.layers.bullet.addChild(t);for(var e=0;e<this.targets.length;e++){var i=this.targets[e];if(0==e){var h=this.bullet.config.effects.fire;if(h){var g=n.createObjectFromURL("ui://"+a.data.UIPackage+"/"+h);g.setPivot(.5,.5,!0),g.setPosition(this.pos.x,this.pos.y),t.addChild(g)}var l=o.distance(i.x,i.y,this.pos.x,this.pos.y),u=o.getAngle(this.pos.x,this.pos.y,i.x,i.y);(f=n.createObjectFromURL("ui://"+a.data.UIPackage+"/"+this.bullet.config.bullet)).setPivot(0,.5,!0),f.setPosition(this.pos.x,this.pos.y),f.rotation=o.rad2angle(u),f.width=l,t.addChild(f)}else{var c=this.targets[e-1];if(c){var f;l=o.distance(i.x,i.y,c.x,c.y),u=o.getAngle(c.x,c.y,i.x,i.y);(f=n.createObjectFromURL("ui://"+a.data.UIPackage+"/"+this.bullet.config.bullet)).setPivot(0,.5,!0),f.setPosition(c.x,c.y),f.rotation=o.rad2angle(u),f.width=l,t.addChild(f)}}}},i.getTargetCount=function(){return this.bullet.config.hit},i.setSubTargets=function(){var t=this,e=this.getTargetCount()-this.targets.length;if(e>0){this.targets[this.targets.length-1];h(e,(function(){var e=t.game.enemies.filter((function(e){return!t.targets.includes(e)})),i=o.pickRandom(e);i&&(t.targets.push(i),i)}))}},i.updateView=function(){for(var t=this,e=-1,i=function(){return e+=1,t.view.getChildAt(e)},s=0;s<this.targets.length;s++){var n=this.targets[s];if(0==s){if(this.bullet.config.effects.fire)i().setPosition(this.pos.x,this.pos.y);var a=o.distance(n.x,n.y,this.pos.x,this.pos.y),r=o.getAngle(this.pos.x,this.pos.y,n.x,n.y);(g=i()).setPosition(this.pos.x,this.pos.y),g.rotation=o.rad2angle(r),g.width=a}else{var h=this.targets[s-1];if(h){var g;a=o.distance(n.x,n.y,h.x,h.y),r=o.getAngle(h.x,h.y,n.x,n.y);(g=i()).setPosition(h.x,h.y),g.rotation=o.rad2angle(r),g.width=a}}}},i.dispose=function(){var t;this.game.enemies.forEach((function(t){return t.isChainTarget=!1})),null==(t=this.view)||t.dispose()},e(t,[{key:"view",get:function(){return this.bullet.view},set:function(t){this.bullet.view=t}},{key:"game",get:function(){return this.bullet.game}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GameChest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts","./util3.ts","./ShoudaqiaoTalentConfig.ts","./ShoudaqiaoChestConfig2.ts","./ShoudaqiaoGameConst.ts","./GameDrop2.ts","./AudioManager2.ts","./EffectManager.ts"],(function(t){var i,e,s,n,o,a,h,c,f,u,r,d,l;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){n=t.cclegacy},function(t){o=t.PhysicTags,a=t.default},function(t){h=t.default},function(t){c=t.ShoudaqiaoTalentConfig},function(t){f=t.ShoudaqiaoChestConfig},function(t){u=t.ShoudaqiaoGameConst},function(t){r=t.default},function(t){d=t.default},function(t){l=t.default}],execute:function(){n._RF.push({},"db95es3mhJIx4TV+0yOMAu+","GameChest",void 0);t("default",function(t){function n(i){var e;return(e=t.call(this)||this).isStatic=!0,e.isKine=!1,e.isColl=!0,e.tag=o.chest,e.view=void 0,e.cd=void 0,e.noDMG=!1,e.configs=void 0,e.config=void 0,e.talent=void 0,e.index=0,e.hp=0,e.v=i,e.view=i,e.configs=f.dataList.filter((function(t){return t.group==e.view.name})),e.config=e.configs[0],e}i(n,t);var a=n.prototype;return a.bindView=function(){var t=e(s().mark((function t(){var i=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.on("dispose",(function(){return i.view.dispose()})),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.createAABB(),this.setPos(this.view.x,this.view.y);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.start=function(){this.bindEvents(),this.bindView(),this.updateStep()},a.updateStep=function(){this.config=this.configs[this.index],this.hp=this.config.hp,this.view.title=this.hp.toFixed(0),this.talent=c.data[h.pickRandom(this.config.talents)],this.view.m_item_slot.icon="ui://"+u.data.RESPackage+"/"+this.talent.drop,this.view.m_item_slot.title=this.talent.desc},a.createDrop=function(){var t=new r(this.talent),i=h.getRelativePos(this.game.view,this.view.m_item_slot);t.init(i.x,i.y)},a.damaged=function(t){if(this.hp-=1,this.view.title=this.hp.toFixed(0),this.view.m_hit.play(),t.dispose(),t.config.sounds.hit&&d.inst.playEffect(t.config.sounds.hit),t.config.effects.hit){var i=t.weapon.fixed?this.game.layers.part:this.game.layers.effect;l.inst.playAnimEffect(t.config.effects.hit,t.view.x,t.view.y+60,1,i)}if(this.hp<=0)return this.createDrop(),this.index+=1,this.configs[this.index]?void this.updateStep():void this.dispose()},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameChest2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoChestConfig.ts","./ShoudaqiaoGameConst2.ts","./ShoudaqiaoTalentConfig2.ts","./AudioManager22.ts","./EffectManager22.ts","./util22.ts","./GameDrop22.ts","./GameObject22.ts"],(function(t){var i,e,n,s,o,a,h,c,f,u,r,d,p;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){o=t.ShoudaqiaoChestConfig},function(t){a=t.ShoudaqiaoGameConst},function(t){h=t.ShoudaqiaoTalentConfig},function(t){c=t.default},function(t){f=t.default},function(t){u=t.default},function(t){r=t.default},function(t){d=t.PhysicTags,p=t.default}],execute:function(){s._RF.push({},"49fee71KQVDnp73KxYJAHLp","GameChest2",void 0);t("default",function(t){function s(i){var e;return(e=t.call(this)||this).isStatic=!0,e.isKine=!1,e.isColl=!0,e.tag=d.chest,e.view=void 0,e.cd=void 0,e.noDMG=!1,e.configs=void 0,e.config=void 0,e.talent=void 0,e.index=0,e.hp=0,e.v=i,e.view=i,e.configs=o.dataList.filter((function(t){return t.group==e.view.name})),e.config=e.configs[0],e}i(s,t);var p=s.prototype;return p.bindView=function(){var t=e(n().mark((function t(){var i=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.on("dispose",(function(){return i.view.dispose()})),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.createAABB(),this.setPos(this.view.x,this.view.y);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p.start=function(){this.bindEvents(),this.bindView(),this.updateStep()},p.updateStep=function(){this.config=this.configs[this.index],this.hp=this.config.hp,this.view.title=this.hp.toFixed(0),this.talent=h.data[u.pickRandom(this.config.talents)],this.view.m_item_slot.icon="ui://"+a.data.RESPackage+"/"+this.talent.drop,this.view.m_item_slot.title=this.talent.desc},p.createDrop=function(){var t=new r(this.talent),i=u.getRelativePos(this.game.view,this.view.m_item_slot);t.init(i.x,i.y)},p.damaged=function(t){if(this.hp-=1,this.view.title=this.hp.toFixed(0),this.view.m_hit.play(),t.dispose(),t.config.sounds.hit&&c.inst.playEffect(t.config.sounds.hit),t.config.effects.hit){var i=t.weapon.fixed?this.game.layers.part:this.game.layers.effect;f.inst.playAnimEffect(t.config.effects.hit,t.view.x,t.view.y+60,1,i)}if(this.hp<=0)return this.createDrop(),this.index+=1,this.configs[this.index]?void this.updateStep():void this.dispose()},s}(p));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameCollision.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,o,e,r,l,s,c,g;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,o=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,s=i.ccenum,c=i.Collider,g=i.Component}],execute:function(){var a,h,E,u,C;r._RF.push({},"0588dCv0/dMvrfs6BSkrkJi","GameCollision",void 0);var v=l.ccclass,y=l.property,p=i("CollisionType",function(i){return i[i.None=0]="None",i}({}));s(p);i("GameCollision",(a=v("GameCollision"),h=y({type:p,tooltip:"碰撞物体类型"}),a((C=t((u=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=i.call.apply(i,[this].concat(r))||this).Event_TriggerEnter="onTriggerEnter",t.Event_TriggerStay="onTriggerStay",t.Event_TriggerExit="onTriggerExit",t.Event_CollisionEnter="onCollisionEnter",t.Event_CollisionStay="onCollisionStay",t.Event_CollisionExit="onCollisionExit",t.collider=null,o(t,"type",C,e(t)),t}n(t,i);var r=t.prototype;return r.onLoad=function(){this.collider=this.getComponent(c),this.collider.isTrigger?(this.collider.on(this.Event_TriggerEnter,this.onTrigger,this),this.collider.on(this.Event_TriggerStay,this.onTrigger,this),this.collider.on(this.Event_TriggerExit,this.onTrigger,this)):(this.collider.on(this.Event_CollisionEnter,this.onCollision,this),this.collider.on(this.Event_CollisionStay,this.onCollision,this),this.collider.on(this.Event_CollisionExit,this.onCollision,this))},r.onTrigger=function(i){switch(i.type){case this.Event_TriggerEnter:this.onTriggerEnter(i);break;case this.Event_TriggerStay:this.onTriggerStay(i);break;case this.Event_TriggerExit:this.onTriggerExit(i)}},r.onTriggerEnter=function(i){},r.onTriggerStay=function(i){},r.onTriggerExit=function(i){},r.onCollision=function(i){switch(i.type){case this.Event_CollisionEnter:this.onCollisionEnter(i);break;case this.Event_CollisionStay:this.onCollisionStay(i);break;case this.Event_CollisionExit:this.onCollisionExit(i)}},r.onCollisionEnter=function(i){},r.onCollisionStay=function(i){},r.onCollisionExit=function(i){},t}(g)).prototype,"type",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.None}}),E=u))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("GameConfig",void 0),o._RF.push({},"2b7cel/V25I24qLYETlo0Mv","GameConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon_main=void 0,this.icon_path=void 0,this.sort_order=void 0,this.show_type=void 0,this.scene=void 0,this.bundle=void 0,this.config=void 0,this.unlock_type=void 0,this.unlock_value=void 0,this.cd=void 0,this.enable=void 0,this.banner=void 0,this.banner_bundle=void 0};i.isConst=!1,i.path="config/GameConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("GameConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/GameConst.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var t;e("GameConst",void 0),o._RF.push({},"6c2da7HqkFJ6oEuDlFUxF7o","GameConst",void 0),function(e){e.config=function(){this.shareReward=void 0,this.sidebarReward=void 0,this.sidebarRewardName=void 0,this.gameIcon=void 0,this.roleDef=void 0,this.roleSpeed=void 0,this.roleHp=void 0};e.isConst=!0,e.path="config/GameConst",e.extPath=void 0,e.data=null}(t||(t=e("GameConst",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/GameConsts.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){var n;e("GameConsts",void 0),s._RF.push({},"c253drFRNBKTq/ZIoY9w5cQ","GameConsts",void 0),function(e){e.TimeBit={D:1,H:2,M:4,S:8,HMS:14,DHMS:15};var s=function(e){return e.resource="resources",e.main="mainAssets",e}({});e.Bundle=s}(n||(n=e("GameConsts",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/GameDataDef.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DateUtil.ts","./YT.ts","./SaveDataDef.ts"],(function(t){var e,n,a,s,i,r,o,u,c,l;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t.game,o=t.js},function(t){u=t.DateUtil},function(t){c=t.YT},function(t){l=t.SaveData}],execute:function(){var d;t("GameData",void 0),i._RF.push({},"c9f17mkrglMRqyWZfs5OSNu","GameDataDef",void 0),function(t){var i=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).sidebarReward=!1,e.subscribeReward=!1,e.lastOpenTick=0,e.loginDayCount=0,e.dailySign=[1,0,0,0,0,0,0],e.signDay=0,e}return e(n,t),n}(l.SaveDataBase);t.SaveInfo=i;var f=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).onlineR=[],e.taskR=[],e.taskP=[],e.taskProgress=0,e.boxAdCount=0,e.cardAdCount=0,e.coinAdCount=0,e.woodCount=0,e.boxBatCount=0,e.killCount=0,e.buildCount=0,e.adCount=0,e.makeCardsCount=0,e.lvupCardsCount=0,e.battleCount=0,e.changeCardCount=0,e.ols=0,e}return e(n,t),n}(l.SaveDataBase);t.DailyInfo=f;var h=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).towerUnlockIndex=[0],e}return e(n,t),n}(l.SaveDataBase);t.BattleInfo=h;var g=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).gameInfo={},e}e(n,t);var a=n.prototype;return a.addUnlockProgress=function(t,e,n){this.getInfo(t);var a=this.gameInfo[t].ids.indexOf(e);return-1==a?(this.gameInfo[t].ids.push(e),this.gameInfo[t].unlockProgress.push(1),a=0):this.gameInfo[t].unlockProgress[a]++,n&&this.gameInfo[t].unlockProgress[a]>=n&&this.unlockLevel(t,e),this.save=!0,this.gameInfo[t].unlockProgress[a]},a.getUnlockProgress=function(t,e){this.getInfo(t);var n=this.gameInfo[t].ids.indexOf(e);return-1==n&&(this.gameInfo[t].ids.push(e),this.gameInfo[t].unlockProgress.push(0),n=0),this.gameInfo[t].unlockProgress[n]},a.unlockLevel=function(t,e){-1==this.gameInfo[t].unlocked.indexOf(e)&&(this.gameInfo[t].unlocked.push(e),this.save=!0)},a.checkUnlockLevel=function(t,e){return this.gameInfo[t].unlocked.includes(e)},a.canEnter=function(t,e){return void 0===e&&(e=18e5),this.getUnlockProgress(t,1),Date.now()-this.gameInfo[t].lastEnterTime>e},a.getInfo=function(t){return this.gameInfo[t]||(this.gameInfo[t]={unlockProgress:[],ids:[],unlocked:[],lastEnterTime:0,index:0},this.save=!0),this.gameInfo[t]},a.hasInfo=function(t){return!!this.gameInfo[t]},n}(l.SaveDataBase);t.SubGameInfo=g;var v=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).adCount=0,e.coin=0,e.gem=0,e.humer=0,e.chapterId=1,e.chapterRecord={},e.roleLevel=1,e.turnId=1,e.roleSkinId=2001,e.roleAtkLevel=0,e.roleCampLevel=0,e.equips={1:{id:1,lv:1}},e.builds={},e.unlockedSkin=[2001],e.cards={},e.hideCards=[],e.buildCount=0,e.seekUsed=0,e.ols=0,e.killEnemy=0,e.killBoss=0,e}return e(n,t),n}(l.SaveDataBase);t.UserInfo=v;var p=function(t){return t[t.Main=0]="Main",t[t.User=1]="User",t[t.Daily=2]="Daily",t[t.Battle=3]="Battle",t[t.SubGame=4]="SubGame",t[t.End=5]="End",t}({}),y=function(){function t(){this.clses=[i,v,f,h,g],this.datas=void 0,this.isCrossDay=!1,this.isCrossWeek=!1,this.offlineSec=0,this._appId=void 0,this.datas=[]}var e=t.prototype;return e.load=function(){var t=a(s().mark((function t(e){var n,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._appId=e,t.next=3,this.loadDataModule(p.Main,!0,i);case 3:return n=t.sent,t.next=6,this.loadDataModule(p.Daily,!1,f);case 6:return t.sent,t.next=9,this.loadDataModule(p.User,!0,v);case 9:return t.sent,t.next=12,this.loadDataModule(p.Battle,!0,h);case 12:return t.sent,t.next=15,this.loadDataModule(p.SubGame,!1,g);case 15:t.sent,a=new Date,r=a.getTime(),n.saveTick>0&&(this.offlineSec=Math.floor(.001*(r-n.saveTick))),u.isSameDay(n.lastOpenTick,r)||(n.sidebarReward=!1,n.subscribeReward=!1,n.loginDayCount++,this.isCrossDay=!0,this._onDayCross(),1==a.getDay()&&(this.isCrossWeek=!0,this._onWeekCross())),n.lastOpenTick=r,c.timer.addUpdate(this._update,this);case 22:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.loadDataModule=function(){var t=a(s().mark((function t(e,n,a){var i,r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._appId,r={index:e,key:i+"_"+p[e].toLocaleUpperCase(),useCloud:n,cls:a},t.next=4,l.load(r);case 4:return o=t.sent,this.datas[e]=o,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}(),e._onDayCross=function(){console.error("跨天了");var t=this.datas[p.Daily]=this.renew(this.datas[p.Daily],f),e=d.GameInfo.SaveInfo;7==e.signDay?(e.dailySign=[1,0,0,0,0,0,0],e.signDay=0):0==e.dailySign[e.signDay]&&(e.dailySign[e.signDay]=1,2==e.dailySign[e.signDay-1]&&(e.dailySign[e.signDay-1]=3)),t.save=!0},e._onWeekCross=function(){},e._update=function(){var t,e=r.deltaTime,n=0,a=this.datas.length;for(n=0;n<a;++n)(t=this.datas[n]).save_duration-=e,(t.save||t.save_duration<=0)&&l.save(t)},e.loadData=function(){var t=a(s().mark((function t(e,n,a){var i,r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===a&&(a=!1),i=this.datas.length,r={index:i,key:this._appId+"_gamedata_"+e,useCloud:a,cls:n},t.next=5,l.load(r);case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.renew=function(t,e){return l.renewByData(t,e)},e.registData=function(t){t&&this.datas.indexOf(t)<0&&this.datas.push(t)},e.unRegistData=function(t){if(t){var e=this.datas.indexOf(t);e>=0&&o.array.fastRemoveAt(this.datas,e)}},e.clearData=function(){for(var t=0;t<this.clses.length;t++)this.datas[t]=this.renew(this.datas[t],this.clses[t]),this.datas[t].save=!0},n(t,null,[{key:"SaveInfo",get:function(){return this._instance.datas[p.Main]}},{key:"UserInfo",get:function(){return this._instance.datas[p.User]}},{key:"DailyInfo",get:function(){return this._instance.datas[p.Daily]}},{key:"BatInfo",get:function(){return this._instance.datas[p.Battle]}},{key:"SubInfo",get:function(){return this._instance.datas[p.SubGame]}},{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();y._instance=void 0,t.GameInfo=y}(d||(d=t("GameData",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/GameDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoGameConst.ts","./UI_DragonBody.ts","./BattleManager2.ts","./DamageBoardPool2.ts","./util3.ts","./GameObject.ts","./AudioManager2.ts","./EffectManager.ts"],(function(t){var e,i,s,a,n,h,o,r,c,p,u,v,l,d,f,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){n=t.cclegacy,h=t.Color},function(t){o=t.ShoudaqiaoGameConst},function(t){r=t.default},function(t){c=t.default},function(t){p=t.default},function(t){u=t.default,v=t.vec2},function(t){l=t.PhysicTags,d=t.default},function(t){f=t.default},function(t){g=t.default}],execute:function(){n._RF.push({},"0c0dbi1evRNy5mfFj/b8uKw","GameDragon",void 0),t("default",function(t){function n(e){var i;return(i=t.call(this)||this).ev=void 0,i.isStatic=!0,i.isKine=!1,i.isColl=!0,i.collBehavior={},i.tag=l.enemy,i.timer=0,i.pivot=v(.5,.5),i.view=void 0,i.projective=!0,i.config=void 0,i.pathIndex=0,i.pathPos=0,i.pathPrev=void 0,i.pathSpeed=void 0,i.pathMoveState=1,i.prevPos=v(0),i.data=e,i.config=e.config,i}e(n,t);var d=n.prototype;return d.getView=function(){n.pool||(n.pool=new p((function(){return r.createInstance()}),500,!1));var t=c.inst.layers.enemy;return n.pool.fetch(t)},d.returnView=function(){n.pool.return(this.view),this.view=null},d.createView=function(){var t=s(a().mark((function t(){var e=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.view=this.getView(),this.view.alpha=0,this.setColor(h.WHITE),this.view.sortingOrder=null,this.view.m_icon.url="ui://"+o.data.RESPackage+"/"+this.config.view,this.ev.on("dispose",(function(){return e.returnView()})),c.inst.layers.enemy.addChildAt(this.view,0),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.createAABB(),this.ev.on("update",(function(){e.game.prevEnemyY=Math.max(e.y+.5*e.h,e.game.prevEnemyY),e.view&&(e.view.alpha=e.pos.y>0?1:0),e.isColl=e.pos.y>0}));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.start=function(){var t=this;this.bindEvents(),this.createView(),this.ev.on("created",(function(){t.view.visible=!0})),this.moveByPath()},d.damaged=function(t){if(this.enabled){var e=t.attr.getPlayerBulletDmg(),i=e.dmg+t.atk;if(this.ev.emit("damaged",i),t.config.dmg_board){var s=e.isCrit?"dmg_board_crit":"dmg_board";g.inst.createDamageBoard(i,s,this.view.x,this.view.y,1)}}},d.kill=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.enabled){t.next=2;break}return t.abrupt("return");case 2:this.enabled=!1,"shoudaqiao_res@effect_kill",g.inst.playAnimEffect("shoudaqiao_res@effect_kill",this.view.x,this.view.y,1.5,this.game.layers.effect),f.inst.playEffect("dead-001"),f.inst.vibrate(),this.dispose(),this.game.addKill();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.moveByPath=function(){var t=this;this.isStatic=!1,this.velocity.set(0,0);c.inst.player;this.pathIndex=this.game.spawner.count,this.pathSpeed=this.game.config.dragon,this.view.sortingOrder=99999-this.pathIndex,this.syncPathPos(),this.ev.on("update",(function(e){t.enabled&&(t.paused||t.pathPos/t.path.distance<1&&t.checkPath(e))}))},d.syncPathPos=function(){var t=this.pathPos/this.path.distance,e=this.path.getPointAt(t);this.setPos(e.x,e.y)},d.checkPath=function(t){var e=this;if(!this.pathPrev){var i=this.game.dragons.filter((function(t){return t.path==e.path&&t.pathIndex>e.pathIndex}));i.length>0?(this.pathPrev=i.sort((function(t,e){return t.pathIndex-e.pathIndex}))[0],this.pathPrev.ev.on("dispose",(function(){e.pathPrev=null}))):this.pathMoveState=0,this.view.visible=!0}var s=this.pathSpeed*this.game.spawner.speedMul;if(this.pathPrev){var a=this.pathPos-this.pathPrev.pathPos,n=this.config.length;if(a<n+.01)this.pathPos+=t*s,this.syncPathPos(),this.pathMoveState=0;else if(a>n&&this.game.shouldPull){this.pathPos=u.lerp(this.pathPos,this.pathPrev.pathPos+n,.5),this.syncPathPos(),this.pathMoveState=-1}else this.pathPos+=t*s,this.syncPathPos(),this.pathMoveState=1}else this.pathPos+=t*s,this.syncPathPos(),this.pathMoveState=2;this.updateDir(),this.prevPos=this.pos.clone()},d.updateDir=function(){if(0!=u.vecFlatDist(this.prevPos,this.pos)){var t=u.angleObject(this.prevPos,this.pos),e=u.rad2angle(t)+90;this.view.rotation=e+90;var i=-Math.sign(this.pos.x-this.prevPos.x);this.view.scaleY=i*Math.abs(this.view.scaleY)}},i(n,[{key:"path",get:function(){return this.game.spawner.path}}]),n}(d)).pool=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameDragon2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoGameConst2.ts","./UI_DragonBody2.ts","./AudioManager22.ts","./BattleManager22.ts","./DamageBoardPool22.ts","./EffectManager22.ts","./util22.ts","./GameObject22.ts"],(function(t){var e,i,s,a,n,h,o,r,c,p,u,v,l,d,f,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){n=t.cclegacy,h=t.Color},function(t){o=t.ShoudaqiaoGameConst},function(t){r=t.default},function(t){c=t.default},function(t){p=t.default},function(t){u=t.default},function(t){v=t.default},function(t){l=t.default,d=t.vec2},function(t){f=t.PhysicTags,g=t.default}],execute:function(){n._RF.push({},"3ef5eKPQJNI+aJbz+FGWZnt","GameDragon2",void 0),t("default",function(t){function n(e){var i;return(i=t.call(this)||this).ev=void 0,i.isStatic=!0,i.isKine=!1,i.isColl=!0,i.collBehavior={},i.tag=f.enemy,i.timer=0,i.pivot=d(.5,.5),i.view=void 0,i.projective=!0,i.config=void 0,i.pathIndex=0,i.pathPos=0,i.pathPrev=void 0,i.pathSpeed=void 0,i.pathMoveState=1,i.prevPos=d(0),i.data=e,i.config=e.config,i}e(n,t);var g=n.prototype;return g.getView=function(){n.pool||(n.pool=new u((function(){return r.createInstance()}),500,!1));var t=p.inst.layers.enemy;return n.pool.fetch(t)},g.returnView=function(){n.pool.return(this.view),this.view=null},g.createView=function(){var t=s(a().mark((function t(){var e=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.view=this.getView(),this.view.alpha=0,this.setColor(h.WHITE),this.view.sortingOrder=null,this.view.m_icon.url="ui://"+o.data.RESPackage+"/"+this.config.view,this.ev.on("dispose",(function(){return e.returnView()})),p.inst.layers.enemy.addChildAt(this.view,0),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.createAABB(),this.ev.on("update",(function(){e.game.prevEnemyY=Math.max(e.y+.5*e.h,e.game.prevEnemyY),e.view&&(e.view.alpha=e.pos.y>0?1:0),e.isColl=e.pos.y>0}));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),g.start=function(){var t=this;this.bindEvents(),this.createView(),this.ev.on("created",(function(){t.view.visible=!0})),this.moveByPath()},g.damaged=function(t){if(this.enabled){var e=t.attr.getPlayerBulletDmg(),i=e.dmg;if(this.ev.emit("damaged",i),t.config.dmg_board){var s=e.isCrit?"dmg_board_crit":"dmg_board";v.inst.createDamageBoard(i,s,this.view.x,this.view.y,1)}}},g.kill=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.enabled){t.next=2;break}return t.abrupt("return");case 2:this.enabled=!1,"shoudaqiao2_res@effect_kill",v.inst.playAnimEffect("shoudaqiao2_res@effect_kill",this.view.x,this.view.y,1.5,this.game.layers.effect),c.inst.playEffect("dead-001"),c.inst.vibrate(),this.dispose(),this.game.addKill();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),g.moveByPath=function(){var t=this;this.isStatic=!1,this.velocity.set(0,0);p.inst.player;this.pathIndex=this.game.spawner.count,this.pathSpeed=this.game.config.dragon,this.view.sortingOrder=99999-this.pathIndex,this.syncPathPos(),this.ev.on("update",(function(e){t.enabled&&(t.paused||t.pathPos/t.path.distance<1&&t.checkPath(e))}))},g.syncPathPos=function(){var t=this.pathPos/this.path.distance,e=this.path.getPointAt(t);this.setPos(e.x,e.y)},g.checkPath=function(t){var e=this;if(!this.pathPrev){var i=this.game.dragons.filter((function(t){return t.path==e.path&&t.pathIndex>e.pathIndex}));i.length>0?(this.pathPrev=i.sort((function(t,e){return t.pathIndex-e.pathIndex}))[0],this.pathPrev.ev.on("dispose",(function(){e.pathPrev=null}))):this.pathMoveState=0,this.view.visible=!0}var s=this.pathSpeed*this.game.spawner.speedMul;if(this.pathPrev){var a=this.pathPos-this.pathPrev.pathPos,n=this.config.length;if(a<n+.01)this.pathPos+=t*s,this.syncPathPos(),this.pathMoveState=0;else if(a>n&&this.game.shouldPull){this.pathPos=l.lerp(this.pathPos,this.pathPrev.pathPos+n,.5),this.syncPathPos(),this.pathMoveState=-1}else this.pathPos+=t*s,this.syncPathPos(),this.pathMoveState=1}else this.pathPos+=t*s,this.syncPathPos(),this.pathMoveState=2;this.updateDir(),this.prevPos=this.pos.clone()},g.updateDir=function(){if(0!=l.vecFlatDist(this.prevPos,this.pos)){var t=l.angleObject(this.prevPos,this.pos),e=l.rad2angle(t)+90;this.view.rotation=e+90;var i=-Math.sign(this.pos.x-this.prevPos.x);this.view.scaleY=i*Math.abs(this.view.scaleY)}},i(n,[{key:"path",get:function(){return this.game.spawner.path}}]),n}(g)).pool=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameDragonGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_DragonPanel.ts","./BattleManager2.ts","./GameObject.ts"],(function(i){var t,e,n,s,h,o,a;return{setters:[function(i){t=i.inheritsLoose,e=i.asyncToGenerator,n=i.regeneratorRuntime},function(i){s=i.cclegacy},function(i){h=i.default},function(i){o=i.default},function(i){a=i.default}],execute:function(){s._RF.push({},"8748dyzC4RB+pJ4RqqJCsLR","GameDragonGroup",void 0);i("default",function(i){function s(t){var e;return(e=i.call(this)||this).children=[],e.view=void 0,e.hp=void 0,e.config=t,e.hp=e.config.hp,e.game.ev.on("end",(function(){return e.dispose()})),e}t(s,i);var a=s.prototype;return a.start=function(){this.bindEvents(),this.createView()},a.addEnemy=function(i){var t=this;this.children.push(i),i.ev.on("damaged",(function(i){t.view&&t.damaged(i)}))},a.finish=function(){this.view.visible=!0},a.createView=function(){var i=e(n().mark((function i(){var t=this;return n().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.view=h.createInstance(),this.view.setPosition(1e3,-500),this.game.layers.txt.addChild(this.view),this.ev.on("update",(function(){t.updatePos()})),this.view.m_text.text=""+this.hp.toFixed(0);case 5:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),a.updatePos=function(){if(this.view&&(this.view.visible=this.children[0].view.visible,this.view.visible)){var i=.5*(this.children[0].pathPos+this.children[this.children.length-1].pathPos)/this.game.spawner.path.distance,t=this.game.spawner.path.getPointAt(i),e=this.projectPos(t),n=this.projectScale(t);this.view.setPosition(e.x,e.y),this.view.setScale(n,n),this.view.visible=this.view.y>30}},a.damaged=function(i){this.view&&(this.hp-=i,this.hp<=0?this.kill():(this.view.m_text.text=""+this.hp.toFixed(0),this.children.forEach((function(i){}))))},a.kill=function(){var i=this;this.children.forEach((function(i,t){o.delay(.05*t).then((function(){return i.kill()}))})),this.children.length=0,this.view.dispose(),this.view=null,o.delay(.5,(function(){i.game.pullBackTimer=.5}))},a.dispose=function(){this.view&&this.view.dispose(),this.view=null,this.game.ev.off("end",this.dispose.bind(this))},s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameDragonGroup2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_DragonPanel2.ts","./BattleManager22.ts","./GameObject22.ts"],(function(i){var t,e,n,s,h,o,a;return{setters:[function(i){t=i.inheritsLoose,e=i.asyncToGenerator,n=i.regeneratorRuntime},function(i){s=i.cclegacy},function(i){h=i.default},function(i){o=i.default},function(i){a=i.default}],execute:function(){s._RF.push({},"6d18627ETtAKosC+W8f6Us4","GameDragonGroup2",void 0);i("default",function(i){function s(t){var e;return(e=i.call(this)||this).children=[],e.view=void 0,e.hp=void 0,e.config=t,e.hp=e.config.hp,e.game.ev.on("end",(function(){return e.dispose()})),e}t(s,i);var a=s.prototype;return a.start=function(){this.bindEvents(),this.createView()},a.addEnemy=function(i){var t=this;this.children.push(i),i.ev.on("damaged",(function(i){t.view&&t.damaged(i)}))},a.finish=function(){this.view.visible=!0},a.createView=function(){var i=e(n().mark((function i(){var t=this;return n().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.view=h.createInstance(),this.view.setPosition(1e3,-500),this.game.layers.txt.addChild(this.view),this.ev.on("update",(function(){t.updatePos()})),this.view.m_text.text=""+this.hp.toFixed(0);case 5:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),a.updatePos=function(){if(this.view&&(this.view.visible=this.children[0].view.visible,this.view.visible)){var i=.5*(this.children[0].pathPos+this.children[this.children.length-1].pathPos)/this.game.spawner.path.distance,t=this.game.spawner.path.getPointAt(i),e=this.projectPos(t),n=this.projectScale(t);this.view.setPosition(e.x,e.y),this.view.setScale(n,n),this.view.visible=this.view.y>30}},a.damaged=function(i){this.view&&(this.hp-=i,this.hp<=0?this.kill():(this.view.m_text.text=""+this.hp.toFixed(0),this.children.forEach((function(i){}))))},a.kill=function(){var i=this;this.children.forEach((function(i,t){o.delay(.05*t).then((function(){return i.kill()}))})),this.children.length=0,this.view.dispose(),this.view=null,o.delay(.5,(function(){i.game.pullBackTimer=.5}))},a.dispose=function(){this.view&&this.view.dispose(),this.view=null,this.game.ev.off("end",this.dispose.bind(this))},s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameDragonHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleManager2.ts","./util3.ts","./UI_DragonHead.ts","./GameDragon.ts","./AudioManager2.ts","./EffectManager.ts"],(function(e){var t,i,s,a,n,r,o,u,c,h;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){n=e.default},function(e){r=e.default},function(e){o=e.default},function(e){u=e.default},function(e){c=e.default},function(e){h=e.default}],execute:function(){a._RF.push({},"a53d2k/ZqBFzqT4QcwNVqVr","GameDragonHead",void 0);e("default",function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var u=a.prototype;return u.createView=function(){var e=i(s().mark((function e(){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view=o.createInstance(),this.view.alpha=0,this.view.sortingOrder=null,this.ev.on("dispose",(function(){return t.view.dispose()})),n.inst.layers.enemy.addChildAt(this.view,0),this.ev.emit("created"),this.size.set(this.view.width*this.view.scaleX,this.view.height*this.view.scaleY),this.createAABB(),this.ev.on("update",(function(){t.game.prevEnemyY=Math.max(t.y+.5*t.h,t.game.prevEnemyY),t.view&&(t.view.alpha=t.pos.y>0?1:0),t.pos.y>=t.game.player.y-100&&t.game.player.kill()}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.setAsDamaged=function(){this.view&&(this.view.m_state.selectedPage="back")},u.setAsNormal=function(){this.view&&(this.view.m_state.selectedPage="normal")},u.damaged=function(e){},u.updateDir=function(){if(0!=r.vecFlatDist(this.prevPos,this.pos)){var e=-Math.sign(this.pos.x-this.prevPos.x)*(this.pathMoveState||1);this.view.scaleX=e*Math.abs(this.view.scaleY)}},u.kill=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:this.enabled=!1,"shoudaqiao_res@eboss_kill",h.inst.playAnimEffect("shoudaqiao_res@eboss_kill",this.view.x,this.view.y,2,this.game.layers.effect),c.inst.playEffect("dead"),c.inst.vibrate(),this.dispose(),this.game.addKill();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameDragonHead2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_DragonHead2.ts","./AudioManager22.ts","./BattleManager22.ts","./EffectManager22.ts","./util22.ts","./GameDragon2.ts"],(function(e){var t,i,s,a,n,r,o,u,c,h;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){n=e.default},function(e){r=e.default},function(e){o=e.default},function(e){u=e.default},function(e){c=e.default},function(e){h=e.default}],execute:function(){a._RF.push({},"77d77f1jTZAYKt0HKv4xV+Y","GameDragonHead2",void 0);e("default",function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var h=a.prototype;return h.createView=function(){var e=i(s().mark((function e(){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view=n.createInstance(),this.view.alpha=0,this.view.sortingOrder=null,this.ev.on("dispose",(function(){return t.view.dispose()})),o.inst.layers.enemy.addChildAt(this.view,0),this.ev.emit("created"),this.size.set(this.view.width*this.view.scaleX,this.view.height*this.view.scaleY),this.createAABB(),this.ev.on("update",(function(){t.game.prevEnemyY=Math.max(t.y+.5*t.h,t.game.prevEnemyY),t.view&&(t.view.alpha=t.pos.y>0?1:0),t.pos.y>=t.game.player.y-100&&t.game.player.kill()}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),h.setAsDamaged=function(){this.view&&(this.view.m_state.selectedPage="back")},h.setAsNormal=function(){this.view&&(this.view.m_state.selectedPage="normal")},h.damaged=function(e){},h.updateDir=function(){if(0!=c.vecFlatDist(this.prevPos,this.pos)){var e=-Math.sign(this.pos.x-this.prevPos.x)*(this.pathMoveState||1);this.view.scaleX=e*Math.abs(this.view.scaleY)}},h.kill=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:this.enabled=!1,"shoudaqiao2_res@eboss_kill",u.inst.playAnimEffect("shoudaqiao2_res@eboss_kill",this.view.x,this.view.y,2,this.game.layers.effect),r.inst.playEffect("dead"),r.inst.vibrate(),this.dispose(),this.game.addKill();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a}(h));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritGameConst.ts","./BattleManager.ts","./util2.ts","./GameGem.ts"],(function(t){var e,i,n,a,s,o,r,c,u;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){s=t.UIPackage},function(t){o=t.TreeSpiritGameConst},function(t){r=t.default},function(t){c=t.default},function(t){u=t.default}],execute:function(){a._RF.push({},"3b1ae8VyU9L07fVZyWHUjya","GameDrop",void 0);t("default",function(t){function a(e){var i;return(i=t.call(this)||this).config=e,i}e(a,t);var u=a.prototype;return u.init=function(t,e){var i=this;this.bindEvents(),this.createView(),this.view.setPosition(t+c.randomRange(-5,5),e),this.createB2Physic(),r.delay(10,(function(){i.disposed||i.moveToPlayer()})),this.ev.on("update",(function(){c.vecFlatDist(i,i.game.player)<200&&i.onPick()}))},u.createView=function(){var t=i(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.view=s.createObject(o.data.UIPackage,"Drop"),this.view.node.obj=this,this.game.layers.part.addChild(this.view),this.view.icon="ui://"+o.data.UIPackage+"/"+this.config.drop,this.ev.emit("created"),this.ev.on("dispose",(function(){e.view.dispose()}));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onPick=function(){this.game.player.addTalent(this.config),this.dispose()},a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameDrop2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ShoudaqiaoGameConst.ts","./util3.ts","./GameObject.ts"],(function(e){var t,i,n,o,s,a,r,c;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){s=e.UIPackage},function(e){a=e.ShoudaqiaoGameConst},function(e){r=e.vec2},function(e){c=e.default}],execute:function(){o._RF.push({},"77225RfteVEnoze6Kq683Rs","GameDrop",void 0);e("default",function(e){function o(t){var i;return(i=e.call(this)||this).isColl=!1,i.config=t,i}t(o,e);var c=o.prototype;return c.init=function(e,t){this.bindEvents(),this.createView(),this.setPos(e,t),this.moveToPlayer()},c.moveToPlayer=function(){var e=this,t=0;this.ev.on("update",(function(i){(t+=i)<.4?(e.pos.lerp(r(e.game.player.x,e.game.player.y-50),.1),e.setPos(e.pos.x,e.pos.y)):e.onPick()}))},c.createView=function(){var e=i(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view=s.createObject(a.data.UIPackage,"Drop"),this.view.node.obj=this,this.game.layers.part.addChild(this.view),this.view.icon="ui://"+a.data.RESPackage+"/"+this.config.drop,this.ev.emit("created"),this.ev.on("dispose",(function(){t.view.dispose()}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onPick=function(){this.game.player.addTalent(this.config),this.dispose()},o}(c));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameDrop22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoGameConst2.ts","./fairygui.mjs","./util22.ts","./GameObject22.ts"],(function(t){var e,i,n,o,a,s,r,c;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){a=t.ShoudaqiaoGameConst},function(t){s=t.UIPackage},function(t){r=t.vec2},function(t){c=t.default}],execute:function(){o._RF.push({},"1a6da8b8atNkp8fp9N08JEk","GameDrop2",void 0);t("default",function(t){function o(e){var i;return(i=t.call(this)||this).isColl=!1,i.config=e,i}e(o,t);var c=o.prototype;return c.init=function(t,e){this.bindEvents(),this.createView(),this.setPos(t,e),this.moveToPlayer()},c.moveToPlayer=function(){var t=this,e=0;this.ev.on("update",(function(i){(e+=i)<.4?(t.pos.lerp(r(t.game.player.x,t.game.player.y-50),.1),t.setPos(t.pos.x,t.pos.y)):t.onPick()}))},c.createView=function(){var t=i(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.view=s.createObject(a.data.UIPackage,"Drop"),this.view.node.obj=this,this.game.layers.part.addChild(this.view),this.view.icon="ui://"+a.data.RESPackage+"/"+this.config.drop,this.ev.emit("created"),this.ev.on("dispose",(function(){e.view.dispose()}));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onPick=function(){this.game.player.addTalent(this.config),this.dispose()},o}(c));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameDropPanel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectManager22.ts","./GameObject22.ts"],(function(e){var t,i,s,a,r,u,l;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){r=e.default},function(e){u=e.PhysicTags,l=e.default}],execute:function(){a._RF.push({},"011673XiXNAi5kwCjoy6D3D","GameDropPanel2",void 0);var h=1,p=2,n=1,o=2,f=3,c=4,y=5,v=6;e("default",function(e){function a(t){var i;return(i=e.call(this)||this).isStatic=!1,i.isKine=!1,i.isColl=!0,i.tag=u.dropPanel,i.timer=0,i.view=void 0,i.cd=void 0,i.noDMG=!1,i.maxHp=100,i.curHp=0,i.dropSpeed=150,i.value=[],i.ValueType=h,i.buffType=n,i.projective=!0,i.collBehavior={player:"cross"},i.onUpdate=function(e){i.disposed||(i.paused&&(e=0),i.isStatic||i.processMoveState(e*i.timeScale),!i.isStatic&&i.isColl&&i.updateAABB(!1),i.ev.emit("update",e*i.timeScale,e),i.setPos(i.x,i.y+i.dropSpeed*e),i.y>=i.mar.player.y-200&&i.y<=i.mar.player.y+150&&Math.abs(i.x-i.mar.player.x)<200&&(console.log("碰撞"),i.collPlayer(),i.dispose()),i.y>2e3&&i.dispose())},i.v=t,i.view=t,i}t(a,e);var l=a.prototype;return l.bindView=function(){var e=i(s().mark((function e(){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ev.on("dispose",(function(){return t.view.dispose()})),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.createAABB(),this.ev.on("update",(function(){}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.start=function(e){this.bindEvents(),this.bindView();var t=e.split("|")[1];switch("atk"==t?this.buffType=n:"as"==t?this.buffType=o:"critRate"==t?this.buffType=f:"critDmg"==t?this.buffType=c:"role"==t?this.buffType=y:"burst"==t?this.buffType=v:console.error("atk/as 配置错误"),e.split("|")[2]){case"add":this.ValueType=h;break;case"mul":this.ValueType=p;break;default:console.error("add/mul 配置错误")}this.value=e.split("|")[3].split("=")[1].split(",").map((function(e){return Number(e)})),this.maxHp=Number(e.split("|")[4].split("=")[1]),this.curHp=0,this.dropSpeed=Number(e.split("|")[5].split("=")[1]),this.refreshView()},l.onHit=function(e){var t=e.attr.getPlayerBulletDmg().dmg;this.curHp+=t,this.curHp=Math.min(this.curHp,this.maxHp),this.refreshView(),e.hitCount++,this.view.m_hit.play(),r.inst.playAnimEffect(this.game.gameConst.RESPackage+"@bottle_hit",e.view.x,e.view.y-50,.5*e.view.scaleX)},l.refreshView=function(){this.buffType==n?this.view.m_buffType.text="攻击":this.buffType==o?this.view.m_buffType.text="攻速":this.buffType==v?this.view.m_buffType.text="子弹":this.buffType==y?this.view.m_buffType.text="角色":this.buffType==f?this.view.m_buffType.text="暴击率":this.buffType==c&&(this.view.m_buffType.text="暴击伤害");var e=this.getPanelValue();switch(this.ValueType){case h:this.view.title=(e>0?"+":"-")+Math.floor(Math.abs(e));break;case p:e>-1&&e<=0&&(e=-1),e<1&&e>=0&&(e=1),this.view.title=(e>0?"x":"/")+Math.floor(Math.abs(e))}e>0?(this.view.m_blue.visible=!0,this.view.m_red.visible=!1):(this.view.m_blue.visible=!1,this.view.m_red.visible=!0)},l.getPanelValue=function(){return this.mapProgressToValue(this.curHp)},l.getPanelValueReal=function(){return this.mapProgressToValueReal(this.curHp)},l.mapProgressToValue=function(e){var t=this.value[0],i=this.value[1];return t+e/this.maxHp*(i-t)},l.mapProgressToValueReal=function(e){var t=this.value[2]?this.value[2]:this.value[0],i=this.value[3]?this.value[3]:this.value[1];return t+e/this.maxHp*(i-t)},l.collPlayer=function(){var e=Number(this.getPanelValueReal());switch(this.buffType){case o:this.ValueType==p&&this.mar.player.setBaseBuff("mul","as",e);break;case n:this.ValueType==h?this.mar.player.setBaseBuff("add","atk",e):this.ValueType==p&&this.mar.player.setBaseBuff("mul","atk",e);break;case v:this.ValueType==h&&this.mar.player.setBaseBuff("add","burst",e);break;case y:this.ValueType==h?this.mar.player.setBaseBuff("add","role",e):this.ValueType==p&&this.mar.player.setBaseBuff("mul","role",e);break;case f:this.ValueType==h&&this.mar.player.setBaseBuff("add","critRate",e);break;case c:this.ValueType==h&&this.mar.player.setBaseBuff("add","critDmg",e)}},a}(l));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritBulletConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritTalentConfig.ts","./AudioManager.ts","./BattleManager.ts","./EffectManager2.ts","./util2.ts","./GameObject2.ts"],(function(t){var i,e,s,a,o,n,h,r,c,l,p,d,f,g,u,m,v,w;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t.Color,n=t.tween,h=t.Tween,r=t.v2},function(t){c=t.UIPackage},function(t){l=t.TreeSpiritBulletConfig},function(t){p=t.TreeSpiritGameConst},function(t){d=t.TreeSpiritTalentConfig},function(t){f=t.default},function(t){g=t.default},function(t){u=t.default},function(t){m=t.default},function(t){v=t.default,w=t.PhysicTags}],execute:function(){a._RF.push({},"38a0eb+yptGaI4J03HTGMad","GameEnemy",void 0),t("default",function(t){function a(i,e,s,a){var o,n;return void 0===e&&(e=0),void 0===s&&(s=null),(n=t.call(this)||this).ev=void 0,n.isStatic=!1,n.isKine=!1,n.isColl=!0,n.collBehavior=((o={})[w.player]="cross",o[w.panel]="cross",o),n.tag=w.enemy,n.timer=0,n.hp=100,n.view=void 0,n.isChainTarget=!1,n.projective=!0,n.talentId=null,n.birthIdx=null,n.waveId=null,n.hpText=void 0,n.oriScaleX=1,n.oriScaleY=1,n.isCrossMove=!1,n.crossMoveDis=0,n.hpLerpTimer=0,n.dmgList={},n.dmgTimer=0,n.dmgTween=void 0,n.tempV2=r(),n.collingMap={},n.bornHitWall=void 0,n.targetAngle=0,n.rays=[],n.config=i,n.hp=n.config.hp,n.talentId=e,n.birthIdx=s,n.waveId=a,n.start(),n}i(a,t),a.getEnemyView=function(t){var i=this.EnemyViewPool.get(t);i||(i=[],this.EnemyViewPool.set(t,i));var e=i.pop();return e||(e=c.createObjectFromURL("ui://"+p.data.UIPackage+"/"+t)),e},a.putEnemyView=function(t,i){var e=this.EnemyViewPool.get(t);e||(e=[],this.EnemyViewPool.set(t,e)),e.push(i)},a.clearEnemyViewPool=function(){this.EnemyViewPool.forEach((function(t,i){t.forEach((function(t){t.dispose()}))})),a.EnemyViewPool.clear()};var y=a.prototype;return y.start=function(){this.speed=this.config.speed,this.bindEvents(),this.createView(),this.hp=this.config.hp,this.view.visible=!0,this.moveByPath()},y.createView=function(){var t=e(s().mark((function t(){var i,e,h=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.view=a.getEnemyView(this.config.view),this.targetAngle=this.view.rotation,this.view.getChild("icon").color=o.WHITE,this.ev.on("dispose",(function(){h.view.removeFromParent(),a.putEnemyView(h.config.view,h.view)})),this.hpText=this.view.getChild("title"),this.config.isBoss?(g.inst.layers.boss.addChild(this.view),this.setPos(375,350)):(g.inst.layers.enemy.addChild(this.view),i=null!=this.birthIdx?this.birthIdx+1:m.pickRandom(this.game.config.birthPos),(e=125+i*(500/7)+(null!=this.birthIdx?0:100*Math.random()-50))<175?e=175:e>575&&(e=575),this.setPos(e,600),this.game.enemyBoss.xiongShake(i),console.log("这里播敌人出场特效"),this.speed*=1.5,this.view.m_anim.setScale(0,0),.3,n(this.view.m_anim).to(.3,{scaleX:1,scaleY:1},{easing:"backOut"}).call((function(){h.speed/=1.5})).tag(88888).start(),this.view.m_shadow.setScale(0,0),n(this.view.m_shadow).to(.3,{scaleX:1,scaleY:1},{easing:"backOut"}).tag(88888).start(),this.hpText.setScale(0,0),n(this.hpText).to(.3,{scaleX:1,scaleY:1},{easing:"backOut"}).tag(88888).start()),this.oriScaleX=this.view.scaleX,this.oriScaleY=this.view.scaleY,this.updateView(),this.ev.emit("created"),this.config.isBoss||this.ev.on("update",(function(t){if(h.pos.y>h.game.player.pos.y-120){h.game.player.damage(1),h.kill();h.projectPos(h.pos),h.projectScale(h.pos);f.inst.playEffect("treeSpiritbaozha")}else if(h.isCrossMove){var i=h.projectScale(h.pos),e=h.config.crossSpeed*t*i;h.crossMoveDis>0?(h.setPos(h.x+e,h.y),h.crossMoveDis-=e,h.crossMoveDis<=0&&(h.isCrossMove=!1)):(h.setPos(h.x-e,h.y),h.crossMoveDis+=e,h.crossMoveDis>=0&&(h.isCrossMove=!1)),(h.pos.x>=h.game.config.colRange[1]||h.pos.x<=h.game.config.colRange[0])&&(h.isCrossMove=!1)}else h.setPos(h.x,h.y+h.speed*t)})),this.updateHP(),this.view.scaleX=Math.abs(this.view.scaleX),this.size.set(this.view.width*Math.abs(this.view.scaleX),this.view.height*Math.abs(this.view.scaleY)),this.pivot.x=this.view.pivotX,this.pivot.y=this.view.pivotY,this.createAABB(),this.lerpDMG(),this.createSpine(),null!=this&&this.talentId?(this.view.m_withItem.selectedIndex=1,this.view.m_item.component.getChild("icon").url="ui://"+p.data.LVPackage+"/"+d.data[this.talentId].brick,this.view.m_item.component.getChild("title").text=d.data[this.talentId].desc):this.view.m_withItem.selectedIndex=0;case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),y.playAnim=function(t){this.view.m_anim.url="ui://"+p.data.UIPackage+"/"+t},y.createSpine=function(){},y.lerpDMG=function(){var t=this;this.ev.on("update",(function(i){if(t.game.prevEnemyY=Math.max(t.y+.5*t.h,t.game.prevEnemyY),t.hpLerpTimer-=i,t.hpLerpTimer>0){var e=Number(t.hpText.text);t.updateHP(m.lerp(e,t.hp,.2))}t.dmgTimer-=i}))},y.updateHP=function(t){void 0===t&&(t=this.hp),this.hpText.text=t.toFixed(0)},y.damaged=function(t){var i,e;if(this.enabled&&this.game.player.enabled&&!this.game.noDMG){var s=t.attr.getPlayerBulletDmg(),a=s.dmg+t.atk;if(t.config.head_def_hp.length>0)for(var o=0;o<t.config.head_def_hp.length;o++){var n=this.config.hp*t.config.head_def_hp[o],h=this.config.hp*(t.config.head_def_hp[o+1]||0);if(this.hp<n&&this.hp>h){a*=t.config.head_def_mul[o];break}}if(this.hp<p.data.head_def_theshold&&(a*=p.data.head_def_mul),(i=this.dmgList)[e=t.weapon.uuid]||(i[e]=0),this.dmgList[t.weapon.uuid]+=a,this.hp-=s.dmg,this.hp=Math.max(this.hp,0),t.config.ballistic==l.E_ballistic.ray?this.hpLerpTimer=1:this.updateHP(this.hp),this.dmgTimer<=0){if(t.config.ballistic==l.E_ballistic.ray||t.config.ballistic==l.E_ballistic.chain)this.projectPos(this.tempV2.set(this.x+.5*this.w,this.y+.5*this.h)),this.projectScale(this.tempV2);else t.playHitEffect();this.dmgTimer=p.data.hit_effect_cd}f.inst.playEffect(t.config.sounds.hit),this.hp<=0?this.kill():this.playDamagedEffect(),this.ev.emit("damaged",s.dmg,s.isCrit);var r=this.projectPos(this.pos);u.inst.createDamageBoard(s.dmg,s.isCrit,r.x+50*Math.random()-80,r.y+30*Math.random()-15)}},y.playDamagedEffect=function(){var t=this;this.dmgTween?this.dmgTween.stop():this.ev.on("dispose",(function(){var i;null==(i=t.dmgTween)||i.stop()}));var i=o.WHITE.clone(),e=this.view.getChild("icon");this.dmgTween=n(this.view).to(.05,{scaleY:this.view.scaleY},{onUpdate:function(t,s){i.g=i.b=255*(1-s),e.color=i}}).to(.05,{scaleY:this.view.scaleY},{onUpdate:function(t,s){i.g=i.b=255*s,e.color=i}}).start()},y.kill=function(){var t=e(s().mark((function t(i){var e,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.enabled){t.next=3;break}return t.abrupt("return");case 3:this.config.isBoss?f.inst.playEffect("treeSpirit_die"):f.inst.playEffect("xiaoguai_die"),this.talentId&&this.game.player.addTalentByID(this.talentId),this.game.addKill(1,this),this.enabled=!1,e=this.config.isBoss?2:1,this.projectPos(this.pos),a=this.projectScale(this.pos)*e,u.inst.playAnimEffect("treeSpirit_baozha",this.view.x,this.view.y,a,this.game.layers.effect),f.inst.vibrate(),this.dispose();case 13:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),y.onColl=function(t){var i=v.getObjectByID(t.other);if(i&&i.isColl&&i!=this.bornHitWall){switch(this.collingMap[i.uuid]=i,i.tag){case w.player:break;case w.panel:if(this.isCrossMove)return;this.isCrossMove=!0,this.pos.x<=this.game.config.colRange[0]?this.crossMoveDis=m.pickRandom(this.config.crossDis):this.pos.x>=this.game.config.colRange[1]?this.crossMoveDis=-m.pickRandom(this.config.crossDis):this.crossMoveDis=(Math.random()>.5?-1:1)*m.pickRandom(this.config.crossDis);var e=this.projectScale(this.pos);this.crossMoveDis*=e}this.ev.emit("coll",i)}},y.moveByPath=function(){var t=this;this.isStatic=!1,this.velocity.set(0,0),this.ev.on("update",(function(i){t.enabled&&(t.game.noDMG,Math.abs(t.view.rotation-t.targetAngle)>1&&(t.view.rotation=m.lerp(t.view.rotation,t.targetAngle,.1)))}))},y.checkRay=function(t){var i=this;return t.config.ballistic==l.E_ballistic.ray&&(this.rays=this.rays.filter((function(e){return!e.disposed&&e.ignoreList.includes(i)&&e!=t})),this.rays.length>=6||void this.rays.push(t))},y.dispose=function(){t.prototype.dispose.call(this),h.stopAllByTarget(this.view.m_anim)},a}(v)).EnemyViewPool=new Map,a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnemy2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PackGameConst.ts","./util.ts","./GameRoleBase.ts","./PackAnimConfig.ts"],(function(e){var t,n,i,a,r,s,o,u,c,h,m,f,p;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e.sp,o=e.tween},function(e){u=e.PackGameConst},function(e){c=e.updater,h=e.default,m=e.delay},function(e){f=e.default},function(e){p=e.PackAnimConfig}],execute:function(){r._RF.push({},"6f3eeJtxHRFW5T54l+1sm2w","GameEnemy",void 0);e("default",function(e){function r(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).sound={attack:14003,hit:14004,hit_restore:14005,round_restore:14006},t.config=void 0,t.float_name="enemy_float",t}t(r,e);var f=r.prototype;return f.reset=function(e){for(var t in this.config=e,this.hpMax=this.get("hp"),this.hp=this.hpMax,this.baseView=this.game.map.m_enemy_slot,this.updateView(),this.attack_delay=this.config.attack_delay,this.crit_delay=this.config.crit_delay,this.config.sound)this.sound[t]=this.config.sound[t]},f.createView=function(){var e=i(a().mark((function e(){var t,n,i,r,o,u,m=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.dynamicLoadInst("pack","prefab/monster/"+this.config.view,!1);case 2:t=e.sent,this.baseView.node.addChild(t),this.view=t.getComponentInChildren(s.Skeleton),this.node=t,this.playAnim("idle",null),n=this.config.hp_bar_pos,i=p.dataList.find((function(e){return"enemy_shadow"==e.name})),r=this.game.map.m_enemy_shadow,c((function(){if(!m.isAlive)return!0;m.game.map.m_enemy_hp.node.setPosition(m.baseView.node.x+m.node.x+n.x,m.baseView.node.y+m.node.y-n.y),r.node.setPosition(m.baseView.node.x+m.node.x+i.x-.5*r.width,m.baseView.node.y+m.node.y-i.y+.5*r.height)})),o=this.game.map.m_enemy_hp,u=1,o.m_mid.width=o.width-4,c((function(){if(!m.isAlive)return!0;var e=o.value/o.max;e<u&&(u=Math.max(u-.005,e)),isNaN(u)||(o.m_mid.scaleX=u)}));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),f.updateView=function(){this.game.map.m_enemy_hp.max=this.hpMax,this.game.map.m_enemy_hp.value=this.hp,0==this.hp&&(this.game.map.m_enemy_hp.m_mid.scaleX=0)},f.moveFront=function(){var e=i(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFront){e.next=2;break}return e.abrupt("return");case 2:if(!this.config.no_move){e.next=4;break}return e.abrupt("return");case 4:return t=h.getRelativePos(this.game.map.m_enemy_slot,this.game.map.m_enemy_attack_pos),this.playEffect("move"),this.playAnim("run",null),e.next=9,h.tweenSync(o(this.node).to(u.data.forward_time,{x:t.x,y:-t.y}));case 9:if(this.isAlive){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,m(.1);case 13:if(this.isAlive){e.next=15;break}return e.abrupt("return");case 15:this.isFront=!0;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),f.moveBack=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFront){e.next=2;break}return e.abrupt("return");case 2:if(!this.config.no_move){e.next=4;break}return e.abrupt("return");case 4:if(this.isAlive){e.next=6;break}return e.abrupt("return");case 6:return this.playEffect("move2"),this.playAnim("run",null),e.next=10,h.tweenSync(o(this.node).to(u.data.forward_time,{x:0,y:0}));case 10:if(this.isAlive){e.next=12;break}return e.abrupt("return");case 12:this.playAnim("idle"),this.isFront=!1;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),f.kill=function(){e.prototype.kill.call(this),this.game.nextRound()},f.get=function(e){return this.config.attr[e]||0},n(r,[{key:"target",get:function(){return this.game.player}}]),r}(f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnemy22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_monster.ts","./fairygui.mjs","./AudioManager22.ts","./BattleManager22.ts","./DamageBoardPool22.ts","./EffectManager22.ts","./util22.ts","./GameObject22.ts","./GameSpawner2.ts"],(function(i){var t,e,s,a,n,o,h,r,c,l,f,p,d,u,m,v,g,y;return{setters:[function(i){t=i.inheritsLoose,e=i.asyncToGenerator,s=i.regeneratorRuntime},function(i){a=i.cclegacy,n=i.Color,o=i.Vec2},function(i){h=i.default},function(i){r=i.UIPackage},function(i){c=i.default},function(i){l=i.default},function(i){f=i.default},function(i){p=i.default},function(i){d=i.vec2,u=i.default,m=i.isDouyin},function(i){v=i.PhysicTags,g=i.default},function(i){y=i.EnemyOffsetX}],execute:function(){a._RF.push({},"b4ee1xDyvRBA6msHM9GHNow","GameEnemy2",void 0);i("default",function(i){function a(t){var e;return(e=i.call(this)||this).ev=void 0,e.isStatic=!1,e.isKine=!1,e.isColl=!0,e.collBehavior={},e.tag=v.enemy,e.timer=0,e.hp=100,e.pivot=d(.5,1),e.view=void 0,e.projective=!0,e.data=void 0,e.animUrl=void 0,e.animIcon=void 0,e.atkTime=0,e.curAnim="move",e.hpText=void 0,e.hpBar=void 0,e.config=t,e.hp=e.config.hp,e.data=t.data,e}t(a,i);var g=a.prototype;return g.getView=function(){a.pool||(a.pool=new f((function(){return h.createInstance()}),500,!1));var i=l.inst.layers.enemy;return a.pool.fetch(i)},g.returnView=function(){a.pool.return(this.view),this.view=null},g.createView=function(){var i=e(s().mark((function i(){var t,e,a=this;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=this.config,this.view=this.getView(),this.view.alpha=0,this.view.sortingOrder=null,this.view.setPosition(t.x,t.y),this.view.setSize(t.conf.size[0],t.conf.size[1]),(e=this.view.getChild("title")).fontSize=t.conf.fontSize,e.text=t.hp.toString(),this.animIcon=this.view.getChild("icon"),this.animUrl=t.conf.icon?"ui://"+u.parseURL(t.conf.icon).package+"/"+u.parseURL(t.conf.icon).name:"ui://shoudaqiao2_res/qiang",m()&&!this.data.boss&&r.getItemByURL(this.animUrl+"_frame")&&(this.animUrl+="_frame"),this.animIcon.url=this.animUrl,this.ev.on("dispose",(function(){return a.returnView()})),l.inst.layers.enemy.addChildAt(this.view,0),this.setColor(n.WHITE),this.hpText=this.view.getChild("title"),this.hpText.visible=!!this.data.boss,this.hpBar=this.view.getChild("hp"),this.ev.emit("created"),this.size.set(this.view.width*this.view.scaleX,this.view.height*this.view.scaleY),this.createAABB(),this.ev.on("update",(function(i){if(a.game.prevEnemyY=Math.max(a.y+.5*a.h,a.game.prevEnemyY),a.view&&(a.view.alpha=a.pos.y>0?1:0),a.view.y>=a.game.player.y-400){a.velocity.set(a.game.player.x-a.x,a.game.player.y-150-a.y),a.velocity.normalize().multiplyScalar(a.speed/60),"move"==a.curAnim&&o.distance(a.pos,a.game.player.pos)<200&&(a.curAnim="atk",a.animIcon.url=a.animUrl+"_atk"),"atk"==a.curAnim&&(a.atkTime+=i,a.atkTime>.5&&o.distance(a.pos,a.game.player.pos)<200&&(a.atkTime=0,a.game.player.items.length>1?a.game.player.removeWeapon():a.game.player.damaged(a)))}})),this.updateHP();case 24:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),g.start=function(){var i=this;this.bindEvents(),this.createView(),this.hp=this.config.hp,this.setPos(this.config.x+y,this.config.y),this.velocity.set(0,this.speed/60),this.ev.on("created",(function(){i.view.visible=!0}))},g.damaged=function(i){if(this.enabled){var t=i.attr.getPlayerBulletDmg(),e=t.dmg,s=e;if(this.data.def&&this.game.isHard&&i.config.def_hp.length>0)for(var a=0;a<i.config.def_hp.length;a++){var n=this.config.hp*i.config.def_hp[a],o=this.config.hp*(i.config.def_hp[a+1]||0);if(this.hp<n&&this.hp>o){e*=i.config.def_mul[a];break}}if(this.hp-=e,this.hp=Math.max(this.hp,0),i.config.dmg_board){var h=t.isCrit?"dmg_board_crit":"dmg_board";p.inst.createDamageBoard(s,h,this.view.x,this.view.y,this.view.scaleX)}this.updateHP(),0==this.hp?this.kill():this.data.boss&&p.inst.createDamagedEffect(this.view,this.color),this.ev.emit("damaged",t.dmg)}},g.updateHP=function(){this.hpBar.visible=this.hp<this.config.hp,this.hpBar.visible&&(this.hpBar.value=100*this.hp/this.config.hp),this.hpText.visible&&(this.hpText.text=this.hp.toFixed(0))},g.kill=function(){var i=e(s().mark((function i(t){var e,a;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.enabled){i.next=3;break}return i.abrupt("return");case 3:this.enabled=!1,e=this.data.boss?2:1,a=this.data.boss?"shoudaqiao2_res@boss_kill":"shoudaqiao2_res@effect_kill",p.inst.playAnimEffect(a,this.view.x,this.view.y,this.view.scaleX*e,this.game.layers.effect),c.inst.playEffect(l.inst.config.monster_dead_sound||"dead"),c.inst.vibrate(),this.data.sp&&this.game.spawner.loadWaveSP(this.data.sp,this.y),this.dispose(),this.game.addKill();case 12:case"end":return i.stop()}}),i,this)})));return function(t){return i.apply(this,arguments)}}(),a}(g)).pool=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnemy3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./UI_monster2.ts","./AudioManager2.ts","./BattleManager2.ts","./DamageBoardPool2.ts","./util3.ts","./GameObject.ts","./EffectManager.ts"],(function(t){var i,e,s,a,n,h,o,r,c,f,l,d,u,p,v,g;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,n=t.Color},function(t){h=t.UIPackage},function(t){o=t.default},function(t){r=t.default},function(t){c=t.default},function(t){f=t.default},function(t){l=t.vec2,d=t.default,u=t.isDouyin},function(t){p=t.PhysicTags,v=t.default},function(t){g=t.default}],execute:function(){a._RF.push({},"93cff81eLNKYLtjaNGlyikj","GameEnemy",void 0),t("default",function(t){function a(i){var e;return(e=t.call(this)||this).ev=void 0,e.isStatic=!1,e.isKine=!1,e.isColl=!0,e.collBehavior={},e.tag=p.enemy,e.timer=0,e.hp=100,e.pivot=l(.5,1),e.view=void 0,e.projective=!0,e.data=void 0,e.hpText=void 0,e.hpBar=void 0,e.config=i,e.hp=e.config.hp,e.data=i.data,e}i(a,t);var v=a.prototype;return v.getView=function(){a.pool||(a.pool=new f((function(){return o.createInstance()}),500,!1));var t=c.inst.layers.enemy;return a.pool.fetch(t)},v.returnView=function(){a.pool.return(this.view),this.view=null},v.createView=function(){var t=e(s().mark((function t(){var i,e,a,o,r=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this.config,this.view=this.getView(),this.view.alpha=0,this.view.sortingOrder=null,this.view.setPosition(i.x,i.y),this.view.setSize(i.conf.size[0],i.conf.size[1]),(e=this.view.getChild("title")).fontSize=i.conf.fontSize,e.text=i.hp.toString(),a=this.view.getChild("icon"),o=i.conf.icon?"ui://"+d.parseURL(i.conf.icon).package+"/"+d.parseURL(i.conf.icon).name:"ui://shoudaqiao_res/qiang",u()&&!this.data.boss&&h.getItemByURL(o+"_frame")&&(o+="_frame"),a.url=o,this.ev.on("dispose",(function(){return r.returnView()})),c.inst.layers.enemy.addChildAt(this.view,0),this.setColor(n.WHITE),this.hpText=this.view.getChild("title"),this.hpText.visible=!!this.data.boss,this.hpBar=this.view.getChild("hp"),this.ev.emit("created"),this.size.set(this.view.width*this.view.scaleX,this.view.height*this.view.scaleY),this.createAABB(),this.ev.on("update",(function(){r.game.prevEnemyY=Math.max(r.y+.5*r.h,r.game.prevEnemyY),r.view&&(r.view.alpha=r.pos.y>0?1:0),r.view.y>=r.game.player.y-180&&(r.game.player.damaged(r),r.kill())})),this.updateHP();case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),v.start=function(){var t=this;this.bindEvents(),this.createView(),this.hp=this.config.hp,this.setPos(this.config.x,this.config.y),this.velocity.set(0,this.game.config.scroll/60),this.ev.on("created",(function(){t.view.visible=!0}))},v.damaged=function(t){if(this.enabled){var i=t.attr.getPlayerBulletDmg(),e=i.dmg+t.atk,s=e;if(this.data.def&&this.game.isHard&&t.config.def_hp.length>0)for(var a=0;a<t.config.def_hp.length;a++){var n=this.config.hp*t.config.def_hp[a],h=this.config.hp*(t.config.def_hp[a+1]||0);if(this.hp<n&&this.hp>h){e*=t.config.def_mul[a];break}}if(this.hp-=e,this.hp=Math.max(this.hp,0),t.config.dmg_board){var o=i.isCrit?"dmg_board_crit":"dmg_board";g.inst.createDamageBoard(s,o,this.view.x,this.view.y,this.view.scaleX)}this.updateHP(),0==this.hp?this.kill():this.data.boss&&g.inst.createDamagedEffect(this.view,this.color),this.ev.emit("damaged",i.dmg)}},v.updateHP=function(){this.hpBar.visible=this.hp<this.config.hp,this.hpBar.visible&&(this.hpBar.value=100*this.hp/this.config.hp),this.hpText.visible&&(this.hpText.text=this.hp.toFixed(0))},v.kill=function(){var t=e(s().mark((function t(i){var e,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.enabled){t.next=3;break}return t.abrupt("return");case 3:this.enabled=!1,e=this.data.boss?2:1,a=this.data.boss?"shoudaqiao_res@boss_kill":"shoudaqiao_res@effect_kill",g.inst.playAnimEffect(a,this.view.x,this.view.y,this.view.scaleX*e,this.game.layers.effect),r.inst.playEffect(c.inst.config.monster_dead_sound||"dead"),r.inst.vibrate(),this.data.sp&&this.game.spawner.loadWaveSP(this.data.sp,this.y),this.dispose(),this.game.addKill();case 12:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),a}(v)).pool=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnemyBoss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritBulletConfig.ts","./TreeSpiritGameConst.ts","./YT.ts","./AudioManager.ts","./BattleManager.ts","./EffectManager2.ts","./GameEnemy.ts"],(function(i){var e,t,a,s,n,h,o,c,r,d,f,m,g,l,p,u;return{setters:[function(i){e=i.inheritsLoose,t=i.asyncToGenerator,a=i.regeneratorRuntime},function(i){s=i.cclegacy,n=i.instantiate,h=i.Prefab,o=i.sp,c=i.Color},function(i){r=i.UIPackage},function(i){d=i.TreeSpiritBulletConfig},function(i){f=i.TreeSpiritGameConst},function(i){m=i.YT},function(i){g=i.default},function(i){l=i.default},function(i){p=i.default},function(i){u=i.default}],execute:function(){s._RF.push({},"c7895GrbA9Ea7L284QCuRIM","GameEnemyBoss",void 0);i("GameEnemyBoss",function(i){function s(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(e=i.call.apply(i,[this].concat(a))||this).headSpine=null,e.animTimeout=null,e.xiongTimeout=[],e.switchTimeout=null,e.affected=!1,e.affectedTimeout=null,e.xiongSpine=[],e.xiongStep=1,e.Headstep=1,e.switching=!1,e.hiting=!1,e.affectedIdx=0,e}e(s,i);var u=s.prototype;return u.createView=function(){var i=t(a().mark((function i(){var e=this;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.view=r.createObjectFromURL("ui://"+f.data.UIPackage+"/"+this.config.view),this.targetAngle=this.view.rotation,this.view.getChild("icon").color=c.WHITE,this.ev.on("dispose",(function(){e.view.removeFromParent(),e.view.dispose()})),l.inst.layers.boss.addChild(this.view),this.setPos(375,350),this.game.gameBGOriY||(this.game.gameBGOriY=this.game.view.m_game_bg.y),this.game.view.m_game_bg.setPosition(this.game.view.m_game_bg.x,this.game.gameBGOriY+(this.view.y+250)*this.view.scaleY),this.oriScaleX=this.view.scaleX,this.oriScaleY=this.view.scaleY,this.updateView(),this.ev.emit("created"),this.hpText=this.view.getChild("title"),this.view.getChild("item").visible=!1,this.view.m_withItem.selectedIndex=0,this.updateHP(),this.view.scaleX=Math.abs(this.view.scaleX),this.size.set(this.view.width*Math.abs(this.view.scaleX),this.view.height*Math.abs(this.view.scaleY)),this.updateView(),this.createAABB(),this.lerpDMG(),this.createSpine();case 23:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),u.createSpine=function(){var i=this,e=n(m.res.get("prefabs/head","treeSpirit",h));this.view.m_spinePos.node.addChild(e),setTimeout((function(){i.headSpine=e.getComponentInChildren(o.Skeleton),i.headSpine.loop=!0,i.headSpine.animation="idle",i.xiongSpine.push(e.getChildByName("xiongL").getComponentInChildren(o.Skeleton)),i.xiongSpine.push(e.getChildByName("xiongR").getComponentInChildren(o.Skeleton))}),1)},u.xiongShake=function(i){var e=this,t=i<=3?0:1;i=i<=3?i:i-3,clearTimeout(this.xiongTimeout[t]),this.xiongSpine[t].loop=!1,this.xiongSpine[t].animation="appear",this.xiongTimeout[t]=setTimeout((function(){e.xiongSpine[t].animation="idle"}),550)},u.damaged=function(i){var e,t,a=this;if(this.enabled&&this.game.player.enabled&&!this.game.noDMG){var s=i.attr.getPlayerBulletDmg(),n=s.dmg+i.atk;if(i.config.head_def_hp.length>0)for(var h=0;h<i.config.head_def_hp.length;h++){var o=this.config.hp*i.config.head_def_hp[h],c=this.config.hp*(i.config.head_def_hp[h+1]||0);if(this.hp<o&&this.hp>c){n*=i.config.head_def_mul[h];break}}if(this.hp<f.data.head_def_theshold&&(n*=f.data.head_def_mul),(e=this.dmgList)[t=i.weapon.uuid]||(e[t]=0),this.dmgList[i.weapon.uuid]+=n,this.hp=Math.max(this.hp,0),this.game.config.ReductionHp&&this.game.config.ReductionRate)for(var r=this.game.config.ReductionHp.length-1;r>=0;r--)if(this.hp<=this.game.config.ReductionHp[r]*this.config.hp){s.dmg*=this.game.config.ReductionRate[r];break}this.hp-=s.dmg,1==this.xiongStep&&this.hp<.85*this.config.hp&&(this.xiongStep=2,this.xiongSpine.forEach((function(i){i.animation="idle_"+a.xiongStep}))),1==this.Headstep&&this.hp<.5*this.config.hp&&(this.Headstep=2,this.switching=!0,this.headSpine.loop=!1,this.headSpine.animation="switch",this.switchTimeout=setTimeout((function(){a.switching=!1,a.headSpine.loop=!0,a.headSpine.animation="idle_"+a.Headstep}),1500)),i.config.ballistic==d.E_ballistic.ray?this.hpLerpTimer=1:this.updateHP(this.hp);if(this.dmgTimer<=0){if(i.config.ballistic==d.E_ballistic.ray||i.config.ballistic==d.E_ballistic.chain){var m=this.projectPos(this.tempV2.set(this.x+.5*this.w,this.y+.5*this.h+100*Math.random())),l=this.projectScale(this.tempV2);p.inst.playAnimEffect("effect_hit",m.x,m.y,this.game.scale*l,this.game.layers.effect)}else i.playHitEffect(100*Math.random());this.dmgTimer=f.data.hit_effect_cd}this.hp<=0?this.kill():(this.playDamagedEffect(),g.inst.playEffect(i.config.sounds.hit),this.switching||this.hiting||(clearTimeout(this.animTimeout),this.hiting=!0,this.headSpine.loop=!1,this.headSpine.animation="hit",this.animTimeout=setTimeout((function(){a.hiting=!1,a.switching||(a.headSpine.loop=!0,a.headSpine.animation="idle")}),500))),this.ev.emit("damaged",s.dmg,s.isCrit),p.inst.createDamageBoard(s.dmg,s.isCrit,this.x+50*Math.random()-80,this.y+30*Math.random()-15),this.affected||(this.affected=!0,this.affectedTimeout=setTimeout((function(){a.affected=!1}),1e3),g.inst.playEffect("treeSpirit_affected_"+this.affectedIdx),this.affectedIdx=(this.affectedIdx+1)%4)}},u.dispose=function(){i.prototype.dispose.call(this),clearTimeout(this.animTimeout),clearTimeout(this.xiongTimeout[0]),clearTimeout(this.xiongTimeout[1]),clearTimeout(this.switchTimeout),clearTimeout(this.affectedTimeout)},s}(u));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./CommonSaveData.ts","./YT.ts","./gEvents.ts"],(function(t){var e,a,n,r,i,o,s,c,u,l,d,m;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t.game,o=t.Game,s=t.LabelOutline,c=t.Component},function(t){u=t.GameManager},function(t){l=t.CommonSaveData},function(t){d=t.YT},function(t){m=t.gEvents}],execute:function(){r._RF.push({},"732605o2cJAC51MOQ+0KhY9","GameEntry",void 0);var p=1;t("GameEntry",function(t){function r(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).ctrl=null,e}e(r,t);var c=r.prototype;return c.init=function(){d.logic=this.ctrl=new u,this.gameTimeScaleExtend()},c.startGame=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ctrl.onGameStart();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.gameTimeScaleExtend=function(){i._calculateDT=function(){var t=performance.now();return this._deltaTime=t>this._startTime?(t-this._startTime)/1e3:0,this._deltaTime>o.DEBUG_DT_THRESHOLD&&(this._deltaTime=this.frameTime/1e3),this._startTime=t,this._deltaTime*p},s.prototype.onDisable=null},c.setTimeScale=function(t){p=t},c.vibrate=function(t){l.instance.isVibrate&&d.platform.Vibrate(t)},c.watchAD=function(){var t=a(n().mark((function t(e){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.platform.ads.showRewardvideoAdAsync();case 2:return(a=t.sent)&&(d.data.userData.adCount++,d.data.dailyData.adCount++,d.data.userData.save=!0,d.data.checkSpSkinUnlock(),d.dataSdk.reportEvent("ad_watch_finish",{ad_pos:e,ad_state:d.logic.state._configBundle,level_id:d.data.userData.chapterId})),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.showLoading=function(){d.message.dispatchEvent(m.on_invoke_loading)},c.hideLoading=function(){d.message.dispatchEvent(m.on_remove_loading)},c.update=function(t){d.deltaTime=t,this.ctrl.updatable&&this.ctrl.update(t)},c.lateUpdate=function(t){this.ctrl.updatable&&this.ctrl.lateUpdate(t)},r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameGem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritGameConst.ts","./AudioManager.ts","./BattleManager.ts","./util2.ts","./GameObject2.ts"],(function(e){var t,i,n,o,a,s,r,c,d,l,u,h,v,f,p;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e.RigidBody2D,s=e.ERigidBody2DType,r=e.CircleCollider2D,c=e.tween},function(e){d=e.UIPackage},function(e){l=e.TreeSpiritGameConst},function(e){u=e.default},function(e){h=e.default},function(e){v=e.default,f=e.vec2},function(e){p=e.default}],execute:function(){o._RF.push({},"25f66l0idlEZoT+XplhLI4l","GameGem",void 0);e("default",function(e){function o(){var t;return(t=e.call(this)||this).enabled=!0,t.ignoreList=[],t.isColl=!1,t.body=void 0,t.collider=void 0,t}t(o,e);var p=o.prototype;return p.init=function(e,t,i){this.bindEvents(),this.createView(),this.view.setPosition(e+v.randomRange(-5,5),t),this.view.rotation=v.randomRange(0,360),this.createB2Physic(),i&&this.makeCanPick()},p.makeCanPick=function(){var e=this;h.delay(10,(function(){e.disposed||e.moveToPlayer()})),this.ev.on("update",(function(){v.vecFlatDist(e,e.game.player)<200&&e.onPick()}))},p.moveToPlayer=function(){var e=this,t=0;this.body.enabled=!1,this.ev.on("update",(function(i){(t+=i)<1?(e.pos.lerp(f(e.game.player.x,e.game.player.y-50),.1),e.setPos(e.pos.x,e.pos.y)):e.onPick()}))},p.createB2Physic=function(){var e=this,t=this.view.node;this.createBody(t),this.createCollider(t);var i=0;this.ev.on("update",(function(){if(e.enabled&&e.body.enabled){var t=e.body.node.getWorldPosition();i||(i=e.view.x-t.x),e.setPos(t.x+i,e.game.view.height-t.y)}}))},p.createBody=function(e){var t=e.addComponent(a);e.obj=this,t.type=s.Dynamic,this.body=t},p.createCollider=function(e){var t=e.addComponent(r);t.radius=.5*this.view.width,t.restitution=.5,this.collider=t},p.createView=function(){var e=i(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view=d.createObject(l.data.UIPackage,"Gem"),this.view.node.obj=this,this.game.layers.part.addChild(this.view),this.ev.emit("created"),this.ev.on("dispose",(function(){t.view.dispose()}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),p.bindView=function(e){this.view=e,this.game.view.addChild(this.view),this.view.node.obj=this,this.ev.emit("created")},p.onPick=function(){var e=this;if(this.enabled){this.enabled=!1,this.body.enabled=!1,u.inst.playEffect("gold");var t=this.game.view.m_skill;c(this.view).to(.3,{x:t.x,y:t.y,scaleX:.3,scaleY:.3},{easing:"quadIn"}).call((function(){e.game.player.getMoney(),e.dispose()})).start()}},o}(p));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagManager.ts","./util.ts"],(function(i){var t,e,n,r;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy},function(i){n=i.default},function(i){r=i.vec2}],execute:function(){e._RF.push({},"f30caftit1CKbDKIUHpcWGD","GameGrid",void 0);var s=i("default",function(){function i(){this.grid=[],this.tiles=[],this.view=void 0,this.id=void 0,this.disposed=!1,i.gridIndex+=1,this.id=i.gridIndex}var e=i.prototype;return e.clear=function(){var i;this.grid=[],this.tiles=[],null==(i=this.view)||i.dispose(),this.view=null},e.getGridLoc=function(i){return{x:Math.round(i.x/(this.bag.config.cellSize+this.bag.config.gap)),y:Math.round(i.y/(this.bag.config.cellSize+this.bag.config.gap))}},e.getGridPos=function(i,t){return{x:i*(this.bag.config.cellSize+this.bag.config.gap),y:t*(this.bag.config.cellSize+this.bag.config.gap)}},e.setTile=function(t){var e=this.getGridLoc(t);this.setGrid(e.x,e.y,t),this.tiles.includes(t)||this.tiles.push(t);var n=this.getGridPos(e.x,e.y);t.view.setPosition(n.x,n.y),i.tileIndex+=1},e.removeTile=function(i){var t=this.getGridLoc(i);this.setGrid(t.x,t.y,null),this.tiles.splice(this.tiles.indexOf(i),1),i.dispose()},e.getTileLoc=function(i){return this.getGridLoc(i)},e.isBorder=function(i,t,e){return!this.getGrid(i.x+t,i.y+e)},e.setGrid=function(i,t,e){this.grid[i]||(this.grid[i]=[]),this.grid[i][t]=e},e.getGrid=function(i,t){return this.grid[i]?this.grid[i][t]:null},e.dispose=function(){var i;this.disposed||(this.disposed=!0,null==(i=this.view)||i.dispose(),this.tiles.length=0,this.grid.length=0)},e.getTileCenterPos=function(){var i=[];for(var t in this.grid)for(var e in this.grid[t]){var n=this.grid[t][e];n&&i.push({x:n.x,y:n.y})}var s=i.reduce((function(i,t){return r(i.x+t.x,i.y+t.y)}));return r(s.x/i.length,s.y/i.length).add(r(.5*this.bag.config.cellSize,.5*this.bag.config.cellSize))},e.getTileCenterLoc=function(){var i=[];for(var t in this.grid)for(var e in this.grid[t]){this.grid[t][e]&&i.push({x:Number(t),y:Number(e)})}var n=i.reduce((function(i,t){return r(i.x+t.x,i.y+t.y)}));return r(n.x/i.length,n.y/i.length)},e.getTileViewSize=function(){var i=1/0,t=0,e=1/0,n=0;for(var r in this.grid)for(var s in this.grid[r]){var o=this.grid[r][s];o&&(i=Math.min(i,o.x),t=Math.max(t,o.x+o.width),e=Math.min(e,o.y),n=Math.max(n,o.y+o.height))}return{left:i,right:t,top:e,bot:n,w:t-i,h:n-e}},t(i,[{key:"x",get:function(){return this.view.x},set:function(i){this.view.x=i}},{key:"y",get:function(){return this.view.y},set:function(i){this.view.y=i}},{key:"bag",get:function(){return n.inst}}]),i}());s.gridIndex=-1,s.tileIndex=-1,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritBulletConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritTalentConfig.ts","./AudioManager.ts","./BattleManager.ts","./EffectManager2.ts","./util2.ts","./GameObject2.ts"],(function(i){var t,e,s,a,n,o,r,h,c,l,f,u,d,g,v;return{setters:[function(i){t=i.inheritsLoose,e=i.asyncToGenerator,s=i.regeneratorRuntime},function(i){a=i.cclegacy,n=i.Vec2},function(i){o=i.UIPackage},function(i){r=i.TreeSpiritBulletConfig},function(i){h=i.TreeSpiritGameConst},function(i){c=i.TreeSpiritTalentConfig},function(i){l=i.default},function(i){f=i.default},function(i){u=i.default},function(i){d=i.default},function(i){g=i.PhysicTags,v=i.default}],execute:function(){a._RF.push({},"5ec06x9PCNDq6iujr56Cqk9","GameItem",void 0);i("default",function(i){function a(t){var e;return(e=i.call(this)||this).view=void 0,e.ev=void 0,e.isStatic=!1,e.isKine=!1,e.isColl=!0,e.collBehavior={},e.tag=g.drop,e.timer=0,e.value=0,e.pivot=new n(.5,.5),e.onFloor=!1,e.dmgTimer=0,e.config=t,e}t(a,i);var v=a.prototype;return v.start=function(){this.value=this.config.init,this.bindEvents(),this.createView(),this.view.visible=!0;var i=!!this.config.randFlip&&Math.random()<.5,t=this.game.width*d.randomRange(this.config.x[0],this.config.x[1]);i&&(t=this.game.width-t);var e=this.game.height*d.randomRange(this.config.y[0],this.config.y[1]);this.setPos(t,e),this.velocity.set(0,this.config.speed/60),this.checkOnFloor()},v.checkOnFloor=function(){var i=this,t=this.game.floorY-115;this.ev.on("update",(function(e){if(i.dmgTimer-=e,i.y>t&&!i.onFloor&&(i.onFloor=!0,i.velocity.set(0,0)),i.onFloor){if(i.timer+=e,i.timer>i.config.duration)return void i.dispose();if(i.game.player.x<i.x+.5*i.w&&i.game.player.x>i.x-.5*i.w)return void i.onPick()}}))},v.createView=function(){var i=e(s().mark((function i(){var t=this;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.view=o.createObjectFromURL("ui://"+h.data.UIPackage+"/"+this.config.view),this.ev.on("dispose",(function(){return t.view.dispose()})),f.inst.layers.effect.addChild(this.view),this.updateView(),this.ev.emit("created"),this.view.m_state.selectedPage=this.config.state,this.size.set(this.view.width*this.view.scaleX,this.view.height*this.view.scaleY),this.view.m_show.play(),this.updateView(),this.createAABB(),this.updateHP();case 11:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),v.updateHP=function(i){void 0===i&&(i=this.value);var t="";t=this.config.isMul?i>0?"+":"-":i<0?"÷":"x",this.view.title=t+Math.abs(i).toFixed(0)},v.damaged=function(i){this.enabled&&(this.onFloor||this.game.player.enabled&&(this.dmgTimer>0||(this.dmgTimer=.05,this.view.m_hit.play(),i.config.ballistic==r.E_ballistic.ray||i.config.ballistic==r.E_ballistic.chain?u.inst.playAnimEffect("door_hit",this.x+.5*this.w,this.y+.5*this.h,this.game.scale,this.game.layers.effect):u.inst.playAnimEffect("door_hit",i.x,i.y,this.game.scale,this.game.layers.effect),this.value+=1,0==this.value&&this.value++,this.value=Math.min(this.value,this.config.vmax),this.updateHP(this.value),l.inst.playEffect(i.config.sounds.hit),this.ev.emit("damaged",1))))},v.onPick=function(){var i=Math.min(this.value,this.config.rmax);this.game.player.addTalent(c.data[this.config.tf],i),this.dispose()},a}(v));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameConfig.ts","./Awaiters.ts","./YT.ts","./BattleState.ts","./HallState.ts","./Game11State.ts","./ZDGameState.ts","./ZDGameState3.ts","./ZDGameState4.ts","./ZDGameState5.ts","./ZDGameState6.ts","./PackState.ts","./QJState.ts","./SDMState.ts","./SZLBattleState.ts","./SZLBattleState2.ts","./TreeSpiritState.ts"],(function(t){var e,a,n,r,s,u,i,c,o,h,p,f,l,b,m,S,d,w,k,g,_,y,x,G;return{setters:[function(t){e=t.createClass,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t.PhysicsSystem2D,u=t.game,i=t.EPhysics2DDrawFlags},function(t){c=t.SubGameConfig},function(t){o=t.Awaiters},function(t){h=t.YT},function(t){p=t.BattleState},function(t){f=t.HallState},function(t){l=t.Game11State},function(t){b=t.ZDGameState},function(t){m=t.ZDGameState3},function(t){S=t.ZDGameState4},function(t){d=t.ZDGameState5},function(t){w=t.ZDGameState6},function(t){k=t.default},function(t){g=t.default},function(t){_=t.default},function(t){y=t.default},function(t){x=t.default},function(t){G=t.default}],execute:function(){r._RF.push({},"fbea5eywd9B975OhE3f1Pjl","GameManager",void 0);var v=t("EGameState",function(t){return t[t.None=0]="None",t[t.Hall=1]="Hall",t[t.Game=2]="Game",t[t.Extra=3]="Extra",t}({}));t("GameManager",function(){function t(){this._status=v.None,this.state=null,this._updatable=!1,this._isPause=!1}var r=t.prototype;return r.pause=function(){this._isPause=!0,s.instance.enable=!1,s.instance.autoSimulation=!1},r.resume=function(){this._isPause=!1,s.instance.enable=!0,s.instance.autoSimulation=!0},r.onGameStart=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onEnterHall();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.update=function(t){this.state&&this.state.enable&&this.state.update(t,u.deltaTime),this._isPause||h.timer.Update(t)},r.lateUpdate=function(t){this.state&&this.state.enable&&this.state.lateUpdate(t,u.deltaTime),this._isPause||h.timer.LateUpdate(t)},r.onEnterHall=function(){var t=a(n().mark((function t(){var e,a,r,s=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=s.length,a=new Array(e),r=0;r<e;r++)a[r]=s[r];return t.next=3,this._createState.apply(this,[v.Hall].concat(a));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onEnterBattle=function(){var t=a(n().mark((function t(){var e,a,r,s=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=s.length,a=new Array(e),r=0;r<e;r++)a[r]=s[r];return t.next=3,this._createState.apply(this,[v.Game].concat(a));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._prevChangeState=function(){this._updatable=!1,this.state&&(this.state.destroy(),this.state=null)},r._createState=function(){var t=a(n().mark((function t(e){var a,r,s,u,i,c=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this._status==v.Extra&&(a=this.state._sceneBundle),this._prevChangeState(),this._status=e,r=c.length,s=new Array(r>1?r-1:0),u=1;u<r;u++)s[u-1]=c[u];t.t0=e,t.next=t.t0===v.Hall?7:t.t0===v.Game?9:t.t0===v.Extra?11:15;break;case 7:return this.state=new f,t.abrupt("break",15);case 9:return this.state=new p,t.abrupt("break",15);case 11:return t.next=13,this.onEnterMoreGame.apply(this,s);case 13:return t.abrupt("return");case 15:if(!this.state){t.next=24;break}return t.next=18,(i=this.state).onEnterState.apply(i,s);case 18:if(!a){t.next=22;break}return h.res.releaseBundle(a),t.next=22,o.NextFrame();case 22:this._updatable=!0,h.game.hideLoading();case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.onEnterMoreGame=function(){var t=a(n().mark((function t(){var e,a,r,s,u,i=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this._prevChangeState(),e=i.length,a=new Array(e),r=0;r<e;r++)a[r]=i[r];console.error(a),h.game.showLoading(),this._status=v.Extra,s=a[0],h.data.tryEnterSubGame(s),t.t0=a[0],t.next=6===t.t0?10:106===t.t0?11:108===t.t0?13:201===t.t0?15:101===t.t0?16:11===t.t0||12===t.t0||13===t.t0?18:301===t.t0?20:401===t.t0?22:501===t.t0?23:601===t.t0?24:666===t.t0?25:701===t.t0?27:777===t.t0?29:801===t.t0?30:888===t.t0?32:901===t.t0?34:1001===t.t0?36:1101===t.t0?37:1102===t.t0?39:1103===t.t0?40:42;break;case 10:return t.abrupt("break",42);case 11:return this.state=new b,t.abrupt("break",42);case 13:return this.state=new G,t.abrupt("break",42);case 15:return t.abrupt("break",42);case 16:return this.state=new y,t.abrupt("break",42);case 18:return this.state=new l,t.abrupt("break",42);case 20:return this.state=new m,t.abrupt("break",42);case 22:case 23:case 24:return t.abrupt("break",42);case 25:return this.state=new w,t.abrupt("break",42);case 27:return this.state=new S,t.abrupt("break",42);case 29:return t.abrupt("break",42);case 30:return this.state=new d,t.abrupt("break",42);case 32:return this.state=new k,t.abrupt("break",42);case 34:return this.state=new x,t.abrupt("break",42);case 36:return t.abrupt("break",42);case 37:return this.state=new g,t.abrupt("break",42);case 39:return t.abrupt("break",42);case 40:return this.state=new _,t.abrupt("break",42);case 42:if(!this.state){t.next=50;break}return t.next=45,(u=this.state).onEnterState.apply(u,a);case 45:h.dataSdk.reportEvent("subgame_start",{game_name:c.data[s].name}),this._updatable=!0,h.game.hideLoading(),t.next=51;break;case 50:throw new Error("错误的游戏id="+s);case 51:h.logic.resume();case 52:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onRestartGame=function(){var t=a(n().mark((function t(){var e,a,r,s=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=s.length,a=new Array(e),r=0;r<e;r++)a[r]=s[r];return console.log(this._status,a),t.next=4,this._createState.apply(this,[v.Extra].concat(a));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.showDebug=function(){s.instance.debugDrawFlags=i.Aabb|i.Pair|i.CenterOfMass|i.Joint|i.Shape},e(t,[{key:"Paused",get:function(){return this._isPause}},{key:"status",get:function(){return this._status}},{key:"updatable",get:function(){return this._updatable&&!this._isPause}},{key:"isPause",get:function(){return this._isPause}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/GameObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./BattleManager2.ts","./util3.ts"],(function(t){var i,e,s,o,n,h,r,a,u,c,p,v,l,d,f;return{setters:[function(t){i=t.createClass,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,n=t.Vec2,h=t.Color},function(t){r=t.GComponent,a=t.GLoader,u=t.GMovieClip,c=t.GImage},function(t){p=t.default},function(t){v=t.Emitter,l=t.default,d=t.vec2,f=t.throughFGUI}],execute:function(){o._RF.push({},"4474eCzBL5Fy59KVgRFnYxb","GameObject",void 0);var y=t("PhysicTags",function(t){return t.player="player",t.player_bullet="player_bullet",t.enemy="enemy",t.panel="panel",t.none="none",t.bottle="bottle",t.drop="drop",t.chest="chest",t}({})),m=t("default",function(){o.getObjectByID=function(t){return t},o.regObject=function(t){this.ObjectMap[t.uuid]=t};var t=o.prototype;function o(){var t=this;this.uuid=void 0,this.ev=void 0,this.disposed=!1,this.pos=new n,this.pivot=new n(.5,.5),this.size=new n,this.tag=y.none,this.view=void 0,this.isStatic=!0,this.isKine=!1,this.speed=0,this.motion=new n,this.velocity=new n,this.paused=!1,this.enabled=!0,this.isColl=!0,this.endHandler=void 0,this.collBehavior={},this.prevX=0,this.prevY=0,this.moveFilter=function(i,e){var s=o.getObjectByID(e);return t.collBehavior[s.tag]},this.timeScale=1,this.onUpdate=function(i){t.disposed||(t.paused&&(i=0),t.isStatic||t.processMoveState(i*t.timeScale),!t.isStatic&&t.isColl&&t.updateAABB(!1),t.ev.emit("update",i*t.timeScale,i))},this.prevPos=void 0,this.projective=!1,this.pausedAnims=[],this.pausedMovies=[],this.color=h.WHITE,this.uuid="go_"+o.uuid++,o.regObject(this)}return t.setPos=function(t,i){this.pos.x=t,this.pos.y=i,this.updateView(),this.isColl&&this.updateAABB(!0)},t.updateView=function(){this.view&&!this.view.isDisposed&&this.projectView()},t.bindEvents=function(){var t=this;this.ev=new v(this),this.ev.emit("init");var i=this.game.ev.on("update",(function(i){return t.onUpdate(i)}));this.ev.on("dispose",(function(){t.game.ev.off("update",i)}));var e=this.game.ev.on("end",(function(){t.dispose()}));this.ev.on("dispose",(function(){return t.game.ev.off("end",e)}))},t.createView=function(){var t=e(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.emit("created");case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.bindView=function(t){this.view=t,this.ev.emit("created")},t.createAABB=function(){var t=this;this.world.add(this,this.x-this.pivot.x*this.w,this.y-this.pivot.y*this.h,this.w,this.h),this.ev.on("dispose",(function(){return t.removeAABB()}))},t.toPhyPos=function(t,i){return{x:t-this.pivot.x*this.w,y:i-this.pivot.y*this.h}},t.toViewPos=function(t,i){return{x:t+this.pivot.x*this.w,y:i+this.pivot.y*this.h}},t.updateAABB=function(t){var i=this;if(this.world.hasItem(this)){var e=this.toPhyPos(this.x,this.y);if(this.prevX=this.x,this.prevY=this.y,t)this.world.update(this,e.x,e.y);else{var s=this.world.move(this,e.x,e.y,this.moveFilter),o=this.toViewPos(s.x,s.y);this.setPos(o.x,o.y),s.collisions.length>0&&s.collisions.forEach((function(t){i.disposed||i.onColl(t)}))}}},t.removeAABB=function(){this.world.hasItem(this)&&this.world.remove(this)},t.onColl=function(t){var i=o.getObjectByID(t.other);i&&(i.tag,this.ev.emit("coll",i))},t.processMoveState=function(t){this.isKine&&(this.velocity.x=this.motion.x*this.speed*t,this.velocity.y=this.motion.y*this.speed*t),this.setPos(this.pos.x+this.velocity.x*t*60,this.pos.y+this.velocity.y*t*60)},t.dispose=function(){this.disposed||(this.disposed=!0,this.enabled=!1,this.ev.emit("remove"),this.ev.emit("dispose"),this.ev.dispose(),delete o.ObjectMap[this.uuid])},t.adjustRotationByPos=function(t){if(void 0===t&&(t=0),this.prevPos||(this.prevPos=this.pos.clone()),!this.pos.equals(this.prevPos)){var i=this.pos.clone().subtract(this.prevPos);this.view.rotation=l.rad2angle(l.angleObject(i))-90+t,this.prevPos=this.pos.clone()}},t.projectView=function(){if(!this.paused)if(this.projective){var t=1625-this.game.view.height,i=w/g*375-1334,e=1.2*(this.pos.y+t+i)/(1334+i);e=Math.max(0,e),this.view.setScale(e,e);var s=(this.pos.x-375)*e+375,o=this.game.floorY-100,n=this.pos.y>=o?this.pos.y:Math.pow(Math.max(0,this.pos.y/o),1.5)*o;this.view.setPosition(s,n),isNaN(n)}else this.view.setPosition(this.x,this.y)},t.projectPos=function(t){var i=1625-this.game.view.height,e=w/g*375-1334,s=1.2*(t.y+i+e)/(1334+e);s=Math.max(0,s);var o=(t.x-375)*s+375,n=this.game.floorY-100,h=t.y>=n?t.y:Math.pow(Math.max(0,t.y/n),1.5)*n;return d(o,h)},t.projectScale=function(t){var i=1625-this.game.view.height,e=w/g*375-1334,s=1.2*(t.y+i+e)/(1334+e);return s=Math.max(0,s)},t.unprojectPos=function(t){var i=x,e=(t.y+i)/(1334+i),s=(t.x-375)/e+375;return d(s,t.y)},t.pauseAnim=function(){var t=this;f(this.view,(function(i){i instanceof r?i._transitions.forEach((function(i){i.playing&&(i.setPaused(!0),t.pausedAnims.push(i))})):i instanceof a||i instanceof u&&i.playing&&(i.playing=!1,t.pausedMovies.push(i))}))},t.resumeAnim=function(){this.pausedAnims.forEach((function(t){return t.setPaused(!1)})),this.pausedMovies.forEach((function(t){return t.playing=!0})),this.pausedAnims.length=0,this.pausedMovies.length=0},t.setColor=function(t){this.color=t,f(this.view,(function(i){if(i instanceof a||i instanceof c||i instanceof u){if(i.isDisposed)return!0;i.color=t}}))},i(o,[{key:"game",get:function(){return p.inst}},{key:"x",get:function(){return this.pos.x},set:function(t){this.pos.y=t,this.updateView(),this.isColl&&this.updateAABB(!0)}},{key:"y",get:function(){return this.pos.y},set:function(t){this.pos.y=t,this.updateView(),this.isColl&&this.updateAABB(!0)}},{key:"w",get:function(){return this.size.x},set:function(t){this.size.x=t}},{key:"h",get:function(){return this.size.y},set:function(t){this.size.y=t}},{key:"world",get:function(){return p.inst.world}}]),o}());m.ObjectMap={},m.uuid=0;var g=t("upperWidth",246),w=t("upperHeight",2003),x=w/g*375-1334;o._RF.pop()}}}));

System.register("chunks:///_virtual/GameObject2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleManager.ts","./util2.ts"],(function(t){var i,e,s,o,h,n,r,a,c;return{setters:[function(t){i=t.createClass,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,h=t.Vec2},function(t){n=t.default},function(t){r=t.Emitter,a=t.default,c=t.vec2}],execute:function(){o._RF.push({},"671990AZP9LFYsSB7tNqHKp","GameObject",void 0);var u=t("PhysicTags",function(t){return t.player="player",t.player_bullet="player_bullet",t.enemy="enemy",t.panel="panel",t.none="none",t.drop="drop",t}({})),p=t("default",function(){o.getObjectByID=function(t){return t},o.regObject=function(t){this.ObjectMap[t.uuid]=t},o.clear=function(){for(var t in this.ObjectMap){this.ObjectMap[t].dispose()}};var t=o.prototype;function o(){var t=this;this.uuid=void 0,this.ev=void 0,this.disposed=!1,this.pos=new h,this.pivot=new h(.5,.5),this.size=new h,this.tag=u.none,this.view=void 0,this.isStatic=!0,this.isKine=!1,this.speed=0,this.motion=new h,this.velocity=new h,this.enabled=!0,this.isColl=!0,this.endHandler=void 0,this.collBehavior={},this.prevX=0,this.prevY=0,this.moveFilter=function(i,e){var s=o.getObjectByID(e);return t.collBehavior[s.tag]},this.timeScale=1,this.paused=!1,this.onUpdate=function(i){t.disposed||t.paused||(t.isStatic||t.processMoveState(i*t.timeScale),!t.isStatic&&t.isColl&&t.updateAABB(!1),t.ev.emit("update",i*t.timeScale,i))},this.prevPos=void 0,this.projective=!1,this.projectiveScale=1,this.uuid="go_"+o.uuid++,o.regObject(this)}return t.setPos=function(t,i){this.pos.x=t,this.pos.y=i,this.updateView(),this.isColl&&this.updateAABB(!0)},t.updateView=function(){this.view&&!this.view.isDisposed&&this.projectView()},t.bindEvents=function(){var t=this;this.ev=new r(this),this.ev.emit("init");var i=this.game.ev.on("update",(function(i){return t.onUpdate(i)}));this.ev.on("dispose",(function(){t.game.ev.off("update",i)}));var e=this.game.ev.on("end",(function(){t.dispose()}));this.ev.on("dispose",(function(){return t.game.ev.off("end",e)}))},t.createView=function(){var t=e(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.emit("created");case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.bindView=function(t){this.view=t,this.ev.emit("created")},t.createAABB=function(){var t=this;this.world.add(this,this.x-this.pivot.x*this.w,this.y-this.pivot.y*this.h,this.w,this.h),this.ev.on("dispose",(function(){return t.removeAABB()}))},t.toPhyPos=function(t,i){return{x:t-this.pivot.x*this.w,y:i-this.pivot.y*this.h}},t.toViewPos=function(t,i){return{x:t+this.pivot.x*this.w,y:i+this.pivot.y*this.h}},t.updateAABB=function(t,i,e){var s=this;if(this.world.hasItem(this)){var o=this.toPhyPos(this.x,this.y);if(this.prevX=this.x,this.prevY=this.y,t)i&&e?this.world.update(this,o.x,o.y,i,e):this.world.update(this,o.x,o.y);else{var h=this.world.move(this,o.x,o.y,this.moveFilter),n=this.toViewPos(h.x,h.y);this.setPos(n.x,n.y),h.collisions.length>0&&h.collisions.forEach((function(t){s.disposed||s.onColl(t)}))}}},t.removeAABB=function(){this.world.hasItem(this)&&this.world.remove(this)},t.onColl=function(t){var i=o.getObjectByID(t.other);i&&(i.tag,this.ev.emit("coll",i))},t.processMoveState=function(t){this.isKine&&(this.velocity.x=this.motion.x*this.speed*t,this.velocity.y=this.motion.y*this.speed*t),this.setPos(this.pos.x+this.velocity.x*t*60,this.pos.y+this.velocity.y*t*60)},t.dispose=function(){this.disposed||(this.disposed=!0,this.enabled=!1,this.ev.emit("remove"),this.ev.emit("dispose"),this.ev.dispose(),delete o.ObjectMap[this.uuid])},t.adjustRotationByPos=function(t){if(void 0===t&&(t=0),this.prevPos||(this.prevPos=this.pos.clone()),!this.pos.equals(this.prevPos)){var i=this.pos.clone().subtract(this.prevPos);this.view.rotation=a.rad2angle(a.angleObject(i))-90+t,this.prevPos=this.pos.clone()}},t.projectView=function(){if(!this.paused)if(this.projective){var t=1625-this.game.view.height,i=l/v*375-1334,e=this.projectiveScale*(this.pos.y+t+i)/(1334+i);e=Math.max(0,e),this.view.setScale(e,e);var s=(this.pos.x-375)*e+375,o=this.game.floorY-100,h=this.pos.y>=o?this.pos.y:Math.pow(Math.max(0,this.pos.y/o),1.5)*o;this.view.setPosition(s,h),isNaN(h)}else this.view.setPosition(this.x,this.y)},t.projectPos=function(t){var i=1625-this.game.view.height,e=l/v*375-1334,s=this.projectiveScale*(t.y+i+e)/(1334+e);s=Math.max(0,s);var o=(t.x-375)*s+375,h=this.game.floorY-100,n=t.y>=h?t.y:Math.pow(Math.max(0,t.y/h),1.5)*h;return c(o,n)},t.projectPosX=function(t){var i=1625-this.game.view.height,e=l/v*375-1334,s=this.projectiveScale*(t.y+i+e)/(1334+e);return s=Math.max(0,s),(t.x-375)*s+375},t.projectScale=function(t){var i=1625-this.game.view.height,e=l/v*375-1334,s=this.projectiveScale*(t.y+i+e)/(1334+e);return s=Math.max(0,s)},t.unprojectPos=function(t){var i=d,e=(t.y+i)/(1334+i),s=(t.x-375)/e+375;return c(s,t.y)},i(o,[{key:"game",get:function(){return n.inst}},{key:"x",get:function(){return this.pos.x},set:function(t){this.pos.y=t,this.updateView(),this.isColl&&this.updateAABB(!0)}},{key:"y",get:function(){return this.pos.y},set:function(t){this.pos.y=t,this.updateView(),this.isColl&&this.updateAABB(!0)}},{key:"w",get:function(){return this.size.x},set:function(t){this.size.x=t}},{key:"h",get:function(){return this.size.y},set:function(t){this.size.y=t}},{key:"world",get:function(){return n.inst.world}}]),o}());p.ObjectMap={},p.uuid=0;var v=t("upperWidth",246),l=t("upperHeight",2003),d=l/v*375-1334;o._RF.pop()}}}));

System.register("chunks:///_virtual/GameObject22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./BattleManager22.ts","./util22.ts"],(function(t){var i,e,s,o,n,h,r,a,u,c,p,v,l,d,f;return{setters:[function(t){i=t.createClass,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,n=t.Vec2,h=t.Color},function(t){r=t.GComponent,a=t.GLoader,u=t.GMovieClip,c=t.GImage},function(t){p=t.default},function(t){v=t.Emitter,l=t.default,d=t.vec2,f=t.throughFGUI}],execute:function(){o._RF.push({},"420c253qX1AY7GeiZYRtEYX","GameObject2",void 0);var y=t("PhysicTags",function(t){return t.player="player",t.player_bullet="player_bullet",t.enemy="enemy",t.panel="panel",t.dropPanel="dropPanel",t.none="none",t.bottle="bottle",t.drop="drop",t.chest="chest",t}({})),m=t("default",function(){o.getObjectByID=function(t){return t},o.regObject=function(t){this.ObjectMap[t.uuid]=t};var t=o.prototype;function o(){var t=this;this.uuid=void 0,this.ev=void 0,this.disposed=!1,this.pos=new n,this.pivot=new n(.5,.5),this.size=new n,this.tag=y.none,this.view=void 0,this.isStatic=!0,this.isKine=!1,this.speed=0,this.motion=new n,this.velocity=new n,this.paused=!1,this.enabled=!0,this.isColl=!0,this.endHandler=void 0,this.collBehavior={},this.prevX=0,this.prevY=0,this.moveFilter=function(i,e){var s=o.getObjectByID(e);return t.collBehavior[s.tag]},this.timeScale=1,this.onUpdate=function(i){t.disposed||(t.paused&&(i=0),t.isStatic||t.processMoveState(i*t.timeScale),!t.isStatic&&t.isColl&&t.updateAABB(!1),t.ev.emit("update",i*t.timeScale,i))},this.prevPos=void 0,this.projective=!1,this.pausedAnims=[],this.pausedMovies=[],this.color=h.WHITE,this.uuid="go_"+o.uuid++,o.regObject(this)}return t.setPos=function(t,i){this.pos.x=t,this.pos.y=i,this.updateView(),this.isColl&&this.updateAABB(!0)},t.updateView=function(){this.view&&!this.view.isDisposed&&this.projectView()},t.bindEvents=function(){var t=this;this.ev=new v(this),this.ev.emit("init");var i=this.game.ev.on("update",(function(i){return t.onUpdate(i)}));this.ev.on("dispose",(function(){t.game.ev.off("update",i)}));var e=this.game.ev.on("end",(function(){t.dispose()}));this.ev.on("dispose",(function(){return t.game.ev.off("end",e)}))},t.createView=function(){var t=e(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.emit("created");case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.bindView=function(t){this.view=t,this.ev.emit("created")},t.createAABB=function(){var t=this;this.world.add(this,this.x-this.pivot.x*this.w,this.y-this.pivot.y*this.h,this.w,this.h),this.ev.on("dispose",(function(){return t.removeAABB()}))},t.toPhyPos=function(t,i){return{x:t-this.pivot.x*this.w,y:i-this.pivot.y*this.h}},t.toViewPos=function(t,i){return{x:t+this.pivot.x*this.w,y:i+this.pivot.y*this.h}},t.updateAABB=function(t){var i=this;if(this.world.hasItem(this)){var e=this.toPhyPos(this.x,this.y);if(this.prevX=this.x,this.prevY=this.y,t)this.world.update(this,e.x,e.y);else{var s=this.world.move(this,e.x,e.y,this.moveFilter),o=this.toViewPos(s.x,s.y);this.setPos(o.x,o.y),s.collisions.length>0&&s.collisions.forEach((function(t){i.disposed||i.onColl(t)}))}}},t.removeAABB=function(){this.world.hasItem(this)&&this.world.remove(this)},t.onColl=function(t){var i=o.getObjectByID(t.other);i&&(i.tag,this.ev.emit("coll",i))},t.processMoveState=function(t){this.isKine&&(this.velocity.x=this.motion.x*this.speed*t,this.velocity.y=this.motion.y*this.speed*t),this.setPos(this.pos.x+this.velocity.x*t*60,this.pos.y+this.velocity.y*t*60)},t.dispose=function(){this.disposed||(this.disposed=!0,this.enabled=!1,this.ev.emit("remove"),this.ev.emit("dispose"),this.ev.dispose(),delete o.ObjectMap[this.uuid])},t.adjustRotationByPos=function(t){if(void 0===t&&(t=0),this.prevPos||(this.prevPos=this.pos.clone()),!this.pos.equals(this.prevPos)){var i=this.pos.clone().subtract(this.prevPos);this.view.rotation=l.rad2angle(l.angleObject(i))-90+t,this.prevPos=this.pos.clone()}},t.projectView=function(){if(!this.paused)if(this.projective){var t=1625-this.game.view.height,i=w/g*375-1334,e=1.2*(this.pos.y+t+i)/(1334+i);e=Math.max(0,e),this.view.setScale(e,e);var s=(this.pos.x-375)*e+375,o=this.game.floorY-100,n=this.pos.y>=o?this.pos.y:Math.pow(Math.max(0,this.pos.y/o),1.5)*o;this.view.setPosition(s,n),isNaN(n)}else this.view.setPosition(this.x,this.y)},t.projectPos=function(t){var i=1625-this.game.view.height,e=w/g*375-1334,s=1.2*(t.y+i+e)/(1334+e);s=Math.max(0,s);var o=(t.x-375)*s+375,n=this.game.floorY-100,h=t.y>=n?t.y:Math.pow(Math.max(0,t.y/n),1.5)*n;return d(o,h)},t.projectScale=function(t){var i=1625-this.game.view.height,e=w/g*375-1334,s=1.2*(t.y+i+e)/(1334+e);return s=Math.max(0,s)},t.unprojectPos=function(t){var i=x,e=(t.y+i)/(1334+i),s=(t.x-375)/e+375;return d(s,t.y)},t.pauseAnim=function(){var t=this;f(this.view,(function(i){i instanceof r?i._transitions.forEach((function(i){i.playing&&(i.setPaused(!0),t.pausedAnims.push(i))})):i instanceof a||i instanceof u&&i.playing&&(i.playing=!1,t.pausedMovies.push(i))}))},t.resumeAnim=function(){this.pausedAnims.forEach((function(t){return t.setPaused(!1)})),this.pausedMovies.forEach((function(t){return t.playing=!0})),this.pausedAnims.length=0,this.pausedMovies.length=0},t.setColor=function(t){this.color=t,f(this.view,(function(i){if(i instanceof a||i instanceof c||i instanceof u){if(i.isDisposed)return!0;i.color=t}}))},i(o,[{key:"game",get:function(){return p.inst}},{key:"x",get:function(){return this.pos.x},set:function(t){this.pos.y=t,this.updateView(),this.isColl&&this.updateAABB(!0)}},{key:"y",get:function(){return this.pos.y},set:function(t){this.pos.y=t,this.updateView(),this.isColl&&this.updateAABB(!0)}},{key:"w",get:function(){return this.size.x},set:function(t){this.size.x=t}},{key:"h",get:function(){return this.size.y},set:function(t){this.size.y=t}},{key:"world",get:function(){return p.inst.world}},{key:"mar",get:function(){return p.inst}}]),o}());m.ObjectMap={},m.uuid=0;var g=t("upperWidth",246),w=t("upperHeight",2003),x=w/g*375-1334;o._RF.pop()}}}));

System.register("chunks:///_virtual/GamePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeSpiritBulletConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritTalentConfig.ts","./YT.ts","./util2.ts","./GameBullet.ts","./GameObject2.ts","./AudioManager.ts","./EffectManager2.ts"],(function(t){var e,i,s,a,n,o,r,l,h,p,c,u,v,m,f,d,w,g,y,T,_,S;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,n=t.tween,o=t.TweenSystem,r=t.Vec2,l=t.Tween},function(t){h=t.TreeSpiritBulletConfig},function(t){p=t.TreeSpiritGameConst},function(t){c=t.TreeSpiritTalentConfig},function(t){u=t.YT},function(t){v=t.default,m=t.repeat,f=t.PIE},function(t){d=t.default},function(t){w=t.default,g=t.PhysicTags,y=t.upperHeight,T=t.upperWidth},function(t){_=t.default},function(t){S=t.default}],execute:function(){a._RF.push({},"5780aqaoVdDSZHdNmavpOFR","GamePanel",void 0);t("default",function(t){function a(e){var i;return(i=t.call(this)||this).projective=!0,i.isStatic=!0,i.isKine=!1,i.isColl=!0,i.collBehavior={},i.tag=g.panel,i.timer=0,i.view=void 0,i.cd=void 0,i.noDMG=!1,i.interval=null,i.isDropOut=!1,i.intervals=[],i.mul=1,i.add=0,i.hps=[],i.talents=[],i.step=-1,i.lockNum=0,i.treeSpiritMul=0,i.moveTween=null,i.fireTweenPlayTime=0,i.v=e,i.view=e,i}e(a,t);var w=a.prototype;return w.bindView=function(){var t=i(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.on("dispose",(function(){e.dispose()})),this.ev.emit("created"),this.size.set(this.view.width-20,this.view.height-20),this.pos.set(this.view.x,v.getRelativePos(this.game.layers.bg,this.view).y),this.createAABB(),this.ev.on("update",(function(t){e.updateAABB(!0),e.projectView(),e.timer+=t,e.timer>p.data.panel_laser_cd&&(e.timer=0,e.noDMG=!1),e.fireTweenPlayTime>0&&(e.view.m_fireAnim.playing||e.view.m_fireAnim.play(),e.fireTweenPlayTime-=t),e.fireTweenPlayTime<=0&&e.view.m_fireAnim.playing&&e.view.m_fireAnim.stop()}));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),w.projectView=function(){if(!this.paused)if(this.projective){var t=1625-this.game.view.height,e=y/T*375-1334,i=1.2*(this.pos.y+t+e)/(1334+e);i=Math.max(0,i),this.view.setScale(i,i);var s=(this.pos.x-375)*i+375,a=this.game.floorY-100,n=this.pos.y>=a?this.pos.y:Math.pow(Math.max(0,this.pos.y/a),1.5)*a;this.view.setPosition(s,v.getRelativePos(this.view.parent,this.game.layers.bg,s,n).y),isNaN(n)}else this.view.setPosition(this.x,this.y)},w.start=function(){var t=this;this.bindEvents(),this.bindView(),this.view.m_timeTitle.visible=!1;var e=v.parseUIData(this.view);if(console.log(e),e.lock)this.lockNum=e.lock,this.view.title=this.lockNum.toString();else if(e.mul)this.treeSpiritMul=e.mul,this.view.title="x"+e.mul;else if(e.hp){if(this.step=0,this.view.m_withItem.selectedIndex=1,"number"==typeof e.hp?(this.hps=[e.hp],this.talents=[e.tf]):e.hp.forEach((function(i,s){if(e.tf[s]){var a=i.toString().split("_").map((function(t){return Number(t)})),n=e.tf[s].toString().split("_").map((function(t){return Number(t)}));if(a.length==n.length){var o=v.randomInt(0,a.length-1);t.hps.push(a[o]),t.talents.push(n[o])}else console.error("板子配置错误--2: ",t.game.config.view,"  ",t.view.name,"  ",i)}else console.error("板子配置错误--1: ",t.game.config.view,"  ",t.view.name,"  ",i)})),e.time||"number"==typeof e.time){this.view.m_timeTitle.visible=!0;var i=e.time;this.view.m_timeTitle.text=i.toFixed(0),this.interval=setInterval((function(){i-=1,t.view.m_timeTitle.text=i.toFixed(0),i<=0&&(t.dropOut(),clearInterval(t.interval),t.interval=null)}),1e3)}this.updateStep()}else{var s=this.view.getChild("title").text;s.startsWith("x")?this.mul=parseFloat(s.replace("x","")):this.add=parseFloat(s)}e.move&&(this.moveTween=n(this.pos).sequence(n(this.pos).by(e.moveTime?e.moveTime:1,{x:e.move,y:0}),n(this.pos).by(e.moveTime?e.moveTime:1,{x:-e.move,y:0})).repeatForever().tag(88888).start()),u.message.on("TreeSpiritPause",this.gamePause,this)},w.gamePause=function(t){t?o.instance.ActionManager.pauseTargets([this.pos]):o.instance.ActionManager.resumeTargets([this.pos])},w.updateStep=function(){this.add=-this.hps[this.step],this.view.title=this.add.toFixed(0);var t=c.data[this.talents[this.step]];t?(this.view.m_item_slot.icon="ui://"+p.data.LVPackage+"/"+t.brick,this.view.m_item_slot.title=t.desc,this.view.m_desc.text=t.desc,console.log("更新步骤",this.view.m_item_slot.icon,this.view.m_item_slot.title)):console.error("找不到天赋: ",this.talents[this.step])},w.createDrop=function(){var t=c.data[this.talents[this.step]];t?(this.game.player.addTalent(t),this.step+=1,this.hps[this.step]?this.updateStep():this.dispose()):console.error("找不到天赋: ",this.talents[this.step])},w.damaged=function(t){var e=this;if(!this.isDropOut){if(this.lockNum>0)this.lockNum--,this.view.title=this.lockNum.toString(),t.dispose(),this.lockNum<=0&&this.dispose();else if(this.treeSpiritMul){var i=this.treeSpiritMul-1,s=t.config.spread,a=t.pos.clone().subtract(this.pos),n=t.config,o=t.weapon,r=t.atk,l=setInterval((function(){i--,e.fireBullet(s,a,n,o,r,1),i<=0&&clearInterval(l)}),100);this.intervals.push(l)}else{var c=t.config.ballistic==h.E_ballistic.ray;if(c&&this.noDMG)return;if(this.add<0){var u=1;t.atk>p.data.panel_atk_theshold&&(u=p.data.panel_hit_mul),this.add+=u,this.view.title=this.add.toFixed(0),c?this.noDMG=!0:t.dispose(),this.add>=0&&-1!=this.step&&this.createDrop()}else this.mul>1?(c||this.fireBullet(t.config.spread,t.pos.clone().subtract(this.pos),t.config,t.weapon,t.atk,this.mul),c||t.dispose()):this.add>0?t.atk+=this.add:0==this.mul&&(c||t.dispose())}this.onHit(t)}},w.onHit=function(t){_.inst.playEffect("wood"),S.inst.playAnimEffect("effect_hit_panel",t.view.x,t.view.y-50,this.game.scale,this.game.layers.effect)},w.fireBullet=function(t,e,i,s,a,n){var o=this,l=1==n?0:t;1==n&&(t=0);var h=e.clone().add(this.pos).add2f(0,-35),p=h.x-t*(n-1)/2;m(n,(function(t){o.fireTweenPlayTime=.25;var e=new d(i);r.UNIT_X.clone().rotate(.5*-f),e.launch(s,new r(p+l*t,h.y),r.UNIT_X.clone().rotate(.5*-f),null,t),e.ignorePanels.push(o),e.atk=a}))},w.dropOut=function(){var t=this;this.isDropOut=!0,n(this.view).parallel(n(this.view).by(.5,{y:-100},{easing:"circOut"}),n(this.view).to(.5,{rotation:-50},{easing:"circOut"})).by(1,{y:800},{easing:"circIn"}).call((function(){t.dispose()})).start()},w.dispose=function(){u.message.off("TreeSpiritPause",this.gamePause,this),l.stopAllByTarget(this.pos),this.intervals.forEach((function(t){clearInterval(t)})),t.prototype.dispose.call(this),l.stopAllByTarget(this.view),this.interval&&clearInterval(this.interval),this.interval=null,this.view.dispose()},a}(w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePanel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util3.ts","./GameBullet2.ts","./GameObject.ts"],(function(t){var e,i,n,s,a,o,r,u,c,l;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t.Vec2},function(t){o=t.repeat,r=t.PIE},function(t){u=t.default},function(t){c=t.PhysicTags,l=t.default}],execute:function(){s._RF.push({},"c8325qnP9VKJYM/mOYY0bxg","GamePanel",void 0);t("default",function(t){function s(e){var i;return(i=t.call(this)||this).isStatic=!0,i.isKine=!1,i.isColl=!0,i.tag=c.panel,i.timer=0,i.view=void 0,i.cd=void 0,i.noDMG=!1,i.mul=1,i.add=0,i.hps=void 0,i.talents=void 0,i.step=-1,i.v=e,i.view=e,i}e(s,t);var l=s.prototype;return l.bindView=function(){var t=i(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.on("dispose",(function(){return e.view.dispose()})),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.createAABB(),this.ev.on("update",(function(){e.pos.set(e.view.x,e.view.y),e.updateAABB(!0)}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.start=function(){this.bindEvents(),this.bindView();var t=this.view.getChild("title").text;t.startsWith("x")?this.mul=parseFloat(t.replace("x","")):this.add=parseFloat(t)},l.onHit=function(t){this.add<0?(this.add+=1,this.view.title=this.add.toString(),t.dispose()):this.mul>1?(this.fireBullet(t,this.mul),t.dispose()):this.add>0?t.atk+=this.add:0==this.mul&&t.dispose(),this.view.m_hit.play()},l.fireBullet=function(t,e){var i=this,n=t.config.spread,s=1==e?0:n;1==e&&(n=0);var c=t.pos.clone(),l=c.x-n*(e-1)/2;o(e,(function(e){var n=new u(t.config);a.UNIT_X.clone().rotate(.5*-r),n.launch(t.weapon,new a(l+s*e,c.y),a.UNIT_X.clone().rotate(.5*-r),null,e),n.ignorePanels.push(i),n.atk=t.atk}))},s}(l));s._RF.pop()}}}));

System.register("chunks:///_virtual/GamePanel22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util22.ts","./GameBullet22.ts","./GameObject22.ts"],(function(t){var e,i,n,s,a,o,r,u,c,l;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t.Vec2},function(t){o=t.repeat,r=t.PIE},function(t){u=t.default},function(t){c=t.PhysicTags,l=t.default}],execute:function(){s._RF.push({},"47af83bXOZLS56zyYFewzAw","GamePanel2",void 0);t("default",function(t){function s(e){var i;return(i=t.call(this)||this).isStatic=!0,i.isKine=!1,i.isColl=!0,i.tag=c.panel,i.timer=0,i.view=void 0,i.cd=void 0,i.noDMG=!1,i.mul=1,i.add=0,i.hps=void 0,i.talents=void 0,i.step=-1,i.v=e,i.view=e,i}e(s,t);var l=s.prototype;return l.bindView=function(){var t=i(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ev.on("dispose",(function(){return e.view.dispose()})),this.ev.emit("created"),this.size.set(this.view.width,this.view.height),this.createAABB(),this.ev.on("update",(function(){e.pos.set(e.view.x,e.view.y),e.updateAABB(!0)}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.start=function(){this.bindEvents(),this.bindView();var t=this.view.getChild("title").text;t.startsWith("x")?this.mul=parseFloat(t.replace("x","")):this.add=parseFloat(t)},l.onHit=function(t){this.add<0?(this.add+=1,this.view.title=this.add.toString(),t.dispose()):this.mul>1?(this.fireBullet(t,this.mul),t.dispose()):this.add>0?t.atk+=this.add:0==this.mul&&t.dispose(),this.view.m_hit.play()},l.fireBullet=function(t,e){var i=this,n=t.config.spread,s=1==e?0:n;1==e&&(n=0);var c=t.pos.clone(),l=c.x-n*(e-1)/2;o(e,(function(e){var n=new u(t.config);a.UNIT_X.clone().rotate(.5*-r),n.launch(t.weapon,new a(l+s*e,c.y),a.UNIT_X.clone().rotate(.5*-r),null,e),n.ignorePanels.push(i),n.atk=t.atk}))},s}(l));s._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeSpiritBulletConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritTalentConfig.ts","./YT.ts","./UI_powerImage.ts","./AudioManager.ts","./BattleManager.ts","./EffectManager2.ts","./WindowBase.ts","./util2.ts","./GameAttr.ts","./GameObject2.ts","./GameTalent2.ts","./GameWeapon.ts"],(function(t){var e,i,n,a,r,s,o,f,u,c,p,h,l,d,m,v,g,w,y,_,x,T;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.TreeSpiritBulletConfig},function(t){o=t.TreeSpiritGameConst},function(t){f=t.TreeSpiritTalentConfig},function(t){u=t.YT},function(t){c=t.default},function(t){p=t.default},function(t){h=t.default},function(t){l=t.default},function(t){d=t.default},function(t){m=t.default,v=t.Emitter,g=t.vec2},function(t){w=t.default},function(t){y=t.default,_=t.PhysicTags},function(t){x=t.default},function(t){T=t.default}],execute:function(){r._RF.push({},"1c4f9go7x1AjqNiXRPFw6xl","GamePlayer",void 0);t("default",function(t){function r(e){var n;return(n=t.call(this)||this).inPower=!1,n.powerTimer=0,n.money=0,n.power=0,n.ev=new v(i(n)),n.tag=_.player,n.isStatic=!0,n.isColl=!1,n.pivot=g(.5,.5),n.collBehavior={},n.view=void 0,n.items=[],n.talents=[],n.attr=void 0,n.weaponConfig=void 0,n.ctrlable=!0,n.maxHp=0,n.hp=0,n.maxHp=e,n.hp=e,n.game.view.m_playerHp.visible=!1,n}e(r,t);var y=r.prototype;return y.getMoney=function(){var t=this;if(!this.disposed){this.money+=1,this.power+=1;var e=o.data.skill_power;this.power>=e&&(this.power-=e,this.powerShow().then((function(){if(!t.disposed){var e=m.pickRandom([10001]);t.addTalent(f.data[e])}}))),this.updatePower()}},y.powerShow=function(){var t=n(a().mark((function t(){var e,i,n,r,s,o,f=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.createInstance(),i=this.game.view.m_skill,n=i.x,r=i.y,e.setPosition(n,r),this.game.view.addChild(e),s=0,o=this.ev.on("update",(function(t){if((s+=t)<.2);else if(s>1)e.dispose(),f.ev.off("update",o);else{if(s>.7){var i=g(e.scaleX,e.scaleY).lerp(g(0,0),.2);e.setScale(i.x,i.y)}var n=g(e.x,e.y).lerp(f.pos.clone().add2f(0,-50),.2);e.setPosition(n.x,n.y)}})),this.ev.on("dispose",(function(){e.dispose(),f.ev.off("update",o)})),t.next=9,h.delay(1);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),y.powerOn=function(){this.inPower=!0,this.changeWeapon(this.weaponConfig),this.powerTimer+=o.data.skill_dur},y.powerOff=function(){this.disposed||(this.inPower=!1,this.changeWeapon(this.weaponConfig))},y.updatePower=function(){var t=o.data.skill_power;this.game.view.m_skill.m_fg.height=this.game.view.m_skill.height*this.power/t},y.addTalentByID=function(t){this.addTalent(f.data[t])},y.addTalent=function(t,e){var i=this,n=new x(this,t,e);this.talents.push(n),this.attr.clearBuffer(),this.items.forEach((function(t){l.inst.playAnimEffect("treeSpirit_getBuff",t.x,t.y,i.game.scale,i.game.layers.effect)})),this.game.showToast("toast_treeSpirit_common",n.config),p.inst.playEffect("baoxiang");for(var a=function(){var e=s[r];i.attr.setRunTimeAttr(e,t.attr[e]),i.items.forEach((function(i){t.targetBullet&&t.targetBullet!=i.config.id||i.attr.setRunTimeAttr(e,t.attr[e])}))},r=0,s=Object.keys(t.attr);r<s.length;r++)a()},y.addWeapon=function(t,e,i){var n=this;e||(this.weaponConfig=t);var a=new T(t,e,i);return this.attr.runTimeAttr.atk||this.attr.setRunTimeAttr("atk_add",a.config.atk),this.items.push(a),a.bind(this),a.ev.on("dispose",(function(){m.fetchArrEle(n.items,a),a.dispose()})),this.resetItemsPos(),a},y.addWeaponByID=function(){var t=n(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addWeapon(s.data[e],!1,!0);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),y.addChild=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addWeapon(this.items[0].config,!1,!0);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),y.changeWeapon=function(t){0!=t.level&&(this.weaponConfig=t,this.items.forEach((function(e){e.fixed||e.changeWeapon(t)})))},y.bindEvents=function(){var e=this;t.prototype.bindEvents.call(this),this.attr=new w(this),this.isKine=!1;var i=h.inst.gesture.ev.on("pan",(function(t){if(!u.gui.getWindow(d)&&e.ctrlable&&e.enabled){var i=m.clamp(e.x+t.x,o.data.player_moveRange[0],h.inst.width-o.data.player_moveRange[1]),n=m.clamp(e.y+t.y,o.data.player_moveRange[0],h.inst.height-o.data.player_moveRange[1]);n=e.y,e.setPos(i,n),e.ev.emit("dir",Math.sign(t.x)),e.items.forEach((function(t){t.fixed||(t.diffChange(),t.moveUpdate(0),t.projectPosOffset(e.x))}))}})),n=h.inst.gesture.ev.on("off",(function(){e.ev.emit("dir",0)}));this.ev.on("dispose",(function(){return h.inst.gesture.ev.off("pan",i)})),this.ev.on("dispose",(function(){return h.inst.gesture.ev.off("off",n)})),this.ev.on("update",(function(t){e.inPower&&(e.powerTimer-=t,e.powerTimer<=0&&e.powerOff())})),this.updatePower()},y.damage=function(t){this.game.view.m_playerHp.visible=!0,this.hp-=t,this.game.view.m_playerHp.value=this.hp/this.maxHp*100,this.hp<=0&&this.kill()},y.kill=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.enabled){t.next=2;break}return t.abrupt("return");case 2:this.enabled=!1,p.inst.playEffect("PlayerDead"),this.items.forEach((function(t){t.kill(),t.view.m_ride.m_move.stop(),t.view.m_player.m_idle.stop(),t.view.m_player.m_destroy.play()})),this.game.gameLose();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),y.resetItemsPos=function(){for(var t=.3*this.items[0].w,e=this.items.filter((function(t){return!t.fixed})),i=0;i<e.length;i++){var n=Math.ceil(i/2),a=(n*t+.5*t)*(i%2==0?1:-1)*Math.sign(n);e[i].offset.set(a,0)}},y.delay=function(){var t=n(a().mark((function t(e,i){var n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.updater((function(t){return!!n.disposed||((e-=t)<0?(i&&i(),!0):void 0)}));case 2:return t.abrupt("return",!this.disposed);case 3:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r}(y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoTalentConfig.ts","./YT.ts","./AudioManager2.ts","./BattleManager2.ts","./EffectManager.ts","./WindowBase2.ts","./util3.ts","./GameAttr3.ts","./GameObject.ts","./GameTalent.ts","./GameWeapon2.ts"],(function(t){var e,n,i,s,a,o,r,u,f,c,h,l,d,p,v,m,g,y,w;return{setters:[function(t){e=t.inheritsLoose,n=t.assertThisInitialized,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){o=t.ShoudaqiaoTalentConfig},function(t){r=t.YT},function(t){u=t.default},function(t){f=t.default},function(t){c=t.default},function(t){h=t.default},function(t){l=t.default,d=t.Emitter,p=t.vec2},function(t){v=t.default},function(t){m=t.default,g=t.PhysicTags},function(t){y=t.default},function(t){w=t.default}],execute:function(){a._RF.push({},"4fa8fBF0+FMR42JAvlK5oiN","GamePlayer",void 0);t("default",function(t){function a(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).money=0,e.ev=new d(n(e)),e.tag=g.player,e.isStatic=!0,e.isColl=!1,e.pivot=p(.5,.5),e.collBehavior={},e.view=void 0,e.items=[],e.talents=[],e.attr=void 0,e.hp=void 0,e.ctrlable=!0,e}e(a,t);var m=a.prototype;return m.getMoney=function(){this.money+=1},m.addTalentByID=function(t){this.addTalent(o.data[t])},m.addTalent=function(t){var e=this,n=new y(this,t);this.talents.push(n),this.attr.clearBuffer(),this.items.forEach((function(t){c.inst.playAnimEffect("effect_pick",t.x,t.y,e.game.scale,e.game.layers.effect,t.view)})),this.game.showToast(t),u.inst.playEffect("baoxiang")},m.addWeapon=function(t,e){var n=this,i=new w(t,e);return this.items.push(i),i.bind(this),i.ev.on("dispose",(function(){l.fetchArrEle(n.items,i),i.dispose()})),this.resetItemsPos(),i},m.changeWeapon=function(t){this.items.forEach((function(e){e.fixed||e.changeWeapon(t)}))},m.bindEvents=function(){var e=this;t.prototype.bindEvents.call(this),this.attr=new v(this),this.isKine=!1;var n=f.inst.gesture.ev.on("pan",(function(t){if(!f.inst.paused&&!r.gui.getWindow(h)&&e.ctrlable&&e.enabled){var n=l.clamp(e.x+t.x,75,f.inst.width-75),i=l.clamp(e.y+t.y,75,f.inst.height-75);i=e.y,e.setPos(n,i),e.ev.emit("dir",Math.sign(t.x)),t.x>0?e.items.forEach((function(t){return t.flipped=!1})):t.x<0&&e.items.forEach((function(t){return t.flipped=!0}))}})),i=f.inst.gesture.ev.on("off",(function(){e.ev.emit("dir",0)})),s=f.inst.gesture.ev.on("key",(function(t){32==t&&(e.game.paused=!e.game.paused)}));this.ev.on("dispose",(function(){return f.inst.gesture.ev.off("pan",n)})),this.ev.on("dispose",(function(){return f.inst.gesture.ev.off("off",i)})),this.ev.on("dispose",(function(){return f.inst.gesture.ev.off("key",s)})),this.hp=this.game.config.hp,this.updateHP();var a=0;this.ev.on("update",(function(t){(a+=t)>2&&e.game.resortEnemies()}))},m.updateHP=function(){this.game.view.m_hp.value=100*this.hp/this.game.config.hp},m.damaged=function(t){this.hp-=t.data.atk||1,this.hp=Math.max(0,this.hp),this.updateHP(),0==this.hp&&this.kill()},m.kill=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.enabled){t.next=2;break}return t.abrupt("return");case 2:this.enabled=!1,u.inst.playEffect("PlayerDead"),[].concat(this.items).forEach((function(t){t.kill()})),this.game.gameLose();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),m.resetItemsPos=function(){for(var t=.35*this.items[0].w,e=this.items.filter((function(t){return!t.fixed})),n=0;n<e.length;n++){var i=Math.ceil(n/2),s=(i*t+.5*t)*(n%2==0?1:-1)*Math.sign(i);e[n].offset.set(.5*s,.5*Math.abs(s))}},m.delay=function(){var t=i(s().mark((function t(e,n){var i=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.updater((function(t){return!!i.disposed||((e-=t)<0?(n&&n(),!0):void 0)}));case 2:return t.abrupt("return",!this.disposed);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),a}(m));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayer22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoTalentConfig2.ts","./YT.ts","./AudioManager22.ts","./BattleManager22.ts","./EffectManager22.ts","./WindowBase22.ts","./util22.ts","./GameAttr2.ts","./GameObject22.ts","./GameTalent22.ts","./GameWeapon22.ts"],(function(e){var t,i,a,n,s,r,o,l,h,u,c,f,g,m,d,v,p,y,b,w;return{setters:[function(e){t=e.inheritsLoose,i=e.assertThisInitialized,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e.tween},function(e){o=e.ShoudaqiaoTalentConfig},function(e){l=e.YT},function(e){h=e.default},function(e){u=e.default},function(e){c=e.default},function(e){f=e.default},function(e){g=e.default,m=e.Emitter,d=e.vec2},function(e){v=e.default},function(e){p=e.default,y=e.PhysicTags},function(e){b=e.default},function(e){w=e.default}],execute:function(){s._RF.push({},"ea944GnT0BEJqCp0Zfw3QZE","GamePlayer2",void 0);e("default",function(e){function s(){for(var t,a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).money=0,t.ev=new m(i(t)),t.tag=y.player,t.isStatic=!0,t.isColl=!0,t.pivot=d(.5,.5),t.collBehavior={},t.view=void 0,t.items=[],t.talents=[],t.attr=void 0,t.hp=void 0,t.ctrlable=!0,t.beginTweening=!1,t.beginIsLeft=!0,t.beginTypeTime_1=.35,t.beginTypeTime_2=.5,t}t(s,e);var p=s.prototype;return p.getMoney=function(){this.money+=1},p.addTalentByID=function(e){this.addTalent(o.data[e])},p.addTalent=function(e){var t=this,i=new b(this,e);this.talents.push(i),this.attr.clearBuffer(),this.items.forEach((function(e){c.inst.playAnimEffect("effect_pick",e.x,e.y,t.game.scale,t.game.layers.effect,e.view)})),this.game.showToast(e),h.inst.playEffect("baoxiang");for(var a=function(){var i=s[n];t.attr.setRunTimeAttr(i,e.attr[i]),t.items.forEach((function(t){t.attr.setRunTimeAttr(i,e.attr[i])}))},n=0,s=Object.keys(e.attr);n<s.length;n++)a()},p.addWeapon=function(e,t,i){var a=this;void 0===i&&(i=!1);var n=new w(e,t,0==this.items.length||i);return this.attr.runTimeAttr.atk||this.attr.setRunTimeAttr("atk",n.config.atk),this.items.push(n),n.bind(this),n.ev.on("dispose",(function(){g.fetchArrEle(a.items,n),n.dispose()})),this.resetItemsPos(),n},p.removeWeapon=function(){if(!(this.items.length<=1)){var e=this.items[1];this.items.splice(1,1),e&&(c.inst.playAnimEffect("shoudaqiao2_res@playerHit",e.x,e.y,this.mar.scale,this.mar.layers.effect),c.inst.playAnimEffect("shoudaqiao2_res@playerDie",e.x,e.y,this.mar.scale,this.mar.layers.effect),e.dispose())}},p.changeWeapon=function(e){this.items.forEach((function(t){t.fixed||t.changeWeapon(e)}))},p.bindEvents=function(){var t=this;e.prototype.bindEvents.call(this),this.attr=new v(this),this.isKine=!1;var i=u.inst.gesture.ev.on("pan",(function(e){if(!u.inst.paused&&!l.gui.getWindow(f)){if(t.mar.beginChooseing)return t.beginTweening||(e.x<=0&&!t.beginIsLeft?1==t.mar.config.beginType?t.slideL():2==t.mar.config.beginType&&t.slideL(!1,!1):e.x>0&&t.beginIsLeft&&(1==t.mar.config.beginType?t.slideR():2==t.mar.config.beginType&&t.slideR(!1,!1))),void t.setPos(t.pos.x,t.pos.y);if(t.ctrlable&&t.enabled){var i=g.clamp(t.x+e.x,75,u.inst.width-75),a=g.clamp(t.y+e.y,75,u.inst.height-75);a=t.y,t.setPos(i,a),t.ev.emit("dir",Math.sign(e.x)),e.x>0?t.items.forEach((function(e){return e.flipped=!1})):e.x<0&&t.items.forEach((function(e){return e.flipped=!0}))}}})),a=u.inst.gesture.ev.on("off",(function(){t.ev.emit("dir",0)})),n=u.inst.gesture.ev.on("key",(function(e){32==e&&(t.game.paused=!t.game.paused)}));this.ev.on("dispose",(function(){return u.inst.gesture.ev.off("pan",i)})),this.ev.on("dispose",(function(){return u.inst.gesture.ev.off("off",a)})),this.ev.on("dispose",(function(){return u.inst.gesture.ev.off("key",n)})),this.hp=this.game.config.hp,this.updateHP();var s=0;this.ev.on("update",(function(e){(s+=e)>2&&t.game.resortEnemies()}))},p.slideL=function(e,t){var i=this;void 0===e&&(e=!1),void 0===t&&(t=!0),this.beginTweening=!0;var a=1==this.mar.config.beginType?this.beginTypeTime_1:this.beginTypeTime_2;r(this.pos).call((function(){i.beginIsLeft=!0,i.items[0].view.setScale(1==i.mar.config.beginType?1:-1,1)})).to(e?0:a,{x:t?150:375}).call((function(){i.beginTweening=!1})).tag(88888).start(),2==this.mar.config.beginType&&(this.mar.bridgeBgMove.slideL(a),this.items.forEach((function(e){var t=e.view.getChild("hua");t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaRL",t._content.setPlaySettings(0,-1,1),i.mar.timeouts.push(setTimeout((function(){t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaL",t._content.setPlaySettings(0,-1,0)}),250))})))},p.slideR=function(e,t){var i=this;void 0===e&&(e=!1),void 0===t&&(t=!0),this.beginTweening=!0;var a=1==this.mar.config.beginType?this.beginTypeTime_1:this.beginTypeTime_2;r(this.pos).call((function(){i.beginIsLeft=!1,i.items[0].view.setScale(-1,1)})).to(e?0:a,{x:t?600:375}).call((function(){i.beginTweening=!1})).tag(88888).start(),2==this.mar.config.beginType&&(this.mar.bridgeBgMove.slideR(a),this.items.forEach((function(e){var t=e.view.getChild("hua");t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaLR",t._content.setPlaySettings(0,-1,1),i.mar.timeouts.push(setTimeout((function(){t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaR",t._content.setPlaySettings(0,-1,0)}),250))})))},p.updateHP=function(){this.game.view.m_hp.value=100*this.hp/this.game.config.hp},p.damaged=function(e){c.inst.playAnimEffect("shoudaqiao2_res@playerHit",this.items[0].x,this.items[0].y,this.mar.scale,this.mar.layers.effect),this.hp-=e.data.atk||1,this.hp=Math.max(0,this.hp),this.updateHP(),0==this.hp&&this.kill()},p.kill=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:this.enabled=!1,h.inst.playEffect("PlayerDead"),[].concat(this.items).forEach((function(e){e.kill()})),this.game.gameLose();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),p.resetItemsPos=function(){var e=.35*this.items[0].w,t=.35*this.items[0].h,i=this.items.filter((function(e){return!e.fixed}));if(0!==i.length){i[0].offset.set(0,0);for(var a=1,n=1;a<i.length;){for(var s=n%2==1?3:4,r=i.slice(a,a+s),o=(r.length-1)*e,l=0;l<r.length;l++){var h=l*e-o/2,u=n*t;r[l].offset.set(h,u)}a+=r.length,n++}}},p.delay=function(){var e=a(n().mark((function e(t,i){var a=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.updater((function(e){return!!a.disposed||((t-=e)<0?(i&&i(),!0):void 0)}));case 2:return e.abrupt("return",!this.disposed);case 3:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),p.setBaseBuff=function(e,t,i,a){var n=this;switch(void 0===a&&(a=!1),this.items.forEach((function(e){c.inst.playAnimEffect("effect_pick",e.x,e.y,n.game.scale,n.game.layers.effect,e.view)})),h.inst.playEffect("baoxiang"),t){case"as":"mul"==e&&this.attr.setRunTimeAttr("as",i);break;case"atk":"add"==e?this.mar.player.attr.setRunTimeAttr("atk",i):"mul"==e&&(i>-1&&i<=0&&(i=-1),i<1&&i>=0&&(i=1),this.mar.player.attr.setRunTimeAttr("atk_mul",i>=0?i:1/Math.abs(i)));break;case"burst":this.mar.player.attr.setRunTimeAttr("burst",i);break;case"critRate":this.mar.player.attr.setRunTimeAttr("critRate",i);break;case"critDmg":this.mar.player.attr.setRunTimeAttr("critDmg",i);break;case"role":var s=this.mar.player.items.length;"add"==e&&(s+=i),"mul"==e&&(i>0?s*=i:i<0&&(s=Math.ceil(s/Math.abs(i))));for(var r=s-this.mar.player.items.length,o=0;o<Math.abs(r);o++)r>0?this.addWeapon(this.mar.player.items[0].config,!1,a):r<0&&this.removeWeapon()}},p.playAnimLa=function(){this.items.forEach((function(e){e.view.getChild("role")&&(e.view.getChild("role").visible=!1),e.view.getChild("luo")&&(e.view.getChild("luo").visible=!1),e.view.getChild("la")&&(e.view.getChild("la").visible=!0),e.view.getChild("hua")&&(e.view.getChild("hua").visible=!0)}))},p.playAnimLuo=function(e){this.items.forEach((function(t){t.view.getChild("role")&&(t.view.getChild("role").visible=!1),t.view.getChild("la")&&(t.view.getChild("la").visible=!1),t.view.getChild("hua")&&(t.view.getChild("hua").visible=!1),t.view.getChild("huoguang")&&(t.view.getChild("huoguang").visible=!1),t.view.getChild("langhua")&&(t.view.getChild("langhua").visible=!1);var i=t.view.getChild("luo");i&&(i.visible=!0,r(i).to(e,{scaleX:1,scaleY:1}).tag(88888).start())}))},p.playNormal=function(){this.items.forEach((function(e){e.view.getChild("role")&&(e.view.getChild("role").visible=!0),e.view.getChild("luo")&&(e.view.getChild("luo").visible=!1),e.view.getChild("la")&&(e.view.getChild("la").visible=!1),e.view.getChild("hua")&&(e.view.getChild("hua").visible=!1),e.view.getChild("huoguang")&&(e.view.getChild("huoguang").visible=!1),e.view.getChild("langhua")&&(e.view.getChild("langhua").visible=!1)}))},s}(p));s._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayer2Type3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./BattleManager22.ts","./WindowBase22.ts","./util22.ts","./GamePlayer22.ts"],(function(e){var t,i,n,s,a,o,u,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.tween},function(e){s=e.YT},function(e){a=e.default},function(e){o=e.default},function(e){u=e.default},function(e){c=e.default}],execute:function(){i._RF.push({},"63811XCVqpJNpV8cligVIkz","GamePlayer2Type3",void 0);e("default",function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).beginPos=0,t.beginTypeTime=.35,t}t(i,e);var c=i.prototype;return c.panFunc=function(e){if(!a.inst.paused&&!s.gui.getWindow(o))if(this.mar.beginChooseing){if(!this.beginTweening)if(e.x<=0)switch(this.beginPos){case-1:break;case 0:this.slideL();break;case 1:this.slideM()}else if(e.x>0)switch(this.beginPos){case-1:this.slideM();break;case 0:this.slideR()}this.setPos(this.pos.x,this.pos.y)}else if(this.ctrlable&&this.enabled){var t=u.clamp(this.x+e.x,75,a.inst.width-75),i=u.clamp(this.y+e.y,75,a.inst.height-75);i=this.y,this.setPos(t,i),this.ev.emit("dir",Math.sign(e.x)),e.x>0?this.items.forEach((function(e){return e.flipped=!1})):e.x<0&&this.items.forEach((function(e){return e.flipped=!0}))}},c.slideL=function(e,t){var i=this;this.beginTweening=!0,n(this.pos).call((function(){i.beginPos=-1,i.items[0].view.setScale(-1,1)})).to(e?0:this.beginTypeTime,{x:100}).call((function(){i.beginTweening=!1})).tag(88888).start(),this.items.forEach((function(e){var t=e.view.getChild("hua");t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaRL",t._content.setPlaySettings(0,-1,1),i.mar.timeouts.push(setTimeout((function(){t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaL",t._content.setPlaySettings(0,-1,0)}),250))}))},c.slideR=function(e,t){var i=this;this.beginTweening=!0,n(this.pos).call((function(){i.beginPos=1,i.items[0].view.setScale(-1,1)})).to(e?0:this.beginTypeTime,{x:650}).call((function(){i.beginTweening=!1})).tag(88888).start(),this.items.forEach((function(e){var t=e.view.getChild("hua");t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaLR",t._content.setPlaySettings(0,-1,1),i.mar.timeouts.push(setTimeout((function(){t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaR",t._content.setPlaySettings(0,-1,0)}),250))}))},c.slideM=function(e,t){var i=this;this.beginTweening=!0,n(this.pos).call((function(){i.beginPos=0,i.items[0].view.setScale(-1,1)})).to(e?0:this.beginTypeTime,{x:375}).call((function(){i.beginTweening=!1})).tag(88888).start(),this.items.forEach((function(e){var t=e.view.getChild("hua");t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaLR",t._content.setPlaySettings(0,-1,1),i.mar.timeouts.push(setTimeout((function(){t.url="ui://"+i.game.gameConst.RESPackage+"/roleHuaR",t._content.setPlaySettings(0,-1,0)}),250))}))},i}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PackGameConst.ts","./PackMergeConfig.ts","./util.ts","./GameRoleBase.ts","./PackAnimConfig.ts"],(function(t){var e,a,i,n,r,s,o,l,h,u,c,f;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t.sp},function(t){o=t.PackGameConst},function(t){l=t.PackMergeConfig},function(t){h=t.default,u=t.updater},function(t){c=t.default},function(t){f=t.PackAnimConfig}],execute:function(){r._RF.push({},"fe662bP5+tOma0AcMs9N8Ud","GamePlayer",void 0);t("default",function(t){function r(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).hp=void 0,e.hpMax=void 0,e.dizzy_round=0,e.isPlayer=!0,e.float_name="player_float",e.sound={attack:14001,hit:14002,hit_restore:14005,round_restore:14006},e._buffer={},e}e(r,t);var c=r.prototype;return c.reset=function(){this._buffer={},this.hpMax=this.get("hp"),this.hp=this.hpMax,this.baseView=this.game.map.m_player_slot,this.updateView(),this.attack_delay=o.data.player_attack_delay,this.crit_delay=this.attack_delay},c.createView=function(){var t=i(n().mark((function t(){var e,a,i,r,o,l=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.dynamicLoadInst("pack","prefab/player/player",!1);case 2:e=t.sent,this.baseView.node.addChild(e),this.view=e.getComponentInChildren(s.Skeleton),this.node=e,this.playAnim("idle"),this.updateBoneSlots(),a=this.game.map.m_player_slot,i=f.dataList.find((function(t){return"player_hp"==t.name})),this.game.map.m_player_hp.setPosition(a.x+i.x,a.y+i.y),r=1,(o=this.game.map.m_player_hp).m_mid.width=o.width-4,u((function(){if(!l.isAlive)return!0;var t=o.value/o.max;t<r&&(r=Math.max(r-.005,t)),isNaN(r)||(o.m_mid.scaleX=r)}));case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.updateBoneSlots=function(){var t,e,a,i=this;l.dataList.filter((function(t){return t.spine_slot})).forEach((function(t){i.view.findSlot(t.spine_slot).color.set(0,0,0,0)})),this.game.runtime.bag.pack.forEach((function(i){var n=l.data[i];1==n.bag_item&&(!t||n.level>t.level)&&(t=n),3==n.bag_item&&(!a||n.level>a.level)&&(a=n),4==n.bag_item&&(!e||n.level>e.level)&&(e=n)})),t?this.view.findSlot(t.spine_slot).color.set(1,1,1,1):this.view.findSlot("weapon1").color.set(1,1,1,1),e&&this.view.findSlot(e.spine_slot).color.set(1,1,1,1),a&&this.view.findSlot(a.spine_slot).color.set(1,1,1,1)},c.updateView=function(){this.game.map.m_player_hp.max=this.hpMax,this.game.map.m_player_hp.value=this.hp,0==this.hp&&(this.game.map.m_player_hp.m_mid.scaleX=0)},c.get=function(t){var e=this;if(this.game.debugAttr[t])return this.game.debugAttr[t];if(null!=this._buffer[t])return this._buffer[t]||0;var a=this.game.config.base_attr;return this._buffer=h.deepCopy(a),this.game.runtime.bag.pack.forEach((function(t){var a=l.data[t];if(a&&a.attr)for(var i in a.attr)e._buffer[i]=(e._buffer[i]||0)+a.attr[i]})),this._buffer[t]||0},c.kill=function(){t.prototype.kill.call(this),this.game.gameLose()},a(r,[{key:"target",get:function(){return this.game.enemy}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoleBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./PackAnimConfig.ts","./PackGameConst.ts","./YT.ts","./util.ts","./PackGame.ts","./pkFloat.ts"],(function(t){var e,i,n,r,a,s,o,u,h,c,d,f,l,p,y;return{setters:[function(t){e=t.createClass,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t.tween},function(t){s=t.UIPackage,o=t.GComponent},function(t){u=t.PackAnimConfig},function(t){h=t.PackGameConst},function(t){c=t.YT},function(t){d=t.updater,f=t.delay,l=t.default},function(t){p=t.default},function(t){y=t.pkFloat}],execute:function(){r._RF.push({},"ca193UM6o9L8Z95xCpxGs7R","GameRoleBase",void 0);t("default",function(){function t(){this.view=void 0,this.node=void 0,this.isFront=!1,this.hp=0,this.hpMax=0,this.dizzy_round=0,this.dizzy_effect=void 0,this.killed=!1,this.isPlayer=!1,this.attack_delay=0,this.crit_delay=0,this.sound={attack:0,hit:0,hit_restore:0,round_restore:0},this._buffer={},this.float_name=void 0,this.cur_name=void 0,this.baseView=void 0,this.effects=[],this.destroyed=!1}var r=t.prototype;return r.createView=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.updateView=function(){},r.roundStart=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAlive){t.next=2;break}return t.abrupt("return");case 2:return this.playAnim("idle"),t.next=5,this.roundHeal();case 5:if(this.isAlive){t.next=7;break}return t.abrupt("return");case 7:if(!(this.dizzy_round>0)){t.next=12;break}return this.dizzy_round-=1,t.abrupt("return");case 12:null==(e=this.dizzy_effect)||e.dispose(),this.dizzy_effect=null;case 14:return t.next=16,this.attack();case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.moveFront=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.moveBack=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAlive){t.next=2;break}return t.abrupt("return");case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.attack=function(){var t=i(n().mark((function t(){var e,i,r,a,s,o,u=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAlive){t.next=2;break}return t.abrupt("return");case 2:if(this.target.isAlive){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.moveFront();case 6:if(this.isAlive){t.next=8;break}return t.abrupt("return");case 8:return e=Math.random()<this.get("crit_rate"),i=this.get("atk")*(e?2:1),r=this.target.get("def"),a=i-r,s=this.playAnim(e?"crit":"attack"),this.isPlayer?f(.2,(function(){return c.audio.play(u.sound.attack)})):c.audio.play(this.sound.attack),this.isPlayer,t.next=17,f(e?this.crit_delay:this.attack_delay);case 17:if(!(Math.random()<this.target.get("dodge_rate"))){t.next=25;break}return this.target.dodge(),t.next=22,s;case 22:return t.next=24,this.moveBack();case 24:return t.abrupt("return");case 25:if(this.isAlive){t.next=27;break}return t.abrupt("return");case 27:if(this.isPlayer,c.audio.play(this.sound.hit),e&&this.playFloatChar("crit"),this.target.damaged(a),(o=this.get("hit_restore")*a)&&(this.healed(o),this.isPlayer?this.playEffect("player_hit_restore",!0):this.playEffect("hit_restore",!0),c.audio.play(this.sound.hit_restore)),Math.random()<this.get("dizzy_rate")&&this.target.dizzy(),!(Math.random()<this.get("combo_rate"))){t.next=43;break}return this.playFloatChar("combo"),t.next=39,f(h.data.combo_interval);case 39:if(this.isAlive){t.next=41;break}return t.abrupt("return");case 41:return t.next=43,this.attack();case 43:return t.next=45,s;case 45:if(this.isAlive){t.next=47;break}return t.abrupt("return");case 47:if(this.isAlive){t.next=49;break}return t.abrupt("return");case 49:return t.next=51,this.moveBack();case 51:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.dizzy=function(){this.dizzy_round+=1,this.playFloatChar("dizzy"),this.dizzy_effect||(this.dizzy_effect=this.playEffect("dizzy"))},r.roundHeal=function(){var t=i(n().mark((function t(){var e,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Math.random()<h.data.heal_rate,i=this.hpMax*this.get("heal"),!(e&&i>0)){t.next=8;break}return this.healed(i),this.isPlayer?this.playEffect("player_round_restore"):this.playEffect("round_restore"),c.audio.play(this.sound.round_restore),t.next=8,f(1);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.damaged=function(t){this.isAlive&&(this.playAnim("hit"),this.hp=Math.max(this.hp-t,0),this.playFloatNum("red",t),this.updateView(),this.isPlayer?this.playEffect("player_hit"):this.playEffect("hit"),this.hp>0&&!this.dizzy_round?Math.random()<this.get("counter_rate")&&(this.playFloatChar("counter"),this.attack()):0==this.hp&&this.kill())},r.kill=function(){this.killed=!0,this.playAnim("die",null)},r.healed=function(t){this.hp=Math.min(this.hp+t,this.hpMax),this.playFloatNum("green",t),this.updateView()},r.heal=function(){},r.get=function(t){return 0},r.playFloatNum=function(){var t=i(n().mark((function t(e,i){var r,a,s=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.dynamicLoadInst("pack","prefab/num_board/num_board_"+e);case 2:r=t.sent,this.game.view.node.addChild(r),a=u.dataList.find((function(t){return t.name==s.float_name})),r.worldPosition=this.view.node.worldPosition.clone().add3f(a.x,-a.y,0),r.getComponent(y).showNum(i);case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r.playFloatChar=function(){var t=i(n().mark((function t(e){var i,r,a=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.dynamicLoadInst("pack","prefab/num_board/num_board_char");case 2:i=t.sent,this.game.view.node.addChild(i),r=u.dataList.find((function(t){return t.name==a.float_name})),i.worldPosition=this.view.node.worldPosition.clone().add3f(r.x,-r.y,0),i.getComponent(y).showChar(e);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.playAnim=function(){var t=i(n().mark((function t(e,i){var r,a,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i="idle"),this.node){t.next=3;break}return t.abrupt("return");case 3:return r={idle:"idle",attack:"attack1",crit:"attack2",die:"die",hit:"hit",run:"run"},a=this.view.setAnimation(0,r[e],"idle"==e),this.cur_name,this.cur_name=e,s=a.animationEnd,t.next=10,f(s);case 10:if(this.isAlive){t.next=12;break}return t.abrupt("return");case 12:i&&this.cur_name==e&&this.playAnim(i);case 13:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r.playEffect=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i="dizzy"==t),this.node){var n=u.dataList.find((function(e){return e.name==t})),r=s.createObjectFromURL("ui://PackBattle/"+n.anim),a=r instanceof o?r._children[0]:r;return e?(this.node.addChild(a.node),a.setPosition(n.x-.5*a.width,n.y-.5*a.height)):(this.game.view.addChild(a),a.setPosition(this.baseView.x+this.node.position.x+n.x-.5*a.width,this.baseView.y+this.node.position.y+n.y-.5*a.height)),i?this.effects.push(a):d((function(){return a._content.frame>=a._content.frameCount-1})).then((function(){a.dispose()})),a}},r.clearEffect=function(){this.effects.forEach((function(t){t.dispose()})),this.effects.length=0},r.destroy=function(){var t;this.destroyed=!0,null==(t=this.node)||t.destroy(),this.clearEffect()},r.dodge=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAlive){t.next=2;break}return t.abrupt("return");case 2:if(!(this.dizzy_round>0)){t.next=4;break}return t.abrupt("return");case 4:return this.playFloatChar("dodge"),t.next=7,l.tweenSync(a(this.node).to(.1,{x:this.isPlayer?-50:50}).to(.1,{x:0}));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e(t,[{key:"game",get:function(){return p.inst}},{key:"target",get:function(){return null}},{key:"isAlive",get:function(){return!this.killed&&!this.destroyed}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/GameSawBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritGameConst.ts","./EffectManager2.ts","./util2.ts","./GameBullet.ts","./GameObject2.ts"],(function(e){var t,i,s,n,a,o,r,c,l,u,h;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){a=e.GComponent},function(e){o=e.TreeSpiritGameConst},function(e){r=e.default},function(e){c=e.default},function(e){l=e.default},function(e){u=e.PhysicTags,h=e.default}],execute:function(){n._RF.push({},"ccbc8ZHktZKj7Uspz9RqhJj","GameSawBullet",void 0);e("default",function(e){function n(t){var i;return(i=e.call(this,t)||this).damageInterval=.5,i.damageTimer=0,i.isSlowed=!1,i.onUpdate=function(e){i.disposed||!i.enabled||i.paused||(i.damageTimer+=e,i.isStatic||(i.processMoveState(e*i.timeScale),i.isColl&&i.updateAABB(!1)),i.damageTimer>=i.damageInterval&&(i.damageTimer=0,i.checkAndDamage()),i.ev.emit("update",e*i.timeScale,e))},i.ignorePanels=[],i.tag=u.player_bullet,i.isStatic=!1,i.isKine=!0,i.collBehavior={enemy:"cross",panel:"cross",drop:"cross"},i.damageInterval=o.data.saw_interval,i}t(n,e);var d=n.prototype;return d.createView=function(){var e=i(s().mark((function e(){var t,i,n=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.view=this.config.bullet?this.getView():new a,this.view.setPivot(.5,.5,!0),this.ev.on("dispose",(function(){n.view&&(n.config.bullet?l.pools[n.config.bullet].return(n.view):n.view.dispose())})),t=this.attr.getBulletSize(),this.view.setSize(t.x*this.game.scale,t.y*this.game.scale),this.size.set(t.x*this.game.scale,t.y*this.game.scale),!this.config.effects.motion){e.next=16;break}return e.next=9,r.inst.createPref(this.config.effects.motion,this.view.node);case 9:if(i=e.sent,!this.disposed){e.next=13;break}return i.destroy(),e.abrupt("return");case 13:this.game.layers.bg.node.addChild(i),this.ev.on("update",(function(){i.setPosition(n.view.node.position)})),this.ev.on("dispose",(function(){i.destroy()}));case 16:this.view&&!this.view.isDisposed&&(this.view.rotation=0),this.ev.emit("created"),this.isColl&&this.createAABB(),this.updateView();case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d.checkAndDamage=function(){var e=this;this.world.queryRect(this.x-this.w/2,this.y-this.h/2,this.w,this.h,(function(e){return e.tag===u.enemy})).forEach((function(t){var i=h.getObjectByID(t);i&&i.enabled&&e.onHitEnemy(i)}))},d.onColl=function(e){var t=h.getObjectByID(e.other);if(t&&t.isColl&&t.enabled&&!this.ignoreList.includes(t))switch(t.tag){case u.enemy:if(!this.enabled)return;if(!this.isSlowed){this.velocity.multiplyScalar(.1),this.speed*=.1,this.isSlowed=!0}}},d.selfKillCheck=function(){var e=!1;(this.timer>=this.attr.getBulletAttr("life")||c.distanceObject(this.bornPos,this.pos)>this.attr.getBulletAttr("range")||this.attr.getBulletAttr("bounce")>=0&&this.bounceCount>this.attr.getBulletAttr("bounce"))&&(e=!0),e&&(this.ev.emit("remove"),this.onKill())},n}(l));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ShoudaqiaoGameConst.ts","./BattleManager2.ts","./util3.ts","./GameBottle.ts","./GameEnemy3.ts","./GamePanel2.ts","./LinearPath3.ts","./ShoudaqiaoDragonConfig2.ts","./GameDragon.ts","./GameDragonGroup.ts","./GameDragonHead.ts","./GameChest.ts"],(function(t){var e,s,i,n,a,o,r,h,u,f,p,c,d,l,v,g,m,w,y;return{setters:[function(t){e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,n=t.assetManager},function(t){a=t.UIPackage},function(t){o=t.ShoudaqiaoGameConst},function(t){r=t.default},function(t){h=t.default,u=t.throughFGUI,f=t.repeat},function(t){p=t.default},function(t){c=t.default},function(t){d=t.default},function(t){l=t.LinearPath},function(t){v=t.ShoudaqiaoDragonConfig},function(t){g=t.default},function(t){m=t.default},function(t){w=t.default},function(t){y=t.default}],execute:function(){i._RF.push({},"74725lBmJtLlrVJs6J1s0cS","GameSpawner",void 0);t("default",function(){function t(t){var e=this;this.paused=!1,this.total=0,this.nextWaveTimer=0,this.onUpdate=function(t){e.stopped||r.inst.started&&(e.paused||(e.game.config.dragon?e.updateDragon(t):e.updateEnemy(t)))},this.prev=void 0,this.gourp=void 0,this.speedMul=1,this.speedTar=1,this.group=void 0,this.count=0,this.stopped=!1,this.started=!1,this.form=void 0,this.timer=0,this.pool=[],this.offsetY=0,this.waveIndex=0,this.waves=void 0,this.path=void 0,this.dragonPool=[],this.game=t,t.ev.on("update",this.onUpdate),t.ev.on("end",(function(){return e.reset()}))}var i=t.prototype;return i.changeSpeed=function(t){t!=this.speedMul&&(this.speedTar=t)},i.updateDragon=function(t){if(this.prev&&this.prev.disposed&&(this.prev=null),!this.prev||this.prev.pathPos>=this.prev.config.length){var e=this.dragonPool.shift();if(e){0!=e.index||e.isHead||(this.group=this.createGroup(e));var s=this.createDragon(e);this.prev&&(s.pathPos=this.prev.pathPos-this.prev.config.length,s.checkPath(t)),this.group&&(this.group.addEnemy(s),e.isEnd&&(this.group.finish(),this.group=null)),this.prev=s,this.count++,e.config.speedMul&&0==e.index&&this.changeSpeed(e.config.speedMul)}else this.stopped=!0}this.speedMul!=this.speedTar&&(Math.abs(this.speedTar-this.speedMul)<.05?this.speedMul=this.speedTar:this.speedMul=h.lerp(this.speedMul,this.speedTar,.05))},i.createGroup=function(t){var e=new m(t.config);return e.start(),e},i.createDragon=function(t){var e=t.isHead?new w(t):new g(t);return r.inst.dragons.push(e),e.start(),e.ev.on("dispose",(function(){h.fetchArrEle(r.inst.dragons,e)})),e},i.updateEnemy=function(t){var e=this;[].concat(this.pool).forEach((function(s){s.time-=t,s.time<=0&&(e.newEnemy(s),h.fetchArrEle(e.pool,s))})),this.stopped=0==this.pool.length&&this.count==this.total&&this.waveIndex>=this.game.config.waves[1],this.stopped||(this.nextWaveTimer+=t,this.timer+=t,(this.nextWaveTimer>2||this.pool.length<5)&&(this.nextWaveTimer=0,this.loadWave(this.waveIndex+1,this.timer)))},i.newEnemy=function(t,e){void 0===e&&(e=!1);var s=new c(t);r.inst.enemies.push(s),s.start(),s.ev.on("dispose",(function(){h.fetchArrEle(r.inst.enemies,s)})),this.count+=1,e&&(this.total+=1)},i.start=function(){var t=this;this.started=!0,this.stopped=!1,this.total=0,this.offsetY=0,this.nextWaveTimer=0,this.timer=0,this.count=0,this.createForm(this.game.config.view),this.paused=!0,this.waveIndex=0,this.game.config.dragon?(this.createPath(),this.paused=!1):this.loadWaves().then((function(){t.paused=!1,t.loadWave(t.game.config.waves[0])}))},i.loadWave=function(t,e){var s=this;if(void 0===e&&(e=0),console.log("加载波次",t),this.waves[t]&&!(t>this.game.config.waves[1])){var i=this.waves[t];this.offsetY+=i.size[1],i.list.forEach((function(t){var n={x:375-.5*i.size[0]+t.pos[0],y:-50,hp:Number(t.title),time:(s.offsetY-t.pos[1])/o.data.scroll_speed-e,conf:t,data:h.parseConfStr(t.data)};s.pool.push(n),s.total+=1})),this.waveIndex=t}},i.loadWaveSP=function(t,e){var s=this;if(this.waves[t]){var i=[],n=this.waves[t];this.offsetY+=n.size[1],n.list.forEach((function(t){var a={x:375-.5*n.size[0]+t.pos[0],y:e-(n.size[1]-t.pos[1]),hp:Number(t.title),time:0,conf:t,data:h.parseConfStr(t.data)};i.push(a),s.total+=1})),i.forEach((function(t){s.newEnemy(t,!0)}))}},i.createForm=function(t){var e=this,s=a.createObject(o.data.LVPackage,t).asCom;r.inst.layers.lv.addChild(s);var i=r.inst.height-s.height;u(s,(function(t){if(t!=s){var n=h.getUIItem(t),a=null==n?void 0:n.name;if(a){var o=h.getBasePos(s,t);if("monster"==a);else if(a.startsWith("panelItem")){var r=new d(t);e.game.panels.push(r),o.y+=i-300,r.view.setPosition(o.x,o.y),r.start(),r.ev.on("dispose",(function(){h.fetchArrEle(e.game.panels,r)}))}else if("BottleItem"==a){var u=new p(t);o.y+=i-200,u.view.setPosition(o.x,o.y),u.start(),e.game.bottles.push(u),u.ev.on("dispose",(function(){h.fetchArrEle(e.game.bottles,u)}))}else if("ChestItem"==a){var f=new y(t);o.y+=i-300,f.view.setPosition(o.x,o.y),f.start(),e.game.chests.push(f),f.ev.on("dispose",(function(){h.fetchArrEle(e.game.chests,f)}))}}}})),this.form=s,this.game.bottles.forEach((function(t){t.view.sortingOrder=t.pos.y+999999}))},i.loadWaves=function(){var t=e(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,s){n.getBundle("shoudaqiao").load("levels/level_"+e.game.config.prefix,(function(s,i){var n=i.json;e.waves=n,t(null)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.reset=function(){var t;null==(t=this.form)||t.dispose(),this.form=null,this.stopped=!1,this.started=!1,this.pool.length=0,this.dragonPool.length=0,this.group=null,this.prev=null},i.createPath=function(){var t=this;this.path=l.getPathFromGCom(this.form,"path"),v.dataList.filter((function(e){return e.level==t.game.config.level})).forEach((function(e){var s=!e.view;f(e.count,(function(i){t.dragonPool.push({config:e,isHead:s,index:i,isEnd:i==e.count-1}),t.total+=1}))}))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GameSpawner2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoDragonConfig.ts","./ShoudaqiaoGameConst2.ts","./fairygui.mjs","./BattleManager22.ts","./LinearPath22.ts","./util22.ts","./GameBottle2.ts","./GameChest2.ts","./GameDragon2.ts","./GameDragonGroup2.ts","./GameDragonHead2.ts","./GameDropPanel2.ts","./GameEnemy22.ts","./GamePanel22.ts"],(function(t){var e,s,i,a,n,o,r,h,u,p,d,f,l,c,v,g,m,w,P,y;return{setters:[function(t){e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t.assetManager},function(t){n=t.ShoudaqiaoDragonConfig},function(t){o=t.ShoudaqiaoGameConst},function(t){r=t.UIPackage},function(t){h=t.default},function(t){u=t.LinearPath},function(t){p=t.default,d=t.throughFGUI,f=t.repeat},function(t){l=t.default},function(t){c=t.default},function(t){v=t.default},function(t){g=t.default},function(t){m=t.default},function(t){w=t.default},function(t){P=t.default},function(t){y=t.default}],execute:function(){i._RF.push({},"2b47bPXCVBNeK1O6xRDWgyi","GameSpawner2",void 0);var x=t("EnemyOffsetX",175);t("default",function(){function t(t){var e=this;this.paused=!1,this.total=0,this.nextWaveTimer=0,this.onUpdate=function(t){e.stopped||h.inst.started&&(e.paused||(e.game.config.dragon?e.updateDragon(t):e.updateEnemy(t)))},this.prev=void 0,this.gourp=void 0,this.speedMul=1,this.speedTar=1,this.group=void 0,this.count=0,this.stopped=!1,this.started=!1,this.form=void 0,this.timer=0,this.pool=[],this.offsetY=0,this.waveIndex=0,this.waves=void 0,this.path=void 0,this.dragonPool=[],this.game=t,t.ev.on("update",this.onUpdate),t.ev.on("end",(function(){return e.reset()}))}var i=t.prototype;return i.changeSpeed=function(t){t!=this.speedMul&&(this.speedTar=t)},i.updateDragon=function(t){if(this.prev&&this.prev.disposed&&(this.prev=null),!this.prev||this.prev.pathPos>=this.prev.config.length){var e=this.dragonPool.shift();if(e){0!=e.index||e.isHead||(this.group=this.createGroup(e));var s=this.createDragon(e);this.prev&&(s.pathPos=this.prev.pathPos-this.prev.config.length,s.checkPath(t)),this.group&&(this.group.addEnemy(s),e.isEnd&&(this.group.finish(),this.group=null)),this.prev=s,this.count++,e.config.speedMul&&0==e.index&&this.changeSpeed(e.config.speedMul)}else this.stopped=!0}this.speedMul!=this.speedTar&&(Math.abs(this.speedTar-this.speedMul)<.05?this.speedMul=this.speedTar:this.speedMul=p.lerp(this.speedMul,this.speedTar,.05))},i.createGroup=function(t){var e=new g(t.config);return e.start(),e},i.createDragon=function(t){var e=t.isHead?new m(t):new v(t);return h.inst.dragons.push(e),e.start(),e.ev.on("dispose",(function(){p.fetchArrEle(h.inst.dragons,e)})),e},i.updateEnemy=function(t){var e=this;[].concat(this.pool).forEach((function(s){(s.time-=t,s.time<=0)&&("dropPanel"==s.oriData.split("|")[0]?e.createDropPanel("dropPanelItem",s.x,s.y,s.oriData):e.newEnemy(s),p.fetchArrEle(e.pool,s))})),this.stopped=0==this.pool.length&&this.count==this.total&&this.waveIndex>=this.game.config.waves[1],this.stopped||(this.nextWaveTimer+=t,this.timer+=t,(this.nextWaveTimer>2||this.pool.length<5)&&(this.nextWaveTimer=0,this.loadWave(this.waveIndex+1,this.timer)))},i.newEnemy=function(t,e){void 0===e&&(e=!1);var s=new P(t);h.inst.enemies.push(s),s.speed=t.speed,s.start(),s.ev.on("dispose",(function(){p.fetchArrEle(h.inst.enemies,s)})),this.count+=1,e&&(this.total+=1)},i.start=function(){var t=this;this.started=!0,this.stopped=!1,this.total=0,this.offsetY=0,this.nextWaveTimer=0,this.timer=0,this.count=0,this.createForm(this.game.config.view),this.paused=!0,this.waveIndex=0,this.game.config.dragon?(this.createPath(),this.paused=!1):this.loadWaves().then((function(){t.paused=!1,t.loadWave(t.game.config.waves[0])}))},i.loadWave=function(t,e){var s=this;if(void 0===e&&(e=0),console.log("加载波次",t),this.waves[t]&&!(t>this.game.config.waves[1])){var i=this.waves[t];this.offsetY+=i.size[1],i.list.forEach((function(t){var a={x:375-.5*i.size[0]+t.pos[0],y:-50,hp:Number(t.title),time:(s.offsetY-t.pos[1])/o.data.scroll_speed-e,conf:t,oriData:t.data,data:"dropPanel"==t.data.split("|")[0]?{}:p.parseConfStr(t.data),speed:i.speed};s.pool.push(a),s.total+=1})),this.waveIndex=t}},i.loadWaveSP=function(t,e){var s=this;if(this.waves[t]){var i=[],a=this.waves[t];this.offsetY+=a.size[1],a.list.forEach((function(t){var n={x:375-.5*a.size[0]+t.pos[0],y:e-(a.size[1]-t.pos[1]),hp:Number(t.title),time:0,conf:t,oriData:t.data,data:"dropPanel"==t.data.split("|")[0]?{}:p.parseConfStr(t.data),speed:a.speed};i.push(n),s.total+=1})),i.forEach((function(t){s.newEnemy(t,!0)}))}},i.createForm=function(t){var e=this,s=r.createObject(o.data.LVPackage,t).asCom;h.inst.layers.lv.addChild(s);var i=h.inst.height-s.height;d(s,(function(t){if(t!=s){var a=p.getUIItem(t),n=null==a?void 0:a.name;if(n){var o=p.getBasePos(s,t);if("monster"==n);else if(n.startsWith("panelItem")){var r=new y(t);e.game.panels.push(r),o.y+=i-300,r.view.setPosition(o.x,o.y),r.start(),r.ev.on("dispose",(function(){p.fetchArrEle(e.game.panels,r)}))}else if(n.startsWith("dropPanelItem"));else if("BottleItem"==n){var h=new l(t);o.y+=i-200,h.view.setPosition(o.x,o.y),h.start(),e.game.bottles.push(h),h.ev.on("dispose",(function(){p.fetchArrEle(e.game.bottles,h)}))}else if("ChestItem"==n){var u=new c(t);o.y+=i-300,u.view.setPosition(o.x,o.y),u.start(),e.game.chests.push(u),u.ev.on("dispose",(function(){p.fetchArrEle(e.game.chests,u)}))}}}})),this.form=s,this.game.bottles.forEach((function(t){t.view.sortingOrder=t.pos.y+999999}))},i.createDropPanel=function(t,e,s,i){var a=this,n=r.createObject(o.data.UIPackage,t).asCom;this.form.addChild(n);var h=new w(n);this.game.dropPanels.push(h),h.setPos(e+x,s),h.start(i),h.ev.on("dispose",(function(){p.fetchArrEle(a.game.dropPanels,h)}))},i.loadWaves=function(){var t=e(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,s){a.getBundle("shoudaqiao_2").load("levels/level_"+e.game.config.prefix,(function(s,i){var a=i.json;e.waves=a,t(null)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.reset=function(){var t;null==(t=this.form)||t.dispose(),this.form=null,this.stopped=!1,this.started=!1,this.pool.length=0,this.dragonPool.length=0,this.group=null,this.prev=null},i.createPath=function(){var t=this;this.path=u.getPathFromGCom(this.form,"path"),n.dataList.filter((function(e){return e.level==t.game.config.level})).forEach((function(e){var s=!e.view;f(e.count,(function(i){t.dragonPool.push({config:e,isHead:s,index:i,isEnd:i==e.count-1}),t.total+=1}))}))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GameSpawner3.ts",["cc","./fairygui.mjs","./TreeSpiritEnemyConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritSpawnConfig.ts","./TreeSpiritWaveConfig.ts","./BattleManager.ts","./util2.ts","./GameEnemy.ts","./GameItem.ts","./GamePanel.ts"],(function(e){var t,i,a,n,r,s,o,c,u,f,v,h;return{setters:[function(e){t=e.cclegacy},function(e){i=e.UIPackage,a=e.GComponent},function(e){n=e.TreeSpiritEnemyConfig},function(e){r=e.TreeSpiritGameConst},function(e){s=e.TreeSpiritSpawnConfig},function(e){o=e.TreeSpiritWaveConfig},function(e){c=e.default},function(e){u=e.default},function(e){f=e.default},function(e){v=e.default},function(e){h=e.default}],execute:function(){t._RF.push({},"77fbcYw2GNOjJ5nZTwRSAIR","GameSpawner",void 0);e("default",function(){function e(e,t){var i=this;this.paused=!1,this.count=0,this.first=!0,this.curGroupId=1,this.LevelWaveConfig=[],this.curWave=0,this.createNum=[],this.waveDelay=0,this.onUpdate=function(e){if(!i.stopped&&c.inst.started&&!i.paused){if(i.waveDelay>0)i.waveDelay-=e;else if(i.timer+=e,i.timer>=Math.random()*i.LevelWaveConfig[i.curWave].interval[1]+i.LevelWaveConfig[i.curWave].interval[0]){i.timer=0;var t=i.getCreateId();if(n.data[i.LevelWaveConfig[i.curWave].enemyId[t]]){var a=new f(n.data[i.LevelWaveConfig[i.curWave].enemyId[t]]);c.inst.enemies.push(a)}else console.error("配置不存在: ",i.LevelWaveConfig[i.curWave].enemyId[t]);i.createNum[t]-=1,i.createNum.reduce((function(e,t){return e+t}),0)<=0&&i.nextWave()}[].concat(i.items).forEach((function(t){if(t.timer+=e,t.timer>t.config.delay){var a=new v(t.config);c.inst.items.push(a),a.start(),a.ev.on("dispose",(function(){u.fetchArrEle(c.inst.items,a)})),u.fetchArrEle(i.items,t)}}))}},this.stopped=!1,this.started=!1,this.delay=[],this.timer=-1,this.view=void 0,this.items=[],this.game=e,e.ev.on("update",this.onUpdate),e.ev.on("end",(function(){return i.reset()})),this.first=t}var t=e.prototype;return t.getCreateId=function(){var e=[];return this.createNum.forEach((function(t,i){t>0&&e.push(i)})),u.pickRandom(e)},t.start=function(){this.started=!0,this.stopped=!1,this.count=0,this.timer=-1,this.LevelWaveConfig=o.dataList.filter((function(e){return e.level==c.inst.level})),this.curWave=0,this.createNum=[].concat(this.LevelWaveConfig[this.curWave].number),this.waveDelay=this.LevelWaveConfig[this.curWave].delay;var e=i.createObject(r.data.LVPackage,u.pickRandom(this.game.config.view)).asCom;this.view=e,c.inst.layers.lv.addChild(e);[].concat(e._children).forEach((function(e){if(e instanceof a){var t=new h(e);e.y+=0,t.start(),console.log("panel")}})),this.createItemSpawn()},t.nextWave=function(){var e=this;this.curWave+=1;var t=this.LevelWaveConfig[this.curWave];return t?(this.createNum=[].concat(t.number),this.waveDelay=t.delay,t.buffWave&&t.buffWave.length>0&&(t.buffWave.forEach((function(i,a){if(i){var r=u.pickRandom(t.enemyId);if(n.data[r]){var s=new f(n.data[r],i,a,e.curWave);c.inst.enemies.push(s)}else console.error("配置不存在: ",r)}})),this.nextWave()),!0):(this.stopped=!0,!1)},t.createItemSpawn=function(){var e=this,t=s.dataList.filter((function(t){return t.level==Math.abs(e.game.config.level)&&t.game==e.game.state})),i={};for(var a in t.forEach((function(e){var t;i[t=e.group]||(i[t]=[]),i[e.group].push(e)})),i)this.items.push({timer:0,config:u.pickRandom(i[a])})},t.reset=function(){var e;null==(e=this.view)||e.dispose(),this.view=null,this.LevelWaveConfig=[],this.stopped=!0,this.started=!1,this.items.length=0,this.delay.length=0,this.curWave=0,this.createNum=[],this.waveDelay=0},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameStateBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ConfigManager.ts","./StringUtil.ts","./YT.ts","./SceneBase.ts","./LoadingData.ts","./LoadingManager.ts","./AutoConfigSetter.ts","./LoadUIPack.ts"],(function(e){var n,t,a,i,o,s,r,c,u,l,d,f,h,_;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){s=e.Awaiters},function(e){r=e.ConfigManager},function(e){c=e.StringUtil},function(e){u=e.YT},function(e){l=e.SceneBase},function(e){d=e.LoadingGroup},function(e){f=e.LoadingManager},function(e){h=e.AutoConfigSetter},function(e){_=e.LoadUIPack}],execute:function(){o._RF.push({},"b6d96VoNydHdqaJYWz8dupB","GameStateBase",void 0);e("GameStateBase",function(e){function o(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this)._sceneName=null,n._sceneBundle=null,n._sceneLoaded=!1,n._configBundle=null,n._uiPackage=null,n._uiBundle=null,n._uiPack=null,n._removePkg=!0,n._enable=!0,n.scene=void 0,n.camera=void 0,n._showLoading=!1,n}n(o,e);var l=o.prototype;return l.onEnterState=function(){var e=a(i().mark((function e(){var n=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._showLoading&&u.game.showLoading(),e.next=3,this._onPreEnter.apply(this,n);case 3:return e.next=5,this._loadUIPackage();case 5:return this._onBindUI(),e.next=8,this._loadConfigs();case 8:return this._onPreEnterNext.apply(this,n),e.next=11,this._doPreload();case 11:if(!c.IsNullOrEmpty(this._sceneName)&&!c.IsNullOrEmpty(this._sceneBundle)){e.next=16;break}return e.next=14,s.Seconds(.1);case 14:e.next=22;break;case 16:this.loadScene(this._sceneName,this._sceneBundle,!0);case 17:if(this._sceneLoaded){e.next=22;break}return e.next=20,s.Seconds(.1);case 20:e.next=17;break;case 22:return e.next=24,this._afterSceneLoaded.apply(this,n);case 24:return e.next=26,this._doEnterState.apply(this,n);case 26:this._showLoading&&u.game.hideLoading();case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._loadUIPackage=function(){if(!c.IsNullOrEmpty(this._uiPackage)&&!c.IsNullOrEmpty(this._uiBundle)){var e=this._uiPack=new _(this._uiPackage,this._uiBundle);return new Promise((function(n){e.startLoad((function(){n()}))}))}},l._onBindUI=function(){},l._loadConfigs=function(){if(!c.IsNullOrEmpty(this._configBundle)){var e=this._configBundle;return new Promise((function(n){console.log("load configs"+e),h.SetConfig(e),r.StartLoad((function(){n()}),e)}))}},l._onPreEnterNext=function(){},l._doPreload=function(){var e=a(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d,this._getPreloads(n),n.parseEffects(),t=Date.now(),console.log(" 预加载 "+n.datas.length+" 项 "),e.abrupt("return",new Promise((function(e){f.instance.startLoad(n,(function(){console.log(" 预加载耗时: "+(Date.now()-t)+"ms"),e()}),!0)})));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._doSceneLoaded=function(e){this.scene=e,this._sceneLoaded=!0},l.destroy=function(){this._enable=!1,this._doDestroy(),u.audio.stopAll(),this._uiPack&&(this._removePkg&&this._uiPack.removePackage(),this._uiPack=null)},t(o,[{key:"enable",get:function(){return this._enable}}]),o}(l));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameTalent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./AudioManager2.ts","./WindowCup2.ts","./util3.ts","./GameDragonHead.ts"],(function(e){var i,t,n,s,a,o,r,c,u,p,l;return{setters:[function(e){i=e.createClass,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e.Color},function(e){o=e.UIPackage},function(e){r=e.default},function(e){c=e.default},function(e){u=e.default,p=e.repeat},function(e){l=e.default}],execute:function(){s._RF.push({},"206fdMW9C1Op5mOoYObLb5T","GameTalent",void 0);e("default",function(){function e(e,i,t){this.player=e,this.config=i,this.mul=t,t?(this.applyMul(),this.bindTrigger()):this.bindTrigger()}var s=e.prototype;return s.applyMul=function(){for(var e in this.config=u.deepCopy(this.config),this.config.attr)this.config.attr[e]*=this.mul;this.config.desc=this.config.desc.replace("n",this.mul.toFixed(0))},s.bindTrigger=function(){var e=this,i=this.config.trigger;if(i.add_weapon)if(1==i.add_weapon)this.mul<0?p(Math.abs(this.mul),(function(){var i=e.player.items[e.player.items.length-1];i.isMain||i.dispose()})):this.mul>0?p(this.mul,(function(){e.player.addWeapon(e.player.items[0].config,!1)})):this.player.addWeapon(this.player.items[0].config,!1);else{var t=this.player.addWeapon(this.game.bulletData[i.add_weapon],!0);t.setPos(.5*this.game.width,this.game.floorY),t.enabled=!1,t.view.getTransition("born").play((function(){t.enabled=!0}))}else if(i.change_weapon)this.player.changeWeapon(this.game.bulletData[i.change_weapon]);else if(i.show_cup){var n=i.show_cup.match(/\[(.*?)\]/g).map((function(e){return e.replace(/[\[\]]/g,"").split(",").map((function(e){return parseInt(e)}))})).map((function(e){return u.pickRandom(e)}));c.showWithArg({ids:n})}else i.poweron||(i.frozen?this.skillFrozen(i.frozen):i.sun||i.sleep&&this.skillSleep(i.sleep))},s.skillSleep=function(){var e=t(n().mark((function e(i){var t,s,a=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.createObjectFromURL("ui://"+this.game.gameConst.PlantsPack+"/"+this.config.role).asCom,this.game.layers.effect.addChild(t),t.setPosition(.5*this.game.width,this.game.floorY),s=[],t.getTransition("fire").setHook("effect",(function(){r.inst.playEffect("ice_start"),a.game.spawner.paused=!0,a.game.enemies.forEach((function(e){var i=o.createObjectFromURL("ui://"+a.game.gameConst.PlantsPack+"/sleep_effect").asCom;a.game.view.addChild(i),i.setPosition(e.view.x+e.view.width*e.view.scaleY*.4,e.view.y-e.view.height*e.view.scaleY);var t=e.data.boss?e.view.scaleX:.3*e.view.scaleX;i.setScale(t,t),e.paused=!0,e.pauseAnim(),s.push(i),a.player.ev.on("dispose",(function(){i.isDisposed||i.dispose()})),e.ev.on("dispose",(function(){i.dispose()}))})),a.game.dragons.forEach((function(e){if(e instanceof l){var i=o.createObjectFromURL("ui://"+a.game.gameConst.PlantsPack+"/sleep_effect").asCom;a.game.view.addChild(i),i.setPosition(e.view.x+e.view.width*e.view.scaleY*.4,e.view.y-e.view.height*e.view.scaleY);i.setScale(1,1),s.push(i),a.player.ev.on("dispose",(function(){i.isDisposed||i.dispose()})),e.ev.on("dispose",(function(){i.dispose()}))}e.paused=!0,e.pauseAnim()}))})),this.player.delay(i,(function(){s.forEach((function(e){e.isDisposed||e.dispose()})),a.game.spawner.paused=!1,a.game.enemies.forEach((function(e){e.paused=!1,e.resumeAnim()})),a.game.dragons.forEach((function(e){e.paused=!1,e.resumeAnim()})),a.game.pullBackTimer=.5})),t.getTransition("born").play((function(){t.getTransition("fire").play((function(){t.dispose()}))})),this.player.ev.on("dispose",(function(){t.dispose()}));case 8:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),s.skillFrozen=function(){var e=t(n().mark((function e(i){var t,s,c=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.createObjectFromURL("ui://"+this.game.gameConst.PlantsPack+"/"+this.config.role).asCom,this.game.layers.effect.addChild(t),t.setPosition(.5*this.game.width,this.game.floorY),t.getTransition("fire").setHook("break",(function(){r.inst.playEffect("ice_start")})),s=a.fromHEX(new a,"66E3FEFF"),t.getTransition("born").play((function(){t.getTransition("fire").play((function(){t.dispose(),c.game.spawner.paused=!0;var e=[].concat(c.game.enemies,c.game.dragons);e.forEach((function(e){e.disposed||(e.paused=!0,e.setColor(s),e.pauseAnim())})),c.player.delay(i,(function(){c.game.spawner.paused=!1,e.forEach((function(e){e.paused=!1,e.resumeAnim(),e.setColor(a.WHITE)})),c.game.pullBackTimer=.5}))}))})),this.player.ev.on("dispose",(function(){t.dispose()}));case 7:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),i(e,[{key:"game",get:function(){return this.player.game}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/GameTalent2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritBulletConfig.ts","./TreeSpiritGameConst.ts","./UI_frozenBody.ts","./UI_Gem.ts","./UI_sleep_effect.ts","./AudioManager.ts","./BattleManager.ts","./WindowCup.ts","./util2.ts","./GameGem.ts"],(function(e){var t,n,i,a,s,r,o,c,u,f,p,l,d,h,g,m,y,w;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e.tween},function(e){r=e.UIPackage},function(e){o=e.TreeSpiritBulletConfig},function(e){c=e.TreeSpiritGameConst},function(e){u=e.default},function(e){f=e.default},function(e){p=e.default},function(e){l=e.default},function(e){d=e.default},function(e){h=e.default},function(e){g=e.default,m=e.repeat,y=e.vec2},function(e){w=e.default}],execute:function(){a._RF.push({},"8f3545iguVB4bELJ/FxUuik","GameTalent",void 0);e("default",function(){function e(e,t,n){this.player=e,this.config=t,this.mul=n,n?(this.applyMul(),this.bindTrigger()):this.bindTrigger()}var a=e.prototype;return a.applyMul=function(){for(var e in this.config=g.deepCopy(this.config),this.config.attr)this.config.attr[e]*=this.mul;this.config.desc=this.config.desc.replace("n",this.mul.toFixed(0))},a.grow=function(){var e=this,t=0,n=this.game.view.m_skill,i=.5*this.game.width,a=this.game.floorY;d.updater((function(r){if((t+=r)>1.2)return!0;var o=f.createInstance();e.game.view.addChild(o),o.setPosition(n.x,n.y),o.setScale(0,0),s(o).to(.3,{x:i,y:a,scaleX:1,scaleY:1},{easing:"quadIn"}).call((function(){o.dispose()})).start()}),.01)},a.bindTrigger=function(){var e=this,t=this.config.trigger;if(t.add_weapon)if(1==t.add_weapon)this.mul<0?m(Math.abs(this.mul),(function(){var t=e.player.items[e.player.items.length-1];t.isMain||t.dispose()})):this.mul>0?m(this.mul,(function(){e.player.addWeapon(e.player.items[0].config,!1,!0)})):this.player.addWeapon(this.player.items[0].config,!1,!0);else if(this.config.fixed){var n=this.player.addWeapon(o.data[t.add_weapon],!0,!1);this.grow(),n.setPos(.5*this.game.width,this.game.floorY),n.enabled=!1,n.view.getTransition("born").play((function(){n.enabled=!0}))}else this.player.addWeapon(o.data[t.add_weapon],!1,!1);else if(t.change_weapon)this.player.changeWeapon(o.data[t.change_weapon]);else if(t.show_cup){var i=t.show_cup.match(/\[(.*?)\]/g).map((function(e){return e.replace(/[\[\]]/g,"").split(",").map((function(e){return parseInt(e)}))})).map((function(e){return g.pickRandom(e)}));h.showWithArg({ids:i})}else t.poweron?this.player.powerOn():t.frozen?this.skillFrozen(t.frozen):t.sun?this.skillSun(t.sun):t.sleep?this.skillSleep(t.sleep):1==t.die&&this.player.kill()},a.skillSleep=function(){var e=n(i().mark((function e(t){var n,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.createObjectFromURL("ui://"+c.data.UIPackage+"/"+this.config.role).asCom,this.grow(),this.game.layers.effect.addChild(n),n.setPosition(.5*this.game.width,this.game.floorY),n.getTransition("fire").setHook("effect",(function(){l.inst.playEffect("ice_start");var e=p.createInstance();a.game.view.addChild(e);var n=a.game.enemies[0];e.setPosition(n.x,n.y),a.game.spawner.paused=!0,a.game.enemies.forEach((function(e){return e.paused=!0})),a.player.delay(t,(function(){e.dispose(),a.game.spawner.paused=!1,a.game.enemies.forEach((function(e){return e.paused=!1}))})),a.player.ev.on("dispose",(function(){e.isDisposed||e.dispose()}))})),n.getTransition("born").play((function(){n.getTransition("fire").play((function(){n.dispose()}))})),this.player.ev.on("dispose",(function(){n.dispose()})),this.player.delay(t,(function(){a.game.spawner.paused=!1,a.game.enemies.forEach((function(e){return e.paused=!1}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.skillFrozen=function(){var e=n(i().mark((function e(t){var n,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.createObjectFromURL("ui://"+c.data.UIPackage+"/"+this.config.role).asCom,this.grow(),this.game.layers.effect.addChild(n),n.setPosition(.5*this.game.width,this.game.floorY),n.getTransition("fire").setHook("break",(function(){l.inst.playEffect("ice_start")})),n.getTransition("born").play((function(){n.getTransition("fire").play((function(){n.dispose(),a.game.spawner.paused=!0,a.game.enemies.forEach((function(e){return e.paused=!0}));var e=-1,i=[];a.game.enemies.forEach((function(t){e+=1,a.player.delay(.02*e,(function(){if(!t.disposed){var n=u.createInstance();a.game.view.addChild(n),0==e&&n.setScale(1.5,1.5),n.setPosition(t.view.x,t.view.y),n.m_start.play(),t.ev.on("dispose",(function(){n.m_break.play((function(){n.dispose()}))})),i.push(n)}}))})),a.player.delay(t-3,(function(){i.forEach((function(e){e.m_break.play((function(){e.dispose()}))})),l.inst.playEffect("ice_end")})),a.player.delay(t,(function(){a.game.spawner.paused=!1,a.game.enemies.forEach((function(e){return e.paused=!1}))}))}))})),this.player.ev.on("dispose",(function(){n.dispose()})),this.player.delay(t,(function(){a.game.spawner.paused=!1,a.game.enemies.forEach((function(e){return e.paused=!1}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.skillSun=function(){var e=n(i().mark((function e(t){var a,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.createObjectFromURL("ui://"+c.data.UIPackage+"/"+this.config.role).asCom,this.grow(),l.inst.playEffect("sun_born"),this.game.view.addChild(a),a.setPosition(.5*this.game.width,this.game.floorY),a.getTransition("born").play((function(){m(t/.1,n(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.game.player.delay(.1*t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:(n=new w).init(.5*s.game.width,s.game.floorY-30,!1),r=c.data.sun_power,n.body.applyLinearImpulseToCenter(y(g.randomRange(-r[0],r[0]),r[1]),!0),s.player.ev.on("dispose",(function(){return n.dispose()})),a.getTransition("fire").play(),s.game.player.delay(3,(function(){n.moveToPlayer()}));case 12:case"end":return e.stop()}}),e)})))),s.game.player.delay(t+.5,(function(){a.dispose()}))})),this.player.ev.on("dispose",(function(){a.dispose()}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t(e,[{key:"game",get:function(){return this.player.game}}]),e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/GameTalent22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./AudioManager22.ts","./WindowCup22.ts","./util22.ts","./GameDragonHead2.ts"],(function(e){var i,t,a,n,s,o,r,c,u,p,l;return{setters:[function(e){i=e.createClass,t=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){n=e.cclegacy,s=e.Color},function(e){o=e.UIPackage},function(e){r=e.default},function(e){c=e.default},function(e){u=e.default,p=e.repeat},function(e){l=e.default}],execute:function(){n._RF.push({},"108d1v713hIvIlBFaWG9fYT","GameTalent2",void 0);e("default",function(){function e(e,i,t){this.player=e,this.config=i,this.mul=t,t?(this.applyMul(),this.bindTrigger()):this.bindTrigger()}var n=e.prototype;return n.applyMul=function(){for(var e in this.config=u.deepCopy(this.config),this.config.attr)this.config.attr[e]*=this.mul;this.config.desc=this.config.desc.replace("n",this.mul.toFixed(0))},n.bindTrigger=function(){var e=this,i=this.config.trigger;if(i.add_weapon)if(1==i.add_weapon)for(var t=0;t<this.config.weaponNum;t++)this.mul<0?p(Math.abs(this.mul),(function(){var i=e.player.items[e.player.items.length-1];i.isMain||i.dispose()})):this.mul>0?p(this.mul,(function(){e.player.addWeapon(e.player.items[0].config,!1)})):this.player.addWeapon(this.player.items[0].config,!1);else{var a=this.player.addWeapon(this.game.bulletData[i.add_weapon],!0);a.setPos(.5*this.game.width,this.game.floorY),a.enabled=!1,a.view.getTransition("born").play((function(){a.enabled=!0}))}if(i.change_weapon)this.player.changeWeapon(this.game.bulletData[i.change_weapon]);else if(i.show_cup){var n=i.show_cup.match(/\[(.*?)\]/g).map((function(e){return e.replace(/[\[\]]/g,"").split(",").map((function(e){return parseInt(e)}))})).map((function(e){return u.pickRandom(e)}));c.showWithArg({ids:n})}else i.poweron||(i.frozen?this.skillFrozen(i.frozen):i.sun||i.sleep&&this.skillSleep(i.sleep))},n.skillSleep=function(){var e=t(a().mark((function e(i){var t,n,s=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.createObjectFromURL("ui://"+this.game.gameConst.PlantsPack+"/"+this.config.role).asCom,this.game.layers.effect.addChild(t),t.setPosition(.5*this.game.width,this.game.floorY),n=[],t.getTransition("fire").setHook("effect",(function(){r.inst.playEffect("ice_start"),s.game.spawner.paused=!0,s.game.enemies.forEach((function(e){var i=o.createObjectFromURL("ui://"+s.game.gameConst.PlantsPack+"/sleep_effect").asCom;s.game.view.addChild(i),i.setPosition(e.view.x+e.view.width*e.view.scaleY*.4,e.view.y-e.view.height*e.view.scaleY);var t=e.data.boss?e.view.scaleX:.3*e.view.scaleX;i.setScale(t,t),e.paused=!0,e.pauseAnim(),n.push(i),s.player.ev.on("dispose",(function(){i.isDisposed||i.dispose()})),e.ev.on("dispose",(function(){i.dispose()}))})),s.game.dragons.forEach((function(e){if(e instanceof l){var i=o.createObjectFromURL("ui://"+s.game.gameConst.PlantsPack+"/sleep_effect").asCom;s.game.view.addChild(i),i.setPosition(e.view.x+e.view.width*e.view.scaleY*.4,e.view.y-e.view.height*e.view.scaleY);i.setScale(1,1),n.push(i),s.player.ev.on("dispose",(function(){i.isDisposed||i.dispose()})),e.ev.on("dispose",(function(){i.dispose()}))}e.paused=!0,e.pauseAnim()}))})),this.player.delay(i,(function(){n.forEach((function(e){e.isDisposed||e.dispose()})),s.game.spawner.paused=!1,s.game.enemies.forEach((function(e){e.paused=!1,e.resumeAnim()})),s.game.dragons.forEach((function(e){e.paused=!1,e.resumeAnim()})),s.game.pullBackTimer=.5})),t.getTransition("born").play((function(){t.getTransition("fire").play((function(){t.dispose()}))})),this.player.ev.on("dispose",(function(){t.dispose()}));case 8:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),n.skillFrozen=function(){var e=t(a().mark((function e(i){var t,n,c=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.createObjectFromURL("ui://"+this.game.gameConst.PlantsPack+"/"+this.config.role).asCom,this.game.layers.effect.addChild(t),t.setPosition(.5*this.game.width,this.game.floorY),t.getTransition("fire").setHook("break",(function(){r.inst.playEffect("ice_start")})),n=s.fromHEX(new s,"66E3FEFF"),t.getTransition("born").play((function(){t.getTransition("fire").play((function(){t.dispose(),c.game.spawner.paused=!0;var e=[].concat(c.game.enemies,c.game.dragons);e.forEach((function(e){e.disposed||(e.paused=!0,e.setColor(n),e.pauseAnim())})),c.player.delay(i,(function(){c.game.spawner.paused=!1,e.forEach((function(e){e.paused=!1,e.resumeAnim(),e.setColor(s.WHITE)})),c.game.pullBackTimer=.5}))}))})),this.player.ev.on("dispose",(function(){t.dispose()}));case 7:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),i(e,[{key:"game",get:function(){return this.player.game}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtils.ts",["cc"],(function(t){var e,o,i,r,n,s,a;return{setters:[function(t){e=t.cclegacy,o=t.v3,i=t.Mat4,r=t.Quat,n=t.Node,s=t.Vec3,a=t.UITransform}],execute:function(){e._RF.push({},"8bab3MFKN5MF48Kna+OevMy","GameUtils",void 0);var l=t("GameUtils",function(){function t(){}return t.createChild=function(t,e,o){void 0===o&&(o=-1);var i=new n;return o<0?t.addChild(i):t.insertChild(i,o),this.setLayer(i,e),i},t.setLayer=function(t,e){t.layer=e;var o=0,i=t.children.length;for(o=0;o<i;++o)this.setLayer(t.children[o],e)},t.ConvertLocalTo=function(t,e,o,i){var r=o||new s;return t.convertToWorldSpaceAR(i||s.ZERO,this._v0),e.convertToNodeSpaceAR(this._v0,r),r},t.WorldToLocal=function(t,e,o){var r=o||new s;return s.transformMat4(r,t,i.invert(this._m4,e.worldMatrix)),r},t.LocalToWorld=function(t,e,o){var i=o||new s;return e.getWorldMatrix(this._m4),s.transformMat4(i,t,this._m4),i},t.resetTransform=function(t){t.setPosition(0,0,0),t.setRotationFromEuler(0,0,0),t.setScale(1,1,1)},t.syncWorldPosition=function(t,e){t.getWorldPosition(this._v0),e.setWorldPosition(this._v0)},t.syncNode=function(t,e){t.getWorldMatrix(this._m4),this.setWorldMatrix(e,this._m4)},t.setWorldMatrix=function(t,e){i.toSRT(e,this._q4,this._v0,this._v1),t.setWorldRotation(this._q4),t.setWorldPosition(this._v0),t.setWorldScale(this._v1)},t.SetWorldMatrix=function(t,e,o,i,n,s){this._v0.set(i,n,s),r.fromEuler(this._q4,0,o,0),t.setWorldRotation(this._q4),t.setWorldPosition(e),t.setWorldScale(this._v0)},t.addNode2Gloader=function(t,e,o){void 0===o&&(o=!0),e.node.addChild(t),t.setPosition(e.width/2,e.height/-2),this.setLayer(t,e.node.layer),o&&t.getComponent(a).setContentSize(e.width,e.height)},t.SetLayer=function(t,e){t.layer=e;var o=0,i=t.children.length;for(o=0;o<i;++o)this.SetLayer(t.children[o],e)},t}());l._v0=o(0,0,0),l._v1=o(0,0,0),l._m4=new i,l._q4=new r,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./UI_Game2.ts"],(function(e){var n,t,i,u,c;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){i=e.cclegacy},function(e){u=e.ViewBase},function(e){c=e.default}],execute:function(){i._RF.push({},"77fc7aRnntPI66mGWviwtYq","GameView",void 0);e("GameView",function(e){function i(){return e.apply(this,arguments)||this}n(i,e);var u=i.prototype;return u._preShowAnim=function(){},u._afterShowAnim=function(){},u._preHideAnim=function(){},u._afterHideAnim=function(){},t(i,null,[{key:"instance",get:function(){return this._getInstance(i,c)}}]),i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameWeapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./TreeSpiritBulletConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritTalentConfig.ts","./AudioManager.ts","./BattleManager.ts","./EffectManager2.ts","./util2.ts","./GameAttr.ts","./GameBombingBullet.ts","./GameBullet.ts","./GameObject2.ts","./GameSawBullet.ts","./UI_player_1.ts"],(function(t){var e,i,a,s,r,n,o,l,h,c,f,u,d,g,p,m,v,y,w,_,b,x,P,k,S,C;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,a=t.assertThisInitialized,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy,o=t.Vec2},function(t){l=t.UIPackage},function(t){h=t.TreeSpiritBulletConfig},function(t){c=t.TreeSpiritGameConst},function(t){f=t.TreeSpiritTalentConfig},function(t){u=t.default},function(t){d=t.default},function(t){g=t.default},function(t){p=t.default,m=t.PIE,v=t.vec2,y=t.repeat,w=t.delay},function(t){_=t.default},function(t){b=t.default},function(t){x=t.default},function(t){P=t.default,k=t.PhysicTags},function(t){S=t.default},function(t){C=t.default}],execute:function(){n._RF.push({},"5da8deLw7dLuISKWecleP5l","GameWeapon",void 0);t("default",function(t){function n(e,i,s){var r;return(r=t.call(this)||this).ev=void 0,r.target=void 0,r.parent=void 0,r.fireCount=0,r.bulletCount=0,r.magazine=0,r.reloading=!1,r.isColl=!0,r.noDMG=!1,r.isStatic=!1,r.isReady=void 0,r.enabled=!0,r.attr=void 0,r.level=void 0,r.timer=0,r.pivot=v(.5,1),r.collBehavior={enemy:"cross"},r.tag=k.player,r.dir=0,r.life=0,r.view=void 0,r.projectOffsetX=0,r.offset=v(),r.isMain=!1,r.projective=!1,r.spFixed=!1,r.timeScale=1,r.forceCD=0,r.framePerShot=0,r.frame=0,r.update=function(t){if(!r.game.paused){r.timer+=t*r.timeScale;var e=r.forceCD||r.attr.getCD();if(r.frame++,r.framePerShot=Math.floor(1/t*e),r.framePerShot<0&&(r.framePerShot=Math.min(-r.framePerShot/t,120)),r.reloading)r.timer>r.config.reload&&(r.timer=0,r.reloading=!1,r.magazine=r.config.magazine);else if(r.frame>r.framePerShot&&r.enabled&&!r.isReady){r.isReady=!0,r.frame=-1;var i=r.attr.getBulletAttr("count");i>0&&r.bulletCount>=i&&(r.isReady=!1)}if(r.isReady){r.fireCount++;var a=r.attr.getWeaponSPHit();if(a&&r.fireCount>=a){r.attr.getWeaponSPBullet();r.fireCount=0}else r.spFixed;r.fire(),r.timer=0,r.isReady=!1,r.config.magazine>0&&(r.magazine-=1,r.magazine<=0&&(r.reloading=!0)),r.game.spawner.stopped&&0==r.game.enemies.length&&(r.enabled=!1)}}},r.targetPos=void 0,r.config=e,r.fixed=i,r.playerCopy=s,r.attr=new _(a(r)),r}e(n,t);var B=n.prototype;return B.changeWeapon=function(){var t=s(r().mark((function t(e){var i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.enabled=!1,t.next=3,d.delay(.3);case 3:this.game.player.attr.setRunTimeAttr("atk_add",e.atk-this.config.atk),this.attr.setRunTimeAttr("atk_add",e.atk-this.config.atk),this.config=e,this.attr=new _(this),this.enabled=!0,this.view.dispose(),i=this.config.view||this.game.config.player,console.error(e,i,this.config),this.view=l.createObjectFromURL("ui://"+c.data.UIPackage+"/"+i),this.fixed?this.game.layers.bg.addChild(this.view):this.game.layers.player.addChild(this.view),a=this.fixed?1:this.game.config.player_scale,this.view.setScale(a,a),this.size.x=this.view.width*a,this.size.y=this.view.height*a,this.view.touchable=!1,e.talent&&(f.data[e.talent]?this.game.player.addTalent(f.data[e.talent]):console.error("天赋不存在: ",e.talent)),this.view.m_title.visible=this.isMain,-1==this.game.bulletNum&&this.view.m_title&&(this.view.m_title.visible=!1);case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),B.createView=function(){var t=s(r().mark((function t(){var e,i,a=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config.view||this.game.config.player,console.error(e),this.view=l.createObjectFromURL("ui://"+c.data.UIPackage+"/"+e),this.ev.on("dispose",(function(){return a.view.dispose()})),this.fixed?this.game.layers.bg.addChild(this.view):this.game.layers.player.addChild(this.view),i=this.fixed?1:this.game.config.player_scale,this.view.setScale(i,i),this.size.x=this.view.width*i,this.size.y=this.view.height*i,this.view.touchable=!1,this.prevPos=this.pos.clone(),this.ev.on("update",(function(){a.diffChange()})),this.ev.emit("created"),this.timer=0,this.frame=0,this.view.m_title&&(this.view.m_title.text=this.game.bulletNum.toString(),-1==this.game.bulletNum&&(this.view.m_title.visible=!1));case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),B.diffChange=function(){if(this.enabled&&!this.fixed){if(this.prevPos.x==this.pos.x)this.view.m_player.m_idle.playing||(this.view.m_ride.m_move.stop(),this.view.m_player.m_idle.play(null,-1));else{var t=Math.sign(this.pos.x-this.prevPos.x);this.view.m_flipped.selectedIndex=t>0?0:1,this.view.m_ride.m_move.playing||(this.view.m_player.m_idle.stop(),this.view.m_ride.m_move.play(null,-1))}this.prevPos=this.pos.clone()}},B.projectPosOffset=function(t){var e=.2*(t-375);this.projectOffsetX=e},B.damaged=function(t){this.noDMG||(this.noDMG=!0,this.kill())},B.kill=function(){g.inst.playAnimEffect("effect_kill",this.x,this.y),this.view instanceof C&&this.view.m_player.m_idle.stop(),this.view.m_player.m_destroy.play(),this.removeAABB(),this.enabled=!1},B.onColl=function(t){var e=P.getObjectByID(t.other);if(e){switch(e.tag){case k.panel:e.onPick()}this.ev.emit("coll",e)}},B.bind=function(){var t=s(r().mark((function t(e){var i,a,s=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bindEvents(),this.parent=e,this.createView(),0==e.items.indexOf(this)?(this.createAABB(),this.isMain=!0):(i=this.view.scaleX,this.view.setScale(.6*i,.6*i),this.isColl=!1),this.view.m_title.visible=this.isMain&&this.game.bulletNum>0,this.life=this.config.duration||1/0,this.ev.on("update",(function(t){s.moveUpdate(t)})),this.parent.ev.on("dir",(function(t){s.enabled&&(s.dir=t)})),a=this.parent.pos.clone(),!this.parent.disposed){t.next=16;break}return this.setPos(a.x,a.y),t.next=13,this.fire();case 13:this.dispose(),t.next=17;break;case 16:this.enabled&&this.ev.on("update",(function(t){s.update(t)}));case 17:this.ev.on("fire",(function(){var t;s.view.m_player?s.view.m_player.m_fire.play():null==(t=s.view.getTransition("fire"))||t.play()}));case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),B.moveUpdate=function(t){this.disposed||(this.fixed||this.setPos(this.parent.x+this.offset.x,this.parent.y+this.offset.y),this.life-=t,this.life<0&&this.dispose())},B.setEnabled=function(){var t=this;this.enabled=!0,this.ev.on("update",(function(e){t.update(e)}))},B.fire=function(){var t=s(r().mark((function t(e){var i,a=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ev.emit("fire"),e&&this.setPos(e.x,e.y),!(i=this.attr.getBulletAttr("delay"))){t.next=6;break}return t.next=6,w(i);case 6:return t.next=8,y(this.attr.getBulletAttr("round"),s(r().mark((function t(e){var i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=a.attr.getBulletAttr("interval")*e)){t.next=4;break}return t.next=4,w(i);case 4:if(a.enabled){t.next=6;break}return t.abrupt("return");case 6:a.fireRound();case 7:case"end":return t.stop()}}),t)}))));case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),B.fireSingle=function(){var t=s(r().mark((function t(e,i,a,s){var n,o,l,c=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=this.attr.getBulletAttr("count"))>0&&this.bulletCount>=n)){t.next=4;break}if(this.config.ballistic==h.E_ballistic.ray){t.next=4;break}return t.abrupt("return");case 4:o=x,601==this.config.id?o=S:701==this.config.id&&(o=b),l=new o(this.config),i.rotate(.5*-m),l.launch(this,e,i,a,s),this.bulletCount++,l.ev.on("dispose",(function(){return c.bulletCount--})),this.ev.emit("bullet",l);case 12:case"end":return t.stop()}}),t,this)})));return function(e,i,a,s){return t.apply(this,arguments)}}(),B.getFireDir=function(){switch(this.config.target){case h.E_target.up:case h.E_target.none:return 0;case h.E_target.down:return m;case h.E_target.player:case h.E_target.close:case h.E_target.max:case h.E_target.random:case h.E_target.min:return this.targetPos?p.angleObject(this,this.targetPos)+.5*m:0;case h.E_target.center:return p.angleObject(this,this.game.center)+.5*m}},B.getFirePoint=function(t){if(void 0===t&&(t=!1),this.isMain||!t)return p.getRelativePos(this.game.layers.player,this.view.m_fire_point);var e=p.getRelativePos(this.game.layers.player,this.view.m_fire_point).x,i=this.game.player.items[0].getFirePoint().y;return v(e,i)},B.fireRound=function(){var t=this;if(!this.disposed&&this.parent)if(this.game.bulletNum>0&&this.game.bulletNum--,this.view.m_title&&this.isMain&&(this.view.m_title.text=this.game.bulletNum.toString()),0!=this.game.bulletNum){this.ev.emit("fire_round"),u.inst.playEffect(this.config.sounds.fire);var e=this.config.distribution,i=this.getFireDir();this.config.offset_step&&(i+=p.angle2rad(this.config.spread)*Math.sin(this.fireCount*p.angle2rad(this.config.offset_step)));var a=this.fixed?this.config.burst:this.attr.getBulletAttr("burst");a=Math.max(a,1);var s=this.getFirePoint(!0),r=this.getFirePoint(!1);switch(this.view&&g.inst.playAnimEffect("effect_fire",r.x,r.y,this.game.scale,this.game.layers.effect),e){case h.E_distribution.dir_a:var n=p.angle2rad(this.attr.getBulletAttr("spread")),l=1==a?0:n/(a-1);1==a&&(n=0);var c=i-n/2;y(a,(function(e){t.fireSingle(s.clone(),o.UNIT_X.clone().rotate(c+l*e),t.target,e)}));break;case h.E_distribution.dir_r:var f=p.angle2rad(this.attr.getBulletAttr("spread"));y(a,(function(e){t.fireSingle(s.clone(),o.UNIT_X.clone().rotate(i+p.randomRange(-.5*f,.5*f)),t.target,e)}));break;case h.E_distribution.para_a:var d=this.attr.getBulletAttr("spread"),m=1==a?0:d;1==a&&(d=0);var v=s.x-d*(a-1)/2;y(a,(function(e){t.fireSingle(new o(v+m*e,s.y),o.UNIT_X.clone().rotate(i),t.target,e)}));break;case h.E_distribution.para_r:var w=this.attr.getBulletAttr("spread");y(a,(function(e){t.fireSingle(new o(p.randomRange(s.x-.5*w,s.x+.5*w),s.y),o.UNIT_X.clone().rotate(i),t.target,e)}));case h.E_distribution.none:y(a,(function(e){t.fireSingle(new o(s.x,s.y),o.UNIT_X.clone().rotate(i),t.target,e)}))}}else console.log("子弹已用完")},i(n,[{key:"main",get:function(){return this.game.player.items[0]}}]),n}(P));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameWeapon2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoBulletConfig.ts","./fairygui.mjs","./AudioManager2.ts","./EffectManager.ts","./util3.ts","./GameAttr3.ts","./GameBullet2.ts","./GameObject.ts"],(function(e){var t,i,n,r,a,s,o,l,f,u,c,h,d,g,p,v,m,y,w,b;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e.Vec2},function(e){l=e.ShoudaqiaoBulletConfig},function(e){f=e.UIPackage},function(e){u=e.default},function(e){c=e.default},function(e){h=e.default,d=e.vec2,g=e.repeat,p=e.delay,v=e.PIE},function(e){m=e.default},function(e){y=e.default},function(e){w=e.default,b=e.PhysicTags}],execute:function(){s._RF.push({},"67ffe7dAjdCw5QeNQg60ZP7","GameWeapon",void 0);e("default",function(e){function s(t,i){var r;return(r=e.call(this)||this).ev=void 0,r.target=void 0,r.parent=void 0,r.fireCount=0,r.bulletCount=0,r.magazine=0,r.reloading=!1,r.isColl=!1,r.noDMG=!1,r.isStatic=!1,r.isReady=void 0,r.enabled=!0,r.attr=void 0,r.level=void 0,r.timer=0,r.pivot=d(.5,1),r.collBehavior={enemy:"cross"},r.tag=b.player,r.dir=0,r.life=0,r.view=void 0,r.offset=d(),r.isMain=!1,r.spFixed=!1,r.timeScale=1,r.forceCD=0,r.framePerShot=0,r.frame=0,r.update=function(e){if(r.isMain||r.fixed){r.timer+=e*r.timeScale;var t=r.forceCD||r.attr.getCD();if(r.frame++,r.framePerShot=Math.floor(1/e*t),r.framePerShot<0&&(r.framePerShot=Math.min(-r.framePerShot/e,120)),r.reloading)r.timer>r.config.reload&&(r.timer=0,r.reloading=!1,r.magazine=r.config.magazine);else if(r.frame>r.framePerShot&&r.enabled&&!r.isReady){r.isReady=!0,r.frame=-1;var i=r.attr.getBulletAttr("count");i>0&&r.bulletCount>=i&&(r.isReady=!1)}if(r.isReady){r.fireCount++;var n=r.attr.getWeaponSPHit();if(n&&r.fireCount>=n){r.attr.getWeaponSPBullet();r.fireCount=0}else r.spFixed;r.fire(),r.timer=0,r.isReady=!1,r.config.magazine>0&&(r.magazine-=1,r.magazine<=0&&(r.reloading=!0)),r.game.spawner.stopped&&0==r.game.enemies.length&&0==r.game.dragons.length&&(r.enabled=!1)}}},r.targetPos=void 0,r.config=t,r.fixed=i,r.attr=new m(n(r)),r}t(s,e);var x=s.prototype;return x.changeWeapon=function(){var e=r(a().mark((function e(t){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.enabled=!1,this.config=t,this.attr=new m(this),this.view.dispose(),this.view=f.createObjectFromURL("ui://"+this.game.gameConst.RESPackage+"/"+this.config.view),this.game.layers.player.addChild(this.view),i=this.isMain?this.view.scaleX:.6*this.view.scaleX,this.view.setScale(i,i),this.enabled=!0;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),x.createView=function(){var e=r(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view=this.fixed?f.createObjectFromURL("ui://"+this.game.gameConst.PlantsPack+"/"+this.config.view):f.createObjectFromURL("ui://"+this.game.gameConst.RESPackage+"/"+this.config.view),this.ev.on("dispose",(function(){return t.view.dispose()})),this.fixed?this.game.layers.part.addChild(this.view):this.game.layers.player.addChild(this.view),1,this.view.setScale(1,1),this.size.x=1*this.view.width,this.size.y=1*this.view.height,this.view.touchable=!1,this.prevPos=this.pos.clone(),this.ev.emit("created"),this.timer=this.attr.getCD(),this.frame=1/0;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),x.damaged=function(e){this.noDMG||(this.noDMG=!0,this.kill())},x.kill=function(){var e=this.view.getChild("icon");if(e){var t,i,n,r,a=e.component;null==(t=a.getTransition("idle"))||t.stop(),null==(i=a.getTransition("destroy"))||i.play(),null==(n=a.getChild("player"))||null==(n=n.asCom.getTransition("idle"))||n.stop(),null==(r=a.getChild("player"))||null==(r=r.asCom.getTransition("destroy"))||r.play()}this.removeAABB(),this.enabled=!1},x.onColl=function(e){var t=w.getObjectByID(e.other);if(t){switch(t.tag){case b.panel:t.onPick()}this.ev.emit("coll",t)}},x.bind=function(){var e=r(a().mark((function e(t){var i,n,r,s=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.bindEvents(),this.parent=t,this.createView(),0==t.items.indexOf(this)?this.isMain=!0:(this.fixed||(this.enabled=!1),i=this.view.scaleX,n=this.config.view_scale||.6,this.view.setScale(i*n,i*n)),this.life=this.config.duration||1/0,this.ev.on("update",(function(e){s.disposed||(!s.fixed&&s.parent.enabled&&(s.enabled=!0),s.fixed||s.setPos(s.parent.x+s.offset.x,s.parent.y+s.offset.y),s.life-=e,s.life<0&&s.dispose())})),this.parent.ev.on("dir",(function(e){s.enabled&&(s.dir=e)})),r=this.parent.pos.clone(),!this.parent.disposed){e.next=15;break}return this.setPos(r.x,r.y),e.next=12,this.fire();case 12:this.dispose(),e.next=16;break;case 15:this.enabled&&this.ev.on("update",this.update);case 16:this.fixed&&(this.forceCD=1/this.config.hit_rate),this.isMain||this.fixed||this.main.ev.on("fire_round",(function(){s.enabled&&s.fireRound()})),this.ev.on("fire",(function(){var e,t;null==(e=s.view.getChild("player"))||null==(e=e.asCom.getTransition("fire"))||e.play(),null==(t=s.view.getTransition("fire"))||t.play()}));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),x.setEnabled=function(){this.enabled=!0,this.ev.on("update",this.update)},x.fire=function(){var e=r(a().mark((function e(t){var i,n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ev.emit("fire"),t&&this.setPos(t.x,t.y),!(i=this.attr.getBulletAttr("delay"))){e.next=6;break}return e.next=6,p(i);case 6:return e.next=8,g(this.attr.getBulletAttr("round"),r(a().mark((function e(t){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=n.attr.getBulletAttr("interval")*t)){e.next=4;break}return e.next=4,p(i);case 4:if(n.enabled){e.next=6;break}return e.abrupt("return");case 6:n.fireRound();case 7:case"end":return e.stop()}}),e)}))));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),x.fireSingle=function(){var e=r(a().mark((function e(t,i,n,r){var s,o,f=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((s=this.attr.getBulletAttr("count"))>0&&this.bulletCount>=s)){e.next=4;break}if(this.config.ballistic==l.E_ballistic.ray){e.next=4;break}return e.abrupt("return");case 4:o=new y(this.config),i.rotate(.5*-v),o.launch(this,t,i,n,r),this.bulletCount++,o.ev.on("dispose",(function(){return f.bulletCount--})),this.ev.emit("bullet",o);case 11:case"end":return e.stop()}}),e,this)})));return function(t,i,n,r){return e.apply(this,arguments)}}(),x.getFireDir=function(){return 0},x.getFirePoint=function(e){void 0===e&&(e=!1);var t=this.view.getChild("fire_point")||this.view;if(this.isMain||!e){var i=h.getRelativePos(this.game.layers.player,t);if(!e)return i;i.y-=500;var n=this.projectPos(i);return d(n.x,n.y+600)}var r=h.getRelativePos(this.game.layers.player,t).x,a=this.game.player.items[0].getFirePoint().y;return d(r,a)},x.fireRound=function(){var e,t=this;if(!this.disposed&&this.parent){this.ev.emit("fire_round"),u.inst.playEffect(this.config.sounds.fire),null==(e=this.view.getChild("player"))||null==(e=e.asCom.getTransition("fire"))||e.play();var i=this.config.distribution,n=this.getFireDir();this.config.offset_step&&(n+=h.angle2rad(this.config.spread)*Math.sin(this.fireCount*h.angle2rad(this.config.offset_step)));var r=this.fixed?this.config.burst:this.attr.getBulletAttr("burst");r=Math.max(r,1);var a=this.getFirePoint(!1),s=this.getFirePoint(!1);switch(this.view&&this.config.effects.fire&&c.inst.playAnimEffect(this.config.effects.fire,s.x,s.y,this.game.scale,this.game.layers.effect),i){case l.E_distribution.dir_a:var f=h.angle2rad(this.attr.getBulletAttr("spread")),d=1==r?0:f/(r-1);1==r&&(f=0);var p=n-f/2;g(r,(function(e){t.fireSingle(a.clone(),o.UNIT_X.clone().rotate(p+d*e),t.target,e)}));break;case l.E_distribution.dir_r:var v=h.angle2rad(this.attr.getBulletAttr("spread"));g(r,(function(e){t.fireSingle(a.clone(),o.UNIT_X.clone().rotate(n+h.randomRange(-.5*v,.5*v)),t.target,e)}));break;case l.E_distribution.para_a:var m=this.attr.getBulletAttr("spread"),y=1==r?0:m;1==r&&(m=0);var w=a.x-m*(r-1)/2;g(r,(function(e){t.fireSingle(new o(w+y*e,a.y),o.UNIT_X.clone().rotate(n),t.target,e)}));break;case l.E_distribution.para_r:var b=this.attr.getBulletAttr("spread");g(r,(function(e){t.fireSingle(new o(h.randomRange(a.x-.5*b,a.x+.5*b),a.y),o.UNIT_X.clone().rotate(n),t.target,e)}));break;case l.E_distribution.none:g(r,(function(e){t.fireSingle(new o(a.x,a.y),o.UNIT_X.clone().rotate(n),t.target,e)}))}}},i(s,[{key:"flipped",get:function(){return 1==this.view.getController("flipped").selectedIndex},set:function(e){this.fixed||this.flipped!=e&&(this.view.getController("flipped").selectedIndex=e?1:0)}},{key:"main",get:function(){return this.game.player.items[0]}}]),s}(w));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameWeapon22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShoudaqiaoBulletConfig2.ts","./fairygui.mjs","./AudioManager22.ts","./util22.ts","./GameAttr2.ts","./GameBullet22.ts","./GameObject22.ts"],(function(e){var t,i,a,n,r,s,o,l,h,u,c,f,d,g,v,p,m,w,b;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,a=e.assertThisInitialized,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e.Vec2},function(e){l=e.ShoudaqiaoBulletConfig},function(e){h=e.UIPackage},function(e){u=e.default},function(e){c=e.default,f=e.vec2,d=e.repeat,g=e.delay,v=e.PIE},function(e){p=e.default},function(e){m=e.default},function(e){w=e.default,b=e.PhysicTags}],execute:function(){s._RF.push({},"de854zFy4xJk7GvIlmKkMyl","GameWeapon2",void 0);e("default",function(e){function s(t,i,n){var r;return(r=e.call(this)||this).ev=void 0,r.target=void 0,r.parent=void 0,r.fireCount=0,r.bulletCount=0,r.magazine=0,r.reloading=!1,r.isColl=!1,r.noDMG=!1,r.isStatic=!1,r.isReady=void 0,r.enabled=!0,r.attr=void 0,r.level=void 0,r.timer=0,r.pivot=f(.5,1),r.collBehavior={enemy:"cross"},r.tag=b.player,r.dir=0,r.life=0,r.view=void 0,r.offset=f(),r.isMain=!1,r.spFixed=!1,r.timeScale=1,r.forceCD=0,r.framePerShot=0,r.frame=0,r.update=function(e){if((r.isMain||r.fixed)&&!r.mar.beginChooseing){r.timer+=e*r.timeScale;var t=r.forceCD||r.attr.getCD();if(r.frame++,r.framePerShot=Math.floor(1/e*t),r.framePerShot<0&&(r.framePerShot=Math.min(-r.framePerShot/e,120)),r.reloading)r.timer>r.config.reload&&(r.timer=0,r.reloading=!1,r.magazine=r.config.magazine);else if(r.frame>r.framePerShot&&r.enabled&&!r.isReady){r.isReady=!0,r.frame=-1;var i=r.attr.getBulletAttr("count");i>0&&r.bulletCount>=i&&(r.isReady=!1)}if(r.isReady){r.fireCount++;var a=r.attr.getWeaponSPHit();if(a&&r.fireCount>=a){r.attr.getWeaponSPBullet();r.fireCount=0}else r.spFixed;r.fire(),r.timer=0,r.isReady=!1,r.config.magazine>0&&(r.magazine-=1,r.magazine<=0&&(r.reloading=!0)),r.game.spawner.stopped&&0==r.game.enemies.length&&0==r.game.dragons.length&&(r.enabled=!1)}}},r.targetPos=void 0,r.onUpdate=function(e){r.disposed||(r.paused&&(e=0),r.isStatic||r.processMoveState(e*r.timeScale),!r.isStatic&&r.isColl&&r.updateAABB(!1),r.ev.emit("update",e*r.timeScale,e))},r.config=t,r.fixed=i,r.beginAnim=n,r.attr=new p(a(r)),r}t(s,e);var y=s.prototype;return y.changeWeapon=function(){var e=n(r().mark((function e(t){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.enabled=!1,this.config=t,this.attr=new p(this),this.view.dispose(),this.view=h.createObjectFromURL("ui://"+this.game.gameConst.RESPackage+"/"+this.config.view),this.game.layers.player.addChild(this.view),i=this.isMain?this.view.scaleX:.6*this.view.scaleX,this.view.setScale(i,i),this.enabled=!0;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),y.createView=function(){var e=n(r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view=this.fixed?h.createObjectFromURL("ui://"+this.game.gameConst.PlantsPack+"/"+this.config.view):h.createObjectFromURL("ui://"+this.game.gameConst.RESPackage+"/"+this.config.view),this.beginAnim&&(1==this.mar.config.beginType?(this.view.getChild("la").url="ui://"+this.game.gameConst.RESPackage+"/roleLa",this.view.getChild("luo").url="ui://"+this.game.gameConst.RESPackage+"/roleLuo",this.view.getChild("huoguang").url="ui://"+this.game.gameConst.RESPackage+"/huaguihuoguang"):(this.view.getChild("hua").url="ui://"+this.game.gameConst.RESPackage+"/roleHuaR",this.view.getChild("luo").url="ui://"+this.game.gameConst.RESPackage+"/roleLuo",this.view.getChild("langhua").url="ui://"+this.game.gameConst.RESPackage+"/langhua"),this.view.getChild("role")&&(this.view.getChild("role").visible=!1),this.view.getChild("luo")&&(this.view.getChild("luo").visible=!1),this.view.getChild("la")&&(this.view.getChild("la").visible=!0),this.view.getChild("hua")&&(this.view.getChild("hua").visible=!0)),this.ev.on("dispose",(function(){return t.view.dispose()})),this.fixed?this.game.layers.part.addChild(this.view):this.game.layers.player.addChild(this.view),1,this.view.setScale(1,1),this.size.x=1*this.view.width,this.size.y=1*this.view.height,this.view.touchable=!1,this.prevPos=this.pos.clone(),this.ev.emit("created"),this.timer=this.attr.getCD(),this.frame=1/0;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),y.damaged=function(e){this.noDMG||(this.noDMG=!0,this.kill())},y.kill=function(){var e=this.view.getChild("icon");if(e){var t,i,a,n,r=e.component;null==(t=r.getTransition("idle"))||t.stop(),null==(i=r.getTransition("destroy"))||i.play(),null==(a=r.getChild("player"))||null==(a=a.asCom.getTransition("idle"))||a.stop(),null==(n=r.getChild("player"))||null==(n=n.asCom.getTransition("destroy"))||n.play()}this.removeAABB(),this.enabled=!1},y.onColl=function(e){var t=w.getObjectByID(e.other);if(t){switch(t.tag){case b.panel:t.onPick()}this.ev.emit("coll",t)}},y.bind=function(){var e=n(r().mark((function e(t){var i,a,n,s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.bindEvents(),this.parent=t,this.createView(),0==t.items.indexOf(this)?this.isMain=!0:(this.fixed||(this.enabled=!1),i=this.view.scaleX,a=this.config.view_scale||.6,this.view.setScale(i*a,i*a)),this.life=this.config.duration||1/0,this.ev.on("update",(function(e){s.disposed||(!s.fixed&&s.parent.enabled&&(s.enabled=!0),s.fixed||s.setPos(s.parent.x+s.offset.x,s.parent.y+s.offset.y),s.life-=e,s.life<0&&s.dispose())})),this.parent.ev.on("dir",(function(e){s.enabled&&(s.dir=e)})),n=this.parent.pos.clone(),!this.parent.disposed){e.next=15;break}return this.setPos(n.x,n.y),e.next=12,this.fire();case 12:this.dispose(),e.next=16;break;case 15:this.enabled&&this.ev.on("update",this.update);case 16:this.fixed&&(this.forceCD=1/this.config.hit_rate),this.isMain||this.fixed||this.main.ev.on("fire_round",(function(){s.enabled&&s.fireRound()})),this.ev.on("fire",(function(){var e,t;null==(e=s.view.getChild("player"))||null==(e=e.asCom.getTransition("fire"))||e.play(),null==(t=s.view.getTransition("fire"))||t.play()}));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),y.setEnabled=function(){this.enabled=!0,this.ev.on("update",this.update)},y.fire=function(){var e=n(r().mark((function e(t){var i,a=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ev.emit("fire"),t&&this.setPos(t.x,t.y),!(i=this.attr.getBulletAttr("delay"))){e.next=6;break}return e.next=6,g(i);case 6:return e.next=8,d(this.attr.getBulletAttr("round"),n(r().mark((function e(t){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=a.attr.getBulletAttr("interval")*t)){e.next=4;break}return e.next=4,g(i);case 4:if(a.enabled){e.next=6;break}return e.abrupt("return");case 6:a.fireRound();case 7:case"end":return e.stop()}}),e)}))));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),y.fireSingle=function(){var e=n(r().mark((function e(t,i,a,n){var s,o,h=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mar.beginChooseing){e.next=2;break}return e.abrupt("return");case 2:if(!((s=this.attr.getBulletAttr("count"))>0&&this.bulletCount>=s)){e.next=6;break}if(this.config.ballistic==l.E_ballistic.ray){e.next=6;break}return e.abrupt("return");case 6:o=new m(this.config),i.rotate(.5*-v),o.launch(this,t,i,a,n),this.bulletCount++,o.ev.on("dispose",(function(){return h.bulletCount--})),this.ev.emit("bullet",o);case 13:case"end":return e.stop()}}),e,this)})));return function(t,i,a,n){return e.apply(this,arguments)}}(),y.getFireDir=function(){return 0},y.getFirePoint=function(e){void 0===e&&(e=!1);var t=this.view.getChild("fire_point")||this.view;if(this.isMain||!e){var i=c.getRelativePos(this.game.layers.player,t);if(!e)return i;i.y-=500;var a=this.projectPos(i);return f(a.x,a.y+600)}var n=c.getRelativePos(this.game.layers.player,t).x,r=this.game.player.items[0].getFirePoint().y;return f(n,r)},y.fireRound=function(){var e,t=this;if(!this.disposed&&this.parent){this.ev.emit("fire_round"),u.inst.playEffect(this.config.sounds.fire),null==(e=this.view.getChild("player"))||null==(e=e.asCom.getTransition("fire"))||e.play();var i=this.config.distribution,a=this.getFireDir();this.config.offset_step&&(a+=c.angle2rad(this.config.spread)*Math.sin(this.fireCount*c.angle2rad(this.config.offset_step)));var n=this.fixed?this.config.burst:this.attr.getBulletAttr("burst");n=Math.max(n,1);var r=this.getFirePoint(!1);this.getFirePoint(!1);switch(this.view&&this.config.effects.fire,i){case l.E_distribution.dir_a:var s=c.angle2rad(this.attr.getBulletAttr("spread")),h=1==n?0:s/(n-1);1==n&&(s=0);var f=a-s/2;d(n,(function(e){t.fireSingle(r.clone(),o.UNIT_X.clone().rotate(f+h*e),t.target,e)}));break;case l.E_distribution.dir_r:var g=c.angle2rad(this.attr.getBulletAttr("spread"));d(n,(function(e){t.fireSingle(r.clone(),o.UNIT_X.clone().rotate(a+c.randomRange(-.5*g,.5*g)),t.target,e)}));break;case l.E_distribution.para_a:var v=this.attr.getBulletAttr("spread"),p=1==n?0:v;1==n&&(v=0);var m=r.x-v*(n-1)/2;d(n,(function(e){t.fireSingle(new o(m+p*e,r.y),o.UNIT_X.clone().rotate(a),t.target,e)}));break;case l.E_distribution.para_r:var w=this.attr.getBulletAttr("spread");d(n,(function(e){t.fireSingle(new o(c.randomRange(r.x-.5*w,r.x+.5*w),r.y),o.UNIT_X.clone().rotate(a),t.target,e)}));break;case l.E_distribution.none:d(n,(function(e){t.fireSingle(new o(r.x,r.y),o.UNIT_X.clone().rotate(a),t.target,e)}))}}},i(s,[{key:"flipped",get:function(){return 1==this.view.getController("flipped").selectedIndex},set:function(e){this.fixed||this.flipped!=e&&(this.view.getController("flipped").selectedIndex=e?1:0)}},{key:"main",get:function(){return this.game.player.items[0]}}]),s}(w));s._RF.pop()}}}));

System.register("chunks:///_virtual/gDef.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"96523eRiFFDVoorMm9h7t74","gDef",void 0),t("Handler",function(){function t(){this._callback=void 0,this._target=void 0,this._enable=!1}t.Create=function(e,a){var n=this._pool.shift();return n||(n=new t),n._callback=e,n._target=a,n._enable=!0,n};var e=t.prototype;return e.apply=function(){if(this._callback&&this._target){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];this._callback.apply(this._target,e)}},e.recover=function(){this._enable&&(this._enable=!1,this._callback=null,this._target=null,t._pool.push(this))},t}())._pool=[],e._RF.pop()}}}));

System.register("chunks:///_virtual/GetBuildNewView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./ViewBase.ts","./UI_GetBuildNew.ts","./BuildsConfig.ts","./YT.ts","./HallView.ts"],(function(t){var e,i,a,n,o,r,s,l,c,u,d,m;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t.Color},function(t){s=t.ItemConfig},function(t){l=t.ViewBase},function(t){c=t.default},function(t){u=t.BuildsConfig},function(t){d=t.YT},function(t){m=t.HallView}],execute:function(){o._RF.push({},"f8fc3Xmu3ZDEZI7NdewGXLN","GetBuildNewView",void 0);t("GetBuildNewView",function(t){function o(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).data=void 0,e}e(o,t);var l=o.prototype;return l.renderGetBuildNew=function(t,e){var i=this.data[t].cfg;e.m_icon.setIcon(s.data[i.id].icon,"game"),e.m_txt_lv.text="lv."+this.data[t].lv,e.m_icon.m_quality.selectedIndex=i.quality,e.m_txt_name.text=i.name,e.m_txt_fight.text=this.data[t].fight.toFixedNumberCN();var a=d.data.getBuildProps(i.id,this.data[t].lv);e.m_txt_title1.text=a[0].key,e.m_txt_title2.text=a[1].key;var n=this.data[t+1].cfg?this.data[t+1].cfg.id:0,o=d.data.getBuildProps(n,this.data[t+1].lv);e.m_txt_prop1.text="[color=#F7C300]"+a[0].value.toFixedNumberCN()+"[/color]"+this.getDtText(-o[0].value+a[0].value),e.m_txt_prop2.text="[color=#F7C300]"+a[1].value.toFixedNumberCN()+"[/color]"+this.getDtText(-o[1].value+a[1].value),e.m_txt_name.text=i.name},l.getDtText=function(t){return console.error(t),t>=0?"[color="+r.GREEN.toHEX()+"](+"+t.toFixedNumberCN()+")[/color]":"[color="+r.RED.toHEX()+"](-"+t.toFixedNumberCN()+")[/color]"},l._preShowAnim=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.data=this._uiParam,this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_btn_use.onClick(this.onUse,this);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onUse=function(){d.data.onGetBuild(this.data[0].cfg.id,this.data[0].lv),this.hide(),m.instance.curPage.refresh(),d.message.dispatchEvent("on_res_changed")},l._afterShowAnim=function(){var t=d.data.userData.builds[this.data[0].type],e=u.data[t.id];if(t&&0!=t.id){this.data[1]={cfg:e,lv:t.lv,fight:d.data.calcPower(t.id,t.lv),type:this.data[0].type};var i=this.ui.m_item0;i.m_state.selectedIndex=0,i.m_icon.setIcon(s.data[e.id].icon,"game"),i.m_txt_lv.text="lv."+t.lv,i.m_icon.m_quality.selectedIndex=e.quality,i.m_txt_name.text=e.name,i.m_txt_fight.text=d.data.calcPower(e.id,t.lv).toFixedNumberCN();var a=d.data.getBuildProps(e.id);i.m_txt_title1.text=a[0].key,i.m_txt_title2.text=a[1].key,i.m_txt_prop1.text="[color=#F7C300]"+a[0].value.toFixedNumberCN()+"[/color]",i.m_txt_prop2.text="[color=#F7C300]"+a[1].value.toFixedNumberCN()+"[/color]",i.m_txt_name.text=e.name}else this.ui.m_item0.m_state.selectedIndex=1,this.data[1]={cfg:e,lv:0,fight:0,type:this.data[0].type};this.renderGetBuildNew(0,this.ui.m_item1)},l._preHideAnim=function(){},l._afterHideAnim=function(){},i(o,null,[{key:"instance",get:function(){return this._getInstance(o,c)}}]),o}(l));o._RF.pop()}}}));

System.register("chunks:///_virtual/GetBuildView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./ViewBase.ts","./YT.ts","./UI_GetBuild.ts","./HallView.ts"],(function(t){var e,i,a,s,n,r,o,u,c,d,l;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){n=t.cclegacy,r=t.Color},function(t){o=t.ItemConfig},function(t){u=t.ViewBase},function(t){c=t.YT},function(t){d=t.default},function(t){l=t.HallView}],execute:function(){n._RF.push({},"23912fZTppB/JL0XxnA9rA+","GetBuildView",void 0);t("GetBuildView",function(t){function n(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).datas=void 0,e.curDatas=void 0,e.data=void 0,e.curdata=void 0,e.index=0,e}e(n,t);var u=n.prototype;return u.renderReward=function(t,e){var i,a=this.data[t],s=a.cfg;e.m_state.selectedIndex=0,e.m_icon.setIcon(o.data[s.id].icon,"game"),e.m_txt_lv.text="lv."+a.lv,e.m_icon.m_quality.selectedIndex=s.quality;var n=c.data.getBuildProps(s.id,a.lv);e.m_txt_fight.text=a.fight.toFixedNumberCN();var r=c.data.getBuildProps(null==(i=this.curdata.cfg)?void 0:i.id,this.curdata.lv);e.m_txt_prop1.text="[color=#F7C300]"+n[0].key+"："+n[0].value.toFixedNumberCN()+"[/color]"+this.getDtText(-r[0].value+n[0].value),e.m_txt_prop2.text="[color=#F7C300]"+n[0].key+"："+n[1].value.toFixedNumberCN()+"[/color]"+this.getDtText(-r[1].value+n[1].value),e.m_btnUse.clearClick(),e.m_btnUse.onClick(this.use.bind(this,a),this)},u.use=function(t){c.data.onGetBuild(t.cfg.id,t.lv),this.index++,this.renderType(this.index)},u.renderCurData=function(t){var e=this.curdata;if(0==e.lv||!e.cfg)return t.m_icon.m_quality.selectedIndex=0,t.m_icon.icon="",t.m_txt_lv.text="无",void(t.m_state.selectedIndex=1);t.m_state.selectedIndex=0;var i=e.cfg;t.m_icon.setIcon(o.data[i.id].icon,"game"),t.m_txt_lv.text="lv."+e.lv,t.m_icon.m_quality.selectedIndex=o.data[i.id].qulity;var a=c.data.getBuildProps(i.id,e.lv);t.m_txt_fight.text=a[0].fight.toFixedNumberCN(),t.m_txt_prop1.text="[color=#F7C300]"+a[0].key+":"+a[0].value.toFixedNumberCN()+"[/color]",t.m_txt_prop2.text="[color=#F7C300]"+a[1].key+":"+a[1].value.toFixedNumberCN()+"[/color]",t.m_btnUse.visible=!1},u.getDtText=function(t){return console.error(t),t>=0?"[color="+r.GREEN.toHEX()+"](+"+t.toFixedNumberCN()+")[/color]":"[color="+r.RED.toHEX()+"](-"+t.toFixedNumberCN()+")[/color]"},u._preShowAnim=function(){var t=this._uiParam;this.datas=new Map,this.curDatas=[],this.data=t;for(var e=c.data.userData.builds,i=0;i<t.length;i++){var a=t[i],s=a.type,n=e[s],r={cfg:o.data[n.id],lv:n.lv,fight:c.data.calcPower(n.id,n.lv),type:s};this.datas.has(s)||(this.curDatas.push(r),this.datas.set(s,[])),this.datas.get(s).push(a)}this.datas.forEach((function(t,e){t.sort((function(t,e){return e.fight-t.fight}))})),this.renderType(0),this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderReward.bind(this),this.index=0,this.renderType(this.index),this.ui.m_btn_close.onClick(this.useAll,this)},u.useAll=function(){for(var t=this.index;t<this.curDatas.length;t++){var e=this.curDatas[t],i=this.datas.get(e.type)[0];e.fight<i.fight&&this.use(i)}l.instance.curPage.refresh(),this.hide()},u.renderType=function(t){if(this.index>=this.curDatas.length)this.hide();else if(this.curdata=this.curDatas[t],this.curdata){var e=this.curdata.type;if(this.data=this.datas.get(e),0==this.data.length)return t++,this.renderType(t);this.ui.m_list.numItems=this.data.length,this.ui.m_list.selectedIndex=0,this.renderCurData(this.ui.m_itemCur)}else this.hide()},u._afterShowAnim=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u._preHideAnim=function(){l.instance.curPage.refresh(),c.message.dispatchEvent("on_res_changed")},u._afterHideAnim=function(){},i(n,null,[{key:"instance",get:function(){return this._getInstance(n,d)}}]),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/GetCardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./UI_GetCard.ts"],(function(e){var t,n,r,a,i,s,u,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){i=e.cclegacy},function(e){s=e.ViewBase},function(e){u=e.YT},function(e){c=e.default}],execute:function(){i._RF.push({},"b905fY+4sdAia1lwumqC7+m","GetCardView",void 0);e("GetCardView",function(e){function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).GetCardCount=[],t}t(i,e);var s=i.prototype;return s._preShowAnim=function(){var e=r(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._uiParam,n=this.ui.m_card,this.ui.m_btn_close.onClick(this.hide,this),(r=u.data.userData.cards[t.id])||(r=u.data.userData.cards[t.id]={lv:0,num:0,n:0}),n.title=t.name,n.setIcon(t.icon,"game"),0==r.lv?(n.m_quality.selectedIndex=0,n.m_state.selectedIndex=0):(n.m_txt_lv.text="Lv."+r.lv,n.m_quality.selectedIndex=t.quality,r.lv==t.maxLevel?n.m_state.selectedIndex=3:(n.m_state.selectedIndex=r.num>=t.needNum[r.lv]?2:1,n.m_pro.max=t.needNum[r.lv],n.m_pro.value=r.num)),n.m_new.selectedIndex=r.n;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._afterShowAnim=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._preHideAnim=function(){},s._afterHideAnim=function(){},n(i,null,[{key:"instance",get:function(){return this._getInstance(i,c)}}]),i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/GetCoinView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelConfig.ts","./ViewBase.ts","./YT.ts","./UI_GetCoin.ts"],(function(t){var e,n,i,a,r,o,u,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){o=t.LevelConfig},function(t){u=t.ViewBase},function(t){s=t.YT},function(t){c=t.default}],execute:function(){r._RF.push({},"e6fdeNqcTpMPISGxg3NM6GN","GetCoinView",void 0);t("GetCoinView",function(t){function r(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).GetCoinCount=0,e}e(r,t);var u=r.prototype;return u._preShowAnim=function(){var t=i(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=o.data[Math.min(s.data.userData.chapterId,o.dataList.length)],this.ui.m_title.text="x"+e.level_gold,this.GetCoinCount=e.level_gold,this.ui.m_btn_get_double.m_titlePro.text="("+s.data.dailyData.coinAdCount+"/3)",this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_btn_get_double.onClick(this._onGet,this),this.ui.m_btn_get_double.visible=s.data.dailyData.coinAdCount<3;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._onGet=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.data.dailyData.coinAdCount>=3)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s.game.watchAD("金币");case 4:if(!t.sent){t.next=10;break}s.data.userData.coin+=this.GetCoinCount,s.data.dailyData.coinAdCount++,s.data.userData.save=!0,s.message.dispatchEvent("on_res_changed"),this.hide();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._afterShowAnim=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u._preHideAnim=function(){},u._afterHideAnim=function(){},n(r,null,[{key:"instance",get:function(){return this._getInstance(r,c)}}]),r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/GetRewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./ViewBase.ts","./UI_Reward.ts","./Awaiters.ts","./YT.ts","./GetBuildView.ts"],(function(t){var e,n,i,r,a,s,c,u,o,l,h;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){s=t.ItemConfig},function(t){c=t.ViewBase},function(t){u=t.default},function(t){o=t.Awaiters},function(t){l=t.YT},function(t){h=t.GetBuildView}],execute:function(){a._RF.push({},"39cc70OUdhAcYyCIaOzFtAZ","GetRewardView",void 0);t("GetRwardView",function(t){function a(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).data=void 0,e}e(a,t);var c=a.prototype;return c.renderReward=function(t,e){e.title="lv."+this.data[t].lv;var n=this.data[t].cfg;e.setIcon(s.data[n.id].icon,"game"),e.m_quality.selectedIndex=n.quality,e.setScale(0,0)},c._preShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.data=this._uiParam,this.ui.m_btn_close.onClick(this.clickHide,this),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderReward.bind(this);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.clickHide=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.instance.show(this.data),this.hide();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c._afterShowAnim=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_list.numItems=this.data.length,l.gui.lockScreen(),e=0;case 3:if(!(e<this.data.length)){t.next=11;break}return this.ui.m_list.getChildAt(e).m_anim.play(),t.next=8,o.Seconds(.1);case 8:e++,t.next=3;break;case 11:l.gui.unlockScreen();case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c._preHideAnim=function(){},c._afterHideAnim=function(){},n(a,null,[{key:"instance",get:function(){return this._getInstance(a,u)}}]),a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/gEvents.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"79af4IcIutPpq7SUGNSVS03","gEvents",void 0);var o=e("gEvents",(function(){}));o.on_invoke_loading="on_invoke_loading",o.on_remove_loading="on_remove_loading",o.on_load_progress_changed="on_load_progress_changed",o.on_view_opened="on_view_opened",o.on_view_closed="on_view_closed",o.on_res_changed="on_res_changed",n._RF.pop()}}}));

System.register("chunks:///_virtual/GJRMove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts"],(function(o){var e,t,i,r,s,n,a,l,c,d,p;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){s=o.cclegacy,n=o._decorator,a=o.Vec3,l=o.Node,c=o.CCFloat,d=o.Component},function(o){p=o.ArrayUtil}],execute:function(){var u,h,y,f,v,m,P;s._RF.push({},"272b5btfRFK3ZKEgmdIF2e0","GJRMove",void 0);var b=n.ccclass,w=n.property,g=new a;o("GJRMove",(u=b("GJRMove"),h=w({type:[l],displayName:"路点节点",visible:!0}),y=w({type:c,displayName:"移动速度",visible:!0}),u((m=e((v=function(o){function e(){for(var e,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e=o.call.apply(o,[this].concat(s))||this,i(e,"roadPoses",m,r(e)),i(e,"speed",P,r(e)),e.topos=void 0,e}t(e,o);var s=e.prototype;return s.update=function(o){if(this.topos||this.randomPos(),a.distance(this.node.worldPosition,this.topos)<10)this.randomPos();else{var e=this.topos.clone().subtract(this.node.worldPosition).normalize();this.node.setScale(e.x<0?-1:1,1,1),g.set(this.node.worldPosition.clone().add(e.multiplyScalar(this.speed*o))),this.node.setWorldPosition(g)}},s.randomPos=function(){this.topos=p.randomFromArray(this.roadPoses).worldPosition},e}(d)).prototype,"roadPoses",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(v.prototype,"speed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=v))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"77284vo/nFJmJwqGwpqfwCm","GlobalConfig",void 0);t("GlobalConfig",function(){function t(t){this._data=null;var e=t.json;this._data=Object.freeze(e)}return e(t,[{key:"version",get:function(){return this._data.config.version}},{key:"package",get:function(){return this._data.config.package}},{key:"frameRate",get:function(){return this._data.config.frameRate}},{key:"data",get:function(){return this._data}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GMView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardsConfig.ts","./HeroConfig.ts","./LevelConfig.ts","./Awaiters.ts","./ViewBase.ts","./YT.ts","./GameDataDef.ts","./UI_GM.ts"],(function(t){var n,i,e,r,a,o,c,s,u,l,f,h,m;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){o=t.CardsConfig},function(t){c=t.HeroConfig},function(t){s=t.LevelConfig},function(t){u=t.Awaiters},function(t){l=t.ViewBase},function(t){f=t.YT},function(t){h=t.GameData},function(t){m=t.default}],execute:function(){a._RF.push({},"d9429SyOZtJDJY5cm4mMkng","GMView",void 0);t("GMView",function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var l=a.prototype;return l._preShowAnim=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_btn_clearData.onClick(this.onClickClearData,this),this.ui.m_btn_unlockSkin.onClick(this.onClickUnlockSkin,this),this.ui.m_btn_unlockCard.onClick(this.onClickUnlockCard,this),this.ui.m_item_level.m_btn_get.onClick(this.onClickSkipLevel,this),this.ui.m_item_coin.m_btn_get.onClick(this.onClickGetCoin,this),this.ui.m_item_gem.m_btn_get.onClick(this.onClickGetGem,this);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onClickSkipLevel=function(){var t=e(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getNumber(this.ui.m_item_level.m_input.text),!s.data[n]){t.next=10;break}return f.data.userData.chapterId=n,f.data.userData.save=!0,this.hide(),t.next=7,u.Seconds(1);case 7:f.logic.onEnterHall(),t.next=11;break;case 10:f.gui.toast("关卡不存在");case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onClickGetCoin=function(){var t=this.getNumber(this.ui.m_item_coin.m_input.text);f.data.addItemByItemId(1,t)},l.onClickGetGem=function(){var t=this.getNumber(this.ui.m_item_gem.m_input.text);f.data.addItemByItemId(2,t)},l.getNumber=function(t){return parseInt(t)||0},l.onClickUnlockCard=function(){o.dataList.forEach((function(t,n){f.data.addItemByItemId(t.id,1)}))},l.onClickUnlockSkin=function(){c.dataList.forEach((function(t,n){f.data.addItemByItemId(t.id,1)}))},l.onClickClearData=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.GameInfo.instance.clearData(),this.hide(),t.next=4,u.NextFrame();case 4:window.location.reload();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onClickUnlockBuild=function(){},l._afterShowAnim=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l._preHideAnim=function(){},l._afterHideAnim=function(){},i(a,null,[{key:"instance",get:function(){return this._getInstance(a,m)}}]),a}(l));a._RF.pop()}}}));

System.register("chunks:///_virtual/GObjectPoolEX.ts",["cc","./util.ts"],(function(t){var i,s;return{setters:[function(t){i=t.cclegacy},function(t){s=t.default}],execute:function(){i._RF.push({},"ae5f0xmUXtMeLwFdVS4k99y","GObjectPoolEX",void 0);t("default",function(){function t(t,i,s,e){void 0===i&&(i=100),void 0===s&&(s=!0),void 0===e&&(e=!1),this.pool=[],this.insts=[],this.name=void 0,this.ctor=t,this.size=i,this.remove=s,this.limit=e}var i=t.prototype;return i.fetch=function(t){var i;if(i=this.limit&&this.insts.length>=this.size?this.insts.shift():this.pool.pop()){if(i.isDisposed)return this.fetch(t)}else i=this.ctor();return this.remove?t.addChild(i):(i.alpha=1,(!i.parent||t!=i.parent&&t&&!t.isDisposed)&&t.addChild(i)),this.insts.push(i),i},i.return=function(t){s.fetchArrEle(this.insts,t),this.pool.length<this.size?(this.pool.push(t),this.remove?t.parent.removeChild(t,!1):t.alpha=0):t.dispose()},i.clear=function(){this.pool.forEach((function(t){return t.dispose()})),this.pool.length=0},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GoldMineBuildingCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleState.ts","./RoleBuildingBaseCmp.ts"],(function(t){var e,i,n,o,l,r,a,s,u,c,p,d,_,f,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,a=t.Node,s=t.Sprite,u=t.Vec3,c=t.instantiate,p=t.tween},function(t){d=t.ViewUtil},function(t){_=t.MAIN_PREFABS,f=t.MAIN_BUNDLE},function(t){v=t.BattleState},function(t){g=t.RoleBuildingBaseCmp}],execute:function(){var m,h,y,B,b,P,C;l._RF.push({},"1b0a72HAeBHzrlaMd0NEjvQ","GoldMineBuildingCmp",void 0);var M=r.ccclass,S=r.property,w=(t("GoldMineBuildingCmp",(m=M("GoldMineBuildingCmp"),h=S({type:a,displayName:"金币模版",visible:!0}),y=S({type:s,displayName:"图标",visible:!0}),m((P=e((b=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"_goldItem",P,o(e)),n(e,"_iconSpr",C,o(e)),e._pool=void 0,e._initPos=void 0,e}i(e,t),e.Create=function(t){var i=d.createPrefabNode(_.BuildingGoldMine,f);i.parent=v.ins.control.runTimeData.levelControl.view.roleRoot;var n=i.getComponent(e);return n._init(t),n};var l=e.prototype;return l._init=function(t){this._initPos=this.node.getChildByName("_START_POS").getPosition(),this._pool=[]},l._getItem=function(){var t=this._pool.shift();return t||((t=c(this._goldItem)).active=!0),t.parent=this.node,t},l.update=function(t){},l.setModelScale=function(t,e){var i;null==(i=this._viewRoot)||i.setScale(t,e)},l.updateHpPercent=function(t){},l.playOut=function(){var t=this,e=this._getItem();e.setPosition(this._initPos),p(e).by(.3,{position:w}).call((function(){e.removeFromParent(),t._pool.push(e)})).start()},e}(g)).prototype,"_goldItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(b.prototype,"_iconSpr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=b))||B)),new u(0,80));l._RF.pop()}}}));

System.register("chunks:///_virtual/GoodsConfig.ts",["cc"],(function(o){var i;return{setters:[function(o){i=o.cclegacy}],execute:function(){var t;o("GoodsConfig",void 0),i._RF.push({},"6481ex73zhJ44dKiWSrQkGb","GoodsConfig",void 0),function(o){o.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.type_param=void 0,this.icon=void 0,this.shop_icon=void 0,this.model=void 0};o.isConst=!1,o.path="config/GoodsConfig",o.extPath=void 0,o.data=null,o.dataList=null,o.lastData=null}(t||(t=o("GoodsConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/Graph.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridNode.ts"],(function(r){var n,i,t,s;return{setters:[function(r){n=r.createForOfIteratorHelperLoose,i=r.createClass},function(r){t=r.cclegacy},function(r){s=r.GridNode}],execute:function(){t._RF.push({},"42b2bniAjtBv4qkh0W3nl74","Graph",void 0);r("Graph",function(){function r(r,n,i){void 0===i&&(i=null),this._diagonal=!1,this._grids=null,this._nodes=null,this._dirty_nodes=null;var t=i||Object.create(null);this._diagonal=!!t.diagonal,this._nodes=new Array,this._grids=new Array;for(var e=0,o=r;e<o;e++){this._grids[e]=new Array;for(var a=0,h=n;a<h;a++){var u=s.alloc(e,a,0);u.clean(),this._grids[e][a]=u,this._nodes.push(u)}}this.init()}var t=r.prototype;return t.init=function(){this._dirty_nodes=new Array},t.clean_dirty=function(){for(var r=this._dirty_nodes,n=0,i=r.length;n<i;n++)r[n].clean();this._dirty_nodes=new Array},t.mark_dirty=function(r){this._dirty_nodes.push(r)},t.neighbors=function(r){var n=new Array,i=r.x,t=r.y,s=this._grids;return s[i-1]&&s[i-1][t]&&n.push(s[i-1][t]),s[i+1]&&s[i+1][t]&&n.push(s[i+1][t]),s[i]&&s[i][t-1]&&n.push(s[i][t-1]),s[i]&&s[i][t+1]&&n.push(s[i][t+1]),this._diagonal&&(s[i-1]&&s[i-1][t-1]&&n.push(s[i-1][t-1]),s[i+1]&&s[i+1][t-1]&&n.push(s[i+1][t-1]),s[i-1]&&s[i-1][t+1]&&n.push(s[i-1][t+1]),s[i+1]&&s[i+1][t+1]&&n.push(s[i+1][t+1])),n},t.clear=function(){for(var r,i=this._nodes,t=n(i);!(r=t()).done;){var e=r.value;s.free(e)}this._diagonal=!1,this._nodes=new Array,this._grids=new Array,this._dirty_nodes=[]},t.grid_node=function(r){return this.grids[r.x][r.y]},t.toString=function(){for(var r=[],n=this._grids,i=0,t=n.length;i<t;i++){for(var s=[],e=n[i],o=0,a=e.length;o<a;o++)s.push(e[o].weight);r.push(s.join(" "))}return r.join("\n")},i(r,[{key:"grids",get:function(){return this._grids}}]),r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GrassStackRoleMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr2.ts","./ZDUtils.ts"],(function(t){var e,i,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.RoleMgr},function(t){s=t.ZDUtils}],execute:function(){i._RF.push({},"b1656Yv8cRDQo67AmKgyBiu","GrassStackRoleMgr",void 0);t("GrassStackRoleMgr",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var r=i.prototype;return r._roleUpdate=function(e){t.prototype._roleUpdate.call(this,e);for(var i,r=0,s=this._runTimeData.barriers.length;r<s;++r)i=this._runTimeData.barriers[r],this._isInScene(i)?i.setActiveView(!0):(i.setActiveView(!1),i.update(e))},r._dealMonsterCollision=function(e,i){if(t.prototype._dealMonsterCollision.call(this,e,i),i%4==0)for(var r,s=0,n=this._runTimeData.monsters.length,a=0,l=0;s<n;++s)if(!(4==this._frame&&s%2==0||8==this._frame&&s%2==1||0==this._frame)){r=this._runTimeData.monsters[s],o.length=0;var u=this._runTimeData.barrierBox.getRangeItems(r.pos.x,r.pos.y,o);for(a=0,l=u.length;a<l;++a)this._dealMonsterCollisionWithBarrier(r,u[a])}},r._dealHeroCollisionWithBarrier=function(e,i){i.enable&&(3!=i.type||e.weaponModule.weaponCnt>0?t.prototype._dealHeroCollisionWithBarrier.call(this,e,i):s.isCrossByCircle(e.pos,e.initRadius,i.pos,i.radius)&&(i.hurt(1),i.playHitAudio(e.isMainHero)))},r._dealMonsterCollisionWithBarrier=function(t,e){e.enable&&3==e.type&&s.isCrossByCircle(t.pos,t.radius,e.pos,e.radius)&&e.hurt(1)},i}(r));var o=[];i._RF.pop()}}}));

System.register("chunks:///_virtual/GrassStackRoleMgr3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr3.ts","./ZDUtils3.ts"],(function(t){var e,r,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){i=t.RoleMgr3},function(t){s=t.ZDUtils3}],execute:function(){r._RF.push({},"c030bNxIptDKoC3QzWdsrTw","GrassStackRoleMgr3",void 0);t("GrassStackRoleMgr3",function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var i=r.prototype;return i._roleUpdate=function(e){t.prototype._roleUpdate.call(this,e);for(var r,i=0,s=this._runTimeData.barriers.length;i<s;++i)r=this._runTimeData.barriers[i],this._isInScene(r)?r.setActiveView(!0):(r.setActiveView(!1),r.update(e))},i._dealMonsterCollision=function(e,r){if(t.prototype._dealMonsterCollision.call(this,e,r),r%4==0)for(var i,s=0,n=this._runTimeData.monsters.length,a=0,l=0;s<n;++s)if(!(4==this._frame&&s%2==0||8==this._frame&&s%2==1||0==this._frame)){i=this._runTimeData.monsters[s],o.length=0;var u=this._runTimeData.barrierBox.getRangeItems(i.pos.x,i.pos.y,o);for(a=0,l=u.length;a<l;++a)this._dealMonsterCollisionWithBarrier(i,u[a])}},i._dealHeroCollisionWithBarrier=function(e,r){r.enable&&(3!=r.type||e.weaponModule.weaponCnt>0?t.prototype._dealHeroCollisionWithBarrier.call(this,e,r):s.isCrossByCircle(e.pos,e.radius,r.pos,r.radius)&&(r.hurt(1),r.playHitAudio(e.isMainHero)))},i._dealMonsterCollisionWithBarrier=function(t,e){e.enable&&3==e.type&&s.isCrossByCircle(t.pos,t.radius,e.pos,e.radius)&&e.hurt(1)},r}(i));var o=[];r._RF.pop()}}}));

System.register("chunks:///_virtual/GrassStackRoleMgr4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr4.ts","./ZDUtils4.ts"],(function(t){var e,i,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.RoleMgr},function(t){s=t.ZDUtils4}],execute:function(){i._RF.push({},"1515cB+D9VD/Inc+Wod9cDi","GrassStackRoleMgr4",void 0);t("GrassStackRoleMgr",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var r=i.prototype;return r._roleUpdate=function(e){t.prototype._roleUpdate.call(this,e);for(var i,r=0,s=this._runTimeData.barriers.length;r<s;++r)i=this._runTimeData.barriers[r],this._isInScene(i)?i.setActiveView(!0):(i.setActiveView(!1),i.update(e))},r._dealMonsterCollision=function(e,i){if(t.prototype._dealMonsterCollision.call(this,e,i),i%4==0)for(var r,s=0,n=this._runTimeData.monsters.length,a=0,l=0;s<n;++s)if(!(4==this._frame&&s%2==0||8==this._frame&&s%2==1||0==this._frame)){r=this._runTimeData.monsters[s],o.length=0;var u=this._runTimeData.barrierBox.getRangeItems(r.pos.x,r.pos.y,o);for(a=0,l=u.length;a<l;++a)this._dealMonsterCollisionWithBarrier(r,u[a])}},r._dealHeroCollisionWithBarrier=function(e,i){i.enable&&(3!=i.type||e.weaponModule.weaponCnt>0?t.prototype._dealHeroCollisionWithBarrier.call(this,e,i):s.isCrossByCircle(e.pos,e.initRadius,i.pos,i.radius)&&(i.hurt(1),i.playHitAudio(e.isMainHero)))},r._dealMonsterCollisionWithBarrier=function(t,e){e.enable&&3==e.type&&s.isCrossByCircle(t.pos,t.radius,e.pos,e.radius)&&e.hurt(1)},i}(r));var o=[];i._RF.pop()}}}));

System.register("chunks:///_virtual/GrassStackRoleMgr5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr5.ts","./ZDUtils5.ts"],(function(e){var t,i,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){r=e.RoleMgr},function(e){s=e.ZDUtils4}],execute:function(){i._RF.push({},"7be36hK3pBMdoNawQWj3rWW","GrassStackRoleMgr5",void 0);e("GrassStackRoleMgr",function(e){function i(){return e.apply(this,arguments)||this}t(i,e);var r=i.prototype;return r._roleUpdate=function(t){e.prototype._roleUpdate.call(this,t);for(var i,r=0,s=this._runTimeData.barriers.length;r<s;++r)i=this._runTimeData.barriers[r],this._isInScene(i)?i.setActiveView(!0):(i.setActiveView(!1),i.update(t))},r._dealMonsterCollision=function(t,i){if(e.prototype._dealMonsterCollision.call(this,t,i),i%4==0)for(var r,s=0,n=this._runTimeData.monsters.length,a=0,l=0;s<n;++s)if(!(4==this._frame&&s%2==0||8==this._frame&&s%2==1||0==this._frame)){r=this._runTimeData.monsters[s],o.length=0;var u=this._runTimeData.barrierBox.getRangeItems(r.pos.x,r.pos.y,o);for(a=0,l=u.length;a<l;++a)this._dealMonsterCollisionWithBarrier(r,u[a])}},r._dealHeroCollisionWithBarrier=function(t,i){i.enable&&(3!=i.type||t.weaponModule.weaponCnt>0?e.prototype._dealHeroCollisionWithBarrier.call(this,t,i):s.isCrossByCircle(t.pos,t.initRadius,i.pos,i.radius)&&(i.hurt(1),i.playHitAudio(t.isMainHero)))},r._dealMonsterCollisionWithBarrier=function(e,t){t.enable&&3==t.type&&s.isCrossByCircle(e.pos,e.radius,t.pos,t.radius)&&t.hurt(1)},i}(r));var o=[];i._RF.pop()}}}));

System.register("chunks:///_virtual/GrassStackRoleMgr6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr6.ts","./ZDUtils6.ts"],(function(t){var e,i,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.RoleMgr},function(t){s=t.ZDUtils}],execute:function(){i._RF.push({},"7455f67AcFPUIomSfz2cP/p","GrassStackRoleMgr6",void 0);t("GrassStackRoleMgr",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var r=i.prototype;return r._roleUpdate=function(e){t.prototype._roleUpdate.call(this,e);for(var i,r=0,s=this._runTimeData.barriers.length;r<s;++r)i=this._runTimeData.barriers[r],this._isInScene(i)?i.setActiveView(!0):(i.setActiveView(!1),i.update(e))},r._dealMonsterCollision=function(e,i){if(t.prototype._dealMonsterCollision.call(this,e,i),i%4==0)for(var r,s=0,n=this._runTimeData.monsters.length,a=0,l=0;s<n;++s)if(!(4==this._frame&&s%2==0||8==this._frame&&s%2==1||0==this._frame)){r=this._runTimeData.monsters[s],o.length=0;var u=this._runTimeData.barrierBox.getRangeItems(r.pos.x,r.pos.y,o);for(a=0,l=u.length;a<l;++a)this._dealMonsterCollisionWithBarrier(r,u[a])}},r._dealHeroCollisionWithBarrier=function(e,i){i.enable&&(3!=i.type||e.weaponModule.weaponCnt>0?t.prototype._dealHeroCollisionWithBarrier.call(this,e,i):s.isCrossByCircle(e.pos,e.initRadius,i.pos,i.radius)&&(i.hurt(1),i.playHitAudio(e.isMainHero)))},r._dealMonsterCollisionWithBarrier=function(t,e){e.enable&&3==e.type&&s.isCrossByCircle(t.pos,t.radius,e.pos,e.radius)&&e.hurt(1)},i}(r));var o=[];i._RF.pop()}}}));

System.register("chunks:///_virtual/gravityengine.mg.cocoscreator.min.js",["./cjs-loader.mjs"],(function(e,t){var n;return{setters:[function(e){n=e.default}],execute:function(){e("default",void 0);var i=e("__cjsMetaURL",t.meta.url);n.define(i,(function(t,n,i,r,a){var o,s;o=this,s=function(){function e(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(){n=function(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(t){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a,o,s,c;return t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),i=new S(i||[]),r(t,"_invoke",{value:(a=e,o=n,s=i,c="suspendedStart",function(e,t){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===e)throw t;return{value:void 0,done:!0}}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n&&(n=function e(t,n){var i=n.method,r=t.iterator[i];return void 0===r?(n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p):"throw"===(i=l(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=i.arg,n.delegate=null,p):(r=i.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,p):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}(n,s))){if(n===p)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=l(a,o,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===p)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),t}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function h(){}function f(){}function d(){}var g,m,v=(c(g={},a,(function(){return this})),(m=(m=Object.getPrototypeOf)&&m(m(w([]))))&&m!==t&&i.call(m,a)&&(g=m),d.prototype=h.prototype=Object.create(g));function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var n;r(this,"_invoke",{value:function(r,a){function o(){return new t((function(n,o){!function n(r,a,o,s){var c;if("throw"!==(r=l(e[r],e,a)).type)return(a=(c=r.arg).value)&&"object"==typeof a&&i.call(a,"__await")?t.resolve(a.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(a).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}));s(r.arg)}(r,a,n,o)}))}return n=n?n.then(o,o):o()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function w(e){if(e||""===e){var t,n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return t=-1,(n=function n(){for(;++t<e.length;)if(i.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}throw new TypeError(typeof e+" is not iterable")}return r(v,"constructor",{value:f.prototype=d,configurable:!0}),r(d,"constructor",{value:f,configurable:!0}),f.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(_.prototype),c(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new _(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),c(v,s,"Generator"),c(v,a,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,n=Object(e),i=[];for(t in n)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},e.values=w,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}var o=(a=a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc?null:a)?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(i=n.arg,b(r)),i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,c,"next",e)}function c(e){r(o,i,a,s,c,"throw",e)}s(void 0)}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return"symbol"==typeof(e=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return String(e);if("object"!=typeof(n=n.call(e,t)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"))?e:String(e)}var p="4.8.10",h="MG",f="https://backend.gravity-engine.com/event_center/api/v1",d=function(){function e(){o(this,e),this.config={persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_mg"}}return c(e,[{key:"getConfig",value:function(){return this.config}},{key:"getStorage",value:function(e,t,n){if(e=localStorage.getItem(e),!t)return I.isJSONString(e)?JSON.parse(e):{};I.isJSONString(e)?n(JSON.parse(e)):n({})}},{key:"setStorage",value:function(e,t){localStorage.setItem(e,t)}},{key:"_setSystemProxy",value:function(e){this._sysCallback=e}},{key:"getSystemInfo",value:function(e){var t={mp_platform:"web",system:t=this._getOs(),platform:t,screenWidth:window.screen.width,screenHeight:window.screen.height,systemLanguage:navigator.language};this._sysCallback&&(t=I.extend(t,this._sysCallback(e))),e.success(t),e.complete()}},{key:"_getOs",value:function(){var e=navigator.userAgent;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"MacOS":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"ChromeOS":""}},{key:"getNetworkType",value:function(e){e.complete()}},{key:"onNetworkStatusChange",value:function(){}},{key:"request",value:function(e){var t={},n=new XMLHttpRequest;if(n.open(e.method,e.url),e.header)for(var i in e.header)n.setRequestHeader(i,e.header[i]);return n.onreadystatechange=function(){4===n.readyState&&200===n.status?(t.statusCode=200,I.isJSONString(n.responseText)&&(t.data=JSON.parse(n.responseText)),e.success(t)):200!==n.status&&(t.errMsg="network error",e.fail(t))},n.ontimeout=function(){t.errMsg="timeout",e.fail(t)},n.send(e.data),n}},{key:"initAutoTrackInstance",value:function(e,t){this.instance=e,this.autoTrack=t.autoTrack;var n=this;"onpagehide"in window?window.onpagehide=function(){n.onPageHide(!0)}:window.onbeforeunload=function(){n.onPageHide(!0)},n.onPageShow(),n.autoTrack.appHide&&n.instance.timeEvent("ta_page_hide"),"onvisibilitychange"in document&&(document.onvisibilitychange=function(){document.hidden?n.onPageHide(!1):(n.onPageShow(),n.autoTrack.appHide&&n.instance.timeEvent("ta_page_hide"))})}},{key:"setGlobal",value:function(e,t){window[t]=e}},{key:"getAppOptions",value:function(){}},{key:"showToast",value:function(){}},{key:"onPageShow",value:function(){var e;this.autoTrack.appShow&&(I.extend(e={},this.autoTrack.properties),I.isFunction(this.autoTrack.callback)&&I.extend(e,this.autoTrack.callback("appShow")),this.instance._internalTrack("$WebPageView",e))}},{key:"onPageHide",value:function(e){var t;this.autoTrack.appHide&&(I.extend(t={},this.autoTrack.properties),I.isFunction(this.autoTrack.callback)&&I.extend(t,this.autoTrack.callback("appHide")),this.instance._internalTrack("$WebPageHide",t,new Date,null,e))}}],[{key:"createInstance",value:function(){return new e}}]),e}(),g=function(){function e(t,n){o(this,e),this.taInstance=t,this.config=n||{},this.referrer="Directly open",this.config.isPlugin?(t.App=function(){App.apply(this,arguments)},inension(t.Page)):(n=App,App=this._initAppExtention(n),t=Page,Page=this._initPageExtension(t))}return c(e,[{key:"_initPageExtension",value:function(e){var t=this;return function(n){var i=n.onLoad,r=n.onShow,a=n.onShareAppMessage,o={};return n.onLoad=function(e){o=e||{},"function"==typeof i&&i.call(this,e)},n.onShow=function(e){t.onPageShow(o),"function"==typeof r&&r.call(this,e)},"function"==typeof a&&(n.onShareAppMessage=function(e){return e=a.call(this,e),t.onPageShare(e)}),e(n)}}},{key:"_initAppExtention",value:function(e){var t=this;return function(n){var i=n.onLaunch,r=n.onShow,a=n.onHide;return n.onLaunch=function(e){t.onAppLaunch(e,this),"function"==typeof i&&i.call(this,e)},n.onShow=function(e){t.onAppShow(e),"function"==typeof r&&r.call(this,e)},n.onHide=function(){t.onAppHide(),"function"==typeof a&&a.call(this)},e(n)}}},{key:"onAppLaunch",value:function(e,t){this._setAutoTrackProperties(e),I.isUndefined(t)||(t[this.taInstance.name]=this.taInstance),this.config.appLaunch&&(t={},e&&e.path&&(t.$url_query=I.setQuery(e.query),t.$scene=String(e.scene||e.from)),this.taInstance._internalTrack("$MPLaunch",t))}},{key:"onAppShow",value:function(e){var t;this.config.appHide&&this.taInstance.timeEvent("$MPHide"),this._setAutoTrackProperties(e),this.config.appShow&&(t={},e&&e.path&&(t.$url_path=this._getPath(e.path),t.$url_query=I.setQuery(e.query),t.$scene=String(e.scene||e.from)),I.extend(t,this.config.properties),I.isFunction(this.config.callback)&&I.extend(t,this.config.callback("appShow")),this.taInstance._internalTrack("$MPShow",t))}},{key:"onAppHide",value:function(){var e;this.config.appHide&&(I.extend(e={},this.config.properties),I.isFunction(this.config.callback)&&I.extend(e,this.config.callback("appHide")),this.taInstance._internalTrack("$MPHide",e))}},{key:"_getCurrentPath",value:function(){var e="Not to get";try{var t=getCurrentPages();e=t[t.length-1].route}catch(e){D.info(e)}return e}},{key:"_setAutoTrackProperties",value:function(e){this.taInstance._setAutoTrackProperties({})}},{key:"_getPath",value:function(e){return"string"==typeof e?e.replace(/^\//,""):"Abnormal values"}},{key:"onPageShare",value:function(e){if(this.config.pageShare){var t=1;try{t=getCurrentPages().length}catch(e){t=1}this.taInstance._internalTrack("$MPShare",{$share_method:"转发消息卡片",$share_depth:t,$url_path:this._getCurrentPath()})}return I.isObject(e)?e:{}}},{key:"onPageShow",value:function(e){var t;this.config.pageShow&&(t=this._getCurrentPath(),I.setQuery(e),this.referrer=t)}}]),e}(),m=function(){function e(t,n,i){var r=this;o(this,e),this.taInstance=t,this.config=n||{},t={};try{t=i.getLaunchOptionsSync()}catch(n){console.log("Ge error:AutoTrackBridge getLaunchOptionsSync error:",n),t={}}this._onShow(t),this.startTracked=!0,i.onShow((function(e){r._onShow(e)})),i.onHide((function(){var e;r.startTracked=!1,r.config.appHide&&(I.extend(e={},r.config.properties),I.isFunction(r.config.callback)&&I.extend(e,r.config.callback("appHide")),r.taInstance._internalTrack("$MPHide",e))}))}return c(e,[{key:"_onShow",value:function(e){var n;I.isObject(e)||(e={}),this.startTracked||(this.config.appHide&&this.taInstance.timeEvent("$MPHide"),this.config.appShow&&(I.extend(n={},this.config.properties),I.isFunction(this.config.callback)&&I.extend(n,this.config.callback("appShow")),this.taInstance._internalTrack("$MPShow",t(t({},n),{},{$scene:String((null==(n=e)?void 0:n.scene)||(null==(n=e)?void 0:n.from)),$url_query:I.setQuery((null==(e=w.getAppOptions())?void 0:e.query)||{})}))))}}]),e}(),v=function(){function e(t,n,i){o(this,e),this.api=t,this.config=n,this._config=i}return c(e,[{key:"getConfig",value:function(){return this.config}},{key:"getStorage",value:function(e,t,n){if(!t)return"dd_mp"===this._config.platform?(t=this.api.getStorageSync({key:e}),I.isJSONString(t.data)?JSON.parse(t.data):{}):(t=this.api.getStorageSync(e),I.isJSONString(t)?JSON.parse(t):{});this.api.getStorage({key:e,success:function(e){e=I.isJSONString(e.data)?JSON.parse(e.data):{},n(e)},fail:function(){D.warn("getStorage faild"),n({})}})}},{key:"setStorage",value:function(e,t){this.api.setStorage({key:e,data:t})}},{key:"_getPlatform",value:function(){return""}},{key:"getSystemInfo",value:function(e){var t=this._config.mpPlatform;this.api.getSystemInfo({success:function(n){I.isFunction(t)?n.mp_platform=t(n):n.mp_platform=t,e.success(n),"wechat"===t&&e.complete()},complete:function(){e.complete()}})}},{key:"getNetworkType",value:function(e){I.isFunction(this.api.getNetworkType)?this.api.getNetworkType({success:function(t){e.success(t)},complete:function(){e.complete()}}):(e.success({}),e.complete())}},{key:"onNetworkStatusChange",value:function(e){I.isFunction(this.api.onNetworkStatusChange)?this.api.onNetworkStatusChange(e):e({})}},{key:"request",value:function(e){var t;return"ali_mp"===this._config.platform||"dd_mp"===this._config.platform?((t=I.extend({},e)).headers=e.header,t.success=function(t){t.statusCode=t.status,e.success(t)},t.fail=function(t){t.errMsg=t.errorMessage,e.fail(t)},"dd_mp"===this._config.platform?this.api.httpRequest(t):this.api.request(t)):this.api.request(e)}},{key:"initAutoTrackInstance",value:function(e,t){return I.isObject(t.autoTrack)&&(t.autoTrack.isPlugin=t.is_plugin),new(this._config.mp?g:m)(e,t.autoTrack,this.api)}},{key:"setGlobal",value:function(e,t){this._config.mp?D.warn("GravityAnalytics: we do not set global name for GE instance when you do not enable auto track."):"ali_mg"!==this._config.platform&&(GameGlobal[t]=e)}},{key:"getAppOptions",value:function(e){var t={};try{t=this.api.getLaunchOptionsSync()}catch(e){console.log("Ge error: Cannot get launch options.",e),t={}}if(I.isFunction(e))try{this._config.mp?this.api.onAppShow(e):this.api.onShow(e)}catch(e){D.warn("Cannot register onShow callback.")}return t}},{key:"showToast",value:function(e){var t;I.isFunction(this.api.showToast)&&(t={title:e},"dd_mp"!==this._config.platform&&"ali_mp"!==this._config.platform||(t.content=e),this.api.showToast(t))}}],[{key:"createInstance",value:function(){return this._createInstance("R_CURRENT_PLATFORM")}},{key:"_createInstance",value:function(t){switch(t){case"wechat_mp":return new e(wx,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_wechat"},{mpPlatform:"wechat",mp:!0,platform:t});case"wechat_mg":return new e(wx,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_wechat_game"},{mpPlatform:"wechat",platform:t});case"qq_mp":return new e(qq,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_qq"},{mpPlatform:"qq",mp:!0,platform:t});case"qq_mg":return new e(qq,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_qq_game"},{mpPlatform:"qq",platform:t});case"baidu_mp":return new e(swan,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_swan"},{mpPlatform:function(e){return e.host},mp:!0,platform:t});case"baidu_mg":return new e(swan,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_swan_game"},{mpPlatform:function(e){return e.host},platform:t});case"tt_mg":return new e(tt,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_tt_game"},{mpPlatform:function(e){return e.appName},platform:t});case"tt_mp":return new e(tt,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_tt"},{mpPlatform:function(e){return e.appName},mp:!0,platform:t});case"ali_mp":return new e(my,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_ali"},{mpPlatform:function(e){return e.app},mp:!0,platform:t});case"ali_mg":return new e(my,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_ali_game"},{mpPlatform:function(e){return e.app},platform:t});case"dd_mp":return new e(dd,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_dd"},{mpPlatform:"dingding",mp:!0,platform:t});case"bl_mg":return new e(bl,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_mg"},{mpPlatform:"bilibili",platform:t});case"kuaishou_mp":return new e(ks,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_kuaishou_program"},{mpPlatform:"kuaishou",mp:!0,platform:t});case"kuaishou_mg":return new e(ks,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_kuaishou_game"},{mpPlatform:"kuaishou_game",platform:t});case"qh360_mg":return new e(qh,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_qh360"},{mpPlatform:"qh360",platform:t});case"tb_mp":return new e(my,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_tb"},{mpPlatform:"tb",mp:!0,platform:t});case"jd_mp":return new e(jd,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_jd"},{mpPlatform:"jd",mp:!0,platform:t});case"qh360_mp":return new e(qh,{persistenceName:"GravityEngine",persistenceNameOld:"GravityEngine_qh360"},{mpPlatform:"qh360",mp:!0,platform:t});case"WEB":return new d.createInstance}}}]),e}(),y=c((function e(t,n){var i=this;o(this,e),this.taInstance=t,this.config=n||{},this.config.appShow&&this.taInstance._internalTrack("$MPShow"),this.config.appHide&&this.taInstance.timeEvent("$MPHide"),qg.onShow((function(){var e;i.config.appHide&&i.taInstance.timeEvent("$MPHide"),i.config.appShow&&(I.extend(e={},i.config.properties),I.isFunction(i.config.callback)&&I.extend(e,i.config.callback("appShow")),i.taInstance._internalTrack("$MPShow"))})),qg.onHide((function(){var e;i.config.appHide&&(I.extend(e={},i.config.properties),I.isFunction(i.config.callback)&&I.extend(e,i.config.callback("appHide")),i.taInstance._internalTrack("$MPHide"))}))})),_=function(){function e(){o(this,e),this.config={persistenceName:"gravityengine",persistenceNameOld:"gravityengine_qg_vivo_game",asyncPersistence:!0}}return c(e,[{key:"getConfig",value:function(){return this.config||{}}},{key:"getStorage",value:function(e,t,n){if(!t)return t=qg.getStorageSync({key:e}),I.isJSONString(t)?JSON.parse(t):{};qg.getStorage({key:e,success:function(e){e=I.isJSONString(e)?JSON.parse(e):{},n(e)},fail:function(){n({})}})}},{key:"setStorage",value:function(e,t){qg.setStorage({key:e,value:t})}},{key:"getSystemInfo",value:function(e){qg.getSystemInfo({success:function(t){var n=t,i=[t.osType,t.osVersionName].join(" ");n.brand=t.manufacturer,n.system=i,n.mp_platform="vivo_qg",e.success(n)},complete:function(){e.complete()}})}},{key:"getQuickDevice",value:function(e){var t={os_name:"android",android_id:"",imei:"",oaid:"",mac:"",android_version:"",api_version:0,rom:{gravityengine_qg_huawei_game:"EMUI",gravityengine_qg:"MIUI",gravityengine_qg_oppo_game:"ColorOS",gravityengine_qg_vivo_game:"FuntouchOS",gravityengine_qg_mz_game:"Flyme"}[e.platform],rom_version:"",phone_brand:"",phone_model:""};qg.getSystemInfo({success:function(n){var i;t.android_version=n.system,t.api_version=n.platformVersionCode,t.rom_version=n.COREVersion,t.phone_brand=n.brand,t.phone_model=n.model,qg.getOAID&&(n=null!=(i=null==(i=(n=qg).getOAID)?void 0:i.call(n).oaid)?i:"",t.android_id=n,t.imei=n,t.oaid=n),e.success(t)}})}},{key:"getNetworkType",value:function(e){qg.getNetworkType({success:function(t){var n=t;n.networkType=t.type,e.success(n)},complete:function(){e.complete()}})}},{key:"onNetworkStatusChange",value:function(e){qg.subscribeNetworkStatus({callback:function(t){var n=t;n.networkType=t.type,e(n)}})}},{key:"request",value:function(e){return qg.request({url:e.url,data:e.data,method:e.method,header:e.header,success:function(t){e.success(t)},fail:function(t){e.fail(t)}})}},{key:"initAutoTrackInstance",value:function(e,t){return new y(e,t.autoTrack)}},{key:"setGlobal",value:function(e,t){globalThis[t]=e}},{key:"getAppOptions",value:function(){return{}}},{key:"showToast",value:function(e){qg.showToast({message:e,duration:0})}}],[{key:"createInstance",value:function(){return new e}}]),e}(),k=c((function e(t,n,i){var r=this;o(this,e),this.taInstance=t,this.config=n||{},this.config.appShow&&(I.extend(t={},this.config.properties),I.isFunction(this.config.callback)&&I.extend(t,this.config.callback("appShow")),this.taInstance._internalTrack("$MPShow",t)),this.config.appHide&&this.taInstance.timeEvent("$MPHide"),i.onShow((function(){var e;r.config.appHide&&r.taInstance.timeEvent("$MPHide"),r.config.appShow&&(I.extend(e={},r.config.properties),I.isFunction(r.config.callback)&&I.extend(e,r.config.callback("appShow")),r.taInstance._internalTrack("$MPShow",e))})),i.onHide((function(){var e;r.config.appHide&&(I.extend(e={},r.config.properties),I.isFunction(r.config.callback)&&I.extend(e,r.config.callback("appHide")),r.taInstance._internalTrack("$MPHide",e))}))})),b=function(){function e(t,n,i){o(this,e),this.api=t,this.config=n,this._config=i}return c(e,[{key:"getConfig",value:function(){return this.config||{}}},{key:"getStorage",value:function(e,t,n){if(e=localStorage.getItem(e),!t)return I.isJSONString(e)?JSON.parse(e):{};I.isJSONString(e)?n(JSON.parse(e)):n({})}},{key:"setStorage",value:function(e,t){localStorage.setItem(e,t)}},{key:"getSystemInfo",value:function(e){var t=this._config.mpPlatform;this.api.getSystemInfo({success:function(n){n.mp_platform=t,e.success(n)},complete:function(){e.complete()}})}},{key:"getQuickDevice",value:function(e){var t={os_name:"android",android_id:"",imei:"",oaid:"",mac:"",android_version:"",api_version:0,rom:{gravityengine_qg_huawei_game:"EMUI",gravityengine_qg:"MIUI",gravityengine_qg_oppo_game:"ColorOS",gravityengine_qg_vivo_game:"FuntouchOS",gravityengine_qg_mz_game:"Flyme"}[e.platform],rom_version:"",phone_brand:"",phone_model:""},n=this;this.api.getSystemInfo({success:function(i){function r(){e.success(t)}t.android_version=i.system,t.api_version=i.platformVersionCode,t.rom_version=i.COREVersion,t.phone_brand=i.brand,t.phone_model=i.model,n.api.getDeviceId?n.api.getDeviceId({success:function(e){t.android_id=e.deviceId,t.imei=e.deviceId,t.oaid=e.deviceId,r()}}):n.api.getOAID?n.api.getOAID({success:function(e){t.android_id=e.oaid,t.imei=e.oaid,t.oaid=e.oaid,r()}}):r()}})}},{key:"getNetworkType",value:function(e){this.api.getNetworkType({success:function(t){e.success(t)},complete:function(){e.complete()}})}},{key:"onNetworkStatusChange",value:function(e){this.api.onNetworkStatusChange({callback:function(t){e(t)}})}},{key:"request",value:function(e){var t={},n=new XMLHttpRequest;if(n.open(e.method,e.url),e.header)for(var i in e.header)n.setRequestHeader(i,e.header[i]);return n.onreadystatechange=function(){4===n.readyState&&200===n.status?(t.statusCode=200,I.isJSONString(n.responseText)&&(t.data=JSON.parse(n.responseText)),e.success(t)):200!==n.status&&(t.errMsg="network error",e.fail(t))},n.ontimeout=function(){t.errMsg="timeout",e.fail(t)},n.send(e.data),n}},{key:"initAutoTrackInstance",value:function(e,t){return new k(e,t.autoTrack,this.api)}},{key:"setGlobal",value:function(e,t){globalThis[t]=e}},{key:"getAppOptions",value:function(){return this.api.getLaunchOptionsSync()}},{key:"showToast",value:function(e){this.api.showToast({title:e,icon:"none",duration:2e3})}}],[{key:"createInstance",value:function(){return this._createInstance("R_CURRENT_PLATFORM")}},{key:"_createInstance",value:function(t){switch(t){case"oppo":return new e(qg,{persistenceName:"gravityengine",persistenceNameOld:"gravityengine_qg_oppo_game"},{mpPlatform:"oppo_qg"});case"huawei":return new e(hbs,{persistenceName:"gravityengine",persistenceNameOld:"gravityengine_qg_huawei_game"},{mpPlatform:"huawei_qg"});case"mz":return new e(qg,{persistenceName:"gravityengine",persistenceNameOld:"gravityengine_qg_mz_game"},{mpPlatform:"mz"});case"xiaomi":return new e(qg,{persistenceName:"gravityengine",persistenceNameOld:"gravityengine_qg"},{mpPlatform:"xiaomi"})}}}]),e}(),S=function(){function e(){o(this,e)}return c(e,null,[{key:"createInstance",value:function(){var e,t=Object.freeze({WECHAT_GAME:104,QQ_PLAY:105,BAIDU_GAME:107,VIVO_GAME:108,OPPO_GAME:109,HUAWEI_GAME:110,XIAOMI_GAME:111,BYTEDANCE_GAME:117,QTT_GAME:116,LINKSURE:119,ALIPAY_GAME:113,WECHAT_MINI_GAME:"WECHAT_GAME",BAIDU_MINI_GAME:"BAIDU_MINI_GAME",XIAOMI_QUICK_GAME:"XIAOMI_QUICK_GAME",OPPO_MINI_GAME:"OPPO_MINI_GAME",VIVO_MINI_GAME:"VIVO_MINI_GAME",HUAWEI_QUICK_GAME:"HUAWEI_QUICK_GAME",BYTEDANCE_MINI_GAME:"BYTEDANCE_MINI_GAME",QTT_MINI_GAME:"QTT_MINI_GAME",LINKSURE_MINI_GAME:"LINKSURE_MINI_GAME",ALIPAY_MINI_GAME:"ALIPAY_MINI_GAME"});return cc.sys.platform===t.WECHAT_GAME||cc.sys.platform===t.WECHAT_MINI_GAME?v._createInstance("wechat_mg"):cc.sys.platform===t.BAIDU_GAME||cc.sys.platform===t.BAIDU_MIN_GAME?v._createInstance("baidu_mg"):cc.sys.platform===t.VIVO_GAME||cc.sys.platform===t.VIVO_MINI_GAME?_.createInstance():cc.sys.platform===t.QQ_PLAY?v._createInstance("qq_mg"):cc.sys.platform===t.OPPO_GAME||cc.sys.platform===t.OPPO_MINI_GAME?b._createInstance("oppo"):cc.sys.platform===t.HUAWEI_GAME||cc.sys.platform===t.HUAWEI_QUICK_GAME?b._createInstance("huawei"):cc.sys.platform===t.XIAOMI_GAME||cc.sys.platform===t.XIAOMI_QUICK_GAME?b._createInstance("xiaomi"):cc.sys.platform===t.ALIPAY_GAME||cc.sys.platform===t.ALIPAY_MINI_GAME?v._createInstance("ali_mg"):cc.sys.platform===t.BYTEDANCE_GAME||cc.sys.platform===t.BYTEDANCE_MINI_GAME?v._createInstance("tt_mg"):((e=d.createInstance())._sysCallback=function(){return{system:cc.sys.os.replace(" ","")+" "+cc.sys.osVersion}},e.getNetworkType=function(e){var t={};switch(cc.sys.getNetworkType()){case cc.sys.NetworkType.LAN:t.networkType="WIFI";break;case cc.sys.NetworkType.WWAN:t.networkType="WWAN";break;default:t.networkType="NONE"}e.success(t),e.complete()},e.getSystemInfo=function(t){var n={mp_platform:cc.sys.platform.toString(),system:e._getOs(),screenWidth:window.screen.width,screenHeight:window.screen.height};e._sysCallback&&(n=I.extend(n,e._sysCallback(t))),t.success(n),t.complete()},e)}}]),e}(),w=function(){function e(){o(this,e)}return c(e,null,[{key:"_getCurrentPlatform",value:function(){return this.currentPlatform||(this.currentPlatform=S.createInstance())}},{key:"getConfig",value:function(){return this._getCurrentPlatform().getConfig()}},{key:"getStorage",value:function(e,t,n){return this._getCurrentPlatform().getStorage(e,t,n)}},{key:"setStorage",value:function(e,t){return this._getCurrentPlatform().setStorage(e,t)}},{key:"getSystemInfo",value:function(e){return this._getCurrentPlatform().getSystemInfo(e)}},{key:"getNetworkType",value:function(e){return this._getCurrentPlatform().getNetworkType(e)}},{key:"getQuickDevice",value:function(e){return this._getCurrentPlatform().getQuickDevice(e)}},{key:"onNetworkStatusChange",value:function(e){this._getCurrentPlatform().onNetworkStatusChange(e)}},{key:"request",value:function(e){return this._getCurrentPlatform().request(e)}},{key:"initAutoTrackInstance",value:function(e,t){return this._getCurrentPlatform().initAutoTrackInstance(e,t)}},{key:"setGlobal",value:function(e,t){e&&t&&this._getCurrentPlatform().setGlobal(e,t)}},{key:"getAppOptions",value:function(e){return this._getCurrentPlatform().getAppOptions(e)}},{key:"showDebugToast",value:function(e){this._getCurrentPlatform().showToast(e)}}]),e}(),I={},P=Array.prototype,A=Object.prototype,N=P.slice,O=A.toString,C=Object.prototype.hasOwnProperty,j=P.forEach,E=(A=Array.isArray,{});function x(){return new RegExp(/(.*?)\.?([^.]*?)\.(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|net\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/)}function T(e,t){var n=e.charAt(0);return t=t.split(n),n===e?t:t[(e=parseInt(e.substring(1),10))<0?t.length+e:e-1]}function M(e,t){for(var n,i=e.charAt(0),r=t.split("&"),a=[],o={},s=e.substring(1),c=0,u=r.length;c<u;c++)if(""!==(a=(a=r[c].match(/(.*?)=(.*)/))||[r[c],r[c],""])[1].replace(/\s/g,"")){if(a[2]=(n=a[2]||"",I.decodeURIComponent(n.replace(/\+/g," "))),s===a[1])return a[2];(n=a[1].match(/(.*)\[([0-9]+)\]/))?(o[n[1]]=o[n[1]]||[],o[n[1]][n[2]]=a[2]):o[a[1]]=a[2]}return i===e?o:o[s]}I.isNumber=function(e){return"number"==typeof e?0==e-e:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))},I.each=function(e,t,n){if(null==e)return!1;if(j&&e.forEach===j)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,r=e.length;i<r;i++)if(i in e&&t.call(n,e[i],i,e)===E)return!1}else for(var a in e)if(C.call(e,a)&&t.call(n,e[a],a,e)===E)return!1},I.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},I.extend=function(e){return I.each(N.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e},I.extend2Layers=function(e){return I.each(N.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(I.isObject(t[n])&&I.isObject(e[n])?I.extend(e[n],t[n]):e[n]=t[n])})),e},I.isArray=A||function(e){return"[object Array]"===O.call(e)},I.isFunction=function(e){try{return"function"==typeof e}catch(e){return!1}},I.isPromise=function(e){return"[object Promise]"===O.call(e)&&null!=e},I.isObject=function(e){return"[object Object]"===O.call(e)&&null!=e},I.isEmptyObject=function(e){if(I.isObject(e)){for(var t in e)if(C.call(e,t))return!1;return!0}return!1},I.isUndefined=function(e){return void 0===e},I.isString=function(e){return"[object String]"===O.call(e)},I.isDate=function(e){return"[object Date]"===O.call(e)},I.isBoolean=function(e){return"[object Boolean]"===O.call(e)},I.isNumber=function(e){return"[object Number]"===O.call(e)&&/[\d\.]+/.test(String(e))},I.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},I.decodeURIComponent=function(e){var t="";try{t=decodeURIComponent(e)}catch(n){t=e}return t},I.encodeURIComponent=function(e){var t="";try{t=encodeURIComponent(e)}catch(n){t=e}return t},I.utf8Encode=function(e){for(var t,n="",i=t=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,a=0;a<r;a++){var o=e.charCodeAt(a),s=null;o<128?t++:s=127<o&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),null!==s&&(i<t&&(n+=e.substring(i,t)),n+=s,i=t=a+1)}return i<t&&(n+=e.substring(i,e.length)),n},I.base64Encode=function(e){var t,n,i,r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,s=0,c="",u=[];if(!e)return e;for(e=I.utf8Encode(e);t=(r=e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<8|e.charCodeAt(o++))>>12&63,n=r>>6&63,i=63&r,u[s++]=a.charAt(r>>18&63)+a.charAt(t)+a.charAt(n)+a.charAt(i),o<e.length;);switch(c=u.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c},I.encodeDates=function(e){return I.each(e,(function(t,n){if(I.isDate(t))e[n]=I.formatDate(t);else if(I.isObject(t))e[n]=I.encodeDates(t);else if(I.isArray(t))for(var i=0;i<t.length;i++)I.isDate(t[i])&&(e[n][i]=I.formatDate(t[i]))})),e},I.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+((e=e.getMilliseconds())<100&&9<e?"0"+e:e<10?"00"+e:e)},I.searchObjDate=function(e){try{(I.isObject(e)||I.isArray(e))&&I.each(e,(function(t,n){I.isObject(t)||I.isArray(t)?I.searchObjDate(e[n]):I.isDate(t)&&(e[n]=I.formatDate(t))}))}catch(e){D.warn(e)}},I.UUID=function(){var e=(new Date).getTime();return String(Math.random()).replace(".","").slice(1,11)+"-"+e},I.UUIDv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},I.setMpPlatform=function(e){I.mpPlatform=e},I.getMpPlatform=function(){return I.mpPlatform},I.createExtraHeaders=function(){return{"GE-Integration-Type":h,"GE-Integration-Version":p,"GE-Integration-Count":"1","GE-Integration-Extra":I.getMpPlatform()}},I.checkAppId=function(e){if("number"==typeof e)e=String(e);else if("string"!=typeof e)return"";return e.replace(/\s*/g,"")},I.checkUrl=function(e){return e=e.replace(/\s*/g,""),I.url("basic",e)},I.url=function(e,t){var n,i={};if("tld?"===e)return x();if(t=t||window.location.toString(),!e)return t;if(e=e.toString(),t.match(/^mailto:([^/].+)/))n=t.match(/^mailto:([^/].+)/),i.protocol="mailto",i.email=n[1];else{if((t=t.match(/(.*?)\/#!(.*)/)?(n=t.match(/(.*?)\/#!(.*)/))[1]+n[2]:t).match(/(.*?)#(.*)/)&&(n=t.match(/(.*?)#(.*)/),i.hash=n[2],t=n[1]),i.hash&&e.match(/^#/))return M(e,i.hash);if(t.match(/(.*?)\?(.*)/)&&(n=t.match(/(.*?)\?(.*)/),i.query=n[2],t=n[1]),i.query&&e.match(/^\?/))return M(e,i.query);if(t.match(/(.*?):?\/\/(.*)/)&&(n=t.match(/(.*?):?\/\/(.*)/),i.protocol=n[1].toLowerCase(),t=n[2]),t.match(/(.*?)(\/.*)/)&&(n=t.match(/(.*?)(\/.*)/),i.path=n[2],t=n[1]),i.path=(i.path||"").replace(/^([^/])/,"/$1").replace(/\/$/,""),(e=e.match(/^[-0-9]+$/)?e.replace(/^([^/])/,"/$1"):e).match(/^\//))return T(e,i.path.substring(1));if((n=(n=T("/-1",i.path.substring(1)))&&n.match(/(.*?)\.(.*)/))&&(i.file=n[0],i.filename=n[1],i.fileext=n[2]),t.match(/(.*):([0-9]+)$/)&&(n=t.match(/(.*):([0-9]+)$/),i.port=n[2],t=n[1]),t.match(/(.*?)@(.*)/)&&(n=t.match(/(.*?)@(.*)/),i.auth=n[1],t=n[2]),i.auth&&(n=i.auth.match(/(.*):(.*)/),i.user=n?n[1]:i.auth,i.pass=n?n[2]:void 0),i.hostname=t.toLowerCase(),"."===e.charAt(0))return T(e,i.hostname);x()&&(n=i.hostname.match(x()))&&(i.tld=n[3],i.domain=n[2]?n[2]+"."+n[3]:void 0,i.sub=n[1]||void 0),t=i.port?":"+i.port:"",i.protocol=i.protocol||window.location.protocol.replace(":",""),i.port=i.port||("https"===i.protocol?"443":"80"),i.protocol=i.protocol||("443"===i.port?"https":"http"),i.basic=i.protocol+"://"+i.hostname+t}return e in i?i[e]:"{}"===e?i:""},I.createString=function(e){for(var t=e,n=Math.random().toString(36).substr(2);n.length<t;)n+=Math.random().toString(36).substr(2);return n.substr(0,e)},I.createAesKey=function(){return I.createString(16)},I.setQuery=function(e){if(!I.isObject(e))return"";var t,n=w.getConfig().persistenceNameOld.includes("GravityEngine_ali"),i=[];for(t in e)(n||e.hasOwnProperty(t))&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i.join("&")},I.generateEncryptyData=function(e,t){if(void 0!==t){var n=t.publicKey;if(t=t.version,void 0!==n&&void 0!==t&&"undefined"!=typeof CryptoJS&&"undefined"!=typeof JSEncrypt){var i=I.createAesKey();try{var r=CryptoJS.enc.Utf8.parse(i),a=CryptoJS.enc.Utf8.parse(JSON.stringify(e)),o=I.isUndefined(CryptoJS.pad.Pkcs7)?CryptoJS.pad.PKCS7:CryptoJS.pad.Pkcs7,s=CryptoJS.AES.encrypt(a,r,{mode:CryptoJS.mode.ECB,padding:o}).toString(),c=new JSEncrypt,u=(c.setPublicKey(n),c.encrypt(i));return!1===u?(D.warn("私钥加密失败，返回原数据"),e):{pkv:t,ekey:u,payload:s}}catch(e){D.warn("数据加密失败，返回原数据: "+e)}}}return e};var D="object"===i(D)?D:{},q=(D.info=function(){if("object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&D.enabled)try{return console.log.apply(console,arguments)}catch(e){console.log(arguments[0])}},D.warn=function(){if("object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&D.enabled)try{return console.warn.apply(console,arguments)}catch(e){console.warn(arguments[0])}},/^\$?[a-zA-Z][a-zA-Z0-9_]{0,49}$/),G=function(){function e(){o(this,e)}return c(e,null,[{key:"stripProperties",value:function(e){return I.isObject(e)&&I.each(e,(function(e,t){I.isString(e)||I.isNumber(e)||I.isDate(e)||I.isBoolean(e)||I.isArray(e)||I.isObject(e)||D.warn("Your data -",t,e,"- format does not meet requirements and may not be stored correctly. Attribute values only support String, Number, Date, Boolean, Array, Object")})),e}},{key:"_checkPropertiesKey",value:function(e){var t=!0;return I.each(e,(function(e,n){q.test(n)||(D.warn("Invalid KEY: "+n),t=!1)})),t}},{key:"event",value:function(e){return!(!I.isString(e)||!q.test(e))||(D.warn("Check the parameter format. The eventName must start with an English letter and contain no more than 50 characters including letters, digits, and underscores: "+e),!1)}},{key:"propertyName",value:function(e){return!(!I.isString(e)||!q.test(e))||(D.warn("Check the parameter format. PropertyName must start with a letter and contain letters, digits, and underscores (_). The value is a string of no more than 50 characters: "+e),!1)}},{key:"properties",value:function(e){return this.stripProperties(e),!(e&&(I.isObject(e)?!this._checkPropertiesKey(e)&&(D.warn("Check the parameter format. The properties key must start with a letter, contain digits, letters, and underscores (_), and contain a maximum of 50 characters"),1):(D.warn("properties can be none, but it must be an object"),1)))}},{key:"propertiesMust",value:function(e){return this.stripProperties(e),void 0===e||!I.isObject(e)||I.isEmptyObject(e)?(D.warn("properties must be an object with a value"),!1):!!this._checkPropertiesKey(e)||(D.warn("Check the parameter format. The properties key must start with a letter, contain digits, letters, and underscores (_), and contain a maximum of 50 characters"),!1)}},{key:"userId",value:function(e){return!(!I.isString(e)||!/^.{1,64}$/.test(e))||(D.warn("The user ID must be a string of less than 64 characters and cannot be null"),!1)}},{key:"userAddProperties",value:function(e){if(!this.propertiesMust(e))return!1;for(var t in e)if(!I.isNumber(e[t]))return D.warn("The attributes of userAdd need to be Number"),!1;return!0}},{key:"userAppendProperties",value:function(e){if(!this.propertiesMust(e))return!1;for(var t in e)if(!I.isArray(e[t]))return D.warn("The attribute of userAppend must be Array"),!1;return!0}}]),e}(),L=function(){function e(t,n,i,r,a,s){o(this,e),this.data=t,this.serverUrl=n,this.callback=s,this.debugMode=a,this.tryCount=I.isNumber(i)?i:1,this.permissionTryCount=6,this.timeout=I.isNumber(r)?r:3e3,this.taClassName="HttpTask"}return c(e,[{key:"run",value:function(){var e=this,t=I.createExtraHeaders(),n=(t["content-type"]="application/json","debug"===this.debugMode&&(t["Turbo-Debug-Mode"]=1),w.request({url:this.serverUrl,method:"POST",data:this.data,header:t,success:function(t){var n;0===(null==t||null==(n=t.data)?void 0:n.code)?e.onSuccess(t):e.onFailed(t)},fail:function(t){e.onFailed(t)}}));setTimeout((function(){(I.isObject(n)||I.isPromise(n))&&I.isFunction(n.abort)&&n.abort()}),this.timeout)}},{key:"onSuccess",value:function(e){var t,n;200===e.statusCode?(n="Data Verified",null!=e&&null!=(t=e.data)&&null!=(t=t.extra)&&null!=(t=t.errors)&&t.length&&(n=e.data.extra.errors),this.callback({code:null==e||null==(t=e.data)?void 0:t.code,msg:n})):this.callback({code:-3,msg:e.statusCode})}},{key:"onFailed",value:function(e){var t,n=this;0<--this.tryCount?setTimeout((function(){n.run()}),1e3):this.callback({code:-3,msg:"".concat(null==e||null==(t=e.data)?void 0:t.msg,"：").concat(null==e||null==(t=e.data)||null==(t=t.extra)?void 0:t.error)})}}]),e}(),$=new(function(){function e(){o(this,e),this.items=[],this.isRunning=!1,this.showDebug=!1}return c(e,[{key:"enqueue",value:function(e,t,n){var i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r="debug"===n.debugMode,a=this;e=new L(JSON.stringify(e),t,n.maxRetries,n.sendTimeout,n.debugMode,(function(e){a.isRunning=!1,I.isFunction(n.callback)&&n.callback(e),a._runNext(r),r&&D.info("code ".concat(e.code," and msg is ").concat(e.msg))})),!0===i?(this.items.push(e),this._runNext(r)):e.run()}},{key:"_dequeue",value:function(){return this.items.shift()}},{key:"_runNext",value:function(e){if(0<this.items.length&&!this.isRunning)if(this.isRunning=!0,e)this._dequeue().run();else{for(var t=this.items.splice(0,this.items.length),n=(e=t[0],JSON.parse(e.data)),i=1;i<t.length;i++){var r=t[i];r=JSON.parse(r.data),n.event_list=n.event_list.concat(r.event_list)}var a=(new Date).getTime();n.$flush_time=a,new L(JSON.stringify(n),e.serverUrl,e.tryCount,e.timeout,null==e?void 0:e.debugMode,e.callback).run()}}}]),e}()),F={name:"GravityEngine",is_plugin:!1,maxRetries:3,sendTimeout:5e3,enablePersistence:!0,asyncPersistence:!1,strict:!1,debugMode:"none"},U={properties:{$lib_version:p,$lib:"cocoscreator",$scene:"",$today_first_scene:""},getSystemInfo:function(e){var t=this;w.onNetworkStatusChange((function(e){t.properties.$network_type=e.networkType})),w.getNetworkType({success:function(e){t.properties.$network_type=e.networkType},complete:function(){w.getSystemInfo({success:function(e){D.info(JSON.stringify(e,null,4));var n={$manufacturer:e.brand,$brand:e.brand,$model:e.model,$screen_width:Number(e.screenWidth),$screen_height:Number(e.screenHeight),$system_language:e.language,$os:e.platform,$os_version:e.system};I.extend(t.properties,n),I.setMpPlatform(e.mp_platform)},complete:function(){e()}})}})}},J=function(){function e(t,n){var i=this;o(this,e),this.enabled=t.enablePersistence,this.enabled?(t.isChildInstance?(this.name=t.persistenceName+"_"+t.name,this.nameOld=t.persistenceNameOld+"_"+t.name):(this.name=t.persistenceName,this.nameOld=t.persistenceNameOld),t.asyncPersistence?(this._state={},w.getStorage(this.name,!0,(function(e){I.isEmptyObject(e)?w.getStorage(i.nameOld,!0,(function(e){i._state=I.extend2Layers({},e,i._state),i._init(t,n),i._save()})):(i._state=I.extend2Layers({},e,i._state),i._init(t,n),i._save())}))):(this._state=w.getStorage(this.name)||{},I.isEmptyObject(this._state)&&(this._state=w.getStorage(this.nameOld)||{}),this._init(t,n))):(this._state={},this._init(t,n))}return c(e,[{key:"_init",value:function(e,t){this.getDistinctId()||this.setDistinctId(I.UUID()),e.isChildInstance||this.getDeviceId()||this._setDeviceId(I.UUID()),this.initComplete=!0,"function"==typeof t&&t(),t=null==(e=w.getStorage(this.name))?void 0:e.current_first_scene_date;var n=null==e?void 0:e.current_first_scene,i=(new Date).toLocaleDateString();n&&t&&t===i?U.properties.$today_first_scene=String(null==e?void 0:e.current_first_scene):(e=String((null==(n=w.getAppOptions())?void 0:n.scene)||(null==(t=w.getAppOptions())?void 0:t.from)),U.properties.$today_first_scene=e,this._state.current_first_scene=e,this._state.current_first_scene_date=i),this._save()}},{key:"_save",value:function(){this.enabled&&this.initComplete&&w.setStorage(this.name,JSON.stringify(this._state))}},{key:"_set",value:function(e,t){var n,r=this;"string"==typeof e?(n={})[e]=t:"object"===i(e)&&(n=e),I.each(n,(function(e,t){r._state[t]=e})),this._save()}},{key:"_get",value:function(e){return this._state[e]}},{key:"setEventTimer",value:function(e,t){var n=this._state.event_timers||{};n[e]=t,this._set("event_timers",n)}},{key:"removeEventTimer",value:function(e){var t=(this._state.event_timers||{})[e];return I.isUndefined(t)||(delete this._state.event_timers[e],this._save()),t}},{key:"getDeviceId",value:function(){return this._state.device_id}},{key:"_setDeviceId",value:function(e){this.getDeviceId()?D.warn("cannot modify the device id."):this._set("device_id",e)}},{key:"getDistinctId",value:function(){return this._state.distinct_id}},{key:"setDistinctId",value:function(e){this._set("distinct_id",e)}},{key:"getAccountId",value:function(){return this._state.account_id}},{key:"setAccountId",value:function(e){this._set("account_id",e)}},{key:"getSuperProperties",value:function(){return this._state.props||{}}},{key:"setSuperProperties",value:function(e,t){t=t?e:I.extend(this.getSuperProperties(),e),this._set("props",t)}}]),e}();function H(){return w.getConfig().persistenceNameOld}P=function(){function e(t){o(this,e),t.appId=I.checkAppId((null==t?void 0:t.clientId)||""),t.accessToken=t.accessToken,t.accessToken||console.warn("GravityAnalytics: accessToken must be required"),t.serverUrl="".concat(f,"/event/collect/?access_token=").concat(t.accessToken);var n=I.extend({},F,w.getConfig());I.isObject(t)?this.config=I.extend(n,t):this.config=n,this._init(this.config)}var t,i,r;return c(e,[{key:"_init",value:function(e){var t=this,n=(this.name=e.name,this.appId=e.clientId,this.accessToken=e.accessToken,e.serverUrl||e.server_url);("GravityEngine_wechat_game"===(this.serverUrl=n,this.serverDebugUrl=n,this.configUrl=n+"/config",this.autoTrackProperties={},this._queue=[],this.config.syncBatchSize=100,this.config.syncInterval=60,e.isChildInstance?this._state={}:(D.enabled="debug"===e.debugMode,this.instances=[],this._state={getSystemInfo:!1,initComplete:!1},U.getSystemInfo((function(){t._updateState({getSystemInfo:!0})})),w.setGlobal(this,this.name)),U.properties.$scene=String((null==(n=w.getAppOptions())?void 0:n.scene)||(null==(n=w.getAppOptions())?void 0:n.from)),this.store=new J(e,(function(){t.config.asyncPersistence&&I.isFunction(t.config.persistenceComplete)&&t.config.persistenceComplete(t),t._updateState()})),this.enabled=!I.isBoolean(this.store._get("ge_enabled"))||this.store._get("ge_enabled"),this.isOptOut=!!I.isBoolean(this.store._get("ge_isOptOut"))&&this.store._get("ge_isOptOut"),n=H())||"GravityEngine_tt_game"===n||"GravityEngine_ali_game"===n||n.includes("gravityengine_qg"))&&e.autoTrack.appLaunch&&this.track("$MPLaunch",{$url_query:I.setQuery(this.getQuery())}),!e.isChildInstance&&e.autoTrack&&(this.autoTrack=w.initAutoTrackInstance(this,e))}},{key:"updateConfig",value:function(e,t){}},{key:"initInstance",value:function(t,n){if(!this.config.isChildInstance)return I.isString(t)&&t!==this.name&&I.isUndefined(this[t])?(n=new e(I.extend({},this.config,{enablePersistence:!1,isChildInstance:!0,name:t},n)),this[t]=n,this.instances.push(t),this[t]._state=this._state,n):void D.warn("initInstance() failed due to the name is invalid: "+t);D.warn("initInstance() cannot be called on child instance")}},{key:"lightInstance",value:function(e){return this[e]}},{key:"_setAutoTrackProperties",value:function(e){I.extend(this.autoTrackProperties,e)}},{key:"setupAndStart",value:function(e){if(null!=e&&e.clientId&&(this.config.appId=e.clientId,this.appId=e.clientId),this._state.initComplete)return!1;this._updateState({initComplete:!0})}},{key:"_isReady",value:function(){return this._state.getSystemInfo&&this._state.initComplete&&this.store.initComplete&&this.config.appId&&this.config.accessToken}},{key:"_updateState",value:function(e){var t=this;I.isObject(e)&&I.extend(this._state,e),this._onStateChange(),I.each(this.instances,(function(e){t[e]._onStateChange()}))}},{key:"_onStateChange",value:function(){var e=this;this._isReady()&&this._queue&&0<this._queue.length&&(I.each(this._queue,(function(t){e[t[0]].apply(e,N.call(t[1]))})),this._queue=[])}},{key:"_hasDisabled",value:function(){var e=!this.enabled||this.isOptOut;return e&&D.info("GravityEngine is Pause or Stop!"),e}},{key:"_sendRequest",value:function(e,t,n){var i,r;this._hasDisabled()||(!I.isUndefined(this.config.disableEventList)&&this.config.disableEventList.includes(e.eventName)?D.info("disabled Event : "+e.eventName):(t=I.isDate(t)?t:new Date,(t={event_list:[{type:e.type,time:new Date(t).getTime()}]}).event_list[0].event=e.eventName,"track"===e.type?(t.event_list[0].properties=this.getSendProperties(),i=this.store.removeEventTimer(e.eventName),I.isUndefined(i)||(i=(new Date).getTime()-i,86400<(i=parseFloat((i/1e3).toFixed(3)))?i=86400:i<0&&(i=0),t.event_list[0].properties.$event_duration=i)):t.event_list[0].properties={},I.isObject(e.properties)&&!I.isEmptyObject(e.properties)&&I.extend(t.event_list[0].properties,e.properties),I.searchObjDate(t.event_list[0]),t.client_id=this.appId,D.info(JSON.stringify(t,null,4)),i=this.serverUrl,I.isBoolean(this.config.enableEncrypt)&&1==this.config.enableEncrypt&&(t.event_list[0]=I.generateEncryptyData(t.event_list[0],void 0)),n?(n=new FormData,"debug"===this.config.debugMode?(n.append("source","client"),n.append("appid",this.appId),n.append("deviceId",this.getDeviceId()),n.append("data",JSON.stringify(t.event_list[0]))):(r=I.base64Encode(JSON.stringify(t)),n.append("data",r)),navigator.sendBeacon(i,n),I.isFunction(e.onComplete)&&e.onComplete({statusCode:200})):$.enqueue(t,i,{maxRetries:this.config.maxRetries,sendTimeout:this.config.sendTimeout,callback:e.onComplete,debugMode:this.config.debugMode})))}},{key:"_isObjectParams",value:function(e){return I.isObject(e)&&I.isFunction(e.onComplete)}},{key:"track",value:function(e,t,n,i){var r;this._hasDisabled()||(this._isObjectParams(e)&&(e=(r=e).eventName,t=r.properties,n=r.time,i=r.onComplete),G.event(e)&&G.properties(t)||!this.config.strict?this._internalTrack(e,t,n,i):I.isFunction(i)&&i({code:-1,msg:"invalid parameters"}))}},{key:"_internalTrack",value:function(e,t,n,i,r){this._hasDisabled()||(n=I.isDate(n)?n:new Date,this._isReady()?this._sendRequest({type:"track",eventName:e,properties:t,onComplete:i},n,r):this._queue.push(["_internalTrack",[e,t,n,i]]))}},{key:"userSet",value:function(e,t,n){var i;this._hasDisabled()||(this._isObjectParams(e)&&(e=(i=e).properties,t=i.time,n=i.onComplete),G.propertiesMust(e)||!this.config.strict?(t=I.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_set",properties:e,onComplete:n},t):this._queue.push(["userSet",[e,t,n]])):(D.warn("calling userSet failed due to invalid arguments"),I.isFunction(n)&&n({code:-1,msg:"invalid parameters"})))}},{key:"userSetOnce",value:function(e,t,n){var i;this._hasDisabled()||(this._isObjectParams(e)&&(e=(i=e).properties,t=i.time,n=i.onComplete),G.propertiesMust(e)||!this.config.strict?(t=I.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_set_once",properties:e,onComplete:n},t):this._queue.push(["userSetOnce",[e,t,n]])):(D.warn("calling userSetOnce failed due to invalid arguments"),I.isFunction(n)&&n({code:-1,msg:"invalid parameters"})))}},{key:"userAdd",value:function(e,t,n){var i;this._hasDisabled()||(this._isObjectParams(e)&&(e=(i=e).properties,t=i.time,n=i.onComplete),G.propertiesMust(e)||!this.config.strict?(t=I.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_increment",properties:e,onComplete:n},t):this._queue.push(["userAdd",[e,t,n]])):(D.warn("calling userAdd failed due to invalid arguments"),I.isFunction(n)&&n({code:-1,msg:"invalid parameters"})))}},{key:"userNumberMax",value:function(e,t,n){if(!this._hasDisabled()){var i,r,a;for(r in this._isObjectParams(e)&&(e=(i=e).properties,t=i.time,n=i.onComplete),e)if("number"!=typeof e[r])return a="The key ".concat(r," must be type of number"),console.warn(a),void(I.isFunction(n)&&n({code:-1,msg:a}));G.propertiesMust(e)||!this.config.strict?(t=I.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_number_max",properties:e,onComplete:n},t):this._queue.push(["userNumberMax",[e,t,n]])):(D.warn("calling userNumberMax failed due to invalid arguments"),I.isFunction(n)&&n({code:-1,msg:"invalid parameters"}))}}},{key:"userNumberMin",value:function(e,t,n){if(!this._hasDisabled()){var i,r,a;for(r in this._isObjectParams(e)&&(e=(i=e).properties,t=i.time,n=i.onComplete),e)if("number"!=typeof e[r])return a="The key ".concat(r," must be type of number"),console.warn(a),void(I.isFunction(n)&&n({code:-1,msg:a}));G.propertiesMust(e)||!this.config.strict?(t=I.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_number_min",properties:e,onComplete:n},t):this._queue.push(["userNumberMin",[e,t,n]])):(D.warn("calling userNumberMin failed due to invalid arguments"),I.isFunction(n)&&n({code:-1,msg:"invalid parameters"}))}}},{key:"userDel",value:function(e,t){var n,i={};this._hasDisabled()||(this._isObjectParams(i)&&(i=(n=i).properties,e=n.time,t=n.onComplete),G.propertiesMust(i)||!this.config.strict?(e=I.isDate(e)?e:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_delete",properties:i,onComplete:t},e):this._queue.push(["userDel",[i,e,t]])):(D.warn("calling userDel failed due to invalid arguments"),I.isFunction(t)&&t({code:-1,msg:"invalid parameters"})))}},{key:"userAppend",value:function(e,t,n){var i;this._hasDisabled()||(this._isObjectParams(e)&&(e=(i=e).properties,t=i.time,n=i.onComplete),G.propertiesMust(e)||!this.config.strict?(t=I.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_append",properties:e,onComplete:n},t):this._queue.push(["userAppend",[e,t,n]])):(D.warn("calling userAppend failed due to invalid arguments"),I.isFunction(n)&&n({code:-1,msg:"invalid parameters"})))}},{key:"userUniqAppend",value:function(e,t,n){var i;this._hasDisabled()||(this._isObjectParams(e)&&(e=(i=e).properties,t=i.time,n=i.onComplete),G.userAppendProperties(e)||!this.config.strict?(t=I.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_uniq_append",properties:e,onComplete:n},t):this._queue.push(["userUniqAppend",[e,t,n]])):(D.warn("calling userAppend failed due to invalid arguments"),I.isFunction(n)&&n({code:-1,msg:"invalid parameters"})))}},{key:"userUnset",value:function(e,t,n){var i;e=u({},e,null),this._hasDisabled()||(this._isObjectParams(e)&&(e=(i=e).properties,t=i.time,n=i.onComplete),G.propertiesMust(e)||!this.config.strict?(t=I.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"profile",eventName:"profile_unset",properties:e,onComplete:n},t):this._queue.push(["userUnset",[e,t,n]])):(D.warn("calling userUnset failed due to invalid arguments"),I.isFunction(n)&&n({code:-1,msg:"invalid parameters"})))}},{key:"uploadQuickAppDeviceInfo",value:function(){var e=this;return new Promise((function(t,i){var r;w.getQuickDevice({success:(r=a(n().mark((function r(a){var o,s;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={os_name:"android",android_id:a.user,imei:a.device,oaid:a.device,mac:a.mac,android_version:a.system,api_version:a.osVersionCode,rom:a.vendorOsName,rom_version:a.vendorOsVersion,phone_brand:a.manufacturer,phone_model:a.model},s="".concat(f,"/user/device_info/?access_token=").concat(e.accessToken,"&client_id=").concat(e.appId),n.next=4,e.sendNetWork(s,{data:o});case 4:return s=n.sent,n.abrupt("return",(0===s.code?t:i)(s));case 6:case"end":return n.stop()}}),r)}))),function(e){return r.apply(this,arguments)})})}))}},{key:"uploadQuickGameDeviceInfo",value:function(){var e=this;return new Promise((function(t,i){var r,o=H();w.getQuickDevice({platform:o,success:(r=a(n().mark((function r(a){var o,s;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=a,s="".concat(f,"/user/device_info/?access_token=").concat(e.accessToken,"&client_id=").concat(e.appId),n.next=4,e.sendNetWork(s,{data:o});case 4:return s=n.sent,n.abrupt("return",(0===s.code?t:i)(s));case 6:case"end":return n.stop()}}),r)}))),function(e){return r.apply(this,arguments)})})}))}},{key:"logoutEvent",value:function(){this.track("$MPLogout",{})}},{key:"loginEvent",value:function(){this.track("$MPLogin",{})}},{key:"registerEvent",value:function(){"GravityEngine_quick_mp"===H()?this.track("$AppRegister",{}):this.track("$MPRegister",{})}},{key:"payEvent",value:function(e,t,n,i,r){if("number"!=typeof e)throw new Error("pay_amount must be a number");if("string"!=typeof t)throw new Error("pay_type must be a string");if("string"!=typeof n)throw new Error("order_id must be a string");if("string"!=typeof i)throw new Error("pay_reason must be a string");if("string"!=typeof r)throw new Error("pay_method must be a string");this.track("$PayEvent",{$pay_amount:e,$pay_type:t,$order_id:n,$pay_reason:i,$pay_method:r})}},{key:"bindTAThirdPlatform",value:function(e,t){if(!e&&!t)throw new Error("taAccountId or taDistinctId must be required");if(e&&"string"!=typeof e)throw new Error("taAccountId must be a string");if(t&&"string"!=typeof t)throw new Error("taDistinctId must be a string");this.track("$BindThirdPlatform",{$third_platform_type:"ta",$ta_account_id:e,$ta_distinct_id:t})}},{key:"adShowEvent",value:function(e,t,n){var i=H(),r="GravityEngine_ali_game"===i?"alipay":"wechat";if("GravityEngine_wechat"===i||"GravityEngine_wechat_game"===i||"GravityEngine_ali_game"===i){if("string"!=typeof e)throw new Error("ad_type must be a string");if("string"!=typeof t)throw new Error("ad_unit_id must be a string");i={$ad_type:e,$ad_unit_id:t,$adn_type:r},"[object Object]"===Object.prototype.toString.call(n)&&Object.assign(i,n),this.track("$AdShow",i)}}},{key:"getQuery",value:function(){try{var e;return null!=w&&w.getAppOptions&&null!=(e=w.getAppOptions())&&e.query&&w.getAppOptions().query||{}}catch(e){return{}}}},{key:"sendNetWork",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"POST";return new Promise((function(i,r){w.request({url:e,method:n,data:"string"==typeof t?t:JSON.stringify(t),header:{"content-type":"application/json"},success:function(e){200===e.statusCode||200===e.status?i(e.data):r(e)},fail:function(e){r(e)}})}))}},{key:"_errorPromise",value:function(e){return Promise.reject(new Error(e))}},{key:"initializeWithHistoryUserInfo",value:(r=a(n().mark((function e(){var t,i,r=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:{},i=1<r.length?r[1]:void 0,e.abrupt("return",this.initialize(t,i));case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"initialize",value:(i=a(n().mark((function e(){var t,i,r=this,o=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<o.length&&void 0!==o[0]?o[0]:{},i=1<o.length?o[1]:void 0,e.abrupt("return",new Promise(function(){var e=a(n().mark((function e(o,s){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{w.getStorage("is_ge_registered",!0,function(){var e=a(n().mark((function e(a){var c,u,l,p,h,d,g,m,v,y,_,k;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u="",r._state.initComplete?null!=t&&t.name?null!=t&&t.version||0===(null==t?void 0:t.version)?I.isNumber(null==t?void 0:t.version)&&"number"==typeof(null==t?void 0:t.version)?void 0!==i&&("[object Object]"!==Object.prototype.toString.call(i)?u="history_info must be type: Object":null!=i&&i.company?"string"!=typeof i.company?u="history_info.company must be type: String":null!=i&&i.create_time||0===i.create_time?I.isNumber(i.create_time)&&"number"==typeof i.create_time||(u="history_info.create_time must be type: Number"):u="history_info.create_time must be required":u="history_info.company must be required"):u="version must be type: Number":u="version must be required":u="name must be required":u="initialize must be called after setupAndStart",u)return e.abrupt("return",s(u));e.next=4;break;case 4:return c=r.getQuery(),u=H(),d=u.includes("GravityEngine_ali"),l=(null==t?void 0:t.channel)||"base_channel",d={client_id:r.appId,name:t.name,channel:d&&null!=c&&c.channel?c.channel:l,version:t.version,wx_openid:(null==t?void 0:t.openid)||(null==t?void 0:t.wx_openid)||"",wx_unionid:(null==t?void 0:t.wx_unionid)||"",promoted_object_id:(null==t?void 0:t.promoted_object_id)||"",need_return_attribution:(null==t?void 0:t.enable_sync_attribution)||!1,ad_data:c},i&&(d.history_info=i),h="".concat(f,"/user/initialize/?access_token=").concat(r.accessToken),e.next=13,r.sendNetWork(h,d);case 13:if(0!==(p=e.sent).code)return e.abrupt("return",s(p));e.next=16;break;case 16:return"GravityEngine_quick_mp"===(h=H())?r.uploadQuickAppDeviceInfo():h.includes("gravityengine_qg")&&r.uploadQuickGameDeviceInfo(),d=U.properties,v=new Date,y=v.getFullYear(),_=("0"+(v.getMonth()+1)).slice(-2),k=("0"+v.getDate()).slice(-2),g=("0"+v.getHours()).slice(-2),m=("0"+v.getMinutes()).slice(-2),v=("0"+v.getSeconds()).slice(-2),y="".concat(y,"-").concat(_,"-").concat(k," ").concat(g,":").concat(m,":").concat(v),"Y"!==a&&(r.userSetOnce({$channel:l,$manufacturer:d.$manufacturer,$model:d.$model,$brand:d.$brand,$os:d.$os,$first_visit_time:y,$first_scene:String(null==(_=w.getAppOptions())?void 0:_.scene),$gravity_referee_openid:(null==c?void 0:c.gravity_referee_openid)||void 0}),k=I.setQuery(r.getQuery()),r.track("$MPLaunch",{$url_query:k}),r.track("$MPShow",{$url_query:k})),w.setStorage("is_ge_registered",JSON.stringify("Y")),e.abrupt("return",o(p));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(e){s(e)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"queryUserInfo",value:(t=a(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._state.initComplete){e.next=2;break}return e.abrupt("return",this._errorPromise("queryUserInfo must be called after setupAndStart"));case 2:return e.abrupt("return",new Promise(function(){var e=a(n().mark((function e(i,r){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(f,"/user/get/?access_token=").concat(t.accessToken,"&client_id=").concat(t.appId),e.next=3,t.sendNetWork(a,{},"GET");case 3:return a=e.sent,e.abrupt("return",(0===a.code?i:r)(a));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"authorizeOpenID",value:function(e){this.identify(e)}},{key:"identify",value:function(e){if(!this._hasDisabled()){if("number"==typeof e)e=String(e);else if("string"!=typeof e)return!1;this.store.setDistinctId(e)}}},{key:"getDistinctId",value:function(){return this.store.getDistinctId()}},{key:"login",value:function(e){if(!this._hasDisabled()){if("number"==typeof e)e=String(e);else if("string"!=typeof e)return!1;this.store.setAccountId(e)}}},{key:"getAccountId",value:function(){return this.store.getAccountId()}},{key:"logout",value:function(){this._hasDisabled()||this.store.setAccountId(null)}},{key:"setSuperProperties",value:function(e){this._hasDisabled()||(G.propertiesMust(e)||!this.config.strict?this.store.setSuperProperties(e):D.warn("setSuperProperties parameter must be a valid property value"))}},{key:"registerApp",value:function(e){this.setSuperProperties(e)}},{key:"clearSuperProperties",value:function(){this._hasDisabled()||this.store.setSuperProperties({},!0)}},{key:"unsetSuperProperty",value:function(e){var t;this._hasDisabled()||I.isString(e)&&(delete(t=this.getSuperProperties())[e],this.store.setSuperProperties(t,!0))}},{key:"getSuperProperties",value:function(){return this.store.getSuperProperties()}},{key:"getSendProperties",value:function(){try{var e,t=I.extend({},U.properties,this.autoTrackProperties,this.store.getSuperProperties(),this.dynamicProperties?this.dynamicProperties():{});for(e in t)"string"==typeof t[e]&&(t[e]=t[e].substring(0,8192));return t}catch(e){return{}}}},{key:"getPresetProperties",value:function(){var e=U.properties,t={},n=e.$system_language;return t.system_language=I.isUndefined(n)?"":n,n=e.$os,t.os=I.isUndefined(n)?"":n,n=e.$screen_width,t.screenWidth=I.isUndefined(n)?0:n,n=e.$screen_height,t.screenHeight=I.isUndefined(n)?0:n,n=e.$network_type,t.networkType=I.isUndefined(n)?"":n,n=e.$model,t.deviceModel=I.isUndefined(n)?"":n,n=e.$os_version,t.osVersion=I.isUndefined(n)?"":n,t.deviceId=this.getDeviceId(),n=0-(new Date).getTimezoneOffset()/60,t.zoneOffset=n,n=e.$manufacturer,t.manufacturer=I.isUndefined(n)?"":n,n=e.$manufacturer,t.brand=I.isUndefined(n)?"":n,t.toEventPresetProperties=function(){var e;return{$app_id:this.appId,$model:t.deviceModel,$screen_width:t.screenWidth,$screen_height:t.screenHeight,$system_language:t.system_language,$os:t.os,$os_version:t.osVersion,$network_type:t.networkType,$manufacturer:t.manufacturer,$brand:t.manufacturer,$scene:String((null==(e=w.getAppOptions())?void 0:e.scene)||(null==(e=w.getAppOptions())?void 0:e.from))}},t}},{key:"setDynamicSuperProperties",value:function(e){this._hasDisabled()||("function"==typeof e?G.properties(e())||!this.config.strict?this.dynamicProperties=e:D.warn("A dynamic public property must return a valid property value"):D.warn("setDynamicSuperProperties parameter must be a function type"))}},{key:"timeEvent",value:function(e,t){this._hasDisabled()||(t=I.isDate(t)?t:new Date,this._isReady()?G.event(e)||!this.config.strict?this.store.setEventTimer(e,t.getTime()):D.warn("calling timeEvent failed due to invalid eventName: "+e):this._queue.push(["timeEvent",[e,t]]))}},{key:"getDeviceId",value:function(){return U.properties.$device_id}},{key:"enableTracking",value:function(e){this.enabled=e,this.store._set("ta_enabled",e)}},{key:"optOutTracking",value:function(){this.store.setSuperProperties({},!0),this.store.setDistinctId(I.UUID()),this.store.setAccountId(null),this._queue.splice(0,this._queue.length),this.isOptOut=!0,this.store._set("ge_isOptOut",!0)}},{key:"optOutTrackingAndDeleteUser",value:function(){var e=new Date;this._sendRequest({type:"user_del"},e),this.optOutTracking()}},{key:"optInTracking",value:function(){this.isOptOut=!1,this.store._set("ge_isOptOut",!1)}},{key:"setTrackStatus",value:function(e){switch(e){case"PAUSE":this.eventSaveOnly=!1,this.optInTracking(),this.enableTracking(!1);break;case"STOP":this.eventSaveOnly=!1,this.optOutTracking(!0);break;default:this.eventSaveOnly=!1,this.optInTracking(),this.enableTracking(!0)}}}]),e}();var R={name:"GravityEngine",enableLog:!0,enableNative:!1};return A=function(){function e(t){o(this,e),t.appId=I.checkAppId(t.clientId),t.accessToken=t.accessToken,t.appId?t.accessToken||console.warn("GravityAnalytics: accessToken must be required"):console.warn("GravityAnalytics: clientId must be required"),t.serverUrl="".concat(f,"/event/collect/?access_token=").concat(t.accessToken);var n=I.extend({},R,w.getConfig());I.isObject(t)?this.config=I.extend(n,t):this.config=n,this._init(this.config)}var t;return c(e,[{key:"_isNativePlatform",value:function(){return!(!this._isIOS()&&!this._isAndroid()||!this.config.enableNative)}},{key:"_isIOS",value:function(){return!(!cc.sys.isNative||"iOS"!==cc.sys.os)}},{key:"_isAndroid",value:function(){return!(!cc.sys.isNative||"Android"!==cc.sys.os)}},{key:"_init",value:function(e){this.name=e.name,this.appId=e.clientId,this.accessToken=e.accessToken;var t=e.serverUrl||e.server_url;this.serverUrl=t,this.serverDebugUrl=t+"/data_debug",this.configUrl=t+"/config",this._isNativePlatform()?(this.initInstanceForNative(this.name,e,this.appId),this._readStorage(e)):this.geJs=new GravityAnalyticsAPIForJS(e)}},{key:"_readStorage",value:function(e){var t=this,n=e.persistenceName,i=e.persistenceNameOld;e.isChildInstance&&(n=e.persistenceName+"_"+e.name,i=e.persistenceNameOld+"_"+e.name),this._state=w.getStorage(n)||{},I.isEmptyObject(this._state)&&(this._state=w.getStorage(i)||{}),I.isEmptyObject(this._state)?w.getStorage(n,!0,(function(e){I.isEmptyObject(e)?w.getStorage(i,!0,(function(e){t._state=I.extend2Layers({},e,t._state)})):t._state=I.extend2Layers({},e,t._state),t._state.distinct_id&&t.identifyForNative(t._state.distinct_id),t._state.account_id&&t.loginForNative(t._state.account_id)})):(this._state.distinct_id&&this.identifyForNative(this._state.distinct_id),this._state.account_id&&this.loginForNative(this._state.account_id))}},{key:"initInstance",value:function(e,t){return this._isNativePlatform()?I.isUndefined(t)?this[e]=new GravityAnalyticsAPI(this.config):this[e]=new GravityAnalyticsAPI(t):this[e]=this.geJs.initInstance(e,t),this[e]}},{key:"lightInstance",value:function(e){return this[e]}},{key:"setupAndStart",value:function(){var e,t;this._isNativePlatform()?(e=window,t=this,e.__autoTrackCallback=function(e){return I.isFunction(t.config.autoTrack.callback)?(e=t.config.autoTrack.callback(e),JSON.stringify(e)):"{}"},this.startGravityAnalyticsForNative()):this.geJs.setupAndStart()}},{key:"track",value:function(e,t,n,i){this._isNativePlatform()?this.trackForNative(e,t,n,this.appId):this.geJs.track(e,t,n,i)}},{key:"initializeWithHistoryUserInfo",value:(t=a(n().mark((function e(){var t,i,r=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:{},i=1<r.length?r[1]:void 0,e.abrupt("return",this.geJs.initializeWithHistoryUserInfo(t,i));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"initialize",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;if(!this._isNativePlatform())return this.geJs.initialize(e,t)}},{key:"queryUserInfo",value:function(){if(!this._isNativePlatform())return this.geJs.queryUserInfo()}},{key:"registerApp",value:function(e){if(!this._isNativePlatform())return this.geJs.registerApp(e)}},{key:"registerEvent",value:function(){if(!this._isNativePlatform())return this.geJs.registerEvent()}},{key:"loginEvent",value:function(){if(!this._isNativePlatform())return this.geJs.loginEvent()}},{key:"logoutEvent",value:function(){if(!this._isNativePlatform())return this.geJs.logoutEvent()}},{key:"payEvent",value:function(e,t,n,i,r){if(!this._isNativePlatform())return this.geJs.payEvent(e,t,n,i,r)}},{key:"bindTAThirdPlatform",value:function(e,t){if(!this._isNativePlatform())return this.geJs.bindTAThirdPlatform(e,t)}},{key:"adShowEvent",value:function(e,t,n){if(!this._isNativePlatform())return this.geJs.adShowEvent(e,t,n)}},{key:"userSet",value:function(e,t,n){this._isNativePlatform()?this.userSetForNative(e,this.appId):this.geJs.userSet(e,t,n)}},{key:"userSetOnce",value:function(e,t,n){this._isNativePlatform()?this.userSetOnceForNative(e,this.appId):this.geJs.userSetOnce(e,t,n)}},{key:"userUnset",value:function(e,t,n){this._isNativePlatform()?this.userUnsetForNative(e,this.appId):this.geJs.userUnset(e,t,n)}},{key:"userDel",value:function(e,t){this._isNativePlatform()?this.userDelForNative(this.appId):this.geJs.userDel(e,t)}},{key:"userAdd",value:function(e,t,n){this._isNativePlatform()?this.userAddForNative(e,this.appId):this.geJs.userAdd(e,t,n)}},{key:"userNumberMax",value:function(e,t,n){this._isNativePlatform()||this.geJs.userNumberMax(e,t,n)}},{key:"userNumberMin",value:function(e,t,n){this._isNativePlatform()||this.geJs.userNumberMin(e,t,n)}},{key:"userAppend",value:function(e,t,n){this._isNativePlatform()?this.userAppendForNative(e,this.appId):this.geJs.userAppend(e,t,n)}},{key:"userUniqAppend",value:function(e,t,n){this._isNativePlatform()?this.userUniqAppendForNative(e,this.appId):this.geJs.userUniqAppend(e,t,n)}},{key:"authorizeOpenID",value:function(e){this.identify(e)}},{key:"identify",value:function(e){this._isNativePlatform()?this.identifyForNative(e,this.appId):this.geJs.identify(e)}},{key:"getDistinctId",value:function(){return this._isNativePlatform()?this.getDistinctIdForNative(this.appId):this.geJs.getDistinctId()}},{key:"login",value:function(e){this._isNativePlatform()?this.loginForNative(e,this.appId):this.geJs.login(e)}},{key:"getAccountId",value:function(){return this._isNativePlatform()?this.getAccountIdForNative(this.appId):this.geJs.getAccountId()}},{key:"logout",value:function(){this._isNativePlatform()?this.logoutForNative(this.appId):this.geJs.logout()}},{key:"setSuperProperties",value:function(e){this._isNativePlatform()?this.setSuperPropertiesForNative(e,this.appId):this.geJs.setSuperProperties(e)}},{key:"clearSuperProperties",value:function(){this._isNativePlatform()?this.clearSuperPropertiesForNative(this.appId):this.geJs.clearSuperProperties()}},{key:"unsetSuperProperty",value:function(e){this._isNativePlatform()?this.unsetSuperPropertyForNative(e,this.appId):this.geJs.unsetSuperProperty(e)}},{key:"getSuperProperties",value:function(){return this._isNativePlatform()?this.getSuperPropertiesForNative(this.appId):this.geJs.getSuperProperties()}},{key:"getPresetProperties",value:function(){var e,t,n,i;return this._isNativePlatform()?(e=this.getPresetPropertiesForNative(this.appId),t={},i=e.$system_language,t.system_language=I.isUndefined(i)?"":i,i=e.$os,t.os=I.isUndefined(i)?"":i,i=e.$screen_width,t.screenWidth=I.isUndefined(i)?0:i,i=e.$screen_height,t.screenHeight=I.isUndefined(i)?0:i,i=e.$network_type,t.networkType=I.isUndefined(i)?"":i,i=e.$device_model,t.deviceModel=I.isUndefined(i)?"":i,i=e.$os_version,t.osVersion=I.isUndefined(i)?"":i,t.deviceId=this.getDeviceId(),n=0-(new Date).getTimezoneOffset()/60,t.zoneOffset=n,i=e.$manufacturer,t.manufacturer=I.isUndefined(i)?"":i,i=e.$manufacturer,t.brand=I.isUndefined(i)?"":i,t.toEventPresetProperties=function(){return{$device_model:t.deviceModel,$device_id:t.deviceId,$screen_width:t.screenWidth,$screen_height:t.screenHeight,$system_language:t.system_language,$os:t.os,$os_version:t.osVersion,$network_type:t.networkType,$zone_offset:n,$manufacturer:t.manufacturer,$brand:t.manufacturer}},t):this.geJs.getPresetProperties()}},{key:"setDynamicSuperProperties",value:function(e){this._isNativePlatform()?"function"==typeof e?(this.dynamicProperties=e,window.__dynamicPropertiesForNative=function(t){return console.log("__dynamicPropertiesForNative: native msg: ",t),t=e(),t=I.encodeDates(t),JSON.stringify(t)},this.setDynamicSuperPropertiesForNative("__dynamicPropertiesForNative")):logger.warn("setDynamicSuperProperties parameter must be a function type"):this.geJs.setDynamicSuperProperties(e)}},{key:"timeEvent",value:function(e,t){return this._isNativePlatform()?this.timeEventForNative(e,this.appId):this.geJs.timeEvent(e,t)}},{key:"getDeviceId",value:function(){return this._isNativePlatform()?this.getDeviceIdForNative(this.appId):this.geJs.getDeviceId()}},{key:"enableTracking",value:function(e){this._isNativePlatform()?this.enableTrackingForNative(e,this.appId):this.geJs.enableTracking(e)}},{key:"optOutTracking",value:function(){this._isNativePlatform()?this.optOutTrackingForNative(this.appId):this.geJs.optOutTracking()}},{key:"optOutTrackingAndDeleteUser",value:function(){this._isNativePlatform()?this.optOutTrackingAndDeleteUserForNative(this.appId):this.geJs.optOutTrackingAndDeleteUser()}},{key:"optInTracking",value:function(){this._isNativePlatform()?this.optInTrackingForNative(this.appId):this.geJs.optInTracking()}},{key:"setTrackStatus",value:function(e){this._isNativePlatform()?this.setTrackStatusForNative(e,this.appId):this.geJs.setTrackStatus(e)}},{key:"trackForNative",value:function(e,t,n,i){n=I.isDate(n)?I.formatDate(n):"",I.isUndefined(t)&&(t={}),t=I.extend(t,this.dynamicProperties?this.dynamicProperties():{}),t=I.encodeDates(t),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","track","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,JSON.stringify(t),n,i):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","track:properties:time:appId:",e,JSON.stringify(t),n,i)}},{key:"timeEventForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","timeEvent","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","timeEvent:appId:",e,t)}},{key:"loginForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","login","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","login:appId:",e,t)}},{key:"logoutForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","logout","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","logout:",e)}},{key:"setSuperPropertiesForNative",value:function(e,t){e=I.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setSuperProperties","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setSuperProperties:appId:",JSON.stringify(e),t)}},{key:"getSuperPropertiesForNative",value:function(e){var t="{}";return this._isAndroid()?t=jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getSuperProperties","(Ljava/lang/String;)V",e):this._isIOS()&&(t=jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getSuperProperties:",e)),JSON.parse(t)}},{key:"unsetSuperPropertyForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","unsetSuperProperty","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","unsetSuperProperty:appId:",e,t)}},{key:"clearSuperPropertiesForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","clearSuperProperties","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","clearSuperProperties:",e)}},{key:"userSetForNative",value:function(e,t){e=I.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userSet","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userSet:appId:",JSON.stringify(e),t)}},{key:"userSetOnceForNative",value:function(e,t){e=I.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userSetOnce","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userSetOnce:appId:",JSON.stringify(e),t)}},{key:"userAppendForNative",value:function(e,t){e=I.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userAppend","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userAppend:appId:",JSON.stringify(e),t)}},{key:"userUniqAppendForNative",value:function(e,t){e=I.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userUniqAppend","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userUniqAppend:appId:",JSON.stringify(e),t)}},{key:"userAddForNative",value:function(e,t){e=I.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userAdd","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userAdd:appId:",JSON.stringify(e),t)}},{key:"userUnsetForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userUnset","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userUnset:appId:",e,t)}},{key:"userDelForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userDel","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userDel:",e)}},{key:"authorizeOpenIDForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","authorizeOpenID","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","authorizeOpenID:appId:",e,t)}},{key:"identifyForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","identify","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","identify:appId:",e,t)}},{key:"initInstanceForNative",value:function(e,t,n){this._isAndroid()?(jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setCustomerLibInfo","(Ljava/lang/String;Ljava/lang/String;)V",h,p),I.isUndefined(t)?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","initInstanceAppId","(Ljava/lang/String;Ljava/lang/String;)V",e,n):jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","initInstanceConfig","(Ljava/lang/String;Ljava/lang/String;)V",e,JSON.stringify(t))):this._isIOS()&&(jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setCustomerLibInfoWithLibName:libVersion:",h,p),I.isUndefined(t)?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","initInstance:appId:",e,n):jsb.reflection.callStaticMethod("CocosCreatorProxyApi","initInstance:config:",e,JSON.stringify(t)))}},{key:"lightInstanceForNative",value:function(e,t){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","lightInstance","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","lightInstance:appId:",e,t):void 0}},{key:"startGravityAnalyticsForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","startGravityAnalytics","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","startGravityAnalytics:",e)}},{key:"setDynamicSuperPropertiesForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setDynamicSuperProperties","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setDynamicSuperProperties:appId:",e,t)}},{key:"getDeviceIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getDeviceId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getDeviceId:",e):void 0}},{key:"getDistinctIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getDistinctId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getDistinctId:",e):void 0}},{key:"getAccountIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getAccountId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getAccountId:",e):void 0}},{key:"getPresetPropertiesForNative",value:function(e){var t="{}";return this._isAndroid()?t=jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getPresetProperties","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()&&(t=jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getPresetProperties:",e)),JSON.parse(t)}},{key:"enableTrackingForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","enableTracking","(Ljava/lang/String;Ljava/lang/String;)V",e.toString(),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","enableTracking:appId:",e.toString(),t)}},{key:"optOutTrackingForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optOutTracking","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optOutTracking:",e)}},{key:"optOutTrackingAndDeleteUserForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optOutTrackingAndDeleteUser","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optOutTrackingAndDeleteUser:",e)}},{key:"optInTrackingForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optInTracking","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optInTracking:",e)}},{key:"setTrackStatusForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setTrackStatus","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setTrackStatus:appId:",e,t)}}]),e}(),window.GravityAnalyticsAPI=A,window.GravityAnalyticsAPIForJS=P,A},"object"==typeof t&&void 0!==i?i.exports=s():"function"==typeof define&&define.amd?define(s):(o=o||self).gravityengine=s(),e("default",i.exports)}),{})}}}));

System.register("chunks:///_virtual/gravityengine.mg.cocoscreator.min.mjs_cjs=&original=.js",["./gravityengine.mg.cocoscreator.min.js","./cjs-loader.mjs"],(function(e,r){var t,n;return{setters:[function(r){t=r.__cjsMetaURL;var n={};n.__cjsMetaURL=r.__cjsMetaURL,n.default=r.default,e(n)},function(e){n=e.default}],execute:function(){t||n.throwInvalidWrapper("./gravityengine.mg.cocoscreator.min.js",r.meta.url),n.require(t)}}}));

System.register("chunks:///_virtual/GridNode.ts",["cc","./FreeList.ts"],(function(t){var i,r;return{setters:[function(t){i=t.cclegacy},function(t){r=t.FreeList}],execute:function(){var e;i._RF.push({},"b5164ZP2GdJzY/DucEKiD40","GridNode",void 0);var n=t("GridNode",function(){function t(t,i,r){this.f=0,this.g=0,this.h=0,this.visited=!1,this.closed=!1,this.parent=null,this.x=0,this.y=0,this.weight=0,this.barrierCnt=void 0,this.x=t||0,this.y=i||0,this.weight=r||0,this.barrierCnt=0}var i=t.prototype;return i.equals=function(t){return!!t&&(this.x===t.x&&this.y===t.y)},i.toString=function(){return"["+this.x+" "+this.y+"]"},i.get_cost=function(t){return t&&t.x!=this.x&&t.y!=this.y?1.41421*this.weight:this.weight},i.addBarrier=function(){this.barrierCnt++},i.delBarrier=function(){this.barrierCnt--},i.is_wall=function(){return this.barrierCnt>0},i.clean=function(){this.f=0,this.g=0,this.h=0,this.visited=!1,this.closed=!1,this.parent=null},i.clear=function(){this.x=0,this.y=0,this.weight=0,this.barrierCnt=0,this.clean()},t.alloc=function(i,r,e){var n=t._pool.alloc();return n.x=i,n.y=r,n.weight=e,n.barrierCnt=0,n},t.free=function(i){i.clear(),t._pool.free(i)},t}());e=n,n._pool=new r("GridNode",1024,(function(){return new e})),i._RF.pop()}}}));

System.register("chunks:///_virtual/GUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,n,o,s,h,a,c,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,n=t.UITransform,o=t.Camera,s=t.view,h=t.math,a=t.screen,c=t.ResolutionPolicy,l=t.Component}],execute:function(){var u;e._RF.push({},"9461cd/dGNEGK5I5J24xY6L","GUI",void 0);var g=r.ccclass;r.menu,t("GUI",g("GUI")(u=function(t){function e(){for(var i,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(i=t.call.apply(t,[this].concat(r))||this).transform=void 0,i.camera=void 0,i.portrait=void 0,i.portraitDrz=null,i.landscapeDrz=null,i}i(e,t);var r=e.prototype;return r.onLoad=function(){this.init()},r.init=function(){this.transform=this.getComponent(n),this.camera=this.getComponentInChildren(o),s.getDesignResolutionSize().width>s.getDesignResolutionSize().height?(this.landscapeDrz=s.getDesignResolutionSize(),this.portraitDrz=new h.Size(this.landscapeDrz.height,this.landscapeDrz.width)):(this.portraitDrz=s.getDesignResolutionSize(),this.landscapeDrz=new h.Size(this.portraitDrz.height,this.portraitDrz.width)),this.resize()},r.resize=function(){var t;t=s.getDesignResolutionSize().width>s.getDesignResolutionSize().height?this.landscapeDrz:this.portraitDrz;var i=a.windowSize,e=i.width,r=i.height,n=e,o=r;e/r>t.width/t.height?(n=(o=t.height)*e/r,this.portrait=!1):(o=(n=t.width)*r/e,this.portrait=!0),s.setDesignResolutionSize(n,o,c.UNKNOWN),this.transform.width=n,this.transform.height=o},e}(l))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/HallConst.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"db8f8XfGAJJxad/xslkJAou","HallConst",void 0);t("HALL_PREFABS",{});c._RF.pop()}}}));

System.register("chunks:///_virtual/HallState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./GameStateBase.ts","./HallView.ts","./MainConst.ts","./RunTimeData.ts","./HeroConfig.ts","./RoleAtkConfig.ts","./GameConst.ts","./RoleCampConfig.ts","./LevelConfig.ts","./RoleLevelConfig.ts","./EquipConfig.ts","./TreeBox.ts"],(function(e){var t,a,n,r,i,o,s,l,d,u,c,p,f,v,h,_,I,m,C,D,g,y;return{setters:[function(e){t=e.inheritsLoose,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e.tween,o=e.Prefab,s=e.Node},function(e){l=e.YT},function(e){d=e.GameStateBase},function(e){u=e.HallView},function(e){c=e.MAIN_PREFABS,p=e.MAIN_BUNDLE,f=e.MAIN_SCENE},function(e){v=e.RunTimeData},function(e){h=e.HeroConfig},function(e){_=e.RoleAtkConfig},function(e){I=e.GameConst},function(e){m=e.RoleCampConfig},function(e){C=e.LevelConfig},function(e){D=e.RoleLevelConfig},function(e){g=e.EquipConfig},function(e){y=e.TreeBox}],execute:function(){r._RF.push({},"a765azSC+ZI9LehA8erOM2D","HallState",void 0);e("HallState",function(e){function r(){var t;return(t=e.call(this)||this)._data=void 0,t._sceneName=f,t._sceneBundle=p,t}t(r,e);var d=r.prototype;return d.onEnterState=function(){var t=a(n().mark((function t(){var a,r,i,o,s,d,c=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(l.gui.showLoading("加载中..."),a=c.length,r=new Array(a),i=0;i<a;i++)r[i]=c[i];if(0!=r.length){t.next=8;break}return this._data=new v,t.next=6,e.prototype.onEnterState.call(this);case 6:t.next=16;break;case 8:return o=r[0],this._data=o.data,s=this._data.data.userData,this._data.levelControl.resetLevel(s.chapterId),t.next=14,this._enterAni(this._data);case 14:o.resultData&&(this.checkRemains(o.resultData.remains),o.resultData.isWin&&(d=o.resultData.levelId+1,l.data.userData.chapterId==o.resultData.levelId&&C.data[d]&&(l.data.userData.chapterId++,l.data.userData.save=!0)),o.resultData.gold&&l.data.addItemByItemId(1,o.resultData.gold)),u.instance.show();case 16:l.gui.hideLoading(),l.audio.play(16);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.checkRemains=function(e){if(e)for(var t=0;t<e.length;t++){var a=e[t];l.data.addItemByItemId(a,1),this._data.levelControl.levelConfig.id<=6&&!l.data.userData.hideCards.includes(a)&&(l.data.userData.hideCards.push(a),l.data.userData.save=!0,l.data.checkSpSkinUnlock())}},d._enterAni=function(e){var t=e.mapCamera;return t.node.setPosition(0,0),i(t).to(.5,{orthoHeight:667}).start(),.5},d._onPreEnter=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d._getPreloads=function(e){for(var t in c)e.add(c[t],p,o)},d._afterSceneLoaded=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.scene.on(s.EventType.NODE_DESTROYED,this._onSceneDestroy,this);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d._onSceneDestroy=function(){console.error("退出主场景"),this._data=null},d._doEnterState=function(){var e=a(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.ins.init();case 2:return e.next=4,this._data.init(this.scene);case 4:return t=this._data.data.userData,e.next=7,this._data.levelControl.init(t.chapterId,t.roleSkinId,t.equips[1].id);case 7:u.instance.show();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d.update=function(e,t){var a;this._data&&(null==(a=this._data)||null==(a=a.levelControl)||null==(a=a.player)||a.update(e))},d.lateUpdate=function(e,t){},d._doDestroy=function(){u.instance.hide()},d.enterBattle=function(){var e=a(n().mark((function e(t){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("进入战斗"+t),a={data:this._data,battleData:this._createBattleData(t)},l.logic.onEnterBattle(a);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),d._createBattleData=function(e){var t,a,n,r,i,o,s,d,u,c,p,f=this._data.data.userData,v={};v.playerId=f.roleSkinId,v.weaponId=f.equips[1].id,v.remoteWeaponId=f.equips[2]&&f.equips[2].lv?f.equips[2].id:void 0,v.petId=f.equips[3]&&f.equips[3].lv?f.equips[3].id:void 0,v.playerWeaponRotaionSpeed=v.weaponId?g.data[v.weaponId].palstance:0,v.campId=null==(t=f.builds[1])?void 0:t.id,v.towerId=null==(a=f.builds[2])?void 0:a.id,v.campFireId=f.builds[3].id,v.roadBlockId=null==(n=f.builds[4])?void 0:n.id;var y=h.data[v.playerId],S=I.data;v.playerAttr={atk:y.atk+((null==(r=_.data[f.roleAtkLevel])?void 0:r.value)||0),hp:S.roleHp+((null==(i=D.data[f.roleLevel])?void 0:i.hp_role)||0),def:S.roleDef},v.playerMoveSpeed=S.roleSpeed,v.playerAtkRate=(null==(o=m.data[f.roleCampLevel])?void 0:o.value)||0,v.soldierIds=[null==(s=f.builds[5])?void 0:s.id,null==(d=f.builds[6])?void 0:d.id,null==(u=f.builds[7])?void 0:u.id,null==(c=f.builds[8])?void 0:c.id],v.levelId=e,v.levelHistory=null==(p=f.chapterRecord[e])?void 0:p.rec;var k=C.data[e],w=[!1,!1];if(k)for(var x=0;x<k.remains.length;x++){var R=k.remains[x];w.push(l.data.userData.hideCards.includes(R))}return v.remainState=w,v.towerState=l.data.batData.towerUnlockIndex,v.goldMineId=C.data[e].mine_id,v.isActiveSinan=f.seekUsed>0,console.error(v),v},d.updatePlayerInfo=function(){var e=a(n().mark((function e(){var t,a,r,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._data.data.userData,r=a.roleSkinId,i=a.equips[1].id,o=a.equips[3]&&a.equips[3].lv?a.equips[3].id:void 0,e.next=6,this._data.levelControl.updatePlayerId(r,i);case 6:this._data.levelControl.updatePlayerWeapon(i),o&&this._data.levelControl.updatePlayerPet(o),this._data.levelControl.updateCamp(null==(t=a.builds[1])?void 0:t.id);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r}(d));r._RF.pop()}}}));

System.register("chunks:///_virtual/HallView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./gEvents.ts","./ViewBase.ts","./UI_Builds.ts","./UI_Card.ts","./UI_Hall.ts","./UI_Main.ts","./UI_Part.ts","./UI_Upgrade2.ts","./GetCoinView.ts","./BuildsPage.ts","./CardPage.ts","./MainPage.ts","./PartPage.ts","./UpgradePage.ts","./fairygui.mjs","./TipsSubGameView.ts","./SubGameConfig.ts"],(function(e){var t,i,n,s,a,r,u,c,o,h,f,l,g,d,p,_,m,P,x,w,I,C,k;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){r=e.YT},function(e){u=e.gEvents},function(e){c=e.ViewBase},function(e){o=e.default},function(e){h=e.default},function(e){f=e.default},function(e){l=e.default},function(e){g=e.default},function(e){d=e.default},function(e){p=e.GetCoinView},function(e){_=e.BuildsPage},function(e){m=e.CardPage},function(e){P=e.MainPage},function(e){x=e.PartPage},function(e){w=e.UpgradePage},function(e){I=e.Event},function(e){C=e.TipsSubGameView},function(e){k=e.SubGameConfig}],execute:function(){a._RF.push({},"219c47baoNOw5sZfjPcDkyL","HallView",void 0);e("HallView",function(e){function a(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).curPage=void 0,t.pages={},t.curIndex=2,t}t(a,e);var c=a.prototype;return c._preShowAnim=function(){this.pages={},console.error("hall show"),this.curIndex=this.ui.m_ctrl_page.selectedIndex=2,window.hall=this,this.ui.m_topPannel.m_res_coin.onClick((function(){r.isGM?r.data.costCoin(-1e11):p.instance.show()}),this),this.ui.m_topPannel.m_res_gem.onClick((function(){r.isGM&&r.data.costGem(-1e7)}),this),r.message.on(u.on_res_changed,this.refreshRes,this),this.ui.m_page.on(I.CLICK_ITEM,this.onClickItem,this)},c.onClickItem=function(e){var t=this;if(0==this.ui.m_page.selectedIndex){var i=k.data[106];if(r.isGM)this.showPartPage();else{if(r.data.userData.chapterId<i.unlockLevel)return r.gui.toast("通关第"+(i.unlockLevel-1)+"章解锁"),void(this.ui.m_page.selectedIndex=this.curIndex);if(!r.data.subData.canEnter(106))return this.ui.m_page.selectedIndex=this.curIndex,void C.instance.show([106,function(e){e&&t.showPartPage()}])}}this.curIndex=this.ui.m_page.selectedIndex,this.refreshPage(this.curIndex)},c.showPartPage=function(){this.ui.m_page.selectedIndex=this.curIndex=0,this.refreshPage(this.curIndex)},c._afterShowAnim=function(){this.refreshPage(this.ui.m_ctrl_page.selectedIndex),this.refreshRes()},c._onClickPage=function(){this.refreshPage(this.ui.m_page.selectedIndex)},c.refreshRes=function(){var e=n(s().mark((function e(t){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return");case 2:if(!t){e.next=11;break}if(1!=t){e.next=8;break}return e.next=6,this.flyCoins();case 6:e.next=11;break;case 8:if(2!=t){e.next=11;break}return e.next=11,this.flyGEM();case 11:if(!this.isClosed){e.next=13;break}return e.abrupt("return");case 13:this.ui.m_topPannel.m_res_coin.text=r.data.userData.coin.toFixedNumberCN(),this.ui.m_topPannel.m_res_gem.text=r.data.userData.gem.toFixedNumberCN(),null==(i=this.curPage)||i.refresh();case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.flyCoins=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.gui.toastCoin(null,this.ui.m_topPannel.m_res_coin.getChild("icon"),this.ui.m_topPannel.m_res_coin.icon);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.flyGEM=function(){var e=n(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.gui.toastCoin(null,this.ui.m_topPannel.m_res_gem.getChild("icon"),this.ui.m_topPannel.m_res_gem.icon);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.changePage=function(e){this.ui.m_ctrl_page.selectedIndex=e,this.refreshPage(e)},c.refreshPage=function(e){if(this.ui.m_page._children[0].m_lock.visible=r.data.userData.chapterId<3&&!r.isGM,this.curPage){if(this.curPage.index==e)return;this.curPage.hide()}switch(e){case 0:this.createPage(e,g,x);break;case 1:this.createPage(e,d,w);break;case 2:this.createPage(e,l,P);break;case 3:this.createPage(e,o,_);break;case 4:this.createPage(e,h,m)}this.curPage=this.pages[e],this.curPage.show()},c.createPage=function(e,t,i,n){if(!this.pages[e]){var s=t.createInstance();this.ui.m_mid.addChildAt(s,0),s.setSize(this.ui.m_mid.width,this.ui.m_mid.height),s.setPosition(0,0),this.pages[e]=new i(s,e)}return this.pages[e]},c._preHideAnim=function(){for(var e in this.pages)this.pages[e]&&this.pages[e].onDestroy();this.curPage=null,this.pages={}},c._afterHideAnim=function(){r.message.off(u.on_res_changed,this.refreshRes,this)},c._onClickStartBtn=function(){},i(a,null,[{key:"instance",get:function(){return this._getInstance(a,f)}}]),a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/HamalMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWTTools.ts","./YT.ts","./RunTimeData4.ts","./ZDConst4.ts","./RoleMonster4.ts"],(function(t){var e,i,o,r,s,l,a,n,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t.Vec3},function(t){r=t.ZWTTools},function(t){s=t.YT},function(t){l=t.RunTimeData4},function(t){a=t.CarryDis},function(t){n=t.TmType,h=t.RoleMonster}],execute:function(){i._RF.push({},"fedeaGqc/tLSoPUAvWL4q3n","HamalMonster",void 0);var u=t("HamalState",{Idle:1,GetBullet:2,CarryBullet:3});t("HamalMonster",function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).hamalState=u.Idle,e.randomMoveTime=0,e.targetBulletNode=null,e.targetShooter=null,e.bulletsNode=null,e}e(i,t);var h=i.prototype;return h.init=function(e){for(var i,o=arguments.length,l=new Array(o>1?o-1:0),a=1;a<o;a++)l[a-1]=arguments[a];(i=t.prototype.init).call.apply(i,[this,e].concat(l)),s.message.on("roleRemove",this.otherRoleRemove,this),this.bulletsNode=r.findChildByName(this._view.node,"bullets")},h.otherRoleRemove=function(t){this.targetShooter===t&&(this.targetShooter=null)},h._updateMove=function(e){switch(t.prototype._updateMove.call(this,e),this.hamalState){case u.Idle:this.inIdleState(e),this.idleTrans();break;case u.GetBullet:this.inGetBulletState(),this.getBulletTrans();break;case u.CarryBullet:this.inCarryBulletState(e),this.carryBulletTrans()}this.judgeMoveRange(),this.judgeCarryBullet(),this.judgeGiveBullet();var i=Math.abs(this.anim.node.scale.x);this.anim.node.setScale(this._moveDir.x<0?i:-i,this.anim.node.scale.y,this.anim.node.scale.z),this.curBulletNum>0?this.bulletsNode.active=!0:this.bulletsNode.active=!1},h.inIdleState=function(t){this.randomMoveTime<=0?(this.randomMoveTime=5*Math.random()+3,this._moveDir.set(2*Math.random()-1,2*Math.random()-1),this._moveDir.normalize()):this.randomMoveTime-=t},h.idleTrans=function(){var t=this,e=Number.MAX_VALUE;this.curCtrl.bulletPoss.forEach((function(i,r){var s=o.distance(i.node.worldPosition,t._position);i.bulletNodes.length>0&&s<e&&(e=s,t.hamalState=u.GetBullet,t.targetBulletNode=i,t.randomMoveTime=0)}))},h.inGetBulletState=function(){this.targetBulletNode&&(o.distance(this.targetBulletNode.node.worldPosition,this._position)<=a?this._moveDir.set(0,0):this._moveDir.set(this.targetBulletNode.node.worldPosition.x-this._position.x,this.targetBulletNode.node.worldPosition.y-this._position.y).normalize())},h.getBulletTrans=function(){if(this.curBulletNum>=this.getCarryNum())return this.hamalState=u.CarryBullet,void(this.targetBulletNode=null);this.targetBulletNode?this.targetBulletNode.bulletNodes.length<=0&&(this.hamalState=u.Idle):this.hamalState=u.Idle},h.inCarryBulletState=function(t){var e=this;if(!this.targetShooter){var i=Number.MAX_VALUE;l.RunTimeIns.monsters.filter((function(t){return t.tmType==n.Shooter})).forEach((function(t){t.curBulletNum<i&&(i=t.curBulletNum,e.targetShooter=t)}))}this.targetShooter?o.distance(this.targetShooter.view.node.worldPosition,this._position)<=a?this._moveDir.set(0,0):this._moveDir.set(this.targetShooter.view.node.worldPosition.x-this._position.x,this.targetShooter.view.node.worldPosition.y-this._position.y).normalize():this.randomMoveTime<=0?(this.randomMoveTime=5*Math.random()+3,this._moveDir.set(2*Math.random()-1,2*Math.random()-1),this._moveDir.normalize()):this.randomMoveTime-=t},h.carryBulletTrans=function(){this.curBulletNum<=0&&(this.hamalState=u.Idle,this.targetShooter=null,this.randomMoveTime=0)},h.judgeMoveRange=function(){this.pos.x>this.curCtrl.moveRangeTm.right&&(this._moveDir.x=-Math.abs(this._moveDir.x)),this.pos.x<this.curCtrl.moveRangeTm.left&&(this._moveDir.x=Math.abs(this._moveDir.x)),this.pos.y>this.curCtrl.moveRangeTm.top&&(this._moveDir.y=-Math.abs(this._moveDir.y)),this.pos.y<this.curCtrl.moveRangeTm.bottom&&(this._moveDir.y=Math.abs(this._moveDir.y))},h.judgeCarryBullet=function(){var t=this;this.curBulletNum>=this.getCarryNum()||this.curCtrl.bulletPoss.forEach((function(e,i){if(!(o.distance(e.node.worldPosition,t._position)>a)){var r=Math.min(t.getCarryNum()-t.curBulletNum,e.bulletNodes.length);t.curBulletNum+=r,t.curCtrl.carryBullet(i,r,t._position)}}))},h.judgeGiveBullet=function(){this.targetShooter&&(o.distance(this.targetShooter.pos,this._position)>a||(this.targetShooter.curBulletNum+=this.curBulletNum,this.curCtrl.giveBullet(this._position,this.targetShooter.pos,this.curBulletNum),this.curBulletNum=0,this._moveDir.multiplyScalar(-1)))},h.getCarryNum=function(){return this._config.carryNum*(1+this.curCtrl.hamalAddCarryPct)},i}(h));i._RF.pop()}}}));

System.register("chunks:///_virtual/HamalMonster5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWTTools.ts","./YT.ts","./RunTimeData5.ts","./ZDConst5.ts","./RoleMonster5.ts"],(function(t){var e,i,o,r,s,l,a,n,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t.Vec3},function(t){r=t.ZWTTools},function(t){s=t.YT},function(t){l=t.RunTimeData4},function(t){a=t.CarryDis},function(t){n=t.TmType,h=t.RoleMonster}],execute:function(){i._RF.push({},"206cbBGqvJBvYcCK7MS+wFF","HamalMonster5",void 0);var u=t("HamalState",{Idle:1,GetBullet:2,CarryBullet:3});t("HamalMonster",function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).hamalState=u.Idle,e.randomMoveTime=0,e.targetBulletNode=null,e.targetShooter=null,e.bulletsNode=null,e}e(i,t);var h=i.prototype;return h.init=function(e){for(var i,o=arguments.length,l=new Array(o>1?o-1:0),a=1;a<o;a++)l[a-1]=arguments[a];(i=t.prototype.init).call.apply(i,[this,e].concat(l)),s.message.on("roleRemove",this.otherRoleRemove,this),this.bulletsNode=r.findChildByName(this._view.node,"bullets")},h.otherRoleRemove=function(t){this.targetShooter===t&&(this.targetShooter=null)},h._updateMove=function(e){switch(t.prototype._updateMove.call(this,e),this.hamalState){case u.Idle:this.inIdleState(e),this.idleTrans();break;case u.GetBullet:this.inGetBulletState(),this.getBulletTrans();break;case u.CarryBullet:this.inCarryBulletState(e),this.carryBulletTrans()}this.judgeMoveRange(),this.judgeCarryBullet(),this.judgeGiveBullet();var i=Math.abs(this.anim.node.scale.x);this.anim.node.setScale(this._moveDir.x<0?i:-i,this.anim.node.scale.y,this.anim.node.scale.z),this.curBulletNum>0?this.bulletsNode.active=!0:this.bulletsNode.active=!1},h.inIdleState=function(t){this.randomMoveTime<=0?(this.randomMoveTime=5*Math.random()+3,this._moveDir.set(2*Math.random()-1,2*Math.random()-1),this._moveDir.normalize()):this.randomMoveTime-=t},h.idleTrans=function(){var t=this,e=Number.MAX_VALUE;this.curCtrl.bulletPoss.forEach((function(i,r){var s=o.distance(i.node.worldPosition,t._position);i.bulletNodes.length>0&&s<e&&(e=s,t.hamalState=u.GetBullet,t.targetBulletNode=i,t.randomMoveTime=0)}))},h.inGetBulletState=function(){this.targetBulletNode&&(o.distance(this.targetBulletNode.node.worldPosition,this._position)<=a?this._moveDir.set(0,0):this._moveDir.set(this.targetBulletNode.node.worldPosition.x-this._position.x,this.targetBulletNode.node.worldPosition.y-this._position.y).normalize())},h.getBulletTrans=function(){if(this.curBulletNum>=this.getCarryNum())return this.hamalState=u.CarryBullet,void(this.targetBulletNode=null);this.targetBulletNode?this.targetBulletNode.bulletNodes.length<=0&&(this.hamalState=u.Idle):this.hamalState=u.Idle},h.inCarryBulletState=function(t){var e=this;if(!this.targetShooter){var i=Number.MAX_VALUE;l.RunTimeIns.monsters.filter((function(t){return t.tmType==n.Shooter})).forEach((function(t){t.curBulletNum<i&&(i=t.curBulletNum,e.targetShooter=t)}))}this.targetShooter?o.distance(this.targetShooter.view.node.worldPosition,this._position)<=a?this._moveDir.set(0,0):this._moveDir.set(this.targetShooter.view.node.worldPosition.x-this._position.x,this.targetShooter.view.node.worldPosition.y-this._position.y).normalize():this.randomMoveTime<=0?(this.randomMoveTime=5*Math.random()+3,this._moveDir.set(2*Math.random()-1,2*Math.random()-1),this._moveDir.normalize()):this.randomMoveTime-=t},h.carryBulletTrans=function(){this.curBulletNum<=0&&(this.hamalState=u.Idle,this.targetShooter=null,this.randomMoveTime=0)},h.judgeMoveRange=function(){this.pos.x>this.curCtrl.moveRangeTm.right&&(this._moveDir.x=-Math.abs(this._moveDir.x)),this.pos.x<this.curCtrl.moveRangeTm.left&&(this._moveDir.x=Math.abs(this._moveDir.x)),this.pos.y>this.curCtrl.moveRangeTm.top&&(this._moveDir.y=-Math.abs(this._moveDir.y)),this.pos.y<this.curCtrl.moveRangeTm.bottom&&(this._moveDir.y=Math.abs(this._moveDir.y))},h.judgeCarryBullet=function(){var t=this;this.curBulletNum>=this.getCarryNum()||this.curCtrl.bulletPoss.forEach((function(e,i){if(!(o.distance(e.node.worldPosition,t._position)>a)){var r=Math.min(t.getCarryNum()-t.curBulletNum,e.bulletNodes.length);t.curBulletNum+=r,t.curCtrl.carryBullet(i,r,t._position)}}))},h.judgeGiveBullet=function(){this.targetShooter&&(o.distance(this.targetShooter.pos,this._position)>a||(this.targetShooter.curBulletNum+=this.curBulletNum,this.curCtrl.giveBullet(this._position,this.targetShooter.pos,this.curBulletNum),this.curBulletNum=0,this._moveDir.multiplyScalar(-1)))},h.getCarryNum=function(){return this._config.carryNum*(1+this.curCtrl.hamalAddCarryPct)},i}(h));i._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig5.ts","./ViewUtil.ts","./ZDResUtils.ts","./ZDConst.ts","./ZDGameState.ts","./PDEffectPool.ts","./HeroModelCmp.ts","./RoleShadowCmp.ts"],(function(e){var t,i,o,n,a,f,s,r,c,l,h,p,_,d,u,m,w,v,y,C,R,b,g,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){f=e.cclegacy,s=e._decorator,r=e.Node,c=e.Label,l=e.ProgressBar,h=e.Sprite,p=e.isValid,_=e.Graphics,d=e.Color},function(e){u=e.ZdHeroConfig},function(e){m=e.ViewUtil},function(e){w=e.ZDResUtils},function(e){v=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE,C=e.EFFECT_CFG},function(e){R=e.ZDGameState},function(e){b=e.PDEffectPool},function(e){g=e.HeroModelCmp},function(e){N=e.RoleShadowCmp}],execute:function(){var E,S,D,P,B,H,L,k,F,V,z,T,Z;f._RF.push({},"d4fc8lQDbRGfbk/n5QrdIhS","HeroCmp",void 0);var U=s.ccclass,G=s.property;e("HeroCmp",(E=U("HeroCmp"),S=G({type:r,displayName:"武器节点",visible:!0}),D=G({type:c,displayName:"名称文本",visible:!0}),P=G({type:l,displayName:"血条",visible:!0}),B=G({type:c,displayName:"武器数量",visible:!0}),H=G({type:r,displayName:"躲藏节点",visible:!0}),E((F=t((k=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),f=0;f<i;f++)a[f]=arguments[f];return t=e.call.apply(e,[this].concat(a))||this,o(t,"_weaponRoot",F,n(t)),o(t,"_nameLab",V,n(t)),o(t,"_hpBar",z,n(t)),o(t,"_weaponCntLab",T,n(t)),o(t,"_hideNode",Z,n(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effect2=void 0,t._effectTime=0,t._isLockEffect=void 0,t}i(t,e),t.Create=function(e){var i=m.createPrefabNode(v.HERO_VIEW,y);i.parent=R.runtime.ui.roleRoot;var o=i.getComponent(t);return o._weaponRoot.parent=R.runtime.ui.weaponRoot,o._init(e),o};var f=t.prototype;return f._init=function(e){var t=u.data[e],i=w.fullHeroModelRes(t.res);this._modelNode=m.createPrefabNode(i,y),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(h),this._hpBar.progress=1,this._hpBar.node.active=!1;var o=this._modelNode.getChildByName("YY");this._setShadowNode(o)},f.setWeaponRotation=function(e){this._weaponRoot.angle=e},f.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},f.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},f.setNameStr=function(e){this._nameLab.string=e},f.setWeaponCntView=function(e){this._weaponCntLab.string=e<=0?"":String(e)},f.setPos=function(t){e.prototype.setPos.call(this,t),this._weaponRoot.setWorldPosition(t)},f.remove=function(){this._weaponRoot.parent=this.node,this._effect2&&(this._effect2.stop(),b.Collect(this._effect2),this._effect2=null),e.prototype.remove.call(this)},f.showView=function(){e.prototype.showView.call(this),this.node.parent=R.runtime.ui.roleRoot,this._weaponRoot.parent=R.runtime.ui.weaponRoot,this._effect2&&(this._effect2.node.parent=R.runtime.ui.effectRoot)},f.hideView=function(){e.prototype.hideView.call(this),this.node.removeFromParent(),this._weaponRoot.removeFromParent(),this._effect2&&(this._effect2.stop(),this._effect2.node.removeFromParent())},f.playMove=function(){if(this._modelNode){var e=this._modelNode.getComponent(g);e&&e.playMove()}},f.playSleep=function(){if(this._modelNode){var e=this._modelNode.getComponent(g);e&&e.playSleep()}},f.setWeaponVisible=function(e){this._weaponRoot&&(this._weaponRoot.active=e),this._effect2&&(this._effect2.node.active=e)},f.showHitEffect=function(){},f.hideHitEffect=function(){},f.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},f.onTransferBegin=function(){this._weaponRoot.active=!1,this._effect2&&p(this._effect2)&&(this._effect2.node.active=!1)},f.onTransferEnd=function(){this._weaponRoot.active=!0,this._effect2&&p(this._effect2)&&(this._effect2.node.active=!0,this._effect2.play())},f.showCircleEffect=function(e){this._effect2||(this._effect2=b.ShowEffect2(this.node),this.updateCircleEffectRadius(e),this._weaponRoot.active||(this._effect2.node.active=!1))},f.hideCircleEffect=function(){var e=this;this._effect2&&(this._isLockEffect||(this._isLockEffect=!0,this._effect2.playOnceCallback("eff_2_2",(function(){e._effect2&&p(e._effect2)&&(b.Collect(e._effect2),e._effect2=null,e._isLockEffect=!1)}))))},f.updateCircleEffectRadius=function(e){if(this._effect2&&!this._isLockEffect){var t=2*(e+C.EFF2.RADIUS_ADD)/337;this._effect2.node.setScale(t,t)}},f.drawDebug=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(_);t.clear(),t.fillColor=new d(255,255,255,100),t.circle(0,0,e),t.fill(),t.stroke()},f.drawRed=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(_);t.clear(),t.fillColor=new d(255,0,0,100),t.circle(0,0,e),t.fill(),t.stroke()},f.setIntoHideView=function(e){this._hideNode.active=e,this._viewRoot.uiOpacity.opacity=e?170:255},a(t,[{key:"weaponRoot",get:function(){return this._weaponRoot}}]),t}(N)).prototype,"_weaponRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(k.prototype,"_nameLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(k.prototype,"_hpBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(k.prototype,"_weaponCntLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(k.prototype,"_hideNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=k))||L));f._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig3.ts","./ViewUtil.ts","./ZDResUtils3.ts","./ZDConst3.ts","./ZDGameState3.ts","./PDEffectPool3.ts","./HeroModelCmp3.ts","./RoleShadowCmp3.ts"],(function(e){var t,i,o,n,f,s,c,a,r,l,h,_,d,p,u,m,v,w,E,y,C,R,b,g,N,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,f=e.createClass},function(e){s=e.cclegacy,c=e._decorator,a=e.Node,r=e.Label,l=e.ProgressBar,h=e.Sprite,_=e.isValid,d=e.Graphics,p=e.Color,u=e.Tween,m=e.tween},function(e){v=e.ZdHeroConfig},function(e){w=e.ViewUtil},function(e){E=e.ZDResUtils3},function(e){y=e.ZD_RES_PREFABS,C=e.ZD_BUNDLE,R=e.EFFECT_CFG},function(e){b=e.ZDGameState3},function(e){g=e.PDEffectPool3},function(e){N=e.HeroModelCmp3},function(e){D=e.RoleShadowCmp3}],execute:function(){var S,P,B,L,H,F,V,k,T,z,Z,U,A;s._RF.push({},"51ed7VIEKRAzaD1ilbfbYw2","HeroCmp3",void 0);var G=c.ccclass,I=c.property;e("HeroCmp3",(S=G("HeroCmp3"),P=I({type:a,displayName:"武器节点",visible:!0}),B=I({type:r,displayName:"名称文本",visible:!0}),L=I({type:l,displayName:"血条",visible:!0}),H=I({type:r,displayName:"武器数量",visible:!0}),F=I({type:a,displayName:"躲藏节点",visible:!0}),S((T=t((k=function(e){function t(){for(var t,i=arguments.length,f=new Array(i),s=0;s<i;s++)f[s]=arguments[s];return t=e.call.apply(e,[this].concat(f))||this,o(t,"_weaponRoot",T,n(t)),o(t,"_nameLab",z,n(t)),o(t,"_hpBar",Z,n(t)),o(t,"_weaponCntLab",U,n(t)),o(t,"_hideNode",A,n(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effect2=void 0,t._effectTime=0,t._isLockEffect=void 0,t._scale=1,t._defenceEff=null,t}i(t,e),t.Create=function(e){var i=w.createPrefabNode(y.HERO_VIEW,C);i.parent=b.runtime.ui.roleRoot;var o=i.getComponent(t);return o._weaponRoot.parent=b.runtime.ui.weaponRoot,o._init(e),o};var s=t.prototype;return s._init=function(e){var t=v.data[e],i=E.fullHeroModelRes(t.res);this._modelNode=w.createPrefabNode(i,C),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(h),this._hpBar.progress=1,this._hpBar.node.active=!1;var o=this._modelNode.getChildByName("YY");this._setShadowNode(o),this._setHPNode(this._hpBar.node),this._setNameNode(this._nameLab.node),this._setCountNode(this._weaponCntLab.node)},s.setWeaponRotation=function(e){this._weaponRoot.angle=e},s.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},s.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},s.setNameStr=function(e,t){this._nameLab.string=e,this._nameLab.node.active=!t},s.setWeaponCntView=function(e){this._weaponCntLab.string=e<=0?"":String(e)},s.setPos=function(t){e.prototype.setPos.call(this,t),this._weaponRoot.setWorldPosition(t)},s.remove=function(){this._weaponRoot.parent=this.node,this._effect2&&(this._effect2.stop(),g.Collect(this._effect2),this._effect2=null),this._removeDefence(),e.prototype.remove.call(this)},s.showView=function(){e.prototype.showView.call(this),this.node.parent=b.runtime.ui.roleRoot,this._weaponRoot.parent=b.runtime.ui.weaponRoot,this._effect2&&(this._effect2.node.parent=b.runtime.ui.effectRoot),this._defenceEff&&(this._defenceEff.node.parent=b.runtime.ui.effectRoot)},s.hideView=function(){e.prototype.hideView.call(this),this.node.removeFromParent(),this._weaponRoot.removeFromParent(),this._effect2&&(this._effect2.stop(),this._effect2.node.removeFromParent()),this._defenceEff&&(this._defenceEff.stop(),this._defenceEff.node.removeFromParent())},s.playMove=function(){if(this._modelNode){var e=this._modelNode.getComponent(N);e&&e.playMove()}},s.playSleep=function(){if(this._modelNode){var e=this._modelNode.getComponent(N);e&&e.playSleep()}},s.setWeaponVisible=function(e){this._weaponRoot&&(this._weaponRoot.active=e),this._effect2&&(this._effect2.node.active=e),this._defenceEff&&(this._defenceEff.node.active=e)},s.showHitEffect=function(){},s.hideHitEffect=function(){},s.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},s.onTransferBegin=function(){this._weaponRoot.active=!1,this._effect2&&_(this._effect2)&&(this._effect2.node.active=!1),this._defenceEff&&_(this._defenceEff)&&(this._defenceEff.node.active=!1)},s.onTransferEnd=function(){this._weaponRoot.active=!0,this._effect2&&_(this._effect2)&&(this._effect2.node.active=!0,this._effect2.play()),this._defenceEff&&_(this._defenceEff)&&(this._defenceEff.node.active=!0,this._defenceEff.play())},s.showCircleEffect=function(e){},s.hideCircleEffect=function(){var e=this;this._effect2&&(this._isLockEffect||(this._isLockEffect=!0,this._effect2.playOnceCallback("eff_2_2",(function(){e._effect2&&_(e._effect2)&&(g.Collect(e._effect2),e._effect2=null,e._isLockEffect=!1)}))))},s.updateCircleEffectRadius=function(e){if(this._effect2&&!this._isLockEffect){var t=2*(e+R.EFF2.RADIUS_ADD)/337;this._effect2.node.setScale(t,t)}},s.drawDebug=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(d);t.clear(),t.fillColor=new p(255,255,255,100),t.circle(0,0,e),t.fill(),t.stroke()},s.drawRed=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(d);t.clear(),t.fillColor=new p(255,0,0,100),t.circle(0,0,e),t.fill(),t.stroke()},s.setIntoHideView=function(e){this._hideNode.active=e,this._viewRoot.uiOpacity.opacity=e?170:255},s.setScale=function(e){u.stopAllByTarget(this),m(this).to(.2,{scale:e}).start()},s.setDefenceEffect=function(e){if(e){if(this._defenceEff)return;this._defenceEff=g.ShowDefenceEffect(this.node),this._weaponRoot.active||(this._defenceEff.node.active=!1),this._setDefenceScale()}else this._removeDefence()},s._removeDefence=function(){this._defenceEff&&(this._defenceEff.stop(),g.Collect(this._defenceEff),this._defenceEff=null)},s._setDefenceScale=function(){this._defenceEff&&this._defenceEff.node.setScale(this._scale,this._scale,this._scale)},f(t,[{key:"weaponRoot",get:function(){return this._weaponRoot}},{key:"scale",get:function(){return this._scale},set:function(e){this._scale=e,this._viewRoot.setScale(e,e,e),this._setShadowScale(e),this._setDefenceScale()}}]),t}(D)).prototype,"_weaponRoot",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(k.prototype,"_nameLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(k.prototype,"_hpBar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"_weaponCntLab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(k.prototype,"_hideNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=k))||V));s._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig.ts","./ViewUtil.ts","./ZDResUtils4.ts","./ZDConst4.ts","./ZDGameState4.ts","./PDEffectPool4.ts","./HeroModelCmp4.ts","./RoleShadowCmp4.ts"],(function(e){var t,i,o,n,a,s,f,r,c,l,p,h,_,d,u,m,w,v,y,C,R,b,g,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,f=e._decorator,r=e.Node,c=e.Label,l=e.ProgressBar,p=e.Sprite,h=e.isValid,_=e.Graphics,d=e.Color},function(e){u=e.ZdHeroConfig},function(e){m=e.ViewUtil},function(e){w=e.ZDResUtils},function(e){v=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE,C=e.EFFECT_CFG},function(e){R=e.ZDGameState4},function(e){b=e.PDEffectPool},function(e){g=e.HeroModelCmp4},function(e){N=e.RoleShadowCmp4}],execute:function(){var E,S,D,P,B,H,L,F,k,V,z,T,Z;s._RF.push({},"ec7007kX11F04208Y1imnc4","HeroCmp4",void 0);var U=f.ccclass,G=f.property;e("HeroCmp4",(E=U("HeroCmp4"),S=G({type:r,displayName:"武器节点",visible:!0}),D=G({type:c,displayName:"名称文本",visible:!0}),P=G({type:l,displayName:"血条",visible:!0}),B=G({type:c,displayName:"武器数量",visible:!0}),H=G({type:r,displayName:"躲藏节点",visible:!0}),E((k=t((F=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,o(t,"_weaponRoot",k,n(t)),o(t,"_nameLab",V,n(t)),o(t,"_hpBar",z,n(t)),o(t,"_weaponCntLab",T,n(t)),o(t,"_hideNode",Z,n(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effect2=void 0,t._effectTime=0,t._isLockEffect=void 0,t}i(t,e),t.Create=function(e){var i=m.createPrefabNode(v.HERO_VIEW,y);i.parent=R.runtime.ui.roleRoot;var o=i.getComponent(t);return o._weaponRoot.parent=R.runtime.ui.weaponRoot,o._init(e),o};var s=t.prototype;return s._init=function(e){var t=u.data[e],i=w.fullHeroModelRes(t.res);this._modelNode=m.createPrefabNode(i,y),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(p),this._hpBar.progress=1,this._hpBar.node.active=!1;var o=this._modelNode.getChildByName("YY");this._setShadowNode(o)},s.setWeaponRotation=function(e){this._weaponRoot.angle=e},s.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},s.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},s.setNameStr=function(e){this._nameLab.string=e},s.setWeaponCntView=function(e){this._weaponCntLab.string=e<=0?"":String(e)},s.setPos=function(t){e.prototype.setPos.call(this,t),this._weaponRoot.setWorldPosition(t)},s.remove=function(){this._weaponRoot.parent=this.node,this._effect2&&(this._effect2.stop(),b.Collect(this._effect2),this._effect2=null),e.prototype.remove.call(this)},s.showView=function(){e.prototype.showView.call(this),this.node.parent=R.runtime.ui.roleRoot,this._weaponRoot.parent=R.runtime.ui.weaponRoot,this._effect2&&(this._effect2.node.parent=R.runtime.ui.effectRoot)},s.hideView=function(){e.prototype.hideView.call(this),this.node.removeFromParent(),this._weaponRoot.removeFromParent(),this._effect2&&(this._effect2.stop(),this._effect2.node.removeFromParent())},s.playMove=function(){if(this._modelNode){var e=this._modelNode.getComponent(g);e&&e.playMove()}},s.playSleep=function(){if(this._modelNode){var e=this._modelNode.getComponent(g);e&&e.playSleep()}},s.setWeaponVisible=function(e){this._weaponRoot&&(this._weaponRoot.active=e),this._effect2&&(this._effect2.node.active=e)},s.showHitEffect=function(){},s.hideHitEffect=function(){},s.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},s.onTransferBegin=function(){this._weaponRoot.active=!1,this._effect2&&h(this._effect2)&&(this._effect2.node.active=!1)},s.onTransferEnd=function(){this._weaponRoot.active=!0,this._effect2&&h(this._effect2)&&(this._effect2.node.active=!0,this._effect2.play())},s.showCircleEffect=function(e){this._effect2||(this._effect2=b.ShowEffect2(this.node),this.updateCircleEffectRadius(e),this._weaponRoot.active||(this._effect2.node.active=!1))},s.hideCircleEffect=function(){var e=this;this._effect2&&(this._isLockEffect||(this._isLockEffect=!0,this._effect2.playOnceCallback("eff_2_2",(function(){e._effect2&&h(e._effect2)&&(b.Collect(e._effect2),e._effect2=null,e._isLockEffect=!1)}))))},s.updateCircleEffectRadius=function(e){if(this._effect2&&!this._isLockEffect){var t=2*(e+C.EFF2.RADIUS_ADD)/337;this._effect2.node.setScale(t,t)}},s.drawDebug=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(_);t.clear(),t.fillColor=new d(255,255,255,100),t.circle(0,0,e),t.fill(),t.stroke()},s.drawRed=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(_);t.clear(),t.fillColor=new d(255,0,0,100),t.circle(0,0,e),t.fill(),t.stroke()},s.setIntoHideView=function(e){this._hideNode.active=e,this._viewRoot.uiOpacity.opacity=e?170:255},a(t,[{key:"weaponRoot",get:function(){return this._weaponRoot}}]),t}(N)).prototype,"_weaponRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(F.prototype,"_nameLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(F.prototype,"_hpBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(F.prototype,"_weaponCntLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(F.prototype,"_hideNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=F))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig2.ts","./ViewUtil.ts","./ZDResUtils5.ts","./ZDConst5.ts","./ZDGameState5.ts","./PDEffectPool5.ts","./HeroModelCmp5.ts","./RoleShadowCmp5.ts"],(function(e){var t,i,o,n,a,s,f,r,c,l,p,h,_,d,u,m,w,v,y,C,R,b,g,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,f=e._decorator,r=e.Node,c=e.Label,l=e.ProgressBar,p=e.Sprite,h=e.isValid,_=e.Graphics,d=e.Color},function(e){u=e.ZdHeroConfig},function(e){m=e.ViewUtil},function(e){w=e.ZDResUtils},function(e){v=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE,C=e.EFFECT_CFG},function(e){R=e.ZDGameState5},function(e){b=e.PDEffectPool},function(e){g=e.HeroModelCmp5},function(e){N=e.RoleShadowCmp5}],execute:function(){var E,S,D,B,P,H,L,F,V,k,z,T,Z;s._RF.push({},"87a95phvbpBppwAu7IQOvWF","HeroCmp5",void 0);var U=f.ccclass,G=f.property;e("HeroCmp5",(E=U("HeroCmp5"),S=G({type:r,displayName:"武器节点",visible:!0}),D=G({type:c,displayName:"名称文本",visible:!0}),B=G({type:l,displayName:"血条",visible:!0}),P=G({type:c,displayName:"武器数量",visible:!0}),H=G({type:r,displayName:"躲藏节点",visible:!0}),E((V=t((F=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,o(t,"_weaponRoot",V,n(t)),o(t,"_nameLab",k,n(t)),o(t,"_hpBar",z,n(t)),o(t,"_weaponCntLab",T,n(t)),o(t,"_hideNode",Z,n(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effect2=void 0,t._effectTime=0,t._isLockEffect=void 0,t}i(t,e),t.Create=function(e){var i=m.createPrefabNode(v.HERO_VIEW,y);i.parent=R.runtime.ui.roleRoot;var o=i.getComponent(t);return o._weaponRoot.parent=R.runtime.ui.weaponRoot,o._init(e),o};var s=t.prototype;return s._init=function(e){var t=u.data[e],i=w.fullHeroModelRes(t.res);this._modelNode=m.createPrefabNode(i,y),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(p),this._hpBar.progress=1,this._hpBar.node.active=!1;var o=this._modelNode.getChildByName("YY");this._setShadowNode(o)},s.setWeaponRotation=function(e){this._weaponRoot.angle=e},s.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},s.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},s.setNameStr=function(e){this._nameLab.string=e},s.setWeaponCntView=function(e){this._weaponCntLab.string=e<=0?"":String(e)},s.setPos=function(t){e.prototype.setPos.call(this,t),this._weaponRoot.setWorldPosition(t)},s.remove=function(){this._weaponRoot.parent=this.node,this._effect2&&(this._effect2.stop(),b.Collect(this._effect2),this._effect2=null),e.prototype.remove.call(this)},s.showView=function(){e.prototype.showView.call(this),this.node.parent=R.runtime.ui.roleRoot,this._weaponRoot.parent=R.runtime.ui.weaponRoot,this._effect2&&(this._effect2.node.parent=R.runtime.ui.effectRoot)},s.hideView=function(){e.prototype.hideView.call(this),this.node.removeFromParent(),this._weaponRoot.removeFromParent(),this._effect2&&(this._effect2.stop(),this._effect2.node.removeFromParent())},s.playMove=function(){if(this._modelNode){var e=this._modelNode.getComponent(g);e&&e.playMove()}},s.playSleep=function(){if(this._modelNode){var e=this._modelNode.getComponent(g);e&&e.playSleep()}},s.setWeaponVisible=function(e){this._weaponRoot&&(this._weaponRoot.active=e),this._effect2&&(this._effect2.node.active=e)},s.showHitEffect=function(){},s.hideHitEffect=function(){},s.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},s.onTransferBegin=function(){this._weaponRoot.active=!1,this._effect2&&h(this._effect2)&&(this._effect2.node.active=!1)},s.onTransferEnd=function(){this._weaponRoot.active=!0,this._effect2&&h(this._effect2)&&(this._effect2.node.active=!0,this._effect2.play())},s.showCircleEffect=function(e){this._effect2||(this._effect2=b.ShowEffect2(this.node),this.updateCircleEffectRadius(e),this._weaponRoot.active||(this._effect2.node.active=!1))},s.hideCircleEffect=function(){var e=this;this._effect2&&(this._isLockEffect||(this._isLockEffect=!0,this._effect2.playOnceCallback("eff_2_2",(function(){e._effect2&&h(e._effect2)&&(b.Collect(e._effect2),e._effect2=null,e._isLockEffect=!1)}))))},s.updateCircleEffectRadius=function(e){if(this._effect2&&!this._isLockEffect){var t=2*(e+C.EFF2.RADIUS_ADD)/337;this._effect2.node.setScale(t,t)}},s.drawDebug=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(_);t.clear(),t.fillColor=new d(255,255,255,100),t.circle(0,0,e),t.fill(),t.stroke()},s.drawRed=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(_);t.clear(),t.fillColor=new d(255,0,0,100),t.circle(0,0,e),t.fill(),t.stroke()},s.setIntoHideView=function(e){this._hideNode.active=e,this._viewRoot.uiOpacity.opacity=e?170:255},a(t,[{key:"weaponRoot",get:function(){return this._weaponRoot}}]),t}(N)).prototype,"_weaponRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(F.prototype,"_nameLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(F.prototype,"_hpBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(F.prototype,"_weaponCntLab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(F.prototype,"_hideNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=F))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig4.ts","./ViewUtil.ts","./ZDResUtils6.ts","./ZDConst6.ts","./ZDGameState6.ts","./PDEffectPool6.ts","./HeroModelCmp6.ts","./RoleShadowCmp6.ts"],(function(e){var t,o,i,n,a,s,r,f,c,l,h,p,d,_,u,m,w,v,C,y,R,N,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,f=e.Node,c=e.Label,l=e.ProgressBar,h=e.Sprite,p=e.isValid,d=e.Graphics,_=e.Color},function(e){u=e.ZdHeroConfig},function(e){m=e.ViewUtil},function(e){w=e.ZDResUtils},function(e){v=e.ZD_RES_PREFABS,C=e.ZD_BUNDLE,y=e.EFFECT_CFG},function(e){R=e.ZDGameState6},function(e){N=e.PDEffectPool},function(e){g=e.HeroModelCmp6},function(e){b=e.RoleShadowCmp6}],execute:function(){var E,S,D,P,B,H,L,k,F,V,z,T,U;s._RF.push({},"e113e39pDNGKYOUm4sN3kqP","HeroCmp6",void 0);var Z=r.ccclass,M=r.property;e("HeroCmp6",(E=Z("HeroCmp6"),S=M({type:f,displayName:"武器节点",visible:!0}),D=M({type:c,displayName:"名称文本",visible:!0}),P=M({type:l,displayName:"血条",visible:!0}),B=M({type:c,displayName:"武器数量",visible:!0}),H=M({type:f,displayName:"躲藏节点",visible:!0}),E((F=t((k=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_weaponRoot",F,n(t)),i(t,"_nameLab",V,n(t)),i(t,"_hpBar",z,n(t)),i(t,"_weaponCntLab",T,n(t)),i(t,"_hideNode",U,n(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effect2=void 0,t._effectTime=0,t._isLockEffect=void 0,t}o(t,e),t.Create=function(e){var o=m.createPrefabNode(v.HERO_VIEW,C);o.parent=R.runtime.ui.roleRoot;var i=o.getComponent(t);return i._weaponRoot.parent=R.runtime.ui.weaponRoot,i._init(e),i};var s=t.prototype;return s._init=function(e){var t=u.data[e],o=w.fullHeroModelRes(t.res);this._modelNode=m.createPrefabNode(o,C),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(h),this._hpBar.progress=1,this._hpBar.node.active=!1;var i=this._modelNode.getChildByName("YY");this._setShadowNode(i)},s.changeModel=function(e){var t=u.data[e],o=w.fullHeroModelRes(t.res),i=m.createPrefabNode(o,C);this._modelNode&&this._modelNode.destroy(),this._modelNode=i,this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(h);var n=this._modelNode.getChildByName("YY");this._setShadowNode(n)},s.setWeaponRotation=function(e){this._weaponRoot.angle=e},s.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},s.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},s.setNameStr=function(e){this._nameLab.string=e},s.setWeaponCntView=function(e){this._weaponCntLab.string=e<=0?"":String(e)},s.setPos=function(t){e.prototype.setPos.call(this,t),this._weaponRoot.setWorldPosition(t)},s.remove=function(){this._weaponRoot.parent=this.node,this._effect2&&(this._effect2.stop(),N.Collect(this._effect2),this._effect2=null),e.prototype.remove.call(this)},s.showView=function(){e.prototype.showView.call(this),this.node.parent=R.runtime.ui.roleRoot,this._weaponRoot.parent=R.runtime.ui.weaponRoot,this._effect2&&(this._effect2.node.parent=R.runtime.ui.effectRoot)},s.hideView=function(){e.prototype.hideView.call(this),this.node.removeFromParent(),this._weaponRoot.removeFromParent(),this._effect2&&(this._effect2.stop(),this._effect2.node.removeFromParent())},s.playMove=function(){if(this._modelNode){var e=this._modelNode.getComponent(g);e&&e.playMove()}},s.playSleep=function(){if(this._modelNode){var e=this._modelNode.getComponent(g);e&&e.playSleep()}},s.setWeaponVisible=function(e){this._weaponRoot&&(this._weaponRoot.active=e),this._effect2&&(this._effect2.node.active=e)},s.showHitEffect=function(){},s.hideHitEffect=function(){},s.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},s.onTransferBegin=function(){this._weaponRoot.active=!1,this._effect2&&p(this._effect2)&&(this._effect2.node.active=!1)},s.onTransferEnd=function(){this._weaponRoot.active=!0,this._effect2&&p(this._effect2)&&(this._effect2.node.active=!0,this._effect2.play())},s.showCircleEffect=function(e){this._effect2||(this._effect2=N.ShowEffect2(this.node),this.updateCircleEffectRadius(e),this._weaponRoot.active||(this._effect2.node.active=!1))},s.hideCircleEffect=function(){var e=this;this._effect2&&(this._isLockEffect||(this._isLockEffect=!0,this._effect2.playOnceCallback("eff_2_2",(function(){e._effect2&&p(e._effect2)&&(N.Collect(e._effect2),e._effect2=null,e._isLockEffect=!1)}))))},s.updateCircleEffectRadius=function(e){if(this._effect2&&!this._isLockEffect){var t=2*(e+y.EFF2.RADIUS_ADD)/337;this._effect2.node.setScale(t,t)}},s.drawDebug=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(d);t.clear(),t.fillColor=new _(255,255,255,100),t.circle(0,0,e),t.fill(),t.stroke()},s.drawRed=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(d);t.clear(),t.fillColor=new _(255,0,0,100),t.circle(0,0,e),t.fill(),t.stroke()},s.setIntoHideView=function(e){this._hideNode.active=e,this._viewRoot.uiOpacity.opacity=e?170:255},a(t,[{key:"weaponRoot",get:function(){return this._weaponRoot}}]),t}(b)).prototype,"_weaponRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(k.prototype,"_nameLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(k.prototype,"_hpBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(k.prototype,"_weaponCntLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"_hideNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=k))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/HeroConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("HeroConfig",void 0),o._RF.push({},"cc44dZHh3dIU4HS6yDjd12v","HeroConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.show=void 0,this.undefined=void 0,this.icon=void 0,this.res=void 0,this.radius=void 0,this.weapon_radius=void 0,this.atk=void 0,this.weapon_1=void 0,this.weapon_2=void 0,this.type1=void 0,this.base1=void 0,this.type2=void 0,this.base2=void 0,this.ADNum=void 0,this.bossNum=void 0,this.monsterNum=void 0,this.bossDrop=void 0,this.sign=void 0,this.artifact=void 0,this.timeId=void 0,this.condition=void 0,this.qulity=void 0,this.skinDes=void 0,this.des=void 0,this.skillType=void 0,this.probability=void 0,this.damage=void 0,this.parm=void 0,this.time1=void 0,this.skillNum=void 0,this.num=void 0,this.time2=void 0};i.isConst=!1,i.path="config/HeroConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("HeroConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/HeroModelCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationControlCmp.ts"],(function(e){var i,t,n,l,o,r,p,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,p=e.AnimationClip},function(e){a=e.AnimationControlCmp}],execute:function(){var s,c,u,m,y,C,h;o._RF.push({},"9c0c8ahxXZFaZ005gct24JX","HeroModelCmp",void 0);var v=r.ccclass,f=r.property;e("HeroModelCmp",(s=v("HeroModelCmp"),c=f({type:p,displayName:"移动动画",visible:!0}),u=f({type:p,displayName:"睡眠动画",visible:!0}),s((C=i((y=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,n(i,"_moveAniClip",C,l(i)),n(i,"_sleepAniClip",h,l(i)),i}t(i,e);var o=i.prototype;return o.playMove=function(){this._moveAniClip&&this.play(this._moveAniClip.name)},o.playSleep=function(){this._sleepAniClip&&this.play(this._sleepAniClip.name)},i}(a)).prototype,"_moveAniClip",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=i(y.prototype,"_sleepAniClip",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/HeroModelCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationControlCmp3.ts"],(function(e){var i,t,n,l,o,r,p,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,p=e.AnimationClip},function(e){a=e.AnimationControlCmp3}],execute:function(){var s,c,u,m,y,C,f;o._RF.push({},"127f0VBOX1J759k6tAsscfb","HeroModelCmp3",void 0);var v=r.ccclass,h=r.property;e("HeroModelCmp3",(s=v("HeroModelCmp3"),c=h({type:p,displayName:"移动动画",visible:!0}),u=h({type:p,displayName:"睡眠动画",visible:!0}),s((C=i((y=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,n(i,"_moveAniClip",C,l(i)),n(i,"_sleepAniClip",f,l(i)),i}t(i,e);var o=i.prototype;return o.playMove=function(){this._moveAniClip&&this.play(this._moveAniClip.name)},o.playSleep=function(){this._sleepAniClip&&this.play(this._sleepAniClip.name)},i}(a)).prototype,"_moveAniClip",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=i(y.prototype,"_sleepAniClip",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/HeroModelCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationControlCmp4.ts"],(function(e){var i,t,l,n,o,r,p,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,p=e.AnimationClip},function(e){a=e.AnimationControlCmp4}],execute:function(){var s,c,u,m,y,C,f;o._RF.push({},"ac61aRHS7lNcatXts+I/ofw","HeroModelCmp4",void 0);var v=r.ccclass,h=r.property;e("HeroModelCmp4",(s=v("HeroModelCmp4"),c=h({type:p,displayName:"移动动画",visible:!0}),u=h({type:p,displayName:"睡眠动画",visible:!0}),s((C=i((y=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,l(i,"_moveAniClip",C,n(i)),l(i,"_sleepAniClip",f,n(i)),i}t(i,e);var o=i.prototype;return o.playMove=function(){this._moveAniClip&&this.play(this._moveAniClip.name)},o.playSleep=function(){this._sleepAniClip&&this.play(this._sleepAniClip.name)},i}(a)).prototype,"_moveAniClip",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=i(y.prototype,"_sleepAniClip",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/HeroModelCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationControlCmp5.ts"],(function(e){var i,l,n,t,o,r,p,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,l=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,p=e.AnimationClip},function(e){a=e.AnimationControlCmp5}],execute:function(){var s,c,u,m,y,C,h;o._RF.push({},"51571hvbwhLpJRlau1PqzIA","HeroModelCmp5",void 0);var v=r.ccclass,f=r.property;e("HeroModelCmp5",(s=v("HeroModelCmp5"),c=f({type:p,displayName:"移动动画",visible:!0}),u=f({type:p,displayName:"睡眠动画",visible:!0}),s((C=i((y=function(e){function i(){for(var i,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,n(i,"_moveAniClip",C,t(i)),n(i,"_sleepAniClip",h,t(i)),i}l(i,e);var o=i.prototype;return o.playMove=function(){this._moveAniClip&&this.play(this._moveAniClip.name)},o.playSleep=function(){this._sleepAniClip&&this.play(this._sleepAniClip.name)},i}(a)).prototype,"_moveAniClip",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=i(y.prototype,"_sleepAniClip",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/HeroModelCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationControlCmp6.ts"],(function(e){var i,n,t,l,o,r,p,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,p=e.AnimationClip},function(e){a=e.AnimationControlCmp6}],execute:function(){var s,c,u,m,y,C,v;o._RF.push({},"f899dT5IvZHwJn0gDuViCQ2","HeroModelCmp6",void 0);var f=r.ccclass,h=r.property;e("HeroModelCmp6",(s=f("HeroModelCmp6"),c=h({type:p,displayName:"移动动画",visible:!0}),u=h({type:p,displayName:"睡眠动画",visible:!0}),s((C=i((y=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,t(i,"_moveAniClip",C,l(i)),t(i,"_sleepAniClip",v,l(i)),i}n(i,e);var o=i.prototype;return o.playMove=function(){this._moveAniClip&&this.play(this._moveAniClip.name)},o.playSleep=function(){this._sleepAniClip&&this.play(this._sleepAniClip.name)},i}(a)).prototype,"_moveAniClip",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(y.prototype,"_sleepAniClip",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/HurtEffectLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,a,o,n,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,c=t.UIOpacity,p=t.Component}],execute:function(){var s,u,l,f,y;o._RF.push({},"5c0e6V+fAFND4B0Bv7kyzn8","HurtEffectLayer",void 0);var h=n.ccclass,v=n.property;t("HurtEffectLayer",(s=h("HurtEffectLayer"),u=v({type:c,displayName:"透明组件",visible:!0}),s((y=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_opaCmp",y,a(e)),e}i(e,t);var o=e.prototype;return o.enter=function(){this._opaCmp.opacity=0,this.node.active=!0},o.leave=function(){this.node.active=!1},o.hurt=function(){this._opaCmp.opacity=180},o.logicUpdate=function(t){var e=this._opaCmp.opacity;e>0&&(this._opaCmp.opacity=Math.max(e-6,0))},e}(p)).prototype,"_opaCmp",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=f))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/IAIEntity.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e960di4AW9ISJf6HUa2INof","IAIEntity",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IAIEntity3.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"ce6a5inu0FDKql4ns9vssdT","IAIEntity3",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IAIEntity4.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"8eafeWvBspAmKWa5hzvSwQr","IAIEntity4",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IAIEntity5.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"b4512eGe5xHKptTafc9coPQ","IAIEntity5",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IAIEntity6.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1ef9b5euJ9PWLMBkTAic/JR","IAIEntity6",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IAttribute.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e3a1bpDRXFNd6LxuPGj63yV","IAttribute",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IBattleStruct.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fb4deZJMbZMJbjtd8voRiym","IBattleStruct",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IBattleToHallInfo.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ac52e9VO5BNZYCARn2mKJsN","IBattleToHallInfo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IEffectCmp.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"c4ec5PeOlpBCqa+eh9QROzw","IEffectCmp",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IHallToBattleInfo.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d9ba7s2/IJC3bX1WxX/txgg","IHallToBattleInfo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IHeroSpawnInfo.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"b0afdraUbZJs4dSRjPyLXxk","IHeroSpawnInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IHeroSpawnInfo3.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"15ff70yChNLLp8A4UECmCSp","IHeroSpawnInfo3",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IHeroSpawnInfo4.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"69ceeFmt1lL1Yb9BmXQS+dY","IHeroSpawnInfo4",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IHeroSpawnInfo5.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"29fe4hE9+lHH4wUY3hLS8N0","IHeroSpawnInfo5",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IHeroSpawnInfo6.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"54cfbshaXJHQJTBLpBZPFpk","IHeroSpawnInfo6",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ImageUtil.ts",["cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Color,r=e.Texture2D}],execute:function(){t._RF.push({},"f3105zprRlLhKMs2NAWJvQ6","ImageUtil",void 0);e("ImageUtil",function(){function e(){}return e.getPixelColor=function(e,t,r){var a=document.createElement("canvas"),i=a.getContext("2d");a.width=e.width,a.height=e.height;var o=e.getHtmlElementObj();i.drawImage(o,0,0,e.width,e.height);var g=i.getImageData(0,0,e.width,e.height),c=(r-1)*e.width*4+4*(t-1),u=g.data.slice(c,c+4),l=new n(u[0],u[1],u[2],u[3]);return o.remove(),a.remove(),l},e.imageToBase64=function(e,t){return new Promise((function(n){var r,a=null==(r=/\.png|\.jpg|\.jpeg/.exec(e))?void 0:r[0];if([".png",".jpg",".jpeg"].includes(a)){var i=document.createElement("canvas"),o=i.getContext("2d"),g=new Image;g.src=e,g.onload=function(){i.height=g.height,i.width=g.width,o.drawImage(g,0,0),a=".jpg"===a?"jpeg":a.replace(".","");var e=i.toDataURL("image/"+a);t&&t(e),n(e),g.remove(),i.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(""),n("")}))},e.base64ToTexture=function(e){var t=document.createElement("img");t.src=e;var n=new r;return n.initWithElement(t),t.remove(),n},e.base64ToBlob=function(e){for(var t=e.split(","),n=/image\/\w+|;/.exec(t[0])[0],r=window.atob(t[1]),a=new ArrayBuffer(r.length),i=new Uint8Array(a),o=0;o<r.length;o++)i[o]=255&r.charCodeAt(o);return new Blob([i],{type:n})},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/IMath.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({PPos:function(t,e){return{x:t,y:e}},PSize:function(t,e){return{width:t,height:e}}}),e._RF.push({},"59ad8yumIZFcLFTBJtCYbXF","IMath",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IMonsterSpawnInfo.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"30e064e5ttGTZveuwtCXxCX","IMonsterSpawnInfo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IMonsterSpawnInfo3.ts",["cc"],(function(){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"c8421dcMFVLMJuJ8qUJA74r","IMonsterSpawnInfo3",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/IMonsterSpawnInfo4.ts",["cc"],(function(){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"0fcbb72vQFJObAdLhC/9o6V","IMonsterSpawnInfo4",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/IMonsterSpawnInfo5.ts",["cc"],(function(){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"74082RcCbVBdZE8QyODjaFU","IMonsterSpawnInfo5",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/IMonsterSpawnInfo6.ts",["cc"],(function(){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"54e2fYrnghFRJMqdUvAKCck","IMonsterSpawnInfo6",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/IObstacle.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"5a50cCsswxEPatjSMTg7wuW","IObstacle",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IOSAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./DefaultAds.ts"],(function(e){var i,o,n,t,r;return{setters:[function(e){i=e.inheritsLoose},function(e){o=e.cclegacy,n=e.native},function(e){t=e.YT},function(e){r=e.default}],execute:function(){o._RF.push({},"88134Ac8zRMNqVoHA6iNa0i","IOSAds",void 0);e("default",function(e){function o(){var i;return(i=e.call(this)||this).config=void 0,i._rewardVideo=void 0,i.base=void 0,i._bannerAd=void 0,i._intersitialAd=void 0,i.boxBanner=void 0,i.gamebox=void 0,i}i(o,e);var r=o.prototype;return r.init=function(e){this.config=e,console.log("init ios Ad"),n.jsbBridgeWrapper.dispatchEventToNative("initADs",JSON.stringify(this.config))},r.showBannerAd=function(){n.jsbBridgeWrapper.dispatchEventToNative("showBannerAd")},r.hideBannerAd=function(){n.jsbBridgeWrapper.dispatchEventToNative("hideBannerAd")},r.showRewardVideoAd=function(){this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var e=this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"),new Promise((function(i,o){t.audio.pauseAll();n.jsbBridgeWrapper.removeAllListenersForEvent("onRewardVideo"),n.jsbBridgeWrapper.addNativeEventListener("onRewardVideo",(function(e){switch(console.log("msg from ios onRewardVideo=="+e),e){case"onComplete":i(!0);break;case"onError":i(!1),t.gui.toast("视频加载失败，请稍后重试"),console.error("视频播放错误");break;case"onSkip":t.gui.toast("跳过视频不能获得奖励"),console.error("中止播放"),i(!1)}t.audio.resumeAll()})),n.jsbBridgeWrapper.dispatchEventToNative("showRewardVideoAd",e)}))},r.showInterstitialAd=function(){n.jsbBridgeWrapper.dispatchEventToNative("showInterstitialAd")},r.showGameboxBanner=function(){},r.hideGameboxBanner=function(){},r.showGamebox=function(){},r.hideGamebox=function(){},r.showNativeAd=function(){this.showInterstitialAd()},r.showSplashAd=function(){},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/IOSPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IOSAds.ts","./DefaultPlatform.ts","./DefaultRecorder.ts"],(function(t){var n,e,o,i,r,a,s,u;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t.native},function(t){a=t.default},function(t){s=t.default},function(t){u=t.default}],execute:function(){i._RF.push({},"dd978Y5kb9FY7W1/0pirO2q","IOSPlatform",void 0);t("default",function(t){function i(){var n;return(n=t.call(this)||this).base=r.bridge,n}n(i,t);var s=i.prototype;return s.init=function(t){this.ads=new a,this.ads.init(t.adConfig),this.recorder=new u,this.recorder.init(),this.gameName=t.gameName,this.appId=t.appId},s.login=function(){var t=e(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1),this.useCloudStorage=n;case 2:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.Vibrate=function(t){},s.showLoading=function(t){},s.hideLoading=function(){},s.showToast=function(t){console.log("showToast"+t)},s.hasShortcutInstalled=function(){return new Promise((function(t,n){t(!0)}))},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/IResultStruct.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"6dacdTtFkBPN4k4Ryqce0i/","IResultStruct",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("ItemConfig",void 0),i._RF.push({},"adf01DI/O5JjYJbBb15gHg2","ItemConfig",void 0),function(t){t.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.desc=void 0,this.qulity=void 0,this.icon=void 0};t.isConst=!1,t.path="config/ItemConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(n||(n=t("ItemConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/KillNoteCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./UIHelper.ts","./ZDConst3.ts"],(function(e){var i,t,n,o,a,l,s,r,c,h,p,_,m,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.Animation,r=e.Sprite,c=e.Label,h=e.Component},function(e){p=e.YT},function(e){_=e.UIHelper},function(e){m=e.WEAPON_EVENTS,u=e.ZD_BUNDLE}],execute:function(){var d,f,y,b,v,N,g,I,k,w,H,S,D;a._RF.push({},"7081fRixIdGD53EJnymLTZH","KillNoteCmp",void 0);var E=l.ccclass,F=l.property;e("KillNoteCmp",(d=E("KillNoteCmp"),f=F({displayName:"动画",type:s,visible:!0}),y=F({displayName:"击杀者头像",type:r,visible:!0}),b=F({displayName:"击杀者名称",type:c,visible:!0}),v=F({displayName:"击杀者头像",type:r,visible:!0}),N=F({displayName:"击杀者名称",type:c,visible:!0}),d((k=i((I=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,n(i,"_anim",k,o(i)),n(i,"_killerIcon",w,o(i)),n(i,"_killerName",H,o(i)),n(i,"_deadIcon",S,o(i)),n(i,"_deadName",D,o(i)),i._isShowing=!1,i._stack=[],i}t(i,e);var a=i.prototype;return a.onLoad=function(){p.message.on(m.hero_killer_event,this._onHeroKilled,this),this._anim.on(s.EventType.FINISHED,this._onAnimFinished,this),this.node.active=!1},a.onDestroy=function(){this._anim.off(s.EventType.FINISHED,this._onAnimFinished,this),p.message.off(m.hero_killer_event,this._onHeroKilled,this),this._stack.length=0},a._onHeroKilled=function(e,i){var t={killer:{icon:e.headIcon,isRemote:!e.isMainHero,name:e.name},dead:{icon:i.headIcon,isRemote:!i.isMainHero,name:i.name}};this._isShowing?this._stack.push(t):this._show(t)},a._show=function(e){this._isShowing=!0,this.node.active=!0,this._setInfo(e.killer,this._killerIcon,this._killerName),this._setInfo(e.dead,this._deadIcon,this._deadName),this._anim.play()},a._onAnimFinished=function(){this._isShowing=!1,0==this._stack.length?this.node.active=!1:this._show(this._stack.shift())},a._setInfo=function(e,i,t){e.isRemote?_.setRemoteSpriteFrame(e.icon,i):_.changeSpriteFrame(e.icon,u,i),t.string=e.name},i}(h)).prototype,"_anim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(I.prototype,"_killerIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(I.prototype,"_killerName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(I.prototype,"_deadIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(I.prototype,"_deadName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=I))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/KSAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultAds.ts"],(function(o){var e,d,n;return{setters:[function(o){e=o.inheritsLoose},function(o){d=o.cclegacy},function(o){n=o.default}],execute:function(){d._RF.push({},"0ec42MItxxF4oSWWjN++zZv","KSAds",void 0);o("default",function(o){function d(){var e;return(e=o.call(this)||this).config=void 0,e._rewardVideo=void 0,e.base=void 0,e._bannerAd=void 0,e._intersitialAd=void 0,e.boxBanner=void 0,e.gamebox=void 0,e.onRewardAdLoad=void 0,e.onRewardAdClose=void 0,e.onRewardAdError=void 0,e.base=window.ks,e}e(d,o);var n=d.prototype;return n.init=function(o){this.config=o},n.showBannerAd=function(){},n.hideBannerAd=function(){},n.showRewardVideoAd=function(){var o=this;this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var e=this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"),new Promise((function(d,n){e&&(o._rewardVideo&&o.onRewardAdLoad&&(o._rewardVideo.offLoad(o.onRewardAdLoad),o._rewardVideo.offError(o.onRewardAdError),o._rewardVideo.offClose(o.onRewardAdClose)),o.onRewardAdLoad=function(){console.log("视频广告加载成功"),o.base.hideLoading()},o.onRewardAdClose=function(e){o.base.hideLoading(),console.log("视频回调",e);var n=e.isEnded;d(n)},o.onRewardAdError=function(e){console.error("视频广告加载失败",e),o.base.showToast("视频加载失败,请稍后重试"),d(!1),o.base.hideLoading()},o._rewardVideo?(o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),o.base.showLoading("视频加载中..."),o._rewardVideo.show().then((function(){o.base.hideLoading()}))):(o._rewardVideo=o.base.createRewardedVideoAd({adUnitId:e}),o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),o.base.showLoading("视频加载中..."),o._rewardVideo.load().then((function(){o._rewardVideo.show().then((function(){o.base.hideLoading()}))}))))}))},n.showInterstitialAd=function(){},n.showGameboxBanner=function(){},n.hideGameboxBanner=function(){},n.showGamebox=function(){},n.hideGamebox=function(){},n.showNativeAd=function(){},n.showSplashAd=function(){},d}(n));d._RF.pop()}}}));

System.register("chunks:///_virtual/KSPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultPlatform.ts","./SDK.ts","./KSRecorder.ts","./KSAds.ts"],(function(t){var n,e,o,s,i,r,c,a,u;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,i=t.game},function(t){r=t.default},function(t){c=t.default},function(t){a=t.default},function(t){u=t.default}],execute:function(){s._RF.push({},"7dbf8X/ApBDJpzhN6l/42Bh","KSPlatform",void 0);t("default",function(t){function s(){var n;return(n=t.call(this)||this).inited=!1,n.base=window.ks,n}n(s,t);var r=s.prototype;return r.init=function(t){console.log("初始化平台==快手"),this.config=t,this.systemInfo=this.base.getSystemInfoSync(),this.ads=new u,this.ads.init(t.adConfig),this.isSupportRank=!1,this.recorder=new a,this.recorder.init(),this.gameName=t.gameName,this.appId=t.appId,this.base.onShow(this.onShow.bind(this)),this.base.onHide(this.onHide.bind(this))},r.onShow=function(t){console.log("wx OnShow",t),i.resume(),this.inited||(this.inited=!0)},r.onHide=function(t){console.log("wx OnHide",t),i.pause()},r.login=function(){var t=e(o().mark((function t(n){var s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.useCloudStorage=n,t.abrupt("return",new Promise((function(t,i){var r;s.base.login({success:(r=e(o().mark((function e(s){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.code){e.next=11;break}if(!n){e.next=8;break}return e.next=4,c.Inst.login(s.code);case 4:e.sent||console.log("sdk登录失败！"),t(),e.next=9;break;case 8:t();case 9:e.next=13;break;case 11:console.log("ks登录失败！"+s.errMsg),i();case 13:case"end":return e.stop()}}),e)}))),function(t){return r.apply(this,arguments)})})})));case 2:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),r.Vibrate=function(t){t?this.base.vibrateLong():this.base.vibrateShort({type:"light",success:function(){console.log("ks 调用振动成功")}})},r.reportEvent=function(t,n){},r.hasShortcutInstalled=function(){var t=this;return new Promise((function(n,e){t.base.checkShortcut({success:function(t){console.log("是否已添加快捷方式",t.installed),n(t.installed)},fail:function(t){n(!0),-10005===t.code?console.log("暂不支持该功能"):console.log("检查快捷方式失败",t.msg)}})}))},r.createShortcut=function(){var t=this;return new Promise((function(n,e){t.base.addShortcut({success:function(){console.log("添加桌面成功"),n(!0)},fail:function(t){n(!1),-10005===t.code?console.log("暂不支持该功能"):console.log("添加桌面失败",t.msg)}})}))},s}(r));s._RF.pop()}}}));

System.register("chunks:///_virtual/KSRecorder.ts",["cc"],(function(o){var i;return{setters:[function(o){i=o.cclegacy}],execute:function(){i._RF.push({},"33878zvi3hEYLxSYEb7s4K4","KSRecorder",void 0);o("default",function(){function o(){this.isSupport=void 0,this.base=void 0,this.videoSavePath=void 0,this.manager=void 0,this.isPausing=void 0,this.videoID=void 0}var i=o.prototype;return i.init=function(){var o=this;if(console.log("init record"),this.base=window.ks,this.manager=this.base.getGameRecorder(),this.manager){this.isSupport=!0;this.manager.on("start",(function(o){console.log("平台开始录制",o)})),this.manager.on("stop",(function(i){console.log("平台停止录制",i),o.videoSavePath=i.videoPath,i&&i.videoID?(console.log("videoID is "+i.videoID),o.videoID=i.videoID,console.log("录屏停止，录制成功"+o.videoID)):console.log("录屏停止，录制失败")})),this.manager.on("error",(function(o){console.log("录制发生错误",o)})),this.manager.on("pause",(function(i){console.log("暂停录制视频",i),o.isPausing=!0})),this.manager.on("resume",(function(i){console.log("恢复录制视频",i),o.isPausing=!1})),this.manager.on("abort",(function(o){console.log("废弃已录制视频",o)}))}else this.isSupport=!1},i.start=function(){this.isSupport&&(console.log("start record"),console.log("调用开始录屏"),this.manager.start())},i.stop=function(){this.isSupport&&(console.log("stop record"),console.log("调用结束录屏"),this.manager.stop())},i.pause=function(){this.isSupport&&(this.isPausing||(console.log("pause record"),console.log("调用暂停录屏"),this.manager.pause()))},i.resume=function(){this.isSupport&&this.isPausing&&(console.log("resume record"),console.log("调用恢复录屏"),this.manager.resume())},i.shareVideo=function(o){var i=this;return new Promise((function(o,s){i.videoID?i.manager.publishVideo({video:i.videoID,callback:function(i){if(null!=i&&null!=i)return console.log("分享录屏失败: "+JSON.stringify(i)),void s();o("success"),console.log("分享录屏成功")}}):console.log("无视频可以分享")}))},i.navigateToVideo=function(o){},o}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc","./words.ts","./StringUtil.ts"],(function(t){var n,a,r;return{setters:[function(t){n=t.cclegacy},function(t){a=t.words},function(t){r=t.StringUtil}],execute:function(){n._RF.push({},"27fb3sjD81JlIP2KFTSWUp4","LanguageData",void 0);var e=t("ELanguage",function(t){return t.CN="cn",t.CNT="cnt",t.EN="en",t}({})),u=t("LanguageData",function(){function t(){}return t.RegistWords=function(t,n){var a=this.data[t];a?console.error("文字重复 "+t+" - "+a+" / "+n):this.data[t]=n},t.getLangByID=function(n,a){void 0===a&&(a="");var e=t.data[n];return r.formatWords(e,a)},t.getWord=function(n){return t.data[n]},t}());u.current=e.CN,u.data=a,n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./LanguageData.ts"],(function(t){var e,a,o,r,n,i,s,p,c,l,u,g,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.createClass},function(t){i=t.cclegacy,s=t._decorator,p=t.CCString,c=t.Label,l=t.RichText,u=t.warn,g=t.Component},function(t){h=t.YT},null],execute:function(){var f,m,y,D,_,b,d,C,L,I;i._RF.push({},"110c8vEd5NEPL/N9meGQnaX","LanguageLabel",void 0);var v=s.ccclass,z=s.property,V=s.menu;t("LanguageLabel",(f=v("LanguageLabel"),m=V("ui/language/LanguageLabel"),y=z({serializable:!0}),D=z({type:p,serializable:!0}),_=z({serializable:!0}),b=z({type:p,serializable:!0}),f(d=m((L=e((C=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,o(e,"_dataID",L,r(e)),o(e,"_formatV",I,r(e)),e._spComp=null,e}a(e,t);var i=e.prototype;return i.onLoad=function(){this.onDataIDChanged()},i.onDataIDChanged=function(){this.refreshFromWords()},i.refreshFromWords=function(){if(this._dataID){var t,e=Number(this.dataID);t=h.language.getLangByID(e,this.formatV),this._spComp||(this._spComp=this.getComponent(c),this._spComp||(this._spComp=this.getComponent(l))),this._spComp?this._spComp.string=t:u("[LanguageLabel], 该节点没有cc.Label || cc.RichText组件")}},n(e,[{key:"dataID",get:function(){return this._dataID||""},set:function(t){this._dataID=t,this.onDataIDChanged()}},{key:"formatV",get:function(){return this._formatV||""},set:function(t){this._formatV=t,this.onDataIDChanged()}},{key:"color",set:function(t){this._spComp&&this._spComp instanceof c&&(this._spComp.color=t)}}]),e}(g)).prototype,"_dataID",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(C.prototype,"dataID",[D],Object.getOwnPropertyDescriptor(C.prototype,"dataID"),C.prototype),I=e(C.prototype,"_formatV",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(C.prototype,"formatV",[b],Object.getOwnPropertyDescriptor(C.prototype,"formatV"),C.prototype),d=C))||d)||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./LanguageData.ts"],(function(n){var t,e,r,a,u;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){r=n.cclegacy},function(n){a=n.EventDispatcher},function(n){u=n.LanguageData}],execute:function(){r._RF.push({},"fa409wgIzNC07p6MEQkf69c","LanguageManager",void 0);n("LanguageEvent",function(n){return n.CHANGE="LanguageEvent.CHANGE",n.RELEASE_RES="LanguageEvent.RELEASE_RES",n}({})),n("LanguageManager",function(n){function r(){var t;return(t=n.call(this)||this)._support=void 0,t._support=[u.current],t}t(r,n);var a=r.prototype;return a.isExist=function(n){return this.languages.indexOf(n)>-1},a.getLangByID=function(n,t){return void 0===t&&(t=""),u.getLangByID(n,t)},a.words=function(n){for(var t="",e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];for(var g=0,o=r;g<o.length;g++){var s=o[g];t.length<=0?t=""+s:t+="|"+s}return u.getLangByID(n,t)},e(r,[{key:"supportLanguages",set:function(n){this._support=n}},{key:"current",get:function(){return u.current}},{key:"languages",get:function(){return this._support}}]),r}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelBackMergeState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ELevelState.ts","./LevelStateBase.ts"],(function(e){var t,n,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.ELevelState},function(e){a=e.default}],execute:function(){n._RF.push({},"ec1802yDWhIQr3SFPexcIg8","LevelBackMergeState",void 0);e("LevelBackMergeState",function(e){function n(t){var n;return(n=e.call(this,r.BackMerge,t)||this).cameraPosY=0,n}t(n,e);var a=n.prototype;return a.OnEnter=function(e,t){},a.OnRunning=function(e,t){this.cameraPosY<this.owener.camera.position.y?this.owener.camera.setPosition(0,this.owener.camera.y-2e3*t):(this.owener.camera.setPosition(0,0),this.owener.state.ChangeState(r.Merge,null))},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelBattleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./SDMAudio.ts","./SDMBattleView.ts","./SDMItemInfoView.ts","./ELevelState.ts","./LevelStateBase.ts"],(function(t){var e,i,n,o,s,a,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.YT},function(t){o=t.SDMAudio},function(t){s=t.SDMBattleView},function(t){a=t.SDMItemInfoView},function(t){c=t.ELevelState},function(t){r=t.default}],execute:function(){i._RF.push({},"e19a9EY3lNGe6LumPI0BYIV","LevelBattleState",void 0);t("LevelBattleState",function(t){function i(e){var i;return(i=t.call(this,c.Battle,e)||this).timer=40,i.tick=0,i}e(i,t);var r=i.prototype;return r.OnEnter=function(t,e){this.timer=this.owener.waveConfig.battle,this.owener.onBattleStart(),s.instance.battle(),s.instance.updateInfo(this.timer),a.instance.hide(),this.owener.enemys.forEach((function(t){t.move()})),this.owener.gameSpeedUp?n.game.setTimeScale(2):n.game.setTimeScale(1),o.play(3)},r.OnRunning=function(t,e){var i;this.owener.enemys.forEach((function(t){t.fsm.LogicUpdate(e),t.isBoss&&(i=t)})),this.owener.batGrids.forEach((function(t){var i;return null==(i=t.item)||null==(i=i.fsm)?void 0:i.LogicUpdate(e)})),this.tick+=e,this.tick>1&&(this.timer-=1,this.tick=0,i&&3==this.timer&&i.moveBack(),s.instance.updateInfo(this.timer),this.timer<=0&&this.owener.backToMerge())},i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelper.ts","./CampBuildingCmp.ts","./TreeBox.ts","./MainConst.ts","./TreePoints.ts"],(function(e){var t,o,i,n,r,l,a,s,p,u,c,b,y,f,_,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Sprite,p=e.Node,u=e.Vec3,c=e.Component},function(e){b=e.UIHelper},function(e){y=e.CampBuildingCmp},function(e){f=e.TreeBox},function(e){_=e.MAIN_BUNDLE},function(e){d=e.TREE_POINTS}],execute:function(){var h,m,g,R,N,v,w,k,z,x,C,L,T,P,S,B,I,V,D,E,H,F,M,U,j,A,W,O,q,G,J,K,Q,X,Y,Z,$;l._RF.push({},"eead4Tc1PNEy42+dwIs4htj","LevelCmp",void 0);var ee=a.ccclass,te=a.property;e("LevelCmp",(h=ee("LevelCmp"),m=te({type:s,displayName:"背景",visible:!0,tooltip:""}),g=te({type:p,displayName:"玩家节点",visible:!0,tooltip:""}),R=te({type:p,displayName:"宠物节点",visible:!0,tooltip:""}),N=te({type:p,displayName:"购买节点",visible:!0,tooltip:""}),v=te({type:p,displayName:"购买文本节点",visible:!0,tooltip:""}),w=te({type:p,displayName:"购买锁定节点",visible:!0,tooltip:""}),k=te({type:p,displayName:"道具节点",visible:!0,tooltip:""}),z=te({type:p,displayName:"影子节点",visible:!0,tooltip:""}),x=te({type:p,displayName:"角色节点",visible:!0,tooltip:""}),C=te({type:p,displayName:"拖尾节点",visible:!0,tooltip:""}),L=te({type:p,displayName:"子弹节点",visible:!0,tooltip:""}),T=te({type:y,displayName:"营地",visible:!0,tooltip:""}),P=te({type:[p],displayName:"遗物区域",visible:!0,tooltip:""}),S=te({type:[p],displayName:"宝箱",visible:!0,tooltip:""}),B=te({type:[p],displayName:"武器",visible:!0,tooltip:""}),I=te({type:[p],displayName:"增益",visible:!0,tooltip:""}),V=te({type:p,displayName:"底部节点",visible:!0,tooltip:""}),h((H=t((E=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_bgSprite",H,n(t)),i(t,"_playerNode",F,n(t)),i(t,"_petNode",M,n(t)),i(t,"_shopRoot",U,n(t)),i(t,"_shopTextRoot",j,n(t)),i(t,"_shopLockRoot",A,n(t)),i(t,"_goodsRoot",W,n(t)),i(t,"_shadowRoot",O,n(t)),i(t,"_roleRoot",q,n(t)),i(t,"_motionRoot",G,n(t)),i(t,"_bulletRoot",J,n(t)),i(t,"_campCmp",K,n(t)),i(t,"_remainNodes",Q,n(t)),i(t,"_boxNodes",X,n(t)),i(t,"_weaponNodes",Y,n(t)),i(t,"_buffNodes",Z,n(t)),i(t,"_bottonRoot",$,n(t)),t}o(t,e);var l=t.prototype;return l.init=function(){},l.setLevelView=function(e,t){b.changeSpriteFrame(e,_,this._bgSprite);for(var o,i=f.ins.roles,n=0;n<i.length;++n){(o=i[n]).setParent(this._roleRoot),o.setRes(t);var r=d[o.id];o.setPos2f(r[0],r[1]),o.pos.x<-100||o.pos.x>850||o.pos.y<-150||o.pos.y>1500?o.setVisible(!1):o.setVisible(!0),o.resetView()}this.sortRoleNode()},l.sortRoleNode=function(){var e=this._roleRoot._children;e.sort((function(e,t){return t.position.y-e.position.y}));for(var t=0,o=e.length;t<o;++t)e[t]._siblingIndex=t},l.enterHall=function(){this._shopRoot.active=!1,this._shopTextRoot.active=!1,this._shopLockRoot.active=!1,this._goodsRoot.active=!1},l.enterBattle=function(){this._shopRoot.active=!0,this._shopTextRoot.active=!0,this._shopLockRoot.active=!0,this._goodsRoot.active=!0},r(t,[{key:"campCmp",get:function(){return this._campCmp}},{key:"shadowRoot",get:function(){return this._shadowRoot}},{key:"roleRoot",get:function(){return this._roleRoot}},{key:"shopRoot",get:function(){return this._shopRoot}},{key:"shopTextRoot",get:function(){return this._shopTextRoot}},{key:"shopLockRoot",get:function(){return this._shopLockRoot}},{key:"goodsRoot",get:function(){return this._goodsRoot}},{key:"motionRoot",get:function(){return this._motionRoot}},{key:"bulletRoot",get:function(){return this._bulletRoot}},{key:"weapons",get:function(){return this._weaponNodes}},{key:"boxNodes",get:function(){return this._boxNodes}},{key:"buffNodes",get:function(){return this._buffNodes}},{key:"remainNodes",get:function(){return this._remainNodes}},{key:"playerPos",get:function(){return this._playerNode.getWorldPosition()}},{key:"petPos",get:function(){return this._petNode.getWorldPosition()}},{key:"size",get:function(){return this.node.uiTransform.contentSize}},{key:"bottonRoot",get:function(){return this._bottonRoot}}]),t}(c)).prototype,"_bgSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(E.prototype,"_playerNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(E.prototype,"_petNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(E.prototype,"_shopRoot",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(E.prototype,"_shopTextRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(E.prototype,"_shopLockRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(E.prototype,"_goodsRoot",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(E.prototype,"_shadowRoot",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(E.prototype,"_roleRoot",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(E.prototype,"_motionRoot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(E.prototype,"_bulletRoot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(E.prototype,"_campCmp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(E.prototype,"_remainNodes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null,null]}}),X=t(E.prototype,"_boxNodes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(E.prototype,"_weaponNodes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(E.prototype,"_buffNodes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(E.prototype,"_bottonRoot",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=E))||D)),new u;l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("LevelConfig",void 0),t._RF.push({},"d29c5z4G+pNm6iIsEnO0FAb","LevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.res=void 0,this.bg=void 0,this.tree_skin=void 0,this.tree_hp=void 0,this.remains=void 0,this.waves=void 0,this.base_coin=void 0,this.mine_id=void 0,this.level_gold=void 0};i.isConst=!1,i.path="config/LevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("LevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./EquipConfig.ts","./HeroConfig.ts","./LevelConfig.ts","./MonsterConfig.ts","./WaveConfig.ts","./ViewUtil.ts","./YT.ts","./LoadingData.ts","./LoadingManager.ts","./RolePet.ts","./RolePlayer.ts","./MainConst.ts","./ResUtils.ts","./LevelCmp.ts"],(function(e){var t,n,r,i,s,a,o,u,l,c,f,p,h,v,d,_,y,w,g,P,R;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime,r=e.createClass},function(e){i=e.cclegacy,s=e.Prefab,a=e.SpriteFrame},function(e){o=e.BuildsConfig},function(e){u=e.EquipConfig},function(e){l=e.HeroConfig},function(e){c=e.LevelConfig},function(e){f=e.MonsterConfig},function(e){p=e.WaveConfig},function(e){h=e.ViewUtil},function(e){v=e.YT},function(e){d=e.LoadingGroup},function(e){_=e.LoadingManager},function(e){y=e.RolePet},function(e){w=e.RolePlayer},function(e){g=e.MAIN_BUNDLE},function(e){P=e.ResUtils},function(e){R=e.LevelCmp}],execute:function(){i._RF.push({},"565d36a+U9MhbX7Qyyw/3FF","LevelControl",void 0);e("LevelControl",function(){function e(){this._view=void 0,this._parent=void 0,this._player=void 0,this._playerPet=void 0,this._levelConfig=void 0}var i=e.prototype;return i.setParent=function(e){this._parent=e},i.init=function(){var e=t(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setLevelId(t);case 2:return e.next=4,this.updatePlayerId(r,i);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),i.resetLevel=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._view&&(this._player&&this._player.removeParent(),this._playerPet&&this._playerPet.removeParent(),this._view.node.destroy(),this._view=null),e.next=3,this.setLevelId(t);case 3:this._player&&this._player.setParent(this._view.roleRoot),this._playerPet&&this._playerPet.setParent(this._view.roleRoot);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.setLevelId=function(){var e=t(n().mark((function e(t){var r,i,s,o,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this._levelConfig=c.data[t],!this._view){e.next=4;break}e.next=12;break;case 4:return globalThis.ShadowRoot=null,e.next=7,h.createPrefabNodeAsync(P.fullLevelPrefabRes(s.res),g);case 7:(o=e.sent).parent=this._parent,this._view=o.getComponent(R),this._view.init(),globalThis.ShadowRoot=this._view.shadowRoot;case 12:return(u=new d).add(P.fullLevelBgRes(s.bg),g,a),u.add(P.fullLevelTreeRes(s.tree_skin),g,a),u.add(P.fullLevelTreeRes(s.tree_skin)+"_b",g,a),e.next=18,this._doLoad(u);case 18:return null==(r=this._view)||r.setLevelView(P.fullLevelBgRes(s.bg),P.fullLevelTreeRes(s.tree_skin)),null==(i=this._view)||i.enterHall(),e.next=22,this._loadLevelRes(s);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i._loadLevelRes=function(){var e=t(n().mark((function e(t){var r,i,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new d,i=0,s=t.waves.length;i<s;++i)this._addWaveRes(t.waves[i][1],r);return e.next=5,this._doLoad(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i._addWaveRes=function(e,t){for(var n=p.data[e],r=0,i=n.monster_ids.length;r<i;++r)this._addMonsterRes(n.monster_ids[r],t)},i._addMonsterRes=function(e,t){var n=f.data[e];t.add(n.res,g,s)},i._doLoad=function(){var e=t(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.parseEffects(),r=Date.now(),e.abrupt("return",new Promise((function(e){_.instance.startLoad(t,(function(){console.log("耗时: "+(Date.now()-r)+"ms"),e()}),!0)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.updatePlayerId=function(){var e=t(n().mark((function e(t,r){var i,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.data[t].res,e.next=3,this._loadRes(i,g);case 3:this._player?null==(s=this._player)||s.updateId(t):(this._player=new w,this._player.init(t,r),this._player.setParent(this._view.roleRoot),this._player.setPos(this._view.playerPos),this._player.enterHall());case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),i.updatePlayerWeapon=function(e){var t;null==(t=this._player)||t.updateWeapon(e)},i.updatePlayerPet=function(){var e=t(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.data[t].model,e.next=3,this._loadRes(r,g);case 3:this._playerPet?null==(i=this._playerPet)||i.updateId(t):(this._playerPet=new y,this._playerPet.init(t),this._playerPet.setParent(this._view.roleRoot),this._playerPet.setPos(this._view.petPos));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.updateCamp=function(e){var t,n=o.data[e].res;null==(t=this.view.campCmp)||t.updateRes(n)},i._loadRes=function(e,r){return new Promise(t(n().mark((function t(i,a){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.res.load(e,r,s,null,(function(e){i(e)}));case 1:case"end":return t.stop()}}),t)}))))},r(e,[{key:"view",get:function(){return this._view}},{key:"player",get:function(){return this._player}},{key:"playerPet",get:function(){return this._playerPet}},{key:"levelConfig",get:function(){return this._levelConfig}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelEndState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ELevelState.ts","./LevelStateBase.ts"],(function(e){var t,n,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.ELevelState},function(e){u=e.default}],execute:function(){n._RF.push({},"a6f91jioitKCIQiG+Gz3h64","LevelEndState",void 0);e("LevelEndState",function(e){function n(t){return e.call(this,i.End,t)||this}return t(n,e),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapBaseCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,c,a;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,a=e.Component}],execute:function(){var u;o._RF.push({},"f596bX9xoNGUL4yUrrRGg/h","LevelMapBaseCmp",void 0);var i=c.ccclass;c.property,e("LevelMapBaseCmp",i("LevelMapBaseCmp")(u=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var c=o.prototype;return c.logicUpdate=function(e){},c.updateFog=function(){},c.showNoneCircleFog=function(e,n){},c.clear=function(){},c.onEnter=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.onRemoveFromParent=function(){},c.onSetParent=function(){},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapBaseCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,c,a;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,a=e.Component}],execute:function(){var u;o._RF.push({},"a54e5490KBK56/0KN9UtE/C","LevelMapBaseCmp3",void 0);var i=c.ccclass;c.property,e("LevelMapBaseCmp3",i("LevelMapBaseCmp3")(u=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var c=o.prototype;return c.logicUpdate=function(e){},c.updateFog=function(){},c.showNoneCircleFog=function(e,n){},c.clear=function(){},c.onEnter=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.onRemoveFromParent=function(){},c.onSetParent=function(){},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapBaseCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,c,a;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,a=e.Component}],execute:function(){var u;o._RF.push({},"635d7pEykJNsbM+tRUbIPgs","LevelMapBaseCmp4",void 0);var i=c.ccclass;c.property,e("LevelMapBaseCmp4",i("LevelMapBaseCmp4")(u=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var c=o.prototype;return c.logicUpdate=function(e){},c.updateFog=function(){},c.showNoneCircleFog=function(e,n){},c.clear=function(){},c.onEnter=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.onRemoveFromParent=function(){},c.onSetParent=function(){},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapBaseCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,c,a;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,a=e.Component}],execute:function(){var u;o._RF.push({},"374216tezBJybHIm9DP5S3N","LevelMapBaseCmp5",void 0);var i=c.ccclass;c.property,e("LevelMapBaseCmp5",i("LevelMapBaseCmp5")(u=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var c=o.prototype;return c.logicUpdate=function(e){},c.updateFog=function(){},c.showNoneCircleFog=function(e,n){},c.clear=function(){},c.onEnter=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.onRemoveFromParent=function(){},c.onSetParent=function(){},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapBaseCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,c,a;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,a=e.Component}],execute:function(){var u;o._RF.push({},"9eed2WvNPhP0bXCLCArSsbr","LevelMapBaseCmp6",void 0);var i=c.ccclass;c.property,e("LevelMapBaseCmp6",i("LevelMapBaseCmp6")(u=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var c=o.prototype;return c.logicUpdate=function(e){},c.updateFog=function(){},c.showNoneCircleFog=function(e,n){},c.clear=function(){},c.onEnter=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.onRemoveFromParent=function(){},c.onSetParent=function(){},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFog2Cmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp.ts","./FogMap.ts","./ZDConst.ts","./ZDGameState.ts"],(function(t){var i,e,r,s,o,a,c,n,h,u,_,p,m,R,l,f,d,g,P,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,n=t._decorator,h=t.SpriteFrame,u=t.Node,_=t.Sprite,p=t.Vec2,m=t.Vec3,R=t.Color,l=t.Rect,f=t.math},function(t){d=t.LevelMapBaseCmp},function(t){g=t.FogMap},function(t){P=t.PICTURE_CFG},function(t){L=t.ZDGameState}],execute:function(){var x,N,T,y,v,S,A,X,Y,w,b,M,E,F,C,I,z,D,O;c._RF.push({},"ee69f7Jt0hBGLZqBvvZLr/T","LevelMapFog2Cmp",void 0);var H=n.ccclass,B=n.property,Z=(t("LevelMapFog2Cmp",(x=H("LevelMapFog2Cmp"),N=B({type:h,visible:!0}),T=B({type:u,visible:!0}),y=B({type:u,visible:!0}),v=B({type:u,visible:!0}),S=B({type:u,visible:!0}),A=B({type:u,visible:!0}),X=B({type:u,visible:!0}),Y=B({type:[_],visible:!0,displayName:"受击效果",tooltip:"上下左右"}),x((M=i((b=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"_fogFrame",M,s(i)),r(i,"_fogNodeRoot",E,s(i)),r(i,"_pictureNodeRoot",F,s(i)),r(i,"_topPictureNode",C,s(i)),r(i,"_bottonPictureNode",I,s(i)),r(i,"_leftPictureNode",z,s(i)),r(i,"_rightPictureNode",D,s(i)),r(i,"_hitSprs",O,s(i)),i._fogMap=void 0,i._startPos=new m,i._endPos=new m,i._height=void 0,i._width=void 0,i._pictureLastRect={minX:0,maxX:0,minY:0,maxY:0},i._pictureRect={minX:0,maxX:0,minY:0,maxY:0},i._hitStatusArr=[0,0,0,0],i._hitTimesArr=[0,0,0,0],i._worldRect=new l,i}e(i,t);var c=i.prototype;return c.isInPictureRect=function(t){return Z.set(t.x,t.y),this._worldRect.contains(Z)},c.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._pictureNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._pictureNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(W,W,W,0,0,0),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),L.runtime.isLoadingEnd=!0},c.onEnter=function(){var t=o(a().mark((function t(){var i,e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=L.runtime.control.roleMgr.mainHero)&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i.pos,G),e=this._topPictureNode.uiTransform.contentSize.width,r=this._leftPictureNode.uiTransform.contentSize.height,this._pictureLastRect.minX=this._pictureRect.minX=G.x-e/2,this._pictureLastRect.maxX=this._pictureRect.maxX=G.x+e/2,this._pictureLastRect.minY=this._pictureRect.minY=G.y-r/2,this._pictureLastRect.maxY=this._pictureRect.maxY=G.y+r/2,G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,this._pictureRect.maxX-this._pictureLastRect.minX,this._pictureRect.maxY-this._pictureLastRect.minY),this._updatePicture(),this._fogMap.sysnData());case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onRemoveFromParent=function(){this._fogNodeRoot.removeFromParent(),this._pictureNodeRoot.removeFromParent()},c.onSetParent=function(){this._fogNodeRoot.parent=L.runtime.ui.mapLayer.mapTop,this._pictureNodeRoot.parent=L.runtime.ui.mapLayer.mapTop},c._updatePictureRectView=function(){var t=!1;if(this._pictureLastRect.maxY!=this._pictureRect.maxY){t=!0;var i=this._pictureLastRect.maxX-this._pictureLastRect.minX,e=Math.min(this._pictureRect.maxY-this._pictureLastRect.maxY,P.OPEN_SPEED);G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.maxY,this._fogMap.drawRect(G,i,e),this._pictureLastRect.maxY+=e}if(this._pictureLastRect.minY!=this._pictureRect.minY){t=!0;var r=this._pictureLastRect.maxX-this._pictureLastRect.minX,s=Math.min(this._pictureLastRect.minY-this._pictureRect.minY,P.OPEN_SPEED);G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.minY-s,this._fogMap.drawRect(G,r,s),this._pictureLastRect.minY-=s}if(this._pictureLastRect.minX!=this._pictureRect.minX){t=!0;var o=Math.min(this._pictureLastRect.minX-this._pictureRect.minX,P.OPEN_SPEED),a=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.x=this._pictureLastRect.minX-o,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,o,a),this._pictureLastRect.minX-=o}if(this._pictureLastRect.maxX!=this._pictureRect.maxX){t=!0;var c=Math.min(this._pictureRect.maxX-this._pictureLastRect.maxX,P.OPEN_SPEED),n=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.x=this._pictureLastRect.maxX,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,c,n),this._pictureLastRect.maxX+=c}t&&(this._updatePicture(),this._fogMap.sysnData())},c._updatePicture=function(){var t=this._pictureLastRect.maxX-this._pictureLastRect.minX,i=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.set(this._pictureLastRect.minX,this._pictureLastRect.minY),this._fogNodeRoot.uiTransform.convertToWorldSpaceAR(G,G),this._worldRect.set(G.x,G.y,t,i),this._topPictureNode.uiTransform.setContentSize(t,40),V.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.maxY),this._topPictureNode.setPosition(V),this._bottonPictureNode.uiTransform.setContentSize(t,40),V.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.minY),this._bottonPictureNode.setPosition(V),this._leftPictureNode.uiTransform.setContentSize(40,i),V.set(this._pictureLastRect.minX,this._pictureLastRect.minY+i/2),this._leftPictureNode.setPosition(V),this._rightPictureNode.uiTransform.setContentSize(40,i),V.set(this._pictureLastRect.maxX,this._pictureLastRect.minY+i/2),this._rightPictureNode.setPosition(V)},c.logicUpdate=function(t){this._updatePictureRectView();for(var i=0;i<4;++i)if(1==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var e=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_WHITE_TM);k.a=P.HIT_ANI.OPC*e,this._hitSprs[i].color=k,e>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=2)}else if(2==this._hitStatusArr[i])this._hitTimesArr[i]+=t,this._hitTimesArr[i]>P.HIT_ANI.WHITE_TM&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=3);else if(3==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var r=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_OPC_TM);k.a=P.HIT_ANI.OPC*(1-r),this._hitSprs[i].color=k,r>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=0)}},c.updateFog=function(){var t=L.runtime.control.roleMgr.mainHero;t&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t.pos,G),G.x-t.realRadius<this._pictureRect.minX&&(this._pictureRect.minX=Math.max(0,G.x-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[2]&&(this._hitStatusArr[2]=1,this._hitTimesArr[2]=0)),G.x+t.realRadius>this._pictureRect.maxX&&(this._pictureRect.maxX=Math.min(this._width,G.x+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[3]&&(this._hitStatusArr[3]=1,this._hitTimesArr[3]=0)),G.y-t.realRadius<this._pictureRect.minY&&(this._pictureRect.minY=Math.max(0,G.y-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[1]&&(this._hitStatusArr[1]=1,this._hitTimesArr[1]=0)),G.y+t.realRadius>this._pictureRect.maxY&&(this._pictureRect.maxY=Math.min(this._height,G.y+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[0]&&(this._hitStatusArr[0]=1,this._hitTimesArr[0]=0)))},c.showNoneCircleFog=function(t,i){},c._clearFogByWeapon=function(t,i,e,r){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i,this._endPos),m.subtract(G,this._endPos,this._startPos),G.normalize(),r-=20;var s=this._endPos.x+G.x*r,o=this._endPos.y+G.y*r;this._fogMap.clearFog(this._endPos.x,this._endPos.y,s,o,80),this._fogMap.circle(this._endPos.x+G.x*(r-20),this._endPos.y+G.y*(r-20),40)},c._clearFogCicle=function(t,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,G),this._fogMap.circle(G.x,G.y,i)},c.clear=function(){this._fogMap.clear()},i}(d)).prototype,"_fogFrame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(b.prototype,"_fogNodeRoot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(b.prototype,"_pictureNodeRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(b.prototype,"_topPictureNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(b.prototype,"_bottonPictureNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(b.prototype,"_leftPictureNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(b.prototype,"_rightPictureNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(b.prototype,"_hitSprs",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=b))||w)),new p),G=new m,V=new m,W=new R(0,0,0,0),k=new R(255,255,255,0);c._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFog2Cmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp3.ts","./FogMap3.ts","./ZDConst3.ts","./ZDGameState3.ts"],(function(t){var i,e,r,s,o,a,c,n,h,u,_,p,m,R,l,f,d,g,P,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,n=t._decorator,h=t.SpriteFrame,u=t.Node,_=t.Sprite,p=t.Vec2,m=t.Vec3,R=t.Color,l=t.Rect,f=t.math},function(t){d=t.LevelMapBaseCmp3},function(t){g=t.FogMap3},function(t){P=t.PICTURE_CFG},function(t){L=t.ZDGameState3}],execute:function(){var x,N,T,y,v,S,A,X,Y,b,w,M,E,F,C,I,z,D,O;c._RF.push({},"047374smedLyqK7b72OMHD/","LevelMapFog2Cmp3",void 0);var H=n.ccclass,B=n.property,G=(t("LevelMapFog2Cmp3",(x=H("LevelMapFog2Cmp3"),N=B({type:h,visible:!0}),T=B({type:u,visible:!0}),y=B({type:u,visible:!0}),v=B({type:u,visible:!0}),S=B({type:u,visible:!0}),A=B({type:u,visible:!0}),X=B({type:u,visible:!0}),Y=B({type:[_],visible:!0,displayName:"受击效果",tooltip:"上下左右"}),x((M=i((w=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"_fogFrame",M,s(i)),r(i,"_fogNodeRoot",E,s(i)),r(i,"_pictureNodeRoot",F,s(i)),r(i,"_topPictureNode",C,s(i)),r(i,"_bottonPictureNode",I,s(i)),r(i,"_leftPictureNode",z,s(i)),r(i,"_rightPictureNode",D,s(i)),r(i,"_hitSprs",O,s(i)),i._fogMap=void 0,i._startPos=new m,i._endPos=new m,i._height=void 0,i._width=void 0,i._pictureLastRect={minX:0,maxX:0,minY:0,maxY:0},i._pictureRect={minX:0,maxX:0,minY:0,maxY:0},i._hitStatusArr=[0,0,0,0],i._hitTimesArr=[0,0,0,0],i._worldRect=new l,i}e(i,t);var c=i.prototype;return c.isInPictureRect=function(t){return G.set(t.x,t.y),this._worldRect.contains(G)},c.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._pictureNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._pictureNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(W,W,W,0,0,0),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),L.runtime.isLoadingEnd=!0},c.onEnter=function(){var t=o(a().mark((function t(){var i,e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=L.runtime.control.roleMgr.mainHero)&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i.pos,Z),e=this._topPictureNode.uiTransform.contentSize.width,r=this._leftPictureNode.uiTransform.contentSize.height,this._pictureLastRect.minX=this._pictureRect.minX=Z.x-e/2,this._pictureLastRect.maxX=this._pictureRect.maxX=Z.x+e/2,this._pictureLastRect.minY=this._pictureRect.minY=Z.y-r/2,this._pictureLastRect.maxY=this._pictureRect.maxY=Z.y+r/2,Z.x=this._pictureLastRect.minX,Z.y=this._pictureLastRect.minY,this._fogMap.drawRect(Z,this._pictureRect.maxX-this._pictureLastRect.minX,this._pictureRect.maxY-this._pictureLastRect.minY),this._updatePicture(),this._fogMap.sysnData());case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onRemoveFromParent=function(){this._fogNodeRoot.removeFromParent(),this._pictureNodeRoot.removeFromParent()},c.onSetParent=function(){this._fogNodeRoot.parent=L.runtime.ui.mapLayer.mapTop,this._pictureNodeRoot.parent=L.runtime.ui.mapLayer.mapTop},c._updatePictureRectView=function(){var t=!1;if(this._pictureLastRect.maxY!=this._pictureRect.maxY){t=!0;var i=this._pictureLastRect.maxX-this._pictureLastRect.minX,e=Math.min(this._pictureRect.maxY-this._pictureLastRect.maxY,P.OPEN_SPEED);Z.x=this._pictureLastRect.minX,Z.y=this._pictureLastRect.maxY,this._fogMap.drawRect(Z,i,e),this._pictureLastRect.maxY+=e}if(this._pictureLastRect.minY!=this._pictureRect.minY){t=!0;var r=this._pictureLastRect.maxX-this._pictureLastRect.minX,s=Math.min(this._pictureLastRect.minY-this._pictureRect.minY,P.OPEN_SPEED);Z.x=this._pictureLastRect.minX,Z.y=this._pictureLastRect.minY-s,this._fogMap.drawRect(Z,r,s),this._pictureLastRect.minY-=s}if(this._pictureLastRect.minX!=this._pictureRect.minX){t=!0;var o=Math.min(this._pictureLastRect.minX-this._pictureRect.minX,P.OPEN_SPEED),a=this._pictureLastRect.maxY-this._pictureLastRect.minY;Z.x=this._pictureLastRect.minX-o,Z.y=this._pictureLastRect.minY,this._fogMap.drawRect(Z,o,a),this._pictureLastRect.minX-=o}if(this._pictureLastRect.maxX!=this._pictureRect.maxX){t=!0;var c=Math.min(this._pictureRect.maxX-this._pictureLastRect.maxX,P.OPEN_SPEED),n=this._pictureLastRect.maxY-this._pictureLastRect.minY;Z.x=this._pictureLastRect.maxX,Z.y=this._pictureLastRect.minY,this._fogMap.drawRect(Z,c,n),this._pictureLastRect.maxX+=c}t&&(this._updatePicture(),this._fogMap.sysnData())},c._updatePicture=function(){var t=this._pictureLastRect.maxX-this._pictureLastRect.minX,i=this._pictureLastRect.maxY-this._pictureLastRect.minY;Z.set(this._pictureLastRect.minX,this._pictureLastRect.minY),this._fogNodeRoot.uiTransform.convertToWorldSpaceAR(Z,Z),this._worldRect.set(Z.x,Z.y,t,i),this._topPictureNode.uiTransform.setContentSize(t,40),V.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.maxY),this._topPictureNode.setPosition(V),this._bottonPictureNode.uiTransform.setContentSize(t,40),V.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.minY),this._bottonPictureNode.setPosition(V),this._leftPictureNode.uiTransform.setContentSize(40,i),V.set(this._pictureLastRect.minX,this._pictureLastRect.minY+i/2),this._leftPictureNode.setPosition(V),this._rightPictureNode.uiTransform.setContentSize(40,i),V.set(this._pictureLastRect.maxX,this._pictureLastRect.minY+i/2),this._rightPictureNode.setPosition(V)},c.logicUpdate=function(t){this._updatePictureRectView();for(var i=0;i<4;++i)if(1==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var e=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_WHITE_TM);k.a=P.HIT_ANI.OPC*e,this._hitSprs[i].color=k,e>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=2)}else if(2==this._hitStatusArr[i])this._hitTimesArr[i]+=t,this._hitTimesArr[i]>P.HIT_ANI.WHITE_TM&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=3);else if(3==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var r=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_OPC_TM);k.a=P.HIT_ANI.OPC*(1-r),this._hitSprs[i].color=k,r>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=0)}},c.updateFog=function(){var t=L.runtime.control.roleMgr.mainHero;t&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t.pos,Z),Z.x-t.realRadius<this._pictureRect.minX&&(this._pictureRect.minX=Math.max(0,Z.x-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[2]&&(this._hitStatusArr[2]=1,this._hitTimesArr[2]=0)),Z.x+t.realRadius>this._pictureRect.maxX&&(this._pictureRect.maxX=Math.min(this._width,Z.x+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[3]&&(this._hitStatusArr[3]=1,this._hitTimesArr[3]=0)),Z.y-t.realRadius<this._pictureRect.minY&&(this._pictureRect.minY=Math.max(0,Z.y-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[1]&&(this._hitStatusArr[1]=1,this._hitTimesArr[1]=0)),Z.y+t.realRadius>this._pictureRect.maxY&&(this._pictureRect.maxY=Math.min(this._height,Z.y+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[0]&&(this._hitStatusArr[0]=1,this._hitTimesArr[0]=0)))},c.showNoneCircleFog=function(t,i){},c._clearFogByWeapon=function(t,i,e,r){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i,this._endPos),m.subtract(Z,this._endPos,this._startPos),Z.normalize(),r-=20;var s=this._endPos.x+Z.x*r,o=this._endPos.y+Z.y*r;this._fogMap.clearFog(this._endPos.x,this._endPos.y,s,o,80),this._fogMap.circle(this._endPos.x+Z.x*(r-20),this._endPos.y+Z.y*(r-20),40)},c._clearFogCicle=function(t,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,Z),this._fogMap.circle(Z.x,Z.y,i)},c.clear=function(){this._fogMap.clear()},i}(d)).prototype,"_fogFrame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(w.prototype,"_fogNodeRoot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(w.prototype,"_pictureNodeRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(w.prototype,"_topPictureNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(w.prototype,"_bottonPictureNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(w.prototype,"_leftPictureNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(w.prototype,"_rightPictureNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(w.prototype,"_hitSprs",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=w))||b)),new p),Z=new m,V=new m,W=new R(0,0,0,0),k=new R(255,255,255,0);c._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFog2Cmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp4.ts","./FogMap4.ts","./ZDConst4.ts","./ZDGameState4.ts"],(function(t){var i,e,r,s,o,a,c,n,h,u,_,p,m,R,l,f,d,g,P,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,n=t._decorator,h=t.SpriteFrame,u=t.Node,_=t.Sprite,p=t.Vec2,m=t.Vec3,R=t.Color,l=t.Rect,f=t.math},function(t){d=t.LevelMapBaseCmp4},function(t){g=t.FogMap},function(t){P=t.PICTURE_CFG},function(t){L=t.ZDGameState4}],execute:function(){var x,N,T,y,v,S,A,b,X,Y,w,M,E,F,C,I,z,D,O;c._RF.push({},"4cefaVKk9tDnbAB/Vbojpbp","LevelMapFog2Cmp4",void 0);var H=n.ccclass,B=n.property,V=(t("LevelMapFog2Cmp4",(x=H("LevelMapFog2Cmp4"),N=B({type:h,visible:!0}),T=B({type:u,visible:!0}),y=B({type:u,visible:!0}),v=B({type:u,visible:!0}),S=B({type:u,visible:!0}),A=B({type:u,visible:!0}),b=B({type:u,visible:!0}),X=B({type:[_],visible:!0,displayName:"受击效果",tooltip:"上下左右"}),x((M=i((w=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"_fogFrame",M,s(i)),r(i,"_fogNodeRoot",E,s(i)),r(i,"_pictureNodeRoot",F,s(i)),r(i,"_topPictureNode",C,s(i)),r(i,"_bottonPictureNode",I,s(i)),r(i,"_leftPictureNode",z,s(i)),r(i,"_rightPictureNode",D,s(i)),r(i,"_hitSprs",O,s(i)),i._fogMap=void 0,i._startPos=new m,i._endPos=new m,i._height=void 0,i._width=void 0,i._pictureLastRect={minX:0,maxX:0,minY:0,maxY:0},i._pictureRect={minX:0,maxX:0,minY:0,maxY:0},i._hitStatusArr=[0,0,0,0],i._hitTimesArr=[0,0,0,0],i._worldRect=new l,i}e(i,t);var c=i.prototype;return c.isInPictureRect=function(t){return V.set(t.x,t.y),this._worldRect.contains(V)},c.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._pictureNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._pictureNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(k,k,k,0,0,0),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),L.runtime.isLoadingEnd=!0},c.onEnter=function(){var t=o(a().mark((function t(){var i,e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=L.runtime.control.roleMgr.mainHero)&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i.pos,G),e=this._topPictureNode.uiTransform.contentSize.width,r=this._leftPictureNode.uiTransform.contentSize.height,this._pictureLastRect.minX=this._pictureRect.minX=G.x-e/2,this._pictureLastRect.maxX=this._pictureRect.maxX=G.x+e/2,this._pictureLastRect.minY=this._pictureRect.minY=G.y-r/2,this._pictureLastRect.maxY=this._pictureRect.maxY=G.y+r/2,G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,this._pictureRect.maxX-this._pictureLastRect.minX,this._pictureRect.maxY-this._pictureLastRect.minY),this._updatePicture(),this._fogMap.sysnData());case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onRemoveFromParent=function(){this._fogNodeRoot.removeFromParent(),this._pictureNodeRoot.removeFromParent()},c.onSetParent=function(){this._fogNodeRoot.parent=L.runtime.ui.mapLayer.mapTop,this._pictureNodeRoot.parent=L.runtime.ui.mapLayer.mapTop},c._updatePictureRectView=function(){var t=!1;if(this._pictureLastRect.maxY!=this._pictureRect.maxY){t=!0;var i=this._pictureLastRect.maxX-this._pictureLastRect.minX,e=Math.min(this._pictureRect.maxY-this._pictureLastRect.maxY,P.OPEN_SPEED);G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.maxY,this._fogMap.drawRect(G,i,e),this._pictureLastRect.maxY+=e}if(this._pictureLastRect.minY!=this._pictureRect.minY){t=!0;var r=this._pictureLastRect.maxX-this._pictureLastRect.minX,s=Math.min(this._pictureLastRect.minY-this._pictureRect.minY,P.OPEN_SPEED);G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.minY-s,this._fogMap.drawRect(G,r,s),this._pictureLastRect.minY-=s}if(this._pictureLastRect.minX!=this._pictureRect.minX){t=!0;var o=Math.min(this._pictureLastRect.minX-this._pictureRect.minX,P.OPEN_SPEED),a=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.x=this._pictureLastRect.minX-o,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,o,a),this._pictureLastRect.minX-=o}if(this._pictureLastRect.maxX!=this._pictureRect.maxX){t=!0;var c=Math.min(this._pictureRect.maxX-this._pictureLastRect.maxX,P.OPEN_SPEED),n=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.x=this._pictureLastRect.maxX,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,c,n),this._pictureLastRect.maxX+=c}t&&(this._updatePicture(),this._fogMap.sysnData())},c._updatePicture=function(){var t=this._pictureLastRect.maxX-this._pictureLastRect.minX,i=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.set(this._pictureLastRect.minX,this._pictureLastRect.minY),this._fogNodeRoot.uiTransform.convertToWorldSpaceAR(G,G),this._worldRect.set(G.x,G.y,t,i),this._topPictureNode.uiTransform.setContentSize(t,40),Z.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.maxY),this._topPictureNode.setPosition(Z),this._bottonPictureNode.uiTransform.setContentSize(t,40),Z.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.minY),this._bottonPictureNode.setPosition(Z),this._leftPictureNode.uiTransform.setContentSize(40,i),Z.set(this._pictureLastRect.minX,this._pictureLastRect.minY+i/2),this._leftPictureNode.setPosition(Z),this._rightPictureNode.uiTransform.setContentSize(40,i),Z.set(this._pictureLastRect.maxX,this._pictureLastRect.minY+i/2),this._rightPictureNode.setPosition(Z)},c.logicUpdate=function(t){this._updatePictureRectView();for(var i=0;i<4;++i)if(1==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var e=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_WHITE_TM);W.a=P.HIT_ANI.OPC*e,this._hitSprs[i].color=W,e>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=2)}else if(2==this._hitStatusArr[i])this._hitTimesArr[i]+=t,this._hitTimesArr[i]>P.HIT_ANI.WHITE_TM&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=3);else if(3==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var r=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_OPC_TM);W.a=P.HIT_ANI.OPC*(1-r),this._hitSprs[i].color=W,r>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=0)}},c.updateFog=function(){var t=L.runtime.control.roleMgr.mainHero;t&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t.pos,G),G.x-t.realRadius<this._pictureRect.minX&&(this._pictureRect.minX=Math.max(0,G.x-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[2]&&(this._hitStatusArr[2]=1,this._hitTimesArr[2]=0)),G.x+t.realRadius>this._pictureRect.maxX&&(this._pictureRect.maxX=Math.min(this._width,G.x+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[3]&&(this._hitStatusArr[3]=1,this._hitTimesArr[3]=0)),G.y-t.realRadius<this._pictureRect.minY&&(this._pictureRect.minY=Math.max(0,G.y-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[1]&&(this._hitStatusArr[1]=1,this._hitTimesArr[1]=0)),G.y+t.realRadius>this._pictureRect.maxY&&(this._pictureRect.maxY=Math.min(this._height,G.y+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[0]&&(this._hitStatusArr[0]=1,this._hitTimesArr[0]=0)))},c.showNoneCircleFog=function(t,i){},c._clearFogByWeapon=function(t,i,e,r){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i,this._endPos),m.subtract(G,this._endPos,this._startPos),G.normalize(),r-=20;var s=this._endPos.x+G.x*r,o=this._endPos.y+G.y*r;this._fogMap.clearFog(this._endPos.x,this._endPos.y,s,o,80),this._fogMap.circle(this._endPos.x+G.x*(r-20),this._endPos.y+G.y*(r-20),40)},c._clearFogCicle=function(t,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,G),this._fogMap.circle(G.x,G.y,i)},c.clear=function(){this._fogMap.clear()},i}(d)).prototype,"_fogFrame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(w.prototype,"_fogNodeRoot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(w.prototype,"_pictureNodeRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(w.prototype,"_topPictureNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(w.prototype,"_bottonPictureNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(w.prototype,"_leftPictureNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(w.prototype,"_rightPictureNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(w.prototype,"_hitSprs",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=w))||Y)),new p),G=new m,Z=new m,k=new R(0,0,0,0),W=new R(255,255,255,0);c._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFog2Cmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp5.ts","./FogMap5.ts","./ZDConst5.ts","./ZDGameState5.ts"],(function(t){var i,e,r,s,o,a,c,n,h,u,_,p,m,R,l,f,d,g,P,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,n=t._decorator,h=t.SpriteFrame,u=t.Node,_=t.Sprite,p=t.Vec2,m=t.Vec3,R=t.Color,l=t.Rect,f=t.math},function(t){d=t.LevelMapBaseCmp5},function(t){g=t.FogMap},function(t){P=t.PICTURE_CFG},function(t){L=t.ZDGameState5}],execute:function(){var N,x,T,y,v,S,A,X,Y,w,b,M,E,F,C,I,z,D,O;c._RF.push({},"9a2c6aagWpNHJfJi4WOU4o4","LevelMapFog2Cmp5",void 0);var H=n.ccclass,W=n.property,B=(t("LevelMapFog2Cmp5",(N=H("LevelMapFog2Cmp5"),x=W({type:h,visible:!0}),T=W({type:u,visible:!0}),y=W({type:u,visible:!0}),v=W({type:u,visible:!0}),S=W({type:u,visible:!0}),A=W({type:u,visible:!0}),X=W({type:u,visible:!0}),Y=W({type:[_],visible:!0,displayName:"受击效果",tooltip:"上下左右"}),N((M=i((b=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"_fogFrame",M,s(i)),r(i,"_fogNodeRoot",E,s(i)),r(i,"_pictureNodeRoot",F,s(i)),r(i,"_topPictureNode",C,s(i)),r(i,"_bottonPictureNode",I,s(i)),r(i,"_leftPictureNode",z,s(i)),r(i,"_rightPictureNode",D,s(i)),r(i,"_hitSprs",O,s(i)),i._fogMap=void 0,i._startPos=new m,i._endPos=new m,i._height=void 0,i._width=void 0,i._pictureLastRect={minX:0,maxX:0,minY:0,maxY:0},i._pictureRect={minX:0,maxX:0,minY:0,maxY:0},i._hitStatusArr=[0,0,0,0],i._hitTimesArr=[0,0,0,0],i._worldRect=new l,i}e(i,t);var c=i.prototype;return c.isInPictureRect=function(t){return B.set(t.x,t.y),this._worldRect.contains(B)},c.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._pictureNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._pictureNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(V,V,V,0,0,0),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),L.runtime.isLoadingEnd=!0},c.onEnter=function(){var t=o(a().mark((function t(){var i,e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=L.runtime.control.roleMgr.mainHero)&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i.pos,G),e=this._topPictureNode.uiTransform.contentSize.width,r=this._leftPictureNode.uiTransform.contentSize.height,this._pictureLastRect.minX=this._pictureRect.minX=G.x-e/2,this._pictureLastRect.maxX=this._pictureRect.maxX=G.x+e/2,this._pictureLastRect.minY=this._pictureRect.minY=G.y-r/2,this._pictureLastRect.maxY=this._pictureRect.maxY=G.y+r/2,G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,this._pictureRect.maxX-this._pictureLastRect.minX,this._pictureRect.maxY-this._pictureLastRect.minY),this._updatePicture(),this._fogMap.sysnData());case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onRemoveFromParent=function(){this._fogNodeRoot.removeFromParent(),this._pictureNodeRoot.removeFromParent()},c.onSetParent=function(){this._fogNodeRoot.parent=L.runtime.ui.mapLayer.mapTop,this._pictureNodeRoot.parent=L.runtime.ui.mapLayer.mapTop},c._updatePictureRectView=function(){var t=!1;if(this._pictureLastRect.maxY!=this._pictureRect.maxY){t=!0;var i=this._pictureLastRect.maxX-this._pictureLastRect.minX,e=Math.min(this._pictureRect.maxY-this._pictureLastRect.maxY,P.OPEN_SPEED);G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.maxY,this._fogMap.drawRect(G,i,e),this._pictureLastRect.maxY+=e}if(this._pictureLastRect.minY!=this._pictureRect.minY){t=!0;var r=this._pictureLastRect.maxX-this._pictureLastRect.minX,s=Math.min(this._pictureLastRect.minY-this._pictureRect.minY,P.OPEN_SPEED);G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.minY-s,this._fogMap.drawRect(G,r,s),this._pictureLastRect.minY-=s}if(this._pictureLastRect.minX!=this._pictureRect.minX){t=!0;var o=Math.min(this._pictureLastRect.minX-this._pictureRect.minX,P.OPEN_SPEED),a=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.x=this._pictureLastRect.minX-o,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,o,a),this._pictureLastRect.minX-=o}if(this._pictureLastRect.maxX!=this._pictureRect.maxX){t=!0;var c=Math.min(this._pictureRect.maxX-this._pictureLastRect.maxX,P.OPEN_SPEED),n=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.x=this._pictureLastRect.maxX,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,c,n),this._pictureLastRect.maxX+=c}t&&(this._updatePicture(),this._fogMap.sysnData())},c._updatePicture=function(){var t=this._pictureLastRect.maxX-this._pictureLastRect.minX,i=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.set(this._pictureLastRect.minX,this._pictureLastRect.minY),this._fogNodeRoot.uiTransform.convertToWorldSpaceAR(G,G),this._worldRect.set(G.x,G.y,t,i),this._topPictureNode.uiTransform.setContentSize(t,40),Z.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.maxY),this._topPictureNode.setPosition(Z),this._bottonPictureNode.uiTransform.setContentSize(t,40),Z.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.minY),this._bottonPictureNode.setPosition(Z),this._leftPictureNode.uiTransform.setContentSize(40,i),Z.set(this._pictureLastRect.minX,this._pictureLastRect.minY+i/2),this._leftPictureNode.setPosition(Z),this._rightPictureNode.uiTransform.setContentSize(40,i),Z.set(this._pictureLastRect.maxX,this._pictureLastRect.minY+i/2),this._rightPictureNode.setPosition(Z)},c.logicUpdate=function(t){this._updatePictureRectView();for(var i=0;i<4;++i)if(1==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var e=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_WHITE_TM);k.a=P.HIT_ANI.OPC*e,this._hitSprs[i].color=k,e>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=2)}else if(2==this._hitStatusArr[i])this._hitTimesArr[i]+=t,this._hitTimesArr[i]>P.HIT_ANI.WHITE_TM&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=3);else if(3==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var r=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_OPC_TM);k.a=P.HIT_ANI.OPC*(1-r),this._hitSprs[i].color=k,r>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=0)}},c.updateFog=function(){var t=L.runtime.control.roleMgr.mainHero;t&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t.pos,G),G.x-t.realRadius<this._pictureRect.minX&&(this._pictureRect.minX=Math.max(0,G.x-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[2]&&(this._hitStatusArr[2]=1,this._hitTimesArr[2]=0)),G.x+t.realRadius>this._pictureRect.maxX&&(this._pictureRect.maxX=Math.min(this._width,G.x+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[3]&&(this._hitStatusArr[3]=1,this._hitTimesArr[3]=0)),G.y-t.realRadius<this._pictureRect.minY&&(this._pictureRect.minY=Math.max(0,G.y-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[1]&&(this._hitStatusArr[1]=1,this._hitTimesArr[1]=0)),G.y+t.realRadius>this._pictureRect.maxY&&(this._pictureRect.maxY=Math.min(this._height,G.y+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[0]&&(this._hitStatusArr[0]=1,this._hitTimesArr[0]=0)))},c.showNoneCircleFog=function(t,i){},c._clearFogByWeapon=function(t,i,e,r){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i,this._endPos),m.subtract(G,this._endPos,this._startPos),G.normalize(),r-=20;var s=this._endPos.x+G.x*r,o=this._endPos.y+G.y*r;this._fogMap.clearFog(this._endPos.x,this._endPos.y,s,o,80),this._fogMap.circle(this._endPos.x+G.x*(r-20),this._endPos.y+G.y*(r-20),40)},c._clearFogCicle=function(t,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,G),this._fogMap.circle(G.x,G.y,i)},c.clear=function(){this._fogMap.clear()},i}(d)).prototype,"_fogFrame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(b.prototype,"_fogNodeRoot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(b.prototype,"_pictureNodeRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(b.prototype,"_topPictureNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(b.prototype,"_bottonPictureNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(b.prototype,"_leftPictureNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(b.prototype,"_rightPictureNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(b.prototype,"_hitSprs",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=b))||w)),new p),G=new m,Z=new m,V=new R(0,0,0,0),k=new R(255,255,255,0);c._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFog2Cmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp6.ts","./FogMap6.ts","./ZDConst6.ts","./ZDGameState6.ts"],(function(t){var i,e,r,s,o,a,c,n,h,u,_,p,m,R,l,f,d,g,P,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,n=t._decorator,h=t.SpriteFrame,u=t.Node,_=t.Sprite,p=t.Vec2,m=t.Vec3,R=t.Color,l=t.Rect,f=t.math},function(t){d=t.LevelMapBaseCmp6},function(t){g=t.FogMap},function(t){P=t.PICTURE_CFG},function(t){L=t.ZDGameState6}],execute:function(){var x,N,T,y,v,S,A,X,Y,b,w,M,E,F,C,I,z,D,O;c._RF.push({},"0662cMA1v5Kuo7bZByeC2Lz","LevelMapFog2Cmp6",void 0);var H=n.ccclass,B=n.property,Z=(t("LevelMapFog2Cmp6",(x=H("LevelMapFog2Cmp6"),N=B({type:h,visible:!0}),T=B({type:u,visible:!0}),y=B({type:u,visible:!0}),v=B({type:u,visible:!0}),S=B({type:u,visible:!0}),A=B({type:u,visible:!0}),X=B({type:u,visible:!0}),Y=B({type:[_],visible:!0,displayName:"受击效果",tooltip:"上下左右"}),x((M=i((w=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"_fogFrame",M,s(i)),r(i,"_fogNodeRoot",E,s(i)),r(i,"_pictureNodeRoot",F,s(i)),r(i,"_topPictureNode",C,s(i)),r(i,"_bottonPictureNode",I,s(i)),r(i,"_leftPictureNode",z,s(i)),r(i,"_rightPictureNode",D,s(i)),r(i,"_hitSprs",O,s(i)),i._fogMap=void 0,i._startPos=new m,i._endPos=new m,i._height=void 0,i._width=void 0,i._pictureLastRect={minX:0,maxX:0,minY:0,maxY:0},i._pictureRect={minX:0,maxX:0,minY:0,maxY:0},i._hitStatusArr=[0,0,0,0],i._hitTimesArr=[0,0,0,0],i._worldRect=new l,i}e(i,t);var c=i.prototype;return c.isInPictureRect=function(t){return Z.set(t.x,t.y),this._worldRect.contains(Z)},c.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._pictureNodeRoot.uiTransform.setAnchorPoint(p.ZERO),this._pictureNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(W,W,W,0,0,0),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),L.runtime.isLoadingEnd=!0},c.onEnter=function(){var t=o(a().mark((function t(){var i,e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=L.runtime.control.roleMgr.mainHero)&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i.pos,G),e=this._topPictureNode.uiTransform.contentSize.width,r=this._leftPictureNode.uiTransform.contentSize.height,this._pictureLastRect.minX=this._pictureRect.minX=G.x-e/2,this._pictureLastRect.maxX=this._pictureRect.maxX=G.x+e/2,this._pictureLastRect.minY=this._pictureRect.minY=G.y-r/2,this._pictureLastRect.maxY=this._pictureRect.maxY=G.y+r/2,G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,this._pictureRect.maxX-this._pictureLastRect.minX,this._pictureRect.maxY-this._pictureLastRect.minY),this._updatePicture(),this._fogMap.sysnData());case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onRemoveFromParent=function(){this._fogNodeRoot.removeFromParent(),this._pictureNodeRoot.removeFromParent()},c.onSetParent=function(){this._fogNodeRoot.parent=L.runtime.ui.mapLayer.mapTop,this._pictureNodeRoot.parent=L.runtime.ui.mapLayer.mapTop},c._updatePictureRectView=function(){var t=!1;if(this._pictureLastRect.maxY!=this._pictureRect.maxY){t=!0;var i=this._pictureLastRect.maxX-this._pictureLastRect.minX,e=Math.min(this._pictureRect.maxY-this._pictureLastRect.maxY,P.OPEN_SPEED);G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.maxY,this._fogMap.drawRect(G,i,e),this._pictureLastRect.maxY+=e}if(this._pictureLastRect.minY!=this._pictureRect.minY){t=!0;var r=this._pictureLastRect.maxX-this._pictureLastRect.minX,s=Math.min(this._pictureLastRect.minY-this._pictureRect.minY,P.OPEN_SPEED);G.x=this._pictureLastRect.minX,G.y=this._pictureLastRect.minY-s,this._fogMap.drawRect(G,r,s),this._pictureLastRect.minY-=s}if(this._pictureLastRect.minX!=this._pictureRect.minX){t=!0;var o=Math.min(this._pictureLastRect.minX-this._pictureRect.minX,P.OPEN_SPEED),a=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.x=this._pictureLastRect.minX-o,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,o,a),this._pictureLastRect.minX-=o}if(this._pictureLastRect.maxX!=this._pictureRect.maxX){t=!0;var c=Math.min(this._pictureRect.maxX-this._pictureLastRect.maxX,P.OPEN_SPEED),n=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.x=this._pictureLastRect.maxX,G.y=this._pictureLastRect.minY,this._fogMap.drawRect(G,c,n),this._pictureLastRect.maxX+=c}t&&(this._updatePicture(),this._fogMap.sysnData())},c._updatePicture=function(){var t=this._pictureLastRect.maxX-this._pictureLastRect.minX,i=this._pictureLastRect.maxY-this._pictureLastRect.minY;G.set(this._pictureLastRect.minX,this._pictureLastRect.minY),this._fogNodeRoot.uiTransform.convertToWorldSpaceAR(G,G),this._worldRect.set(G.x,G.y,t,i),this._topPictureNode.uiTransform.setContentSize(t,40),V.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.maxY),this._topPictureNode.setPosition(V),this._bottonPictureNode.uiTransform.setContentSize(t,40),V.set(this._pictureLastRect.minX+t/2,this._pictureLastRect.minY),this._bottonPictureNode.setPosition(V),this._leftPictureNode.uiTransform.setContentSize(40,i),V.set(this._pictureLastRect.minX,this._pictureLastRect.minY+i/2),this._leftPictureNode.setPosition(V),this._rightPictureNode.uiTransform.setContentSize(40,i),V.set(this._pictureLastRect.maxX,this._pictureLastRect.minY+i/2),this._rightPictureNode.setPosition(V)},c.logicUpdate=function(t){this._updatePictureRectView();for(var i=0;i<4;++i)if(1==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var e=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_WHITE_TM);k.a=P.HIT_ANI.OPC*e,this._hitSprs[i].color=k,e>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=2)}else if(2==this._hitStatusArr[i])this._hitTimesArr[i]+=t,this._hitTimesArr[i]>P.HIT_ANI.WHITE_TM&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=3);else if(3==this._hitStatusArr[i]){this._hitTimesArr[i]+=t;var r=f.clamp01(this._hitTimesArr[i]/P.HIT_ANI.TO_OPC_TM);k.a=P.HIT_ANI.OPC*(1-r),this._hitSprs[i].color=k,r>=1&&(this._hitTimesArr[i]=0,this._hitStatusArr[i]=0)}},c.updateFog=function(){var t=L.runtime.control.roleMgr.mainHero;t&&(this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t.pos,G),G.x-t.realRadius<this._pictureRect.minX&&(this._pictureRect.minX=Math.max(0,G.x-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[2]&&(this._hitStatusArr[2]=1,this._hitTimesArr[2]=0)),G.x+t.realRadius>this._pictureRect.maxX&&(this._pictureRect.maxX=Math.min(this._width,G.x+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[3]&&(this._hitStatusArr[3]=1,this._hitTimesArr[3]=0)),G.y-t.realRadius<this._pictureRect.minY&&(this._pictureRect.minY=Math.max(0,G.y-t.realRadius-P.OPEN_DIS),0==this._hitStatusArr[1]&&(this._hitStatusArr[1]=1,this._hitTimesArr[1]=0)),G.y+t.realRadius>this._pictureRect.maxY&&(this._pictureRect.maxY=Math.min(this._height,G.y+t.realRadius+P.OPEN_DIS),0==this._hitStatusArr[0]&&(this._hitStatusArr[0]=1,this._hitTimesArr[0]=0)))},c.showNoneCircleFog=function(t,i){},c._clearFogByWeapon=function(t,i,e,r){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(i,this._endPos),m.subtract(G,this._endPos,this._startPos),G.normalize(),r-=20;var s=this._endPos.x+G.x*r,o=this._endPos.y+G.y*r;this._fogMap.clearFog(this._endPos.x,this._endPos.y,s,o,80),this._fogMap.circle(this._endPos.x+G.x*(r-20),this._endPos.y+G.y*(r-20),40)},c._clearFogCicle=function(t,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,G),this._fogMap.circle(G.x,G.y,i)},c.clear=function(){this._fogMap.clear()},i}(d)).prototype,"_fogFrame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(w.prototype,"_fogNodeRoot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(w.prototype,"_pictureNodeRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(w.prototype,"_topPictureNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(w.prototype,"_bottonPictureNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(w.prototype,"_leftPictureNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(w.prototype,"_rightPictureNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(w.prototype,"_hitSprs",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=w))||b)),new p),G=new m,V=new m,W=new R(0,0,0,0),k=new R(255,255,255,0);c._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFogCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./FogMap.ts","./ZDGameState.ts","./LevelMapBaseCmp.ts"],(function(t){var e,o,i,r,n,a,s,l,p,h,c,u,_,g,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.SpriteFrame,l=t.Node,p=t.Color,h=t.CCInteger,c=t.Vec3,u=t.Vec2},function(t){_=t.YT},function(t){g=t.FogMap},function(t){f=t.ZDGameState},function(t){d=t.LevelMapBaseCmp}],execute:function(){var b,y,m,v,w,M,C,F,N,P,R,T,z,H,L,S,x,B,D;n._RF.push({},"e3b77QSvMNLXaoKf8ytrbMT","LevelMapFogCmp",void 0);var A=a.ccclass,G=a.property,I=(t("LevelMapFogCmp",(b=A("LevelMapFogCmp"),y=G({type:s,visible:!0}),m=G({type:l,visible:!0}),v=G({type:p,displayName:"顶部颜色1",visible:!0}),w=G({type:p,displayName:"顶部颜色2",visible:!0}),M=G({type:p,displayName:"底部颜色",visible:!0}),C=G({type:h,displayName:"顶部高度1",visible:!0}),F=G({type:h,displayName:"顶部高度2",visible:!0}),N=G({type:h,displayName:"底部高度",visible:!0}),b((T=e((R=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,i(e,"_fogFrame",T,r(e)),i(e,"_fogNodeRoot",z,r(e)),i(e,"_top1Color",H,r(e)),i(e,"_top2Color",L,r(e)),i(e,"_bottonColor",S,r(e)),i(e,"_top1Height",x,r(e)),i(e,"_top2Height",B,r(e)),i(e,"_bottonHeight",D,r(e)),e._fogMap=void 0,e._startPos=new c,e._endPos=new c,e._height=void 0,e._width=void 0,e}o(e,t);var n=e.prototype;return n.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(u.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(this._top1Color,this._top2Color,this._bottonColor,this._top1Height,this._top2Height,this._bottonHeight),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),f.runtime.isLoadingEnd=!0},n.updateFog=function(){var t=f.runtime.control.roleMgr.mainHero;if(t){this._clearFogCicle(t.pos,t.initRadius);var e=t.weaponModule.weapons,o=-10,i=2*Math.PI/20;_.isGM&&(i=2*Math.PI/50);for(var r=0;r<e.length;++r){var n=e[r].radian;Math.abs(n-o)>i&&(o=n,this._clearFogByWeapon(t.pos,e[r].worldPos,t.initRadius,t.weaponModule.cfg.width))}this._fogMap.sysnData()}},n.showNoneCircleFog=function(t,e){this._clearFogCicle(t,e)},n._clearFogByWeapon=function(t,e,o,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(e,this._endPos),c.subtract(I,this._endPos,this._startPos),I.normalize();i-=40,this._fogMap.circle(this._endPos.x+I.x*i,this._endPos.y+I.y*i,40);var r=this._endPos.x+I.x*i,n=this._endPos.y+I.y*i;this._fogMap.clearFog(this._endPos.x,this._endPos.y,r,n,80)},n._clearFogCicle=function(t,e){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,I),this._fogMap.circle(I.x,I.y,e)},n.clear=function(){this._fogMap.clear()},e}(d)).prototype,"_fogFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(R.prototype,"_fogNodeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(R.prototype,"_top1Color",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(101,135,23,255)}}),L=e(R.prototype,"_top2Color",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(60,60,20,160)}}),S=e(R.prototype,"_bottonColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(101,135,23,255)}}),x=e(R.prototype,"_top1Height",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),B=e(R.prototype,"_top2Height",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),D=e(R.prototype,"_bottonHeight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=R))||P)),new c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFogCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./FogMap3.ts","./ZDGameState3.ts","./LevelMapBaseCmp3.ts"],(function(e){var o,t,i,r,n,a,s,l,p,c,h,u,g,f,_,d;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.SpriteFrame,l=e.Node,p=e.CCInteger,c=e.Vec3,h=e.Vec2,u=e.Color},function(e){g=e.YT},function(e){f=e.FogMap3},function(e){_=e.ZDGameState3},function(e){d=e.LevelMapBaseCmp3}],execute:function(){var b,m,y,v,w,M,C,F,N,R,P,T,z,H,L,S,B,D,x;n._RF.push({},"5475acrBOlMaoyznSOankyY","LevelMapFogCmp3",void 0);var A=a.ccclass,G=a.property,I=(e("LevelMapFogCmp3",(b=A("LevelMapFogCmp3"),m=G({type:s,visible:!0}),y=G({type:l,visible:!0}),v=G({displayName:"顶部颜色1",visible:!0}),w=G({displayName:"顶部颜色2",visible:!0}),M=G({displayName:"底部颜色",visible:!0}),C=G({type:p,displayName:"顶部高度1",visible:!0}),F=G({type:p,displayName:"顶部高度2",visible:!0}),N=G({type:p,displayName:"底部高度",visible:!0}),b((T=o((P=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o=e.call.apply(e,[this].concat(n))||this,i(o,"_fogFrame",T,r(o)),i(o,"_fogNodeRoot",z,r(o)),i(o,"_top1Color",H,r(o)),i(o,"_top2Color",L,r(o)),i(o,"_bottonColor",S,r(o)),i(o,"_top1Height",B,r(o)),i(o,"_top2Height",D,r(o)),i(o,"_bottonHeight",x,r(o)),o._fogMap=void 0,o._startPos=new c,o._endPos=new c,o._height=void 0,o._width=void 0,o}t(o,e);var n=o.prototype;return n.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(h.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new f(this._width,this._height),this._fogMap.setStyle(this._top1Color,this._top2Color,this._bottonColor,this._top1Height,this._top2Height,this._bottonHeight),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),_.runtime.isLoadingEnd=!0},n.updateFog=function(){var e=_.runtime.control.roleMgr.mainHero;if(e){var o=e.weaponRadius;this._clearFogCicle(e.pos,o);var t=e.weaponModule.weapons,i=-10,r=2*Math.PI/20;g.isGM&&(r=2*Math.PI/50);for(var n=0;n<t.length;++n){var a=t[n].radian;Math.abs(a-i)>r&&(i=a,this._clearFogByWeapon(e.pos,t[n].worldPos,o,e.weaponModule.fogClearRadius))}this._fogMap.sysnData()}},n.showNoneCircleFog=function(e,o){this._clearFogCicle(e,o)},n._clearFogByWeapon=function(e,o,t,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(e,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(o,this._endPos),c.subtract(I,this._endPos,this._startPos);var r=I.length();I.normalize();var n=(r-t+i)/2;this._fogMap.circle(this._endPos.x-I.x*n,this._endPos.y-I.y*n,n)},n._clearFogCicle=function(e,o){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(e,I),this._fogMap.circle(I.x,I.y,o)},n.clear=function(){this._fogMap.clear()},o}(d)).prototype,"_fogFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=o(P.prototype,"_fogNodeRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(P.prototype,"_top1Color",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(101,135,23,255)}}),L=o(P.prototype,"_top2Color",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(60,60,20,160)}}),S=o(P.prototype,"_bottonColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(101,135,23,255)}}),B=o(P.prototype,"_top1Height",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),D=o(P.prototype,"_top2Height",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),x=o(P.prototype,"_bottonHeight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),R=P))||R)),new c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFogCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./FogMap4.ts","./ZDGameState4.ts","./LevelMapBaseCmp4.ts"],(function(t){var e,o,i,r,n,a,s,l,p,h,c,u,_,g,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.SpriteFrame,l=t.Node,p=t.Color,h=t.CCInteger,c=t.Vec3,u=t.Vec2},function(t){_=t.YT},function(t){g=t.FogMap},function(t){f=t.ZDGameState4},function(t){d=t.LevelMapBaseCmp4}],execute:function(){var b,y,m,v,w,M,C,F,N,P,R,T,z,H,L,x,S,A,B;n._RF.push({},"f246cAz1+xNrYGG3s6EXi6E","LevelMapFogCmp4",void 0);var D=a.ccclass,G=a.property,E=(t("LevelMapFogCmp4",(b=D("LevelMapFogCmp4"),y=G({type:s,visible:!0}),m=G({type:l,visible:!0}),v=G({type:p,displayName:"顶部颜色1",visible:!0}),w=G({type:p,displayName:"顶部颜色2",visible:!0}),M=G({type:p,displayName:"底部颜色",visible:!0}),C=G({type:h,displayName:"顶部高度1",visible:!0}),F=G({type:h,displayName:"顶部高度2",visible:!0}),N=G({type:h,displayName:"底部高度",visible:!0}),b((T=e((R=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,i(e,"_fogFrame",T,r(e)),i(e,"_fogNodeRoot",z,r(e)),i(e,"_top1Color",H,r(e)),i(e,"_top2Color",L,r(e)),i(e,"_bottonColor",x,r(e)),i(e,"_top1Height",S,r(e)),i(e,"_top2Height",A,r(e)),i(e,"_bottonHeight",B,r(e)),e._fogMap=void 0,e._startPos=new c,e._endPos=new c,e._height=void 0,e._width=void 0,e}o(e,t);var n=e.prototype;return n.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(u.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(this._top1Color,this._top2Color,this._bottonColor,this._top1Height,this._top2Height,this._bottonHeight),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),f.runtime.isLoadingEnd=!0},n.updateFog=function(){var t=f.runtime.control.roleMgr.mainHero;if(t){this._clearFogCicle(t.pos,t.initRadius);var e=t.weaponModule.weapons,o=-10,i=2*Math.PI/20;_.isGM&&(i=2*Math.PI/50);for(var r=0;r<e.length;++r){var n=e[r].radian;Math.abs(n-o)>i&&(o=n,this._clearFogByWeapon(t.pos,e[r].worldPos,t.initRadius,t.weaponModule.cfg.width))}this._fogMap.sysnData()}},n.showNoneCircleFog=function(t,e){this._clearFogCicle(t,e)},n._clearFogByWeapon=function(t,e,o,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(e,this._endPos),c.subtract(E,this._endPos,this._startPos),E.normalize();i-=40,this._fogMap.circle(this._endPos.x+E.x*i,this._endPos.y+E.y*i,40);var r=this._endPos.x+E.x*i,n=this._endPos.y+E.y*i;this._fogMap.clearFog(this._endPos.x,this._endPos.y,r,n,80)},n._clearFogCicle=function(t,e){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,E),this._fogMap.circle(E.x,E.y,e)},n.clear=function(){this._fogMap.clear()},e}(d)).prototype,"_fogFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(R.prototype,"_fogNodeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(R.prototype,"_top1Color",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(101,135,23,255)}}),L=e(R.prototype,"_top2Color",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(60,60,20,160)}}),x=e(R.prototype,"_bottonColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(101,135,23,255)}}),S=e(R.prototype,"_top1Height",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),A=e(R.prototype,"_top2Height",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),B=e(R.prototype,"_bottonHeight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=R))||P)),new c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFogCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./FogMap5.ts","./ZDGameState5.ts","./LevelMapBaseCmp5.ts"],(function(t){var e,o,i,r,n,a,s,l,p,h,c,u,_,g,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.SpriteFrame,l=t.Node,p=t.Color,h=t.CCInteger,c=t.Vec3,u=t.Vec2},function(t){_=t.YT},function(t){g=t.FogMap},function(t){f=t.ZDGameState5},function(t){d=t.LevelMapBaseCmp5}],execute:function(){var b,y,m,v,w,M,C,F,N,P,R,T,z,H,L,x,B,S,D;n._RF.push({},"b6198dJOu9BZ53sBIDVyNG0","LevelMapFogCmp5",void 0);var A=a.ccclass,G=a.property,I=(t("LevelMapFogCmp5",(b=A("LevelMapFogCmp5"),y=G({type:s,visible:!0}),m=G({type:l,visible:!0}),v=G({type:p,displayName:"顶部颜色1",visible:!0}),w=G({type:p,displayName:"顶部颜色2",visible:!0}),M=G({type:p,displayName:"底部颜色",visible:!0}),C=G({type:h,displayName:"顶部高度1",visible:!0}),F=G({type:h,displayName:"顶部高度2",visible:!0}),N=G({type:h,displayName:"底部高度",visible:!0}),b((T=e((R=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,i(e,"_fogFrame",T,r(e)),i(e,"_fogNodeRoot",z,r(e)),i(e,"_top1Color",H,r(e)),i(e,"_top2Color",L,r(e)),i(e,"_bottonColor",x,r(e)),i(e,"_top1Height",B,r(e)),i(e,"_top2Height",S,r(e)),i(e,"_bottonHeight",D,r(e)),e._fogMap=void 0,e._startPos=new c,e._endPos=new c,e._height=void 0,e._width=void 0,e}o(e,t);var n=e.prototype;return n.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(u.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(this._top1Color,this._top2Color,this._bottonColor,this._top1Height,this._top2Height,this._bottonHeight),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),f.runtime.isLoadingEnd=!0},n.updateFog=function(){var t=f.runtime.control.roleMgr.mainHero;if(t){this._clearFogCicle(t.pos,t.initRadius);var e=t.weaponModule.weapons,o=-10,i=2*Math.PI/20;_.isGM&&(i=2*Math.PI/50);for(var r=0;r<e.length;++r){var n=e[r].radian;Math.abs(n-o)>i&&(o=n,this._clearFogByWeapon(t.pos,e[r].worldPos,t.initRadius,t.weaponModule.cfg.width))}this._fogMap.sysnData()}},n.showNoneCircleFog=function(t,e){this._clearFogCicle(t,e)},n._clearFogByWeapon=function(t,e,o,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(e,this._endPos),c.subtract(I,this._endPos,this._startPos),I.normalize();i-=40,this._fogMap.circle(this._endPos.x+I.x*i,this._endPos.y+I.y*i,40);var r=this._endPos.x+I.x*i,n=this._endPos.y+I.y*i;this._fogMap.clearFog(this._endPos.x,this._endPos.y,r,n,80)},n._clearFogCicle=function(t,e){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,I),this._fogMap.circle(I.x,I.y,e)},n.clear=function(){this._fogMap.clear()},e}(d)).prototype,"_fogFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(R.prototype,"_fogNodeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(R.prototype,"_top1Color",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(101,135,23,255)}}),L=e(R.prototype,"_top2Color",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(60,60,20,160)}}),x=e(R.prototype,"_bottonColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(101,135,23,255)}}),B=e(R.prototype,"_top1Height",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),S=e(R.prototype,"_top2Height",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),D=e(R.prototype,"_bottonHeight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=R))||P)),new c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMapFogCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./FogMap6.ts","./ZDGameState6.ts","./LevelMapBaseCmp6.ts"],(function(e){var t,o,i,r,n,a,s,l,p,h,c,u,_,g,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.SpriteFrame,l=e.Node,p=e.Color,h=e.CCInteger,c=e.Vec3,u=e.Vec2},function(e){_=e.YT},function(e){g=e.FogMap},function(e){f=e.ZDGameState6},function(e){d=e.LevelMapBaseCmp6}],execute:function(){var b,y,m,v,w,M,C,F,N,P,R,T,z,H,L,x,S,B,D;n._RF.push({},"378e2WjdJFP2IhT4E8weseN","LevelMapFogCmp6",void 0);var A=a.ccclass,I=a.property,G=(e("LevelMapFogCmp6",(b=A("LevelMapFogCmp6"),y=I({type:s,visible:!0}),m=I({type:l,visible:!0}),v=I({type:p,displayName:"顶部颜色1",visible:!0}),w=I({type:p,displayName:"顶部颜色2",visible:!0}),M=I({type:p,displayName:"底部颜色",visible:!0}),C=I({type:h,displayName:"顶部高度1",visible:!0}),F=I({type:h,displayName:"顶部高度2",visible:!0}),N=I({type:h,displayName:"底部高度",visible:!0}),b((T=t((R=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"_fogFrame",T,r(t)),i(t,"_fogNodeRoot",z,r(t)),i(t,"_top1Color",H,r(t)),i(t,"_top2Color",L,r(t)),i(t,"_bottonColor",x,r(t)),i(t,"_top1Height",S,r(t)),i(t,"_top2Height",B,r(t)),i(t,"_bottonHeight",D,r(t)),t._fogMap=void 0,t._startPos=new c,t._endPos=new c,t._height=void 0,t._width=void 0,t}o(t,e);var n=t.prototype;return n.onLoad=function(){this._width=this.node.uiTransform.width,this._height=this.node.uiTransform.height,this._fogNodeRoot.uiTransform.setAnchorPoint(u.ZERO),this._fogNodeRoot.setPosition(this._width/2*-1,this._height/2*-1),this._fogMap=new g(this._width,this._height),this._fogMap.setStyle(this._top1Color,this._top2Color,this._bottonColor,this._top1Height,this._top2Height,this._bottonHeight),this._fogMap.initBlock(this._fogNodeRoot,this._fogFrame.getGFXTexture()),f.runtime.isLoadingEnd=!0},n.updateFog=function(){var e=f.runtime.control.roleMgr.mainHero;if(e){this._clearFogCicle(e.pos,e.initRadius);var t=e.weaponModule.weapons,o=-10,i=2*Math.PI/20;_.isGM&&(i=2*Math.PI/50);for(var r=0;r<t.length;++r){var n=t[r].radian;Math.abs(n-o)>i&&(o=n,this._clearFogByWeapon(e.pos,t[r].worldPos,e.initRadius,e.weaponModule.cfg.width))}this._fogMap.sysnData()}},n.showNoneCircleFog=function(e,t){this._clearFogCicle(e,t)},n._clearFogByWeapon=function(e,t,o,i){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(e,this._startPos),this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(t,this._endPos),c.subtract(G,this._endPos,this._startPos),G.normalize();i-=40,this._fogMap.circle(this._endPos.x+G.x*i,this._endPos.y+G.y*i,40);var r=this._endPos.x+G.x*i,n=this._endPos.y+G.y*i;this._fogMap.clearFog(this._endPos.x,this._endPos.y,r,n,80)},n._clearFogCicle=function(e,t){this._fogNodeRoot.uiTransform.convertToNodeSpaceAR(e,G),this._fogMap.circle(G.x,G.y,t)},n.clear=function(){this._fogMap.clear()},t}(d)).prototype,"_fogFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(R.prototype,"_fogNodeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(R.prototype,"_top1Color",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(101,135,23,255)}}),L=t(R.prototype,"_top2Color",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(60,60,20,160)}}),x=t(R.prototype,"_bottonColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(101,135,23,255)}}),S=t(R.prototype,"_top1Height",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),B=t(R.prototype,"_top2Height",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),D=t(R.prototype,"_bottonHeight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=R))||P)),new c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMergeState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./SDMAudio.ts","./SDMBattleView.ts","./SDMSuperStartView.ts","./ELevelState.ts","./LevelStateBase.ts"],(function(t){var e,n,i,r,s,o,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.YT},function(t){r=t.SDMAudio},function(t){s=t.SDMBattleView},function(t){o=t.SDMSuperStartView},function(t){a=t.ELevelState},function(t){c=t.default}],execute:function(){n._RF.push({},"ec229jKjZVF4rTboykZRr1S","LevelMergeState",void 0);t("LevelMergeState",function(t){function n(e){var n;return(n=t.call(this,a.Merge,e)||this).timer=90,n.tick=0,n}e(n,t);var c=n.prototype;return c.OnEnter=function(t,e){this.owener.onMergeStart(),this.timer=this.owener.waveConfig.merge,s.instance.show(),s.instance.merge(),s.instance.updateInfo(this.timer),s.instance.updateCost(this.owener.items.find((function(t){return 1==t.itemId}))),1==this.owener.wave&&o.instance.show(),i.game.setTimeScale(1),r.play(5)},c.OnRunning=function(t,e){this.tick+=e,this.tick>1&&(this.timer-=1,s.instance.updateInfo(this.timer),this.tick=0,this.timer<=0&&this.owener.startBattle())},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelPreAnimState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ELevelState.ts","./LevelStateBase.ts","./SdmConst.ts","./SDMAudio.ts"],(function(e){var o,t,i,r,n,s,l,a,h,d;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,i=e.view,r=e.Vec3,n=e.Animation,s=e.v3},function(e){l=e.ELevelState},function(e){a=e.default},function(e){h=e.SdmConst},function(e){d=e.SDMAudio}],execute:function(){t._RF.push({},"93f41LHrXpJ977kiYiYJ0An","LevelPreAnimState",void 0);e("LevelPreAnimState",function(e){function t(o){var t;return(t=e.call(this,l.PreAnim,o)||this).cameraPosY=1090,t.roleMoveState=0,t.waiteTime=1,t.speed=300,t.trees=[],t}o(t,e);var a=t.prototype;return a.OnEnter=function(e,o){this.owener.camera.setPosition(0,this.cameraPosY);var t=i.getViewportRect(),r=t.height/t.width/1334*750;this.cameraPosY=r>1?1090*r:1090,this.trees=this.owener.enemyRoot.children.filter((function(e){return-1!=e.name.indexOf("tree")})),d.play(2)},a.OnRunning=function(e,o){var t=this,i=this.owener.door.node;if(0==this.roleMoveState)if(this.owener.role.worldPosition.y>i.worldPosition.y+110){var a=this.owener.role.worldPosition.y-h.data.role_move_speed*o,w=this.trees.filter((function(e){return r.distance(e.worldPosition,t.owener.role.worldPosition)<100&&e.worldPosition.y<t.owener.role.worldPosition.y&&e.worldPosition.y>a}));w.length>0&&w.forEach((function(e){e.getComponent(n).play(),d.play(6)})),this.owener.role.setWorldPosition(s(375,a)),this.owener.enemyRoot.children.sort((function(e,o){return o.worldPosition.y-e.worldPosition.y}));for(var c=0;c<this.owener.enemyRoot.children.length;c++){this.owener.enemyRoot.children[c].setSiblingIndex(c)}}else this.roleMoveState=1,this.owener.door.item.anim.play("open");else if(1==this.roleMoveState)this.waiteTime-=o,this.waiteTime<=0&&(this.roleMoveState=2);else if(2==this.roleMoveState)i=this.owener.bed.node,this.owener.role.worldPosition.y>i.worldPosition.y+110?this.owener.role.setWorldPosition(s(375,this.owener.role.worldPosition.y-h.data.role_move_speed*o)):this.roleMoveState=3;else if(3==this.roleMoveState){var P=new r;i=this.owener.bed.node,r.lerp(P,this.owener.role.worldPosition,i.worldPosition,.1),this.owener.role.setWorldPosition(P);var m=r.distance(this.owener.role.worldPosition,i.worldPosition)/100;this.owener.role.setScale(r.ONE.clone().multiplyScalar(m)),m<.2&&(this.owener.role.active=!1,this.roleMoveState=4,this.cameraPosY=0,this.owener.state.ChangeState(l.Merge,null))}this.cameraPosY>0&&(1!=this.roleMoveState&&(this.cameraPosY-=h.data.camera_follow_speed*o),this.owener.camera.setPosition(0,this.cameraPosY),this.cameraPosY<=0&&this.owener.camera.setPosition(0,0))},t}(a));t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelPreBattleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ELevelState.ts","./LevelStateBase.ts"],(function(e){var t,n,a,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e.view},function(e){r=e.ELevelState},function(e){i=e.default}],execute:function(){n._RF.push({},"b4e7aX+fKBDGa6lXF5oQdOf","LevelPreBattleState",void 0);e("LevelPreBattleState",function(e){function n(t){var n;return(n=e.call(this,r.PreBattle,t)||this).cameraPosY=800,n}t(n,e);var i=n.prototype;return i.OnEnter=function(e,t){this.owener.items.forEach((function(e){e.backToStart()})),this.owener.genEnemyWave();var n=a.getViewportRect(),r=n.height/n.width/1334*750;this.cameraPosY=r>1?750*r:750},i.OnRunning=function(e,t){this.cameraPosY>this.owener.camera.position.y?this.owener.camera.setPosition(0,this.owener.camera.y+2e3*t):this.owener.state.ChangeState(r.Battle,null)},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelStateBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseState.ts"],(function(e){var t,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.default}],execute:function(){n._RF.push({},"307ecsWUQBMFJGAaMnkABwO","LevelStateBase",void 0);e("default",function(e){function n(t,n){var s;return(s=e.call(this,t)||this).owener=void 0,s.owener=n,s}return t(n,e),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/LinearPath.ts",["cc","./util.ts"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.cclegacy,n=t.Vec2},function(t){e=t.default,s=t.vec2}],execute:function(){i._RF.push({},"09fa39vAIVOTo2YJzOWGgvQ","LinearPath",void 0);t("LinearPath",function(){function t(t){var i=this;void 0===t&&(t=[]),this.points=[],this.lengthList=[],this.distance=0,this.buffer={},t.forEach((function(t){i.addPoint(t)}))}var i=t.prototype;return i.addPoint=function(t){var i=this.getLastPoint()||t;this.points.push(t);var n=e.distanceObject(i,t);this.distance+=n,this.lengthList.push(this.distance)},i.getLastPoint=function(){return this.points[this.points.length-1]},i.getFirstPoint=function(){return this.points[0]},i.getPointLoc=function(t){var i=Object.values(this.buffer).findIndex((function(i){return i.equals(t)}));if(-1!=i)return Number(Object.keys(this.buffer)[i]);for(var n=1/0,r=0,o=0;o<this.points.length-1;o++)for(var a=this.points[o],h=this.points[o+1],u=e.distanceObject(a,h),c=Math.max(10,Math.floor(u)),f=0;f<=c;f++){var v=f/c,g=s().set(a).lerp(h,v),d=e.distanceObject(t,g);if(d<n){n=d;var l=0===o?0:this.lengthList[o-1];r=(l+(this.lengthList[o]-l)*v)/this.distance}}return r},i.getPointAt=function(t,i){if(void 0===i&&(i=new n),t>=1)return this.getLastPoint();if(t<=0)return this.getFirstPoint();if(this.buffer[t])return this.buffer[t];for(var e=t*this.distance,s=0;this.lengthList[s+1]<e;)s+=1;var r=this.lengthList[s],o=(e-r)/(this.lengthList[s+1]-r),a=this.points[s],h=this.points[s+1];return i.set(a).lerp(h,o),this.buffer[t]=i,i},t.genFromGPath=function(i,n,e){void 0===n&&(n=s()),void 0===e&&(e=2);for(var r=[],o=0;o<i.length;o+=e){var a=i.getPointAt(o/i.length).add(n);r.push(a)}return new t(r)},t.getPathFromGCom=function(i){var n=i.getTransitionAt(0);return t.genFromGPath(n._items[0].tweenConfig.path)},t.genFromIExoticTrack=function(i,n,e){void 0===n&&(n=s()),void 0===e&&(e=1);for(var r=[],o=e,a=0;a<i.times.length;a++){if((o+=i.times[a])>=e){o-=e;var h=i.values._values[3*a],u=(i.values._values[3*a+1],i.values._values[3*a+2]);r.push(s(h,u).add(n))}}return new t(r)},t.genFromAnimation=function(i,n,e){void 0===n&&(n=s()),void 0===e&&(e=1);var r=i.clips[0]._exoticAnimation._nodeAnimations[0]._position;return t.genFromIExoticTrack(r,n,e)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LinearPath2.ts",["cc","./util2.ts"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.cclegacy,n=t.Vec2},function(t){e=t.default,s=t.vec2}],execute:function(){i._RF.push({},"3d642oQGtJGCqztydOcmM1F","LinearPath",void 0);t("LinearPath",function(){function t(t){var i=this;void 0===t&&(t=[]),this.points=[],this.lengthList=[],this.distance=0,t.forEach((function(t){i.addPoint(t)}))}var i=t.prototype;return i.addPoint=function(t){var i=this.getLastPoint()||t;this.points.push(t);var n=e.distanceObject(i,t);this.distance+=n,this.lengthList.push(this.distance)},i.getLastPoint=function(){return this.points[this.points.length-1]},i.getFirstPoint=function(){return this.points[0]},i.getPointAt=function(t,i){if(void 0===i&&(i=new n),t>=1)return this.getLastPoint();for(var e=t*this.distance,s=0;this.lengthList[s+1]<e;)s+=1;var o=this.lengthList[s],r=(e-o)/(this.lengthList[s+1]-o),h=this.points[s],a=this.points[s+1];return i.set(h).lerp(a,r),i},t.genFromGPath=function(i,n,e){void 0===n&&(n=s()),void 0===e&&(e=2);for(var o=[],r=0;r<i.length;r+=e){var h=i.getPointAt(r/i.length).add(n);o.push(h)}return new t(o)},t.getPathFromGCom=function(i,n){var e=n?i.getTransition(n):i.getTransitionAt(0),s=i.getChild("point").localToGlobal();return t.genFromGPath(e._items[e._items.length-1].tweenConfig.path,s)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LinearPath22.ts",["cc","./util22.ts"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.cclegacy,n=t.Vec2},function(t){e=t.default,s=t.vec2}],execute:function(){i._RF.push({},"2323550bphPE7swQmU8gsnc","LinearPath2",void 0);t("LinearPath",function(){function t(t){var i=this;void 0===t&&(t=[]),this.points=[],this.lengthList=[],this.distance=0,t.forEach((function(t){i.addPoint(t)}))}var i=t.prototype;return i.addPoint=function(t){var i=this.getLastPoint()||t;this.points.push(t);var n=e.distanceObject(i,t);this.distance+=n,this.lengthList.push(this.distance)},i.getLastPoint=function(){return this.points[this.points.length-1]},i.getFirstPoint=function(){return this.points[0]},i.getPointAt=function(t,i){if(void 0===i&&(i=new n),t>=1)return this.getLastPoint();for(var e=t*this.distance,s=0;this.lengthList[s+1]<e;)s+=1;var o=this.lengthList[s],r=(e-o)/(this.lengthList[s+1]-o),h=this.points[s],a=this.points[s+1];return i.set(h).lerp(a,r),i},t.genFromGPath=function(i,n,e){void 0===n&&(n=s()),void 0===e&&(e=2);for(var o=[],r=0;r<i.length;r+=e){var h=i.getPointAt(r/i.length).add(n);o.push(h)}return new t(o)},t.getPathFromGCom=function(i,n){var e=n?i.getTransition(n):i.getTransitionAt(0),s=i.getChild("point").localToGlobal();return t.genFromGPath(e._items[e._items.length-1].tweenConfig.path,s)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LinearPath3.ts",["cc","./util3.ts"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.cclegacy,n=t.Vec2},function(t){e=t.default,s=t.vec2}],execute:function(){i._RF.push({},"53b70lNJvhD1oRWwuo3BrTw","LinearPath",void 0);t("LinearPath",function(){function t(t){var i=this;void 0===t&&(t=[]),this.points=[],this.lengthList=[],this.distance=0,t.forEach((function(t){i.addPoint(t)}))}var i=t.prototype;return i.addPoint=function(t){var i=this.getLastPoint()||t;this.points.push(t);var n=e.distanceObject(i,t);this.distance+=n,this.lengthList.push(this.distance)},i.getLastPoint=function(){return this.points[this.points.length-1]},i.getFirstPoint=function(){return this.points[0]},i.getPointAt=function(t,i){if(void 0===i&&(i=new n),t>=1)return this.getLastPoint();for(var e=t*this.distance,s=0;this.lengthList[s+1]<e;)s+=1;var o=this.lengthList[s],r=(e-o)/(this.lengthList[s+1]-o),h=this.points[s],a=this.points[s+1];return i.set(h).lerp(a,r),i},t.genFromGPath=function(i,n,e){void 0===n&&(n=s()),void 0===e&&(e=2);for(var o=[],r=0;r<i.length;r+=e){var h=i.getPointAt(r/i.length).add(n);o.push(h)}return new t(o)},t.getPathFromGCom=function(i,n){var e=n?i.getTransition(n):i.getTransitionAt(0),s=i.getChild("point").localToGlobal();return t.genFromGPath(e._items[e._items.length-1].tweenConfig.path,s)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LinearPath4.ts",["cc"],(function(t){var i,n,s,e;return{setters:[function(t){i=t.cclegacy,n=t.Vec3,s=t.Vec2,e=t.v3}],execute:function(){i._RF.push({},"d572267HWdHOJEt69VrY+Rd","LinearPath",void 0);t("LinearPath",function(){function t(t){void 0===t&&(t=[]),this.points=[],this.lengthList=[],this.distance=0,this.calcMovePath(t)}var i=t.prototype;return i.getLastPoint=function(){return this.points[this.points.length-1]},i.getFirstPoint=function(){return this.points[0]},i.getPointAt=function(t,i){if(void 0===i&&(i=new n),t>=1)return this.getLastPoint();for(var s=t*this.distance,e=0;this.lengthList[e+1]<s;)e+=1;var o=this.lengthList[e],r=(s-o)/(this.lengthList[e+1]-o),h=this.points[e],c=this.points[e+1];return i.set(h).lerp(c,r),i},i.calcMovePath=function(t){void 0===t&&(t=[]);for(var i=0,n=0;n<t.length-1;n++){var o=t[n].clone(),r=t[n+1].clone(),h=r.clone().subtract(o).normalize(),c=s.distance(o,r);this.distance+=c;for(var a=1.92,u=Math.ceil(c/a),l=0;l<u;l++){var p=a;if(l==u-1)this.points.push(e(r.x,r.y,0)),p=c;else{var v=o.clone().add(h.clone().multiplyScalar(a*l));this.points.push(e(v.x,v.y,0)),c-=a}i+=p,this.lengthList.push(i)}}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ListEx.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"736c6u1Ue9CW7JXKjVgT6/A","ListEx",void 0);t("ListEx",function(){function t(){this.list=void 0,this._nextAvail=void 0,this._nextAvail=-1,this.list=[]}var i=t.prototype;return i.alloc=function(){return this._nextAvail<0?null:this.list[this._nextAvail--]},i.free=function(t){this.list[++this._nextAvail]=t},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingData.ts",["cc","./StringUtil.ts","./EffectManager3.ts"],(function(t){var e,i,n,a,f;return{setters:[function(t){e=t.cclegacy,i=t.Prefab,n=t.SpriteFrame},function(t){a=t.StringUtil},function(t){f=t.EffectManager}],execute:function(){e._RF.push({},"ab0f58C6+1C/6JEIQJitcJ1","LoadingData",void 0);t("LoadingGroup",function(){function t(){this.datas=[],this.effects=[]}var e=t.prototype;return e.add=function(t,e,i){if(!a.IsNullOrEmpty(t)&&!a.IsNullOrEmpty(e)){var n,f=0,s=this.datas.length;for(f=0;f<s;++f)if((n=this.datas[f]).path==t&&n.bundle==e&&n.type==i)return;this.datas.push({path:t,bundle:e,type:i})}},e.addEffect=function(t){t>0&&this.effects.indexOf(t)<0&&this.effects.push(t)},e.parseEffects=function(){this.effects.length>0&&f.GetPreloads(this.effects,this)},e.addPrefab=function(t,e){this.add(t,e,i)},e.addSpriteFrame=function(t,e){this.add(t,e,n)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./gEvents.ts","./LoadUIPack.ts","./ConfigManager.ts","./EffectManager3.ts","./LoadingData.ts"],(function(n){var a,t,e,o,s,i,c,r;return{setters:[function(n){a=n.createClass},function(n){t=n.cclegacy},function(n){e=n.YT},function(n){o=n.gEvents},function(n){s=n.LoadUIPack},function(n){i=n.ConfigManager},function(n){c=n.EffectManager},function(n){r=n.LoadingGroup}],execute:function(){t._RF.push({},"7121dkIk4dAorg7t5BqclZp","LoadingManager",void 0),n("LoadingManager",function(){function n(){}var t=n.prototype;return t.loadCfgFiles=function(n){e.message.dispatchEvent(o.on_invoke_loading),i.StartLoad(n)},t.loadUIPackages=function(n,a){void 0===a&&(a=[new s("Main")]);var t=a.length;if(t<=0)n&&n();else{var i=0,c=function(){i++,e.message.dispatchEvent(o.on_load_progress_changed,i/t),i>=t&&n&&n()},r=0,d=a.length;for(r=0;r<d;++r)a[r].startLoad(c)}},t.getStartLoadDatas=function(){return new r},t.getPreloadDatas=function(n){var a=n||new r;return c.Preload(a),a},t.getGuideLoadDatas=function(){return null},t.startLoad=function(n,a,t){if(void 0===t&&(t=!0),n&&0!=n.datas.length){t&&e.message.dispatchEvent(o.on_load_progress_changed,0);var s,i=0,c=n.datas.length,r=function(n){i++,t&&e.message.dispatchEvent(o.on_load_progress_changed,i/c),i>=c&&a&&a()},d=e.res,g=0,u=n.datas.length;for(g=0;g<u;++g)s=n.datas[g],d.load(s.path,s.bundle,s.type,null,r)}else a&&a()},t.loadScene=function(n,a,t,s){void 0===s&&(s=!0),s&&e.message.dispatchEvent(o.on_load_progress_changed,0);e.res.loadAndRunScene(n,a,(function(n,a,t){s&&e.message.dispatchEvent(o.on_load_progress_changed,n/a)}),(function(n){t&&t(n)}))},a(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./UI_Loading1.ts"],(function(t){var n,e,i,r,o,u,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){u=t.ViewBase},function(t){c=t.default}],execute:function(){o._RF.push({},"87e18g59dlBHbiBO1J17X6r","LoadingView",void 0);t("LoadingView",function(t){function o(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).cnt=void 0,n}n(o,t);var u=o.prototype;return u._onCreate=function(){},u._preShowAnim=function(){var t=this;this.ui.sortingOrder=Number.MAX_SAFE_INTEGER,this.ui.parent.sortingOrder=Number.MAX_SAFE_INTEGER,this.cnt=0,this.ui.onClick((function(){t.cnt++,t.cnt>=5&&t.hide()}),this),this._uiParam?this.ui.m_text.text=this._uiParam[0]:this.ui.m_text.text="加载中..."},u._afterShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u._preHideAnim=function(){},u._afterHideAnim=function(){},e(o,null,[{key:"instance",get:function(){return this._getInstance(o,c,2)}}]),o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gEvents.ts","./YT.ts"],(function(e){var o,n,t,i,r,s,a,g,c,d,u,l,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,a=e._decorator,g=e.ProgressBar,c=e.Label,d=e.math,u=e.Component},function(e){l=e.gEvents},function(e){p=e.YT}],execute:function(){var h,_,f,v,L,k,m;s._RF.push({},"df9d0efxtdBHJkEqiOMJWOX","LoadingView",void 0);var y=a.ccclass,b=a.property;e("LoadingView",(h=y("LoadingView"),_=b(g),f=b(c),h((k=o((L=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,t(o,"barLoad",k,i(o)),t(o,"txtProg",m,i(o)),o._invoked=!1,o._progress=0,o}n(o,e);var s=o.prototype;return s.onLoad=function(){p.message.on(l.on_invoke_loading,this._onInvokeLoading,this),p.message.on(l.on_remove_loading,this._onRemoveLoading,this)},s._onInvokeLoading=function(){this._invoked||(p.message.on(l.on_load_progress_changed,this._updateProgress,this),this.progress=0,this.invoked=!0)},s._onRemoveLoading=function(){this._invoked&&(p.message.off(l.on_load_progress_changed,this._updateProgress,this),this.invoked=!1)},s._updateProgress=function(e){this.progress=e},r(o,[{key:"invoked",set:function(e){this._invoked=this.node.active=e}},{key:"progress",set:function(e){this._progress=d.clamp01(e),this.barLoad.progress=this._progress,this.txtProg.string=(100*this._progress).toFixed(1)+"%"}}]),o}(u)).prototype,"barLoad",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=o(L.prototype,"txtProg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=L))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoadUIPack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./YT.ts"],(function(e){var a,t,c,n,r;return{setters:[function(e){a=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){c=e.cclegacy},function(e){n=e.UIPackage},function(e){r=e.YT}],execute:function(){c._RF.push({},"ae672VWKxhE2IJypAYEv+l8","LoadUIPack",void 0),e("LoadUIPack",function(){function e(e,a){void 0===a&&(a="resources"),this.packPath=void 0,this.bundleName=void 0,this._cachePath=void 0,this.bundleName=a,this.packPath="ui/"+e}var c=e.prototype;return c.startLoad=function(){var c=a(t().mark((function a(c){var s,i,o;return t().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=this.packPath,i=this._cachePath=this.bundleName+"_"+this.packPath,!e.packageCaches[i]){a.next=5;break}return c&&c(),a.abrupt("return");case 5:if("resources"!=this.bundleName){a.next=9;break}n.loadPackage(s,(function(a,t){n.addPackage(s),e.packageCaches[i]=t,c&&c()})),a.next=13;break;case 9:return a.next=11,r.res.loadBundleAsync(this.bundleName);case 11:o=a.sent,n.loadPackage(o,s,(function(a,t){n.addPackage(s),e.packageCaches[i]=t,c&&c()}));case 13:case"end":return a.stop()}}),a,this)})));return function(e){return c.apply(this,arguments)}}(),c.removePackage=function(){delete e.packageCaches[this._cachePath],n.removePackage(this.packPath)},e}()).packageCaches={},c._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy,e=t.log}],execute:function(){n._RF.push({},"479cdJANP5KaJgU+8z0DdSE","Logger",void 0);var i=t("LogType",function(t){return t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace",t}({})),o={1:"网络日志",2:"数据日志",4:"业务日志",8:"视图日志",16:"配置日志",32:"标准日志"},s=t("Logger",function(){function t(){}return t.init=function(){this.tags=i.Net|i.Model|i.Business|i.View|i.Config|i.Trace},t.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},t.start=function(t){void 0===t&&(t="Time"),console.time(t)},t.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},t.table=function(t,n){this.isOpen(i.Trace)&&console.table(t)},t.trace=function(t){this.isOpen(i.Trace)&&console.log(t)},t.logNet=function(t,n){this.orange(i.Net,t,n)},t.logModel=function(t,n){this.violet(i.Model,t,n)},t.logBusiness=function(t,n){this.blue(i.Business,t,n)},t.logView=function(t,n){this.green(i.View,t,n)},t.logConfig=function(t,n){this.gray(i.Config,t,n)},t.orange=function(t,n,e){this.print(t,n,"color:#ee7700;",e)},t.violet=function(t,n,e){this.print(t,n,"color:Violet;",e)},t.blue=function(t,n,e){this.print(t,n,"color:#3a5fcd;",e)},t.green=function(t,n,e){this.print(t,n,"color:green;",e)},t.gray=function(t,n,e){this.print(t,n,"color:gray;",e)},t.isOpen=function(t){return 0!=(this.tags&t)},t.print=function(t,n,i,s){if(this.isOpen(t)){var r=console.log||e,c=o[t];s?r.call(null,"%c%s%s%s:%s%o",i,this.getDateString(),"["+c+"]",this.stack(5),s,n):r.call(null,"%c%s%s%s:%o",i,this.getDateString(),"["+c+"]",this.stack(5),n)}},t.stack=function(t){var n=(new Error).stack.split("\n"),e=[];n.forEach((function(t){var n,i=(t=t.substring(7)).split(" ");i.length<2?e.push(i[0]):e.push(((n={})[i[0]]=i[1],n))}));var i,o=[],s=[];if(t<e.length-1)for(var r in e[t]){if(2==(s=r.split(".")).length)o=s.concat();else{var c=(i=e[t][r]).lastIndexOf("/"),g=i.lastIndexOf(".");if(c>-1&&g>-1){var l=i.substring(c+1,g);o.push(l)}else o.push(i)}}return 1==o.length?"["+o[0]+".ts]":2==o.length?"["+o[0]+".ts->"+o[1]+"]":""},t.getDateString=function(){var t=new Date,n=t.getHours().toString(),e="";return e+=(1==n.length?"0"+n:n)+":",e+=(1==(n=t.getMinutes().toString()).length?"0"+n:n)+":",e+=(1==(n=t.getSeconds().toString()).length?"0"+n:n)+":",1==(n=t.getMilliseconds().toString()).length&&(n="00"+n),2==n.length&&(n="0"+n),e="["+(e+=n)+"]"},t}());s.tags=0,s.init(),n._RF.pop()}}}));

System.register("chunks:///_virtual/LongPressCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./YT.ts"],(function(t){var e,i,n,s,r,o,a,h,u,c,p,T,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,h=t._decorator,u=t.Button,c=t.Node,p=t.Component},function(t){T=t.Awaiters},function(t){l=t.YT}],execute:function(){var d,_,g,f,m,v,y,C;a._RF.push({},"72260h5WrRP6JoZmd5RLsR3","LongPressCmp",void 0);var E=h.ccclass,b=h.property,S=h.requireComponent;t("LongPressCmp",(d=E("LongPressCmp"),_=S(u),g=b({tooltip:"触发间隔（秒）"}),f=b({tooltip:"长按多久算开始（秒）"}),d(m=_((y=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"interval",y,s(e)),n(e,"startTime",C,s(e)),e.btn=void 0,e.scaleTime=void 0,e._pressed=!1,e._pastTime=0,e._longPressStarted=!1,e._triggerStart=!1,e._triggerCount=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchtStart,this,!0),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this,!0),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this,!0),this.btn=this.getComponent(u),this.scaleTime=this.interval/2},a.onDestroy=function(){this.node.off(c.EventType.TOUCH_START,this.onTouchtStart,this,!0),this.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this,!0),this.node.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this,!0)},a.onDisable=function(){this._pressed&&this.onTouchEnd(null)},a.onTouchtStart=function(t){this.btn._onTouchBegan(t),this._pressed=!0,this._pastTime=0,this._longPressStarted=!1,this._triggerCount=0},a.onTouchEnd=function(t){this._pressed&&(this._pressed=!1,this._longPressStarted=!1,this._pastTime=0,this._triggerStart=!1,this._triggerCount>0?this.btn._pressed=!1:l.audio.play(14),this.btn._onTouchEnded(t))},a._doTrigger=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=4;break;case 4:if(l.audio.play(14),this._triggerCount++,this._triggerStart=!0,this.btn._onTouchEnded(null),!(this.scaleTime>0)){t.next=11;break}return t.next=11,T.Seconds(this.scaleTime);case 11:this._triggerStart&&(this._triggerStart=!1,this.btn._onTouchBegan(null));case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.update=function(t){this._pressed&&(this._pastTime+=t,this._longPressStarted?this._pastTime>=this.interval&&(this._pastTime-=this.interval,this._doTrigger()):this._pastTime>=this.startTime&&(this._longPressStarted=!0,this._pastTime-=this.startTime,this._doTrigger()))},e}(p)).prototype,"interval",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),C=e(v.prototype,"startTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=v))||m)||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoseDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ViewUtil.ts","./YT.ts","./MainConst.ts","./BattleState.ts","./BaseDialog.ts"],(function(t){var e,a,n,i,r,o,l,s,u,c,p,d,b,_,f,h,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,u=t.Label,c=t.Button},function(t){p=t.Awaiters},function(t){d=t.ViewUtil},function(t){b=t.YT},function(t){_=t.MAIN_PREFABS,f=t.MAIN_BUNDLE},function(t){h=t.BattleState},function(t){y=t.BaseDialog}],execute:function(){var v,m,g,D,w,B,L,x,I,N,C;l._RF.push({},"bbdf36220tDTL7x4+4Z0jRG","LoseDialog",void 0);var k=s.ccclass,A=s.property;t("LoseDialog",(v=k("LoseDialog"),m=A({type:u,displayName:"波次",visible:!0}),g=A({type:u,displayName:"奖励数量",visible:!0}),D=A({type:c,displayName:"双倍按钮",visible:!0}),w=A({type:c,displayName:"普通按钮",visible:!0}),v((x=e((L=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"_waveLab",x,i(e)),n(e,"_cntLab",I,i(e)),n(e,"_doubleBtn",N,i(e)),n(e,"_noramlBtn",C,i(e)),e._resultData=void 0,e}a(e,t),e.Show=function(t){var a=d.createPrefabNode(_.LoseDialog,f);a.parent=h.ins.control.view.dialogRoot;var n=a.getComponent(e);return n._init(t),n};var l=e.prototype;return l._init=function(t){b.audio.play(13),this._resultData=t,this._waveLab.string=t.waveIdx+"/"+t.maxWave,this._cntLab.string="x"+t.gold.toFixedNumberCN(),this._noramlBtn.node.on(c.EventType.CLICK,this._onNormalBtnClicked,this),this._doubleBtn.node.on(c.EventType.CLICK,this._onDoubleBtnClicked,this)},l._onNormalBtnClicked=function(){var t=r(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b.audio.play(2),e=this._resultData.gold,b.data.addItemByItemId(1,e),this._resultData.gold=0,t.next=6,p.Frames(2);case 6:h.ins.enterHall(1,this._resultData),this.close();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l._onDoubleBtnClicked=function(){var t=r(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b.audio.play(2),t.next=3,b.game.watchAD("result_win_double");case 3:if(!t.sent){t.next=12;break}return e=2*this._resultData.gold,b.data.addItemByItemId(1,e),this._resultData.gold=0,t.next=10,p.Frames(2);case 10:h.ins.enterHall(1,this._resultData),this.close();case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(y)).prototype,"_waveLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(L.prototype,"_cntLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(L.prototype,"_doubleBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(L.prototype,"_noramlBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=L))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/LoseDialog2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./ZDConst.ts","./ZDGameState.ts","./BaseDialog2.ts"],(function(e){var t,n,i,r,o,a,l,s,u,c,p,d,m,b,y,_,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Button,c=e.Label,p=e.ProgressBar},function(e){d=e.ViewUtil},function(e){m=e.YT},function(e){b=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE},function(e){_=e.ZDGameState},function(e){h=e.BaseDialog}],execute:function(){var f,g,B,v,C,L,w,D,A,G,N,k,z,R,E,M,S;l._RF.push({},"d8dddNReFRNHrC5Uo+y3iIZ","LoseDialog",void 0);var T=s.ccclass,I=s.property;e("LoseDialog",(f=T("LoseDialog"),g=I({type:u,displayName:"关闭按钮",visible:!0}),B=I({type:u,displayName:"继续按钮",visible:!0}),v=I({type:u,displayName:"广告继续按钮",visible:!0}),C=I({type:u,displayName:"广告复活按钮",visible:!0}),L=I({type:c,displayName:"时间",visible:!0}),w=I({type:c,displayName:"进度",visible:!0}),D=I({type:p,displayName:"进度条",visible:!0}),f((N=t((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_closeBtn",N,r(t)),i(t,"_continueBtn",k,r(t)),i(t,"_continueAdBtn",z,r(t)),i(t,"_rebornAdBtn",R,r(t)),i(t,"_timeLab",E,r(t)),i(t,"_percentLab",M,r(t)),i(t,"_bar",S,r(t)),t}n(t,e),t.Show=function(e,n){var i=d.createPrefabNode(b.LOSE_DIALOG,y);i.parent=_.runtime.ui.dialogNode;var r=i.getComponent(t);return r._init(e,n),r.show(),r};var l=t.prototype;return l._init=function(e,t){_.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",this._continueBtn.node.active=!1,this._continueAdBtn.node.active=!0,this._rebornAdBtn.node.active=_.runtime.control.rebornCnt<1&&!m.isGM,_.runtime.audioMgr.play(2)},l.start=function(){this._closeBtn.node.on(u.EventType.CLICK,this._onCloseBtnClicked,this),this._continueBtn.node.on(u.EventType.CLICK,this._onContinueBtnClicked,this),this._continueAdBtn.node.on(u.EventType.CLICK,this._onAdContinueBtnClicked,this),this._rebornAdBtn.node.on(u.EventType.CLICK,this._onAdRebornBtnClicked,this)},l._onAdRebornBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.runtime.audioMgr.play(9),e.next=3,m.game.watchAD("转刀复活");case 3:e.sent&&(this.close(),_.runtime.resumeGame(),_.runtime.rebornGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onContinueBtnClicked=function(){_.runtime.audioMgr.play(9),this.close(),_.runtime.continueGame()},l._onAdContinueBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.runtime.audioMgr.play(9),e.next=3,m.game.watchAD("转刀重开");case 3:e.sent&&(this.close(),_.runtime.resumeGame(),_.runtime.continueGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onCloseBtnClicked=function(){_.runtime.audioMgr.play(9),this.close(),_.runtime.returnGame()},t}(h)).prototype,"_closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(G.prototype,"_continueBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(G.prototype,"_continueAdBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(G.prototype,"_rebornAdBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(G.prototype,"_timeLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(G.prototype,"_percentLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(G.prototype,"_bar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=G))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/LoseDialog3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./ZDConst3.ts","./ZDGameState3.ts","./BaseDialog3.ts"],(function(e){var t,n,i,r,o,a,l,s,u,c,p,d,b,m,_,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Button,c=e.Label,p=e.ProgressBar},function(e){d=e.ViewUtil},function(e){b=e.YT},function(e){m=e.ZD_RES_PREFABS,_=e.ZD_BUNDLE},function(e){y=e.ZDGameState3},function(e){h=e.BaseDialog3}],execute:function(){var f,g,B,v,C,L,w,D,A,G,k,N,z,T,E,M,S;l._RF.push({},"91512ab74BFrZTtoVft5uJn","LoseDialog3",void 0);var R=s.ccclass,x=s.property;e("LoseDialog3",(f=R("LoseDialog3"),g=x({type:u,displayName:"关闭按钮",visible:!0}),B=x({type:u,displayName:"继续按钮",visible:!0}),v=x({type:u,displayName:"广告继续按钮",visible:!0}),C=x({type:u,displayName:"广告复活按钮",visible:!0}),L=x({type:c,displayName:"时间",visible:!0}),w=x({type:c,displayName:"进度",visible:!0}),D=x({type:p,displayName:"进度条",visible:!0}),f((k=t((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_closeBtn",k,r(t)),i(t,"_continueBtn",N,r(t)),i(t,"_continueAdBtn",z,r(t)),i(t,"_rebornAdBtn",T,r(t)),i(t,"_timeLab",E,r(t)),i(t,"_percentLab",M,r(t)),i(t,"_bar",S,r(t)),t}n(t,e),t.Show=function(e,n){var i=d.createPrefabNode(m.LOSE_DIALOG,_);i.parent=y.runtime.ui.dialogNode;var r=i.getComponent(t);return r._init(e,n),r.show(),r};var l=t.prototype;return l._init=function(e,t){y.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",this._continueBtn.node.active=!1,this._continueAdBtn.node.active=!0,this._rebornAdBtn.node.active=y.runtime.control.rebornCnt<1&&!b.isGM,y.runtime.audioMgr.play(2)},l.start=function(){this._closeBtn.node.on(u.EventType.CLICK,this._onCloseBtnClicked,this),this._continueBtn.node.on(u.EventType.CLICK,this._onContinueBtnClicked,this),this._continueAdBtn.node.on(u.EventType.CLICK,this._onAdContinueBtnClicked,this),this._rebornAdBtn.node.on(u.EventType.CLICK,this._onAdRebornBtnClicked,this)},l._onAdRebornBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,b.game.watchAD("转刀复活");case 3:e.sent&&(this.close(),y.runtime.resumeGame(),y.runtime.rebornGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onContinueBtnClicked=function(){y.runtime.audioMgr.play(9),this.close(),y.runtime.continueGame()},l._onAdContinueBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,b.game.watchAD("转刀重开");case 3:e.sent&&(this.close(),y.runtime.resumeGame(),y.runtime.continueGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onCloseBtnClicked=function(){y.runtime.audioMgr.play(9),this.close(),y.runtime.returnGame()},t}(h)).prototype,"_closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(G.prototype,"_continueBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(G.prototype,"_continueAdBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(G.prototype,"_rebornAdBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(G.prototype,"_timeLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(G.prototype,"_percentLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(G.prototype,"_bar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=G))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/LoseDialog4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./ZDConst4.ts","./ZDGameState4.ts","./BaseDialog4.ts"],(function(e){var t,n,i,r,o,a,l,s,u,c,p,d,m,b,_,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Button,c=e.Label,p=e.ProgressBar},function(e){d=e.ViewUtil},function(e){m=e.YT},function(e){b=e.ZD_RES_PREFABS,_=e.ZD_BUNDLE},function(e){y=e.ZDGameState4},function(e){h=e.BaseDialog4}],execute:function(){var f,g,B,v,C,L,w,D,A,G,k,z,M,N,T,E,R;l._RF.push({},"dfd6adGkXRMGaMJTzdP41ck","LoseDialog4",void 0);var S=s.ccclass,x=s.property;e("LoseDialog4",(f=S("LoseDialog4"),g=x({type:u,displayName:"关闭按钮",visible:!0}),B=x({type:u,displayName:"继续按钮",visible:!0}),v=x({type:u,displayName:"广告继续按钮",visible:!0}),C=x({type:u,displayName:"广告复活按钮",visible:!0}),L=x({type:c,displayName:"时间",visible:!0}),w=x({type:c,displayName:"进度",visible:!0}),D=x({type:p,displayName:"进度条",visible:!0}),f((k=t((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_closeBtn",k,r(t)),i(t,"_continueBtn",z,r(t)),i(t,"_continueAdBtn",M,r(t)),i(t,"_rebornAdBtn",N,r(t)),i(t,"_timeLab",T,r(t)),i(t,"_percentLab",E,r(t)),i(t,"_bar",R,r(t)),t}n(t,e),t.Show=function(e,n){var i=d.createPrefabNode(b.LOSE_DIALOG,_);i.parent=y.runtime.ui.dialogNode;var r=i.getComponent(t);return r._init(e,n),r.show(),r};var l=t.prototype;return l._init=function(e,t){y.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",this._continueBtn.node.active=!1,this._continueAdBtn.node.active=!0,this._rebornAdBtn.node.active=y.runtime.control.rebornCnt<1&&!m.isGM,y.runtime.audioMgr.play(2)},l.start=function(){this._closeBtn.node.on(u.EventType.CLICK,this._onCloseBtnClicked,this),this._continueBtn.node.on(u.EventType.CLICK,this._onContinueBtnClicked,this),this._continueAdBtn.node.on(u.EventType.CLICK,this._onAdContinueBtnClicked,this),this._rebornAdBtn.node.on(u.EventType.CLICK,this._onAdRebornBtnClicked,this)},l._onAdRebornBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,m.game.watchAD("转刀复活");case 3:e.sent&&(this.close(),y.runtime.resumeGame(),y.runtime.rebornGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onContinueBtnClicked=function(){y.runtime.audioMgr.play(9),this.close(),y.runtime.continueGame()},l._onAdContinueBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,m.game.watchAD("转刀重开");case 3:e.sent&&(this.close(),y.runtime.resumeGame(),y.runtime.continueGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onCloseBtnClicked=function(){y.runtime.audioMgr.play(9),this.close(),y.runtime.returnGame()},t}(h)).prototype,"_closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(G.prototype,"_continueBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(G.prototype,"_continueAdBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(G.prototype,"_rebornAdBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(G.prototype,"_timeLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(G.prototype,"_percentLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(G.prototype,"_bar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=G))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/LoseDialog5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./ZDConst5.ts","./ZDGameState5.ts","./BaseDialog5.ts"],(function(e){var t,n,i,r,o,a,l,s,u,c,p,d,m,b,_,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Button,c=e.Label,p=e.ProgressBar},function(e){d=e.ViewUtil},function(e){m=e.YT},function(e){b=e.ZD_RES_PREFABS,_=e.ZD_BUNDLE},function(e){y=e.ZDGameState5},function(e){h=e.BaseDialog5}],execute:function(){var f,g,B,v,C,L,w,D,A,k,G,N,z,E,S,T,x;l._RF.push({},"3dacamgKe1NHqH7Y+kxz19c","LoseDialog5",void 0);var M=s.ccclass,R=s.property;e("LoseDialog5",(f=M("LoseDialog5"),g=R({type:u,displayName:"关闭按钮",visible:!0}),B=R({type:u,displayName:"继续按钮",visible:!0}),v=R({type:u,displayName:"广告继续按钮",visible:!0}),C=R({type:u,displayName:"广告复活按钮",visible:!0}),L=R({type:c,displayName:"时间",visible:!0}),w=R({type:c,displayName:"进度",visible:!0}),D=R({type:p,displayName:"进度条",visible:!0}),f((G=t((k=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_closeBtn",G,r(t)),i(t,"_continueBtn",N,r(t)),i(t,"_continueAdBtn",z,r(t)),i(t,"_rebornAdBtn",E,r(t)),i(t,"_timeLab",S,r(t)),i(t,"_percentLab",T,r(t)),i(t,"_bar",x,r(t)),t}n(t,e),t.Show=function(e,n){var i=d.createPrefabNode(b.LOSE_DIALOG,_);i.parent=y.runtime.ui.dialogNode;var r=i.getComponent(t);return r._init(e,n),r.show(),r};var l=t.prototype;return l._init=function(e,t){y.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),t>.99&&(t=.99),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",this._continueBtn.node.active=!1,this._continueAdBtn.node.active=!0,this._rebornAdBtn.node.active=!1,y.runtime.audioMgr.play(2)},l.start=function(){this._closeBtn.node.on(u.EventType.CLICK,this._onCloseBtnClicked,this),this._continueBtn.node.on(u.EventType.CLICK,this._onContinueBtnClicked,this),this._continueAdBtn.node.on(u.EventType.CLICK,this._onAdContinueBtnClicked,this),this._rebornAdBtn.node.on(u.EventType.CLICK,this._onAdRebornBtnClicked,this)},l._onAdRebornBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,m.game.watchAD("转刀复活");case 3:e.sent&&(this.close(),y.runtime.resumeGame(),y.runtime.rebornGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onContinueBtnClicked=function(){y.runtime.audioMgr.play(9),this.close(),y.runtime.continueGame()},l._onAdContinueBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,m.game.watchAD("转刀重开");case 3:e.sent&&(this.close(),y.runtime.resumeGame(),y.runtime.continueGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onCloseBtnClicked=function(){y.runtime.audioMgr.play(9),this.close(),y.runtime.returnGame()},t}(h)).prototype,"_closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(k.prototype,"_continueBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(k.prototype,"_continueAdBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(k.prototype,"_rebornAdBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(k.prototype,"_timeLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(k.prototype,"_percentLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"_bar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=k))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/LoseDialog6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./ZDConst6.ts","./ZDGameState6.ts","./BaseDialog6.ts"],(function(e){var t,n,i,r,o,a,l,s,u,c,p,d,m,b,_,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Button,c=e.Label,p=e.ProgressBar},function(e){d=e.ViewUtil},function(e){m=e.YT},function(e){b=e.ZD_RES_PREFABS,_=e.ZD_BUNDLE},function(e){y=e.ZDGameState6},function(e){h=e.BaseDialog6}],execute:function(){var f,g,B,v,C,L,w,D,A,G,k,N,z,x,E,M,S;l._RF.push({},"84b31wx0YVJLLqcmxf5Ku17","LoseDialog6",void 0);var T=s.ccclass,R=s.property;e("LoseDialog6",(f=T("LoseDialog6"),g=R({type:u,displayName:"关闭按钮",visible:!0}),B=R({type:u,displayName:"继续按钮",visible:!0}),v=R({type:u,displayName:"广告继续按钮",visible:!0}),C=R({type:u,displayName:"广告复活按钮",visible:!0}),L=R({type:c,displayName:"时间",visible:!0}),w=R({type:c,displayName:"进度",visible:!0}),D=R({type:p,displayName:"进度条",visible:!0}),f((k=t((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_closeBtn",k,r(t)),i(t,"_continueBtn",N,r(t)),i(t,"_continueAdBtn",z,r(t)),i(t,"_rebornAdBtn",x,r(t)),i(t,"_timeLab",E,r(t)),i(t,"_percentLab",M,r(t)),i(t,"_bar",S,r(t)),t}n(t,e),t.Show=function(e,n){var i=d.createPrefabNode(b.LOSE_DIALOG,_);i.parent=y.runtime.ui.dialogNode;var r=i.getComponent(t);return r._init(e,n),r.show(),r};var l=t.prototype;return l._init=function(e,t){y.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",this._continueBtn.node.active=!1,this._continueAdBtn.node.active=!0,this._rebornAdBtn.node.active=y.runtime.control.rebornCnt<1&&!m.isGM,y.runtime.audioMgr.play(2)},l.start=function(){this._closeBtn.node.on(u.EventType.CLICK,this._onCloseBtnClicked,this),this._continueBtn.node.on(u.EventType.CLICK,this._onContinueBtnClicked,this),this._continueAdBtn.node.on(u.EventType.CLICK,this._onAdContinueBtnClicked,this),this._rebornAdBtn.node.on(u.EventType.CLICK,this._onAdRebornBtnClicked,this)},l._onAdRebornBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,m.game.watchAD("转刀复活");case 3:e.sent&&(this.close(),y.runtime.resumeGame(),y.runtime.rebornGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onContinueBtnClicked=function(){y.runtime.audioMgr.play(9),this.close(),y.runtime.continueGame()},l._onAdContinueBtnClicked=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,m.game.watchAD("转刀重开");case 3:e.sent&&(this.close(),y.runtime.resumeGame(),y.runtime.continueGame());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onCloseBtnClicked=function(){y.runtime.audioMgr.play(9),this.close(),y.runtime.returnGame()},t}(h)).prototype,"_closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(G.prototype,"_continueBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(G.prototype,"_continueAdBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(G.prototype,"_rebornAdBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(G.prototype,"_timeLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(G.prototype,"_percentLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(G.prototype,"_bar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=G))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./gravityengine.mg.cocoscreator.min.mjs_cjs=&original=.js","./RankList.ts","./AutoConfigSetter.ts","./AudioConfig.ts","./BoxConfig.ts","./BuildsConfig.ts","./BulletConfig.ts","./CardConfig.ts","./CardsConfig.ts","./EffectConfig.ts","./EquipConfig.ts","./ExpConfig.ts","./GameConfig.ts","./GameConst.ts","./GoodsConfig.ts","./HeroConfig.ts","./ItemConfig.ts","./LevelConfig.ts","./ModuleConfig.ts","./MonsterConfig.ts","./RewardConfig.ts","./RoleAtkConfig.ts","./RoleCampConfig.ts","./RoleLevelConfig.ts","./SampleConfig.ts","./SubGameConfig.ts","./TaskConfig.ts","./TurnRewardConfig.ts","./ViewsConfig.ts","./WaveConfig.ts","./WordsConfig.ts","./G11BoxConfig.ts","./G11Const.ts","./G11EmitterConfig.ts","./G11LevelConfig.ts","./G11MonsterConfig.ts","./G11RefreshConfig.ts","./G11SkillConfig.ts","./G11WeaponConfig.ts","./G12LevelConfig.ts","./G13LevelConfig.ts","./PackAnimConfig.ts","./PackBagConfig.ts","./PackBagItemConfig.ts","./PackEnemyConfig.ts","./PackGameConst.ts","./PackLevelConfig.ts","./PackMergeConfig.ts","./PindaoBulletConfig.ts","./PindaoGameConst.ts","./PindaoLevelConfig.ts","./PindaoQuestConfig.ts","./PindaoRoleConfig.ts","./PindaoTalentConfig.ts","./QjcjAudioConfig.ts","./QjcjEnemyConfig.ts","./QjcjLevelConfig.ts","./QjcjRoleConfig.ts","./QjcjSpawnConfig.ts","./SdmAudioConfig.ts","./SdmConst.ts","./SdmCostConfig.ts","./SdmEffectConfig.ts","./SdmEnemyConfig.ts","./SdmGenConfig.ts","./SdmGenTypeConfig.ts","./SdmItemConfig.ts","./SdmLevelConfig.ts","./SdmRandom2Config.ts","./SdmRandomConfig.ts","./SdmShopItemConfig.ts","./SdmWaveConfig.ts","./SzAudioConfig.ts","./SzConst.ts","./SzDiceConfig.ts","./SzEffectConfig.ts","./SzEnemyConfig.ts","./SzLevelConfig.ts","./SzTypesConfig.ts","./DragonLevelConfig.ts","./ShoudaqiaoBottleConfig.ts","./ShoudaqiaoBottleConfigPlayer.ts","./ShoudaqiaoBulletConfig.ts","./ShoudaqiaoBulletConfigPlayer2.ts","./ShoudaqiaoChestConfig2.ts","./ShoudaqiaoDragonConfig2.ts","./ShoudaqiaoGameConst.ts","./ShoudaqiaoLevelConfig2.ts","./ShoudaqiaoTalentConfig.ts","./DragonLevelConfig2.ts","./ShoudaqiaoBeginPanelConfig.ts","./ShoudaqiaoBottleConfig2.ts","./ShoudaqiaoBottleConfigPlayer2.ts","./ShoudaqiaoBulletConfig2.ts","./ShoudaqiaoBulletConfigPlayer.ts","./ShoudaqiaoChestConfig.ts","./ShoudaqiaoDragonConfig.ts","./ShoudaqiaoGameConst2.ts","./ShoudaqiaoLevelConfig.ts","./ShoudaqiaoTalentConfig2.ts","./ZzlAudioConfig.ts","./ZzlBoxConfig.ts","./ZzlDragonConfig.ts","./ZzlGameConst.ts","./ZzlLevelConfig.ts","./ZzlWeaponConfig.ts","./TfBuildingConfig.ts","./TfConst.ts","./TfEnemyWaveConfig.ts","./TfEntityConfig.ts","./TfLevelConfig.ts","./TpConst.ts","./TpEnemyConfig.ts","./TpEnemyWaveConfig.ts","./TpEntityConfig.ts","./TpLevelConfig.ts","./TpShopItemConfig.ts","./TpSkillConfig.ts","./TjsbLevelConfig.ts","./TreeSpiritActionConfig.ts","./TreeSpiritBulletConfig.ts","./TreeSpiritConfig.ts","./TreeSpiritEnemyConfig.ts","./TreeSpiritGameConst.ts","./TreeSpiritLevelConfig.ts","./TreeSpiritSpawnConfig.ts","./TreeSpiritTalentConfig.ts","./TreeSpiritWaveConfig.ts","./WkAudioConfig.ts","./WkDoorConfig.ts","./WkEffectConfig.ts","./WkEmiterConfig.ts","./WkEnemyConfig.ts","./WkGameConst.ts","./WkLevelConfig.ts","./WkRewardConfig.ts","./WkRoleConfig.ts","./ZdhcEnemyConfig.ts","./ZdhcGoldWaveConfig.ts","./ZdhcHeroConfig.ts","./ZdhcKnifeConfig.ts","./ZdhcLevelConfig.ts","./ZdhcWaveConfig.ts","./ZdAudioConfig5.ts","./ZdBarrierConfig2.ts","./ZdBulletConfig4.ts","./ZdHeroConfig5.ts","./ZdLevelConfig4.ts","./ZdMapConfig4.ts","./ZdMonsterConfig4.ts","./ZdPropConfig3.ts","./ZdShopConfig3.ts","./ZdTowerConfig5.ts","./ZdWeaponConfig.ts","./ZdAinameConfig2.ts","./ZdAudioConfig.ts","./ZdBarrierConfig4.ts","./ZdBulletConfig3.ts","./ZdHeroConfig3.ts","./ZdLevelConfig5.ts","./ZdMapConfig5.ts","./ZdMonsterConfig.ts","./ZdPropConfig5.ts","./ZdShopConfig.ts","./ZdTowerConfig2.ts","./ZdWeaponConfig3.ts","./ZdAinameConfig.ts","./ZdAudioConfig4.ts","./ZdBarrierConfig.ts","./ZdBulletConfig.ts","./ZdHeroConfig.ts","./ZdLevelConfig.ts","./ZdMapConfig3.ts","./ZdMonsterConfig3.ts","./ZdPropConfig4.ts","./ZdShopConfig4.ts","./ZdTowerConfig4.ts","./ZdWave2.ts","./ZdWeaponConfig5.ts","./ZdAudioConfig2.ts","./ZdBarrierConfig3.ts","./ZdBuffConfig.ts","./ZdBulletConfig5.ts","./ZdHeroConfig2.ts","./ZdLevelConfig3.ts","./ZdMapConfig2.ts","./ZdMonsterConfig2.ts","./ZdPropConfig.ts","./ZdShopConfig2.ts","./ZdTowerConfig3.ts","./ZdWave.ts","./ZdWeaponConfig2.ts","./ZdAudioConfig3.ts","./ZdBarrierConfig5.ts","./ZdBulletConfig2.ts","./ZdHeroConfig4.ts","./ZdLevelConfig2.ts","./ZdMapConfig.ts","./ZdMonsterConfig5.ts","./ZdPropConfig2.ts","./ZdShopConfig5.ts","./ZdSpawnConfig.ts","./ZdTowerConfig.ts","./ZdWeaponConfig4.ts","./App.ts","./YT.ts","./AudioEffectEx.ts","./AudioMusic.ts","./YTAudioMgr.ts","./EventData.ts","./EventDispatcher.ts","./EventMessage.ts","./gEvents.ts","./gDef.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguageManager.ts","./LoadingView2.ts","./ResLoader.ts","./Logger.ts","./RandomManager.ts","./Awaiters.ts","./TimeManager.ts","./Timer.ts","./EffectComponent.ts","./IEffectCmp.ts","./SpineEffectComponent.ts","./ButtonSfx.ts","./LongPressCmp.ts","./CustomSafeArea.ts","./UniformScaleCmp.ts","./BuildTimeConstants.ts","./ConfigManager.ts","./GlobalConfig.ts","./WebQueryConfig.ts","./YTConfig.ts","./CommonSaveData.ts","./BitArray.ts","./NodeExt.ts","./NumberExt.ts","./UIExt.ts","./GameCollision.ts","./GameEntry.ts","./GUI.ts","./UIDefines.ts","./UIManager.ts","./ViewBase.ts","./AlertView.ts","./FeedbackView.ts","./ToastView.ts","./WarningView.ts","./ArrayUtil.ts","./CameraUtil.ts","./DateUtil.ts","./EncryptUtil.ts","./GameUtils.ts","./ImageUtil.ts","./ListEx.ts","./MathUtil.ts","./ObjectUtil.ts","./ParticleUtil.ts","./RegexUtil.ts","./RotateUtil.ts","./SpineUtil.ts","./StringUtil.ts","./TransformLerp.ts","./Vec3Lerp.ts","./Vec3Util.ts","./ViewUtil.ts","./ZWTTools.ts","./Main.ts","./SceneBase.ts","./UIHelper.ts","./words.ts","./FrameInfo.ts","./FrameSequenceCmp.ts","./Skew.ts","./TrailManager.ts","./TrailRender.ts","./ConfigEx.ts","./SubGameData.ts","./GameConsts.ts","./GameDataDef.ts","./SaveDataDef.ts","./LoadUIPack.ts","./LoadingData.ts","./LoadingManager.ts","./CameraController.ts","./EffectManager3.ts","./GameManager.ts","./ObjChar.ts","./ObjText.ts","./ObjTextManager.ts","./GameStateBase.ts","./MainConst.ts","./MainEnum.ts","./TreePoints.ts","./BattleConst.ts","./BattleControl.ts","./BattleData.ts","./BattleEnum.ts","./BattleState.ts","./BattleView2.ts","./FrameArraySprite.ts","./BoxArray.ts","./CardsAttr.ts","./CardsMgr.ts","./CardDialogCmp.ts","./CardItemCmp.ts","./DropExpCmp.ts","./DropGemCmp.ts","./DropGoldCmp.ts","./DropWoodCmp.ts","./EffectBase.ts","./EffectCmp.ts","./EffectPool.ts","./IObstacle.ts","./MoveRole2.ts","./RoleBase2.ts","./RoleBuilding.ts","./RoleBuildingCamp.ts","./RoleBuildingCampFire.ts","./RoleBuildingGoldMine.ts","./RoleBuildingRoadBlock.ts","./RoleBuildingTower.ts","./RoleBullet2.ts","./RoleBulletPool2.ts","./RoleGoods.ts","./RoleMgr.ts","./RoleMonster.ts","./RoleMonsterEnemy.ts","./RoleMonsterLogger.ts","./RoleMonsterMage.ts","./RoleMonsterPlayer.ts","./RoleMonsterPlayerSoldier.ts","./RoleMonsterShooter.ts","./RoleMonsterWarrior.ts","./RolePet.ts","./RolePlayer.ts","./RoleShop2.ts","./RoleTree.ts","./AttrMgr.ts","./RoleBaseCmp.ts","./RoleBulletCmp.ts","./RoleGoodsCmp.ts","./RoleHeroCmp.ts","./RoleMonsterCmp.ts","./RoleMonsterEnemyCmp.ts","./RoleMonsterPlayerCmp.ts","./RolePetCmp.ts","./RoleShopCmp.ts","./RoleTreeCmp.ts","./CampBuildingCmp.ts","./CampFireBuildingCmp.ts","./GoldMineBuildingCmp.ts","./RoadBlockBuildingCmp.ts","./RoleBuildingBaseCmp.ts","./TowerBuildingCmp.ts","./BuildViewCmp.ts","./GJRMove.ts","./SkinViewCmp.ts","./WeaponBase2.ts","./WeaponCmp.ts","./WeaponModule.ts","./WeaponPool.ts","./ExpLayerCmp.ts","./ExpMgr.ts","./DamageTextCmp2.ts","./RemainAttr.ts","./RemainFlyCmp.ts","./RemainLayerCmp.ts","./RemainLayerItemCmp.ts","./RemainMgr.ts","./WaveLayerCmp.ts","./WaveLayerItemCmp.ts","./WaveMgr.ts","./BattleUtils.ts","./TreeBox.ts","./AddWeaponDialog.ts","./BaseDialog.ts","./LoseDialog.ts","./OpenTreasureDialog.ts","./ReviveDialog.ts","./UnlockShopDialog.ts","./WinDialog2.ts","./HurtEffectLayer.ts","./MapLayer.ts","./PosTipsLayer.ts","./TouchLayer.ts","./UILayer.ts","./CardsData.ts","./DataBase.ts","./DataMgr.ts","./MainSaveData.ts","./HallConst.ts","./HallState.ts","./LevelCmp.ts","./LevelControl.ts","./IAttribute.ts","./IBattleStruct.ts","./IBattleToHallInfo.ts","./IHallToBattleInfo.ts","./IResultStruct.ts","./RunTimeData.ts","./ConfigUtils.ts","./ResUtils.ts","./SubGameStateBase.ts","./Game11State.ts","./AutoAnimCmp.ts","./AutoSpineCmp.ts","./BoxHelper.ts","./CapsuleHelper.ts","./Game11BulletCupCmp.ts","./Game11Scene.ts","./Game11BoatCmp.ts","./Game11BoatWave.ts","./Game11EntityCmp.ts","./Game11MonsterCmp.ts","./Game11PlayerCmp.ts","./Game11PlayerCmpBase.ts","./Game11Wave.ts","./Game11BulletCmp.ts","./Game11FallItemCmpBase.ts","./Game11WeaponCmp.ts","./Game11BlockCapacityCmp.ts","./Game11BlockCmpBase.ts","./Game11BlockTriggeBombCmp.ts","./Game11BlockTriggeBoxrCmp.ts","./Game11BlockTriggeHoleCmp.ts","./Game11BlockTriggeRewardCmp.ts","./Game11BlockTriggerBlinCmp.ts","./Game11BlockTriggerCmp.ts","./Game11BlockTriggerWeaponCmp.ts","./Game11FenjiCmp.ts","./Game11MazeCmp.ts","./Game11PipeLineCmp.ts","./Game11RotateCmp.ts","./Zombie.ts","./ZombieGameScene.ts","./EGame11Enums.ts","./SortComponent.ts","./Game11Boat.ts","./Game11BoatMonster.ts","./Game11Bullet.ts","./Game11EntityBase.ts","./Game11FindPathMonster.ts","./Game11Monster.ts","./Game11Player.ts","./Game11ZombieMonster.ts","./Game11Damage.ts","./Game11HUDCmpBase.ts","./Game11HUDManager.ts","./Game11HUDValueCmp.ts","./Game11BulletQueue.ts","./Game11RefreshGroup.ts","./Game11AddHpView.ts","./Game11ChallengeView.ts","./Game11EndView.ts","./Game11LevelSelectView.ts","./Game11SettingsView.ts","./Game11SkillCmp.ts","./Game11SkillView.ts","./ZDConst.ts","./ZDEnum.ts","./ZDGameData.ts","./ZDGameState.ts","./ZDGameView.ts","./ZDGameControl.ts","./AnimationControlCmp.ts","./BaseDialog2.ts","./LoseDialog2.ts","./SettingDialog.ts","./WinDialog.ts","./ZDDropItemCmp.ts","./PDEffectBase.ts","./PDEffectCmp.ts","./PDEffectPool.ts","./ZDBattleLayer.ts","./ZDLoadingLayer.ts","./ZDMapLayer.ts","./ZDTipsPosLayer.ts","./ZDTouchLayer.ts","./ZDUILayer.ts","./LevelMapBaseCmp.ts","./LevelMapFogCmp.ts","./BarrierCmp.ts","./BarrierItemCmp.ts","./BulletCmp.ts","./HeroCmp.ts","./HeroModelCmp.ts","./MonsterCmp.ts","./PropCmp.ts","./RoleBaseCmp2.ts","./RoleGrassCmp.ts","./RoleShadowCmp.ts","./RoleShopCmp2.ts","./TowerCmp.ts","./TransferCmp.ts","./FlyWeaponCmp.ts","./WeaponCmp2.ts","./MoveRole.ts","./RoleBarrier.ts","./RoleBase.ts","./RoleBullet.ts","./RoleBulletPool.ts","./RoleFactory.ts","./RoleGrass.ts","./RoleHero.ts","./RoleHeroAI.ts","./RoleHeroMain.ts","./RoleMgr2.ts","./RoleMonster2.ts","./RoleProp.ts","./RoleShop.ts","./RoleSpawn.ts","./RoleTower.ts","./RoleTransfer.ts","./ModeFactory.ts","./ZDCutTreeControl.ts","./ZDCutTreeData.ts","./ZDCutTreeView.ts","./CutTreeUICmp.ts","./RoleCutTreeTreeCmp.ts","./RoleCutTree.ts","./ZDFog2Control.ts","./ZDFog2View.ts","./LevelMapFog2Cmp.ts","./Fog2RoleMgr.ts","./ZDFogControl.ts","./ZDFogView.ts","./ZDGrassStackControl.ts","./GrassStackRoleMgr.ts","./RoleGrassStack.ts","./AIAgentBase.ts","./AIAgentImps.ts","./EAIStatus.ts","./IAIEntity.ts","./ZDAudioMgr.ts","./BoxArray2.ts","./RunTimeData2.ts","./FogBlock.ts","./FogBlockList.ts","./FogClear.ts","./FogMap.ts","./ZDConfigItemCmp.ts","./ZDLevelCfgSolver.ts","./VecPool.ts","./IHeroSpawnInfo.ts","./IMonsterSpawnInfo.ts","./Spawner.ts","./FlyWeaponMgr.ts","./WeaponBase.ts","./WeaponModule2.ts","./WeaponPool2.ts","./ZDResUtils.ts","./ZDUtils.ts","./ZDConst3.ts","./ZDEnum3.ts","./ZDGameData3.ts","./ZDGameState3.ts","./ZDGameView3.ts","./ZDGameControl3.ts","./CameraScalerCmp.ts","./AnimationControlCmp3.ts","./BaseDialog3.ts","./LoseDialog3.ts","./MatchDialog3.ts","./SettingDialog3.ts","./WinDialog3.ts","./ZDDropItemCmp3.ts","./PDEffectBase3.ts","./PDEffectCmp3.ts","./PDEffectPool3.ts","./PDEffectWord.ts","./ZDBattleLayer3.ts","./ZDLoadingLayer3.ts","./ZDMapLayer3.ts","./ZDTipsPosLayer3.ts","./ZDTouchLayer3.ts","./ZDUILayer3.ts","./LevelMapBaseCmp3.ts","./LevelMapFogCmp3.ts","./BarrierCmp3.ts","./BarrierItemCmp3.ts","./BulletCmp3.ts","./HeroCmp3.ts","./HeroModelCmp3.ts","./MonsterCmp3.ts","./PropCmp3.ts","./RoleBaseCmp3.ts","./RoleGrassCmp3.ts","./RoleShadowCmp3.ts","./RoleShopCmp3.ts","./TowerCmp3.ts","./TransferCmp3.ts","./KillNoteCmp.ts","./MatchItemCmp.ts","./RankNoteCmp.ts","./RankNoteItemCmp.ts","./FlyWeaponCmp3.ts","./WeaponCmp3.ts","./MoveRole3.ts","./RoleBarrier3.ts","./RoleBase3.ts","./RoleBullet3.ts","./RoleBulletPool3.ts","./RoleFactory3.ts","./RoleGrass3.ts","./RoleHero3.ts","./RoleHeroAI3.ts","./RoleHeroMain3.ts","./RoleMgr3.ts","./RoleMonster3.ts","./RoleProp3.ts","./RoleShop3.ts","./RoleSpawn3.ts","./RoleTower3.ts","./RoleTransfer3.ts","./ModeFactory3.ts","./ZDCutTreeControl3.ts","./ZDCutTreeData3.ts","./ZDCutTreeView3.ts","./CutTreeUICmp3.ts","./RoleCutTreeTreeCmp3.ts","./RoleCutTree3.ts","./ZDFog2Control3.ts","./ZDFog2View3.ts","./LevelMapFog2Cmp3.ts","./Fog2RoleMgr3.ts","./ZDFogControl3.ts","./ZDFogView3.ts","./ZDGrassStackControl3.ts","./GrassStackRoleMgr3.ts","./RoleGrassStack3.ts","./AIAgentBase3.ts","./AIAgentImps3.ts","./EAIStatus3.ts","./IAIEntity3.ts","./ZDAudioMgr3.ts","./BoxArray3.ts","./RunTimeData3.ts","./FogBlock3.ts","./FogBlockList3.ts","./FogClear3.ts","./FogMap3.ts","./ZDConfigItemCmp3.ts","./ZDLevelCfgSolver3.ts","./VecPool3.ts","./IHeroSpawnInfo3.ts","./IMonsterSpawnInfo3.ts","./Spawner3.ts","./FlyWeaponMgr3.ts","./WeaponBase3.ts","./WeaponModule3.ts","./WeaponPool3.ts","./ZDResUtils3.ts","./ZDUtils3.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameData4.ts","./ZDGameState4.ts","./ZDGameView4.ts","./ZDGameControl4.ts","./AnimationControlCmp4.ts","./DamageTextCmp.ts","./BaseDialog4.ts","./LoseDialog4.ts","./SettingDialog4.ts","./WinDialog4.ts","./ZDDropItemCmp4.ts","./PDEffectBase4.ts","./PDEffectCmp4.ts","./PDEffectPool4.ts","./ZDBattleLayer4.ts","./ZDLoadingLayer4.ts","./ZDMapLayer4.ts","./ZDTipsPosLayer4.ts","./ZDTouchLayer4.ts","./ZDUILayer4.ts","./LevelMapBaseCmp4.ts","./LevelMapFogCmp4.ts","./BarrierCmp4.ts","./BarrierItemCmp4.ts","./BulletCmp4.ts","./HeroCmp4.ts","./HeroModelCmp4.ts","./MonsterCmp4.ts","./PropCmp4.ts","./RoleBaseCmp4.ts","./RoleGrassCmp4.ts","./RoleShadowCmp4.ts","./RoleShopCmp4.ts","./TowerCmp4.ts","./TransferCmp4.ts","./FlyWeaponCmp4.ts","./WeaponCmp4.ts","./MoveRole4.ts","./RoleBarrier4.ts","./RoleBase4.ts","./RoleBullet4.ts","./RoleBulletPool4.ts","./RoleFactory4.ts","./RoleGrass4.ts","./RoleHero4.ts","./RoleHeroAI4.ts","./RoleHeroMain4.ts","./RoleMgr4.ts","./RoleMonster4.ts","./RoleProp4.ts","./RoleShop4.ts","./RoleSpawn4.ts","./RoleTower4.ts","./RoleTransfer4.ts","./EnemyHero.ts","./TmHero.ts","./EnemyMonster.ts","./HamalMonster.ts","./MinerMonster.ts","./ShooterMonster.ts","./ModeFactory4.ts","./ZDCutTreeControl4.ts","./ZDCutTreeData4.ts","./ZDCutTreeView4.ts","./CutTreeUICmp4.ts","./RoleCutTreeTreeCmp4.ts","./RegrowTree.ts","./RoleCutTree4.ts","./ZDFog2Control4.ts","./ZDFog2View4.ts","./LevelMapFog2Cmp4.ts","./Fog2RoleMgr4.ts","./ZDFogControl4.ts","./ZDFogView4.ts","./ZDGrassStackControl4.ts","./GrassStackRoleMgr4.ts","./RoleGrassStack4.ts","./AIAgentBase4.ts","./AIAgentImps4.ts","./EAIStatus4.ts","./IAIEntity4.ts","./ZDAudioMgr4.ts","./BoxArray4.ts","./RunTimeData4.ts","./FogBlock4.ts","./FogBlockList4.ts","./FogClear4.ts","./FogMap4.ts","./ZDConfigItemCmp4.ts","./ZDLevelCfgSolver4.ts","./VecPool4.ts","./IHeroSpawnInfo4.ts","./IMonsterSpawnInfo4.ts","./Spawner4.ts","./FlyWeaponMgr4.ts","./WeaponBase4.ts","./WeaponModule4.ts","./WeaponPool4.ts","./ZDResUtils4.ts","./ZDUtils4.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameData5.ts","./ZDGameState5.ts","./ZDGameView5.ts","./ZDGameControl5.ts","./AnimationControlCmp5.ts","./DamageTextCmp5.ts","./BaseDialog5.ts","./LoseDialog5.ts","./SettingDialog5.ts","./WinDialog5.ts","./ZDDropItemCmp5.ts","./PDEffectBase5.ts","./PDEffectCmp5.ts","./PDEffectPool5.ts","./ZDBattleLayer5.ts","./ZDLoadingLayer5.ts","./ZDMapLayer5.ts","./ZDTipsPosLayer5.ts","./ZDTouchLayer5.ts","./ZDUILayer5.ts","./LevelMapBaseCmp5.ts","./LevelMapFogCmp5.ts","./BarrierCmp5.ts","./BarrierItemCmp5.ts","./BulletCmp5.ts","./HeroCmp5.ts","./HeroModelCmp5.ts","./MonsterCmp5.ts","./PropCmp5.ts","./RoleBaseCmp5.ts","./RoleGrassCmp5.ts","./RoleShadowCmp5.ts","./RoleShopCmp5.ts","./TowerCmp5.ts","./TransferCmp5.ts","./FlyWeaponCmp5.ts","./WeaponCmp5.ts","./BuffBase.ts","./MoveRole5.ts","./RoleBarrier5.ts","./RoleBase5.ts","./RoleBullet5.ts","./RoleBulletPool5.ts","./RoleFactory5.ts","./RoleGrass5.ts","./RoleHero5.ts","./RoleHeroAI5.ts","./RoleHeroMain5.ts","./RoleMgr5.ts","./RoleMonster5.ts","./RoleProp5.ts","./RoleShop5.ts","./RoleSpawn5.ts","./RoleTower5.ts","./RoleTransfer5.ts","./RoleBaseTower5.ts","./RoleFruits5.ts","./EnemyHero5.ts","./TmHero5.ts","./EnemyMonster5.ts","./HamalMonster5.ts","./MinerMonster5.ts","./ShooterMonster5.ts","./ModeFactory5.ts","./ZDCutTreeControl5.ts","./ZDCutTreeData5.ts","./ZDCutTreeView5.ts","./CutTreeUICmp5.ts","./RoleCutTreeTreeCmp5.ts","./RegrowTree5.ts","./RoleCutTree5.ts","./ZDFog2Control5.ts","./ZDFog2View5.ts","./LevelMapFog2Cmp5.ts","./Fog2RoleMgr5.ts","./ZDFogControl5.ts","./ZDFogView5.ts","./ZDGrassStackControl5.ts","./GrassStackRoleMgr5.ts","./RoleGrassStack5.ts","./AIAgentBase5.ts","./AIAgentImps5.ts","./EAIStatus5.ts","./IAIEntity5.ts","./ZDAudioMgr5.ts","./BoxArray5.ts","./RunTimeData5.ts","./FogBlock5.ts","./FogBlockList5.ts","./FogClear5.ts","./FogMap5.ts","./ZDConfigItemCmp5.ts","./ZDLevelCfgSolver5.ts","./VecPool5.ts","./IHeroSpawnInfo5.ts","./IMonsterSpawnInfo5.ts","./Spawner5.ts","./FlyWeaponMgr5.ts","./WeaponBase5.ts","./WeaponModule5.ts","./WeaponPool5.ts","./TowerLockUI.ts","./TowerUpTipsUI.ts","./TowerUpUI.ts","./ZDResUtils5.ts","./ZDUtils5.ts","./ZDConst6.ts","./ZDEnum6.ts","./ZDGameData6.ts","./ZDGameState6.ts","./ZDGameView6.ts","./ZDGameControl6.ts","./AnimationControlCmp6.ts","./BaseDialog6.ts","./LoseDialog6.ts","./SettingDialog6.ts","./WinDialog6.ts","./ZDDropItemCmp6.ts","./PDEffectBase6.ts","./PDEffectCmp6.ts","./PDEffectPool6.ts","./ZDBattleLayer6.ts","./ZDLoadingLayer6.ts","./ZDMapLayer6.ts","./ZDTipsPosLayer6.ts","./ZDTouchLayer6.ts","./ZDUILayer6.ts","./LevelMapBaseCmp6.ts","./LevelMapFogCmp6.ts","./BarrierCmp6.ts","./BarrierItemCmp6.ts","./BulletCmp6.ts","./HeroCmp6.ts","./HeroModelCmp6.ts","./MonsterCmp6.ts","./PropCmp6.ts","./RoleBaseCmp6.ts","./RoleGrassCmp6.ts","./RoleShadowCmp6.ts","./RoleShopCmp6.ts","./TowerCmp6.ts","./TransferCmp6.ts","./FlyWeaponCmp6.ts","./WeaponCmp6.ts","./MoveRole6.ts","./RoleBarrier6.ts","./RoleBase6.ts","./RoleBullet6.ts","./RoleBulletPool6.ts","./RoleColaSpawn6.ts","./RoleData6.ts","./RoleFactory6.ts","./RoleGrass6.ts","./RoleHero6.ts","./RoleHeroAI6.ts","./RoleHeroMain6.ts","./RoleMgr6.ts","./RoleMonster6.ts","./RoleProp6.ts","./RoleShop6.ts","./RoleSpawn6.ts","./RoleTower6.ts","./RoleTransfer6.ts","./ModeFactory6.ts","./ZDCutTreeControl6.ts","./ZDCutTreeData6.ts","./ZDCutTreeView6.ts","./CutTreeUICmp6.ts","./RoleCutTreeTreeCmp6.ts","./RoleCutTree6.ts","./ZDFog2Control6.ts","./ZDFog2View6.ts","./LevelMapFog2Cmp6.ts","./Fog2RoleMgr6.ts","./ZDFogControl6.ts","./ZDFogView6.ts","./ZDGrassStackControl6.ts","./GrassStackRoleMgr6.ts","./RoleGrassStack6.ts","./AIAgentBase6.ts","./AIAgentImps6.ts","./EAIStatus6.ts","./IAIEntity6.ts","./ZDAudioMgr6.ts","./BoxArray6.ts","./FogBlock6.ts","./FogBlockList6.ts","./FogClear6.ts","./FogMap6.ts","./ZDConfigItemCmp6.ts","./ZDLevelCfgSolver6.ts","./MapBase6.ts","./MapControl6.ts","./IMath.ts","./MapGraph.ts","./PathControl.ts","./AsyncAStar.ts","./BinaryHeap.ts","./FreeList.ts","./Graph.ts","./GridNode.ts","./VecPool6.ts","./IHeroSpawnInfo6.ts","./IMonsterSpawnInfo6.ts","./Spawner6.ts","./FlyWeaponMgr6.ts","./WeaponBase6.ts","./WeaponModule6.ts","./WeaponPool6.ts","./AStar.ts","./ZDResUtils6.ts","./ZDUtils6.ts","./AliAds.ts","./Android233Ads.ts","./DefaultAds.ts","./IOSAds.ts","./KSAds.ts","./MYAds.ts","./OppoAds.ts","./TTAds.ts","./VivoAds.ts","./WXAds.ts","./AliPlatform.ts","./Android233Platform.ts","./DefaultPlatform.ts","./IOSPlatform.ts","./KSPlatform.ts","./MYPlatform.ts","./OppoPlatform.ts","./Platform.ts","./DefaultRecorder.ts","./KSRecorder.ts","./TTRecorder.ts","./DataAnalysisSDK.ts","./SDK.ts","./SDK_CQ.ts","./ZTSDK.ts","./TTPlatform.ts","./VivoPlatform.ts","./WXPlatform.ts","./AgeTips.ts","./RealName.ts","./SafeTime.ts","./Splash.ts","./SplashHelper.ts","./UIStatement.ts","./UIToast.ts","./ZZLGameState.ts","./FollowPos.ts","./LinearPath4.ts","./ZZLBody.ts","./ZZLBox.ts","./ZZLBullet.ts","./ZZLColliderBase.ts","./ZZLDamage.ts","./ZZLEffect.ts","./ZZLMine.ts","./ZZLWeapon.ts","./ZZLevel.ts","./CurveTexture.ts","./EarCut.ts","./MeshSprite.ts","./MoveWithTouch.ts","./UsefulTools.ts","./ZZLLayerGroup.ts","./ZZLBodyGroup.ts","./ZZLDragon.ts","./ZZLEntityBase.ts","./ZZLAudio.ts","./ZZLBattleView.ts","./ZZLEndView.ts","./BagManager.ts","./GameBagHolder.ts","./GameBagItem.ts","./GameBagOption.ts","./GameBagPack.ts","./GameBagSlot.ts","./GameBagTemp.ts","./GameEnemy2.ts","./GameGrid.ts","./GamePlayer3.ts","./GameRoleBase.ts","./PackGame.ts","./PackState.ts","./PackView.ts","./WindowGameOver.ts","./pkFloat.ts","./QJState.ts","./QJHome.ts","./QJRole.ts","./QJRope.ts","./QJScene.ts","./QJTrigger.ts","./QJTriggerDoor.ts","./QJTriggerDoorReward.ts","./PoolManager.ts","./QJAudio.ts","./QJEnemySpawner.ts","./QJSpawner.ts","./QJTriggerManager.ts","./QJBattleView.ts","./QJEndView.ts","./ELevelState.ts","./LevelBackMergeState.ts","./LevelBattleState.ts","./LevelEndState.ts","./LevelMergeState.ts","./LevelPreAnimState.ts","./LevelPreBattleState.ts","./LevelStateBase.ts","./BaseState.ts","./StateMachine.ts","./StateMap.ts","./SDMState.ts","./SDMEnemyAttackState.ts","./SDMEnemyDeadState.ts","./SDMEnemyIdleState.ts","./SDMEnemyMoveBackState.ts","./SDMEnemyMoveState.ts","./SDMEnemyStateBase.ts","./SDMBoss.ts","./SDMBuff.ts","./SDMBullet.ts","./SDMEnemy.ts","./SDMGrid.ts","./SDMItem.ts","./SDMRoleBase.ts","./SDMItemBattleState.ts","./SDMItemIdleState.ts","./SDMItemMergeState.ts","./SDMItemStateBase.ts","./SDMItem01.ts","./SDMItem02.ts","./SDMItem06.ts","./SDMItem07.ts","./SDMItem08.ts","./SDMItem09.ts","./SDMItem100.ts","./SDMItem12.ts","./SDMItem13.ts","./SDMItem200.ts","./SDMItem300.ts","./SDMItem400.ts","./PoolManager3.ts","./SDMAudio.ts","./SDMDamage.ts","./SDMLevel.ts","./UI_Battle2.ts","./UI_End2.ts","./UI_Hud.ts","./UI_SDMItemInfo.ts","./UI_SpeedUp.ts","./UI_SuperStart.ts","./UI_costCmp.ts","./UI_iconBtn.ts","./UI_iconBtnTog.ts","./UI_itemToast.ts","./UI_normal_btn24.ts","./UI_normal_btn_ad3.ts","./UI_normal_btn_ad22.ts","./UI_randItem.ts","./sdmBinder.ts","./SDMBattleView.ts","./SDMEndView.ts","./SDMHudView.ts","./SDMItemInfoView.ts","./SDMSpeedUpView.ts","./SDMSuperStartView.ts","./BattleView3.ts","./SZLBattleState.ts","./AudioManager2.ts","./BattleManager2.ts","./DamageBoardPool2.ts","./EffectManager.ts","./Particles.ts","./GameAttr3.ts","./GameBottle.ts","./GameBullet2.ts","./GameChest.ts","./GameDragon.ts","./GameDragonGroup.ts","./GameDragonHead.ts","./GameDrop2.ts","./GameEnemy3.ts","./GameObject.ts","./GamePanel2.ts","./GamePlayer2.ts","./GameSpawner.ts","./GameTalent.ts","./GameWeapon2.ts","./WindowBase2.ts","./WindowCup2.ts","./WindowSettings.ts","./WindowWin3.ts","./LinearPath3.ts","./const2.ts","./fguiGesture.ts","./fguiPatch3.ts","./screenShaker3.ts","./uiCamera3.ts","./uiJoystick2.ts","./util3.ts","./BattleView22.ts","./SZLBattleState2.ts","./BeginPanel.ts","./BridgeBgMove.ts","./BridgeBgMoveType3.ts","./AudioManager22.ts","./BattleManager22.ts","./DamageBoardPool22.ts","./EffectManager22.ts","./Particles2.ts","./GameAttr2.ts","./GameBottle2.ts","./GameBullet22.ts","./GameChest2.ts","./GameDragon2.ts","./GameDragonGroup2.ts","./GameDragonHead2.ts","./GameDrop22.ts","./GameDropPanel2.ts","./GameEnemy22.ts","./GameObject22.ts","./GamePanel22.ts","./GamePlayer22.ts","./GamePlayer2Type3.ts","./GameSpawner2.ts","./GameTalent22.ts","./GameWeapon22.ts","./WindowBase22.ts","./WindowCup22.ts","./WindowSettings22.ts","./WindowWin2.ts","./LinearPath22.ts","./const22.ts","./fguiGesture22.ts","./fguiPatch22.ts","./screenShaker22.ts","./uiCamera22.ts","./uiJoystick22.ts","./util22.ts","./BattleView.ts","./TreeSpiritState.ts","./AudioManager.ts","./BattleManager.ts","./DamageBoardPool.ts","./EffectManager2.ts","./GameAction.ts","./GameAttr.ts","./GameBombingBullet.ts","./GameBorder.ts","./GameBullet.ts","./GameChainHelper.ts","./GameDrop.ts","./GameEnemy.ts","./GameEnemyBoss.ts","./GameGem.ts","./GameItem.ts","./GameObject2.ts","./GamePanel.ts","./GamePlayer.ts","./GameSawBullet.ts","./GameSpawner3.ts","./GameTalent2.ts","./GameWeapon.ts","./WindowBase.ts","./WindowCup.ts","./WindowSettings2.ts","./WindowWin.ts","./LinearPath2.ts","./const.ts","./fguiGesture2.ts","./fguiPatch.ts","./screenShaker2.ts","./uiCamera2.ts","./util2.ts","./FontBinder.ts","./UI_DamageBoard.ts","./UI_DamageBoard1.ts","./UI_DamageBoardCrit.ts","./UI_DamageBoardCrit1.ts","./MainBinder.ts","./UI_Alert.ts","./UI_Arctech.ts","./UI_Box.ts","./UI_BuildRate.ts","./UI_Builds.ts","./UI_Card.ts","./UI_CardInfo.ts","./UI_CardRate.ts","./UI_FBIWarning.ts","./UI_Feedback.ts","./UI_GM.ts","./UI_Game2.ts","./UI_GetBuild.ts","./UI_GetBuild1.ts","./UI_GetBuildNew.ts","./UI_GetCard.ts","./UI_GetCoin.ts","./UI_Hall.ts","./UI_ItemBuild.ts","./UI_ItemBuild1.ts","./UI_ItemCoin.ts","./UI_ItemIcon.ts","./UI_ItemSkin.ts","./UI_Loading.ts","./UI_Loading1.ts","./UI_Main.ts","./UI_Online.ts","./UI_Part.ts","./UI_Rank.ts","./UI_Reward.ts","./UI_RewardRes.ts","./UI_Seek.ts","./UI_Setting.ts","./UI_Sidebar.ts","./UI_Sign.ts","./UI_Skin.ts","./UI_SubGames.ts","./UI_SubLevels.ts","./UI_Task.ts","./UI_TextBtn.ts","./UI_TextBtn2.ts","./UI_TextBtn3.ts","./UI_TipsSubGame.ts","./UI_Toast5.ts","./UI_TurnInfo.ts","./UI_Upgrade2.ts","./UI_alertCmp.ts","./UI_bottomCmp.ts","./UI_btnAd.ts","./UI_btnAd2.ts","./UI_btnBatAtk.ts","./UI_btnCulti.ts","./UI_btnRate.ts","./UI_btnUnlock.ts","./UI_btn_text_012.ts","./UI_cmpCard.ts","./UI_cmpCard1.ts","./UI_cmpChapter.ts","./UI_cmpCultivate.ts","./UI_cmpGm.ts","./UI_cmpHumer.ts","./UI_cmpProp.ts","./UI_cmpReward.ts","./UI_cmpReward1.ts","./UI_cmpRole2.ts","./UI_cmpTurn.ts","./UI_cmpUpgrade.ts","./UI_costBtn.ts","./UI_costBtn1.ts","./UI_costBtn2.ts","./UI_costBtnad.ts","./UI_feedComp.ts","./UI_giftCmp.ts","./UI_giftCmp1.ts","./UI_handcmp.ts","./UI_itemBuildChoose.ts","./UI_itemBuildNew.ts","./UI_itemCard.ts","./UI_itemCards.ts","./UI_itemDailyReward.ts","./UI_itemName.ts","./UI_itemOnline.ts","./UI_itemSign.ts","./UI_itemSign1.ts","./UI_itemSubLevel.ts","./UI_itemTask.ts","./UI_itemTask1.ts","./UI_item_skill.ts","./UI_midCmp.ts","./UI_midCmpScroll.ts","./UI_popBuild.ts","./UI_popTask.ts","./UI_skinInfoCmp.ts","./UI_test.ts","./UI_togTask.ts","./UI_togTurn1.ts","./UI_tog_hall.ts","./UI_tog_set.ts","./UI_tog_upgrade.ts","./UI_topCmp.ts","./UI_view_toast.ts","./PackBattleBinder.ts","./UI_BagItem_1.ts","./UI_BagItem_2.ts","./UI_BagItem_3.ts","./UI_BagItem_4.ts","./UI_BagItem_7.ts","./UI_BagPackage.ts","./UI_BagSlotItem.ts","./UI_BattleView.ts","./UI_PackBattleView.ts","./UI_SubGameTray2.ts","./UI_ViewBag.ts","./UI_WindowGameOver.ts","./UI_bagContent.ts","./UI_btn_icon.ts","./UI_current_status.ts","./UI_enemy_hp_bar.ts","./UI_equip_status.ts","./UI_key_value_panel.ts","./UI_levelTag.ts","./UI_map_1.ts","./UI_map_2.ts","./UI_packTiles.ts","./UI_player_hp_bar.ts","./SubGameBinder.ts","./UI_SubGameTray.ts","./UI_WindowChooseGame.ts","./UI_WindowChooseLevel.ts","./UI_WindowSettingSub.ts","./UI_WindowSubSettle.ts","./UI_WindowTimeTips.ts","./UI_btn_icon2.ts","./UI_level_choose_panel.ts","./UI_restart_btn.ts","./UI_setting_combo.ts","./UI_unlock_btn.ts","./UI_Game.ts","./Zhuandao2Binder.ts","./UI_ADBtn4.ts","./UI_Battle5.ts","./UI_Boss.ts","./UI_Bullet_Laser.ts","./UI_CommonBtn4.ts","./UI_Component4.ts","./UI_CupPick4.ts","./UI_CupPickItem4.ts","./UI_IconBtn5.ts","./UI_Item.ts","./UI_Player2.ts","./UI_Toast4.ts","./UI_WindowFrame3.ts","./UI_WindowSetting.ts","./UI_WindowWin2.ts","./UI_bossHPmask.ts","./UI_checkToast.ts","./UI_hpBarInner.ts","./UI_laser_mask.ts","./UI_light_effect.ts","./UI_mpBarInner.ts","./UI_panelItem4.ts","./UI_setting_item.ts","./pindaoBinder.ts","./UI_Battle7.ts","./UI_End.ts","./UI_iconBtn2.ts","./UI_normal_btn22.ts","./UI_normal_btn_ad4.ts","./qjcjBinder.ts","./UI_ADBtn.ts","./UI_Battle4.ts","./UI_BottleItem2.ts","./UI_ChestItem2.ts","./UI_CommonBtn2.ts","./UI_CupPick2.ts","./UI_CupPickItem.ts","./UI_DragonBody2.ts","./UI_DragonHead2.ts","./UI_DragonPanel2.ts","./UI_DropPanel.ts","./UI_IconBtn7.ts","./UI_Player3.ts","./UI_Toast3.ts","./UI_WindowFrame2.ts","./UI_WindowSetting2.ts","./UI_WindowWin4.ts","./UI_beginLayer.ts","./UI_beginLayer2.ts","./UI_bluePanel.ts","./UI_dropPanelItem.ts","./UI_gameBG2.ts","./UI_gameBG102.ts","./UI_gameBG1001.ts","./UI_gameBG11.ts","./UI_gameBG122.ts","./UI_gameBG13.ts","./UI_gameBG14.ts","./UI_gameBG152.ts","./UI_gameBG23.ts","./UI_gameBG3.ts","./UI_gameBG42.ts","./UI_gameBG5.ts","./UI_gameBG62.ts","./UI_gameBG72.ts","./UI_gameBG8.ts","./UI_gameBG9.ts","./UI_greenPanel.ts","./UI_layer.ts","./UI_monster.ts","./UI_monster23.ts","./UI_moveMap.ts","./UI_panelItem2.ts","./UI_panelItem23.ts","./UI_panelItem32.ts","./UI_panelItem42.ts","./UI_panelItem5.ts","./UI_panelItem6.ts","./UI_panelItem72.ts","./UI_panelItem82.ts","./UI_piaodai.ts","./UI_redPanel.ts","./UI_setting_item3.ts","./UI_yellowPanel.ts","./shoudaqiao2Binder.ts","./UI_ADBtn2.ts","./UI_Battle8.ts","./UI_BottleItem.ts","./UI_ChestItem.ts","./UI_CommonBtn3.ts","./UI_CupPick3.ts","./UI_CupPickItem2.ts","./UI_DragonBody.ts","./UI_DragonHead.ts","./UI_DragonPanel.ts","./UI_IconBtn8.ts","./UI_Player4.ts","./UI_Toast.ts","./UI_WindowFrame.ts","./UI_WindowSetting3.ts","./UI_WindowWin3.ts","./UI_gameBG.ts","./UI_gameBG10.ts","./UI_gameBG112.ts","./UI_gameBG12.ts","./UI_gameBG132.ts","./UI_gameBG142.ts","./UI_gameBG15.ts","./UI_gameBG22.ts","./UI_gameBG32.ts","./UI_gameBG4.ts","./UI_gameBG52.ts","./UI_gameBG6.ts","./UI_gameBG7.ts","./UI_gameBG82.ts","./UI_gameBG92.ts","./UI_monster2.ts","./UI_monster22.ts","./UI_panelItem.ts","./UI_panelItem22.ts","./UI_panelItem33.ts","./UI_panelItem43.ts","./UI_panelItem52.ts","./UI_panelItem62.ts","./UI_panelItem7.ts","./UI_panelItem8.ts","./UI_setting_item4.ts","./shoudaqiaoBinder.ts","./UI_Battle6.ts","./UI_End3.ts","./UI_iconBtn4.ts","./UI_normal_btn23.ts","./UI_normal_btn_ad2.ts","./sub_zzlBinder.ts","./UI_Alert2.ts","./UI_DoorAD.ts","./UI_Shop.ts","./UI_Upgrade.ts","./UI_alertCmp2.ts","./UI_btn_text_01.ts","./UI_buyBtn.ts","./UI_commonBtn.ts","./UI_shopItem.ts","./UI_shopTopBtn.ts","./UI_upgradeItem.ts","./tangpingBinder.ts","./UI_ADBtn3.ts","./UI_Battle3.ts","./UI_Bullet_Chainsaw_1.ts","./UI_CommonBtn5.ts","./UI_CupPick.ts","./UI_CupPickItem3.ts","./UI_DropChoose.ts","./UI_Enemy.ts","./UI_EnemyBoss.ts","./UI_Enemy_101.ts","./UI_Enemy_102.ts","./UI_Enemy_103.ts","./UI_Gem.ts","./UI_HitItem.ts","./UI_IconBtn6.ts","./UI_IconItem.ts","./UI_Item2.ts","./UI_PickPanel.ts","./UI_Skill.ts","./UI_SkillIcon.ts","./UI_SkillIconBase.ts","./UI_Toast2.ts","./UI_WinPanel.ts","./UI_WindowFrame4.ts","./UI_WindowSetting4.ts","./UI_WindowWin.ts","./UI_bullet_syc.ts","./UI_chooseItem.ts","./UI_dmgRed.ts","./UI_failPanel.ts","./UI_frozenBody.ts","./UI_frozen_eff.ts","./UI_groupView.ts","./UI_player.ts","./UI_player0.ts","./UI_player_1.ts","./UI_player_2.ts","./UI_player_3.ts","./UI_player_4.ts","./UI_powerImage.ts","./UI_ride_0.ts","./UI_ride_5.ts","./UI_ride_6.ts","./UI_ride_7.ts","./UI_ride_8.ts","./UI_setting_item2.ts","./UI_skill_common_1.ts","./UI_sleep_effect.ts","./treeSpiritBinder.ts","./UI_level_003.ts","./UI_level_004.ts","./UI_level_005.ts","./UI_level_006.ts","./UI_level_007.ts","./UI_level_009.ts","./UI_level_1001.ts","./UI_level_1002.ts","./UI_level_1003.ts","./UI_panelItem3.ts","./UI_panelItem_1.ts","./UI_panelItem_2.ts","./UI_toast_dalongji_common.ts","./treeSpirit_levelsBinder.ts","./UI_Battle.ts","./UI_End4.ts","./UI_iconBtn3.ts","./UI_normal_btn2.ts","./UI_normal_btn_ad.ts","./wukongBinder.ts","./ADMananger.ts","./EditorUtils.ts","./Emitter.ts","./GObjectPoolEX.ts","./LinearPath.ts","./NodePool.ts","./PoolManager2.ts","./UserNodeEvents.ts","./UserPage.ts","./WindowBase3.ts","./comUpdater.ts","./fguiGesture3.ts","./fguiPatch2.ts","./nodeGesture.ts","./screenShaker.ts","./uiCamera.ts","./uiJoystick.ts","./util.ts","./BoxView.ts","./BuildRateView.ts","./CardInfoView.ts","./CardRateView.ts","./FBIWarningView.ts","./GMView.ts","./GameView.ts","./GetBuildNewView.ts","./GetBuildView.ts","./GetCardView.ts","./GetCoinView.ts","./GetRewardView.ts","./HallView.ts","./LoadingView.ts","./OnlineView.ts","./RankView.ts","./ResHelper.ts","./RewardView.ts","./SeekView.ts","./SettingView.ts","./SidebarView.ts","./SignView.ts","./SkinView.ts","./SubGamesView.ts","./SubLevelsView.ts","./TaskView.ts","./TipsSubGameView.ts","./TurnInfoView.ts","./BuildsPage.ts","./CardPage.ts","./MainPage.ts","./PageBase.ts","./PartPage.ts","./UpgradePage.ts","./debug-view-runtime-control.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoConfigSetter.ts","./App.ts","./YT.ts","./CommonSaveData.ts","./Platform.ts","./SDK.ts","./UIHelper.ts","./ConfigEx.ts","./GameDataDef.ts","./LoadingManager.ts","./MainBinder.ts"],(function(t){var n,e,a,o,r,i,s,c,u,f,p,d,l,m,g,v,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t._decorator,i=t.game},function(t){s=t.AutoConfigSetter},function(t){c=t.App},function(t){u=t.YT},function(t){f=t.CommonSaveData},function(t){p=t.default},function(t){d=t.default},function(t){l=t.UIHelper},function(t){m=t.GameConfigEx},function(t){g=t.GameData},function(t){v=t.LoadingManager},function(t){h=t.default}],execute:function(){var _;o._RF.push({},"15fecC+VR1C8IXX3gCnbcJZ","Main",void 0);var L=r.ccclass;t("Main",L("Main")(_=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r.initPlatform=function(){var t=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.platform=p.Inst,u.platform.reportEvent("game_event",{id:"初始化平台"}),t.next=4,p.init(this.platformConfig.json);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.appStart=function(){var t=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.RegistAbridgeNumber(30,2,101),s.SetConfig(),u.platform.reportEvent("game_event",{id:"配置加载开始"}),v.instance.loadCfgFiles(this._onConfigLoaded.bind(this));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r._onConfigLoaded=function(){u.platform.reportEvent("game_event",{id:"配置加载完成"}),m.instance.init(d.Inst.configs.area),v.instance.loadUIPackages(this._onUIPackageLoaded.bind(this))},r._onUIPackageLoaded=function(){h.bindAll(),u.platform.reportEvent("game_event",{id:"ui加载完成"});var t=v.instance.getStartLoadDatas();t=v.instance.getPreloadDatas(t),v.instance.startLoad(t,this._onStartLoaded.bind(this))},r._onStartLoaded=function(){var t=e(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.platform.reportEvent("game_event",{id:"启动资源加载完成"}),n=d.Inst.appId+u.config.game.package,t.next=4,f.Load(n);case 4:return t.next=6,g.GameInfo.instance.load(n);case 6:return console.log("游戏数据初始化结束"),u.timer.addLateUpdate(this._onlineTimer,this,1),m.instance.initialize(),u.audio.load(),f.instance.lowRate?i.frameRate=30:i.frameRate=60,t.next=13,u.game.startGame();case 13:u.platform.reportEvent("game_event",{id:"启动游戏"}),u.platform.reportScene(7001),this.enabled=!1,console.log("游戏初始化结束");case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onDestroy=function(){t.prototype.onDestroy.call(this),u.timer.removeLateUpdate(this._onlineTimer,this)},r._onlineTimer=function(){u.data.userData.ols++,u.data.dailyData.ols++},o}(c))||_);o._RF.pop()}}}));

System.register("chunks:///_virtual/MainBinder.ts",["cc","./fairygui.mjs","./UI_Hall.ts","./UI_topCmp.ts","./UI_bottomCmp.ts","./UI_tog_hall.ts","./UI_Upgrade2.ts","./UI_Builds.ts","./UI_Card.ts","./UI_Part.ts","./UI_Game2.ts","./UI_giftCmp1.ts","./UI_itemDailyReward.ts","./UI_Reward.ts","./UI_RewardRes.ts","./UI_btnAd.ts","./UI_Setting.ts","./UI_tog_set.ts","./UI_itemName.ts","./UI_itemCard.ts","./UI_itemCards.ts","./UI_costBtnad.ts","./UI_GetCard.ts","./UI_btnUnlock.ts","./UI_itemSubLevel.ts","./UI_Skin.ts","./UI_ItemSkin.ts","./UI_skinInfoCmp.ts","./UI_TextBtn2.ts","./UI_GetCoin.ts","./UI_btnAd2.ts","./UI_Box.ts","./UI_Task.ts","./UI_itemOnline.ts","./UI_Online.ts","./UI_Alert.ts","./UI_alertCmp.ts","./UI_SubLevels.ts","./UI_tog_upgrade.ts","./UI_item_skill.ts","./UI_costBtn.ts","./UI_costBtn1.ts","./UI_cmpUpgrade.ts","./UI_costBtn2.ts","./UI_cmpProp.ts","./UI_cmpReward.ts","./UI_cmpCultivate.ts","./UI_test.ts","./UI_cmpCard.ts","./UI_cmpCard1.ts","./UI_midCmp.ts","./UI_btnCulti.ts","./UI_Sign.ts","./UI_itemSign.ts","./UI_itemSign1.ts","./UI_TurnInfo.ts","./UI_togTurn1.ts","./UI_cmpRole2.ts","./UI_cmpTurn.ts","./UI_FBIWarning.ts","./UI_Feedback.ts","./UI_feedComp.ts","./UI_TextBtn.ts","./UI_Rank.ts","./UI_SubGames.ts","./UI_togTask.ts","./UI_popTask.ts","./UI_itemTask.ts","./UI_ItemBuild1.ts","./UI_itemBuildChoose.ts","./UI_GetBuildNew.ts","./UI_itemBuildNew.ts","./UI_Main.ts","./UI_Sidebar.ts","./UI_giftCmp.ts","./UI_btn_text_012.ts","./UI_handcmp.ts","./UI_Loading.ts","./UI_TextBtn3.ts","./UI_GM.ts","./UI_cmpGm.ts","./UI_CardRate.ts","./UI_ItemCoin.ts","./UI_Seek.ts","./UI_view_toast.ts","./UI_Toast5.ts","./UI_TipsSubGame.ts","./UI_cmpReward1.ts","./UI_cmpChapter.ts","./UI_BuildRate.ts","./UI_GetBuild.ts","./UI_Loading1.ts","./UI_popBuild.ts","./UI_ItemIcon.ts","./UI_CardInfo.ts","./UI_btnBatAtk.ts","./UI_cmpHumer.ts","./UI_ItemBuild.ts"],(function(t){var n,e,s,i,o,u,f,U,a,d,c,l,R,I,_,x,L,E,m,r,p,C,B,g,b,k,S,T,G,w,v,h,y,M,A,F,N,O,j,H,P,D,Q,V,W,q,z,J,K,X,Y,Z,$,tt,nt,et,st,it,ot,ut,ft,Ut,at,dt,ct,lt,Rt,It,_t,xt,Lt,Et,mt,rt,pt,Ct,Bt,gt,bt,kt,St,Tt,Gt,wt,vt,ht,yt,Mt,At,Ft,Nt,Ot,jt,Ht,Pt,Dt,Qt,Vt;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){s=t.default},function(t){i=t.default},function(t){o=t.default},function(t){u=t.default},function(t){f=t.default},function(t){U=t.default},function(t){a=t.default},function(t){d=t.default},function(t){c=t.default},function(t){l=t.default},function(t){R=t.default},function(t){I=t.default},function(t){_=t.default},function(t){x=t.default},function(t){L=t.default},function(t){E=t.default},function(t){m=t.default},function(t){r=t.default},function(t){p=t.default},function(t){C=t.default},function(t){B=t.default},function(t){g=t.default},function(t){b=t.default},function(t){k=t.default},function(t){S=t.default},function(t){T=t.default},function(t){G=t.default},function(t){w=t.default},function(t){v=t.default},function(t){h=t.default},function(t){y=t.default},function(t){M=t.default},function(t){A=t.default},function(t){F=t.default},function(t){N=t.default},function(t){O=t.default},function(t){j=t.default},function(t){H=t.default},function(t){P=t.default},function(t){D=t.default},function(t){Q=t.default},function(t){V=t.default},function(t){W=t.default},function(t){q=t.default},function(t){z=t.default},function(t){J=t.default},function(t){K=t.default},function(t){X=t.default},function(t){Y=t.default},function(t){Z=t.default},function(t){$=t.default},function(t){tt=t.default},function(t){nt=t.default},function(t){et=t.default},function(t){st=t.default},function(t){it=t.default},function(t){ot=t.default},function(t){ut=t.default},function(t){ft=t.default},function(t){Ut=t.default},function(t){at=t.default},function(t){dt=t.default},function(t){ct=t.default},function(t){lt=t.default},function(t){Rt=t.default},function(t){It=t.default},function(t){_t=t.default},function(t){xt=t.default},function(t){Lt=t.default},function(t){Et=t.default},function(t){mt=t.default},function(t){rt=t.default},function(t){pt=t.default},function(t){Ct=t.default},function(t){Bt=t.default},function(t){gt=t.default},function(t){bt=t.default},function(t){kt=t.default},function(t){St=t.default},function(t){Tt=t.default},function(t){Gt=t.default},function(t){wt=t.default},function(t){vt=t.default},function(t){ht=t.default},function(t){yt=t.default},function(t){Mt=t.default},function(t){At=t.default},function(t){Ft=t.default},function(t){Nt=t.default},function(t){Ot=t.default},function(t){jt=t.default},function(t){Ht=t.default},function(t){Pt=t.default},function(t){Dt=t.default},function(t){Qt=t.default},function(t){Vt=t.default}],execute:function(){n._RF.push({},"e9a82smxQVM+by5f20MpGE7","MainBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(s.URL,s),e.setExtension(i.URL,i),e.setExtension(o.URL,o),e.setExtension(u.URL,u),e.setExtension(f.URL,f),e.setExtension(U.URL,U),e.setExtension(a.URL,a),e.setExtension(d.URL,d),e.setExtension(c.URL,c),e.setExtension(l.URL,l),e.setExtension(R.URL,R),e.setExtension(I.URL,I),e.setExtension(_.URL,_),e.setExtension(x.URL,x),e.setExtension(L.URL,L),e.setExtension(E.URL,E),e.setExtension(m.URL,m),e.setExtension(r.URL,r),e.setExtension(p.URL,p),e.setExtension(C.URL,C),e.setExtension(B.URL,B),e.setExtension(g.URL,g),e.setExtension(b.URL,b),e.setExtension(k.URL,k),e.setExtension(S.URL,S),e.setExtension(T.URL,T),e.setExtension(G.URL,G),e.setExtension(w.URL,w),e.setExtension(v.URL,v),e.setExtension(h.URL,h),e.setExtension(y.URL,y),e.setExtension(M.URL,M),e.setExtension(A.URL,A),e.setExtension(F.URL,F),e.setExtension(N.URL,N),e.setExtension(O.URL,O),e.setExtension(j.URL,j),e.setExtension(H.URL,H),e.setExtension(P.URL,P),e.setExtension(D.URL,D),e.setExtension(Q.URL,Q),e.setExtension(V.URL,V),e.setExtension(W.URL,W),e.setExtension(q.URL,q),e.setExtension(z.URL,z),e.setExtension(J.URL,J),e.setExtension(K.URL,K),e.setExtension(X.URL,X),e.setExtension(Y.URL,Y),e.setExtension(Z.URL,Z),e.setExtension($.URL,$),e.setExtension(tt.URL,tt),e.setExtension(nt.URL,nt),e.setExtension(et.URL,et),e.setExtension(st.URL,st),e.setExtension(it.URL,it),e.setExtension(ot.URL,ot),e.setExtension(ut.URL,ut),e.setExtension(ft.URL,ft),e.setExtension(Ut.URL,Ut),e.setExtension(at.URL,at),e.setExtension(dt.URL,dt),e.setExtension(ct.URL,ct),e.setExtension(lt.URL,lt),e.setExtension(Rt.URL,Rt),e.setExtension(It.URL,It),e.setExtension(_t.URL,_t),e.setExtension(xt.URL,xt),e.setExtension(Lt.URL,Lt),e.setExtension(Et.URL,Et),e.setExtension(mt.URL,mt),e.setExtension(rt.URL,rt),e.setExtension(pt.URL,pt),e.setExtension(Ct.URL,Ct),e.setExtension(Bt.URL,Bt),e.setExtension(gt.URL,gt),e.setExtension(bt.URL,bt),e.setExtension(kt.URL,kt),e.setExtension(St.URL,St),e.setExtension(Tt.URL,Tt),e.setExtension(Gt.URL,Gt),e.setExtension(wt.URL,wt),e.setExtension(vt.URL,vt),e.setExtension(ht.URL,ht),e.setExtension(yt.URL,yt),e.setExtension(Mt.URL,Mt),e.setExtension(At.URL,At),e.setExtension(Ft.URL,Ft),e.setExtension(Nt.URL,Nt),e.setExtension(Ot.URL,Ot),e.setExtension(jt.URL,jt),e.setExtension(Ht.URL,Ht),e.setExtension(Pt.URL,Pt),e.setExtension(Dt.URL,Dt),e.setExtension(Qt.URL,Qt),e.setExtension(Vt.URL,Vt)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/MainConst.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"6697dZG34NBWoG00bu/OGtM","MainConst",void 0);e("MAIN_SCENE","Game"),e("MAIN_BUNDLE","game"),e("MAIN_PREFABS",{HeroView:"prefab/ui/battle/hero_view",MonsterPlayer:"prefab/ui/battle/monster_player",MonsterEnemy:"prefab/ui/battle/monster_enemy",WeaponView:"prefab/ui/battle/weapon_view",BulletView:"prefab/ui/battle/bullet_view",MonsterView:"prefab/ui/battle/monster_view",PetView:"prefab/ui/battle/pet_view",GoodsView:"prefab/ui/battle/goods_view",TreeView:"prefab/tree/treeNode",skinView:"prefab/ui/hall/skin_view",hallSkinView:"prefab/ui/hall/skin_view",hallBuildView:"prefab/ui/hall/build_view",HurtView1:"prefab/ui/battle/damage_text1",HurtView2:"prefab/ui/battle/damage_text2",DropWood:"prefab/ui/battle/drop_wood",DropExp:"prefab/ui/battle/drop_exp",DropGold:"prefab/ui/battle/drop_gold",DropGem:"prefab/ui/battle/drop_gem",FlyRemain:"prefab/ui/battle/fly_remain",CardDialog:"prefab/ui/battle/dialog/card_dialog",AddWeaponDialog:"prefab/ui/battle/dialog/add_weapon_dialog",OpenTreasureDialog:"prefab/ui/battle/dialog/open_treasure_dialog",UnlockShopDialog:"prefab/ui/battle/dialog/unlock_shop_dialog",ReviveDialog:"prefab/ui/battle/dialog/revive_dialog",LoseDialog:"prefab/ui/battle/dialog/lose_dialog",WinDialog:"prefab/ui/battle/dialog/win_dialog",BuildingCampFire:"prefab/building/camp_fire",BuildingGoldMine:"prefab/building/gold_mine",BuildingRoadBlock:"prefab/building/road_block",BuildingTower:"prefab/building/tower",test_bullet:"prefab/bullet/bullet_001",EffectDie:"effect/prefab/effect_02",EffectExplote:"effect/prefab/effect_03",EffectRotaionSkill:"effect/prefab/effect_07",EffectLeiSkill:"effect/prefab/effect_04"}),e("FRAME_TIME",1/60);a._RF.pop()}}}));

System.register("chunks:///_virtual/MainEnum.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){o._RF.push({},"713273+TqRJyryYb5bMqNuv","MainEnum",void 0);n("EItemId",function(n){return n[n.Gold=1]="Gold",n[n.Wood=2]="Wood",n[n.Diamond=3]="Diamond",n}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/MainPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ItemConfig.ts","./LevelConfig.ts","./RewardConfig.ts","./SubGameConfig.ts","./FeedbackView.ts","./YT.ts","./SubGameData.ts","./GameDataDef.ts","./FBIWarningView.ts","./OnlineView.ts","./SeekView.ts","./SettingView.ts","./SidebarView.ts","./SignView.ts","./TaskView.ts","./PageBase.ts","./SubGamesView.ts","./CommonSaveData.ts"],(function(t){var i,e,n,s,a,o,c,r,u,l,h,d,m,f,_,b,g,k,S,v,I,C,x,w,p;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t.game,o=t.sys},function(t){c=t.Event},function(t){r=t.ItemConfig},function(t){u=t.LevelConfig},function(t){l=t.RewardConfig},function(t){h=t.SubGameConfig},function(t){d=t.FeedbackView},function(t){m=t.YT},function(t){f=t.SubGameData},function(t){_=t.GameData},function(t){b=t.FBIWarningView},function(t){g=t.OnlineView},function(t){k=t.SeekView},function(t){S=t.SettingView},function(t){v=t.SidebarData},function(t){I=t.SignView},function(t){C=t.TaskView},function(t){x=t.PageBase},function(t){w=t.SubGamesView},function(t){p=t.CommonSaveData}],execute:function(){s._RF.push({},"fe9cdiTpsFFi4A5xijeKJoS","MainPage",void 0),t("MainPage",function(t){function s(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).curIndex=0,i.dataList=void 0,i.showDataList=void 0,i.tickM=0,i.subBtns=[],i}i(s,t);var x=s.prototype;return x.onCreate=function(){var t=e(n().mark((function t(){var i,e,o,c,r,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.ui.m_btn.onClick(this._onClickStartBtn,this),this.ui.m_btnSidebar.onClick(this._onClickBtnSidebar,this),this.ui.m_btnShortcut.onClick(this._onClickBtnShortcutBtn,this),this.ui.m_btn_setting.onClick(this._onClickSetting,this),this.ui.m_btn_seek.onClick(this._onClickSeek,this),this.ui.m_btn_online.onClick(this._onClickOnline,this),this.ui.m_btn_task.onClick(this._onClickTask,this),this.ui.m_btn_sign.onClick(this._onClickSign,this),this.ui.m_btn_feed.onClick((function(){d.instance.show()}),this),this.ui.m_btn_more.onClick((function(){w.instance.show()}),this),this.dataList=[null].concat(u.dataList,[null]),this.curIndex=this.dataList.findIndex((function(t){return t&&t.id==m.data.userData.chapterId})),this.initList(),t.next=15,this.initBtns();case 15:for(m.timer.addUpdate(this.updateTick,this,1),this.ui.m_btn_seek.m_txt_lv.text="",this.updateTick(),s.signed||null!=(i=m.platform.enterScene)&&i.endsWith("3041")||(s.signed=!0,b.instance.show()),e=h.dataList.filter((function(t){return t.enabled&&t.slot>0})).sort((function(t,i){return t.id-i.id})),7,o=0;o<7;o++)this.ui["m_btn_sub"+(o+1)].visible=!1;for(c=0;c<7;c++)(r=e[c])&&(l=this.ui["m_btn_sub"+r.slot],this.registSubGame(r,l));a.on("feedEnter",this._onFeedEnter,this);case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x._onFeedEnter=function(){if(!_.GameInfo.SaveInfo.subscribeReward){var t=new v;t.rewardCount=100,t.rewardName="钻石",t.type=2,t.onReward=function(){console.log("这里是奖励回调"),m.data.addItemByItemId(2,100)},t.sendToView()}},x._onClickSign=function(){I.instance.show()},x.updateTick=function(){var t=this;this.checkOnlineReward();var i=m.data.userData.seekUsed,e=Date.now()-i,n=Math.ceil(864e5-e);n<0&&(m.data.userData.seekUsed=0),this.ui.m_btn_seek.m_txt_lv.text=n>0?n.toHHMMSS():"",this.subBtns.forEach((function(i){t._checkSubGameCd(i.data,i)}))},x.checkOnlineReward=function(){if(this.ui.m_btn_online.visible){var t=m.data.checkOnlineReward();if(t)if(t.length>0)this.ui.m_btn_online.m_txt_lv.text="可领取";else{var i=1e3*(60*l.dataList.filter((function(t){return 1==t.condition}))[m.data.dailyData.onlineR.length].num-m.data.dailyData.ols);this.ui.m_btn_online.m_txt_lv.text=i.toHHMMSS()}else this.ui.m_btn_online.visible=!1}},x._checkSubGameCd=function(t,i){if(m.data.subData.gameInfo[t]&&null!=m.data.subData.gameInfo[t].lastEnterTime||(m.data.subData.getUnlockProgress(t,1),m.data.subData.gameInfo[t].lastEnterTime=0),0!=m.data.subData.gameInfo[t].lastEnterTime){var e=18e5-(Date.now()-m.data.subData.gameInfo[t].lastEnterTime);i.m_txt_lv.text=e<=0?"":""+e.toHHMMSS()}else i.m_txt_lv.text=""},x.registSubGame=function(t,i){var e=t.id;i.onClick((function(){f.loadSubGameData(e),t.highlight&&!p.instance.subGameClicked.includes(e)&&(p.instance.subGameClicked.push(e),p.Save(),i.m_red.selectedIndex=0)})),i.data=e,i.title=t.name,i.setIcon(t.icon),i.visible=!0,i.m_red.selectedIndex=t.highlight&&!p.instance.subGameClicked.includes(e)?1:0,this.subBtns.push(i)},x._onClickSeek=function(){k.instance.show()},x._onClickOnline=function(){g.instance.show()},x._onClickTask=function(){C.instance.show()},x.initList=function(){var t=e(n().mark((function t(){var i,e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this._renderList.bind(this),this.ui.m_list.numItems=this.dataList.length,this.ui.m_list.on(c.SCROLL_END,this.onScrollEnd,this),this.ui.m_list.on(c.STATUS_CHANGED,this.onScrollEnd,this),this.ui.m_list.scrollToView(1,!0),this.ui.m_btn_left.onClick((function(){1!=e.ui.m_list.selectedIndex&&(m.gui.lockScreen(),e.ui.m_list.scrollPane.scrollLeft(1,!0))}),this),this.ui.m_btn_right.onClick((function(){e.ui.m_list.selectedIndex!=e.dataList.length-2&&(m.gui.lockScreen(),e.ui.m_list.scrollPane.scrollRight(1,!0))}),this),i=-1+Math.floor(this.curIndex/6),18!=this.curIndex&&25!=this.curIndex&&30!=this.curIndex&&31!=this.curIndex||(i-=1),console.error("this.curIndex + dtScroll"+(this.curIndex+i),this.ui.m_list.scrollPane.scrollStep),this.ui.m_list.scrollPane.scrollRight(this.curIndex+i,!0),this.ui.m_list.selectedIndex=this.curIndex,this.doSpecialEffect();case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x.onScrollEnd=function(){this.doSpecialEffect();var t=this.dataList[this.ui.m_list.selectedIndex];t&&(m.logic.state._data.levelControl.setLevelId(t.id),this.refresh()),m.gui.unlockScreen()},x._renderList=function(t,i){var e=this.dataList[t];e?(i.visible=!0,i.m_txt_level.text="第"+t+"章",i.data=t,i.m_lock.visible=e.id>0&&m.data.userData.chapterId<e.id,i.setIcon(e.icon,"game"),i.m_item1.setIcon(r.data[e.remains[0]].icon,"game"),i.m_item2.setIcon(r.data[e.remains[1]].icon,"game")):i.visible=!1},x.doSpecialEffect=function(t){for(var i=this.ui.m_list,e=i.scrollPane.posX+i.viewWidth/2,n=i.numChildren,s=0;s<n;s++){var a=i.getChildAt(s);Math.abs(e-a.x-a.width/2)<a.width&&(this.ui.m_list.selectedIndex=this.curIndex=a.data)}this.ui.m_list.selectedIndex=this.curIndex;for(s=0;s<n;s++){(a=i.getChildAt(s)).selected=this.curIndex==a.data;var o=a.selected?1:.9;a.setScale(o,o),a.selected&&console.error("选中",a.data)}this.ui.m_btn_left.visible=!0,this.ui.m_btn_right.visible=!0,1==this.curIndex?this.ui.m_btn_left.visible=!1:this.curIndex==this.dataList.length-2&&(this.ui.m_btn_right.visible=!1),this.ui.m_btn.grayed=m.data.userData.chapterId<this.ui.m_list.selectedIndex},x._onClickSetting=function(){S.instance.show()},x.refresh=function(){this.ui.m_list.numItems=this.dataList.length,this.ui.m_txt_lv.text="第"+this.curIndex+"章",this.ui.m_txt_lv_name.text=this.dataList[this.curIndex].name,m.logic.state.updatePlayerInfo()},x.initBtns=function(){var t=e(n().mark((function t(){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.platform.hasShortcutInstalled();case 2:i=t.sent,this.ui.m_btnShortcut.visible=!i,this.ui.m_btnSidebar.visible=o.platform==o.Platform.MOBILE_BROWSER||o.platform==o.Platform.DESKTOP_BROWSER||o.platform==o.Platform.BYTEDANCE_MINI_GAME;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x.onDestroy=function(){this.ui.m_btn.offClick(this._onClickStartBtn,this),this.ui.m_btnSidebar.offClick(this._onClickBtnSidebar,this),this.ui.m_btnShortcut.offClick(this._onClickBtnShortcutBtn,this),m.timer.removeUpdate(this.updateTick,this)},x.onHide=function(){},x._afterHideAnim=function(){},x._onClickBtnShortcutBtn=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.platform.createShortcut();case 2:t.sent&&m.gui.toast("添加成功"),this.initBtns();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x._onClickStartBtn=function(){this.ui.m_btn.grayed||m.data.userData.chapterId<this.ui.m_list.selectedIndex?m.gui.toast("请先完成前面的章节"):(m.data.dailyData.battleCount++,m.data.dailyData.save=!0,m.dataSdk.reportEvent("game_start",{level_id:this.dataList[this.curIndex].id}),m.logic.state.enterBattle(this.curIndex))},x._onClickBtnSidebar=function(){var t=new v;t.rewardCount=100,t.rewardName="金币",t.onReward=function(){console.log("这里是奖励回调"),m.data.addItemByItemId(1,100)},t.sendToView()},s}(x)).signed=!1,s._RF.pop()}}}));

System.register("chunks:///_virtual/MainSaveData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SaveDataDef.ts"],(function(a){var t,e,n;return{setters:[function(a){t=a.inheritsLoose},function(a){e=a.cclegacy},function(a){n=a.SaveData}],execute:function(){e._RF.push({},"54811IUyR1PFJYLLyKrV+Ik","MainSaveData",void 0);a("MainSaveData",function(a){function e(){return a.apply(this,arguments)||this}return t(e,a),e}(n.SaveDataBase));e._RF.pop()}}}));

System.register("chunks:///_virtual/MapBase6.ts",["cc","./ZdMapConfig.ts","./ViewUtil.ts","./ZDResUtils6.ts","./ZDConst6.ts","./RoleMgr6.ts","./ZDLevelCfgSolver6.ts","./ZDConfigItemCmp6.ts","./ZDEnum6.ts","./Fog2RoleMgr6.ts","./ZDGameState6.ts","./LevelMapBaseCmp6.ts","./Spawner6.ts","./GrassStackRoleMgr6.ts","./PathControl.ts"],(function(e){var t,i,r,o,a,n,s,h,p,l,d,m,g,f,u,M;return{setters:[function(e){t=e.cclegacy,i=e.math},function(e){r=e.ZdMapConfig},function(e){o=e.ViewUtil},function(e){a=e.ZDResUtils},function(e){n=e.ZD_BUNDLE},function(e){s=e.RoleMgr},function(e){h=e.ZDLevelCfgSolver},function(e){p=e.EConfigItemType},function(e){l=e.ERoleType},function(e){d=e.Fog2RoleMgr},function(e){m=e.ZDGameState6},function(e){g=e.LevelMapBaseCmp6},function(e){f=e.Spawner},function(e){u=e.GrassStackRoleMgr},function(e){M=e.PathControl}],execute:function(){t._RF.push({},"52902TJv6RE3rNvmIRCdl8T","MapBase6",void 0);e("MapBase",function(){function e(e,t){this.mapConfig=void 0,this.mapNode=void 0,this.isMain=void 0,this.roleMgr=void 0,this.birthPosArr=void 0,this.size=void 0,this.totalHeroCnt=void 0,this.dieHeroCnt=void 0,this._spawner=void 0,this.pathCtrl=void 0,this.dieHeroCnt=this.totalHeroCnt=0,this.isMain=t,this.mapConfig=r.data[e],this.mapNode=o.createPrefabNode(a.fullMapRes(this.mapConfig.res),n),this.size=this.mapNode.uiTransform.contentSize;var i=m.runtime.gameMode;this.roleMgr=5==i?new u:6==i?new d:new s,this.roleMgr.data.barrierBox.init(this.size.width,this.size.height),this.roleMgr.data.cutTreeBox.init(this.size.width,this.size.height),1==this.mapConfig.find_path&&(this.pathCtrl=new M(this.size.width,this.size.height)),this.add()}var t=e.prototype;return t.setMainRole=function(e){this.roleMgr.mainHero=e},t.createRoles=function(){var e=m.runtime.gameMode;this.birthPosArr=[],(this.mapConfig.monster_spawn.length>0||this.mapConfig.hero_spawn.length>0)&&(this._spawner=new f(this.roleMgr),this._spawner.initData(this.mapConfig.monster_spawn,this.mapConfig.hero_spawn)),function(e,t,i,r,o){h.parseMapNode(e,(function(e){if(e.type==p.MainHero)i.mainHero?i.mainHero.setPos2f(e.x,e.y):i.createRole(l.HeroMain,e.id,e.x,e.y);else if(e.type==p.Hero)i.createRole(l.HeroAI,e.id,e.x,e.y);else if(e.type==p.Prop)i.createRole(l.Prop,e.id,e.x,e.y);else if(e.type==p.Transfer)i.createRole(l.Transfer,e.id,e.x,e.y,e.style);else if(e.type==p.Monster){var a=i.createRole(l.Monster,e.id,e.x,e.y);0==e.moveType?4==r?a.moveByMainHero():2==r?(a.randomMove(),t&&o.push({x:e.x,y:e.y})):a.randomMove():1==e.moveType?a.randomMove():2==e.moveType?a.moveByMainHero():3==e.moveType&&(a.setPos2f(e.x,e.y),a.moveDown())}else e.type==p.Barrier?i.createRole(l.Barrier,e.id,e.x,e.y):e.type==p.CutTreeTree?i.createRole(l.CutTreeTree,e.id,e.x,e.y,e.hp):e.type==p.Shop?i.createRole(l.Shop,e.id,e.x,e.y):e.type==p.Tower?i.createRole(l.Tower,e.id,e.x,e.y):e.type==p.Grass?i.createRole(l.Grass,e.id,e.x,e.y):e.type==p.Spawn?i.createRole(l.Spawn,e.id,e.x,e.y,c(e.spawnType),e.spawnId,e.param1,e.param2):e.type==p.Cola?i.createRole(l.SpawnCola,e.id,e.x,e.y,c(e.spawnType),e.spawnId,e.param1,e.param2):e.type==p.MonsterArea&&o.push({x:e.x,y:e.y,width:e.width,height:e.height})}),!0)}(this.mapNode,this.isMain,this.roleMgr,e,this.birthPosArr),this.pathCtrl&&this._initBarrier(),this.isMain&&this._onMainRoleChangeWeapon(),this.mapConfig.auto_prop&&this._initRefreshProp(),this.totalHeroCnt=this.roleMgr.data.aiHeros.length,this._spawner&&(this.totalHeroCnt+=this._spawner.heroCnt);for(var t=this.roleMgr.data.spawns,i=0;i<t.length;++i)t[i].targetType==l.HeroAI&&(this.totalHeroCnt+=1)},t.reShow=function(){this.isMain&&(this.roleMgr.mainHero.setPos2f(this.roleMgr.data.mainHeroPos.x,this.roleMgr.data.mainHeroPos.y),this.roleMgr.showAllRole()),this.isMain&&this._onMainRoleChangeWeapon(),this.add()},t.update=function(e){var t,i,r;this.isMain&&this.dieHeroCnt>=this.totalHeroCnt?m.runtime.control.win():(null==(t=this.roleMgr)||t.update(e),null==(i=this._spawner)||i.update(e),null==(r=this.pathCtrl)||r.update(e))},t.onEnemyDie=function(){this.dieHeroCnt+=1},t.onBarrierRemove=function(e){this.pathCtrl&&e&&this.pathCtrl.removeBarrier(e)},t.remove=function(){var e;this.isMain?(this.roleMgr.data.mainHeroPos.set(this.roleMgr.mainHero.pos),this.roleMgr.hideAllRole()):this.roleMgr.clearOther(),this.mapNode.removeFromParent(),null==(e=this.mapNode.getComponent(g))||e.onRemoveFromParent()},t.add=function(){var e;this.mapNode.parent=m.runtime.ui.mapLayer.node,null==(e=this.mapNode.getComponent(g))||e.onSetParent(),m.runtime.ui.mapLayer.setSize(this.size.width,this.size.height,this.mapConfig.view_scale/100)},t.destroy=function(){this.roleMgr.clearOther(),this.mapNode.destroy()},t._onMainRoleChangeWeapon=function(){var e=this.roleMgr.mainHero.weaponId;this.roleMgr.onChangeMainRoleWeapon(e),m.runtime.ui.onChangeMainWeapon(e)},t._initRefreshProp=function(){for(var e=i.randomRangeInt(this.mapConfig.auto_cnt_range[0],this.mapConfig.auto_cnt_range[1]);e-- >=0;)this.roleMgr.addInitAutoProp(this.mapConfig.auto_rad_ids)},t._initBarrier=function(){for(var e=0;e<this.roleMgr.data.barriers.length;++e){var t=this.roleMgr.data.barriers[e].iconNode;this.pathCtrl.setBarrier(t)}},e}());function c(e){return e==p.MainHero?l.HeroMain:e==p.Hero?l.HeroAI:e==p.Prop?l.Prop:e==p.Transfer?l.Transfer:e==p.Monster?l.Monster:e==p.Barrier?l.Barrier:e==p.CutTreeTree?l.CutTreeTree:e==p.Shop?l.Shop:e==p.Tower?l.Tower:e==p.Grass?l.Grass:e==p.Spawn?l.Spawn:e==p.Cola?l.SpawnCola:void 0}t._RF.pop()}}}));

System.register("chunks:///_virtual/MapControl6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./MapBase6.ts"],(function(t){var r,e,n,a,i,s;return{setters:[function(t){r=t.createClass,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){i=t.Awaiters},function(t){s=t.MapBase}],execute:function(){a._RF.push({},"4be26CHxTREe4mFHrhgEHOE","MapControl6",void 0);t("MapControl",function(){function t(){this._currentMap=void 0,this._mainMap=void 0}var a=t.prototype;return a.init=function(){var t=e(n().mark((function t(r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setMap(r,!0,!0);case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),a.changeMap=function(){var t=e(n().mark((function t(r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setMap(r,0==r);case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),a.setMap=function(){var t=e(n().mark((function t(r,e,a){var u,c,o,p;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===a&&(a=!1),this._currentMap&&(this._currentMap.remove(),this._currentMap.isMain||this._currentMap.destroy()),u=!1,e?this._mainMap?this._currentMap=this._mainMap:(this._currentMap=this._mainMap=new s(r,e),u=!0):(this._currentMap=new s(r,e),this._currentMap.roleMgr.mainHero=this._mainMap.roleMgr.mainHero,u=!0),a||(null==(c=this._currentMap.roleMgr.mainHero)||c.setVisible(!0),null==(o=this._currentMap.roleMgr.mainHero)||o.showView()),!u){t.next=11;break}return t.next=8,i.NextFrame();case 8:this._currentMap.createRoles(),t.next=12;break;case 11:this._currentMap.reShow();case 12:if(a){t.next=16;break}return t.next=15,i.NextFrame();case 15:null==(p=this._currentMap.roleMgr.mainHero)||p.hideTransfer();case 16:case"end":return t.stop()}}),t,this)})));return function(r,e,n){return t.apply(this,arguments)}}(),a.update=function(t){this._currentMap.update(t)},r(t,[{key:"currentMap",get:function(){return this._currentMap}},{key:"mainMap",get:function(){return this._mainMap}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/MapGraph.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Graph.ts"],(function(r){var n,t,e;return{setters:[function(r){n=r.inheritsLoose},function(r){t=r.cclegacy},function(r){e=r.Graph}],execute:function(){t._RF.push({},"1a883nhl89GhKEzrdodRXuc","MapGraph",void 0);r("MapGraph",function(r){function t(){return r.apply(this,arguments)||this}n(t,r);var e=t.prototype;return e.addBarrier=function(r){var n;null==(n=this.grid_node(r))||n.addBarrier()},e.delBarrier=function(r){var n;null==(n=this.grid_node(r))||n.delBarrier()},t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/MapLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var a,t,i,e,M,x,r,o,y,s,h,R,c,_,m;return{setters:[function(n){a=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized,M=n.createClass},function(n){x=n.cclegacy,r=n._decorator,o=n.Vec3,y=n.Rect,s=n.Camera,h=n.view,R=n.misc,c=n.UITransform,_=n.math,m=n.Component}],execute:function(){var C,E,u,P,d;x._RF.push({},"04ddbn4x+dPfoS7g8l78GEf","MapLayer",void 0);var T=r.ccclass,A=r.property,g=new o,p={x:0,y:0},f={x:0,y:0},l={x:0,y:0},S=new o,v=new y,N={xMin:0,xMax:0,yMin:0,yMax:0},b={xMin:0,xMax:0,yMin:0,yMax:0},w={xMin:0,xMax:0,yMin:0,yMax:0},I=(n("MapLayer",(C=T("MapLayer"),E=A({type:s,displayName:"相机",visible:!0}),C((d=a((P=function(n){function a(){for(var a,t=arguments.length,M=new Array(t),x=0;x<t;x++)M[x]=arguments[x];return a=n.call.apply(n,[this].concat(M))||this,i(a,"_camera",d,e(a)),a._currentScale=1,a._focusNode=void 0,a}t(a,n);var x=a.prototype;return x.bindFocusNode=function(n){this._focusNode=n,this.logicUpdate(0)},x.setSize=function(n,a,t){this.node.uiTransform.setContentSize(n,a),this._currentScale=t,p.x=n/2,p.y=a/2;var i=h.getVisibleSize();this._camera.orthoHeight=i.height/2/t,f.x=i.width/2/this._currentScale,f.y=i.height/2/this._currentScale,l.x=p.x-f.x,l.y=p.y-f.y,v.set(-p.x+i.width/2,-p.y+i.height/2,n,a),w.xMin=0,w.xMax=2*f.x,w.yMin=0,w.yMax=2*f.y},x.start=function(){},x._updatePos=function(n){g.x=R.clampf(n.x,-l.x,l.x),g.y=R.clampf(n.y,-l.y,l.y),this._camera.node.position=g},x.setCameraPos=function(n){this._camera.node.parent.getComponent(c).convertToNodeSpaceAR(n,g),this._updatePos(g)},x.logicUpdate=function(n){this._focusNode&&(this._focusNode.getWorldPosition(S),this.setCameraPos(S),this._updateSceneRect())},x.randomBirthRectByMonster=function(){var n=Math.max(S.x-f.x,this.MAP_RECT.xMin),a=Math.min(S.x+f.x,this.MAP_RECT.xMax),t=Math.max(S.y-f.y,this.MAP_RECT.yMin),i=Math.min(S.y+f.y,this.MAP_RECT.yMax),e=_.randomRangeInt(0,4);return 0==e?(I.x=_.randomRange(n-100,n+f.x+100),I.y=i+_.randomRange(50,100)):1==e?(I.x=_.randomRange(n-100,n+f.x+100),I.y=t-_.randomRange(50,100)):2==e?(I.x=n-_.randomRange(50,200),I.y=_.randomRange(t,i)):3==e&&(I.x=a+_.randomRange(50,200),I.y=_.randomRange(t,i)),I},x.randomBirthPosByHero=function(){var n=200,a=Math.max(S.x-f.x,this.MAP_RECT.xMin),t=Math.min(S.x+f.x,this.MAP_RECT.xMax),i=Math.max(S.y-f.y,this.MAP_RECT.yMin),e=Math.min(S.y+f.y,this.MAP_RECT.yMax),M=(this.MAP_RECT.yMax-e)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),x=(i-this.MAP_RECT.yMin)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),r=(a-this.MAP_RECT.xMin)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),o=(this.MAP_RECT.xMax-t)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),y=Math.max(Math.max(M,x),Math.max(r,o));return 0==y?(I.x=_.randomRange(this.MAP_RECT.xMin+n,this.MAP_RECT.xMax-n),void(I.y=_.randomRange(this.MAP_RECT.yMin+n,this.MAP_RECT.yMax-n))):(y==M?(I.x=_.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),I.y=_.randomRange(e,this.MAP_RECT.yMax)):y==x?(I.x=_.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),I.y=_.randomRange(this.MAP_RECT.yMin,i)):y==r?(I.x=_.randomRange(this.MAP_RECT.xMin,a),I.y=_.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)):y==o&&(I.x=_.randomRange(t,this.MAP_RECT.xMax),I.y=_.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)),I.x=Math.max(this.MAP_RECT.xMin+n,I.x),I.x=Math.min(this.MAP_RECT.xMax-n,I.x),I.y=Math.max(this.MAP_RECT.yMin+n,I.y),I.y=Math.min(this.MAP_RECT.yMax-n,I.y),I)},x.randomPos=function(n,a){void 0===a&&(a=0),n.x=_.randomRange(this.MAP_RECT.xMin+a,this.MAP_RECT.xMax/2-a),n.y=_.randomRange(this.MAP_RECT.yMin+a,this.MAP_RECT.yMax/2-a)},x.randomPosByPos=function(n,a,t){void 0===t&&(t=0);var i=Math.max(n.x-f.x-t,this.MAP_RECT.xMin),e=Math.min(n.x+f.x+t,this.MAP_RECT.xMax),M=Math.max(n.y-f.y-t,this.MAP_RECT.yMin),x=Math.min(n.y+f.y+t,this.MAP_RECT.yMax);a.x=_.randomRange(i,e),a.y=_.randomRange(M,x)},x.posIsInScreen=function(n){return this.posIsInScreen2f(n.x,n.y)},x.posIsInScreen2f=function(n,a){var t=this.SCENE_RECT2;return n>=t.xMin&&n<=t.xMax&&a>=t.yMin&&a<=t.yMax},x._updateSceneRect=function(){return this._camera.node.parent.getComponent(c).convertToWorldSpaceAR(g,g),b.xMin=Math.max(g.x-f.x,v.xMin),b.xMax=Math.min(g.x+f.x,v.xMax),b.yMin=Math.max(g.y-f.y,v.yMin),b.yMax=Math.min(g.y+f.y,v.yMax),b},M(a,[{key:"MAP_RECT",get:function(){return v}},{key:"viewSize",get:function(){return h.getVisibleSize()}},{key:"REAL_SCENE_RECT",get:function(){return b}},{key:"CAMP_SCENE_RECT",get:function(){return w}},{key:"SCENE_RECT",get:function(){return N.xMin=S.x-f.x,N.xMax=S.x+f.x,N.yMin=S.y-f.y,N.yMax=S.y+f.y,N}},{key:"SCENE_RECT2",get:function(){return N.xMin=Math.max(S.x-f.x,v.xMin),N.xMax=Math.min(S.x+f.x,v.xMax),N.yMin=Math.max(S.y-f.y,v.yMin),N.yMax=Math.min(S.y+f.y,v.yMax),N}}]),a}(m)).prototype,"_camera",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=P))||u)),{x:0,y:0});x._RF.pop()}}}));

System.register("chunks:///_virtual/MatchDialog3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst3.ts","./ZDGameState3.ts","./MatchItemCmp.ts","./BaseDialog3.ts"],(function(t){var i,e,n,a,r,l,o,s,c,u,h,p,_,d,m,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,o=t.Node,s=t.CCFloat,c=t.instantiate,u=t.math},function(t){h=t.ViewUtil},function(t){p=t.ZD_RES_PREFABS,_=t.ZD_BUNDLE},function(t){d=t.ZDGameState3},function(t){m=t.MatchItemCmp},function(t){f=t.BaseDialog3}],execute:function(){var v,y,g,b,D,M,I,w,C,N,z,R,S;r._RF.push({},"dcdb5W0MhdD7b4lIey7Y7pF","MatchDialog3",void 0);var E=l.ccclass,A=l.property;t("MatchDialog3",(v=E("MatchDialog3"),y=A({displayName:"模板",type:m,visible:!0}),g=A({displayName:"节点",type:o,visible:!0}),b=A({displayName:"间隔最小值",type:s,visible:!0}),D=A({displayName:"间隔最大值",type:s,visible:!0}),M=A({displayName:"结束等待时长",type:s,visible:!0}),v((C=i((w=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,n(i,"_template",C,a(i)),n(i,"_root",N,a(i)),n(i,"_timeMin",z,a(i)),n(i,"_timeMax",R,a(i)),n(i,"_endWait",S,a(i)),i._list=[],i._interval=0,i._isEnd=!1,i._closed=!1,i}e(i,t),i.Show=function(){var t=h.createPrefabNode(p.MATCH_DIALOG,_);t.parent=d.runtime.ui.dialogNode;var e=t.getComponent(i);return e._init(),e.show(),e};var r=i.prototype;return r._init=function(){var t;d.runtime.ui.uiLayer.node.active=!1,this._root.destroyAllChildren(),this._list.length=0;var i=0;for(i=0;i<8;++i)t=c(this._template.node),this._root.addChild(t),t.active=!0,this._list.push(t.getComponent(m));var e=u.randomRangeInt(0,this._list.length>>1);this._list.splice(e,1)[0].setIcon(!1),this._setInterval()},r.update=function(t){if(!this._closed)if(this._isEnd)this._endWait-=t,this._endWait<=0&&(this._closed=!0,this.close(),d.runtime.onMatchSuccess());else if(this._interval-=t,this._interval<=0){this._setInterval();var i=u.randomRangeInt(0,this._list.length);this._list.splice(i,1)[0].setIcon(),0==this._list.length&&(this._isEnd=!0)}},r._setInterval=function(){this._interval=u.randomRange(this._timeMin,this._timeMax)},i}(f)).prototype,"_template",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(w.prototype,"_root",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(w.prototype,"_timeMin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),R=i(w.prototype,"_timeMax",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),S=i(w.prototype,"_endWait",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),I=w))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/MatchItemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelper.ts","./ZDConst3.ts"],(function(e){var t,i,n,r,o,c,a,p,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Sprite,p=e.Component},function(e){s=e.UIHelper},function(e){l=e.getRandomHeadIcon,u=e.ZD_BUNDLE}],execute:function(){var m,h,f,d,y;o._RF.push({},"cc543cQnNdPiL9deO8DxoHO","MatchItemCmp",void 0);var I=c.ccclass,_=c.property;e("MatchItemCmp",(m=I("MatchItemCmp"),h=_({displayName:"图标",type:a,visible:!0}),m((y=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_iconSp",y,r(t)),t}return i(t,e),t.prototype.setIcon=function(e){void 0===e&&(e=!0),e?s.setRemoteSpriteFrame(l(),this._iconSp):s.changeSpriteFrame("image/atlas1/newui/wo",u,this._iconSp)},t}(p)).prototype,"_iconSp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=d))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(n){var r,t;return{setters:[function(n){r=n.cclegacy,t=n.math}],execute:function(){r._RF.push({},"272e211e95M2KjocteshgcN","MathUtil",void 0);var e=n("MathUtil",function(){function n(){}return n.sign=function(n){return n>0?1:n<0?-1:0},n.progress=function(n,r,t){return n+(r-n)*t},n.lerpAngle=function(n,r,e){var a=(r%=360)-(n%=360);return a>180?r=n-(360-a):a<-180&&(r=n+(360+a)),(t.lerp(n,r,e)%360+360)%360},n.angleTowards=function(n,r,t){var e=(r%=360)-(n%=360);e>180?r=n-(360-e):e<-180&&(r=n+(360+e));var a=r-n;return t>Math.abs(a)?r:((n+t*Math.sign(a))%360+360)%360},n.prefixInteger=function(n,r){return n<10?(Array(r).join("0")+n).slice(-r):n},n.randomRatio01=function(n){return t.randomRange(0,1)<n},n.randomRatio0100=function(n){return t.randomRange(0,100)<n},n.randomRange=function(n){return t.randomRange(n[0],n[1])},n.similarZero=function(n){return n>=-1e-10&&n<=1e-10?0:n},n.isSimilar=function(n,r,t){var e=n-r;return e>=-t&&e<=t},n}());e.deg2Rad=Math.PI/180,e.rad2Deg=180/Math.PI,r._RF.pop()}}}));

System.register("chunks:///_virtual/MeshSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EarCut.ts"],(function(e){var t,i,r,s,n,h,o,a,p,l,u,_,c,f,d,m,v,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,n=e.createClass},function(e){h=e.cclegacy,o=e._decorator,a=e.EffectAsset,p=e.SpriteFrame,l=e.v3,u=e.MeshRenderer,_=e.UIMeshRenderer,c=e.Material,f=e.Texture2D,d=e.v4,m=e.utils,v=e.Component},function(e){g=e.default}],execute:function(){var y,w,F,x,A,M,R,S,z,E,b,D,P;h._RF.push({},"26a013AEWlEE5Y4Bv83IwDD","MeshSprite",void 0);var T=o.ccclass,C=o.property,U=o.executeInEditMode,I=o.menu;e("MeshSprite",(y=T("MeshSprite"),w=I("2D/MeshSprite(Mesh精灵)"),F=C(a),x=C({type:a,tooltip:"渲染effectAssets文件,拖入curvetexture-sprite即可",displayName:"effect asset文件"}),A=C(p),M=C({type:p,tooltip:"纹理文件,拖入spriteframe即可",displayName:"纹理文件"}),R=C({}),S=C({tooltip:"是否上下翻转纹理,默认false",displayName:"是否上下翻转"}),y(z=U(z=w((b=t((E=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),h=0;h<i;h++)n[h]=arguments[h];return t=e.call.apply(e,[this].concat(n))||this,r(t,"_effectAsset",b,s(t)),r(t,"_spriteFrame",D,s(t)),r(t,"_updownFix",P,s(t)),t._meshRender=null,t._uiMeshRender=null,t._mat=null,t._vertexes=[l(-200,200,0),l(-200,-200,0),l(200,-200,0),l(200,200,0)],t._curve_width=0,t._curve_height=0,t._uvs=[],t}i(t,e);var h=t.prototype;return h.onEnable=function(){this._refreshAll()},h.setVertexes=function(e){this._vertexes=e,this._refreshAll()},h._refreshAll=function(){if(this._spriteFrame)if(this._effectAsset){this._meshRender=this.node.getComponent(u),this._meshRender||(this._meshRender=this.node.addComponent(u)),this._uiMeshRender=this.node.getComponent(_),this._uiMeshRender||(this._uiMeshRender=this.node.addComponent(_)),this._mat=this._meshRender.getMaterialInstance(0),this._mat||(this._mat=new c,this._mat.initialize({effectAsset:this._effectAsset,defines:{USE_TEXTURE:!0}}),this._meshRender.setMaterialInstance(this._mat,0)),this._spriteFrame.texture.setWrapMode(f.WrapMode.REPEAT,f.WrapMode.REPEAT,f.WrapMode.REPEAT),this._curve_width=this._spriteFrame.originalSize.width,this._curve_height=this._spriteFrame.originalSize.height,this._mat.setProperty("mainTexture",this._spriteFrame.texture,0);var e=this._spriteFrame.uv,t=e[0],i=e[1],r=e[6]-e[0],s=e[5]-e[1],n=d(t,i,r,s);this._mat.setProperty("altlasUV",n,0);for(var h=[],o=0;o<this._vertexes.length;o++){var a=this._vertexes[o];h.push(a.x,a.y,a.z)}this._uvs=this._calculateUVs();performance.now();var p=g(h,null,3),l=(performance.now(),m.MeshUtils.createMesh({positions:h,uvs:this._uvs,indices:p}));this._meshRender.mesh&&this._meshRender.mesh.destroy(),this._meshRender.mesh=l}else console.warn("没有effectAsset,请拖入effect文件 curvetexture-sprite");else console.warn("没有spriteFrame,请拖入纹理")},h._calculateUVs=function(){var e=[];if(!this._spriteFrame||0===this._vertexes.length)return e;for(var t=0;t<this._vertexes.length;t++){var i=this._vertexes[t],r=i.x/this._curve_width,s=1-i.y/this._curve_height;this._updownFix&&(s=i.y/this._curve_height),e.push(r,s)}return e},n(t,[{key:"effectAsset",get:function(){return this._effectAsset},set:function(e){var t,i;e!==this._effectAsset&&(null==(t=this._mat)||t.destroy(),this._mat=null,null==(i=this._effectAsset)||i.destroy(),this._effectAsset=e,this._refreshAll())}},{key:"spriteFrame",get:function(){return this._spriteFrame},set:function(e){if(this._spriteFrame!==e){if(this._spriteFrame=e,e&&(0!=(e.originalSize.width&e.originalSize.width-1)||0!=(e.originalSize.height&e.originalSize.height-1)))return void console.warn("纹理尺寸("+e.originalSize.width+"x"+e.originalSize.height+")不是2的幂，请修改。");this._spriteFrame&&(this._curve_width=this._spriteFrame.originalSize.width,this._curve_height=this._spriteFrame.originalSize.height),this._refreshAll()}}},{key:"updownFix",get:function(){return this._updownFix},set:function(e){this._updownFix=e,this._refreshAll()}}]),t}(v)).prototype,"_effectAsset",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(E.prototype,"effectAsset",[x],Object.getOwnPropertyDescriptor(E.prototype,"effectAsset"),E.prototype),D=t(E.prototype,"_spriteFrame",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(E.prototype,"spriteFrame",[M],Object.getOwnPropertyDescriptor(E.prototype,"spriteFrame"),E.prototype),P=t(E.prototype,"_updownFix",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(E.prototype,"updownFix",[S],Object.getOwnPropertyDescriptor(E.prototype,"updownFix"),E.prototype),z=E))||z)||z)||z));h._RF.pop()}}}));

System.register("chunks:///_virtual/MinerMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMonster4.ts"],(function(i){var t,n,e;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy},function(i){e=i.RoleMonster}],execute:function(){n._RF.push({},"c949c34ZVZD1ZO6P15AZ+e3","MinerMonster",void 0);i("MinerMonster",function(i){function n(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=i.call.apply(i,[this].concat(e))||this).curMiningTime=0,t.posIdx=0,t}t(n,i);var e=n.prototype;return e._initView=function(){var t=this;i.prototype._initView.call(this),setTimeout((function(){var i=t.anim.getState("attack");i.wrapMode=2,i.play()}),100)},e._updateMove=function(t){i.prototype._updateMove.call(this,t),this.curMiningTime+=t,this.curMiningTime>=this.getMiningTime()&&(this.curMiningTime=0,this.curCtrl.createPileBullet(this.posIdx,this._config.miningNum,this._position))},e.getMiningTime=function(){var i=this._config.miningNum/this._config.miningTime;return i*=1+this.curCtrl.minerAddProdPct,this._config.miningNum/i},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/MinerMonster5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMonster5.ts"],(function(i){var t,n,e;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy},function(i){e=i.RoleMonster}],execute:function(){n._RF.push({},"188f6A5matIRLiXOhCiRJSX","MinerMonster5",void 0);i("MinerMonster",function(i){function n(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=i.call.apply(i,[this].concat(e))||this).curMiningTime=0,t.posIdx=0,t}t(n,i);var e=n.prototype;return e._initView=function(){var t=this;i.prototype._initView.call(this),setTimeout((function(){var i=t.anim.getState("attack");i.wrapMode=2,i.play()}),100)},e._updateMove=function(t){i.prototype._updateMove.call(this,t),this.curMiningTime+=t,this.curMiningTime>=this.getMiningTime()&&(this.curMiningTime=0,this.curCtrl.createPileBullet(this.posIdx,this._config.miningNum,this._position))},e.getMiningTime=function(){var i=this._config.miningNum/this._config.miningTime;return i*=1+this.curCtrl.minerAddProdPct,this._config.miningNum/i},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/ModeFactory.ts",["cc","./ZDGameControl.ts","./ZDGameData.ts","./ZDGameView.ts","./ZDCutTreeControl.ts","./ZDCutTreeData.ts","./ZDCutTreeView.ts","./ZDFogControl.ts","./ZDFogView.ts","./ZDFog2Control.ts","./ZDFog2View.ts","./ZDGrassStackControl.ts"],(function(t){var n,e,o,r,c,u,D,i,a,Z,s,w;return{setters:[function(t){n=t.cclegacy},function(t){e=t.ZDGameControl},function(t){o=t.ZDGameData},function(t){r=t.ZDGameView},function(t){c=t.ZDCutTreeControl},function(t){u=t.ZDCutTreeData},function(t){D=t.ZDCutTreeView},function(t){i=t.ZDFogControl},function(t){a=t.ZDFogView},function(t){Z=t.ZDFog2Control},function(t){s=t.ZDFog2View},function(t){w=t.ZDGrassStackControl}],execute:function(){t({createZDControl:function(t){return 3==t?new i:4==t?new c:5==t?new w:6==t?new Z:new e},createZDData:function(t){return 3==t?new o:4==t?new u:new o},createZDView:function(t){return 3==t?new a:4==t?new D:6==t?new s:new r}}),n._RF.push({},"10ecb3Nt99Odbn0sFhI694v","ModeFactory",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/ModeFactory3.ts",["cc","./ZDGameControl3.ts","./ZDGameData3.ts","./ZDGameView3.ts","./ZDCutTreeControl3.ts","./ZDCutTreeData3.ts","./ZDCutTreeView3.ts","./ZDFogControl3.ts","./ZDFogView3.ts","./ZDFog2Control3.ts","./ZDFog2View3.ts","./ZDGrassStackControl3.ts"],(function(t){var e,n,o,r,c,u,D,a,i,Z,s,w;return{setters:[function(t){e=t.cclegacy},function(t){n=t.default},function(t){o=t.ZDGameData3},function(t){r=t.ZDGameView3},function(t){c=t.ZDCutTreeControl3},function(t){u=t.ZDCutTreeData3},function(t){D=t.ZDCutTreeView3},function(t){a=t.ZDFogControl3},function(t){i=t.ZDFogView3},function(t){Z=t.ZDFog2Control3},function(t){s=t.ZDFog2View3},function(t){w=t.ZDGrassStackControl3}],execute:function(){t({createZDControl:function(t){return 3==t?new a:4==t?new c:5==t?new w:6==t?new Z:new n},createZDData:function(t){return 3==t?new o:4==t?new u:new o},createZDView:function(t){return 3==t?new i:4==t?new D:6==t?new s:new r}}),e._RF.push({},"dbeaebpEr9DAqccrUYkeEmu","ModeFactory3",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ModeFactory4.ts",["cc","./ZDGameControl4.ts","./ZDGameData4.ts","./ZDGameView4.ts","./ZDCutTreeControl4.ts","./ZDCutTreeData4.ts","./ZDCutTreeView4.ts","./ZDFogControl4.ts","./ZDFogView4.ts","./ZDFog2Control4.ts","./ZDFog2View4.ts","./ZDGrassStackControl4.ts"],(function(t){var n,e,o,r,c,u,i,D,a,Z,s,w;return{setters:[function(t){n=t.cclegacy},function(t){e=t.ZDGameControl},function(t){o=t.ZDGameData},function(t){r=t.ZDGameView},function(t){c=t.ZDCutTreeControl4},function(t){u=t.ZDCutTreeData},function(t){i=t.ZDCutTreeView},function(t){D=t.ZDFogControl},function(t){a=t.ZDFogView},function(t){Z=t.ZDFog2Control},function(t){s=t.ZDFog2View},function(t){w=t.ZDGrassStackControl}],execute:function(){t({createZDControl:function(t){return 3==t?new D:4==t?new c:5==t?new w:6==t?new Z:new e},createZDData:function(t){return 3==t?new o:4==t?new u:new o},createZDView:function(t){return 3==t?new a:4==t?new i:6==t?new s:new r}}),n._RF.push({},"0c3dccrFQFAYL4UU15d/sWi","ModeFactory4",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/ModeFactory5.ts",["cc","./ZDGameControl5.ts","./ZDGameData5.ts","./ZDGameView5.ts","./ZDCutTreeControl5.ts","./ZDCutTreeData5.ts","./ZDCutTreeView5.ts","./ZDFogControl5.ts","./ZDFogView5.ts","./ZDFog2Control5.ts","./ZDFog2View5.ts","./ZDGrassStackControl5.ts"],(function(t){var e,n,o,r,c,u,D,a,i,Z,s,w;return{setters:[function(t){e=t.cclegacy},function(t){n=t.ZDGameControl},function(t){o=t.ZDGameData},function(t){r=t.ZDGameView},function(t){c=t.ZDCutTreeControl4},function(t){u=t.ZDCutTreeData},function(t){D=t.ZDCutTreeView},function(t){a=t.ZDFogControl},function(t){i=t.ZDFogView},function(t){Z=t.ZDFog2Control},function(t){s=t.ZDFog2View},function(t){w=t.ZDGrassStackControl}],execute:function(){t({createZDControl:function(t){return 3==t?new a:4==t?new c:5==t?new w:6==t?new Z:new n},createZDData:function(t){return 3==t?new o:4==t?new u:new o},createZDView:function(t){return 3==t?new i:4==t?new D:6==t?new s:new r}}),e._RF.push({},"4fa36J70rhBLI7Oqse9eNqJ","ModeFactory5",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ModeFactory6.ts",["cc","./ZDGameControl6.ts","./ZDGameData6.ts","./ZDGameView6.ts","./ZDCutTreeControl6.ts","./ZDCutTreeData6.ts","./ZDCutTreeView6.ts","./ZDFogControl6.ts","./ZDFogView6.ts","./ZDFog2Control6.ts","./ZDFog2View6.ts","./ZDGrassStackControl6.ts"],(function(t){var n,e,o,r,c,u,D,i,a,Z,s,w;return{setters:[function(t){n=t.cclegacy},function(t){e=t.ZDGameControl},function(t){o=t.ZDGameData},function(t){r=t.ZDGameView},function(t){c=t.ZDCutTreeControl},function(t){u=t.ZDCutTreeData},function(t){D=t.ZDCutTreeView},function(t){i=t.ZDFogControl},function(t){a=t.ZDFogView},function(t){Z=t.ZDFog2Control},function(t){s=t.ZDFog2View},function(t){w=t.ZDGrassStackControl}],execute:function(){t({createZDControl:function(t){return 3==t?new i:4==t?new c:5==t?new w:6==t?new Z:new e},createZDData:function(t){return 3==t?new o:4==t?new u:new o},createZDView:function(t){return 3==t?new a:4==t?new D:6==t?new s:new r}}),n._RF.push({},"c8113ysUZxMxIekhndzVu9d","ModeFactory6",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ModuleConfig",void 0),t._RF.push({},"67321P317NMvYbutcb0qPwW","ModuleConfig",void 0),function(i){i.config=function(){this.id=void 0,this.guide_phase=void 0,this.force_start=void 0,this.condition=void 0,this.value=void 0};i.isConst=!1,i.path="config/ModuleConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ModuleConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig4.ts","./ViewUtil.ts","./ZDConst.ts","./ZDGameState.ts","./RoleShadowCmp.ts"],(function(e){var t,i,o,n,r,s,a,c,h,p,d,f,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.ProgressBar,c=e.Sprite},function(e){h=e.ZdMonsterConfig},function(e){p=e.ViewUtil},function(e){d=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){l=e.ZDGameState},function(e){u=e.RoleShadowCmp}],execute:function(){var m,_,v,g,S;r._RF.push({},"215d97jhx9ETpWS0qJSX7ZE","MonsterCmp",void 0);var w=s.ccclass,C=s.property;e("MonsterCmp",(m=w("MonsterCmp"),_=C({type:a,displayName:"血条",visible:!0}),m((S=t((g=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_hpBar",S,n(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effectTime=0,t}i(t,e),t.Create=function(e){var i=p.createPrefabNode(d.MONSTER_VIEW,f);i.parent=l.runtime.ui.monsterRoot;var o=i.getComponent(t);return o._init(e),o};var r=t.prototype;return r._init=function(e){var t="prefab/monster/"+h.data[e].res;this._modelNode=p.createPrefabNode(t,f),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(c),this._hpBar.node.active=!1,this._hpBar.progress=1;var i=this._modelNode.getChildByName("YY");this._setShadowNode(i)},r.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},r.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},r.showView=function(){e.prototype.showView.call(this),this.node.parent=l.runtime.ui.monsterRoot},r.showHitEffect=function(){},r.hideHitEffect=function(){},t}(u)).prototype,"_hpBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig.ts","./ViewUtil.ts","./ZDConst3.ts","./ZDGameState3.ts","./RoleShadowCmp3.ts"],(function(e){var t,i,o,n,r,s,a,c,h,p,d,f,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.ProgressBar,c=e.Sprite},function(e){h=e.ZdMonsterConfig},function(e){p=e.ViewUtil},function(e){d=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){l=e.ZDGameState3},function(e){u=e.RoleShadowCmp3}],execute:function(){var m,_,v,g,w;r._RF.push({},"d06b6fHgBxJJqSizXcqUh5b","MonsterCmp3",void 0);var S=s.ccclass,C=s.property;e("MonsterCmp3",(m=S("MonsterCmp3"),_=C({type:a,displayName:"血条",visible:!0}),m((w=t((g=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_hpBar",w,n(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effectTime=0,t}i(t,e),t.Create=function(e){var i=p.createPrefabNode(d.MONSTER_VIEW,f);i.parent=l.runtime.ui.monsterRoot;var o=i.getComponent(t);return o._init(e),o};var r=t.prototype;return r._init=function(e){var t="prefab/monster/"+h.data[e].res;this._modelNode=p.createPrefabNode(t,f),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(c),this._hpBar.node.active=!1,this._hpBar.progress=1;var i=this._modelNode.getChildByName("YY");this._setShadowNode(i),this._setHPNode(this._hpBar.node)},r.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},r.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},r.showView=function(){e.prototype.showView.call(this),this.node.parent=l.runtime.ui.monsterRoot},r.showHitEffect=function(){},r.hideHitEffect=function(){},t}(u)).prototype,"_hpBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig3.ts","./ViewUtil.ts","./ZDConst4.ts","./ZDGameState4.ts","./RoleShadowCmp4.ts"],(function(e){var t,i,o,n,r,s,a,c,p,h,d,f,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.ProgressBar,c=e.Sprite},function(e){p=e.ZdMonsterConfig},function(e){h=e.ViewUtil},function(e){d=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){l=e.ZDGameState4},function(e){u=e.RoleShadowCmp4}],execute:function(){var m,_,v,S,g;r._RF.push({},"0dd6fFOBIBGDJC2nSuMSYlS","MonsterCmp4",void 0);var w=s.ccclass,C=s.property;e("MonsterCmp4",(m=w("MonsterCmp4"),_=C({type:a,displayName:"血条",visible:!0}),m((g=t((S=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_hpBar",g,n(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effectTime=0,t}i(t,e),t.Create=function(e){var i=h.createPrefabNode(d.MONSTER_VIEW,f);p.data[e].tmType,i.parent=l.runtime.ui.roleRoot;var o=i.getComponent(t);return o._init(e),o};var r=t.prototype;return r._init=function(e){var t=p.data[e],i="prefab/monster/"+t.res;this._modelNode=h.createPrefabNode(i,f),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(c),this._hpBar.node.active=!1,this._hpBar.progress=1;var o=this._modelNode.getChildByName("YY");this._setShadowNode(o)},r.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},r.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},r.showView=function(){e.prototype.showView.call(this),this.node.parent=l.runtime.ui.monsterRoot},r.showHitEffect=function(){},r.hideHitEffect=function(){},t}(u)).prototype,"_hpBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig2.ts","./ViewUtil.ts","./ZDConst5.ts","./ZDGameState5.ts","./RoleShadowCmp5.ts"],(function(e){var t,i,o,r,n,s,a,c,p,h,d,f,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.ProgressBar,c=e.Sprite},function(e){p=e.ZdMonsterConfig},function(e){h=e.ViewUtil},function(e){d=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){l=e.ZDGameState5},function(e){u=e.RoleShadowCmp5}],execute:function(){var m,_,v,g,w;n._RF.push({},"4e023zK67REbYGPf0ZY1lyz","MonsterCmp5",void 0);var y=s.ccclass,C=s.property;e("MonsterCmp5",(m=y("MonsterCmp5"),_=C({type:a,displayName:"血条",visible:!0}),m((w=t((g=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"_hpBar",w,r(t)),t._modelSprites=void 0,t._modelNode=void 0,t._effectTime=0,t}i(t,e),t.Create=function(e){var i=h.createPrefabNode(d.MONSTER_VIEW,f);p.data[e].tmType,i.parent=l.runtime.ui.roleRoot;var o=i.getComponent(t);return o._init(e),o};var n=t.prototype;return n._init=function(e){var t=p.data[e],i="prefab/monster/"+t.res;this._modelNode=h.createPrefabNode(i,f),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(c),this._hpBar.node.active=!1,this._hpBar.progress=1;var o=this._modelNode.getChildByName("YY");this._setShadowNode(o)},n.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},n.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},n.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},n.showView=function(){e.prototype.showView.call(this),this.node.parent=l.runtime.ui.monsterRoot},n.showHitEffect=function(){},n.hideHitEffect=function(){},t}(u)).prototype,"_hpBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig5.ts","./ViewUtil.ts","./ZDConst6.ts","./ZDGameState6.ts","./RoleShadowCmp6.ts"],(function(e){var t,i,o,n,r,s,a,h,p,c,d,l,f,u,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.ProgressBar,h=e.Sprite,p=e.Label},function(e){c=e.ZdMonsterConfig},function(e){d=e.ViewUtil},function(e){l=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){u=e.ZDGameState6},function(e){m=e.RoleShadowCmp6}],execute:function(){var _,v,g,C,w;r._RF.push({},"dc610cm+ORDh5DJ451VA4WM","MonsterCmp6",void 0);var N=s.ccclass,y=s.property;e("MonsterCmp6",(_=N("MonsterCmp6"),v=y({type:a,displayName:"血条",visible:!0}),_((w=t((C=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_hpBar",w,n(t)),t._hpLabel=void 0,t._modelSprites=void 0,t._modelNode=void 0,t._effectTime=0,t}i(t,e),t.Create=function(e){var i=d.createPrefabNode(l.MONSTER_VIEW,f);i.parent=u.runtime.ui.monsterRoot;var o=i.getComponent(t);return o._init(e),o};var r=t.prototype;return r._init=function(e){var t,i="prefab/monster/"+c.data[e].res;this._modelNode=d.createPrefabNode(i,f),this._modelNode.parent=this._viewRoot,this._modelSprites=this._modelNode.getComponentsInChildren(h),this._hpBar.node.active=!1,this._hpBar.progress=1,this._hpLabel=null==(t=this._modelNode.getChildByName("hp"))?void 0:t.getComponent(p);var o=this._modelNode.getChildByName("YY");this._setShadowNode(o)},r.getSize=function(e){var t=this._modelNode.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.updateHpPercent=function(e,t){this._hpLabel?(this._hpBar.node.active=!1,this._hpLabel.string=""+t):(this._hpBar.progress=e,this._hpBar.node.active=!0)},r.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},r.showView=function(){e.prototype.showView.call(this),this.node.parent=u.runtime.ui.monsterRoot},r.showHitEffect=function(){},r.hideHitEffect=function(){},t}(m)).prototype,"_hpBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=C))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("MonsterConfig",void 0),t._RF.push({},"d068dc4NC9OGpoutdV+mZEg","MonsterConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.undefined=void 0,this.res=void 0,this.behavior=void 0,this.boss=void 0,this.hp=void 0,this.atk=void 0,this.move_speed=void 0,this.distance=void 0,this.atkSpeed=void 0,this.exp=void 0,this.drop_prop=void 0};i.isConst=!1,i.path="config/MonsterConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("MonsterConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState.ts","./RoleBase.ts"],(function(e){var t,i,s,a,o,n,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,a=e.math,o=e.Vec2},function(e){n=e.ZDGameState},function(e){c=e.RoleBase}],execute:function(){s._RF.push({},"3b51dSqCLJLpqfNK0zeuNXQ","MoveRole",void 0);e("MoveRole",function(e){function s(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this)._moveDir=new o,t._moveSpeed=400,t._isBackMove=!1,t._backDir=new o,t._backSpeed=void 0,t._backTime=void 0,t._isPauseMove=!1,t}t(s,e);var c=s.prototype;return c.pauseMove=function(){this._isPauseMove=!0},c.resumeMove=function(){this._isPauseMove=!1},c.startMove=function(e,t){this._enable&&(this._moveDir.set(e,t),this._updateFace())},c.endMove=function(){this._enable&&this._moveDir.set(0,0)},c.update=function(t){e.prototype.update.call(this,t),this._updateMove(t)},c._updateMove=function(e){this._isBackMove?(this._validateBackDir()&&this._updatePos(e,this._backDir,this._backSpeed),this._backTime-=e,this._backTime<=0&&(this._isBackMove=!1)):this._validateDir()&&this._updatePos(e,this._moveDir,this._moveSpeed)},c._updatePos=function(e,t,i){if(!this._isPauseMove&&(0!=t.x||0!=t.y)){var s=this._position.x+e*t.x*i,o=this._position.y+e*t.y*i;if(this._newPosEnable(s,o)){var c=n.runtime.ui.mapRect;s=a.clamp(s,c.xMin+this.radius,c.xMax-this.radius),o=a.clamp(o,c.yMin+this.radius,c.yMax-this.radius),this.setPos2f(s,o)}}},c._validateDir=function(){return!0},c._newPosEnable=function(e,t){return!0},c._validateBackDir=function(){return!0},c.startBackMove=function(e,t,i,s){this._backDir.set(e,t),this._backDir.normalize(),this._backTime=i,this._backSpeed=s,this._isBackMove=!0},c._updateFace=function(){var e;null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0)},i(s,[{key:"moveSpeed",set:function(e){this._moveSpeed=e}}]),s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRole2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleState.ts","./RoleBase2.ts"],(function(e){var i,t,s,o,a,n,r;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy,o=e.math,a=e.Vec2},function(e){n=e.BattleState},function(e){r=e.RoleBase}],execute:function(){s._RF.push({},"eb9418uezlEapXfHeriPxCj","MoveRole",void 0);e("MoveRole",function(e){function s(){for(var i,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(i=e.call.apply(e,[this].concat(s))||this)._moveDir=new a,i._moveSpeed=400,i._isBackMove=!1,i._backDir=new a,i._backSpeed=void 0,i._backTime=void 0,i._realDir=new a,i._isMoving=void 0,i._isPauseMove=!1,i}i(s,e);var r=s.prototype;return r.pauseMove=function(){this._isPauseMove=!0},r.resumeMove=function(){this._isPauseMove=!1},r.startMove=function(e,i){this._enable&&(this._moveDir.set(e,i),this._updateFace())},r.endMove=function(){this._enable&&this._moveDir.set(0,0)},r._updateFace=function(){var e;null==(e=this._view)||e.setModelFlipX(this._moveDir.x<0)},r.update=function(i){e.prototype.update.call(this,i),this._isMoving=!1,this._isPauseMove||(0==this._moveDir.x&&0==this._moveDir.y||(this._isMoving=!0),this._updateMove(i))},r._updateMove=function(e){this._isBackMove?(this._validateBackDir()&&this._updatePos(e,this._backDir,this._backSpeed),this._backTime-=e,this._backTime<=0&&(this._isBackMove=!1)):this._validateDir(this._realDir)&&this._updatePos(e,this._realDir,this.moveSpeed)},r._updatePos=function(e,i,t){if(0!=i.x||0!=i.y){var s=this._position.x+e*i.x*t,a=this._position.y+e*i.y*t;if(this._newPosEnable(s,a)){var r=n.ins.control.view.mapLayer.MAP_RECT;s=o.clamp(s,r.xMin+this.radius,r.xMax-this.radius),a=o.clamp(a,r.yMin+this.radius,r.yMax-this.radius),this.setPos2f(s,a)}}},r._validateDir=function(e){return!0},r._newPosEnable=function(e,i){return!0},r._validateBackDir=function(){return!0},r.startBackMove=function(e,i,t,s){this._backDir.set(e,i),this._backDir.normalize(),this._backTime=t,this._backSpeed=s,this._isBackMove=!0},t(s,[{key:"moveSpeed",get:function(){return this._moveSpeed},set:function(e){this._moveSpeed=e}}]),s}(r));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRole3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState3.ts","./RoleBase3.ts"],(function(e){var i,t,s,o,a,n,c;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy,o=e.math,a=e.Vec2},function(e){n=e.ZDGameState3},function(e){c=e.RoleBase3}],execute:function(){s._RF.push({},"4c2570C9NBHl4HnFl6DEpeV","MoveRole3",void 0);e("MoveRole3",function(e){function s(){for(var i,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(i=e.call.apply(e,[this].concat(s))||this)._moveDir=new a,i._moveSpeed=400,i._isBackMove=!1,i._backDir=new a,i._backSpeed=void 0,i._backTime=void 0,i._isPauseMove=!1,i}i(s,e);var c=s.prototype;return c.pauseMove=function(){this._isPauseMove=!0},c.resumeMove=function(){this._isPauseMove=!1},c.startMove=function(e,i){this._enable&&(this._isMoving||(this._isMoving=!0,this._onStartMove()),this._moveDir.set(e,i),this._updateFace())},c._onStartMove=function(){},c.endMove=function(){this._enable&&(this._isMoving&&(this._isMoving=!1,this._onStopMove()),this._moveDir.set(0,0))},c._onStopMove=function(){},c.update=function(i){e.prototype.update.call(this,i),this._updateMove(i)},c._updateMove=function(e){this._isBackMove?(this._validateBackDir()&&this._updatePos(e,this._backDir,this._backSpeed),this._backTime-=e,this._backTime<=0&&(this._isBackMove=!1)):this._validateDir()&&this._updatePos(e,this._moveDir,this._moveSpeed)},c._updatePos=function(e,i,t){if(!this._isPauseMove&&(0!=i.x||0!=i.y)){var s=this._position.x+e*i.x*t,a=this._position.y+e*i.y*t;if(this._newPosEnable(s,a)){var c=n.runtime.ui.mapRect;s=o.clamp(s,c.xMin+this.radius,c.xMax-this.radius),a=o.clamp(a,c.yMin+this.radius,c.yMax-this.radius),this.setPos2f(s,a)}}},c._validateDir=function(){return!0},c._newPosEnable=function(e,i){return!0},c._validateBackDir=function(){return!0},c.startBackMove=function(e,i,t,s){this._backDir.set(e,i),this._backDir.normalize(),this._backTime=t,this._backSpeed=s,this._isBackMove=!0},c._updateFace=function(){var e;null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0)},t(s,[{key:"moveSpeed",set:function(e){this._moveSpeed=e}}]),s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRole4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState4.ts","./RoleBase4.ts"],(function(e){var t,i,s,a,o,n,r;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,a=e.math,o=e.Vec2},function(e){n=e.ZDGameState4},function(e){r=e.RoleBase}],execute:function(){s._RF.push({},"6925bq+0aFBqawExd6EFBvd","MoveRole4",void 0);e("MoveRole4",function(e){function s(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).startMoveDir=new o,t._moveDir=new o,t._moveSpeed=400,t._isBackMove=!1,t._backDir=new o,t._backSpeed=void 0,t._backTime=void 0,t.curArea=0,t._isPauseMove=!1,t}t(s,e);var r=s.prototype;return r.pauseMove=function(){this._isPauseMove=!0},r.resumeMove=function(){this._isPauseMove=!1},r.startMove=function(e,t){this._enable&&(this.startMoveDir.set(e,t),this._moveDir.set(e,t),this._updateFace())},r.endMove=function(){this._enable&&(this.startMoveDir.set(0,0),this._moveDir.set(0,0))},r.update=function(t){e.prototype.update.call(this,t),this._updateMove(t)},r._updateMove=function(e){this._isBackMove?(this._validateBackDir()&&this._updatePos(e,this._backDir,this._backSpeed),this._backTime-=e,this._backTime<=0&&(this._isBackMove=!1)):this._validateDir()&&this._updatePos(e,this._moveDir,this._moveSpeed),this.curArea=this.curCtrl.getCurAreaByPos(this.pos)},r._updatePos=function(e,t,i){if(!this._isPauseMove&&(0!=t.x||0!=t.y)){var s=this._position.x+e*t.x*i,o=this._position.y+e*t.y*i;if(this._newPosEnable(s,o)){var r=n.runtime.ui.mapRect;s=a.clamp(s,r.xMin+this.radius,r.xMax-this.radius),o=a.clamp(o,r.yMin+this.radius,r.yMax-this.radius),this.setPos2f(s,o)}}},r._validateDir=function(){return!0},r._newPosEnable=function(e,t){return!0},r._validateBackDir=function(){return!0},r.startBackMove=function(e,t,i,s){this._backDir.set(e,t),this._backDir.normalize(),this._backTime=i,this._backSpeed=s,this._isBackMove=!0},r._updateFace=function(){var e;null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0)},i(s,[{key:"curCtrl",get:function(){return n.runtime.control}},{key:"moveSpeed",set:function(e){this._moveSpeed=e}}]),s}(r));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRole5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDConst5.ts","./ZDGameState5.ts","./BuffBase.ts","./RoleBase5.ts"],(function(e){var t,i,s,o,n,a,r,u,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,o=e.math,n=e.Vec2},function(e){a=e.ZD5BuffType},function(e){r=e.ZDGameState5},function(e){u=e.BuffBase},function(e){c=e.RoleBase}],execute:function(){s._RF.push({},"eada9LxWpBECr7+N+6flvHs","MoveRole5",void 0);e("MoveRole",function(e){function s(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).startMoveDir=new n,t._moveDir=new n,t._moveSpeed=400,t._isBackMove=!1,t._backDir=new n,t._backSpeed=void 0,t._backTime=void 0,t.curArea=0,t._isPauseMove=!1,t.buffs=[],t}t(s,e);var c=s.prototype;return c.pauseMove=function(){this._isPauseMove=!0},c.resumeMove=function(){this._isPauseMove=!1},c.startMove=function(e,t){this._enable&&(this.startMoveDir.set(e,t),this._moveDir.set(e,t),this._updateFace())},c.endMove=function(){this._enable&&(this.startMoveDir.set(0,0),this._moveDir.set(0,0))},c.update=function(t){e.prototype.update.call(this,t),this._updateMove(t),this.buffs.forEach((function(e){return e.onUpdate(t)}))},c._updateMove=function(e){this._isBackMove?(this._validateBackDir()&&this._updatePos(e,this._backDir,this._backSpeed),this._backTime-=e,this._backTime<=0&&(this._isBackMove=!1)):this._validateDir()&&this._updatePos(e,this._moveDir,this._moveSpeed),this.curArea=this.curCtrl.getCurAreaByPos(this.pos)},c._updatePos=function(e,t,i){if(!this._isPauseMove&&(0!=t.x||0!=t.y)){var s=this._position.x+e*t.x*i,n=this._position.y+e*t.y*i;if(this._newPosEnable(s,n)){var a=r.runtime.ui.mapRect;s=o.clamp(s,a.xMin+this.radius,a.xMax-this.radius),n=o.clamp(n,a.yMin+this.radius,a.yMax-this.radius),this.setPos2f(s,n)}}},c._validateDir=function(){return!0},c._newPosEnable=function(e,t){return!0},c._validateBackDir=function(){return!0},c.startBackMove=function(e,t,i,s){this._backDir.set(e,t),this._backDir.normalize(),this._backTime=i,this._backSpeed=s,this._isBackMove=!0},c._updateFace=function(){var e;null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0)},c.addBuff=function(e){if(e){var t=this.buffs.find((function(t){return t.id==e}));if(t)t.resetSurvTime();else{var i=new u(e,this);this.buffs.push(i)}}else console.error("buffid不存在: ",e)},c.removeBuff=function(e){var t=this.buffs.indexOf(e);-1!=t&&this.buffs.splice(t,1),e.destroy()},c.getBuffValue=function(e){var t=0;return this.buffs.forEach((function(i){i.config.type==e&&e==a.Slow&&(t+=i.config.value1)>.8&&(t=.8)})),t},c.remove=function(){e.prototype.remove.call(this),this.buffs.forEach((function(e){return e.destroy()}))},i(s,[{key:"curCtrl",get:function(){return r.runtime.control}},{key:"moveSpeed",set:function(e){this._moveSpeed=e}}]),s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRole6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState6.ts","./RoleBase6.ts"],(function(e){var t,i,s,a,o,n,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,a=e.math,o=e.Vec2},function(e){n=e.ZDGameState6},function(e){c=e.RoleBase}],execute:function(){s._RF.push({},"12100EMg4ZKT52rX6NNX6S1","MoveRole6",void 0);e("MoveRole",function(e){function s(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this)._moveDir=new o,t._moveSpeed=400,t._isBackMove=!1,t._backDir=new o,t._backSpeed=void 0,t._backTime=void 0,t._isPauseMove=!1,t.updateFace=!0,t._isMove=!1,t}t(s,e);var c=s.prototype;return c.pauseMove=function(){this._isPauseMove=!0},c.resumeMove=function(){this._isPauseMove=!1},c.startMove=function(e,t,i){void 0===i&&(i=!0),this._enable&&(this._moveDir.set(e,t),this.updateFace=i,this._updateFace(),this._isMove=!0)},c.endMove=function(){this._enable&&(this._moveDir.set(0,0),this._isMove=!1)},c.update=function(t){e.prototype.update.call(this,t),this._isMove&&this._updateMove(t)},c._updateMove=function(e){this._isBackMove?(this._validateBackDir()&&this._updatePos(e,this._backDir,this._backSpeed),this._backTime-=e,this._backTime<=0&&(this._isBackMove=!1)):this._validateDir()&&this._updatePos(e,this._moveDir,this._moveSpeed)},c._updatePos=function(e,t,i){if(!this._isPauseMove&&(0!=t.x||0!=t.y)){var s=this._position.x+e*t.x*i,o=this._position.y+e*t.y*i;if(this._newPosEnable(s,o)){var c=n.runtime.ui.mapRect;s=a.clamp(s,c.xMin+this.radius,c.xMax-this.radius),o=a.clamp(o,c.yMin+this.radius,c.yMax-this.radius),this.setPos2f(s,o)}}},c._validateDir=function(){return!0},c._newPosEnable=function(e,t){return!0},c._validateBackDir=function(){return!0},c.startBackMove=function(e,t,i,s){this._backDir.set(e,t),this._backDir.normalize(),this._backTime=i,this._backSpeed=s,this._isBackMove=!0},c._updateFace=function(){var e;this.updateFace&&(null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0))},c.setFace=function(e){var t;null==(t=this._view)||t.setModelFlipX(e)},i(s,[{key:"moveSpeed",get:function(){return this._moveSpeed},set:function(e){this._moveSpeed=e}}]),s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveWithTouch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,i,h,s,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,i=o.UITransform,h=o.Input,s=o.Vec3,c=o.Component}],execute:function(){var u;n._RF.push({},"083d8ftuS9OLodO1ov/lYhG","MoveWithTouch",void 0);var T=e.ccclass;e.property,o("MoveWithTouch",T("MoveWithTouch")(u=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this)._isFocused=!1,t._fcheck=void 0,t}t(n,o);var e=n.prototype;return e.onLoad=function(){this.node.getComponent(i)},e.onEnable=function(){this.node.on(h.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onDisable=function(){this.node.off(h.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(h.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(h.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.update=function(o){},e.onTouchStart=function(o){this._isFocused=!0},e.onTouchMove=function(o){var t=o.getUIDelta(),n=o.target.getPosition();o.target.setPosition(n.add(new s(t.x,t.y,0)))},e.onTouchEnd=function(o){this._isFocused=!1},e.setCheck=function(o){this._fcheck=o},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/MYAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./Awaiters.ts","./DefaultAds.ts"],(function(o){var e,r,n,d,a,i,t;return{setters:[function(o){e=o.inheritsLoose,r=o.asyncToGenerator,n=o.regeneratorRuntime},function(o){d=o.cclegacy},function(o){a=o.YT},function(o){i=o.Awaiters},function(o){t=o.default}],execute:function(){d._RF.push({},"15e54BhE8VMv7Sbk93A9D9N","MYAds",void 0);o("default",function(o){function d(){for(var e,r=arguments.length,n=new Array(r),d=0;d<r;d++)n[d]=arguments[d];return(e=o.call.apply(o,[this].concat(n))||this).config=void 0,e._rewardVideo=void 0,e.base=void 0,e._bannerAd=void 0,e._intersitialAd=void 0,e.boxBanner=void 0,e.gamebox=void 0,e.onRewardAdLoad=void 0,e.onRewardAdError=void 0,e.onRewardAdClose=void 0,e.onRewardAdComplete=void 0,e.isCompelete=!1,e}e(d,o);var t=d.prototype;return t.init=function(o){this.base=my,this.config=o},t.showBannerAd=function(){console.log("showBannerAd"),this.base},t.hideBannerAd=function(){console.log("hideBannerAd")},t.showRewardVideoAd=function(){var o=this;this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var e=this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"),new Promise((function(d,t){var s=o.base;o.isCompelete=!1;var w=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Seconds(.2);case 2:d(o.isCompelete);case 3:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}();o._rewardVideo&&o.onRewardAdLoad&&(o._rewardVideo.offLoad(o.onRewardAdLoad),o._rewardVideo.offError(o.onRewardAdError),o._rewardVideo.offClose(o.onRewardAdClose),o._rewardVideo.offComplete(o.onRewardAdComplete)),o.onRewardAdLoad=function(){console.log("视频广告加载成功"),a.platform.hideLoading()},o.onRewardAdClose=w,o.onRewardAdError=function(o){console.error("视频广告加载失败",o),a.platform.showToast("视频加载失败,请稍后重试"),d(!1),a.platform.hideLoading()},o.onRewardAdComplete=function(e){a.platform.hideLoading(),console.log("视频回调onRewardAdComplete",e),o.isCompelete=!0,d(!0)},o._rewardVideo?(o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),o._rewardVideo.onComplete(o.onRewardAdComplete),a.platform.showLoading("视频加载中..."),o._rewardVideo.show().then((function(){a.platform.hideLoading()}))):(o._rewardVideo=s.createRewardedAd({adUnitId:e}),o._rewardVideo.onComplete(o.onRewardAdComplete),o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),a.platform.showLoading("视频加载中..."),o._rewardVideo.load().then((function(){o._rewardVideo.show().then((function(){a.platform.hideLoading()}))})))}))},t.showInterstitialAd=function(){},t.showGameboxBanner=function(){},t.hideGameboxBanner=function(){},t.showGamebox=function(){},t.hideGamebox=function(){},t.showNativeAd=function(){},t.showSplashAd=function(){},d}(t));d._RF.pop()}}}));

System.register("chunks:///_virtual/MYPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultPlatform.ts","./DefaultRecorder.ts","./SDK.ts","./MYAds.ts"],(function(e){var t,n,o,s,i,a,r,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,i=e.game},function(e){a=e.default},function(e){r=e.default},function(e){c=e.default},function(e){u=e.default}],execute:function(){s._RF.push({},"ad823PELQdFSL5jY+0F1gpF","MYPlatform",void 0);e("default",function(e){function s(){var t;return(t=e.call(this)||this).inited=!1,t.base=my,t}t(s,e);var a=s.prototype;return a.init=function(e){console.log("初始化平台==淘宝"),this.ads=new u,this.ads.init(e.adConfig),this.isSupportRank=!1,this.recorder=new r,this.recorder.isSupport=!1,this.gameName=e.gameName,this.appId=e.appId},a.onShow=function(e){console.log("my OnShow",e),i.resume(),this.inited||(this.checkUpdate(),this.inited=!0)},a.checkUpdate=function(){var e=this,t=this.base.getUpdateManager();null!=t&&(t.onCheckForUpdate((function(e){console.log("onCheckForUpdate",e.hasUpdate),e.hasUpdate&&this.base.showToast({title:"即将有更新请留意"})})),t.onUpdateReady((function(){e.base.confirm({title:"更新提示",content:"新版本已经准备好，是否立即使用？",success:function(e){e.confirm&&this.base.getUpdateManager().applyUpdate()}})})))},a.onHide=function(e){console.log("my OnHide",e),i.pause()},a.login=function(){var e=n(o().mark((function e(t){var s=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.useCloudStorage=t,e.abrupt("return",new Promise((function(e,i){var a;s.base.authorize({scopes:"scope.userInfo",success:(a=n(o().mark((function n(s){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("淘宝登录",JSON.stringify(s)),!s.accessToken){n.next=11;break}if(!t){n.next=8;break}return n.next=5,c.Inst.login(s.accessToken);case 5:n.sent,n.next=9;break;case 8:return n.abrupt("return",null);case 9:n.next=12;break;case 11:console.log("淘宝登录失败！",JSON.stringify(s));case 12:e();case 13:case"end":return n.stop()}}),n)}))),function(e){return a.apply(this,arguments)})})})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.Vibrate=function(e){},a.showLoading=function(e,t){console.log("showLoading"+e)},a.hideLoading=function(){console.log("hideLoading")},a.showToast=function(e){console.log("showToast"+e)},a.reportEvent=function(e,t){},a.hasShortcutInstalled=function(){return new Promise((function(e,t){e(!0)}))},s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/NodeExt.ts",["cc"],(function(){var t,e,o,n,i,r,s,c,u,p,l,a,h,g,f,y,d,_,v,m,P,C,b;return{setters:[function(x){t=x.cclegacy,e=x.Node,o=x.UITransform,n=x.Size,i=x.UIOpacity,r=x.UIRenderer,s=x.Color,c=x.v3,u=x.Graphics,p=x.Label,l=x.RichText,a=x.Sprite,h=x.Button,g=x.Canvas,f=x.EditBox,y=x.Layout,d=x.PageView,_=x.ProgressBar,v=x.ScrollView,m=x.Slider,P=x.Toggle,C=x.Widget,b=x.Mask}],execute:function(){if(t._RF.push({},"f8318PeLGBFa6amEh+DgSt0","NodeExt",void 0),!e.prototype.$__definedProperties__){e.prototype.$__definedProperties__=!0;var x={uiGraphics:u,uiLabel:p,uiRichText:l,uiSprite:a,uiButton:h,uiCanvas:g,uiEditBox:f,uiLayout:y,uiPageView:d,uiProgressBar:_,uiScrollView:v,uiSlider:m,uiToggle:P,uiWidget:C,uiOpacity:i,uiTransform:o,uiMask:b},O=function(t){Object.defineProperty(e.prototype,t,{get:function(){return this.getComponent(x[t])},set:function(t){}})};for(var j in x)O(j);Object.defineProperty(e.prototype,"angle_x",{get:function(){return this.eulerAngles.x},set:function(t){var e=this;e.setRotationFromEuler(t,e.eulerAngles.y,e.eulerAngles.z)}}),Object.defineProperty(e.prototype,"angle_y",{get:function(){return this.eulerAngles.y},set:function(t){var e=this;e.setRotationFromEuler(e.eulerAngles.x,t,e.eulerAngles.z)}}),Object.defineProperty(e.prototype,"angle_z",{get:function(){return this.eulerAngles.z},set:function(t){var e=this;e.setRotationFromEuler(e.eulerAngles.x,e.eulerAngles.y,t)}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.setPosition(t,this.position.y)}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.setPosition(this.position.x,t)}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){var e=this;e.setPosition(e.position.x,e.position.y,t)}}),Object.defineProperty(e.prototype,"w",{configurable:!0,get:function(){var t,e;return null!=(t=null==(e=this.getComponent(o))?void 0:e.width)?t:0},set:function(t){(this.getComponent(o)||this.addComponent(o)).width=t}}),Object.defineProperty(e.prototype,"h",{configurable:!0,get:function(){var t,e;return null!=(t=null==(e=this.getComponent(o))?void 0:e.height)?t:0},set:function(t){(this.getComponent(o)||this.addComponent(o)).height=t}}),Object.defineProperty(e.prototype,"size",{get:function(){var t=this.getComponent(o);return new n(t.width,t.height)},set:function(t){var e=this.getComponent(o)||this.addComponent(o);e.width=t.width,e.height=t.height}}),Object.defineProperty(e.prototype,"anchor_x",{get:function(){var t,e;return null!=(t=null==(e=this.getComponent(o))?void 0:e.anchorX)?t:.5},set:function(t){(this.getComponent(o)||this.addComponent(o)).anchorX=t}}),Object.defineProperty(e.prototype,"anchor_y",{get:function(){var t,e;return null!=(t=null==(e=this.getComponent(o))?void 0:e.anchorY)?t:.5},set:function(t){(this.getComponent(o)||this.addComponent(o)).anchorY=t}}),Object.defineProperty(e.prototype,"opacity",{get:function(){var t=this.getComponent(i);if(null!=t)return t.opacity;var e=this.getComponent(r);return e?e.color.a:255},set:function(t){var e=this,o=e.getComponent(i);if(null==o){var n=e.getComponent(r);n?(this.$__color__?this.$__color__.a=t:this.$__color__=new s(n.color.r,n.color.g,n.color.b,t),n.color=this.$__color__):e.addComponent(i).opacity=t}else o.opacity=t}}),Object.defineProperty(e.prototype,"color",{get:function(){var t;return null==(t=this.getComponent(r))?void 0:t.color},set:function(t){var e=this.getComponent(r);e&&(e.color=t)}}),Object.defineProperty(e.prototype,"scale_x",{get:function(){return this.scale.x},set:function(t){var e=this;e.scale=c(t,e.scale.y,e.scale.z)}}),Object.defineProperty(e.prototype,"scale_y",{get:function(){return this.scale.y},set:function(t){var e=this;e.scale=c(e.scale.x,t,e.scale.z)}}),Object.defineProperty(e.prototype,"scale_z",{get:function(){return this.scale.z},set:function(t){var e=this;e.scale=c(e.scale.x,e.scale.y,t)}})}t._RF.pop()}}}));

System.register("chunks:///_virtual/nodeGesture.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts"],(function(t){var i,o,e,n,s,h,c,u;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t.Node,n=t.input,s=t.Input,h=t.Component},function(t){c=t.default,u=t.updater}],execute:function(){o._RF.push({},"42aebWCILRBzLnUO95rE4A4","nodeGesture",void 0);t("default",function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).touchPrevPos=void 0,i.initialDistance=0,i.touchStartTime=0,i.longTouchThreshold=500,i.isDown=!1,i.downPos=void 0,i.curPos=void 0,i.touchDur=0,i.touches=[],i}i(o,t);var h=o.prototype;return h.start=function(){this.node.on(e.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(e.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(e.EventType.TOUCH_END,this.onTouchEnd,this),n.on(s.EventType.KEY_DOWN,this.onKeyDown,this)},h.onKeyDown=function(t){this.node.emit("key",t.keyCode)},h.onTouchStart=function(t){var i=this,o=t.getUILocation();this.downPos=o,this.curPos=o,this.touches=t.getTouches(),this.touchStartTime=(new Date).getTime();var e=this.touches.length;if(1==this.touches.length)this.node.emit("touch",o),this.touchPrevPos=o.clone();else if(2==e){var n=this.touches[0].getUILocation(),s=this.touches[0].getUILocation();this.initialDistance=c.distanceObject(n,s)}this.isDown=!0,u((function(){if(!i.isDown)return!0;if(i.touches.length>1)return!0;var t=(new Date).getTime()-i.touchStartTime;i.touchDur=t,t>i.longTouchThreshold&&i.node.emit("hold")}))},h.onTouchMove=function(t){if(this.curPos=t.getUILocation(),this.touchStartTime){var i=this.touches;if(2===i.length){var o=i[0].getUILocation(),e=i[1].getUILocation(),n=c.distanceObject(o,e);if(0!==this.initialDistance){var s=n-this.initialDistance;this.initialDistance=n,this.node.emit("zoom",s)}else this.initialDistance=n}else if(1===i.length){var h=t.getUILocation().clone().subtract(this.touchPrevPos);if(h.length()<1)return;this.touchPrevPos=t.getUILocation().clone(),this.node.emit("pan",h),this.node.emit("untouch"),this.isDown=!1}}},h.onTouchEnd=function(t){this.isDown&&(this.node.emit("untouch"),this.isDown=!1),this.node.emit("off"),this.touchPrevPos=null,this.initialDistance=0,this.touchStartTime=0},o}(h));o._RF.pop()}}}));

System.register("chunks:///_virtual/NodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts","./UserNodeEvents.ts"],(function(t){var e,i,n,s,r,o,a;return{setters:[function(t){e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t.Vec3,r=t.isValid},function(t){o=t.default},function(t){a=t.UserNodeEvents}],execute:function(){n._RF.push({},"35ca60NK4lKv6buh+fuiDv4","NodePool",void 0);var u=t("ERemoveMode",function(t){return t[t.active=0]="active",t[t.tree=1]="tree",t[t.invisible=2]="invisible",t}({})),c=t("largeInt",99999),h=new s(c,0,0);t("default",function(){function t(t,e,i,n,s,r){void 0===e&&(e=100),void 0===i&&(i=u.tree),void 0===n&&(n=!1),void 0===s&&(s=-1),this.pool=[],this.insts=[],this.name=void 0,this.active=!1,this.lastTime=0,this.ctor=t,this.size=e,this.mode=i,this.limit=n,this.cd=s,this.parent=r}var n=t.prototype;return n.fetch=function(){var t=e(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.active=!0,!(Date.now()-this.lastTime<this.cd)){t.next=4;break}return t.abrupt("return");case 4:if(this.lastTime=Date.now(),(e=this.limit&&this.insts.length>=this.size?this.insts.shift():this.pool.pop())&&e.isValid){t.next=16;break}return t.next=9,this.ctor();case 9:if(e=t.sent){t.next=12;break}return t.abrupt("return",null);case 12:if(this.active){t.next=16;break}return e.destroy(),console.warn("已经清理了",this),t.abrupt("return",null);case 16:if(e.inPool=!1,e.pool=this,e.active||(e.active=!0),e.parent){t.next=24;break}if(this.parent.isValid){t.next=23;break}return t.abrupt("return",null);case 23:e.parent=this.parent;case 24:return e.setPosition(h.clone()),e.emit(a.PoolFetch),this.insts.push(e),t.abrupt("return",e);case 28:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.isReturned=function(t){return this.pool.includes(t)},n.return=function(t){if(t&&(o.fetchArrEle(this.insts,t),!this.isReturned(t))){switch(this.pool.push(t),t.inPool=!0,this.mode){case u.active:t.active=!1;break;case u.invisible:r(t,!0)&&t.setPosition(h);break;case u.tree:t.parent=null}t&&t.isValid&&t.emit(a.PoolReturn)}},n.clear=function(){this.pool.forEach((function(t){return t.destroy()})),this.insts.forEach((function(t){return t.destroy()})),this.pool.length=0,this.insts.length=0,this.active=!1},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/NumberExt.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"367a7PFJC9Phq5a97fEG8d0","NumberExt",void 0),Object.defineProperty(Number.prototype,"toFixedNumberCN",{value:function(e){void 0===e&&(e=2);var t=this,r=1e4,o=["","万","亿","兆","京","垓","秭","穰","沟","涧","正","载","‌极","‌恒河沙","‌阿僧祇","‌那由他","‌不可思议","‌无量大数","万无量大数","亿无量大数","兆无量大数","京无量大数","垓无量大数","秭无量大数","穰无量大数","沟无量大数","涧无量大数","正无量大数","载无量大数","‌极无量大数","‌恒河沙无量大数","‌阿僧祇无量大数","‌那由他无量大数","‌不可思议无量大数"];if(t<r)return t.toString();var a=Math.min(Math.floor(Math.log(t)/Math.log(r)),o.length-1);return(t/Math.pow(r,a)).toFixed(e)+o[a]},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Number.prototype,"toFixedNumberCNYI",{value:function(e){var t=this;return t<1e12?t.toString():Math.floor(t/1e8)+"亿"},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Number.prototype,"toFixedFloat",{value:function(e){void 0===e&&(e=3);var t=Math.pow(10,e);return Math.round(this*t)/t},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Number.prototype,"toFixedFloatString",{value:function(e){void 0===e&&(e=3);var t=Math.pow(10,e);return Math.round(this*t)/t},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Number.prototype,"toHHMMSS",{value:function(){var e=this/1e3,t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*r);return t<10&&(t="0"+t),r<10&&(r="0"+r),o<10&&(o="0"+o),"00"==t?r+":"+o:t+":"+r+":"+o},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Number.prototype,"toHHMMSSCN",{value:function(){var e=this/1e3,t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*r);return 0==t?r+"分"+o+"秒":t+"时"+r+"分"+o+"秒"},writable:!0,configurable:!0,enumerable:!1}),e._RF.pop()}}}));

System.register("chunks:///_virtual/ObjChar.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"c15f7TV8XBFn6XxheyimdfV","ObjChar",void 0);i("ObjChar",(function(){this.viewObj=void 0,this.charCode=void 0,this.width=void 0,this.height=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d335ekTLnxMj4hc3AdTzHc4","ObjectUtil",void 0);t("ObjectUtil",function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;var e=null;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=this.deepCopy(t[n]);return e}if(t instanceof Object){for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=this.deepCopy(t[c]));return e}console.warn("不支持的类型："+e)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ObjText.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vec3Util.ts","./ObjTextManager.ts"],(function(t){var e,r,h,s,i,a,c;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,r=t.createClass},function(t){h=t.cclegacy,s=t.Vec3,i=t.Node},function(t){a=t.Vec3Util},function(t){c=t.ObjTextManager}],execute:function(){h._RF.push({},"bdb79Nmeu1JTan8sNaEZ1xo","ObjText",void 0),t("ObjText",function(){function t(t){this._referText=void 0,this.rootObj=void 0,this._subParent=void 0,this._cacheChars=void 0,this._cacheText=void 0,this._referText=t,this._cacheChars=[],this._cacheText="",this.rootObj=new i(t),this._subParent=new i("subParent"),this.rootObj.addChild(this._subParent),this.UpdateText()}var h=t.prototype;return h.UpdateText=function(){for(var t=Math.min(this._referText.length,this._cacheText.length),e=0,r=0;r<t;++r){if(this._referText.charCodeAt(r)!=this._cacheText.charCodeAt(r))break;e=r}for(var h=e;h<this._cacheChars.length;++h)c.instance.ReturnCharObj(this._cacheChars[h]);this._cacheChars.splice(e),this._cacheText=this._referText;for(var s=e;s<this._referText.length;++s){var i=this._referText.charCodeAt(s),n=c.instance.GenCharObj(i);this._subParent.addChild(n.viewObj),n.viewObj.setPosition(this._CalcPos(s)),n.viewObj.setRotationFromEuler(0,0,0),this._cacheChars.push(n)}for(var o=0,_=0;_<this._cacheChars.length;++_){o+=this._cacheChars[_].width}this._cacheChars.length>0&&(o-=this._cacheChars[0].width/2,o-=this._cacheChars[this._cacheChars.length-1].width/2);var u=a.s_temp;this._subParent.getPosition(u),u.x=-o/2,this._subParent.setPosition(u)},h._CalcPos=function(e){var r=t._temp;r.set(0,0,0);for(var h=0;h<e;++h)r.x+=this._cacheChars[h].width;return r},h.Destory=function(){for(var t,r=e(this._cacheChars);!(t=r()).done;){var h=t.value;c.instance.ReturnCharObj(h)}this.rootObj.destroy()},r(t,[{key:"text",get:function(){return this._referText},set:function(t){this._referText!=t&&(this._referText=t,this.UpdateText())}}]),t}())._temp=new s,h._RF.pop()}}}));

System.register("chunks:///_virtual/ObjTextManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtils.ts","./ViewUtil.ts","./ObjChar.ts","./ObjText.ts"],(function(t){var e,n,r,i,a,o,s,l;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){r=t.cclegacy,i=t.Prefab},function(t){a=t.GameUtils},function(t){o=t.ViewUtil},function(t){s=t.ObjChar},function(t){l=t.ObjText}],execute:function(){r._RF.push({},"daf97F+d3BDPoK/aIWEDE02","ObjTextManager",void 0);var u=t("ObjCharData",(function(){this.path=void 0,this.bundle=void 0,this.width=void 0,this.height=void 0}));t("ObjTextManager",function(){function t(){this._templateUrls=void 0,this._templateUrls=new Map}var r=t.prototype;return r.Regist=function(t,e,n,r,i){void 0===r&&(r=.6),void 0===i&&(i=1);var a=new u;a.path=t,a.bundle=e,a.width=r,a.height=i,this._templateUrls.set(n,a)},r.Preload=function(t){for(var n,r=this._templateUrls.values(),a=e(r);!(n=a()).done;){var o=n.value;t.add(o.path,o.bundle,i)}},r.GenCharObj=function(t){var e=this._templateUrls.get(t);if(null==e)return console.error("charcode未注册:"+t),null;var n=o.createPrefabNode(e.path,e.bundle),r=new s;return r.viewObj=n,r.charCode=t,r.width=e.width,r.height=e.height,r},r.createText=function(t,e){var n=new l(t);return e.addChild(n.rootObj),a.resetTransform(n.rootObj),n},r.Free=function(){this._templateUrls.clear()},r.ReturnCharObj=function(t){t.viewObj.destroy()},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/OnlineView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./RewardConfig.ts","./ViewBase.ts","./YT.ts","./UI_Online.ts"],(function(t){var e,n,i,r,a,s,o,d,c,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){s=t.ItemConfig},function(t){o=t.RewardConfig},function(t){d=t.ViewBase},function(t){c=t.YT},function(t){u=t.default}],execute:function(){a._RF.push({},"0cc07fGPZhLh4RjoF2rBXTw","OnlineView",void 0);t("OnlineView",function(t){function a(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).data=void 0,e.reward=void 0,e}e(a,t);var d=a.prototype;return d._preShowAnim=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_btn_close.onClick(this.hide,this),e=c.data.dailyData.onlineR,this.data=o.dataList.filter((function(t){return 1==t.condition})).sort((function(t,n){return e.indexOf(t.id)-e.indexOf(n.id)})),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderItem.bind(this),this.ui.m_list.numItems=this.data.length,c.timer.addUpdate(this.refresh,this,1);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.refresh=function(){var t=c.data.dailyData.onlineR;this.data=o.dataList.filter((function(t){return 1==t.condition})).sort((function(e,n){return t.indexOf(e.id)-t.indexOf(n.id)})),this.ui.m_list.numItems=this.data.length},d.renderItem=function(t,e){var n=this.data[t];e.m_title.text=n.des,e.m_rewad.setIcon(s.data[n.reward_id].icon,"game"),e.m_rewad.title="x"+n.reward_count;var i=c.data.dailyData.ols-60*n.num;e.m_btn.clearClick(),i>0?c.data.dailyData.onlineR.includes(n.id)?e.m_state.selectedIndex=2:(e.m_state.selectedIndex=1,e.m_btn.onClick(this._onGet.bind(this,n))):(e.m_state.selectedIndex=0,e.m_btn.title=Math.abs(1e3*i).toHHMMSS())},d._onGet=function(){var t=i(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.data.dailyData.onlineR.push(e.id),c.data.dailyData.save=!0,c.data.addItemByItemId(e.reward_id,e.reward_count),c.message.dispatchEvent("on_res_changed"),this.refresh();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),d._afterShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d._preHideAnim=function(){c.timer.removeUpdate(this.refresh,this)},d._afterHideAnim=function(){},n(a,null,[{key:"instance",get:function(){return this._getInstance(a,u)}}]),a}(d));a._RF.pop()}}}));

System.register("chunks:///_virtual/OpenTreasureDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BoxConfig.ts","./ItemConfig.ts","./ViewUtil.ts","./YT.ts","./UIHelper.ts","./MainConst.ts","./BattleState.ts","./BaseDialog.ts"],(function(t){var e,i,n,a,o,r,l,s,c,u,d,p,_,f,g,h,b,y,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,c=t.Sprite,u=t.Label,d=t.Button},function(t){p=t.BoxConfig},function(t){_=t.ItemConfig},function(t){f=t.ViewUtil},function(t){g=t.YT},function(t){h=t.UIHelper},function(t){b=t.MAIN_PREFABS,y=t.MAIN_BUNDLE},function(t){m=t.BattleState},function(t){v=t.BaseDialog}],execute:function(){var w,B,C,D,N,I,T,L,k,S,x,A,G;l._RF.push({},"b5ddft+DjFIk6g4AtPPljSC","OpenTreasureDialog",void 0);var R=s.ccclass,z=s.property;t("OpenTreasureDialog",(w=R("OpenTreasureDialog"),B=z({type:c,displayName:"图标",visible:!0}),C=z({type:u,displayName:"数量",visible:!0}),D=z({type:d,displayName:"双倍领取按钮",visible:!0}),N=z({type:u,displayName:"广告倍数",visible:!0}),I=z({type:d,displayName:"普通领取按钮",visible:!0}),w((k=e((L=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_iconSpr",k,a(e)),n(e,"_cntLab",S,a(e)),n(e,"_doubleGetBtn",x,a(e)),n(e,"_adLab",A,a(e)),n(e,"_normalGetBtn",G,a(e)),e._type=void 0,e._cnt=void 0,e._callback=void 0,e._config=void 0,e._rewardCnt=void 0,e}i(e,t),e.Show=function(t,i){var n=f.createPrefabNode(b.OpenTreasureDialog,y);n.parent=m.ins.control.view.dialogRoot;var a=n.getComponent(e);return a._init(t,i),a};var l=e.prototype;return l._init=function(t,e){this._config=p.data[t],this._callback=e;var i=_.data[this._config.gold];if(h.changeSpriteFrame(i.icon,y,this._iconSpr),this._rewardCnt=this._config.goldNum,1==i.type){var n=m.ins.control.remainMgr.attr.boxAddGold;n>0&&(this._rewardCnt=Math.floor(this._config.goldNum*(1+n)))}this._cntLab.string="x"+this._rewardCnt.toFixedNumberCN(),m.ins.control.data.openTreasure(),this._adLab.string=this._config.AD+"倍领取",this._doubleGetBtn.node.on(d.EventType.CLICK,this._onDoubleBtnClicked,this),this._normalGetBtn.node.on(d.EventType.CLICK,this._onNormalBtnClicked,this)},l._onDoubleBtnClicked=function(){var t=o(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.audio.play(2),t.next=3,g.game.watchAD("double_treasure");case 3:t.sent&&(this._addReward(!0),null==(e=this._callback)||e.call(this),this.close());case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l._onNormalBtnClicked=function(){var t;g.audio.play(2),this._addReward(!1),null==(t=this._callback)||t.call(this),this.close()},l._addReward=function(t){var e=this._rewardCnt;if(t&&(e*=this._config.AD),1!=this._config.gold){m.ins.control.runTimeData.data.addItemByItemId(this._config.gold,e);var i=_.data[this._config.gold];g.gui.toast(i.name+" x"+e)}else m.ins.control.data.addGold(e)},e}(v)).prototype,"_iconSpr",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(L.prototype,"_cntLab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(L.prototype,"_doubleGetBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(L.prototype,"_adLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(L.prototype,"_normalGetBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=L))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/OppoAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultAds.ts"],(function(n){var o,e,i;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy},function(n){i=n.default}],execute:function(){e._RF.push({},"159c4M09hhELJYAEsyvmnkh","OppoAds",void 0);n("default",function(n){function e(){var o;return(o=n.call(this)||this).config=void 0,o._rewardVideo=void 0,o.base=void 0,o.bannerAd=void 0,o._intersitialAd=void 0,o.boxBanner=void 0,o.gamebox=void 0,o.nativeAd=void 0,o.onRewardAdLoad=void 0,o.onRewardAdClose=void 0,o.onRewardAdError=void 0,o.base=window.qg,o}o(e,n);var i=e.prototype;return i.init=function(n){this.base=window.qg,this.config=n},i.showBannerAd=function(){console.log("showBannerAd"),this.base&&(this.bannerAd?this.bannerAd.show():this.createBannerAd(!0))},i.hideBannerAd=function(){console.log("hideBannerAd"),this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null)},i.createBannerAd=function(n){void 0===n&&(n=!1),this.config.bannerIdMain?(this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerAd=window.qg.createBannerAd({adUnitId:this.config.bannerIdMain}),this.bannerAd.onResize((function(n){console.log("banner 宽度："+n.width+", banner 高度："+n.height)})),this.bannerAd.onLoad((function(){console.log("[Banner广告] 广告加载成功")})),this.bannerAd.onError((function(n){console.log("错误监听：",JSON.stringify(n))})),n&&this.showBannerAd()):console.log("banner广告参数没有配置")},i.showRewardVideoAd=function(){var n=this;this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var o=this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"),new Promise((function(e,i){o&&(n._rewardVideo&&n.onRewardAdLoad&&(n._rewardVideo.offLoad(n.onRewardAdLoad),n._rewardVideo.offError(n.onRewardAdError),n._rewardVideo.offClose(n.onRewardAdClose)),n.onRewardAdLoad=function(){console.log("视频广告加载成功"),n.base.hideLoading()},n.onRewardAdClose=function(o){n.base.hideLoading(),console.log("视频回调",o);var i=o.isEnded;e(i)},n.onRewardAdError=function(o){console.error("视频广告加载失败",o),n.base.showToast("视频加载失败,请稍后重试"),e(!1),n.base.hideLoading()},n._rewardVideo?(n._rewardVideo.onLoad(n.onRewardAdLoad),n._rewardVideo.onError(n.onRewardAdError),n._rewardVideo.onClose(n.onRewardAdClose),n.base.showLoading("视频加载中..."),n._rewardVideo.show().then((function(){n.base.hideLoading()}))):(n._rewardVideo=n.base.createRewardedVideoAd({adUnitId:o}),n._rewardVideo.onLoad(n.onRewardAdLoad),n._rewardVideo.onError(n.onRewardAdError),n._rewardVideo.onClose(n.onRewardAdClose),n.base.showLoading("视频加载中..."),n._rewardVideo.load().then((function(){n._rewardVideo.show().then((function(){n.base.hideLoading()}))}))))}))},i.showInterstitialAd=function(){var n=this;if(console.log("showInterstitialAd"),!this._intersitialAd){if(this._intersitialAd=this.base.createInterstitialAd({adUnitId:this.config.initerstitialAdId}),null==this._intersitialAd)return void console.log("IDE内不支持创建InterstitialAd");this._intersitialAd.onError((function(n){console.error("插页加载失败",n)})),this._intersitialAd.onClose((function(){console.log("插页close"),n._intersitialAd.destroy(),n._intersitialAd=null}))}this._intersitialAd&&this._intersitialAd.load().then((function(){n._intersitialAd.show()}))},i.showGameboxBanner=function(){},i.hideGameboxBanner=function(){},i.showGamebox=function(){},i.hideGamebox=function(){},i.showNativeAd=function(){var n=this;if(!this.nativeAd&&this.config.nativeAdId){var o=this.config.nativeAdId;this.nativeAd=this.base.createCustomAd({adUnitId:o}),this.nativeAd.onError((function(n){console.log("原生加载错误"+n)})),this.nativeAd.onShow((function(){console.log("原生show"),n.hideBannerAd()}))}this.nativeAd&&this.nativeAd.show()},i.hideNativeAd=function(){this.nativeAd&&this.nativeAd.hide(),this.nativeAd&&this.nativeAd.destroy()},i.showSplashAd=function(){},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/OppoPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultPlatform.ts","./DefaultRecorder.ts","./OppoAds.ts"],(function(t){var n,o,e,s,i,a,c,r;return{setters:[function(t){n=t.inheritsLoose,o=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){s=t.cclegacy,i=t.game},function(t){a=t.default},function(t){c=t.default},function(t){r=t.default}],execute:function(){s._RF.push({},"a6ad05cI31INbUfxL6AzIa/","OppoPlatform",void 0);t("default",function(t){function s(){var n;return(n=t.call(this)||this).base=window.qg,n}n(s,t);var a=s.prototype;return a.init=function(t){console.log("初始化平台==Oppo"),this.base=window.qg,this.systemInfo=this.base.getSystemInfoSync(),this.ads=new r,this.ads.init(t.adConfig),this.gameName=t.gameName,this.appId=t.appId,this.isSupportRank=!1,this.recorder=new c,this.recorder.isSupport=!1,this.base.onShow(this.onShow.bind(this)),this.base.onHide(this.onHide.bind(this)),this.base.reportMonitor("game_scene",0)},a.onShow=function(t){console.log("oppo OnShow",t),i.resume()},a.onHide=function(t){console.log("oppo OnHide",t),i.pause()},a.login=function(){var t=o(e().mark((function t(n){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1),this.useCloudStorage=n;case 2:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.Vibrate=function(t){t?this.base.vibrateLong({success:function(t){},fail:function(t){console.error("调用震动失败",t)},complete:function(t){}}):this.base.vibrateShort({success:function(t){},fail:function(t){console.error("调用震动失败",t)},complete:function(t){}})},a.showLoading=function(t,n){console.log("showLoading"+t),this.base&&this.base.showLoading({title:t})},a.hideLoading=function(){console.log("hideLoading"),this.base&&this.base.hideLoading()},a.showToast=function(t){console.log("showToast"+t),this.base&&this.base.showToast({title:t})},a.reportEvent=function(t,n){},a.exitGame=function(){this.base.exitApplication({})},a.createShortcut=function(){var t=this;return new Promise(o(e().mark((function n(o,s){var i;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.hasShortcutInstalled();case 2:0==n.sent?(i=!1,t.base.installShortcut({success:function(){i=!0},fail:function(t){i=!1},complete:function(){o(i)}})):o(!1);case 4:case"end":return n.stop()}}),n)}))))},a.hasShortcutInstalled=function(){var t=this;return new Promise((function(n,o){t.base.hasShortcutInstalled({success:function(t){n(0!=t)},fail:function(t){o()},complete:function(){}})}))},s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/PackAnimConfig.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){var t;e("PackAnimConfig",void 0),i._RF.push({},"9e7f4gR4BNBKYrXTBfvjHck","PackAnimConfig",void 0),function(e){e.config=function(){this.id=void 0,this.name=void 0,this.anim=void 0,this.x=void 0,this.y=void 0,this.delay=void 0};e.isConst=!1,e.path="config/PackAnimConfig",e.extPath=void 0,e.data=null,e.dataList=null,e.lastData=null;var i=function(e){return e.dizzy="dizzy",e.fire="fire",e.hit="hit",e.hit_restore="hit_restore",e.merge="merge",e.move="move",e.player_hit="player_hit",e.round_restore="round_restore",e.slash="slash",e.player_dizzy="player_dizzy",e.player_hp="player_hp",e.player_float="player_float",e.enemy_hp="enemy_hp",e.enemy_float="enemy_float",e.player_hit_restore="player_hit_restore",e.player_round_restore="player_round_restore",e.move2="move2",e.enemy_shadow="enemy_shadow",e}({});e.E_name=i}(t||(t=e("PackAnimConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/PackBagConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("PackBagConfig",void 0),t._RF.push({},"21086EF735GUZtW2FG43mlK","PackBagConfig",void 0),function(i){i.config=function(){this.width=void 0,this.height=void 0,this.size=void 0,this.gap=void 0,this.slot=void 0};i.isConst=!0,i.path="config/PackBagConfig",i.extPath=void 0,i.data=null}(o||(o=i("PackBagConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PackBagItemConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var a;t("PackBagItemConfig",void 0),e._RF.push({},"42c16zGEgVIK4BZb/+bWdXz","PackBagItemConfig",void 0),function(t){t.config=function(){this.id=void 0,this.name=void 0,this.bag_view=void 0,this.shape=void 0,this.sp=void 0};t.isConst=!1,t.path="config/PackBagItemConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null;var e=function(t){return t.combo_rate="combo_rate",t.crit_rate="crit_rate",t.dizzy_rate="dizzy_rate",t.heal="heal",t.hit_restore="hit_restore",t.dodge_rate="dodge_rate",t.counter_rate="counter_rate",t}({});t.E_sp=e}(a||(a=t("PackBagItemConfig",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/PackBattleBinder.ts",["cc","./fairygui.mjs","./UI_WindowGameOver.ts","./UI_map_1.ts","./UI_map_2.ts","./UI_btn_icon.ts","./UI_bagContent.ts","./UI_BagPackage.ts","./UI_BagSlotItem.ts","./UI_BagItem_1.ts","./UI_BagItem_2.ts","./UI_BagItem_3.ts","./UI_BagItem_4.ts","./UI_BagItem_7.ts","./UI_packTiles.ts","./UI_BattleView.ts","./UI_key_value_panel.ts","./UI_current_status.ts","./UI_equip_status.ts","./UI_SubGameTray2.ts","./UI_PackBattleView.ts","./UI_player_hp_bar.ts","./UI_enemy_hp_bar.ts","./UI_ViewBag.ts"],(function(t){var n,e,s,i,u,a,o,f,c,U,_,l,I,d,R,x,E,L,r,B,g,m,p,b;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){s=t.default},function(t){i=t.default},function(t){u=t.default},function(t){a=t.default},function(t){o=t.default},function(t){f=t.default},function(t){c=t.default},function(t){U=t.default},function(t){_=t.default},function(t){l=t.default},function(t){I=t.default},function(t){d=t.default},function(t){R=t.default},function(t){x=t.default},function(t){E=t.default},function(t){L=t.default},function(t){r=t.default},function(t){B=t.default},function(t){g=t.default},function(t){m=t.default},function(t){p=t.default},function(t){b=t.default}],execute:function(){n._RF.push({},"b64b3O2OaVMNq+OBM4NHr4G","PackBattleBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(s.URL,s),e.setExtension(i.URL,i),e.setExtension(u.URL,u),e.setExtension(a.URL,a),e.setExtension(o.URL,o),e.setExtension(f.URL,f),e.setExtension(c.URL,c),e.setExtension(U.URL,U),e.setExtension(_.URL,_),e.setExtension(l.URL,l),e.setExtension(I.URL,I),e.setExtension(d.URL,d),e.setExtension(R.URL,R),e.setExtension(x.URL,x),e.setExtension(E.URL,E),e.setExtension(L.URL,L),e.setExtension(r.URL,r),e.setExtension(B.URL,B),e.setExtension(g.URL,g),e.setExtension(m.URL,m),e.setExtension(p.URL,p),e.setExtension(b.URL,b)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PackEnemyConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("PackEnemyConfig",void 0),t._RF.push({},"dc87e3p56lI8rUbicIaPZVY","PackEnemyConfig",void 0),function(i){i.config=function(){this.id=void 0,this.view=void 0,this.attr=void 0,this.equip_level=void 0,this.equip_weight=void 0,this.option_count=void 0,this.count_weight=void 0,this.attack_delay=void 0,this.crit_delay=void 0,this.no_move=void 0,this.hp_bar_pos=void 0,this.sound=void 0};i.isConst=!1,i.path="config/PackEnemyConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("PackEnemyConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PackGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PackBagConfig.ts","./PackBagItemConfig.ts","./PackEnemyConfig.ts","./PackGameConst.ts","./PackLevelConfig.ts","./YT.ts","./util.ts","./BagManager.ts","./GameEnemy2.ts","./GamePlayer3.ts","./PackView.ts","./WindowGameOver.ts"],(function(t){var e,n,i,a,r,s,u,o,c,h,l,d,f,m,p,g,v;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){r=t.PackBagConfig},function(t){s=t.PackBagItemConfig},function(t){u=t.PackEnemyConfig},function(t){o=t.PackGameConst},function(t){c=t.PackLevelConfig},function(t){h=t.YT},function(t){l=t.updater,d=t.delay},function(t){f=t.default},function(t){m=t.default},function(t){p=t.default},function(t){g=t.PackView},function(t){v=t.default}],execute:function(){a._RF.push({},"6f583yikdRBmpEMAnls03Dw","PackGame",void 0),t("default",function(){function t(){this.player=void 0,this.enemy=void 0,this.bag=void 0,this.runtime=void 0,this.debugAttr={},this.config=void 0,this.waveConfig=void 0,this.cleared=!1,console.log("pack_game",this),globalThis.game=this}var a=t.prototype;return a.startLevel=function(){var t=n(i().mark((function t(e){var n=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.bag=f.inst,this.createData(),this.runtime.level=e,this.config=c.dataList.find((function(t){return t.level==e})),this.bag.init(),this.updateView(),this.view.m_map.url="ui://PackBattle/"+this.config.map,t.next=9,l((function(){return!!n.map}));case 9:return t.next=11,this.prepairRoles();case 11:this.runtime.started=!0,console.log("开始游戏"),this.showBag();case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.showBag=function(){this.view.m_inBattle.selectedIndex=0,this.view.m_bag.touchable=!0,this.runtime.inBag=!0,this.bag.createOptions()},a.hideBag=function(){this.view.m_inBattle.selectedIndex=1,this.runtime.inBag=!1,this.view.m_bag.touchable=!1,this.bag.save(),this.player.updateBoneSlots(),this.player.reset(),this.battleRound()},a.prepairRoles=function(){var t=n(i().mark((function t(){var e=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.player=new p,this.player.reset(),t.next=4,this.player.createView();case 4:return this.enemy=new m,this.waveConfig=u.data[c.dataList.find((function(t){return t.level==e.runtime.level})).enemy_id[this.runtime.wave-1]],this.enemy.reset(this.waveConfig),t.next=9,this.enemy.createView();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.createData=function(){console.log("新游戏！");var t=r.data,e=t.slot.replace(/[\t\n]/g,"").split("").map((function(t){return Number(t)})),n={width:t.width,height:t.height,cellSize:t.size,gap:t.gap,slot:e,pack:[],neibs:[],option:[],loc:[]};Object.assign(this.runtime={},{started:!1,ended:!1,level:1,wave:1,round:1,inBag:!1,bag:n,with_temp:!1})},a.battleRound=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(o.data.round_start);case 2:return t.next=4,this.player.roundStart();case 4:if(!this.runtime.ended){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,d(o.data.round_interval);case 8:return t.next=10,this.enemy.roundStart();case 10:if(!this.runtime.ended){t.next=12;break}return t.abrupt("return");case 12:return t.abrupt("return",this.battleRound());case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.updateView=function(){this.view.m_wave.text="第"+this.runtime.wave+"/"+this.config.enemy_id.length+"波"},a.nextRound=function(){var t=n(i().mark((function t(){var e=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.runtime.ended=!0,t.next=3,d(2);case 3:return this.enemy.destroy(),this.runtime.wave++,this.runtime.ended=!1,this.enemy=new m,this.waveConfig=u.data[c.dataList.find((function(t){return t.level==e.runtime.level})).enemy_id[this.runtime.wave-1]],this.enemy.reset(this.waveConfig),t.next=11,this.enemy.createView();case 11:this.updateView(),this.player.reset(),this.runtime.wave>this.config.enemy_id.length?this.gameWin():this.showBag();case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.clear=function(){this.cleared=!0,this.runtime.ended=!0,this.bag.clear(),this.player.destroy(),this.enemy.destroy(),v.clear()},a.gameWin=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.audio.play(14007),t.next=3,v.showWithArg({win:!0,killed:this.runtime.wave,total:this.config.enemy_id.length,restart:!1});case 3:t.sent.restart?this.state.restart():this.state.quit();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.gameLose=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.runtime.ended=!0,h.audio.play(14007),t.next=4,v.showWithArg({win:!1,killed:this.runtime.wave-1,total:this.config.enemy_id.length,restart:!1});case 4:t.sent.restart?this.state.restart():this.state.quit();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.showCurrentStat=function(t){var e=this.view.m_current_status,n=Object.keys(o.E_game_attr);this.player.reset();for(var i=0,a=n;i<a.length;i++){var r=a[i],s=e.getChild(r),u=this.player.get(r);if(null==t){s.m_is_yellow.selectedIndex=["atk","hp","def","speed"].includes(r)?0:1}else s.m_is_yellow.selectedIndex=r==t?1:0;s.m_value.text=u<1?(100*u).toFixed(1)+"%":u.toFixed(0)}this.view.m_show_status.play()},a.showEquipStat=function(t){var e=s.data[t.bag_item],n=this.view.m_equip_status;for(var i in t.attr){var a=t.attr[i];if(i==e.sp)n.m_sp.title=w[i],n.m_sp.m_value.text=a<1?(100*a).toFixed(1)+"%":a.toFixed(0);else n.getChild(i).m_value.text=a<1?(100*a).toFixed(1)+"%":a.toFixed(0)}n.m_icon.url="ui://PackBattle/"+t.role_view,this.showCurrentStat(e.sp),this.view.m_show_equip_status.play()},a.hideCurrentStat=function(){this.view.m_show_status.stop(),this.view.m_show_equip_status.stop(),this.view.m_hide_status.play()},e(t,[{key:"view",get:function(){return g.inst.ui.m_battle}},{key:"map",get:function(){return this.view.m_map.component}},{key:"state",get:function(){return h.logic.state}}],[{key:"inst",get:function(){return this._inst||(this._inst=new t)}}]),t}())._inst=void 0;var w={dodge_rate:"闪避",crit_rate:"暴击",combo_rate:"连击",hit_restore:"吸血",speed:"速度",hp:"生命",def:"防御",atk:"攻击",counter_rate:"反击",heal:"治疗",dizzy_rate:"击晕"};a._RF.pop()}}}));

System.register("chunks:///_virtual/PackGameConst.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var a;t("PackGameConst",void 0),e._RF.push({},"9a0e2MZ3HdDGrYDoiBZAWgK","PackGameConst",void 0),function(t){t.config=function(){this.test=void 0,this.heal_rate=void 0,this.forward_time=void 0,this.backward_time=void 0,this.player_attack_delay=void 0,this.round_interval=void 0,this.round_start=void 0,this.combo_interval=void 0};t.isConst=!0,t.path="config/PackGameConst",t.extPath=void 0,t.data=null;var e=function(t){return t.atk="atk",t.def="def",t.hp="hp",t.speed="speed",t.hit_restore="hit_restore",t.combo_rate="combo_rate",t.crit_rate="crit_rate",t.dodge_rate="dodge_rate",t.counter_rate="counter_rate",t.heal="heal",t.dizzy_rate="dizzy_rate",t}({});t.E_game_attr=e}(a||(a=t("PackGameConst",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/PackLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("PackLevelConfig",void 0),t._RF.push({},"b5c0f0IhPxCL7FkUcpU3Zbe","PackLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.enemy_id=void 0,this.base_attr=void 0,this.map=void 0,this.outline=void 0,this.ad=void 0,this.icon=void 0};i.isConst=!1,i.path="config/PackLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("PackLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PackMergeConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("PackMergeConfig",void 0),t._RF.push({},"ad40fvxqrFIgpL+xotPNDC8","PackMergeConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.level=void 0,this.prefab=void 0,this.role_view=void 0,this.spine_slot=void 0,this.bag_item=void 0,this.attr=void 0,this.formula=void 0};i.isConst=!1,i.path="config/PackMergeConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("PackMergeConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PackState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeManager.ts","./YT.ts","./GameStateBase.ts","./PackBattleBinder.ts","./util.ts","./PackGame.ts","./PackView.ts"],(function(e){var n,t,a,r,c,i,u,o,s,l,f,d,p,h;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e.director},function(e){i=e.TimeManager},function(e){u=e.YT},function(e){o=e.GameStateBase},function(e){s=e.default},function(e){l=e.setTimer,f=e.getTimer,d=e.delay},function(e){p=e.default},function(e){h=e.PackView}],execute:function(){r._RF.push({},"f4e12q+XsBD2bjQREKJkukT","PackState",void 0),e("default",function(e){function r(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this)._sceneName="PackGameScene",n._sceneBundle="pack",n._uiPackage="PackBattle",n._uiBundle="pack",n._configBundle="pack",n.game_id=void 0,n.level=void 0,n}n(r,e);var o=r.prototype;return o._onBindUI=function(){s.bindAll()},o._onPreEnter=function(){var e=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o._doEnterState=function(){var e=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.update=function(e,n){},o.lateUpdate=function(e,n){},o._doDestroy=function(){},o._afterSceneLoaded=function(e,n){this.game_id=e,this.level=n,l(this.scene.children[0].addComponent(i)).auto=!0,h.inst.show(),u.audio.stopMusic(),p.inst.startLevel(n)},o._getPreloads=function(e){},o.otherLoadAssets=function(){var e=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.onLeaveState=function(){var e=t(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o.restart=function(){var e=this;p.inst.clear(),h.inst.hide(!0),f().unscheduleAllCallbacks(),l(null),d(.1,(function(){u.logic.onEnterMoreGame(e.game_id,e.level)}))},o.quit=function(){p.inst.clear(),h.inst.hide(!0),f().unscheduleAllCallbacks(),l(null),c.resume(),d(.1,(function(){f().unscheduleAllCallbacks(),l(null),u.logic.onEnterHall()}))},r}(o)).StateName="pack",r._RF.pop()}}}));

System.register("chunks:///_virtual/PackView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./UI_PackBattleView.ts","./fairygui.mjs","./PackGame.ts","./SettingView.ts","./SubGameData.ts"],(function(t){var i,n,e,a,u,c,s,o,r,f;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy,a=t.director},function(t){u=t.ViewBase},function(t){c=t.default},function(t){s=t},function(t){o=t.default},function(t){r=t.SettingView},function(t){f=t.SubGameData}],execute:function(){e._RF.push({},"f509fcQ5UhNlbleHgg3Dfaq","PackView",void 0);t("PackView",function(t){function e(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(i=t.call.apply(t,[this].concat(e))||this).aligneCenter=!1,i}i(e,t);var u=e.prototype;return u._onCreate=function(){globalThis.fgui=s,this.updateView(),this.ui.m_tray.getChild("back").onClick((function(){o.inst.state.quit()})),this.ui.m_tray.getChild("setting").onClick((function(){r.instance.show()})),this.ui.m_tray.getChild("pause").onClick((function(){a.isPaused()?a.resume():a.pause()})),this.ui.m_battle.m_info.onClick((function(){o.inst.showCurrentStat()})),this.ui.m_battle.m_start.onClick((function(){o.inst.hideBag()})),this.ui.m_battle.m_mask.onClick((function(){o.inst.hideCurrentStat()})),this.ui.m_txt_path.text=f.getExtraGameTips(888)},u._preShowAnim=function(){},u.updateView=function(){},u._afterShowAnim=function(){},u._preHideAnim=function(){},u._afterHideAnim=function(){},n(e,null,[{key:"inst",get:function(){return this._getInstance(e,c)}}]),e}(u));e._RF.pop()}}}));

System.register("chunks:///_virtual/PageBase.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"0708b7GCzZBLJJGKxXAPF85","PageBase",void 0);i("PageBase",function(){function i(i,t){this.ui=void 0,this.index=0,this.created=!1,this.ui=i,this.index=t}var t=i.prototype;return t.show=function(){this.created||(this.created=!0,this.onCreate()),this.ui.visible=!0,this.onShow(),this.refresh()},t.onShow=function(){},t.refresh=function(){},t.onCreate=function(){},t.onHide=function(){},t.hide=function(){this.ui.visible=!1,this.onHide()},t.onDestroy=function(){this.hide(),this.ui.dispose()},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Particles.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"7c1b7pkB41D2J0/uUya0XCY","Particles",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Particles2.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a0503M670ZAFJWmVetqjB/I","Particles2",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,o=e.ParticleSystem}],execute:function(){e("StopParticle",(function(e){var r=e.getComponentsInChildren(o);if(r&&r.length>0)for(var c,n=t(r);!(c=n()).done;){var l=c.value;l.stop(),l.processor&&l.processor.getModel().clear()}})),r._RF.push({},"fd980/smwhGHr2nopFV8aOY","ParticleUtil",void 0);e("ParticleUtil",(function(){}));r._RF.pop()}}}));

System.register("chunks:///_virtual/PartPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./YT.ts","./SubGameData.ts","./PageBase.ts"],(function(t){var e,n,a,r,i,c,s,o;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){i=t.Awaiters},function(t){c=t.YT},function(t){s=t.SubGameData},function(t){o=t.PageBase}],execute:function(){r._RF.push({},"c8249OylCpKHrhhD1Yg+v/j","PartPage",void 0);t("PartPage",function(t){function r(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).data=void 0,e}e(r,t);var o=r.prototype;return o.onCreate=function(){this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderList.bind(this)},o.renderList=function(t,e){var n=this,a=this.data[t];e.m_txt_name.text=a.gameName,e.m_txt_lv.text="第"+a.level+"关",e.m_btnUnlock.visible=!this.isSubUnlock(a),e.m_icon.icon=a.icon,e.m_btnStart.clearClick(),e.m_btnStart.onClick((function(){return n._onClickStartBtn(a.gameId,a.level)})),e.m_btnUnlock.clearClick(),this.isSubUnlock(a)?e.m_btnUnlock.visible=!1:(e.m_btnUnlock.onClick(this.onClickUnlock.bind(this,a)),e.m_btnUnlock.m_txt_cnt.text=c.data.subData.getUnlockProgress(a.gameId,a.level)+"/"+a.ad)},o.onClickUnlock=function(){var t=n(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.game.watchAD("副玩法解锁"+e.gameName+e.level);case 2:if(!t.sent){t.next=6;break}c.data.subData.addUnlockProgress(e.gameId,e.level)>=e.ad&&c.data.subData.unlockLevel(e.gameId,e.level),this.refresh();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.isSubUnlock=function(t){var e=c.data.subData;return 0==t.ad?(c.data.subData.unlockLevel(t.gameId,t.level),!0):e.checkUnlockLevel(t.gameId,t.level)},o.refresh=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.data){t.next=4;break}return t.next=3,s.loadSubGameData(106,!1);case 3:this.data=t.sent;case 4:this.ui.m_list.numItems=this.data.length;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onHide=function(){},o.onDestroy=function(){},o._onClickStartBtn=function(){var t=n(a().mark((function t(e,n){var r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.NextFrame();case 2:r=e,s=n,c.logic.onEnterMoreGame(r,s);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/PathControl.ts",["cc","./ZDConst6.ts","./ZDGameState6.ts","./AsyncAStar.ts","./IMath.ts","./MapGraph.ts"],(function(t){var i,e,r,h,a,n,o,l,s,_;return{setters:[function(t){i=t.cclegacy,e=t.instantiate,r=t.Vec3,h=t.view},function(t){a=t.FIND_PATH_CFG},function(t){n=t.ZDGameState6},function(t){o=t.AsyncAStar},function(t){l=t.PPos,s=t.PSize},function(t){_=t.MapGraph}],execute:function(){i._RF.push({},"17339eMs5xKhrjEkas7heAy","PathControl",void 0);var c=100,d=(t("PathControl",function(){function t(t,i){this._tileSize=void 0,this._viewSize=void 0,this._mapSize=void 0,this._diffSize=void 0,this._asyncAStar=void 0,this._graph=void 0,this._arr=void 0,this._mapSize=s(t,i);var e=Math.ceil(i/c),r=Math.ceil(t/c);this._tileSize=s(r,e);var a=h.getVisibleSize();this._viewSize=s(a.width,a.height),this._diffSize=s((this._mapSize.width-this._viewSize.width)/2,(this._mapSize.height-this._viewSize.height)/2),this._graph=new _(r,e),this._asyncAStar=new o(this._graph)}var i=t.prototype;return i.setBarrier=function(t){t.getWorldPosition(v),t.getScale(y);for(var i=t.uiTransform,r=i.contentSize,h=i.anchorPoint,o=r.width*y.x,l=r.height*y.y,s=v.x-h.x*o,_=v.y-h.y*l,d=Math.ceil(l/c),f=Math.ceil(o/c),u=0;u<d;++u)for(var S=0;S<f;++S){var w=s+S*c,p=_+u*c,z=this.world_to_cell(w,p);if(z&&this._graph.addBarrier(z),a.SHOW_BLOCK){var g=n.runtime.control.mapCtrl.currentMap.mapNode.getChildByName("cell");if(!g)continue;this._arr||(this._arr=new Array(this._tileSize.height*this._tileSize.width),this._arr.fill(null));var m=z.x+z.y*this._tileSize.width;if(null==this._arr[m]){this.cell_to_world(z.x,z.y,y);var x=e(g.getChildByName("Node"));x.parent=g,x.active=!0,x.setWorldPosition(y.x+50,y.y+50,0),this._arr[m]=x}}}},i.removeBarrier=function(t){t.getWorldPosition(v),t.getScale(y);for(var i=t.uiTransform,e=i.contentSize,r=i.anchorPoint,h=e.width*y.x,o=e.height*y.y,l=v.x-r.x*h,s=v.y-r.y*o,_=Math.ceil(o/c),d=Math.ceil(h/c),f=0;f<_;++f)for(var u=0;u<d;++u){var S=l+u*c,w=s+f*c,p=this.world_to_cell(S,w);if(p&&this._graph.delBarrier(p),a.SHOW_BLOCK){if(!n.runtime.control.mapCtrl.currentMap.mapNode.getChildByName("cell"))continue;var z=p.x+p.y*this._tileSize.width;null!=this._arr[z]&&(this._arr[z].destroy(),this._arr[z]=null)}}},i.findPath=function(t,i,e){var r=this,h=this.world_to_cell(t.x,t.y,u),a=this.world_to_cell(i.x,i.y,S);this._asyncAStar.findPath(h,a,(function(t,i){for(var h=0;h<i.length;++h){var a=i[h];r.cell_to_world(a.x,a.y,f),i[h].x=f.x+50,i[h].y=f.y+50}null==e||e(t,i)}))},i.update=function(t){this._asyncAStar.update()},i.world_to_cell=function(t,i,e){return null!=e||(e=d),t+=this._diffSize.width,i+=this._diffSize.height,t<0||t>=this._mapSize.width||i<0||i>=this._mapSize.height?null:(e.x=Math.floor(t/c),e.y=Math.floor(i/c),e)},i.cell_to_world=function(t,i,e){return null!=e||(e=f),t<0||t>=this._tileSize.width||i<0||i>=this._tileSize.height?null:(e.x=t*c-this._diffSize.width,e.y=i*c-this._diffSize.height,e)},t}()),l(0,0)),f=l(0,0),u=l(0,0),S=l(0,0),v=new r,y=new r;i._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,s,a,r,c,l,p,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,r=i._decorator,c=i.Animation,l=i.Vec3,p=i.isValid,u=i.Component}],execute:function(){var d,h,f,_,m;a._RF.push({},"49c5a80aa5G8Ydap8IyBJam","PDEffectBase",void 0);var y=r.ccclass,b=r.property;i("PDEffectBase",(d=y("PDEffectBase"),h=b({type:c,displayName:"动画",visible:!0}),d((m=t((_=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"_animation",m,o(t)),t._res=void 0,t._bindNode=void 0,t._pos=new l,t}n(t,i);var a=t.prototype;return a._init=function(i){this._res=i},a._show=function(){},a.set=function(){},a.setPos=function(i,t){this._pos.set(i,t),this.node.setWorldPosition(this._pos)},a.bindNode=function(i){this._bindNode=i,this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos)},a.update=function(i){this._bindNode&&p(this._bindNode)&&(this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos))},a.playOnceCallback=function(i,t){var n=this;this._animation.once(c.EventType.FINISHED,(function(){t(n)}),this),this.play(i)},a.play=function(i){i?this._animation.play(i):this._animation.play()},a.remove=function(){this._bindNode=null,this.node.removeFromParent()},a.stop=function(){this._animation.stop()},a.pause=function(){this._animation.pause()},a.resume=function(){this._animation.resume()},s(t,[{key:"res",get:function(){return this._res}}]),t}(u)).prototype,"_animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectBase3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,s,a,r,c,l,p,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,r=i._decorator,c=i.Animation,l=i.Vec3,p=i.isValid,u=i.Component}],execute:function(){var d,h,f,_,m;a._RF.push({},"2bdebcJ/qpEZ6XflTDQZsaz","PDEffectBase3",void 0);var y=r.ccclass,b=r.property;i("PDEffectBase3",(d=y("PDEffectBase3"),h=b({type:c,displayName:"动画",visible:!0}),d((m=t((_=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"_animation",m,o(t)),t._res=void 0,t._bindNode=void 0,t._pos=new l,t}n(t,i);var a=t.prototype;return a._init=function(i){this._res=i},a._show=function(){},a.set=function(){},a.setPos=function(i,t){this._pos.set(i,t),this.node.setWorldPosition(this._pos)},a.bindNode=function(i){this._bindNode=i,this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos)},a.update=function(i){this._bindNode&&p(this._bindNode)&&(this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos))},a.playOnceCallback=function(i,t){var n=this;this._animation.once(c.EventType.FINISHED,(function(){t(n)}),this),this.play(i)},a.play=function(i){i?this._animation.play(i):this._animation.play()},a.remove=function(){this._bindNode=null,this.node.removeFromParent()},a.stop=function(){this._animation.stop()},a.pause=function(){this._animation.pause()},a.resume=function(){this._animation.resume()},s(t,[{key:"res",get:function(){return this._res}}]),t}(u)).prototype,"_animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectBase4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,s,a,r,c,l,p,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,r=i._decorator,c=i.Animation,l=i.Vec3,p=i.isValid,u=i.Component}],execute:function(){var h,d,f,_,y;a._RF.push({},"bb999lhXFRN1JYrwLp+yA/M","PDEffectBase4",void 0);var m=r.ccclass,b=r.property;i("PDEffectBase4",(h=m("PDEffectBase4"),d=b({type:c,displayName:"动画",visible:!0}),h((y=t((_=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"_animation",y,o(t)),t._res=void 0,t._bindNode=void 0,t._pos=new l,t}n(t,i);var a=t.prototype;return a._init=function(i){this._res=i},a._show=function(){},a.set=function(){},a.setPos=function(i,t){this._pos.set(i,t),this.node.setWorldPosition(this._pos)},a.bindNode=function(i){this._bindNode=i,this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos)},a.update=function(i){this._bindNode&&p(this._bindNode)&&(this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos))},a.playOnceCallback=function(i,t){var n=this;this._animation.once(c.EventType.FINISHED,(function(){t(n)}),this),this.play(i)},a.play=function(i){i?this._animation.play(i):this._animation.play()},a.remove=function(){this._bindNode=null,this.node.removeFromParent()},a.stop=function(){this._animation.stop()},a.pause=function(){this._animation.pause()},a.resume=function(){this._animation.resume()},s(t,[{key:"res",get:function(){return this._res}}]),t}(u)).prototype,"_animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectBase5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,s,a,r,c,l,p,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,r=i._decorator,c=i.Animation,l=i.Vec3,p=i.isValid,u=i.Component}],execute:function(){var d,h,f,_,m;a._RF.push({},"5491aZsgp9O369ticD8ssIZ","PDEffectBase5",void 0);var y=r.ccclass,b=r.property;i("PDEffectBase5",(d=y("PDEffectBase5"),h=b({type:c,displayName:"动画",visible:!0}),d((m=t((_=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"_animation",m,o(t)),t._res=void 0,t._bindNode=void 0,t._pos=new l,t}n(t,i);var a=t.prototype;return a._init=function(i){this._res=i},a._show=function(){},a.set=function(){},a.setPos=function(i,t){this._pos.set(i,t),this.node.setWorldPosition(this._pos)},a.bindNode=function(i){this._bindNode=i,this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos)},a.update=function(i){this._bindNode&&p(this._bindNode)&&(this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos))},a.playOnceCallback=function(i,t){var n=this;this._animation.once(c.EventType.FINISHED,(function(){t(n)}),this),this.play(i)},a.play=function(i){i?this._animation.play(i):this._animation.play()},a.remove=function(){this._bindNode=null,this.node.removeFromParent()},a.stop=function(){this._animation.stop()},a.pause=function(){this._animation.pause()},a.resume=function(){this._animation.resume()},s(t,[{key:"res",get:function(){return this._res}}]),t}(u)).prototype,"_animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectBase6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,s,a,r,c,l,u,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,r=i._decorator,c=i.Animation,l=i.Vec3,u=i.isValid,d=i.Component}],execute:function(){var p,h,f,_,m;a._RF.push({},"6ddd02Aj8tGhKZrxhIlIV8o","PDEffectBase6",void 0);var y=r.ccclass,b=r.property;i("PDEffectBase6",(p=y("PDEffectBase6"),h=b({type:c,displayName:"动画",visible:!0}),p((m=t((_=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"_animation",m,o(t)),t._res=void 0,t._bindNode=void 0,t._pos=new l,t}n(t,i);var a=t.prototype;return a._init=function(i){this._res=i},a._show=function(){},a.set=function(){},a.setPos=function(i,t){this._pos.set(i,t),this.node.setWorldPosition(this._pos)},a.bindNode=function(i){this._bindNode=i,this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos)},a.update=function(i){this._bindNode&&u(this._bindNode)&&(this._bindNode.getWorldPosition(this._pos),this.node.setWorldPosition(this._pos))},a.playOnceCallback=function(i,t){var n=this;this._animation.once(c.EventType.FINISHED,(function(){t(n)}),this),this.play(i)},a.play=function(i){i?this._animation.play(i):this._animation.play()},a.remove=function(){this._bindNode=null,this.node.removeFromParent()},a.stop=function(){this._animation.stop()},a.pause=function(){this._animation.pause()},a.resume=function(){this._animation.resume()},s(t,[{key:"res",get:function(){return this._res}}]),t}(d)).prototype,"_animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectBase.ts","./PDEffectPool.ts"],(function(t){var n,o,e,i,s,c,a,f;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Animation,s=t.toDegree,c=t.Vec3},function(t){a=t.PDEffectBase},function(t){f=t.PDEffectPool}],execute:function(){var r;o._RF.push({},"ab07cwB9zpAfpCHj6cgpS9M","PDEffectCmp",void 0);var p=e.ccclass;e.property,t("PDEffectCmp",p("PDEffectCmp")(r=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._pos=new c,n}n(o,t);var e=o.prototype;return e._init=function(n){t.prototype._init.call(this,n),this._animation.on(i.EventType.FINISHED,this._onAnimationPlayFinished,this)},e.set=function(t,n){this.setPos2f(t,n);var o=Math.atan2(t,n);o<0&&(o+=2*Math.PI),this.node.angle=s(o),this._animation.play()},e._onAnimationPlayFinished=function(){f.Collect(this)},e.setPos2f=function(t,n){this._pos.set(t,n),this.node.setWorldPosition(this._pos)},o}(a))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectBase3.ts","./PDEffectPool3.ts"],(function(t){var n,o,e,i,s,c,a,f;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Animation,s=t.toDegree,c=t.Vec3},function(t){a=t.PDEffectBase3},function(t){f=t.PDEffectPool3}],execute:function(){var r;o._RF.push({},"cd22fC/QWZONJFL3GdE2Dpw","PDEffectCmp3",void 0);var l=e.ccclass;e.property,t("PDEffectCmp3",l("PDEffectCmp3")(r=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._pos=new c,n}n(o,t);var e=o.prototype;return e._init=function(n){t.prototype._init.call(this,n),this._animation.on(i.EventType.FINISHED,this._onAnimationPlayFinished,this)},e.set=function(t,n){this.setPos2f(t,n);var o=Math.atan2(t,n);o<0&&(o+=2*Math.PI),this.node.angle=s(o),this._animation.play()},e._onAnimationPlayFinished=function(){f.Collect(this)},e.setPos2f=function(t,n){this._pos.set(t,n),this.node.setWorldPosition(this._pos)},o}(a))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectBase4.ts","./PDEffectPool4.ts"],(function(t){var n,o,e,i,s,c,a,f;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Animation,s=t.toDegree,c=t.Vec3},function(t){a=t.PDEffectBase4},function(t){f=t.PDEffectPool}],execute:function(){var r;o._RF.push({},"2228a7p6L1M2rFoQ9QCCbNU","PDEffectCmp4",void 0);var l=e.ccclass;e.property,t("PDEffectCmp4",l("PDEffectCmp4")(r=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._pos=new c,n}n(o,t);var e=o.prototype;return e._init=function(n){t.prototype._init.call(this,n),this._animation.on(i.EventType.FINISHED,this._onAnimationPlayFinished,this)},e.set=function(t,n){this.setPos2f(t,n);var o=Math.atan2(t,n);o<0&&(o+=2*Math.PI),this.node.angle=s(o),this._animation.play()},e._onAnimationPlayFinished=function(){f.Collect(this)},e.setPos2f=function(t,n){this._pos.set(t,n),this.node.setWorldPosition(this._pos)},o}(a))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectBase5.ts","./PDEffectPool5.ts"],(function(t){var n,e,o,i,s,c,a,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Animation,s=t.toDegree,c=t.Vec3},function(t){a=t.PDEffectBase5},function(t){f=t.PDEffectPool}],execute:function(){var r;e._RF.push({},"725deSnaUZM+bCpPCWfMTHL","PDEffectCmp5",void 0);var l=o.ccclass;o.property,t("PDEffectCmp5",l("PDEffectCmp5")(r=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._pos=new c,n}n(e,t);var o=e.prototype;return o._init=function(n){t.prototype._init.call(this,n),this._animation.on(i.EventType.FINISHED,this._onAnimationPlayFinished,this)},o.set=function(t,n){this.setPos2f(t,n);var e=Math.atan2(t,n);e<0&&(e+=2*Math.PI),this.node.angle=s(e),this._animation.play()},o._onAnimationPlayFinished=function(){f.Collect(this)},o.setPos2f=function(t,n){this._pos.set(t,n),this.node.setWorldPosition(this._pos)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PDEffectBase6.ts","./PDEffectPool6.ts"],(function(t){var n,e,o,i,s,c,a,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Animation,s=t.toDegree,c=t.Vec3},function(t){a=t.PDEffectBase6},function(t){f=t.PDEffectPool}],execute:function(){var r;e._RF.push({},"60ed0QTI9NIb5jDGRh2OddF","PDEffectCmp6",void 0);var l=o.ccclass;o.property,t("PDEffectCmp6",l("PDEffectCmp6")(r=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._pos=new c,n}n(e,t);var o=e.prototype;return o._init=function(n){t.prototype._init.call(this,n),this._animation.on(i.EventType.FINISHED,this._onAnimationPlayFinished,this)},o.set=function(t,n){this.setPos2f(t,n);var e=Math.atan2(t,n);e<0&&(e+=2*Math.PI),this.node.angle=s(e),this._animation.play()},o._onAnimationPlayFinished=function(){f.Collect(this)},o.setPos2f=function(t,n){this._pos.set(t,n),this.node.setWorldPosition(this._pos)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectPool.ts",["cc","./ViewUtil.ts","./ZDConst.ts","./ZDGameState.ts","./PDEffectBase.ts"],(function(t){var o,n,e,c,i,f;return{setters:[function(t){o=t.cclegacy},function(t){n=t.ViewUtil},function(t){e=t.ZD_BUNDLE,c=t.ZD_RES_PREFABS},function(t){i=t.ZDGameState},function(t){f=t.PDEffectBase}],execute:function(){o._RF.push({},"b8631+W2dRK/JyHoo6Ol59E","PDEffectPool",void 0),t("PDEffectPool",function(){function t(){}return t.Show=function(t){var o=this._pool[t];o||(o=this._pool[t]=[]);var c=o.shift();c||(c=n.createPrefabNode(t,e).getComponent(f))._init(t);return c.node.parent=i.runtime.ui.effectRoot,c._show(),c},t.Collect=function(t){var o=t.res;this._pool[o]?(this._pool[o].push(t),t.remove()):t.node.destroy()},t.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}},t.ShowPZEffect=function(){return this.Show(c.PD_EFFECT)},t.ShowDieEffect=function(o,n){var e=this.Show(c.DIE_EFFECT);return e.setPos(o,n),e.playOnceCallback(null,t.Collect.bind(t)),e},t.ShowPropEffect=function(o){var n=this.Show(c.PROP_EFFECT);return n.bindNode(o),n.playOnceCallback(null,t.Collect.bind(t)),n},t.ShowEffect2=function(t){var o=this.Show(c.EFFECT2);return o.bindNode(t),o.play(),o},t.ShowAttractEffect=function(o){var n=this.Show(c.ATTRACT_EFFECT);return n.playOnceCallback(null,(function(){t.Collect(n),null==o||o()})),n},t}())._pool={},o._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectPool3.ts",["cc","./ViewUtil.ts","./ZDConst3.ts","./ZDGameState3.ts","./PDEffectBase3.ts"],(function(t){var o,n,e,i,a,c,r,f;return{setters:[function(t){o=t.cclegacy,n=t.math},function(t){e=t.ViewUtil},function(t){i=t.ZD_BUNDLE,a=t.ZD_RES_PREFABS,c=t.DEAD_EFFECT_DATA},function(t){r=t.ZDGameState3},function(t){f=t.PDEffectBase3}],execute:function(){o._RF.push({},"4670aADZplGpqaosua01ZBT","PDEffectPool3",void 0),t("PDEffectPool3",function(){function t(){}return t.Show=function(t){var o=this._pool[t];o||(o=this._pool[t]=[]);var n=o.shift();n||(n=e.createPrefabNode(t,i).getComponent(f))._init(t);return n.node.parent=r.runtime.ui.effectRoot,n._show(),n},t.Collect=function(t){var o=t.res;this._pool[o]?(this._pool[o].push(t),t.remove()):t.node.destroy()},t.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}},t.ShowPZEffect=function(t,o){var e=this.Show(a.PD_EFFECT_NEW);return e.setPos(t,o),e.node.angle=n.randomRange(0,360),e.play(),e},t.ShowDieEffect=function(o,n){var e=this.Show(a.DIE_EFFECT);return e.setPos(o,n),e.playOnceCallback(null,t.Collect.bind(t)),e},t.ShowPropEffect=function(o){var n=this.Show(a.PROP_EFFECT);return n.bindNode(o),n.playOnceCallback(null,t.Collect.bind(t)),n},t.ShowEffect2=function(t){var o=this.Show(a.EFFECT2);return o.bindNode(t),o.play(),o},t.ShowAttractEffect=function(o){var n=this.Show(a.ATTRACT_EFFECT);return n.playOnceCallback(null,(function(){t.Collect(n),null==o||o()})),n},t.ShowDefenceEffect=function(t){var o=this.Show(a.DEFENCE_EFFECT);return o.bindNode(t),o.play(),o},t.ShowEffectWord=function(o,n){var e=this.Show(a.WORD_EFFECT);e.node.setParent(r.runtime.ui.uiLayer.wordEffectNode),e.node.setPosition(0,0,0),e.set(o),e.play(),e.playOnceCallback(null,(function(){t.Collect(e),n&&n(o)}))},t.ShowDeadEffect=function(t,o){for(var e,i,r=n.randomRangeInt(c.Num_Min,c.Num_Max),f=c.RADIUS,l=0;l<r;++l){e=n.randomRange(-f,f),i=n.randomRange(-f,f);var u=this.Show(a.DEAD_EFFECT);u.setPos(t+e,o+i),u.play()}},t}())._pool={},o._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectPool4.ts",["cc","./ViewUtil.ts","./ZDConst4.ts","./ZDGameState4.ts","./PDEffectBase4.ts"],(function(t){var o,n,e,c,i,f;return{setters:[function(t){o=t.cclegacy},function(t){n=t.ViewUtil},function(t){e=t.ZD_BUNDLE,c=t.ZD_RES_PREFABS},function(t){i=t.ZDGameState4},function(t){f=t.PDEffectBase4}],execute:function(){o._RF.push({},"98d66JfmaJK/Zj3jRIBC09R","PDEffectPool4",void 0),t("PDEffectPool",function(){function t(){}return t.Show=function(t){var o=this._pool[t];o||(o=this._pool[t]=[]);var c=o.shift();c||(c=n.createPrefabNode(t,e).getComponent(f))._init(t);return c.node.parent=i.runtime.ui.effectRoot,c._show(),c},t.Collect=function(t){var o=t.res;this._pool[o]?(this._pool[o].push(t),t.remove()):t.node.destroy()},t.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}},t.ShowPZEffect=function(){return this.Show(c.PD_EFFECT)},t.ShowDieEffect=function(o,n){var e=this.Show(c.DIE_EFFECT);return e.setPos(o,n),e.playOnceCallback(null,t.Collect.bind(t)),e},t.ShowPropEffect=function(o){var n=this.Show(c.PROP_EFFECT);return n.bindNode(o),n.playOnceCallback(null,t.Collect.bind(t)),n},t.ShowEffect2=function(t){var o=this.Show(c.EFFECT2);return o.bindNode(t),o.play(),o},t.ShowAttractEffect=function(o){var n=this.Show(c.ATTRACT_EFFECT);return n.playOnceCallback(null,(function(){t.Collect(n),null==o||o()})),n},t}())._pool={},o._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectPool5.ts",["cc","./ViewUtil.ts","./ZDConst5.ts","./ZDGameState5.ts","./PDEffectBase5.ts"],(function(t){var o,n,e,c,i,f;return{setters:[function(t){o=t.cclegacy},function(t){n=t.ViewUtil},function(t){e=t.ZD_BUNDLE,c=t.ZD_RES_PREFABS},function(t){i=t.ZDGameState5},function(t){f=t.PDEffectBase5}],execute:function(){o._RF.push({},"407ffIuH15PTpdEDAZYWgJL","PDEffectPool5",void 0),t("PDEffectPool",function(){function t(){}return t.Show=function(t){var o=this._pool[t];o||(o=this._pool[t]=[]);var c=o.shift();c||(c=n.createPrefabNode(t,e).getComponent(f))._init(t);return c.node.parent=i.runtime.ui.effectRoot,c._show(),c},t.Collect=function(t){var o=t.res;this._pool[o]?(this._pool[o].push(t),t.remove()):t.node.destroy()},t.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}},t.ShowPZEffect=function(){return this.Show(c.PD_EFFECT)},t.ShowDieEffect=function(o,n){var e=this.Show(c.DIE_EFFECT);return e.setPos(o,n),e.playOnceCallback(null,t.Collect.bind(t)),e},t.ShowPropEffect=function(o){var n=this.Show(c.PROP_EFFECT);return n.bindNode(o),n.playOnceCallback(null,t.Collect.bind(t)),n},t.ShowEffect2=function(t){var o=this.Show(c.EFFECT2);return o.bindNode(t),o.play(),o},t.ShowAttractEffect=function(o){var n=this.Show(c.ATTRACT_EFFECT);return n.playOnceCallback(null,(function(){t.Collect(n),null==o||o()})),n},t}())._pool={},o._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectPool6.ts",["cc","./ViewUtil.ts","./ZDConst6.ts","./ZDGameState6.ts","./PDEffectBase6.ts"],(function(t){var o,n,e,c,i,f;return{setters:[function(t){o=t.cclegacy},function(t){n=t.ViewUtil},function(t){e=t.ZD_BUNDLE,c=t.ZD_RES_PREFABS},function(t){i=t.ZDGameState6},function(t){f=t.PDEffectBase6}],execute:function(){o._RF.push({},"566dfHRrT9CHIhgp7km8DLD","PDEffectPool6",void 0),t("PDEffectPool",function(){function t(){}return t.Show=function(t){var o=this._pool[t];o||(o=this._pool[t]=[]);var c=o.shift();c||(c=n.createPrefabNode(t,e).getComponent(f))._init(t);return c.node.parent=i.runtime.ui.effectRoot,c._show(),c},t.Collect=function(t){var o=t.res;this._pool[o]?(this._pool[o].push(t),t.remove()):t.node.destroy()},t.Clear=function(){for(var t in this._pool)this._pool[t].forEach((function(t){return t.node.destroy()}));this._pool={}},t.ShowPZEffect=function(){return this.Show(c.PD_EFFECT)},t.ShowDieEffect=function(o,n){var e=this.Show(c.DIE_EFFECT);return e.setPos(o,n),e.playOnceCallback(null,t.Collect.bind(t)),e},t.ShowPropEffect=function(o){var n=this.Show(c.PROP_EFFECT);return n.bindNode(o),n.playOnceCallback(null,t.Collect.bind(t)),n},t.ShowEffect2=function(t){var o=this.Show(c.EFFECT2);return o.bindNode(t),o.play(),o},t.ShowAttractEffect=function(o){var n=this.Show(c.ATTRACT_EFFECT);return n.playOnceCallback(null,(function(){t.Collect(n),null==o||o()})),n},t}())._pool={},o._RF.pop()}}}));

System.register("chunks:///_virtual/PDEffectWord.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState3.ts","./PDEffectBase3.ts"],(function(e){var t,i,r,a,n,o,s,c,l,p,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Sprite,c=e.SpriteFrame,l=e.CCInteger,p=e.math},function(e){u=e.ZDGameState3},function(e){f=e.PDEffectBase3}],execute:function(){var d,y,D,b,m,_,h,g,v;n._RF.push({},"f243bBAiYZPDLqERIYxc0GA","PDEffectWord",void 0);var P=o.ccclass,w=o.property;e("PDEffectWord",(d=P("PDEffectWord"),y=w({displayName:"内容",type:s,visible:!0}),D=w({displayName:"文字内容",type:[c],visible:!0}),b=w({displayName:"对应音效id",type:[l],visible:!0}),d((h=t((_=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"_iconSp",h,a(t)),r(t,"_words",g,a(t)),r(t,"_audioIDs",v,a(t)),t}return i(t,e),t.prototype.set=function(e){var t=p.clamp(e-1,0,this._words.length-1);this._iconSp.spriteFrame=this._words[t],u.runtime.audioMgr.play(this._audioIDs[t])},t}(f)).prototype,"_iconSp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(_.prototype,"_words",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(_.prototype,"_audioIDs",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=_))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/pindaoBinder.ts",["cc","./fairygui.mjs","./UI_Battle5.ts","./UI_WindowWin2.ts","./UI_WindowSetting.ts","./UI_setting_item.ts","./UI_Bullet_Laser.ts","./UI_CupPickItem4.ts","./UI_Item.ts","./UI_laser_mask.ts","./UI_panelItem4.ts","./UI_Player2.ts","./UI_Toast4.ts","./UI_ADBtn4.ts","./UI_CommonBtn4.ts","./UI_CupPick4.ts","./UI_IconBtn5.ts","./UI_WindowFrame3.ts","./UI_Component4.ts","./UI_light_effect.ts","./UI_Boss.ts","./UI_hpBarInner.ts","./UI_mpBarInner.ts","./UI_bossHPmask.ts","./UI_checkToast.ts"],(function(t){var n,e,s,i,o,u,f,c,U,a,l,d,I,_,R,x,L,E,r,m,p,B,g,h,k;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){s=t.default},function(t){i=t.default},function(t){o=t.default},function(t){u=t.default},function(t){f=t.default},function(t){c=t.default},function(t){U=t.default},function(t){a=t.default},function(t){l=t.default},function(t){d=t.default},function(t){I=t.default},function(t){_=t.default},function(t){R=t.default},function(t){x=t.default},function(t){L=t.default},function(t){E=t.default},function(t){r=t.default},function(t){m=t.default},function(t){p=t.default},function(t){B=t.default},function(t){g=t.default},function(t){h=t.default},function(t){k=t.default}],execute:function(){n._RF.push({},"7c26bJce2xC1qyPGRvoLphG","pindaoBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(s.URL,s),e.setExtension(i.URL,i),e.setExtension(o.URL,o),e.setExtension(u.URL,u),e.setExtension(f.URL,f),e.setExtension(c.URL,c),e.setExtension(U.URL,U),e.setExtension(a.URL,a),e.setExtension(l.URL,l),e.setExtension(d.URL,d),e.setExtension(I.URL,I),e.setExtension(_.URL,_),e.setExtension(R.URL,R),e.setExtension(x.URL,x),e.setExtension(L.URL,L),e.setExtension(E.URL,E),e.setExtension(r.URL,r),e.setExtension(m.URL,m),e.setExtension(p.URL,p),e.setExtension(B.URL,B),e.setExtension(g.URL,g),e.setExtension(h.URL,h),e.setExtension(k.URL,k)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PindaoBulletConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("PindaoBulletConfig",void 0),t._RF.push({},"9c4ce1eAnBHxJPK8veQ9a9X","PindaoBulletConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.view=void 0,this.offset_step=void 0,this.spread=void 0,this.distribution=void 0,this.interval=void 0,this.delay=void 0,this.burst=void 0,this.round=void 0,this.speed=void 0,this.force=void 0,this.torque=void 0,this.target=void 0,this.chase=void 0,this.hit=void 0,this.range=void 0,this.life=void 0,this.bounce=void 0,this.magazine=void 0,this.reload=void 0,this.refresh=void 0,this.coll=void 0,this.ricochet=void 0,this.ballistic=void 0,this.params=void 0,this.size=void 0,this.aoe=void 0,this.bullet=void 0,this.layer=void 0,this.bullet_rot=void 0,this.effects=void 0,this.sounds=void 0,this.triggers=void 0,this.count=void 0,this.duration=void 0,this.hit_rate=void 0,this.atk=void 0,this.crit_rate=void 0,this.crit_dmg=void 0,this.talent=void 0,this.group=void 0,this.level=void 0};i.isConst=!1,i.path="config/PindaoBulletConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null;var t=function(i){return i.para_a="para_a",i.para_r="para_r",i.dir_a="dir_a",i.dir_r="dir_r",i.none="none",i}({});i.E_distribution=t;var o=function(i){return i.up="up",i.down="down",i.random="random",i.close="close",i.max="max",i.player="player",i.none="none",i.min="min",i.center="center",i}({});i.E_target=o;var e=function(i){return i.random="random",i.close="close",i.max="max",i.none="none",i.player="player",i}({});i.E_chase=e;var n=function(i){return i.line="line",i.line_g="line_g",i.dir="dir",i.power="power",i.lerp="lerp",i.ray="ray",i.inst="inst",i.static="static",i.orbit="orbit",i.chain="chain",i.path="path",i.floor="floor",i.line_bounce="line_bounce",i}({});i.E_ballistic=n}(o||(o=i("PindaoBulletConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PindaoGameConst.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("PindaoGameConst",void 0),t._RF.push({},"d6ce88UF6RHho+zaJdSXvV/","PindaoGameConst",void 0),function(i){i.config=function(){this.UIPackage=void 0,this.LVPackage=void 0,this.scroll_speed=void 0,this.init_weapon=void 0,this.kill_money_rate=void 0,this.skill_power=void 0,this.skill_dur=void 0,this.ring_radius=void 0,this.ring_count=void 0,this.ring_inv=void 0,this.ring_order=void 0,this.ring_offset=void 0,this.ring_rot=void 0,this.single_ring_count=void 0,this.single_ring_radius=void 0,this.light_bullet_count=void 0,this.light_ring_count=void 0,this.boss_light_hp_rate=void 0,this.hole_level_dist=void 0,this.user_boss_limit_dist=void 0,this.daren_boss_limit_dist=void 0};i.isConst=!0,i.path="config/PindaoGameConst",i.extPath=void 0,i.data=null}(o||(o=i("PindaoGameConst",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PindaoLevelConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("PindaoLevelConfig",void 0),o._RF.push({},"028bdF2o4ZMaJ0FgDVb4a3K","PindaoLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.name=void 0,this.view=void 0,this.weapon=void 0,this.bg=void 0,this.player=void 0,this.ad=void 0,this.outline=void 0,this.undefined=void 0,this.player_view=void 0,this.bullet_view=void 0,this.atk=void 0,this.hp=void 0,this.count=void 0,this.speed=void 0,this.scroll=void 0,this.push=void 0,this.cd=void 0,this.accum=void 0,this.hole=void 0,this.pause=void 0,this.bgm=void 0};i.isConst=!1,i.path="config/PindaoLevelConfig",i.extPath="config/PindaoLevelConfig@player",i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("PindaoLevelConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/PindaoQuestConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("PindaoQuestConfig",void 0),t._RF.push({},"e42b1NuroNEYLD7unWujQKG","PindaoQuestConfig",void 0),function(i){i.config=function(){this.id=void 0,this.question=void 0,this.a=void 0,this.b=void 0,this.a_img=void 0,this.b_img=void 0,this.tf_a=void 0,this.tf_b=void 0,this.answer=void 0};i.isConst=!1,i.path="config/PindaoQuestConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("PindaoQuestConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PindaoRoleConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var n;i("PindaoRoleConfig",void 0),o._RF.push({},"20b31SovGpBM4VmIiJyymJP","PindaoRoleConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.url=void 0,this.path=void 0,this.bundle=void 0,this.scale=void 0};i.isConst=!1,i.path="config/PindaoRoleConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("PindaoRoleConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/PindaoTalentConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("PindaoTalentConfig",void 0),t._RF.push({},"ff69a0b6zhAGJw4poAqqJhX","PindaoTalentConfig",void 0),function(i){i.config=function(){this.id=void 0,this.attr=void 0,this.trigger=void 0,this.brick=void 0,this.toast=void 0,this.drop=void 0,this.desc=void 0};i.isConst=!1,i.path="config/PindaoTalentConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("PindaoTalentConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/pkFloat.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,l,a,p,s,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.SpriteFrame,p=e.Animation,s=e.Label,u=e.Sprite,c=e.Component}],execute:function(){var b,h,f,g,m,y,_,d,z,w,F,v,C,k,I,D,S;o._RF.push({},"b6f79iXasJM4IN3SMHhTDXu","pkFloat",void 0);var H=l.ccclass,L=l.property;e("pkFloat",(b=H("pkFloat"),h=L(a),f=L(a),g=L(a),m=L(a),y=L(a),_=L(a),d=L(a),b((F=t((w=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"crit_sprite",F,n(t)),r(t,"counter_sprite",v,n(t)),r(t,"attack_sprite",C,n(t)),r(t,"heal_sprite",k,n(t)),r(t,"dizzy_sprite",I,n(t)),r(t,"combo_sprite",D,n(t)),r(t,"dodge_sprite",S,n(t)),t}i(t,e);var o=t.prototype;return o.start=function(){var e=this;this.getComponent(p).on(p.EventType.FINISHED,(function(){e.node.destroy()}))},o.update=function(e){},o.showNum=function(e){this.getComponentInChildren(s).string=e.toFixed(0)},o.showChar=function(e){this.getComponentInChildren(s).string="",this.getComponentInChildren(u).spriteFrame=this[e+"_sprite"]},t}(c)).prototype,"crit_sprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(w.prototype,"counter_sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(w.prototype,"attack_sprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(w.prototype,"heal_sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(w.prototype,"dizzy_sprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(w.prototype,"combo_sprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(w.prototype,"dodge_sprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=w))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./AliPlatform.ts","./Android233Platform.ts","./DefaultPlatform.ts","./IOSPlatform.ts","./KSPlatform.ts","./MYPlatform.ts","./OppoPlatform.ts","./SDK.ts","./TTPlatform.ts","./VivoPlatform.ts","./WXPlatform.ts"],(function(t){var n,e,r,a,s,o,i,f,l,c,u,_,I,m,P,A,M;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t.sys},function(t){o=t.YT},function(t){i=t.default},function(t){f=t.default},function(t){l=t.default},function(t){c=t.default},function(t){u=t.default},function(t){_=t.default},function(t){I=t.default},function(t){m=t.default},function(t){P=t.default},function(t){A=t.default},function(t){M=t.default}],execute:function(){a._RF.push({},"fa168qa2JFA/rr8r3eGm+MS","Platform",void 0),t("default",function(){function t(){}return t.createInst=function(){switch(s.platform){case s.Platform.WECHAT_GAME:this._inst||(window.ks?this._inst=new u:this._inst=new M);break;case s.Platform.BYTEDANCE_MINI_GAME:this._inst||(this._inst=new P);break;case s.Platform.IOS:this._inst||(this._inst=new c);break;case s.Platform.OPPO_MINI_GAME:this._inst||(this._inst=new I);break;case s.Platform.ALIPAY_MINI_GAME:this._inst||(this._inst=new i);break;case s.Platform.TAOBAO_MINI_GAME:this._inst||(this._inst=new _);break;case s.Platform.VIVO_MINI_GAME:this._inst||(this._inst=new A);break;case s.Platform.ANDROID:this._inst||(this._inst=new f);break;default:this._inst||(this._inst=new l)}},t.init=function(){var n=e(r().mark((function n(e){var a,i,f;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("当前平台",s.Platform[s.platform]),a=e[s.platform],window.ks&&(a=e.KS_MINI_GAME),console.log("当前平台cfg",a),o.isGM&&console.error("注意！！！当前版本为免广告版本！！！！！仅供测试！！！"),a||(console.error("未配置平台参数,请在platform/platform.json 配置 当前："+s.platform),a=e.DEFAULT),i=a.appId,f=a.gameVersion,t.Inst.init(a),n.t0=s.platform,n.next=n.t0===s.Platform.WECHAT_GAME?12:n.t0===s.Platform.BYTEDANCE_MINI_GAME?17:n.t0===s.Platform.OPPO_MINI_GAME?22:n.t0===s.Platform.VIVO_MINI_GAME||n.t0===s.Platform.ALIPAY_MINI_GAME?23:n.t0===s.Platform.MOBILE_BROWSER||n.t0===s.Platform.DESKTOP_BROWSER?26:n.t0===s.Platform.IOS||n.t0===s.Platform.ANDROID?33:34;break;case 12:return m.CreateInstance(m,i,f),n.next=15,t.Inst.login(!0);case 15:return o.dataSdk.Init(1),n.abrupt("break",35);case 17:return m.CreateInstance(m,i,f),n.next=20,t.Inst.login(!0);case 20:return o.dataSdk.Init(1),n.abrupt("break",35);case 22:return n.abrupt("break",35);case 23:return n.next=25,t.Inst.login(!1);case 25:return n.abrupt("break",35);case 26:return window.__GM=1,m.CreateInstance(m,i,f),n.next=30,t.Inst.login(!1);case 30:return n.next=32,m.Inst.getRemoteCfg();case 32:case 33:case 34:return n.abrupt("break",35);case 35:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),n(t,null,[{key:"Inst",get:function(){return this._inst||this.createInst(),this._inst}}]),t}())._inst=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var e,o,n,r,s,c;return{setters:[function(t){e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){n=t.cclegacy,r=t.Pool,s=t.instantiate},function(t){c=t.YT}],execute:function(){n._RF.push({},"3cc6al1c9REO61q0aOtra7G","PoolManager",void 0),t("default",function(){function t(){}return t.getNode=function(t,e){void 0===e&&(e="qjcj");var o=this.pools.get(t);if(!o&&t){var n=c.res.get(t,e);o=new r((function(){return s(n)}),20),this.pools.set(t,o)}if(!o)return console.error("pool not found",t),null;var i=o.alloc();return i.active=!0,i},t.putNode=function(t,e){var o=this.pools.get(t);o&&(e.setPosition(0,1e7),e.removeFromParent(),o.free(e))},t.addPool=function(){var t=e(o().mark((function t(e,n){var i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n="qjcj"),i=this.pools.get(e)){t.next=8;break}return t.next=5,c.res.loadAsync(e,n);case 5:a=c.res.get(e,n),i=new r((function(){return s(a)}),20),this.pools.set(e,i);case 8:case"end":return t.stop()}}),t,this)})));return function(e,o){return t.apply(this,arguments)}}(),t.clearPool=function(){this.pools.forEach((function(t){return t.destroy()})),this.pools.clear()},t.playEffect=function(t,e,o,n){},t}()).pools=new Map,n._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePool.ts","./util.ts"],(function(t){var e,n,r,o,i,a,s,u;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime,r=t.createClass},function(t){o=t.cclegacy,i=t.director},function(t){a=t.ERemoveMode,s=t.default},function(t){u=t.default}],execute:function(){o._RF.push({},"737dfWGtCBLr7u20Etw8bHJ","PoolManager",void 0),t("default",function(){function t(){this.map={},globalThis.pool=this}var o=t.prototype;return o.clear=function(){for(var t in this.map){this.map[t].clear()}this.map={}},o.getPool=function(t,r,o,c,l){var f;void 0===r&&(r="game"),void 0===o&&(o="prefab"),void 0===c&&(c=a.invisible),void 0===l&&(l=i.getScene());var p=this.map[t]||new s(e(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.dynamicLoadInst(r,o+"/"+t,!1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),20,c,!1,-1,l);return(f=this.map)[t]||(f[t]=p),p},o.returnToPool=function(t){var e=this.map[t.name];e&&e.return(t)},r(t,null,[{key:"inst",get:function(){return this._inst=this._inst||new t,this._inst}}]),t}())._inst=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./SdmEffectConfig.ts","./GameUtils.ts"],(function(t){var e,n,o,r,i,s,a,c,u;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t.Pool,i=t.instantiate,s=t.Animation},function(t){a=t.YT},function(t){c=t.SdmEffectConfig},function(t){u=t.GameUtils}],execute:function(){o._RF.push({},"f2aa9DetddAj46xqn53T98O","PoolManager",void 0),t("default",function(){function t(){}return t.getNode=function(t,e){void 0===e&&(e="sdm");var n=this.pools.get(t);if(!n&&t){var o=a.res.get(t,e);o||console.error(e+"-"+t+" not found"),n=new r((function(){return i(o)}),20),this.pools.set(t,n)}if(!n)return console.error("pool not found",t),null;var s=n.alloc();return s.active=!0,s},t.createNode=function(t,e){void 0===e&&(e="sdm");var n=a.res.get(t,e);if(!n)return console.error(e+"-"+t+" not found"),null;var o=i(n);return o.active=!0,o},t.putNode=function(t,e){var n=this.pools.get(t);n&&(e.setPosition(0,1e7),e.removeFromParent(),n.free(e))},t.addPool=function(){var t=e(n().mark((function t(e,o,s){var c,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o="sdm"),void 0===s&&(s=20),c=this.pools.get(e)){t.next=10;break}return t.next=6,a.res.loadAsync(e,o);case 6:(u=a.res.get(e,o))||console.error(o+"-"+e+" not found"),c=new r((function(){return i(u)}),s),this.pools.set(e,c);case 10:case"end":return t.stop()}}),t,this)})));return function(e,n,o){return t.apply(this,arguments)}}(),t.clearPool=function(){this.pools.forEach((function(t){return t.destroy()})),this.pools.clear()},t.playEffect=function(t,e,n){var o=this,r=this.getNode(t);r.parent=n,r.active=!0,r.setWorldPosition(e),u.setLayer(r,n.layer);var i=r.getComponentInChildren(s);return i&&(i.once(s.EventType.FINISHED,(function(){o.putNode(t,r)})),i.play()),r},t.playEffectById=function(t,e,n){return this.playEffect(c.data[t].path,e,n)},t}()).pools=new Map,o._RF.pop()}}}));

System.register("chunks:///_virtual/PosTipsLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleState.ts"],(function(i){var s,t,e,o,a,n,p,h,r,d,l,_,c;return{setters:[function(i){s=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,n=i._decorator,p=i.Node,h=i.Vec3,r=i.Size,d=i.math,l=i.tween,_=i.Component},function(i){c=i.BattleState}],execute:function(){var m,y,u,v,C,z,G;a._RF.push({},"ee061/XBKRB6qj6X6M7vMIC","PosTipsLayer",void 0);var f=n.ccclass,T=n.property,x=(i("PosTipsLayer",(m=f("PosTipsLayer"),y=T({type:p,displayName:"提示基地节点",visible:!0}),u=T({type:p,displayName:"提示道具节点",visible:!0}),m((z=s((C=function(i){function s(){for(var s,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return s=i.call.apply(i,[this].concat(a))||this,e(s,"_tipsCampNode",z,o(s)),e(s,"_tipsGoodsNode",G,o(s)),s._isInBattle=void 0,s._isTipsGoodsPos=void 0,s._tipsGoodsPos=new h,s._isPlayTipsAni=void 0,s._sizeCamp=void 0,s._sizeGoods=void 0,s}t(s,i);var a=s.prototype;return a.onLoad=function(){this._isInBattle=!1,this._sizeCamp=new r;var i=this._tipsCampNode.uiTransform.contentSize.width,s=this._tipsCampNode.uiTransform.contentSize.height;this._tipsCampNode.getScale(x),this._sizeCamp.set(i*x.x,s*x.y),this._sizeGoods=new r,i=this._tipsGoodsNode.uiTransform.contentSize.width,s=this._tipsGoodsNode.uiTransform.contentSize.height,this._tipsGoodsNode.getScale(x),this._sizeGoods.set(i*x.x,s*x.y)},a.enter=function(){this._isInBattle=!0},a.leave=function(){this._isInBattle=!1},a.logicUpdate=function(i){this._isInBattle&&(this._updateCampTips(i),this._updateTipsGoods(i))},a._updateCampTips=function(i){var s=c.ins.control.roleMgr.campBuilding;if(c.ins.control.view.mapLayer.posIsInScreen(s.pos))this._tipsCampNode.active=!1;else{this._tipsCampNode.active=!0,x.set(s.pos.x,s.pos.y);var t=c.ins.control.view.mapLayer.REAL_SCENE_RECT;x.x=d.clamp(x.x,t.xMin+this._sizeCamp.width/2,t.xMax-this._sizeCamp.width/2),x.y=d.clamp(x.y,t.yMin+this._sizeCamp.height/2,t.yMax-this._sizeCamp.height/2),this._tipsCampNode.setWorldPosition(x)}},a._updateTipsGoods=function(i){if(!this._isPlayTipsAni&&this._isTipsGoodsPos){N.set(this._tipsGoodsPos);var s=c.ins.control.view.mapLayer.REAL_SCENE_RECT;N.x=d.clamp(N.x,s.xMin+this._sizeCamp.width/2,s.xMax-this._sizeCamp.width/2),N.y=d.clamp(N.y,s.yMin+this._sizeCamp.height/2,s.yMax-this._sizeCamp.height/2),this._tipsGoodsNode.setWorldPosition(N)}},a.tipsGoods=function(i){var s=this;this._isTipsGoodsPos=!0,this._tipsGoodsPos.set(i.x,i.y+this._sizeGoods.height/2+80),this._tipsGoodsNode.active=!0,N.set(i);var t=c.ins.control.view.mapLayer.REAL_SCENE_RECT;N.x=d.clamp(N.x,t.xMin+this._sizeGoods.width/2,t.xMax-this._sizeGoods.width/2),N.y=d.clamp(N.y,t.yMin+this._sizeGoods.height/2,t.yMax-this._sizeGoods.height/2),this._isPlayTipsAni=!0,l(this._tipsGoodsNode).delay(.3).to(.3,{worldPosition:N}).call((function(){s._isPlayTipsAni=!1})).start()},a.cancelTipsGoods=function(){this._isTipsGoodsPos=!1,this._tipsGoodsNode.active=!1},s}(_)).prototype,"_tipsCampNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=s(C.prototype,"_tipsGoodsNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v)),new h),N=new h;a._RF.pop()}}}));

System.register("chunks:///_virtual/PropCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst.ts","./ZDGameState.ts","./RoleShadowCmp.ts"],(function(e){var t,i,n,r,o,a,p,s,c,l,u,h,_,d,y,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){p=e.cclegacy,s=e._decorator,c=e.Sprite,l=e.Label,u=e.SpriteFrame},function(e){h=e.ViewUtil},function(e){_=e.UIHelper},function(e){d=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE},function(e){f=e.ZDGameState},function(e){m=e.RoleShadowCmp}],execute:function(){var w,b,v,S,g,x,R,T,C,F,P,D,z;p._RF.push({},"1cf50aGaYtCw6Io6DxdBlwg","PropCmp",void 0);var L=s.ccclass,N=s.property;e("PropCmp",(w=L("PropCmp"),b=N({type:c,displayName:"图标",visible:!0}),v=N({type:c,displayName:"阴影",visible:!0}),S=N({type:l,displayName:"数量",visible:!0}),g=N({type:c,displayName:"类型文本图",visible:!0}),x=N({type:[u],displayName:"类型文本列表",visible:!0}),w((C=t((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_icon",C,r(t)),n(t,"_shadow",F,r(t)),n(t,"_cntLab",P,r(t)),n(t,"_typeTextSpr",D,r(t)),n(t,"_typeTextSprFrames",z,r(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.PROP,y);e.parent=f.runtime.ui.propRoot;var i=e.getComponent(t);return i._init(),i};var p=t.prototype;return p._init=function(){this._setShadowNode(this._shadow.node)},p.setIconRes=function(e){_.changeSpriteFrame(e,y,this._icon),this._icon.node.active=!0,this._viewRoot.active=!1},p.setModelView=function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._icon.node.active=!1,this._viewRoot.active=!0,e.next=4,h.createPrefabNodeAsync(t,y);case 4:e.sent.parent=this._viewRoot;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),p.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},p.showView=function(){e.prototype.showView.call(this),this.node.parent=f.runtime.ui.propRoot},p.setShadowVisible=function(e){this._shadow.node.active=e},p.setCntView=function(e,t){3==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[0]):4==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[1]):this._typeTextSpr.node.active=!1,this._cntLab.node.active=!0,this._cntLab.string=t},p.hideCntView=function(){this._cntLab.node.active=!1},t}(m)).prototype,"_icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(T.prototype,"_shadow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(T.prototype,"_cntLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(T.prototype,"_typeTextSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(T.prototype,"_typeTextSprFrames",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=T))||R));p._RF.pop()}}}));

System.register("chunks:///_virtual/PropCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst3.ts","./ZDGameState3.ts","./RoleShadowCmp3.ts"],(function(e){var t,i,n,r,o,a,p,s,c,l,u,h,_,d,y,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){p=e.cclegacy,s=e._decorator,c=e.Sprite,l=e.Label,u=e.SpriteFrame},function(e){h=e.ViewUtil},function(e){_=e.UIHelper},function(e){d=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE},function(e){f=e.ZDGameState3},function(e){m=e.RoleShadowCmp3}],execute:function(){var b,v,w,S,g,x,R,T,F,C,P,L,N;p._RF.push({},"82145afQilNkqLOXlqudFxx","PropCmp3",void 0);var z=s.ccclass,D=s.property;e("PropCmp3",(b=z("PropCmp3"),v=D({type:c,displayName:"图标",visible:!0}),w=D({type:c,displayName:"阴影",visible:!0}),S=D({type:l,displayName:"数量",visible:!0}),g=D({type:c,displayName:"类型文本图",visible:!0}),x=D({type:[u],displayName:"类型文本列表",visible:!0}),b((F=t((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_icon",F,r(t)),n(t,"_shadow",C,r(t)),n(t,"_cntLab",P,r(t)),n(t,"_typeTextSpr",L,r(t)),n(t,"_typeTextSprFrames",N,r(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.PROP,y);e.parent=f.runtime.ui.propRoot;var i=e.getComponent(t);return i._init(),i};var p=t.prototype;return p._init=function(){this._setShadowNode(this._shadow.node)},p.setIconRes=function(e){_.changeSpriteFrame(e,y,this._icon),this._icon.node.active=!0,this._viewRoot.active=!1},p.setModelView=function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._icon.node.active=!1,this._viewRoot.active=!0,e.next=4,h.createPrefabNodeAsync(t,y);case 4:e.sent.parent=this._viewRoot;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),p.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},p.showView=function(){e.prototype.showView.call(this),this.node.parent=f.runtime.ui.propRoot},p.setShadowVisible=function(e){this._shadow.node.active=e},p.setCntView=function(e,t){3==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[0]):4==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[1]):this._typeTextSpr.node.active=!1,this._cntLab.node.active=!0,this._cntLab.string=t},p.hideCntView=function(){this._cntLab.node.active=!1},t}(m)).prototype,"_icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(T.prototype,"_shadow",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(T.prototype,"_cntLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(T.prototype,"_typeTextSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(T.prototype,"_typeTextSprFrames",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=T))||R));p._RF.pop()}}}));

System.register("chunks:///_virtual/PropCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst4.ts","./ZDGameState4.ts","./RoleShadowCmp4.ts"],(function(e){var t,i,n,r,o,a,p,s,c,l,u,h,_,d,y,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){p=e.cclegacy,s=e._decorator,c=e.Sprite,l=e.Label,u=e.SpriteFrame},function(e){h=e.ViewUtil},function(e){_=e.UIHelper},function(e){d=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE},function(e){f=e.ZDGameState4},function(e){m=e.RoleShadowCmp4}],execute:function(){var b,v,w,S,g,x,C,R,T,F,P,z,D;p._RF.push({},"a2d951x9C1CjpC6abozS8a1","PropCmp4",void 0);var L=s.ccclass,N=s.property;e("PropCmp4",(b=L("PropCmp4"),v=N({type:c,displayName:"图标",visible:!0}),w=N({type:c,displayName:"阴影",visible:!0}),S=N({type:l,displayName:"数量",visible:!0}),g=N({type:c,displayName:"类型文本图",visible:!0}),x=N({type:[u],displayName:"类型文本列表",visible:!0}),b((T=t((R=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_icon",T,r(t)),n(t,"_shadow",F,r(t)),n(t,"_cntLab",P,r(t)),n(t,"_typeTextSpr",z,r(t)),n(t,"_typeTextSprFrames",D,r(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.PROP,y);e.parent=f.runtime.ui.propRoot;var i=e.getComponent(t);return i._init(),i};var p=t.prototype;return p._init=function(){this._setShadowNode(this._shadow.node)},p.setIconRes=function(e){_.changeSpriteFrame(e,y,this._icon),this._icon.node.active=!0,this._viewRoot.active=!1},p.setModelView=function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._icon.node.active=!1,this._viewRoot.active=!0,e.next=4,h.createPrefabNodeAsync(t,y);case 4:e.sent.parent=this._viewRoot;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),p.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},p.showView=function(){e.prototype.showView.call(this),this.node.parent=f.runtime.ui.propRoot},p.setShadowVisible=function(e){this._shadow.node.active=e},p.setCntView=function(e,t){3==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[0]):4==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[1]):this._typeTextSpr.node.active=!1,this._cntLab.node.active=!0,this._cntLab.string=t},p.hideCntView=function(){this._cntLab.node.active=!1},t}(m)).prototype,"_icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(R.prototype,"_shadow",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(R.prototype,"_cntLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(R.prototype,"_typeTextSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(R.prototype,"_typeTextSprFrames",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=R))||C));p._RF.pop()}}}));

System.register("chunks:///_virtual/PropCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst5.ts","./ZDGameState5.ts","./RoleShadowCmp5.ts"],(function(e){var t,i,n,r,o,a,p,s,c,l,u,h,_,d,y,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){p=e.cclegacy,s=e._decorator,c=e.Sprite,l=e.Label,u=e.SpriteFrame},function(e){h=e.ViewUtil},function(e){_=e.UIHelper},function(e){d=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE},function(e){f=e.ZDGameState5},function(e){m=e.RoleShadowCmp5}],execute:function(){var v,b,w,S,g,x,R,T,F,P,C,D,N;p._RF.push({},"d93eaXlF95NPKnM3uv3xDQk","PropCmp5",void 0);var z=s.ccclass,L=s.property;e("PropCmp5",(v=z("PropCmp5"),b=L({type:c,displayName:"图标",visible:!0}),w=L({type:c,displayName:"阴影",visible:!0}),S=L({type:l,displayName:"数量",visible:!0}),g=L({type:c,displayName:"类型文本图",visible:!0}),x=L({type:[u],displayName:"类型文本列表",visible:!0}),v((F=t((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_icon",F,r(t)),n(t,"_shadow",P,r(t)),n(t,"_cntLab",C,r(t)),n(t,"_typeTextSpr",D,r(t)),n(t,"_typeTextSprFrames",N,r(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.PROP,y);e.parent=f.runtime.ui.propRoot;var i=e.getComponent(t);return i._init(),i};var p=t.prototype;return p._init=function(){this._setShadowNode(this._shadow.node)},p.setIconRes=function(e){_.changeSpriteFrame(e,y,this._icon),this._icon.node.active=!0,this._viewRoot.active=!1},p.setModelView=function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._icon.node.active=!1,this._viewRoot.active=!0,e.next=4,h.createPrefabNodeAsync(t,y);case 4:e.sent.parent=this._viewRoot;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),p.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},p.showView=function(){e.prototype.showView.call(this),this.node.parent=f.runtime.ui.propRoot},p.setShadowVisible=function(e){this._shadow.node.active=e},p.setCntView=function(e,t){3==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[0]):4==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[1]):this._typeTextSpr.node.active=!1,this._cntLab.node.active=!0,this._cntLab.string=t},p.hideCntView=function(){this._cntLab.node.active=!1},t}(m)).prototype,"_icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(T.prototype,"_shadow",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(T.prototype,"_cntLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(T.prototype,"_typeTextSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(T.prototype,"_typeTextSprFrames",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=T))||R));p._RF.pop()}}}));

System.register("chunks:///_virtual/PropCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst6.ts","./ZDGameState6.ts","./RoleShadowCmp6.ts"],(function(e){var t,i,n,r,o,a,p,s,c,l,u,h,_,d,y,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){p=e.cclegacy,s=e._decorator,c=e.Sprite,l=e.Label,u=e.SpriteFrame},function(e){h=e.ViewUtil},function(e){_=e.UIHelper},function(e){d=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE},function(e){f=e.ZDGameState6},function(e){m=e.RoleShadowCmp6}],execute:function(){var w,v,b,S,g,T,x,R,P,C,F,D,z;p._RF.push({},"cde7763Zh5D4ZPhvWwHTHaw","PropCmp6",void 0);var L=s.ccclass,N=s.property;e("PropCmp6",(w=L("PropCmp6"),v=N({type:c,displayName:"图标",visible:!0}),b=N({type:c,displayName:"阴影",visible:!0}),S=N({type:l,displayName:"数量",visible:!0}),g=N({type:c,displayName:"类型文本图",visible:!0}),T=N({type:[u],displayName:"类型文本列表",visible:!0}),w((P=t((R=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_icon",P,r(t)),n(t,"_shadow",C,r(t)),n(t,"_cntLab",F,r(t)),n(t,"_typeTextSpr",D,r(t)),n(t,"_typeTextSprFrames",z,r(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.PROP,y);e.parent=f.runtime.ui.propRoot;var i=e.getComponent(t);return i._init(),i};var p=t.prototype;return p._init=function(){this._setShadowNode(this._shadow.node)},p.setIconRes=function(e){_.changeSpriteFrame(e,y,this._icon),this._icon.node.active=!0,this._viewRoot.active=!1},p.setModelView=function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._icon.node.active=!1,this._viewRoot.active=!0,e.next=4,h.createPrefabNodeAsync(t,y);case 4:e.sent.parent=this._viewRoot;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),p.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},p.showView=function(){e.prototype.showView.call(this),this.node.parent=f.runtime.ui.propRoot},p.setShadowVisible=function(e){this._shadow.node.active=e},p.setCntView=function(e,t){3==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[0]):4==e?(this._typeTextSpr.node.active=!0,this._typeTextSpr.spriteFrame=this._typeTextSprFrames[1]):this._typeTextSpr.node.active=!1,this._cntLab.node.active=!0,this._cntLab.string=t},p.hideCntView=function(){this._cntLab.node.active=!1},t}(m)).prototype,"_icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(R.prototype,"_shadow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(R.prototype,"_cntLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(R.prototype,"_typeTextSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(R.prototype,"_typeTextSprFrames",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=R))||x));p._RF.pop()}}}));

System.register("chunks:///_virtual/QJAudio.ts",["cc","./QjcjAudioConfig.ts","./YT.ts","./QJState.ts"],(function(t){var n,u,i,c;return{setters:[function(t){n=t.cclegacy},function(t){u=t.QjcjAudioConfig},function(t){i=t.YT},function(t){c=t.default}],execute:function(){n._RF.push({},"4927aCdDFRL4IgKBzWg3xht","QJAudio",void 0);t("QJAudio",function(){function t(){}return t.play=function(t){var n=u.data[t];1==n.type?i.audio.playEffectByPath(n.path,c.Inst.Bundle):i.audio.playMusicByPath(n.path,c.Inst.Bundle)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/QJBattleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ViewBase.ts","./YT.ts","./SubGameData.ts","./UI_Battle7.ts","./QJState.ts"],(function(t){var n,i,e,o,s,u,c,a,l,h,r,f,p;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,o=t.input,s=t.Input,u=t.KeyCode},function(t){c=t.GRoot,a=t.Event},function(t){l=t.ViewBase},function(t){h=t.YT},function(t){r=t.SubGameData},function(t){f=t.default},function(t){p=t.default}],execute:function(){e._RF.push({},"0ff60mcyThD5b6eh49X6Q+2","QJBattleView",void 0);t("QJBattleView",function(t){function e(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).startX=void 0,n.lastX=0,n}n(e,t);var l=e.prototype;return l._preShowAnim=function(){this.ui.m_btn_pause.onClick(this.onClickPause.bind(this)),this.ui.m_btn_setting.onClick(this.onClickSetting.bind(this)),this.ui.m_txt_path.text=r.getExtraGameTips(1101),c.inst.on(a.TOUCH_BEGIN,this.onTouchStart,this),c.inst.on(a.TOUCH_END,this.onTouchEnd,this),c.inst.on(a.TOUCH_MOVE,this.onTouchMove,this),o.on(s.EventType.KEY_DOWN,this.onKeybordKeyDown,this)},l.onKeybordKeyDown=function(t){if(h.isGM)switch(t.keyCode){case u.SPACE:h.logic.isPause?h.logic.resume():h.logic.pause()}},l._afterShowAnim=function(){},l._preHideAnim=function(){o.on(s.EventType.KEY_DOWN,this.onKeybordKeyDown,this)},l._afterHideAnim=function(){},l.onClickSetting=function(){h.logic.pause(),h.gui.showSetting((function(t){t&&h.logic.onEnterHall(),h.logic.resume()}))},l.onClickPause=function(){h.logic.Paused?h.logic.resume():h.logic.pause()},l.onTouchStart=function(t){h.logic.Paused||(console.log("started"),this.startX=t.pos.x,this.lastX=t.pos.x)},l.onTouchMove=function(t){h.logic.Paused||p.Inst.updatable&&(p.Inst.root.moveCannon(t.pos.x-this.lastX),this.lastX=t.pos.x)},l.onTouchEnd=function(t){h.logic.Paused||(this.lastX=0)},l.updateEnemyHp=function(){this.ui.m_enemyHp.max=p.Inst.root.enemyHome.maxHp,this.ui.m_enemyHp.value=p.Inst.root.enemyHome.hp},i(e,null,[{key:"instance",get:function(){return this._getInstance(e,f)}}]),e}(l));e._RF.pop()}}}));

System.register("chunks:///_virtual/QjcjAudioConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("QjcjAudioConfig",void 0),t._RF.push({},"6791fasWjxFvJ/bFQkaIAF9","QjcjAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/QjcjAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("QjcjAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/qjcjBinder.ts",["cc","./fairygui.mjs","./UI_End.ts","./UI_normal_btn_ad4.ts","./UI_normal_btn22.ts","./UI_Battle7.ts","./UI_iconBtn2.ts"],(function(t){var n,e,i,u,c,o,s;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){i=t.default},function(t){u=t.default},function(t){c=t.default},function(t){o=t.default},function(t){s=t.default}],execute:function(){n._RF.push({},"b1a7f6dDX9K0JYA6otMHPZh","qjcjBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(i.URL,i),e.setExtension(u.URL,u),e.setExtension(c.URL,c),e.setExtension(o.URL,o),e.setExtension(s.URL,s)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/QjcjEnemyConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){var i;n("QjcjEnemyConfig",void 0),t._RF.push({},"6ce82KnG19P77URLIkataew","QjcjEnemyConfig",void 0),function(n){n.config=function(){this.id=void 0,this.path=void 0,this.atk=void 0,this.hp=void 0};n.isConst=!1,n.path="config/QjcjEnemyConfig",n.extPath=void 0,n.data=null,n.dataList=null,n.lastData=null}(i||(i=n("QjcjEnemyConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/QjcjLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("QjcjLevelConfig",void 0),t._RF.push({},"7cd215sT8lCYbriDig0rskb","QjcjLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.speed=void 0,this.ad=void 0,this.outline=void 0,this.level_path=void 0,this.spawn_id=void 0,this.roles=void 0,this.born_cd=void 0};i.isConst=!1,i.path="config/QjcjLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("QjcjLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/QjcjRoleConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("QjcjRoleConfig",void 0),t._RF.push({},"ed33eX92jZD2K12fC+1JQv/","QjcjRoleConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.anim=void 0,this.atk=void 0,this.hp=void 0};i.isConst=!1,i.path="config/QjcjRoleConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("QjcjRoleConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/QjcjSpawnConfig.ts",["cc"],(function(n){var i;return{setters:[function(n){i=n.cclegacy}],execute:function(){var t;n("QjcjSpawnConfig",void 0),i._RF.push({},"bee56zVgiFIBqMyhjOe/enY","QjcjSpawnConfig",void 0),function(n){n.config=function(){this.id=void 0,this.name=void 0,this.timer=void 0,this.enemy=void 0,this.enemy_count=void 0};n.isConst=!1,n.path="config/QjcjSpawnConfig",n.extPath=void 0,n.data=null,n.dataList=null,n.lastData=null}(t||(t=n("QjcjSpawnConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/QJEndView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./QJState.ts","./QjcjLevelConfig.ts","./UI_End.ts"],(function(t){var n,e,i,o,r,s,a,c,u,h;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.ViewBase},function(t){a=t.YT},function(t){c=t.default},function(t){u=t.QjcjLevelConfig},function(t){h=t.default}],execute:function(){r._RF.push({},"c4565QPWxJD1pZHrh3E+21w","QJEndView",void 0);t("QJEndView",function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var s=r.prototype;return s._preShowAnim=function(){var t=this._uiParam;this.ui.m_win.selectedIndex=t.isWin?1:0,this.ui.m_txt_damage.text=t.totalDamage.toString()+"",this.ui.m_txt_timer.text=Math.floor(t.time).toHHMMSSCN(),this.ui.m_txt_score.text=(100*t.pro).toFixedFloat(2)+"%",this.ui.m_adBtn.onClick(this.retry,this),this.ui.m_noBtn.onClick(this.onBack,this),this.ui.m_btnNext.onClick(this.onNext,this)},s.retry=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.game.watchAD("全军-重开");case 2:if(!t.sent){t.next=5;break}this.hide(),a.logic.onRestartGame(1101,c.Inst.levelConfig.id);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onBack=function(){this.hide(),a.logic.onEnterHall()},s.onNext=function(){this.hide();var t=Math.min(c.Inst.levelConfig.id,u.dataList.length);a.logic.onEnterMoreGame(1101,t)},s._afterShowAnim=function(){},s._preHideAnim=function(){},s._afterHideAnim=function(){},e(r,null,[{key:"instance",get:function(){return this._getInstance(r,h)}}]),r}(s));r._RF.pop()}}}));

System.register("chunks:///_virtual/QJEnemySpawner.ts",["cc","./QjcjSpawnConfig.ts","./QJRole.ts"],(function(t){var n,e,s,i;return{setters:[function(t){n=t.cclegacy,e=t._decorator},function(t){s=t.QjcjSpawnConfig},function(t){i=t.QJRole}],execute:function(){n._RF.push({},"21e198ZLgtCYqKJN0Gf/2xO","QJEnemySpawner",void 0);e.ccclass,e.property,t("QJEnemySpawner",function(){function t(){this.cfg=void 0,this.enemyTimer=0,this.spawnIndex=0,this.spawnStep=0,this.spawnCount=0,this.stoped=!1,this.root=void 0,this.roadIndex=0}var n=t.prototype;return n.init=function(t,n,e){void 0===e&&(e=0),this.root=n,this.cfg=s.data[t],this.stoped=!1,this.spawnIndex=0,this.spawnCount=0,this.spawnStep=this.cfg.timer[this.spawnIndex]/this.cfg.enemy_count[this.spawnIndex],this.enemyTimer=0,this.roadIndex=e},n._spawnEnemy=function(){var t=this.cfg.enemy[this.spawnIndex],n=i.CreateEnemy(t);this.root.enemyRoot.addChild(n.node),n.node.setSiblingIndex(0),n.startMove(this.root.getPath(!0,this.roadIndex)),this.spawnCount++,this.spawnCount>=this.cfg.enemy_count[this.spawnIndex]&&(this.spawnIndex++,this.spawnCount=0,this.spawnStep=this.cfg.timer[this.spawnIndex]/this.cfg.enemy_count[this.spawnIndex],this.cfg.enemy_count[this.spawnIndex]||(this.stoped=!0))},n.update=function(t){this.stoped||(this.enemyTimer+=t,this.enemyTimer>=this.spawnStep&&(this.enemyTimer-=this.spawnStep,this._spawnEnemy()))},n.destroy=function(){this.stoped=!0},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/QJHome.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QJTrigger.ts","./QJState.ts","./QJEndView.ts","./QJBattleView.ts"],(function(t){var e,n,i,o,r,a,s,l,c,p,u,h,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.CCInteger,l=t.CCBoolean,c=t.randomRangeInt},function(t){p=t.EColliderType,u=t.QJTrigger},function(t){h=t.default},function(t){m=t.QJEndView},function(t){y=t.QJBattleView}],execute:function(){var f,g,d,H,b,k,v,w,J;r._RF.push({},"f3b5b+z7ndKvL9MZoyxoyB6","QJHome",void 0);var Q=a.ccclass,I=a.property;t("QJHome",(f=Q("QJHome"),g=I({type:s,displayName:"血量"}),d=I({type:l,displayName:"锁血",visible:function(){return this.type==p.EnemyHome}}),H=I({type:s,displayName:"锁血",visible:function(){return this.lockHp}}),f((v=e((k=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"hp",v,o(e)),e.maxHp=0,i(e,"lockHp",w,o(e)),i(e,"lockHps",J,o(e)),e.lock=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.init(1,this.hp),this.maxHp=this.hp,this.lock=c(1,this.lockHps),console.error(this.name+"=>"+this.hp)},r.onTrigger=function(t){var e;this.hp<=this.lock||(this.onDamage(t.damage),this.type==p.EnemyHome&&(null==(e=y.instance)||e.updateEnemyHp()))},r.onDead=function(){h.Inst.onGameOver(),this.type==p.PlayerHome?(console.error("GG"),m.instance.show({isWin:!1,totalDamage:h.Inst.killCount,time:Date.now()-h.Inst.startTime,pro:.1*this.hp/this.maxHp+.9*h.Inst.killCount/h.Inst.totalCount})):this.type==p.EnemyHome&&(console.error("胜利"),m.instance.show({isWin:!0,totalDamage:h.Inst.killCount,time:Date.now()-h.Inst.startTime,pro:1}))},r.upgradeRole=function(t){},e}(u)).prototype,"hp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),w=e(k.prototype,"lockHp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=e(k.prototype,"lockHps",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=k))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/QJRole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QjcjEnemyConfig.ts","./Awaiters.ts","./PoolManager.ts","./QJState.ts","./QJTrigger.ts","./QJAudio.ts"],(function(e){var t,o,i,n,s,a,r,d,p,h,l,c,u,m,f,g,y,v,P,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.createClass,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){d=e.cclegacy,p=e._decorator,h=e.CCFloat,l=e.Vec3,c=e.v3,u=e.Animation},function(e){m=e.QjcjEnemyConfig},function(e){f=e.Awaiters},function(e){g=e.default},function(e){y=e.default},function(e){v=e.EColliderType,P=e.QJTrigger},function(e){x=e.QJAudio}],execute:function(){var C,R,w,S,E;d._RF.push({},"1065bHgWhxLL6YNarLESVks","QJRole",void 0);var T=p.ccclass,I=p.property;e("QJRole",(C=T("QJRole"),R=I({type:h,displayName:"初始加速",visible:function(){return this.type==v.Player}}),C((E=t((S=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(t,"shootTime",E,n(t)),t.pathPos=[],t.ignores=[],t.topos=void 0,t.moveSpeed=50,t.ropeTime=0,t.moveIndex=0,t.speedUpRate=0,t.exSpeed=0,t.damageCd=.2,t.exitPos=void 0,t}o(t,e),t.CreateEnemy=function(e){var o=m.data[e],i=g.getNode(o.path).getComponent(t);return i.init(o.atk,o.hp),i},t.CreatePlayer=function(){var e=y.Inst.spawner.roleConfig,o=g.getNode(e.path),i=o.getComponent(t);return i.init(e.atk,e.hp),y.Inst.root.playerRoot.addChild(o),i.playAnim(e.anim),i};var d=t.prototype;return d.start=function(){},d._update=function(e){if(this.ropeTime>0&&(this.ropeTime-=e,this.exitPos&&(this.node.angle_z+=20,this.node.setScale(l.ONE.clone().multiplyScalar(Math.max(0,400-this.node.angle_z)/400)))),this.damageCd>0&&(this.damageCd-=e),this.ropeTime<0&&this.exitPos&&this.exitRope(),this.topos){var t=this.topos.clone().subtract(this.node.worldPosition).normalize();this.speedUpRate>0&&(this.speedUpRate-=e,this.speedUpRate<0&&(this.speedUpRate=0));var o=t.multiplyScalar((this.moveSpeed+this.exSpeed)*(1+15*this.speedUpRate)*e);this.node.setWorldPosition(this.node.worldPosition.clone().add(o)),l.distance(this.topos,this.node.worldPosition)<10&&(this.moveIndex+=1,this.topos=this.pathPos[this.moveIndex],this.exSpeed=0)}},d.startMove=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=0),this.moveSpeed=y.Inst.levelConfig.speed,this.pathPos=e,this.moveIndex=1,this.speedUpRate=t,this.topos=this.pathPos[this.moveIndex],this.exSpeed=o},d.onTrigger=function(e){this.isDead||e.type!=v.Player&&e.type!=v.PlayerHome&&e.type!=v.Enemy&&e.type!=v.EnemyHome||this.onDamage(e.damage)},d.upgrateProps=function(e,t){this.hp=t,this.damage=e},d.onDamage=function(t){this.damageCd<=0&&(this.damageCd=.2),e.prototype.onDamage.call(this,t),this.isDead&&this.onHit(this.colliderBox.worldPosition)},d.onDead=function(){this.node.active&&(e.prototype.onDead.call(this),this.type==v.Enemy&&(y.Inst.addkill(),x.play(3)))},d.enterRope=function(e){this.ropeTime=1;var t=e.children[0].worldPosition,o=c(t.x,t.y+50,0);t=e.children[1].worldPosition,this.exitPos=c(t.x,t.y-50,0),this.startMove([this.node.worldPosition.clone(),o],.4,50)},d.exitRope=function(){this.node.setWorldPosition(this.exitPos);var e=y.Inst.root.getPlayerEndPos(this.exitPos.clone());this.startMove([null].concat(e)),this.exitPos=null,this.node.angle_z=0,this.node.setScale(l.ONE)},d.onHit=function(){var e=a(r().mark((function e(t){var o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=g.getNode("effects/boom"),i=o.getComponent(u),y.Inst.root.effRoot.addChild(o),o.setWorldPosition(t),e.next=6,f.OnAnimEnd(i,"boom");case 6:o&&g.putNode("effects/boom",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d.onUpgrade=function(){var e=a(r().mark((function e(t){var o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=g.getNode("effects/upgrade"),i=o.getComponent(u),this.node.addChild(o),o.setWorldPosition(t),e.next=6,f.OnAnimEnd(i,"show");case 6:o&&g.putNode("effects/upgrade",o);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),d.upgradeRole=function(e){this.onUpgrade(this.node.worldPosition.clone()),this.upgrateProps(e.atk,e.hp),this.node.getComponent(u).play(e.anim),x.play(2)},d.playAnim=function(e){this.node.getComponent(u).play(e)},s(t,[{key:"isDead",get:function(){return this.hp<=0}}]),t}(P)).prototype,"shootTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=S))||w));d._RF.pop()}}}));

System.register("chunks:///_virtual/QJRope.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QJTrigger.ts"],(function(e){var r,t,n,o,i;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){o=e.EColliderType,i=e.QJTrigger}],execute:function(){var c;t._RF.push({},"c8a83fbRqVFZLM9mFE6qnhx","QJRope",void 0);var s=n.ccclass;n.property,e("QJRope",s("QJRope")(c=function(e){function t(){for(var r,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=e.call.apply(e,[this].concat(n))||this).type=o.Rope,r.players=[],r}r(t,e);var n=t.prototype;return n.onLoad=function(){this.init(0,0)},n.onTrigger=function(e){this.players.includes(e)||(this.players.push(e),null==e||e.enterRope(this.node))},t}(i))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/QJScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QJHome.ts"],(function(o){var e,i,n,t,r,h,s,a,d,l,c,m,u;return{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,t=o.assertThisInitialized},function(o){r=o.cclegacy,h=o._decorator,s=o.CCFloat,a=o.Animation,d=o.randomRange,l=o.v3,c=o.math,m=o.Component},function(o){u=o.QJHome}],execute:function(){var y,p,f,P,g;r._RF.push({},"2a485e4vatO+q91ZKpmzrg9","QJScene",void 0);var v=h.ccclass,w=h.property;o("QJScene",(y=v("QJScene"),p=w({type:s,displayName:"滑动范围"}),y((g=e((P=function(o){function e(){for(var e,i=arguments.length,r=new Array(i),h=0;h<i;h++)r[h]=arguments[h];return(e=o.call.apply(o,[this].concat(r))||this).enemyRoot=void 0,e.playerRoot=void 0,e.effRoot=void 0,e.road=void 0,e.cannon=void 0,e.cannonAnim=void 0,n(e,"halfRoadWidth",g,t(e)),e.moveRate=1,e.enemyHome=void 0,e}i(e,o);var r=e.prototype;return r.init=function(o){this.node.addChild(o),this.enemyRoot=o.getChildByName("enemies"),this.playerRoot=o.getChildByName("players"),this.road=o.getChildByName("road"),this.effRoot=o.getChildByName("eff"),this.cannon=o.getChildByName("cannon").children[0],this.cannonAnim=this.cannon.getComponent(a),this.enemyHome=o.getChildByName("enemyHome").getComponent(u)},r.getPath=function(o,e){void 0===o&&(o=!0),void 0===e&&(e=0);var i=[],n=this.road.children[e],t=n.uiTransform.contentSize,r=n.worldPosition.x+d(-t.width/2,t.width/2);return o?(i.push(this.enemyHome.node.children[0].worldPosition),i.push(l(r,n.worldPosition.y+t.height/2,0)),i.push(l(r,n.worldPosition.y-t.height/2,0)),i.push(this.playerRoot.worldPosition)):(r=this.cannon.children[0].worldPosition.x,i.push(l(this.cannon.children[0].worldPosition)),i.push(l(r,n.worldPosition.y+t.height/2,0)),i.push(l(r,this.enemyHome.node.worldPosition.y-100,0)),i.push(this.enemyHome.node.children[0].worldPosition)),i},r.getDoorPlayerPath=function(o){var e=[],i=this.road.children[0],n=i.uiTransform.contentSize;return e.push(l(o)),e.push(l(o.x,i.worldPosition.y+n.height/2,0)),e.push(this.enemyHome.node.children[0].worldPosition),e},r.getRopePlayerPath=function(o,e){var i=[],n=this.road.children[0],t=e.uiTransform.contentSize,r=e.worldPosition;return i.push(l(o)),i.push(l(r.x,e.children[0].worldPosition.y-t.height/2,0)),i.push(l(r.x,e.children[0].worldPosition.y+t.height/2,0)),i.push(l(r.x,n.worldPosition.y+n.uiTransform.contentSize.height/2,0)),i.push(l(r.x,this.enemyHome.node.worldPosition.y-100,0)),i.push(this.enemyHome.node.children[0].worldPosition),i},r.getPlayerEndPos=function(o){var e=this.road.children[0],i=e.uiTransform.contentSize;return[l(o.x,e.worldPosition.y+i.height/2,0),l(o.x,this.enemyHome.node.worldPosition.y-100,0),this.enemyHome.node.children[0].worldPosition]},r.moveCannon=function(o){var e=this.cannon.position,i=c.clamp(e.x+o*this.moveRate,-this.halfRoadWidth,this.halfRoadWidth);this.cannon.setPosition(i,e.y,e.z)},e}(m)).prototype,"halfRoadWidth",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 310}}),f=P))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/QJSpawner.ts",["cc","./QJRole.ts","./QJAudio.ts"],(function(t){var o,i,e,r;return{setters:[function(t){o=t.cclegacy,i=t._decorator},function(t){e=t.QJRole},function(t){r=t.QJAudio}],execute:function(){o._RF.push({},"de61dAymAhICZPMyMFqEQyZ","QJSpawner",void 0);i.ccclass,i.property,t("QJSpawner",function(){function t(){this.playerTimer=0,this.stoped=!1,this.root=void 0,this.cd=void 0,this.roleConfig=void 0}var o=t.prototype;return o.init=function(t,o,i){this.root=o,this.cd=t,this.stoped=!1,this.playerTimer=0,this.roleConfig=i},o._spawnPlayer=function(t){for(var o=e.CreatePlayer(),i=this.root.playerRoot.children.sort((function(t,o){return o.y-t.y})),n=0;n<i.length;n++)i[n].setSiblingIndex(i.length-1-n);this.root.cannonAnim.play();var s=this.root.getPath(!1);t||(t=this.root.cannon.children[0].worldPosition),o.node.setWorldPosition(t),o.startMove(s,o.shootTime),r.play(4)},o.update=function(t){this.stoped||(this.playerTimer+=t,this.playerTimer>=this.cd&&(this.playerTimer-=this.cd,this._spawnPlayer()))},o.destroy=function(){this.stoped=!0},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/QJState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./GameStateBase.ts","./QjcjLevelConfig.ts","./LoadingManager.ts","./LoadUIPack.ts","./qjcjBinder.ts","./QJBattleView.ts","./fairygui.mjs","./QJTriggerManager.ts","./QJScene.ts","./QJSpawner.ts","./QjcjSpawnConfig.ts","./QjcjEnemyConfig.ts","./PoolManager.ts","./QJEnemySpawner.ts","./QjcjRoleConfig.ts","./QJAudio.ts"],(function(n){var e,t,o,a,i,r,s,u,c,l,f,d,h,p,v,g,w,_,C,m,y,j,k,B,P,Q,S;return{setters:[function(n){e=n.inheritsLoose,t=n.createForOfIteratorHelperLoose,o=n.createClass,a=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){r=n.cclegacy,s=n.Prefab,u=n.Tween,c=n.instantiate},function(n){l=n.YT},function(n){f=n.GameStateBase},function(n){d=n.QjcjLevelConfig},function(n){h=n.LoadingManager},function(n){p=n.LoadUIPack},function(n){v=n.default},function(n){g=n.QJBattleView},function(n){w=n.GRoot,_=n.Event},function(n){C=n.QJTriggerManager},function(n){m=n.QJScene},function(n){y=n.QJSpawner},function(n){j=n.QjcjSpawnConfig},function(n){k=n.QjcjEnemyConfig},function(n){B=n.default},function(n){P=n.QJEnemySpawner},function(n){Q=n.QjcjRoleConfig},function(n){S=n.QJAudio}],execute:function(){r._RF.push({},"b35d4tBWA1D7oVpaKgQT09f","QJState",void 0);n("default",function(n){function r(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))||this)._viewName="Battle",e._viewPacks=["qjcj@qjcj"],e._viewBinders=[v],e._sceneBundle="qjcj",e._sceneName="Game",e._uiPacks=[],e.levelConfig=void 0,e.startTime=0,e.root=void 0,e.spawner=void 0,e.enemySpawners=void 0,e.updatable=!0,e.killCount=0,e.totalCount=0,e}e(r,n);var f=r.prototype;return f._loadUIPackage=function(){for(var n,e=[],o=t(this._viewPacks);!(n=o()).done;){var a=n.value.split("@");e.push(new p(a[1],a[0]))}return this._uiPacks=e,new Promise((function(n){h.instance.loadUIPackages((function(){n()}),e)}))},f._afterSceneLoaded=function(){var n=a(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.root=this.scene.getComponentInChildren(m);case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),f._onBindUI=function(){v.bindAll()},f._getPreloads=function(n){var e=this;n.add(this.levelConfig.level_path,this._sceneBundle,s),j.data[this.levelConfig.spawn_id[0]].enemy.forEach((function(t){n.add(k.data[t].path,e._sceneBundle,s),B.addPool(k.data[t].path,e._sceneBundle)})),this.levelConfig.roles.forEach((function(t){n.add(Q.data[t].path,e._sceneBundle,s),B.addPool(Q.data[t].path,e._sceneBundle)})),n.add("effects/boom",this._sceneBundle,s),B.addPool("effects/boom",this._sceneBundle),n.add("effects/upgrade",this._sceneBundle,s),B.addPool("effects/upgrade",this._sceneBundle)},f.otherLoadAssets=function(){var n=a(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f.onLeaveState=function(){var n=a(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f.onGameOver=function(){this.updatable=!1},f.upgradeRoles=function(n){var e=this;this.spawner.roleConfig=Q.data[n],C.Inst.Player.forEach((function(n){return null==n?void 0:n.upgradeRole(e.spawner.roleConfig)}))},f._onPreEnter=function(){var n=a(i().mark((function n(){var e=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.levelConfig=d.data[(e.length<=1?void 0:e[1])||1];case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),f._doEnterState=function(){var n=a(i().mark((function n(){var e,t=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=c(l.res.get(this.levelConfig.level_path,this._sceneBundle)),this.root.init(e),this.spawner=new y,this.enemySpawners=[],this.levelConfig.spawn_id.forEach((function(n,e){var o=new P;o.init(n,t.root,e),t.enemySpawners.push(o)})),this.spawner.init(this.levelConfig.born_cd,this.root,Q.data[this.levelConfig.roles[0]]),g.instance.show(),this.updatable=!0,this.killCount=0,this.totalCount=0,this.startTime=Date.now(),this.levelConfig.spawn_id.forEach((function(n){return j.data[n].enemy_count.forEach((function(n){return t.totalCount+=n}))})),S.play(1);case 13:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),f.update=function(n,e){var t,o;this.updatable&&(null==(t=this.spawner)||t.update(n),null==(o=this.enemySpawners)||o.forEach((function(e){return null==e?void 0:e.update(n)})))},f.addkill=function(){this.killCount++,console.log("killCount"+this.killCount)},f.lateUpdate=function(n,e){this.updatable&&C.Inst._update(n)},f._doDestroy=function(){var n,e,t;null==(n=g.instance)||n.hide(),u.stopAll(),C.Inst.clear(),B.clearPool(),null==(e=this.spawner)||e.destroy(),null==(t=this.enemySpawners)||t.forEach((function(n){return null==n?void 0:n.destroy()})),this.root.destroy(),this._uiPacks.forEach((function(n){return n.removePackage()})),this._uiPacks=[],w.inst.off(_.TOUCH_BEGIN),w.inst.off(_.TOUCH_END),w.inst.off(_.TOUCH_MOVE)},o(r,[{key:"Bundle",get:function(){return this._sceneBundle}}],[{key:"Inst",get:function(){return l.logic.state}}]),r}(f));r._RF.pop()}}}));

System.register("chunks:///_virtual/QJTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QJTriggerManager.ts"],(function(e){var t,n,r,i,o,a,c,l,u,s,p,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,c=e._decorator,l=e.Enum,u=e.Node,s=e.CCInteger,p=e.v3,g=e.Component},function(e){h=e.QJTriggerManager}],execute:function(){var y,f,d,m,T,b,v,x,B;a._RF.push({},"333a5//Vf1GdY/BbaT7DR2I","QJTrigger",void 0);var D=c.ccclass,P=c.property,E=e("EColliderType",function(e){return e[e.None=0]="None",e[e.Player=1]="Player",e[e.Enemy=2]="Enemy",e[e.Door=3]="Door",e[e.EnemyHome=4]="EnemyHome",e[e.PlayerHome=5]="PlayerHome",e[e.Rope=6]="Rope",e}({}));l(E);e("QJTrigger",(y=D("QJTrigger"),f=P({type:E,displayName:"类型"}),d=P({type:u,displayName:"碰撞体"}),m=P({type:s}),y((v=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"type",v,i(t)),r(t,"colliderBox",x,i(t)),r(t,"id",B,i(t)),t.hp=0,t.damage=0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){},a.start=function(){},a.onDamage=function(e){if(!(this.hp<=0)){console.log(this.name+"受伤-"+e+"=>"+this.hp);var t=this.hp-e;this.hp=Math.max(t,0),this.hp<=0&&this.onDead()}},a._update=function(e){},a.onTrigger=function(e){},a.onDead=function(){this.node.active=!1,this.collect()},a.collect=function(){h.Inst.removeTrigger(this)},a.init=function(e,t){this.damage=e,this.hp=t,h.Inst.addTrigger(this)},a.onMulti=function(e){},o(t,[{key:"Box",get:function(){return this.colliderBox.uiTransform.getBoundingBoxToWorld()}},{key:"centerPos",get:function(){return p(this.Box.center.x,this.Box.center.y)}}]),t}(g)).prototype,"type",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.None}}),x=t(b.prototype,"colliderBox",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(b.prototype,"id",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=b))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/QJTriggerDoor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QJTrigger.ts","./QJRole.ts","./QJState.ts"],(function(t){var e,i,o,n,r,s,a,c,l,p,h,u,y,d,g,f,m,w,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,c=t.ccenum,l=t.Label,p=t.CCInteger,h=t.Vec4,u=t.v3,y=t.Vec3,d=t.randomRangeInt,g=t.tween},function(t){f=t.EColliderType,m=t.QJTrigger},function(t){w=t.QJRole},function(t){P=t.default}],execute:function(){var v,b,_,x,T,z,M,C,D,R,k,Q,S,I,J,N,E,O,j,A;s._RF.push({},"df5e4N79hFEmrmQB51tTyd6","QJTriggerDoor",void 0);var B=a.ccclass,F=a.property,L=t("EQJTriggerType",function(t){return t[t.Multi=1]="Multi",t[t.Add=2]="Add",t[t.Minus=3]="Minus",t}({}));c(L);t("QJTriggerDoor",(v=B("TriggerDoor"),b=F({displayName:"文本",type:l}),_=F({serializable:!0}),x=F({displayName:"倍数",type:p}),T=F({serializable:!0}),z=F({displayName:"显示倍数",type:p}),M=F({serializable:!0}),C=F({displayName:"运算",type:L}),D=F({displayName:"归零后隐藏",serializable:!0,visible:function(){return this.MinusVisable}}),R=F({displayName:"移动速度",type:p}),k=F({displayName:"移动范围",type:h,visible:function(){return this.moveSpeed>0},tooltip:"以初始位置为起点，x:左/下边界，y:右/上边界，z:0横向1纵向"}),v((I=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"text",I,n(e)),o(e,"_capacity",J,n(e)),o(e,"_showCapacity",N,n(e)),o(e,"_type",E,n(e)),o(e,"hideBlock",O,n(e)),o(e,"moveSpeed",j,n(e)),o(e,"moveRange",A,n(e)),e.unitsPos=[],e.ingnores=[],e.moveIndex=1,e.movePath=[],e}i(e,t);var s=e.prototype;return s.onEnable=function(){this._resetText(),Math.abs(this.moveSpeed)>0&&(0==this.moveRange.z?this.movePath=[u(this.node.worldPosition.x+this.moveRange.x,this.node.worldPosition.y,0),u(this.node.worldPosition.x+this.moveRange.y,this.node.worldPosition.y,0)]:this.movePath=[u(this.node.worldPosition.x,this.node.worldPosition.y+this.moveRange.x,0),u(this.node.worldPosition.x,this.node.worldPosition.y+this.moveRange.y,0)])},s.onFocusInEditor=function(){},s._resetText=function(){if(this.text){var t,e;switch(t=this._showCapacity>0?this._showCapacity:this._capacity,this._type){case L.Multi:e="x";break;case L.Add:e="+";break;case L.Minus:e=t>0?"-":""}this.text.string=""+e+t}},s._update=function(t){if(this.unitsPos.length>0){var e=this.unitsPos.shift(),i=this.ingnores.shift();e&&this.genUnit(e,i)}if(this.movePath.length>0){var o=this.movePath[this.moveIndex].clone(),n=o.clone().subtract(this.node.worldPosition).normalize().multiplyScalar(this.moveSpeed*t),r=this.node.worldPosition.clone().add(n);this.node.setWorldPosition(r),y.distance(this.node.worldPosition,o)<10&&(this.moveIndex=(this.moveIndex+1)%this.movePath.length)}},s.onLoad=function(){this.init(1)},s.onTrigger=function(t){t.ignores.includes(this.node.uuid)||(console.log("onTriggerEnter door"+this.node.name+"=>"+t.node.name),t.ignores.push(this.node.uuid),t.type==f.Player&&this.checkHitDoor(t))},s.checkHitDoor=function(t){if(this.triggerType==L.Multi)for(var e=0;e<this.capacity-1;e++)this.unitsPos.push(this.getRanPos(t)),this.ingnores.push(t);else if(this.triggerType==L.Minus){if(this.capacity<=0)return;t.onDead(),this.capacity-=1,this._resetText(),this.capacity<=0&&(this.node.active=!1)}},s.getRanPos=function(t){var e=t.node.worldPosition,i=this.node,o=i.uiTransform.contentSize.width,n=i.uiTransform.contentSize.height,r=Math.floor(o/5),s=(Math.floor((e.x-i.worldPosition.x+o/2)/r)+d(1,5))%5,a=i.worldPosition.x-o/2+s*r+d(-r/3,r);return u(a,t.node.worldPosition.y+n/2,e.z)},s.genUnit=function(t,e){var i=w.CreatePlayer();i.ignores=[].concat(e.ignores),i.init(1,1),i.node.setWorldPosition(e.node.worldPosition),g(i.node).to(.2,{worldPosition:t}).call((function(){i.startMove([e.node.worldPosition.clone()].concat(P.Inst.root.getDoorPlayerPath(t)),.2)})).start()},r(e,[{key:"capacity",get:function(){return this._capacity},set:function(t){this._capacity=t}},{key:"showCapacity",get:function(){return this._showCapacity},set:function(t){this._showCapacity=t}},{key:"triggerType",get:function(){return this._type},set:function(t){this._type=t}},{key:"MinusVisable",get:function(){return this._type==L.Minus&&this._capacity>0}}]),e}(m)).prototype,"text",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(S.prototype,"_capacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e(S.prototype,"capacity",[x],Object.getOwnPropertyDescriptor(S.prototype,"capacity"),S.prototype),N=e(S.prototype,"_showCapacity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(S.prototype,"showCapacity",[z],Object.getOwnPropertyDescriptor(S.prototype,"showCapacity"),S.prototype),E=e(S.prototype,"_type",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.Multi}}),e(S.prototype,"triggerType",[C],Object.getOwnPropertyDescriptor(S.prototype,"triggerType"),S.prototype),O=e(S.prototype,"hideBlock",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=e(S.prototype,"moveSpeed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=e(S.prototype,"moveRange",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=S))||Q));s._RF.pop()}}}));

System.register("chunks:///_virtual/QJTriggerDoorReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QJTrigger.ts","./QJTriggerDoor.ts","./QJState.ts"],(function(e){var t,r,i,o,n,a,s,c,u,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.CCInteger},function(e){c=e.EColliderType},function(e){u=e.EQJTriggerType,g=e.QJTriggerDoor},function(e){p=e.default}],execute:function(){var d,h,l,y,f;n._RF.push({},"ad922KP3ZJKB4AyWGnW0p6T","QJTriggerDoorReward",void 0);var T=a.ccclass,D=a.property;e("QJTriggerDoorReward",(d=T("QJTriggerDoorReward"),h=D({displayName:"奖励",type:s}),d((f=t((y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).type=c.Door,i(t,"rewardID",f,o(t)),t}r(t,e);var n=t.prototype;return n.onEnable=function(){this._resetText()},n.onFocusInEditor=function(){},n._resetText=function(){var e;this.text&&(e=this._showCapacity>0?this._showCapacity:this._capacity,this.text.string=""+e)},n.onLoad=function(){this.init(1)},n.onTrigger=function(e){e.ignores.includes(this.node.uuid)||(console.log("onTriggerEnter door reward"+this.node.name+"=>"+e.node.name),e.ignores.push(this.node.uuid),e.type==c.Player&&this.checkHitDoor(e))},n.checkHitDoor=function(e){if(this.triggerType==u.Minus){if(this.capacity<=0)return;e.onDead(),this.capacity-=1,this._resetText(),this.capacity<=0&&(p.Inst.upgradeRoles(this.rewardID),this.node.active=!1)}},t}(g)).prototype,"rewardID",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=y))||l));n._RF.pop()}}}));

System.register("chunks:///_virtual/QJTriggerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QJTrigger.ts","./ArrayUtil.ts"],(function(e){var t,r,i,n,s;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy,i=e._decorator},function(e){n=e.EColliderType},function(e){s=e.ArrayUtil}],execute:function(){r._RF.push({},"d4b3f7B+J5EkrhyNzAv2au8","QJTriggerManager",void 0);i.ccclass,i.property;e("QJTriggerManager",function(){function e(){this._triggers=[],this._enemies=[],this._doors=[],this._players=[]}var r=e.prototype;return r.addTrigger=function(e){this._triggers.includes(e)||(this._triggers.push(e),e.type==n.Enemy||e.type==n.EnemyHome?this._enemies.push(e):e.type==n.Door||e.type==n.Rope?this._doors.push(e):e.type!=n.Player&&e.type!=n.PlayerHome||this._players.push(e))},r.removeTrigger=function(e){s.remove(this._triggers,e),e.type==n.Enemy||e.type==n.EnemyHome?s.remove(this._enemies,e):e.type==n.Door?s.remove(this._doors,e):e.type!=n.Player&&e.type!=n.PlayerHome||s.remove(this._players,e)},r.clear=function(){this._triggers.forEach((function(e){e.collect()})),this._triggers.length=0,this._enemies.length=0,this._doors.length=0,this._players.length=0},r._update=function(e){var t=this;this._triggers.forEach((function(t){t._update(e)})),this._players.forEach((function(e){e.hp<=0||(t._enemies.forEach((function(t){t.hp<=0||t.Box.intersects(e.Box)&&(t.onTrigger(e),e.onTrigger(t))})),t._doors.forEach((function(t){t.Box.intersects(e.Box)&&(t.onTrigger(e),e.onTrigger(t))})))}))},t(e,[{key:"Player",get:function(){return this._players.filter((function(e){return e.type==n.Player}))}}],[{key:"Inst",get:function(){return this._inst||(this._inst=new e)}}]),e}())._inst=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/RandomManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3e09eJBwfZBsLPqFszZLvMS","RandomManager",void 0),t("RandomManager",function(){function t(){this.seedrandom=void 0}var e=t.prototype;return e.getRandom=function(){return this.seedrandom?this.seedrandom.quick():Math.random()},e.setSeed=function(t){this.seedrandom=new Math.seedrandom(t)},e.getRandomFloat=function(t,n){return this.getRandom()*(n-t)+t},e.getRandomInt=function(t,n,e){switch(void 0===e&&(e=2),t=Math.ceil(t),n=Math.floor(n),e){case 1:return Math.floor(this.getRandom()*(n-t))+t;case 2:return Math.floor(this.getRandom()*(n-t+1))+t;case 3:return Math.floor(this.getRandom()*(n-t-1))+t+1}return 0},e.getRandomByMinMaxList=function(t,n,e){for(var o=[],a=0;a<e;a++)o.push(this.getRandomInt(t,n));return o},e.getRandomByObjectList=function(t,n){for(var e=t.slice(),o=[],a=0;a<n;a++){var r=this.getRandomInt(0,t.length,n);o.push(e.splice(r,1)[0])}return o},e.getRandomBySumList=function(t,n){for(var e=n,o=0,a=[],r=0;r<t;r++)o=this.getRandomInt(0,e,3),r==t-1?o=e:e-=o,a.push(o);return a},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/RankList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,i,o,s,r,c,a,u,l,f;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,s=n.createClass,r=n.asyncToGenerator,c=n.regeneratorRuntime},function(n){a=n.cclegacy,u=n._decorator,l=n.SubContextView,f=n.Component}],execute:function(){var p,d,h,b,v,g;a._RF.push({},"9760bdE4+dN1oiTvj5oFCQV","RankList",void 0);var y=u.ccclass,w=u.property,k=window.wx||window.tt;n("RankList",(p=y("RankList"),d=w({tooltip:"排行榜窗口",type:l}),p(((g=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=n.call.apply(n,[this].concat(s))||this,i(e,"sub",v,o(e)),e}t(e,n);var a=e.prototype;return a.onLoad=function(){e._inst=this,this.sub.enabled=!1,this.node.active=!1},a.start=function(){this.sub.enabled=!0},a.show=function(){var n=r(c().mark((function n(e){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.sub.enabled=!0,n.next=3,new Promise((function(n){k.checkSession({success:function(){console.log("session 未过期"),n(1)},fail:function(){console.log("session 已过期，需要重新登录",k),k.login({success:function(e){console.log("登录成功",e),n(1)},fail:function(e){console.log("登录失败",e),n(0)}})}})}));case 3:this.node.active=!0,k.getOpenDataContext().postMessage({event:"friend",key:"level",data:e});case 5:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),a.hide=function(){this.sub.enabled=!1,this.node.active=!1},a.update=function(n){},s(e,null,[{key:"Inst",get:function(){return this._inst}}]),e}(f))._inst=void 0,v=e((b=g).prototype,"sub",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankNoteCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState3.ts","./RankNoteItemCmp.ts"],(function(t){var e,n,i,r,o,a,l,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.CCFloat,s=t.Component},function(t){u=t.ZDGameState3},function(t){c=t.RankNoteItemCmp}],execute:function(){var p,m,f,d,h,_,v;o._RF.push({},"a33d7PV/91JIKjdhca6et6W","RankNoteCmp",void 0);var y=a.ccclass,C=a.property;t("RankNoteCmp",(p=y("RankNoteCmp"),m=C({displayName:"排行",type:[c],visible:!0}),f=C({displayName:"间隔",type:l,visible:!0}),p((_=e((h=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"_list",_,r(e)),i(e,"_duration",v,r(e)),e._interval=0,e}return n(e,t),e.prototype.update=function(t){if(this._interval-=t,this._interval<=0){this._interval=this._duration;var e=[].concat(u.runtime.control.aiHeros,[u.runtime.control.mainHero]);e.sort((function(t,e){return e.weaponModule.weaponCnt-t.weaponModule.weaponCnt}));var n=0,i=this._list.length;for(n=0;n<i;++n)this._list[n].setHero(e[n])}},e}(s)).prototype,"_list",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(h.prototype,"_duration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=h))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/RankNoteItemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,r,n,a,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Label,s=e.Color,c=e.Component}],execute:function(){var p,u,b,m,h,_,y,f,C,d,L;n._RF.push({},"a71deAji3FJbZ686XCnCzYP","RankNoteItemCmp",void 0);var v=a.ccclass,g=a.property;e("RankNoteItemCmp",(p=v("RankNoteItemCmp"),u=g({displayName:"名字",type:l,visible:!0}),b=g({displayName:"刀数",type:l,visible:!0}),m=g({displayName:"自己的文字颜色",type:s,visible:!0}),h=g({displayName:"其他人的颜色",type:s,visible:!0}),p((f=t((y=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"_nameLab",f,r(t)),o(t,"_cntLab",C,r(t)),o(t,"_selfColor",d,r(t)),o(t,"_otherColor",L,r(t)),t}return i(t,e),t.prototype.setHero=function(e){e?(this.node.active=!0,this._nameLab.string=e.name,this._cntLab.string=""+e.weaponModule.weaponCnt,e.isMainHero?(this._nameLab.color=this._selfColor,this._cntLab.color=this._selfColor):(this._nameLab.color=this._otherColor,this._cntLab.color=this._otherColor)):this.node.active=!1},t}(c)).prototype,"_nameLab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"_cntLab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(y.prototype,"_selfColor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),L=t(y.prototype,"_otherColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),_=y))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/RankView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./RankList.ts","./UI_Rank.ts"],(function(n){var t,e,i,r,s,o,c,u;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,i=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){s=n.cclegacy},function(n){o=n.ViewBase},function(n){c=n.RankList},function(n){u=n.default}],execute:function(){s._RF.push({},"5767dXIShtM675S2D5jkFci","RankView",void 0);n("RankView",function(n){function s(){return n.apply(this,arguments)||this}t(s,n);var o=s.prototype;return o._preShowAnim=function(){var n=i(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.ui.m_btn_close.onClick(this.onHide,this);case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o._afterShowAnim=function(){var n=i(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.showList();case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o.onHide=function(){this.hide(),c.Inst.hide()},o._preHideAnim=function(){},o._afterHideAnim=function(){},o.showList=function(){c.Inst.show(128)},e(s,null,[{key:"instance",get:function(){return this._getInstance(s,u)}}]),s}(o));s._RF.pop()}}}));

System.register("chunks:///_virtual/RealName.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SplashHelper.ts","./SafeTime.ts"],(function(t){var e,r,n,a,o,i,s,c,u,l,p,m,h,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Button,l=t.EditBox,p=t.Component,m=t.sys,h=t.game},function(t){f=t.default},function(t){d=t.default}],execute:function(){var b,g,y,S,w,v,T,k;s._RF.push({},"275936D2ohME4LAMe9bK5P0","RealName",void 0);var x=c.ccclass,N=c.property,R=t("appcode","1b74bb73533f49a78fe86c22d2b3d6bd");t("default",(b=N(u),g=N(l),y=N(l),x((v=e((w=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,n(e,"commitBtn",v,a(e)),n(e,"inputName",T,a(e)),n(e,"inputNumber",k,a(e)),e.onEnterGame=void 0,e}r(e,t);var s=e.prototype;return s.start=function(){this.commitBtn.node.on("click",this.OnCommit,this)},s.OnCommit=function(){var t=o(i().mark((function t(){var e,r,n,a=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!m.localStorage.getItem("birthday")){t.next=2;break}return t.abrupt("return",f.ShowToast("不能重复认证！"));case 2:if(e=this.inputName.string,r=this.inputNumber.string,!(e&&e.length>=2&&r&&18==r.length)){t.next=14;break}if(m.platform!=m.Platform.DESKTOP_BROWSER&&m.platform!=m.Platform.MOBILE_BROWSER){t.next=10;break}return console.log("网页直接返回成功"),m.localStorage.setItem("birthday",r.substring(6,14)),f.ShowToast("认证成功！"),t.abrupt("return",this.CheckAge());case 10:n="idCardNo="+r+"&name="+e,this.CommitInfo(n,(function(t){var e=JSON.parse(t);e&&e.code&&200==e.code?0==e.data.result?(f.ShowToast("认证成功！"),m.localStorage.setItem("birthday",e.data.birthday),a.scheduleOnce(a.CheckAge,1)):1==e.data.result?f.ShowToast("身份证号与姓名信息不匹配！"):f.ShowToast("查无记录"):f.ShowToast("认证失败！")})),t.next=15;break;case 14:f.ShowToast("输入错误，请重新输入");case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.CheckAge=function(){var t=o(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(m.localStorage.getItem("birthday")),t.next=3,d.getDateNum();case 3:r=t.sent,console.log(e,r),r-e>=18e4?(this.node.active=!1,h.emit("StartGame")):f.ShowToast("您未满18周岁,禁止进入游戏！");case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.CommitInfo=function(){var t=o(i().mark((function t(e,r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"https://jmrnhappy.market.alicloudapi.com/idcard/validate",(n=new XMLHttpRequest).timeout=1e4,n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var t=n.responseText;r(t)}else console.error("HTTP Error: "+n.status),f.ShowToast(JSON.parse(n.responseText).msg);else console.error("HTTP readyState: "+n.readyState)},n.open("POST","https://jmrnhappy.market.alicloudapi.com/idcard/validate",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.setRequestHeader("Authorization","APPCODE "+R),console.log("http body:",e),n.send(e);case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}(p)).prototype,"commitBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"inputName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"inputNumber",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/RegexUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"14ebbDVgwlJQ4ja/PnK32CZ","RegexUtil",void 0);e("RegexUtil",function(){function e(){}return e.isDoubleWord=function(e){return/[^\x00-\xff]/.test(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RegrowTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp4.ts","./ZDConst4.ts","./ZDGameState4.ts","./RoleCutTree4.ts"],(function(e){var t,i,r,o,n,s,a,h,c,u,p;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,n=e.tween,s=e.v3},function(e){a=e.ZDDropItemCmp4},function(e){h=e.TreeGrowTime,c=e.TreeReGrowTime},function(e){u=e.ZDGameState4},function(e){p=e.RoleCutTree4}],execute:function(){o._RF.push({},"1267509mFZMqIiuDP5DNlzA","RegrowTree",void 0);e("RegrowTree",function(e){function o(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).regrowing=!1,t.regrowTime=0,t}t(o,e);var p=o.prototype;return p.hurt=function(e){this.regrowing||this._hp<=0||this.enable&&(this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0?this.death():this._treeView.hitEffect())},p.death=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._enable=!1,n(this._treeView.backNode).delay(1).to(1,{opacity:0}).tag(88888).start(),n(this._treeView.node).to(.3,{opacity:0}).tag(88888).start(),this._treeView.shadowNode.setScale(0,0,0),u.runtime.control.isInMainMap&&a.Create().show(this._position.x,this._position.y+20,this._dropEnd.bind(this)),this.regrowing=!0,this.regrowTime=c;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),p.update=function(e){var t=this;this.regrowTime>0&&(this.regrowTime-=e,this.regrowTime<=0&&(this._treeView.node.opacity=255,this._treeView.node.setScale(0,0,0),n(this._treeView.node).to(h,{scale:s(1,1,1)}).call((function(){t.regrowing=!1,t._enable=!0,t._hp=t._maxHp})).tag(88888).start(),this._treeView.backNode.setScale(0,0,0),this._treeView.backNode.opacity=255,n(this._treeView.backNode).to(h,{scale:s(1,1,1)}).tag(88888).start(),n(this._treeView.shadowNode).to(h,{scale:s(1,1,1)}).tag(88888).start()))},o}(p));o._RF.pop()}}}));

System.register("chunks:///_virtual/RegrowTree5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDConst5.ts","./ZDGameState5.ts","./RoleCutTree5.ts","./ZDGameState.ts"],(function(e){var t,r,i,o,n,a,s,c,h,u,w;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy,n=e.tween,a=e.v3},function(e){s=e.TreeGrowTime,c=e.TreeReGrowTime},function(e){h=e.ZDGameState5},function(e){u=e.RoleCutTree4},function(e){w=e.ZDGameState}],execute:function(){o._RF.push({},"1cb49NuK/xAB6GIeIzgJ7V+","RegrowTree5",void 0);e("RegrowTree5",function(e){function o(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).regrowing=!1,t.regrowTime=0,t}t(o,e);var u=o.prototype;return u.hurt=function(e){this.regrowing||this._hp<=0||this.enable&&(this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0?this.death():this._treeView.hitEffect(),w.runtime.audioMgr.play(102,5))},u.death=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._enable=!1,n(this._treeView.backNode).delay(1).to(1,{opacity:0}).tag(88888).start(),n(this._treeView.node).to(.5,{opacity:0,angle:Math.random()>.5?-90:90}).tag(88888).start(),this._treeView.shadowNode.setScale(0,0,0),h.runtime.control.isInMainMap&&h.runtime.control.createFruitsChunk("mt_1",this._position),this.regrowing=!0,this.regrowTime=c;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.update=function(e){var t=this;this.regrowTime>0&&(this.regrowTime-=e,this.regrowTime<=0&&(this._treeView.node.opacity=255,this._treeView.node.setScale(0,0,0),this._treeView.node.angle=0,n(this._treeView.node).to(s,{scale:a(1,1,1)}).call((function(){t.regrowing=!1,t._enable=!0,t._hp=t._maxHp})).tag(88888).start(),this._treeView.backNode.setScale(0,0,0),this._treeView.backNode.opacity=255,n(this._treeView.backNode).to(s,{scale:a(1,1,1)}).tag(88888).start(),n(this._treeView.shadowNode).to(s,{scale:a(1,1,1)}).tag(88888).start()))},o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/RemainAttr.ts",["cc","./CardsConfig.ts"],(function(e){var t,a;return{setters:[function(e){t=e.cclegacy},function(e){a=e.CardsConfig}],execute:function(){t._RF.push({},"9a75fN8a0FO5YjkKXx8D8PJ","RemainAttr",void 0);e("RemainAttr",function(){function e(){this.atkAddPercent=0,this.hpAddPercent=0,this.moveSpeedAddPercent=0,this.campHpAddPercent=0,this.buildingHpAddPercent=0,this.monsterAtkAddPlayerMoveSpeedPercent=0,this.extChanceGetWood=0,this.campFireAddAtk=0,this.bossDamageAdd=0,this.buildingSpeedAdd=0,this.damageAddByEnemyHp=0,this.idleAddDamageSub=0,this.remoteWeaponAtkSpeedAddByHp=0,this.weaponRotaionByCnt=0,this.remoteAtkSpeedAdd=0,this.addAtkByWoodCnt=0,this.petActiveAddDamageSub=0,this.weaponAddCnt=0,this.remoteCrossCnt=0,this.petAtkSpeedAdd=0,this.buildingAtkAddByCampHp=0,this.boxAddGold=0}var t=e.prototype;return t.init=function(e){for(var t in e){var a=Number(t),s=e[a].lv;this._setAttr(a,s)}},t._setAttr=function(e,t){var s=a.data[e];switch(e){case 1001:this.atkAddPercent=(s.base+t*s.levelup)/100;break;case 1002:this.hpAddPercent=(s.base+t*s.levelup)/100;break;case 1003:this.moveSpeedAddPercent=(s.base+t*s.levelup)/100;break;case 1004:this.campHpAddPercent=(s.base+t*s.levelup)/100;break;case 1005:this.buildingHpAddPercent=(s.base+t*s.levelup)/100;break;case 1006:this.monsterAtkAddPlayerMoveSpeedPercent=(s.base+t*s.levelup)/100;break;case 1007:this.extChanceGetWood=s.base+t*s.levelup;break;case 1008:this.campFireAddAtk=(s.base+t*s.levelup)/100;break;case 1009:this.bossDamageAdd=(s.base+t*s.levelup)/100;break;case 1010:this.buildingSpeedAdd=(s.base+t*s.levelup)/100;break;case 1011:this.damageAddByEnemyHp=(s.base+t*s.levelup)/100;break;case 1012:this.idleAddDamageSub=(s.base+t*s.levelup)/100;break;case 1013:this.remoteWeaponAtkSpeedAddByHp=(s.base+t*s.levelup)/100;break;case 1014:this.weaponRotaionByCnt=(s.base+t*s.levelup)/100;break;case 1015:this.remoteAtkSpeedAdd=(s.base+t*s.levelup)/100;break;case 1016:this.addAtkByWoodCnt=(s.base+t*s.levelup)/100;break;case 1017:this.petActiveAddDamageSub=(s.base+t*s.levelup)/100;break;case 1018:this.weaponAddCnt=s.base+t*s.levelup;break;case 1019:this.remoteCrossCnt=s.base+t*s.levelup;break;case 1020:this.petAtkSpeedAdd=(s.base+t*s.levelup)/100;break;case 1021:this.buildingAtkAddByCampHp=(s.base+t*s.levelup)/100;break;case 1022:this.boxAddGold=(s.base+t*s.levelup)/100}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RemainFlyCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./MainConst.ts","./BattleState.ts"],(function(t){var e,i,s,o,n,r,a,l,h,c,_,p,u,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,a=t._decorator,l=t.Sprite,h=t.Vec3,c=t.Component},function(t){_=t.ViewUtil},function(t){p=t.UIHelper},function(t){u=t.MAIN_PREFABS,d=t.MAIN_BUNDLE},function(t){m=t.BattleState}],execute:function(){var f,P,v,y,C,g;r._RF.push({},"56e68hLNQpI14D/fh+hyiMh","RemainFlyCmp",void 0);var w=a.ccclass,F=a.property,R=(t("RemainFlyCmp",(f=w("RemainFlyCmp"),P=F({type:l,displayName:"图标",visible:!0}),f(((g=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,s(e,"_iconSpr",C,o(e)),e._startPos=void 0,e._endPos=void 0,e._state=void 0,e._time=void 0,e._totalTime=void 0,e._endCallback=void 0,e}i(e,t),e.Create=function(){var t=this._pool.shift();t||(t=_.createPrefabNode(u.FlyRemain,d).getComponent(e))._init();return t.node.parent=m.ins.control.view.topRoot,t},e.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},e.Clear=function(){for(var t=0,e=this._pool.length;t<e;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var r=e.prototype;return r._init=function(){this._startPos=new h,this._endPos=new h,this._state=0,this._time=0},r.setRes=function(t){p.changeSpriteFrame(t,d,this._iconSpr)},r.show=function(t,e,i,s){this._startPos.set(t,e),this._endCallback=s,this._state=1,this._time=0,this._endPos.set(i.x,i.y);var o=m.ins.control.runTimeData;o.mapCamera.worldToScreen(this._startPos,this._startPos),o.uiCamera.screenToWorld(this._startPos,this._startPos),this.node.setWorldPosition(this._startPos),this._totalTime=h.distance(this._startPos,this._endPos)/2e3},r.update=function(t){if(1==this._state){this._time+=t;var i=this._time/this._totalTime;h.lerp(R,this._startPos,this._endPos,i),this.node.setWorldPosition(R),i>=1&&(this._state=8)}else if(8==this._state){var s;null==(s=this._endCallback)||s.call(this),e.Collect(this)}},n(e,[{key:"pos",get:function(){return this._startPos}}]),e}(c))._pool=[],C=e((y=g).prototype,"_iconSpr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v)),new h);r._RF.pop()}}}));

System.register("chunks:///_virtual/RemainLayerCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RemainLayerItemCmp.ts"],(function(e){var i,t,r,n,o,a,s,l,p,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Node,p=e.Component},function(e){c=e.RemainLayerItemCmp}],execute:function(){var m,u,y,d,f,_,h;a._RF.push({},"c6fdev8RrFOpZ/eumq9psl6","RemainLayerCmp",void 0);var v=s.ccclass,b=s.property;e("RemainLayerCmp",(m=v("RemainLayerCmp"),u=b({type:l,displayName:"遗物节点",visible:!0}),y=b({type:[c],displayName:"列表",visible:!0}),m((_=i((f=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,r(i,"_remainNode",_,n(i)),r(i,"_items",h,n(i)),i._worldPos=void 0,i}t(i,e);var a=i.prototype;return a.setItemView=function(e,i,t){this._items[e].setView(i,t)},a.setItemState=function(e,i){this._items[e].setFinishVisible(i)},o(i,[{key:"worldPos",get:function(){return this._worldPos||(this._worldPos=this._remainNode.getWorldPosition()),this._worldPos}}]),i}(p)).prototype,"_remainNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=i(f.prototype,"_items",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/RemainLayerItemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardsConfig.ts","./UIHelper.ts","./MainConst.ts"],(function(e){var i,t,n,r,a,o,s,c,l,p,u,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Sprite,c=e.Node,l=e.Component},function(e){p=e.CardsConfig},function(e){u=e.UIHelper},function(e){f=e.MAIN_BUNDLE}],execute:function(){var y,m,h,d,b,_,v;a._RF.push({},"9af2d0/JKBIiYyNWDabDr/w","RemainLayerItemCmp",void 0);var I=o.ccclass,g=o.property;e("RemainLayerItemCmp",(y=I("RemainLayerItemCmp"),m=g({type:s,displayName:"图标",visible:!0}),h=g({type:c,displayName:"完成节点",visible:!0}),y((_=i((b=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,n(i,"_icon",_,r(i)),n(i,"_finishNode",v,r(i)),i}t(i,e);var a=i.prototype;return a.setView=function(e,i){var t=p.data[e].icon;this.setIconRes(t),this.setFinishVisible(i)},a.setIconRes=function(e){u.changeSpriteFrame(e,f,this._icon)},a.setFinishVisible=function(e){this._finishNode.active=e,this._icon.grayscale=!e},i}(l)).prototype,"_icon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(b.prototype,"_finishNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/RemainMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RemainAttr.ts"],(function(t){var i,e,s;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){s=t.RemainAttr}],execute:function(){e._RF.push({},"ec9bb5ZakhNbKsoHQVwKWQk","RemainMgr",void 0);t("RemainMgr",function(){function t(){this._view=void 0,this._items=void 0,this._states=void 0,this.attr=void 0,this.findRemains=void 0,this.attr=new s,this.findRemains=[]}var e=t.prototype;return e.init=function(t,i,e,s){this.attr.init(s),this._view=t,this._items=i,this._states=e;for(var n=0;n<i.length;++n)this._view.setItemView(n,i[n],e[n])},e.findItemed=function(t){var i=this._items.indexOf(t);i<0||this._states[i]||(this._states[i]=!0,this._view.setItemState(i,!0),this.findRemains.push(t))},i(t,[{key:"view",get:function(){return this._view}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ResHelper.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"66afeaDDmdB7bAku5Ydypym","ResHelper",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(e){var n,o,t,r,l,a,i,s,u,d,c;return{setters:[function(e){n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){t=e.cclegacy,r=e.assetManager,l=e.error,a=e.warnID,i=e.Prefab,s=e.director,u=e.Director,d=e.Asset},function(e){c=e.YT}],execute:function(){t._RF.push({},"1a2e4jFffpHrYjrpxbnC760","ResLoader",void 0);e("ResLoader",function(){function e(){this._loadingCache={},this._preloadCache=void 0,this._loadingScene=null,this._fixMap={"cc.SpriteFrame":"/spriteFrame","cc.Texture2D":"/texture"},this._emptyFix=""}var t=e.prototype;return t.loadRemote=function(e){var n=null,o=null;2==(arguments.length<=1?0:arguments.length-1)?(n=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):o=arguments.length<=1?void 0:arguments[1],r.loadRemote(e,n,o)},t.loadBundleAsync=function(e){return new Promise((function(n){r.loadBundle(e,(function(e,o){e&&l(e),n(o)}))}))},t.loadAndRunScene=function(e,n,o,t){if(this._loadingScene&&this._loadingScene.path==e&&this._loadingScene.bundle==n)a(1208,e),t&&t(null);else{var i=this;i._loadingScene={path:e,bundle:n};var d=r.getBundle(n),c=function(n){s.emit(u.EVENT_BEFORE_SCENE_LOADING,e),console.time("LoadScene "+e),n.loadScene(e,o,(function(n,o){console.timeEnd("LoadScene "+e),i._loadingScene=null,n?(l(n),t&&t(null)):s.runSceneImmediate(o,null,(function(e,n){t&&t(n)}))}))};d?c(d):r.loadBundle(n,(function(e,n){c(n)}))}},t.loadAndRunSceneAsync=function(e,n){return new Promise((function(o){c.res.loadAndRunScene(e,n,null,(function(e){o(e)}))}))},t.load=function(e,n,o,t,l){e=this._fixPath(e,o);var a=r.getBundle(n);if(a){var i=a.get(e,o);i?l&&l(i):this._addLoadingCache(e,n,o,!1,t,l)&&a.load(e,o,this._onLoadProgress.bind(this,e,n),this._onLoadComplete.bind(this,e,n))}else this._addLoadingCache(e,n,o,!0,t,l)&&r.loadBundle(n,this._onBundleLoadComplete.bind(this,n))},t.loadAsync=function(){var e=n(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){c.res.load(n,t,d,null,(function(n){e(n)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,o){return e.apply(this,arguments)}}(),t.stopLoad=function(e,n,o,t,r){var l=this._loadingCache[n];if(l){var a=l[e];if(a){var i,s=0,u=a.bundle.length;for(s=0;s<u;++s)(i=a.bundle[s]).onProgress==t&&(i.onProgress=null),i.onComplete==r&&(i.onComplete=null);for(u=a.load.length,s=0;s<u;++s)(i=a.load[s]).onProgress==t&&(i.onProgress=null),i.onComplete==r&&(i.onComplete=null)}}},t._onBundleLoadComplete=function(e,n){if(n)l(n);else{var o=this._loadingCache[e];if(o){var t,a=[],i=[],s=0,u=0;for(var d in o)if((t=o[d])&&t.bundle.length>0){for(0==t.load.length&&(a.push(d),i.push(t.type)),u=t.bundle.length,s=0;s<u;++s)t.load.push(t.bundle[s]);t.bundle=[]}if(a.length>0){u=a.length;var c,f=r.getBundle(e);for(s=0;s<u;++s)c=a[s],f.load(c,i[s],this._onLoadProgress.bind(this,c,e),this._onLoadComplete.bind(this,c,e))}}}},t._onLoadProgress=function(e,n,o,t,r){var l=this._loadingCache[n];if(l){var a=l[e];a&&a.hasProgress&&(a.bundle.length>0&&this._notifyProgress(a.bundle,o,t,r),a.load.length>0&&this._notifyProgress(a.load,o,t,r))}},t._notifyProgress=function(e,n,o,t){var r,l=0,a=e.length;for(l=0;l<a;++l)(r=e[l]).onProgress&&r.onProgress(n,o,t)},t._onLoadComplete=function(e,n,o,t){var r=null;o?l(o):r=t;var a=this._loadingCache[n];if(a){var i=a[e];if(i){delete a[e];var s=i.load;if(s&&s.length>0){var u=0,d=s.length;for(u=0;u<d;++u)s[u].onComplete&&s[u].onComplete(r)}}}},t._addLoadingCache=function(e,n,o,t,r,l){var a=!0,i=!1,s=this._loadingCache[n];s||(s=this._loadingCache[n]={},i=!0);var u=s[e];u||(u=s[e]={type:o,bundle:[],load:[],hasProgress:!1});var d={onProgress:r,onComplete:l};return r&&(u.hasProgress=!0),t?(u.bundle.push(d),i||(a=!1)):(u.load.length>0&&(a=!1),u.load.push(d)),a},t.release=function(e,n){void 0===n&&(n="resources");var o=r.getBundle(n);if(o){var t=o.get(e);t&&this.releasePrefabtDepsRecursively(t._uuid)}},t.releasePrefabtDepsRecursively=function(e){var n=r.assets.get(e);(r.releaseAsset(n),n instanceof i)&&r.dependUtil.getDepsRecursively(e).forEach((function(e){r.assets.get(e).decRef()}))},t.get=function(e,n,o){return e=this._fixPath(e,o),r.getBundle(n).get(e,o)},t.dump=function(){r.assets.forEach((function(e,n){console.log(r.assets.get(n))})),console.log("当前资源总数:"+r.assets.count)},t.getUUID=function(e,n,o){var t=r.getBundle(n);if(t){var l=t.getInfoWithPath(e,o);if(l)return l.uuid}return null},t.unloadBundle=function(e){var n=r.getBundle(e);n&&r.removeBundle(n)},t.releaseBundle=function(e){var n=r.getBundle(e);n&&(n.releaseAll(),r.removeBundle(n))},t._fixPath=function(e,n){if(n){var o=n.prototype.__classname__;return e+(this._fixMap[o]||this._emptyFix)}return e},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ResUtils.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"7f1c8rACudPfrDTXTPirXII","ResUtils",void 0);e("ResUtils",function(){function e(){}return e.fullLevelPrefabRes=function(e){return"prefab/level/"+e},e.fullLevelBgRes=function(e){return"image/level/bg/"+e},e.fullLevelTreeRes=function(e){return"image/level/tree/"+e},e.fullRemainIconRes=function(e){return""+e},e.fullWeaponIconRes=function(e){return""+e},e.fullWeaponModelRes=function(e){return""+e},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ReviveDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./MainConst.ts","./BattleState.ts","./BaseDialog.ts"],(function(t){var e,i,n,a,l,r,o,s,c,u,p,b,_,v,h,y,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,l=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,c=t.Sprite,u=t.Label,p=t.Button},function(t){b=t.ViewUtil},function(t){_=t.YT},function(t){v=t.MAIN_PREFABS,h=t.MAIN_BUNDLE},function(t){y=t.BattleState},function(t){f=t.BaseDialog}],execute:function(){var g,d,B,m,L,w,C,D,k,N,R,z,S,T,A;o._RF.push({},"42c086TM4hO+4aLnEsL89iB","ReviveDialog",void 0);var E=s.ccclass,I=s.property;t("ReviveDialog",(g=E("ReviveDialog"),d=I({type:c,displayName:"图标",visible:!0}),B=I({type:u,displayName:"标题",visible:!0}),m=I({type:u,displayName:"提示",visible:!0}),L=I({type:p,displayName:"确定按钮",visible:!0}),w=I({type:u,displayName:"按钮文本",visible:!0}),C=I({type:p,displayName:"取消按钮",visible:!0}),g((N=e((k=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"_icon",N,a(e)),n(e,"_titleLab",R,a(e)),n(e,"_tips",z,a(e)),n(e,"_sureBtn",S,a(e)),n(e,"_btnLab",T,a(e)),n(e,"_cancelBtn",A,a(e)),e._callback=void 0,e}i(e,t),e.Show=function(t,i){var n=b.createPrefabNode(v.ReviveDialog,h);n.parent=y.ins.control.view.dialogRoot;var a=n.getComponent(e);return a._init(t,i),a};var o=e.prototype;return o._init=function(t,e){this._callback=e,1==t?(this._titleLab.string="复 活",this._tips.string="是否复活继续战斗",this._btnLab.string="复 活"):(this._titleLab.string="重 建",this._tips.string="重建基地恢复至满血并额外增加100%血量",this._btnLab.string="重 建"),this._cancelBtn.node.on(p.EventType.CLICK,this._onCancelBtnClicked,this),this._sureBtn.node.on(p.EventType.CLICK,this._onSureBtnClicked,this)},o._onCancelBtnClicked=function(){var t;_.audio.play(2),null==(t=this._callback)||t.call(this,!1),this.close()},o._onSureBtnClicked=function(){var t=l(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _.audio.play(2),t.next=3,_.game.watchAD("revive");case 3:t.sent&&(null==(e=this._callback)||e.call(this,!0),this.close());case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(f)).prototype,"_icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(k.prototype,"_titleLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(k.prototype,"_tips",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(k.prototype,"_sureBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(k.prototype,"_btnLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(k.prototype,"_cancelBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=k))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/RewardConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("RewardConfig",void 0),t._RF.push({},"e4d24BeuaJEyoM73CM1h35R","RewardConfig",void 0),function(i){i.config=function(){this.id=void 0,this.des=void 0,this.condition=void 0,this.num=void 0,this.reward_id=void 0,this.reward_count=void 0};i.isConst=!1,i.path="config/RewardConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("RewardConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/RewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./ViewBase.ts","./UI_Reward.ts","./YT.ts"],(function(t){var e,n,i,r,s,a,c,u,o,h;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t.tween},function(t){c=t.ItemConfig},function(t){u=t.ViewBase},function(t){o=t.default},function(t){h=t.YT}],execute:function(){s._RF.push({},"67350mqXcxG8bEBlHVw8Cuo","RewardView",void 0);t("RewardView",function(t){function s(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).reward=[],e.rewardCount=[],e}e(s,t);var u=s.prototype;return u.renderReward=function(t,e){e.title="x"+this.rewardCount[t].toFixedNumberCN();var n=c.data[this.reward[t]];e.setIcon(n.icon,"game"),e.m_quality.selectedIndex=n.qulity,e.setScale(0,0),a(e).to(.2,{scaleX:1,scaleY:1},{easing:"backOut"}).delay(.2*t).start()},u._preShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.reward=this._uiParam[0],this.rewardCount=this._uiParam[1],this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderReward.bind(this),this.ui.m_btn_close.onClick(this.clickHide,this),h.data.addItemByItemIds(this.reward,this.rewardCount);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.clickHide=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.message.dispatchEvent("on_res_changed"),this.hide();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._afterShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_list.numItems=this.reward.length;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._preHideAnim=function(){},u._afterHideAnim=function(){},n(s,null,[{key:"instance",get:function(){return this._getInstance(s,o)}}]),s}(u));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoadBlockBuildingCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./MainConst.ts","./BattleState.ts","./RoleBuildingBaseCmp.ts"],(function(e){var t,o,n,i,r,l,a,c,s,u,p,d,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,c=e.Sprite},function(e){s=e.ViewUtil},function(e){u=e.UIHelper},function(e){p=e.MAIN_PREFABS,d=e.MAIN_BUNDLE},function(e){f=e.BattleState},function(e){v=e.RoleBuildingBaseCmp}],execute:function(){var h,m,B,_,g;r._RF.push({},"e4c854CD41BWb4ZTCP86bY1","RoadBlockBuildingCmp",void 0);var C=l.ccclass,y=l.property;e("RoadBlockBuildingCmp",(h=C("RoadBlockBuildingCmp"),m=y({type:a,displayName:"围栏",visible:!0}),h((g=t((_=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_iconNode",g,i(t)),t}o(t,e),t.Create=function(e){var o=s.createPrefabNode(p.BuildingRoadBlock,d);o.parent=f.ins.control.runTimeData.levelControl.view.roleRoot;var n=o.getComponent(t);return n._init(e),n};var r=t.prototype;return r._init=function(e){for(var t=this._iconNode.getComponentsInChildren(c),o=0,n=t.length;o<n;++o)u.changeSpriteFrame(e,d,t[o]);this._iconNode.parent=f.ins.control.runTimeData.levelControl.view.bottonRoot},r.update=function(e){},r.setModelScale=function(e,t){var o;null==(o=this._viewRoot)||o.setScale(e,t)},r.setParent=function(t){e.prototype.setParent.call(this,t),this._iconNode.parent=f.ins.control.runTimeData.levelControl.view.bottonRoot},r.removeParent=function(){e.prototype.removeParent.call(this),this._iconNode.parent.removeFromParent()},r.remove=function(){this._iconNode.parent=this.node,this.node.destroy()},r.setVisible=function(t){e.prototype.setVisible.call(this,t),this._iconNode.active=t},t}(v)).prototype,"_iconNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=_))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleAtkConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("RoleAtkConfig",void 0),i._RF.push({},"1d303YH+wVIgp6sAQ19Jaeg","RoleAtkConfig",void 0),function(t){t.config=function(){this.id=void 0,this.des=void 0,this.value=void 0,this.cost=void 0};t.isConst=!1,t.path="config/RoleAtkConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("RoleAtkConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBarrier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig2.ts","./PDEffectPool.ts","./BarrierCmp.ts","./VecPool.ts","./ZDEnum.ts","./ZDGameState.ts","./RoleBase.ts"],(function(i){var t,e,r,o,s,n,h,_,a,f,d,c,u;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){r=i.cclegacy,o=i.Size,s=i.math,n=i.Vec2},function(i){h=i.ZdBarrierConfig},function(i){_=i.PDEffectPool},function(i){a=i.BarrierCmp},function(i){f=i.VecPool},function(i){d=i.ERoleType},function(i){c=i.ZDGameState},function(i){u=i.RoleBase}],execute:function(){r._RF.push({},"cf3dfkm8WNM9KNXGvttmL8e","RoleBarrier",void 0);i("RoleBarrier",function(i){function r(){var t;return(t=i.call(this)||this)._barrierView=void 0,t._config=void 0,t._hp=void 0,t._maxHp=void 0,t._isAutoRefresh=void 0,t._targetRole=void 0,t._startPos=new n,t._endPos=new n,t._time=0,t._dropedStage=void 0,t._dropIndex=void 0,t._djTime=0,t._roleType=d.Barrier,t._isAutoRefresh=!1,t}t(r,i);var u=r.prototype;return u._onInit=function(i){this._config=h.data[i],this._hp=this._maxHp=this._config.hp,this._dropedStage=[],this._dropedStage.fill(!1),this._dropIndex=0;for(var t=0,e=this._config.drop_stage.length;t<e;++t)this._dropedStage[t]=!1},u._initView=function(){this._view=this._barrierView=a.Create(),this._barrierView.setModelView(this._config.model),this._size=new o,this._barrierView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2,this._barrierView.setHpView(this._hp)},u.hurt=function(i){if(!(this._hp<=0)&&this.enable){this._hp-=i,this._hp<0&&(this._hp=0),this._barrierView.setHpView(this._hp);for(var t=this._hp/this._maxHp;this._dropIndex<this._config.drop_stage.length;){if(!(100*t<=this._config.drop_stage[this._dropIndex]))break;var e=this._config.drop_items[this._dropIndex];if(e.length>0){var r=s.randomRangeInt(0,e.length),o=f.getV3();this._barrierView.randomDropPos(o),c.runtime.control.dropProp(e[r],o.x,o.y),f.putV3(o)}this._dropIndex+=1}this._hp<=0?(this.death(),this._barrierView.dieEffect(this._onDieAniEnd.bind(this))):(t<.5&&this._barrierView.setHurtView(),this._barrierView.hitEffect())}},u.showDJEffect=function(i,t,e){if(this._config.hit_effect){var r=Date.now();if(this._djTime+200>r)return;this._djTime=r,_.ShowPZEffect().set(i,t)}this.playHitAudio(e)},u.playHitAudio=function(i){this._config.hit_audio>0&&(3==this.type?i&&c.runtime.audioMgr.play(this._config.hit_audio,5):c.runtime.audioMgr.play(this._config.hit_audio,5))},u.update=function(t){i.prototype.update.call(this,t)},u._onDieAniEnd=function(){this.remove()},e(r,[{key:"type",get:function(){return this._config.type}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(i){this._isAutoRefresh=i}},{key:"canBreakMove",get:function(){return 1==this._config.break_move}}]),r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBarrier3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig4.ts","./PDEffectPool3.ts","./BarrierCmp3.ts","./VecPool3.ts","./ZDEnum3.ts","./ZDGameState3.ts","./RoleBase3.ts"],(function(i){var t,e,r,o,s,n,h,a,_,f,c,d,u;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){r=i.cclegacy,o=i.Size,s=i.math,n=i.Vec2},function(i){h=i.ZdBarrierConfig},function(i){a=i.PDEffectPool3},function(i){_=i.BarrierCmp3},function(i){f=i.VecPool3},function(i){c=i.ERoleType},function(i){d=i.ZDGameState3},function(i){u=i.RoleBase3}],execute:function(){r._RF.push({},"6e1649tUxdINrti85GYgm6W","RoleBarrier3",void 0);i("RoleBarrier3",function(i){function r(){var t;return(t=i.call(this)||this)._barrierView=void 0,t._config=void 0,t._hp=void 0,t._maxHp=void 0,t._isAutoRefresh=void 0,t._targetRole=void 0,t._startPos=new n,t._endPos=new n,t._time=0,t._dropedStage=void 0,t._dropIndex=void 0,t._djTime=0,t._roleType=c.Barrier,t._isAutoRefresh=!1,t}t(r,i);var u=r.prototype;return u._onInit=function(i){this._config=h.data[i],this._hp=this._maxHp=this._config.hp,this._dropedStage=[],this._dropedStage.fill(!1),this._dropIndex=0;for(var t=0,e=this._config.drop_stage.length;t<e;++t)this._dropedStage[t]=!1},u._initView=function(){this._view=this._barrierView=_.Create(),this._barrierView.setModelView(this._config.model),this._size=new o,this._barrierView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2,this.hasHP?(this._barrierView.setHPViewActive(!0),this._barrierView.setHpView(this._hp)):this._barrierView.setHPViewActive(!1)},u.hurt=function(i){if(this.enable&&this.hasHP){if(this._hp<=0)return;this._hp-=i,this._hp<0&&(this._hp=0),this._barrierView.setHpView(this._hp);for(var t=this._hp/this._maxHp;this._dropIndex<this._config.drop_stage.length;){if(!(100*t<=this._config.drop_stage[this._dropIndex]))break;var e=this._config.drop_items[this._dropIndex];if(e.length>0){var r=s.randomRangeInt(0,e.length),o=f.getV3();this._barrierView.randomDropPos(o),d.runtime.control.dropProp(e[r],o.x,o.y),f.putV3(o)}this._dropIndex+=1}this._hp<=0?(this.death(),this._barrierView.dieEffect(this._onDieAniEnd.bind(this))):(t<.5&&this._barrierView.setHurtView(),this._barrierView.hitEffect())}},u.showDJEffect=function(i,t,e){if(this._config.hit_effect){var r=Date.now();if(this._djTime+200>r)return;this._djTime=r,a.ShowPZEffect(i,t)}this.playHitAudio(e)},u.playHitAudio=function(i){this._config.hit_audio>0&&(3==this.type?i&&d.runtime.audioMgr.play(this._config.hit_audio,5):d.runtime.audioMgr.play(this._config.hit_audio,5))},u.update=function(t){i.prototype.update.call(this,t)},u._onDieAniEnd=function(){this.remove()},e(r,[{key:"hasHP",get:function(){return this._maxHp>0}},{key:"type",get:function(){return this._config.type}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(i){this._isAutoRefresh=i}},{key:"canBreakMove",get:function(){return 1==this._config.break_move}}]),r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBarrier4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig.ts","./PDEffectPool4.ts","./BarrierCmp4.ts","./VecPool4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./RoleBase4.ts"],(function(i){var e,t,o,r,n,s,a,h,u,_;return{setters:[function(i){e=i.inheritsLoose,t=i.createClass},function(i){o=i.cclegacy,r=i.Size,n=i.Vec2},function(i){s=i.ZdBarrierConfig},null,function(i){a=i.BarrierCmp4},null,function(i){h=i.ERoleType},function(i){u=i.ZDGameState4},function(i){_=i.RoleBase}],execute:function(){o._RF.push({},"ca825UcoCdD35kK2mxnOC3V","RoleBarrier4",void 0);i("RoleBarrier",function(i){function o(){var e;return(e=i.call(this)||this)._barrierView=void 0,e._config=void 0,e._hp=void 0,e._maxHp=void 0,e._isAutoRefresh=void 0,e._targetRole=void 0,e._startPos=new n,e._endPos=new n,e._time=0,e._dropedStage=void 0,e._dropIndex=void 0,e._djTime=0,e._roleType=h.Barrier,e._isAutoRefresh=!1,e}e(o,i);var _=o.prototype;return _._onInit=function(i){this._config=s.data[i],this._hp=this._maxHp=this._config.hp,this._dropedStage=[],this._dropedStage.fill(!1),this._dropIndex=0;for(var e=0,t=this._config.drop_stage.length;e<t;++e)this._dropedStage[e]=!1},_._initView=function(){this._view=this._barrierView=a.Create(),this._barrierView.setModelView(this._config.model),this._size=new r,this._barrierView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2,this._barrierView.setHpView(this._hp)},_.hurt=function(i){},_.showDJEffect=function(i,e,t){},_.playHitAudio=function(i){this._config.hit_audio>0&&(3==this.type?i&&u.runtime.audioMgr.play(this._config.hit_audio,5):u.runtime.audioMgr.play(this._config.hit_audio,5))},_.update=function(e){i.prototype.update.call(this,e)},_._onDieAniEnd=function(){this.remove()},t(o,[{key:"type",get:function(){return this._config.type}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(i){this._isAutoRefresh=i}},{key:"canBreakMove",get:function(){return 1==this._config.break_move}}]),o}(_));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBarrier5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig3.ts","./PDEffectPool5.ts","./BarrierCmp5.ts","./VecPool5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./RoleBase5.ts"],(function(i){var e,t,o,r,n,s,a,h,u,_;return{setters:[function(i){e=i.inheritsLoose,t=i.createClass},function(i){o=i.cclegacy,r=i.Size,n=i.Vec2},function(i){s=i.ZdBarrierConfig},null,function(i){a=i.BarrierCmp5},null,function(i){h=i.ERoleType},function(i){u=i.ZDGameState5},function(i){_=i.RoleBase}],execute:function(){o._RF.push({},"1683cAPHm9HY7pPOLjT+J70","RoleBarrier5",void 0);i("RoleBarrier",function(i){function o(){var e;return(e=i.call(this)||this)._barrierView=void 0,e._config=void 0,e._hp=void 0,e._maxHp=void 0,e._isAutoRefresh=void 0,e._targetRole=void 0,e._startPos=new n,e._endPos=new n,e._time=0,e._dropedStage=void 0,e._dropIndex=void 0,e._djTime=0,e._roleType=h.Barrier,e._isAutoRefresh=!1,e}e(o,i);var _=o.prototype;return _._onInit=function(i){this._config=s.data[i],this._hp=this._maxHp=this._config.hp,this._dropedStage=[],this._dropedStage.fill(!1),this._dropIndex=0;for(var e=0,t=this._config.drop_stage.length;e<t;++e)this._dropedStage[e]=!1},_._initView=function(){this._view=this._barrierView=a.Create(),this._barrierView.setModelView(this._config.model),this._size=new r,this._barrierView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2,this._barrierView.setHpView(this._hp)},_.hurt=function(i){},_.showDJEffect=function(i,e,t){},_.playHitAudio=function(i){this._config.hit_audio>0&&(3==this.type?i&&u.runtime.audioMgr.play(this._config.hit_audio,5):u.runtime.audioMgr.play(this._config.hit_audio,5))},_.update=function(e){i.prototype.update.call(this,e)},_._onDieAniEnd=function(){this.remove()},t(o,[{key:"type",get:function(){return this._config.type}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(i){this._isAutoRefresh=i}},{key:"canBreakMove",get:function(){return 1==this._config.break_move}}]),o}(_));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBarrier6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig5.ts","./PDEffectPool6.ts","./BarrierCmp6.ts","./VecPool6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./RoleBase6.ts"],(function(i){var t,e,r,o,n,s,h,_,a,f,d,c,u;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){r=i.cclegacy,o=i.Size,n=i.math,s=i.Vec2},function(i){h=i.ZdBarrierConfig},function(i){_=i.PDEffectPool},function(i){a=i.BarrierCmp6},function(i){f=i.VecPool},function(i){d=i.ERoleType},function(i){c=i.ZDGameState6},function(i){u=i.RoleBase}],execute:function(){r._RF.push({},"d1d20gDe0hHIZz32ivfqacj","RoleBarrier6",void 0);i("RoleBarrier",function(i){function r(){var t;return(t=i.call(this)||this)._barrierView=void 0,t._config=void 0,t._hp=void 0,t._maxHp=void 0,t._isAutoRefresh=void 0,t._targetRole=void 0,t._startPos=new s,t._endPos=new s,t._time=0,t._dropedStage=void 0,t._dropIndex=void 0,t._djTime=0,t._roleType=d.Barrier,t._isAutoRefresh=!1,t}t(r,i);var u=r.prototype;return u._onInit=function(i){this._config=h.data[i],this._hp=this._maxHp=this._config.hp,this._dropedStage=[],this._dropedStage.fill(!1),this._dropIndex=0;for(var t=0,e=this._config.drop_stage.length;t<e;++t)this._dropedStage[t]=!1},u._initView=function(){this._view=this._barrierView=a.Create(),this._barrierView.setModelView(this._config.model),this._size=new o,this._barrierView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2,this._barrierView.setHpView(this._hp)},u.hurt=function(i){if(!(this._hp<=0)&&this.enable){this._hp-=i,this._hp<0&&(this._hp=0),this._barrierView.setHpView(this._hp);for(var t=this._hp/this._maxHp;this._dropIndex<this._config.drop_stage.length;){if(!(100*t<=this._config.drop_stage[this._dropIndex]))break;var e=this._config.drop_items[this._dropIndex];if(e.length>0){var r=n.randomRangeInt(0,e.length),o=f.getV3();this._barrierView.randomDropPos(o),c.runtime.control.dropProp(e[r],o.x,o.y),f.putV3(o)}this._dropIndex+=1}this._hp<=0?(this.death(),this._barrierView.dieEffect(this._onDieAniEnd.bind(this))):(t<.5&&this._barrierView.setHurtView(),this._barrierView.hitEffect())}},u.showDJEffect=function(i,t,e){if(this._config.hit_effect){var r=Date.now();if(this._djTime+200>r)return;this._djTime=r,_.ShowPZEffect().set(i,t)}this.playHitAudio(e)},u.playHitAudio=function(i){this._config.hit_audio>0&&(this.type,i&&c.runtime.audioMgr.play(this._config.hit_audio,5))},u.update=function(t){i.prototype.update.call(this,t)},u._onDieAniEnd=function(){this.remove()},e(r,[{key:"type",get:function(){return this._config.type}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(i){this._isAutoRefresh=i}},{key:"canBreakMove",get:function(){return 1==this._config.break_move}},{key:"iconNode",get:function(){return this._barrierView.iconNode}}]),r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum.ts"],(function(i){var t,e,n,s;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy,n=i.Vec3},function(i){s=i.ERoleStatus}],execute:function(){e._RF.push({},"3c854VmVpRHy4GHZahbVlmk","RoleBase",void 0);i("RoleBase",function(){function i(){this._roleType=void 0,this._radius=void 0,this._size=void 0,this._view=void 0,this._activeVisible=!0,this._waitRemove=!1,this._enable=!0,this._status=s.None,this._position=new n,this._angle=0}var e=i.prototype;return e.setVisible=function(i){var t;null==(t=this._view)||t.setVisible(i)},e.setActiveView=function(i){this._activeVisible=i,this._updateVisibleView(),this._onVisibleChange()},e._calcVisible=function(){return this._activeVisible},e._updateVisibleView=function(){this.setVisible(this._calcVisible())},e._onVisibleChange=function(){},e.birth=function(){this._status=s.Birth,this._onBirth()},e.idle=function(){this._status=s.Idle,this._onIdle()},e.death=function(){this._status=s.Death,this._onDeath()},e.remove=function(){this._status=s.Remove,this._onRemove()},e.isRemove=function(){return this._status==s.Remove},e._onBirth=function(){},e._onIdle=function(){},e._onDeath=function(){this._enable=!1},e._onRemove=function(){this._waitRemove=!0,this._enable=!1},e.setPos=function(i){var t;this._position.set(i.x,i.y),null==(t=this._view)||t.setPos(this._position),this._onPosChange()},e.setPos2f=function(i,t){var e;this._position.set(i,t),null==(e=this._view)||e.setPos(this._position),this._onPosChange()},e.getPos=function(){var i;return null==(i=this._view)||i.getPos(this._position),this._position},e._onPosChange=function(){},e.setAngle=function(i){var t;this._angle=i,null==(t=this._view)||t.setAngle(this._angle)},e.init=function(i){for(var t,e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];this._onInit.apply(this,[i].concat(n)),this._initView(),null==(t=this._view)||t.getPos(this._position)},e.update=function(i){},e.hideView=function(){var i;null==(i=this._view)||i.hideView()},e.showView=function(){var i;null==(i=this._view)||i.showView()},e.removeView=function(){var i;null==(i=this._view)||i.remove(),this._view=null},e.destory=function(){this.removeView()},t(i,[{key:"roleType",get:function(){return this._roleType}},{key:"radius",get:function(){return this._radius}},{key:"size",get:function(){return this._size}},{key:"view",get:function(){return this._view}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"enable",get:function(){return this._enable}},{key:"pos",get:function(){return this._position}},{key:"angle",get:function(){return this._angle}}]),i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBase2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleEnum.ts"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t.Vec3},function(t){s=t.ERoleStatus}],execute:function(){i._RF.push({},"a7311BanFZO5b/yEh3jSTDv","RoleBase",void 0);t("RoleBase",function(){function t(){this._roleType=void 0,this._radius=void 0,this._view=void 0,this._waitRemove=!1,this._enable=!0,this._status=s.None,this._position=new n,this._angle=0}var i=t.prototype;return i.setVisible=function(t){var e;null==(e=this._view)||e.setVisible(t)},i.birth=function(){this._status=s.Birth,this._onBirth()},i.idle=function(){this._status=s.Idle,this._onIdle()},i.death=function(){this._status=s.Death,this._onDeath()},i.remove=function(){this._status=s.Remove,this._onRemove()},i.isRemove=function(){return this._status==s.Remove},i._onBirth=function(){},i._onIdle=function(){},i._onDeath=function(){this._enable=!1},i._onRemove=function(){this._waitRemove=!0,this._enable=!1},i.setPos=function(t){var e;this._position.set(t.x,t.y),null==(e=this._view)||e.setPos(this._position),this._onPosChange()},i.setPos2f=function(t,e){var i;this._position.set(t,e),null==(i=this._view)||i.setPos(this._position),this._onPosChange()},i.getPos=function(){var t;return null==(t=this._view)||t.getPos(this._position),this._position},i._onPosChange=function(){},i.setAngle=function(t){var e;this._angle=t,null==(e=this._view)||e.setAngle(this._angle)},i.init=function(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this._onInit.apply(this,[t].concat(n)),this._initView(),null==(e=this._view)||e.getPos(this._position),this._onEnter()},i.initByView=function(t,e){for(var i,n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o];this._onInit.apply(this,[t].concat(s)),this._initView(e),null==(i=this._view)||i.getPos(this._position),this._onEnter()},i._onEnter=function(){},i.update=function(t){},i.setParent=function(t){var e;null==(e=this._view)||e.setParent(t)},i.removeParent=function(){var t;null==(t=this._view)||t.removeParent()},i.removeView=function(){var t;null==(t=this._view)||t.remove(),this._view=null},i.destory=function(){this.removeView()},i.roleIsInRect=function(t,e){return!1},i.hurt=function(t,e){},e(t,[{key:"roleType",get:function(){return this._roleType}},{key:"radius",get:function(){return this._radius}},{key:"size",get:function(){return this._view.size}},{key:"view",get:function(){return this._view}},{key:"def",get:function(){return 0}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"enable",get:function(){return this._enable}},{key:"pos",get:function(){return this._position}},{key:"angle",get:function(){return this._angle}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBase3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum3.ts"],(function(i){var t,e,n,s;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy,n=i.Vec3},function(i){s=i.ERoleStatus}],execute:function(){e._RF.push({},"d7c3fOQrFtKAq+mAKh3Owv3","RoleBase3",void 0);i("RoleBase3",function(){function i(){this._roleType=void 0,this._radius=void 0,this._size=void 0,this._view=void 0,this._activeVisible=!0,this._waitRemove=!1,this._enable=!0,this._isMoving=!1,this._status=s.None,this._position=new n,this._angle=0}var e=i.prototype;return e.setVisible=function(i){var t;null==(t=this._view)||t.setVisible(i)},e.setActiveView=function(i){this._activeVisible=i,this._updateVisibleView(),this._onVisibleChange()},e._calcVisible=function(){return this._activeVisible},e._updateVisibleView=function(){this.setVisible(this._calcVisible())},e._onVisibleChange=function(){},e.birth=function(){this._status=s.Birth,this._onBirth()},e.idle=function(){this._status=s.Idle,this._onIdle()},e.death=function(){this._status=s.Death,this._onDeath()},e.remove=function(){this._status=s.Remove,this._onRemove()},e.isRemove=function(){return this._status==s.Remove},e._onBirth=function(){},e._onIdle=function(){},e._onDeath=function(){this._enable=!1,this._isMoving=!1},e._onRemove=function(){this._waitRemove=!0,this._enable=!1,this._isMoving=!1},e.setPos=function(i){var t;this._position.set(i.x,i.y),null==(t=this._view)||t.setPos(this._position),this._onPosChange()},e.setPos2f=function(i,t){var e;this._position.set(i,t),null==(e=this._view)||e.setPos(this._position),this._onPosChange()},e.getPos=function(){var i;return null==(i=this._view)||i.getPos(this._position),this._position},e._onPosChange=function(){},e.setAngle=function(i){var t;this._angle=i,null==(t=this._view)||t.setAngle(this._angle)},e.init=function(i){for(var t,e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];this._onInit.apply(this,[i].concat(n)),this._initView(),null==(t=this._view)||t.getPos(this._position)},e.update=function(i){},e.hideView=function(){var i;null==(i=this._view)||i.hideView()},e.showView=function(){var i;null==(i=this._view)||i.showView()},e.removeView=function(){var i;null==(i=this._view)||i.remove(),this._view=null},e.destory=function(){this.removeView()},t(i,[{key:"roleType",get:function(){return this._roleType}},{key:"radius",get:function(){return this._radius}},{key:"size",get:function(){return this._size}},{key:"view",get:function(){return this._view}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"enable",get:function(){return this._enable}},{key:"pos",get:function(){return this._position}},{key:"angle",get:function(){return this._angle}}]),i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBase4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDEnum4.ts"],(function(i){var t,e,n,s,o;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy,n=i.Vec3},function(i){s=i.YT},function(i){o=i.ERoleStatus}],execute:function(){e._RF.push({},"b37a2+aWAFIiKv7AVu0Cd3F","RoleBase4",void 0);i("RoleBase",function(){function i(){this.uniqueId=1,this._roleType=void 0,this._radius=void 0,this._size=void 0,this._view=void 0,this._activeVisible=!0,this._waitRemove=!1,this._enable=!0,this._status=o.None,this._position=new n,this._angle=0}var e=i.prototype;return e.setVisible=function(i){var t;null==(t=this._view)||t.setVisible(i)},e.setActiveView=function(i){this._activeVisible=i,this._updateVisibleView(),this._onVisibleChange()},e._calcVisible=function(){return this._activeVisible},e._updateVisibleView=function(){this.setVisible(this._calcVisible())},e._onVisibleChange=function(){},e.birth=function(){this._status=o.Birth,this._onBirth()},e.idle=function(){this._status=o.Idle,this._onIdle()},e.death=function(){this._status=o.Death,this._onDeath()},e.remove=function(){this._status=o.Remove,this._onRemove(),s.message.dispatchEvent("roleRemove",this)},e.isRemove=function(){return this._status==o.Remove},e._onBirth=function(){},e._onIdle=function(){},e._onDeath=function(){this._enable=!1},e._onRemove=function(){this._waitRemove=!0,this._enable=!1},e.setPos=function(i){var t;this._position.set(i.x,i.y),null==(t=this._view)||t.setPos(this._position),this._onPosChange()},e.setPos2f=function(i,t){var e;this._position.set(i,t),null==(e=this._view)||e.setPos(this._position),this._onPosChange()},e.getPos=function(){var i;return null==(i=this._view)||i.getPos(this._position),this._position},e._onPosChange=function(){},e.setAngle=function(i){var t;this._angle=i,null==(t=this._view)||t.setAngle(this._angle)},e.init=function(i){for(var t,e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];this._onInit.apply(this,[i].concat(n)),this._initView(),null==(t=this._view)||t.getPos(this._position)},e.update=function(i){},e.hideView=function(){var i;null==(i=this._view)||i.hideView()},e.showView=function(){var i;null==(i=this._view)||i.showView()},e.removeView=function(){var i;null==(i=this._view)||i.remove(),this._view=null},e.destory=function(){this.removeView()},t(i,[{key:"roleType",get:function(){return this._roleType}},{key:"radius",get:function(){return this._radius}},{key:"size",get:function(){return this._size}},{key:"view",get:function(){return this._view}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"enable",get:function(){return this._enable}},{key:"pos",get:function(){return this._position}},{key:"angle",get:function(){return this._angle}}]),i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBase5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDEnum5.ts"],(function(i){var t,e,n,s,o;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy,n=i.Vec3},function(i){s=i.YT},function(i){o=i.ERoleStatus}],execute:function(){e._RF.push({},"c4c65hb+UVJuqbx2waKWyrk","RoleBase5",void 0);i("RoleBase",function(){function i(){this.uniqueId=1,this._roleType=void 0,this._radius=void 0,this._size=void 0,this._view=void 0,this._activeVisible=!0,this._waitRemove=!1,this._enable=!0,this._status=o.None,this._position=new n,this._angle=0}var e=i.prototype;return e.setVisible=function(i){var t;null==(t=this._view)||t.setVisible(i)},e.setActiveView=function(i){this._activeVisible=i,this._updateVisibleView(),this._onVisibleChange()},e._calcVisible=function(){return this._activeVisible},e._updateVisibleView=function(){this.setVisible(this._calcVisible())},e._onVisibleChange=function(){},e.birth=function(){this._status=o.Birth,this._onBirth()},e.idle=function(){this._status=o.Idle,this._onIdle()},e.death=function(){this._status=o.Death,this._onDeath()},e.remove=function(){this._status=o.Remove,this._onRemove(),s.message.dispatchEvent("roleRemove",this)},e.isRemove=function(){return this._status==o.Remove},e.hurt=function(i,t){},e._onIdle=function(){},e._onBirth=function(){},e._onDeath=function(){this._enable=!1},e._onRemove=function(){this._waitRemove=!0,this._enable=!1},e.setPos=function(i){var t;this._position.set(i.x,i.y),null==(t=this._view)||t.setPos(this._position),this._onPosChange()},e.setPos2f=function(i,t){var e;this._position.set(i,t),null==(e=this._view)||e.setPos(this._position),this._onPosChange()},e.getPos=function(){var i;return null==(i=this._view)||i.getPos(this._position),this._position},e._onPosChange=function(){},e.setAngle=function(i){var t;this._angle=i,null==(t=this._view)||t.setAngle(this._angle)},e.init=function(i){for(var t,e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];this._onInit.apply(this,[i].concat(n)),this._initView(),null==(t=this._view)||t.getPos(this._position)},e.update=function(i){},e.hideView=function(){var i;null==(i=this._view)||i.hideView()},e.showView=function(){var i;null==(i=this._view)||i.showView()},e.removeView=function(){var i;null==(i=this._view)||i.remove(),this._view=null},e.destory=function(){this.removeView()},t(i,[{key:"roleType",get:function(){return this._roleType}},{key:"radius",get:function(){return this._radius}},{key:"size",get:function(){return this._size}},{key:"view",get:function(){return this._view}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"enable",get:function(){return this._enable}},{key:"pos",get:function(){return this._position}},{key:"angle",get:function(){return this._angle}}]),i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBase6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum6.ts"],(function(i){var t,e,n,s;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy,n=i.Vec3},function(i){s=i.ERoleStatus}],execute:function(){e._RF.push({},"e295dzxvzZHh6KUpBjty0I7","RoleBase6",void 0);i("RoleBase",function(){function i(){this._roleType=void 0,this._radius=void 0,this._size=void 0,this._view=void 0,this._activeVisible=!0,this._waitRemove=!1,this._enable=!0,this._status=s.None,this._position=new n,this._angle=0}var e=i.prototype;return e.setVisible=function(i){var t;null==(t=this._view)||t.setVisible(i)},e.setActiveView=function(i){this._activeVisible=i,this._updateVisibleView(),this._onVisibleChange()},e._calcVisible=function(){return this._activeVisible},e._updateVisibleView=function(){this.setVisible(this._calcVisible())},e._onVisibleChange=function(){},e.birth=function(){this._status=s.Birth,this._onBirth()},e.idle=function(){this._status=s.Idle,this._onIdle()},e.death=function(){this._status=s.Death,this._onDeath()},e.remove=function(){this._status=s.Remove,this._onRemove()},e.isRemove=function(){return this._status==s.Remove},e._onBirth=function(){},e._onIdle=function(){},e._onDeath=function(){this._enable=!1},e._onRemove=function(){this._waitRemove=!0,this._enable=!1},e.setPos=function(i){var t;this._position.set(i.x,i.y),null==(t=this._view)||t.setPos(this._position),this._onPosChange()},e.setPos2f=function(i,t){var e;this._position.set(i,t),null==(e=this._view)||e.setPos(this._position),this._onPosChange()},e.getPos=function(){var i;return null==(i=this._view)||i.getPos(this._position),this._position},e._onPosChange=function(){},e.setAngle=function(i){var t;this._angle=i,null==(t=this._view)||t.setAngle(this._angle)},e.init=function(i){for(var t,e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];this._onInit.apply(this,[i].concat(n)),this._initView(),null==(t=this._view)||t.getPos(this._position)},e.update=function(i){},e.hideView=function(){var i;null==(i=this._view)||i.hideView()},e.showView=function(){var i;null==(i=this._view)||i.showView()},e.removeView=function(){var i;null==(i=this._view)||i.remove(),this._view=null},e.destory=function(){this.removeView()},t(i,[{key:"roleType",get:function(){return this._roleType}},{key:"radius",get:function(){return this._radius}},{key:"size",get:function(){return this._size}},{key:"view",get:function(){return this._view}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"enable",get:function(){return this._enable}},{key:"pos",get:function(){return this._position}},{key:"angle",get:function(){return this._angle}}]),i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBaseCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,s,i,n,a,d,h,r,l;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,d=e._decorator,h=e.Node,r=e.Vec3,l=e.Component}],execute:function(){var c,_,w,u,f;a._RF.push({},"03594HJ7HZNh6Ec4GU9y7zG","RoleBaseCmp",void 0);var p=d.ccclass,N=d.property,v=(e("RoleBaseCmp",(c=p("RoleBaseCmp"),_=N({type:h,displayName:"展示节点",visible:!0}),c((f=o((u=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o=e.call.apply(e,[this].concat(n))||this,s(o,"_viewRoot",f,i(o)),o._parent=void 0,o._modelRootScale=new r,o._shadowNode=void 0,o._shadowNodeOffsetBase=new r,o._shadowNodeOffset=new r,o}t(o,e);var a=o.prototype;return a.setParent=function(e){this._parent=e,this.node.parent=e,this._shadowNode&&(this._shadowNode.parent=globalThis.ShadowRoot)},a.removeParent=function(){this.node.removeFromParent(),this._shadowNode&&this._shadowNode.removeFromParent()},a.setPos=function(e){this.node.setWorldPosition(e),this._shadowNode&&(r.add(m,e,this._shadowNodeOffset),this._shadowNode.setWorldPosition(m))},a.getPos=function(e){this.node.getWorldPosition(e)},a.setAngle=function(e){this.node.angle=e},a.getAngle=function(){return this.node.angle},a.setModelFlipX=function(e){this._viewRoot.getScale(this._modelRootScale),this._modelRootScale.x=Math.abs(this._modelRootScale.x)*(e?-1:1),this._viewRoot.setScale(this._modelRootScale),this._shadowNode&&(this._shadowNode.getScale(S),S.x=Math.abs(S.x)*(e?-1:1),this._shadowNode.setScale(S))},a.remove=function(){this.node.destroy(),this._destroyShadow()},a.setVisible=function(e){this.node.active=e,this._shadowNode&&(this._shadowNode.active=e)},a._destroyShadow=function(){this._shadowNode&&(this._shadowNode.destroy(),this._shadowNode=null)},a._setShadowNode=function(e){this._shadowNode=this._findShadow(e),this._shadowNode&&(e.getWorldPosition(g),this._shadowNode.getWorldPosition(m),r.subtract(this._shadowNodeOffsetBase,m,g),this._shadowNodeOffset.set(this._shadowNodeOffsetBase),this._shadowNode.parent=globalThis.ShadowRoot)},a._findShadow=function(e){if(e.name==v)return e;var o=null,t=0,s=e.children.length;for(t=0;t<s;++t)if(o=this._findShadow(e.children[t]))return o;return null},n(o,[{key:"size",get:function(){return null}}]),o}(l)).prototype,"_viewRoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=u))||w)),"YY"),g=new r,m=new r,S=new r;a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBaseCmp2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,n,s,l,r,a,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Node,a=e.Vec3,c=e.Component}],execute:function(){var u,p,d,h,f;s._RF.push({},"f0094XI4l5DDqIkb/3LLFh3","RoleBaseCmp",void 0);var m=l.ccclass,v=l.property;e("RoleBaseCmp",(u=m("RoleBaseCmp"),p=v({type:r,displayName:"展示节点",visible:!0}),u((f=o((h=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return o=e.call.apply(e,[this].concat(s))||this,i(o,"_viewRoot",f,n(o)),o._modelRootScale=new a,o}t(o,e);var s=o.prototype;return s.setPos=function(e){this.node.setWorldPosition(e)},s.getPos=function(e){this.node.getWorldPosition(e)},s.setAngle=function(e){this.node.angle=e},s.getAngle=function(){return this.node.angle},s.setModelFlipX=function(e){this._viewRoot.getScale(this._modelRootScale),this._modelRootScale.x=Math.abs(this._modelRootScale.x)*(e?-1:1),this._viewRoot.setScale(this._modelRootScale)},s.remove=function(){this.node.destroy()},s.showView=function(){},s.hideView=function(){this.node.removeFromParent()},s.setVisible=function(e){this.node.active=e},o}(c)).prototype,"_viewRoot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBaseCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,n,s,l,r,a,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Node,a=e.Vec3,c=e.Component}],execute:function(){var u,d,p,h,f;s._RF.push({},"685feuHhldJz4SndwI2AGSM","RoleBaseCmp3",void 0);var m=l.ccclass,v=l.property;e("RoleBaseCmp3",(u=m("RoleBaseCmp3"),d=v({type:r,displayName:"展示节点",visible:!0}),u((f=o((h=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return o=e.call.apply(e,[this].concat(s))||this,i(o,"_viewRoot",f,n(o)),o._modelRootScale=new a,o}t(o,e);var s=o.prototype;return s.setPos=function(e){this.node.setWorldPosition(e)},s.getPos=function(e){this.node.getWorldPosition(e)},s.setAngle=function(e){this.node.angle=e},s.getAngle=function(){return this.node.angle},s.setModelFlipX=function(e){this._viewRoot.getScale(this._modelRootScale),this._modelRootScale.x=Math.abs(this._modelRootScale.x)*(e?-1:1),this._viewRoot.setScale(this._modelRootScale)},s.remove=function(){this.node.destroy()},s.showView=function(){},s.hideView=function(){this.node.removeFromParent()},s.setVisible=function(e){this.node.active=e},o}(c)).prototype,"_viewRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBaseCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,n,s,l,r,a,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Node,a=e.Vec3,c=e.Component}],execute:function(){var u,d,p,h,f;s._RF.push({},"5bcd8Rmv8ZOe6LbPsegWWsP","RoleBaseCmp4",void 0);var m=l.ccclass,v=l.property;e("RoleBaseCmp4",(u=m("RoleBaseCmp4"),d=v({type:r,displayName:"展示节点",visible:!0}),u((f=o((h=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return o=e.call.apply(e,[this].concat(s))||this,i(o,"_viewRoot",f,n(o)),o._modelRootScale=new a,o}t(o,e);var s=o.prototype;return s.setPos=function(e){this.node.setWorldPosition(e)},s.getPos=function(e){this.node.getWorldPosition(e)},s.setAngle=function(e){this.node.angle=e},s.getAngle=function(){return this.node.angle},s.setModelFlipX=function(e){this._viewRoot.getScale(this._modelRootScale),this._modelRootScale.x=Math.abs(this._modelRootScale.x)*(e?-1:1),this._viewRoot.setScale(this._modelRootScale)},s.remove=function(){this.node.destroy()},s.showView=function(){},s.hideView=function(){this.node.removeFromParent()},s.setVisible=function(e){this.node.active=e},o}(c)).prototype,"_viewRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBaseCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,n,s,l,r,c,a;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Node,c=e.Vec3,a=e.Component}],execute:function(){var u,d,p,h,f;s._RF.push({},"b289cYFX89IPJ2Nck/d/diO","RoleBaseCmp5",void 0);var m=l.ccclass,v=l.property;e("RoleBaseCmp5",(u=m("RoleBaseCmp5"),d=v({type:r,displayName:"展示节点",visible:!0}),u((f=o((h=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return o=e.call.apply(e,[this].concat(s))||this,i(o,"_viewRoot",f,n(o)),o._modelRootScale=new c,o}t(o,e);var s=o.prototype;return s.setPos=function(e){this.node.setWorldPosition(e)},s.getPos=function(e){this.node.getWorldPosition(e)},s.setAngle=function(e){this.node.angle=e},s.getAngle=function(){return this.node.angle},s.setModelFlipX=function(e){this._viewRoot.getScale(this._modelRootScale),this._modelRootScale.x=Math.abs(this._modelRootScale.x)*(e?-1:1),this._viewRoot.setScale(this._modelRootScale)},s.remove=function(){this.node.destroy()},s.showView=function(){},s.hideView=function(){this.node.removeFromParent()},s.setVisible=function(e){this.node.active=e},o}(a)).prototype,"_viewRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBaseCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,n,s,l,r,c,a;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Node,c=e.Vec3,a=e.Component}],execute:function(){var u,d,p,h,f;s._RF.push({},"7c063VWIKdAgYb7nFHcS1OO","RoleBaseCmp6",void 0);var m=l.ccclass,v=l.property;e("RoleBaseCmp6",(u=m("RoleBaseCmp6"),d=v({type:r,displayName:"展示节点",visible:!0}),u((f=o((h=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return o=e.call.apply(e,[this].concat(s))||this,i(o,"_viewRoot",f,n(o)),o._modelRootScale=new c,o}t(o,e);var s=o.prototype;return s.setPos=function(e){this.node.setWorldPosition(e)},s.getPos=function(e){this.node.getWorldPosition(e)},s.setAngle=function(e){this.node.angle=e},s.getAngle=function(){return this.node.angle},s.setModelFlipX=function(e){this._viewRoot.getScale(this._modelRootScale),this._modelRootScale.x=Math.abs(this._modelRootScale.x)*(e?-1:1),this._viewRoot.setScale(this._modelRootScale)},s.remove=function(){this.node.destroy()},s.showView=function(){},s.hideView=function(){this.node.removeFromParent()},s.setVisible=function(e){this.node.active=e},o}(a)).prototype,"_viewRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBaseTower5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState5.ts","./RoleTower5.ts"],(function(t){var e,i,n,o,r,s,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.tween,o=t.v3,r=t.Vec3},function(t){s=t.ZDGameState5},function(t){h=t.RoleTower}],execute:function(){i._RF.push({},"029fc2eAh5Hm5Waga7ZDbNO","RoleBaseTower5",void 0);t("RoleBaseTower",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).hp=void 0,e.maxHp=void 0,e.hurtAniming=!1,e}e(i,t);var h=i.prototype;return h._onInit=function(e){for(var i,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(i=t.prototype._onInit).call.apply(i,[this,e].concat(o)),this.hp=this.maxHp=this.config.hp},h.hurt=function(e,i){var h=this;t.prototype.hurt.call(this,e,i),this.hp-=e,this.hp<this.maxHp?(this.hpProgress.node.active=!0,this.hpProgress.progress=this.hp/this.maxHp):this.hpProgress.node.active=!1,this.hp<=0&&s.runtime.control.lose(),this.hurtAniming||(this.hurtAniming=!0,n(this.view.node).to(.05,{scale:o(1.05,1.05,1.05)},{easing:"backOut"}).to(.025,{scale:r.ONE}).call((function(){h.hurtAniming=!1})).tag(88888).start()),s.runtime.ui.shanhongTime=2},h._updateFire=function(t){},i}(h));i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBuilding.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleEnum.ts","./BattleState.ts","./DamageTextCmp2.ts","./RoleBase2.ts"],(function(t){var i,e,n,o,s,h,p;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy},function(t){o=t.ERoleType},function(t){s=t.BattleState},function(t){h=t.DamageTextCmp},function(t){p=t.RoleBase}],execute:function(){n._RF.push({},"ffbc9k+pnZC2orwt2jzj+jq","RoleBuilding",void 0);t("RoleBuilding",function(t){function n(){var i;return(i=t.call(this)||this)._config=void 0,i._hp=void 0,i._maxHp=void 0,i._buildingCmp=void 0,i.buildingIndex=void 0,i.shopType=void 0,i._roleType=o.Building,i}i(n,t);var p=n.prototype;return p.update=function(i){t.prototype.update.call(this,i),this._onUpdate(i)},p._onUpdate=function(t){},p.hurt=function(t){this._hp<=0||(this._hp-=t,s.ins.control.roleMgr.player.atkBuildTm=1,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0&&this._die())},p.addHp=function(t){this.enable&&(t<0||(h.Show(2,"+"+Math.floor(t).toFixedNumberCNYI(),this.pos.x,this.pos.y),this._hp=Math.min(this._hp+t,this._maxHp),this._updateHpView()))},p.resumeFullHp=function(){this.enable&&(this._hp=this._maxHp,this._updateHpView())},p.getHpPercent=function(){return this._hp/this._maxHp},p._die=function(){this.death()},p._onDeath=function(){t.prototype._onDeath.call(this),this.setVisible(!1),s.ins.control.roleMgr.buildingDie(this,this.buildingIndex)},p._onBirth=function(){t.prototype._onBirth.call(this),this.setVisible(!0)},p.revive=function(){this.birth(),this._hp=this._maxHp,this._updateHpView(),this._enable=!0},p._updateHpView=function(){var t,i=this._hp/this._maxHp;null==(t=this._buildingCmp)||t.updateHpPercent(i)},e(n,[{key:"config",get:function(){return this._config}}]),n}(p));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBuildingBaseCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleEnum.ts","./RoleBaseCmp.ts"],(function(e){var i,t,n,r,s,a,o,l,p,u,c,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass},function(e){a=e.cclegacy,o=e._decorator,l=e.ccenum,p=e.ProgressBar,u=e.Size},function(e){c=e.EBuildingType},function(e){y=e.RoleBaseCmp}],execute:function(){var h,B,d,f,_,g,m;a._RF.push({},"5b402k3GoxOyIzWAuqPzPXG","RoleBuildingBaseCmp",void 0);var z=o.ccclass,v=o.property;l(c);e("RoleBuildingBaseCmp",(h=z("RoleBuildingBaseCmp"),B=v({type:c,displayName:"类型",visible:!0}),d=v({type:p,displayName:"血条",visible:!0}),h((g=i((_=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s))||this,n(i,"_type",g,r(i)),n(i,"_hpBar",m,r(i)),i._size=void 0,i}t(i,e);var a=i.prototype;return a.update=function(e){},a.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},s(i,[{key:"type",get:function(){return this._type}},{key:"size",get:function(){return this._size||(this._size=new u,this._size.set(this.node.uiTransform.contentSize)),this._size}}]),i}(y)).prototype,"_type",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(_.prototype,"_hpBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBuildingCamp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./BattleState.ts","./BattleUtils.ts","./RoleBuilding.ts"],(function(t){var i,e,n,s,o,r,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t.Vec3},function(t){s=t.BuildsConfig},function(t){o=t.BattleState},function(t){r=t.BattleUtils},function(t){u=t.RoleBuilding}],execute:function(){e._RF.push({},"dae29GPwr5JCZGZEk+4zPx+","RoleBuildingCamp",void 0);t("RoleBuildingCamp",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this)._campView=void 0,i._resumeTm=void 0,i}i(e,t);var n=e.prototype;return n.isFullHp=function(){return this._hp>=this._maxHp},n._onInit=function(t){this._config=s.data[t],this._view=this._buildingCmp=this._campView=arguments.length<=1?void 0:arguments[1],this._resumeTm=0},n._initView=function(){this._campView.updateRes(this._config.res)},n._onEnter=function(){var t=this._config.hp;t*=1+o.ins.control.remainMgr.attr.campHpAddPercent,this._hp=this._maxHp=t},n.roleIsInRect=function(t,i){return a.set(t.pos.x,t.pos.y+this._view.size.height/2),r.isIntersectRectCircle(this.pos,this._campView.size,t.pos,i)},n.hurt=function(i){t.prototype.hurt.call(this,i),this.enable&&this._hp>0&&o.ins.control.view.hurtEffectLayer.hurt()},n._die=function(){o.ins.control.campDie()},n.revive=function(){this._hp=this._maxHp=2*this._maxHp,this._updateHpView()},n._onUpdate=function(t){this._updateResumeByPlayer(t)},n._updateResumeByPlayer=function(t){o.ins.control.cardsMgr.attr.isCampResumeHpByPlayer&&(r.getDistance(this.pos,o.ins.control.roleMgr.player.pos)>200?this._resumeTm=0:(this._resumeTm+=t,this._resumeTm>=1&&(this._resumeTm-=1,this.addHp(.01*this._maxHp))))},e}(u));var a=new n;e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBuildingCampFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./BattleEnum.ts","./BattleState.ts","./CampFireBuildingCmp.ts","./RoleBuilding.ts"],(function(i){var t,e,n,s,a,r,o,u,l;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i.math,s=i.Vec3},function(i){a=i.BuildsConfig},function(i){r=i.ERoleStatus},function(i){o=i.BattleState},function(i){u=i.CampFireBuildingCmp},function(i){l=i.RoleBuilding}],execute:function(){e._RF.push({},"331797v13JLFriCGyEDdlYS","RoleBuildingCampFire",void 0);i("RoleBuildingCampFire",function(i){function e(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=i.call.apply(i,[this].concat(n))||this)._campFireView=void 0,t._time=void 0,t._isInCd=void 0,t._frame=void 0,t}t(e,i);var s=e.prototype;return s._onInit=function(i){this._config=a.data[i]},s._initView=function(){var i;this._view=this._buildingCmp=this._campFireView=u.Create(this._config.res),this._radius=this._config.range/2,null==(i=this._campFireView)||i.setRange(this._config.range)},s._onEnter=function(){var i=this._config.hp;i*=1+o.ins.control.remainMgr.attr.buildingHpAddPercent,this._hp=this._maxHp=i},s.addRange=function(i){var t;this._radius*=i+1,null==(t=this._campFireView)||t.setRange(2*this._radius)},s._onBirth=function(){i.prototype._onBirth.call(this),this._time=0},s.update=function(t){i.prototype.update.call(this,t),this._frame+=1,this._frame>=10&&(this._frame=0),this._status==r.Birth?this._updateBirth(t):(this._status,r.Idle)},s._updateBirth=function(i){this._time+=i;var t=n.clamp01(this._time/.2);this._campFireView.setModelScale(1,t),t>=1&&(this._campFireView.setModelScale(1,1),this.idle(),this._isInCd=!1,this._time=0)},e}(l)),new s;e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBuildingGoldMine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./BattleEnum.ts","./BattleState.ts","./GoldMineBuildingCmp.ts","./RoleBuilding.ts"],(function(t){var i,e,n,o,l,s,u,a,d;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t.math,o=t.Vec3},function(t){l=t.BuildsConfig},function(t){s=t.ERoleStatus},function(t){u=t.BattleState},function(t){a=t.GoldMineBuildingCmp},function(t){d=t.RoleBuilding}],execute:function(){e._RF.push({},"1b3a6VK+rlDdotG3tP7eCOM","RoleBuildingGoldMine",void 0);t("RoleBuildingGoldMine",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._goldMineView=void 0,i._time=void 0,i}i(e,t);var o=e.prototype;return o._onInit=function(t){this._config=l.data[t]},o._initView=function(){this._view=this._buildingCmp=this._goldMineView=a.Create(this._config.res)},o._onEnter=function(){var t=this._config.hp;t*=1+u.ins.control.remainMgr.attr.buildingHpAddPercent,this._hp=this._maxHp=t},o._onBirth=function(){t.prototype._onBirth.call(this),this._time=0},o.update=function(i){t.prototype.update.call(this,i),this._status==s.Birth?this._updateBirth(i):this._status==s.Idle&&this._updateOut(i)},o._updateBirth=function(t){this._time+=t;var i=n.clamp01(this._time/.2);this._goldMineView.setModelScale(1,i),i>=1&&(this._goldMineView.setModelScale(1,1),this.idle(),this._time=0)},o._updateOut=function(t){this._time+=t,this._time>=1&&(this._goldMineView.setModelScale(1,1),u.ins.control.data.addGold(this._config.atk),this._goldMineView.playOut(),this._time-=1)},e}(d)),new o;e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBuildingRoadBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./RoadBlockBuildingCmp.ts","./RoleBuilding.ts"],(function(t){var i,e,s,o,n,a,r,l,u,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t.math,o=t.Vec3},function(t){n=t.BuildsConfig},function(t){a=t.ERoleStatus},function(t){r=t.BattleState},function(t){l=t.BattleUtils},function(t){u=t.RoadBlockBuildingCmp},function(t){c=t.RoleBuilding}],execute:function(){e._RF.push({},"c2325B6EmZHC6XCQ5rTw6+Z","RoleBuildingRoadBlock",void 0);t("RoleBuildingRoadBlock",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(i=t.call.apply(t,[this].concat(s))||this)._roadBlockView=void 0,i._time=void 0,i._resumeTm=0,i}i(e,t);var o=e.prototype;return o._onInit=function(t){this._config=n.data[t],this._time=0},o._initView=function(){this._view=this._buildingCmp=this._roadBlockView=u.Create(this._config.res),this._radius=this._roadBlockView.size.width/2},o._onEnter=function(){var t=this._config.hp;t*=1+r.ins.control.remainMgr.attr.buildingHpAddPercent,this._hp=this._maxHp=t},o._onBirth=function(){t.prototype._onBirth.call(this)},o.addMaxHp=function(t){var i=this._hp/this._maxHp;this._maxHp*=1+t,this._hp=this._maxHp*i,this._updateHpView()},o.onBuildTower=function(){var t=r.ins.control.cardsMgr.attr.addTowerAddRoadBlockMaxHpPercent;t>0&&this.addMaxHp(t)},o._onUpdate=function(t){this._status==a.Birth?this._updateBirth(t):this._status==a.Idle&&this._updateResumeHpByPlayer(t)},o._updateResumeHpByPlayer=function(t){if(r.ins.control.cardsMgr.attr.isRoadBlockResumeByPlayer){var i=l.getDistance(this.pos,r.ins.control.roleMgr.player.pos);i<this.radius+70&&i>this.radius-70?(this._resumeTm+=t,this._resumeTm>=1&&(this._resumeTm-=1,this.addHp(.04*this._maxHp))):this._resumeTm=0}},o._updateBirth=function(t){this._time+=t;var i=s.clamp01(this._time/.2);this._roadBlockView.setModelScale(1,i),i>=1&&(this._roadBlockView.setModelScale(1,1),this.idle(),this._time=0)},o.revive=function(){this._hp=this._maxHp,this._updateHpView(),this._enable=!0,this.birth()},e}(c)),new o;e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBuildingTower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./BulletConfig.ts","./YT.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./TowerBuildingCmp.ts","./RoleBuilding.ts"],(function(t){var e,i,r,n,o,s,a,l,u,c,g,h,d,_;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy,n=t.math,o=t.Vec3},function(t){s=t.BuildsConfig},function(t){a=t.BulletConfig},function(t){l=t.YT},function(t){u=t.ERoleStatus,c=t.ECamp},function(t){g=t.BattleState},function(t){h=t.BattleUtils},function(t){d=t.TowerBuildingCmp},function(t){_=t.RoleBuilding}],execute:function(){r._RF.push({},"a2230OazplFDbTEnHExZi75","RoleBuildingTower",void 0);var f=function(t){return t[t.Ready=0]="Ready",t[t.Coodown=1]="Coodown",t[t.Firing=2]="Firing",t}(f||{}),p=(t("RoleBuildingTower",function(t){function r(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._towerView=void 0,e._time=void 0,e._fireStatus=void 0,e._target=void 0,e._bulletCfg=void 0,e}e(r,t);var o=r.prototype;return o._onInit=function(t){this._fireStatus=f.Ready,this._config=s.data[t],this._bulletCfg=a.data[this._config.bullet]},o._initView=function(){this._view=this._buildingCmp=this._towerView=d.Create(this._config.res)},o._onEnter=function(){var t=this._config.hp;t*=1+g.ins.control.remainMgr.attr.buildingHpAddPercent,this._hp=this._maxHp=t},o._onBirth=function(){t.prototype._onBirth.call(this),this._time=0},o.update=function(e){t.prototype.update.call(this,e),this._status==u.Birth?this._updateBirth(e):this._status==u.Idle&&this._updateFire(e)},o._updateBirth=function(t){this._time+=t;var e=n.clamp01(this._time/.2);this._towerView.setModelScale(1,e),e>=1&&(this._towerView.setModelScale(1,1),this.idle(),this._time=0)},o._updateFire=function(t){this._fireStatus==f.Ready?(this._startFire(),this._time=0,this._fireStatus=f.Coodown):this._fireStatus==f.Coodown?(this._time+=t,this._time>=this._atkSpeed&&(this._fireStatus=f.Ready,this._time=0)):(this._fireStatus,f.Firing)},o._startFire=function(){l.audio.play(this._config.fire_audio);var t=this._bulletCfg.enemy_cnt;if(t>1){t+=g.ins.control.cardsMgr.attr.towerFireWeaponCntAdd;for(var e,i=g.ins.control.roleMgr.enemyMonsters,r=0;r<i.length&&!((e=i[r]).enable&&h.getDistance(e.pos,this.pos)<=this._config.range&&(this._fireByTarget(e),--t<=0));++r);}else{var n=this._bulletCfg.fire_cnt+g.ins.control.cardsMgr.attr.towerFireWeaponCntAdd;this._target=this._findTarget(),this._target&&this._fireByAngle(n,this._bulletCfg.fire_angle)}return!1},o._fireByTarget=function(t){var e=g.ins.control.roleMgr.addBullet(this._bulletCfg.id,c.Player);e.belone=this,e.setPos(this._towerView.firePos);var i=h.getPositionAngle(e.pos,t.pos)*Math.PI/180,r=Math.cos(i),n=Math.sin(i);e.startByDir(r,n,this.damage),e.splitCnt=g.ins.control.cardsMgr.attr.towerWeaponHitSplitCnt},o._findTarget=function(){for(var t,e=g.ins.control.roleMgr.enemyMonsters,i=0;i<e.length;++i)if(t=e[i],h.getDistance(t.pos,this.pos)<this._config.range)return t;return t},o._fireByAngle=function(t,e){var i=e;if(t%2==0)for(var r=t/2,n=0;r-- >0;)this._createBulletByAngle(i/2+n*i,this._target),this._createBulletByAngle(i/-2-n*i,this._target),n++;else{var o=Math.floor(t/2);this._createBulletByAngle(0,this._target);for(var s=1;o-- >0;)this._createBulletByAngle(s*i,this._target),this._createBulletByAngle(-s*i,this._target),s++}},o._createBulletByAngle=function(t,e){var i=g.ins.control.roleMgr.addBullet(this._bulletCfg.id,c.Player);i.belone=this;var r=h.getPositionAngle(this._towerView.firePos,e.pos)+t;r<0&&(r+=360),r>360&&(r%=360);var o=r*Math.PI/180,s=Math.cos(o),a=Math.sin(o);if(this._bulletCfg.random_radius>0){var l=n.randomRange(0,this._bulletCfg.random_radius);p.set(this._towerView.firePos),p.x+=s*l,p.y+=a*l,i.setPos(p)}else i.setPos(this._towerView.firePos);i.startByDir(s,a,this.damage),i.splitCnt=g.ins.control.cardsMgr.attr.towerWeaponHitSplitCnt},i(r,[{key:"_atkSpeed",get:function(){var t=this._config.atkSpeed,e=0;return g.ins.control.cardsMgr.attr.towerAtkSpeedByTowerCntAddPercent>0&&(e=(g.ins.control.roleMgr.towerBuildings.length-1)*g.ins.control.cardsMgr.attr.towerAtkSpeedByTowerCntAddPercent),g.ins.control.attrMgr.buffAddTowerAtkSpeedTime>0&&(e+=1),t/=1+e}},{key:"damage",get:function(){var t=this._config.atk,e=0;g.ins.control.cardsMgr.attr.campHealthAddBuildAtkPercent>0&&g.ins.control.roleMgr.campBuilding.isFullHp()&&(e=g.ins.control.cardsMgr.attr.campHealthAddBuildAtkPercent);var i=g.ins.control.remainMgr.attr.buildingAtkAddByCampHp;if(i>0){var r=g.ins.control.roleMgr.campBuilding.getHpPercent();e+=i*(100-(r=Math.floor(100*r)))}return t*=1+e}}]),r}(_)),new o);r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig4.ts","./BulletCmp.ts","./ZDUtils.ts","./ZDConst.ts","./ZDEnum.ts","./MoveRole.ts"],(function(t){var e,i,o,s,n,r,_,a,h,c,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t.Vec3},function(t){n=t.ZdBulletConfig},function(t){r=t.BulletCmp},function(t){_=t.ZDUtils},function(t){a=t.FRAME_TIME,h=t.BULLET_CFG},function(t){c=t.ERoleType},function(t){v=t.MoveRole}],execute:function(){o._RF.push({},"78074Xxtk1EUYFEILrUAd9L","RoleBullet",void 0);var u=function(t){return t[t.None=0]="None",t[t.MoveByTarget=1]="MoveByTarget",t[t.MoveByDir=2]="MoveByDir",t}(u||{});t("RoleBullet",function(t){function o(){var e;return(e=t.call(this)||this)._id=void 0,e._bulletView=void 0,e._config=void 0,e._isCreate=void 0,e._attackPower=void 0,e._moveDuation=void 0,e._moveTime=void 0,e._target=void 0,e._targetPos=void 0,e._moveType=void 0,e._canAtkHeroAI=void 0,e._canAtkHeroMain=void 0,e._canAtkMonster=void 0,e._roleType=c.Bullet,e._isCreate=!1,e._targetPos=new s,e._canAtkHeroAI=!1,e._canAtkHeroMain=!1,e._canAtkMonster=!1,e}e(o,t);var v=o.prototype;return v._onInit=function(t){this._id=t,!this._isCreate&&t>0&&(this._config=n.data[t],this._moveSpeed=this._config.move_speed,this._canAtkHeroAI=this._config.atk_ai_hero>0,this._canAtkHeroMain=this._config.atk_main_hero>0,this._canAtkMonster=this._config.atk_monster>0)},v._initView=function(){this._isCreate?this._bulletView.showView():this._view=this._bulletView=r.Create()},v._onBirth=function(){this._isCreate=!0,this._enable=!0,this._waitRemove=!1,this._moveType=u.None},v.destory=function(){var t;null==(t=this._bulletView)||t.hideView()},v.update=function(e){this.enable&&t.prototype.update.call(this,e)},v._updateMove=function(t){this._moveType==u.MoveByTarget?this._moveByTarget(t):this._moveType==u.MoveByDir&&this._moveByDir(t)},v.startByTarget=function(t,e){this._target=t,this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),this._attackPower=e,this._moveType=u.MoveByTarget},v.startByDir=function(t,e,i,o,s,n,r,a){this._moveDir.set(t,e),this._moveSpeed=i,this._moveDuation=o,this._attackPower=s,this._canAtkHeroAI=n,this._canAtkHeroMain=r,this._canAtkMonster=a,this._moveTime=0,this._moveType=u.MoveByDir,this._bulletView.setAngle(_.vectorToDegree(this._moveDir))},v._moveByTarget=function(t){this._target.enable&&this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),_.getPositionVector(this.pos,this._targetPos,this._moveDir),this._bulletView.setAngle(_.vectorToDegree(this._moveDir));var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),s.distance(this.pos,this._targetPos)<this._moveSpeed*a&&(this._contactTarget(),this.remove())},v._moveByDir=function(t){this._moveTime+=t;var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),this._moveTime>=this._moveDuation&&this.remove()},v._contactTarget=function(){this._target.enable&&(this._target.roleType==c.Monster?this._target.hurt(this._attackPower*h.ATK_MONSTER_RATE):(this._target.roleType==c.HeroAI||this._target.roleType==c.HeroMain)&&this._target.hurt(this._attackPower))},v.setRes=function(t){this._bulletView.setRes(t)},v.contactHero=function(t){t.hurt(this._attackPower),this.remove()},v.contactMonster=function(t){t.hurt(this._attackPower*h.ATK_MONSTER_RATE),this.remove()},i(o,[{key:"id",get:function(){return this._id}},{key:"canAtkHeroAI",get:function(){return this._canAtkHeroAI}},{key:"canAtkHeroMain",get:function(){return this._canAtkHeroMain}},{key:"canAtkMonster",get:function(){return this._canAtkMonster}},{key:"canCheckCollision",get:function(){return this.enable&&this._moveType==u.MoveByDir}}]),o}(v)),new s;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBullet2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletConfig.ts","./MainConst.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./EffectPool.ts","./RoleBulletCmp.ts","./MoveRole2.ts"],(function(t){var e,i,o,s,n,h,r,l,_,a,c,u,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t.Vec3},function(t){n=t.BulletConfig},function(t){h=t.FRAME_TIME},function(t){r=t.ECamp,l=t.ERoleType},function(t){_=t.BattleState},function(t){a=t.BattleUtils},function(t){c=t.EffectPool},function(t){u=t.RoleBulletCmp},function(t){v=t.MoveRole}],execute:function(){o._RF.push({},"d94a58fwkdNP4t+3AYWIniq","RoleBullet",void 0);var g=function(t){return t[t.None=0]="None",t[t.MoveByTarget=1]="MoveByTarget",t[t.MoveByDir=2]="MoveByDir",t}(g||{});t("RoleBullet",function(t){e(v,t);var o=v.prototype;function v(){var e;return(e=t.call(this)||this)._id=void 0,e._bulletView=void 0,e._atk=void 0,e._moveDuation=void 0,e._moveTime=void 0,e._target=void 0,e._targetPos=void 0,e._belong=void 0,e._moveType=void 0,e._camp=void 0,e._config=void 0,e._hurtTime=void 0,e._hurtCnt=void 0,e._splitCnt=void 0,e._roleType=l.Bullet,e._targetPos=new s,e._splitCnt=0,e}return o.canCollider=function(){return this._moveType==g.MoveByDir},o._onInit=function(t){this._id=t,this._config=n.data[this._id],this._moveSpeed=this._config.move_speed},o._initView=function(){this._view=this._bulletView=u.Create(this._config.model),this._view&&this.view.size&&(this._radius=this.view.size.width/2)},o.onCollect=function(){this.removeParent(),this._belong=null,this._splitCnt=0},o.onView=function(){this._waitRemove=!1,this._enable=!0,this.setParent(_.ins.control.runTimeData.levelControl.view.bulletRoot),this._belong=null,this._splitCnt=0},o.update=function(e){this.enable&&t.prototype.update.call(this,e)},o._updateMove=function(t){this._moveType==g.MoveByTarget?this._moveByTarget(t):this._moveType==g.MoveByDir&&this._moveByDir(t)},o.startByTarget=function(t,e){this._target=t,this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),this._atk=e,this._moveType=g.MoveByTarget},o.startByDir=function(t,e,i){this._moveDir.set(t,e),this._atk=i,this._moveTime=0,this._hurtTime=0,this._hurtCnt=0,this._moveType=g.MoveByDir,this._bulletView.setAngle(a.vectorToDegree(this._moveDir))},o._moveByTarget=function(t){this._target.enable&&this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),a.getPositionVector(this.pos,this._targetPos,this._moveDir),this._bulletView.setAngle(a.vectorToDegree(this._moveDir));var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),s.distance(this.pos,this._targetPos)<this._moveSpeed*h&&(this._config.is_exp?this._explote():(this.subRoleHp(this._target),this.remove()))},o._moveByDir=function(t){this._moveTime+=t;var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),this._moveTime>=this._config.life&&(this._config.is_exp?this._explote():this.remove()),this.enable&&this._hurtTime>=this._config.hurt_tm&&this._config.is_exp&&this.checkHurt()},o._explote=function(){if(c.ShowExploteEffect(this.pos.x,this.pos.y),this._camp==r.Player)for(var t,e=_.ins.control.roleMgr.enemyMonsters,i=0,o=e.length;i<o;++i)(t=e[i]).enable&&a.getDistance(t.pos,this.pos)<=this._config.exp_range&&this.subRoleHp(t);this.remove()},o.checkHurt=function(){if(this._camp==r.Player)for(var t,e=_.ins.control.roleMgr.enemyMonsters,i=0,o=e.length;i<o;++i)if((t=e[i]).enable&&a.isCrossByCircle2(t.pos,t.radius,this.pos,this.radius)){this.contactRole(t);break}},o.contactRole=function(t){this._hurtTime=0,this._hurtCnt+=1,this.subRoleHp(t),this.crossCnt>0&&this._hurtCnt>=this.crossCnt&&this.remove(),this._belong&&this._belong.roleType==l.Player&&this._hurtCnt>=this._config.cross&&(this._atk-=.2*this._atk)},o.subRoleHp=function(t){var e=this.damage;if(t.hurt(e,this._belong),t.roleType==l.EnemyMonster&&(t.isDeath&&this._belong&&this._belong.enable&&(this._belong.roleType==l.Player?(this._belong.remoteWeaponKillEnemy(),this._belong.killEnemyed(t)):this._belong.roleType==l.PlayerMonster&&this._belong.killEnemy()),this._belong.roleType==l.Building))for(;this._splitCnt-- >0;){var i=_.ins.control.roleMgr.addBullet(this._config.id,r.Player);i.setPos(this.pos);var o=Math.random()*Math.PI/2,s=Math.cos(o),n=Math.sin(o);i.startByDir(s,n,this.damage)}},i(v,[{key:"id",get:function(){return this._id}},{key:"belone",set:function(t){this._belong=t}},{key:"camp",set:function(t){this._camp=t}},{key:"damage",get:function(){return this._atk}},{key:"splitCnt",set:function(t){this._splitCnt=t}},{key:"crossCnt",get:function(){var t=this._config.cross;return t<=0||this._belong&&this._belong.roleType==l.Player&&(t+=_.ins.control.remainMgr.attr.remoteCrossCnt),t}}]),v}(v)),new s;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBullet3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig3.ts","./BulletCmp3.ts","./ZDUtils3.ts","./ZDConst3.ts","./ZDEnum3.ts","./MoveRole3.ts"],(function(t){var e,i,o,s,n,r,_,h,a,c,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t.Vec3},function(t){n=t.ZdBulletConfig},function(t){r=t.BulletCmp3},function(t){_=t.ZDUtils3},function(t){h=t.FRAME_TIME,a=t.BULLET_CFG},function(t){c=t.ERoleType},function(t){v=t.MoveRole3}],execute:function(){o._RF.push({},"27b75EPMcFOh4oTvkNhP/Mi","RoleBullet3",void 0);var u=function(t){return t[t.None=0]="None",t[t.MoveByTarget=1]="MoveByTarget",t[t.MoveByDir=2]="MoveByDir",t}(u||{});t("RoleBullet3",function(t){function o(){var e;return(e=t.call(this)||this)._id=void 0,e._bulletView=void 0,e._config=void 0,e._isCreate=void 0,e._attackPower=void 0,e._moveDuation=void 0,e._moveTime=void 0,e._target=void 0,e._targetPos=void 0,e._moveType=void 0,e._canAtkHeroAI=void 0,e._canAtkHeroMain=void 0,e._canAtkMonster=void 0,e._roleType=c.Bullet,e._isCreate=!1,e._targetPos=new s,e._canAtkHeroAI=!1,e._canAtkHeroMain=!1,e._canAtkMonster=!1,e}e(o,t);var v=o.prototype;return v._onInit=function(t){this._id=t,!this._isCreate&&t>0&&(this._config=n.data[t],this._moveSpeed=this._config.move_speed,this._canAtkHeroAI=this._config.atk_ai_hero>0,this._canAtkHeroMain=this._config.atk_main_hero>0,this._canAtkMonster=this._config.atk_monster>0)},v._initView=function(){this._isCreate?this._bulletView.showView():this._view=this._bulletView=r.Create()},v._onBirth=function(){this._isCreate=!0,this._enable=!0,this._waitRemove=!1,this._moveType=u.None},v.destory=function(){var t;null==(t=this._bulletView)||t.hideView()},v.update=function(e){this.enable&&t.prototype.update.call(this,e)},v._updateMove=function(t){this._moveType==u.MoveByTarget?this._moveByTarget(t):this._moveType==u.MoveByDir&&this._moveByDir(t)},v.startByTarget=function(t,e){this._target=t,this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),this._attackPower=e,this._moveType=u.MoveByTarget},v.startByDir=function(t,e,i,o,s,n,r,h){this._moveDir.set(t,e),this._moveSpeed=i,this._moveDuation=o,this._attackPower=s,this._canAtkHeroAI=n,this._canAtkHeroMain=r,this._canAtkMonster=h,this._moveTime=0,this._moveType=u.MoveByDir,this._bulletView.setAngle(_.vectorToDegree(this._moveDir))},v._moveByTarget=function(t){this._target.enable&&this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),_.getPositionVector(this.pos,this._targetPos,this._moveDir),this._bulletView.setAngle(_.vectorToDegree(this._moveDir));var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),s.distance(this.pos,this._targetPos)<this._moveSpeed*h&&(this._contactTarget(),this.remove())},v._moveByDir=function(t){this._moveTime+=t;var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),this._moveTime>=this._moveDuation&&this.remove()},v._contactTarget=function(){this._target.enable&&(this._target.roleType==c.Monster?this._target.hurt(this._attackPower*a.ATK_MONSTER_RATE):(this._target.roleType==c.HeroAI||this._target.roleType==c.HeroMain)&&this._target.hurt(this._attackPower))},v.setRes=function(t){this._bulletView.setRes(t)},v.contactHero=function(t){t.hurt(this._attackPower),this.remove()},v.contactMonster=function(t){t.hurt(this._attackPower*a.ATK_MONSTER_RATE),this.remove()},i(o,[{key:"id",get:function(){return this._id}},{key:"canAtkHeroAI",get:function(){return this._canAtkHeroAI}},{key:"canAtkHeroMain",get:function(){return this._canAtkHeroMain}},{key:"canAtkMonster",get:function(){return this._canAtkMonster}},{key:"canCheckCollision",get:function(){return this.enable&&this._moveType==u.MoveByDir}}]),o}(v)),new s;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBullet4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig.ts","./BulletCmp4.ts","./ZDUtils4.ts","./ZDConst4.ts","./ZDEnum4.ts","./MoveRole4.ts","./RoleMonster4.ts"],(function(t){var e,i,o,s,n,r,a,_,h,c,u,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t.Vec3},function(t){n=t.ZdBulletConfig},function(t){r=t.BulletCmp4},function(t){a=t.ZDUtils4},function(t){_=t.FRAME_TIME,h=t.BULLET_CFG},function(t){c=t.ERoleType},function(t){u=t.MoveRole4},function(t){v=t.MonsterType}],execute:function(){o._RF.push({},"5ae92xHriZBs59EL9rdRgu4","RoleBullet4",void 0);var l=function(t){return t[t.None=0]="None",t[t.MoveByTarget=1]="MoveByTarget",t[t.MoveByDir=2]="MoveByDir",t}(l||{});t("RoleBullet",function(t){function o(){var e;return(e=t.call(this)||this)._id=void 0,e._bulletView=void 0,e._config=void 0,e._isCreate=void 0,e._attackPower=void 0,e._moveDuation=void 0,e._moveTime=void 0,e._target=void 0,e._targetPos=void 0,e._moveType=void 0,e._canAtkHeroAI=void 0,e._canAtkHeroMain=void 0,e._canAtkMonster=void 0,e.campType=v.Tm,e.addAtkPct=0,e._roleType=c.Bullet,e._isCreate=!1,e._targetPos=new s,e._canAtkHeroAI=!1,e._canAtkHeroMain=!1,e._canAtkMonster=!1,e}e(o,t);var u=o.prototype;return u._onInit=function(t){this._id=t,!this._isCreate&&t>0&&(this._config=n.data[t],this._moveSpeed=this._config.move_speed,this._canAtkHeroAI=this._config.atk_ai_hero>0,this._canAtkHeroMain=this._config.atk_main_hero>0,this._canAtkMonster=this._config.atk_monster>0)},u._initView=function(){this._isCreate?this._bulletView.showView():this._view=this._bulletView=r.Create()},u._onBirth=function(){this._isCreate=!0,this._enable=!0,this._waitRemove=!1,this._moveType=l.None},u.destory=function(){var t;null==(t=this._bulletView)||t.hideView()},u.update=function(e){this.enable&&t.prototype.update.call(this,e)},u._updateMove=function(t){this._moveType==l.MoveByTarget?this._moveByTarget(t):this._moveType==l.MoveByDir&&this._moveByDir(t)},u.startByTarget=function(t,e){this._target=t,this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),this._attackPower=e,this._moveType=l.MoveByTarget},u.startByDir=function(t,e,i,o,s,n,r,_){this._moveDir.set(t,e),this._moveSpeed=i,this._moveDuation=o,this._attackPower=s,this._canAtkHeroAI=n,this._canAtkHeroMain=r,this._canAtkMonster=_,this._moveTime=0,this._moveType=l.MoveByDir,this._bulletView.setAngle(a.vectorToDegree(this._moveDir))},u._moveByTarget=function(t){this._target.enable&&this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),a.getPositionVector(this.pos,this._targetPos,this._moveDir),this._bulletView.setAngle(a.vectorToDegree(this._moveDir));var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),s.distance(this.pos,this._targetPos)<this._moveSpeed*_&&(this._contactTarget(),this.remove())},u._moveByDir=function(t){this._moveTime+=t;var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),this._moveTime>=this._moveDuation&&this.remove()},u._contactTarget=function(){this._target.enable&&(this._target.roleType==c.Monster?this._target.hurt(this._attackPower*h.ATK_MONSTER_RATE):(this._target.roleType==c.HeroAI||this._target.roleType==c.HeroMain)&&this._target.hurt(this._attackPower))},u.setRes=function(t){this._bulletView.setRes(t)},u.contactHero=function(t){this.campType!=t.campType&&(t.hurt(this._attackPower),this.remove())},u.contactMonster=function(t){this.campType!=t.campType&&(t.hurt(this._attackPower*h.ATK_MONSTER_RATE*(this.addAtkPct+1)),this.remove())},i(o,[{key:"id",get:function(){return this._id}},{key:"canAtkHeroAI",get:function(){return this._canAtkHeroAI}},{key:"canAtkHeroMain",get:function(){return this._canAtkHeroMain}},{key:"canAtkMonster",get:function(){return this._canAtkMonster}},{key:"canCheckCollision",get:function(){return this.enable&&this._moveType==l.MoveByDir}}]),o}(u)),new s;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBullet5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig5.ts","./BulletCmp5.ts","./ZDUtils5.ts","./ZDConst5.ts","./ZDEnum5.ts","./MoveRole5.ts","./RoleMonster5.ts"],(function(t){var e,i,o,s,n,r,a,h,_,c,u,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t.Vec3},function(t){n=t.ZdBulletConfig},function(t){r=t.BulletCmp5},function(t){a=t.ZDUtils4},function(t){h=t.FRAME_TIME,_=t.BULLET_CFG},function(t){c=t.ERoleType},function(t){u=t.MoveRole},function(t){v=t.CampType}],execute:function(){o._RF.push({},"ed69a9UMHRIVqU97svJhvQx","RoleBullet5",void 0);var l=function(t){return t[t.None=0]="None",t[t.MoveByTarget=1]="MoveByTarget",t[t.MoveByDir=2]="MoveByDir",t}(l||{});t("RoleBullet",function(t){function o(){var e;return(e=t.call(this)||this)._id=void 0,e._bulletView=void 0,e._config=void 0,e._isCreate=void 0,e._attackPower=void 0,e._moveDuation=void 0,e._moveTime=void 0,e._target=void 0,e._targetPos=void 0,e._moveType=void 0,e._canAtkHeroAI=void 0,e._canAtkHeroMain=void 0,e._canAtkMonster=void 0,e.campType=v.Tm,e.addAtkPct=0,e.buffIds=[],e._roleType=c.Bullet,e._isCreate=!1,e._targetPos=new s,e._canAtkHeroAI=!1,e._canAtkHeroMain=!1,e._canAtkMonster=!1,e}e(o,t);var u=o.prototype;return u._onInit=function(t){this._id=t,!this._isCreate&&t>0&&(this._config=n.data[t],this._moveSpeed=this._config.move_speed)},u._initView=function(){this._isCreate?this._bulletView.showView():this._view=this._bulletView=r.Create(this._config.model)},u._onBirth=function(){this._isCreate=!0,this._enable=!0,this._waitRemove=!1,this._moveType=l.None},u.destory=function(){var t;null==(t=this._bulletView)||t.hideView()},u.update=function(e){this.enable&&t.prototype.update.call(this,e)},u._updateMove=function(t){this._moveType==l.MoveByTarget?this._moveByTarget(t):this._moveType==l.MoveByDir&&this._moveByDir(t)},u.startByTarget=function(t,e){this._target=t,this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),this._attackPower=e,this._moveType=l.MoveByTarget},u.startByDir=function(t,e,i,o,s,n,r,h){this._moveDir.set(t,e),this._moveSpeed=i,this._moveDuation=o,this._attackPower=s,this._canAtkHeroAI=n,this._canAtkHeroMain=r,this._canAtkMonster=h,this._moveTime=0,this._moveType=l.MoveByDir,this._bulletView.setAngle(a.vectorToDegree(this._moveDir))},u._moveByTarget=function(t){this._target.enable&&this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),a.getPositionVector(this.pos,this._targetPos,this._moveDir),this._bulletView.setAngle(a.vectorToDegree(this._moveDir));var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),s.distance(this.pos,this._targetPos)<this._moveSpeed*h&&(this._contactTarget(),this.remove())},u._moveByDir=function(t){this._moveTime+=t;var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),this._moveTime>=this._moveDuation&&this.remove()},u._contactTarget=function(){this._target.enable&&(this._target.roleType==c.Monster?this._target.hurt(this._attackPower*_.ATK_MONSTER_RATE,this.buffIds):(this._target.roleType==c.HeroAI||this._target.roleType==c.HeroMain)&&this._target.hurt(this._attackPower,this.buffIds))},u.setRes=function(t){this._bulletView.setRes(t)},u.contactHero=function(t){this.campType!=t.campType&&(t.hurt(this._attackPower,this.buffIds),this.remove())},u.contactMonster=function(t){this.campType!=t.campType&&(t.hurt(this._attackPower*_.ATK_MONSTER_RATE*(this.addAtkPct+1),this.buffIds),this.remove())},i(o,[{key:"id",get:function(){return this._id}},{key:"canAtkHeroAI",get:function(){return this._canAtkHeroAI}},{key:"canAtkHeroMain",get:function(){return this._canAtkHeroMain}},{key:"canAtkMonster",get:function(){return this._canAtkMonster}},{key:"canCheckCollision",get:function(){return this.enable&&this._moveType==l.MoveByDir}}]),o}(u)),new s;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBullet6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig2.ts","./BulletCmp6.ts","./ZDUtils6.ts","./ZDConst6.ts","./ZDEnum6.ts","./MoveRole6.ts"],(function(t){var e,i,o,s,n,r,_,h,a,c,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t.Vec3},function(t){n=t.ZdBulletConfig},function(t){r=t.BulletCmp6},function(t){_=t.ZDUtils},function(t){h=t.FRAME_TIME,a=t.BULLET_CFG},function(t){c=t.ERoleType},function(t){v=t.MoveRole}],execute:function(){o._RF.push({},"cfbe4fwlvlPQ7hKacJ7mRUB","RoleBullet6",void 0);var u=function(t){return t[t.None=0]="None",t[t.MoveByTarget=1]="MoveByTarget",t[t.MoveByDir=2]="MoveByDir",t}(u||{});t("RoleBullet",function(t){function o(){var e;return(e=t.call(this)||this)._id=void 0,e._bulletView=void 0,e._config=void 0,e._isCreate=void 0,e._attackPower=void 0,e._moveDuation=void 0,e._moveTime=void 0,e._target=void 0,e._targetPos=void 0,e._moveType=void 0,e._canAtkHeroAI=void 0,e._canAtkHeroMain=void 0,e._canAtkMonster=void 0,e._roleType=c.Bullet,e._isCreate=!1,e._targetPos=new s,e._canAtkHeroAI=!1,e._canAtkHeroMain=!1,e._canAtkMonster=!1,e}e(o,t);var v=o.prototype;return v._onInit=function(t){this._id=t,!this._isCreate&&t>0&&(this._config=n.data[t],this._moveSpeed=this._config.move_speed,this._canAtkHeroAI=this._config.atk_ai_hero>0,this._canAtkHeroMain=this._config.atk_main_hero>0,this._canAtkMonster=this._config.atk_monster>0)},v._initView=function(){this._isCreate?this._bulletView.showView():this._view=this._bulletView=r.Create()},v._onBirth=function(){this._isCreate=!0,this._enable=!0,this._waitRemove=!1,this._moveType=u.None},v.destory=function(){var t;null==(t=this._bulletView)||t.hideView()},v.update=function(e){this.enable&&t.prototype.update.call(this,e)},v._updateMove=function(t){this._moveType==u.MoveByTarget?this._moveByTarget(t):this._moveType==u.MoveByDir&&this._moveByDir(t)},v.startByTarget=function(t,e){this._target=t,this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),this._attackPower=e,this._moveType=u.MoveByTarget,this.startMove(0,0)},v.startByDir=function(t,e,i,o,s,n,r,h){this._moveDir.set(t,e),this._moveSpeed=i,this._moveDuation=o,this._attackPower=s,this._canAtkHeroAI=n,this._canAtkHeroMain=r,this._canAtkMonster=h,this._moveTime=0,this._moveType=u.MoveByDir,this._bulletView.setAngle(_.vectorToDegree(this._moveDir)),this.startMove(this._moveDir.x,this._moveDir.y)},v._moveByTarget=function(t){this._target.enable&&this._targetPos.set(this._target.pos.x,this._target.pos.y+this._target.size.height/4),_.getPositionVector(this.pos,this._targetPos,this._moveDir),this._bulletView.setAngle(_.vectorToDegree(this._moveDir));var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),s.distance(this.pos,this._targetPos)<this._moveSpeed*h&&(this._contactTarget(),this.endMove(),this.remove())},v._moveByDir=function(t){this._moveTime+=t;var e=this.pos.x+this._moveDir.x*this._moveSpeed*t,i=this.pos.y+this._moveDir.y*this._moveSpeed*t;this.setPos2f(e,i),this._moveTime>=this._moveDuation&&(this.endMove(),this.remove())},v._contactTarget=function(){this._target.enable&&(this._target.roleType==c.Monster?this._target.hurt(this._attackPower*a.ATK_MONSTER_RATE):(this._target.roleType==c.HeroAI||this._target.roleType==c.HeroMain)&&this._target.hurt(this._attackPower))},v.setRes=function(t){this._bulletView.setRes(t)},v.contactHero=function(t){t.hurt(this._attackPower),this.remove()},v.contactMonster=function(t){t.hurt(this._attackPower*a.ATK_MONSTER_RATE),this.remove()},i(o,[{key:"id",get:function(){return this._id}},{key:"canAtkHeroAI",get:function(){return this._canAtkHeroAI}},{key:"canAtkHeroMain",get:function(){return this._canAtkHeroMain}},{key:"canAtkMonster",get:function(){return this._canAtkMonster}},{key:"canCheckCollision",get:function(){return this.enable&&this._moveType==u.MoveByDir}}]),o}(v)),new s;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBulletCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleState.ts","./RoleBaseCmp.ts"],(function(e){var t,o,n,i,r,s,l,a,c,u,d;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy,i=e._decorator,r=e.Size,s=e.MotionStreak},function(e){l=e.ViewUtil},function(e){a=e.MAIN_BUNDLE,c=e.MAIN_PREFABS},function(e){u=e.BattleState},function(e){d=e.RoleBaseCmp}],execute:function(){var m;n._RF.push({},"88990ezCBdFAKSsISeDzxoE","RoleBulletCmp",void 0);var p=i.ccclass;i.property,e("RoleBulletCmp",p("RoleBulletCmp")(m=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._size=void 0,t._modelNode=void 0,t._motionNode=void 0,t}t(n,e),n.Create=function(e){var t=l.createPrefabNode(c.BulletView,a).getComponent(n);return t._init(e),t};var i=n.prototype;return i._init=function(e){this.setModelRes(e)},i.setModelRes=function(e){if(this._modelNode=l.createPrefabNode(e,a),this._modelNode){this._modelNode.parent=this._viewRoot,this._motionNode=this._modelNode.getChildByName("_MOTION");var t=this._modelNode.uiTransform.contentSize;this._size=new r(t)}},i.setParent=function(t){var o;(e.prototype.setParent.call(this,t),this._motionNode)&&(this._motionNode.parent=u.ins.control.runTimeData.levelControl.view.motionRoot,null==(o=this._motionNode)||o.getComponent(s).reset())},i.removeFromParent=function(){var t,o;e.prototype.removeParent.call(this),null==(t=this._motionNode)||t.getComponent(s).reset(),null==(o=this._motionNode)||o.removeFromParent()},i.setPos=function(t){var o;e.prototype.setPos.call(this,t),null==(o=this._motionNode)||o.setWorldPosition(t)},o(n,[{key:"size",get:function(){return this._size}}]),n}(d))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBulletPool.ts",["cc","./RoleBullet.ts"],(function(o){var t,l;return{setters:[function(o){t=o.cclegacy},function(o){l=o.RoleBullet}],execute:function(){t._RF.push({},"10c69B0za1B9osx5c54c+96","RoleBulletPool",void 0),o("RoleBulletPool",function(){function o(){}return o.Get=function(o){var t=this._pool[o];t||(this._pool[o]=t=[]);var e=t.shift();return e||(e=new l),e},o.Put=function(o){this._pool[o.id].push(o)},o.Clear=function(){for(var o in this._pool){for(var t=this._pool[o],l=0;l<t.length;++l){var e;null==(e=t[l].view)||e.remove()}t.length=0}},o}())._pool={},t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBulletPool2.ts",["cc","./RoleBullet2.ts"],(function(o){var t,e;return{setters:[function(o){t=o.cclegacy},function(o){e=o.RoleBullet}],execute:function(){t._RF.push({},"e26c3s1xNlAa7PPz9OP+jf2","RoleBulletPool",void 0);o("RoleBulletPool",function(){function o(){this._pool=void 0,this._pool={}}var t=o.prototype;return t.pop=function(o){var t,e=this._pool[o];return e&&(t=e.shift()),t||(t=this._createNew(o)),t.onView(),t},t.push=function(o){var t=o.id,e=this._pool[t];e||(e=this._pool[t]=[]),e.push(o),o.onCollect()},t._createNew=function(o){var t=new e;return t.init(o),t},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBulletPool3.ts",["cc","./RoleBullet3.ts"],(function(o){var t,l;return{setters:[function(o){t=o.cclegacy},function(o){l=o.RoleBullet3}],execute:function(){t._RF.push({},"8ad31ivUMlP/pqNFZxLUAlx","RoleBulletPool3",void 0),o("RoleBulletPool3",function(){function o(){}return o.Get=function(o){var t=this._pool[o];t||(this._pool[o]=t=[]);var e=t.shift();return e||(e=new l),e},o.Put=function(o){this._pool[o.id].push(o)},o.Clear=function(){for(var o in this._pool){for(var t=this._pool[o],l=0;l<t.length;++l){var e;null==(e=t[l].view)||e.remove()}t.length=0}},o}())._pool={},t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBulletPool4.ts",["cc","./RoleBullet4.ts"],(function(o){var t,l;return{setters:[function(o){t=o.cclegacy},function(o){l=o.RoleBullet}],execute:function(){t._RF.push({},"002a3wKxKdA15Y/IuUnlBre","RoleBulletPool4",void 0),o("RoleBulletPool",function(){function o(){}return o.Get=function(o){var t=this._pool[o];t||(this._pool[o]=t=[]);var e=t.shift();return e||(e=new l),e},o.Put=function(o){this._pool[o.id].push(o)},o.Clear=function(){for(var o in this._pool){for(var t=this._pool[o],l=0;l<t.length;++l){var e;null==(e=t[l].view)||e.remove()}t.length=0}},o}())._pool={},t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBulletPool5.ts",["cc","./RoleBullet5.ts"],(function(o){var t,e;return{setters:[function(o){t=o.cclegacy},function(o){e=o.RoleBullet}],execute:function(){t._RF.push({},"882eanNaHFFBLbAxZLWNkBt","RoleBulletPool5",void 0),o("RoleBulletPool",function(){function o(){}return o.Get=function(o){var t=this._pool[o];t||(this._pool[o]=t=[]);var l=t.shift();return l||(l=new e),l},o.Put=function(o){this._pool[o.id].push(o)},o.Clear=function(){for(var o in this._pool){for(var t=this._pool[o],e=0;e<t.length;++e){var l;null==(l=t[e].view)||l.remove()}t.length=0}},o}())._pool={},t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBulletPool6.ts",["cc","./RoleBullet6.ts"],(function(o){var t,e;return{setters:[function(o){t=o.cclegacy},function(o){e=o.RoleBullet}],execute:function(){t._RF.push({},"ba24eiQUBlFooyn7SICkepd","RoleBulletPool6",void 0),o("RoleBulletPool",function(){function o(){}return o.Get=function(o){var t=this._pool[o];t||(this._pool[o]=t=[]);var l=t.shift();return l||(l=new e),l},o.Put=function(o){this._pool[o.id].push(o)},o.Clear=function(){for(var o in this._pool){for(var t=this._pool[o],e=0;e<t.length;++e){var l;null==(l=t[e].view)||l.remove()}t.length=0}},o}())._pool={},t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCampConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("RoleCampConfig",void 0),o._RF.push({},"15bcd1oOgZEMLV6bcA2DkHl","RoleCampConfig",void 0),function(i){i.config=function(){this.id=void 0,this.desc=void 0,this.value=void 0,this.cost=void 0};i.isConst=!1,i.path="config/RoleCampConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("RoleCampConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleColaSpawn6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig5.ts","./ZdSpawnConfig.ts","./YT.ts","./ZDConst6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./RoleBase6.ts"],(function(t){var e,n,i,r,o,s,a,c,u,f,h;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){o=t.ZdMonsterConfig},function(t){s=t.ZdSpawnConfig},function(t){a=t.YT},function(t){c=t.ZD_BUNDLE},function(t){u=t.ERoleType},function(t){f=t.ZDGameState6},function(t){h=t.RoleBase}],execute:function(){r._RF.push({},"28b93uIlPdLIbDLwOITEHFm","RoleColaSpawn6",void 0);t("RoleColaSpawn",function(t){function r(){var e;return(e=t.call(this)||this)._time=void 0,e._totalTime=void 0,e._targetType=void 0,e._targetId=void 0,e._targetParams=void 0,e.refresher=void 0,e._cfg=void 0,e._roleType=u.SpawnCola,e._time=0,e._targetParams=[],e}e(r,t);var h=r.prototype;return h._onInit=function(t){this._cfg=s.data[t],this.refresher=[].concat(s.data[t].monster_spawn),this._spawnMonster()},h._spawnMonster=function(){var t=n(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.refresher.shift())){t.next=12;break}return this._time=0,this._totalTime=e[0]/1e3,this._targetType=u.Monster,this._targetId=e[1],n=o.data[e[1]],t.next=9,a.res.loadAsync("prefab/monster/"+n.res,c);case 9:this._targetParams[0]=this._cfg.move_dir,t.next=13;break;case 12:this.remove();case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h._initView=function(){},h.update=function(t){if(this.enable&&(this._time+=t,this._time>=this._totalTime)){this._time=0;var e=f.runtime.control.roleMgr.addMonster(this._targetId,this.pos.x,this.pos.y);e.hitBarriarDie=!0,this._cfg.move_dir>0&&e.moveDown(),this._spawnMonster()}},r}(h));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp.ts","./RoleBase.ts","./ZDResUtils.ts","./ZDEnum.ts","./ZDGameState.ts","./RoleCutTreeTreeCmp.ts"],(function(e){var t,i,n,r,o,s,u,h,a,c,p;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.Size},function(e){s=e.ZDDropItemCmp},function(e){u=e.RoleBase},function(e){h=e.ZDResUtils},function(e){a=e.ERoleType},function(e){c=e.ZDGameState},function(e){p=e.RoleCutTreeTreeCmp}],execute:function(){r._RF.push({},"fe1e3OhB3tMRZXXrgnx6N5N","RoleCutTree",void 0);e("RoleCutTree",function(e){function r(){var t;return(t=e.call(this)||this)._treeView=void 0,t._hp=void 0,t._maxHp=void 0,t._id=void 0,t._roleType=a.CutTreeTree,t}t(r,e);var u=r.prototype;return u._onInit=function(e){this._id=e,this._hp=this._maxHp=arguments.length<=1?void 0:arguments[1]},u._initView=function(){this._view=this._treeView=p.Create(h.fullTreeModelRes(String(this._id))),this._size=new o,this._treeView.getSize(this._size)},u.hurt=function(e){this._hp<=0||this.enable&&(this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0?this.death():this._treeView.hitEffect())},u._onDeath=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype._onDeath.call(this),c.runtime.control.isInMainMap&&s.Create().show(this._position.x,this._position.y+20,this._dropEnd.bind(this)),t.next=4,this._treeView.playDie();case 4:this.remove();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._dropEnd=function(){c.runtime.data.addTreeCnt(1);var e=c.runtime.data.treeCnt;c.runtime.ui.setTreeCntView(e),c.runtime.audioMgr.play(103,5)},u.contarctMonster=function(e){this._treeView.shakeEffect()},u.contarctAIHero=function(e){this._treeView.shakeEffect()},r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTree3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp3.ts","./RoleBase3.ts","./ZDResUtils3.ts","./ZDEnum3.ts","./ZDGameState3.ts","./RoleCutTreeTreeCmp3.ts"],(function(e){var t,i,n,r,o,s,u,h,a,c,p;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.Size},function(e){s=e.ZDDropItemCmp3},function(e){u=e.RoleBase3},function(e){h=e.ZDResUtils3},function(e){a=e.ERoleType},function(e){c=e.ZDGameState3},function(e){p=e.RoleCutTreeTreeCmp3}],execute:function(){r._RF.push({},"78424qF77pELaogxVXDu38X","RoleCutTree3",void 0);e("RoleCutTree3",function(e){function r(){var t;return(t=e.call(this)||this)._treeView=void 0,t._hp=void 0,t._maxHp=void 0,t._id=void 0,t._roleType=a.CutTreeTree,t}t(r,e);var u=r.prototype;return u._onInit=function(e){this._id=e,this._hp=this._maxHp=arguments.length<=1?void 0:arguments[1]},u._initView=function(){this._view=this._treeView=p.Create(h.fullTreeModelRes(String(this._id))),this._size=new o,this._treeView.getSize(this._size)},u.hurt=function(e){this._hp<=0||this.enable&&(this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0?this.death():this._treeView.hitEffect())},u._onDeath=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype._onDeath.call(this),c.runtime.control.isInMainMap&&s.Create().show(this._position.x,this._position.y+20,this._dropEnd.bind(this)),t.next=4,this._treeView.playDie();case 4:this.remove();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._dropEnd=function(){c.runtime.data.addTreeCnt(1);var e=c.runtime.data.treeCnt;c.runtime.ui.setTreeCntView(e),c.runtime.audioMgr.play(103,5)},u.contarctMonster=function(e){this._treeView.shakeEffect()},u.contarctAIHero=function(e){this._treeView.shakeEffect()},r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTree4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWave2.ts","./ZDDropItemCmp4.ts","./RoleBase4.ts","./ZDResUtils4.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./RoleCutTreeTreeCmp4.ts"],(function(e){var t,i,n,o,r,s,u,a,c,h,l,p,_;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.Size},function(e){s=e.ZdWave},function(e){u=e.ZDDropItemCmp4},function(e){a=e.RoleBase},function(e){c=e.ZDResUtils},function(e){h=e.getZD4UniqueId},function(e){l=e.ERoleType},function(e){p=e.ZDGameState4},function(e){_=e.RoleCutTreeTreeCmp4}],execute:function(){o._RF.push({},"71a854W1tNP9ZSw3qPXuIxI","RoleCutTree4",void 0);e("RoleCutTree4",function(e){function o(){var t;return(t=e.call(this)||this)._treeView=void 0,t._hp=void 0,t._maxHp=void 0,t._id=void 0,t.collPosNode=null,t._roleType=l.CutTreeTree,t}t(o,e);var a=o.prototype;return a._onInit=function(e){this._id=e,this._hp=this._maxHp=p.runtime.control.curWaveConfig?p.runtime.control.curWaveConfig.treeHp:s.dataList[0].treeHp,this.uniqueId=h()},a._initView=function(){this._view=this._treeView=_.Create(c.fullTreeModelRes(String(this._id))),this._size=new r,this._treeView.getSize(this._size),this.collPosNode=this._view.node.getChildByName("collPos")},a.hurt=function(e){this._hp<=0||this.enable&&(this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0?this.death():this._treeView.hitEffect())},a._onDeath=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype._onDeath.call(this),p.runtime.control.isInMainMap&&u.Create().show(this._position.x,this._position.y+20,this._dropEnd.bind(this)),t.next=4,this._treeView.playDie();case 4:this.remove();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._dropEnd=function(){p.runtime.data.addTreeCnt(1);var e=p.runtime.data.treeCnt;p.runtime.ui.setTreeCntView(e),p.runtime.audioMgr.play(103,5)},a.contarctMonster=function(e){this._treeView.shakeEffect()},a.contarctAIHero=function(e){this._treeView.shakeEffect()},o}(a));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTree5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp5.ts","./RoleBase5.ts","./ZDConfigItemCmp5.ts","./ZDResUtils5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./RoleCutTreeTreeCmp5.ts"],(function(e){var t,i,n,o,r,s,u,h,a,c,p,l,f;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.Size},function(e){s=e.ZDDropItemCmp5},function(e){u=e.RoleBase},function(e){h=e.ETreeType},function(e){a=e.ZDResUtils},function(e){c=e.getZD5UniqueId},function(e){p=e.ERoleType},function(e){l=e.ZDGameState5},function(e){f=e.RoleCutTreeTreeCmp5}],execute:function(){o._RF.push({},"fc0ddnjufhHcLb3NgTiM7tf","RoleCutTree5",void 0);e("RoleCutTree4",function(e){function o(){var t;return(t=e.call(this)||this)._treeView=void 0,t._hp=void 0,t._maxHp=void 0,t._id=void 0,t.collPosNode=null,t._roleType=p.CutTreeTree,t}t(o,e);var u=o.prototype;return u._onInit=function(e){this._id=e;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];i[0][1]==h.Up?this._hp=this._maxHp=l.runtime.control.CurWaveConfig.upTreeHp:i[0][1]==h.Down&&(this._hp=this._maxHp=l.runtime.control.CurWaveConfig.downTreeHp),this.uniqueId=c()},u._initView=function(){this._view=this._treeView=f.Create(a.fullTreeModelRes(String(this._id))),this._size=new r,this._treeView.getSize(this._size),this.collPosNode=this._view.node.getChildByName("collPos")},u.hurt=function(e){this._hp<=0||this.enable&&(this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0?this.death():this._treeView.hitEffect())},u._onDeath=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype._onDeath.call(this),l.runtime.control.isInMainMap&&s.Create().show(this._position.x,this._position.y+20,this._dropEnd.bind(this)),t.next=4,this._treeView.playDie();case 4:this.remove();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._dropEnd=function(){l.runtime.data.addTreeCnt(1);var e=l.runtime.data.treeCnt;l.runtime.ui.setTreeCntView(e),l.runtime.audioMgr.play(103,5)},u.contarctMonster=function(e){this._treeView.shakeEffect()},u.contarctAIHero=function(e){this._treeView.shakeEffect()},o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTree6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp6.ts","./RoleBase6.ts","./ZDResUtils6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./RoleCutTreeTreeCmp6.ts"],(function(e){var t,i,n,r,o,s,u,a,h,c,p;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.Size},function(e){s=e.ZDDropItemCmp6},function(e){u=e.RoleBase},function(e){a=e.ZDResUtils},function(e){h=e.ERoleType},function(e){c=e.ZDGameState6},function(e){p=e.RoleCutTreeTreeCmp6}],execute:function(){r._RF.push({},"15aa06EHupF7aNTwqF7f+FE","RoleCutTree6",void 0);e("RoleCutTree",function(e){function r(){var t;return(t=e.call(this)||this)._treeView=void 0,t._hp=void 0,t._maxHp=void 0,t._id=void 0,t._roleType=h.CutTreeTree,t}t(r,e);var u=r.prototype;return u._onInit=function(e){this._id=e,this._hp=this._maxHp=arguments.length<=1?void 0:arguments[1]},u._initView=function(){this._view=this._treeView=p.Create(a.fullTreeModelRes(String(this._id))),this._size=new o,this._treeView.getSize(this._size)},u.hurt=function(e){this._hp<=0||this.enable&&(this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0?this.death():this._treeView.hitEffect())},u._onDeath=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype._onDeath.call(this),c.runtime.control.isInMainMap&&s.Create().show(this._position.x,this._position.y+20,this._dropEnd.bind(this)),t.next=4,this._treeView.playDie();case 4:this.remove();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._dropEnd=function(){c.runtime.data.addTreeCnt(1);var e=c.runtime.data.treeCnt;c.runtime.ui.setTreeCntView(e),c.runtime.audioMgr.play(103,5)},u.contarctMonster=function(e){this._treeView.shakeEffect()},u.contarctAIHero=function(e){this._treeView.shakeEffect()},r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTreeTreeCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ViewUtil.ts","./RoleShadowCmp.ts","./ZDConst.ts","./ZDGameState.ts"],(function(e){var t,i,s,a,h,o,r,c,n,f,_,l,u,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,h=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,n=e.Node},function(e){f=e.Awaiters},function(e){_=e.ViewUtil},function(e){l=e.RoleShadowCmp},function(e){u=e.ZD_BUNDLE,d=e.CUTTREE_CFG},function(e){p=e.ZDGameState}],execute:function(){var S,E,N,T,m,v,y,k,g,b,w,A,C;r._RF.push({},"9e772G1IARO9aBNYfT7bcjF","RoleCutTreeTreeCmp",void 0);var D=c.ccclass,R=c.property;e("RoleCutTreeTreeCmp",(S=D("RoleCutTreeTreeCmp"),E=R({type:n,displayName:"后部节点",visible:!0}),N=R({type:n,displayName:"树冠节点",visible:!0}),T=R({type:n,displayName:"树干节点",visible:!0}),m=R({type:n,displayName:"树桩节点",visible:!0}),v=R({type:n,displayName:"受击特效节点",visible:!0}),S((g=t((k=function(e){function t(){for(var t,i=arguments.length,h=new Array(i),o=0;o<i;o++)h[o]=arguments[o];return t=e.call.apply(e,[this].concat(h))||this,s(t,"_backNode",g,a(t)),s(t,"_crownNode",b,a(t)),s(t,"_trunkNode",w,a(t)),s(t,"_stumpNode",A,a(t)),s(t,"_hitEffectNode",C,a(t)),t._scale=1,t._hitTime=void 0,t._hitDuration=void 0,t._hitEffectState=0,t._shakeEffectState=0,t._defScale=void 0,t}i(t,e),t.Create=function(e){var i=_.createPrefabNode(e,u);i.parent=p.runtime.ui.treeRoot;var s=i.getComponent(t);return s._init(),s};var r=t.prototype;return r._init=function(){var e=this.node.getChildByName("shadow");this._setShadowNode(e),this._backNode.parent=p.runtime.ui.treeDropRoot,this._defScale=this._crownNode.scale.x,this._crownNode.active=!0,this._trunkNode.active=!0,this._hitEffectNode.active=!1,this._stumpNode.active=!1},r.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},r.showView=function(){e.prototype.showView.call(this),this.node.parent=p.runtime.ui.treeRoot,this._backNode.parent=p.runtime.ui.treeDropRoot},r.hideView=function(){e.prototype.hideView.call(this),this._backNode.removeFromParent()},r.remove=function(){e.prototype.remove.call(this),this._backNode.removeFromParent()},r.setVisible=function(t){e.prototype.setVisible.call(this,t),this._backNode.active=t},r.setPos=function(t){e.prototype.setPos.call(this,t),this._backNode.setWorldPosition(t)},r.update=function(e){if(1==this._hitEffectState){this._hitTime+=1;var t=this._scale+d.HIT_ADD_SCALE;t>d.HIT_SCALE&&(t=d.HIT_SCALE),this._scale=t,this._setTreeScale(this._scale),this._hitTime>=this._hitDuration&&(this._hitEffectState=2),this._hitEffectNode.uiOpacity.opacity=d.HIT_OPACITY*(1-this._hitTime/this._hitDuration)}else 2==this._hitEffectState&&(this._scale=1,this._setTreeScale(this._scale),this._hitEffectState=0,this._hitEffectNode.active=!1);if(0==this._hitEffectState){var i=this._getTreeAngle();1==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-12&&(this._shakeEffectState=2)):2==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=12&&(this._shakeEffectState=3)):3==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-9&&(this._shakeEffectState=4)):4==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=9&&(this._shakeEffectState=5)):5==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-6&&(this._shakeEffectState=6)):6==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=6&&(this._shakeEffectState=7)):7==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-3&&(this._shakeEffectState=8)):8==this._shakeEffectState&&(i+=1,this._setTreeAngle(i),i>=0&&(this._setTreeAngle(0),this._shakeEffectState=0))}},r.hitEffect=function(){0==this._hitEffectState&&(this._hitEffectState=1,this._scale=1,this._setTreeScale(this._scale),this._setTreeAngle(0),this._shakeEffectState=0,this._hitEffectNode.active=!0,this._hitEffectNode.uiOpacity.opacity=d.HIT_OPACITY,this._hitDuration=Math.ceil((d.HIT_SCALE-this._scale)/d.HIT_ADD_SCALE),this._hitTime=0,p.runtime.audioMgr.play(102,5))},r.shakeEffect=function(){0==this._hitEffectState&&0==this._shakeEffectState&&(this._hitEffectNode.active=!1,this._shakeEffectState=1)},r.playDie=function(){var e=h(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._hitEffectState=0,this._scale=1,this._setTreeScale(this._scale),this._crownNode.active=!1,this._trunkNode.active=!1,this._hitEffectNode.active=!1,this._stumpNode.active=!0,this._shadowNode.active=!1,e.next=10,f.Seconds(1);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._setTreeScale=function(e){e*=this._defScale,this._crownNode.setScale(e,e),this._trunkNode.setScale(e,e),this._hitEffectNode.setScale(e,e)},r._setTreeAngle=function(e){this._crownNode.angle=e,this._trunkNode.angle=.7*e,this._hitEffectNode.angle=e},r._getTreeAngle=function(){return this._crownNode.angle},t}(l)).prototype,"_backNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(k.prototype,"_crownNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(k.prototype,"_trunkNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(k.prototype,"_stumpNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(k.prototype,"_hitEffectNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTreeTreeCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ViewUtil.ts","./RoleShadowCmp3.ts","./ZDConst3.ts","./ZDGameState3.ts"],(function(e){var t,i,s,a,h,o,r,c,n,f,_,l,u,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,h=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,n=e.Node},function(e){f=e.Awaiters},function(e){_=e.ViewUtil},function(e){l=e.RoleShadowCmp3},function(e){u=e.ZD_BUNDLE,d=e.CUTTREE_CFG},function(e){p=e.ZDGameState3}],execute:function(){var S,E,N,T,m,v,y,k,g,w,b,A,C;r._RF.push({},"6c25aOlocpPxLul1/aJEfEJ","RoleCutTreeTreeCmp3",void 0);var D=c.ccclass,R=c.property;e("RoleCutTreeTreeCmp3",(S=D("RoleCutTreeTreeCmp3"),E=R({type:n,displayName:"后部节点",visible:!0}),N=R({type:n,displayName:"树冠节点",visible:!0}),T=R({type:n,displayName:"树干节点",visible:!0}),m=R({type:n,displayName:"树桩节点",visible:!0}),v=R({type:n,displayName:"受击特效节点",visible:!0}),S((g=t((k=function(e){function t(){for(var t,i=arguments.length,h=new Array(i),o=0;o<i;o++)h[o]=arguments[o];return t=e.call.apply(e,[this].concat(h))||this,s(t,"_backNode",g,a(t)),s(t,"_crownNode",w,a(t)),s(t,"_trunkNode",b,a(t)),s(t,"_stumpNode",A,a(t)),s(t,"_hitEffectNode",C,a(t)),t._scale=1,t._hitTime=void 0,t._hitDuration=void 0,t._hitEffectState=0,t._shakeEffectState=0,t._defScale=void 0,t}i(t,e),t.Create=function(e){var i=_.createPrefabNode(e,u);i.parent=p.runtime.ui.treeRoot;var s=i.getComponent(t);return s._init(),s};var r=t.prototype;return r._init=function(){var e=this.node.getChildByName("shadow");this._setShadowNode(e),this._backNode.parent=p.runtime.ui.treeDropRoot,this._defScale=this._crownNode.scale.x,this._crownNode.active=!0,this._trunkNode.active=!0,this._hitEffectNode.active=!1,this._stumpNode.active=!1},r.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},r.showView=function(){e.prototype.showView.call(this),this.node.parent=p.runtime.ui.treeRoot,this._backNode.parent=p.runtime.ui.treeDropRoot},r.hideView=function(){e.prototype.hideView.call(this),this._backNode.removeFromParent()},r.remove=function(){e.prototype.remove.call(this),this._backNode.removeFromParent()},r.setVisible=function(t){e.prototype.setVisible.call(this,t),this._backNode.active=t},r.setPos=function(t){e.prototype.setPos.call(this,t),this._backNode.setWorldPosition(t)},r.update=function(e){if(1==this._hitEffectState){this._hitTime+=1;var t=this._scale+d.HIT_ADD_SCALE;t>d.HIT_SCALE&&(t=d.HIT_SCALE),this._scale=t,this._setTreeScale(this._scale),this._hitTime>=this._hitDuration&&(this._hitEffectState=2),this._hitEffectNode.uiOpacity.opacity=d.HIT_OPACITY*(1-this._hitTime/this._hitDuration)}else 2==this._hitEffectState&&(this._scale=1,this._setTreeScale(this._scale),this._hitEffectState=0,this._hitEffectNode.active=!1);if(0==this._hitEffectState){var i=this._getTreeAngle();1==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-12&&(this._shakeEffectState=2)):2==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=12&&(this._shakeEffectState=3)):3==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-9&&(this._shakeEffectState=4)):4==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=9&&(this._shakeEffectState=5)):5==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-6&&(this._shakeEffectState=6)):6==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=6&&(this._shakeEffectState=7)):7==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-3&&(this._shakeEffectState=8)):8==this._shakeEffectState&&(i+=1,this._setTreeAngle(i),i>=0&&(this._setTreeAngle(0),this._shakeEffectState=0))}},r.hitEffect=function(){0==this._hitEffectState&&(this._hitEffectState=1,this._scale=1,this._setTreeScale(this._scale),this._setTreeAngle(0),this._shakeEffectState=0,this._hitEffectNode.active=!0,this._hitEffectNode.uiOpacity.opacity=d.HIT_OPACITY,this._hitDuration=Math.ceil((d.HIT_SCALE-this._scale)/d.HIT_ADD_SCALE),this._hitTime=0,p.runtime.audioMgr.play(102,5))},r.shakeEffect=function(){0==this._hitEffectState&&0==this._shakeEffectState&&(this._hitEffectNode.active=!1,this._shakeEffectState=1)},r.playDie=function(){var e=h(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._hitEffectState=0,this._scale=1,this._setTreeScale(this._scale),this._crownNode.active=!1,this._trunkNode.active=!1,this._hitEffectNode.active=!1,this._stumpNode.active=!0,this._hideShadow(),e.next=10,f.Seconds(1);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._setTreeScale=function(e){e*=this._defScale,this._crownNode.setScale(e,e),this._trunkNode.setScale(e,e),this._hitEffectNode.setScale(e,e)},r._setTreeAngle=function(e){this._crownNode.angle=e,this._trunkNode.angle=.7*e,this._hitEffectNode.angle=e},r._getTreeAngle=function(){return this._crownNode.angle},t}(l)).prototype,"_backNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(k.prototype,"_crownNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(k.prototype,"_trunkNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(k.prototype,"_stumpNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(k.prototype,"_hitEffectNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTreeTreeCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ViewUtil.ts","./RoleShadowCmp4.ts","./ZDConst4.ts","./ZDGameState4.ts"],(function(e){var t,i,s,a,o,h,c,r,n,l,f,_,u,d,p,N,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass,h=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){r=e.cclegacy,n=e._decorator,l=e.Node,f=e.v3},function(e){_=e.Awaiters},function(e){u=e.ViewUtil},function(e){d=e.RoleShadowCmp4},function(e){p=e.ZD_BUNDLE,N=e.CUTTREE_CFG},function(e){S=e.ZDGameState4}],execute:function(){var E,k,v,T,m,y,b,g,w,A,C,D,R;r._RF.push({},"1d34dPeJKhJBpvkYx8Tjd5J","RoleCutTreeTreeCmp4",void 0);var P=n.ccclass,z=n.property;e("RoleCutTreeTreeCmp4",(E=P("RoleCutTreeTreeCmp4"),k=z({type:l,displayName:"后部节点",visible:!0}),v=z({type:l,displayName:"树冠节点",visible:!0}),T=z({type:l,displayName:"树干节点",visible:!0}),m=z({type:l,displayName:"树桩节点",visible:!0}),y=z({type:l,displayName:"受击特效节点",visible:!0}),E((w=t((g=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),h=0;h<i;h++)o[h]=arguments[h];return t=e.call.apply(e,[this].concat(o))||this,s(t,"_backNode",w,a(t)),s(t,"_crownNode",A,a(t)),s(t,"_trunkNode",C,a(t)),s(t,"_stumpNode",D,a(t)),s(t,"_hitEffectNode",R,a(t)),t.backNodeRelativePos=f(),t.shadowNode=null,t._scale=1,t._hitTime=void 0,t._hitDuration=void 0,t._hitEffectState=0,t._shakeEffectState=0,t._defScale=void 0,t}i(t,e),t.Create=function(e){var i=u.createPrefabNode(e,p);i.parent=S.runtime.ui.treeRoot;var s=i.getComponent(t);return s._init(),s};var r=t.prototype;return r._init=function(){this.shadowNode=this.node.getChildByName("shadow"),this._setShadowNode(this.shadowNode),this.backNodeRelativePos.set(this._backNode.position),this._backNode.parent=S.runtime.ui.treeDropRoot,this._defScale=this._crownNode.scale.x,this._crownNode.active=!0,this._trunkNode.active=!0,this._hitEffectNode.active=!1,this._stumpNode.active=!1},r.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},r.showView=function(){e.prototype.showView.call(this),this.node.parent=S.runtime.ui.treeRoot,this._backNode.parent=S.runtime.ui.treeDropRoot},r.hideView=function(){e.prototype.hideView.call(this),this._backNode.removeFromParent()},r.remove=function(){e.prototype.remove.call(this),this._backNode.removeFromParent()},r.setVisible=function(t){e.prototype.setVisible.call(this,t),this._backNode.active=t},r.setPos=function(t){e.prototype.setPos.call(this,t),this._backNode.setWorldPosition(t.x+this.backNodeRelativePos.x,t.y+this.backNodeRelativePos.y,t.z+this.backNodeRelativePos.z)},r.update=function(e){if(1==this._hitEffectState){this._hitTime+=1;var t=this._scale+N.HIT_ADD_SCALE;t>N.HIT_SCALE&&(t=N.HIT_SCALE),this._scale=t,this._setTreeScale(this._scale),this._hitTime>=this._hitDuration&&(this._hitEffectState=2),this._hitEffectNode.uiOpacity.opacity=N.HIT_OPACITY*(1-this._hitTime/this._hitDuration)}else 2==this._hitEffectState&&(this._scale=1,this._setTreeScale(this._scale),this._hitEffectState=0,this._hitEffectNode.active=!1);if(0==this._hitEffectState){var i=this._getTreeAngle();1==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-12&&(this._shakeEffectState=2)):2==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=12&&(this._shakeEffectState=3)):3==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-9&&(this._shakeEffectState=4)):4==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=9&&(this._shakeEffectState=5)):5==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-6&&(this._shakeEffectState=6)):6==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=6&&(this._shakeEffectState=7)):7==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-3&&(this._shakeEffectState=8)):8==this._shakeEffectState&&(i+=1,this._setTreeAngle(i),i>=0&&(this._setTreeAngle(0),this._shakeEffectState=0))}},r.hitEffect=function(){0==this._hitEffectState&&(this._hitEffectState=1,this._scale=1,this._setTreeScale(this._scale),this._setTreeAngle(0),this._shakeEffectState=0,this._hitEffectNode.active=!0,this._hitEffectNode.uiOpacity.opacity=N.HIT_OPACITY,this._hitDuration=Math.ceil((N.HIT_SCALE-this._scale)/N.HIT_ADD_SCALE),this._hitTime=0,S.runtime.audioMgr.play(102,5))},r.shakeEffect=function(){0==this._hitEffectState&&0==this._shakeEffectState&&(this._hitEffectNode.active=!1,this._shakeEffectState=1)},r.playDie=function(){var e=h(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._hitEffectState=0,this._scale=1,this._setTreeScale(this._scale),this._crownNode.active=!1,this._trunkNode.active=!1,this._hitEffectNode.active=!1,this._stumpNode.active=!0,this._shadowNode.active=!1,e.next=10,_.Seconds(1);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._setTreeScale=function(e){e*=this._defScale,this._crownNode.setScale(e,e),this._trunkNode.setScale(e,e),this._hitEffectNode.setScale(e,e)},r._setTreeAngle=function(e){this._crownNode.angle=e,this._trunkNode.angle=.7*e,this._hitEffectNode.angle=e},r._getTreeAngle=function(){return this._crownNode.angle},o(t,[{key:"backNode",get:function(){return this._backNode}}]),t}(d)).prototype,"_backNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(g.prototype,"_crownNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(g.prototype,"_trunkNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(g.prototype,"_stumpNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(g.prototype,"_hitEffectNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTreeTreeCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ViewUtil.ts","./RoleShadowCmp5.ts","./ZDConst5.ts","./ZDGameState5.ts"],(function(e){var t,i,s,a,o,h,c,r,n,l,f,_,u,d,p,N,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass,h=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){r=e.cclegacy,n=e._decorator,l=e.Node,f=e.v3},function(e){_=e.Awaiters},function(e){u=e.ViewUtil},function(e){d=e.RoleShadowCmp5},function(e){p=e.ZD_BUNDLE,N=e.CUTTREE_CFG},function(e){S=e.ZDGameState5}],execute:function(){var E,k,v,T,m,b,y,g,w,A,C,D,R;r._RF.push({},"8c409GQx49HtYbkqVMDvHEb","RoleCutTreeTreeCmp5",void 0);var P=n.ccclass,z=n.property;e("RoleCutTreeTreeCmp5",(E=P("RoleCutTreeTreeCmp5"),k=z({type:l,displayName:"后部节点",visible:!0}),v=z({type:l,displayName:"树冠节点",visible:!0}),T=z({type:l,displayName:"树干节点",visible:!0}),m=z({type:l,displayName:"树桩节点",visible:!0}),b=z({type:l,displayName:"受击特效节点",visible:!0}),E((w=t((g=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),h=0;h<i;h++)o[h]=arguments[h];return t=e.call.apply(e,[this].concat(o))||this,s(t,"_backNode",w,a(t)),s(t,"_crownNode",A,a(t)),s(t,"_trunkNode",C,a(t)),s(t,"_stumpNode",D,a(t)),s(t,"_hitEffectNode",R,a(t)),t.backNodeRelativePos=f(),t.shadowNode=null,t._scale=1,t._hitTime=void 0,t._hitDuration=void 0,t._hitEffectState=0,t._shakeEffectState=0,t._defScale=void 0,t}i(t,e),t.Create=function(e){var i=u.createPrefabNode(e,p);i.parent=S.runtime.ui.roleRoot;var s=i.getComponent(t);return s._init(),s};var r=t.prototype;return r._init=function(){this.shadowNode=this.node.getChildByName("shadow"),this._setShadowNode(this.shadowNode),this.backNodeRelativePos.set(this._backNode.position),this._backNode.parent=S.runtime.ui.treeDropRoot,this._defScale=this._crownNode.scale.x,this._crownNode.active=!0,this._trunkNode.active=!0,this._hitEffectNode.active=!1,this._stumpNode.active=!1},r.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},r.showView=function(){e.prototype.showView.call(this),this.node.parent=S.runtime.ui.treeRoot,this._backNode.parent=S.runtime.ui.treeDropRoot},r.hideView=function(){e.prototype.hideView.call(this),this._backNode.removeFromParent()},r.remove=function(){e.prototype.remove.call(this),this._backNode.removeFromParent()},r.setVisible=function(t){e.prototype.setVisible.call(this,t),this._backNode.active=t},r.setPos=function(t){e.prototype.setPos.call(this,t),this._backNode.setWorldPosition(t.x+this.backNodeRelativePos.x,t.y+this.backNodeRelativePos.y,t.z+this.backNodeRelativePos.z)},r.update=function(e){if(1==this._hitEffectState){this._hitTime+=1;var t=this._scale+N.HIT_ADD_SCALE;t>N.HIT_SCALE&&(t=N.HIT_SCALE),this._scale=t,this._setTreeScale(this._scale),this._hitTime>=this._hitDuration&&(this._hitEffectState=2),this._hitEffectNode.uiOpacity.opacity=N.HIT_OPACITY*(1-this._hitTime/this._hitDuration)}else 2==this._hitEffectState&&(this._scale=1,this._setTreeScale(this._scale),this._hitEffectState=0,this._hitEffectNode.active=!1);if(0==this._hitEffectState){var i=this._getTreeAngle();1==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-12&&(this._shakeEffectState=2)):2==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=12&&(this._shakeEffectState=3)):3==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-9&&(this._shakeEffectState=4)):4==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=9&&(this._shakeEffectState=5)):5==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-6&&(this._shakeEffectState=6)):6==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=6&&(this._shakeEffectState=7)):7==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-3&&(this._shakeEffectState=8)):8==this._shakeEffectState&&(i+=1,this._setTreeAngle(i),i>=0&&(this._setTreeAngle(0),this._shakeEffectState=0))}},r.hitEffect=function(){0==this._hitEffectState&&(this._hitEffectState=1,this._scale=1,this._setTreeScale(this._scale),this._setTreeAngle(0),this._shakeEffectState=0,this._hitEffectNode.active=!0,this._hitEffectNode.uiOpacity.opacity=N.HIT_OPACITY,this._hitDuration=Math.ceil((N.HIT_SCALE-this._scale)/N.HIT_ADD_SCALE),this._hitTime=0,S.runtime.audioMgr.play(102,5))},r.shakeEffect=function(){0==this._hitEffectState&&0==this._shakeEffectState&&(this._hitEffectNode.active=!1,this._shakeEffectState=1)},r.playDie=function(){var e=h(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._hitEffectState=0,this._scale=1,this._setTreeScale(this._scale),this._crownNode.active=!1,this._trunkNode.active=!1,this._hitEffectNode.active=!1,this._stumpNode.active=!0,this._shadowNode.active=!1,e.next=10,_.Seconds(1);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._setTreeScale=function(e){e*=this._defScale,this._crownNode.setScale(e,e),this._trunkNode.setScale(e,e),this._hitEffectNode.setScale(e,e)},r._setTreeAngle=function(e){this._crownNode.angle=e,this._trunkNode.angle=.7*e,this._hitEffectNode.angle=e},r._getTreeAngle=function(){return this._crownNode.angle},o(t,[{key:"backNode",get:function(){return this._backNode}}]),t}(d)).prototype,"_backNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(g.prototype,"_crownNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(g.prototype,"_trunkNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(g.prototype,"_stumpNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(g.prototype,"_hitEffectNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCutTreeTreeCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ViewUtil.ts","./RoleShadowCmp6.ts","./ZDConst6.ts","./ZDGameState6.ts"],(function(e){var t,i,s,a,h,o,r,c,n,f,_,l,u,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,h=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,n=e.Node},function(e){f=e.Awaiters},function(e){_=e.ViewUtil},function(e){l=e.RoleShadowCmp6},function(e){u=e.ZD_BUNDLE,d=e.CUTTREE_CFG},function(e){p=e.ZDGameState6}],execute:function(){var S,E,N,T,m,v,y,k,g,w,b,A,C;r._RF.push({},"84b64+RCBlHzawBfzAC/uYD","RoleCutTreeTreeCmp6",void 0);var D=c.ccclass,R=c.property;e("RoleCutTreeTreeCmp6",(S=D("RoleCutTreeTreeCmp6"),E=R({type:n,displayName:"后部节点",visible:!0}),N=R({type:n,displayName:"树冠节点",visible:!0}),T=R({type:n,displayName:"树干节点",visible:!0}),m=R({type:n,displayName:"树桩节点",visible:!0}),v=R({type:n,displayName:"受击特效节点",visible:!0}),S((g=t((k=function(e){function t(){for(var t,i=arguments.length,h=new Array(i),o=0;o<i;o++)h[o]=arguments[o];return t=e.call.apply(e,[this].concat(h))||this,s(t,"_backNode",g,a(t)),s(t,"_crownNode",w,a(t)),s(t,"_trunkNode",b,a(t)),s(t,"_stumpNode",A,a(t)),s(t,"_hitEffectNode",C,a(t)),t._scale=1,t._hitTime=void 0,t._hitDuration=void 0,t._hitEffectState=0,t._shakeEffectState=0,t._defScale=void 0,t}i(t,e),t.Create=function(e){var i=_.createPrefabNode(e,u);i.parent=p.runtime.ui.treeRoot;var s=i.getComponent(t);return s._init(),s};var r=t.prototype;return r._init=function(){var e=this.node.getChildByName("shadow");this._setShadowNode(e),this._backNode.parent=p.runtime.ui.treeDropRoot,this._defScale=this._crownNode.scale.x,this._crownNode.active=!0,this._trunkNode.active=!0,this._hitEffectNode.active=!1,this._stumpNode.active=!1},r.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},r.showView=function(){e.prototype.showView.call(this),this.node.parent=p.runtime.ui.treeRoot,this._backNode.parent=p.runtime.ui.treeDropRoot},r.hideView=function(){e.prototype.hideView.call(this),this._backNode.removeFromParent()},r.remove=function(){e.prototype.remove.call(this),this._backNode.removeFromParent()},r.setVisible=function(t){e.prototype.setVisible.call(this,t),this._backNode.active=t},r.setPos=function(t){e.prototype.setPos.call(this,t),this._backNode.setWorldPosition(t)},r.update=function(e){if(1==this._hitEffectState){this._hitTime+=1;var t=this._scale+d.HIT_ADD_SCALE;t>d.HIT_SCALE&&(t=d.HIT_SCALE),this._scale=t,this._setTreeScale(this._scale),this._hitTime>=this._hitDuration&&(this._hitEffectState=2),this._hitEffectNode.uiOpacity.opacity=d.HIT_OPACITY*(1-this._hitTime/this._hitDuration)}else 2==this._hitEffectState&&(this._scale=1,this._setTreeScale(this._scale),this._hitEffectState=0,this._hitEffectNode.active=!1);if(0==this._hitEffectState){var i=this._getTreeAngle();1==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-12&&(this._shakeEffectState=2)):2==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=12&&(this._shakeEffectState=3)):3==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-9&&(this._shakeEffectState=4)):4==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=9&&(this._shakeEffectState=5)):5==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-6&&(this._shakeEffectState=6)):6==this._shakeEffectState?(i+=1,this._setTreeAngle(i),i>=6&&(this._shakeEffectState=7)):7==this._shakeEffectState?(i-=1,this._setTreeAngle(i),i<=-3&&(this._shakeEffectState=8)):8==this._shakeEffectState&&(i+=1,this._setTreeAngle(i),i>=0&&(this._setTreeAngle(0),this._shakeEffectState=0))}},r.hitEffect=function(){0==this._hitEffectState&&(this._hitEffectState=1,this._scale=1,this._setTreeScale(this._scale),this._setTreeAngle(0),this._shakeEffectState=0,this._hitEffectNode.active=!0,this._hitEffectNode.uiOpacity.opacity=d.HIT_OPACITY,this._hitDuration=Math.ceil((d.HIT_SCALE-this._scale)/d.HIT_ADD_SCALE),this._hitTime=0,p.runtime.audioMgr.play(102,5))},r.shakeEffect=function(){0==this._hitEffectState&&0==this._shakeEffectState&&(this._hitEffectNode.active=!1,this._shakeEffectState=1)},r.playDie=function(){var e=h(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._hitEffectState=0,this._scale=1,this._setTreeScale(this._scale),this._crownNode.active=!1,this._trunkNode.active=!1,this._hitEffectNode.active=!1,this._stumpNode.active=!0,this._shadowNode.active=!1,e.next=10,f.Seconds(1);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._setTreeScale=function(e){e*=this._defScale,this._crownNode.setScale(e,e),this._trunkNode.setScale(e,e),this._hitEffectNode.setScale(e,e)},r._setTreeAngle=function(e){this._crownNode.angle=e,this._trunkNode.angle=.7*e,this._hitEffectNode.angle=e},r._getTreeAngle=function(){return this._crownNode.angle},t}(l)).prototype,"_backNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(k.prototype,"_crownNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(k.prototype,"_trunkNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(k.prototype,"_stumpNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(k.prototype,"_hitEffectNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleData6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBulletPool6.ts","./BoxArray6.ts","./ZDEnum6.ts","./ZDGameState6.ts"],(function(e){var r,o,t,n,i,s,a;return{setters:[function(e){r=e.createClass},function(e){o=e.cclegacy,t=e.Vec3},function(e){n=e.RoleBulletPool},function(e){i=e.BoxArray},function(e){s=e.ERoleType},function(e){a=e.ZDGameState6}],execute:function(){o._RF.push({},"1e6ddr14VtAga289g/C1vfj","RoleData6",void 0);e("RoleData6",function(){function e(){this.mainHeroPos=void 0,this.mainHero=void 0,this.barrierBox=void 0,this.cutTreeBox=void 0,this.roleMap=void 0,this.mainHeroPos=new t,this.roleMap=[];for(var e=s.HeroAI;e<s.Max;++e)this.roleMap[e]=[];this.barrierBox=new i,this.cutTreeBox=new i}var o=e.prototype;return o.addRole=function(e){e.roleType==s.HeroMain||(e.roleType==s.Barrier?this.barrierBox.addItemByPos(e,e.pos.x,e.pos.y):e.roleType==s.CutTreeTree&&this.cutTreeBox.addItemByPos(e,e.pos.x,e.pos.y)),e.roleType!=s.HeroMain&&this.roleMap[e.roleType].push(e)},o.removeRole=function(e,r){if(void 0===r&&(r=!0),e.roleType==s.Barrier?(this.barrierBox.removeItemByPos(e.pos.x,e.pos.y,e),a.runtime.control.mapCtrl.currentMap.onBarrierRemove(e.iconNode)):e.roleType==s.CutTreeTree?this.cutTreeBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==s.Bullet&&n.Put(e),e.destory(),r){var o=this.roleMap[e.roleType],t=o.indexOf(e);t>=0&&o.splice(t,1)}},r(e,[{key:"aiHeros",get:function(){return this.roleMap[s.HeroAI]}},{key:"props",get:function(){return this.roleMap[s.Prop]}},{key:"monsters",get:function(){return this.roleMap[s.Monster]}},{key:"transfers",get:function(){return this.roleMap[s.Transfer]}},{key:"barriers",get:function(){return this.roleMap[s.Barrier]}},{key:"cutTrees",get:function(){return this.roleMap[s.CutTreeTree]}},{key:"shops",get:function(){return this.roleMap[s.Shop]}},{key:"towers",get:function(){return this.roleMap[s.Tower]}},{key:"bullets",get:function(){return this.roleMap[s.Bullet]}},{key:"grasses",get:function(){return this.roleMap[s.Grass]}},{key:"colas",get:function(){return this.roleMap[s.SpawnCola]}},{key:"spawns",get:function(){return this.roleMap[s.Spawn]}}]),e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory.ts",["cc","./ZdBarrierConfig2.ts","./RoleCutTree.ts","./RoleGrassStack.ts","./ZDEnum.ts","./RoleBarrier.ts","./RoleBulletPool.ts","./RoleGrass.ts","./RoleHeroAI.ts","./RoleHeroMain.ts","./RoleMonster2.ts","./RoleProp.ts","./RoleShop.ts","./RoleSpawn.ts","./RoleTower.ts","./RoleTransfer.ts"],(function(e){var o,n,t,r,l,s,i,a,u,R,c,f,w,p,T,S;return{setters:[function(e){o=e.cclegacy},function(e){n=e.ZdBarrierConfig},function(e){t=e.RoleCutTree},function(e){r=e.RoleGrassStack},function(e){l=e.ERoleType},function(e){s=e.RoleBarrier},function(e){i=e.RoleBulletPool},function(e){a=e.RoleGrass},function(e){u=e.RoleHeroAI},function(e){R=e.RoleHeroMain},function(e){c=e.RoleMonster},function(e){f=e.RoleProp},function(e){w=e.RoleShop},function(e){p=e.RoleSpawn},function(e){T=e.RoleTower},function(e){S=e.RoleTransfer}],execute:function(){e("createRole",(function(e,o,y,B){var h;e==l.HeroMain?h=new R:e==l.HeroAI?h=new u:e==l.Prop?h=new f:e==l.Transfer?h=new S:e==l.Monster?h=new c:e==l.Barrier?h=3==n.data[o].type?new r:new s:e==l.CutTreeTree?h=new t:e==l.Shop?h=new w:e==l.Tower?h=new T:e==l.Bullet?h=i.Get(o):e==l.Grass?h=new a:e==l.Spawn&&(h=new p);for(var C=arguments.length,G=new Array(C>4?C-4:0),H=4;H<C;H++)G[H-4]=arguments[H];return h.init(o,G),h.setPos2f(y,B),h.birth(),h})),o._RF.push({},"3294ayDjCVKL5oo/f8V/YKV","RoleFactory",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory3.ts",["cc","./ZdBarrierConfig4.ts","./RoleCutTree3.ts","./RoleGrassStack3.ts","./ZDEnum3.ts","./RoleBarrier3.ts","./RoleBulletPool3.ts","./RoleGrass3.ts","./RoleHeroAI3.ts","./RoleHeroMain3.ts","./RoleMonster3.ts","./RoleProp3.ts","./RoleShop3.ts","./RoleSpawn3.ts","./RoleTower3.ts","./RoleTransfer3.ts"],(function(e){var o,n,t,r,l,s,a,i,c,R,u,f,w,p,T,S;return{setters:[function(e){o=e.cclegacy},function(e){n=e.ZdBarrierConfig},function(e){t=e.RoleCutTree3},function(e){r=e.RoleGrassStack3},function(e){l=e.ERoleType},function(e){s=e.RoleBarrier3},function(e){a=e.RoleBulletPool3},function(e){i=e.RoleGrass3},function(e){c=e.RoleHeroAI3},function(e){R=e.RoleHeroMain3},function(e){u=e.RoleMonster3},function(e){f=e.RoleProp3},function(e){w=e.RoleShop3},function(e){p=e.RoleSpawn3},function(e){T=e.RoleTower3},function(e){S=e.RoleTransfer3}],execute:function(){e("createRole",(function(e,o,y,B){var h,M;e==l.HeroMain?M=new R:e==l.HeroAI?M=new c:e==l.Prop?M=new f:e==l.Transfer?M=new S:e==l.Monster?M=new u:e==l.Barrier?M=3==n.data[o].type?new r:new s:e==l.CutTreeTree?M=new t:e==l.Shop?M=new w:e==l.Tower?M=new T:e==l.Bullet?M=a.Get(o):e==l.Grass?M=new i:e==l.Spawn&&(M=new p);for(var P=arguments.length,C=new Array(P>4?P-4:0),G=4;G<P;G++)C[G-4]=arguments[G];return(h=M).init.apply(h,[o].concat(C)),M.setPos2f(y,B),M.birth(),M})),o._RF.push({},"9a66fMXEcVCD5R1PrJ0N8Nm","RoleFactory3",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory4.ts",["cc","./ZdHeroConfig.ts","./ZdMonsterConfig3.ts","./ZdBarrierConfig.ts","./RegrowTree.ts","./RoleGrassStack4.ts","./ZDEnum4.ts","./RoleBarrier4.ts","./RoleBulletPool4.ts","./RoleGrass4.ts","./RoleHeroMain4.ts","./RoleProp4.ts","./RoleShop4.ts","./RoleSpawn4.ts","./RoleTower4.ts","./RoleTransfer4.ts","./EnemyHero.ts","./TmHero.ts","./EnemyMonster.ts","./HamalMonster.ts","./MinerMonster.ts","./ShooterMonster.ts"],(function(e){var n,o,t,r,s,i,a,l,f,c,u,R,w,p,T,M,m,y,d,H,S,g;return{setters:[function(e){n=e.cclegacy},function(e){o=e.ZdHeroConfig},function(e){t=e.ZdMonsterConfig},function(e){r=e.ZdBarrierConfig},function(e){s=e.RegrowTree},function(e){i=e.RoleGrassStack},function(e){a=e.ERoleType},function(e){l=e.RoleBarrier},function(e){f=e.RoleBulletPool},function(e){c=e.RoleGrass},function(e){u=e.RoleHeroMain},function(e){R=e.RoleProp4},function(e){w=e.RoleShop},function(e){p=e.RoleSpawn},function(e){T=e.RoleTower},function(e){M=e.RoleTransfer},function(e){m=e.EnemyHero},function(e){y=e.TmHero},function(e){d=e.EnemyMonster},function(e){H=e.HamalMonster},function(e){S=e.MinerMonster},function(e){g=e.ShooterMonster}],execute:function(){e("createRole",(function(e,n,h,B){var v;if(e==a.HeroMain)v=new u;else if(e==a.HeroAI){var C=o.data[n];v=C.isTm?new y:new m}else if(e==a.Prop)v=new R;else if(e==a.Transfer)v=new M;else if(e==a.Monster){var Z=t.data[n];v=1==Z.tmType?new g:2==Z.tmType?new H:3==Z.tmType?new S:new d}else e==a.Barrier?v=3==r.data[n].type?new i:new l:e==a.CutTreeTree?v=new s:e==a.Shop?v=new w:e==a.Tower?v=new T:e==a.Bullet?v=f.Get(n):e==a.Grass?v=new c:e==a.Spawn&&(v=new p);for(var E=arguments.length,G=new Array(E>4?E-4:0),P=4;P<E;P++)G[P-4]=arguments[P];return v.init(n,G),v.setPos2f(h,B),v.birth(),v})),n._RF.push({},"ade81/SUxNKIpBWhuYqhudc","RoleFactory4",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory5.ts",["cc","./ZdHeroConfig2.ts","./ZdMonsterConfig2.ts","./ZdBarrierConfig3.ts","./RegrowTree5.ts","./RoleGrassStack5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./RoleBaseTower5.ts","./RoleFruits5.ts","./RoleBarrier5.ts","./RoleBulletPool5.ts","./RoleGrass5.ts","./RoleHeroMain5.ts","./RoleProp5.ts","./RoleShop5.ts","./RoleSpawn5.ts","./RoleTower5.ts","./RoleTransfer5.ts","./EnemyHero5.ts","./TmHero5.ts","./EnemyMonster5.ts","./HamalMonster5.ts","./MinerMonster5.ts","./ShooterMonster5.ts"],(function(e){var n,o,t,r,s,i,a,l,f,c,u,R,w,T,m,p,M,y,S,H,g,B,d,h,Z;return{setters:[function(e){n=e.cclegacy},function(e){o=e.ZdHeroConfig},function(e){t=e.ZdMonsterConfig},function(e){r=e.ZdBarrierConfig},function(e){s=e.RegrowTree5},function(e){i=e.RoleGrassStack},function(e){a=e.ERoleType},function(e){l=e.ZDGameState5},function(e){f=e.RoleBaseTower},function(e){c=e.RoleFruits},function(e){u=e.RoleBarrier},function(e){R=e.RoleBulletPool},function(e){w=e.RoleGrass},function(e){T=e.RoleHeroMain},function(e){m=e.RoleProp4},function(e){p=e.RoleShop},function(e){M=e.RoleSpawn},function(e){y=e.RoleTower},function(e){S=e.RoleTransfer},function(e){H=e.EnemyHero},function(e){g=e.TmHero},function(e){B=e.EnemyMonster},function(e){d=e.HamalMonster},function(e){h=e.MinerMonster},function(e){Z=e.ShooterMonster}],execute:function(){e("createRole",(function(e,n,F,G){var v;if(e==a.HeroMain)v=new T;else if(e==a.HeroAI){var C=o.data[n];v=C.isTm?new g:new H}else if(e==a.Prop)v=new m;else if(e==a.Transfer)v=new S;else if(e==a.Monster){var E=t.data[n];v=1==E.tmType?new Z:2==E.tmType?new d:3==E.tmType?new h:4==E.tmType?new c:new B}else e==a.Barrier?v=3==r.data[n].type?new i:new u:e==a.CutTreeTree?v=new s:e==a.Shop?v=new p:e==a.Tower?1001==n?(v=new f,l.runtime.control.baseTower=v):v=new y:e==a.Bullet?v=R.Get(n):e==a.Grass?v=new w:e==a.Spawn&&(v=new M);for(var P=arguments.length,b=new Array(P>4?P-4:0),k=4;k<P;k++)b[k-4]=arguments[k];return v.init(n,b),v.setPos2f(F,G),v.birth(),v})),n._RF.push({},"fcb18RhEFtFI5a2/oZVjIBO","RoleFactory5",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory6.ts",["cc","./ZdBarrierConfig5.ts","./RoleCutTree6.ts","./RoleGrassStack6.ts","./ZDEnum6.ts","./RoleBarrier6.ts","./RoleBulletPool6.ts","./RoleColaSpawn6.ts","./RoleGrass6.ts","./RoleHeroAI6.ts","./RoleHeroMain6.ts","./RoleMonster6.ts","./RoleProp6.ts","./RoleShop6.ts","./RoleSpawn6.ts","./RoleTower6.ts","./RoleTransfer6.ts"],(function(e){var o,n,t,r,l,s,a,i,R,u,c,f,w,p,S,T,B;return{setters:[function(e){o=e.cclegacy},function(e){n=e.ZdBarrierConfig},function(e){t=e.RoleCutTree},function(e){r=e.RoleGrassStack},function(e){l=e.ERoleType},function(e){s=e.RoleBarrier},function(e){a=e.RoleBulletPool},function(e){i=e.RoleColaSpawn},function(e){R=e.RoleGrass},function(e){u=e.RoleHeroAI},function(e){c=e.RoleHeroMain},function(e){f=e.RoleMonster},function(e){w=e.RoleProp},function(e){p=e.RoleShop},function(e){S=e.RoleSpawn},function(e){T=e.RoleTower},function(e){B=e.RoleTransfer}],execute:function(){e("createRole",(function(e,o,C,h){var y;e==l.HeroMain?y=new c:e==l.HeroAI?y=new u:e==l.Prop?y=new w:e==l.Transfer?y=new B:e==l.Monster?y=new f:e==l.Barrier?y=3==n.data[o].type?new r:new s:e==l.CutTreeTree?y=new t:e==l.Shop?y=new p:e==l.Tower?y=new T:e==l.Bullet?y=a.Get(o):e==l.Grass?y=new R:e==l.Spawn?y=new S:e==l.SpawnCola&&(y=new i);for(var G=arguments.length,P=new Array(G>4?G-4:0),H=4;H<G;H++)P[H-4]=arguments[H];return y.init(o,P),y.setPos2f(C,h),y.birth(),y})),o._RF.push({},"c61b5GRn19Fu7EW8V6QPtB3","RoleFactory6",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFruits5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts","./Vec3Util.ts","./ZWTTools.ts","./YT.ts","./ZDConst5.ts","./ZDGameState5.ts","./RoleMonster5.ts"],(function(t){var i,e,o,n,r,s,a,h,l,d,m,u,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t.v2,n=t.v3,r=t.RigidBody2D,s=t.tween},function(t){a=t.ArrayUtil},function(t){h=t.Vec3Util},function(t){l=t.ZWTTools},function(t){d=t.YT},function(t){m=t.ZD5RunAwayTime},function(t){u=t.ZDGameState5},function(t){c=t.RoleMonster}],execute:function(){e._RF.push({},"84d4acw9WtPfJGdL/2n20Sd","RoleFruits5",void 0);var y=t("EFruitsState",{Birth:1,Idle:2,RunAway:3}),f=o(),p=n();t("RoleFruits",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).rigidBody=null,i.state=y.Birth,i.runAwayTime=0,i.runAwayTurnTime=0,i.randomMoveTime=0,i.randomMoveCD=0,i}i(e,t);var o=e.prototype;return o.init=function(i){for(var e,o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++)n[s-1]=arguments[s];(e=t.prototype.init).call.apply(e,[this,i].concat(n)),this.rigidBody=this._view.node.getComponentInChildren(r),d.message.on("roleRemove",this.otherRoleRemove,this)},o.born=function(t){var i=this;t?(this.state=y.Birth,this.anim.play("born"),s(this.anim.node).delay(1).call((function(){i.state=y.Idle,i.randomMoveTime=0,i.randomMoveCD=0})).tag(88888).start()):(this.state=y.Idle,this.randomMoveTime=0,this.randomMoveCD=0)},o._updateMove=function(t){switch(this.state){case y.Birth:this.rigidBody.linearVelocity=f.set(0,0);break;case y.Idle:this.randomMoveCD<=0&&(this.rigidBody.linearVelocity=f.set(2*Math.random()-1,2*Math.random()-1).normalize().multiplyScalar(this._config.move_speed/30),this.randomMoveTime=3*(1*Math.random()+.5),this.randomMoveCD=3*(1*Math.random()+.5),this.setFilp()),this.randomMoveTime<=0&&(this.rigidBody.linearVelocity=f.set(0,0)),this.randomMoveTime-=t,this.randomMoveCD-=t;break;case y.RunAway:if(this.runAwayTime-=t,Date.now()-this.runAwayTurnTime>300){this.runAwayTurnTime=Date.now();this.curCtrl.mainHero;this.rigidBody.linearVelocity=f.set(2*Math.random()-1,2*Math.random()-1).normalize().multiplyScalar(this._config.move_speed/15),this.setFilp()}this.runAwayTime<=0&&(this.state=y.Idle,this.randomMoveTime=0,this.randomMoveCD=0)}this.setPos(this.rigidBody.node.worldPosition),this.rigidBody.node.setPosition(0,0,0),this.state!=y.Birth&&(this.rigidBody.linearVelocity.length()>0&&(this.state==y.RunAway?this.anim.getState("run").isPlaying||this.anim.play("run"):this.anim.getState("move").isPlaying||this.anim.play("move")),this.rigidBody.linearVelocity.length()<=0&&!this.anim.getState("idle").isPlaying&&this.anim.play("idle"))},o.setFilp=function(){this.rigidBody.linearVelocity.x<0?this.anim.node.setScale(1,1,1):this.rigidBody.linearVelocity.x>0&&this.anim.node.setScale(-1,1,1)},o.otherRoleRemove=function(t){t instanceof e&&(this.runAwayTime=m,this.state=y.RunAway)},o.remove=function(){t.prototype.remove.call(this),d.message.off("roleRemove",this.otherRoleRemove,this);for(var i=0;i<this._config.dropNum;i++)this.curCtrl.createFruitsChunk(a.randomFromArray(this._config.dropRes),this.pos)},o.hurt=function(i,e,o){if(t.prototype.hurt.call(this,i,e),o){var n=p.set(this.pos).subtract(o.pos).normalize(),r=h.signedAngleEx(h.s_up,n,h.s_forward);if(l.playEffect(this._config.hitEff,this.pos,u.runtime.ui.effectRoot,1).setRotationFromEuler(0,0,r),this._hp<=0)l.playEffect(this._config.dieEff,this.pos,u.runtime.ui.propRoot,1).setRotationFromEuler(0,0,r),u.runtime.audioMgr.play(a.randomFromArray([1003,1004,1005]),5)}},e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGoods.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BoxConfig.ts","./CardsConfig.ts","./YT.ts","./ResUtils.ts","./BattleEnum.ts","./BattleState.ts","./AddWeaponDialog.ts","./OpenTreasureDialog.ts","./DropExpCmp.ts","./DropGoldCmp.ts","./DropWoodCmp.ts","./RemainFlyCmp.ts","./RoleGoodsCmp.ts","./RoleBase2.ts"],(function(o){var e,s,t,i,n,r,d,a,h,l,p,f,u,c,_,g,y,m,T,w;return{setters:[function(o){e=o.inheritsLoose,s=o.createClass},function(o){t=o.cclegacy,i=o.Vec2},function(o){n=o.BoxConfig},function(o){r=o.CardsConfig},function(o){d=o.YT},function(o){a=o.ResUtils},function(o){h=o.EGoodsType,l=o.ERoleStatus,p=o.ERoleType},function(o){f=o.BattleState},function(o){u=o.AddWeaponDialog},function(o){c=o.OpenTreasureDialog},function(o){_=o.DropExpCmp},function(o){g=o.DropGoldCmp},function(o){y=o.DropWoodCmp},function(o){m=o.RemainFlyCmp},function(o){T=o.RoleGoodsCmp},function(o){w=o.RoleBase}],execute:function(){t._RF.push({},"99c3eyd3WJDx6oxyYVua6Qa","RoleGoods",void 0);o("RoleGoods",function(o){e(w,o);var t=w.prototype;function w(){var e;return(e=o.call(this)||this)._goodsView=void 0,e._config=void 0,e._isAutoRefresh=void 0,e._targetRole=void 0,e._startPos=new i,e._endPos=new i,e._time=0,e._goodsType=void 0,e._param=void 0,e._roleType=p.Goods,e._isAutoRefresh=!1,e}return t.isTipsGoods=function(){return this._goodsType==h.Treasure||this._goodsType==h.Buff||this._goodsType==h.Remain},t._onInit=function(o){this._goodsType=o,this._param=arguments.length<=1?void 0:arguments[1]},t._initView=function(o){if(o)this._view=this._goodsView=o,this._goodsType=this._goodsView.type,this._param=this._goodsView.params[0];else if(this._view=this._goodsView=T.Create(),this._goodsType==h.Remain)this._goodsView.setIconViewByRes(a.fullRemainIconRes(r.data[this._param].icon));else if(this._goodsType==h.Weapon){var e=a.fullWeaponModelRes(this._param);this._goodsView.setIconViewByRes(e),this._goodsView.node.getChildByName("_effect").active=!0}else this._goodsType==h.Treasure?this._goodsView.setIconViewByIndex(3):this._goodsType==h.Buff?(this._goodsView.setIconViewByIndex(4),this._goodsView._iconSpr.node.setScale(2,2,2)):this._goodsType==h.Gold?this._goodsView.setIconViewByIndex(0):this._goodsType==h.Wood?this._goodsView.setIconViewByIndex(1):this._goodsType==h.Gem?this._goodsView.setIconViewByIndex(5):this._goodsType==h.Exp&&this._goodsView.setIconViewByIndex(2);this._radius=this._view.size.width/2},t.contacted=function(o){var e=this;if(this._status!=l.Death)if(this._goodsType==h.Wood)y.Create().flyToUI(this.pos.x,this.pos.y,(function(){f.ins.control.data.addWood(1)})),this.remove();else if(this._goodsType==h.Gold){g.Create().flyToUI(this.pos.x,this.pos.y,(function(){f.ins.control.data.addGold(1)})),this.remove()}else if(this._goodsType==h.Exp){_.Create().flyToPlayer(this.pos.x,this.pos.y,(function(){f.ins.control.addExp(1)})),this.remove()}else if(this._goodsType==h.Weapon)this.death(),u.Show(a.fullWeaponModelRes(this._param),(function(o){o||(e._enable=!0),e.remove()}));else if(this._goodsType==h.Treasure)this.death(),c.Show(this._param,(function(){e.remove(),f.ins.control.onFindGoods(e)}));else if(this._goodsType==h.Buff){var s=n.data[this._param];d.gui.toast(s.des),this._executeBuff(s.id),this.remove(),f.ins.control.onFindGoods(this)}else if(this._goodsType==h.Remain){var t=m.Create();t.setRes(a.fullRemainIconRes(r.data[this._param].icon)),t.show(this.pos.x,this.pos.y,f.ins.control.remainMgr.view.worldPos,(function(){f.ins.control.addRemain(e._param)})),this.remove(),f.ins.control.onFindGoods(this)}},t._onBirth=function(){this._endPos.set(this.pos.x,this.pos.y),this._startPos.set(this.pos.x,this.pos.y+100),this._time=0},t.update=function(e){if(o.prototype.update.call(this,e),this._status==l.Birth){this._time+=e;var s=this._time/.2;i.lerp(R,this._startPos,this._endPos,s),this.setPos2f(R.x,R.y),s>=1&&this.idle()}},t._executeBuff=function(o){if(61==o)f.ins.control.roleMgr.player.buffAddSpeedTime=20;else if(62==o)for(var e=f.ins.control.roleMgr.buildings,s=0;s<e.length;++s)e[s].resumeFullHp();else if(63==o)f.ins.control.roleMgr.player.buffAddWeaponRotaionTime=20;else if(64==o)f.ins.control.roleMgr.player.buffAddRemoteWeaponFireTime=20;else if(65==o)f.ins.control.attrMgr.buffAddTowerAtkSpeedTime=20;else if(66==o)f.ins.control.attrMgr.buffAddPetAtkSpeedTime=20;else if(67==o)for(var t=f.ins.control.roleMgr.playerMonsters,i=0;i<t.length;++i)t[i].resumeFullHp()},s(w,[{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(o){this._isAutoRefresh=o}}]),w}(w));var R=new i;t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGoodsCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./MainConst.ts","./BattleEnum.ts","./BattleState.ts","./FrameArraySprite.ts","./RoleBaseCmp.ts"],(function(e){var t,i,n,r,o,a,s,c,p,l,u,f,y,m,_,d,h,v,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.ccenum,p=e.Sprite,l=e.CCInteger,u=e.Size},function(e){f=e.ViewUtil},function(e){y=e.UIHelper},function(e){m=e.MAIN_PREFABS,_=e.MAIN_BUNDLE},function(e){d=e.EGoodsType},function(e){h=e.BattleState},function(e){v=e.FrameArraySprite},function(e){S=e.RoleBaseCmp}],execute:function(){var g,b,z,C,w,R,B,I,A;a._RF.push({},"8d8f6g8i3VAapSFctZrFzAY","RoleGoodsCmp",void 0);var F=s.ccclass,N=s.property;c(d);e("RoleGoodsCmp",(g=F("RoleGoodsCmp"),b=N({type:p,displayName:"图标",visible:!0}),z=N({type:d,displayName:"类型",visible:!0}),C=N({type:[l],displayName:"参数列表",visible:!0}),g((B=t((R=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_iconSpr",B,r(t)),n(t,"_type",I,r(t)),n(t,"_params",A,r(t)),t._size=void 0,t}i(t,e),t.Create=function(){var e=f.createPrefabNode(m.GoodsView,_);e.parent=h.ins.control.runTimeData.levelControl.view.goodsRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){},a.setIconViewByIndex=function(e){this._iconSpr.getComponent(v).index=e,this._iconSpr.node.active=!0},a.setIconViewByRes=function(e){y.changeSpriteFrame(e,_,this._iconSpr),this._iconSpr.node.active=!0},o(t,[{key:"type",get:function(){return this._type}},{key:"params",get:function(){return this._params}},{key:"size",get:function(){if(!this._size){this._size=new u;var e=this.node.uiTransform.contentSize;this._size.set(e)}return this._size}}]),t}(S)).prototype,"_iconSpr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(R.prototype,"_type",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(R.prototype,"_params",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=R))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleGrassCmp.ts","./ZDEnum.ts","./RoleBase.ts"],(function(e){var s,t,i,n,o,r;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Size},function(e){n=e.RoleGrassCmp},function(e){o=e.ERoleType},function(e){r=e.RoleBase}],execute:function(){t._RF.push({},"dd42d6bxG5JrKLmB0xHEp5r","RoleGrass",void 0);e("RoleGrass",function(e){function t(){var s;return(s=e.call(this)||this)._grassView=void 0,s._roleType=o.Grass,s}s(t,e);var r=t.prototype;return r._onInit=function(e){},r._initView=function(){this._view=this._grassView=n.Create(),this._size=new i,this._grassView.getSize(this._size)},r.onContacted=function(){var e;null==(e=this._grassView)||e.showColliderEffect()},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrass3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleGrassCmp3.ts","./ZDEnum3.ts","./RoleBase3.ts"],(function(e){var s,t,i,n,o,r;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Size},function(e){n=e.RoleGrassCmp3},function(e){o=e.ERoleType},function(e){r=e.RoleBase3}],execute:function(){t._RF.push({},"616d2OUUP1OarDFl4Ik9arx","RoleGrass3",void 0);e("RoleGrass3",function(e){function t(){var s;return(s=e.call(this)||this)._grassView=void 0,s._roleType=o.Grass,s}s(t,e);var r=t.prototype;return r._onInit=function(e){},r._initView=function(){this._view=this._grassView=n.Create(),this._size=new i,this._grassView.getSize(this._size)},r.onContacted=function(){var e;null==(e=this._grassView)||e.showColliderEffect()},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrass4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleGrassCmp4.ts","./ZDEnum4.ts","./RoleBase4.ts"],(function(e){var s,t,i,n,o,r;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Size},function(e){n=e.RoleGrassCmp4},function(e){o=e.ERoleType},function(e){r=e.RoleBase}],execute:function(){t._RF.push({},"706f5cn2NdL4a4mcmYKigND","RoleGrass4",void 0);e("RoleGrass",function(e){function t(){var s;return(s=e.call(this)||this)._grassView=void 0,s._roleType=o.Grass,s}s(t,e);var r=t.prototype;return r._onInit=function(e){},r._initView=function(){this._view=this._grassView=n.Create(),this._size=new i,this._grassView.getSize(this._size)},r.onContacted=function(){var e;null==(e=this._grassView)||e.showColliderEffect()},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrass5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleGrassCmp5.ts","./ZDEnum5.ts","./RoleBase5.ts"],(function(e){var s,t,i,n,o,r;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Size},function(e){n=e.RoleGrassCmp5},function(e){o=e.ERoleType},function(e){r=e.RoleBase}],execute:function(){t._RF.push({},"9b369b/IchEqJP6pq5SpJ2t","RoleGrass5",void 0);e("RoleGrass",function(e){function t(){var s;return(s=e.call(this)||this)._grassView=void 0,s._roleType=o.Grass,s}s(t,e);var r=t.prototype;return r._onInit=function(e){},r._initView=function(){this._view=this._grassView=n.Create(),this._size=new i,this._grassView.getSize(this._size)},r.onContacted=function(){var e;null==(e=this._grassView)||e.showColliderEffect()},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrass6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleGrassCmp6.ts","./ZDEnum6.ts","./RoleBase6.ts"],(function(e){var s,t,i,n,o,r;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Size},function(e){n=e.RoleGrassCmp6},function(e){o=e.ERoleType},function(e){r=e.RoleBase}],execute:function(){t._RF.push({},"0c141RmslxL479yaIPOOa5G","RoleGrass6",void 0);e("RoleGrass",function(e){function t(){var s;return(s=e.call(this)||this)._grassView=void 0,s._roleType=o.Grass,s}s(t,e);var r=t.prototype;return r._onInit=function(e){},r._initView=function(){this._view=this._grassView=n.Create(),this._size=new i,this._grassView.getSize(this._size)},r.onContacted=function(){var e;null==(e=this._grassView)||e.showColliderEffect()},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst.ts","./ZDGameState.ts","./RoleShadowCmp.ts"],(function(e){var t,i,o,n,r,a,s,l,c,p,u,h,d,f,w,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Node,c=e.Vec3,p=e.Tween,u=e.tween},function(e){h=e.ViewUtil},function(e){d=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){w=e.ZDGameState},function(e){_=e.RoleShadowCmp}],execute:function(){var m,y,R,b,S,g,v;r._RF.push({},"991a7bX5Y9IjZRbBEKCwc49","RoleGrassCmp",void 0);var C=a.ccclass,D=a.property,G=(e("RoleGrassCmp",(m=C("RoleGrassCmp"),y=D({type:s,displayName:"图标",visible:!0}),R=D({type:l,displayName:"阴影",visible:!0}),m((g=t((S=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_icon",g,n(t)),o(t,"_shadow",v,n(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.GRASS,f);e.parent=w.runtime.ui.grassRoot;var i=e.getComponent(t);return i._init(),i};var r=t.prototype;return r._init=function(){this._setShadowNode(this._shadow)},r.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.showView=function(){e.prototype.showView.call(this),this.node.parent=w.runtime.ui.barrierRoot},r.showColliderEffect=function(){p.stopAllByTarget(this._icon.node),u(this._icon.node).to(.05,{scale:G}).to(.1,{scale:c.ONE}).start()},t}(_)).prototype,"_icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(S.prototype,"_shadow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=S))||b)),new c(1.1,1.1));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst3.ts","./ZDGameState3.ts","./RoleShadowCmp3.ts"],(function(e){var t,i,o,n,r,a,s,l,c,p,u,h,d,f,w,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Node,c=e.Vec3,p=e.Tween,u=e.tween},function(e){h=e.ViewUtil},function(e){d=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){w=e.ZDGameState3},function(e){_=e.RoleShadowCmp3}],execute:function(){var m,y,g,R,S,v,b;r._RF.push({},"a4c3d/l2lVM4JgyPtCdgfFB","RoleGrassCmp3",void 0);var C=a.ccclass,D=a.property,G=(e("RoleGrassCmp3",(m=C("RoleGrassCmp3"),y=D({type:s,displayName:"图标",visible:!0}),g=D({type:l,displayName:"阴影",visible:!0}),m((v=t((S=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_icon",v,n(t)),o(t,"_shadow",b,n(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.GRASS,f);e.parent=w.runtime.ui.grassRoot;var i=e.getComponent(t);return i._init(),i};var r=t.prototype;return r._init=function(){this._setShadowNode(this._shadow)},r.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.showView=function(){e.prototype.showView.call(this),this.node.parent=w.runtime.ui.barrierRoot},r.showColliderEffect=function(){p.stopAllByTarget(this._icon.node),u(this._icon.node).to(.05,{scale:G}).to(.1,{scale:c.ONE}).start()},t}(_)).prototype,"_icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(S.prototype,"_shadow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=S))||R)),new c(1.1,1.1));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst4.ts","./ZDGameState4.ts","./RoleShadowCmp4.ts"],(function(e){var t,i,o,n,r,a,s,l,c,p,u,h,f,d,w,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Node,c=e.Vec3,p=e.Tween,u=e.tween},function(e){h=e.ViewUtil},function(e){f=e.ZD_RES_PREFABS,d=e.ZD_BUNDLE},function(e){w=e.ZDGameState4},function(e){_=e.RoleShadowCmp4}],execute:function(){var m,y,R,S,b,g,v;r._RF.push({},"e9afdRjGfFELLELeiNbNhaw","RoleGrassCmp4",void 0);var C=a.ccclass,D=a.property,N=(e("RoleGrassCmp4",(m=C("RoleGrassCmp4"),y=D({type:s,displayName:"图标",visible:!0}),R=D({type:l,displayName:"阴影",visible:!0}),m((g=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_icon",g,n(t)),o(t,"_shadow",v,n(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(f.GRASS,d);e.parent=w.runtime.ui.grassRoot;var i=e.getComponent(t);return i._init(),i};var r=t.prototype;return r._init=function(){this._setShadowNode(this._shadow)},r.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.showView=function(){e.prototype.showView.call(this),this.node.parent=w.runtime.ui.barrierRoot},r.showColliderEffect=function(){p.stopAllByTarget(this._icon.node),u(this._icon.node).to(.05,{scale:N}).to(.1,{scale:c.ONE}).start()},t}(_)).prototype,"_icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(b.prototype,"_shadow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=b))||S)),new c(1.1,1.1));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst5.ts","./ZDGameState5.ts","./RoleShadowCmp5.ts"],(function(e){var t,i,o,n,r,a,s,l,c,p,u,h,d,f,w,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Node,c=e.Vec3,p=e.Tween,u=e.tween},function(e){h=e.ViewUtil},function(e){d=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){w=e.ZDGameState5},function(e){_=e.RoleShadowCmp5}],execute:function(){var m,y,S,g,R,v,b;r._RF.push({},"544e3g3hjZEpp2WpjArsLSi","RoleGrassCmp5",void 0);var C=a.ccclass,D=a.property,G=(e("RoleGrassCmp5",(m=C("RoleGrassCmp5"),y=D({type:s,displayName:"图标",visible:!0}),S=D({type:l,displayName:"阴影",visible:!0}),m((v=t((R=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_icon",v,n(t)),o(t,"_shadow",b,n(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.GRASS,f);e.parent=w.runtime.ui.grassRoot;var i=e.getComponent(t);return i._init(),i};var r=t.prototype;return r._init=function(){this._setShadowNode(this._shadow)},r.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.showView=function(){e.prototype.showView.call(this),this.node.parent=w.runtime.ui.barrierRoot},r.showColliderEffect=function(){p.stopAllByTarget(this._icon.node),u(this._icon.node).to(.05,{scale:G}).to(.1,{scale:c.ONE}).start()},t}(_)).prototype,"_icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(R.prototype,"_shadow",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=R))||g)),new c(1.1,1.1));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst6.ts","./ZDGameState6.ts","./RoleShadowCmp6.ts"],(function(e){var t,i,o,n,r,a,s,l,c,u,p,h,d,f,w,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Node,c=e.Vec3,u=e.Tween,p=e.tween},function(e){h=e.ViewUtil},function(e){d=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){w=e.ZDGameState6},function(e){m=e.RoleShadowCmp6}],execute:function(){var _,y,S,R,b,g,v;r._RF.push({},"15c8eduSmlKU5WFth7aXesb","RoleGrassCmp6",void 0);var C=a.ccclass,D=a.property,G=(e("RoleGrassCmp6",(_=C("RoleGrassCmp6"),y=D({type:s,displayName:"图标",visible:!0}),S=D({type:l,displayName:"阴影",visible:!0}),_((g=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_icon",g,n(t)),o(t,"_shadow",v,n(t)),t}i(t,e),t.Create=function(){var e=h.createPrefabNode(d.GRASS,f);e.parent=w.runtime.ui.grassRoot;var i=e.getComponent(t);return i._init(),i};var r=t.prototype;return r._init=function(){this._setShadowNode(this._shadow)},r.getSize=function(e){var t=this._icon.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},r.showView=function(){e.prototype.showView.call(this),this.node.parent=w.runtime.ui.barrierRoot},r.showColliderEffect=function(){u.stopAllByTarget(this._icon.node),p(this._icon.node).to(.05,{scale:G}).to(.1,{scale:c.ONE}).start()},t}(m)).prototype,"_icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(b.prototype,"_shadow",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=b))||R)),new c(1.1,1.1));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassStack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBarrier.ts","./ZDConst.ts"],(function(i){var t,e,r,s,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,r=i.math},function(i){s=i.RoleBarrier},function(i){n=i.GRASS_STACK_CFG}],execute:function(){e._RF.push({},"a867ar4DfROwKyaKWcudS06","RoleGrassStack",void 0);i("RoleGrassStack",function(i){function e(){var t;return(t=i.call(this)||this)._birthStartTime=void 0,t._birthTotalTime=void 0,t._isHide=void 0,t._birthStartTime=0,t._isHide=!0,t}t(e,i);var s=e.prototype;return s.update=function(t){i.prototype.update.call(this,t),this._birthUpdate(t)},s._onDieAniEnd=function(){this._barrierView.setModelVisible(!1),this._isHide=!0,this._birthStartTime=0,this._birthTotalTime=r.randomRange(n.BIRTH_TIME[0],n.BIRTH_TIME[1])},s._birthGrass=function(){this._isHide=!1,this._barrierView.setModelVisible(!0),this._barrierView.birthEffect(this._onBirthAniEnd.bind(this))},s._onBirthAniEnd=function(){this._enable=!0,this._hp=this._maxHp},s._birthUpdate=function(i){this._isHide&&(this._birthStartTime+=i,this._birthStartTime>=this._birthTotalTime&&this._birthGrass())},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassStack3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBarrier3.ts","./ZDConst3.ts"],(function(i){var t,e,r,s,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,r=i.math},function(i){s=i.RoleBarrier3},function(i){n=i.GRASS_STACK_CFG}],execute:function(){e._RF.push({},"37329ZQXFpOV5e13/OzC6fd","RoleGrassStack3",void 0);i("RoleGrassStack3",function(i){function e(){var t;return(t=i.call(this)||this)._birthStartTime=void 0,t._birthTotalTime=void 0,t._isHide=void 0,t._birthStartTime=0,t._isHide=!0,t}t(e,i);var s=e.prototype;return s.update=function(t){i.prototype.update.call(this,t),this._birthUpdate(t)},s._onDieAniEnd=function(){this._barrierView.setModelVisible(!1),this._isHide=!0,this._birthStartTime=0,this._birthTotalTime=r.randomRange(n.BIRTH_TIME[0],n.BIRTH_TIME[1])},s._birthGrass=function(){this._isHide=!1,this._barrierView.setModelVisible(!0),this._barrierView.birthEffect(this._onBirthAniEnd.bind(this))},s._onBirthAniEnd=function(){this._enable=!0,this._hp=this._maxHp},s._birthUpdate=function(i){this._isHide&&(this._birthStartTime+=i,this._birthStartTime>=this._birthTotalTime&&this._birthGrass())},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassStack4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBarrier4.ts","./ZDConst4.ts"],(function(i){var t,e,r,s,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,r=i.math},function(i){s=i.RoleBarrier},function(i){n=i.GRASS_STACK_CFG}],execute:function(){e._RF.push({},"0b7fdl9bNJLWqdh/eKkKgDb","RoleGrassStack4",void 0);i("RoleGrassStack",function(i){function e(){var t;return(t=i.call(this)||this)._birthStartTime=void 0,t._birthTotalTime=void 0,t._isHide=void 0,t._birthStartTime=0,t._isHide=!0,t}t(e,i);var s=e.prototype;return s.update=function(t){i.prototype.update.call(this,t),this._birthUpdate(t)},s._onDieAniEnd=function(){this._barrierView.setModelVisible(!1),this._isHide=!0,this._birthStartTime=0,this._birthTotalTime=r.randomRange(n.BIRTH_TIME[0],n.BIRTH_TIME[1])},s._birthGrass=function(){this._isHide=!1,this._barrierView.setModelVisible(!0),this._barrierView.birthEffect(this._onBirthAniEnd.bind(this))},s._onBirthAniEnd=function(){this._enable=!0,this._hp=this._maxHp},s._birthUpdate=function(i){this._isHide&&(this._birthStartTime+=i,this._birthStartTime>=this._birthTotalTime&&this._birthGrass())},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassStack5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBarrier5.ts","./ZDConst5.ts"],(function(i){var t,e,r,s,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,r=i.math},function(i){s=i.RoleBarrier},function(i){n=i.GRASS_STACK_CFG}],execute:function(){e._RF.push({},"d4875oznF5APY+yBzsVK7f1","RoleGrassStack5",void 0);i("RoleGrassStack",function(i){function e(){var t;return(t=i.call(this)||this)._birthStartTime=void 0,t._birthTotalTime=void 0,t._isHide=void 0,t._birthStartTime=0,t._isHide=!0,t}t(e,i);var s=e.prototype;return s.update=function(t){i.prototype.update.call(this,t),this._birthUpdate(t)},s._onDieAniEnd=function(){this._barrierView.setModelVisible(!1),this._isHide=!0,this._birthStartTime=0,this._birthTotalTime=r.randomRange(n.BIRTH_TIME[0],n.BIRTH_TIME[1])},s._birthGrass=function(){this._isHide=!1,this._barrierView.setModelVisible(!0),this._barrierView.birthEffect(this._onBirthAniEnd.bind(this))},s._onBirthAniEnd=function(){this._enable=!0,this._hp=this._maxHp},s._birthUpdate=function(i){this._isHide&&(this._birthStartTime+=i,this._birthStartTime>=this._birthTotalTime&&this._birthGrass())},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGrassStack6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBarrier6.ts","./ZDConst6.ts"],(function(i){var t,e,r,s,n;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,r=i.math},function(i){s=i.RoleBarrier},function(i){n=i.GRASS_STACK_CFG}],execute:function(){e._RF.push({},"983d27AVK1MfpgqCmlTbVr8","RoleGrassStack6",void 0);i("RoleGrassStack",function(i){function e(){var t;return(t=i.call(this)||this)._birthStartTime=void 0,t._birthTotalTime=void 0,t._isHide=void 0,t._birthStartTime=0,t._isHide=!0,t}t(e,i);var s=e.prototype;return s.update=function(t){i.prototype.update.call(this,t),this._birthUpdate(t)},s._onDieAniEnd=function(){this._barrierView.setModelVisible(!1),this._isHide=!0,this._birthStartTime=0,this._birthTotalTime=r.randomRange(n.BIRTH_TIME[0],n.BIRTH_TIME[1])},s._birthGrass=function(){this._isHide=!1,this._barrierView.setModelVisible(!0),this._barrierView.birthEffect(this._onBirthAniEnd.bind(this))},s._onBirthAniEnd=function(){this._enable=!0,this._hp=this._maxHp},s._birthUpdate=function(i){this._isHide&&(this._birthStartTime+=i,this._birthStartTime>=this._birthTotalTime&&this._birthGrass())},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig5.ts","./PDEffectPool.ts","./HeroCmp.ts","./WeaponModule2.ts","./ZDUtils.ts","./ZDConst.ts","./ZDEnum.ts","./ZDGameState.ts","./MoveRole.ts"],(function(e){var t,i,o,n,s,a,r,h,c,u,p,_,d,f,l,w,v,y;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy,n=e.Vec3,s=e.Vec2,a=e.Size},function(e){r=e.ZdHeroConfig},function(e){h=e.PDEffectPool},function(e){c=e.HeroCmp},function(e){u=e.WeaponModule},function(e){p=e.ZDUtils},function(e){_=e.EFFECT_CFG,d=e.HERO_CFG,f=e.FRAME_TIME},function(e){l=e.ERoleType,w=e.ERoleStatus},function(e){v=e.ZDGameState},function(e){y=e.MoveRole}],execute:function(){o._RF.push({},"f136bhyr5lCfJwcl5iLoTfw","RoleHero",void 0);e("RoleHero",function(e){t(s,e);var o=s.prototype;function s(){var t;return(t=e.call(this)||this)._heroView=void 0,t._weaponRotationSpeed=void 0,t._weaponAngle=0,t._config=void 0,t._hp=void 0,t._maxHp=void 0,t._weaponModule=void 0,t._isForceMove=void 0,t._pauseRotationWeapon=void 0,t._shieldTime=0,t._isIntoGrass=void 0,t._weaponVisible=!0,t._contactGrass=null,t._weaponModule=new u,t._size=new a,t._isForceMove=!1,t._pauseRotationWeapon=!1,t}return o.isIntoGrass=function(){return this._isIntoGrass},o._onIntoGrass=function(e){this._isIntoGrass=e},o._onInit=function(e){this._config=r.data[e],this._radius=this._config.weapon_radius,this._moveSpeed=this._config.move_speed,this._weaponRotationSpeed=this._config.rot_speed,this._hp=this._maxHp=this._config.hp},o._initView=function(){this._view=this._heroView=c.Create(this._config.id),this._weaponModule.init(this._heroView.weaponRoot,this._config.weapon,this._config.weapon_cnt,this._config.weapon_radius),this._radius=this._config.weapon_radius+this._weaponModule.width,this._heroView.getSize(this._size),this._heroView.setNameStr(this._config.name),this._updateWeaponCntView()},o._onBirth=function(){e.prototype._onBirth.call(this),this._weaponModule.weaponCnt>=_.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),v.runtime.ui.addHeroInMap(this)},o.setWeaponVisible=function(e){this._weaponVisible=e,this._updateWeaponVisible()},o._updateWeaponVisible=function(){var e;null==(e=this._heroView)||e.setWeaponVisible(this._weaponVisible&&this._calcVisible()&&!this._isIntoGrass)},o._onVisibleChange=function(){this._updateWeaponVisible()},o._updateWeaponCntView=function(){var e,t;null==(e=this._heroView)||e.setWeaponCntView(null==(t=this._weaponModule)?void 0:t.weaponCnt)},o._updateHpView=function(){var e=this._hp/this._maxHp;this._heroView.updateHpPercent(e)},o.hurt=function(e){this._hp<=0||this._shieldTime>0||(this._hp-=e,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),v.runtime.control.onHeroDie(this),v.runtime.audioMgr.play(7,3),this._onDie()):this._heroView.showHitEffect())},o.forceDeath=function(){this.hurt(this._hp)},o.update=function(t){var i;e.prototype.update.call(this,t),this._rotationUpdate(t),null==(i=this._weaponModule)||i.update(t),this._onUpdate(t)},o._rotationUpdate=function(e){this._pauseRotationWeapon||(this._weaponAngle-=this._weaponRotationSpeed*e,this._weaponAngle=this._weaponAngle%360,this._heroView.setWeaponRotation(this._weaponAngle))},o.changeRotateDir=function(){this._weaponRotationSpeed*=-1},o._onUpdate=function(e){this._shieldTime>0&&(this._shieldTime-=e)},o._onContactWithHero=function(e){},o._onDie=function(){},o._onDirCanNotMove=function(){},o.contactProp=function(e){var t=e.type,i=e.param;1==t?(this._weaponModule.addWeaponCnt(i),this._weaponModule.weaponCnt>=_.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),this._updateWeaponCntView()):2==t?(0==this._config.is_boss||this.isMainHero)&&(this._weaponModule.updateWeaponId(i),this._radius=this._config.weapon_radius+this._weaponModule.width,this._heroView.updateCircleEffectRadius(this._radius),this.isMainHero&&v.runtime.control.onMainRoleChangeWeapon(i)):3==t?this._weaponRotationSpeed+=i:4==t&&this._weaponModule.updateWeaponAtk(i),e.contacted(this),this.isMainHero&&v.runtime.audioMgr.play(4)},o.addWeaponCnt=function(e){this._weaponModule&&this._weaponModule.addWeaponCnt(e),this._updateWeaponCntView()},o.contactMonster=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n?(t.hurt(n.atk),t.enable&&t.moveBackByHero(e),V(o[4].x,o[4].y,3)):p.isRectIntersect(e.pos,e.size,t.pos,t.size)&&(e.hurt(t.atk),e.moveBackByHero(t),t.moveBackByHero(e))}(this,e,t,i)},o.contactBarrier=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;if(n){t.hurt(n.atk),p.getPositionVector(e.pos,t.pos,g);var s=e.pos.x+g.x*(e.radius-10),a=e.pos.y+g.y*(e.radius-10);t.showDJEffect(s,a,e.isMainHero)}}(this,e,t,i)},o.contactCutTree=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n&&t.hurt(n.atk)}(this,e,t,i)},o.contactGrass=function(e){this._contactGrass!=e&&(this._contactGrass=e,this._contactGrass?(this._contactGrass.onContacted(),this._onIntoGrass(!0)):this._onIntoGrass(!1))},o.contactHero=function(e,t){(function(e,t,i){var o=e.findWeaponByVector(i[0],i[1]),n=t.findWeaponByVector(i[2],i[3]),s=e.isMainHero||t.isMainHero||e.canAtkFriend;if(o){if(n)s&&(o.subHp(n.atk),n.subHp(o.atk)),p.getPositionVector(e.pos,t.pos,g),V(i[4].x,i[4].y,6),o.hp>0?(t.moveBackByHero(e),s&&o.setRedColor()):(e.isMainHero||t.isMainHero)&&(p.getVectorVerticalDir(g,e.pos.x<t.pos.x,M),v.runtime.control.showFlyWeapon(e.weaponModule.cfg.res,i[4].x,i[4].y,M.x,M.y)),n.hp>0?(s&&n.setRedColor(),e.moveBackByHero(t)):(e.isMainHero||t.isMainHero)&&(p.getVectorVerticalDir(g.negative(),t.pos.x>e.pos.x,M),v.runtime.control.showFlyWeapon(t.weaponModule.cfg.res,i[4].x,i[4].y,M.x,M.y)),e._heroView.hideCircleEffect(),t._heroView.hideCircleEffect();else if(p.isIntersectRectCircle(t.pos,t.size,e.pos,e.radius))return s&&t.hurt(o.atk),t.moveBackByHero(e),p.getPositionVector(e.pos,t.pos,g),V(e.pos.x+g.x*e.radius,e.pos.y+g.y*e.radius,3),!0}else if(n&&p.isIntersectRectCircle(e.pos,e.size,t.pos,t.radius))return s&&e.hurt(n.atk),e.moveBackByHero(t),p.getPositionVector(t.pos,e.pos,g),V(t.pos.x+g.x*t.radius,t.pos.y+g.y*t.radius,3),!0;return!1})(this,e,t)&&this._onContactWithHero(e),this._updateWeaponCntView(),e._updateWeaponCntView()},o.moveBackByHero=function(e){var t=this.radius+e.radius;if(!(n.distance(this.pos,e.pos)+d.BACK_TRIGGER_MIN_DIS>=t)){var i=this.pos.x-e.pos.x,o=this.pos.y-e.pos.y;this.startBackMove(i,o,d.BACK_TM,d.BACK_SPEED)}},o._updateMove=function(t){this._isForceMove||e.prototype._updateMove.call(this,t)},o._validateBackDir=function(){var e=this._position.x+f*this._backDir.x*this._moveSpeed,t=this._position.y+f*this._backDir.y*this._moveSpeed,i=v.runtime.control.findObstructRole(this,e,t);return!(i&&(p.getPositionVector(this.pos,i.pos,g),this._backDir.x*g.x>0||this._backDir.y*g.y>0))},o._validateDir=function(){var e=this._position.x+f*this._moveDir.x*this._moveSpeed,t=this._position.y+f*this._moveDir.y*this._moveSpeed,i=v.runtime.control.findObstructRole(this,e,t),o=!!i;if(o&&i.roleType==l.Barrier&&(o=i.canBreakMove),o)if(p.getPositionVector(this.pos,i.pos,g),i.roleType==l.Tower){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}else{var s=this._moveDir.x*g.x>0,a=this._moveDir.y*g.y>0;if(this.isMainHero){if(s&&a)return this._onDirCanNotMove(),!1;s?this._moveDir.x=0:a&&(this._moveDir.y=0)}else if(s||a)return this._onDirCanNotMove(),!1}return!0},o.forceMove=function(e,t,i){this._isForceMove=!0,this._updatePos(e,t,i)},o.cancelForceMove=function(){this._isForceMove=!1},o.findWeaponByVector=function(e,t){return this._weaponModule.findWeaponByVector(this.pos,e,t)},o.setWeaponScale=function(e){this._weaponModule.setScale(e)},o.reborn=function(){this._hp=this._maxHp=this._config.hp,this._status=w.Idle,this._enable=!0,this._shieldTime=3,this._updateHpView()},i(s,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"config",get:function(){return this._config}},{key:"canAtkBarrier",get:function(){return 1==this._config.atk_barrier}},{key:"canAtkFriend",get:function(){return 1==this._config.atk_friend}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop}},{key:"canCollectMonster",get:function(){return!0}},{key:"canAtkHero",get:function(){return!0}},{key:"canNotBeAtkByHero",get:function(){return!0}},{key:"isMainHero",get:function(){return this._roleType==l.HeroMain}},{key:"weaponModule",get:function(){return this._weaponModule}},{key:"fightPower",get:function(){return this._weaponModule.totalPower}},{key:"initRadius",get:function(){return this._config.weapon_radius}},{key:"realRadius",get:function(){return this._weaponModule.weaponCnt>0?this.radius:this._config.weapon_radius*this._weaponModule.scale}},{key:"radius",get:function(){return this._config.weapon_radius+this._weaponModule.width*this._weaponModule.scale}},{key:"canCollider",get:function(){return!this._isIntoGrass}},{key:"weaponId",get:function(){return this._weaponModule.cfg.id}}]),s}(y));var g=new s,M=new s,m=0;function V(e,t,i){if(v.runtime.ui.mapLayer.posIsInScreen2f(e,t)){var o=Date.now();if(m+100<=o)m=o,h.ShowPZEffect().set(e,t);v.runtime.audioMgr.play(i,5)}}o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHero3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HeroCmp3.ts","./ZDUtils3.ts","./ZDConst3.ts","./ZDEnum3.ts","./WeaponModule3.ts","./MoveRole3.ts","./ZDGameState3.ts","./PDEffectPool3.ts","./ZdHeroConfig3.ts","./Vec3Util.ts","./YT.ts","./ArrayUtil.ts","./ZdAinameConfig2.ts"],(function(e){var t,i,o,n,s,a,r,h,c,u,p,_,d,l,f,w,v,M,y,g,m,C,D,H,k,V,W,R,B;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy,n=e.Vec3,s=e.math,a=e.Vec2,r=e.Size},function(e){h=e.HeroCmp3},function(e){c=e.ZDUtils3},function(e){u=e.getRandomHeadIcon,p=e.WEAPON_EVENTS,_=e.EFFECT_CFG,d=e.HERO_CFG,l=e.FRAME_TIME,f=e.HERO_MOTION_MOD,w=e.getCntScaleByCnt,v=e.PD_CFG,M=e.ATTACK_DATA},function(e){y=e.ERoleType,g=e.ERoleStatus},function(e){m=e.WeaponModule3},function(e){C=e.MoveRole3},function(e){D=e.ZDGameState3},function(e){H=e.PDEffectPool3},function(e){k=e.ZdHeroConfig},function(e){V=e.Vec3Util},function(e){W=e.YT},function(e){R=e.ArrayUtil},function(e){B=e.ZdAinameConfig}],execute:function(){o._RF.push({},"e0156WnE9ZLJZS8uQCI512r","RoleHero3",void 0);e("RoleHero3",function(e){t(a,e);var o=a.prototype;function a(){var t;return(t=e.call(this)||this)._heroView=void 0,t._weaponRotationSpeed=void 0,t._weaponAngle=0,t._config=void 0,t._hp=void 0,t._maxHp=void 0,t._weaponModule=void 0,t._isForceMove=void 0,t._pauseRotationWeapon=void 0,t._shieldTime=0,t._isIntoGrass=void 0,t.headIcon=void 0,t.name=void 0,t._weaponVisible=!0,t._contactGrass=null,t.cntScaler=null,t._weaponModule=new m,t._size=new r,t._isForceMove=!1,t._pauseRotationWeapon=!1,t}return o.isIntoGrass=function(){return this._isIntoGrass},o._onIntoGrass=function(e){this._isIntoGrass=e},o._onInit=function(e){this._config=k.data[e],this._radius=this.weaponRadius,this._moveSpeed=this._config.move_speed,this._weaponRotationSpeed=this._config.rot_speed,this._hp=this._maxHp=this._config.hp},o._initView=function(){this.isMainHero?(this.name="我",this.headIcon="image/atlas1/newui/wo"):(this.name=R.randomFromArray(B.dataList).name_str,this.headIcon=u()),this._view=this._heroView=h.Create(this._config.id),this._weaponModule.init(this._heroView.weaponRoot,this._config.weapon),this._weaponModule.initCreate(this._config.weapon_cnt,this.radius),this._weaponModule.emit.on(p.on_cnt_changed,this._onWeaponCntChanged,this),this._onWeaponCntChanged(),this._radius=this.radius,this._heroView.getSize(this._size),this._heroView.setNameStr(this.name,this.isMainHero)},o._onBirth=function(){e.prototype._onBirth.call(this),this._weaponModule.weaponCnt>=_.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),D.runtime.ui.addHeroInMap(this)},o.setWeaponVisible=function(e){this._weaponVisible=e,this._updateWeaponVisible()},o._updateWeaponVisible=function(){var e;null==(e=this._heroView)||e.setWeaponVisible(this._weaponVisible&&this._calcVisible()&&!this._isIntoGrass)},o._onVisibleChange=function(){this._updateWeaponVisible()},o._updateWeaponCntView=function(){var e,t;null==(e=this._heroView)||e.setWeaponCntView(null==(t=this._weaponModule)?void 0:t.weaponCnt)},o._updateHpView=function(){var e=this._hp/this._maxHp;this._heroView.updateHpPercent(e)},o.hurt=function(e){var t,i;this._hp<=0||(this._shieldTime>0||(this._hp-=e,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),D.runtime.control.onHeroDie(this),D.runtime.audioMgr.play(7,3),t=this.pos.x,i=this.pos.y,D.runtime.ui.mapLayer.posIsInScreen2f(t,i)&&H.ShowDeadEffect(t,i),this._onDie(),this._removeLeftWeapons()):this._heroView.showHitEffect()))},o.onKillOthers=function(e){e.isMainHero||W.message.dispatchEvent(p.hero_killer_event,this,e)},o.forceDeath=function(){this.hurt(this._hp)},o.update=function(t){var i;e.prototype.update.call(this,t),this._rotationUpdate(t),null==(i=this._weaponModule)||i.update(t),this._onUpdate(t)},o._rotationUpdate=function(e){this._pauseRotationWeapon||(this._weaponAngle-=this._weaponRotationSpeed*e,this._weaponAngle=this._weaponAngle%360,this._heroView.setWeaponRotation(this._weaponAngle))},o._onUpdate=function(e){this._shieldTime>0&&(this._shieldTime-=e)},o._onContactWithHero=function(e){},o._onDie=function(){},o._onDirCanNotMove=function(){},o.contactProp=function(e){var t=e.type,i=e.param;1==t?(this._weaponModule.addWeaponCnt(i,e.pos),this._radius=this.radius,this._weaponModule.weaponCnt>=_.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius)):2==t?(0==this._config.is_boss||this.isMainHero)&&(this._weaponModule.updateWeaponId(i,e.pos,this.isMainHero),this._radius=this.radius,this._heroView.updateCircleEffectRadius(this._radius),this.isMainHero&&D.runtime.control.onMainRoleChangeWeapon(i)):3==t?this._weaponRotationSpeed+=i:4==t&&this._weaponModule.updateWeaponAtk(i),e.contacted(this),this.isMainHero&&D.runtime.audioMgr.play(4)},o.addWeaponCnt=function(e){this._weaponModule&&this._weaponModule.addWeaponCnt(e,null)},o.contactMonster=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n?(t.hurt(n.atk),t.enable&&t.moveBackByHero(e),A(o[4].x,o[4].y,3),e.isMainHero&&t.dropWeapon&&(n.forceDeath(),e.getWeaponDir(n,x),D.runtime.control.showFlyWeapon(e.weaponModule.cfg,o[4].x,o[4].y,x.x,x.y,!0))):c.isRectIntersect(e.pos,e.size,t.pos,t.size)&&(e.hurt(t.atk),e.moveBackByHero(t),t.moveBackByHero(e))}(this,e,t,i)},o.contactBarrier=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;if(n){t.hurt(n.atk),c.getPositionVector(e.pos,t.pos,S);var s=e.pos.x+S.x*(e.radius-10),a=e.pos.y+S.y*(e.radius-10);t.showDJEffect(s,a,e.isMainHero),n.forceDeath(),e.getWeaponDir(n,x),D.runtime.control.showFlyWeapon(e.weaponModule.cfg,o[4].x,o[4].y,x.x,x.y)}}(this,e,t,i)},o.contactCutTree=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n&&t.hurt(n.atk)}(this,e,t,i)},o.contactGrass=function(e){this._contactGrass!=e&&(this._contactGrass=e,this._contactGrass?(this._contactGrass.onContacted(),this._onIntoGrass(!0)):this._onIntoGrass(!1))},o.contactHero=function(e,t){(function(e,t,i){var o=e.findWeaponByVector(i[0],i[1]),n=t.findWeaponByVector(i[2],i[3]),s=e.isMainHero||t.isMainHero||e.canAtkFriend;if(o){if(n)s&&(o.subHp(n.atk),n.subHp(o.atk)),c.getPositionVector(e.pos,t.pos,S),A(i[4].x,i[4].y,6),o.hp>0?(t.moveBackByHero(e),s&&o.setRedColor()):(e.isMainHero||t.isMainHero)&&(e.getWeaponDir(o,x),D.runtime.control.showFlyWeapon(e.weaponModule.cfg,i[4].x,i[4].y,x.x,x.y)),n.hp>0?(s&&n.setRedColor(),e.moveBackByHero(t)):(e.isMainHero||t.isMainHero)&&(t.getWeaponDir(n,x),D.runtime.control.showFlyWeapon(t.weaponModule.cfg,i[4].x,i[4].y,x.x,x.y)),e._heroView.hideCircleEffect(),t._heroView.hideCircleEffect();else if(c.isIntersectRectCircle(t.pos,t.size,e.pos,e.radius))return s&&(t.hurt(o.atk),t.isDead&&e.onKillOthers(t)),t.moveBackByHero(e),c.getPositionVector(e.pos,t.pos,S),A(e.pos.x+S.x*e.radius,e.pos.y+S.y*e.radius,3),!0}else if(n&&c.isIntersectRectCircle(e.pos,e.size,t.pos,t.radius))return s&&(e.hurt(n.atk),e.isDead&&t.onKillOthers(e)),e.moveBackByHero(t),c.getPositionVector(t.pos,e.pos,S),A(t.pos.x+S.x*t.radius,t.pos.y+S.y*t.radius,3),!0;return!1})(this,e,t)&&this._onContactWithHero(e)},o.moveBackByHero=function(e){var t=this.radius+e.radius;if(!(n.distance(this.pos,e.pos)+d.BACK_TRIGGER_MIN_DIS>=t)){var i=this.pos.x-e.pos.x,o=this.pos.y-e.pos.y;this.startBackMove(i,o,d.BACK_TM,d.BACK_SPEED)}},o._updateMove=function(t){this._isForceMove||e.prototype._updateMove.call(this,t)},o._validateBackDir=function(){var e=this._position.x+l*this._backDir.x*this._moveSpeed,t=this._position.y+l*this._backDir.y*this._moveSpeed,i=D.runtime.control.findObstructRole(this,e,t);return!(i&&(c.getPositionVector(this.pos,i.pos,S),this._backDir.x*S.x>0||this._backDir.y*S.y>0))},o._validateDir=function(){var e=this._position.x+l*this._moveDir.x*this._moveSpeed,t=this._position.y+l*this._moveDir.y*this._moveSpeed,i=D.runtime.control.findObstructRole(this,e,t);if(this._checkCanNotMove(e,t))if(c.getPositionVector(this.pos,i.pos,S),i.roleType==y.Tower){var o=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=o,this._updateFace()}else{var n=this._moveDir.x*S.x>0,s=this._moveDir.y*S.y>0;if(this.isMainHero){if(n&&s)return this._onDirCanNotMove(),!1;n?this._moveDir.x=0:s&&(this._moveDir.y=0)}else if(n||s)return this._onDirCanNotMove(),!1}return!0},o._checkCanNotMove=function(e,t){var i=D.runtime.control.findObstructRole(this,e,t),o=!!i;return o&&i.roleType==y.Barrier&&(o=i.canBreakMove),o},o.forceMove=function(e,t,i){this._isForceMove=!0;var o=i*e;D.runtime.control.checkMoveEnable(this,t.x*o,t.y*o)&&this._updatePos(e,t,i)},o.cancelForceMove=function(){this._isForceMove=!1},o.findWeaponByVector=function(e,t){return this._weaponModule.findWeaponByVector(this.pos,e,t)},o.setWeaponScale=function(e){this._weaponModule.setScale(e)},o.reborn=function(){this._hp=this._maxHp=this._config.hp,this._status=g.Idle,this._enable=!0,this._shieldTime=3,this._updateHpView()},o._onStartMove=function(){this._onHeroModChanged(f.Atk)},o._onStopMove=function(){this._onHeroModChanged(f.Def)},o._onHeroModChanged=function(e){this._weaponModule.changeMod(e),this._heroView.setDefenceEffect(e==f.Def)},o._onWeaponCntChanged=function(){this._updateWeaponCntView();var e=w(this._weaponModule.weaponCnt);this.cntScaler!=e&&(this.cntScaler=e,this._heroView.setScale(this.cntScaler.scale),this._weaponModule.changeRadius(this.radius))},o.getWeaponDir=function(e,t,i){if(void 0===i&&(i=!0),n.subtract(t,e.worldPos,this.pos),t.z=0,t.normalize(),i){var o=v.FLY.OFFSET;V.rotateDirXY(t,-90+s.randomRange(-o,o),t)}},o._removeLeftWeapons=function(){this._weaponModule.removeLeftWeapons(this._position)},i(a,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"config",get:function(){return this._config}},{key:"canAtkBarrier",get:function(){return 1==this._config.atk_barrier}},{key:"canAtkFriend",get:function(){return 1==this._config.atk_friend}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop}},{key:"canCollectMonster",get:function(){return!0}},{key:"canAtkHero",get:function(){return!0}},{key:"canNotBeAtkByHero",get:function(){return!0}},{key:"isMainHero",get:function(){return this._roleType==y.HeroMain}},{key:"isDead",get:function(){return this._hp<=0}},{key:"weaponModule",get:function(){return this._weaponModule}},{key:"fightPower",get:function(){return this._weaponModule.totalPower}},{key:"weaponRadius",get:function(){var e;return this._config.weapon_radius+(null==(e=this.cntScaler)?void 0:e.radius)}},{key:"realRadius",get:function(){return this._weaponModule.weaponCnt>0?this.radius:this._config.weapon_radius*this._weaponModule.scale}},{key:"radius",get:function(){var e=this.weaponRadius+this._weaponModule.width*this._weaponModule.scale;return this.isDefence||(e+=M.RADIUS_ADD),e}},{key:"canCollider",get:function(){return!this._isIntoGrass}},{key:"weaponId",get:function(){return this._weaponModule.cfg.id}},{key:"HeroMod",get:function(){return this._isMoving?f.Atk:f.Def}},{key:"isDefence",get:function(){return!this._isMoving}}]),a}(C));var S=new a,x=(new a,new n),E=0;function A(e,t,i,o){if(void 0===o&&(o=!1),D.runtime.ui.mapLayer.posIsInScreen2f(e,t)){var n=Date.now();(E+100<=n||o)&&(E=n,H.ShowPZEffect(e,t)),D.runtime.audioMgr.play(i,5)}}o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHero4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig.ts","./PDEffectPool4.ts","./HeroCmp4.ts","./WeaponModule4.ts","./ZDUtils4.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./MoveRole4.ts","./RoleMonster4.ts"],(function(e){var t,i,o,n,s,r,a,c,h,u,p,_,d,l,f,w,y,g,v,m;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy,n=e.Vec3,s=e.Vec2,r=e.Size},function(e){a=e.ZdHeroConfig},function(e){c=e.PDEffectPool},function(e){h=e.HeroCmp4},function(e){u=e.WeaponModule},function(e){p=e.ZDUtils4},function(e){_=e.getZD4UniqueId,d=e.EFFECT_CFG,l=e.HERO_CFG,f=e.FRAME_TIME},function(e){w=e.ERoleType,y=e.ERoleStatus},function(e){g=e.ZDGameState4},function(e){v=e.MoveRole4},function(e){m=e.MonsterType}],execute:function(){o._RF.push({},"8c580xV869MO5jlpwlz2Eft","RoleHero4",void 0);e("RoleHero",function(e){t(s,e);var o=s.prototype;function s(){var t;return(t=e.call(this)||this)._heroView=void 0,t._weaponRotationSpeed=void 0,t._weaponAngle=0,t._config=void 0,t._hp=void 0,t._maxHp=void 0,t._weaponModule=void 0,t._isForceMove=void 0,t._pauseRotationWeapon=void 0,t._shieldTime=0,t._isIntoGrass=void 0,t.campType=m.Enemy,t._weaponVisible=!0,t._contactGrass=null,t._weaponModule=new u,t._size=new r,t._isForceMove=!1,t._pauseRotationWeapon=!1,t}return o.isIntoGrass=function(){return this._isIntoGrass},o._onIntoGrass=function(e){this._isIntoGrass=e},o._onInit=function(e){this._config=a.data[e],this._radius=this._config.weapon_radius,this._moveSpeed=this._config.move_speed,this._weaponRotationSpeed=this._config.rot_speed,this._hp=this._maxHp=this._config.hp,this.uniqueId=_()},o._initView=function(){this._view=this._heroView=h.Create(this._config.id),this._weaponModule.init(this._heroView.weaponRoot,this._config.weapon,this._config.weapon_cnt,this._config.weapon_radius,this._roleType==w.HeroMain),this._radius=this._config.weapon_radius+this._weaponModule.width,this._heroView.getSize(this._size),this._heroView.setNameStr(this._config.name),this._updateWeaponCntView()},o._onBirth=function(){e.prototype._onBirth.call(this),this._weaponModule.weaponCnt>=d.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),g.runtime.ui.addHeroInMap(this)},o.setWeaponVisible=function(e){this._weaponVisible=e,this._updateWeaponVisible()},o._updateWeaponVisible=function(){var e;null==(e=this._heroView)||e.setWeaponVisible(this._weaponVisible&&this._calcVisible()&&!this._isIntoGrass)},o._onVisibleChange=function(){this._updateWeaponVisible()},o._updateWeaponCntView=function(){var e,t;null==(e=this._heroView)||e.setWeaponCntView(null==(t=this._weaponModule)?void 0:t.weaponCnt)},o._updateHpView=function(){var e=this._hp/this._maxHp;this._heroView.updateHpPercent(e)},o.hurt=function(e){this._hp<=0||this._shieldTime>0||(this._hp-=e,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),g.runtime.control.onHeroDie(this),g.runtime.audioMgr.play(7,3),this._onDie()):this._heroView.showHitEffect())},o.forceDeath=function(){this.hurt(this._hp)},o.update=function(t){var i;e.prototype.update.call(this,t),this._rotationUpdate(t),null==(i=this._weaponModule)||i.update(t),this._onUpdate(t)},o._rotationUpdate=function(e){this._pauseRotationWeapon||(this._weaponAngle-=this._weaponRotationSpeed*e,Math.abs(this._weaponAngle)>360&&this.weaponModule.weapons.forEach((function(e){e.knifeAtkFlag=[]})),this._weaponAngle=this._weaponAngle%360,this._heroView.setWeaponRotation(this._weaponAngle))},o._onUpdate=function(e){this._shieldTime>0&&(this._shieldTime-=e)},o._onContactWithHero=function(e){},o._onDie=function(){},o._onDirCanNotMove=function(){},o.contactProp=function(e){var t=e.type,i=e.param;1==t?(this._weaponModule.addWeaponCnt(i,this._roleType==w.HeroMain),this._weaponModule.weaponCnt>=d.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),this._updateWeaponCntView()):2==t?(0==this._config.is_boss||this.isMainHero)&&(this._weaponModule.updateWeaponId(i),this._radius=this._config.weapon_radius+this._weaponModule.width,this._heroView.updateCircleEffectRadius(this._radius),this.isMainHero&&g.runtime.control.onMainRoleChangeWeapon(i)):3==t?this._weaponRotationSpeed+=i:4==t?this._weaponModule.updateWeaponAtk(i):5==t?this.curCtrl.mainHero.moveSpeedAddPct+=i:6==t?this.curCtrl.createShooter(i):7==t?this.curCtrl.shooterAddAtkPct+=i:8==t?this.curCtrl.createMiner(i):9==t?this.curCtrl.minerAddProdPct+=i:10==t?this.curCtrl.createHamal(i,e.pos.x,e.pos.y):11==t?this.curCtrl.hamalAddCarryPct+=i:12==t&&this.curCtrl.createTmHero(i,e.pos.x,e.pos.y),e.contacted(this),this.isMainHero&&g.runtime.audioMgr.play(4)},o.addWeaponCnt=function(e){this._weaponModule&&this._weaponModule.addWeaponCnt(e,this._roleType==w.HeroMain),this._updateWeaponCntView()},o.contactMonster=function(e,t,i){!function(e,t,i,o){if(e.campType==t.campType)return;var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n?n.knifeAtkFlag.includes(t.uniqueId)||(n.knifeAtkFlag.push(t.uniqueId),t.hurt(n.atk),t.enable&&t.moveBackByHero(e),V(o[4].x,o[4].y,3)):p.isRectIntersect(e.pos,e.size,t.pos,t.size)&&(e.hurt(t.atk),e.config.atk&&t.hurt(e.config.atk),e.moveBackByHero(t),t.moveBackByHero(e))}(this,e,t,i)},o.contactBarrier=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;if(n){t.hurt(n.atk),p.getPositionVector(e.pos,t.pos,M);var s=e.pos.x+M.x*(e.radius-10),r=e.pos.y+M.y*(e.radius-10);t.showDJEffect(s,r,e.isMainHero)}}(this,e,t,i)},o.contactCutTree=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n&&(n.knifeAtkFlag.includes(t.uniqueId)||(n.knifeAtkFlag.push(t.uniqueId),t.hurt(n.atk)))}(this,e,t,i)},o.contactGrass=function(e){this._contactGrass!=e&&(this._contactGrass=e,this._contactGrass?(this._contactGrass.onContacted(),this._onIntoGrass(!0)):this._onIntoGrass(!1))},o.contactHero=function(e,t){(function(e,t,i){if(e.campType==t.campType)return;var o=e.findWeaponByVector(i[0],i[1]),n=t.findWeaponByVector(i[2],i[3]),s=e.isMainHero||t.isMainHero||e.canAtkFriend;if(o){if(n)s&&(o.subHp(n.atk),n.subHp(o.atk)),p.getPositionVector(e.pos,t.pos,M),V(i[4].x,i[4].y,6),o.hp>0?(t.moveBackByHero(e),s&&o.setRedColor()):(e.isMainHero||t.isMainHero)&&(p.getVectorVerticalDir(M,e.pos.x<t.pos.x,k),g.runtime.control.showFlyWeapon(e.weaponModule.cfg.res,i[4].x,i[4].y,k.x,k.y)),n.hp>0?(s&&n.setRedColor(),e.moveBackByHero(t)):(e.isMainHero||t.isMainHero)&&(p.getVectorVerticalDir(M.negative(),t.pos.x>e.pos.x,k),g.runtime.control.showFlyWeapon(t.weaponModule.cfg.res,i[4].x,i[4].y,k.x,k.y)),e._heroView.hideCircleEffect(),t._heroView.hideCircleEffect();else if(p.isIntersectRectCircle(t.pos,t.size,e.pos,e.radius)&&!o.knifeAtkFlag.includes(t.uniqueId))return s&&t.hurt(o.atk),o.knifeAtkFlag.push(t.uniqueId),t.moveBackByHero(e),p.getPositionVector(e.pos,t.pos,M),V(e.pos.x+M.x*e.radius,e.pos.y+M.y*e.radius,3),!0}else if(n){if(p.isIntersectRectCircle(e.pos,e.size,t.pos,t.radius)&&!n.knifeAtkFlag.includes(e.uniqueId))return s&&e.hurt(n.atk),n.knifeAtkFlag.push(e.uniqueId),e.moveBackByHero(t),p.getPositionVector(t.pos,e.pos,M),V(t.pos.x+M.x*t.radius,t.pos.y+M.y*t.radius,3),!0}else t.config.atk&&p.isRectIntersect(e.pos,e.size,t.pos,t.size)&&(e.hurt(t.config.atk),e.moveBackByHero(t),t.moveBackByHero(e));return!1})(this,e,t)&&this._onContactWithHero(e),this._updateWeaponCntView(),e._updateWeaponCntView()},o.moveBackByHero=function(e){var t=this.radius+e.radius;if(!(n.distance(this.pos,e.pos)+l.BACK_TRIGGER_MIN_DIS>=t)){var i=this.pos.x-e.pos.x,o=this.pos.y-e.pos.y;this.startBackMove(i,o,l.BACK_TM,l.BACK_SPEED)}},o._updateMove=function(t){this._isForceMove||e.prototype._updateMove.call(this,t)},o._validateBackDir=function(){var e=this._position.x+f*this._backDir.x*this._moveSpeed,t=this._position.y+f*this._backDir.y*this._moveSpeed,i=g.runtime.control.findObstructRole(this,e,t);return!(i&&(p.getPositionVector(this.pos,i.pos,M),this._backDir.x*M.x>0||this._backDir.y*M.y>0))},o._validateDir=function(){var e=this._position.x+f*this._moveDir.x*this._moveSpeed,t=this._position.y+f*this._moveDir.y*this._moveSpeed,i=g.runtime.control.findObstructRole(this,e,t),o=!!i;if(o&&i.roleType==w.Barrier&&(o=i.canBreakMove),o)if(p.getPositionVector(this.pos,i.pos,M),i.roleType==w.Tower){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}else{var s=this._moveDir.x*M.x>0,r=this._moveDir.y*M.y>0,a=f,c=this._moveSpeed,h=this._position.x+this._moveDir.x*c*a,u=this._position.y+this._moveDir.y*c*a;s&&g.runtime.control.findObstructRole(this,h,this._position.y)&&(this._moveDir.x=0,h=this._position.x),r&&g.runtime.control.findObstructRole(this,h,u)&&(this._moveDir.y=0,u=this._position.y),0!==this._moveDir.x||0!==this._moveDir.y||this._onDirCanNotMove()}return!0},o.forceMove=function(e,t,i){this._isForceMove=!0,this._updatePos(e,t,i)},o.cancelForceMove=function(){this._isForceMove=!1},o.findWeaponByVector=function(e,t){return this._weaponModule.findWeaponByVector(this.pos,e,t)},o.setWeaponScale=function(e){this._weaponModule.setScale(e)},o.reborn=function(){this._hp=this._maxHp=this._config.hp,this._status=y.Idle,this._enable=!0,this._shieldTime=3,this._updateHpView()},i(s,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"config",get:function(){return this._config}},{key:"canAtkBarrier",get:function(){return 1==this._config.atk_barrier}},{key:"canAtkFriend",get:function(){return 1==this._config.atk_friend}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop}},{key:"canCollectMonster",get:function(){return!0}},{key:"canAtkHero",get:function(){return!0}},{key:"canNotBeAtkByHero",get:function(){return!0}},{key:"isMainHero",get:function(){return this._roleType==w.HeroMain}},{key:"weaponModule",get:function(){return this._weaponModule}},{key:"fightPower",get:function(){return this._weaponModule.totalPower}},{key:"initRadius",get:function(){return this._config.weapon_radius}},{key:"realRadius",get:function(){return this._weaponModule.weaponCnt>0?this.radius:this._config.weapon_radius*this._weaponModule.scale}},{key:"radius",get:function(){return this._config.weapon_radius+this._weaponModule.width*this._weaponModule.scale}},{key:"canCollider",get:function(){return!this._isIntoGrass}},{key:"weaponId",get:function(){return this._weaponModule.cfg.id}}]),s}(v));var M=new s,k=new s,C=0;function V(e,t,i){if(g.runtime.ui.mapLayer.posIsInScreen2f(e,t)){var o=Date.now();if(C+100<=o)C=o,c.ShowPZEffect().set(e,t);g.runtime.audioMgr.play(i,5)}}o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHero5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig2.ts","./PDEffectPool5.ts","./HeroCmp5.ts","./WeaponModule5.ts","./ZDUtils5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./MoveRole5.ts","./RoleMonster5.ts"],(function(e){var t,i,o,n,s,a,r,u,c,h,p,_,d,l,f,w,y,g,v,k,M;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy,n=e.Vec3,s=e.Vec2,a=e.Size},function(e){r=e.ZdHeroConfig},function(e){u=e.PDEffectPool},function(e){c=e.HeroCmp5},function(e){h=e.WeaponModule},function(e){p=e.ZDUtils4},function(e){_=e.getZD5UniqueId,d=e.EFFECT_CFG,l=e.HERO_CFG,f=e.FRAME_TIME},function(e){w=e.ERoleType,y=e.ERoleStatus},function(e){g=e.ZDGameState5},function(e){v=e.MoveRole},function(e){k=e.TmType,M=e.CampType}],execute:function(){o._RF.push({},"64a89uGkLRJ85YiRKbEXljk","RoleHero5",void 0);e("RoleHero",function(e){t(s,e);var o=s.prototype;function s(){var t;return(t=e.call(this)||this)._heroView=void 0,t._weaponRotationSpeed=void 0,t._weaponAngle=0,t._config=void 0,t._hp=void 0,t._maxHp=void 0,t._weaponModule=void 0,t._isForceMove=void 0,t._pauseRotationWeapon=void 0,t._shieldTime=0,t._isIntoGrass=void 0,t.campType=M.Enemy,t._weaponVisible=!0,t._contactGrass=null,t._weaponModule=new h,t._size=new a,t._isForceMove=!1,t._pauseRotationWeapon=!1,t}return o.isIntoGrass=function(){return this._isIntoGrass},o._onIntoGrass=function(e){this._isIntoGrass=e},o._onInit=function(e){this._config=r.data[e],this._radius=this._config.weapon_radius,this._moveSpeed=this._config.move_speed,this._weaponRotationSpeed=this._config.rot_speed,this._hp=this._maxHp=this._config.hp,this.uniqueId=_()},o._initView=function(){this._view=this._heroView=c.Create(this._config.id),this._weaponModule.init(this._heroView.weaponRoot,this._config.weapon,this._config.weapon_cnt,this._config.weapon_radius,this._roleType==w.HeroMain),this._radius=this._config.weapon_radius+this._weaponModule.width,this._heroView.getSize(this._size),this._heroView.setNameStr(this._config.name),this._updateWeaponCntView()},o._onBirth=function(){e.prototype._onBirth.call(this),this._weaponModule.weaponCnt>=d.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),g.runtime.ui.addHeroInMap(this)},o.setWeaponVisible=function(e){this._weaponVisible=e,this._updateWeaponVisible()},o._updateWeaponVisible=function(){var e;null==(e=this._heroView)||e.setWeaponVisible(this._weaponVisible&&this._calcVisible()&&!this._isIntoGrass)},o._onVisibleChange=function(){this._updateWeaponVisible()},o._updateWeaponCntView=function(){var e,t;null==(e=this._heroView)||e.setWeaponCntView(null==(t=this._weaponModule)?void 0:t.weaponCnt)},o._updateHpView=function(){var e=this._hp/this._maxHp;this._heroView.updateHpPercent(e)},o.hurt=function(e,t){var i=this;this._hp<=0||this._shieldTime>0||(this._hp-=e,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),g.runtime.control.onHeroDie(this),g.runtime.audioMgr.play(7,3),this._onDie()):(this._heroView.showHitEffect(),null==t||t.forEach((function(e){return i.addBuff(e)}))))},o.forceDeath=function(){this.hurt(this._hp)},o.update=function(t){var i;e.prototype.update.call(this,t),this._rotationUpdate(t),null==(i=this._weaponModule)||i.update(t),this._onUpdate(t)},o._rotationUpdate=function(e){this._pauseRotationWeapon||(this._weaponAngle-=this._weaponRotationSpeed*e,Math.abs(this._weaponAngle)>360&&this.weaponModule.weapons.forEach((function(e){e.knifeAtkFlag=[]})),this._weaponAngle=this._weaponAngle%360,this._heroView.setWeaponRotation(this._weaponAngle))},o._onUpdate=function(e){this._shieldTime>0&&(this._shieldTime-=e)},o._onContactWithHero=function(e){},o._onDie=function(){},o._onDirCanNotMove=function(){},o.contactProp=function(e){var t=e.type,i=e.param;1==t?(this._weaponModule.addWeaponCnt(i,this._roleType==w.HeroMain),this._weaponModule.weaponCnt>=d.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),this._updateWeaponCntView()):2==t?(0==this._config.is_boss||this.isMainHero)&&(this._weaponModule.updateWeaponId(i),this._radius=this._config.weapon_radius+this._weaponModule.width,this._heroView.updateCircleEffectRadius(this._radius),this.isMainHero&&g.runtime.control.onMainRoleChangeWeapon(i)):3==t?this._weaponRotationSpeed+=i:4==t?this._weaponModule.updateWeaponAtk(i):5==t?this.curCtrl.mainHero.moveSpeedAddPct+=i:6==t?this.curCtrl.createShooter(i):7==t?this.curCtrl.shooterAddAtkPct+=i:8==t?this.curCtrl.createMiner(i):9==t?this.curCtrl.minerAddProdPct+=i:10==t?this.curCtrl.createHamal(i,e.pos.x,e.pos.y):11==t?this.curCtrl.hamalAddCarryPct+=i:12==t&&this.curCtrl.createTmHero(i,e.pos.x,e.pos.y),e.contacted(this),this.isMainHero&&g.runtime.audioMgr.play(4)},o.addWeaponCnt=function(e){this._weaponModule&&this._weaponModule.addWeaponCnt(e,this._roleType==w.HeroMain),this._updateWeaponCntView()},o.contactMonster=function(e,t,i){!function(e,t,i,o){if(e.campType!=t.campType||e.roleType==w.HeroMain&&t.tmType==k.Fruits){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n?n.knifeAtkFlag.includes(t.uniqueId)||(n.knifeAtkFlag.push(t.uniqueId),t.hurt(n.atk,[],e),t.enable&&t.moveBackByHero(e),V(o[4].x,o[4].y,3)):t.tmType!=k.Fruits&&p.isRectIntersect(e.pos,e.size,t.pos,t.size)&&(e.hurt(t.atk),e.config.atk&&t.hurt(e.config.atk),e.moveBackByHero(t),t.moveBackByHero(e))}}(this,e,t,i)},o.contactBarrier=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;if(n){t.hurt(n.atk),p.getPositionVector(e.pos,t.pos,m);var s=e.pos.x+m.x*(e.radius-10),a=e.pos.y+m.y*(e.radius-10);t.showDJEffect(s,a,e.isMainHero)}}(this,e,t,i)},o.contactCutTree=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n&&(n.knifeAtkFlag.includes(t.uniqueId)||(n.knifeAtkFlag.push(t.uniqueId),t.hurt(n.atk)))}(this,e,t,i)},o.contactGrass=function(e){this._contactGrass!=e&&(this._contactGrass=e,this._contactGrass?(this._contactGrass.onContacted(),this._onIntoGrass(!0)):this._onIntoGrass(!1))},o.contactHero=function(e,t){(function(e,t,i){if(e.campType==t.campType)return;var o=e.findWeaponByVector(i[0],i[1]),n=t.findWeaponByVector(i[2],i[3]),s=e.isMainHero||t.isMainHero||e.canAtkFriend;if(o){if(n)s&&(o.subHp(n.atk),n.subHp(o.atk)),p.getPositionVector(e.pos,t.pos,m),V(i[4].x,i[4].y,6),o.hp>0?(t.moveBackByHero(e),s&&o.setRedColor()):(e.isMainHero||t.isMainHero)&&(p.getVectorVerticalDir(m,e.pos.x<t.pos.x,C),g.runtime.control.showFlyWeapon(e.weaponModule.cfg.res,i[4].x,i[4].y,C.x,C.y)),n.hp>0?(s&&n.setRedColor(),e.moveBackByHero(t)):(e.isMainHero||t.isMainHero)&&(p.getVectorVerticalDir(m.negative(),t.pos.x>e.pos.x,C),g.runtime.control.showFlyWeapon(t.weaponModule.cfg.res,i[4].x,i[4].y,C.x,C.y)),e._heroView.hideCircleEffect(),t._heroView.hideCircleEffect();else if(p.isIntersectRectCircle(t.pos,t.size,e.pos,e.radius)&&!o.knifeAtkFlag.includes(t.uniqueId))return s&&t.hurt(o.atk),o.knifeAtkFlag.push(t.uniqueId),t.moveBackByHero(e),p.getPositionVector(e.pos,t.pos,m),V(e.pos.x+m.x*e.radius,e.pos.y+m.y*e.radius,3),!0}else if(n){if(p.isIntersectRectCircle(e.pos,e.size,t.pos,t.radius)&&!n.knifeAtkFlag.includes(e.uniqueId))return s&&e.hurt(n.atk),n.knifeAtkFlag.push(e.uniqueId),e.moveBackByHero(t),p.getPositionVector(t.pos,e.pos,m),V(t.pos.x+m.x*t.radius,t.pos.y+m.y*t.radius,3),!0}else t.config.atk&&p.isRectIntersect(e.pos,e.size,t.pos,t.size)&&(e.hurt(t.config.atk),e.moveBackByHero(t),t.moveBackByHero(e));return!1})(this,e,t)&&this._onContactWithHero(e),this._updateWeaponCntView(),e._updateWeaponCntView()},o.moveBackByHero=function(e){var t=this.radius+e.radius;if(!(n.distance(this.pos,e.pos)+l.BACK_TRIGGER_MIN_DIS>=t)){var i=this.pos.x-e.pos.x,o=this.pos.y-e.pos.y;this.startBackMove(i,o,l.BACK_TM,l.BACK_SPEED)}},o._updateMove=function(t){this._isForceMove||e.prototype._updateMove.call(this,t)},o._validateBackDir=function(){var e=this._position.x+f*this._backDir.x*this._moveSpeed,t=this._position.y+f*this._backDir.y*this._moveSpeed,i=g.runtime.control.findObstructRole(this,e,t);return!(i&&(p.getPositionVector(this.pos,i.pos,m),this._backDir.x*m.x>0||this._backDir.y*m.y>0))},o._validateDir=function(){var e=this._position.x+f*this._moveDir.x*this._moveSpeed,t=this._position.y+f*this._moveDir.y*this._moveSpeed,i=g.runtime.control.findObstructRole(this,e,t),o=!!i;if(o&&i.roleType==w.Barrier&&(o=i.canBreakMove),o&&i.roleType==w.Tower&&(o=!0),o){p.getPositionVector(this.pos,i.pos,m);var n=this._moveDir.x*m.x>0,s=this._moveDir.y*m.y>0;n&&g.runtime.control.findObstructRole(this,e,this._position.y)&&(this._moveDir.x=0,t=this._position.x),s&&g.runtime.control.findObstructRole(this,this._position.x,t)&&(this._moveDir.y=0),0!==this._moveDir.x||0!==this._moveDir.y||this._onDirCanNotMove()}return!0},o.forceMove=function(e,t,i){this._isForceMove=!0,this._updatePos(e,t,i)},o.cancelForceMove=function(){this._isForceMove=!1},o.findWeaponByVector=function(e,t){return this._weaponModule.findWeaponByVector(this.pos,e,t)},o.setWeaponScale=function(e){this._weaponModule.setScale(e)},o.reborn=function(){this._hp=this._maxHp=this._config.hp,this._status=y.Idle,this._enable=!0,this._shieldTime=3,this._updateHpView()},i(s,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"config",get:function(){return this._config}},{key:"canAtkBarrier",get:function(){return 1==this._config.atk_barrier}},{key:"canAtkFriend",get:function(){return 1==this._config.atk_friend}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop}},{key:"canCollectMonster",get:function(){return!0}},{key:"canAtkHero",get:function(){return!0}},{key:"canNotBeAtkByHero",get:function(){return!0}},{key:"isMainHero",get:function(){return this._roleType==w.HeroMain}},{key:"weaponModule",get:function(){return this._weaponModule}},{key:"fightPower",get:function(){return this._weaponModule.totalPower}},{key:"initRadius",get:function(){return this._config.weapon_radius}},{key:"realRadius",get:function(){return this._weaponModule.weaponCnt>0?this.radius:this._config.weapon_radius*this._weaponModule.scale}},{key:"radius",get:function(){return this._config.weapon_radius+this._weaponModule.width*this._weaponModule.scale}},{key:"canCollider",get:function(){return!this._isIntoGrass}},{key:"weaponId",get:function(){return this._weaponModule.cfg.id}}]),s}(v));var m=new s,C=new s,H=0;function V(e,t,i){if(g.runtime.ui.mapLayer.posIsInScreen2f(e,t)){var o=Date.now();if(H+100<=o)H=o,u.ShowPZEffect().set(e,t);g.runtime.audioMgr.play(i,5)}}o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHero6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig4.ts","./PDEffectPool6.ts","./HeroCmp6.ts","./WeaponModule6.ts","./ZDUtils6.ts","./ZDConst6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./MoveRole6.ts","./YT.ts","./ZDResUtils6.ts"],(function(e){var t,i,o,n,s,a,r,h,c,u,p,_,d,f,l,w,v,g,y,M,m,V,k;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,o=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e.Vec3,r=e.Vec2,h=e.Size},function(e){c=e.ZdHeroConfig},function(e){u=e.PDEffectPool},function(e){p=e.HeroCmp6},function(e){_=e.WeaponModule},function(e){d=e.ZDUtils},function(e){f=e.EFFECT_CFG,l=e.HERO_CFG,w=e.FRAME_TIME,v=e.ZD_BUNDLE},function(e){g=e.ERoleType,y=e.ERoleStatus},function(e){M=e.ZDGameState6},function(e){m=e.MoveRole},function(e){V=e.YT},function(e){k=e.ZDResUtils}],execute:function(){s._RF.push({},"59dfeZHTgROFKLGlOy5T48Y","RoleHero6",void 0);e("RoleHero",function(e){t(r,e);var s=r.prototype;function r(){var t;return(t=e.call(this)||this)._heroView=void 0,t._weaponRotationSpeed=void 0,t._weaponAngle=0,t._config=void 0,t._hp=void 0,t._maxHp=void 0,t._weaponModule=void 0,t._isForceMove=void 0,t._pauseRotationWeapon=void 0,t._shieldTime=0,t._isIntoGrass=void 0,t._weaponVisible=!0,t._contactGrass=null,t._weaponModule=new _,t._size=new h,t._isForceMove=!1,t._pauseRotationWeapon=!1,t}return s.isIntoGrass=function(){return this._isIntoGrass},s._onIntoGrass=function(e){this._isIntoGrass=e},s._onInit=function(e){this._config=c.data[e],this._radius=this._config.weapon_radius,this._moveSpeed=this._config.move_speed,this._weaponRotationSpeed=this._config.rot_speed,this._hp=this._maxHp=this._config.hp},s._initView=function(){this._view=this._heroView=p.Create(this._config.id),this._weaponModule.init(this._heroView.weaponRoot,this._config.weapon,this._config.weapon_cnt,this._config.weapon_radius),this._radius=this._config.weapon_radius+this._weaponModule.width,this._heroView.getSize(this._size),this._heroView.setNameStr(this._config.name),this._updateWeaponCntView()},s.changeSkin=function(){var e=o(n().mark((function e(t){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._config=c.data[t],this._radius=this._config.weapon_radius,this._moveSpeed=this._config.move_speed,this._weaponRotationSpeed=this._config.rot_speed,i=k.fullHeroModelRes(this._config.res),e.next=7,V.res.loadAsync(i,v);case 7:this._heroView.changeModel(t);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s._onBirth=function(){e.prototype._onBirth.call(this),this._weaponModule.weaponCnt>=f.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),M.runtime.ui.addHeroInMap(this)},s.setWeaponVisible=function(e){this._weaponVisible=e,this._updateWeaponVisible()},s._updateWeaponVisible=function(){var e;null==(e=this._heroView)||e.setWeaponVisible(this._weaponVisible&&this._calcVisible()&&!this._isIntoGrass)},s._onVisibleChange=function(){this._updateWeaponVisible()},s._updateWeaponCntView=function(){var e,t;null==(e=this._heroView)||e.setWeaponCntView(null==(t=this._weaponModule)?void 0:t.weaponCnt)},s._updateHpView=function(){var e=this._hp/this._maxHp;this._heroView.updateHpPercent(e)},s.moveByTargetPos=function(e,t){d.getPositionVector(this.pos,e,this._moveDir),this.startMove(this._moveDir.x,this._moveDir.y)},s.hurt=function(e){this._hp<=0||this._shieldTime>0||(this._hp-=e,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),M.runtime.control.onHeroDie(this),M.runtime.audioMgr.play(7,3),this._onDie()):this._heroView.showHitEffect())},s.forceDeath=function(){this.hurt(this._hp)},s.update=function(t){var i;e.prototype.update.call(this,t),this._rotationUpdate(t),null==(i=this._weaponModule)||i.update(t),this._onUpdate(t)},s._rotationUpdate=function(e){this._pauseRotationWeapon||(this._weaponAngle-=this._weaponRotationSpeed*e,this._weaponAngle=this._weaponAngle%360,this._heroView.setWeaponRotation(this._weaponAngle))},s.changeRotateDir=function(){this._weaponRotationSpeed*=-1},s._onUpdate=function(e){this._shieldTime>0&&(this._shieldTime-=e)},s._onContactWithHero=function(e){},s._onDie=function(){},s._onDirCanNotMove=function(){},s.contactProp=function(e){if(e.checkCanPick(this)){var t=e.type,i=e.param;1==t?(this._weaponModule.addWeaponCnt(i),this._weaponModule.weaponCnt>=f.EFF2.WEAPON_CNT&&this._heroView.showCircleEffect(this._radius),this._updateWeaponCntView()):2==t?(0==this._config.is_boss||this.isMainHero)&&(this._weaponModule.updateWeaponId(i),this._radius=this._config.weapon_radius+this._weaponModule.width,this._heroView.updateCircleEffectRadius(this._radius),this.isMainHero&&M.runtime.control.onMainRoleChangeWeapon(i)):3==t?this._weaponRotationSpeed+=i:4==t?this._weaponModule.updateWeaponAtk(i):(5==t||6==t)&&this.changeSkin(i),e.contacted(this),this.isMainHero&&M.runtime.audioMgr.play(4)}},s.addWeaponCnt=function(e){this._weaponModule&&this._weaponModule.addWeaponCnt(e),this._updateWeaponCntView()},s.contactMonster=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n?(t.hurt(n.atk),t.enable&&t.moveBackByHero(e),B(o[4].x,o[4].y,3)):d.isRectIntersect(e.pos,e.size,t.pos,t.size)&&(e.hurt(t.atk),e.moveBackByHero(t),t.moveBackByHero(e))}(this,e,t,i)},s.contactBarrier=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;if(n){t.hurt(n.atk),d.getPositionVector(e.pos,t.pos,H);var s=e.pos.x+H.x*(e.radius-10),a=e.pos.y+H.y*(e.radius-10);t.showDJEffect(s,a,e.isMainHero)}}(this,e,t,i)},s.contactCutTree=function(e,t,i){!function(e,t,i,o){var n=2==i?e.findWeaponByVector(o[0],o[1]):null;n&&t.hurt(n.atk)}(this,e,t,i)},s.contactGrass=function(e){this._contactGrass!=e&&(this._contactGrass=e,this._contactGrass?(this._contactGrass.onContacted(),this._onIntoGrass(!0)):this._onIntoGrass(!1))},s.contactHero=function(e,t){(function(e,t,i){var o=e.findWeaponByVector(i[0],i[1]),n=t.findWeaponByVector(i[2],i[3]),s=e.isMainHero||t.isMainHero||e.canAtkFriend;if(o){if(n)s&&(o.subHp(n.atk),n.subHp(o.atk)),d.getPositionVector(e.pos,t.pos,H),B(i[4].x,i[4].y,6),o.hp>0?t.moveBackByHero(e):(e.isMainHero||t.isMainHero)&&(d.getVectorVerticalDir(H,e.pos.x<t.pos.x,C),M.runtime.control.showFlyWeapon(e.weaponModule.cfg.res,i[4].x,i[4].y,C.x,C.y)),n.hp>0?e.moveBackByHero(t):(e.isMainHero||t.isMainHero)&&(d.getVectorVerticalDir(H.negative(),t.pos.x>e.pos.x,C),M.runtime.control.showFlyWeapon(t.weaponModule.cfg.res,i[4].x,i[4].y,C.x,C.y)),e._heroView.hideCircleEffect(),t._heroView.hideCircleEffect();else if(d.isIntersectRectCircle(t.pos,t.size,e.pos,e.radius))return s&&t.hurt(o.atk),t.moveBackByHero(e),d.getPositionVector(e.pos,t.pos,H),B(e.pos.x+H.x*e.radius,e.pos.y+H.y*e.radius,3,e),!0}else if(n&&d.isIntersectRectCircle(e.pos,e.size,t.pos,t.radius))return s&&e.hurt(n.atk),e.moveBackByHero(t),d.getPositionVector(t.pos,e.pos,H),B(t.pos.x+H.x*t.radius,t.pos.y+H.y*t.radius,3),!0;return!1})(this,e,t)&&this._onContactWithHero(e),this._updateWeaponCntView(),e._updateWeaponCntView()},s.moveBackByHero=function(e){var t=this.radius+e.radius;if(!(a.distance(this.pos,e.pos)+l.BACK_TRIGGER_MIN_DIS>=t)){var i=this.pos.x-e.pos.x,o=this.pos.y-e.pos.y;this.startBackMove(i,o,l.BACK_TM,l.BACK_SPEED)}},s._updateMove=function(t){this._isForceMove||e.prototype._updateMove.call(this,t)},s._validateBackDir=function(){var e=this._position.x+w*this._backDir.x*this._moveSpeed,t=this._position.y+w*this._backDir.y*this._moveSpeed,i=M.runtime.control.findObstructRole(this,e,t);return!(i&&(d.getPositionVector(this.pos,i.pos,H),this._backDir.x*H.x>0||this._backDir.y*H.y>0))},s._validateDir=function(){var e=this._position.x+w*this._moveDir.x*this._moveSpeed,t=this._position.y+w*this._moveDir.y*this._moveSpeed,i=M.runtime.control.findObstructRole(this,e,t),o=!!i;if(o&&i.roleType==g.Barrier&&(o=i.canBreakMove),o)if(d.getPositionVector(this.pos,i.pos,H),i.roleType==g.Tower){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}else{var s=this._moveDir.x*H.x>0,a=this._moveDir.y*H.y>0;if(this.isMainHero){if(s&&a)return this._onDirCanNotMove(),!1;s?this._moveDir.x=0:a&&(this._moveDir.y=0)}else if(s||a)return this._onDirCanNotMove(),!1}return!0},s.forceMove=function(e,t,i){this._isForceMove=!0,this._updatePos(e,t,i)},s.cancelForceMove=function(){this._isForceMove=!1},s.findWeaponByVector=function(e,t){return this._weaponModule.findWeaponByVector(this.pos,e,t)},s.setWeaponScale=function(e){this._weaponModule.setScale(e)},s.reborn=function(){this._hp=this._maxHp=this._config.hp,this._status=y.Idle,this._enable=!0,this._shieldTime=3,this._updateHpView()},i(r,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"config",get:function(){return this._config}},{key:"canAtkBarrier",get:function(){return 1==this._config.atk_barrier}},{key:"canAtkFriend",get:function(){return 1==this._config.atk_friend}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop}},{key:"canCollectMonster",get:function(){return!0}},{key:"canAtkHero",get:function(){return!0}},{key:"canNotBeAtkByHero",get:function(){return!0}},{key:"isMainHero",get:function(){return this._roleType==g.HeroMain}},{key:"weaponModule",get:function(){return this._weaponModule}},{key:"fightPower",get:function(){return this._weaponModule.totalPower}},{key:"initRadius",get:function(){return this._config.weapon_radius}},{key:"realRadius",get:function(){return this._weaponModule.weaponCnt>0?this.radius:this._config.weapon_radius*this._weaponModule.scale}},{key:"radius",get:function(){return this._config.weapon_radius+this._weaponModule.width*this._weaponModule.scale}},{key:"canCollider",get:function(){return!this._isIntoGrass}},{key:"weaponId",get:function(){return this._weaponModule.cfg.id}}]),r}(m));var H=new r,C=new r,D=0;function B(e,t,i,o){if(void 0===o&&(o=null),M.runtime.ui.mapLayer.posIsInScreen2f(e,t)){var n=Date.now();if(D+100<=n)D=n,u.ShowPZEffect().set(e,t);o?o.isMainHero&&M.runtime.audioMgr.play(i,5):M.runtime.audioMgr.play(i,5)}}s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroAI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AIAgentImps.ts","./ZDEnum.ts","./RoleHero.ts"],(function(e){var t,i,o,n,s,r;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy},function(e){n=e.createAIAgent},function(e){s=e.ERoleType},function(e){r=e.RoleHero}],execute:function(){o._RF.push({},"f893dYFQV5PJLsfeN443+H8","RoleHeroAI",void 0);e("RoleHeroAI",function(e){function o(){var t;return(t=e.call(this)||this)._fightHero=void 0,t._aiAgent=void 0,t._isSleep=void 0,t._forceShow=!1,t._roleType=s.HeroAI,t._isSleep=!1,t}t(o,e);var r=o.prototype;return r._onInit=function(t){e.prototype._onInit.call(this,t)},r._onBirth=function(){e.prototype._onBirth.call(this),this._aiAgent=n(this,this._config.agent,this._config.ai_param)},r._onUpdate=function(e){var t;null==(t=this._aiAgent)||t.update(e),this._fightHero=null},r._onDie=function(){var e;null==(e=this._aiAgent)||e.destroy()},r._onDirCanNotMove=function(){var e;null==(e=this._aiAgent)||e.resetState()},r._onContactWithHero=function(e){this._fightHero=e,e.roleType==s.HeroAI&&(e._fightHero=this)},r.setWeaponVisible=function(e){var t,i;e?null==(t=this._heroView)||t.setWeaponVisible(!this._isSleep):null==(i=this._heroView)||i.setWeaponVisible(e)},r.playMoveAni=function(){var e;null==(e=this._heroView)||e.playMove(),this._isSleep=!1,this.setWeaponVisible(!0)},r.playSleepAni=function(){var e;null==(e=this._heroView)||e.playSleep(),this.setWeaponVisible(!1),this._isSleep=!0},r.contactCutTree=function(e){e.contarctAIHero(this)},r.pauseWeaponRotation=function(){this._pauseRotationWeapon=!0},r.resumeWeaponRotation=function(){this._pauseRotationWeapon=!1},r.hideAllWeapon=function(){this._weaponModule.hideAllWeapon()},r.showAllWeapon=function(){this._weaponModule.showAllWeapon()},r._calcVisible=function(){return!!this._forceShow||this._activeVisible&&!this._isIntoGrass},r.setForceShow=function(){this._forceShow=!0,this._updateVisibleView()},r.cancelForceShow=function(){this._forceShow=!1,this._updateVisibleView()},r._onIntoGrass=function(t){e.prototype._onIntoGrass.call(this,t),this._updateVisibleView(),this._updateWeaponVisible()},i(o,[{key:"fightHero",get:function(){return this._fightHero}},{key:"isBoss",get:function(){return this._config.is_boss>0}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop&&!this._isSleep}},{key:"canCollectMonster",get:function(){return!this._isSleep}},{key:"canAtkHero",get:function(){return!this._isSleep}},{key:"canNotBeAtkByHero",get:function(){return this._isSleep}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroAI3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AIAgentImps3.ts","./ZDEnum3.ts","./RoleHero3.ts"],(function(e){var t,i,o,n,s,r;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy},function(e){n=e.createAIAgent},function(e){s=e.ERoleType},function(e){r=e.RoleHero3}],execute:function(){o._RF.push({},"513a3ne39NExKdbl/5myc3P","RoleHeroAI3",void 0);e("RoleHeroAI3",function(e){function o(){var t;return(t=e.call(this)||this)._fightHero=void 0,t._aiAgent=void 0,t._isSleep=void 0,t._forceShow=!1,t._roleType=s.HeroAI,t._isSleep=!1,t}t(o,e);var r=o.prototype;return r._onInit=function(t){e.prototype._onInit.call(this,t)},r._onBirth=function(){e.prototype._onBirth.call(this),this._aiAgent=n(this,this._config.agent,this._config.ai_param)},r._onUpdate=function(e){var t;null==(t=this._aiAgent)||t.update(e),this._fightHero=null},r._onDie=function(){var e;null==(e=this._aiAgent)||e.destroy()},r._onDirCanNotMove=function(){var e;null==(e=this._aiAgent)||e.onDirCanNotMove()},r._onContactWithHero=function(e){this._fightHero=e,e.roleType==s.HeroAI&&(e._fightHero=this)},r.setWeaponVisible=function(e){var t,i;e?null==(t=this._heroView)||t.setWeaponVisible(!this._isSleep):null==(i=this._heroView)||i.setWeaponVisible(e)},r.playMoveAni=function(){var e;null==(e=this._heroView)||e.playMove(),this._isSleep=!1,this.setWeaponVisible(!0)},r.playSleepAni=function(){var e;null==(e=this._heroView)||e.playSleep(),this.setWeaponVisible(!1),this._isSleep=!0},r.contactCutTree=function(e){e.contarctAIHero(this)},r.pauseWeaponRotation=function(){this._pauseRotationWeapon=!0},r.resumeWeaponRotation=function(){this._pauseRotationWeapon=!1},r.hideAllWeapon=function(){this._weaponModule.hideAllWeapon()},r.showAllWeapon=function(){this._weaponModule.showAllWeapon()},r._calcVisible=function(){return!!this._forceShow||this._activeVisible&&!this._isIntoGrass},r.setForceShow=function(){this._forceShow=!0,this._updateVisibleView()},r.cancelForceShow=function(){this._forceShow=!1,this._updateVisibleView()},r._onIntoGrass=function(t){e.prototype._onIntoGrass.call(this,t),this._updateVisibleView(),this._updateWeaponVisible()},i(o,[{key:"fightHero",get:function(){return this._fightHero}},{key:"isBoss",get:function(){return this._config.is_boss>0}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop&&!this._isSleep}},{key:"canCollectMonster",get:function(){return!this._isSleep}},{key:"canAtkHero",get:function(){return!this._isSleep}},{key:"canNotBeAtkByHero",get:function(){return this._isSleep}},{key:"weaponCnt",get:function(){return this._weaponModule.weaponCnt}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroAI4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AIAgentImps4.ts","./ZDEnum4.ts","./RoleHero4.ts","./RoleMonster4.ts"],(function(e){var t,i,o,n,s,r,l;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy},function(e){n=e.createAIAgent},function(e){s=e.ERoleType},function(e){r=e.RoleHero},function(e){l=e.MonsterType}],execute:function(){o._RF.push({},"5fca2ek8a1IcqbMi0IGOfjq","RoleHeroAI4",void 0);e("RoleHeroAI",function(e){function o(){var t;return(t=e.call(this)||this)._fightHero=void 0,t._aiAgent=void 0,t._isSleep=void 0,t._forceShow=!1,t._roleType=s.HeroAI,t._isSleep=!1,t}t(o,e);var r=o.prototype;return r._onInit=function(t){e.prototype._onInit.call(this,t),this.campType=this._config.isTm?l.Tm:l.Enemy},r._onBirth=function(){e.prototype._onBirth.call(this),this._aiAgent=n(this,this._config.agent,this._config.ai_param)},r._onUpdate=function(e){var t;null==(t=this._aiAgent)||t.update(e),this._fightHero=null},r._onDie=function(){var e;null==(e=this._aiAgent)||e.destroy()},r._onDirCanNotMove=function(){var e;null==(e=this._aiAgent)||e.resetState()},r._onContactWithHero=function(e){this._fightHero=e,e.roleType==s.HeroAI&&(e._fightHero=this)},r.setWeaponVisible=function(e){var t,i;e?null==(t=this._heroView)||t.setWeaponVisible(!this._isSleep):null==(i=this._heroView)||i.setWeaponVisible(e)},r.playMoveAni=function(){var e;null==(e=this._heroView)||e.playMove(),this._isSleep=!1,this.setWeaponVisible(!0)},r.playSleepAni=function(){var e;null==(e=this._heroView)||e.playSleep(),this.setWeaponVisible(!1),this._isSleep=!0},r.contactCutTree=function(e){e.contarctAIHero(this)},r.pauseWeaponRotation=function(){this._pauseRotationWeapon=!0},r.resumeWeaponRotation=function(){this._pauseRotationWeapon=!1},r.hideAllWeapon=function(){this._weaponModule.hideAllWeapon()},r.showAllWeapon=function(){this._weaponModule.showAllWeapon()},r._calcVisible=function(){return!!this._forceShow||this._activeVisible&&!this._isIntoGrass},r.setForceShow=function(){this._forceShow=!0,this._updateVisibleView()},r.cancelForceShow=function(){this._forceShow=!1,this._updateVisibleView()},r._onIntoGrass=function(t){e.prototype._onIntoGrass.call(this,t),this._updateVisibleView(),this._updateWeaponVisible()},i(o,[{key:"fightHero",get:function(){return this._fightHero}},{key:"isBoss",get:function(){return this._config.is_boss>0}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop&&!this._isSleep}},{key:"canCollectMonster",get:function(){return!this._isSleep}},{key:"canAtkHero",get:function(){return!this._isSleep}},{key:"canNotBeAtkByHero",get:function(){return this._isSleep}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroAI5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AIAgentImps5.ts","./ZDEnum5.ts","./RoleHero5.ts","./RoleMonster5.ts"],(function(e){var t,i,o,n,s,r,l;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy},function(e){n=e.createAIAgent},function(e){s=e.ERoleType},function(e){r=e.RoleHero},function(e){l=e.CampType}],execute:function(){o._RF.push({},"5dc51acs/FKepxhuKkjBElz","RoleHeroAI5",void 0);e("RoleHeroAI",function(e){function o(){var t;return(t=e.call(this)||this)._fightHero=void 0,t._aiAgent=void 0,t._isSleep=void 0,t._forceShow=!1,t._roleType=s.HeroAI,t._isSleep=!1,t}t(o,e);var r=o.prototype;return r._onInit=function(t){e.prototype._onInit.call(this,t),this.campType=this._config.isTm?l.Tm:l.Enemy},r._onBirth=function(){e.prototype._onBirth.call(this),this._aiAgent=n(this,this._config.agent,this._config.ai_param)},r._onUpdate=function(e){var t;null==(t=this._aiAgent)||t.update(e),this._fightHero=null},r._onDie=function(){var e;null==(e=this._aiAgent)||e.destroy()},r._onDirCanNotMove=function(){var e;null==(e=this._aiAgent)||e.resetState()},r._onContactWithHero=function(e){this._fightHero=e,e.roleType==s.HeroAI&&(e._fightHero=this)},r.setWeaponVisible=function(e){var t,i;e?null==(t=this._heroView)||t.setWeaponVisible(!this._isSleep):null==(i=this._heroView)||i.setWeaponVisible(e)},r.playMoveAni=function(){var e;null==(e=this._heroView)||e.playMove(),this._isSleep=!1,this.setWeaponVisible(!0)},r.playSleepAni=function(){var e;null==(e=this._heroView)||e.playSleep(),this.setWeaponVisible(!1),this._isSleep=!0},r.contactCutTree=function(e){e.contarctAIHero(this)},r.pauseWeaponRotation=function(){this._pauseRotationWeapon=!0},r.resumeWeaponRotation=function(){this._pauseRotationWeapon=!1},r.hideAllWeapon=function(){this._weaponModule.hideAllWeapon()},r.showAllWeapon=function(){this._weaponModule.showAllWeapon()},r._calcVisible=function(){return!!this._forceShow||this._activeVisible&&!this._isIntoGrass},r.setForceShow=function(){this._forceShow=!0,this._updateVisibleView()},r.cancelForceShow=function(){this._forceShow=!1,this._updateVisibleView()},r._onIntoGrass=function(t){e.prototype._onIntoGrass.call(this,t),this._updateVisibleView(),this._updateWeaponVisible()},i(o,[{key:"fightHero",get:function(){return this._fightHero}},{key:"isBoss",get:function(){return this._config.is_boss>0}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop&&!this._isSleep}},{key:"canCollectMonster",get:function(){return!this._isSleep}},{key:"canAtkHero",get:function(){return!this._isSleep}},{key:"canNotBeAtkByHero",get:function(){return this._isSleep}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroAI6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AIAgentImps6.ts","./ZDUtils6.ts","./ZDConst6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./RoleHero6.ts"],(function(t){var i,e,n,o,s,h,a,r,l,c,_;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,o=t.math,s=t.Vec2},function(t){h=t.createAIAgent},function(t){a=t.ZDUtils},function(t){r=t.FIND_PATH_CFG},function(t){l=t.ERoleType},function(t){c=t.ZDGameState6},function(t){_=t.RoleHero}],execute:function(){n._RF.push({},"372acPadatGA59jh2sLC5UG","RoleHeroAI6",void 0);t("RoleHeroAI",function(t){function n(){var i;return(i=t.call(this)||this)._fightHero=void 0,i._aiAgent=void 0,i._isSleep=void 0,i._forceShow=!1,i._isFindPathing=!1,i._paths=void 0,i._findPathTm=.01,i._roleType=l.HeroAI,i._isSleep=!1,i}i(n,t);var s=n.prototype;return s._onInit=function(i){t.prototype._onInit.call(this,i)},s._onBirth=function(){t.prototype._onBirth.call(this),this._aiAgent=h(this,this._config.agent,this._config.ai_param)},s._onUpdate=function(t){var i;null==(i=this._aiAgent)||i.update(t),this._fightHero=null},s._onDie=function(){var t;null==(t=this._aiAgent)||t.destroy()},s._onDirCanNotMove=function(){var t;null==(t=this._aiAgent)||t.resetState()},s._onContactWithHero=function(t){this._fightHero=t,t.roleType==l.HeroAI&&(t._fightHero=this)},s.setWeaponVisible=function(t){var i,e;t?null==(i=this._heroView)||i.setWeaponVisible(!this._isSleep):null==(e=this._heroView)||e.setWeaponVisible(t)},s.playMoveAni=function(){var t;null==(t=this._heroView)||t.playMove(),this._isSleep=!1,this.setWeaponVisible(!0)},s.playSleepAni=function(){var t;null==(t=this._heroView)||t.playSleep(),this.setWeaponVisible(!1),this._isSleep=!0},s.contactCutTree=function(t){t.contarctAIHero(this)},s.pauseWeaponRotation=function(){this._pauseRotationWeapon=!0},s.resumeWeaponRotation=function(){this._pauseRotationWeapon=!1},s.hideAllWeapon=function(){this._weaponModule.hideAllWeapon()},s.showAllWeapon=function(){this._weaponModule.showAllWeapon()},s._calcVisible=function(){return!!this._forceShow||this._activeVisible&&!this._isIntoGrass},s.setForceShow=function(){this._forceShow=!0,this._updateVisibleView()},s.cancelForceShow=function(){this._forceShow=!1,this._updateVisibleView()},s._onIntoGrass=function(i){t.prototype._onIntoGrass.call(this,i),this._updateVisibleView(),this._updateWeaponVisible()},s._validateDir=function(){return t.prototype._validateDir.call(this)},s._canFindPathMove=function(){return 1==this._config.find_path&&!!c.runtime.control.mapCtrl.currentMap.pathCtrl},s.moveByTargetPos=function(i,e){if(this._canFindPathMove()){if(this._findPathTm>0&&(this._findPathTm-=e,this._findPathTm<=0&&this._findPath(i)),this._paths&&this._paths.length>0){var n=this._paths[this._paths.length-1];if(p.set(n.x,n.y),a.getDistance(this.pos,p)<=this.moveSpeed*e)this.setPos2f(p.x,p.y),this._paths.pop();else{a.getPositionVector(this.pos,p,this._moveDir);var o=this.pos.x+this._moveDir.x*this.moveSpeed*e,s=this.pos.y+this._moveDir.y*this.moveSpeed*e;this.setFace(this._moveDir.x>0),this.setPos2f(o,s)}}}else t.prototype.moveByTargetPos.call(this,i,e)},s._findPath=function(t){if(!this._isFindPathing){var i=this.pos,e=t;if(this._paths&&this._paths.length>0){var n=c.runtime.control.mapCtrl.currentMap.pathCtrl.world_to_cell(e.x,e.y);if(this._paths[0].x==n.x&&this._paths[0].y==n.y)return}this._isFindPathing=!0,c.runtime.control.mapCtrl.currentMap.pathCtrl.findPath(i,e,this._onFindPathBack.bind(this))}},s._onFindPathBack=function(t,i){this._paths=i,this._isFindPathing=!1,this._findPathTm=o.clamp(i.length*r.CELL_DELAY_TM,.05,r.MIN_DELAY_TM)},e(n,[{key:"fightHero",get:function(){return this._fightHero}},{key:"isBoss",get:function(){return this._config.is_boss>0}},{key:"canCollectProp",get:function(){return 1==this._config.collect_prop&&!this._isSleep}},{key:"canCollectMonster",get:function(){return!this._isSleep}},{key:"canAtkHero",get:function(){return!this._isSleep}},{key:"canNotBeAtkByHero",get:function(){return this._isSleep}}]),n}(_));var p=new s;n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleConst.ts","./RoleBaseCmp.ts"],(function(e){var t,i,o,n,a,r,s,l,h,c,p,d,_,f,u,m,y,N,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,h=e.ProgressBar,c=e.Animation,p=e.Sprite,d=e.Color,_=e.Graphics},function(e){f=e.ViewUtil},function(e){u=e.MAIN_PREFABS,m=e.MAIN_BUNDLE},function(e){y=e.MONSTER_CFG,N=e.ROLE_ANI_NAME},function(e){v=e.RoleBaseCmp}],execute:function(){var R,C,g,w,B,E,H;r._RF.push({},"85c8fY+y0RHL54RCRj5Rydu","RoleHeroCmp",void 0);var S=s.ccclass,b=s.property;e("HeroCmp",(R=S("HeroCmp"),C=b({type:l,displayName:"武器节点",visible:!0}),g=b({type:h,displayName:"血条",visible:!0}),R((E=t((B=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"_weaponRoot",E,n(t)),o(t,"_hpBar",H,n(t)),t._modelSprites=void 0,t._effectTime=0,t._modelNode=void 0,t._animation=void 0,t._aniName=void 0,t}i(t,e),t.Create=function(e){var i=f.createPrefabNode(u.HeroView,m).getComponent(t);return i._init(e),i};var r=t.prototype;return r._init=function(e){this.setModelRes(e),this._hpBar.progress=1,this._hpBar.node.active=!1},r.setModelRes=function(e){var t;this._modelNode&&(this._destroyShadow(),this._modelNode.destroy()),this._modelNode=f.createPrefabNode(e,m),this._modelNode.parent=this._viewRoot,this._animation=this._modelNode.getComponentInChildren(c),null==(t=this._animation)||t.on(c.EventType.FINISHED,this._onAniPlayFinished,this),this._modelSprites=this._modelNode.getComponentsInChildren(p),this._setShadowNode(this._modelNode)},r.setWeaponRotation=function(e){this._weaponRoot.angle=e},r.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},r.hideBar=function(){this._hpBar.progress=1,this._hpBar.node.active=!1},r.setPos=function(t){e.prototype.setPos.call(this,t)},r.remove=function(){e.prototype.remove.call(this)},r.setWeaponVisible=function(e){this._weaponRoot&&(this._weaponRoot.active=e)},r.showHitEffect=function(){this._effectTime=y.HIT_RED_TM;for(var e=0;e<this._modelSprites.length;++e)this._modelSprites[e].color=d.RED},r.hideHitEffect=function(){for(var e=0;e<this._modelSprites.length;++e)this._modelSprites[e].color=d.WHITE},r.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},r._onAniPlayFinished=function(e,t){},r.playIdle=function(){var e;this._aniName!=N.IDLE&&(this._aniName=N.IDLE,null==(e=this._animation)||e.play(this._aniName))},r.playMove=function(){var e;this._aniName!=N.MOVE&&(this._aniName=N.MOVE,null==(e=this._animation)||e.play(this._aniName))},r.drawDebug=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(_);t.clear(),t.fillColor=new d(255,255,255,100),t.circle(0,0,e),t.fill(),t.stroke()},r.drawRed=function(e){var t=this.node.getChildByName("_DEBUG").getComponent(_);t.clear(),t.fillColor=new d(255,0,0,100),t.circle(0,0,e),t.fill(),t.stroke()},a(t,[{key:"weaponRoot",get:function(){return this._weaponRoot}},{key:"size",get:function(){return this._modelNode.uiTransform.contentSize}}]),t}(v)).prototype,"_weaponRoot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(B.prototype,"_hpBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=B))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum.ts","./ZDGameState.ts","./RoleHero.ts"],(function(n){var e,t,o,i,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){o=n.ERoleType},function(n){i=n.ZDGameState},function(n){r=n.RoleHero}],execute:function(){t._RF.push({},"04df8x0KMVAOIUrPkhk3lpk","RoleHeroMain",void 0);n("RoleHeroMain",function(n){function t(){var e;return(e=n.call(this)||this)._roleType=o.HeroMain,e}e(t,n);var r=t.prototype;return r._onInit=function(e){n.prototype._onInit.call(this,e)},r.showTransfer=function(){var n;null==(n=this._heroView)||n.onTransferBegin()},r.hideTransfer=function(){var n;null==(n=this._heroView)||n.onTransferEnd()},r.contactTransfer=function(n){var e=n.id;this.showTransfer(),i.runtime.changeMap(e),n.contacted(this)},r._onPosChange=function(){i.runtime.ui.mainHeroPosChange(this)},r._onIntoGrass=function(e){n.prototype._onIntoGrass.call(this,e),this._heroView.setIntoHideView(e),this._updateWeaponVisible()},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroMain3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./PDEffectPool3.ts","./ZDConst3.ts","./ZDEnum3.ts","./ZDGameState3.ts","./RoleHero3.ts"],(function(n){var o,t,e,i,s,r,a,h;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy},function(n){e=n.YT},function(n){i=n.PDEffectPool3},function(n){s=n.WEAPON_EVENTS},function(n){r=n.ERoleType},function(n){a=n.ZDGameState3},function(n){h=n.RoleHero3}],execute:function(){t._RF.push({},"86fc6/ev7dALpM88xj2Xo62","RoleHeroMain3",void 0);n("RoleHeroMain3",function(n){function t(){var o;return(o=n.call(this)||this)._killCount=0,o._wordShowing=!1,o._roleType=r.HeroMain,o}o(t,n);var h=t.prototype;return h._onInit=function(o){n.prototype._onInit.call(this,o)},h.showTransfer=function(){var n;null==(n=this._heroView)||n.onTransferBegin()},h.hideTransfer=function(){var n;null==(n=this._heroView)||n.onTransferEnd()},h.contactTransfer=function(n){var o=n.id;this.showTransfer(),a.runtime.changeMap(o),n.contacted(this)},h._onPosChange=function(){a.runtime.ui.mainHeroPosChange(this)},h._onIntoGrass=function(o){n.prototype._onIntoGrass.call(this,o),this._heroView.setIntoHideView(o),this._updateWeaponVisible()},h._onHeroModChanged=function(o){n.prototype._onHeroModChanged.call(this,o),e.message.dispatchEvent(s.main_hero_mod_changed,o)},h._onWeaponCntChanged=function(){n.prototype._onWeaponCntChanged.call(this),e.message.dispatchEvent(s.main_cnt_changed,this._weaponModule.weaponCnt)},h.onKillOthers=function(o){n.prototype.onKillOthers.call(this,o),this._killCount++,this._wordShowing||(this._wordShowing=!0,this._showEffectWord(this._killCount))},h._onWordEffectEnd=function(n){this._wordShowing=!1,n<this._killCount&&this._showEffectWord(n+1)},h._showEffectWord=function(n){i.ShowEffectWord(n,this._onWordEffectEnd.bind(this))},t}(h));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroMain4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunTimeData4.ts","./ZDUtils4.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./RoleHero4.ts","./RoleMonster4.ts"],(function(t){var i,e,o,n,s,r,u,l,a,h,c,m,p,_,v,d;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t.Vec2,n=t.Label,s=t.Vec3,r=t.math},function(t){u=t.RunTimeData4},function(t){l=t.ZDUtils4},function(t){a=t.ZDPlayerCarryNum,h=t.CarryDis,c=t.FRAME_TIME},function(t){m=t.ERoleType},function(t){p=t.ZDGameState4},function(t){_=t.RoleHero},function(t){v=t.MonsterType,d=t.TmType}],execute:function(){e._RF.push({},"84854DNEydAmLLljOyIfcJ7","RoleHeroMain4",void 0);var f=new o;t("RoleHeroMain",function(t){function e(){var i;return(i=t.call(this)||this).bulletNumLabel=null,i.curBulletNum=0,i.moveSpeedAddPct=0,i._roleType=m.HeroMain,i}i(e,t);var o=e.prototype;return o._onInit=function(i){t.prototype._onInit.call(this,i),this.campType=v.Tm},o._initView=function(){t.prototype._initView.call(this);var i=this._view.node.getChildByName("bulletNum");i&&(this.bulletNumLabel=i.getComponent(n))},o.showTransfer=function(){var t;null==(t=this._heroView)||t.onTransferBegin()},o.hideTransfer=function(){var t;null==(t=this._heroView)||t.onTransferEnd()},o.contactTransfer=function(t){var i=t.id;this.showTransfer(),p.runtime.changeMap(i),t.contacted(this)},o._onPosChange=function(){p.runtime.ui.mainHeroPosChange(this)},o._onIntoGrass=function(i){t.prototype._onIntoGrass.call(this,i),this._heroView.setIntoHideView(i),this._updateWeaponVisible()},o._updateMove=function(i){t.prototype._updateMove.call(this,i),this.bulletNumLabel&&(this.curBulletNum>0?this.bulletNumLabel.node.active=!0:this.bulletNumLabel.node.active=!1,this.bulletNumLabel.string=this.curBulletNum.toFixed(0)),this.judgeCarryBullet(),this.judgeGiveBullet()},o.judgeCarryBullet=function(){var t=this;this.curBulletNum>=a||this.curCtrl.bulletPoss.forEach((function(i,e){if(!(s.distance(i.node.worldPosition,t._position)>h)){var o=Math.min(a-t.curBulletNum,i.bulletNodes.length);t.curBulletNum+=o,t.curCtrl.carryBullet(e,o,t._position)}}))},o.judgeGiveBullet=function(){var t=this;u.RunTimeIns.monsters.filter((function(t){return t.tmType==d.Shooter})).forEach((function(i){s.distance(i.pos,t._position)>h||(i.curBulletNum+=t.curBulletNum,t.curCtrl.giveBullet(t._position,i.pos,t.curBulletNum),t.curBulletNum=0)}))},o._validateDir=function(){this._moveDir.set(this.startMoveDir);var t=this._position.x+c*this._moveDir.x*this._moveSpeed,i=this._position.y+c*this._moveDir.y*this._moveSpeed,e=p.runtime.control.findObstructRole(this,t,i),o=!!e;if(o&&e.roleType==m.Barrier&&(o=e.canBreakMove),o)if(l.getPositionVector(this.pos,e.pos,f),e.roleType==m.Tower){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}else{var s=this._moveDir.x*f.x>0,r=this._moveDir.y*f.y>0,u=c,a=this._moveSpeed,h=this._position.x+this._moveDir.x*a*u,_=this._position.y+this._moveDir.y*a*u;s&&p.runtime.control.findObstructRole(this,h,this._position.y)&&(this._moveDir.x=0,h=this._position.x),r&&p.runtime.control.findObstructRole(this,h,_)&&(this._moveDir.y=0,_=this._position.y),0!==this._moveDir.x||0!==this._moveDir.y||this._onDirCanNotMove()}return!0},o._updatePos=function(t,i,e){if(!this._isPauseMove&&(0!=i.x||0!=i.y)){var o=this._position.x+t*i.x*e*(1+this.moveSpeedAddPct),n=this._position.y+t*i.y*e*(1+this.moveSpeedAddPct);if(this._newPosEnable(o,n)){var s=p.runtime.ui.mapRect;o=r.clamp(o,s.xMin+this.radius,s.xMax-this.radius),n=r.clamp(n,s.yMin+this.radius,s.yMax-this.radius),this.setPos2f(o,n)}}},e}(_));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroMain5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWTTools.ts","./RunTimeData5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./RoleHero5.ts","./RoleMonster5.ts"],(function(t){var e,i,n,o,s,a,r,l,u,c,h,d,p,m,f,v,g,y,N,_,P,C,B;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Vec2,o=t.Label,s=t.Animation,a=t.Vec3,r=t.Tween,l=t.tween,u=t.v3,c=t.math},function(t){h=t.ZWTTools},function(t){d=t.RunTimeData4},function(t){p=t.ZDPlayerCarryNum,m=t.CarryDis,f=t.PackFruitsMaxNum,v=t.FruitsChunkColDis,g=t.ZD_BUNDLE,y=t.FruitsChunk},function(t){N=t.ERoleType},function(t){_=t.ZDGameState5},function(t){P=t.RoleHero},function(t){C=t.CampType,B=t.TmType}],execute:function(){i._RF.push({},"d069d+TWzpJEICKJlh/uhkR","RoleHeroMain5",void 0);new n,t("RoleHeroMain",function(t){function i(){var e;return(e=t.call(this)||this).bulletNumLabel=null,e.curBulletNum=0,e.moveSpeedAddPct=0,e.packNode=null,e.anim=void 0,e._roleType=N.HeroMain,e}e(i,t);var n=i.prototype;return n._onInit=function(e){t.prototype._onInit.call(this,e),this.campType=C.Tm},n._initView=function(){var e;t.prototype._initView.call(this);var i=this._view.node.getChildByName("bulletNum");i&&(this.bulletNumLabel=i.getComponent(o)),this.packNode=h.findChildByName(this._view.node,"pack"),this.anim=null==(e=h.findChildByName(this._view.node,"ani"))?void 0:e.getComponent(s)},n.showTransfer=function(){var t;null==(t=this._heroView)||t.onTransferBegin()},n.hideTransfer=function(){var t;null==(t=this._heroView)||t.onTransferEnd()},n.contactTransfer=function(t){var e=t.id;this.showTransfer(),_.runtime.changeMap(e),t.contacted(this)},n._onPosChange=function(){_.runtime.ui.mainHeroPosChange(this)},n._onIntoGrass=function(e){t.prototype._onIntoGrass.call(this,e),this._heroView.setIntoHideView(e),this._updateWeaponVisible()},n._updateMove=function(e){t.prototype._updateMove.call(this,e),this.bulletNumLabel&&(this.curBulletNum>0?this.bulletNumLabel.node.active=!0:this.bulletNumLabel.node.active=!1,this.bulletNumLabel.string=this.curBulletNum.toFixed(0)),this.anim&&(this._moveDir.length()>0&&!this.anim.getState("move").isPlaying?this.anim.play("move"):this._moveDir.length()<=0&&!this.anim.getState("idle").isPlaying&&this.anim.play("idle")),this.judgeCarryBullet(),this.judgeGiveBullet(),this.judgeFruitsCol()},n.judgeCarryBullet=function(){var t=this;this.curBulletNum>=p||this.curCtrl.bulletPoss.forEach((function(e,i){if(!(a.distance(e.node.worldPosition,t._position)>m)){var n=Math.min(p-t.curBulletNum,e.bulletNodes.length);t.curBulletNum+=n,t.curCtrl.carryBullet(i,n,t._position)}}))},n.judgeGiveBullet=function(){var t=this;d.RunTimeIns.monsters.filter((function(t){return t.tmType==B.Shooter})).forEach((function(e){a.distance(e.pos,t._position)>m||(e.curBulletNum+=t.curBulletNum,t.curCtrl.giveBullet(t._position,e.pos,t.curBulletNum),t.curBulletNum=0)}))},n.judgeFruitsCol=function(){var t=this;this.packNode?this.curCtrl.fruitsChunkNodes.concat().forEach((function(e){e.active&&t.packNode.children.length<f&&a.distance(e.worldPosition,t._position)<=v&&(r.stopAllByTarget(e),t.curCtrl.fruitsChunkNodes.splice(t.curCtrl.fruitsChunkNodes.indexOf(e),1),l(e).to(.15,{worldPosition:t._position}).call((function(){h.PoolManager.Inst.pushByPool(e.name,e),t.addPackRes(e.name)})).tag(88888).start())})):console.error("玩家的背包节点不存在!")},n.addPackRes=function(t){if(!this.packNode)return!1;this.curCtrl.addCoin();var e=y+t,i=h.PoolManager.Inst.getByPool(e,e,g);return i.setPosition(10*Math.random()-5,0,0),i.parent=this.packNode,i.angle=360*Math.random(),i.setScale(0,0,0),l(i).to(.3,{scale:a.ONE,angle:0},{easing:"backOut"}).tag(88888).start(),!0},n.usePackRes=function(t,e,i){var n=this;if(void 0===e&&(e=1),this.packNode&&0!=this.packNode.children.length)if(i&&i(),1==e)this.view.schedule((function(){var e=n.packNode.children[n.packNode.children.length-1],i=u().set(e.worldPosition);e.parent=_.runtime.ui.bulletRoot;var o=u().set(i).add(t).divide3f(2,2,2);o.y=Math.max(i.y,t.y)+150,h.bezierMoveToPos(e,.3,i,o,t,(function(){h.PoolManager.Inst.pushByPool(y+e.name,e)}))}),.03,e-1,0);else for(var o=0;o<e;o++){var s=this.packNode.children[this.packNode.children.length-1];s.parent=_.runtime.ui.bulletRoot,h.PoolManager.Inst.pushByPool(y+s.name,s)}},n._validateDir=function(){return this._moveDir.set(this.startMoveDir),t.prototype._validateDir.call(this),!0},n._updatePos=function(t,e,i){if(!this._isPauseMove&&(0!=e.x||0!=e.y)){var n=this._position.x+t*e.x*i*(1+this.moveSpeedAddPct),o=this._position.y+t*e.y*i*(1+this.moveSpeedAddPct);if(this._newPosEnable(n,o)){var s=_.runtime.ui.mapRect;n=c.clamp(n,s.xMin+this.radius,s.xMax-this.radius),o=c.clamp(o,s.yMin+this.radius,s.yMax-this.radius),this.setPos2f(n,o)}}},i}(P));i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleHeroMain6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum6.ts","./ZDGameState6.ts","./RoleHero6.ts"],(function(n){var e,t,o,i,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){o=n.ERoleType},function(n){i=n.ZDGameState6},function(n){r=n.RoleHero}],execute:function(){t._RF.push({},"3e206edfWZMBIchV3bfBU7t","RoleHeroMain6",void 0);n("RoleHeroMain",function(n){function t(){var e;return(e=n.call(this)||this)._roleType=o.HeroMain,e}e(t,n);var r=t.prototype;return r._onInit=function(e){n.prototype._onInit.call(this,e)},r.showTransfer=function(){var n;null==(n=this._heroView)||n.onTransferBegin()},r.hideTransfer=function(){var n;null==(n=this._heroView)||n.onTransferEnd()},r.contactTransfer=function(n){var e=n.id;this.showTransfer(),i.runtime.changeMap(e),n.contacted(this)},r._onPosChange=function(){i.runtime.ui.mainHeroPosChange(this)},r._onIntoGrass=function(e){n.prototype._onIntoGrass.call(this,e),this._heroView.setIntoHideView(e),this._updateWeaponVisible()},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleLevelConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("RoleLevelConfig",void 0),o._RF.push({},"c642c+bZ1pA0pQnr4jybO5P","RoleLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.hp_role=void 0,this.hp_monster=void 0,this.atk_monster=void 0,this.cost=void 0,this.reward=void 0,this.reward_count=void 0,this.skin_id=void 0};i.isConst=!1,i.path="config/RoleLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("RoleLevelConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./TreePoints.ts","./BattleEnum.ts","./BattleUtils.ts","./TreeBox.ts","./BoxArray.ts","./CampBuildingCmp.ts","./RoleGoodsCmp.ts","./RoleShopCmp.ts","./RoleBuildingCamp.ts","./RoleBuildingCampFire.ts","./RoleBuildingGoldMine.ts","./RoleBuildingRoadBlock.ts","./RoleBuildingTower.ts","./RoleBulletPool2.ts","./RoleGoods.ts","./RoleMonsterEnemy.ts","./RoleMonsterLogger.ts","./RoleMonsterMage.ts","./RoleMonsterShooter.ts","./RoleMonsterWarrior.ts","./RolePet.ts","./RoleShop2.ts"],(function(e){var t,i,s,o,n,l,r,h,a,u,_,d,p,g,c,f,y,m,B,R,v,P,w,C,T,x,b,M,k,E,I,G,S,W;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,s=e.view,o=e.UITransform,n=e.math,l=e.Vec3,r=e.Vec2},function(e){h=e.YT},function(e){a=e.TREE_POINTS},function(e){u=e.ERoleType,_=e.EShopType,d=e.EPlayerMonsterType,p=e.EBuildingType,g=e.ECamp},function(e){c=e.BattleUtils},function(e){f=e.TreeBox},function(e){y=e.BoxArray},function(e){m=e.CampBuildingCmp},function(e){B=e.RoleGoodsCmp},function(e){R=e.RoleShopCmp},function(e){v=e.RoleBuildingCamp},function(e){P=e.RoleBuildingCampFire},function(e){w=e.RoleBuildingGoldMine},function(e){C=e.RoleBuildingRoadBlock},function(e){T=e.RoleBuildingTower},function(e){x=e.RoleBulletPool},function(e){b=e.RoleGoods},function(e){M=e.RoleMonsterEnemy},function(e){k=e.RoleMonsterLogger},function(e){E=e.RoleMonsterMage},function(e){I=e.RoleMonsterShooter},function(e){G=e.RoleMonsterWarrior},function(e){S=e.RolePet},function(e){W=e.RoleShop}],execute:function(){i._RF.push({},"9ff3bBer91C16/YwQkV9iJ3","RoleMgr",void 0);e("RoleMgr",function(){function e(){this._player=void 0,this._rolePets=void 0,this._campBuilding=void 0,this._campFireBuilding=void 0,this._roadBlockBuilding=void 0,this._towerBuildings=void 0,this._shopRoles=void 0,this._treeRoles=void 0,this._goodsRoles=void 0,this._monsterEnemys=void 0,this._monsterPlayers=void 0,this._buildings=void 0,this._playerBullets=void 0,this._enemyBullets=void 0,this._bulletPool=void 0,this._treeBox=void 0,this._roleRoot=void 0,this._frame=void 0,this._tipsGoods=void 0,this._shopRoles=[],this._treeRoles=[],this._goodsRoles=[],this._monsterEnemys=[],this._monsterPlayers=[],this._buildings=[],this._playerBullets=[],this._enemyBullets=[],this._towerBuildings=[],this._rolePets=[],this._treeBox=new y,this._frame=0,this._bulletPool=new x}var i=e.prototype;return i.init=function(e,t){this._player=e.player,e.playerPet&&this._rolePets.push(e.playerPet),this._roleRoot=e.view.roleRoot;var i=e.view.size;this._treeBox.init(i.width,i.height),V.set(h.viewportSize.width/2,h.viewportSize.height/2),this._initRoles(e.view,t),this._sortTreeRoles()},i.enterBattle=function(){this._player.enterBattle()},i.leave=function(e){this._player.enterHall(),this._player.setPos(e.view.playerPos),this._rolePets[0]&&this._rolePets[0].setPos(e.view.petPos);for(var t=0;t<this._treeRoles.length;++t)this._treeRoles[t].resetView()},i.update=function(e){if(++this._frame>99&&(this._frame=0),this._roleUpdate(e),this._dealMainHeroCollision(e,this._frame),this._dealMonsterCollision(e,this._frame),this._removeWaitDestroyRole(),this._frame%3==0&&this._updateRoleZOrder(),this._frame%5==0){for(var t=f.ins.getRangeItems(this.player.pos.x,this.player.pos.y),i=!1,s=0;s<t.length;++s){var o=f.ins.createRole(t[s]);o.setParent(this.player.view.node.parent);var n=a[o.id];o.setPos2f(n[0],n[1]),o.enterBattle(),this._treeBox.addItemByPos(o,o.pos.x,o.pos.y),this._treeRoles.push(o),i=!0}i&&this._sortTreeRoles()}},i._sortTreeRoles=function(){this._treeRoles.sort((function(e,t){return e.distanceToCenter-t.distanceToCenter}))},i._roleUpdate=function(e){var t;null==(t=this._player)||t.update(e);for(var i=0,s=this._shopRoles.length;i<s;++i)this._shopRoles[i].update(e);for(i=0,s=this._rolePets.length;i<s;++i)this._rolePets[i].update(e);for(i=0,s=this._monsterEnemys.length;i<s;++i)this._monsterEnemys[i].update(e);for(i=0,s=this._monsterPlayers.length;i<s;++i)this._monsterPlayers[i].update(e);for(i=0,s=this._treeRoles.length;i<s;++i)this._treeRoles[i].update(e);for(i=0,s=this._buildings.length;i<s;++i)this._buildings[i].update(e);for(i=0,s=this._playerBullets.length;i<s;++i)this._playerBullets[i].update(e);for(i=0,s=this._enemyBullets.length;i<s;++i)this._enemyBullets[i].update(e)},i._removeWaitDestroyRole=function(){for(var e,t=0,i=this._treeRoles.length;t<i;++t)(e=this._treeRoles[t]).waitRemove&&(this._removeRole(e),this._treeRoles.splice(t,1),t--,i--);for(t=0,i=this._goodsRoles.length;t<i;++t)(e=this._goodsRoles[t]).waitRemove&&(this._removeRole(e),this._goodsRoles.splice(t,1),t--,i--);for(t=0,i=this._monsterEnemys.length;t<i;++t)(e=this._monsterEnemys[t]).waitRemove&&(this._removeRole(e),this._monsterEnemys.splice(t,1),t--,i--);for(t=0,i=this._monsterPlayers.length;t<i;++t)(e=this._monsterPlayers[t]).waitRemove&&(this._removeRole(e),this._monsterPlayers.splice(t,1),t--,i--);for(t=0,i=this._shopRoles.length;t<i;++t)(e=this._shopRoles[t]).waitRemove&&(this._removeRole(e),this._shopRoles.splice(t,1),t--,i--);for(t=0,i=this._playerBullets.length;t<i;++t)(e=this._playerBullets[t]).waitRemove&&(this._bulletPool.push(e),this._playerBullets.splice(t,1),t--,i--);for(t=0,i=this._enemyBullets.length;t<i;++t)(e=this._enemyBullets[t]).waitRemove&&(this._bulletPool.push(e),this._enemyBullets.splice(t,1),t--,i--)},i._removeRole=function(e){if(e.roleType==u.Tree)this._treeBox.removeItemByPos(e.pos.x,e.pos.y,e);else if(e.roleType==u.Goods)this._tipsGoods;else if(e.roleType==u.Building){var t=0,i=this._towerBuildings.indexOf(e);i>=0&&(t=e.buildingIndex,this._towerBuildings.splice(i,1)),this.buildingDie(e,t)}else if(e.roleType==u.PlayerMonster)for(var s=0,o=this._shopRoles.length;s<o;++s)this._shopRoles[s].onShopItemDie(e.shopType);e.destory()},i.buildingDie=function(e,t){for(var i=0,s=this._shopRoles.length;i<s;++i)this._shopRoles[i].onShopItemDie(e.shopType,t)},i._initRoles=function(e,t){for(var i=e.shopRoot.getComponentsInChildren(R),s=0,o=i.length;s<o;++s){var n=i[s],l=new W;l.initByView(0,n),l.setPos(n.node.worldPosition),this._shopRoles.push(l)}for(s=0,o=f.ins.roles.length;s<o;++s){var r=f.ins.roles[s];this._treeBox.addItemByPos(r,r.pos.x,r.pos.y),this._treeRoles.push(r),r.enterBattle()}var h=e.goodsRoot.getComponentsInChildren(B);for(s=0,o=h.length;s<o;++s){var a=h[s],u=new b;u.initByView(0,a),u.setPos(a.node.worldPosition),this._goodsRoles.push(u)}var _=e.roleRoot.getComponentInChildren(m);this._campBuilding=new v,this._campBuilding.init(t.campId,_),this._campBuilding.setPos(_.node.worldPosition),this._buildings.push(this._campBuilding)},i._updateRoleZOrder=function(){var e=this._roleRoot._children;e.sort((function(e,t){return t.position.y-e.position.y}));for(var t,i=0,o=e.length,n=s.getViewportRect();i<o;++i)t=e[i],this.checkInView(t,n)&&(t._siblingIndex=i)},i.checkInView=function(e,t){var i=e.getComponent(o).getBoundingBoxToWorld();return!!t.intersects(i)},i.getTreesByPos=function(e,t){return this._treeBox.getRangeItems(e,t,D)},i.haveActivePet=function(){for(var e,t=0,i=this._rolePets.length;t<i;++t)if((e=this._rolePets[t])&&e.enable)return!0;return!1},i.getShooterCnt=function(){for(var e=0,t=0,i=this._monsterPlayers.length;t<i;++t)this._monsterPlayers[t].shopType==_.Shooter&&e++;return e},i.setTipsGoods=function(){this._tipsGoods=this.findATipsGoods()},i.findATipsGoods=function(){for(var e,t=[],i=0,s=this._goodsRoles.length;i<s;++i)(e=this._goodsRoles[i])&&e.enable&&e.isTipsGoods()&&t.push(e);return t.length?t[n.randomRangeInt(0,t.length)]:null},i.addMonster=function(e,t,i){var s=new M;return s.init(e),s.setPos2f(t,i),this._monsterEnemys.push(s),s},i.addRolePet=function(e,t,i){var s=new S;return s.init(e),s.setParent(this._player.view.node.parent),s.setPos2f(t,i),this._rolePets.push(s),s},i.addGoodsByType=function(e,t,i,s){var o=new b;o.init(e,t),o.setPos2f(i,s),this._goodsRoles.push(o)},i.addPlayerMonster=function(e,t,i,s,o){var n;t==d.Logger?n=new k:t==d.Warrior?n=new G:t==d.Shooter?n=new I:t==d.Mage&&(n=new E),n&&(n.shopType=e,n.init(i),n.setPos2f(s,o),this._monsterPlayers.push(n))},i.addBuilding=function(e,t,i,s,o,n){var l;if(t==p.CampFire)l=this._campFireBuilding=new P;else if(t==p.Tower)l=new T,this._towerBuildings.push(l),this._roadBlockBuilding&&this._roadBlockBuilding.onBuildTower();else if(t==p.GoldMine)l=new w;else if(t==p.RoadBlock){if(this._roadBlockBuilding)return void this._roadBlockBuilding.revive();l=this._roadBlockBuilding=new C;for(var r,h=0,a=this._shopRoles.length;h<a;++h)if((r=this._shopRoles[h]).shopType==_.CampFire){s=r.pos.x,o=r.pos.y;break}}l&&(l.buildingIndex=n,l.shopType=e,l.init(i),l.setPos2f(s,o),l.birth(),this._buildings.push(l))},i.addBullet=function(e,t){var i=this._bulletPool.pop(e);return i.camp=t,t==g.Player?this._playerBullets.push(i):this._enemyBullets.push(i),i},i._dealMainHeroCollision=function(e,t){if(this._player&&this._player.enable){var i,s=0,o=0;for(s=0,o=this._goodsRoles.length;s<o;++s)this._dealHeroCollisionWithGoods(this._player,this._goodsRoles[s]);if(t%2==0)for(s=0,o=this._monsterEnemys.length;s<o;++s)this._dealHeroCollisionWithMonster(this._player,this._monsterEnemys[s]);if(t%2==0)for(s=0,o=this._enemyBullets.length;s<o;++s)if((i=this._enemyBullets[s]).canCollider()){if(this._dealRoleCollisionWithBullet(this._player,this._enemyBullets[s]),i.enable)for(var n=0,r=this._monsterPlayers.length;n<r;++n)this._dealRoleCollisionWithBullet(this._monsterPlayers[n],this._enemyBullets[s]);if(i.enable&&this._campBuilding&&this._campBuilding.enable&&c.isIntersectRectCircle(this._campBuilding.pos,this._campBuilding.size,i.pos,i.radius)&&i.contactRole(this._campBuilding),i.enable&&this._roadBlockBuilding&&this._roadBlockBuilding.enable){var h=l.distance(i.pos,this._roadBlockBuilding.pos);h<this._roadBlockBuilding.radius+i.radius&&h>this._roadBlockBuilding.radius-i.radius&&i.contactRole(this._roadBlockBuilding)}}for(D.length=0,this._treeBox.getRangeItems(this._player.pos.x,this._player.pos.y,D),s=0,o=D.length;s<o;++s)this._dealHeroCollisionWithTree(this._player,D[s])}},i._dealMonsterCollision=function(e,t){for(var i,s=0,o=this._monsterEnemys.length;s<o;++s)if(i=this._monsterEnemys[s],!(4==t&&s%2==0||8==t&&s%2==1||0==t)){D.length=0,this._treeBox.getRangeItems(i.pos.x,i.pos.y,D);for(var n=0,l=D.length;n<l;++n)this._dealMonsterCollisionWithTree(i,D[n])}},i._dealHeroCollisionWithGoods=function(e,t){t.enable&&(c.isCrossByCircle2(e.pos,e.heroRadius,t.pos,t.radius)&&e.contactGoods(t))},i._dealHeroCollisionWithMonster=function(e,t){if(t.enable&&e.enable){var i=c.circleCross2(e.pos,e.radius,t.pos,t.radius+10,z);i>0&&e.contactMonster(t,i,z)}},i._dealRoleCollisionWithBullet=function(e,t){t.enable&&e.enable&&c.isCrossByCircle2(e.pos,e.radius,t.pos,t.radius)&&t.contactRole(e)},i._dealHeroCollisionWithTree=function(e,t){if(t.enable){F.x=t.pos.x,F.y=t.pos.y+t.size.height/2,H.x=e.pos.x-e.weaponPos.x,H.y=e.pos.y-e.weaponPos.y;var i=c.circleCross2(H,e.radius,F,t.size.height/2,z);i>0&&e.contactTree(t,i,z)}},i._dealMonsterCollisionWithTree=function(e,t){e.enable&&t.enable&&c.isRectIntersect(e.pos,e.size,t.pos,t.size)&&e.contactCutTree(t)},i.getRoleNewPosCollision=function(e,t,i){var s=e.heroRadius;if(F.x=t,F.y=i,H.x=this._campBuilding.pos.x,H.y=this._campBuilding.pos.y+this._campBuilding.size.height/2,c.isIntersectRectCircle(H,this._campBuilding.size,F,s))return this._campBuilding;D.length=0;for(var o,n=this._treeBox.getRangeItems(t,i,D),l=0,r=n.length;l<r;++l)if(o=n[l],H.x=o.pos.x,H.y=o.pos.y+o.size.height/2,o.enable&&c.isCrossByCircle2(o.pos,o.size.width,F,s))return o;return null},i.clear=function(){this._shopRoles=[],this._treeRoles=[],this._goodsRoles=[],this._monsterEnemys=[],this._monsterPlayers=[],this._buildings=[],this._playerBullets=[],this._enemyBullets=[],this._towerBuildings=[],this._rolePets=[],this._treeBox=new y,this._frame=0,this._bulletPool=new x},t(e,[{key:"buildings",get:function(){return this._buildings}},{key:"player",get:function(){return this._player}},{key:"campBuilding",get:function(){return this._campBuilding}},{key:"campFireBuilding",get:function(){return this._campFireBuilding}},{key:"roadBlockBuilding",get:function(){return this._roadBlockBuilding}},{key:"towerBuildings",get:function(){return this._towerBuildings}},{key:"monsterCount",get:function(){return this._monsterEnemys.length}},{key:"playerMonsters",get:function(){return this._monsterPlayers}},{key:"enemyMonsters",get:function(){return this._monsterEnemys}},{key:"treeRoles",get:function(){return this._treeRoles}},{key:"treeBox",get:function(){return this._treeBox}},{key:"tipsGoods",get:function(){return this._tipsGoods}}]),e}());var z=e("CIRCLE_CORSS",[new r,new r,new r,new r,new r]),F={x:0,y:0},H={x:0,y:0},V=new l,D=(new r,[]);i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMgr2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils.ts","./ZDConst.ts","./ZDEnum.ts","./ZDGameState.ts","./RoleFactory.ts"],(function(e){var i,t,r,n,o,a,s,l,h,u,c,_,m,f,p;return{setters:[function(e){i=e.createClass},function(e){t=e.cclegacy,r=e.math,n=e.Vec3,o=e.Vec2},function(e){a=e.ZDUtils},function(e){s=e.SHOW_RECT_SPACE,l=e.SPAWNER_CFG,h=e.BARRIER_CFG,u=e.CUTTREE_CFG,c=e.MONSTER_CFG},function(e){_=e.ERoleType,m=e.UPDATE_TYPES},function(e){f=e.ZDGameState},function(e){p=e.createRole}],execute:function(){t._RF.push({},"c1fd0UIqtxJEYS2xnsEHng8","RoleMgr",void 0);e("RoleMgr",function(){function e(e){this._mainHero=void 0,this._frame=void 0,this._runTimeData=void 0,this._runTimeData=e,this._frame=0}var t=e.prototype;return t.showAllRole=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].showView()}this._mainHero.showView()},t.hideAllRole=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].hideView()}this._mainHero.hideView()},t.clearOther=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].removeView()}},t.update=function(e){++this._frame>99&&(this._frame=0),this._roleUpdate(e),this._dealBulletCollision(e,this._frame),this._dealMainHeroCollision(e,this._frame),this._dealAIHeroCollision(e,this._frame),this._dealMonsterCollision(e,this._frame),this._removeWaitDestroyRole()},t._roleUpdate=function(e){this._mainHero.update(e);var i,t,r=0,n=m.length,o=0,a=0;if(2==f.runtime.gameMode)for(var l,h,u,c=f.runtime.ui.mapLayer.SCENE_RECT;r<n;++r)for(t=m[r],o=0,a=(i=this._runTimeData.roleMap[t]).length;o<a;++o)u=i[o],t==_.HeroAI||t==_.Monster?(l=u.pos.x,h=u.pos.y,(l<c.xMin-s||l>c.xMax+s||h<c.yMin-s||h>c.yMax+s)&&u.pauseMove(),u.update(e),u.resumeMove()):u.update(e);else for(;r<n;++r)for(t=m[r],o=0,a=(i=this._runTimeData.roleMap[t]).length;o<a;++o)i[o].update(e);if(4==f.runtime.gameMode)for(var p,T=0,d=this._runTimeData.cutTrees.length;T<d;++T)(p=this._runTimeData.cutTrees[T]).setActiveView(this._isInScene(p))},t._dealMainHeroCollision=function(e,i){if(this._mainHero&&this._mainHero.enable){var t,r=0,n=0;if(!this._mainHero.isIntoGrass()){for(r=0,n=this._runTimeData.props.length;r<n;++r)this._dealHeroCollisionWithProp(this._mainHero,this._runTimeData.props[r]);for(r=0,n=this._runTimeData.transfers.length;r<n;++r)this._dealHeroCollisionWithTransfer(this._mainHero,this._runTimeData.transfers[r]);for(r=0,n=this._runTimeData.monsters.length;r<n;++r)this._dealHeroCollisionWithMonster(this._mainHero,this._runTimeData.monsters[r]);if(this._runTimeData.barriers.length>0)for(g.length=0,this._runTimeData.barrierBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,g),r=0,n=g.length;r<n;++r)this._dealHeroCollisionWithBarrier(this._mainHero,g[r]);if(4==f.runtime.gameMode&&i%5==0&&this._runTimeData.cutTrees.length>0)for(H.length=0,this._runTimeData.cutTreeBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,H),r=0,n=H.length;r<n;++r)this._dealHeroCollisionWithCutTree(this._mainHero,H[r])}for(r=0,n=this._runTimeData.aiHeros.length;r<n;++r)(t=this._runTimeData.aiHeros[r]).enable&&(t.canNotBeAtkByHero||!t.isBoss&&this._mainHero.isIntoGrass()||this._dealHeroCollisionWithHero(this._mainHero,t));if(i%2==0&&this._runTimeData.grasses.length>0){var o;for(r=0,n=this._runTimeData.grasses.length;r<n;++r)if(o=this._runTimeData.grasses[r],a.rectContainPoint(o.pos,o.size,this._mainHero.pos))return void this._mainHero.contactGrass(o);this._mainHero.contactGrass(null)}}},t._dealAIHeroCollision=function(e,i){var t,r,n,o=0,s=this._runTimeData.aiHeros.length,l=0,h=0;if(i%2==0)for(o=0,s=this._runTimeData.aiHeros.length;o<s;++o)if(l=o+1,(r=this._runTimeData.aiHeros[o]).enable&&!r.isIntoGrass()&&r.canAtkHero)for(;l<s;++l)(n=this._runTimeData.aiHeros[l]).enable&&(n.isIntoGrass()||n.canNotBeAtkByHero||this._dealHeroCollisionWithHero(r,n));for(o=0,s=this._runTimeData.aiHeros.length;o<s;++o)if((t=this._runTimeData.aiHeros[o]).enable){if(i%4==0&&this._runTimeData.grasses.length>0){l=0,h=this._runTimeData.grasses.length;for(var u=void 0,c=!1;l<h;++l)if(u=this._runTimeData.grasses[l],a.rectContainPoint(u.pos,u.size,t.pos)){t.contactGrass(u),c=!0;break}c||t.contactGrass(null)}if(!t.isIntoGrass()){if(i%3==0&&t.canCollectMonster)for(l=0,h=this._runTimeData.monsters.length;l<h;++l)this._dealHeroCollisionWithMonster(t,this._runTimeData.monsters[l]);if(t.enable){if(i%5==0&&t.canCollectProp)for(l=0,h=this._runTimeData.props.length;l<h;++l)this._dealHeroCollisionWithProp(t,this._runTimeData.props[l]);if(i%5==0&&t.canAtkBarrier&&this._runTimeData.barriers.length>0){g.length=0;var _=this._runTimeData.barrierBox.getRangeItems(t.pos.x,t.pos.y,g);for(l=0,h=_.length;l<h;++l)this._dealHeroCollisionWithBarrier(t,_[l])}if(4==f.runtime.gameMode&&i%5==0&&this._runTimeData.cutTrees.length>0)for(H.length=0,this._runTimeData.cutTreeBox.getRangeItems(t.pos.x,t.pos.y,H),l=0,h=H.length;l<h;++l)this._dealAIHeroCollisionWithCutTree(t,H[l])}}}},t._dealMonsterCollision=function(e,i){if(4==f.runtime.gameMode&&i%4==0&&this._runTimeData.cutTrees.length>0)for(var t,r=0,n=this._runTimeData.monsters.length;r<n;++r)if(!(4==i&&r%2==0||8==i&&r%2==1||0==i)){t=this._runTimeData.monsters[r],H.length=0,this._runTimeData.cutTreeBox.getRangeItems(t.pos.x,t.pos.y,H);for(var o=0,a=H.length;o<a;++o)this._dealMonsterCollisionWithCutTree(t,H[o])}},t._dealBulletCollision=function(e,i){if(i%2==0)for(var t,r=0,n=this._runTimeData.bullets.length;r<n;++r)if((t=this._runTimeData.bullets[r]).canCheckCollision&&t.enable&&(!t.canAtkHeroMain||(this._dealHeroCollisionWithBullet(this._mainHero,t),t.enable))){if(t.canAtkHeroAI){for(var o=0,a=this._runTimeData.aiHeros.length;o<a&&(this._dealHeroCollisionWithBullet(this._runTimeData.aiHeros[o],t),t.enable);++o);if(!t.enable)continue}if(t.canAtkMonster){for(var s=0,l=this._runTimeData.monsters.length;s<l&&(this._dealMonsterCollisionWithBullet(this._runTimeData.monsters[s],t),t.enable);++s);if(!t.enable)continue}}},t._removeWaitDestroyRole=function(){for(var e,i,t=0,r=0,n=_.HeroAI;n<_.Max;++n)for(t=0,r=(i=this._runTimeData.roleMap[n]).length;t<r;++t)(e=i[t]).waitRemove&&(this._runTimeData.removeRole(e,!1),i.splice(t,1),t--,r--)},t.createRole=function(e,i,t,r){for(var n=arguments.length,o=new Array(n>4?n-4:0),a=4;a<n;a++)o[a-4]=arguments[a];var s=p.apply(void 0,[e,i,t,r].concat(o));return e==_.HeroMain?(this._mainHero=s,f.runtime.ui.mapLayer.bindFocusNode(this._mainHero.view.node)):e==_.Barrier||_.CutTreeTree,this._runTimeData.addRole(s),s},t.addInitAutoProp=function(e){var i=e[r.randomRangeInt(0,e.length)];f.runtime.ui.mapLayer.randomPosByMainHero(d,l.PROP.AUTO.SCREEN_RANGE),this.createRole(_.Prop,i,d.x,d.y).isAutoRefresh=!0},t.onHeroDie=function(e){if(e.isMainHero)f.runtime.ui.mapLayer.bindFocusNode(null);else{var i=e.config.drop_prop;if(i.length>0){var t=i[r.randomRangeInt(0,i.length)];this.addProp(t,e.pos.x,e.pos.y)}}},t.onMonsterDie=function(e){var i=e.drop;if(!(i.length<=0)&&Math.random()<.3){var t=i[r.randomRangeInt(0,i.length)];this.addProp(t,e.pos.x,e.pos.y)}},t.addHero=function(e,i,t){return this.createRole(_.HeroAI,e,i,t)},t.addMonster=function(e,i,t){return this.createRole(_.Monster,e,i,t)},t.addProp=function(e,i,t){return this.createRole(_.Prop,e,i,t)},t.onChangeMainRoleWeapon=function(e){for(var i=0,t=this._runTimeData.props.length;i<t;++i)this._runTimeData.props[i].onWeaponUpdate(e)},t.getRoleNewPosCollisionBarrier=function(e,i,t){if(5==f.runtime.gameMode)return null;d.x=i,d.y=t,g.length=0;var r,n=this._runTimeData.barrierBox.getRangeItems(i,t,g),o=0,s=n.length;if(e.roleType==_.Monster){for(var l=e.size;o<s;++o)if((r=n[o]).canBreakMove&&a.isRectIntersect(d,l,r.pos,r.size))return r}else if(e.roleType==_.HeroAI||e.roleType==_.HeroMain){var u=e,c=u.initRadius;for((u.isMainHero||u.canAtkBarrier)&&(c=u.initRadius-h.CONTACT_HERO_DIS);o<s;++o)if((r=n[o]).canBreakMove&&a.isIntersectRectCircle(r.pos,r.size,d,c))return r}return null},t.getRoleNewPosCollisionTower=function(e,i,t){var r,n=this._runTimeData.towers,o=0,s=n.length;if(e.roleType==_.HeroAI||e.roleType==_.HeroMain)return null;if(e.roleType==_.Monster)for(var l=e,h=Math.max(l.size.width,l.size.height)/2;o<s;++o)if((r=n[o]).enable&&a.isCrossByCircle(r.pos,Math.max(r.size.width,r.size.height)/2,l.pos,h))return r;return null},t.getRoleNewPosCollisionCutTree=function(e,i,t){d.x=i,d.y=t,H.length=0;var r,n=this._runTimeData.cutTreeBox.getRangeItems(i,t,H),o=0,s=n.length;if(e.roleType==_.HeroAI||e.roleType==_.HeroMain)for(var l=e,h=l.initRadius-u.CONTACT_HERO_DIS;o<s;++o)if((r=n[o]).enable&&a.isIntersectRectCircle(r.pos,r.size,l.pos,h))return r;return null},t.findTowerTarget=function(e){var i,t=e,r=t.atkRange;if(t.canAtkMainHero&&n.distance(e.pos,this._mainHero.pos)<=r)return this._mainHero;if(t.canAtkAIHero)for(var o=this._runTimeData.aiHeros,a=0;a<o.length;++a)if((i=o[a]).enable&&n.distance(e.pos,i.pos)<=r)return i;if(t.canAtkMonster)for(var s=this._runTimeData.monsters,l=0;l<s.length;++l)if((i=s[l]).enable&&n.distance(e.pos,i.pos)<=r)return i;return null},t.findHeroByShortDis=function(){for(var e,i=0,t=this._runTimeData.aiHeros.length,r=Number.MAX_SAFE_INTEGER,o=null;i<t;++i){e=this._runTimeData.aiHeros[i];var a=n.distance(this._mainHero.pos,e.pos);if(a<r){if(f.runtime.ui.mapLayer.posIsInScreen2(e.pos))return null;r=a,o=e}}return o},t._isInScene=function(e){var i=f.runtime.ui.mapLayer.REAL_SCENE_RECT,t=200;return!(e.pos.x+e.size.width/2<i.xMin-t||e.pos.x-e.size.width/2>i.xMax+t||e.pos.y+e.size.height/2<i.yMin-t||e.pos.y-e.size.height/2>i.yMax+t)},t._dealHeroCollisionWithHero=function(e,i){i.enable&&a.circleCross(e.pos,e.radius,i.pos,i.radius,T)&&e.contactHero(i,T)},t._dealHeroCollisionWithProp=function(e,i){i.enable&&(e.isIntoGrass()||a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactProp(i))},t._dealHeroCollisionWithTransfer=function(e,i){i.enable&&(e.isIntoGrass()||a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactTransfer(i))},t._dealHeroCollisionWithMonster=function(e,i){if(i.enable&&e.enable&&!e.isIntoGrass()){var t=a.circleCross2(e.pos,e.radius,i.pos,Math.max(i.size.width,i.size.height)-c.CONTACT_WEAPON_DIS,T);t>0&&e.contactMonster(i,t,T)}},t._dealHeroCollisionWithBarrier=function(e,i){if(i.enable){var t=a.circleCross2(e.pos,e.radius-h.CONTACT_HERO_DIS,i.pos,Math.max(i.size.width,i.size.height)-c.CONTACT_WEAPON_DIS,T);t>0&&e.contactBarrier(i,t,T)}},t._dealHeroCollisionWithCutTree=function(e,i){if(i.enable){var t=a.circleCross2(e.pos,e.realRadius-40,i.pos,i.size.width,T);t>0&&e.contactCutTree(i,t,T)}},t._dealMonsterCollisionWithCutTree=function(e,i){e.enable&&i.enable&&a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactCutTree(i)},t._dealAIHeroCollisionWithCutTree=function(e,i){e.enable&&i.enable&&a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactCutTree(i)},t._dealHeroCollisionWithBullet=function(e,i){e.enable&&i.enable&&a.rectContainPoint(e.pos,e.size,i.pos)&&i.contactHero(e)},t._dealMonsterCollisionWithBullet=function(e,i){e.enable&&i.enable&&a.rectContainPoint(e.pos,e.size,i.pos)&&i.contactMonster(e)},i(e,[{key:"mainHero",get:function(){return this._mainHero}}]),e}());var T=e("CIRCLE_CORSS",[new o,new o,new o,new o,new o]),d={x:0,y:0},g=[],H=[];t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMgr3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts","./ZDUtils3.ts","./ZDConst3.ts","./ZDEnum3.ts","./ZDGameState3.ts","./RoleFactory3.ts"],(function(e){var t,i,r,n,o,a,s,l,h,u,c,_,m,f,p,T;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,r=e.math,n=e.Vec3,o=e.Vec2},function(e){a=e.ArrayUtil},function(e){s=e.ZDUtils3},function(e){l=e.SHOW_RECT_SPACE,h=e.SPAWNER_CFG,u=e.BARRIER_CFG,c=e.CUTTREE_CFG,_=e.MONSTER_CFG},function(e){m=e.ERoleType,f=e.UPDATE_TYPES},function(e){p=e.ZDGameState3},function(e){T=e.createRole}],execute:function(){i._RF.push({},"93159fc5JFNsrcZw6RGZC+3","RoleMgr3",void 0);e("RoleMgr3",function(){function e(e){this._mainHero=void 0,this._frame=void 0,this._runTimeData=void 0,this._sortPool=[],this._runTimeData=e,this._frame=0}var i=e.prototype;return i.showAllRole=function(){for(var e=0,t=0,i=m.HeroAI;i<m.Max;++i){var r=this._runTimeData.roleMap[i];for(e=0,t=r.length;e<t;++e)r[e].showView()}this._mainHero.showView()},i.hideAllRole=function(){for(var e=0,t=0,i=m.HeroAI;i<m.Max;++i){var r=this._runTimeData.roleMap[i];for(e=0,t=r.length;e<t;++e)r[e].hideView()}this._mainHero.hideView()},i.clearOther=function(){for(var e=0,t=0,i=m.HeroAI;i<m.Max;++i){var r=this._runTimeData.roleMap[i];for(e=0,t=r.length;e<t;++e)r[e].removeView()}},i.update=function(e){++this._frame>99&&(this._frame=0),this._roleUpdate(e),this._dealBulletCollision(e,this._frame),this._dealMainHeroCollision(e,this._frame),this._dealAIHeroCollision(e,this._frame),this._dealMonsterCollision(e,this._frame),this._removeWaitDestroyRole()},i._roleUpdate=function(e){this._mainHero.update(e);var t,i,r=0,n=f.length,o=0,a=0;if(2==p.runtime.gameMode)for(var s,h,u,c=p.runtime.ui.mapLayer.SCENE_RECT;r<n;++r)for(i=f[r],o=0,a=(t=this._runTimeData.roleMap[i]).length;o<a;++o)u=t[o],i==m.HeroAI||i==m.Monster?(s=u.pos.x,h=u.pos.y,(s<c.xMin-l||s>c.xMax+l||h<c.yMin-l||h>c.yMax+l)&&u.pauseMove(),u.update(e),u.resumeMove()):u.update(e);else for(;r<n;++r)for(i=f[r],o=0,a=(t=this._runTimeData.roleMap[i]).length;o<a;++o)t[o].update(e);if(4==p.runtime.gameMode)for(var _,T=0,g=this._runTimeData.cutTrees.length;T<g;++T)(_=this._runTimeData.cutTrees[T]).setActiveView(this._isInScene(_))},i._dealMainHeroCollision=function(e,t){if(this._mainHero&&this._mainHero.enable){var i,r=0,n=0;if(!this._mainHero.isIntoGrass()){for(r=0,n=this._runTimeData.props.length;r<n;++r)this._dealHeroCollisionWithProp(this._mainHero,this._runTimeData.props[r]);for(r=0,n=this._runTimeData.transfers.length;r<n;++r)this._dealHeroCollisionWithTransfer(this._mainHero,this._runTimeData.transfers[r]);for(r=0,n=this._runTimeData.monsters.length;r<n;++r)this._dealHeroCollisionWithMonster(this._mainHero,this._runTimeData.monsters[r]);if(this._runTimeData.barriers.length>0)for(H.length=0,this._runTimeData.barrierBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,H),r=0,n=H.length;r<n;++r)this._dealHeroCollisionWithBarrier(this._mainHero,H[r]);if(4==p.runtime.gameMode&&t%5==0&&this._runTimeData.cutTrees.length>0)for(C.length=0,this._runTimeData.cutTreeBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,C),r=0,n=C.length;r<n;++r)this._dealHeroCollisionWithCutTree(this._mainHero,C[r])}for(r=0,n=this._runTimeData.aiHeros.length;r<n;++r)(i=this._runTimeData.aiHeros[r]).enable&&(i.canNotBeAtkByHero||!i.isBoss&&this._mainHero.isIntoGrass()||this._dealHeroCollisionWithHero(this._mainHero,i));if(t%2==0&&this._runTimeData.grasses.length>0){var o;for(r=0,n=this._runTimeData.grasses.length;r<n;++r)if(o=this._runTimeData.grasses[r],s.rectContainPoint(o.pos,o.size,this._mainHero.pos))return void this._mainHero.contactGrass(o);this._mainHero.contactGrass(null)}}},i._dealAIHeroCollision=function(e,t){var i,r,n,o=0,a=this._runTimeData.aiHeros.length,l=0,h=0;if(t%2==0)for(o=0,a=this._runTimeData.aiHeros.length;o<a;++o)if(l=o+1,(r=this._runTimeData.aiHeros[o]).enable&&!r.isIntoGrass()&&r.canAtkHero)for(;l<a;++l)(n=this._runTimeData.aiHeros[l]).enable&&(n.isIntoGrass()||n.canNotBeAtkByHero||this._dealHeroCollisionWithHero(r,n));for(o=0,a=this._runTimeData.aiHeros.length;o<a;++o)if((i=this._runTimeData.aiHeros[o]).enable){if(t%4==0&&this._runTimeData.grasses.length>0){l=0,h=this._runTimeData.grasses.length;for(var u=void 0,c=!1;l<h;++l)if(u=this._runTimeData.grasses[l],s.rectContainPoint(u.pos,u.size,i.pos)){i.contactGrass(u),c=!0;break}c||i.contactGrass(null)}if(!i.isIntoGrass()){if(t%3==0&&i.canCollectMonster)for(l=0,h=this._runTimeData.monsters.length;l<h;++l)this._dealHeroCollisionWithMonster(i,this._runTimeData.monsters[l]);if(i.enable){if(t%5==0&&i.canCollectProp)for(l=0,h=this._runTimeData.props.length;l<h;++l)this._dealHeroCollisionWithProp(i,this._runTimeData.props[l]);if(t%5==0&&i.canAtkBarrier&&this._runTimeData.barriers.length>0){H.length=0;var _=this._runTimeData.barrierBox.getRangeItems(i.pos.x,i.pos.y,H);for(l=0,h=_.length;l<h;++l)this._dealHeroCollisionWithBarrier(i,_[l])}if(4==p.runtime.gameMode&&t%5==0&&this._runTimeData.cutTrees.length>0)for(C.length=0,this._runTimeData.cutTreeBox.getRangeItems(i.pos.x,i.pos.y,C),l=0,h=C.length;l<h;++l)this._dealAIHeroCollisionWithCutTree(i,C[l])}}}},i._dealMonsterCollision=function(e,t){if(4==p.runtime.gameMode&&t%4==0&&this._runTimeData.cutTrees.length>0)for(var i,r=0,n=this._runTimeData.monsters.length;r<n;++r)if(!(4==t&&r%2==0||8==t&&r%2==1||0==t)){i=this._runTimeData.monsters[r],C.length=0,this._runTimeData.cutTreeBox.getRangeItems(i.pos.x,i.pos.y,C);for(var o=0,a=C.length;o<a;++o)this._dealMonsterCollisionWithCutTree(i,C[o])}},i._dealBulletCollision=function(e,t){if(t%2==0)for(var i,r=0,n=this._runTimeData.bullets.length;r<n;++r)if((i=this._runTimeData.bullets[r]).canCheckCollision&&i.enable&&(!i.canAtkHeroMain||(this._dealHeroCollisionWithBullet(this._mainHero,i),i.enable))){if(i.canAtkHeroAI){for(var o=0,a=this._runTimeData.aiHeros.length;o<a&&(this._dealHeroCollisionWithBullet(this._runTimeData.aiHeros[o],i),i.enable);++o);if(!i.enable)continue}if(i.canAtkMonster){for(var s=0,l=this._runTimeData.monsters.length;s<l&&(this._dealMonsterCollisionWithBullet(this._runTimeData.monsters[s],i),i.enable);++s);if(!i.enable)continue}}},i._removeWaitDestroyRole=function(){for(var e,t,i=0,r=0,n=m.HeroAI;n<m.Max;++n)for(i=0,r=(t=this._runTimeData.roleMap[n]).length;i<r;++i)(e=t[i]).waitRemove&&(this._runTimeData.removeRole(e,!1),t.splice(i,1),i--,r--)},i.createRole=function(e,t,i,r){for(var n=arguments.length,o=new Array(n>4?n-4:0),a=4;a<n;a++)o[a-4]=arguments[a];var s=T.apply(void 0,[e,t,i,r].concat(o));return e==m.HeroMain?(this._mainHero=s,p.runtime.ui.mapLayer.bindFocusNode(this._mainHero.view.node)):e==m.Barrier||m.CutTreeTree,this._runTimeData.addRole(s),s},i.addInitAutoProp=function(e){var t=e[r.randomRangeInt(0,e.length)];p.runtime.ui.mapLayer.randomPosByMainHero(d,h.PROP.AUTO.SCREEN_RANGE),this.createRole(m.Prop,t,d.x,d.y).isAutoRefresh=!0},i.onHeroDie=function(e){if(e.isMainHero)p.runtime.ui.mapLayer.bindFocusNode(null);else{var t=e.config.drop_prop;if(t.length>0){var i=t[r.randomRangeInt(0,t.length)];this.addProp(i,e.pos.x,e.pos.y)}}},i.onMonsterDie=function(e){var t=e.drop;if(!(t.length<=0)&&Math.random()<.3){var i=t[r.randomRangeInt(0,t.length)];this.addProp(i,e.pos.x,e.pos.y)}},i.addHero=function(e,t,i){return this.createRole(m.HeroAI,e,t,i)},i.addMonster=function(e,t,i){return this.createRole(m.Monster,e,t,i)},i.addProp=function(e,t,i){for(var r=arguments.length,n=new Array(r>3?r-3:0),o=3;o<r;o++)n[o-3]=arguments[o];return this.createRole.apply(this,[m.Prop,e,t,i].concat(n))},i.onChangeMainRoleWeapon=function(e){for(var t=0,i=this._runTimeData.props.length;t<i;++t)this._runTimeData.props[t].onWeaponUpdate(e)},i.getRoleNewPosCollisionBarrier=function(e,t,i){if(5==p.runtime.gameMode)return null;d.x=t,d.y=i,H.length=0;var r,n=this._runTimeData.barrierBox.getRangeItems(t,i,H),o=0,a=n.length;if(e.roleType==m.Monster){for(var l=e.size;o<a;++o)if((r=n[o]).canBreakMove&&s.isRectIntersect(d,l,r.pos,r.size))return r}else if(e.roleType==m.HeroAI||e.roleType==m.HeroMain){var h=e,c=h.radius;for((h.isMainHero||h.canAtkBarrier)&&(c=h.radius-u.CONTACT_HERO_DIS);o<a;++o)if((r=n[o]).canBreakMove&&s.isIntersectRectCircle(r.pos,r.size,d,c))return r}return null},i.getRoleNewPosCollisionTower=function(e,t,i){var r,n=this._runTimeData.towers,o=0,a=n.length;if(e.roleType==m.HeroAI||e.roleType==m.HeroMain)return null;if(e.roleType==m.Monster)for(var l=e,h=Math.max(l.size.width,l.size.height)/2;o<a;++o)if((r=n[o]).enable&&s.isCrossByCircle(r.pos,Math.max(r.size.width,r.size.height)/2,l.pos,h))return r;return null},i.getRoleNewPosCollisionCutTree=function(e,t,i){d.x=t,d.y=i,C.length=0;var r,n=this._runTimeData.cutTreeBox.getRangeItems(t,i,C),o=0,a=n.length;if(e.roleType==m.HeroAI||e.roleType==m.HeroMain)for(var l=e,h=l.radius-c.CONTACT_HERO_DIS;o<a;++o)if((r=n[o]).enable&&s.isIntersectRectCircle(r.pos,r.size,l.pos,h))return r;return null},i.getArrivalePos=function(e,t,i){var r=this._runTimeData.barrierBox.getEmptySurround(e,t);return!!r&&(i.x=r[0],i.y=r[1],!0)},i.findTowerTarget=function(e){var t,i=e,r=i.atkRange;if(i.canAtkMainHero&&n.distance(e.pos,this._mainHero.pos)<=r)return this._mainHero;if(i.canAtkAIHero)for(var o=this._runTimeData.aiHeros,a=0;a<o.length;++a)if((t=o[a]).enable&&n.distance(e.pos,t.pos)<=r)return t;if(i.canAtkMonster)for(var s=this._runTimeData.monsters,l=0;l<s.length;++l)if((t=s[l]).enable&&n.distance(e.pos,t.pos)<=r)return t;return null},i._getSortLog=function(e,t){var i=this._sortPool.shift();return i||(i={dis:0,index:0}),i.dis=e,i.index=t,i},i.findHeroByShortDis=function(e){var t,i,r=p.runtime.ui.mapLayer,o=[],s=this._mainHero.pos,l=0,h=this._runTimeData.aiHeros.length,u=!1;for(l=0;l<h;++l)t=this._runTimeData.aiHeros[l],r.posIsInScreen2(t.pos)?u=!0:(i=n.squaredDistance(s,t.pos),o.push(this._getSortLog(i,l)));o.sort((function(e,t){return e.dis-t.dis})),u&&(e-=2);var c=null;if((h=Math.min(e,o.length))>0)for(c=[],l=0;l<h;++l)c.push(this._runTimeData.aiHeros[o[l].index]);return a.append(this._sortPool,o),c},i._isInScene=function(e){var t=p.runtime.ui.mapLayer.REAL_SCENE_RECT,i=200;return!(e.pos.x+e.size.width/2<t.xMin-i||e.pos.x-e.size.width/2>t.xMax+i||e.pos.y+e.size.height/2<t.yMin-i||e.pos.y-e.size.height/2>t.yMax+i)},i._dealHeroCollisionWithHero=function(e,t){t.enable&&s.circleCross(e.pos,e.radius,t.pos,t.radius,g)&&e.contactHero(t,g)},i._dealHeroCollisionWithProp=function(e,t){t.enable&&(e.isIntoGrass()||s.isCrossByCircle(e.pos,e.radius,t.pos,t.radius)&&e.contactProp(t))},i._dealHeroCollisionWithTransfer=function(e,t){t.enable&&(e.isIntoGrass()||s.isRectIntersect(e.pos,e.size,t.pos,t.size)&&e.contactTransfer(t))},i._dealHeroCollisionWithMonster=function(e,t){if(t.enable&&e.enable&&!e.isIntoGrass()){var i=s.circleCross2(e.pos,e.radius,t.pos,Math.max(t.size.width,t.size.height)-_.CONTACT_WEAPON_DIS,g);i>0&&e.contactMonster(t,i,g)}},i._dealHeroCollisionWithBarrier=function(e,t){if(t.enable){var i=s.circleCross2(e.pos,e.radius-u.CONTACT_HERO_DIS,t.pos,Math.max(t.size.width,t.size.height)-_.CONTACT_WEAPON_DIS,g);i>0&&e.contactBarrier(t,i,g)}},i._dealHeroCollisionWithCutTree=function(e,t){if(t.enable){var i=s.circleCross2(e.pos,e.realRadius-40,t.pos,t.size.width,g);i>0&&e.contactCutTree(t,i,g)}},i._dealMonsterCollisionWithCutTree=function(e,t){e.enable&&t.enable&&s.isRectIntersect(e.pos,e.size,t.pos,t.size)&&e.contactCutTree(t)},i._dealAIHeroCollisionWithCutTree=function(e,t){e.enable&&t.enable&&s.isRectIntersect(e.pos,e.size,t.pos,t.size)&&e.contactCutTree(t)},i._dealHeroCollisionWithBullet=function(e,t){e.enable&&t.enable&&s.rectContainPoint(e.pos,e.size,t.pos)&&t.contactHero(e)},i._dealMonsterCollisionWithBullet=function(e,t){e.enable&&t.enable&&s.rectContainPoint(e.pos,e.size,t.pos)&&t.contactMonster(e)},i.checkHeroBirthPosCorrect=function(e,t){if(5==p.runtime.gameMode)return!0;d.x=e,d.y=t,H.length=0;var i=this._runTimeData.barrierBox.getRangeItems(e,t,H);if(i.length<=0)return!0;var r,n=0,o=i.length;for(n=0;n<o;++n)if((r=i[n]).canBreakMove&&s.isIntersectRectCircle(r.pos,r.size,d,100))return!1;return!0},t(e,[{key:"mainHero",get:function(){return this._mainHero}}]),e}());var g=e("CIRCLE_CORSS",[new o,new o,new o,new o,new o]),d={x:0,y:0},H=[],C=[];i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMgr4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils4.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./RoleFactory4.ts","./RoleMonster4.ts"],(function(e){var i,t,r,o,n,a,s,l,h,u,c,_,m,f,p,T;return{setters:[function(e){i=e.createClass},function(e){t=e.cclegacy,r=e.math,o=e.Vec3,n=e.Vec2},function(e){a=e.ZDUtils4},function(e){s=e.SHOW_RECT_SPACE,l=e.SPAWNER_CFG,h=e.BARRIER_CFG,u=e.CUTTREE_CFG,c=e.MONSTER_CFG},function(e){_=e.ERoleType,m=e.UPDATE_TYPES},function(e){f=e.ZDGameState4},function(e){p=e.createRole},function(e){T=e.MonsterType}],execute:function(){t._RF.push({},"468a9kYtkNCrIzjK+s6HLSu","RoleMgr4",void 0);e("RoleMgr",function(){function e(e){this._mainHero=void 0,this._frame=void 0,this._runTimeData=void 0,this._runTimeData=e,this._frame=0}var t=e.prototype;return t.showAllRole=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].showView()}this._mainHero.showView()},t.hideAllRole=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].hideView()}this._mainHero.hideView()},t.clearOther=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].removeView()}},t.update=function(e){++this._frame>99&&(this._frame=0),this._roleUpdate(e),this._runTimeData.roleMap[_.CutTreeTree].forEach((function(i){return i.update(e)})),this._dealBulletCollision(e,this._frame),this._dealMainHeroCollision(e,this._frame),this._dealAIHeroCollision(e,this._frame),this._dealMonsterCollision(e,this._frame),this._removeWaitDestroyRole()},t._roleUpdate=function(e){this._mainHero.update(e);var i,t,r=0,o=m.length,n=0,a=0;if(2==f.runtime.gameMode)for(var l,h,u,c=f.runtime.ui.mapLayer.SCENE_RECT;r<o;++r)for(t=m[r],n=0,a=(i=this._runTimeData.roleMap[t]).length;n<a;++n)u=i[n],t==_.HeroAI||t==_.Monster?(l=u.pos.x,h=u.pos.y,(l<c.xMin-s||l>c.xMax+s||h<c.yMin-s||h>c.yMax+s)&&u.pauseMove(),u.update(e),u.resumeMove()):u.update(e);else for(;r<o;++r)for(t=m[r],n=0,a=(i=this._runTimeData.roleMap[t]).length;n<a;++n)i[n].update(e);if(4==f.runtime.gameMode)for(var p,T=0,d=this._runTimeData.cutTrees.length;T<d;++T)(p=this._runTimeData.cutTrees[T]).setActiveView(this._isInScene(p))},t._dealMainHeroCollision=function(e,i){if(this._mainHero&&this._mainHero.enable){var t,r=0,o=0;if(!this._mainHero.isIntoGrass()){for(r=0,o=this._runTimeData.props.length;r<o;++r)this._dealHeroCollisionWithProp(this._mainHero,this._runTimeData.props[r]);for(r=0,o=this._runTimeData.transfers.length;r<o;++r)this._dealHeroCollisionWithTransfer(this._mainHero,this._runTimeData.transfers[r]);for(r=0,o=this._runTimeData.monsters.length;r<o;++r)this._dealHeroCollisionWithMonster(this._mainHero,this._runTimeData.monsters[r]);if(this._runTimeData.barriers.length>0)for(H.length=0,this._runTimeData.barrierBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,H),r=0,o=H.length;r<o;++r)this._dealHeroCollisionWithBarrier(this._mainHero,H[r]);if(4==f.runtime.gameMode&&i%5==0&&this._runTimeData.cutTrees.length>0)for(C.length=0,this._runTimeData.cutTreeBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,C),r=0,o=C.length;r<o;++r)this._dealHeroCollisionWithCutTree(this._mainHero,C[r])}for(r=0,o=this._runTimeData.aiHeros.length;r<o;++r)(t=this._runTimeData.aiHeros[r]).enable&&(t.canNotBeAtkByHero||!t.isBoss&&this._mainHero.isIntoGrass()||this._dealHeroCollisionWithHero(this._mainHero,t));if(i%2==0&&this._runTimeData.grasses.length>0){var n;for(r=0,o=this._runTimeData.grasses.length;r<o;++r)if(n=this._runTimeData.grasses[r],a.rectContainPoint(n.pos,n.size,this._mainHero.pos))return void this._mainHero.contactGrass(n);this._mainHero.contactGrass(null)}}},t._dealAIHeroCollision=function(e,i){var t,r,o,n=0,s=this._runTimeData.aiHeros.length,l=0,h=0;if(i%2==0)for(n=0,s=this._runTimeData.aiHeros.length;n<s;++n)if(l=n+1,(r=this._runTimeData.aiHeros[n]).enable&&!r.isIntoGrass()&&r.canAtkHero)for(;l<s;++l)(o=this._runTimeData.aiHeros[l]).enable&&(o.isIntoGrass()||o.canNotBeAtkByHero||this._dealHeroCollisionWithHero(r,o));for(n=0,s=this._runTimeData.aiHeros.length;n<s;++n)if((t=this._runTimeData.aiHeros[n]).enable){if(i%4==0&&this._runTimeData.grasses.length>0){l=0,h=this._runTimeData.grasses.length;for(var u=void 0,c=!1;l<h;++l)if(u=this._runTimeData.grasses[l],a.rectContainPoint(u.pos,u.size,t.pos)){t.contactGrass(u),c=!0;break}c||t.contactGrass(null)}if(!t.isIntoGrass()){if(i%3==0&&t.canCollectMonster)for(l=0,h=this._runTimeData.monsters.length;l<h;++l)this._dealHeroCollisionWithMonster(t,this._runTimeData.monsters[l]);if(t.enable){if(i%5==0&&t.canCollectProp)for(l=0,h=this._runTimeData.props.length;l<h;++l)this._dealHeroCollisionWithProp(t,this._runTimeData.props[l]);if(i%5==0&&t.canAtkBarrier&&this._runTimeData.barriers.length>0){H.length=0;var _=this._runTimeData.barrierBox.getRangeItems(t.pos.x,t.pos.y,H);for(l=0,h=_.length;l<h;++l)this._dealHeroCollisionWithBarrier(t,_[l])}if(4==f.runtime.gameMode&&i%5==0&&this._runTimeData.cutTrees.length>0)for(C.length=0,this._runTimeData.cutTreeBox.getRangeItems(t.pos.x,t.pos.y,C),l=0,h=C.length;l<h;++l)this._dealAIHeroCollisionWithCutTree(t,C[l])}}}},t._dealMonsterCollision=function(e,i){var t=this;if(4==f.runtime.gameMode&&i%4==0&&this._runTimeData.cutTrees.length>0)for(var r,o=0,n=this._runTimeData.monsters.length;o<n;++o)if(!(4==i&&o%2==0||8==i&&o%2==1||0==i)){r=this._runTimeData.monsters[o],C.length=0,this._runTimeData.cutTreeBox.getRangeItems(r.pos.x,r.pos.y,C);for(var a=0,s=C.length;a<s;++a)this._dealMonsterCollisionWithCutTree(r,C[a]);var l=this._runTimeData.monsters.filter((function(e){return e.campType==T.Tm}));r.campType==T.Enemy&&l.forEach((function(e){t._dealMonsterCollisionWithMonster(r,e)}))}},t._dealBulletCollision=function(e,i){if(i%2==0)for(var t,r=0,o=this._runTimeData.bullets.length;r<o;++r)if((t=this._runTimeData.bullets[r]).canCheckCollision&&t.enable&&(!t.canAtkHeroMain||(this._dealHeroCollisionWithBullet(this._mainHero,t),t.enable))){if(t.canAtkHeroAI){for(var n=0,a=this._runTimeData.aiHeros.length;n<a&&(this._dealHeroCollisionWithBullet(this._runTimeData.aiHeros[n],t),t.enable);++n);if(!t.enable)continue}if(t.canAtkMonster){for(var s=0,l=this._runTimeData.monsters.length;s<l&&(this._dealMonsterCollisionWithBullet(this._runTimeData.monsters[s],t),t.enable);++s);if(!t.enable)continue}}},t._removeWaitDestroyRole=function(){for(var e,i,t=0,r=0,o=_.HeroAI;o<_.Max;++o)for(t=0,r=(i=this._runTimeData.roleMap[o]).length;t<r;++t)(e=i[t]).waitRemove&&(this._runTimeData.removeRole(e,!1),i.splice(t,1),t--,r--)},t.createRole=function(e,i,t,r){for(var o=arguments.length,n=new Array(o>4?o-4:0),a=4;a<o;a++)n[a-4]=arguments[a];var s=p.apply(void 0,[e,i,t,r].concat(n));return e==_.HeroMain?(this._mainHero=s,f.runtime.ui.mapLayer.bindFocusNode(this._mainHero.view.node)):e==_.Barrier||_.CutTreeTree,this._runTimeData.addRole(s),s},t.addInitAutoProp=function(e){var i=e[r.randomRangeInt(0,e.length)];f.runtime.ui.mapLayer.randomPosByMainHero(g,l.PROP.AUTO.SCREEN_RANGE),this.createRole(_.Prop,i,g.x,g.y).isAutoRefresh=!0},t.onHeroDie=function(e){if(e.isMainHero)f.runtime.ui.mapLayer.bindFocusNode(null);else{var i=e.config.drop_prop;if(i.length>0){var t=i[r.randomRangeInt(0,i.length)];this.addProp(t,e.pos.x,e.pos.y)}}},t.onMonsterDie=function(e){var i=e.drop;if(!(i.length<=0)&&Math.random()<.3){var t=i[r.randomRangeInt(0,i.length)];this.addProp(t,e.pos.x,e.pos.y)}},t.addHero=function(e,i,t){return this.createRole(_.HeroAI,e,i,t)},t.addMonster=function(e,i,t){return this.createRole(_.Monster,e,i,t)},t.addProp=function(e,i,t){return this.createRole(_.Prop,e,i,t)},t.onChangeMainRoleWeapon=function(e){for(var i=0,t=this._runTimeData.props.length;i<t;++i)this._runTimeData.props[i].onWeaponUpdate(e)},t.getRoleNewPosCollisionBarrier=function(e,i,t){if(5==f.runtime.gameMode)return null;g.x=i,g.y=t,H.length=0;var r,o=this._runTimeData.barrierBox.getRangeItems(i,t,H),n=0,s=o.length;if(e.roleType==_.Monster){for(var l=e.size;n<s;++n)if((r=o[n]).canBreakMove&&a.isRectIntersect(g,l,r.pos,r.size))return r}else if(e.roleType==_.HeroAI||e.roleType==_.HeroMain){var u=e,c=u.initRadius;for((u.isMainHero||u.canAtkBarrier)&&(c=u.initRadius-h.CONTACT_HERO_DIS);n<s;++n)if((r=o[n]).canBreakMove&&a.isIntersectRectCircle(r.pos,r.size,g,c))return r}return null},t.getRoleNewPosCollisionTower=function(e,i,t){var r,o=this._runTimeData.towers,n=0,s=o.length;if(e.roleType==_.HeroAI||e.roleType==_.HeroMain)return null;if(e.roleType==_.Monster)for(var l=e,h=Math.max(l.size.width,l.size.height)/2;n<s;++n)if((r=o[n]).enable&&a.isCrossByCircle(r.pos,Math.max(r.size.width,r.size.height)/2,l.pos,h))return r;return null},t.getRoleNewPosCollisionCutTree=function(e,i,t){g.x=i,g.y=t,C.length=0;var r,o=this._runTimeData.cutTreeBox.getRangeItems(i,t,C),n=0,s=o.length;if(e.roleType==_.HeroAI||e.roleType==_.HeroMain)for(var l=e,h=l.initRadius-u.CONTACT_HERO_DIS;n<s;++n)if((r=o[n]).enable&&a.isIntersectRectCircle(r.collPosNode.worldPosition,r.collPosNode.size,l.pos,h))return r;return null},t.findTowerTarget=function(e){var i,t=e,r=t.atkRange;if(t.canAtkMainHero&&o.distance(e.pos,this._mainHero.pos)<=r)return this._mainHero;if(t.canAtkAIHero)for(var n=this._runTimeData.aiHeros,a=0;a<n.length;++a)if((i=n[a]).enable&&o.distance(e.pos,i.pos)<=r)return i;if(t.canAtkMonster)for(var s=this._runTimeData.monsters,l=0;l<s.length;++l)if((i=s[l]).enable&&o.distance(e.pos,i.pos)<=r)return i;return null},t.findHeroByShortDis=function(){for(var e,i=0,t=this._runTimeData.aiHeros.length,r=Number.MAX_SAFE_INTEGER,n=null;i<t;++i){e=this._runTimeData.aiHeros[i];var a=o.distance(this._mainHero.pos,e.pos);if(a<r){if(f.runtime.ui.mapLayer.posIsInScreen2(e.pos))return null;r=a,n=e}}return n},t._isInScene=function(e){var i=f.runtime.ui.mapLayer.REAL_SCENE_RECT,t=200;return!(e.pos.x+e.size.width/2<i.xMin-t||e.pos.x-e.size.width/2>i.xMax+t||e.pos.y+e.size.height/2<i.yMin-t||e.pos.y-e.size.height/2>i.yMax+t)},t._dealHeroCollisionWithHero=function(e,i){i.enable&&a.circleCross(e.pos,e.radius,i.pos,i.radius,d)&&e.contactHero(i,d)},t._dealHeroCollisionWithProp=function(e,i){i.enable&&(e.isIntoGrass()||a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactProp(i))},t._dealHeroCollisionWithTransfer=function(e,i){i.enable&&(e.isIntoGrass()||a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactTransfer(i))},t._dealHeroCollisionWithMonster=function(e,i){if(i.enable&&e.enable&&!e.isIntoGrass()){var t=a.circleCross2(e.pos,e.radius,i.pos,Math.max(i.size.width,i.size.height)-c.CONTACT_WEAPON_DIS,d);t>0&&e.contactMonster(i,t,d)}},t._dealHeroCollisionWithBarrier=function(e,i){if(i.enable){var t=a.circleCross2(e.pos,e.radius-h.CONTACT_HERO_DIS,i.pos,Math.max(i.size.width,i.size.height)-c.CONTACT_WEAPON_DIS,d);t>0&&e.contactBarrier(i,t,d)}},t._dealHeroCollisionWithCutTree=function(e,i){if(i.enable){var t=a.circleCross2(e.pos,e.realRadius-40,i.collPosNode.worldPosition,i.collPosNode.size.width,d);t>0&&e.contactCutTree(i,t,d)}},t._dealMonsterCollisionWithCutTree=function(e,i){e.enable&&i.enable&&a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactCutTree(i)},t._dealMonsterCollisionWithMonster=function(e,i){e.enable&&i.enable&&a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactMonster(i)},t._dealAIHeroCollisionWithCutTree=function(e,i){e.enable&&i.enable&&a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactCutTree(i)},t._dealHeroCollisionWithBullet=function(e,i){e.enable&&i.enable&&a.rectContainPoint(e.pos,e.size,i.pos)&&i.contactHero(e)},t._dealMonsterCollisionWithBullet=function(e,i){e.enable&&i.enable&&a.rectContainPoint(e.pos,e.size,i.pos)&&i.contactMonster(e)},i(e,[{key:"mainHero",get:function(){return this._mainHero}}]),e}());var d=e("CIRCLE_CORSS",[new n,new n,new n,new n,new n]),g={x:0,y:0},H=[],C=[];t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMgr5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils.ts","./ZDUtils5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./RoleFactory5.ts","./RoleMonster5.ts"],(function(e){var i,t,r,o,n,a,s,l,h,u,c,_,m,f,p,T,d;return{setters:[function(e){i=e.createClass},function(e){t=e.cclegacy,r=e.math,o=e.Vec3,n=e.Vec2},function(e){a=e.ZDUtils},function(e){s=e.ZDUtils4},function(e){l=e.SHOW_RECT_SPACE,h=e.SPAWNER_CFG,u=e.BARRIER_CFG,c=e.CUTTREE_CFG,_=e.MONSTER_CFG},function(e){m=e.ERoleType,f=e.UPDATE_TYPES},function(e){p=e.ZDGameState5},function(e){T=e.createRole},function(e){d=e.CampType}],execute:function(){t._RF.push({},"95afczXLWRCqZKKB1csNBFa","RoleMgr5",void 0);e("RoleMgr",function(){function e(e){this._mainHero=void 0,this._frame=void 0,this._runTimeData=void 0,this._runTimeData=e,this._frame=0}var t=e.prototype;return t.showAllRole=function(){for(var e=0,i=0,t=m.HeroAI;t<m.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].showView()}this._mainHero.showView()},t.hideAllRole=function(){for(var e=0,i=0,t=m.HeroAI;t<m.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].hideView()}this._mainHero.hideView()},t.clearOther=function(){for(var e=0,i=0,t=m.HeroAI;t<m.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].removeView()}},t.update=function(e){++this._frame>99&&(this._frame=0),this._roleUpdate(e),this._runTimeData.roleMap[m.CutTreeTree].forEach((function(i){return i.update(e)})),this._dealBulletCollision(e,this._frame),this._dealMainHeroCollision(e,this._frame),this._dealAIHeroCollision(e,this._frame),this._dealMonsterCollision(e,this._frame),this._removeWaitDestroyRole()},t._roleUpdate=function(e){this._mainHero.update(e);var i,t,r=0,o=f.length,n=0,a=0;if(2==p.runtime.gameMode)for(var s,h,u,c=p.runtime.ui.mapLayer.SCENE_RECT;r<o;++r)for(t=f[r],n=0,a=(i=this._runTimeData.roleMap[t]).length;n<a;++n)u=i[n],t==m.HeroAI||t==m.Monster?(s=u.pos.x,h=u.pos.y,(s<c.xMin-l||s>c.xMax+l||h<c.yMin-l||h>c.yMax+l)&&u.pauseMove(),u.update(e),u.resumeMove()):u.update(e);else for(;r<o;++r)for(t=f[r],n=0,a=(i=this._runTimeData.roleMap[t]).length;n<a;++n)i[n].update(e);if(4==p.runtime.gameMode)for(var _,T=0,d=this._runTimeData.cutTrees.length;T<d;++T)(_=this._runTimeData.cutTrees[T]).setActiveView(this._isInScene(_))},t._dealMainHeroCollision=function(e,i){if(this._mainHero&&this._mainHero.enable){var t,r=0,o=0;if(!this._mainHero.isIntoGrass()){for(r=0,o=this._runTimeData.props.length;r<o;++r)this._dealHeroCollisionWithProp(this._mainHero,this._runTimeData.props[r]);for(r=0,o=this._runTimeData.transfers.length;r<o;++r)this._dealHeroCollisionWithTransfer(this._mainHero,this._runTimeData.transfers[r]);for(r=0,o=this._runTimeData.monsters.length;r<o;++r)this._dealHeroCollisionWithMonster(this._mainHero,this._runTimeData.monsters[r]);if(this._runTimeData.barriers.length>0)for(D.length=0,this._runTimeData.barrierBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,D),r=0,o=D.length;r<o;++r)this._dealHeroCollisionWithBarrier(this._mainHero,D[r]);if(4==p.runtime.gameMode&&i%5==0&&this._runTimeData.cutTrees.length>0)for(M.length=0,this._runTimeData.cutTreeBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,M),r=0,o=M.length;r<o;++r)this._dealHeroCollisionWithCutTree(this._mainHero,M[r])}for(r=0,o=this._runTimeData.aiHeros.length;r<o;++r)(t=this._runTimeData.aiHeros[r]).enable&&(t.canNotBeAtkByHero||!t.isBoss&&this._mainHero.isIntoGrass()||this._dealHeroCollisionWithHero(this._mainHero,t));if(i%2==0&&this._runTimeData.grasses.length>0){var n;for(r=0,o=this._runTimeData.grasses.length;r<o;++r)if(n=this._runTimeData.grasses[r],s.rectContainPoint(n.pos,n.size,this._mainHero.pos))return void this._mainHero.contactGrass(n);this._mainHero.contactGrass(null)}}},t._dealAIHeroCollision=function(e,i){var t,r,o,n=0,a=this._runTimeData.aiHeros.length,l=0,h=0;if(i%2==0)for(n=0,a=this._runTimeData.aiHeros.length;n<a;++n)if(l=n+1,(r=this._runTimeData.aiHeros[n]).enable&&!r.isIntoGrass()&&r.canAtkHero)for(;l<a;++l)(o=this._runTimeData.aiHeros[l]).enable&&(o.isIntoGrass()||o.canNotBeAtkByHero||this._dealHeroCollisionWithHero(r,o));for(n=0,a=this._runTimeData.aiHeros.length;n<a;++n)if((t=this._runTimeData.aiHeros[n]).enable){if(i%4==0&&this._runTimeData.grasses.length>0){l=0,h=this._runTimeData.grasses.length;for(var u=void 0,c=!1;l<h;++l)if(u=this._runTimeData.grasses[l],s.rectContainPoint(u.pos,u.size,t.pos)){t.contactGrass(u),c=!0;break}c||t.contactGrass(null)}if(!t.isIntoGrass()){if(i%3==0&&t.canCollectMonster)for(l=0,h=this._runTimeData.monsters.length;l<h;++l)this._dealHeroCollisionWithMonster(t,this._runTimeData.monsters[l]);if(t.enable){if(i%5==0&&t.canCollectProp)for(l=0,h=this._runTimeData.props.length;l<h;++l)this._dealHeroCollisionWithProp(t,this._runTimeData.props[l]);if(i%5==0&&t.canAtkBarrier&&this._runTimeData.barriers.length>0){D.length=0;var _=this._runTimeData.barrierBox.getRangeItems(t.pos.x,t.pos.y,D);for(l=0,h=_.length;l<h;++l)this._dealHeroCollisionWithBarrier(t,_[l])}if(4==p.runtime.gameMode&&i%5==0&&this._runTimeData.cutTrees.length>0)for(M.length=0,this._runTimeData.cutTreeBox.getRangeItems(t.pos.x,t.pos.y,M),l=0,h=M.length;l<h;++l)this._dealAIHeroCollisionWithCutTree(t,M[l])}}}},t._dealMonsterCollision=function(e,i){var t=this;if(4==p.runtime.gameMode&&i%4==0&&this._runTimeData.cutTrees.length>0)for(var r,o=0,n=this._runTimeData.monsters.length;o<n;++o)if(!(4==i&&o%2==0||8==i&&o%2==1||0==i)){r=this._runTimeData.monsters[o],M.length=0,this._runTimeData.cutTreeBox.getRangeItems(r.pos.x,r.pos.y,M);for(var a=0,s=M.length;a<s;++a)this._dealMonsterCollisionWithCutTree(r,M[a]);var l=this._runTimeData.monsters.filter((function(e){return e.campType==d.Tm}));r.campType==d.Enemy&&l.forEach((function(e){t._dealMonsterCollisionWithMonster(r,e)}))}},t._dealBulletCollision=function(e,i){if(i%2==0)for(var t,r=0,o=this._runTimeData.bullets.length;r<o;++r)if((t=this._runTimeData.bullets[r]).canCheckCollision&&t.enable&&(!t.canAtkHeroMain||(this._dealHeroCollisionWithBullet(this._mainHero,t),t.enable))){if(t.canAtkHeroAI){for(var n=0,a=this._runTimeData.aiHeros.length;n<a&&(this._dealHeroCollisionWithBullet(this._runTimeData.aiHeros[n],t),t.enable);++n);if(!t.enable)continue}if(t.canAtkMonster){for(var s=0,l=this._runTimeData.monsters.length;s<l&&(this._dealMonsterCollisionWithBullet(this._runTimeData.monsters[s],t),t.enable);++s);if(!t.enable)continue}}},t._removeWaitDestroyRole=function(){for(var e,i,t=0,r=0,o=m.HeroAI;o<m.Max;++o)for(t=0,r=(i=this._runTimeData.roleMap[o]).length;t<r;++t)(e=i[t]).waitRemove&&(this._runTimeData.removeRole(e,!1),i.splice(t,1),t--,r--)},t.createRole=function(e,i,t,r){for(var o=arguments.length,n=new Array(o>4?o-4:0),a=4;a<o;a++)n[a-4]=arguments[a];var s=T.apply(void 0,[e,i,t,r].concat(n));return e==m.HeroMain?(this._mainHero=s,p.runtime.ui.mapLayer.bindFocusNode(this._mainHero.view.node)):e==m.Barrier||m.CutTreeTree,this._runTimeData.addRole(s),s},t.addInitAutoProp=function(e){var i=e[r.randomRangeInt(0,e.length)];p.runtime.ui.mapLayer.randomPosByMainHero(H,h.PROP.AUTO.SCREEN_RANGE),this.createRole(m.Prop,i,H.x,H.y).isAutoRefresh=!0},t.onHeroDie=function(e){if(e.isMainHero)p.runtime.ui.mapLayer.bindFocusNode(null);else{var i=e.config.drop_prop;if(i.length>0){var t=i[r.randomRangeInt(0,i.length)];this.addProp(t,e.pos.x,e.pos.y)}}},t.onMonsterDie=function(e){var i=e.drop;if(!(i.length<=0)&&Math.random()<.3){var t=i[r.randomRangeInt(0,i.length)];this.addProp(t,e.pos.x,e.pos.y)}},t.addHero=function(e,i,t){return this.createRole(m.HeroAI,e,i,t)},t.addMonster=function(e,i,t){return this.createRole(m.Monster,e,i,t)},t.addProp=function(e,i,t){return this.createRole(m.Prop,e,i,t)},t.onChangeMainRoleWeapon=function(e){for(var i=0,t=this._runTimeData.props.length;i<t;++i)this._runTimeData.props[i].onWeaponUpdate(e)},t.getRoleNewPosCollisionBarrier=function(e,i,t){if(5==p.runtime.gameMode)return null;H.x=i,H.y=t,D.length=0;var r,o=this._runTimeData.barrierBox.getRangeItems(i,t,D),n=0,a=o.length;if(e.roleType==m.Monster){for(var l=e.size;n<a;++n)if((r=o[n]).canBreakMove&&s.isRectIntersect(H,l,r.pos,r.size))return r}else if(e.roleType==m.HeroAI||e.roleType==m.HeroMain){var h=e,c=h.initRadius;for((h.isMainHero||h.canAtkBarrier)&&(c=h.initRadius-u.CONTACT_HERO_DIS);n<a;++n)if((r=o[n]).canBreakMove&&s.isIntersectRectCircle(r.pos,r.size,H,c))return r}return null},t.getRoleNewPosCollisionTower=function(e,i,t){H.x=i,H.y=t;var r,o=this._runTimeData.towers,n=0,l=o.length;if(e.roleType==m.HeroAI||e.roleType==m.HeroMain){for(var h=e.size.width;n<l;++n)if((r=o[n]).enable&&a.isIntersectRectCircle(r.pos,r.size,H,h))return r;return null}if(e.roleType==m.Monster){C.x=i,C.y=t;for(var u=e,c=Math.max(u.size.width,u.size.height)/2;n<l;++n)if((r=o[n]).enable&&s.isCrossByCircle(r.pos,Math.max(r.size.width,r.size.height)/2,C,c))return r}return null},t.getRoleNewPosCollisionCutTree=function(e,i,t){H.x=i,H.y=t,M.length=0;var r,o=this._runTimeData.cutTreeBox.getRangeItems(i,t,M),n=0,a=o.length;if(e.roleType==m.HeroAI||e.roleType==m.HeroMain)for(var l=e,h=l.initRadius-c.CONTACT_HERO_DIS;n<a;++n)if((r=o[n]).enable&&s.isIntersectRectCircle(r.collPosNode.worldPosition,r.collPosNode.size,l.pos,h))return r;return null},t.findHeroByShortDis=function(){for(var e,i=0,t=this._runTimeData.aiHeros.length,r=Number.MAX_SAFE_INTEGER,n=null;i<t;++i){e=this._runTimeData.aiHeros[i];var a=o.distance(this._mainHero.pos,e.pos);if(a<r){if(p.runtime.ui.mapLayer.posIsInScreen2(e.pos))return null;r=a,n=e}}return n},t._isInScene=function(e){var i=p.runtime.ui.mapLayer.REAL_SCENE_RECT,t=200;return!(e.pos.x+e.size.width/2<i.xMin-t||e.pos.x-e.size.width/2>i.xMax+t||e.pos.y+e.size.height/2<i.yMin-t||e.pos.y-e.size.height/2>i.yMax+t)},t._dealHeroCollisionWithHero=function(e,i){i.enable&&s.circleCross(e.pos,e.radius,i.pos,i.radius,g)&&e.contactHero(i,g)},t._dealHeroCollisionWithProp=function(e,i){i.enable&&(e.isIntoGrass()||s.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactProp(i))},t._dealHeroCollisionWithTransfer=function(e,i){i.enable&&(e.isIntoGrass()||s.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactTransfer(i))},t._dealHeroCollisionWithMonster=function(e,i){if(i.enable&&e.enable&&!e.isIntoGrass()){var t=s.circleCross2(e.pos,e.radius,i.pos,Math.max(i.size.width,i.size.height)-_.CONTACT_WEAPON_DIS,g);t>0&&e.contactMonster(i,t,g)}},t._dealHeroCollisionWithBarrier=function(e,i){if(i.enable){var t=s.circleCross2(e.pos,e.radius-u.CONTACT_HERO_DIS,i.pos,Math.max(i.size.width,i.size.height)-_.CONTACT_WEAPON_DIS,g);t>0&&e.contactBarrier(i,t,g)}},t._dealHeroCollisionWithCutTree=function(e,i){if(i.enable){var t=s.circleCross2(e.pos,e.realRadius-40,i.collPosNode.worldPosition,i.collPosNode.size.width,g);t>0&&e.contactCutTree(i,t,g)}},t._dealMonsterCollisionWithCutTree=function(e,i){e.enable&&i.enable&&s.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactCutTree(i)},t._dealMonsterCollisionWithMonster=function(e,i){e.enable&&i.enable&&s.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactMonster(i)},t._dealAIHeroCollisionWithCutTree=function(e,i){e.enable&&i.enable&&s.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactCutTree(i)},t._dealHeroCollisionWithBullet=function(e,i){e.enable&&i.enable&&s.rectContainPoint(e.pos,e.size,i.pos)&&i.contactHero(e)},t._dealMonsterCollisionWithBullet=function(e,i){e.enable&&i.enable&&s.rectContainPoint(e.pos,e.size,i.pos)&&i.contactMonster(e)},i(e,[{key:"mainHero",get:function(){return this._mainHero}}]),e}());var g=e("CIRCLE_CORSS",[new n,new n,new n,new n,new n]),H={x:0,y:0},C={x:0,y:0,z:0},D=[],M=[];t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMgr6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils6.ts","./ZDConst6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./RoleData6.ts","./RoleFactory6.ts"],(function(e){var i,t,r,n,o,a,s,l,h,u,c,_,m,f,p,T;return{setters:[function(e){i=e.createClass},function(e){t=e.cclegacy,r=e.math,n=e.Vec3,o=e.Vec2},function(e){a=e.ZDUtils},function(e){s=e.SHOW_RECT_SPACE,l=e.SPAWNER_CFG,h=e.BARRIER_CFG,u=e.CUTTREE_CFG,c=e.MONSTER_CFG},function(e){_=e.ERoleType,m=e.UPDATE_TYPES},function(e){f=e.ZDGameState6},function(e){p=e.RoleData6},function(e){T=e.createRole}],execute:function(){t._RF.push({},"42751achrFJ9ZyzGuMtwA1+","RoleMgr6",void 0);e("RoleMgr",function(){function e(){this._mainHero=void 0,this._frame=void 0,this._runTimeData=void 0,this._runTimeData=new p,this._frame=0}var t=e.prototype;return t.showAllRole=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].showView()}},t.hideAllRole=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].hideView()}this._mainHero.hideView()},t.clearOther=function(){for(var e=0,i=0,t=_.HeroAI;t<_.Max;++t){var r=this._runTimeData.roleMap[t];for(e=0,i=r.length;e<i;++e)r[e].removeView()}},t.update=function(e){++this._frame>99&&(this._frame=0),this._roleUpdate(e),this._dealBulletCollision(e,this._frame),this._dealMainHeroCollision(e,this._frame),this._dealAIHeroCollision(e,this._frame),this._dealMonsterCollision(e,this._frame),this._removeWaitDestroyRole()},t._roleUpdate=function(e){this._mainHero.update(e);var i,t,r=0,n=m.length,o=0,a=0;if(2==f.runtime.gameMode)for(var l,h,u,c=f.runtime.ui.mapLayer.SCENE_RECT;r<n;++r)for(t=m[r],o=0,a=(i=this._runTimeData.roleMap[t]).length;o<a;++o)u=i[o],t==_.HeroAI||t==_.Monster?(l=u.pos.x,h=u.pos.y,(l<c.xMin-s||l>c.xMax+s||h<c.yMin-s||h>c.yMax+s)&&u.pauseMove(),u.update(e),u.resumeMove()):u.update(e);else for(;r<n;++r)for(t=m[r],o=0,a=(i=this._runTimeData.roleMap[t]).length;o<a;++o)i[o].update(e);if(4==f.runtime.gameMode)for(var p,T=0,d=this._runTimeData.cutTrees.length;T<d;++T)(p=this._runTimeData.cutTrees[T]).setActiveView(this._isInScene(p))},t._dealMainHeroCollision=function(e,i){if(this._mainHero&&this._mainHero.enable){var t,r=0,n=0;if(!this._mainHero.isIntoGrass()){for(r=0,n=this._runTimeData.props.length;r<n;++r)this._dealHeroCollisionWithProp(this._mainHero,this._runTimeData.props[r]);for(r=0,n=this._runTimeData.transfers.length;r<n;++r)this._dealHeroCollisionWithTransfer(this._mainHero,this._runTimeData.transfers[r]);for(r=0,n=this._runTimeData.monsters.length;r<n;++r)this._dealHeroCollisionWithMonster(this._mainHero,this._runTimeData.monsters[r]);if(this._runTimeData.barriers.length>0)for(H.length=0,this._runTimeData.barrierBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,H),r=0,n=H.length;r<n;++r)this._dealHeroCollisionWithBarrier(this._mainHero,H[r]);if(4==f.runtime.gameMode&&i%5==0&&this._runTimeData.cutTrees.length>0)for(C.length=0,this._runTimeData.cutTreeBox.getRangeItems(this._mainHero.pos.x,this._mainHero.pos.y,C),r=0,n=C.length;r<n;++r)this._dealHeroCollisionWithCutTree(this._mainHero,C[r])}for(r=0,n=this._runTimeData.aiHeros.length;r<n;++r)(t=this._runTimeData.aiHeros[r]).enable&&(t.canNotBeAtkByHero||!t.isBoss&&this._mainHero.isIntoGrass()||this._dealHeroCollisionWithHero(this._mainHero,t));if(i%2==0&&this._runTimeData.grasses.length>0){var o;for(r=0,n=this._runTimeData.grasses.length;r<n;++r)if(o=this._runTimeData.grasses[r],a.rectContainPoint(o.pos,o.size,this._mainHero.pos))return void this._mainHero.contactGrass(o);this._mainHero.contactGrass(null)}}},t._dealAIHeroCollision=function(e,i){var t,r,n,o=0,s=this._runTimeData.aiHeros.length,l=0,h=0;if(i%2==0)for(o=0,s=this._runTimeData.aiHeros.length;o<s;++o)if(l=o+1,(r=this._runTimeData.aiHeros[o]).enable&&!r.isIntoGrass()&&r.canAtkHero)for(;l<s;++l)(n=this._runTimeData.aiHeros[l]).enable&&(n.isIntoGrass()||n.canNotBeAtkByHero||this._dealHeroCollisionWithHero(r,n));for(o=0,s=this._runTimeData.aiHeros.length;o<s;++o)if((t=this._runTimeData.aiHeros[o]).enable){if(i%4==0&&this._runTimeData.grasses.length>0){l=0,h=this._runTimeData.grasses.length;for(var u=void 0,c=!1;l<h;++l)if(u=this._runTimeData.grasses[l],a.rectContainPoint(u.pos,u.size,t.pos)){t.contactGrass(u),c=!0;break}c||t.contactGrass(null)}if(!t.isIntoGrass()){if(i%3==0&&t.canCollectMonster)for(l=0,h=this._runTimeData.monsters.length;l<h;++l)this._dealHeroCollisionWithMonster(t,this._runTimeData.monsters[l]);if(t.enable){if(i%5==0&&t.canCollectProp)for(l=0,h=this._runTimeData.props.length;l<h;++l)this._dealHeroCollisionWithProp(t,this._runTimeData.props[l]);if(i%5==0&&t.canAtkBarrier&&this._runTimeData.barriers.length>0){H.length=0;var _=this._runTimeData.barrierBox.getRangeItems(t.pos.x,t.pos.y,H);for(l=0,h=_.length;l<h;++l)this._dealHeroCollisionWithBarrier(t,_[l])}if(4==f.runtime.gameMode&&i%5==0&&this._runTimeData.cutTrees.length>0)for(C.length=0,this._runTimeData.cutTreeBox.getRangeItems(t.pos.x,t.pos.y,C),l=0,h=C.length;l<h;++l)this._dealAIHeroCollisionWithCutTree(t,C[l])}}}},t._dealMonsterCollision=function(e,i){if(4==f.runtime.gameMode&&i%4==0&&this._runTimeData.cutTrees.length>0)for(var t,r=0,n=this._runTimeData.monsters.length;r<n;++r)if(!(4==i&&r%2==0||8==i&&r%2==1||0==i)){t=this._runTimeData.monsters[r],C.length=0,this._runTimeData.cutTreeBox.getRangeItems(t.pos.x,t.pos.y,C);for(var o=0,a=C.length;o<a;++o)this._dealMonsterCollisionWithCutTree(t,C[o])}},t._dealBulletCollision=function(e,i){if(i%2==0)for(var t,r=0,n=this._runTimeData.bullets.length;r<n;++r)if((t=this._runTimeData.bullets[r]).canCheckCollision&&t.enable&&(!t.canAtkHeroMain||(this._dealHeroCollisionWithBullet(this._mainHero,t),t.enable))){if(t.canAtkHeroAI){for(var o=0,a=this._runTimeData.aiHeros.length;o<a&&(this._dealHeroCollisionWithBullet(this._runTimeData.aiHeros[o],t),t.enable);++o);if(!t.enable)continue}if(t.canAtkMonster){for(var s=0,l=this._runTimeData.monsters.length;s<l&&(this._dealMonsterCollisionWithBullet(this._runTimeData.monsters[s],t),t.enable);++s);if(!t.enable)continue}}},t._removeWaitDestroyRole=function(){for(var e,i,t=0,r=0,n=_.HeroAI;n<_.Max;++n)for(t=0,r=(i=this._runTimeData.roleMap[n]).length;t<r;++t)(e=i[t]).waitRemove&&(this._runTimeData.removeRole(e,!1),i.splice(t,1),t--,r--)},t.createRole=function(e,i,t,r){for(var n=arguments.length,o=new Array(n>4?n-4:0),a=4;a<n;a++)o[a-4]=arguments[a];var s=T.apply(void 0,[e,i,t,r].concat(o));return e==_.HeroMain?(this._mainHero=s,f.runtime.ui.mapLayer.bindFocusNode(this._mainHero.view.node),this._runTimeData.mainHeroPos.set(t,r)):e==_.Barrier||_.CutTreeTree,this._runTimeData.addRole(s),s},t.addInitAutoProp=function(e){var i=e[r.randomRangeInt(0,e.length)];f.runtime.ui.mapLayer.randomPosByMainHero(g,l.PROP.AUTO.SCREEN_RANGE),this.createRole(_.Prop,i,g.x,g.y).isAutoRefresh=!0},t.onHeroDie=function(e){if(e.isMainHero)f.runtime.ui.mapLayer.bindFocusNode(null);else{var i=e.config.drop_prop;if(i.length>0){var t=i[r.randomRangeInt(0,i.length)];this.addProp(t,e.pos.x,e.pos.y)}}},t.onMonsterDie=function(e){var i=e.drop;if(!(i.length<=0)&&Math.random()<e.dropRate){var t=i[r.randomRangeInt(0,i.length)];this.addProp(t,e.pos.x,e.pos.y)}},t.addHero=function(e,i,t){return this.createRole(_.HeroAI,e,i,t)},t.addMonster=function(e,i,t){return this.createRole(_.Monster,e,i,t)},t.addProp=function(e,i,t){return this.createRole(_.Prop,e,i,t)},t.onChangeMainRoleWeapon=function(e){for(var i=0,t=this._runTimeData.props.length;i<t;++i)this._runTimeData.props[i].onWeaponUpdate(e)},t.getRoleNewPosCollisionBarrier=function(e,i,t){if(5==f.runtime.gameMode)return null;g.x=i,g.y=t,H.length=0;var r,n=this._runTimeData.barrierBox.getRangeItems(i,t,H),o=0,s=n.length;if(e.roleType==_.Monster){for(var l=e.size;o<s;++o)if((r=n[o]).canBreakMove&&a.isRectIntersect(g,l,r.pos,r.size))return r}else if(e.roleType==_.HeroAI||e.roleType==_.HeroMain){var u=e,c=u.initRadius;for((u.isMainHero||u.canAtkBarrier)&&(c=u.initRadius-h.CONTACT_HERO_DIS);o<s;++o)if((r=n[o]).canBreakMove&&a.isIntersectRectCircle(r.pos,r.size,g,c))return r}return null},t.getRoleNewPosCollisionTower=function(e,i,t){var r,n=this._runTimeData.towers,o=0,s=n.length;if(e.roleType==_.HeroAI||e.roleType==_.HeroMain)return null;if(e.roleType==_.Monster)for(var l=e,h=Math.max(l.size.width,l.size.height)/2;o<s;++o)if((r=n[o]).enable&&a.isCrossByCircle(r.pos,Math.max(r.size.width,r.size.height)/2,l.pos,h))return r;return null},t.getRoleNewPosCollisionCutTree=function(e,i,t){g.x=i,g.y=t,C.length=0;var r,n=this._runTimeData.cutTreeBox.getRangeItems(i,t,C),o=0,s=n.length;if(e.roleType==_.HeroAI||e.roleType==_.HeroMain)for(var l=e,h=l.initRadius-u.CONTACT_HERO_DIS;o<s;++o)if((r=n[o]).enable&&a.isIntersectRectCircle(r.pos,r.size,l.pos,h))return r;return null},t.findTowerTarget=function(e){var i,t=e,r=t.atkRange;if(t.canAtkMainHero&&n.distance(e.pos,this._mainHero.pos)<=r)return this._mainHero;if(t.canAtkAIHero)for(var o=this._runTimeData.aiHeros,a=0;a<o.length;++a)if((i=o[a]).enable&&n.distance(e.pos,i.pos)<=r)return i;if(t.canAtkMonster)for(var s=this._runTimeData.monsters,l=0;l<s.length;++l)if((i=s[l]).enable&&n.distance(e.pos,i.pos)<=r)return i;return null},t.findHeroByShortDis=function(){for(var e,i=0,t=this._runTimeData.aiHeros.length,r=Number.MAX_SAFE_INTEGER,o=null;i<t;++i){e=this._runTimeData.aiHeros[i];var a=n.distance(this._mainHero.pos,e.pos);if(a<r){if(f.runtime.ui.mapLayer.posIsInScreen2(e.pos))return null;r=a,o=e}}return o},t._isInScene=function(e){var i=f.runtime.ui.mapLayer.REAL_SCENE_RECT,t=200;return!(e.pos.x+e.size.width/2<i.xMin-t||e.pos.x-e.size.width/2>i.xMax+t||e.pos.y+e.size.height/2<i.yMin-t||e.pos.y-e.size.height/2>i.yMax+t)},t._dealHeroCollisionWithHero=function(e,i){i.enable&&a.circleCross(e.pos,e.radius,i.pos,i.radius,d)&&e.contactHero(i,d)},t._dealHeroCollisionWithProp=function(e,i){i.enable&&(e.isIntoGrass()||a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactProp(i))},t._dealHeroCollisionWithTransfer=function(e,i){i.enable&&(e.isIntoGrass()||a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactTransfer(i))},t._dealHeroCollisionWithMonster=function(e,i){if(i.enable&&e.enable&&!e.isIntoGrass()){var t=a.circleCross2(e.pos,e.radius,i.pos,Math.max(i.size.width,i.size.height)-c.CONTACT_WEAPON_DIS,d);t>0&&e.contactMonster(i,t,d)}},t._dealHeroCollisionWithBarrier=function(e,i){if(i.enable){var t=a.circleCross2(e.pos,e.radius-h.CONTACT_HERO_DIS,i.pos,Math.max(i.size.width,i.size.height)-c.CONTACT_WEAPON_DIS,d);t>0&&e.contactBarrier(i,t,d)}},t._dealHeroCollisionWithCutTree=function(e,i){if(i.enable){var t=a.circleCross2(e.pos,e.realRadius-40,i.pos,i.size.width,d);t>0&&e.contactCutTree(i,t,d)}},t._dealMonsterCollisionWithCutTree=function(e,i){e.enable&&i.enable&&a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactCutTree(i)},t._dealMonsterCollisionWithBarrier=function(e,i){e.enable&&i.enable&&a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactBarrier()},t._dealAIHeroCollisionWithCutTree=function(e,i){e.enable&&i.enable&&a.isRectIntersect(e.pos,e.size,i.pos,i.size)&&e.contactCutTree(i)},t._dealHeroCollisionWithBullet=function(e,i){e.enable&&i.enable&&a.rectContainPoint(e.pos,e.size,i.pos)&&i.contactHero(e)},t._dealMonsterCollisionWithBullet=function(e,i){e.enable&&i.enable&&a.rectContainPoint(e.pos,e.size,i.pos)&&i.contactMonster(e)},i(e,[{key:"mainHero",get:function(){return this._mainHero},set:function(e){this._mainHero=e}},{key:"data",get:function(){return this._runTimeData}}]),e}());var d=e("CIRCLE_CORSS",[new o,new o,new o,new o,new o]),g={x:0,y:0},H=[],C=[];t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleConst.ts","./BattleEnum.ts","./BattleState.ts","./DamageTextCmp2.ts","./MoveRole2.ts"],(function(t){var e,o,s,n,a,i,u,r,c;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){s=t.cclegacy,n=t.Vec2},function(t){a=t.MONSTER_CFG},function(t){i=t.EMonsterStatus},function(t){u=t.BattleState},function(t){r=t.DamageTextCmp},function(t){c=t.MoveRole}],execute:function(){s._RF.push({},"870e5bPnQ1E1YRfFmcCWCkD","RoleMonster",void 0);t("RoleMonster",function(t){function s(){var e;return(e=t.call(this)||this)._config=void 0,e._hp=void 0,e._maxHp=void 0,e._time=void 0,e._monsterStatus=i.None,e._time=0,e}e(s,t);var n=s.prototype;return n._updateHpView=function(){this.isRemove()},n.update=function(t){this._checkState(),this._monsterStatus==i.Move?this._updateMove(t):this._monsterStatus==i.Idle?this._updateIdle(t):this._monsterStatus==i.Attack?this._updateAttack(t):this._monsterStatus==i.MoveToIdle?this._updateMoveToIdle(t):this._monsterStatus==i.Patrol&&this._updatePatrol(t)},n._checkState=function(){},n._setMonsterStatus=function(t){this._monsterStatus==i.Move&&this.endMove(),this._monsterStatus=t,this._monsterStatus==i.Idle?this._onIdleStatusStart():this._monsterStatus==i.Move?this._onMoveStatusStart():this._monsterStatus==i.Attack?this._onAttackStatusStart():this._monsterStatus==i.MoveToIdle?this._onMoveToIdleStatusStart():this._monsterStatus==i.Patrol&&this._onPatrolStatusStart()},n._onIdleStatusStart=function(){},n._onMoveStatusStart=function(){},n._onAttackStatusStart=function(){},n._onMoveToIdleStatusStart=function(){},n._onPatrolStatusStart=function(){},n._updateIdle=function(t){},n._updateAttack=function(t){},n._updateMoveToIdle=function(t){},n._updatePatrol=function(t){},n._updateMove=function(e){t.prototype._updateMove.call(this,e)},n.hurt=function(t){this._hp<=0||this.enable&&(r.Show(1,"-"+Math.floor(t).toFixedNumberCNYI(),this.pos.x,this.pos.y),this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0&&(this.death(),this.remove()))},n._validateDir=function(t){return t.set(this._moveDir),!0},n.moveBackByHero=function(t){var e=this.pos.x-t.pos.x,o=this.pos.y-t.pos.y,s=u.ins.control.cardsMgr.attr.monsterHitBackDistance;this.startBackMove(e,o,a.BACK_TM+s,a.BACK_SPEED)},n.contactCutTree=function(t){t.contarctMonster()},o(s,[{key:"atk",get:function(){return this._config.atk}},{key:"drop",get:function(){return this._config.drop_prop}}]),s}(c)),new n;s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonster2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig4.ts","./PDEffectPool.ts","./MonsterCmp.ts","./ZDUtils.ts","./ZDConst.ts","./ZDEnum.ts","./ZDGameState.ts","./MoveRole.ts"],(function(t){var i,e,o,s,n,r,h,a,_,v,u,c,p,m,M;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.math,n=t.Vec2,r=t.Size},function(t){h=t.ZdMonsterConfig},function(t){a=t.PDEffectPool},function(t){_=t.MonsterCmp},function(t){v=t.ZDUtils},function(t){u=t.FRAME_TIME,c=t.MONSTER_CFG},function(t){p=t.ERoleType},function(t){m=t.ZDGameState},function(t){M=t.MoveRole}],execute:function(){o._RF.push({},"87b70Agod9DvI7zCD7SHmI0","RoleMonster",void 0);var f=function(t){return t[t.None=0]="None",t[t.MoveDir=1]="MoveDir",t[t.MoveHero=2]="MoveHero",t[t.MoveHeroMain=3]="MoveHeroMain",t[t.RandomMove=4]="RandomMove",t}(f||{}),d=(t("RoleMonster",function(t){function o(){var i;return(i=t.call(this)||this)._config=void 0,i._hp=void 0,i._maxHp=void 0,i._monsterView=void 0,i._behaviorStatus=void 0,i._moveTarget=void 0,i._roleType=p.Monster,i._size=new r,i._behaviorStatus=f.None,i}i(o,t);var n=o.prototype;return n._onInit=function(t){this._config=h.data[t],this._moveSpeed=this._config.move_speed,this._hp=this._maxHp=this._config.hp},n._initView=function(){this._view=this._monsterView=_.Create(this._config.id),this._monsterView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2},n.moveByDir=function(t,i){this._behaviorStatus=f.MoveDir,this.startMove(t,i)},n.randomMove=function(){this._behaviorStatus=f.RandomMove;var t=s.randomRange(-1,1),i=s.randomRange(-1,1);this.startMove(t,i)},n.moveByHero=function(t){this._moveTarget=t,this._behaviorStatus=f.MoveHero},n.moveByMainHero=function(){this._behaviorStatus=f.MoveHeroMain},n._updateHpView=function(){if(!this.isRemove()){var t=this._hp/this._maxHp;this._monsterView.updateHpPercent(t)}},n._updateMove=function(i){var e;(this._moveTarget||this._behaviorStatus!=f.MoveHeroMain||(this._moveTarget=m.runtime.control.mainHero),this._moveTarget&&this._moveTarget.enable)&&(v.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0));t.prototype._updateMove.call(this,i)},n.hurt=function(t){this._hp<=0||this.enable&&(this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),m.runtime.control.onMonsterDie(this),m.runtime.audioMgr.play(5,5),a.ShowDieEffect(this.pos.x,this.pos.y)):this._monsterView.showHitEffect())},n._validateDir=function(){var t=this._position.x+u*this._moveDir.x*this._moveSpeed,i=this._position.y+u*this._moveDir.y*this._moveSpeed,e=m.runtime.ui.mapRect;if(t>=e.xMax||t<=e.xMin||i>=e.yMax||i<=e.yMin)return!0;var o=m.runtime.control.findObstructRole(this,t,i),s=!!o;if(s&&o.roleType==p.Barrier&&(s=o.canBreakMove),s)if(o.roleType==p.Tower){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}else if(v.getPositionVector(this.pos,o.pos,d),this._moveDir.x*d.x>0||this._moveDir.y*d.y>0)return this._behaviorStatus==f.RandomMove&&this.randomMove(),!1;return!0},n._updatePos=function(t,i,e){if(0!=i.x||0!=i.y){var o=this._position.x+t*i.x*e,s=this._position.y+t*i.y*e;this.setPos2f(o,s);var n=m.runtime.ui.mapRect;(this._position.x<n.xMin-this._size.width||this._position.x>n.xMax+this._size.width||this._position.y>n.yMax+this._size.height||this._position.y<n.yMin-this._size.height)&&this._moveOutMap()}},n._moveOutMap=function(){this.remove()},n.moveBackByHero=function(t){if(4!=m.runtime.gameMode){var i=this.pos.x-t.pos.x,e=this.pos.y-t.pos.y;this.startBackMove(i,e,c.BACK_TM,c.BACK_SPEED)}},n.contactCutTree=function(t){t.contarctMonster(this)},e(o,[{key:"atk",get:function(){return this._config.atk}},{key:"drop",get:function(){return this._config.drop_prop}}]),o}(M)),new n);o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonster3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig.ts","./PDEffectPool3.ts","./MonsterCmp3.ts","./ZDUtils3.ts","./ZDConst3.ts","./ZDEnum3.ts","./ZDGameState3.ts","./MoveRole3.ts"],(function(t){var i,e,o,s,n,r,h,a,_,u,v,c,p,m,f,M;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.math,n=t.Vec2,r=t.Size},function(t){h=t.ZdMonsterConfig},function(t){a=t.PDEffectPool3},function(t){_=t.MonsterCmp3},function(t){u=t.ZDUtils3},function(t){v=t.FRAME_TIME,c=t.ROLE_MONSTER_BARRIER_COUNT,p=t.MONSTER_CFG},function(t){m=t.ERoleType},function(t){f=t.ZDGameState3},function(t){M=t.MoveRole3}],execute:function(){o._RF.push({},"58378IsNcJEu5jNsvzuqd/C","RoleMonster3",void 0);var d=function(t){return t[t.None=0]="None",t[t.MoveDir=1]="MoveDir",t[t.MoveHero=2]="MoveHero",t[t.MoveHeroMain=3]="MoveHeroMain",t[t.RandomMove=4]="RandomMove",t}(d||{});t("RoleMonster3",function(t){function o(){var i;return(i=t.call(this)||this)._config=void 0,i._hp=void 0,i._maxHp=void 0,i._monsterView=void 0,i._behaviorStatus=void 0,i._moveTarget=void 0,i._hitBarrierCount=0,i._roleType=m.Monster,i._size=new r,i._behaviorStatus=d.None,i}i(o,t);var n=o.prototype;return n._onInit=function(t){this._config=h.data[t],this._moveSpeed=this._config.move_speed,this._hp=this._maxHp=this._config.hp,this._hitBarrierCount=0},n._initView=function(){this._view=this._monsterView=_.Create(this._config.id),this._monsterView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2},n.moveByDir=function(t,i){this._behaviorStatus=d.MoveDir,this.startMove(t,i)},n.randomMove=function(){this._behaviorStatus=d.RandomMove;var t=s.randomRange(-1,1),i=s.randomRange(-1,1);this.startMove(t,i)},n.moveByHero=function(t){this._moveTarget=t,this._behaviorStatus=d.MoveHero},n.moveByMainHero=function(){this._behaviorStatus=d.MoveHeroMain},n._updateHpView=function(){if(!this.isRemove()){var t=this._hp/this._maxHp;this._monsterView.updateHpPercent(t)}},n._updateMove=function(i){var e;(this._moveTarget||this._behaviorStatus!=d.MoveHeroMain||(this._moveTarget=f.runtime.control.mainHero),this._moveTarget&&this._moveTarget.enable)&&(u.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0));t.prototype._updateMove.call(this,i)},n.hurt=function(t){this._hp<=0||this.enable&&(this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),f.runtime.control.onMonsterDie(this),f.runtime.audioMgr.play(5,5),a.ShowDieEffect(this.pos.x,this.pos.y)):this._monsterView.showHitEffect())},n._validateDir=function(){var t=this._position.x+v*this._moveDir.x*this._moveSpeed,i=this._position.y+v*this._moveDir.y*this._moveSpeed,e=f.runtime.ui.mapRect;if(t>=e.xMax||t<=e.xMin||i>=e.yMax||i<=e.yMin)return!0;var o=f.runtime.control.findObstructRole(this,t,i),s=!!o;if(s&&o.roleType==m.Barrier&&(s=o.canBreakMove),s){if(this._hitBarrierCount++,this._hitBarrierCount<=c){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}}else this._hitBarrierCount=Math.max(0,this._hitBarrierCount-1);return!0},n._updatePos=function(t,i,e){if(0!=i.x||0!=i.y){var o=this._position.x+t*i.x*e,s=this._position.y+t*i.y*e;this.setPos2f(o,s);var n=f.runtime.ui.mapRect;(this._position.x<n.xMin-this._size.width||this._position.x>n.xMax+this._size.width||this._position.y>n.yMax+this._size.height||this._position.y<n.yMin-this._size.height)&&this._moveOutMap()}},n._moveOutMap=function(){this.remove()},n.moveBackByHero=function(t){if(4!=f.runtime.gameMode){var i=this.pos.x-t.pos.x,e=this.pos.y-t.pos.y;this.startBackMove(i,e,p.BACK_TM,p.BACK_SPEED)}},n.contactCutTree=function(t){t.contarctMonster(this)},e(o,[{key:"atk",get:function(){return this._config.atk}},{key:"drop",get:function(){return this._config.drop_prop}},{key:"dropWeapon",get:function(){return!!this._config.drop_weapon}}]),o}(M)),new n;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonster4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWave2.ts","./ZWTTools.ts","./ZdMonsterConfig3.ts","./DamageTextCmp.ts","./PDEffectPool4.ts","./MonsterCmp4.ts","./ZDUtils4.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./MoveRole4.ts"],(function(t){var i,e,o,s,n,r,h,a,v,m,u,_,c,p,f,l,d,y,M,g,T,D;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.Animation,n=t.tween,r=t.Label,h=t.math,a=t.Vec2,v=t.Size},function(t){m=t.ZdWave},function(t){u=t.ZWTTools},function(t){_=t.ZdMonsterConfig},function(t){c=t.DamageTextCmp},function(t){p=t.PDEffectPool},function(t){f=t.MonsterCmp4},function(t){l=t.ZDUtils4},function(t){d=t.getZD4UniqueId,y=t.FRAME_TIME,M=t.MONSTER_CFG},function(t){g=t.ERoleType},function(t){T=t.ZDGameState4},function(t){D=t.MoveRole4}],execute:function(){o._RF.push({},"1602fKDaktN5aJJRNcX0Z5V","RoleMonster4",void 0);var x=t("EBehaviorStatus",function(t){return t[t.None=0]="None",t[t.MoveDir=1]="MoveDir",t[t.MoveHero=2]="MoveHero",t[t.MoveHeroMain=3]="MoveHeroMain",t[t.RandomMove=4]="RandomMove",t}({})),w=t("MonsterType",{Enemy:1,Tm:2}),S=t("TmType",{Shooter:1,Hamal:2,Miner:3}),C=(t("RoleMonster",function(t){function o(){var i;return(i=t.call(this)||this)._config=void 0,i._hp=void 0,i._maxHp=void 0,i._monsterView=void 0,i._behaviorStatus=void 0,i._moveTarget=void 0,i.anim=void 0,i.curInvTime=0,i.invTween=void 0,i.invTweenPlaying=!1,i.curBulletNum=0,i.numLabel=void 0,i.campType=w.Enemy,i.tmType=S.Hamal,i.tempDir=new a,i._roleType=g.Monster,i._size=new v,i._behaviorStatus=x.None,i}i(o,t);var D=o.prototype;return D._onInit=function(t){this._config=_.data[t],this.campType=this._config.tmType?w.Tm:w.Enemy,this.tmType=this._config.tmType,this._moveSpeed=this._config.move_speed;var i=m.data[(this.curCtrl.curWaveConfig?this.curCtrl.curWaveConfig.id:0)+1];i||(i=this.curCtrl.curWaveConfig),this._hp=this._maxHp=this._config.hp*(i.level-1),this._maxHp<=0&&(this._hp=this._maxHp=1),this.uniqueId=d()},D._initView=function(){this._view=this._monsterView=f.Create(this._config.id),this._monsterView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2,this.anim=this._view.node.getComponentInChildren(s),this.invTween=n(this.anim.node).sequence(n(this.anim.node).to(.1,{opacity:0}).to(.1,{opacity:255}).tag(88888)).repeatForever().tag(88888),this.curInvTime=this._config.invTime;var t=u.findChildByName(this._view.node,"numLabel");t&&(this.numLabel=t.getComponent(r))},D.moveByDir=function(t,i){this._behaviorStatus=x.MoveDir,this.startMove(t,i)},D.randomMove=function(){this._behaviorStatus=x.RandomMove;var t=h.randomRange(-1,1),i=h.randomRange(-1,1);this.startMove(t,i)},D.moveByHero=function(t){this._moveTarget=t,this._behaviorStatus=x.MoveHero},D.moveByMainHero=function(){this._behaviorStatus=x.MoveHeroMain},D._updateHpView=function(){if(!this.isRemove()){var t=this._hp/this._maxHp;this._monsterView.updateHpPercent(t)}},D._updateMove=function(i){var e;(this._moveTarget||this._behaviorStatus!=x.MoveHeroMain||(this._moveTarget=T.runtime.control.mainHero),this._moveTarget&&this._moveTarget.enable)&&(l.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0));t.prototype._updateMove.call(this,i),this.curInvTime>0?(this.curInvTime-=i,this.invTweenPlaying||(this.invTween.start(),this.invTweenPlaying=!0)):this.invTweenPlaying&&(this.invTween.stop(),this.anim.node.opacity=255,this.invTweenPlaying=!1),this.numLabel&&(this.numLabel.string=this.curBulletNum.toFixed(0))},D.hurt=function(t){this.curInvTime>0||this._hp<=0||this.enable&&(this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),T.runtime.control.onMonsterDie(this),T.runtime.audioMgr.play(5,5),p.ShowDieEffect(this.pos.x,this.pos.y)):this._monsterView.showHitEffect(),c.Show(1,(-t).toString(),this.pos.x,this.pos.y))},D._validateDir=function(){var t=this._position.x+y*this._moveDir.x*this._moveSpeed,i=this._position.y+y*this._moveDir.y*this._moveSpeed,e=T.runtime.ui.mapRect;if(t>=e.xMax||t<=e.xMin||i>=e.yMax||i<=e.yMin)return!0;var o=T.runtime.control.findObstructRole(this,t,i),s=!!o;if(s&&o.roleType==g.Barrier&&(s=o.canBreakMove),s)if(o.roleType==g.Tower){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}else{l.getPositionVector(this.pos,o.pos,C);var r=this._moveDir.x*C.x>0,h=this._moveDir.y*C.y>0,a=y,v=this._moveSpeed,m=this._position.x+this._moveDir.x*v*a,u=this._position.y+this._moveDir.y*v*a;this.tempDir.set(this._moveDir),r&&T.runtime.control.findObstructRole(this,m,this._position.y)&&(this._moveDir.x=0,m=this._position.x),h&&T.runtime.control.findObstructRole(this,m,u)&&(this._moveDir.y=0,u=this._position.y),0!==this._moveDir.x||0!==this._moveDir.y||(this._behaviorStatus==x.RandomMove&&this.randomMove(),this._moveDir.set(-this.tempDir.x,-this.tempDir.y))}return!0},D._updatePos=function(t,i,e){if(0!=i.x||0!=i.y){var o=this._position.x+t*i.x*e,s=this._position.y+t*i.y*e;this.setPos2f(o,s);var n=T.runtime.ui.mapRect;(this._position.x<n.xMin-this._size.width||this._position.x>n.xMax+this._size.width||this._position.y>n.yMax+this._size.height||this._position.y<n.yMin-this._size.height)&&this._moveOutMap()}},D._moveOutMap=function(){this.remove()},D.moveBackByHero=function(t){if(4!=T.runtime.gameMode){var i=this.pos.x-t.pos.x,e=this.pos.y-t.pos.y;this.startBackMove(i,e,M.BACK_TM,M.BACK_SPEED)}},D.contactCutTree=function(t){t.contarctMonster(this)},D.contactMonster=function(t){t.hurt(this.atk)},e(o,[{key:"atk",get:function(){return this._config.atk}},{key:"drop",get:function(){return this._config.drop_prop}}]),o}(D)),new a);o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonster5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWTTools.ts","./ZdMonsterConfig2.ts","./DamageTextCmp5.ts","./PDEffectPool5.ts","./MonsterCmp5.ts","./ZDUtils5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./MoveRole5.ts"],(function(t){var i,e,o,s,n,h,r,a,m,v,_,p,u,c,f,l,y,d,g,T,M,x;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.Animation,n=t.tween,h=t.Label,r=t.math,a=t.Vec2,m=t.Size},function(t){v=t.ZWTTools},function(t){_=t.ZdMonsterConfig},function(t){p=t.DamageTextCmp5},function(t){u=t.PDEffectPool},function(t){c=t.MonsterCmp5},function(t){f=t.ZDUtils4},function(t){l=t.getZD5UniqueId,y=t.FRAME_TIME,d=t.ZD5BuffType,g=t.MONSTER_CFG},function(t){T=t.ERoleType},function(t){M=t.ZDGameState5},function(t){x=t.MoveRole}],execute:function(){o._RF.push({},"cb17bAL+llMoaQd4WQ5L2hw","RoleMonster5",void 0);var D=t("EBehaviorStatus",function(t){return t[t.None=0]="None",t[t.MoveDir=1]="MoveDir",t[t.MoveHero=2]="MoveHero",t[t.MoveHeroMain=3]="MoveHeroMain",t[t.RandomMove=4]="RandomMove",t}({})),w=t("CampType",{Enemy:1,Tm:2}),H=t("TmType",{Shooter:1,Hamal:2,Miner:3,Fruits:4}),S=(t("RoleMonster",function(t){function o(){var i;return(i=t.call(this)||this)._config=void 0,i._hp=void 0,i._maxHp=void 0,i._monsterView=void 0,i._behaviorStatus=void 0,i._moveTarget=void 0,i.anim=void 0,i.curInvTime=0,i.invTween=void 0,i.invTweenPlaying=!1,i.curBulletNum=0,i.numLabel=void 0,i.campType=w.Enemy,i.tmType=H.Hamal,i.flipTime=0,i.tempDir=new a,i._roleType=T.Monster,i._size=new m,i._behaviorStatus=D.None,i}i(o,t);var x=o.prototype;return x._onInit=function(t){this._config=_.data[t],this.campType=this._config.tmType?w.Tm:w.Enemy,this.tmType=this._config.tmType,this._moveSpeed=this._config.move_speed,this.campType==w.Enemy?this._hp=this._maxHp=this._config.hp*this.curCtrl.CurWaveConfig.level:this.tmType==H.Fruits?this._hp=this._maxHp=this.curCtrl.CurWaveConfig.fruitsHp:this._hp=this._maxHp=this._config.hp,this._maxHp<=0&&(this._hp=this._maxHp=1),this.uniqueId=l()},x._initView=function(){this._view=this._monsterView=c.Create(this._config.id),this._monsterView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2,this.anim=this._view.node.getComponentInChildren(s),this.invTween=n(this.anim.node).sequence(n(this.anim.node).to(.1,{opacity:0}).to(.1,{opacity:255}).tag(88888)).repeatForever().tag(88888),this.curInvTime=this._config.invTime;var t=v.findChildByName(this._view.node,"numLabel");t&&(this.numLabel=t.getComponent(h))},x.moveByDir=function(t,i){this._behaviorStatus=D.MoveDir,this.startMove(t,i)},x.randomMove=function(){this._behaviorStatus=D.RandomMove;var t=r.randomRange(-1,1),i=r.randomRange(-1,1);this.startMove(t,i)},x.moveByHero=function(t){this._moveTarget=t,this._behaviorStatus=D.MoveHero},x.moveByMainHero=function(){this._behaviorStatus=D.MoveHeroMain},x._updateHpView=function(){if(!this.isRemove()){var t=this._hp/this._maxHp;this._monsterView.updateHpPercent(t)}},x._updateMove=function(i){var e;(this._moveTarget||this._behaviorStatus!=D.MoveHeroMain||(this._moveTarget=M.runtime.control.mainHero),this._moveTarget&&this._moveTarget.enable)&&(this.pos.x>=this._moveTarget.pos.x-this._moveTarget.size.width/2&&this.pos.x<=this._moveTarget.pos.x+this._moveTarget.size.width/2?this._moveDir.set(0,this._moveTarget.pos.y>this.pos.y?1:-1):this.pos.y>=this._moveTarget.pos.y-this._moveTarget.size.height/2&&this.pos.y<=this._moveTarget.pos.y+this._moveTarget.size.height/2?this._moveDir.set(this._moveTarget.pos.x>this.pos.x?1:-1,0):f.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),Date.now()-this.flipTime>500&&(this.flipTime=Date.now(),null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0)));t.prototype._updateMove.call(this,i),this.curInvTime>0?(this.curInvTime-=i,this.invTweenPlaying||(this.invTween.start(),this.invTweenPlaying=!0)):this.invTweenPlaying&&(this.invTween.stop(),this.anim.node.opacity=255,this.invTweenPlaying=!1),this.numLabel&&(this.numLabel.string=this.curBulletNum.toFixed(0))},x.hurt=function(t,i,e){var o=this;this.curInvTime>0||this._hp<=0||this.enable&&(this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.remove(),M.runtime.control.onMonsterDie(this),M.runtime.audioMgr.play(5,5),u.ShowDieEffect(this.pos.x,this.pos.y)):(this._monsterView.showHitEffect(),null==i||i.forEach((function(t){return t&&o.addBuff(t)}))),p.Show(1,(-t).toString(),this.pos.x,this.pos.y))},x._validateDir=function(){var t=this._position.x+y*this._moveDir.x*this._moveSpeed,i=this._position.y+y*this._moveDir.y*this._moveSpeed,e=M.runtime.ui.mapRect;if(t>=e.xMax||t<=e.xMin||i>=e.yMax||i<=e.yMin)return!0;var o=M.runtime.control.findObstructRole(this,t,i),s=!!o;if(s&&o.roleType==T.Barrier&&(s=o.canBreakMove),s)if(o.roleType==T.Tower){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}else{f.getPositionVector(this.pos,o.pos,S);var h=this._moveDir.x*S.x>0,r=this._moveDir.y*S.y>0,a=y,m=this._moveSpeed,v=this._position.x+this._moveDir.x*m*a,_=this._position.y+this._moveDir.y*m*a;this.tempDir.set(this._moveDir),h&&M.runtime.control.findObstructRole(this,v,this._position.y)&&(this._moveDir.x=0,v=this._position.x),r&&M.runtime.control.findObstructRole(this,v,_)&&(this._moveDir.y=0,_=this._position.y),0!==this._moveDir.x||0!==this._moveDir.y||(this._behaviorStatus==D.RandomMove&&this.randomMove(),this._moveDir.set(-this.tempDir.x,-this.tempDir.y))}return!0},x._updatePos=function(t,i,e){if(0!=i.x||0!=i.y){var o=this._position.x+t*i.x*e*(1-this.getBuffValue(d.Slow))*(.4*Math.random()+.8),s=this._position.y+t*i.y*e*(1-this.getBuffValue(d.Slow))*(.4*Math.random()+.8);this.setPos2f(o,s);var n=M.runtime.ui.mapRect;(this._position.x<n.xMin-this._size.width||this._position.x>n.xMax+this._size.width||this._position.y>n.yMax+this._size.height||this._position.y<n.yMin-this._size.height)&&this._moveOutMap()}},x._moveOutMap=function(){this.remove()},x.moveBackByHero=function(t){if(4!=M.runtime.gameMode){var i=this.pos.x-t.pos.x,e=this.pos.y-t.pos.y;this.startBackMove(i,e,g.BACK_TM,g.BACK_SPEED)}},x.contactCutTree=function(t){t.contarctMonster(this)},x.contactMonster=function(t){t.hurt(this.atk)},e(o,[{key:"atk",get:function(){return this._config.atk}},{key:"drop",get:function(){return this._config.drop_prop}}]),o}(x)),new a);o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonster6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig5.ts","./PDEffectPool6.ts","./MonsterCmp6.ts","./ZDUtils6.ts","./ZDConst6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./MoveRole6.ts"],(function(t){var i,e,o,s,n,r,h,a,v,_,u,c,p,m,M,f;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.math,n=t.Animation,r=t.Vec2,h=t.Size},function(t){a=t.ZdMonsterConfig},function(t){v=t.PDEffectPool},function(t){_=t.MonsterCmp6},function(t){u=t.ZDUtils},function(t){c=t.FRAME_TIME,p=t.MONSTER_CFG},function(t){m=t.ERoleType},function(t){M=t.ZDGameState6},function(t){f=t.MoveRole}],execute:function(){o._RF.push({},"cb4ebhylDtGWJCmzfGkDgFL","RoleMonster6",void 0);var d=function(t){return t[t.None=0]="None",t[t.MoveDir=1]="MoveDir",t[t.MoveHero=2]="MoveHero",t[t.MoveHeroMain=3]="MoveHeroMain",t[t.RandomMove=4]="RandomMove",t[t.MoveDown=5]="MoveDown",t}(d||{}),D=(t("RoleMonster",function(t){function o(){var i;return(i=t.call(this)||this)._config=void 0,i._hp=void 0,i._maxHp=void 0,i._monsterView=void 0,i._behaviorStatus=void 0,i._moveTarget=void 0,i.hitBarriarDie=!1,i._roleType=m.Monster,i._size=new h,i._behaviorStatus=d.None,i}i(o,t);var r=o.prototype;return r._onInit=function(t,i){this._config=a.data[t],this._moveSpeed=this._config.move_speed,this._hp=this._maxHp=this._config.hp,i&&i[0]&&3==i[0][0]&&(this._behaviorStatus=d.MoveDown)},r._initView=function(){this._view=this._monsterView=_.Create(this._config.id),this._monsterView.getSize(this._size),this._radius=Math.max(this._size.height,this._size.width)/2,this._updateHpView()},r.moveByDir=function(t,i){if(this._behaviorStatus==d.MoveDown)return this.moveDown();this._behaviorStatus=d.MoveDir,this.startMove(t,i)},r.randomMove=function(){this._behaviorStatus=d.RandomMove;var t=s.randomRange(-1,1),i=s.randomRange(-1,1);this.startMove(t,i)},r.moveDown=function(){this._behaviorStatus=d.MoveDown;this.startMove(0,-1,!1)},r.moveByHero=function(t){this._moveTarget=t,this._behaviorStatus=d.MoveHero,this.startMove(0,0)},r.moveByMainHero=function(){this._behaviorStatus=d.MoveHeroMain,this.startMove(0,0)},r._updateHpView=function(){if(!this.isRemove()){var t=this._hp/this._maxHp;this._monsterView.updateHpPercent(t,this._hp)}},r._updateMove=function(i){var e;(this._moveTarget||this._behaviorStatus!=d.MoveHeroMain||(this._moveTarget=M.runtime.control.mainHero),this._moveTarget&&this._moveTarget.enable)&&(u.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),null==(e=this._view)||e.setModelFlipX(this._moveDir.x>0));t.prototype._updateMove.call(this,i)},r.hurt=function(t){this._hp<=0||this.enable&&(this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.onDead(),M.runtime.control.onMonsterDie(this),M.runtime.audioMgr.play(5,5),v.ShowDieEffect(this.pos.x,this.pos.y)):this._monsterView.showHitEffect())},r._validateDir=function(){var t=this._position.x+c*this._moveDir.x*this._moveSpeed,i=this._position.y+c*this._moveDir.y*this._moveSpeed,e=M.runtime.ui.mapRect;if(t>=e.xMax||t<=e.xMin||i>=e.yMax||i<=e.yMin)return!0;var o=M.runtime.control.findObstructRole(this,t,i),s=!!o;if(s&&o.roleType==m.Barrier&&(s=o.canBreakMove,this.hitBarriarDie&&this.onDead()),s)if(o.roleType==m.Tower){var n=this._moveDir.x;this._moveDir.x=-this._moveDir.y,this._moveDir.y=n,this._updateFace()}else if(u.getPositionVector(this.pos,o.pos,D),this._moveDir.x*D.x>0||this._moveDir.y*D.y>0)return this._behaviorStatus==d.RandomMove&&this.randomMove(),!1;return!0},r._updatePos=function(t,i,e){if(0!=i.x||0!=i.y){var o=this._position.x+t*i.x*e,s=this._position.y+t*i.y*e;this.setPos2f(o,s);var n=M.runtime.ui.mapRect;(this._position.x<n.xMin-this._size.width||this._position.x>n.xMax+this._size.width||this._position.y>n.yMax+this._size.height||this._position.y<n.yMin-this._size.height)&&this._moveOutMap()}},r._moveOutMap=function(){this.remove()},r.moveBackByHero=function(t){if(4!=M.runtime.gameMode){var i=this.pos.x-t.pos.x,e=this.pos.y-t.pos.y;this._behaviorStatus==d.MoveDown&&(i=0,e*=.02),this.startBackMove(i,e,p.BACK_TM,p.BACK_SPEED)}},r.contactCutTree=function(t){t.contarctMonster(this)},r.contactBarrier=function(){this.hitBarriarDie&&this.onDead()},r.onDead=function(){var t=this;if(this.enable){this._enable=!1;var i=this.view.getComponentInChildren(n);i&&i.getState("die")?(i.on(n.EventType.FINISHED,(function(){t.remove()})),i.play("die")):this.remove()}},e(o,[{key:"atk",get:function(){return this._config.atk}},{key:"drop",get:function(){return this._config.drop_prop}},{key:"dropRate",get:function(){return this._config.drop_rate}}]),o}(f)),new r);o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleConst.ts","./BattleState.ts","./RoleBaseCmp.ts"],(function(t){var e,i,n,o,a,s,r,l,c,h,_,f;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,a=t.Animation,s=t.Size},function(t){r=t.ViewUtil},function(t){l=t.MAIN_BUNDLE,c=t.MAIN_PREFABS},function(t){h=t.ROLE_ANI_NAME},function(t){_=t.BattleState},function(t){f=t.RoleBaseCmp}],execute:function(){var u;n._RF.push({},"f7adeXhrRRKCLIy5HjoLk6m","RoleMonsterCmp",void 0);var m=o.ccclass;o.property,t("RoleMonsterCmp",m("RoleMonsterCmp")(u=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._modelNode=void 0,e._effectTime=0,e._animation=void 0,e._size=void 0,e._aniName=void 0,e}e(n,t),n.Create=function(t){var e=r.createPrefabNode(c.MonsterView,l);e.parent=_.ins.control.runTimeData.levelControl.view.roleRoot;var i=e.getComponent(n);return i._init(t),i};var o=n.prototype;return o._init=function(t){var e;this._modelNode=r.createPrefabNode(t,l),this._modelNode.parent=this._viewRoot,this._animation=this._modelNode.getComponentInChildren(a),null==(e=this._animation)||e.on(a.EventType.FINISHED,this._onAniPlayFinished,this),this._setShadowNode(this._modelNode)},o.update=function(t){this._effectTime>0&&(this._effectTime-=t,this._effectTime<=0&&this.hideHitEffect())},o.showHitEffect=function(){},o.hideHitEffect=function(){},o._onAniPlayFinished=function(t,e){e.name==h.ATTACK&&this.playIdle()},o.playIdle=function(){var t;this._aniName!=h.IDLE&&(this._aniName=h.IDLE,null==(t=this._animation)||t.play(this._aniName))},o.playMove=function(){var t;this._aniName!=h.MOVE&&(this._aniName=h.MOVE,null==(t=this._animation)||t.play(this._aniName))},o.playAttack=function(){var t;this._aniName=h.ATTACK,null==(t=this._animation)||t.play(this._aniName)},i(n,[{key:"size",get:function(){if(!this._size){this._size=new s;var t=this.node.uiTransform.contentSize,e=t.width*this.node.scale.x,i=t.height*this.node.scale.y;this._size.set(e,i)}return this._size}}]),n}(f))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MonsterConfig.ts","./YT.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./DropExpCmp.ts","./DropGoldCmp.ts","./EffectPool.ts","./DamageTextCmp2.ts","./RoleMonsterEnemyCmp.ts","./RoleMonster.ts"],(function(t){var e,i,s,o,n,r,a,h,c,_,u,l,d,p,f,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,o=t.Vec3},function(t){n=t.MonsterConfig},function(t){r=t.YT},function(t){a=t.ERoleType,h=t.EMonsterStatus},function(t){c=t.BattleState},function(t){_=t.BattleUtils},function(t){u=t.DropExpCmp},function(t){l=t.DropGoldCmp},function(t){d=t.EffectPool},function(t){p=t.DamageTextCmp},function(t){f=t.RoleMonsterEnemyCmp},function(t){v=t.RoleMonster}],execute:function(){s._RF.push({},"47ac9vN0OZKH7LStcPvUqEH","RoleMonsterEnemy",void 0);var g=function(t){return t[t.None=0]="None",t[t.MovePlayer=1]="MovePlayer",t[t.MoveCamp=2]="MoveCamp",t[t.MoveDisRole=3]="MoveDisRole",t[t.MoveDir=4]="MoveDir",t[t.MoveHero=5]="MoveHero",t[t.RandomMove=6]="RandomMove",t}(g||{});t("RoleMonsterEnemy",function(t){function s(){var e;return(e=t.call(this)||this)._behaviorStatus=void 0,e._target=void 0,e._dropGold=void 0,e._atkAdder=void 0,e._hpAdder=void 0,e._atkRadius=void 0,e._monsterView=void 0,e._roleType=a.EnemyMonster,e._behaviorStatus=g.None,e}e(s,t);var v=s.prototype;return v._onInit=function(t){this._config=n.data[t],this._moveSpeed=this._config.move_speed,this._time=0},v._initView=function(){this._view=this._monsterView=f.Create(this._config.res),this._radius=Math.max(this._view.size.height,this._view.size.width)/2,this._atkRadius=this._config.distance},v.setAttrAdder=function(t,e,i){this._atkAdder=t,this._hpAdder=e,this._dropGold=i,this._hp=this._maxHp=this._hpAdder*this._config.hp},v.hurt=function(t,e){var i=this;if(!(this._hp<=0)&&this.enable){r.audio.play(9,5);var s=0;if(this._config.boss>0&&e&&e.roleType==a.Player&&(s=c.ins.control.remainMgr.attr.bossDamageAdd),this._hp/this._maxHp<.3&&(s+=c.ins.control.remainMgr.attr.damageAddByEnemyHp),t+=t*s,p.Show(1,"-"+Math.floor(t).toFixedNumberCNYI(),this.pos.x,this.pos.y),this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0){if(this.death(),this.remove(),l.Create().show(this.pos.x+20,this.pos.y,(function(){c.ins.control.data.addGold(i._dropGold)})),this._config.exp>0)u.Create().show(this.pos.x+20,this.pos.y,(function(){c.ins.control.addExp(i._config.exp)}));d.ShowDieEffect(this.pos.x,this.pos.y)}else this._monsterView.showHitEffect(),e&&e.roleType==a.PlayerMonster&&(this._target=e)}},v._checkState=function(){this._monsterStatus==h.Move?this._canAttack()?this._setMonsterStatus(h.Attack):this._canIdle()?this._setMonsterStatus(h.Idle):this._canMove()||this._setMonsterStatus(h.None):this._monsterStatus==h.Attack?this._time>this._atkSpeed&&(this._canAttack()?this._setMonsterStatus(h.Attack):this._setMonsterStatus(h.None)):this._monsterStatus==h.Idle||this._monsterStatus==h.None&&(this._target&&this._target.enable||(this._target=this._findTarget()),this._canAttack()?this._setMonsterStatus(h.Attack):this._setMonsterStatus(h.Move))},v._findTarget=function(){if(this._config.behavior==g.MovePlayer)return c.ins.control.roleMgr.player;if(this._config.behavior==g.MoveCamp)return c.ins.control.roleMgr.campBuilding;if(this._config.behavior==g.MoveDisRole){var t,e=c.ins.control.roleMgr.playerMonsters,i=0,s=e.length,n=o.distance(c.ins.control.roleMgr.player.pos,this.pos),r=c.ins.control.roleMgr.player;if(n<r.radius+this.radius+30)return r;for(;i<s;++i){t=e[i];var a=o.distance(t.pos,this.pos);if(a<t.radius+this._atkRadius)return t;a<n&&(n=a,r=t)}return r}return null},v._canAttack=function(){return!!(this._target&&this._target.enable&&this._target.roleIsInRect(this,this.radius))},v._canMove=function(){return this._target&&this._target.enable},v._canIdle=function(){return!1},v._onIdleStatusStart=function(){this._monsterView.playIdle()},v._onMoveStatusStart=function(){this._monsterView.playMove()},v._onAttackStatusStart=function(){this._monsterView.playAttack(this._onAttackEndCallBack.bind(this)),this._time=0;var t=Math.max(0,this.atk-this._target.def);t>0&&this._target.hurt(t)},v._onAttackEndCallBack=function(){this._monsterView.playMove()},v._onCutTreeStatusStart=function(){this._monsterView.playCutTree()},v._updateIdle=function(t){},v._updateAttack=function(t){this._time+=t},v._updateCutTree=function(t){},v._updateMove=function(e){this._target&&this._target.enable?(_.getPositionVector(this.pos,this._target.pos,this._moveDir),this._updateFace()):this.endMove(),t.prototype._updateMove.call(this,e)},v._onDeath=function(){t.prototype._onDeath.call(this),c.ins.control.data.addKillEnemy(this._config.boss>0)},v._validateDir=function(t){t.set(this._moveDir);var e=c.ins.control.roleMgr.roadBlockBuilding;if(e&&e.enable){if(_.cricleContainPoint(e.pos,e.radius,this.pos))return!0;if(_.getDistance(this.pos,e.pos)<e.radius+this.radius+30)return this._target=e,this._setMonsterStatus(h.Attack),!1}return!0},v.roleIsInRect=function(t,e){return o.distance(t.pos,this.pos)<this.radius+e},i(s,[{key:"_atkSpeed",get:function(){return this._config.atkSpeed}},{key:"atk",get:function(){return this._config.atk*this._atkAdder}},{key:"isDeath",get:function(){return this._hp<=0}}]),s}(v));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterEnemyCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleConst.ts","./BattleState.ts","./RoleBaseCmp.ts"],(function(t){var e,i,n,o,a,s,r,l,c,h,_,m,f,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,a=t.Animation,s=t.Sprite,r=t.Color,l=t.Size},function(t){c=t.ViewUtil},function(t){h=t.MAIN_BUNDLE,_=t.MAIN_PREFABS},function(t){m=t.MONSTER_CFG},function(t){f=t.BattleState},function(t){d=t.RoleBaseCmp}],execute:function(){var u;n._RF.push({},"84e83yZh2xAkZqSmmBQoe7d","RoleMonsterEnemyCmp",void 0);var p=o.ccclass,v=(o.property,t("RoleMonsterEnemyCmp",p("RoleMonsterEnemyCmp")(u=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._modelNode=void 0,e._effectTime=0,e._animation=void 0,e._atkCallback=void 0,e._modelSprites=void 0,e._size=void 0,e._aniName=void 0,e}e(n,t),n.Create=function(t){var e=c.createPrefabNode(_.MonsterEnemy,h);e.parent=f.ins.control.runTimeData.levelControl.view.roleRoot;var i=e.getComponent(n);return i._init(t),i};var o=n.prototype;return o._init=function(t){this._modelNode=c.createPrefabNode(t,h),this._modelNode.parent=this._viewRoot,this._animation=this._modelNode.getComponentInChildren(a),this._animation.on(a.EventType.FINISHED,this._onAniPlayerFinished,this),this._modelSprites=this._modelNode.getComponentsInChildren(s),this._setShadowNode(this._modelNode)},o.update=function(t){this._effectTime>0&&(this._effectTime-=t,this._effectTime<=0&&this.hideHitEffect())},o.showHitEffect=function(){this._effectTime=m.HIT_RED_TM;for(var t=0;t<this._modelSprites.length;++t)this._modelSprites[t].color=r.RED},o.hideHitEffect=function(){for(var t=0;t<this._modelSprites.length;++t)this._modelSprites[t].color=r.WHITE},o._onAniPlayerFinished=function(t,e){var i;e.name==v.ATTACK&&(null==(i=this._atkCallback)||i.call(this))},o.playIdle=function(){},o.playMove=function(){var t;this._aniName!=v.MOVE&&(this._aniName=v.MOVE,null==(t=this._animation)||t.play(v.MOVE))},o.playAttack=function(t){var e;this._atkCallback=t,this._aniName=v.ATTACK,null==(e=this._animation)||e.play(v.ATTACK)},o.playCutTree=function(){},i(n,[{key:"size",get:function(){if(!this._size){this._size=new l;var t=this._modelNode.uiTransform.contentSize;this._size.set(t)}return this._size}}]),n}(d))||u),{MOVE:"move",ATTACK:"attack"});n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterLogger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./BattleConst.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./DropGemCmp.ts","./DropWoodCmp.ts","./RoleMonsterPlayer.ts"],(function(t){var e,s,o,i,n,a,r,_,h,u,l,d,c;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){o=t.cclegacy,i=t.math,n=t.Vec3},function(t){a=t.YT},function(t){r=t.PLAYER_MONSTER_CFG},function(t){_=t.EMonsterStatus},function(t){h=t.BattleState},function(t){u=t.BattleUtils},function(t){l=t.DropGemCmp},function(t){d=t.DropWoodCmp},function(t){c=t.RoleMonsterPlayer}],execute:function(){o._RF.push({},"8df8bpv3UJE8Z42rIKt7rIg","RoleMonsterLogger",void 0);t("RoleMonsterLogger",function(t){function o(){var e;return(e=t.call(this)||this)._cutCnt=void 0,e._target=void 0,e._endPos=void 0,e._startPos=void 0,e._findTreeArr=void 0,e._totalTime=void 0,e._idleTime=void 0,e._cutCnt=0,e._findTreeArr=[],e._startPos=new n,e._endPos=new n,e._moveSpeed=400,e}e(o,t);var c=o.prototype;return c._checkState=function(){this._monsterStatus==_.Move?this._canAttack()?this._setMonsterStatus(_.Attack):this._target&&this._target.enable||this._setMonsterStatus(_.None):this._monsterStatus==_.MoveToIdle||(this._monsterStatus==_.Attack?this._time>this.atkSpeed&&(this._cutCnt>=r.LOGGER.CUT_CNT?this._setMonsterStatus(_.MoveToIdle):this._canAttack()?this._setMonsterStatus(_.Attack):this._setMonsterStatus(_.None)):this._monsterStatus==_.Idle?this._time>=this._idleTime&&this._setMonsterStatus(_.None):this._monsterStatus==_.None&&(this._target=this._findTarget(),this._target?(this._target.setMark(),this._canAttack()?this._setMonsterStatus(_.Attack):this._setMonsterStatus(_.Move)):this._setMonsterStatus(_.MoveToIdle)))},c._findTarget=function(){var t=h.ins.control.roleMgr.treeRoles;if(t.length<=0)return null;this._findTreeArr.length=0;for(var e,s=t,o=0,i=s.length;o<i;++o)if((e=s[o]).enable&&!e.mark)return e;return null},c._canAttack=function(){return!!(this._target&&this._target.enable&&this._target.roleIsInRect(this,this.radius))},c._canIdle=function(){return!1},c._onIdleStatusStart=function(){this._monsterView.playIdle(),this._time=0,this._cutCnt=0,this._idleTime=i.randomRange(r.LOGGER.IDLE_TM.Min,r.LOGGER.IDLE_TM.Max)},c._onMoveStatusStart=function(){this._monsterView.playMove()},c._onAttackStatusStart=function(){if(this._monsterView.playAttack(),a.audio.play(6,5),this._time=0,this._target.hurt(this.damage),this._target.isDeath){this._cutCnt+=1;var t=h.ins.control.cardsMgr.attr.loggerCutTreeAddWoodExt;if(t>0&&Math.random()>=.5)for(var e=0;e<t;++e){d.Create().show(this.pos.x+i.randomRange(-10,10),this.pos.y+i.randomRange(20,30),(function(){h.ins.control.data.addWood(1)}))}if((t=h.ins.control.cardsMgr.attr.loggerCutTreeAddGem)>0&&100*Math.random()<=5)l.Create().show(this.pos.x+i.randomRange(-10,10),this.pos.y+i.randomRange(20,30),(function(){h.ins.control.runTimeData.data.addItemByItemId(2,1)}))}},c._onMoveToIdleStatusStart=function(){var t;this._monsterView.playMove(),this._time=0,this._startPos.set(this.pos.x,this.pos.y);var e=h.ins.control.runTimeData.levelControl.view.playerPos,s=r.LOGGER.IDLE_RANGE.Min,o=r.LOGGER.IDLE_RANGE.Max;e.x>this.pos.x?this._endPos.x=e.x-i.randomRange(s,o):this._endPos.x=e.x+i.randomRange(s,o),e.y>this.pos.y?this._endPos.y=e.y-i.randomRange(s,o):this._endPos.y=e.y+i.randomRange(s,o);var a=n.distance(this._startPos,this._endPos);this._totalTime=a/this._moveSpeed,null==(t=this._view)||t.setModelFlipX(this._endPos.x<this._startPos.x)},c._updateIdle=function(t){this._time+=t},c._updateAttack=function(t){this._time+=t},c._updateMoveToIdle=function(t){this._time+=t;var e=i.clamp01(this._time/this._totalTime);n.lerp(this._position,this._startPos,this._endPos,e),this.setPos(this._position),e>=1&&this._setMonsterStatus(_.Idle)},c._updateMove=function(e){this._target&&this._target.enable?(u.getPositionVector(this.pos,this._target.pos,this._moveDir),this._updateFace()):this.endMove(),t.prototype._updateMove.call(this,e)},c._validateDir=function(t){return t.set(this._moveDir),!0},c._onDeath=function(){t.prototype._onDeath.call(this),this._target&&this._target.cancelMark()},s(o,[{key:"damage",get:function(){return this._config.atk*(1+h.ins.control.cardsMgr.attr.loggerCutAbsAddPercent)}}]),o}(c));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterMage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleState.ts","./RoleMonsterPlayerSoldier.ts"],(function(t){var e,r,n,a,i;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){n=t.cclegacy},function(t){a=t.BattleState},function(t){i=t.RoleMonsterPlayerSoldier}],execute:function(){n._RF.push({},"408bbBl1DpL4b4xQLK/Md5p","RoleMonsterMage",void 0);t("RoleMonsterMage",function(t){function n(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this)._buffNum=0,e._buffStartTm=0,e}e(n,t);var i=n.prototype;return i.hurt=function(e){var r=a.ins.control.cardsMgr.attr.mageHpLowAddPerecnt;r>0&&this._hp/this._maxHp<.2&&(e/=1+r),t.prototype.hurt.call(this,e)},i._onDamage=function(t){t.hurt(this.damage,this),t.isDeath&&(a.ins.control.cardsMgr.attr.isMageKillEnemyResumeHp&&this.addHp(.25*this._maxHp),a.ins.control.cardsMgr.attr.isMageKillEnemyAddMoveSpeed&&(this._buffStartTm=5,this._buffNum=Math.min(this._buffNum+1,5)))},i.update=function(e){t.prototype.update.call(this,e),this._buffStartTm>0&&(this._buffStartTm-=e,this._buffStartTm<=0&&(this._buffNum=0))},r(n,[{key:"moveSpeed",get:function(){var t=this._moveSpeed;return this._buffNum>0&&(t*=1+.4*this._buffNum),t}},{key:"damage",get:function(){return this._config.atk}},{key:"atkSpeed",get:function(){var t=a.ins.control.cardsMgr.attr.mageHpLowAddPerecnt;return t>0&&this._hp/this._maxHp<.2?this._config.atkSpeed/(1+t):this._config.atkSpeed}}]),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./BattleEnum.ts","./DamageTextCmp2.ts","./RoleMonsterPlayerCmp.ts","./MoveRole2.ts"],(function(t){var e,i,n,s,o,a,u,h,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){s=t.BuildsConfig},function(t){o=t.EMonsterStatus,a=t.ERoleType},function(t){u=t.DamageTextCmp},function(t){h=t.RoleMonsterPlayerCmp},function(t){r=t.MoveRole}],execute:function(){n._RF.push({},"b9947DPe3RLOJ1XnFYa6ew5","RoleMonsterPlayer",void 0);t("RoleMonsterPlayer",function(t){function n(){var e;return(e=t.call(this)||this)._monsterStatus=o.None,e._config=void 0,e._hp=void 0,e._maxHp=void 0,e._time=void 0,e.shopType=void 0,e._monsterView=void 0,e._roleType=a.PlayerMonster,e}e(n,t);var r=n.prototype;return r._getRes=function(){return this._config.res},r._onInit=function(t){this._config=s.data[t],this._moveSpeed=this._config.speed,this._hp=this._maxHp=this._config.hp,this._time=0},r._initView=function(){this._view=this._monsterView=h.Create(this._getRes()),this._radius=Math.max(this._view.size.height,this._view.size.width)/2},r._updateHpView=function(){if(!this.isRemove()){var t=this._hp/this._maxHp;this._monsterView.updateHpPercent(t)}},r.hurt=function(t){this._hp<=0||(this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0&&this.death())},r.addHp=function(t){this.enable&&(t<0||(u.Show(2,"+"+Math.floor(t).toFixedNumberCNYI(),this.pos.x,this.pos.y),this._hp=Math.min(this._hp+t,this._maxHp),this._updateHpView()))},r.resumeFullHp=function(){this.enable&&(this._hp=this._maxHp,this._updateHpView())},r._onDeath=function(){this._monsterView.playDie(this.remove.bind(this))},r.update=function(t){this._checkState(),this._monsterStatus==o.Move?this._updateMove(t):this._monsterStatus==o.Idle?this._updateIdle(t):this._monsterStatus==o.Attack?this._updateAttack(t):this._monsterStatus==o.MoveToIdle?this._updateMoveToIdle(t):this._monsterStatus==o.Patrol&&this._updatePatrol(t)},r._checkState=function(){},r._setMonsterStatus=function(t){this._monsterStatus==o.Move&&this.endMove(),this._monsterStatus=t,this._monsterStatus==o.Idle?this._onIdleStatusStart():this._monsterStatus==o.Move?this._onMoveStatusStart():this._monsterStatus==o.Attack?this._onAttackStatusStart():this._monsterStatus==o.MoveToIdle?this._onMoveToIdleStatusStart():this._monsterStatus==o.Patrol&&this._onPatrolStatusStart()},r._onIdleStatusStart=function(){},r._onMoveStatusStart=function(){},r._onAttackStatusStart=function(){},r._onMoveToIdleStatusStart=function(){},r._onPatrolStatusStart=function(){},r._updateIdle=function(t){},r._updateAttack=function(t){},r._updateMoveToIdle=function(t){},r._updatePatrol=function(t){},r._updateMove=function(e){t.prototype._updateMove.call(this,e)},i(n,[{key:"atk",get:function(){return this._config.atk}},{key:"atkRange",get:function(){return this._config.range2}},{key:"findRange",get:function(){return this._config.range1}},{key:"atkSpeed",get:function(){return this._config.atkSpeed}},{key:"def",get:function(){return this._config.def}},{key:"damage",get:function(){return this._config.atk}}]),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterPlayerCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleConst.ts","./BattleState.ts","./RoleBaseCmp.ts"],(function(e){var i,t,n,a,o,s,r,l,h,c,_,p,u,f,m,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.ProgressBar,h=e.Animation,c=e.Size},function(e){_=e.ViewUtil},function(e){p=e.MAIN_PREFABS,u=e.MAIN_BUNDLE},function(e){f=e.ROLE_ANI_NAME},function(e){m=e.BattleState},function(e){d=e.RoleBaseCmp}],execute:function(){var v,y,N,C,P;s._RF.push({},"d5830PNykJLvYQPRVvUpBPu","RoleMonsterPlayerCmp",void 0);var B=r.ccclass,E=r.property;e("RoleMonsterPlayerCmp",(v=B("RoleMonsterPlayerCmp"),y=E({type:l,displayName:"血条",visible:!0}),v((P=i((C=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,n(i,"_hpBar",P,a(i)),i._modelNode=void 0,i._effectTime=0,i._animation=void 0,i._dieCallback=void 0,i._size=void 0,i._aniName=void 0,i}t(i,e),i.Create=function(e){var t=_.createPrefabNode(p.MonsterPlayer,u);t.parent=m.ins.control.runTimeData.levelControl.view.roleRoot;var n=t.getComponent(i);return n._init(e),n};var s=i.prototype;return s._init=function(e){var i;this._modelNode=_.createPrefabNode(e,u),this._modelNode.parent=this._viewRoot,this._animation=this._modelNode.getComponentInChildren(h),null==(i=this._animation)||i.on(h.EventType.FINISHED,this._onAniPlayFinished,this),this._setShadowNode(this._modelNode),this._hpBar.node.active=!1,this._hpBar.progress=1},s.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.hideHitEffect())},s.updateHpPercent=function(e){this._hpBar.progress=e,this._hpBar.node.active=!0},s.showHitEffect=function(){},s.hideHitEffect=function(){},s._onAniPlayFinished=function(e,i){if(i.name==f.ATTACK)this.playIdle();else if(i.name==f.DIE){var t;null==(t=this._dieCallback)||t.call(this)}},s.playIdle=function(){var e;this._aniName!=f.IDLE&&(this._aniName=f.IDLE,null==(e=this._animation)||e.play(this._aniName))},s.playMove=function(){var e;this._aniName!=f.MOVE&&(this._aniName=f.MOVE,null==(e=this._animation)||e.play(this._aniName))},s.playAttack=function(){var e;this._aniName=f.ATTACK,null==(e=this._animation)||e.play(this._aniName)},s.playDie=function(e){var i;this._dieCallback=e,this._aniName=f.DIE,null==(i=this._animation)||i.play(this._aniName)},o(i,[{key:"size",get:function(){if(!this._size){this._size=new c;var e=this._modelNode.uiTransform.contentSize;this._size.set(e)}return this._size}}]),i}(d)).prototype,"_hpBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=C))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterPlayerSoldier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleConst.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./RoleMonsterPlayer.ts"],(function(t){var e,s,i,n,o,a,r,_,h;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t.Vec3,n=t.math},function(t){o=t.PLAYER_MONSTER_CFG},function(t){a=t.EMonsterStatus},function(t){r=t.BattleState},function(t){_=t.BattleUtils},function(t){h=t.RoleMonsterPlayer}],execute:function(){s._RF.push({},"5fe7aWkvutAgrIGJL/xZH+f","RoleMonsterPlayerSoldier",void 0);t("RoleMonsterPlayerSoldier",function(t){function s(){var e;return(e=t.call(this)||this)._target=void 0,e._endPos=void 0,e._startPos=void 0,e._findTreeArr=void 0,e._totalTime=void 0,e._findTreeArr=[],e._startPos=new i,e._endPos=new i,e._moveSpeed=400,e}e(s,t);var h=s.prototype;return h._checkState=function(){this._monsterStatus==a.Move?this._canAttack()?this._setMonsterStatus(a.Attack):this._target&&this._target.enable||this._setMonsterStatus(a.None):this._monsterStatus==a.MoveToIdle||(this._monsterStatus==a.Idle?(this._target=this._findTarget(),this._target?this._canAttack()?this._setMonsterStatus(a.Attack):this._setMonsterStatus(a.Move):this._time>o.IDLE_TM&&this._setMonsterStatus(a.Patrol)):this._monsterStatus==a.Attack?this._time>this.atkSpeed&&(this._canAttack()?this._setMonsterStatus(a.Attack):this._target&&this._target.enable?this._setMonsterStatus(a.Move):this._setMonsterStatus(a.None)):this._monsterStatus==a.Patrol?(this._target=this._findTarget(),this._target&&(this._canAttack()?this._setMonsterStatus(a.Attack):this._setMonsterStatus(a.Move))):this._monsterStatus==a.None&&(this._target=this._findTarget(),this._target?this._canAttack()?this._setMonsterStatus(a.Attack):this._setMonsterStatus(a.Move):this._setMonsterStatus(a.Patrol)))},h._findTarget=function(){var t=r.ins.control.roleMgr.enemyMonsters;if(t.length<=0)return null;for(var e,s=0,n=t.length;s<n;++s){if((e=t[s]).enable)if(i.distance(e.pos,this.pos)<this.findRange)return e}return null},h._canAttack=function(){return!!(this._target&&this._target.enable&&i.distance(this._target.pos,this.pos)<this.atkRange)},h._canIdle=function(){return!1},h._onIdleStatusStart=function(){this._monsterView.playIdle(),this._time=0},h._onMoveStatusStart=function(){this._monsterView.playMove()},h._onAttackStatusStart=function(){this._monsterView.playAttack(),this._time=0,this._onDamage(this._target)},h._onPatrolStatusStart=function(){var t;this._monsterView.playMove(),this._time=0,this._startPos.set(this.pos.x,this.pos.y);var e=r.ins.control.runTimeData.levelControl.view.playerPos;_.getRandomPointInCircle(e,400,this._endPos,100);var s=i.distance(this._startPos,this._endPos);this._totalTime=s/this._moveSpeed,null==(t=this._view)||t.setModelFlipX(this._endPos.x<this._startPos.x)},h._updateIdle=function(t){this._time+=t},h._updateAttack=function(t){this._time+=t},h._updatePatrol=function(t){this._time+=t;var e=n.clamp01(this._time/this._totalTime);i.lerp(this._position,this._startPos,this._endPos,e),this.setPos(this._position),e>=1&&this._setMonsterStatus(a.Idle)},h._updateMove=function(e){this._target&&this._target.enable?(_.getPositionVector(this.pos,this._target.pos,this._moveDir),this._updateFace()):this.endMove(),t.prototype._updateMove.call(this,e)},h._validateDir=function(t){return t.set(this._moveDir),!0},h._onDamage=function(t){t.hurt(this.damage,this)},h.roleIsInRect=function(t,e){return i.distance(t.pos,this.pos)<this.radius+e+10},s}(h));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterShooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletConfig.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./RoleMonsterPlayerSoldier.ts"],(function(t){var e,i,l,s,r,o,n,a,f,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){l=t.cclegacy,s=t.Vec2},function(t){r=t.BulletConfig},function(t){o=t.EMonsterStatus,n=t.ECamp},function(t){a=t.BattleState},function(t){f=t.BattleUtils},function(t){h=t.RoleMonsterPlayerSoldier}],execute:function(){l._RF.push({},"bf902RFW+hDjqZei/ReFxmD","RoleMonsterShooter",void 0);t("RoleMonsterShooter",function(t){function l(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))||this)._fireCnt=void 0,e._bulletCfg=void 0,e._killAddRemoteAtkSpeedTm=0,e._buffNum=0,e._buffSkillState=0,e._buffSkillTm=0,e._fireBuffCnt=0,e._skillDir=new s,e}e(l,t);var h=l.prototype;return h._onEnter=function(){this._bulletCfg=r.data[this._config.bullet]},h._onAttackStatusStart=function(){this._monsterView.playAttack(),this._time=0,this._startFire()},h._checkState=function(){this._monsterStatus==o.Attack||t.prototype._checkState.call(this)},h._updateAttack=function(t){this._time+=t,this._time>this.atkSpeed&&this._setMonsterStatus(o.None)},h._fireByAngle=function(t,e){var i=e;if(t%2==0)for(var l=t/2,s=0;l-- >0;)this._createBulletByAngle(i/2+s*i,this._target),this._createBulletByAngle(i/-2-s*i,this._target),s++;else{var r=Math.floor(t/2);this._createBulletByAngle(0,this._target);for(var o=1;r-- >0;)this._createBulletByAngle(o*i,this._target),this._createBulletByAngle(-o*i,this._target),o++}},h._createBulletByAngle=function(t,e){var i=a.ins.control.roleMgr.addBullet(1,n.Player);i.belone=this,i.setPos(this.pos);var l=f.getPositionAngle(i.pos,e.pos)+t;l<0&&(l+=360),l>360&&(l%=360);var s=l*Math.PI/180,r=Math.cos(s),o=Math.sin(s);i.startByDir(r,o,1)},h._startFire=function(){var t=this._bulletCfg.enemy_cnt;if(t>1)for(var e,i=a.ins.control.roleMgr.enemyMonsters,l=0;l<i.length&&!((e=i[l]).enable&&f.getDistance(e.pos,this.pos)<=this._config.range&&(this._fireByTarget(e),--t<=0));++l);else this._target=this._findTarget(),this._target&&this._fireByAngle(this._bulletCfg.fire_cnt,this._bulletCfg.fire_angle);return!1},h._fireByTarget=function(t){var e=a.ins.control.roleMgr.addBullet(this._bulletCfg.id,n.Player);e.belone=this,e.setPos(this.pos);var i=f.getPositionAngle(e.pos,t.pos)*Math.PI/180,l=Math.cos(i),s=Math.sin(i);e.startByDir(l,s,this._config.atk)},h.killEnemy=function(){a.ins.control.cardsMgr.attr.isShooterKillAddAtkSpeed&&(this._killAddRemoteAtkSpeedTm=5,this._buffNum=Math.min(this._buffNum+1,5))},h._onDeath=function(){if(t.prototype._onDeath.call(this),a.ins.control.cardsMgr.attr.isShooterDieFireBullet)for(var e=0,i=2*Math.PI/8,l=0;l<8;++l){var s=a.ins.control.roleMgr.addBullet(this._bulletCfg.id,n.Player);s.setPos(this.pos),u.x=Math.cos(e),u.y=Math.sin(e),s.startByDir(u.x,u.y,this.damage),e+=i}},h.update=function(e){if(t.prototype.update.call(this,e),this._killAddRemoteAtkSpeedTm>0&&(this._killAddRemoteAtkSpeedTm-=e,this._killAddRemoteAtkSpeedTm<=0&&(this._buffNum=0)),a.ins.control.cardsMgr.attr.isShooterFireBulletExt)if(this._buffSkillTm+=e,0==this._buffSkillState){if(this._buffSkillTm>=5){var i=this._findTarget();i&&(this._skillDir=f.getPositionVector(this.pos,i.pos,this._skillDir),this._buffSkillState=1,this.fireBuffSkill(),this._buffSkillTm=0,this._fireBuffCnt=4)}}else 1==this._buffSkillState&&(this._fireBuffCnt>0?(this._buffSkillTm+=e,this._buffSkillTm>=.3&&(this._fireBuffCnt-=1,this._buffSkillTm=0,this.fireBuffSkill())):(this._buffSkillState=0,this._buffSkillTm=0))},h.fireBuffSkill=function(){var t=a.ins.control.roleMgr.addBullet(this._bulletCfg.id,n.Player);t.belone=this,t.setPos(this.pos),t.startByDir(this._skillDir.x,this._skillDir.y,this._config.atk)},i(l,[{key:"atkSpeed",get:function(){var t=this._config.atkSpeed;return this._buffNum>0&&(t/=1+.1*this._buffNum),t}}]),l}(h));var u=new s;l._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMonsterWarrior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleState.ts","./RoleMonsterPlayerSoldier.ts"],(function(r){var t,o,e,n;return{setters:[function(r){t=r.inheritsLoose},function(r){o=r.cclegacy},function(r){e=r.BattleState},function(r){n=r.RoleMonsterPlayerSoldier}],execute:function(){o._RF.push({},"58182lrIr9NXpzJpADBJT45","RoleMonsterWarrior",void 0);r("RoleMonsterWarrior",function(r){function o(){return r.apply(this,arguments)||this}return t(o,r),o.prototype._onDamage=function(t){r.prototype._onDamage.call(this,t),e.ins.control.cardsMgr.attr.isAddPlayerAtkByWarrior&&e.ins.control.roleMgr.player.warriorAddAtk()},o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/RolePet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EquipConfig.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./RolePetCmp.ts","./MoveRole2.ts"],(function(t){var e,s,i,o,a,n,r,_,h,u,d,c;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy,o=t.math,a=t.Vec3,n=t.Vec2},function(t){r=t.EquipConfig},function(t){_=t.EMonsterStatus},function(t){h=t.BattleState},function(t){u=t.BattleUtils},function(t){d=t.RolePetCmp},function(t){c=t.MoveRole}],execute:function(){i._RF.push({},"dc973OnmKNNtYNESQefABqH","RolePet",void 0);t("RolePet",function(t){function i(){var e;return(e=t.call(this)||this)._petView=void 0,e._hp=void 0,e._maxHp=void 0,e._target=void 0,e._endPos=void 0,e._startPos=void 0,e._time=void 0,e._totalTime=void 0,e._atkState=void 0,e._monsterStatus=_.None,e._cfg=void 0,e._time=0,e._startPos=new a,e._endPos=new a,e._moveSpeed=700,e}e(i,t);var n=i.prototype;return n._onInit=function(t){this._cfg=r.data[t],this._moveSpeed=this._cfg.speed1},n._initView=function(){this._view=this._petView=d.Create(this._cfg.model),this._radius=60},n.updateId=function(t){var e;this._cfg=r.data[t],this._moveSpeed=this._cfg.speed1,null==(e=this._petView)||e.setModelRes(this._cfg.model)},n.update=function(t){h.ins&&(this._checkState(),this._monsterStatus==_.Move?this._updateMove(t):this._monsterStatus==_.Idle?this._updateIdle(t):this._monsterStatus==_.Attack?this._updateAttack(t):this._monsterStatus==_.MoveToIdle?this._updateMoveToIdle(t):this._monsterStatus==_.Patrol&&this._updatePatrol(t))},n._checkState=function(){this._monsterStatus==_.None?(this._target=this._findTarget(),this._target?this._canAttack()?this._setMonsterStatus(_.Attack):this._setMonsterStatus(_.Move):this._setMonsterStatus(_.Patrol)):this._monsterStatus==_.Move&&(this._canAttack()?this._setMonsterStatus(_.Attack):this._target&&this._target.enable||this._setMonsterStatus(_.None))},n._setMonsterStatus=function(t){this._monsterStatus==_.Move&&this.endMove(),this._monsterStatus=t,this._monsterStatus==_.Idle?this._onIdleStatusStart():this._monsterStatus==_.Move?this._onMoveStatusStart():this._monsterStatus==_.Attack?this._onAttackStatusStart():this._monsterStatus==_.MoveToIdle?this._onMoveToIdleStatusStart():this._monsterStatus==_.Patrol&&this._onPatrolStatusStart()},n._canAttack=function(){return!!(this._target&&this._target.enable&&u.getDistance(this.pos,this._target.pos)<=this._radius+this._target.radius+20)},n._onIdleStatusStart=function(){this._petView.playIdle(),this._time=0},n._onMoveStatusStart=function(){this._petView.playMove()},n._onAttackStatusStart=function(){var t;this._petView.playAttack(),this._time=0,this._target&&(null==(t=this._view)||t.setModelFlipX(this._target.pos.x<this.pos.x)),this._target&&this._target.enable&&this._target.hurt(this.damage,this)},n._onMoveToIdleStatusStart=function(){},n._onPatrolStatusStart=function(){var t;this._petView.playMove(),this._time=0,this._startPos.set(this.pos.x,this.pos.y);var e=h.ins.control.view.mapLayer.MAP_RECT;this._endPos.x=o.randomRange(e.xMin+300,e.xMax-300),this._endPos.y=o.randomRange(e.yMin+300,e.yMax-300),u.getPositionVector(this._startPos,this._endPos,l);var s=a.distance(this._startPos,this._endPos),i=0;i=(s=Math.min(s,400))<100?s:o.randomRange(100,s),this._endPos.x=this._startPos.x+l.x*i,this._endPos.y=this._startPos.y+l.y*i,this._totalTime=i/this._moveSpeed,null==(t=this._view)||t.setModelFlipX(this._endPos.x<this._startPos.x)},n._updateIdle=function(t){this._time+=t,this._time>1&&this._setMonsterStatus(_.None)},n._updateAttack=function(t){this._time+=t,this._time>=this.atkSpeed&&this._setMonsterStatus(_.None)},n._updateMoveToIdle=function(t){},n._updatePatrol=function(t){this._time+=t;var e=o.clamp01(this._time/this._totalTime);a.lerp(this._position,this._startPos,this._endPos,e),this.setPos(this._position),e>=1&&this._setMonsterStatus(_.Idle)},n._updateMove=function(e){this._target&&this._target.enable?(u.getPositionVector(this.pos,this._target.pos,this._moveDir),this._updateFace()):this.endMove(),t.prototype._updateMove.call(this,e)},n._validateDir=function(t){return t.set(this._moveDir),!0},n._findTarget=function(){var t=h.ins.control.roleMgr.enemyMonsters;if(t.length<=0)return null;for(var e,s=0,i=t.length;s<i;++s){if((e=t[s]).enable)if(a.distance(e.pos,this.pos)<this._cfg.range2)return e}return null},s(i,[{key:"atkSpeed",get:function(){var t=this._cfg.speed,e=h.ins.control.remainMgr.attr.petAtkSpeedAdd;return h.ins.control.attrMgr.buffAddPetAtkSpeedTime>0&&(e+=1),t/=1+e}},{key:"damage",get:function(){var t=this._cfg.base_value;return t*=1+h.ins.control.cardsMgr.attr.petDamageAddPercent}}]),i}(c));var l=new n;i._RF.pop()}}}));

System.register("chunks:///_virtual/RolePetCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts","./BattleConst.ts","./RoleBaseCmp.ts"],(function(e){var t,i,n,o,a,s,l,r,h,_,d;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,o=e._decorator,a=e.Animation,s=e.Size},function(e){l=e.ViewUtil},function(e){r=e.MAIN_BUNDLE,h=e.MAIN_PREFABS},function(e){_=e.ROLE_ANI_NAME},function(e){d=e.RoleBaseCmp}],execute:function(){var c;n._RF.push({},"44330YfSydDtqzJvbc+OUhl","RolePetCmp",void 0);var m=o.ccclass;o.property,e("RolePetCmp",m("RolePetCmp")(c=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this)._modelNode=void 0,t._animation=void 0,t._size=void 0,t._aniName=void 0,t}t(n,e),n.Create=function(e){var t=l.createPrefabNode(h.PetView,r).getComponent(n);return t._init(e),t};var o=n.prototype;return o._init=function(e){this.setModelRes(e)},o.setModelRes=function(e){var t;this._modelNode&&(this._destroyShadow(),this._modelNode.destroy()),this._modelNode=l.createPrefabNode(e,r),this._modelNode&&(this._modelNode.parent=this._viewRoot,this._animation=this._modelNode.getComponentInChildren(a),null==(t=this._animation)||t.on(a.EventType.FINISHED,this._onAniPlayFinished,this),this._setShadowNode(this._modelNode))},o._onAniPlayFinished=function(e,t){t.name==_.ATTACK&&this.playIdle()},o.playIdle=function(){var e;this._aniName!=_.IDLE&&(this._aniName=_.IDLE,null==(e=this._animation)||e.play(this._aniName))},o.playMove=function(){var e;this._aniName!=_.MOVE&&(this._aniName=_.MOVE,null==(e=this._animation)||e.play(this._aniName))},o.playAttack=function(){var e;this._aniName=_.ATTACK,null==(e=this._animation)||e.play(this._aniName)},i(n,[{key:"size",get:function(){if(!this._size){this._size=new s;var e=this._modelNode.uiTransform.contentSize;this._size.set(e)}return this._size}}]),n}(d))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/RolePlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EquipConfig.ts","./HeroConfig.ts","./YT.ts","./MainConst.ts","./BattleConst.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./DropGemCmp.ts","./DropWoodCmp.ts","./EffectPool.ts","./DamageTextCmp2.ts","./RoleHeroCmp.ts","./MoveRole2.ts","./WeaponModule.ts"],(function(t){var e,i,o,n,a,s,r,d,p,h,l,_,u,m,c,f,A,k,g,S,M,w,v,T;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,n=t.Vec3,a=t.math,s=t.Vec2},function(t){r=t.EquipConfig},function(t){d=t.HeroConfig},function(t){p=t.YT},function(t){h=t.FRAME_TIME},function(t){l=t.SKILL_CFG,_=t.WEAPON_CFG,u=t.BUILDING_CFG},function(t){m=t.ECamp,c=t.ERoleType},function(t){f=t.BattleState},function(t){A=t.BattleUtils},function(t){k=t.DropGemCmp},function(t){g=t.DropWoodCmp},function(t){S=t.EffectPool},function(t){M=t.DamageTextCmp},function(t){w=t.HeroCmp},function(t){v=t.MoveRole},function(t){T=t.WeaponModule}],execute:function(){o._RF.push({},"3f2b6IK2DNAlrhzF/qXCI1j","RolePlayer",void 0);t("RolePlayer",function(t){e(s,t);var o=s.prototype;function s(){var e;return(e=t.call(this)||this)._weaponModule=void 0,e._weaponRotationSpeed=100,e._weaponAngle=0,e._config=void 0,e._hp=void 0,e._maxHp=void 0,e._heroView=void 0,e._weaponId=void 0,e._attr=void 0,e._cutTreeRate=void 0,e.atkBuildTm=0,e.buffAddSpeedTime=0,e.buffAddWeaponRotaionTime=0,e.buffAddRemoteWeaponFireTime=0,e._remoteWeaponCfg=void 0,e._warriorAddAtk=0,e._isEnterBattle=void 0,e._rotationSkillTime=0,e._rotationSkillCmp=void 0,e._rotationSkillState=0,e._roatationSkillHurtTime=0,e._weaponKillCnt=void 0,e._skillResumeHpTime=0,e._startAddRotationTime=0,e._addWeaponRotationByBuff=0,e._startAddFireTime=0,e._addFireSpeedByBuff=0,e._startRunTime=0,e._fireTime=0,e._killAddRemoteAtkSpeedTm=0,e._inCampFireTime=0,e._inCampFireAddAtkSpeedTime=0,e._inCampFireAddAtkSpeedBuff=0,e._weaponModule=new T,e._roleType=c.Player,e._isEnterBattle=!1,e}return o.warriorAddAtk=function(){this._warriorAddAtk=3},o._onInit=function(t){this._config=d.data[t],this._radius=this._config.radius,this._weaponId=arguments.length<=1?void 0:arguments[1]},o._initView=function(){this._view=this._heroView=w.Create(this._config.res);var t=r.data[this._weaponId];this._weaponRotationSpeed=t.palstance,this._weaponModule.init(this._heroView.weaponRoot,t.model,0,this._config.weapon_radius),this._weaponModule.setAtk(t.base_value,t.atkMax),this._radius=this._config.weapon_radius+this._weaponModule.width},o.updateId=function(t){var e;this._config=d.data[t],null==(e=this._heroView)||e.setModelRes(this._config.res),this._config.weapon_1&&this._weaponModule.updateWeaponRes(this._config.weapon_1)},o.updateWeapon=function(t){this._weaponId=t;var e=r.data[this._weaponId];this._config.weapon_1||this._weaponModule.updateWeaponRes(e.model),this._weaponRotationSpeed=e.palstance,this._weaponModule.setAtk(e.base_value,e.atkMax)},o.enterBattle=function(){this._reset(),this._isEnterBattle=!0,this._enable=!0,this.idle(),this._heroView.playIdle(),this._attr=f.ins.control.info.battleData.playerAttr,this._cutTreeRate=f.ins.control.info.battleData.playerAtkRate;var t=this._attr.hp,e=f.ins.control.remainMgr.attr.hpAddPercent;2011==this._config.id&&(e+=.5),t*=e+1,this._hp=this._maxHp=t,this._moveSpeed=f.ins.control.info.battleData.playerMoveSpeed,this._moveSpeed*=1+f.ins.control.remainMgr.attr.moveSpeedAddPercent,this._weaponRotationSpeed=f.ins.control.info.battleData.playerWeaponRotaionSpeed,this._remoteWeaponCfg=r.data[f.ins.control.info.battleData.remoteWeaponId],this._weaponModule.addWeaponCnt(f.ins.control.remainMgr.attr.weaponAddCnt)},o.enterHall=function(){this._isEnterBattle=!1,this._heroView.hideBar(),this._heroView.playIdle(),this._weaponModule.setWeaponCnt(1),this._weaponModule.setScale(1)},o._updateHpView=function(){var t=this._hp/this._maxHp;this._heroView.updateHpPercent(t)},o.startMove=function(e,i){var o;this._enable&&(null==(o=this._heroView)||o.playMove(),t.prototype.startMove.call(this,e,i))},o.endMove=function(){var e;this._enable&&(null==(e=this._heroView)||e.playIdle(),t.prototype.endMove.call(this))},o.reSetMaxHp=function(t){var e=this._hp/this._maxHp;this._maxHp=this._attr.hp*(1+t),this._hp=this._maxHp*e,this._updateHpView()},o.hurt=function(t){if(!(this._hp<=0)){var e=0,i=f.ins.control.remainMgr.attr.idleAddDamageSub;!this._isMoving&&i>0&&(e+=i),(i=f.ins.control.remainMgr.attr.petActiveAddDamageSub)>0&&f.ins.control.roleMgr.haveActivePet()&&(e+=i),t*=Math.max(1-e,0),this._hp-=t,this._hp<0&&(this._hp=0),this._updateHpView(),this._hp<=0?(this.endMove(),f.ins.control.playerDie(),this.death()):this._heroView.showHitEffect()}},o.addHp=function(t){this.enable&&(t<0||this._hp!=this._maxHp&&(M.Show(2,"+"+Math.floor(t).toFixedNumberCNYI(),this.pos.x,this.pos.y),this._hp=Math.min(this._hp+t,this._maxHp),this._updateHpView()))},o.revive=function(){this._hp=this._maxHp,this._enable=!0,this.idle(),this._updateHpView()},o.roleIsInRect=function(t,e){return n.distance(t.pos,this.pos)<this.heroRadius+e},o.update=function(e){if(this._isEnterBattle){var i;if(t.prototype.update.call(this,e),this._rotationUpdate(e),this._updateInCampFire(e),this._updateFire(e),null==(i=this._weaponModule)||i.update(e),this._updateAddRotaionSpeedBuff(e),this._updateAddFireSpeedBuff(e),this._updateRunResumeHp(e),this._onUpdate(e),this._warriorAddAtk>0&&(this._warriorAddAtk-=e),this._killAddRemoteAtkSpeedTm>0&&(this._killAddRemoteAtkSpeedTm-=e),this.atkBuildTm>0&&(this.atkBuildTm-=e),this.buffAddSpeedTime>0&&(this.buffAddSpeedTime-=e),this.buffAddWeaponRotaionTime>0&&(this.buffAddWeaponRotaionTime-=e),this.buffAddRemoteWeaponFireTime>0&&(this.buffAddRemoteWeaponFireTime-=e),2015==this._config.id&&(this._skillResumeHpTime+=e,this._skillResumeHpTime>=1)){this._skillResumeHpTime-=1;var o=.05*this._maxHp;this.addHp(o)}2013==this._config.id&&(this._rotationSkillTime+=e,0==this._rotationSkillState?this._rotationSkillTime>=5&&this._showRotationSkill():1==this._rotationSkillState&&(this._roatationSkillHurtTime+=e,this._roatationSkillHurtTime>=l.SKILL_HURT_INTERVAL&&(this._updateRotationSkillHurt(e),this._roatationSkillHurtTime=0),this._rotationSkillTime>=5&&this._hideRotationSkill()))}else this._rotationUpdate(e)},o._showRotationSkill=function(){this._rotationSkillCmp?this._rotationSkillCmp.node.active=!0:(this._rotationSkillCmp=S.ShowRotationSkillEffect(),this._rotationSkillCmp.node.parent=this._view.node,this._rotationSkillCmp.node.setSiblingIndex(1),this._rotationSkillCmp.node.setPosition(this._heroView.weaponRoot.position)),this._rotationSkillTime=0,this._roatationSkillHurtTime=0,this._rotationSkillState=1},o._hideRotationSkill=function(){this._rotationSkillTime=0,this._rotationSkillState=0,this._rotationSkillCmp.node.active=!1},o._updateRotationSkillHurt=function(t){for(var e,i=f.ins.control.roleMgr.enemyMonsters,o=0,n=i.length,a=.6*Math.min(this.atk+this.weaponModule.atk,this.weaponModule.maxAtk);o<n;++o)(e=i[o])&&e.enable&&A.getDistance(e.pos,this.pos)<200&&e.hurt(a);var s,r=[];for(f.ins.control.roleMgr.treeBox.getRangeItems(this.pos.x,this.pos.y,r),o=0,n=r.length,a=.5*this.atk;o<n;++o)s=r[o],A.getDistance(s.pos,this.pos)<200&&s.hurt(a)},o.setWeaponKillEnemy=function(){this._weaponKillCnt+=1,2012==this._config.id&&this._weaponKillCnt<=100&&this._weaponModule.addScale(.01)},o._reset=function(){this._startAddRotationTime=0,this._addWeaponRotationByBuff=0,this._startAddFireTime=0,this._addFireSpeedByBuff=0,this._inCampFireTime=0,this._inCampFireAddAtkSpeedTime=0,this._inCampFireAddAtkSpeedBuff=0,this._startRunTime=0,this._killAddRemoteAtkSpeedTm=0,this._warriorAddAtk=0,this.atkBuildTm=0,this._skillResumeHpTime=0,this._weaponKillCnt=0,this._rotationSkillTime=0,this._rotationSkillState=0,this._rotationSkillCmp&&(this._rotationSkillCmp.node.destroy(),this._rotationSkillCmp=null),this.buffAddSpeedTime=0,this.buffAddWeaponRotaionTime=0,this.buffAddRemoteWeaponFireTime=0},o._updateAddRotaionSpeedBuff=function(t){f.ins.control.cardsMgr.attr.isStopWeaponRotaionSpeedAdd&&(this._isMoving?this._startAddRotationTime=0:this._startAddRotationTime+=t,this._addWeaponRotationByBuff=2*a.clamp01(this._startAddRotationTime/_.IDLE_ADD_ROTATION_TM))},o._rotationUpdate=function(t){var e=this._weaponRotationSpeed,i=0;if(this._isEnterBattle){i=f.ins.control.cardsMgr.attr.weaponRotationSpeedAddPercent+this._addWeaponRotationByBuff+this._inCampFireAddAtkSpeedBuff;var o=f.ins.control.remainMgr.attr.weaponRotaionByCnt;o>0&&this._weaponModule.weaponCnt}this.buffAddWeaponRotaionTime>0&&(i+=1),e*=1+i,this._weaponAngle-=e*t,this._weaponAngle<=-360&&(this._weaponAngle=this._weaponAngle%360,this._weaponModule.onRotaionRound()),this._heroView.setWeaponRotation(this._weaponAngle)},o._updateAddFireSpeedBuff=function(t){f.ins.control.cardsMgr.attr.isStopRemoteWeaponAtkSpeedAdd&&(this._isMoving?this._startAddFireTime=0:this._startAddFireTime+=t,this._addFireSpeedByBuff=2*a.clamp01(this._startAddFireTime/_.IDLE_ADD_ROTATION_TM))},o._updateRunResumeHp=function(t){if(f.ins.control.cardsMgr.attr.isRunAddHp)if(this._isMoving){if(this._startRunTime+=t,this._startRunTime>=1){this._startRunTime-=1;var e=.02*this._maxHp;this.addHp(e)}}else this._startRunTime=0},o._updateFire=function(t){if(this._remoteWeaponCfg&&f.ins&&(this._fireTime+=t,this._fireTime>this.remoteFireSpeed)){var e=1+f.ins.control.cardsMgr.attr.remoteWeaponCountAdd;if(2018==this._config.id){var i=f.ins.control.roleMgr.getShooterCnt();e+=Math.floor(i/2)}for(var o,n=f.ins.control.roleMgr.enemyMonsters,a=!1,s=0;s<n.length&&!((o=n[s]).enable&&A.getDistance(o.pos,this.pos)<this._remoteWeaponCfg.range1&&(this._fire(o),a=!0,--e<=0));++s);a&&p.audio.play(15),this._fireTime=0}},o._fire=function(t){var e=f.ins.control.roleMgr.addBullet(Number(this._remoteWeaponCfg.model),m.Player);e.belone=this,e.setPos(this.pos),e.startByTarget(t,this._remoteWeaponCfg.base_value+this.atk)},o.remoteWeaponKillEnemy=function(){f.ins.control.cardsMgr.attr.isKillAddRemoteWeaponAtkSpeed&&(this._killAddRemoteAtkSpeedTm=5)},o._updateInCampFire=function(t){if(f.ins){var e=f.ins.control.roleMgr.campFireBuilding;if(e&&e.enable){if(A.isCrossByCircle2(this.pos,this.heroRadius,e.pos,e.radius)){if(this._inCampFireTime+=t,this._inCampFireAddAtkSpeedTime+=t,this._inCampFireTime>e.config.atkSpeed){this._inCampFireTime=0;var i=e.config.addHp;i*=1+f.ins.control.cardsMgr.attr.campFireResumeNumAddPercent,this.addHp(i)}}else this._inCampFireTime=0,this._inCampFireAddAtkSpeedTime=0;f.ins.control.cardsMgr.attr.isCampFireAddAtkSpeed&&(this._inCampFireAddAtkSpeedBuff=2*a.clamp01(this._inCampFireAddAtkSpeedTime/_.IDLE_ADD_ROTATION_TM))}}},o._onUpdate=function(t){},o._onDie=function(){},o._onDirCanNotMove=function(){},o.findWeaponByVector=function(t,e,i,o){return this._weaponModule.findWeaponByVector(this.pos,t,e,i,o)},o._validateDir=function(t){t.set(this._moveDir);var e=this._position.x+h*this._moveDir.x*this._moveSpeed,i=this._position.y+h*this._moveDir.y*this._moveSpeed,o=f.ins.control.roleMgr.getRoleNewPosCollision(this,e,i);if(!!o)if(A.getPositionVector(this.pos,o.pos,R),o.roleType==c.Building)t.x=-this._moveDir.y,t.y=this._moveDir.x,this._updateFace();else{var n=this._moveDir.x*R.x>0,a=this._moveDir.y*R.y>0;if(n&&a)return this._onDirCanNotMove(),!1;n?t.x=0:a&&(t.y=0)}return!0},o.contactGoods=function(t){t.contacted(this)},o.contactTree=function(t,e,i){!function(t,e,i,o){var n=2==i?t.findWeaponByVector(o[0],o[1],!0,e):null;if(n){n.addTarget(e),p.audio.play(6,5);var a=Math.min(t.atk+t.weaponModule.atk,t.weaponModule.maxAtk);a*=1+t.cutTreeRate,e.hurt(a,t),n.atkTreeed(),e.isDeath&&t.killEnemyed(e)}}(this,t,e,i)},o.contactMonster=function(t,e,i){!function(t,e,i,o){var n=2==i?t.findWeaponByVector(o[0],o[1],!1,e):null;if(n){var a=Math.min(t.atk+t.weaponModule.atk,t.weaponModule.maxAtk);e.hurt(a,this),n.atkMonstered(),n.addTarget(e),e.enable&&e.moveBackByHero(t),e.isDeath&&(t.killEnemyed(e),t.setWeaponKillEnemy()),t.onWeaponAtked()}}(this,t,e,i)},o.killEnemyed=function(t){2014==this._config.id&&(100*Math.random()<1&&k.Create().show(t.pos.x+a.randomRange(-10,10),t.pos.y+a.randomRange(10,30),(function(){f.ins.control.runTimeData.data.addItemByItemId(2,1)})));2017==this._config.id&&(t.roleType==c.EnemyMonster&&g.Create().show(t.pos.x+a.randomRange(-10,10),t.pos.y+a.randomRange(10,30),(function(){f.ins.control.data.addWood(1)})))},o.onWeaponAtked=function(){if(2006==this._config.id&&Math.random()<.1)for(var t,e=f.ins.control.roleMgr.enemyMonsters,i=0,o=Math.min(e.length,5),n=.2*Math.min(this.atk+this.weaponModule.atk,this.weaponModule.maxAtk);i<o;++i)(t=e[i])&&t.enable&&f.ins.control.view.mapLayer.posIsInScreen(t.pos)&&(S.ShowLeiSkillEffect(t.pos.x,t.pos.y),t.hurt(n))},i(s,[{key:"weaponModule",get:function(){return this._weaponModule}},{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"config",get:function(){return this._config}},{key:"heroRadius",get:function(){return this._config.radius}},{key:"realRadius",get:function(){return this._weaponModule.weaponCnt>0?this.radius:this.heroRadius}},{key:"radius",get:function(){return this._config.weapon_radius+this._weaponModule.width*this._weaponModule.scale}},{key:"attr",get:function(){return this._attr}},{key:"cutTreeRate",get:function(){return this._cutTreeRate}},{key:"def",get:function(){return this._attr.def}},{key:"atk",get:function(){var t=f.ins.control.cardsMgr.attr.playerAtkAddPercent;this._warriorAddAtk>0&&(t+=.25),t+=f.ins.control.remainMgr.attr.atkAddPercent;var e=f.ins.control.roleMgr.campFireBuilding;return e&&e.enable&&(t+=f.ins.control.remainMgr.attr.campFireAddAtk),f.ins.control.data.wood>100&&(t+=f.ins.control.remainMgr.attr.addAtkByWoodCnt),2005==this._config.id&&(t+=.25),this._attr.atk*(1+t)}},{key:"weaponPos",get:function(){return this._heroView.weaponRoot.position}},{key:"moveSpeed",get:function(){var t=this._moveSpeed,e=f.ins.control.cardsMgr.attr.playerMoveSpeedAddPercent;return f.ins.control.cardsMgr.attr.playerMoveSpeedByLeaveCampAddPercent>0&&A.getDistance(this.pos,f.ins.control.runTimeData.levelControl.view.playerPos)>u.BASE_RADIUS&&(e+=f.ins.control.cardsMgr.attr.playerMoveSpeedByLeaveCampAddPercent),this.atkBuildTm>0&&(e+=f.ins.control.remainMgr.attr.monsterAtkAddPlayerMoveSpeedPercent),this.buffAddSpeedTime>0&&(e+=1),t*=1+e}},{key:"remoteFireSpeed",get:function(){var t=this._remoteWeaponCfg.speed,e=f.ins.control.cardsMgr.attr.remoteWeaponAtkSpeedAddPercent+this._addFireSpeedByBuff+this._inCampFireAddAtkSpeedBuff;this._killAddRemoteAtkSpeedTm>0&&(e+=.3);var i=f.ins.control.remainMgr.attr.remoteWeaponAtkSpeedAddByHp;if(i>0){var o=this._hp/this._maxHp;e+=i*=Math.floor(1-o)}return(i=f.ins.control.remainMgr.attr.remoteAtkSpeedAdd)>0&&(e+=i),this.buffAddRemoteWeaponFireTime>0&&(e+=1),t/=1+e}}]),s}(v));var R=new s;new s;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig3.ts","./ZdWeaponConfig.ts","./PDEffectPool.ts","./PropCmp.ts","./ZDResUtils.ts","./ZDConst.ts","./ZDEnum.ts","./ZDGameState.ts","./RoleBase.ts"],(function(t){var i,e,o,s,n,p,r,h,_,c,f,a,u,l,d;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.Size,n=t.Vec2},function(t){p=t.ZdPropConfig},function(t){r=t.ZdWeaponConfig},function(t){h=t.PDEffectPool},function(t){_=t.PropCmp},function(t){c=t.ZDResUtils},function(t){f=t.PROP_CFG},function(t){a=t.ERoleStatus,u=t.ERoleType},function(t){l=t.ZDGameState},function(t){d=t.RoleBase}],execute:function(){o._RF.push({},"95c4ezskodJXrxXpwe2zZya","RoleProp",void 0);t("RoleProp",function(t){function o(){var i;return(i=t.call(this)||this)._propView=void 0,i._config=void 0,i._isAutoRefresh=void 0,i._targetRole=void 0,i._startPos=new n,i._endPos=new n,i._time=0,i._roleType=u.Prop,i._isAutoRefresh=!1,i}i(o,t);var d=o.prototype;return d._onInit=function(t){this._config=p.data[t]},d._initView=function(){this._view=this._propView=_.Create(),this._size=new s,this._propView.getSize(this._size),this._config.model&&""!=this._config.model?(this._propView.hideCntView(),this._propView.setModelView(c.fullPropModelRes(this._config.model))):1==this._config.type?(this._propView.setCntView(0,":"+this._config.type_param),this.onWeaponUpdate(l.runtime.control.mainHero.weaponId)):2==this._config.type?(this._propView.hideCntView(),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):3==this._config.type?(this._propView.setCntView(3,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):4==this._config.type&&(this._propView.setCntView(4,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon)))},d.onWeaponUpdate=function(t){if(1==this._config.type){var i=r.data[t];this._propView.setIconRes(c.fullPropIconRes(i.icon))}},d.contacted=function(t){this._targetRole=t,this._startPos.set(this.pos.x,this.pos.y),this._time=0,this.death(),this._propView.setShadowVisible(!1)},d._onBirth=function(){this._propView.setShadowVisible(!1),this._endPos.set(this.pos.x,this.pos.y),this._startPos.set(this.pos.x,this.pos.y+100),this._time=0},d.update=function(i){if(t.prototype.update.call(this,i),this._status==a.Death){this._endPos.set(this._targetRole.pos.x,this._targetRole.pos.y),this._time+=i;var e=this._time/f.DEATH_TM;n.lerp(w,this._startPos,this._endPos,e),this.setPos2f(w.x,w.y),e>=1&&(this._targetRole.view&&h.ShowPropEffect(this._targetRole.view.node),l.runtime.control.onPropRemove(this),this.remove())}else if(this._status==a.Birth){this._time+=i;var o=this._time/f.BIRTH_TM;n.lerp(w,this._startPos,this._endPos,o),this.setPos2f(w.x,w.y),o>=1&&(this._propView.setShadowVisible(!0),this.idle())}},e(o,[{key:"type",get:function(){return this._config.type}},{key:"param",get:function(){return this._config.type_param}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(t){this._isAutoRefresh=t}}]),o}(d));var w=new n;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleProp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig5.ts","./ZdWeaponConfig3.ts","./MathUtil.ts","./PDEffectPool3.ts","./PropCmp3.ts","./ZDResUtils3.ts","./ZDConst3.ts","./ZDEnum3.ts","./ZDGameState3.ts","./RoleBase3.ts"],(function(t){var i,e,o,s,n,r,h,p,_,a,c,f,u,l,d,g,R;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.Size,n=t.math,r=t.Vec2},function(t){h=t.ZdPropConfig},function(t){p=t.ZdWeaponConfig},function(t){_=t.MathUtil},function(t){a=t.PDEffectPool3},function(t){c=t.PropCmp3},function(t){f=t.ZDResUtils3},function(t){u=t.PROP_CFG},function(t){l=t.ERoleStatus,d=t.ERoleType},function(t){g=t.ZDGameState3},function(t){R=t.RoleBase3}],execute:function(){o._RF.push({},"413b5/5i1dOrJIa9VjjLRfJ","RoleProp3",void 0);t("RoleProp3",function(t){function o(){var i;return(i=t.call(this)||this)._propView=void 0,i._config=void 0,i._isAutoRefresh=void 0,i._targetRole=void 0,i._startPos=new r,i._endPos=new r,i._time=0,i._isDrop=void 0,i._rotateSpd=void 0,i._rotateDir=void 0,i._roleType=d.Prop,i._isAutoRefresh=!1,i}i(o,t);var R=o.prototype;return R._onInit=function(t,i){void 0===i&&(i=!1),this._config=h.data[t],this._isDrop=i},R._initView=function(){this._view=this._propView=c.Create(),this._size=new s,this._propView.getSize(this._size),this._radius=Math.max(this._size.width,this._size.height)/2,this._config.model&&""!=this._config.model?(this._propView.hideCntView(),this._propView.setModelView(f.fullPropModelRes(this._config.model))):1==this._config.type?(this._propView.setCntView(0,":"+this._config.type_param),this.onWeaponUpdate(g.runtime.control.mainHero.weaponId)):2==this._config.type?(this._propView.hideCntView(),this._propView.setIconRes(f.fullPropIconRes(this._config.icon))):3==this._config.type?(this._propView.setCntView(3,":"+this._config.type_param),this._propView.setIconRes(f.fullPropIconRes(this._config.icon))):4==this._config.type&&(this._propView.setCntView(4,":"+this._config.type_param),this._propView.setIconRes(f.fullPropIconRes(this._config.icon)))},R.onWeaponUpdate=function(t){if(1==this._config.type){var i=p.data[t];this._propView.setIconRes(f.fullPropIconRes(i.icon))}},R.contacted=function(t){t.view&&a.ShowPropEffect(t.view.node),g.runtime.control.onPropRemove(this),this.remove()},R._onBirth=function(){this._propView.setShadowVisible(!1),this._endPos.set(this.pos.x,this.pos.y),this._startPos.set(this.pos.x,this.pos.y+100),this.setAngle(n.randomRange(0,360)),this._time=0,this._isDrop?(this._rotateSpd=n.randomRange(u.ROTATE_SPEED[0],u.ROTATE_SPEED[1]),this._rotateDir=1,_.randomRatio01(.5)&&(this._rotateDir=-1)):this.idle()},R.update=function(i){if(t.prototype.update.call(this,i),this._status==l.Death){this._endPos.set(this._targetRole.pos.x,this._targetRole.pos.y),this._time+=i;var e=this._time/u.DEATH_TM;r.lerp(w,this._startPos,this._endPos,e),this.setPos2f(w.x,w.y),e>=1&&(this._targetRole.view&&a.ShowPropEffect(this._targetRole.view.node),g.runtime.control.onPropRemove(this),this.remove())}else if(this._status==l.Birth){var o=this._rotateSpd*i*this._rotateDir;this.setAngle(this._angle+o),this._rotateSpd-=u.ROTATE_ACC*i,this._rotateSpd<=0&&this.idle()}},e(o,[{key:"type",get:function(){return this._config.type}},{key:"param",get:function(){return this._config.type_param}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(t){this._isAutoRefresh=t}}]),o}(R));var w=new r;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleProp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig4.ts","./ZdWeaponConfig5.ts","./PDEffectPool4.ts","./PropCmp4.ts","./ZDResUtils4.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./RoleBase4.ts"],(function(t){var i,e,o,s,n,p,r,h,_,c,f,a,u,l,d;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.Size,n=t.Vec2},function(t){p=t.ZdPropConfig},function(t){r=t.ZdWeaponConfig},function(t){h=t.PDEffectPool},function(t){_=t.PropCmp4},function(t){c=t.ZDResUtils},function(t){f=t.PROP_CFG},function(t){a=t.ERoleStatus,u=t.ERoleType},function(t){l=t.ZDGameState4},function(t){d=t.RoleBase}],execute:function(){o._RF.push({},"dc3a3HMm5JF5plnxu1uKKt7","RoleProp4",void 0);t("RoleProp4",function(t){function o(){var i;return(i=t.call(this)||this)._propView=void 0,i._config=void 0,i._isAutoRefresh=void 0,i._targetRole=void 0,i._startPos=new n,i._endPos=new n,i._time=0,i._roleType=u.Prop,i._isAutoRefresh=!1,i}i(o,t);var d=o.prototype;return d._onInit=function(t){this._config=p.data[t]},d._initView=function(){this._view=this._propView=_.Create(),this._size=new s,this._propView.getSize(this._size),this._config.model&&""!=this._config.model?(this._propView.hideCntView(),this._propView.setModelView(c.fullPropModelRes(this._config.model))):1==this._config.type?(this._propView.setCntView(0,":"+this._config.type_param),this.onWeaponUpdate(l.runtime.control.mainHero.weaponId)):2==this._config.type?(this._propView.hideCntView(),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):3==this._config.type?(this._propView.setCntView(3,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):4==this._config.type&&(this._propView.setCntView(4,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon)))},d.onWeaponUpdate=function(t){if(1==this._config.type){var i=r.data[t];this._propView.setIconRes(c.fullPropIconRes(i.icon))}},d.contacted=function(t){this._targetRole=t,this._startPos.set(this.pos.x,this.pos.y),this._time=0,this.death(),this._propView.setShadowVisible(!1)},d._onBirth=function(){this._propView.setShadowVisible(!1),this._endPos.set(this.pos.x,this.pos.y),this._startPos.set(this.pos.x,this.pos.y+100),this._time=0},d.update=function(i){if(t.prototype.update.call(this,i),this._status==a.Death){this._endPos.set(this._targetRole.pos.x,this._targetRole.pos.y),this._time+=i;var e=this._time/f.DEATH_TM;n.lerp(g,this._startPos,this._endPos,e),this.setPos2f(g.x,g.y),e>=1&&(this._targetRole.view&&h.ShowPropEffect(this._targetRole.view.node),l.runtime.control.onPropRemove(this),this.remove())}else if(this._status==a.Birth){this._time+=i;var o=this._time/f.BIRTH_TM;n.lerp(g,this._startPos,this._endPos,o),this.setPos2f(g.x,g.y),o>=1&&(this._propView.setShadowVisible(!0),this.idle())}},e(o,[{key:"type",get:function(){return this._config.type}},{key:"param",get:function(){return this._config.type_param}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(t){this._isAutoRefresh=t}}]),o}(d));var g=new n;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleProp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig.ts","./ZdWeaponConfig2.ts","./PDEffectPool5.ts","./PropCmp5.ts","./ZDResUtils5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./RoleBase5.ts"],(function(t){var i,e,o,s,n,p,r,h,_,c,f,a,u,l,d;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.Size,n=t.Vec2},function(t){p=t.ZdPropConfig},function(t){r=t.ZdWeaponConfig},function(t){h=t.PDEffectPool},function(t){_=t.PropCmp5},function(t){c=t.ZDResUtils},function(t){f=t.PROP_CFG},function(t){a=t.ERoleStatus,u=t.ERoleType},function(t){l=t.ZDGameState5},function(t){d=t.RoleBase}],execute:function(){o._RF.push({},"423707yg+VBB7JUKw2cBzaF","RoleProp5",void 0);t("RoleProp4",function(t){function o(){var i;return(i=t.call(this)||this)._propView=void 0,i._config=void 0,i._isAutoRefresh=void 0,i._targetRole=void 0,i._startPos=new n,i._endPos=new n,i._time=0,i._roleType=u.Prop,i._isAutoRefresh=!1,i}i(o,t);var d=o.prototype;return d._onInit=function(t){this._config=p.data[t]},d._initView=function(){this._view=this._propView=_.Create(),this._size=new s,this._propView.getSize(this._size),this._config.model&&""!=this._config.model?(this._propView.hideCntView(),this._propView.setModelView(c.fullPropModelRes(this._config.model))):1==this._config.type?(this._propView.setCntView(0,":"+this._config.type_param),this.onWeaponUpdate(l.runtime.control.mainHero.weaponId)):2==this._config.type?(this._propView.hideCntView(),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):3==this._config.type?(this._propView.setCntView(3,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):4==this._config.type&&(this._propView.setCntView(4,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon)))},d.onWeaponUpdate=function(t){if(1==this._config.type){var i=r.data[t];this._propView.setIconRes(c.fullPropIconRes(i.icon))}},d.contacted=function(t){this._targetRole=t,this._startPos.set(this.pos.x,this.pos.y),this._time=0,this.death(),this._propView.setShadowVisible(!1)},d._onBirth=function(){this._propView.setShadowVisible(!1),this._endPos.set(this.pos.x,this.pos.y),this._startPos.set(this.pos.x,this.pos.y+100),this._time=0},d.update=function(i){if(t.prototype.update.call(this,i),this._status==a.Death){this._endPos.set(this._targetRole.pos.x,this._targetRole.pos.y),this._time+=i;var e=this._time/f.DEATH_TM;n.lerp(g,this._startPos,this._endPos,e),this.setPos2f(g.x,g.y),e>=1&&(this._targetRole.view&&h.ShowPropEffect(this._targetRole.view.node),l.runtime.control.onPropRemove(this),this.remove())}else if(this._status==a.Birth){this._time+=i;var o=this._time/f.BIRTH_TM;n.lerp(g,this._startPos,this._endPos,o),this.setPos2f(g.x,g.y),o>=1&&(this._propView.setShadowVisible(!0),this.idle())}},e(o,[{key:"type",get:function(){return this._config.type}},{key:"param",get:function(){return this._config.type_param}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(t){this._isAutoRefresh=t}}]),o}(d));var g=new n;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleProp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig2.ts","./ZdWeaponConfig4.ts","./PDEffectPool6.ts","./PropCmp6.ts","./ZDResUtils6.ts","./ZDConst6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./RoleBase6.ts"],(function(t){var i,e,o,s,n,p,r,h,_,c,f,a,l,u,g;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t.Size,n=t.Vec2},function(t){p=t.ZdPropConfig},function(t){r=t.ZdWeaponConfig},function(t){h=t.PDEffectPool},function(t){_=t.PropCmp6},function(t){c=t.ZDResUtils},function(t){f=t.PROP_CFG},function(t){a=t.ERoleType,l=t.ERoleStatus},function(t){u=t.ZDGameState6},function(t){g=t.RoleBase}],execute:function(){o._RF.push({},"0e02eJb2GpECpJcNZz16H9E","RoleProp6",void 0);t("RoleProp",function(t){function o(){var i;return(i=t.call(this)||this)._propView=void 0,i._config=void 0,i._isAutoRefresh=void 0,i._targetRole=void 0,i._startPos=new n,i._endPos=new n,i._time=0,i._roleType=a.Prop,i._isAutoRefresh=!1,i}i(o,t);var g=o.prototype;return g._onInit=function(t){this._config=p.data[t]},g._initView=function(){this._view=this._propView=_.Create(),this._size=new s,this._propView.getSize(this._size),this._config.model&&""!=this._config.model?(this._propView.hideCntView(),this._propView.setModelView(c.fullPropModelRes(this._config.model))):1==this._config.type?(this._propView.setCntView(0,":"+this._config.type_param),this.onWeaponUpdate(u.runtime.control.mainHero.weaponId)):2==this._config.type?(this._propView.hideCntView(),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):3==this._config.type?(this._propView.setCntView(3,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):4==this._config.type?(this._propView.setCntView(4,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):5==this._config.type?(this._propView.setCntView(5,":"+this._config.type_param),this._propView.setIconRes(c.fullPropIconRes(this._config.icon))):6==this._config.type&&(this._propView.hideCntView(),this._propView.setIconRes(c.fullPropIconRes(this._config.icon)))},g.onWeaponUpdate=function(t){if(1==this._config.type){var i=r.data[t];this._propView.setIconRes(c.fullPropIconRes(i.icon))}},g.checkCanPick=function(t){if(1==this._config.get_type){if(t.roleType!=a.HeroMain)return!1}else if(2==this._config.get_type&&t.roleType!=a.HeroAI)return!1;return!0},g.contacted=function(t){this._targetRole=t,this._startPos.set(this.pos.x,this.pos.y),this._time=0,this.death(),this._propView.setShadowVisible(!1)},g._onBirth=function(){this._propView.setShadowVisible(!1),this._endPos.set(this.pos.x,this.pos.y),this._startPos.set(this.pos.x,this.pos.y+100),this._time=0},g.update=function(i){if(t.prototype.update.call(this,i),this._status==l.Death){this._endPos.set(this._targetRole.pos.x,this._targetRole.pos.y),this._time+=i;var e=this._time/f.DEATH_TM;n.lerp(w,this._startPos,this._endPos,e),this.setPos2f(w.x,w.y),e>=1&&(this._targetRole.view&&h.ShowPropEffect(this._targetRole.view.node),u.runtime.control.onPropRemove(this),this.remove())}else if(this._status==l.Birth){this._time+=i;var o=this._time/f.BIRTH_TM;n.lerp(w,this._startPos,this._endPos,o),this.setPos2f(w.x,w.y),o>=1&&(this._propView.setShadowVisible(!0),this.idle())}},e(o,[{key:"type",get:function(){return this._config.type}},{key:"param",get:function(){return this._config.type_param}},{key:"isAutoRefresh",get:function(){return this._isAutoRefresh},set:function(t){this._isAutoRefresh=t}}]),o}(g));var w=new n;o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShadowCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState.ts","./RoleBaseCmp2.ts"],(function(o){var e,t,s,i,h,a,d;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,s=o._decorator,i=o.Vec3,h=o.Vec2},function(o){a=o.ZDGameState},function(o){d=o.RoleBaseCmp}],execute:function(){var n;t._RF.push({},"a3573Z3gUdOTK2t3A+GR1cW","RoleShadowCmp",void 0);var r=s.ccclass,w=(s.property,o("RoleShadowCmp",r("RoleShadowCmp")(n=function(o){function t(){for(var e,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.call.apply(o,[this].concat(s))||this)._shadowNode=void 0,e._shadowNodeOffset=new h,e}e(t,o);var s=t.prototype;return s._setShadowNode=function(o){this._shadowNode=o,this._shadowNodeOffset.set(o.position.x,o.position.y),this._shadowNode.parent=a.runtime.ui.shadowRoot},s.setPos=function(e){o.prototype.setPos.call(this,e),this._updateShadowPos(e)},s.remove=function(){o.prototype.remove.call(this),this._removeShadow()},s.showView=function(){o.prototype.showView.call(this),this._showShadow()},s.hideView=function(){o.prototype.hideView.call(this),this._hideShadow()},s._updateShadowPos=function(o){this._shadowNode&&(w.set(o.x+this._shadowNodeOffset.x,o.y+this._shadowNodeOffset.y),this._shadowNode.setWorldPosition(w))},s._hideShadow=function(){this._shadowNode&&this._shadowNode.removeFromParent()},s._showShadow=function(){this._shadowNode&&(this._shadowNode.parent=a.runtime.ui.shadowRoot)},s._removeShadow=function(){this._shadowNode&&this._shadowNode.removeFromParent()},s.setVisible=function(e){o.prototype.setVisible.call(this,e),this._shadowNode&&(this._shadowNode.active=e)},t}(d))||n),new i);t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShadowCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState3.ts","./RoleBaseCmp3.ts"],(function(e){var t,o,n,i,s,h,c,u;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy,i=e._decorator,s=e.Vec3,h=e.Vec2},function(e){c=e.ZDGameState3},function(e){u=e.RoleBaseCmp3}],execute:function(){var a;n._RF.push({},"8f89d6XtzxK763WR3uY5jTQ","RoleShadowCmp3",void 0);var l=i.ccclass,r=(i.property,e("RoleShadowCmp3",l("RoleShadowCmp3")(a=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._shadowSync=null,t._hpSync=null,t._nameSync=null,t._countSync=null,t}t(o,e);var n=o.prototype;return n.setPos=function(t){var o,n,i,s;e.prototype.setPos.call(this,t),null==(o=this._shadowSync)||o.setPosition(t),null==(n=this._hpSync)||n.setPosition(t),null==(i=this._nameSync)||i.setPosition(t),null==(s=this._countSync)||s.setPosition(t)},n.remove=function(){e.prototype.remove.call(this),this._removeShadow(),this._removeHPNode(),this._removeNameNode(),this._removeCountNode()},n.showView=function(){e.prototype.showView.call(this),this._showShadow(),this._showHPNode(),this._showNameNode(),this._showCountNode()},n.hideView=function(){e.prototype.hideView.call(this),this._hideShadow(),this._hideHPNode(),this._hideNameNode(),this._hideCountNode()},n._setShadowNode=function(e){this._shadowSync=new r(e,c.runtime.ui.shadowRoot)},n._hideShadow=function(){var e;null==(e=this._shadowSync)||e.remove()},n._showShadow=function(){var e;null==(e=this._shadowSync)||e.show()},n._removeShadow=function(){var e;null==(e=this._shadowSync)||e.remove()},n._setShadowScale=function(e){this._shadowSync.scale=e},n._setHPNode=function(e){this._hpSync=new r(e,c.runtime.ui.hpRoot)},n._hideHPNode=function(){var e;null==(e=this._hpSync)||e.remove()},n._showHPNode=function(){var e;null==(e=this._hpSync)||e.show()},n._removeHPNode=function(){var e;null==(e=this._hpSync)||e.remove()},n._setNameNode=function(e){this._nameSync=new r(e,c.runtime.ui.nameRoot)},n._hideNameNode=function(){var e;null==(e=this._nameSync)||e.remove()},n._showNameNode=function(){var e;null==(e=this._nameSync)||e.show()},n._removeNameNode=function(){var e;null==(e=this._nameSync)||e.remove()},n._setCountNode=function(e){this._countSync=new r(e,c.runtime.ui.countRoot)},n._hideCountNode=function(){var e;null==(e=this._countSync)||e.remove()},n._showCountNode=function(){var e;null==(e=this._countSync)||e.show()},n._removeCountNode=function(){var e;null==(e=this._countSync)||e.remove()},n.setVisible=function(t){var o,n,i,s;e.prototype.setVisible.call(this,t),null==(o=this._shadowSync)||o.setVisible(t),null==(n=this._hpSync)||n.setVisible(t),null==(i=this._nameSync)||i.setVisible(t),null==(s=this._countSync)||s.setVisible(t)},o}(u))||a),function(){function e(e,t){this._node=void 0,this._parent=void 0,this._offsetBase=new h,this._offset=new h,this._node=e,this._parent=t,this._offsetBase.set(e.position.x,e.position.y),this._offset.set(this._offsetBase),this._node.parent=t}var t=e.prototype;return t.setPosition=function(e){this._node.setWorldPosition(e.x+this._offset.x,e.y+this._offset.y,0)},t.setVisible=function(e){this._node.active=e},t.show=function(){this._node.parent=this._parent},t.remove=function(){this._node.removeFromParent()},o(e,[{key:"scale",set:function(e){this._node.setScale(e,e,e),h.multiplyScalar(this._offset,this._offsetBase,e)}}]),e}());new s;n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShadowCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState4.ts","./RoleBaseCmp4.ts"],(function(o){var e,t,s,i,h,a,d;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,s=o._decorator,i=o.Vec3,h=o.Vec2},function(o){a=o.ZDGameState4},function(o){d=o.RoleBaseCmp4}],execute:function(){var n;t._RF.push({},"ee9cfRGqxJLm5iknkFlSRk4","RoleShadowCmp4",void 0);var r=s.ccclass,w=(s.property,o("RoleShadowCmp4",r("RoleShadowCmp4")(n=function(o){function t(){for(var e,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.call.apply(o,[this].concat(s))||this)._shadowNode=void 0,e._shadowNodeOffset=new h,e}e(t,o);var s=t.prototype;return s._setShadowNode=function(o){this._shadowNode=o,this._shadowNodeOffset.set(o.position.x,o.position.y),this._shadowNode.parent=a.runtime.ui.shadowRoot},s.setPos=function(e){o.prototype.setPos.call(this,e),this._updateShadowPos(e)},s.remove=function(){o.prototype.remove.call(this),this._removeShadow()},s.showView=function(){o.prototype.showView.call(this),this._showShadow()},s.hideView=function(){o.prototype.hideView.call(this),this._hideShadow()},s._updateShadowPos=function(o){this._shadowNode&&(w.set(o.x+this._shadowNodeOffset.x,o.y+this._shadowNodeOffset.y),this._shadowNode.setWorldPosition(w))},s._hideShadow=function(){this._shadowNode&&this._shadowNode.removeFromParent()},s._showShadow=function(){this._shadowNode&&(this._shadowNode.parent=a.runtime.ui.shadowRoot)},s._removeShadow=function(){this._shadowNode&&this._shadowNode.removeFromParent()},s.setVisible=function(e){o.prototype.setVisible.call(this,e),this._shadowNode&&(this._shadowNode.active=e)},t}(d))||n),new i);t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShadowCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState5.ts","./RoleBaseCmp5.ts"],(function(o){var e,t,s,i,h,a,d;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,s=o._decorator,i=o.Vec3,h=o.Vec2},function(o){a=o.ZDGameState5},function(o){d=o.RoleBaseCmp5}],execute:function(){var n;t._RF.push({},"568e8HjMgBEMKQSzK8sTXDv","RoleShadowCmp5",void 0);var r=s.ccclass,w=(s.property,o("RoleShadowCmp5",r("RoleShadowCmp5")(n=function(o){function t(){for(var e,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.call.apply(o,[this].concat(s))||this)._shadowNode=void 0,e._shadowNodeOffset=new h,e}e(t,o);var s=t.prototype;return s._setShadowNode=function(o){this._shadowNode=o,this._shadowNodeOffset.set(o.position.x,o.position.y),this._shadowNode.parent=a.runtime.ui.shadowRoot},s.setPos=function(e){o.prototype.setPos.call(this,e),this._updateShadowPos(e)},s.remove=function(){o.prototype.remove.call(this),this._removeShadow()},s.showView=function(){o.prototype.showView.call(this),this._showShadow()},s.hideView=function(){o.prototype.hideView.call(this),this._hideShadow()},s._updateShadowPos=function(o){this._shadowNode&&(w.set(o.x+this._shadowNodeOffset.x,o.y+this._shadowNodeOffset.y),this._shadowNode.setWorldPosition(w))},s._hideShadow=function(){this._shadowNode&&this._shadowNode.removeFromParent()},s._showShadow=function(){this._shadowNode&&(this._shadowNode.parent=a.runtime.ui.shadowRoot)},s._removeShadow=function(){this._shadowNode&&this._shadowNode.removeFromParent()},s.setVisible=function(e){o.prototype.setVisible.call(this,e),this._shadowNode&&(this._shadowNode.active=e)},t}(d))||n),new i);t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShadowCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState6.ts","./RoleBaseCmp6.ts"],(function(o){var e,t,s,i,h,a,d;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,s=o._decorator,i=o.Vec3,h=o.Vec2},function(o){a=o.ZDGameState6},function(o){d=o.RoleBaseCmp6}],execute:function(){var n;t._RF.push({},"0e6204kkA9OcJM5YEkQBHjf","RoleShadowCmp6",void 0);var r=s.ccclass,w=(s.property,o("RoleShadowCmp6",r("RoleShadowCmp6")(n=function(o){function t(){for(var e,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.call.apply(o,[this].concat(s))||this)._shadowNode=void 0,e._shadowNodeOffset=new h,e}e(t,o);var s=t.prototype;return s._setShadowNode=function(o){this._shadowNode=o,this._shadowNodeOffset.set(o.position.x,o.position.y),this._shadowNode.parent=a.runtime.ui.shadowRoot},s.setPos=function(e){o.prototype.setPos.call(this,e),this._updateShadowPos(e)},s.remove=function(){o.prototype.remove.call(this),this._removeShadow()},s.showView=function(){o.prototype.showView.call(this),this._showShadow()},s.hideView=function(){o.prototype.hideView.call(this),this._hideShadow()},s._updateShadowPos=function(o){this._shadowNode&&(w.set(o.x+this._shadowNodeOffset.x,o.y+this._shadowNodeOffset.y),this._shadowNode.setWorldPosition(w))},s._hideShadow=function(){this._shadowNode&&this._shadowNode.removeFromParent()},s._showShadow=function(){this._shadowNode&&(this._shadowNode.parent=a.runtime.ui.shadowRoot)},s._removeShadow=function(){this._shadowNode&&this._shadowNode.removeFromParent()},s.setVisible=function(e){o.prototype.setVisible.call(this,e),this._shadowNode&&(this._shadowNode.active=e)},t}(d))||n),new i);t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig3.ts","./ZdShopConfig3.ts","./ZdTowerConfig5.ts","./RoleShopCmp2.ts","./ZDResUtils.ts","./ZDUtils.ts","./ZDConst.ts","./ZDEnum.ts","./ZDGameState.ts","./RoleBase.ts"],(function(t){var i,e,n,s,o,r,u,h,c,a,_,d,p,f,l,C;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,s=t.Size,o=t.math},function(t){r=t.ZdPropConfig},function(t){u=t.ZdShopConfig},function(t){h=t.ZdTowerConfig},function(t){c=t.RoleShopCmp},function(t){a=t.ZDResUtils},function(t){_=t.ZDUtils},function(t){d=t.CUTTREE_CFG,p=t.SHOP_CFG},function(t){f=t.ERoleType},function(t){l=t.ZDGameState},function(t){C=t.RoleBase}],execute:function(){n._RF.push({},"166adM+LZBAu6neADzvndZH","RoleShop",void 0);t("RoleShop",function(t){function n(){var i;return(i=t.call(this)||this)._shopView=void 0,i._config=void 0,i._curCnt=void 0,i._buyIndex=void 0,i._frame=void 0,i._isStand=void 0,i._standTime=void 0,i._roleType=f.Shop,i._isStand=!1,i._standTime=0,i._curCnt=0,i}i(n,t);var C=n.prototype;return C._onInit=function(t){this._config=u.data[t],this._buyIndex=0},C._initView=function(){this._view=this._shopView=c.Create(),this._size=new s,this._shopView.getSize(this._size),this._updateCntView(),this._updateShopView()},C.update=function(i){t.prototype.update.call(this,i),this._onCheckMainHeroUpdate(i)},C._onCheckMainHeroUpdate=function(t){if(this.enable){var i=l.runtime.control.mainHero;if(i){var e=_.isCrossByCircle(i.pos,i.initRadius,this.pos,this._size.width);this._isStand!=e&&this._shopView.setStandView(e),e?(this._isStand=!0,this._standTime+=t,this._standTime>=d.SHOP_SPEED&&(this._addPrice(1),this._standTime=0)):(this._isStand=!1,this._standTime=0)}}},C._addPrice=function(t){var i=l.runtime.data;i.treeCnt<t||(l.runtime.audioMgr.play(101,5),i.addTreeCnt(-t),l.runtime.ui.setTreeCntView(i.treeCnt),this._curCnt+=t,this._curCnt>=this.currentPrice?(this._curCnt-=this.currentPrice,1==this._config.type?(this._dropItem(),this._buyIndex+1<this._config.prices.length&&(this._buyIndex+=1,this._updateShopView()),this._updateCntView()):2==this._config.type&&this._buildTower()):this._updateCntView())},C._dropItem=function(){var t=this._position.x+o.randomRange(p.DROP_RANGE.x[0],p.DROP_RANGE.x[1]),i=this._position.y+o.randomRange(p.DROP_RANGE.y[0],p.DROP_RANGE.y[1]);l.runtime.control.dropProp(this.currentOutProp,t,i)},C._buildTower=function(){l.runtime.control.addTower(this.currentOutProp,this.pos.x,this.pos.y),this.remove()},C._updateCntView=function(){var t=this._curCnt/this.currentPrice;this._shopView.setProgressView(this._curCnt+"/"+this.currentPrice,t)},C._updateShopView=function(){if(1==this._config.type){var t=r.data[this.currentOutProp];this._shopView.setNameView(t.name,a.fullPropIconRes(t.shop_icon))}else if(2==this._config.type){var i=h.data[this.currentOutProp];this._shopView.setNameView(i.name,a.fullTowerIconRes(i.icon))}},e(n,[{key:"currentPrice",get:function(){return this._config.prices[this._buyIndex]}},{key:"currentOutProp",get:function(){return this._config.items[this._buyIndex]}}]),n}(C));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShop2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildsConfig.ts","./YT.ts","./BattleConst.ts","./BattleEnum.ts","./BattleState.ts","./BattleUtils.ts","./UnlockShopDialog.ts","./RoleBase2.ts"],(function(i){var t,e,s,o,n,r,h,a,l,d,_,u,c,p,b;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){s=i.cclegacy},function(i){o=i.BuildsConfig},function(i){n=i.YT},function(i){r=i.SHOP_CFG},function(i){h=i.EShopType,a=i.EPlayerMonsterType,l=i.EBuildingType,d=i.ERoleStatus,_=i.ERoleType},function(i){u=i.BattleState},function(i){c=i.BattleUtils},function(i){p=i.UnlockShopDialog},function(i){b=i.RoleBase}],execute:function(){s._RF.push({},"e2abbs3nHxPO5e2JQk4qcb/","RoleShop",void 0);i("RoleShop",function(i){function s(){var t;return(t=i.call(this)||this)._shopView=void 0,t._curCnt=void 0,t._buyIndex=void 0,t._frame=void 0,t._isStand=void 0,t._standTime=void 0,t._isUnlock=void 0,t._colliderEnableByCurrent=void 0,t._isCanView=void 0,t._buildId=void 0,t._roleType=_.Shop,t._isStand=!1,t._standTime=0,t._curCnt=0,t._colliderEnableByCurrent=!0,t}t(s,i);var b=s.prototype;return b._onInit=function(i){this._buyIndex=0},b._initView=function(i){i&&(this._view=this._shopView=i)},b._onEnter=function(){this._updateShopView(),this._isCanView&&(this._isUnlock=this._calcUnlock(),this._isUnlock?(this._shopView.setLockView(!1),this._updateCntView()):this._shopView.setLockView(!0)),this._shopView.splitLayers()},b.update=function(t){i.prototype.update.call(this,t),this._onCheckMainHeroUpdate(t)},b._updateShopView=function(){this._isCanView=!1;var i=this.shopType;i==h.RoadBlock?(this._buildId=u.ins.control.info.battleData.roadBlockId,this._buildId?this._isCanView=!0:(this.setVisible(!1),this._enable=!1)):i==h.CampFire?(this._buildId=u.ins.control.info.battleData.campFireId,this._buildId?this._isCanView=!0:(this.setVisible(!1),this._enable=!1)):i==h.Tower?(this._buildId=u.ins.control.info.battleData.towerId,this._buildId?this._isCanView=!0:(this.setVisible(!1),this._enable=!1)):i==h.GoldMine?(this._buildId=u.ins.control.info.battleData.goldMineId,this._buildId?this._isCanView=!0:(this.setVisible(!1),this._enable=!1)):i==h.Logger?(this._buildId=u.ins.control.info.battleData.soldierIds[0],this._buildId?this._isCanView=!0:(this.setVisible(!1),this._enable=!1)):i==h.Warrior?(this._buildId=u.ins.control.info.battleData.soldierIds[1],this._buildId?this._isCanView=!0:(this.setVisible(!1),this._enable=!1)):i==h.Shooter?(this._buildId=u.ins.control.info.battleData.soldierIds[2],this._buildId?this._isCanView=!0:(this.setVisible(!1),this._enable=!1)):i==h.Mage&&(this._buildId=u.ins.control.info.battleData.soldierIds[3],this._buildId?this._isCanView=!0:(this.setVisible(!1),this._enable=!1))},b._onCheckMainHeroUpdate=function(i){var t=this;if(this.enable){var e=u.ins.control.roleMgr.player;if(e){var s=c.isCrossByCircle2(e.pos,e.heroRadius-20,this.pos,this.size.width/2);if(!s||this._colliderEnableByCurrent)if(s||this._colliderEnableByCurrent||(this._colliderEnableByCurrent=!0),s){if(this._isStand=!0,this._standTime+=i,this._isUnlock){var o=r.WOOD_ADD_SPEED;o/=1+u.ins.control.remainMgr.attr.buildingSpeedAdd,this._standTime>=o&&(this._addPrice(1),this._standTime=0)}else if(this._standTime>=1)if(u.ins.control.data.wood>=this._shopView.unlockPrice){var h="是否花费"+this._shopView.unlockPrice+"个木头解锁"+this._getUnlockName();p.Show(h,(function(i){i?(u.ins.control.data.addWood(-t._shopView.unlockPrice),t._unlock()):t._colliderEnableByCurrent=!1})),this._standTime=0}else n.gui.toast("木材不足"),this._standTime=0,this._colliderEnableByCurrent=!1}else this._isStand=!1,this._standTime=0}}},b._addPrice=function(i){var t=u.ins.control.data;t.wood<i||(n.audio.play(5,5),t.addWood(-i),this._curCnt+=i,this._curCnt>=this.currentPrice?(this._curCnt-=this.currentPrice,this._out()):this._updateCntView())},b._out=function(){var i=this._shopView.shopType;if(i==h.Logger||i==h.Warrior||i==h.Shooter||i==h.Mage){if(this._dropItem(),!(this._buyIndex+1<this._shopView.maxBuyCnt))return void this.remove();this._buyIndex+=1,this._updateCntView()}else this._buildTower()},b._unlock=function(){var i=this._shopView.shopType;if(i==h.Logger||i==h.Warrior||i==h.Shooter||i==h.Mage){if(this._dropItem(),!(this._buyIndex+1<this._shopView.maxBuyCnt))return void this.death();this._buyIndex+=1,this._updateCntView()}else i==h.Tower&&u.ins.control.addUnlockTower(this._shopView.index),this._buildTower()},b._dropItem=function(){var i=this._shopView.shopType;i==h.Logger?u.ins.control.roleMgr.addPlayerMonster(i,a.Logger,this._buildId,this.pos.x,this.pos.y):i==h.Warrior?u.ins.control.cardsMgr.attr.isCanAddHighWarrior&&Math.random()>=.5?u.ins.control.roleMgr.addPlayerMonster(i,a.Warrior,3901,this.pos.x,this.pos.y):u.ins.control.roleMgr.addPlayerMonster(i,a.Warrior,this._buildId,this.pos.x,this.pos.y):i==h.Shooter?u.ins.control.roleMgr.addPlayerMonster(i,a.Shooter,this._buildId,this.pos.x,this.pos.y):i==h.Mage&&u.ins.control.roleMgr.addPlayerMonster(i,a.Mage,this._buildId,this.pos.x,this.pos.y)},b._buildTower=function(){var i=0,t=this._shopView.shopType;t==h.CampFire?i=l.CampFire:t==h.RoadBlock?i=l.RoadBlock:t==h.GoldMine?i=l.GoldMine:t==h.Tower&&(i=l.Tower),n.audio.play(11),u.ins.control.roleMgr.addBuilding(t,i,this._buildId,this.pos.x,this.pos.y,this.index),u.ins.control.data.addBuilding(),this.death()},b._updateCntView=function(){var i=this._curCnt/this.currentPrice;this._shopView.setProgressView(this._curCnt+"/"+this.currentPrice,i)},b._onDeath=function(){i.prototype._onDeath.call(this),this.setVisible(!1)},b._onBirth=function(){i.prototype._onBirth.call(this),this.setVisible(!0)},b._calcUnlock=function(){if(this._shopView.shopType==h.Tower){var i=u.ins.control.info.battleData.towerState;return i&&i.includes(this._shopView.index)}return!0},b.revive=function(){this.birth(),this._curCnt=0,this._updateCntView(),this._enable=!0},b._getUnlockName=function(){return this._buildId?o.data[this._buildId].typeName:""},b.onShopItemDie=function(i,t){if(i==this._shopView.shopType){if(i==h.Tower&&this.index!=t)return;this._buyIndex-=1,this._status==d.Death&&this.revive()}},e(s,[{key:"shopType",get:function(){return this._shopView.shopType}},{key:"index",get:function(){return this._shopView.index}},{key:"currentPrice",get:function(){return this._shopView.getPrices(this._buyIndex)}},{key:"currentOutProp",get:function(){return this._shopView.shopType,h.CampFire,1}}]),s}(b));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShop3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig5.ts","./ZdShopConfig.ts","./ZdTowerConfig2.ts","./RoleShopCmp3.ts","./ZDResUtils3.ts","./ZDUtils3.ts","./ZDConst3.ts","./ZDEnum3.ts","./ZDGameState3.ts","./RoleBase3.ts"],(function(t){var i,e,n,s,o,r,u,h,c,a,_,p,d,f,l,C;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,s=t.Size,o=t.math},function(t){r=t.ZdPropConfig},function(t){u=t.ZdShopConfig},function(t){h=t.ZdTowerConfig},function(t){c=t.RoleShopCmp3},function(t){a=t.ZDResUtils3},function(t){_=t.ZDUtils3},function(t){p=t.CUTTREE_CFG,d=t.SHOP_CFG},function(t){f=t.ERoleType},function(t){l=t.ZDGameState3},function(t){C=t.RoleBase3}],execute:function(){n._RF.push({},"59b1dtAardFZpJfT1/vuxtX","RoleShop3",void 0);t("RoleShop3",function(t){function n(){var i;return(i=t.call(this)||this)._shopView=void 0,i._config=void 0,i._curCnt=void 0,i._buyIndex=void 0,i._frame=void 0,i._isStand=void 0,i._standTime=void 0,i._roleType=f.Shop,i._isStand=!1,i._standTime=0,i._curCnt=0,i}i(n,t);var C=n.prototype;return C._onInit=function(t){this._config=u.data[t],this._buyIndex=0},C._initView=function(){this._view=this._shopView=c.Create(),this._size=new s,this._shopView.getSize(this._size),this._updateCntView(),this._updateShopView()},C.update=function(i){t.prototype.update.call(this,i),this._onCheckMainHeroUpdate(i)},C._onCheckMainHeroUpdate=function(t){if(this.enable){var i=l.runtime.control.mainHero;if(i){var e=_.isCrossByCircle(i.pos,i.weaponRadius,this.pos,this._size.width);this._isStand!=e&&this._shopView.setStandView(e),e?(this._isStand=!0,this._standTime+=t,this._standTime>=p.SHOP_SPEED&&(this._addPrice(1),this._standTime=0)):(this._isStand=!1,this._standTime=0)}}},C._addPrice=function(t){var i=l.runtime.data;i.treeCnt<t||(l.runtime.audioMgr.play(101,5),i.addTreeCnt(-t),l.runtime.ui.setTreeCntView(i.treeCnt),this._curCnt+=t,this._curCnt>=this.currentPrice?(this._curCnt-=this.currentPrice,1==this._config.type?(this._dropItem(),this._buyIndex+1<this._config.prices.length&&(this._buyIndex+=1,this._updateShopView()),this._updateCntView()):2==this._config.type&&this._buildTower()):this._updateCntView())},C._dropItem=function(){var t=this._position.x+o.randomRange(d.DROP_RANGE.x[0],d.DROP_RANGE.x[1]),i=this._position.y+o.randomRange(d.DROP_RANGE.y[0],d.DROP_RANGE.y[1]);l.runtime.control.dropProp(this.currentOutProp,t,i)},C._buildTower=function(){l.runtime.control.addTower(this.currentOutProp,this.pos.x,this.pos.y),this.remove()},C._updateCntView=function(){var t=this._curCnt/this.currentPrice;this._shopView.setProgressView(this._curCnt+"/"+this.currentPrice,t)},C._updateShopView=function(){if(1==this._config.type){var t=r.data[this.currentOutProp];this._shopView.setNameView(t.name,a.fullPropIconRes(t.shop_icon))}else if(2==this._config.type){var i=h.data[this.currentOutProp];this._shopView.setNameView(i.name,a.fullTowerIconRes(i.icon))}},e(n,[{key:"currentPrice",get:function(){return this._config.prices[this._buyIndex]}},{key:"currentOutProp",get:function(){return this._config.items[this._buyIndex]}}]),n}(C));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShop4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig4.ts","./ZdShopConfig4.ts","./ZdTowerConfig4.ts","./RoleShopCmp4.ts","./ZDResUtils4.ts","./ZDUtils4.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./RoleBase4.ts"],(function(t){var i,e,n,o,s,r,u,h,c,a,_,p,d,f;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,o=t.Size},function(t){s=t.ZdPropConfig},function(t){r=t.ZdShopConfig},function(t){u=t.ZdTowerConfig},function(t){h=t.RoleShopCmp4},function(t){c=t.ZDResUtils},function(t){a=t.ZDUtils4},function(t){_=t.CUTTREE_CFG},function(t){p=t.ERoleType},function(t){d=t.ZDGameState4},function(t){f=t.RoleBase}],execute:function(){n._RF.push({},"8b65ewHwtxDV5XeCWgTwOBt","RoleShop4",void 0);t("RoleShop",function(t){function n(){var i;return(i=t.call(this)||this)._shopView=void 0,i._config=void 0,i._curCnt=void 0,i._buyIndex=void 0,i._frame=void 0,i._isStand=void 0,i._standTime=void 0,i._roleType=p.Shop,i._isStand=!1,i._standTime=0,i._curCnt=0,i}i(n,t);var f=n.prototype;return f._onInit=function(t){this._config=r.data[t],this._buyIndex=0},f._initView=function(){this._view=this._shopView=h.Create(),this._size=new o,this._shopView.getSize(this._size),this._updateCntView(),this._updateShopView()},f.update=function(i){t.prototype.update.call(this,i),this._onCheckMainHeroUpdate(i)},f._onCheckMainHeroUpdate=function(t){if(this.enable){var i=d.runtime.control.mainHero;if(i){var e=a.isCrossByCircle(i.pos,i.initRadius,this.pos,this._size.width);this._isStand!=e&&this._shopView.setStandView(e),e?(this._isStand=!0,this._standTime+=t,this._standTime>=_.SHOP_SPEED&&(this._addPrice(1),this._standTime=0)):(this._isStand=!1,this._standTime=0)}}},f._addPrice=function(t){var i=d.runtime.data;i.treeCnt<t||(d.runtime.audioMgr.play(101,5),i.addTreeCnt(-t),d.runtime.ui.setTreeCntView(i.treeCnt),this._curCnt+=t,this._curCnt>=this.currentPrice?(this._curCnt-=this.currentPrice,1==this._config.type?(this._dropItem(),this._buyIndex+1<this._config.prices.length&&(this._buyIndex+=1,this._updateShopView()),this._updateCntView()):2==this._config.type&&this._buildTower()):this._updateCntView())},f._dropItem=function(){var t=this._position.x,i=this._position.y,e=d.runtime.control.dropProp(this.currentOutProp,t,i);d.runtime.control.mainHero.contactProp(e)},f._buildTower=function(){d.runtime.control.addTower(this.currentOutProp,this.pos.x,this.pos.y),this.remove()},f._updateCntView=function(){var t=this._curCnt/this.currentPrice;this._shopView.setProgressView(this._curCnt+"/"+this.currentPrice,t)},f._updateShopView=function(){if(1==this._config.type){var t=s.data[this.currentOutProp];this._shopView.setNameView(t.name,c.fullPropIconRes(t.shop_icon))}else if(2==this._config.type){var i=u.data[this.currentOutProp];this._shopView.setNameView(i.name,c.fullTowerIconRes(i.icon))}},e(n,[{key:"currentPrice",get:function(){return this._config.prices[this._buyIndex]}},{key:"currentOutProp",get:function(){return this._config.items[this._buyIndex]}}]),n}(f));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShop5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZdPropConfig.ts","./ZdShopConfig2.ts","./RoleShopCmp5.ts","./TowerLockUI.ts","./TowerUpTipsUI.ts","./TowerUpUI.ts","./ZDResUtils5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./RoleBase5.ts"],(function(t){var e,i,o,n,r,s,h,p,u,c,a,d,w,_,U,f,T,m,I,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,n=t.Size,r=t.Vec3,s=t.instantiate},function(t){h=t.YT},function(t){p=t.ZdPropConfig},function(t){u=t.ZdShopConfig},function(t){c=t.RoleShopCmp5},function(t){a=t.TowerLockUI},function(t){d=t.TowerUpTipsUI},function(t){w=t.TowerUpUI},function(t){_=t.ZDResUtils},function(t){U=t.CUTTREE_CFG,f=t.ZD_RES_PREFABS,T=t.ZD_BUNDLE},function(t){m=t.ERoleType},function(t){I=t.ZDGameState5},function(t){g=t.RoleBase}],execute:function(){o._RF.push({},"5aafa6FcXdJ46RjNwNVeR0k","RoleShop5",void 0);t("RoleShop",function(t){function o(){var e;return(e=t.call(this)||this)._shopView=void 0,e._config=void 0,e._curCnt=void 0,e._buyIndex=void 0,e._frame=void 0,e._isStand=void 0,e._standTime=void 0,e._startBuyTime=0,e.tower=void 0,e.towerLockUI=void 0,e.towerUpUI=void 0,e.towerUpTips=void 0,e.judgeTowerUpUIShow=!0,e._roleType=m.Shop,e._isStand=!1,e._standTime=0,e._curCnt=0,e}e(o,t);var g=o.prototype;return g._onInit=function(t){this._config=u.data[t],this._buyIndex=0},g._initView=function(){this._view=this._shopView=c.Create(),this._size=new n,this._shopView.getSize(this._size),this._updateCntView(),this._updateShopView()},g.update=function(e){t.prototype.update.call(this,e),this._onCheckMainHeroUpdate(e)},g._onCheckMainHeroUpdate=function(t){if(this.enable){var e=I.runtime.control.mainHero;if(e){var i=r.distance(e.pos,this.pos)<this._size.width/2;this._isStand!=i&&this._shopView.setStandView(i),i?(this._isStand=!0,this._standTime+=t,this._startBuyTime+=t,this._startBuyTime>=U.ShopStart&&(2==this._config.type&&(this.tower||this.towerLockUI)?this.towerLockUI?this.towerLockUI.show():this.tower&&this.judgeTowerUpUIShow&&this.tower.config.upId&&I.runtime.data.treeCnt>=this.tower.config.upPrice&&(this.judgeTowerUpUIShow=!1,this.showTowerUpUI()):this._standTime>=U.SHOP_SPEED&&(this._addPrice(1),this._standTime=0))):(this._isStand=!1,this._standTime=0,this._startBuyTime=0,this.towerLockUI&&this.towerLockUI.hide(),this.towerUpUI&&(this.judgeTowerUpUIShow=!0,this.towerUpUI.hide())),this.towerUpTips&&(this.tower&&this.tower.config.upId&&I.runtime.data.treeCnt>=this.tower.config.upPrice?this.towerUpUI&&this.towerUpUI.node.active?this.towerUpTips.animNode.active=!1:this.towerUpTips.animNode.active=!0:this.towerUpTips.animNode.active=!1)}}},g.showTowerUpUI=function(){var t=this;if(!this.towerUpUI){var e=s(h.res.get(f.TowerUp,T));e.parent=I.runtime.ui.uiLayer.node,e.setWorldPosition(this.pos),this.towerUpUI=e.getComponent(w),this.towerUpUI.init((function(){I.runtime.data.addTreeCnt(-t.tower.config.upPrice),I.runtime.control.mainHero.usePackRes(t.pos,t.tower.config.upPrice,(function(){t.tower=t.tower.upgrade(),t.towerUpTips&&t.towerUpTips.setNeedInfo(t.tower.config),t.judgeTowerUpUIShow=!0})),I.runtime.ui.setTreeCntView(I.runtime.data.treeCnt),t.towerUpUI.hide()}))}this.towerUpUI.show(this.tower.config.upPrice)},g._addPrice=function(t){var e=I.runtime.data;e.treeCnt<t||(I.runtime.audioMgr.play(101,5),e.addTreeCnt(-t),I.runtime.control.mainHero.usePackRes(this.pos),I.runtime.ui.setTreeCntView(e.treeCnt),this._curCnt+=t,this._curCnt>=this.currentPrice?(this._curCnt-=this.currentPrice,1==this._config.type?(this._dropItem(),this._buyIndex+1<this._config.prices.length&&(this._buyIndex+=1,this._updateShopView()),this._updateCntView()):2==this._config.type&&(this._buildTower(),this._curCnt=this.currentPrice,this._updateCntView())):this._updateCntView())},g._dropItem=function(){var t=this._position.x,e=this._position.y,i=I.runtime.control.dropProp(this.currentOutProp,t,e);I.runtime.control.mainHero.contactProp(i)},g._buildTower=function(){var t=this,e=s(h.res.get(f.TowerLock,T));e.parent=I.runtime.ui.uiLayer.node,e.setWorldPosition(this.pos),this.towerLockUI=e.getComponent(a),this.towerLockUI.init((function(e){t.tower=I.runtime.control.addTower(e,t.pos.x,t.pos.y),t.towerLockUI.node.destroy(),t.towerLockUI=null;var i=s(h.res.get(f.TowerUpTips,T));i.parent=I.runtime.ui.uiLayer.node,i.setWorldPosition(t.pos),t.towerUpTips=i.getComponent(d),t.towerUpTips.setNeedInfo(t.tower.config)})),this._shopView.node.active=!1},g._updateCntView=function(){var t=this._curCnt/this.currentPrice;this._shopView.setProgressView(this._curCnt+"/"+this.currentPrice,t)},g._updateShopView=function(){var t=p.data[this.currentOutProp];this._shopView.setNameView(t.name,_.fullPropIconRes(t.shop_icon))},i(o,[{key:"currentPrice",get:function(){return this._config.prices[this._buyIndex]}},{key:"currentOutProp",get:function(){return this._config.items[this._buyIndex]}}]),o}(g));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShop6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdPropConfig2.ts","./ZdShopConfig5.ts","./ZdTowerConfig.ts","./RoleShopCmp6.ts","./ZDResUtils6.ts","./ZDUtils6.ts","./ZDConst6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./RoleBase6.ts"],(function(t){var i,e,n,s,o,r,h,u,c,a,_,p,d,f,l,C;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,s=t.Size,o=t.math},function(t){r=t.ZdPropConfig},function(t){h=t.ZdShopConfig},function(t){u=t.ZdTowerConfig},function(t){c=t.RoleShopCmp6},function(t){a=t.ZDResUtils},function(t){_=t.ZDUtils},function(t){p=t.CUTTREE_CFG,d=t.SHOP_CFG},function(t){f=t.ERoleType},function(t){l=t.ZDGameState6},function(t){C=t.RoleBase}],execute:function(){n._RF.push({},"59971FIQ5ZMyapA4yvsscGV","RoleShop6",void 0);t("RoleShop",function(t){function n(){var i;return(i=t.call(this)||this)._shopView=void 0,i._config=void 0,i._curCnt=void 0,i._buyIndex=void 0,i._frame=void 0,i._isStand=void 0,i._standTime=void 0,i._roleType=f.Shop,i._isStand=!1,i._standTime=0,i._curCnt=0,i}i(n,t);var C=n.prototype;return C._onInit=function(t){this._config=h.data[t],this._buyIndex=0},C._initView=function(){this._view=this._shopView=c.Create(),this._size=new s,this._shopView.getSize(this._size),this._updateCntView(),this._updateShopView()},C.update=function(i){t.prototype.update.call(this,i),this._onCheckMainHeroUpdate(i)},C._onCheckMainHeroUpdate=function(t){if(this.enable){var i=l.runtime.control.mainHero;if(i){var e=_.isCrossByCircle(i.pos,i.initRadius,this.pos,this._size.width);this._isStand!=e&&this._shopView.setStandView(e),e?(this._isStand=!0,this._standTime+=t,this._standTime>=p.SHOP_SPEED&&(this._addPrice(1),this._standTime=0)):(this._isStand=!1,this._standTime=0)}}},C._addPrice=function(t){var i=l.runtime.data;i.treeCnt<t||(l.runtime.audioMgr.play(101,5),i.addTreeCnt(-t),l.runtime.ui.setTreeCntView(i.treeCnt),this._curCnt+=t,this._curCnt>=this.currentPrice?(this._curCnt-=this.currentPrice,1==this._config.type?(this._dropItem(),this._buyIndex+1<this._config.prices.length&&(this._buyIndex+=1,this._updateShopView()),this._updateCntView()):2==this._config.type&&this._buildTower()):this._updateCntView())},C._dropItem=function(){var t=this._position.x+o.randomRange(d.DROP_RANGE.x[0],d.DROP_RANGE.x[1]),i=this._position.y+o.randomRange(d.DROP_RANGE.y[0],d.DROP_RANGE.y[1]);l.runtime.control.dropProp(this.currentOutProp,t,i)},C._buildTower=function(){l.runtime.control.addTower(this.currentOutProp,this.pos.x,this.pos.y),this.remove()},C._updateCntView=function(){var t=this._curCnt/this.currentPrice;this._shopView.setProgressView(this._curCnt+"/"+this.currentPrice,t)},C._updateShopView=function(){if(1==this._config.type){var t=r.data[this.currentOutProp];this._shopView.setNameView(t.name,a.fullPropIconRes(t.shop_icon))}else if(2==this._config.type){var i=u.data[this.currentOutProp];this._shopView.setNameView(i.name,a.fullTowerIconRes(i.icon))}},e(n,[{key:"currentPrice",get:function(){return this._config.prices[this._buyIndex]}},{key:"currentOutProp",get:function(){return this._config.items[this._buyIndex]}}]),n}(C));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShopCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleEnum.ts","./BattleState.ts","./RoleBaseCmp.ts"],(function(e){var t,i,n,o,r,a,l,s,c,p,u,h,b,y,_,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.ccenum,c=e.Sprite,p=e.Label,u=e.Node,h=e.CCInteger,b=e.Color,y=e.Size},function(e){_=e.EShopType},function(e){d=e.BattleState},function(e){f=e.RoleBaseCmp}],execute:function(){var m,v,g,k,z,L,w,N,S,C,P,R,x,T,B,V,A,D,E;a._RF.push({},"9da13m7HO5Gh7Jrk/lUIAbK","RoleShopCmp",void 0);var I=l.ccclass,H=l.property;s(_);e("RoleShopCmp",(m=I("RoleShopCmp"),v=H({type:c,displayName:"进度节点",visible:!0}),g=H({type:p,displayName:"数量节点",visible:!0}),k=H({type:p,displayName:"名称节点",visible:!0}),z=H({type:u,displayName:"锁定节点",visible:!0}),L=H({type:h,displayName:"编号",visible:!0}),w=H({type:_,displayName:"类型",visible:!0}),N=H({type:h,displayName:"解锁价格",visible:!0}),S=H({type:[h],displayName:"价格",visible:!0}),m((R=t((P=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_barSpr",R,o(t)),n(t,"_cntLab",x,o(t)),n(t,"_nameLab",T,o(t)),n(t,"_lockNode",B,o(t)),n(t,"_index",V,o(t)),n(t,"_type",A,o(t)),n(t,"_unlockPrice",D,o(t)),n(t,"_prices",E,o(t)),t._size=void 0,t._lockAct=!1,t}i(t,e);var a=t.prototype;return a.getPrices=function(e){return this._prices[0]},a.update=function(e){},a.hitEffect=function(){},a.setStandView=function(e){this.node.getComponent(c).color=e?F:b.WHITE},a.setProgressView=function(e,t){this._cntLab.string=e,this._barSpr.fillRange=t},a.setLockView=function(e){this._lockNode.active=e,e&&(this._cntLab.string=String(this._unlockPrice))},a.setVisible=function(t){e.prototype.setVisible.call(this,t),this._cntLab.node.active=t,this._nameLab.node.active=t,t||(this._lockNode.active=!1)},a.splitLayers=function(){var e=d.ins.control.runTimeData.levelControl.view;this._cntLab.node.setParent(e.shopTextRoot,!0),this._nameLab.node.setParent(e.shopTextRoot,!0),this._lockAct=this._lockNode.active,this._lockNode.setParent(e.shopLockRoot,!0)},a.remove=function(){e.prototype.remove.call(this),this._cntLab.node.destroy(),this._nameLab.node.destroy(),this._lockNode.destroy()},r(t,[{key:"shopType",get:function(){return this._type}},{key:"index",get:function(){return this._index}},{key:"unlockPrice",get:function(){return this._unlockPrice}},{key:"size",get:function(){if(!this._size){this._size=new y;var e=this.node.uiTransform.contentSize,t=e.width*this.node.scale.x,i=e.height*this.node.scale.y;this._size.set(t,i)}return this._size}},{key:"maxBuyCnt",get:function(){return this._prices.length}}]),t}(f)).prototype,"_barSpr",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(P.prototype,"_cntLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(P.prototype,"_nameLab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(P.prototype,"_lockNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(P.prototype,"_index",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(P.prototype,"_type",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"_unlockPrice",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(P.prototype,"_prices",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=P))||C));var F=new b(0,255,255,255);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShopCmp2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst.ts","./ZDGameState.ts","./RoleBaseCmp2.ts"],(function(e){var t,i,n,o,a,r,l,c,s,p,u,h,m,b,f,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.Sprite,s=e.Label,p=e.Color},function(e){u=e.ViewUtil},function(e){h=e.UIHelper},function(e){m=e.ZD_RES_PREFABS,b=e.ZD_BUNDLE},function(e){f=e.ZDGameState},function(e){_=e.RoleBaseCmp}],execute:function(){var d,y,g,w,S,v,R,N,D,L,z,C,I;a._RF.push({},"c0d7aAqWVJKh5cLosh6zN97","RoleShopCmp",void 0);var V=r.ccclass,P=r.property;e("RoleShopCmp",(d=V("RoleShopCmp"),y=P({type:l,displayName:"图标节点",visible:!0}),g=P({type:c,displayName:"进度节点",visible:!0}),w=P({type:s,displayName:"数量节点",visible:!0}),S=P({type:s,displayName:"名称节点",visible:!0}),v=P({type:c,displayName:"名称图标",visible:!0}),d((D=t((N=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_iconNode",D,o(t)),n(t,"_barSpr",L,o(t)),n(t,"_cntLab",z,o(t)),n(t,"_nameLab",C,o(t)),n(t,"_nameIcon",I,o(t)),t}i(t,e),t.Create=function(){var e=u.createPrefabNode(m.SHOP_VIEW,b);e.parent=f.runtime.ui.treeDropRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=f.runtime.ui.treeDropRoot},a.update=function(e){},a.hitEffect=function(){},a.setStandView=function(e){},a.setProgressView=function(e,t){this._cntLab.string=e,this._barSpr.fillRange=t},a.setNameView=function(e,t){this._nameLab.string=e,t?(this._nameIcon.node.active=!0,h.changeSpriteFrame(t,b,this._nameIcon)):this._nameIcon.node.active=!1},t}(_)).prototype,"_iconNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(N.prototype,"_barSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(N.prototype,"_cntLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(N.prototype,"_nameLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(N.prototype,"_nameIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=N))||R)),new p(0,255,255,255);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShopCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst3.ts","./ZDGameState3.ts","./RoleBaseCmp3.ts"],(function(e){var t,i,n,o,a,r,l,c,p,s,u,b,m,f,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.Sprite,p=e.Label,s=e.Color},function(e){u=e.ViewUtil},function(e){b=e.UIHelper},function(e){m=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){h=e.ZDGameState3},function(e){d=e.RoleBaseCmp3}],execute:function(){var _,y,g,w,S,v,R,D,N,C,L,z,I;a._RF.push({},"d7c0b/Vj5tBuZDtdp2ai3AH","RoleShopCmp3",void 0);var V=r.ccclass,B=r.property;e("RoleShopCmp3",(_=V("RoleShopCmp3"),y=B({type:l,displayName:"图标节点",visible:!0}),g=B({type:c,displayName:"进度节点",visible:!0}),w=B({type:p,displayName:"数量节点",visible:!0}),S=B({type:p,displayName:"名称节点",visible:!0}),v=B({type:c,displayName:"名称图标",visible:!0}),_((N=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_iconNode",N,o(t)),n(t,"_barSpr",C,o(t)),n(t,"_cntLab",L,o(t)),n(t,"_nameLab",z,o(t)),n(t,"_nameIcon",I,o(t)),t}i(t,e),t.Create=function(){var e=u.createPrefabNode(m.SHOP_VIEW,f);e.parent=h.runtime.ui.treeDropRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=h.runtime.ui.treeDropRoot},a.update=function(e){},a.hitEffect=function(){},a.setStandView=function(e){},a.setProgressView=function(e,t){this._cntLab.string=e,this._barSpr.fillRange=t},a.setNameView=function(e,t){this._nameLab.string=e,t?(this._nameIcon.node.active=!0,b.changeSpriteFrame(t,f,this._nameIcon)):this._nameIcon.node.active=!1},t}(d)).prototype,"_iconNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"_barSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(D.prototype,"_cntLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(D.prototype,"_nameLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(D.prototype,"_nameIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=D))||R)),new s(0,255,255,255);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShopCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst4.ts","./ZDGameState4.ts","./RoleBaseCmp4.ts"],(function(e){var t,i,n,o,a,r,l,c,p,s,u,m,b,f,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.Sprite,p=e.Label,s=e.Color},function(e){u=e.ViewUtil},function(e){m=e.UIHelper},function(e){b=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){h=e.ZDGameState4},function(e){d=e.RoleBaseCmp4}],execute:function(){var _,y,g,w,S,v,R,D,N,C,L,z,I;a._RF.push({},"1183dK03aVGiKdXKDJ3ma5Q","RoleShopCmp4",void 0);var V=r.ccclass,P=r.property;e("RoleShopCmp4",(_=V("RoleShopCmp4"),y=P({type:l,displayName:"图标节点",visible:!0}),g=P({type:c,displayName:"进度节点",visible:!0}),w=P({type:p,displayName:"数量节点",visible:!0}),S=P({type:p,displayName:"名称节点",visible:!0}),v=P({type:c,displayName:"名称图标",visible:!0}),_((N=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_iconNode",N,o(t)),n(t,"_barSpr",C,o(t)),n(t,"_cntLab",L,o(t)),n(t,"_nameLab",z,o(t)),n(t,"_nameIcon",I,o(t)),t}i(t,e),t.Create=function(){var e=u.createPrefabNode(b.SHOP_VIEW,f);e.parent=h.runtime.ui.treeDropRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=h.runtime.ui.treeDropRoot},a.update=function(e){},a.hitEffect=function(){},a.setStandView=function(e){},a.setProgressView=function(e,t){this._cntLab.string=e,this._barSpr.fillRange=t},a.setNameView=function(e,t){this._nameLab.string=e,t?(this._nameIcon.node.active=!0,m.changeSpriteFrame(t,f,this._nameIcon)):this._nameIcon.node.active=!1},t}(d)).prototype,"_iconNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"_barSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(D.prototype,"_cntLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(D.prototype,"_nameLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(D.prototype,"_nameIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=D))||R)),new s(0,255,255,255);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShopCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst5.ts","./ZDGameState5.ts","./RoleBaseCmp5.ts"],(function(e){var t,i,n,o,a,r,l,c,p,s,u,m,b,f,h,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.Sprite,p=e.Label,s=e.Color},function(e){u=e.ViewUtil},function(e){m=e.UIHelper},function(e){b=e.ZD_RES_PREFABS,f=e.ZD_BUNDLE},function(e){h=e.ZDGameState5},function(e){_=e.RoleBaseCmp5}],execute:function(){var y,d,g,v,w,S,R,D,N,C,L,z,I;a._RF.push({},"a506bVBvPhBooncf95p3m85","RoleShopCmp5",void 0);var V=r.ccclass,B=r.property;e("RoleShopCmp5",(y=V("RoleShopCmp5"),d=B({type:l,displayName:"图标节点",visible:!0}),g=B({type:c,displayName:"进度节点",visible:!0}),v=B({type:p,displayName:"数量节点",visible:!0}),w=B({type:p,displayName:"名称节点",visible:!0}),S=B({type:c,displayName:"名称图标",visible:!0}),y((N=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_iconNode",N,o(t)),n(t,"_barSpr",C,o(t)),n(t,"_cntLab",L,o(t)),n(t,"_nameLab",z,o(t)),n(t,"_nameIcon",I,o(t)),t}i(t,e),t.Create=function(){var e=u.createPrefabNode(b.SHOP_VIEW,f);e.parent=h.runtime.ui.treeDropRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=h.runtime.ui.treeDropRoot},a.update=function(e){},a.hitEffect=function(){},a.setStandView=function(e){},a.setProgressView=function(e,t){this._cntLab.string=e,this._barSpr.fillRange=t},a.setNameView=function(e,t){this._nameLab.string=e,t?(this._nameIcon.node.active=!0,m.changeSpriteFrame(t,f,this._nameIcon)):this._nameIcon.node.active=!1},t}(_)).prototype,"_iconNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"_barSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(D.prototype,"_cntLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(D.prototype,"_nameLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(D.prototype,"_nameIcon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=D))||R)),new s(0,255,255,255);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShopCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst6.ts","./ZDGameState6.ts","./RoleBaseCmp6.ts"],(function(e){var t,i,n,o,a,r,l,p,c,s,u,f,b,m,h,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,p=e.Sprite,c=e.Label,s=e.Color},function(e){u=e.ViewUtil},function(e){f=e.UIHelper},function(e){b=e.ZD_RES_PREFABS,m=e.ZD_BUNDLE},function(e){h=e.ZDGameState6},function(e){_=e.RoleBaseCmp6}],execute:function(){var d,y,g,w,S,v,R,D,N,C,L,z,I;a._RF.push({},"0d7fbEM7RtJfp1e3t8ZBM+2","RoleShopCmp6",void 0);var V=r.ccclass,B=r.property;e("RoleShopCmp6",(d=V("RoleShopCmp6"),y=B({type:l,displayName:"图标节点",visible:!0}),g=B({type:p,displayName:"进度节点",visible:!0}),w=B({type:c,displayName:"数量节点",visible:!0}),S=B({type:c,displayName:"名称节点",visible:!0}),v=B({type:p,displayName:"名称图标",visible:!0}),d((N=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_iconNode",N,o(t)),n(t,"_barSpr",C,o(t)),n(t,"_cntLab",L,o(t)),n(t,"_nameLab",z,o(t)),n(t,"_nameIcon",I,o(t)),t}i(t,e),t.Create=function(){var e=u.createPrefabNode(b.SHOP_VIEW,m);e.parent=h.runtime.ui.treeDropRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=h.runtime.ui.treeDropRoot},a.update=function(e){},a.hitEffect=function(){},a.setStandView=function(e){},a.setProgressView=function(e,t){this._cntLab.string=e,this._barSpr.fillRange=t},a.setNameView=function(e,t){this._nameLab.string=e,t?(this._nameIcon.node.active=!0,f.changeSpriteFrame(t,m,this._nameIcon)):this._nameIcon.node.active=!1},t}(_)).prototype,"_iconNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"_barSpr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(D.prototype,"_cntLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(D.prototype,"_nameLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(D.prototype,"_nameIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=D))||R)),new s(0,255,255,255);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleSpawn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum.ts","./ZDGameState.ts","./RoleBase.ts"],(function(t){var e,i,o,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.ERoleType},function(t){n=t.ZDGameState},function(t){a=t.RoleBase}],execute:function(){i._RF.push({},"12207Uw6cJC4KRVfdjK7Azv","RoleSpawn",void 0);t("RoleSpawn",function(t){function i(){var e;return(e=t.call(this)||this)._time=void 0,e._totalTime=void 0,e._targetType=void 0,e._targetId=void 0,e._targetParams=void 0,e._roleType=o.Spawn,e._time=0,e}e(i,t);var a=i.prototype;return a._onInit=function(t){this._totalTime=t/1e3;for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];this._targetType=i[0][0],this._targetId=i[0][1],this._targetParams=i[0].slice(2)},a._initView=function(){},a.update=function(t){this.enable&&(this._time+=t,this._time<this._totalTime||(this.remove(),n.runtime.control.addRole(this._targetType,this._targetId,this.pos.x,this.pos.y,this._targetParams)))},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleSpawn3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum3.ts","./ZDGameState3.ts","./RoleBase3.ts"],(function(t){var e,i,n,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.ERoleType},function(t){o=t.ZDGameState3},function(t){a=t.RoleBase3}],execute:function(){i._RF.push({},"3912aKmnlBJUpDi2ph2c9/P","RoleSpawn3",void 0);t("RoleSpawn3",function(t){function i(){var e;return(e=t.call(this)||this)._time=void 0,e._totalTime=void 0,e._targetType=void 0,e._targetId=void 0,e._targetParams=void 0,e._roleType=n.Spawn,e._time=0,e}e(i,t);var a=i.prototype;return a._onInit=function(t){this._totalTime=t/1e3;for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this._targetType=i[0][0],this._targetId=i[0][1],this._targetParams=i[0].slice(2)},a._initView=function(){},a.update=function(t){this.enable&&(this._time+=t,this._time<this._totalTime||(this.remove(),o.runtime.control.addRole(this._targetType,this._targetId,this.pos.x,this.pos.y,this._targetParams)))},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleSpawn4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum4.ts","./ZDGameState4.ts","./RoleBase4.ts"],(function(t){var e,i,o,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.ERoleType},function(t){n=t.ZDGameState4},function(t){a=t.RoleBase}],execute:function(){i._RF.push({},"3eb5fpzgQpOr75WY6xQ+QfN","RoleSpawn4",void 0);t("RoleSpawn",function(t){function i(){var e;return(e=t.call(this)||this)._time=void 0,e._totalTime=void 0,e._targetType=void 0,e._targetId=void 0,e._targetParams=void 0,e._roleType=o.Spawn,e._time=0,e}e(i,t);var a=i.prototype;return a._onInit=function(t){this._totalTime=t/1e3;for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];this._targetType=i[0][0],this._targetId=i[0][1],this._targetParams=i[0].slice(2)},a._initView=function(){},a.update=function(t){this.enable&&(this._time+=t,this._time<this._totalTime||(this.remove(),n.runtime.control.addRole(this._targetType,this._targetId,this.pos.x,this.pos.y,this._targetParams)))},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleSpawn5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum5.ts","./ZDGameState5.ts","./RoleBase5.ts"],(function(t){var e,i,o,a,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.ERoleType},function(t){a=t.ZDGameState5},function(t){n=t.RoleBase}],execute:function(){i._RF.push({},"857a1oMauVBv6DSWa/8tg8T","RoleSpawn5",void 0);t("RoleSpawn",function(t){function i(){var e;return(e=t.call(this)||this)._time=void 0,e._totalTime=void 0,e._targetType=void 0,e._targetId=void 0,e._targetParams=void 0,e._roleType=o.Spawn,e._time=0,e}e(i,t);var n=i.prototype;return n._onInit=function(t){this._totalTime=t/1e3;for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];this._targetType=i[0][0],this._targetId=i[0][1],this._targetParams=i[0].slice(2)},n._initView=function(){},n.update=function(t){this.enable&&(this._time+=t,this._time<this._totalTime||(this.remove(),a.runtime.control.addRole(this._targetType,this._targetId,this.pos.x,this.pos.y,this._targetParams)))},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleSpawn6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum6.ts","./ZDGameState6.ts","./RoleBase6.ts"],(function(t){var e,i,n,o,a,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){o=t.ERoleType},function(t){a=t.ZDGameState6},function(t){r=t.RoleBase}],execute:function(){n._RF.push({},"65e77NolnBLQ6V+xSuUqBWP","RoleSpawn6",void 0);t("RoleSpawn",function(t){function n(){var e;return(e=t.call(this)||this)._time=void 0,e._totalTime=void 0,e._targetType=void 0,e._targetId=void 0,e._targetParams=void 0,e._roleType=o.Spawn,e._time=0,e}e(n,t);var r=n.prototype;return r._onInit=function(t){this._totalTime=t/1e3;for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this._targetType=i[0][0],this._targetId=i[0][1],this._targetParams=i[0].slice(2)},r._initView=function(){},r.update=function(t){this.enable&&(this._time+=t,this._time<this._totalTime||(this.remove(),a.runtime.control.addRole(this._targetType,this._targetId,this.pos.x,this.pos.y,this._targetParams)))},i(n,[{key:"targetType",get:function(){return this._targetType}}]),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig4.ts","./ZdTowerConfig5.ts","./TowerCmp.ts","./ZDEnum.ts","./ZDGameState.ts","./RoleBase.ts"],(function(t){var i,e,o,n,s,r,_,u,a,h,l,f;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,n=t.Size,s=t.math},function(t){r=t.ZdBulletConfig},function(t){_=t.ZdTowerConfig},function(t){u=t.TowerCmp},function(t){a=t.ERoleStatus,h=t.ERoleType},function(t){l=t.ZDGameState},function(t){f=t.RoleBase}],execute:function(){o._RF.push({},"038adM7+jFG3oBOiadgqFiJ","RoleTower",void 0);t("RoleTower",function(t){function o(){var i;return(i=t.call(this)||this)._towerView=void 0,i._config=void 0,i._bulletConfig=void 0,i._time=void 0,i._isInCd=void 0,i._frame=void 0,i._roleType=h.Tower,i._frame=0,i}i(o,t);var f=o.prototype;return f._onInit=function(t){this._config=_.data[t],this._bulletConfig=r.data[this._config.bullet]},f._initView=function(){this._view=this._towerView=u.Create(),this._size=new n,this._towerView.getSize(this._size)},f._onBirth=function(){t.prototype._onBirth.call(this),this._time=0},f.update=function(i){t.prototype.update.call(this,i),this._frame+=1,this._frame>=10&&(this._frame=0),this._status==a.Birth?this._updateBirth(i):this._status==a.Idle&&this._frame%3==0&&this._updateFire(i)},f._updateBirth=function(t){this._time+=t;var i=s.clamp01(this._time/.2);this._towerView.setModelScale(1,i),i>=1&&(this._towerView.setModelScale(1,1),this.idle(),this._isInCd=!1,this._time=0)},f._updateFire=function(t){this._isInCd&&(this._time+=t,this._time>=this._config.speed/1e3&&(this._isInCd=!1)),this._isInCd||this._fireBullet()&&(this._isInCd=!0,this._time=0)},f._fireBullet=function(){if(1==this._bulletConfig.type){var t=l.runtime.control.findTowerTarget(this);if(t)return console.log("发射子弹"),l.runtime.control.addBullet(this._config.bullet,this.pos.x+this._towerView.firePos.x,this.pos.y+this._towerView.firePos.y).startByTarget(t,this._config.atk),!0}return!1},e(o,[{key:"atkRange",get:function(){return this._config.range}},{key:"canAtkAIHero",get:function(){return this._bulletConfig.atk_ai_hero>0}},{key:"canAtkMainHero",get:function(){return this._bulletConfig.atk_main_hero>0}},{key:"canAtkMonster",get:function(){return this._bulletConfig.atk_monster>0}}]),o}(f));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTower3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig3.ts","./ZdTowerConfig2.ts","./TowerCmp3.ts","./ZDEnum3.ts","./ZDGameState3.ts","./RoleBase3.ts"],(function(t){var i,e,o,n,s,r,_,u,a,h,l,f;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,n=t.Size,s=t.math},function(t){r=t.ZdBulletConfig},function(t){_=t.ZdTowerConfig},function(t){u=t.TowerCmp3},function(t){a=t.ERoleStatus,h=t.ERoleType},function(t){l=t.ZDGameState3},function(t){f=t.RoleBase3}],execute:function(){o._RF.push({},"428a1f3wA5O9rEqfEvjLnqH","RoleTower3",void 0);t("RoleTower3",function(t){function o(){var i;return(i=t.call(this)||this)._towerView=void 0,i._config=void 0,i._bulletConfig=void 0,i._time=void 0,i._isInCd=void 0,i._frame=void 0,i._roleType=h.Tower,i._frame=0,i}i(o,t);var f=o.prototype;return f._onInit=function(t){this._config=_.data[t],this._bulletConfig=r.data[this._config.bullet]},f._initView=function(){this._view=this._towerView=u.Create(),this._size=new n,this._towerView.getSize(this._size)},f._onBirth=function(){t.prototype._onBirth.call(this),this._time=0},f.update=function(i){t.prototype.update.call(this,i),this._frame+=1,this._frame>=10&&(this._frame=0),this._status==a.Birth?this._updateBirth(i):this._status==a.Idle&&this._frame%3==0&&this._updateFire(i)},f._updateBirth=function(t){this._time+=t;var i=s.clamp01(this._time/.2);this._towerView.setModelScale(1,i),i>=1&&(this._towerView.setModelScale(1,1),this.idle(),this._isInCd=!1,this._time=0)},f._updateFire=function(t){this._isInCd&&(this._time+=t,this._time>=this._config.speed/1e3&&(this._isInCd=!1)),this._isInCd||this._fireBullet()&&(this._isInCd=!0,this._time=0)},f._fireBullet=function(){if(1==this._bulletConfig.type){var t=l.runtime.control.findTowerTarget(this);if(t)return console.log("发射子弹"),l.runtime.control.addBullet(this._config.bullet,this.pos.x+this._towerView.firePos.x,this.pos.y+this._towerView.firePos.y).startByTarget(t,this._config.atk),!0}return!1},e(o,[{key:"atkRange",get:function(){return this._config.range}},{key:"canAtkAIHero",get:function(){return this._bulletConfig.atk_ai_hero>0}},{key:"canAtkMainHero",get:function(){return this._bulletConfig.atk_main_hero>0}},{key:"canAtkMonster",get:function(){return this._bulletConfig.atk_monster>0}}]),o}(f));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTower4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig.ts","./ZdTowerConfig4.ts","./TowerCmp4.ts","./ZDEnum4.ts","./ZDGameState4.ts","./RoleBase4.ts"],(function(t){var i,e,n,o,s,r,_,u,a,h,l,f;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,o=t.Size,s=t.math},function(t){r=t.ZdBulletConfig},function(t){_=t.ZdTowerConfig},function(t){u=t.TowerCmp4},function(t){a=t.ERoleStatus,h=t.ERoleType},function(t){l=t.ZDGameState4},function(t){f=t.RoleBase}],execute:function(){n._RF.push({},"29be5nWn+pKoYrTRinCZSZK","RoleTower4",void 0);t("RoleTower",function(t){function n(){var i;return(i=t.call(this)||this)._towerView=void 0,i._config=void 0,i._bulletConfig=void 0,i._time=void 0,i._isInCd=void 0,i._frame=void 0,i._roleType=h.Tower,i._frame=0,i}i(n,t);var f=n.prototype;return f._onInit=function(t){this._config=_.data[t],this._bulletConfig=r.data[this._config.bullet]},f._initView=function(){this._view=this._towerView=u.Create(),this._size=new o,this._towerView.getSize(this._size)},f._onBirth=function(){t.prototype._onBirth.call(this),this._time=0},f.update=function(i){t.prototype.update.call(this,i),this._frame+=1,this._frame>=10&&(this._frame=0),this._status==a.Birth?this._updateBirth(i):this._status==a.Idle&&this._frame%3==0&&this._updateFire(i)},f._updateBirth=function(t){this._time+=t;var i=s.clamp01(this._time/.2);this._towerView.setModelScale(1,i),i>=1&&(this._towerView.setModelScale(1,1),this.idle(),this._isInCd=!1,this._time=0)},f._updateFire=function(t){this._isInCd&&(this._time+=t,this._time>=this._config.speed/1e3&&(this._isInCd=!1)),this._isInCd||this._fireBullet()&&(this._isInCd=!0,this._time=0)},f._fireBullet=function(){if(1==this._bulletConfig.type){var t=l.runtime.control.findTowerTarget(this);if(t)return console.log("发射子弹"),l.runtime.control.addBullet(this._config.bullet,this.pos.x+this._towerView.firePos.x,this.pos.y+this._towerView.firePos.y).startByTarget(t,this._config.atk),!0}return!1},e(n,[{key:"atkRange",get:function(){return this._config.range}},{key:"canAtkAIHero",get:function(){return this._bulletConfig.atk_ai_hero>0}},{key:"canAtkMainHero",get:function(){return this._bulletConfig.atk_main_hero>0}},{key:"canAtkMonster",get:function(){return this._bulletConfig.atk_monster>0}}]),n}(f));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTower5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vec3Util.ts","./ZWTTools.ts","./YT.ts","./ZdBulletConfig5.ts","./ZdTowerConfig3.ts","./TowerCmp5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts","./RoleBaseTower5.ts","./RoleBase5.ts","./RoleHero5.ts","./RoleMonster5.ts"],(function(t){var e,i,s,o,r,n,a,h,l,f,u,c,d,g,_,p,m,w,T,v,B,b,y,R,P,N,C;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,o=t.Vec3,r=t.Size,n=t.ProgressBar,a=t.AudioSource,h=t.math,l=t.tween,f=t.ParticleSystem,u=t.instantiate,c=t.Tween},function(t){d=t.Vec3Util},function(t){g=t.ZWTTools},function(t){_=t.YT},function(t){p=t.ZdBulletConfig},function(t){m=t.ZdTowerConfig},function(t){w=t.TowerCmp5},function(t){T=t.ZD_BUNDLE},function(t){v=t.ERoleStatus,B=t.ERoleType},function(t){b=t.ZDGameState5},function(t){y=t.RoleBaseTower},function(t){R=t.RoleBase},function(t){P=t.RoleHero},function(t){N=t.CampType,C=t.RoleMonster}],execute:function(){s._RF.push({},"0e4a7v8wsxHhI+/ZXjMHriB","RoleTower5",void 0);var A=new o;t("RoleTower",function(t){function s(){var e;return(e=t.call(this)||this)._towerView=void 0,e.config=void 0,e._bulletConfig=void 0,e._time=void 0,e._isInCd=void 0,e._frame=void 0,e.uping=!1,e._fireBulletNode=void 0,e._fireTarget=void 0,e.fireAudio=void 0,e.hpProgress=void 0,e.curEulerZ=30,e.targetEulerZ=0,e.rotateSpeed=180,e.aimTime=0,e._roleType=B.Tower,e._frame=0,e}e(s,t);var R=s.prototype;return R._onInit=function(t){this.config=m.data[t],this._bulletConfig=p.data[this.config.bullet],_.message.on("roleRemove",this.roleRemove,this),this instanceof y||b.runtime.audioMgr.play(1007,5)},R._initView=function(){this._view=this._towerView=w.Create(this.config.model),this._size=new r,this._towerView.getSize(this._size),this.hpProgress=this.view.getComponentInChildren(n),this.hpProgress&&(this.hpProgress.node.active=!1),this.fireAudio=this.view.getComponent(a)},R._onBirth=function(){t.prototype._onBirth.call(this),this._time=0},R.update=function(e){if(t.prototype.update.call(this,e),this._frame+=1,this._frame>=10&&(this._frame=0),this._status==v.Birth?this._updateBirth(e):this._status==v.Idle&&this._frame%3==0&&this._updateFire(e),Date.now()-this.aimTime>250)if(this.aimTime=Date.now(),this._fireTarget)this.setHeadFlip(this._fireTarget.pos);else{var i=this.ctrl.getMinOpp(N.Tm,this.pos);i&&this.setHeadFlip(i.pos)}if(this._towerView.atkAnimNode){var s=this.getShortestAngle(this.curEulerZ,this.targetEulerZ);if(Math.abs(s)>1){var o=e*this.rotateSpeed>Math.abs(s)?Math.abs(s):e*this.rotateSpeed;this.curEulerZ+=Math.sign(s)*o}this._towerView.atkAnimNode.setWorldRotationFromEuler(0,0,this.curEulerZ)}this.fireAudio&&(this.fireAudio.volume=b.runtime.audioMgr.volumeEffect)},R.getShortestAngle=function(t,e){return(e-t+540)%360-180},R._updateBirth=function(t){this._time+=t;var e=h.clamp01(this._time/.2);this._towerView.setModelScale(1,e),e>=1&&(this._towerView.setModelScale(1,1),this.idle(),this._isInCd=!1,this._time=0)},R._updateFire=function(t){var e=this;if(!this.uping){switch(this._isInCd&&(this._time+=t,this._time>=this.config.speed/1e3&&(this._isInCd=!1)),this.config.special){case 1:break;case 2:if(this._fireTarget&&!this._fireTarget.enable&&(this._fireTarget=null),(!this._fireTarget||this._fireTarget&&o.distance(this.getFirePos,this._fireTarget.pos)>this.config.range)&&(this._fireTarget=this.ctrl.getRangeMinOpps(N.Tm,this.config.range,this.getFirePos,1)[0]),!this._fireTarget&&this._fireBulletNode){var i=this._fireBulletNode;l(i).delay(.15).call((function(){i.getComponentsInChildren(f).forEach((function(t){t.stopEmitting()}))})).delay(1.5).call((function(){i.destroy()})).tag(88888).start(),this._fireBulletNode=null}if(this._fireTarget&&!this._fireBulletNode&&(this._fireBulletNode=u(_.res.get("prefab/bullet/"+p.data[this.config.bullet].model,T)),this._fireBulletNode.parent=b.runtime.ui.bulletRoot,this._fireBulletNode.setWorldPosition(this.getFirePos)),this._fireTarget){A.set(this._fireTarget.pos.x,this._fireTarget.pos.y,0).subtract(this._fireBulletNode.worldPosition).normalize();var s=d.signedAngleEx(d.s_right,A,d.s_forward);this._fireBulletNode.setWorldRotationFromEuler(0,0,s),this.fireAudio&&!this.fireAudio.playing&&this.fireAudio.play()}else this.fireAudio&&this.fireAudio.playing&&this.fireAudio.stop()}if(!this._isInCd)switch(this.config.special){case 1:this._fireBullet(this.config.specV1)&&(this._isInCd=!0,this._time=0);break;case 2:if(this._fireTarget)if(this._fireTarget instanceof P||this._fireTarget instanceof C)this.ctrl.getFanRangeOpp(N.Tm,this.config.range,this._fireBulletNode.worldPosition,A.set(this._fireTarget.pos).subtract(this._fireBulletNode.worldPosition).normalize(),this.config.specV1).forEach((function(t){t.hurt(e.config.atk,[e.config.buffId])})),this._isInCd=!0,this._time=0;break;case 3:var r=this.ctrl.getRangeMinOpps(N.Tm,this.config.range,this.getFirePos,1)[0];if(r){var n=this.config.atk,a=[],h=null,c=u(_.res.get("prefab/bullet/"+p.data[this.config.bullet].model,T));c.parent=b.runtime.ui.bulletRoot,c.setWorldPosition(this.getFirePos);for(var m=0;m<this.config.specV1;m++){var w=0==m?r:this.ctrl.getRangeRandomOpp(N.Tm,this.config.range,h?h.pos:this._towerView.node.worldPosition,a);if(!w)break;a.push(w);var v=c.children[m];v||((v=u(c.children[0])).parent=c);var B=h?h.pos:this.getFirePos,y=w.pos,R=A.set(y).subtract(B).normalize(),E=o.distance(B,y);v.setWorldPosition(B),v.size=v.size.set(v.size.width,E);var V=d.signedAngleEx(d.s_up,R,d.s_forward);v.setWorldRotationFromEuler(0,0,V),h=w,w.hurt(n,[this.config.buffId]),n=Math.ceil(n*(1-this.config.specV2)),g.playEffect(14005,w.pos,b.runtime.ui.effectRoot,1)}l(c).to(1,{opacity:0}).call((function(){c.destroy()})).tag(88888).start(),this._isInCd=!0,this._time=0,this.atkAnim(),b.runtime.audioMgr.play(1001,5)}break;default:this._fireBullet(1)&&(this._isInCd=!0,this._time=0)}}},R._fireBullet=function(t){var e=this;if(1==this._bulletConfig.type){var i=this.ctrl.getRangeMinOpps(N.Tm,this.config.range,this.getFirePos,t);if(i.forEach((function(t){var i=e.ctrl.addBullet(e.config.bullet,e.getFirePos.x,e.getFirePos.y);i.startByTarget(t,e.config.atk),i.buffIds=[],e.config.buffId&&i.buffIds.push(e.config.buffId)})),i.length>0)return this.atkAnim(),b.runtime.audioMgr.play(1006,5),!0}return!1},R.atkAnim=function(){this._towerView.atkAnimNode&&l(this._towerView.atkAnimNode).to(.1,{scale:new o(1.1,1.1,1.1)},{easing:"backOut"}).to(.05,{scale:o.ONE}).tag(88888).start()},R.setHeadFlip=function(t){var e=Math.abs(this._towerView.headNode.scale.x),i=Math.abs(this._towerView.headNode.scale.y);this._towerView.headNode.setScale(t.x<this.pos.x?e:-e,i,1);var s=A.set(t).subtract(this._towerView.headNode.worldPosition).normalize(),o=d.signedAngleEx(d.s_left,s,d.s_forward);this.targetEulerZ=this._towerView.headNode.worldScale.x>0?(o%360+360)%360:(540-o)%360,this._fireBulletNode&&this._fireBulletNode.setWorldPosition(this.getFirePos)},R.roleRemove=function(t){this._fireTarget===t&&(this._fireTarget=null)},R.remove=function(){t.prototype.remove.call(this),this._fireBulletNode&&this._fireBulletNode.destroy(),this.hpProgress&&this.hpProgress.node.destroy(),_.message.off("roleRemove",this.roleRemove,this)},R.upgrade=function(){var t=this.config.upId;if(t)return c.stopAllByTarget(this._view.node),this.remove(),this.ctrl.addTower(t,this.pos.x,this.pos.y)},i(s,[{key:"atkRange",get:function(){return this.config.range}},{key:"ctrl",get:function(){return b.runtime.control}},{key:"getFirePos",get:function(){return this._towerView.firePosNode.worldPosition}}]),s}(R));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTower6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBulletConfig2.ts","./ZdTowerConfig.ts","./TowerCmp6.ts","./ZDEnum6.ts","./ZDGameState6.ts","./RoleBase6.ts"],(function(t){var i,e,o,n,s,r,_,u,a,l,h,f;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,n=t.Size,s=t.math},function(t){r=t.ZdBulletConfig},function(t){_=t.ZdTowerConfig},function(t){u=t.TowerCmp6},function(t){a=t.ERoleStatus,l=t.ERoleType},function(t){h=t.ZDGameState6},function(t){f=t.RoleBase}],execute:function(){o._RF.push({},"387daDNDXxG65ElDgI1aflO","RoleTower6",void 0);t("RoleTower",function(t){function o(){var i;return(i=t.call(this)||this)._towerView=void 0,i._config=void 0,i._bulletConfig=void 0,i._time=void 0,i._isInCd=void 0,i._frame=void 0,i._roleType=l.Tower,i._frame=0,i}i(o,t);var f=o.prototype;return f._onInit=function(t){this._config=_.data[t],this._bulletConfig=r.data[this._config.bullet]},f._initView=function(){this._view=this._towerView=u.Create(),this._size=new n,this._towerView.getSize(this._size)},f._onBirth=function(){t.prototype._onBirth.call(this),this._time=0},f.update=function(i){t.prototype.update.call(this,i),this._frame+=1,this._frame>=10&&(this._frame=0),this._status==a.Birth?this._updateBirth(i):this._status==a.Idle&&this._frame%3==0&&this._updateFire(i)},f._updateBirth=function(t){this._time+=t;var i=s.clamp01(this._time/.2);this._towerView.setModelScale(1,i),i>=1&&(this._towerView.setModelScale(1,1),this.idle(),this._isInCd=!1,this._time=0)},f._updateFire=function(t){this._isInCd&&(this._time+=t,this._time>=this._config.speed/1e3&&(this._isInCd=!1)),this._isInCd||this._fireBullet()&&(this._isInCd=!0,this._time=0)},f._fireBullet=function(){if(1==this._bulletConfig.type){var t=h.runtime.control.findTowerTarget(this);if(t)return console.log("发射子弹"),h.runtime.control.addBullet(this._config.bullet,this.pos.x+this._towerView.firePos.x,this.pos.y+this._towerView.firePos.y).startByTarget(t,this._config.atk),!0}return!1},e(o,[{key:"atkRange",get:function(){return this._config.range}},{key:"canAtkAIHero",get:function(){return this._bulletConfig.atk_ai_hero>0}},{key:"canAtkMainHero",get:function(){return this._bulletConfig.atk_main_hero>0}},{key:"canAtkMonster",get:function(){return this._bulletConfig.atk_monster>0}}]),o}(f));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTransfer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TransferCmp.ts","./ZDEnum.ts","./RoleBase.ts"],(function(e){var t,i,n,s,r,o,a;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e.Size},function(e){r=e.TransferCmp},function(e){o=e.ERoleType},function(e){a=e.RoleBase}],execute:function(){n._RF.push({},"3b024xVxohN+qxT19r0WdIS","RoleTransfer",void 0);e("RoleTransfer",function(e){function n(){var t;return(t=e.call(this)||this)._transferView=void 0,t._id=void 0,t._style=void 0,t._roleType=o.Transfer,t}t(n,e);var a=n.prototype;return a._onInit=function(e){this._id=e,this._style=arguments.length<=1?void 0:arguments[1]},a._initView=function(){this._view=this._transferView=r.Create(this._style),this._size=new s,this._transferView.getSize(this._size)},a.contacted=function(e){var t=this;this.death(),this._transferView.playTransfer(e,(function(){t.remove()}))},i(n,[{key:"id",get:function(){return this._id}}]),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTransfer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TransferCmp3.ts","./ZDEnum3.ts","./RoleBase3.ts"],(function(e){var t,i,n,s,r,o,a;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e.Size},function(e){r=e.TransferCmp3},function(e){o=e.ERoleType},function(e){a=e.RoleBase3}],execute:function(){n._RF.push({},"d254dFOepZNf5UAzwHJyzWx","RoleTransfer3",void 0);e("RoleTransfer3",function(e){function n(){var t;return(t=e.call(this)||this)._transferView=void 0,t._id=void 0,t._style=void 0,t._roleType=o.Transfer,t}t(n,e);var a=n.prototype;return a._onInit=function(e){this._id=e,this._style=arguments.length<=1?void 0:arguments[1]},a._initView=function(){this._view=this._transferView=r.Create(this._style),this._size=new s,this._transferView.getSize(this._size)},a.contacted=function(e){var t=this;this.death(),this._transferView.playTransfer(e,(function(){t.remove()}))},i(n,[{key:"id",get:function(){return this._id}}]),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTransfer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TransferCmp4.ts","./ZDEnum4.ts","./RoleBase4.ts"],(function(e){var t,i,n,s,r,o,a;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e.Size},function(e){r=e.TransferCmp4},function(e){o=e.ERoleType},function(e){a=e.RoleBase}],execute:function(){n._RF.push({},"914a6QYYzFM/4odB/ObKrhl","RoleTransfer4",void 0);e("RoleTransfer",function(e){function n(){var t;return(t=e.call(this)||this)._transferView=void 0,t._id=void 0,t._style=void 0,t._roleType=o.Transfer,t}t(n,e);var a=n.prototype;return a._onInit=function(e){this._id=e,this._style=arguments.length<=1?void 0:arguments[1]},a._initView=function(){this._view=this._transferView=r.Create(this._style),this._size=new s,this._transferView.getSize(this._size)},a.contacted=function(e){var t=this;this.death(),this._transferView.playTransfer(e,(function(){t.remove()}))},i(n,[{key:"id",get:function(){return this._id}}]),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTransfer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TransferCmp5.ts","./ZDEnum5.ts","./RoleBase5.ts"],(function(e){var t,i,n,s,r,o,a;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e.Size},function(e){r=e.TransferCmp5},function(e){o=e.ERoleType},function(e){a=e.RoleBase}],execute:function(){n._RF.push({},"497bfUBmaJJWq/4R8cvQyL9","RoleTransfer5",void 0);e("RoleTransfer",function(e){function n(){var t;return(t=e.call(this)||this)._transferView=void 0,t._id=void 0,t._style=void 0,t._roleType=o.Transfer,t}t(n,e);var a=n.prototype;return a._onInit=function(e){this._id=e,this._style=arguments.length<=1?void 0:arguments[1]},a._initView=function(){this._view=this._transferView=r.Create(this._style),this._size=new s,this._transferView.getSize(this._size)},a.contacted=function(e){var t=this;this.death(),this._transferView.playTransfer(e,(function(){t.remove()}))},i(n,[{key:"id",get:function(){return this._id}}]),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTransfer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TransferCmp6.ts","./ZDEnum6.ts","./RoleBase6.ts"],(function(e){var t,i,n,s,r,o,a;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e.Size},function(e){r=e.TransferCmp6},function(e){o=e.ERoleType},function(e){a=e.RoleBase}],execute:function(){n._RF.push({},"377b8g/EKlLZKIPSFjLqUbi","RoleTransfer6",void 0);e("RoleTransfer",function(e){function n(){var t;return(t=e.call(this)||this)._transferView=void 0,t._id=void 0,t._style=void 0,t._roleType=o.Transfer,t}t(n,e);var a=n.prototype;return a._onInit=function(e){this._id=e,this._style=arguments.length<=1?void 0:arguments[1]},a._initView=function(){this._view=this._transferView=r.Create(this._style),this._size=new s,this._transferView.getSize(this._size)},a.contacted=function(e){var t=this;this.death(),this._transferView.playTransfer(e,(function(){t.remove()}))},i(n,[{key:"id",get:function(){return this._id}}]),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResUtils.ts","./BattleEnum.ts","./BattleState.ts","./DropExpCmp.ts","./DropWoodCmp.ts","./RoleTreeCmp.ts","./RoleBase2.ts"],(function(t){var e,i,n,o,s,r,h,a,c,l,u,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t.Vec3},function(t){s=t.ResUtils},function(t){r=t.ERoleStatus,h=t.ERoleType},function(t){a=t.BattleState},function(t){c=t.DropExpCmp},function(t){l=t.DropWoodCmp},function(t){u=t.RoleTreeCmp},function(t){p=t.RoleBase}],execute:function(){n._RF.push({},"9be6dsLh3RC2qplR73JoYrC","RoleTree",void 0);t("RoleTree",function(t){e(p,t);var n=p.prototype;function p(){var e;return(e=t.call(this)||this)._treeView=void 0,e._hp=void 0,e._maxHp=void 0,e._id=void 0,e._mark=void 0,e.distanceToCenter=void 0,e._source=void 0,e._roleType=h.Tree,e._mark=!1,e}return n.setMark=function(){this._mark=!0},n.cancelMark=function(){this._mark=!1},n._onInit=function(t){this._id=t},n._initView=function(t){this._view=this._treeView=t||u.Create()},n.setRes=function(t){var e;null==(e=this._treeView)||e.setRes(t)},n._onEnter=function(){this._radius=this._view.size.width,this._hp=this._maxHp=1},n.resetView=function(){var t;null==(t=this._treeView)||t.reset(),this._enable=!0,this._status=r.Idle,this._waitRemove=!1},n.enterBattle=function(){this._hp=this._maxHp=a.ins.control.runTimeData.levelControl.levelConfig.tree_hp;var t=a.ins.control.runTimeData.levelControl.levelConfig.tree_skin;this.setRes(s.fullLevelTreeRes(t))},n.update=function(t){if(this.enable){var e=a.ins.control.view.mapLayer.SCENE_RECT2;this._view.setVisible(!(this.pos.x<e.xMin-200||this.pos.x>e.xMax+200||this.pos.y<e.yMin-200||this.pos.y>e.yMax+200))}},n.hurt=function(t,e){this._hp<=0||this.enable&&(this._hp-=t,this._source=e,this._hp<0&&(this._hp=0),this._hp<=0?this.death():this._treeView.hitEffect())},n.forceDeath=function(){this._hp<=0||this.enable&&(this._hp=0,this.death())},n._onDeath=function(){t.prototype._onDeath.call(this);var e=1,i=a.ins.control.remainMgr.attr.extChanceGetWood;i>0&&Math.random()<i&&(e+=5);for(var n=0;n<e;++n){l.Create().show(this.pos.x,this.pos.y+20,(function(){a.ins.control.data.addWood(1)}))}c.Create().show(this.pos.x,this.pos.y+20,(function(){a.ins.control.addExp(1)})),this._treeView.playDie(this.remove.bind(this))},n._dropEnd=function(){a.ins.control.data.addWood(1)},n.contarctMonster=function(){this._treeView.shakeEffect()},n.removeView=function(){this._view.removeParent()},n.destory=function(){this.removeView()},n.roleIsInRect=function(t,e){return o.distance(t.pos,this.pos)<this.radius+e},i(p,[{key:"id",get:function(){return this._id}},{key:"mark",get:function(){return this._mark}},{key:"isDeath",get:function(){return this._hp<=0}}]),p}(p));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTreeCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./MainConst.ts","./RoleBaseCmp.ts"],(function(t){var e,i,s,h,a,c,f,_,r,n,l,o,u,d,p,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,h=t.assertThisInitialized,a=t.createClass},function(t){c=t.cclegacy,f=t._decorator,_=t.Node,r=t.CCInteger,n=t.math,l=t.Size},function(t){o=t.ViewUtil},function(t){u=t.UIHelper},function(t){d=t.MAIN_PREFABS,p=t.MAIN_BUNDLE},function(t){S=t.RoleBaseCmp}],execute:function(){var E,T,N,v,g,k,m,y,b,A,C;c._RF.push({},"6d53bEwslhGfoP7SyGQ8q7Z","RoleTreeCmp",void 0);var z=f.ccclass,D=f.property;t("RoleTreeCmp",(E=z("RoleTreeCmp"),T=D({type:_,displayName:"树节点",visible:!0}),N=D({type:_,displayName:"树干节点",visible:!0}),v=D({type:_,displayName:"受击特效节点",visible:!0}),g=D({type:r,displayName:"血量",visible:!0}),E((y=e((m=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,s(e,"_treeNode",y,h(e)),s(e,"_trunkNode",b,h(e)),s(e,"_hitEffectNode",A,h(e)),s(e,"_hp",C,h(e)),e._scale=1,e._hitTime=void 0,e._hitDuration=void 0,e._hitEffectState=0,e._shakeEffectState=0,e._defScale=void 0,e._size=void 0,e._dieCallback=void 0,e}i(e,t),e.Create=function(){var t=o.createPrefabNode(d.TreeView,p).getComponent(e);return t._init(),t};var c=e.prototype;return c._init=function(){},c.onLoad=function(){this._defScale=this._treeNode.scale.x,this._treeNode.active=!0,this._trunkNode.active=!1,this._hitEffectNode.active=!1},c.setRes=function(t){u.changeSpriteFrame(t,p,this._treeNode.uiSprite),u.changeSpriteFrame(t+"_b",p,this._hitEffectNode.uiSprite)},c.reset=function(){this._treeNode.active=!0,this._trunkNode.active=!1,this._hitEffectNode.active=!1,this._hitEffectState=0,this._shakeEffectState=0,this._scale=1,this._setTreeScale(this._scale),this._setTreeAngle(0)},c.update=function(t){if(100==this._hitEffectState){this._hitTime+=1;var e=this._scale+.02;e>1.3&&(e=1.3),this._scale=e,this._setTreeScale(this._scale),this._hitTime>=this._hitDuration&&(this._hitEffectState=101,this._hitTime=0,this._treeNode.active=!1,this._trunkNode.active=!0,this._hitEffectNode.active=!1),this._hitEffectNode.uiOpacity.opacity=255*(1-this._hitTime/this._hitDuration)}else if(101==this._hitEffectState){this._hitTime+=t;var i,s=n.clamp01(this._hitTime/.5);if(this._trunkNode.uiOpacity.opacity=255*(1-s),s>=1)null==(i=this._dieCallback)||i.call(this),this._hitEffectState=-1}if(1==this._hitEffectState){this._hitTime+=1;var h=this._scale+.02;h>1.3&&(h=1.3),this._scale=h,this._setTreeScale(this._scale),this._hitTime>=this._hitDuration&&(this._hitEffectState=2),this._hitEffectNode.uiOpacity.opacity=255*(1-this._hitTime/this._hitDuration)}else 2==this._hitEffectState&&(this._scale=1,this._setTreeScale(this._scale),this._hitEffectState=0,this._hitEffectNode.active=!1);if(0==this._hitEffectState){var a=this._getTreeAngle();1==this._shakeEffectState?(a-=2.5,this._setTreeAngle(a),a<=-12&&(this._shakeEffectState=2)):2==this._shakeEffectState?(a+=2.5,this._setTreeAngle(a),a>=12&&(this._shakeEffectState=3)):3==this._shakeEffectState?(a-=2.5,this._setTreeAngle(a),a<=-9&&(this._shakeEffectState=4)):4==this._shakeEffectState?(a+=2.5,this._setTreeAngle(a),a>=9&&(this._shakeEffectState=5)):5==this._shakeEffectState?(a-=2.5,this._setTreeAngle(a),a<=-6&&(this._shakeEffectState=6)):6==this._shakeEffectState?(a+=2.5,this._setTreeAngle(a),a>=6&&(this._shakeEffectState=7)):7==this._shakeEffectState?(a-=2.5,this._setTreeAngle(a),a<=-3&&(this._shakeEffectState=8)):8==this._shakeEffectState&&(a+=2.5,this._setTreeAngle(a),a>=0&&(this._setTreeAngle(0),this._shakeEffectState=0))}},c.hitEffect=function(){0==this._hitEffectState&&(this._hitEffectState=1,this._scale=1,this._setTreeScale(this._scale),this._setTreeAngle(0),this._shakeEffectState=0,this._hitEffectNode.active=!0,this._hitDuration=Math.ceil((1.3-this._scale)/.02),this._hitTime=0)},c.shakeEffect=function(){0==this._hitEffectState&&0==this._shakeEffectState&&(this._hitEffectNode.active=!1,this._shakeEffectState=1)},c.playDie=function(t){this._dieCallback=t,this._hitEffectState=100,this._scale=1,this._setTreeScale(this._scale),this._setTreeAngle(0),this._hitEffectNode.active=!0,this._hitDuration=Math.ceil((1.3-this._scale)/.02),this._hitTime=0},c._setTreeScale=function(t){t*=this._defScale,this._treeNode.setScale(t,t),this._hitEffectNode.setScale(t,t)},c._setTreeAngle=function(t){this._treeNode.angle=t,this._hitEffectNode.angle=t},c._getTreeAngle=function(){return this._treeNode.angle},c.setVisible=function(t){this.node.active=t},a(e,[{key:"hp",get:function(){return this._hp}},{key:"size",get:function(){if(!this._size){this._size=new l;var t=this.node.uiTransform.contentSize,e=t.width*this.node.scale.x,i=t.height*this.node.scale.y;this._size.set(e,i)}return this._size}}]),e}(S)).prototype,"_treeNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(m.prototype,"_trunkNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(m.prototype,"_hitEffectNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(m.prototype,"_hp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=m))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUtil.ts",["cc","./GameUtils.ts"],(function(t){var i,e,n,o,r,s;return{setters:[function(t){i=t.cclegacy,e=t.Mat4,n=t.Quat,o=t.Vec3,r=t.toRadian},function(t){s=t.GameUtils}],execute:function(){i._RF.push({},"0a07e/I0K1HIphvThfBj/Ep","RotateUtil",void 0);var _=t("RotateUtil",function(){function t(){}return t.getWorldEuler=function(t,i){var r=i||new o;return t.getWorldMatrix(this._m0),e.toSRT(this._m0,this._q0,this._v0,this._v1),n.toEulerInYXZOrder(r,this._q0),r},t.rotateAround=function(t,i,e){t.getRotation(this._q1),o.normalize(this._v0,i),n.rotateAround(this._q0,this._q1,this._v0,r(e)),t.setRotation(this._q0)},t.rotateAroundTarget=function(t,i,n,_){o.normalize(this._v0,n),t.getWorldPosition(this._v1),o.add(this._v2,this._v0,this._v1),i.getWorldMatrix(this._m0),e.rotate(this._m1,this._m0,r(_),this._v2),s.setWorldMatrix(i,this._m1)},t}());_._m0=new e,_._m1=new e,_._q0=new n,_._q1=new n,_._v0=new o,_._v1=new o,_._v2=new o,i._RF.pop()}}}));

System.register("chunks:///_virtual/RunTimeData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataMgr.ts","./LevelControl.ts","./YT.ts"],(function(t){var e,a,n,i,r,s,o,h;return{setters:[function(t){e=t.createClass,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t.Camera},function(t){s=t.DataMgr},function(t){o=t.LevelControl},function(t){h=t.YT}],execute:function(){i._RF.push({},"9d9d14JAoZEwJ18NA3onA4w","RunTimeData",void 0);t("RunTimeData",function(){function t(){this._levelControl=void 0,this._data=void 0,this._scene=void 0,this.battleUI=void 0,this.battleMap=void 0,this.mapCamera=void 0,this.uiCamera=void 0,h.data=this._data=new s,this._levelControl=new o}return t.prototype.init=function(){var t=a(n().mark((function t(e){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._scene=e,this.mapCamera=this.scene.getChildByPath("CanvasMap/CameraMap").getComponent(r),this.uiCamera=this.scene.getChildByPath("Canvas/Camera").getComponent(r),this.battleUI=this.scene.getChildByPath("Canvas/_BATTLE_UI"),this.battleMap=this.scene.getChildByPath("CameraMap/_BATTLE_MAP"),this.mapCamera.orthoHeight=600,this.battleUI.active=!1,a=e.getChildByPath("CanvasMap/_LEVEL"),this._levelControl.setParent(a),t.next=11,this._data.load();case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e(t,[{key:"levelControl",get:function(){return this._levelControl}},{key:"data",get:function(){return this._data}},{key:"scene",get:function(){return this._scene}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/RunTimeData2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBulletPool.ts","./ZDEnum.ts","./BoxArray2.ts"],(function(e){var r,o,t,s,n,i;return{setters:[function(e){r=e.createClass},function(e){o=e.cclegacy,t=e.Vec3},function(e){s=e.RoleBulletPool},function(e){n=e.ERoleType},function(e){i=e.BoxArray}],execute:function(){o._RF.push({},"c8689VBmbtNwqDUt+BJYMc5","RunTimeData",void 0);e("RunTimeData",function(){function e(){this.mainHeroPos=void 0,this.runTime=void 0,this.mainHero=void 0,this.barrierBox=void 0,this.cutTreeBox=void 0,this.roleMap=void 0,this.spawnHeros=void 0,this.spawnMonsters=void 0,this.spawnHeroIndex=void 0,this.spawnMonsterIndex=void 0,this.runTime=0,this.mainHeroPos=new t,this.roleMap=[];for(var e=n.HeroAI;e<n.Max;++e)this.roleMap[e]=[];this.barrierBox=new i,this.cutTreeBox=new i,this.spawnHeros=[],this.spawnMonsters=[],this.spawnHeroIndex=this.spawnMonsterIndex=0}var o=e.prototype;return o.reset=function(){this.runTime=0,this.mainHero=null;for(var e=n.HeroAI;e<n.Max;++e)this.roleMap[e].length=0;this.barrierBox=new i,this.cutTreeBox=new i,this.spawnHeros.length=0,this.spawnMonsters.length=0,this.spawnHeroIndex=this.spawnMonsterIndex=0},o.clone=function(){var r=new e;r.runTime=this.runTime,r.mainHeroPos.set(this.mainHeroPos),r.mainHero=this.mainHero;for(var o=n.HeroAI;o<n.Max;++o)a(r.roleMap[o],this.roleMap[o]);return r.barrierBox=this.barrierBox,r.cutTreeBox=this.cutTreeBox,a(r.spawnHeros,this.spawnHeros),a(r.spawnMonsters,this.spawnMonsters),r.spawnMonsterIndex=this.spawnMonsterIndex,r.spawnHeroIndex=this.spawnHeroIndex,r},o.set=function(e){this.runTime=e.runTime,this.mainHeroPos.set(e.mainHeroPos),this.mainHero=e.mainHero;for(var r=n.HeroAI;r<n.Max;++r)a(this.roleMap[r],e.roleMap[r]);this.barrierBox=e.barrierBox,this.cutTreeBox=e.cutTreeBox,a(this.spawnHeros,e.spawnHeros),a(this.spawnMonsters,e.spawnMonsters),this.spawnMonsterIndex=e.spawnMonsterIndex,this.spawnHeroIndex=e.spawnHeroIndex},o.addRole=function(e){e.roleType==n.HeroMain||(e.roleType==n.Barrier?this.barrierBox.addItemByPos(e,e.pos.x,e.pos.y):e.roleType==n.CutTreeTree&&this.cutTreeBox.addItemByPos(e,e.pos.x,e.pos.y)),e.roleType!=n.HeroMain&&this.roleMap[e.roleType].push(e)},o.removeRole=function(e,r){if(void 0===r&&(r=!0),e.roleType==n.Barrier?this.barrierBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==n.CutTreeTree?this.cutTreeBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==n.Bullet&&s.Put(e),e.destory(),r){var o=this.roleMap[e.roleType],t=o.indexOf(e);t>=0&&o.splice(t,1)}},r(e,[{key:"aiHeros",get:function(){return this.roleMap[n.HeroAI]}},{key:"props",get:function(){return this.roleMap[n.Prop]}},{key:"monsters",get:function(){return this.roleMap[n.Monster]}},{key:"transfers",get:function(){return this.roleMap[n.Transfer]}},{key:"barriers",get:function(){return this.roleMap[n.Barrier]}},{key:"cutTrees",get:function(){return this.roleMap[n.CutTreeTree]}},{key:"shops",get:function(){return this.roleMap[n.Shop]}},{key:"towers",get:function(){return this.roleMap[n.Tower]}},{key:"bullets",get:function(){return this.roleMap[n.Bullet]}},{key:"grasses",get:function(){return this.roleMap[n.Grass]}}]),e}());function a(e,r){e.length=0;for(var o=0,t=r.length;o<t;++o)e.push(r[o])}o._RF.pop()}}}));

System.register("chunks:///_virtual/RunTimeData3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBulletPool3.ts","./ZDEnum3.ts","./BoxArray3.ts"],(function(e){var r,o,s,t,n,i;return{setters:[function(e){r=e.createClass},function(e){o=e.cclegacy,s=e.Vec3},function(e){t=e.RoleBulletPool3},function(e){n=e.ERoleType},function(e){i=e.BoxArray3}],execute:function(){o._RF.push({},"f816eDxIxRJcp2DxYcxMfQU","RunTimeData3",void 0);e("RunTimeData3",function(){function e(){this.mainHeroPos=void 0,this.runTime=void 0,this.mainHero=void 0,this.barrierBox=void 0,this.cutTreeBox=void 0,this.roleMap=void 0,this.spawnHeros=void 0,this.spawnMonsters=void 0,this.spawnHeroIndex=void 0,this.spawnMonsterIndex=void 0,this.runTime=0,this.mainHeroPos=new s,this.roleMap=[];for(var e=n.HeroAI;e<n.Max;++e)this.roleMap[e]=[];this.barrierBox=new i,this.cutTreeBox=new i,this.spawnHeros=[],this.spawnMonsters=[],this.spawnHeroIndex=this.spawnMonsterIndex=0}var o=e.prototype;return o.reset=function(){this.runTime=0,this.mainHero=null;for(var e=n.HeroAI;e<n.Max;++e)this.roleMap[e].length=0;this.barrierBox=new i,this.cutTreeBox=new i,this.spawnHeros.length=0,this.spawnMonsters.length=0,this.spawnHeroIndex=this.spawnMonsterIndex=0},o.clone=function(){var r=new e;r.runTime=this.runTime,r.mainHeroPos.set(this.mainHeroPos),r.mainHero=this.mainHero;for(var o=n.HeroAI;o<n.Max;++o)a(r.roleMap[o],this.roleMap[o]);return r.barrierBox=this.barrierBox,r.cutTreeBox=this.cutTreeBox,a(r.spawnHeros,this.spawnHeros),a(r.spawnMonsters,this.spawnMonsters),r.spawnMonsterIndex=this.spawnMonsterIndex,r.spawnHeroIndex=this.spawnHeroIndex,r},o.set=function(e){this.runTime=e.runTime,this.mainHeroPos.set(e.mainHeroPos),this.mainHero=e.mainHero;for(var r=n.HeroAI;r<n.Max;++r)a(this.roleMap[r],e.roleMap[r]);this.barrierBox=e.barrierBox,this.cutTreeBox=e.cutTreeBox,a(this.spawnHeros,e.spawnHeros),a(this.spawnMonsters,e.spawnMonsters),this.spawnMonsterIndex=e.spawnMonsterIndex,this.spawnHeroIndex=e.spawnHeroIndex},o.addRole=function(e){e.roleType==n.HeroMain||(e.roleType==n.Barrier?this.barrierBox.addItemByPos(e,e.pos.x,e.pos.y):e.roleType==n.CutTreeTree&&this.cutTreeBox.addItemByPos(e,e.pos.x,e.pos.y)),e.roleType!=n.HeroMain&&this.roleMap[e.roleType].push(e)},o.removeRole=function(e,r){if(void 0===r&&(r=!0),e.roleType==n.Barrier?this.barrierBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==n.CutTreeTree?this.cutTreeBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==n.Bullet&&t.Put(e),e.destory(),r){var o=this.roleMap[e.roleType],s=o.indexOf(e);s>=0&&o.splice(s,1)}},r(e,[{key:"aiHeros",get:function(){return this.roleMap[n.HeroAI]}},{key:"props",get:function(){return this.roleMap[n.Prop]}},{key:"monsters",get:function(){return this.roleMap[n.Monster]}},{key:"transfers",get:function(){return this.roleMap[n.Transfer]}},{key:"barriers",get:function(){return this.roleMap[n.Barrier]}},{key:"cutTrees",get:function(){return this.roleMap[n.CutTreeTree]}},{key:"shops",get:function(){return this.roleMap[n.Shop]}},{key:"towers",get:function(){return this.roleMap[n.Tower]}},{key:"bullets",get:function(){return this.roleMap[n.Bullet]}},{key:"grasses",get:function(){return this.roleMap[n.Grass]}}]),e}());function a(e,r){e.length=0;for(var o=0,s=r.length;o<s;++o)e.push(r[o])}o._RF.pop()}}}));

System.register("chunks:///_virtual/RunTimeData4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBulletPool4.ts","./ZDEnum4.ts","./BoxArray4.ts"],(function(e){var r,o,s,t,n,i;return{setters:[function(e){r=e.createClass},function(e){o=e.cclegacy,s=e.Vec3},function(e){t=e.RoleBulletPool},function(e){n=e.ERoleType},function(e){i=e.BoxArray}],execute:function(){function a(e,r){e.length=0;for(var o=0,s=r.length;o<s;++o)e.push(r[o])}o._RF.push({},"df89dy3UA9J5qMNilAhh1Qc","RunTimeData4",void 0),e("RunTimeData4",function(){function e(){this.mainHeroPos=void 0,this.runTime=void 0,this.mainHero=void 0,this.barrierBox=void 0,this.cutTreeBox=void 0,this.roleMap=void 0,this.spawnHeros=void 0,this.spawnMonsters=void 0,this.spawnHeroIndex=void 0,this.spawnMonsterIndex=void 0,this.runTime=0,this.mainHeroPos=new s,this.roleMap=[];for(var e=n.HeroAI;e<n.Max;++e)this.roleMap[e]=[];this.barrierBox=new i,this.cutTreeBox=new i,this.spawnHeros=[],this.spawnMonsters=[],this.spawnHeroIndex=this.spawnMonsterIndex=0}var o=e.prototype;return o.reset=function(){this.runTime=0,this.mainHero=null;for(var e=n.HeroAI;e<n.Max;++e)this.roleMap[e].length=0;this.barrierBox=new i,this.cutTreeBox=new i,this.spawnHeros.length=0,this.spawnMonsters.length=0,this.spawnHeroIndex=this.spawnMonsterIndex=0},o.clone=function(){var r=new e;r.runTime=this.runTime,r.mainHeroPos.set(this.mainHeroPos),r.mainHero=this.mainHero;for(var o=n.HeroAI;o<n.Max;++o)a(r.roleMap[o],this.roleMap[o]);return r.barrierBox=this.barrierBox,r.cutTreeBox=this.cutTreeBox,a(r.spawnHeros,this.spawnHeros),a(r.spawnMonsters,this.spawnMonsters),r.spawnMonsterIndex=this.spawnMonsterIndex,r.spawnHeroIndex=this.spawnHeroIndex,r},o.set=function(e){this.runTime=e.runTime,this.mainHeroPos.set(e.mainHeroPos),this.mainHero=e.mainHero;for(var r=n.HeroAI;r<n.Max;++r)a(this.roleMap[r],e.roleMap[r]);this.barrierBox=e.barrierBox,this.cutTreeBox=e.cutTreeBox,a(this.spawnHeros,e.spawnHeros),a(this.spawnMonsters,e.spawnMonsters),this.spawnMonsterIndex=e.spawnMonsterIndex,this.spawnHeroIndex=e.spawnHeroIndex},o.addRole=function(e){e.roleType==n.HeroMain||(e.roleType==n.Barrier?this.barrierBox.addItemByPos(e,e.pos.x,e.pos.y):e.roleType==n.CutTreeTree&&this.cutTreeBox.addItemByPos(e,e.pos.x,e.pos.y)),e.roleType!=n.HeroMain&&this.roleMap[e.roleType].push(e)},o.removeRole=function(e,r){if(void 0===r&&(r=!0),e.roleType==n.Barrier?this.barrierBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==n.CutTreeTree?this.cutTreeBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==n.Bullet&&t.Put(e),e.destory(),r){var o=this.roleMap[e.roleType],s=o.indexOf(e);s>=0&&o.splice(s,1)}},r(e,[{key:"aiHeros",get:function(){return this.roleMap[n.HeroAI]}},{key:"props",get:function(){return this.roleMap[n.Prop]}},{key:"monsters",get:function(){return this.roleMap[n.Monster]}},{key:"transfers",get:function(){return this.roleMap[n.Transfer]}},{key:"barriers",get:function(){return this.roleMap[n.Barrier]}},{key:"cutTrees",get:function(){return this.roleMap[n.CutTreeTree]}},{key:"shops",get:function(){return this.roleMap[n.Shop]}},{key:"towers",get:function(){return this.roleMap[n.Tower]}},{key:"bullets",get:function(){return this.roleMap[n.Bullet]}},{key:"grasses",get:function(){return this.roleMap[n.Grass]}}]),e}()).RunTimeIns=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/RunTimeData5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleBulletPool5.ts","./ZDEnum5.ts","./BoxArray5.ts"],(function(e){var r,o,s,t,n,i;return{setters:[function(e){r=e.createClass},function(e){o=e.cclegacy,s=e.Vec3},function(e){t=e.RoleBulletPool},function(e){n=e.ERoleType},function(e){i=e.BoxArray}],execute:function(){function a(e,r){e.length=0;for(var o=0,s=r.length;o<s;++o)e.push(r[o])}o._RF.push({},"1e5bevRM5xHULrGn9c3yVbV","RunTimeData5",void 0),e("RunTimeData4",function(){function e(){this.mainHeroPos=void 0,this.runTime=void 0,this.mainHero=void 0,this.barrierBox=void 0,this.cutTreeBox=void 0,this.roleMap=void 0,this.spawnHeros=void 0,this.spawnMonsters=void 0,this.spawnHeroIndex=void 0,this.spawnMonsterIndex=void 0,this.runTime=0,this.mainHeroPos=new s,this.roleMap=[];for(var e=n.HeroAI;e<n.Max;++e)this.roleMap[e]=[];this.barrierBox=new i,this.cutTreeBox=new i,this.spawnHeros=[],this.spawnMonsters=[],this.spawnHeroIndex=this.spawnMonsterIndex=0}var o=e.prototype;return o.reset=function(){this.runTime=0,this.mainHero=null;for(var e=n.HeroAI;e<n.Max;++e)this.roleMap[e].length=0;this.barrierBox=new i,this.cutTreeBox=new i,this.spawnHeros.length=0,this.spawnMonsters.length=0,this.spawnHeroIndex=this.spawnMonsterIndex=0},o.clone=function(){var r=new e;r.runTime=this.runTime,r.mainHeroPos.set(this.mainHeroPos),r.mainHero=this.mainHero;for(var o=n.HeroAI;o<n.Max;++o)a(r.roleMap[o],this.roleMap[o]);return r.barrierBox=this.barrierBox,r.cutTreeBox=this.cutTreeBox,a(r.spawnHeros,this.spawnHeros),a(r.spawnMonsters,this.spawnMonsters),r.spawnMonsterIndex=this.spawnMonsterIndex,r.spawnHeroIndex=this.spawnHeroIndex,r},o.set=function(e){this.runTime=e.runTime,this.mainHeroPos.set(e.mainHeroPos),this.mainHero=e.mainHero;for(var r=n.HeroAI;r<n.Max;++r)a(this.roleMap[r],e.roleMap[r]);this.barrierBox=e.barrierBox,this.cutTreeBox=e.cutTreeBox,a(this.spawnHeros,e.spawnHeros),a(this.spawnMonsters,e.spawnMonsters),this.spawnMonsterIndex=e.spawnMonsterIndex,this.spawnHeroIndex=e.spawnHeroIndex},o.addRole=function(e){e.roleType==n.HeroMain||(e.roleType==n.Barrier?this.barrierBox.addItemByPos(e,e.pos.x,e.pos.y):e.roleType==n.CutTreeTree&&this.cutTreeBox.addItemByPos(e,e.pos.x,e.pos.y)),e.roleType!=n.HeroMain&&this.roleMap[e.roleType].push(e)},o.removeRole=function(e,r){if(void 0===r&&(r=!0),e.roleType==n.Barrier?this.barrierBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==n.CutTreeTree?this.cutTreeBox.removeItemByPos(e.pos.x,e.pos.y,e):e.roleType==n.Bullet&&t.Put(e),e.destory(),r){var o=this.roleMap[e.roleType],s=o.indexOf(e);s>=0&&o.splice(s,1)}},r(e,[{key:"aiHeros",get:function(){return this.roleMap[n.HeroAI]}},{key:"props",get:function(){return this.roleMap[n.Prop]}},{key:"monsters",get:function(){return this.roleMap[n.Monster]}},{key:"transfers",get:function(){return this.roleMap[n.Transfer]}},{key:"barriers",get:function(){return this.roleMap[n.Barrier]}},{key:"cutTrees",get:function(){return this.roleMap[n.CutTreeTree]}},{key:"shops",get:function(){return this.roleMap[n.Shop]}},{key:"towers",get:function(){return this.roleMap[n.Tower]}},{key:"bullets",get:function(){return this.roleMap[n.Bullet]}},{key:"grasses",get:function(){return this.roleMap[n.Grass]}}]),e}()).RunTimeIns=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/SafeTime.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,a;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e.sys}],execute:function(){n._RF.push({},"ef9f8dclGNPSZAhnWFTRaPU","SafeTime",void 0);e("default",function(){function e(){}return e.getBaiduTime=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){if(a.platform==a.Platform.DESKTOP_BROWSER||a.platform==a.Platform.MOBILE_BROWSER)return e(new Date);var r=new XMLHttpRequest;r.timeout=1e4,r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var t=r.getResponseHeader("Date");t||(t=r.getResponseHeader("date"));var n=Date.parse(t);e(new Date(n))}else console.error("baidu time Error: "+r.status),e(null)},r.open("GET","https://www.baidu.com",!0),r.send()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.getDateNum=function(){var e=t(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBaiduTime();case 2:return t=e.sent,e.abrupt("return",1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDay());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SampleConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("SampleConfig",void 0),t._RF.push({},"e5d6avULixAprbnhP+v3Mz4","SampleConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.value=void 0,this.isAA=void 0,this.stringArr=void 0,this.intArr=void 0,this.floatArr=void 0,this.stringArr2=void 0,this.intArr2=void 0,this.floatArr2=void 0,this.enum1=void 0,this.enum2=void 0,this.map=void 0};i.isConst=!1,i.path="config/SampleConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null;var t=function(i){return i.aaa="aaa",i.cvv="cvv",i}({});i.E_enum1=t;var n=function(i){return i.aa="aa",i.bb="bb",i}({});i.E_enum2=n}(n||(n=i("SampleConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SaveDataDef.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(e){var a,t,n,r;return{setters:[function(e){a=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){r=e.YT}],execute:function(){var s;e("SaveData",void 0),n._RF.push({},"74d825429JEpqqQmwox57/4","SaveDataDef",void 0),function(e){e.SaveDataBase=function(){this.dataName="",this.save=!1,this.save_duration=0,this.save_interval=0,this.saveTick=0,this.saveVersion=0,this.useCloud=!0};function n(){return(n=a(t().mark((function e(a){var n,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.useCloud){e.next=6;break}return e.next=3,r.platform.getCloudStorage(a.key);case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,r.platform.getLocalStorage(a.key);case 8:n=e.sent;case 9:return n?(o=new a.cls,s(n,o)):o=new a.cls,o.dataName=a.key,o.useCloud=a.useCloud,o.save_interval=a.index+30,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,a){var t;for(var n in e)"object"==typeof(t=e[n])&&a[n]?s(t,a[n]):a[n]=t}e.load=function(e){return n.apply(this,arguments)},e.renewByData=function(e,a){var t=new a;return t.dataName=e.dataName,t.useCloud=e.useCloud,t.save_interval=e.save_interval,t},e.save=function(e){e.saveTick=Date.now(),e.saveVersion++;var a=JSON.stringify(e,u),t=a.length;t>=3e3&&console.error(e.dataName+"表保存长度超过3K, "+t+"需要拆分一下"),e.useCloud?r.platform.setCloudStorage(e.dataName,a,!0):r.platform.setLocalStorage(e.dataName,a,!0),e.save_duration=e.save_interval,e.save=!1};var o=["dataName","save","save_duration","save_interval","useCloud"];function u(e,a){if(!(o.indexOf(e)>=0)&&"function"!=typeof a)return a}}(s||(s=e("SaveData",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadingManager.ts","./Awaiters.ts"],(function(e){var n,t,r,a,o;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.LoadingManager},function(e){o=e.Awaiters}],execute:function(){r._RF.push({},"a7a2e2dMCZBV5FXrXZtG1/P","SceneBase",void 0);e("SceneBase",function(){function e(){}var r=e.prototype;return r.loadScene=function(e,n,t){void 0===t&&(t=!0),a.instance.loadScene(e,n,this._onSceneLoaded.bind(this),t)},r._onSceneLoaded=function(){var e=n(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.NextFrame();case 2:return e.next=4,this._doSceneLoaded(n);case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/screenShaker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts","./CommonSaveData.ts"],(function(t){var n,e,i,o,s,a;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t.Vec3,o=t.tween},function(t){s=t.default},function(t){a=t.CommonSaveData}],execute:function(){e._RF.push({},"713f33dQAdLrIGNK33sZSNM","screenShaker",void 0),t("ScreenShaker",function(){function t(){this._camera=void 0,this.node=void 0,this._tween=void 0}var e=t.prototype;return e.init=function(t){this._camera=t,this.node=this._camera.node},e.getOffset=function(t){var n=Math.random()*Math.PI*2,e=t*(.7+.3*Math.random()),o=Math.cos(n)*e,a=Math.sin(n)*e;return new i(o,a,s.randomRange(.3*-t,.3*t))},e.shake=function(t,n){var e=this;void 0===t&&(t=.2),void 0===n&&(n=.2),a.instance.isVibrate&&(this._tween&&this._tween.stop(),this._tween=o(this.node).to(t,{},{onUpdate:function(t,i){e.node.position=e.node.position.add(e.getOffset(n*i))},onComplete:function(){e._tween=null}}).start())},n(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/screenShaker2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util2.ts","./CommonSaveData.ts"],(function(n){var t,i,e,o,s,a;return{setters:[function(n){t=n.createClass},function(n){i=n.cclegacy,e=n.Vec3,o=n.tween},function(n){s=n.default},function(n){a=n.CommonSaveData}],execute:function(){i._RF.push({},"99ef0/w0YZIAJiEZsUomHdu","screenShaker",void 0),n("ScreenShaker",function(){function n(){this._camera=void 0,this.node=void 0,this._originalPosition=new e,this._tween=void 0}var i=n.prototype;return i.init=function(n){this._camera=n,this.node=this._camera.node,this._originalPosition=this._camera.node.position.clone()},i.getOffset=function(n){return new e(this._originalPosition.x,this._originalPosition.y+s.randomRange(-n,n),0)},i.shake=function(n,t,i){var e=this;void 0===n&&(n=.2),void 0===t&&(t=10),a.instance.isVibrate&&(this._tween&&this._tween.stop(),this._tween=o(this.node).to(n,{},{onUpdate:function(n,i){e.node.position=e.getOffset(t*i)},onComplete:function(){e._tween=null,e.node.position=e._originalPosition}}).start())},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/screenShaker22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonSaveData.ts","./util22.ts"],(function(n){var t,i,e,o,s,a;return{setters:[function(n){t=n.createClass},function(n){i=n.cclegacy,e=n.Vec3,o=n.tween},function(n){s=n.CommonSaveData},function(n){a=n.default}],execute:function(){i._RF.push({},"75b061rg+pF/7kNnY2ARl+5","screenShaker2",void 0),n("ScreenShaker",function(){function n(){this._camera=void 0,this.node=void 0,this._originalPosition=new e,this._tween=void 0}var i=n.prototype;return i.init=function(n){this._camera=n,this.node=this._camera.node,this._originalPosition=this._camera.node.position.clone()},i.getOffset=function(n){return new e(this._originalPosition.x,this._originalPosition.y+a.randomRange(-n,n),0)},i.shake=function(n,t,i){var e=this;void 0===n&&(n=.2),void 0===t&&(t=10),s.instance.isVibrate&&(this._tween&&this._tween.stop(),this._tween=o(this.node).to(n,{},{onUpdate:function(n,i){e.node.position=e.getOffset(t*i)},onComplete:function(){e._tween=null,e.node.position=e._originalPosition}}).start())},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/screenShaker3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util3.ts","./CommonSaveData.ts"],(function(n){var t,i,e,o,s,a;return{setters:[function(n){t=n.createClass},function(n){i=n.cclegacy,e=n.Vec3,o=n.tween},function(n){s=n.default},function(n){a=n.CommonSaveData}],execute:function(){i._RF.push({},"ee7494dL2dM1q0rN3KSvALh","screenShaker",void 0),n("ScreenShaker",function(){function n(){this._camera=void 0,this.node=void 0,this._originalPosition=new e,this._tween=void 0}var i=n.prototype;return i.init=function(n){this._camera=n,this.node=this._camera.node,this._originalPosition=this._camera.node.position.clone()},i.getOffset=function(n){return new e(this._originalPosition.x,this._originalPosition.y+s.randomRange(-n,n),0)},i.shake=function(n,t,i){var e=this;void 0===n&&(n=.2),void 0===t&&(t=10),a.instance.isVibrate&&(this._tween&&this._tween.stop(),this._tween=o(this.node).to(n,{},{onUpdate:function(n,i){e.node.position=e.getOffset(t*i)},onComplete:function(){e._tween=null,e.node.position=e._originalPosition}}).start())},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/SDK_CQ.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDK.ts"],(function(t){var e,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.default}],execute:function(){n._RF.push({},"b8994197kFAQ6SFPq3Uorhq","SDK_CQ",void 0);t("default",function(t){function n(){var e;return(e=t.call(this)||this).headerUrl="https://games.api.gugudang.com",e}return e(n,t),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EncryptUtil.ts","./YT.ts"],(function(e){var t,n,o,i,a,r,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,a=e.sys},function(e){r=e.EncryptUtil},function(e){s=e.YT}],execute:function(){i._RF.push({},"bcb2aGAElVIyKJJ9GZsB3u2","SDK",void 0),e("default",function(){function e(){this.configs=void 0,this.appVersion=void 0,this.headerUrl="https://games.api.gugudang.com",this.appId="",this.openId="",this.token="",this.tempSaveData="",this.configs=new c}e.CreateInstance=function(){var t=n(o().mark((function t(n,i,a){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&(e.instance=new n,s.sdk=e.instance),e.instance.appId=i,e.instance.appVersion=a;case 3:case"end":return t.stop()}}),t)})));return function(e,n,o){return t.apply(this,arguments)}}();var i=e.prototype;return i.getRemoteCfg=function(){var e=this;return new Promise((function(t){var n=e.headerUrl+"/api/game/config?appid="+e.appId+"&version="+e.appVersion,o=new XMLHttpRequest;o.timeout=1e4,o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status){var n=o.responseText,i=JSON.parse(n);if(i&&i.data)for(var a in e.configs)e.configs.hasOwnProperty(a)&&(e.configs[a]=i.data[a],"adcfg"==a&&(e.configs[a]=JSON.parse(i.data[a])));console.log("云控：",e.configs),t(e.configs)}else console.error("xhr time Error: "+o.status),t(null)},o.open("GET",n,!0),o.send()}))},i.login=function(){var e=n(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var i={appid:n.appId,code:t,channel:"ytlj",version:n.appVersion},r=n.headerUrl+"/api/login";n.ApiSend(r,i,(function(t){console.log("sdk 登录成功",t);var o=JSON.parse(t);1==o.code?(o.openid?(n.openId=o.openid,a.localStorage.setItem("openId",n.openId)):n.genOpenid(),e(n.openId)):(n.genOpenid(),e(n.openId))}),(function(t){s.platform.useCloudStorage=!1,n.genOpenid(),e(n.openId),console.error("sdk 登录失败",t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.genOpenid=function(){if(a.localStorage.getItem("openId"))this.openId=a.localStorage.getItem("openId");else{console.error("本地生成openId");var e=this.appId+"#"+Date.now()+"#"+Math.random().toString(36).substr(2,8)+"#43b49394197b65540979c7143da7c8a8";this.openId=r.md5(e),a.localStorage.setItem("openId",this.openId)}},i.getRemoteTime=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){if(a.platform==a.Platform.DESKTOP_BROWSER||a.platform==a.Platform.MOBILE_BROWSER)return e(new Date);var n=new XMLHttpRequest;n.timeout=1e4,n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var t=n.getResponseHeader("Date"),o=Date.parse(t);e(new Date(o))}else console.error("baidu time Error: "+n.status),e(null)},n.open("GET","https://www.baidu.com",!0),n.send()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i.getCloudStorage=function(e){var t=this;return new Promise((function(n,o){var i={appid:t.appId,openId:t.openId,keys:e};t.openId?t.ApiSend(t.headerUrl+"/api/property/get2",i,(function(t){var o=JSON.parse(t);o&&o.data&&o.data[e]?n(JSON.parse(o.data[e])):n(null)}),(function(t){console.log(e+" getCloudData fail "+t),n(null)})):n(null)}))},i.setCloudStorage=function(e,t,n){if(void 0===n&&(n=!1),this.openId){var o=Math.floor((new Date).getTime()/1e3),i=parseInt(a.localStorage.getItem(e+"tick")),r=!1;if(console.log(o,i),(!i||n||o-i>=10)&&(r=!0),console.log("set cloud"+e,r),!r)return console.log("未到设置云存储Cd");a.localStorage.setItem(e+"tick",o.toString());var s=encodeURIComponent(t);if(this.tempSaveData!=s){this.tempSaveData=s;var c={appid:this.appId,openId:this.openId,key:e,val:s};this.ApiSend(this.headerUrl+"/api/property/put2",c,(function(t){console.log(e+" setCloudData ==",t)}),(function(t){console.log(e+" setCloudData fail "+t)}),"POST")}else console.log("存储数据未改变,无需发送")}},i.getToken=function(){var e=this;return new Promise((function(t,n){if(e.token)t(e.token);else{var o={appid:e.appId};e.ApiSend(e.headerUrl+"/api/get/youxi/token",o,(function(n){var o=JSON.parse(n);o&&0==o.code&&(e.token=o.data.token,t(e.token))}),(function(e){}))}}))},i.checkWhiteList=function(e){this.checkCDK(e,(function(e){console.log("校验成功",e)}),(function(e){console.error("校验失败 status",e)}))},i.refreshWhiteList=function(){var e=this;return new Promise((function(t,n){var o={appid:e.appId,cid:"ips"};a.platform==a.Platform.DESKTOP_BROWSER||a.platform==a.Platform.MOBILE_BROWSER?e.ApiSend(e.headerUrl+"/api/white/config/refresh",o,(function(e){var n=JSON.parse(e);n&&1==n.code?t(!0):t(!1)}),(function(e){t(!1)})):t(!0)}))},i.ApiSend=function(e,t,n,o,i){void 0===i&&(i="GET");var a,r="";for(var s in t){if(t.hasOwnProperty(s))r+=s+"="+t[s]+"&"}a=e+"?"+(r=r.substring(0,r.length-1));var c=new XMLHttpRequest;c.timeout=1e4,c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status){var e=c.responseText;n(e)}else console.error("xhr time Error: "+c.status),o(c)},c.open(i,a,!0),c.send()},i.checkCDK=function(e,t,n,o){void 0===o&&(o="POST");var i="http://192.168.0.172:8080/api/v1/cdk/accept",a=new XMLHttpRequest,r=!1,s=!1;a.timeout=1e4,a.onreadystatechange=function(){if(4==a.readyState&&!r){s=!0;var e=a.responseText;if(a.status>=200&&a.status<400)return void(t&&(console.log(e),t(e)));console.log("xhr.status",a.status),n&&(console.log("xhr fail",a),n())}},a.ontimeout=function(e){s||r||(s=!0,r=!0,console.log("请求超时： "+i,e))},a.open(o,i,!0),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify({key:"WELCOME2026",playerId:"2",serverId:"3"}))},t(e,[{key:"isInCheck",get:function(){return"1"==this.configs.checkState}},{key:"isAdEnable",get:function(){return"1"==this.configs.isADEnable}}],[{key:"Inst",get:function(){return this.instance||(this.instance=new e),this.instance}}]),e}()).instance=void 0;var c=e("RemoteConfig",(function(){this.area=void 0,this.checkState=void 0,this.holiday=void 0,this.holidayName=void 0,this.holidayWeek=void 0,this.ip=void 0,this.isADEnable=void 0,this.isNavEnable=void 0,this.isShielding=void 0,this.limitAreas=void 0,this.nowtime=void 0,this.admode=void 0,this.area="",this.checkState="0",this.holiday="1",this.isShielding="0",this.holidayWeek="1",this.ip="",this.isADEnable="1",this.isNavEnable="1",this.nowtime="",this.limitAreas=""}));e("ADCfg",(function(){this.advid=void 0,this.ipu=void 0,this.ecpm=void 0,this.mode=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/SDMAudio.ts",["cc","./SdmAudioConfig.ts","./YT.ts","./SDMState.ts"],(function(t){var n,u,i,o;return{setters:[function(t){n=t.cclegacy},function(t){u=t.SdmAudioConfig},function(t){i=t.YT},function(t){o=t.default}],execute:function(){n._RF.push({},"64cd0ViUEpCS45wwYOm4gTk","SDMAudio",void 0);t("SDMAudio",function(){function t(){}return t.play=function(t){var n=u.data[t];1==n.type?i.audio.playEffectByPath(n.path,o.Inst.Bundle):i.audio.playMusicByPath(n.path,o.Inst.Bundle)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SdmAudioConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("SdmAudioConfig",void 0),t._RF.push({},"e04bbt4BIJELIWWM0awwP5S","SdmAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/SdmAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("SdmAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SDMBattleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./SubGameData.ts","./UI_ItemCoin.ts","./SDMState.ts","./UI_Battle2.ts","./SDMSpeedUpView.ts","./SDMAudio.ts","./GameUtils.ts"],(function(t){var e,n,i,s,o,a,r,c,u,l,p,d,m,h,_,f,g,v,b;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.input,r=t.Input,c=t.KeyCode,u=t.v3,l=t.tween},function(t){p=t.ViewBase},function(t){d=t.YT},function(t){m=t.SubGameData},function(t){h=t.default},function(t){_=t.default},function(t){f=t.default},function(t){g=t.SDMSpeedUpView},function(t){v=t.SDMAudio},function(t){b=t.GameUtils}],execute:function(){o._RF.push({},"1b6bfNlhyRNjZbVz2ZJrapN","SDMBattleView",void 0);t("SDMBattleView",function(t){function o(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).startX=void 0,e.lastX=0,e.tempPos=void 0,e}e(o,t);var p=o.prototype;return p._preShowAnim=function(){this.ui.m_btn_pause.onClick(this.onClickPause.bind(this)),this.ui.m_btn_setting.onClick(this.onClickSetting.bind(this)),this.ui.m_btn_start.onClick(this.onClickStart.bind(this)),this.ui.m_btn_niu.onClick(this._onClickNiu.bind(this)),this.ui.m_btn_span.onClick(this._onClickSpade.bind(this)),this.ui.m_btn_repair.onClick(this._onClickRepair.bind(this)),this.ui.m_btn_speed.onClick(this.onClickSpeed.bind(this)),this.ui.m_txt_path.text=m.getExtraGameTips(1103),a.on(r.EventType.KEY_DOWN,this.onKeybordKeyDown,this)},p.flyIcon=function(){var t=i(s().mark((function t(e,n,i,o,a,r){var c,p,m,f=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=null),void 0===a&&(a=1),c=e.node.worldPosition.clone(),p=n.getWorldPosition().clone().add(u(-e.width/2,e.height/2)),this.tempPos=c,m=.6*a,d.gui.lockScreen(),t.abrupt("return",new Promise((function(t){var e=h.createInstance();f.ui.addChild(e),e.icon=i,e.setScale(.6,.6),e.node.parent=_.Inst.level.effRoot,b.setLayer(e.node,_.Inst.level.effRoot.layer),e.node.setWorldPosition(c),l(f.tempPos).to(m,{x:p.x,y:p.y},{easing:"linear",onComplete:function(){e.dispose(),d.gui.unlockScreen(),t(0)},onUpdate:function(t){e.node.setWorldPosition(f.tempPos)}}).start()})));case 10:case"end":return t.stop()}}),t,this)})));return function(e,n,i,s,o,a){return t.apply(this,arguments)}}(),p._onClickNiu=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=_.Inst.level.getEmptyGrid()){t.next=4;break}return d.gui.toast("格子已满"),t.abrupt("return");case 4:return t.next=6,d.game.watchAD("守大门-扭蛋");case 6:if(!t.sent){t.next=11;break}return t.next=10,this.flyIcon(this.ui.m_btn_niu,e.node,this.ui.m_btn_niu.icon);case 10:_.Inst.level.niuItem(e);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p._onClickSpade=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=_.Inst.level.getEmptyGrid()){t.next=4;break}return d.gui.toast("格子已满"),t.abrupt("return");case 4:return t.next=6,d.game.watchAD("守大门-铲子");case 6:if(!t.sent){t.next=11;break}return t.next=10,this.flyIcon(this.ui.m_btn_span,e.node,this.ui.m_btn_span.icon);case 10:_.Inst.level.ranSpade(e);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p._onClickRepair=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.game.watchAD("守大门-修复");case 2:t.sent&&(_.Inst.level.repairDoor(),this.updateInfo());case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p.onKeybordKeyDown=function(t){if(d.isGM)switch(t.keyCode){case c.SPACE:d.logic.isPause?d.logic.resume():d.logic.pause()}},p._afterShowAnim=function(){},p._preHideAnim=function(){a.on(r.EventType.KEY_DOWN,this.onKeybordKeyDown,this)},p._afterHideAnim=function(){},p.onClickSetting=function(){d.logic.pause(),d.gui.showSetting((function(t){t&&d.logic.onEnterHall(),d.logic.resume()}))},p.onClickPause=function(){d.logic.Paused?d.logic.resume():d.logic.pause()},p.onTouchStart=function(t){d.logic.Paused||(console.log("started"),this.startX=t.pos.x,this.lastX=t.pos.x)},p.onTouchMove=function(t){d.logic.Paused},p.onClickStart=function(){_.Inst.level.startBattle()},p.battle=function(){this.ui.m_anim_boss_come.play(),this.ui.m_state.selectedIndex=1},p.merge=function(){this.ui.m_state.selectedIndex=0},p.onTouchEnd=function(t){d.logic.Paused||(this.lastX=0)},p.updateInfo=function(t){var e=_.Inst.level;this.ui.m_coin.title=""+e.coin,this.ui.m_energy.title=""+e.energy,null!=t&&(this.ui.m_timer.title=""+t,this.ui.m_txt_timer1.visible=t<=10,this.ui.m_txt_timer1.text=""+t,t<=10&&v.play(4)),this.ui.m_txt_wave.text="第"+e.wave+"波";var n=e.door.item.hp/e.door.item.MaxHp;this.ui.m_btn_repair.visible=n<.5&&!e.repaired&&!_.Inst.isMerging,this.ui.m_btn_speed.m_state.selectedIndex=e.gameSpeedUp?1:0},p.onClickSpeed=function(){var t=_.Inst.level;t.gameSpeedUp?(t.gameSpeedUp=!1,this.ui.m_btn_speed.m_state.selectedIndex=0):_.Inst.saveData.speedUpCnt>=10||t.curBattleSpeedUp?(t.gameSpeedUp=!0,this.ui.m_btn_speed.m_state.selectedIndex=1):g.instance.show()},p.updateCost=function(t){var e=_.Inst.level.calcCost();e.energy>0?this.ui.m_costcmp.m_state.selectedIndex=1:this.ui.m_costcmp.m_state.selectedIndex=0,this.ui.m_costcmp.m_coin.max=e.gold,this.ui.m_costcmp.m_coin.value=t.game.coin,this.ui.m_costcmp.m_energy.max=e.energy,this.ui.m_costcmp.m_energy.value=t.game.energy,this.ui.m_costcmp.node.parent=t.node,this.ui.m_costcmp.node.setPosition(0,-50),b.setLayer(this.ui.m_costcmp.node,t.node.layer)},n(o,null,[{key:"instance",get:function(){return this._getInstance(o,f)}}]),o}(p));o._RF.pop()}}}));

System.register("chunks:///_virtual/sdmBinder.ts",["cc","./fairygui.mjs","./UI_iconBtnTog.ts","./UI_Hud.ts","./UI_itemToast.ts","./UI_Battle2.ts","./UI_iconBtn.ts","./UI_End2.ts","./UI_normal_btn_ad3.ts","./UI_normal_btn24.ts","./UI_normal_btn_ad22.ts","./UI_SDMItemInfo.ts","./UI_SpeedUp.ts","./UI_costCmp.ts","./UI_SuperStart.ts","./UI_randItem.ts"],(function(t){var n,e,s,o,i,u,f,c,U,a,d,l,_,r,I,R;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){s=t.default},function(t){o=t.default},function(t){i=t.default},function(t){u=t.default},function(t){f=t.default},function(t){c=t.default},function(t){U=t.default},function(t){a=t.default},function(t){d=t.default},function(t){l=t.default},function(t){_=t.default},function(t){r=t.default},function(t){I=t.default},function(t){R=t.default}],execute:function(){n._RF.push({},"9cedcyNY4JH7Jhdt4nyh81g","sdmBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(s.URL,s),e.setExtension(o.URL,o),e.setExtension(i.URL,i),e.setExtension(u.URL,u),e.setExtension(f.URL,f),e.setExtension(c.URL,c),e.setExtension(U.URL,U),e.setExtension(a.URL,a),e.setExtension(d.URL,d),e.setExtension(l.URL,l),e.setExtension(_.URL,_),e.setExtension(r.URL,r),e.setExtension(I.URL,I),e.setExtension(R.URL,R)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMBoss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager3.ts","./SDMAudio.ts","./SDMDamage.ts","./SDMState.ts","./SDMEnemy.ts"],(function(e){var t,i,s,n,a,o,r,h,p,l,c,f,d,u,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,r=e._decorator,h=e.Node,p=e.Label},function(e){l=e.default},function(e){c=e.SDMAudio},function(e){f=e.SDMDamage},function(e){d=e.default},function(e){u=e.ESDMEnemyState,m=e.SDMEnemy}],execute:function(){var g,v,y,M,D,k,S,E,b;o._RF.push({},"84d91qEa1pCXa3cvY30u6Y5","SDMBoss",void 0);var B=r.ccclass,z=r.property;e("SDMBoss",(g=B("SDMBoss"),v=z(h),y=z(p),M=z(h),g((S=t((k=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,s(t,"freezeffect",S,n(t)),s(t,"hpLabel",E,n(t)),s(t,"popLabel",b,n(t)),t.config=void 0,t.atkCnt=0,t.exp=0,t.speedUpTime=0,t.speedUpRate=1,t.freezeTime=0,t.atkCB=void 0,t}i(t,e);var o=t.prototype;return o.addAttackEndListener=function(){var e=this;this.anim.setCompleteListener((function(t){"attack"==t.animation.name&&e.onIdle()}))},o.onIdle=function(){this.anim.setAnimation(0,"idle",!0),this.anim.customMaterial.setProperty("u_rate",1)},o.moveBack=function(){this.fsm.currState.id!=u.MOVE_BACK&&(this.fsm.ChangeState(u.MOVE_BACK),this.anim.setAnimation(0,"move",!0),this.showPop())},o.doAttack=function(){var e=this;this.anim.setAnimation(0,"attack",!1),this.atkCB=function(){l.playEffectById(2,e.target.node.worldPosition,e.target.node),e.game.door.item.onDamage(e.damage,e),c.play(14),e.game.shakeCamera(),e.addExp()}},o.onDamage=function(e,t){this.hp-=e,this.onHit(),f.create().showHp(-e,this.node.worldPosition),this.hpBar.node.active=!0,this.hpBar.progress=this.hp/this.hpMax,this.damageTimer=.5,console.log("boss hp"+this.hp+"  max="+this.hpMax),this.hp<=0?(this.fsm.ChangeState(u.DEAD),d.Inst.level.onEnd(!0)):this.hpBar.progress<=.1&&this.moveBack()},o.reset=function(){e.prototype.reset.call(this),this.hpLabel.string="Lv."+this.level.toString(),this.popLabel.active=!1,this.atkCnt=0,this.speedUpTime=0,this.speedUpRate=1,this.freezeTime=0,this.freezeffect.active=!1},o.onDead=function(){this.fsm.RemoveAll(),console.log(this.node.name+"onDead"),this.node.destroy()},o.addExp=function(){this.speedUpTime<=0&&(this.atkCnt+=1),this.exp+=1;var e=this.getMaxExp();Math.floor(this.exp/e)>=1&&(this.exp=0,this.level+=1,console.log("boss lv up"),this.hpMax=this.calculateHP(this.level),this.hp=this.hpMax*this.hpBar.progress,this.atk=this.calculateAttack(this.level),l.playEffectById(3,this.node.worldPosition,this.node),this.hpLabel.string="Lv."+this.level.toString()),this.atkCnt%9==0&&(this.atkCnt=1,this.speedUpTime=6,this.speedUpRate=2,c.play(15),l.playEffectById(5,this.node.worldPosition,this.node))},o.getMaxExp=function(){var e=this.level;return Math.min(Math.round(1.26*Math.pow(e,.8)+3.74),25)},o.getwaveEndExp=function(e){var t=this.level,i=5*Math.min(Math.max(t/5,1),2),s=e/50;return s<.3?Math.round(2*i):s<.8?Math.round(1.5*i):Math.round(i)},o.onUpdate=function(t){e.prototype.onUpdate.call(this,t),this.freezeTime>0&&(this.freezeTime-=t,this.freezeTime<=0&&(l.playEffectById(13,this.node.worldPosition,this.game.effRoot),this.freezeffect.active=!1))},o.startMerge=function(){this.node.setPosition(0,0),this.freezeTime=0,this.freezeffect.active=!1},o.freeze=function(){this.freezeTime=5,this.freezeffect.active=!0},o.showPop=function(){this.popLabel.active=!0,this.popLabel.getComponentInChildren(p).string=this.config.dialog},a(t,[{key:"moveSpeed",get:function(){return this.config.moveSpeed*this.moveSpeedRate*(this.freezeTime>0?0:1)}},{key:"atkCD",get:function(){return this.config.atkSpeed/1e3/this.speedUpRate}},{key:"isBoss",get:function(){return 1==this.config.type}},{key:"isDead",get:function(){return this.fsm.currState.id==u.DEAD}},{key:"isEscape",get:function(){return this.fsm.currState.id==u.MOVE_BACK}},{key:"damage",get:function(){return this.atk}}]),t}(m)).prototype,"freezeffect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(k.prototype,"hpLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(k.prototype,"popLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=k))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/SDMBuff.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"4d56ecoGl9Ier3eKVMmv47z","SDMBuff",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/SDMBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager3.ts","./Vec3Util.ts"],(function(t){var o,e,i,n,s,r,l;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,n=t.Vec3,s=t.Component},function(t){r=t.default},function(t){l=t.Vec3Util}],execute:function(){var a;e._RF.push({},"2d208f1S29CzJXBLvARh/jt","SDMBullet",void 0);var d=i.ccclass;i.property,t("SDMBullet",d("SDMBullet")(a=function(t){function e(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).path=void 0,o.target=void 0,o.dir=void 0,o.speed=100,o.damage=10,o.startPos=void 0,o.owener=void 0,o.follow=!1,o}o(e,t),e.create=function(t,o,i){var n=r.getNode(t),s=n.getComponent(e);return n.parent=o,n.worldPosition=i,s.startPos=i.clone(),s.path=t,s};var i=e.prototype;return i.shoot=function(t,o,e,i,n){this.target=t,this.owener=i;var s=this.target.node.worldPosition.clone().subtract(this.node.worldPosition).normalize();this.dir=s,this.speed=o,this.damage=e,this.follow=n,this.node.setWorldRotationFromEuler(0,0,l.signedAngleEx(l.s_up,s,l.s_forward))},i.update=function(t){if(this.target&&this.target.node){this.follow&&(this.dir=this.target.node.worldPosition.clone().subtract(this.node.worldPosition).normalize());var o=this.node.worldPosition.clone().add(this.dir.clone().multiplyScalar(t*this.speed));this.node.setWorldPosition(o);var e,i,s=n.distance(o,this.target.node.worldPosition);if(this.follow&&console.log(s),s<30)r.playEffectById(1,this.node.worldPosition,this.node.parent),null==(e=this.owener)||e.onAttackEnd(this),null==(i=this.target)||i.onDamage(this.damage,this.owener),this.collect();else s>2*this.speed&&this.collect()}},i.collect=function(){this.target=null,this.owener=null,r.putNode(this.path,this.node)},e}(s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/SdmConst.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){var n;t("SdmConst",void 0),o._RF.push({},"5d0cdZ9JgVM+L+H3KDM48v9","SdmConst",void 0),function(t){t.config=function(){this.role_move_speed=void 0,this.camera_follow_speed=void 0};t.isConst=!0,t.path="config/SdmConst",t.extPath=void 0,t.data=null}(n||(n=t("SdmConst",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/SdmCostConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("SdmCostConfig",void 0),i._RF.push({},"95f17vuD5RJ46aUBnB1wLlq","SdmCostConfig",void 0),function(t){t.config=function(){this.time=void 0,this.gold=void 0,this.energy=void 0};t.isConst=!1,t.path="config/SdmCostConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("SdmCostConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/SDMDamage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var e,i,o,n,r,l,s,a,c,u,h,p,d,f,m,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Label,a=t.Sprite,c=t.SpriteFrame,u=t.Pool,h=t.instantiate,p=t.Color,d=t.tween,f=t.Vec3,m=t.Tween,y=t.Component},function(t){b=t.YT}],execute:function(){var g,v,w,D,P,S,E,O,M,T;r._RF.push({},"6c20dME3M1D6bJn/QtTA+D4","SDMDamage",void 0);var z=l.ccclass,N=l.property;t("SDMDamage",(g=z("SDMDamage"),v=N({type:s}),w=N({type:a}),D=N({type:[c]}),g(((T=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"label",E,n(e)),o(e,"icon",O,n(e)),o(e,"icons",M,n(e)),e.timer=1,e}i(e,t);var r=e.prototype;return r.onLoad=function(){},e.InitPool=function(t){this.parent=t,this.pool||(this.pool=new u((function(){return h(b.res.get("prefabs/damage","sdm")).getComponent(e)}),50,(function(t){t.node.active=!1})))},e.clearPool=function(){this.pool.destroy()},e.create=function(){var t=e.pool.alloc();return t.node.setParent(this.parent),t},r.show=function(t,e,i){void 0===i&&(i=0);var o=t;this.label.string="+"+o,this.timer=.3,this.label.color=p.WHITE,this.icon.enabled=!0,this.icon.spriteFrame=this.icons[i],this.node.setWorldPosition(e),this.node.active=!0;var n=e.clone();n.y+=80;d(this.node).to(.4,{worldPosition:n},{easing:"quintOut"}).start()},r.showHp=function(t,e,i){void 0===i&&(i=.4),this.label.string=(t>0?"+":"")+t,this.timer=.3,this.node.setWorldPosition(e),this.node.active=!0,this.icon.enabled=!1,this.label.color=t>0?p.GREEN:p.RED;var o=e.clone();o.y+=80,d(this.node).to(i,{worldPosition:o},{easing:"quintOut"}).start()},r.showProperty=function(t,e,i,o,n,r){void 0===n&&(n=.4),this.label.string=t,this.timer=n,this.node.setWorldPosition(e),this.node.active=!0,this.node.setScale(f.ONE.clone().multiplyScalar(.1)),d(this.node).sequence(d(this.node).to(n/2,{worldPosition:o,scale:f.ONE.clone().multiplyScalar(1)},{easing:"expoOut"}),d(this.node).delay(.1),d(this.node).to(n/2,{worldPosition:i,scale:f.ONE.clone().multiplyScalar(1)},{easing:"expoOut"})).call(r).start()},r.collect=function(){this.timer=0,m.stopAllByTarget(this.node),this.node.active=!1,this.node.setScale(f.ONE),e.pool.free(this)},r.update=function(t){this.timer-=t,this.timer<=0&&(this.node.active=!1,this.collect())},e}(y)).pool=void 0,T.parent=null,E=e((S=T).prototype,"label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(S.prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(S.prototype,"icons",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=S))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/SdmEffectConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("SdmEffectConfig",void 0),i._RF.push({},"66653IdVWBBmqDG/sTScTV9","SdmEffectConfig",void 0),function(t){t.config=function(){this.id=void 0,this.type=void 0,this.path=void 0,this.bundle=void 0,this.anim=void 0,this.time=void 0,this.need_preload=void 0};t.isConst=!1,t.path="config/SdmEffectConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(n||(n=t("SdmEffectConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/SDMEndView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./SDMState.ts","./UI_End2.ts","./SdmLevelConfig.ts","./SDMAudio.ts"],(function(t){var n,e,i,o,s,r,u,c,a,l,f;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){r=t.ViewBase},function(t){u=t.YT},function(t){c=t.default},function(t){a=t.default},function(t){l=t.SdmLevelConfig},function(t){f=t.SDMAudio}],execute:function(){s._RF.push({},"00eb6z7ietB0olLznBgKXS4","SDMEndView",void 0);t("SDMEndView",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var r=s.prototype;return r._preShowAnim=function(){var t=this._uiParam;this.ui.m_win.selectedIndex=t?1:0,this.ui.m_txt_timer.text=c.Inst.level.wave+"波",this.ui.m_adBtn.onClick(this.retry,this),this.ui.m_noBtn.onClick(this.onBack,this),this.ui.m_btnNext.onClick(this.onNext,this),t||f.play(7)},r.retry=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.game.watchAD("守大门-重开");case 2:if(!t.sent){t.next=5;break}this.hide(),u.logic.onRestartGame(1103,c.Inst.levelConfig.id);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onBack=function(){this.hide(),u.logic.onEnterHall()},r.onNext=function(){this.hide();var t=Math.min(c.Inst.levelConfig.id,l.dataList.length);u.logic.onEnterMoreGame(1103,t)},r._afterShowAnim=function(){},r._preHideAnim=function(){},r._afterHideAnim=function(){},e(s,null,[{key:"instance",get:function(){return this._getInstance(s,a)}}]),s}(r));s._RF.pop()}}}));

System.register("chunks:///_virtual/SDMEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SdmEnemyConfig.ts","./StateMachine.ts","./SDMEnemyIdleState.ts","./SDMEnemyMoveState.ts","./SDMEnemyMoveBackState.ts","./SDMEnemyAttackState.ts","./SDMEnemyDeadState.ts","./PoolManager3.ts","./YT.ts","./SDMState.ts","./SDMRoleBase.ts","./SDMBullet.ts","./SDMDamage.ts","./SdmItemConfig.ts","./SDMAudio.ts"],(function(t){var e,i,n,a,s,o,r,h,l,m,c,f,u,d,p,g,v,S,y,M,D,k,A,E,B,C,T,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,r=t._decorator,h=t.ProgressBar,l=t.sp,m=t.instantiate,c=t.Vec3,f=t.random,u=t.js},function(t){d=t.SdmEnemyConfig},function(t){p=t.default},function(t){g=t.default},function(t){v=t.default},function(t){S=t.default},function(t){y=t.default},function(t){M=t.default},function(t){D=t.default},function(t){k=t.YT},function(t){A=t.default},function(t){E=t.SDMRoleBase},function(t){B=t.SDMBullet},function(t){C=t.SDMDamage},function(t){T=t.SdmItemConfig},function(t){I=t.SDMAudio}],execute:function(){var w,P,R,b,_,V,H;o._RF.push({},"b86c9DiRWNHgqdCWrg95Weu","SDMEnemy",void 0);var L=r.ccclass,O=r.property,K=t("ESDMEnemyState",function(t){return t[t.IDLE=0]="IDLE",t[t.MOVE=1]="MOVE",t[t.ATTACK=2]="ATTACK",t[t.MOVE_BACK=3]="MOVE_BACK",t[t.DEAD=4]="DEAD",t}({}));t("SDMEnemy",(w=L("SDMEnemy"),P=O({type:h}),R=O(l.Skeleton),w((V=e((_=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).target=void 0,e.config=void 0,e.speedUpTime=0,e.speedUpRate=1,e.moveSpeedRate=1,e.atkSpeed=1,e.level=1,n(e,"hpBar",V,a(e)),e.damageTimer=0,e.fsm=void 0,n(e,"anim",H,a(e)),e.atkCB=void 0,e.flashTime=0,e}i(e,t),e.create=function(t){var i=d.data[t];if(1==i.type){var n=m(k.res.get(i.model,A.Inst.Bundle));n.setParent(A.Inst.level.enemyRoot),n.position=new c(0,0,0);var a=n.getComponent(e);return a.init(t),a}var s=D.getNode(i.model);s.setParent(A.Inst.level.enemyRoot);var o=s.getComponent(e);return o.init(t),s.position=new c(750*f()-375,100+500*f(),0),o};var o=e.prototype;return o.onHit=function(){this.flashTime=.3},o.init=function(t){this.config=d.data[t],this.fsm=new p,this.fsm.Add(new g(this)),this.fsm.Add(new v(this)),this.fsm.Add(new S(this)),this.fsm.Add(new y(this)),this.fsm.Add(new M(this)),this.fsm.ChangeState(K.IDLE),this.addAttackEndListener()},o.addAttackEndListener=function(){var t=this;this.anim.setCompleteListener((function(e){"attack"==e.animation.name&&t.onIdle()}))},o.onIdle=function(){this.anim.setAnimation(0,"move",!0),this.anim.customMaterial.setProperty("u_rate",1)},o.move=function(){var t=this.game.batGrids.filter((function(t){return 12==t.item.config.type}));t.length>0?this.atkSpeed=1/Math.pow(T.data[12].attrValue,t.length):this.atkSpeed=1,this.fsm.ChangeState(K.MOVE),this.anim.setAnimation(0,"move",!0)},o.moveBack=function(){this.fsm.currState.id!=K.MOVE_BACK&&(this.fsm.ChangeState(K.MOVE_BACK),this.anim.setAnimation(0,"move",!0))},o.doAttack=function(){this.anim.setAnimation(0,"attack",!1);var t=A.Inst.level;B.create(this.config.bullet,t.effRoot,this.node.worldPosition).shoot(t.door.item,this.config.bulletSpeed,this.damage,this)},o.onAttackEnd=function(t){I.play(16)},o.onDamage=function(t,e){this.onHit(),this.hp-=t,console.log(this.node.name+this.hp),C.create().showHp(-t,this.node.worldPosition),I.play(12),this.hpBar.node.active=!0,this.hpBar.progress=this.hp/this.hpMax,this.damageTimer=.3,this.hp<=0&&this.fsm.ChangeState(K.DEAD)},o.reset=function(){var t,e,i,n,a=A.Inst.level;this.hp=this.hpMax=this.calculateHP(null!=(t=null==(e=a.Boss)?void 0:e.level)?t:1),this.atk=this.calculateAttack(null!=(i=null==(n=a.Boss)?void 0:n.level)?i:1),this.target=a.door,console.log(this.node.name+"ak="+this.atk+"hp="+this.hp),this.hpBar.node.active=!1},o.onDead=function(){this.fsm.RemoveAll(),console.log(this.node.name+"onDead"),I.play(13),D.playEffectById(4,this.node.worldPosition,this.game.enemyRoot),D.putNode(this.config.model,this.node),u.array.fastRemove(A.Inst.level.enemys,this)},o.calculateHP=function(t){var e=A.Inst.level.config,i=this.isBoss?e.hpParam:e.enemyHpParam,n=i[0],a=i[1],s=i[2],o=n*Math.pow(t,s)+a;return t>70&&(o*=1+.02*(t-70)),Math.floor(o*(this.config.hpMax/100))},o.calculateAttack=function(t){var e=A.Inst.level.config.atkParam,i=e[0],n=e[1],a=e[2],s=i*Math.pow(t,a)+n;return t>70&&(s*=1+.01*(t-70)),this.isBoss||(s=Math.max(s/6,1)),Math.floor(s)},o.onClick=function(){A.Inst.level.rollItem()},o.onUpdate=function(t){if(this.damageTimer>0&&(this.damageTimer-=t,this.damageTimer<=0&&(this.hpBar.node.active=!1)),this.flashTime>0){this.flashTime-=t,this.flashTime=this.flashTime<0?0:this.flashTime;var e=2*Math.abs(this.flashTime-.3)/.5,i=this.anim._materialCache;for(var n in i){i[n].setProperty("u_rate",e)}}},s(e,[{key:"moveSpeed",get:function(){return this.config.moveSpeed*this.moveSpeedRate}},{key:"atkCD",get:function(){return this.config.atkSpeed/1e3/this.speedUpRate/this.atkSpeed}},{key:"atkAnimTime",get:function(){return.6*this.anim.getCurrent(0).animation.duration/this.anim.timeScale}},{key:"isBoss",get:function(){return 1==this.config.type}},{key:"isDead",get:function(){return this.hp<=0}},{key:"damage",get:function(){return this.atk}}]),e}(E)).prototype,"hpBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(_.prototype,"anim",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=_))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SDMEnemyAttackState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMEnemy.ts","./SDMEnemyStateBase.ts"],(function(e){var t,n,i,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.ESDMEnemyState},function(e){r=e.default}],execute:function(){n._RF.push({},"86c42t92nhIQ6MYXIY3jLTh","SDMEnemyAttackState",void 0);e("default",function(e){function n(t){var n;return(n=e.call(this,i.ATTACK,t)||this).owener=void 0,n.timer=0,n.owener=t,n}t(n,e);var r=n.prototype;return r.OnEnter=function(e,t){this.timer=this.owener.atkCD},r.OnRunning=function(e,t){var n,i;(this.timer+=t,this.owener.onUpdate(t),this.owener.speedUpTime>0?(this.owener.speedUpTime-=t,this.owener.speedUpRate=2,this.owener.anim.timeScale=2):(this.owener.speedUpRate=1,this.owener.anim.timeScale=1),this.timer>this.owener.atkCD&&(this.timer=0,this.owener.doAttack()),this.timer>this.owener.atkAnimTime&&this.owener.atkCB)&&(null==(n=(i=this.owener).atkCB)||n.call(i),this.owener.atkCB=null)},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/SdmEnemyConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("SdmEnemyConfig",void 0),t._RF.push({},"dbf3atjWbZB5aDVqDiIVYKY","SdmEnemyConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.desc=void 0,this.type=void 0,this.hpMax=void 0,this.atk=void 0,this.moveSpeed=void 0,this.atkSpeed=void 0,this.atkRange=void 0,this.bulletSpeed=void 0,this.backSpeedRate=void 0,this.model=void 0,this.bullet=void 0,this.bullet2=void 0,this.dialog=void 0};i.isConst=!1,i.path="config/SdmEnemyConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("SdmEnemyConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SDMEnemyDeadState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMEnemy.ts","./SDMEnemyStateBase.ts"],(function(e){var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.ESDMEnemyState},function(e){r=e.default}],execute:function(){n._RF.push({},"6e14dfXlSdBWoGqNa7ZN5Nq","SDMEnemyDeadState",void 0);e("default",function(e){function n(t){var n;return(n=e.call(this,o.DEAD,t)||this).owener=void 0,n.owener=t,n}return t(n,e),n.prototype.OnEnter=function(e,t){this.owener.onDead()},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMEnemyIdleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMEnemy.ts","./SDMEnemyStateBase.ts"],(function(e){var t,n,o,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.ESDMEnemyState},function(e){u=e.default}],execute:function(){n._RF.push({},"3f20cCB7V5DgaPSHHbxNDwm","SDMEnemyIdleState",void 0);e("default",function(e){function n(t){var n;return(n=e.call(this,o.IDLE,t)||this).owener=void 0,n.owener=t,n}return t(n,e),n.prototype.OnEnter=function(e,t){},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMEnemyMoveBackState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMState.ts","./SDMEnemy.ts","./SDMEnemyStateBase.ts"],(function(e){var n,t,o,i,r,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.Vec3},function(e){i=e.default},function(e){r=e.ESDMEnemyState},function(e){s=e.default}],execute:function(){t._RF.push({},"50180VNWf9FiYmkaE6wgoKW","SDMEnemyMoveBackState",void 0);e("default",function(e){function t(n){var t;return(t=e.call(this,r.MOVE_BACK,n)||this).moveDir=void 0,t.owener=n,t}n(t,e);var s=t.prototype;return s.OnEnter=function(e,n){this.moveDir=i.Inst.level.enemyRoot.worldPosition.clone().subtract(this.owener.node.worldPosition).normalize()},s.OnExit=function(e,n){this.owener.anim.timeScale=1},s.OnRunning=function(e,n){this.owener.onUpdate(n);var t=this.owener.node.worldPosition.clone(),s=this.owener.moveSpeed*this.owener.config.backSpeedRate;t.add(this.moveDir.clone().multiplyScalar(s*n)),this.owener.anim.timeScale=this.owener.config.backSpeedRate,this.owener.node.setWorldPosition(t),o.distance(this.owener.node.worldPosition,this.owener.node.parent.worldPosition)<=10&&(this.owener.fsm.ChangeState(r.IDLE,null),i.Inst.isMerging||i.Inst.level.backToMerge())},t}(s));t._RF.pop()}}}));

System.register("chunks:///_virtual/SDMEnemyMoveState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMEnemy.ts","./SDMEnemyStateBase.ts","./SDMAudio.ts"],(function(e){var o,n,t,i,r,s,l;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e.Vec3,i=e.Animation},function(e){r=e.ESDMEnemyState},function(e){s=e.default},function(e){l=e.SDMAudio}],execute:function(){n._RF.push({},"88aebKslKZHAYaCZ2zvYEFu","SDMEnemyMoveState",void 0);e("default",function(e){function n(o){var n;return(n=e.call(this,r.MOVE,o)||this).owener=void 0,n.moveDir=void 0,n.trees=[],n.owener=o,n}o(n,e);var s=n.prototype;return s.OnEnter=function(e,o){this.owener.move(),this.moveDir=this.owener.target.node.worldPosition.clone().subtract(this.owener.node.worldPosition).normalize(),this.trees=this.owener.game.enemyRoot.children.filter((function(e){return-1!=e.name.indexOf("tree")}))},s.OnRunning=function(e,o){var n=this,s=this.owener.node.worldPosition.clone();s.add(this.moveDir.clone().multiplyScalar(this.owener.moveSpeed*o));var a=s.y,d=this.trees.filter((function(e){return t.distance(e.worldPosition,n.owener.node.worldPosition)<100&&e.worldPosition.y<n.owener.node.worldPosition.y&&e.worldPosition.y>a}));d.length>0&&d.forEach((function(e){e.getComponent(i).play(),l.play(6)})),this.owener.game.enemyRoot.children.sort((function(e,o){return o.worldPosition.y-e.worldPosition.y}));for(var c=0;c<this.owener.game.enemyRoot.children.length;c++){this.owener.game.enemyRoot.children[c].setSiblingIndex(c)}this.owener.node.setWorldPosition(s),this.owener.onUpdate(o),t.distance(this.owener.node.worldPosition,this.owener.target.node.worldPosition)<=this.owener.config.atkRange&&this.owener.fsm.ChangeState(r.ATTACK,null)},n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMEnemyStateBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseState.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.default}],execute:function(){n._RF.push({},"8ef20NlwD1DeoMHg5ocdx9w","SDMEnemyStateBase",void 0);e("default",function(e){function n(t,n){var o;return(o=e.call(this,t)||this).owener=void 0,o.owener=n,o}return t(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/SdmGenConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t;i("SdmGenConfig",void 0),n._RF.push({},"357589sASJJh6srvJjpfRVU","SdmGenConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.types=void 0,this.items=void 0};i.isConst=!1,i.path="config/SdmGenConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("SdmGenConfig",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/SdmGenTypeConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("SdmGenTypeConfig",void 0),t._RF.push({},"2ec4827qNhKAb8FskHrwBsc","SdmGenTypeConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.type_weights=void 0,this.item_weights=void 0};i.isConst=!1,i.path="config/SdmGenTypeConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("SdmGenTypeConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SDMGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMState.ts"],(function(t){var i,e,n,o,r,s,c,l,a,u,d,m,h,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,c=t._decorator,l=t.CCInteger,a=t.CCBoolean,u=t.Sprite,d=t.Vec3,m=t.v2,h=t.Component},function(t){p=t.default}],execute:function(){var f,I,g,y,b,v,k,G,S,D;s._RF.push({},"29b5fkYZABJTLcwIVsDrbzd","SDMGrid",void 0);var w=c.ccclass,P=c.property;t("SDMGrid",(f=w("SDMGrid"),I=P({type:l,serializable:!0}),g=P({type:l,serializable:!0}),y=P({type:a}),b=P({type:a}),f((G=i((k=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"_mId",G,o(i)),n(i,"isStatic",S,o(i)),i.item=void 0,n(i,"isBattleGrid",D,o(i)),i}e(i,t);var s=i.prototype;return s.start=function(){this.node.getComponent(u).enabled=!1},s.dropItem=function(t){return this.item&&this.item.dropable?t.config.type<100?this.dropSpecialItem(t):t.config.id==this.item.config.id?this.item.upgradeItem(t):!t.isLock&&!this.item.isLock&&(this.isStatic?this.item.config.type==t.config.type&&(t.changeItem(this.item),!0):(t.changeItem(this.item),!0)):(p.Inst.level.removeGridItem(t),this.init(t),!0)},s.isNeighbor=function(t){return d.distance(this.node.worldPosition,t.node.worldPosition)<111},s.dropSpecialItem=function(t){switch(t.config.type){case 2:return this.item?0==this.item.itemId?(t.collect(),this.unlockGrid(),!0):1!=this.item.itemId&&(!!this.item.isLock&&(t.collect(),this.item.isLock&&this.item.unlock(),this.item.unlockNexts(),!0)):(p.Inst.level.removeGridItem(t),this.init(t),!0)}},s.unlockGrid=function(){if(this.isBattleGrid){var t;null==(t=this.item)||t.collect()}else{var i,e=p.Inst.level,n=e.randomNextGridID();null==(i=this.item)||i.collect(),e.initGridItem(n,this),this.item.unlock(),this.item.unlockNexts()}},s.init=function(t){this.item=t,t.node.setWorldPosition(this.node.getWorldPosition()),t.gridId=this.uuid,t.reset()},s.checkIn=function(t){return this.node.uiTransform.getBoundingBoxToWorld().contains(m(t.node.worldPosition.x,t.node.worldPosition.y))},s.update=function(t){},s.clearItem=function(){this.item=null},r(i,[{key:"itemId",get:function(){return this._mId},set:function(t){this._mId=t}},{key:"Dropable",get:function(){var t;return!this.item||(null==(t=this.item)?void 0:t.itemId)>1}}]),i}(h)).prototype,"_mId",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(k.prototype,"itemId",[g],Object.getOwnPropertyDescriptor(k.prototype,"itemId"),k.prototype),S=i(k.prototype,"isStatic",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=i(k.prototype,"isBattleGrid",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=k))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/SDMHudView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./UI_Hud.ts","./UI_itemToast.ts"],(function(t){var n,e,o,i,c,u,s;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,i=t.Pool},function(t){c=t.ViewBase},function(t){u=t.default},function(t){s=t.default}],execute:function(){o._RF.push({},"5c5439GzyhORYcylkEgfSEX","SDMHudView",void 0);t("SDMHudView",function(t){function o(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).pool=void 0,n}n(o,t);var c=o.prototype;return c._preShowAnim=function(){this.pool=new i((function(){return s.createInstance()}),20)},c.toast=function(t,n,e){void 0===e&&(e=0);var o=this.pool.alloc();this.ui.addChild(o),o.node.setWorldPosition(n),o.m_type.selectedIndex=e},c._afterShowAnim=function(){},c._preHideAnim=function(){},c._afterHideAnim=function(){this.pool.destroy()},e(o,null,[{key:"instance",get:function(){return this._getInstance(o,u)}}]),o}(c));o._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SdmItemConfig.ts","./YT.ts","./UIHelper.ts","./StateMachine.ts","./PoolManager3.ts","./SDMDamage.ts","./SDMState.ts","./SDMBattleView.ts","./SDMItemInfoView.ts","./SDMItemBattleState.ts","./SDMItemIdleState.ts","./SDMItemMergeState.ts","./SDMRoleBase.ts","./SDMAudio.ts"],(function(t){var i,e,o,n,s,a,h,c,r,l,d,u,f,m,g,p,I,v,S,k,T,y,M,b,E,D,P,w,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,h=t._decorator,c=t.ccenum,r=t.CCInteger,l=t.Sprite,d=t.Animation,u=t.Label,f=t.Node,m=t.Vec2,g=t.Vec3},function(t){p=t.SdmItemConfig},function(t){I=t.YT},function(t){v=t.UIHelper},function(t){S=t.default},function(t){k=t.default},function(t){T=t.SDMDamage},function(t){y=t.default},function(t){M=t.SDMBattleView},function(t){b=t.SDMItemInfoView},function(t){E=t.default},function(t){D=t.default},function(t){P=t.default},function(t){w=t.SDMRoleBase},function(t){C=t.SDMAudio}],execute:function(){var _,G,A,N,x,L,O,R,H;a._RF.push({},"e836f1jKvhESKCaiuuVQiVa","SDMItem",void 0);var B=h.ccclass,F=h.property,U=t("ESDMItemState",function(t){return t[t.NONE=0]="NONE",t[t.IDLE=1]="IDLE",t[t.MERGE=2]="MERGE",t[t.BATTLE=3]="BATTLE",t}({})),V=t("ESDMItemType",function(t){return t[t.LOCK=0]="LOCK",t[t.RANDOM=1]="RANDOM",t[t.DOOR=100]="DOOR",t[t.EMPTY=9999]="EMPTY",t}({}));c(V);t("SDMItem",(_=B("SDMItem"),G=F({type:r}),A=F({type:l}),N=F({type:l}),_((O=i((L=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,o(i,"itemId",O,n(i)),o(i,"icon",R,n(i)),o(i,"backIcon",H,n(i)),i.anim=void 0,i.gridId=void 0,i.used=!1,i.shileldTime=0,i.startPos=void 0,i._lastTouch=void 0,i._startTouch=void 0,i._locked=!1,i.fsm=void 0,i.type=V.EMPTY,i.hp=0,i.exhp=0,i.exAtk=0,i.exAtkSpeed=0,i.label=void 0,i.selectNode=void 0,i}e(i,t),i.create=function(t,e){var o=null,n=p.data[t],s=(o=n?k.createNode(n.model_path):k.getNode("prefabs/items/sdmItem")).getComponent(i);return e.addChild(o),s.anim=o.getComponent(d),s.itemId=t,s.label=o.getComponentInChildren(u),s.label.string="",s};var a=i.prototype;return a.collect=function(){this.fsm.RemoveAll(),this.Grid&&(this.Grid.item=null),this.itemId=-1,y.Inst.level.removeGridItem(this),this.gridId="",this.node.destroy()},a.init=function(t){this.fsm=new S,this.fsm.Add(new D(this)),this.fsm.Add(new P(this)),this.fsm.Add(new E(this)),this.fsm.ChangeState(U.IDLE),this.selectNode=this.node.getChildByName("select"),this.select(!1),this.config?this.config.bullet&&k.addPool(this.config.bullet):console.error("item config not found"+t),this.reset(!0),y.Inst.isMerging&&this.fsm.ChangeState(U.MERGE)},a.select=function(t){void 0===t&&(t=!0),this.selectNode.active=t},a.onLoad=function(){this.node.on(f.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(f.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(f.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(f.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},a.onDestroy=function(){this.node.off(f.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(f.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(f.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(f.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},a.onTouchStart=function(t){t.propagationStopped=!0,this.startPos=this.node.getWorldPosition(),this.movable&&(this.node.setWorldPosition(this.startPos),this.node.setSiblingIndex(this.node.parent.children.length-1),this._lastTouch=t.getUILocation(),this._startTouch=t.getUILocation())},a.onTouchMove=function(t){var i;if(this.movable&&(null==(i=this.Grid)||!i.isStatic)){t.propagationStopped=!0;var e=t.getUILocation();if(!(m.distance(this._startTouch,e)<30&&g.distance(this.startPos,this.node.worldPosition)<1)){var o=e.clone().subtract(this._lastTouch),n=this.node.getWorldPosition();this.node.setWorldPosition(n.x+o.x,n.y+o.y,0),this._lastTouch=e}}},a.onTouchEnd=function(t){if(t)if(0!=this.itemId){t.propagationStopped=!0;t.getUILocation();if(g.distance(this.startPos,this.node.worldPosition)<30)g.distance(this.startPos,this.node.worldPosition)<1?this.onClick():this.backToStart();else if(this.movable)if(y.Inst.level.checkInGrid(this,this.gridId))this.backToStart();else y.Inst.level.checkDragEnd(this)?C.play(10):this.backToStart(),k.playEffectById(7,this.node.worldPosition,this.game.effRoot)}else I.gui.toast("需要用道具解锁");else this.backToStart()},a.onClick=function(){console.log("onClick"),this.select(!0),b.instance.show(this)},a.backToStart=function(){this.node.setWorldPosition(this.startPos),this.node.setSiblingIndex(0)},a.changeItem=function(t){console.log("changeItem",t.config.id,this.config.id),y.Inst.level.changeItem(t,this),this.reset()},a.upgradeItem=function(t){var i=this.config.id+1;return!!p.data[i]&&(this.itemId=i,this.unlockNexts(),this.unlock(),this.reset(),t.collect(),this.config.bullet&&k.addPool(this.config.bullet),C.play(9),k.playEffectById(8,this.node.worldPosition,this.game.effRoot),!0)},a.unlockNexts=function(){var t=this,i=y.Inst.level;i.grids.filter((function(i){return(null==i?void 0:i.item)!=t&&i.item&&0==i.item.itemId&&g.distance(t.node.worldPosition,i.node.worldPosition)<101})).forEach((function(t){var e,o=i.randomNextGridID();null==(e=t.item)||e.collect(),i.initGridItem(o,t)}))},a.reset=function(t){var i;void 0===t&&(t=!1),this.itemId>100?this.label.string=(this.itemId%100).toString():this.label.string="",this.startPos=this.node.getWorldPosition(),this.node.setParent(y.Inst.level.itemRoot),this.node.setWorldPosition(this.startPos);var e=this.itemId>1&&!(null!=(i=this.Grid)&&i.isStatic)&&!this.Grid.isBattleGrid;t&&e?this.lock():this.unlock(),this.checkIcon()},a.startMerge=function(){this.onTouchEnd(null),this.fsm.ChangeState(U.MERGE),this.used=!1},a.lock=function(){this._locked=!0,this.node.getChildByName("lock").active=!0},a.unlock=function(){this._locked=!1,this.node.getChildByName("lock").active=!1,k.playEffectById(9,this.node.worldPosition,this.game.effRoot)},a.startBattle=function(){this.backToStart(),this.hp=this.config.hp+this.exhp},a.doAttack=function(t){this.anim.play("attack")},a.getTarget=function(){var t=this,i=y.Inst.level.enemys.filter((function(i){return!i.isDead&&g.distance(t.node.worldPosition,i.node.worldPosition)<t.config.atkDst}));return(i=i.sort((function(t,i){return t.config.type-i.config.type}))).length>0?i[0]:null},a.dealAtk=function(){var t,i=y.Inst.level;switch(this.config.type){case 100:if(this.hp<this.MaxHp&&null!=(t=this.Grid)&&t.isStatic){var e=Math.max(1,Math.floor(this.config.hp*this.config.attrValue));this.hp=Math.min(this.MaxHp,this.hp+e),Math.abs(e)>0&&T.create().showHp(e,this.node.worldPosition)}break;case 200:i.coin+=this.damage,T.create().show(this.damage,this.node.worldPosition),M.instance.updateInfo(),this.anim.play("attack");break;case 300:i.energy+=this.damage,T.create().show(this.damage,this.node.worldPosition,1),M.instance.updateInfo();break;case 400:return this.getTarget();case 7:this.doAttack(null);break;case 9:if(this.hp<this.MaxHp){var o=Math.floor(i.door.item.config.hp*this.config.attrValue);this.hp=Math.min(this.MaxHp,this.hp+o),Math.abs(o)>0&&T.create().showHp(o,this.node.worldPosition)}break;case 13:this.doAttack(null)}return null},a.onDamage=function(t,i){var e=this;if(this.Grid.isStatic&&!(this.shileldTime>0)){var o=y.Inst.level;if(this.hp-=t,console.log(this.hp+"dmg-"+t),T.create().showHp(-t,this.node.worldPosition),this.Grid==o.door)o.batGrids.filter((function(t){var i;return 11==(null==(i=t.item)?void 0:i.config.type)})).forEach((function(t){null==i||i.onDamage(Math.min(.085*e.game.door.item.config.hp,1),e)}));this.hp<=0&&(console.error("gg??"),o.onEnd(!1))}},a.checkIcon=function(){if(this.node.setScale(1,1),this.icon.spriteFrame=null,this.backIcon.spriteFrame=null,this.itemId>0){var t;if(this.backIcon.spriteFrame=null,200==this.config.type)this.Grid.isBattleGrid&&(null==(t=this.fsm)?void 0:t.currState.id)>U.IDLE?v.changeSpriteFrame(this.config.icon_path,"sdm",this.icon):v.changeSpriteFrame(this.config.icon_path2,"sdm",this.icon);else v.changeSpriteFrame(this.config.icon_path,"sdm",this.icon);if(400==this.config.type&&this.Grid.isBattleGrid?v.changeSpriteFrame("map/common/tower","sdm",this.backIcon):this.backIcon.spriteFrame=null,100==this.config.type){var i=this.Grid.isStatic?1.2:1;this.node.setScale(i,i)}}else 0==this.itemId?(this.icon.spriteFrame=null,v.changeSpriteFrame("map/common/grid","sdm",this.backIcon)):(this.icon.spriteFrame=null,this.backIcon.spriteFrame=null)},s(i,[{key:"config",get:function(){return p.data[this.itemId]}},{key:"isLock",get:function(){return this._locked||0==this.itemId}},{key:"MaxHp",get:function(){return this.config.hp+this.exhp}},{key:"attackCD",get:function(){return this.config.cd/(1+this.exAtkSpeed)}},{key:"damage",get:function(){return this.config.atk+this.exAtk}},{key:"dropable",get:function(){return this.itemId>0&&this.config.type>1}},{key:"Grid",get:function(){var t=this;return y.Inst.level.grids.find((function(i){return i.uuid==t.gridId}))}},{key:"movable",get:function(){var t;return!this.isLock&&this.itemId>1&&(null==(t=this.fsm)?void 0:t.currState.id)==U.MERGE}}]),i}(w)).prototype,"itemId",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=i(L.prototype,"icon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(L.prototype,"backIcon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=L))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem01.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMState.ts","./SDMItem.ts","./PoolManager3.ts","./SDMAudio.ts","./SDMBattleView.ts"],(function(t){var n,e,o,i,c,s,r,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.default},function(t){c=t.SDMItem},function(t){s=t.default},function(t){r=t.SDMAudio},function(t){u=t.SDMBattleView}],execute:function(){var a;e._RF.push({},"1ba30uPbK9OzpJj98q7usxy","SDMItem01",void 0);var l=o.ccclass;o.property,t("SDMItem01",l("SDMItem01")(a=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).itemId=1,n}n(e,t);var o=e.prototype;return o.init=function(n){t.prototype.init.call(this,n)},o.onClick=function(){i.Inst.level.rollItem(),s.playEffectById(18,this.node.worldPosition,this.game.effRoot),u.instance.updateCost(this)},o.onTouchEnd=function(t){t&&i.Inst.isMerging&&(this.onClick(),r.play(8))},e}(c))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem02.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator},function(t){o=t.SDMItem}],execute:function(){var c;n._RF.push({},"a80181lVp5FVoKtKfZ+hDjo","SDMItem02",void 0);var s=r.ccclass;r.property,t("SDMItem02",s("SDMItem02")(c=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem06.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts","./SDMBullet.ts"],(function(t){var e,o,s,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator},function(t){i=t.SDMItem},function(t){n=t.SDMBullet}],execute:function(){var a;o._RF.push({},"1388fc9hDdF/JEToF2I07fS","SDMItem06",void 0);var c=s.ccclass;s.property,t("SDMItem06",c("SDMItem06")(a=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).itemId=6,e.shooted=!1,e}e(o,t);var s=o.prototype;return s.startBattle=function(){t.prototype.startBattle.call(this),this.shooted=!1},s.onUpdate=function(t){!this.shooted&&this.game.Boss.isEscape&&this.doAttack(this.game.Boss)},s.doAttack=function(t){this.shooted=!0,this.anim.play("attack");var e=this.game;n.create(this.config.bullet,e.effRoot,this.node.worldPosition).shoot(t,this.config.bulletSpeed,this.damage,this,!0)},s.onAttackEnd=function(t){var e;null==(e=this.game.Boss)||e.freeze()},o}(i))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem07.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts","./SDMDamage.ts"],(function(t){var e,o,r,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){n=t.SDMItem},function(t){a=t.SDMDamage}],execute:function(){var i;o._RF.push({},"d0982+7RP5K0rk5LmeQzUMV","SDMItem07",void 0);var c=r.ccclass;r.property,t("SDMItem07",c("SDMItem07")(i=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.doAttack=function(t){var e=this.game.door.item;if(e.hp<e.MaxHp){var o=Math.floor(e.hp*this.config.attrValue);e.hp=Math.min(e.MaxHp,e.hp+o),Math.abs(o)>0&&a.create().showHp(o,e.node.worldPosition)}},o}(n))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem08.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts"],(function(t){var e,r,i,a,n,o,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,c=t.Node},function(t){s=t.SDMItem}],execute:function(){var l,p,f,u,y;n._RF.push({},"f86abieS/tP1YK0VtPv+2tb","SDMItem08",void 0);var h=o.ccclass,b=o.property;t("SDMItem08",(l=h("SDMItem08"),p=b({type:c}),l((y=e((u=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).itemId=8,i(e,"batEff",y,a(e)),e}r(e,t);var n=e.prototype;return n.startBattle=function(){t.prototype.startBattle.call(this),this.batEff.active=!0},n.startMerge=function(){t.prototype.startMerge.call(this),this.batEff.active=!1},e}(s)).prototype,"batEff",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=u))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem09.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager3.ts","./SDMItem.ts"],(function(t){var e,o,i,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){s=t.default},function(t){n=t.SDMItem}],execute:function(){var r;o._RF.push({},"74930IiColM2YTD3pNa+zE8","SDMItem09",void 0);var a=i.ccclass;i.property,t("SDMItem09",a("SDMItem09")(r=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).itemId=6,e.used=!1,e.eff=void 0,e}e(o,t);var i=o.prototype;return i.startBattle=function(){t.prototype.startBattle.call(this),this.used=!1},i.onUpdate=function(t){var e=this.game.door.item;e.hp<.1*e.hpMax&&e.shileldTime<=0&&!this.used&&(this.used=!0,e.shileldTime=5,console.log("使用金钟罩"),this.eff=s.playEffectById(17,this.game.door.item.node.worldPosition,this.game.effRoot)),this.eff&&e.shileldTime<=0&&(this.eff.active=!1)},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem100.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts"],(function(t){var e,r,i,a,s,n,o,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,o=t.ProgressBar},function(t){p=t.SDMItem}],execute:function(){var c,h,l,u,m;s._RF.push({},"362b6OrBTtE3ZU7uE9Qco4p","SDMItem100",void 0);var d=n.ccclass,g=n.property;t("SDMItem100",(c=d("SDMItem100"),h=g({type:o}),c((m=e((u=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,i(e,"hpBar",m,a(e)),e.damageTimer=0,e}r(e,t);var s=e.prototype;return s.onDamage=function(e,r){var i;t.prototype.onDamage.call(this,e,r),null!=(i=this.Grid)&&i.isStatic&&(this.updateHp(),this.damageTimer=.5)},s.updateHp=function(){this.hpBar.node.active=!0,this.hpBar.progress=this.hp/this.MaxHp},s.onUpdate=function(t){var e;null!=(e=this.Grid)&&e.isStatic&&this.damageTimer>0&&(this.damageTimer-=t,this.damageTimer<=0&&(this.hpBar.node.active=!1))},s.startMerge=function(){t.prototype.startMerge.call(this),this.hpBar.progress=this.hp/this.MaxHp,this.hpBar.node.active=!1},e}(p)).prototype,"hpBar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u))||l));s._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts"],(function(t){var e,r,i,a,o,n,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,c=t.Node},function(t){s=t.SDMItem}],execute:function(){var l,p,u,f,h;o._RF.push({},"1a726SCJT1GnK3VorovhmJb","SDMItem12",void 0);var y=n.ccclass,m=n.property;t("SDMItem12",(l=y("SDMItem12"),p=m({type:c}),l((h=e((f=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).itemId=6,i(e,"batEff",h,a(e)),e}r(e,t);var o=e.prototype;return o.startBattle=function(){t.prototype.startBattle.call(this),this.batEff.active=!0},o.startMerge=function(){t.prototype.startMerge.call(this),this.batEff.active=!1},e}(s)).prototype,"batEff",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem13.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts","./util2.ts","./Vec3Util.ts"],(function(t){var e,i,s,o,a,n,f,r,c,l,h,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,f=t.Node,r=t.Vec3,c=t.instantiate},function(t){l=t.SDMItem},function(t){h=t.vec3},function(t){u=t.Vec3Util}],execute:function(){var p,d,v,m,g;a._RF.push({},"2a977q3s9RJz5/l0pmrmV+k","SDMItem13",void 0);var y=n.ccclass,D=n.property;t("SDMItem13",(p=y("SDMItem13"),d=D({type:f}),p((g=e((m=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).itemId=13,s(e,"batEff",g,o(e)),e.effs=[],e}i(e,t);var a=e.prototype;return a.startBattle=function(){t.prototype.startBattle.call(this),this.batEff.active=!1,this.effs.forEach((function(t){t.active=!1}))},a.startMerge=function(){t.prototype.startMerge.call(this),this.batEff.active=!1,this.effs.forEach((function(t){t.active=!1}))},a.onUpdate=function(t){this.effs.forEach((function(t){t.active=!1}));var e=this.game.Boss;if(e.isDead)this.effs[0]&&(this.effs[0].active=!1);else{var i=e.node.worldPosition.clone().subtract(this.node.worldPosition),s=r.distance(e.node.worldPosition,this.node.worldPosition)+30;this.effs[0]||(this.effs[0]=c(this.batEff),this.effs[0].parent=this.game.effRoot),this.effs[0].active=!0,this.effs[0].setWorldPosition(this.node.worldPosition.clone()),this.effs[0].setRotationFromEuler(0,0,u.signedAngleEx(u.s_up,i,u.s_forward));var o=s/1e3;this.effs[0].setScale(h(1,o,1))}},a.doAttack=function(t){this.anim.play("attack");var e=this.game.Boss;if(e.isDead)this.effs[0]&&(this.effs[0].active=!1);else{var i=Math.max(1,Math.floor(this.config.attrValue*e.hpMax));e.onDamage(i)}},e}(l)).prototype,"batEff",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem200.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){r=t.SDMItem}],execute:function(){var c;n._RF.push({},"3cb07rdXopFTIUqaVBt6CMZ","SDMItem200",void 0);var u=o.ccclass;o.property,t("SDMItem200",u("SDMItem200")(c=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem300.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts"],(function(t){var e,n,c,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t._decorator},function(t){o=t.SDMItem}],execute:function(){var r;n._RF.push({},"0c945PSzhpFz6ncPd0Kt2KL","SDMItem300",void 0);var u=c.ccclass;c.property,t("SDMItem300",u("SDMItem300")(r=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){},n}(o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItem400.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts","./SdmItemConfig.ts","./SDMBullet.ts","./Awaiters.ts","./SDMDamage.ts","./SDMBattleView.ts","./SDMAudio.ts"],(function(t){var e,n,i,o,r,a,s,c,u,l,f,h,d;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator},function(t){s=t.SDMItem},function(t){c=t.SdmItemConfig},function(t){u=t.SDMBullet},function(t){l=t.Awaiters},function(t){f=t.SDMDamage},function(t){h=t.SDMBattleView},function(t){d=t.SDMAudio}],execute:function(){var p;r._RF.push({},"154bdz074VHMKDJSOJX12Am","SDMItem400",void 0);var g=a.ccclass;a.property,t("SDMItem400",g("SDMItem400")(p=function(t){function r(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).exAtkSpeed=void 0,e.exBulletCnt=0,e.stoolCoin=0,e}e(r,t);var a=r.prototype;return a.startBattle=function(){var e=this;t.prototype.startBattle.call(this);var n=this.game.batGrids.filter((function(t){return 5==t.item.config.type})),i=c.data[5].attrValue;this.exAtkSpeed=i*n.length;var o=this.game.batGrids.filter((function(t){return 8==t.item.config.type&&e.Grid.isNeighbor(t)}));this.exBulletCnt=o.length;var r=this.game.batGrids.filter((function(t){return 10==t.item.config.type}));this.stoolCoin=r.length*this.config.id%100},a.onUpdate=function(t){},a.doAttack=function(){var t=i(o().mark((function t(e){var n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.anim.play("attack"),d.play(11),n=this.game,i=1+this.exBulletCnt,r=0;case 5:if(!(r<i)){t.next=15;break}if(e&&!e.isDead){t.next=8;break}return t.abrupt("continue",12);case 8:return u.create(this.config.bullet,n.effRoot,this.node.worldPosition).shoot(e,this.config.bulletSpeed,this.damage,this),t.next=12,l.Seconds(.2);case 12:r++,t.next=5;break;case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.onAttackEnd=function(t){this.stoolCoin&&(this.game.coin+=this.stoolCoin,f.create().show(this.stoolCoin,this.node.worldPosition),h.instance.updateInfo())},n(r,[{key:"attackCD",get:function(){return this.config.cd/(1+this.exAtkSpeed)}}]),r}(s))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItemBattleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts","./SDMItemStateBase.ts"],(function(t){var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.ESDMItemState},function(t){r=t.default}],execute:function(){i._RF.push({},"aa837YqD8ZPO4u1FkwZpTcz","SDMItemBattleState",void 0);t("default",function(t){function i(e){var i;return(i=t.call(this,n.BATTLE,e)||this).owener=void 0,i.atkTimer=0,i.target=void 0,i.owener=e,i}e(i,t);var r=i.prototype;return r.OnEnter=function(t,e){this.atkTimer=0,this.target=e,this.owener.itemId>0&&this.owener.startBattle()},r.OnRunning=function(t,e){if(!(this.owener.itemId<=0)){this.atkTimer+=e,this.owener.shileldTime>0&&(this.owener.shileldTime-=e),this.owener.onUpdate(e);var i=this.owener.attackCD;this.atkTimer>i&&(400==this.owener.config.type?(this.target=this.owener.getTarget(),this.target&&(this.atkTimer=0,this.owener.doAttack(this.target))):(this.owener.dealAtk(),this.atkTimer=0))}},i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/SdmItemConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("SdmItemConfig",void 0),i._RF.push({},"8009aqhtyJNWbjeGAkVASql","SdmItemConfig",void 0),function(t){t.config=function(){this.id=void 0,this.name=void 0,this.model_path=void 0,this.icon_path=void 0,this.icon_path2=void 0,this.type=void 0,this.cd=void 0,this.hp=void 0,this.atk=void 0,this.atkDst=void 0,this.atkCountPerWave=void 0,this.attrValue=void 0,this.bullet=void 0,this.bulletSpeed=void 0,this.desc=void 0,this.desc1=void 0};t.isConst=!1,t.path="config/SdmItemConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("SdmItemConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItemIdleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts","./SDMItemStateBase.ts"],(function(t){var e,n,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.ESDMItemState},function(t){u=t.default}],execute:function(){n._RF.push({},"395f2fYINNAZ4ZLBRAdcNQe","SDMItemIdleState",void 0);t("default",function(t){function n(e){var n;return(n=t.call(this,o.IDLE,e)||this).owener=void 0,n.owener=e,n}e(n,t);var u=n.prototype;return u.OnEnter=function(t,e){},u.OnRunning=function(t,e){},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItemInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./PoolManager3.ts","./SDMState.ts","./UI_SDMItemInfo.ts"],(function(t){var i,e,n,o,s,c,u;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy},function(t){o=t.ViewBase},function(t){s=t.default},function(t){c=t.default},function(t){u=t.default}],execute:function(){n._RF.push({},"3a520h6uDtKQrWd7pJ/B49n","SDMItemInfoView",void 0);t("SDMItemInfoView",function(t){function n(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).item=void 0,i}i(n,t);var o=n.prototype;return o._preShowAnim=function(){this.item=this._uiParam,this.ui.m_btnRemove.onClick(this.onClickRemove,this),this.ui.m_txt_name.text=this.item.config.name,this.ui.m_txt_desc.text=this.item.config.desc,this.ui.setIcon(this.item.config.icon_path,"sdm"),this.ui.onClick(this.hide,this),this.ui.m_btnRemove.visible=!this.item.isLock&&c.Inst.isMerging&&!this.item.Grid.isStatic},o.onClickRemove=function(){s.playEffectById(9,this.item.node.worldPosition,this.item.game.effRoot),this.item.collect(),this.hide()},o._afterShowAnim=function(){},o._preHideAnim=function(){var t;null==(t=this.item)||t.select(!1)},o._afterHideAnim=function(){},e(n,null,[{key:"instance",get:function(){return this._getInstance(n,u)}}]),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItemMergeState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMItem.ts","./SDMItemStateBase.ts"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.ESDMItemState},function(t){r=t.default}],execute:function(){n._RF.push({},"7f734U1ISNF7Lk2gFnLWVJH","SDMItemMergeState",void 0);t("default",function(t){function n(e){var n;return(n=t.call(this,o.MERGE,e)||this).owener=void 0,n.owener=e,n}return e(n,t),n.prototype.OnEnter=function(t,e){this.owener.checkIcon()},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMItemStateBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseState.ts"],(function(e){var t,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.default}],execute:function(){n._RF.push({},"d12e9PKcWNElbKyxsWrTnp6","SDMItemStateBase",void 0);e("default",function(e){function n(t,n){var r;return(r=e.call(this,t)||this).owener=void 0,r.owener=n,r}return t(n,e),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDMLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./SDMGrid.ts","./SDMItem.ts","./ELevelState.ts","./LevelBackMergeState.ts","./LevelBattleState.ts","./LevelEndState.ts","./LevelMergeState.ts","./LevelPreAnimState.ts","./LevelPreBattleState.ts","./StateMachine.ts","./SDMEnemy.ts","./SdmLevelConfig.ts","./SDMEndView.ts","./ArrayUtil.ts","./SdmCostConfig.ts","./SDMBattleView.ts","./SdmRandomConfig.ts","./SdmGenConfig.ts","./Awaiters.ts","./SdmWaveConfig.ts","./SdmRandom2Config.ts","./SDMAudio.ts"],(function(t){var e,n,i,r,a,s,o,u,c,d,m,h,f,l,g,p,v,y,I,S,M,G,C,b,w,B,D,E,L,k,A,R,x,U,T,W,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,d=t.Node,m=t.randomRangeInt,h=t.tween,f=t.Component},function(t){l=t.YT},function(t){g=t.SDMGrid},function(t){p=t.SDMItem,v=t.ESDMItemState},function(t){y=t.ELevelState},function(t){I=t.LevelBackMergeState},function(t){S=t.LevelBattleState},function(t){M=t.LevelEndState},function(t){G=t.LevelMergeState},function(t){C=t.LevelPreAnimState},function(t){b=t.LevelPreBattleState},function(t){w=t.default},function(t){B=t.SDMEnemy},function(t){D=t.SdmLevelConfig},function(t){E=t.SDMEndView},function(t){L=t.ArrayUtil},function(t){k=t.SdmCostConfig},function(t){A=t.SDMBattleView},function(t){R=t.SdmRandomConfig},function(t){x=t.SdmGenConfig},function(t){U=t.Awaiters},function(t){T=t.SdmWaveConfig},function(t){W=t.SdmRandom2Config},function(t){P=t.SDMAudio}],execute:function(){var z,_,F,N,V,H,Y,j,K,Q,q,J,O,X,Z;u._RF.push({},"30766zvVUxKbp18lFCTlFwQ","SDMLevel",void 0);var $=c.ccclass,tt=c.property;t("SDMLevel",(z=$("SDMLevel"),_=tt({type:d}),F=tt({type:d}),N=tt({type:d}),V=tt({type:g}),H=tt({type:g}),Y=tt({type:d}),z((Q=e((K=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"itemRoot",Q,r(e)),i(e,"effRoot",q,r(e)),i(e,"enemyRoot",J,r(e)),e.grids=[],e.items=[],e.battleItems=void 0,e.wave=1,i(e,"door",O,r(e)),i(e,"bed",X,r(e)),e.lastGenID=0,e.initItemIds=[],e.genCnt=0,e.state=void 0,e.camera=void 0,e.coin=0,e.energy=0,e.enemys=[],e.config=void 0,e.repaired=!1,e._gameSpeedUp=!1,e.curBattleSpeedUp=!1,i(e,"role",Z,r(e)),e}n(e,t);var u=e.prototype;return u.init=function(t,e){var n=this;this.gameSpeedUp=!1,this.repaired=!1,this.curBattleSpeedUp=!1,this.genCnt=1,this.wave=0,this.lastGenID=0,this.coin=40,this.energy=10,this.config=D.data[t],this.camera=e,this.battleItems=this.node.getChildByName("battleItems"),this.grids=this.node.getComponentsInChildren(g),this.items=[],this.grids.forEach((function(t){var e=t.itemId;e>=0?n.initGridItem(e,t):n.removeGridItem(t.item)})),this.state=new w,this.state.Add(new C(this)),this.state.Add(new G(this)),this.state.Add(new b(this)),this.state.Add(new S(this)),this.state.Add(new I(this)),this.state.Add(new M(this)),this.state.ChangeState(y.PreAnim),this.initGridsIds(),P.play(1)},u.initGridsIds=function(){var t=this.grids.filter((function(t){return!t.isBattleGrid&&0==t.itemId})).length;this.initItemIds=[];for(var e=6;e>0;e--){var n=W.data[e],i=m(n.cnt[0],n.cnt[1]+1);t-=i;for(var r=0;r<i;r++){var a=L.randomByWeight(n.types.map((function(t){return t[0]})),n.types.map((function(t){return t[1]})));if(a>99)this.initItemIds.push(a+e);else{var s=[5,6,7,8,9,10,11,12,13];this.initItemIds.push(s[m(0,s.length)])}}}for(var o=0;o<t;o++){var u=W.data[1],c=L.randomByWeight(u.types.map((function(t){return t[0]})),u.types.map((function(t){return t[1]})));this.initItemIds.push(c+1)}console.log("初始的地板",this.initItemIds)},u.lateUpdate=function(t){l.logic.Paused||this.state&&this.state.currState.id!=y.End&&this.state.LogicUpdate(t)},u.initGridItem=function(t,e){var n=p.create(t,this.itemRoot);return this.items.includes(n)||this.items.push(n),e.init(n),n.init(t),n},u.genEnemyWave=function(){if(console.log("genEnemyWave"),0==this.enemys.length){var t=B.create(this.config.enemys[0]);this.enemys.push(t)}for(var e=this.getMonsterCountByBossLevel(this.Boss.level),n=0;n<e;n++){var i=B.create(this.config.enemys[1]);this.enemys.push(i)}this.enemys.forEach((function(t){t.reset()}))},u.randomFirstWaveItemID=function(){switch(this.genCnt){case 1:return 101;case 2:return 201;case 3:return 401;case 5:return 301;case 120:return 6;default:return this.randomItemID()}},u.getRanCnt=function(){var t=this.getMaxLv(),e=x.data[t],n=L.randomByWeight(e.items.map((function(t){return t[2]})),e.items.map((function(t){return t[1]})));return Math.min(n,this.mergEmptyGrids.length)},u.randomItemID=function(){var t=this.getMaxLv(),e=x.data[t],n=L.randomByWeight(e.types.map((function(t){return t[0]})),e.types.map((function(t){return t[1]})));if(n==this.lastGenID)return this.randomItemID();this.lastGenID=n;var i=L.randomByWeight(e.items.map((function(t){return t[0]})),e.items.map((function(t){return t[1]}))),r=n;return n>=100&&(r=n+i),r},u.randomNextGridID=function(){var t=m(0,this.initItemIds.length),e=this.initItemIds[t];return this.initItemIds.splice(t,1),e},u.rollItem=function(){if(0==this.mergEmptyGrids.length)return l.gui.toast("没有空格子了");var t=this.calcCost();if(this.coin<t.gold)return l.gui.toast("金币不足");if(this.energy<t.energy)return l.gui.toast("能量不足");if(this.coin-=t.gold,this.energy-=t.energy,this.wave<=2){var e=this.randomFirstWaveItemID();this.randomItem(e)}else for(var n=this.getRanCnt(),i=0;i<n;i++){var r=this.randomItemID();this.randomItem(r)}this.genCnt++},u.randomItem=function(t){var e=this.mergEmptyGrids[Math.floor(Math.random()*this.mergEmptyGrids.length)];if(e){A.instance.updateInfo();var n=this.initGridItem(t,e);n.unlock(),n.startMerge()}},u.getMaxLv=function(){return this.grids.filter((function(t){var e;return(null==t||null==(e=t.item)?void 0:e.itemId)>100})).reduce((function(t,e){return t.item.config.id%100>e.item.config.id%100?t:e})).item.config.id%100},u.getEmptyGrid=function(){var t=this.mergEmptyGrids[Math.floor(Math.random()*this.mergEmptyGrids.length)];return t||(t=this.batEmptyGrids[Math.floor(Math.random()*this.batEmptyGrids.length)]),t},u.niuItem=function(){var t=s(o().mark((function t(e){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e||(e=this.getEmptyGrid()),e&&(this.getMaxLv(),n=this.getNiuId(),console.error("扭蛋"+n),(i=this.initGridItem(n,e)).unlock(),i.startMerge());case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.getNiuId=function(){var t=this,e=R.dataList.filter((function(e){return t.wave>=e.wave})),n=e.map((function(t){return t.id})),i=e.map((function(t){return t.weight}));return L.randomByWeight(n,i)},u.calcCost=function(){var t=Math.min(this.genCnt,k.dataList.length);return k.data[t]},u.ranSpade=function(t){(t||(t=this.getEmptyGrid()),t)&&this.initGridItem(2,t).unlock()},u.repairDoor=function(){var t=this.door.item;t&&(this.repaired=!0,t.hp=t.MaxHp,t.updateHp())},u.checkDragEnd=function(t){for(var e=0;e<this.grids.length;e++){var n=this.grids[e];if(2==t.config.type&&n.checkIn(t))return n.dropSpecialItem(t);if(n.Dropable&&n.checkIn(t))return!n.item||n.isStatic||n.item.config.type==t.config.type||n.item.isLock?n.dropItem(t):(this.changeItem(n.item,t),!0)}return!1},u.removeGridItem=function(t){var e;t&&(null==(e=t.Grid)||e.clearItem(),L.remove(this.items,t))},u.changeItem=function(t,e){var n=t.gridId,i=e.gridId,r=this.grids.find((function(t){return t.uuid==n})),a=this.grids.find((function(t){return t.uuid==i}));r.init(e),a.init(t)},u.checkInGrid=function(t,e){var n=this.grids.find((function(t){return t.uuid==e}));return!!n&&n.checkIn(t)},u.startBattle=function(){this.state.ChangeState(y.PreBattle)},u.backToMerge=function(){var t=s(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state.ChangeState(y.BackMerge),e=this.enemys.length-1;case 2:if(!(e>0)){t.next=14;break}if(!(n=this.enemys[e]).isBoss){t.next=8;break}n.node.setPosition(0,0),t.next=11;break;case 8:return n.onDead(),t.next=11,U.Seconds(.1);case 11:e--,t.next=2;break;case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onBattleStart=function(){this.batGrids.forEach((function(t){var e;null==(e=t.item.fsm)||e.ChangeState(v.BATTLE)}))},u.onMergeStart=function(){this.wave++,this.items.forEach((function(t){t.startMerge()})),this.batGrids.forEach((function(t){t.item.startMerge()})),this.enemys.forEach((function(t){t.startMerge()}))},u.onDestroy=function(){this.gameSpeedUp=!1,this.state.RemoveAll()},u.getMonsterCountByBossLevel=function(t){return Math.min(5+Math.floor(t/2),15)},u.onEnd=function(t){this.state.ChangeState(y.End),E.instance.show(t)},u.getSpecialItems=function(){},u.shakeCamera=function(){var t=this,e=this.camera.y,n=e+10;h(this.camera).to(.2,{y:n},{onComplete:function(){t.camera.y=e}}).start()},a(e,[{key:"batGrids",get:function(){return this.grids.filter((function(t){var e;return t.isBattleGrid&&(null==(e=t.item)?void 0:e.itemId)>0}))}},{key:"battleTimer",get:function(){return 20}},{key:"mergeTimer",get:function(){return 60}},{key:"gameSpeedUp",get:function(){return this._gameSpeedUp},set:function(t){var e;this._gameSpeedUp=t,(null==(e=this.state)?void 0:e.currState.id)==y.Battle&&(t?l.game.setTimeScale(2):l.game.setTimeScale(1))}},{key:"waveConfig",get:function(){var t=Math.min(this.wave,T.dataList.length);return T.data[t]}},{key:"curLv",get:function(){return this.door.item.config.id%100}},{key:"mergEmptyGrids",get:function(){return this.grids.filter((function(t){return!t.item&&!t.isBattleGrid}))}},{key:"batEmptyGrids",get:function(){return this.grids.filter((function(t){return!t.item&&t.isBattleGrid}))}},{key:"Boss",get:function(){return this.enemys.find((function(t){return t.isBoss}))}}]),e}(f)).prototype,"itemRoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(K.prototype,"effRoot",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(K.prototype,"enemyRoot",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(K.prototype,"door",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(K.prototype,"bed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(K.prototype,"role",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=K))||j));u._RF.pop()}}}));

System.register("chunks:///_virtual/SdmLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("SdmLevelConfig",void 0),t._RF.push({},"018a3ZryR5H+ZGlggkomLge","SdmLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.outline=void 0,this.level_path=void 0,this.weapon_id=void 0,this.start_time=void 0,this.ad=void 0,this.tree=void 0,this.money=void 0,this.energy=void 0,this.enemys=void 0,this.atkParam=void 0,this.hpParam=void 0,this.enemyHpParam=void 0};i.isConst=!1,i.path="config/SdmLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("SdmLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SdmRandom2Config.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){var i;n("SdmRandom2Config",void 0),t._RF.push({},"49a3fyhOpFLWolQuEF05/ff","SdmRandom2Config",void 0),function(n){n.config=function(){this.id=void 0,this.cnt=void 0,this.types=void 0};n.isConst=!1,n.path="config/SdmRandom2Config",n.extPath=void 0,n.data=null,n.dataList=null,n.lastData=null}(i||(i=n("SdmRandom2Config",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SdmRandomConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("SdmRandomConfig",void 0),t._RF.push({},"6f611Ku3FlKNru3FWD8/Tef","SdmRandomConfig",void 0),function(i){i.config=function(){this.id=void 0,this.weight=void 0,this.level=void 0,this.wave=void 0,this.stageReward=void 0};i.isConst=!1,i.path="config/SdmRandomConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("SdmRandomConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SDMRoleBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDMState.ts"],(function(t){var e,n,o,a,r,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,a=t._decorator,r=t.Component},function(t){c=t.default}],execute:function(){var i;o._RF.push({},"9ae69SoWAxFgbJ+sfdy30Tp","SDMRoleBase",void 0);var u=a.ccclass;a.property,t("SDMRoleBase",u("SDMRoleBase")(i=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).hp=void 0,e.hpMax=void 0,e.atk=void 0,e}e(o,t);var a=o.prototype;return a.onDamage=function(t,e){},a.onUpdate=function(t){},a.onAttackEnd=function(t){},a.updateHp=function(){},a.startMerge=function(){},a.onHit=function(){},n(o,[{key:"game",get:function(){return c.Inst.level}}]),o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/SdmShopItemConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("SdmShopItemConfig",void 0),i._RF.push({},"bd0f3tDXodOgZpAJ09ER5kY","SdmShopItemConfig",void 0),function(t){t.config=function(){this.id=void 0,this.desc=void 0,this.icon=void 0};t.isConst=!1,t.path="config/SdmShopItemConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("SdmShopItemConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/SDMSpeedUpView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./SDMState.ts","./UI_SpeedUp.ts"],(function(e){var t,n,i,o,s,c,r,u,a;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy},function(e){c=e.ViewBase},function(e){r=e.YT},function(e){u=e.default},function(e){a=e.default}],execute:function(){s._RF.push({},"492d2FFqBdAlLcfQMpuDnSy","SDMSpeedUpView",void 0);e("SDMSpeedUpView",function(e){function s(){return e.apply(this,arguments)||this}t(s,e);var c=s.prototype;return c._preShowAnim=function(){this.ui.m_btnRemove.onClick(this.onClickSpeedUp,this),this.ui.onClick(this.hide,this),this.ui.m_txt_desc2.text="<outline color=#000000 width=4>本局<color=#00ff00>2</color>倍速</outline>",this.ui.m_txt_desc.text="<outline color=#000000 width=4>累计使用<color=#00ff00>10次</color>即可永久解锁</outline>",this.ui.m_txt_pro.text=u.Inst.saveData.speedUpCnt+"/10",r.logic.pause()},c.onClickSpeedUp=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.game.watchAD("守大门-加速");case 2:e.sent&&(u.Inst.saveData.speedUpCnt++,u.Inst.SAVE(),u.Inst.level.curBattleSpeedUp=!0,u.Inst.level.gameSpeedUp=!0,this.hide());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c._afterShowAnim=function(){},c._preHideAnim=function(){},c._afterHideAnim=function(){r.logic.resume()},n(s,null,[{key:"instance",get:function(){return this._getInstance(s,a)}}]),s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/SDMState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./GameStateBase.ts","./LoadingManager.ts","./LoadUIPack.ts","./sdmBinder.ts","./SdmLevelConfig.ts","./PoolManager3.ts","./SDMLevel.ts","./SDMDamage.ts","./SdmEnemyConfig.ts","./ELevelState.ts","./SdmItemConfig.ts","./SdmEffectConfig.ts","./SDMBattleView.ts","./SDMSpeedUpView.ts"],(function(e){var t,n,a,i,s,o,r,c,u,d,l,f,h,v,p,g,m,S,_,C,B,D,w;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,a=e.createClass,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.Prefab,c=e.instantiate},function(e){u=e.YT},function(e){d=e.GameStateBase},function(e){l=e.LoadingManager},function(e){f=e.LoadUIPack},function(e){h=e.default},function(e){v=e.SdmLevelConfig},function(e){p=e.default},function(e){g=e.SDMLevel},function(e){m=e.SDMDamage},function(e){S=e.SdmEnemyConfig},function(e){_=e.ELevelState},function(e){C=e.SdmItemConfig},function(e){B=e.SdmEffectConfig},function(e){D=e.SDMBattleView},function(e){w=e.SDMSpeedUpView}],execute:function(){o._RF.push({},"1a6e4mCd1hJW75dGTwD1q7O","SDMState",void 0);e("SDMData",(function(){this.spade=0,this.gashapon=0,this.speedUpCnt=0})),e("default",function(e){function o(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this)._viewName="Battle",t._viewPacks=["sdm@sdm"],t._viewBinders=[],t._sceneBundle="sdm",t._sceneName="Game",t._uiPacks=[],t.levelConfig=void 0,t.level=void 0,t.startTime=0,t}t(o,e);var d=o.prototype;return d.SAVE=function(){u.data.subData.getInfo(1103).data=this.saveData,u.data.subData.save=!0},d.addSpade=function(e){void 0===e&&(e=1),this.saveData.spade+=e,this.SAVE()},d.addGashapon=function(e){void 0===e&&(e=1),this.saveData.gashapon+=e,this.SAVE()},d._loadUIPackage=function(){for(var e,t=[],a=n(this._viewPacks);!(e=a()).done;){var i=e.value.split("@");t.push(new f(i[1],i[0]))}return this._uiPacks=t,new Promise((function(e){l.instance.loadUIPackages((function(){e()}),t)}))},d._afterSceneLoaded=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d._onBindUI=function(){h.bindAll()},d._getPreloads=function(e){var t=this;e.add(this.levelConfig.level_path,this._sceneBundle,r),e.add("prefabs/items/sdmItem",this._sceneBundle,r),e.add("prefabs/damage",this._sceneBundle,r),this.levelConfig.enemys.forEach((function(n){var a=S.data[n];e.add(a.model,t._sceneBundle,r),e.add(a.bullet,t._sceneBundle,r)})),C.dataList.forEach((function(n){e.add(n.model_path,t._sceneBundle,r),e.add(n.bullet,t._sceneBundle,r)})),B.dataList.forEach((function(n){e.add(n.path,t._sceneBundle,r)}))},d.otherLoadAssets=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d.onLeaveState=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d._onPreEnter=function(){var e=i(s().mark((function e(){var t=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.levelConfig=v.data[(t.length<=1?void 0:t[1])||1];case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d._doEnterState=function(){var e=i(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.addPool("prefabs/items/sdmItem",this._sceneBundle,50),t=c(u.res.get(this.levelConfig.level_path,this._sceneBundle)),this.scene.getChildByPath("Canvas/levelRoot").addChild(t),this.startTime=Date.now(),this.level=t.getComponentInChildren(g),this.level.init(this.levelConfig.id,this.scene.getChildByPath("Canvas/Camera")),m.InitPool(this.level.effRoot);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d.update=function(e,t){},d.lateUpdate=function(e,t){},d._doDestroy=function(){D.instance.hide(),w.instance.hide(),this.level.destroy(),this.level=null,p.clearPool(),m.clearPool()},a(o,[{key:"Bundle",get:function(){return this._sceneBundle}},{key:"isMerging",get:function(){var e;return(null==(e=this.level.state)?void 0:e.currState.id)==_.Merge}},{key:"saveData",get:function(){var e;return(null==(e=u.data.subData.getInfo(1103))?void 0:e.data)||{spade:0,gashapon:0,speedUpCnt:0}}}],[{key:"Inst",get:function(){return u.logic.state}}]),o}(d));o._RF.pop()}}}));

System.register("chunks:///_virtual/SDMSuperStartView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./SDMState.ts","./UI_SuperStart.ts","./SdmItemConfig.ts","./Awaiters.ts"],(function(t){var e,n,i,s,r,a,u,c,o,l,h,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t.randomRangeInt},function(t){u=t.ViewBase},function(t){c=t.YT},function(t){o=t.default},function(t){l=t.default},function(t){h=t.SdmItemConfig},function(t){f=t.Awaiters}],execute:function(){r._RF.push({},"25644I+xURHa4Q2l24XSXCv","SDMSuperStartView",void 0);t("SDMSuperStartView",function(t){function r(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).ranId=void 0,e.cfgs=[],e}e(r,t);var u=r.prototype;return u._preShowAnim=function(){this.cfgs=[],this.ranId=null,this.ui.m_btnGet.onClick(this.onClickSuperStart,this),this.ui.m_btnClose.onClick(this.hide,this),c.logic.pause(),this.ui.m_btnGet.visible=!0,this.randomItems(),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderItem.bind(this),this.ui.m_list.numItems=this.cfgs.length},u.renderItem=function(t,e){e.setIcon(this.cfgs[t].icon_path,"sdm")},u.onClickSuperStart=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.game.watchAD("守大门-超级开局");case 2:if(!t.sent){t.next=20;break}this.ui.m_btnGet.visible=!1,this.ui.m_btnClose.visible=!1,e=a(5,this.cfgs.length-1),this.ranId=this.cfgs[e].id,n=1;case 9:if(!(n<e)){t.next=16;break}return this.ui.m_list.scrollToView(n,!0),t.next=13,f.Seconds(.1);case 13:n++,t.next=9;break;case 16:return this.ui.m_list.scrollToView(e+1,!0),t.next=19,f.Seconds(1);case 19:this.hide();case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.randomItems=function(){for(var t=a(20,30),e=0,n=0;n<t;n++){var i=o.Inst.level.getNiuId(),s=h.data[i];s.type!=e&&(e=s.type,this.cfgs.push(s))}},u.genIds=function(){},u._afterShowAnim=function(){},u._preHideAnim=function(){this.ranId&&(o.Inst.level.randomItem(this.ranId),this.ranId=null)},u._afterHideAnim=function(){c.logic.resume()},n(r,null,[{key:"instance",get:function(){return this._getInstance(r,l)}}]),r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/SdmWaveConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("SdmWaveConfig",void 0),i._RF.push({},"05b99+drwBEVqm9D4WY239u","SdmWaveConfig",void 0),function(t){t.config=function(){this.id=void 0,this.battle=void 0,this.merge=void 0};t.isConst=!1,t.path="config/SdmWaveConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(n||(n=t("SdmWaveConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/SeekView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./UI_Seek.ts"],(function(e){var t,n,r,i,s,a,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy},function(e){a=e.ViewBase},function(e){c=e.YT},function(e){u=e.default}],execute:function(){s._RF.push({},"56420IpV3RK5bkbAqcjobhR","SeekView",void 0);e("SeekView",function(e){function s(){return e.apply(this,arguments)||this}t(s,e);var a=s.prototype;return a._preShowAnim=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_btn_get.onClick(this._onGet,this);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._onGet=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.game.watchAD("指南针");case 2:if(!e.sent){e.next=7;break}c.data.userData.seekUsed=Date.now(),c.data.userData.save=!0,c.message.dispatchEvent("on_res_changed"),this.hide();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._afterShowAnim=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._preHideAnim=function(){},a._afterHideAnim=function(){},n(s,null,[{key:"instance",get:function(){return this._getInstance(s,u)}}]),s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/SettingDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst.ts","./ZDGameState.ts","./BaseDialog2.ts"],(function(e){var i,t,n,o,r,s,l,u,a,c,d,p,S;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Button,u=e.Slider},function(e){a=e.ViewUtil},function(e){c=e.ZD_RES_PREFABS,d=e.ZD_BUNDLE},function(e){p=e.ZDGameState},function(e){S=e.BaseDialog}],execute:function(){var g,_,m,f,h,v,y,b,D;r._RF.push({},"a7853I0BS5CXbuaVlnq5HRP","SettingDialog",void 0);var w=s.ccclass,B=s.property;e("SettingDialog",(g=w("SettingDialog"),_=B({type:l,displayName:"关闭按钮",visible:!0}),m=B({type:u,visible:!0,displayName:"音乐",tooltip:""}),f=B({type:u,visible:!0,displayName:"音效",tooltip:""}),g((y=i((v=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"_closeBtn",y,o(i)),n(i,"_musicSlider",b,o(i)),n(i,"_soundSlider",D,o(i)),i}t(i,e),i.Show=function(){var e=a.createPrefabNode(c.SETTING_DIALOG,d);e.parent=p.runtime.ui.dialogNode;var t=e.getComponent(i);return t._init(),t.show(),t};var r=i.prototype;return r._init=function(){this._setSliderView(this._musicSlider,p.runtime.audioMgr.volumeMusic),this._setSliderView(this._soundSlider,p.runtime.audioMgr.volumeEffect)},r.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._musicSlider.node.on("slide",this._onMusicSliderEvent,this),this._soundSlider.node.on("slide",this._onSoundSliderEvent,this),p.runtime.pauseGame(!1)},r._onCloseBtnClicked=function(){p.runtime.audioMgr.play(9),this.close(),p.runtime.resumeGame()},r._onMusicSliderEvent=function(e){p.runtime.audioMgr.volumeMusic=e.progress,this._setSliderView(e,e.progress)},r._onSoundSliderEvent=function(e){p.runtime.audioMgr.volumeEffect=e.progress,this._setSliderView(e,e.progress)},r._setSliderView=function(e,i){e.progress=i,e.node.getChildByName("bar").uiSprite.fillRange=e.progress},i}(S)).prototype,"_closeBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(v.prototype,"_musicSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(v.prototype,"_soundSlider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingDialog3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst3.ts","./ZDGameState3.ts","./BaseDialog3.ts"],(function(e){var i,t,n,o,r,s,l,a,u,c,d,p,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Button,a=e.Slider},function(e){u=e.ViewUtil},function(e){c=e.ZD_RES_PREFABS,d=e.ZD_BUNDLE},function(e){p=e.ZDGameState3},function(e){g=e.BaseDialog3}],execute:function(){var S,_,m,f,h,v,y,D,b;r._RF.push({},"a64a2UWhjRNaYVS9CM2aN0g","SettingDialog3",void 0);var w=s.ccclass,B=s.property;e("SettingDialog3",(S=w("SettingDialog3"),_=B({type:l,displayName:"关闭按钮",visible:!0}),m=B({type:a,visible:!0,displayName:"音乐",tooltip:""}),f=B({type:a,visible:!0,displayName:"音效",tooltip:""}),S((y=i((v=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"_closeBtn",y,o(i)),n(i,"_musicSlider",D,o(i)),n(i,"_soundSlider",b,o(i)),i}t(i,e),i.Show=function(){var e=u.createPrefabNode(c.SETTING_DIALOG,d);e.parent=p.runtime.ui.dialogNode;var t=e.getComponent(i);return t._init(),t.show(),t};var r=i.prototype;return r._init=function(){this._setSliderView(this._musicSlider,p.runtime.audioMgr.volumeMusic),this._setSliderView(this._soundSlider,p.runtime.audioMgr.volumeEffect)},r.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._musicSlider.node.on("slide",this._onMusicSliderEvent,this),this._soundSlider.node.on("slide",this._onSoundSliderEvent,this),p.runtime.pauseGame(!1)},r._onCloseBtnClicked=function(){p.runtime.audioMgr.play(9),this.close(),p.runtime.resumeGame()},r._onMusicSliderEvent=function(e){p.runtime.audioMgr.volumeMusic=e.progress,this._setSliderView(e,e.progress)},r._onSoundSliderEvent=function(e){p.runtime.audioMgr.volumeEffect=e.progress,this._setSliderView(e,e.progress)},r._setSliderView=function(e,i){e.progress=i,e.node.getChildByName("bar").uiSprite.fillRange=e.progress},i}(g)).prototype,"_closeBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(v.prototype,"_musicSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(v.prototype,"_soundSlider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingDialog4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst4.ts","./ZDGameState4.ts","./BaseDialog4.ts"],(function(e){var i,t,n,o,r,s,l,u,a,c,d,p,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Button,u=e.Slider},function(e){a=e.ViewUtil},function(e){c=e.ZD_RES_PREFABS,d=e.ZD_BUNDLE},function(e){p=e.ZDGameState4},function(e){g=e.BaseDialog4}],execute:function(){var S,_,f,m,h,v,y,D,b;r._RF.push({},"cf042fHKUZNjqZicqH00VuQ","SettingDialog4",void 0);var w=s.ccclass,B=s.property;e("SettingDialog4",(S=w("SettingDialog4"),_=B({type:l,displayName:"关闭按钮",visible:!0}),f=B({type:u,visible:!0,displayName:"音乐",tooltip:""}),m=B({type:u,visible:!0,displayName:"音效",tooltip:""}),S((y=i((v=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"_closeBtn",y,o(i)),n(i,"_musicSlider",D,o(i)),n(i,"_soundSlider",b,o(i)),i}t(i,e),i.Show=function(){var e=a.createPrefabNode(c.SETTING_DIALOG,d);e.parent=p.runtime.ui.dialogNode;var t=e.getComponent(i);return t._init(),t.show(),t};var r=i.prototype;return r._init=function(){this._setSliderView(this._musicSlider,p.runtime.audioMgr.volumeMusic),this._setSliderView(this._soundSlider,p.runtime.audioMgr.volumeEffect)},r.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._musicSlider.node.on("slide",this._onMusicSliderEvent,this),this._soundSlider.node.on("slide",this._onSoundSliderEvent,this),p.runtime.pauseGame(!1)},r._onCloseBtnClicked=function(){p.runtime.audioMgr.play(9),this.close(),p.runtime.resumeGame()},r._onMusicSliderEvent=function(e){p.runtime.audioMgr.volumeMusic=e.progress,this._setSliderView(e,e.progress)},r._onSoundSliderEvent=function(e){p.runtime.audioMgr.volumeEffect=e.progress,this._setSliderView(e,e.progress)},r._setSliderView=function(e,i){e.progress=i,e.node.getChildByName("bar").uiSprite.fillRange=e.progress},i}(g)).prototype,"_closeBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(v.prototype,"_musicSlider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(v.prototype,"_soundSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingDialog5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst5.ts","./ZDGameState5.ts","./BaseDialog5.ts"],(function(e){var i,t,n,o,r,s,l,u,a,c,d,p,S;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Button,u=e.Slider},function(e){a=e.ViewUtil},function(e){c=e.ZD_RES_PREFABS,d=e.ZD_BUNDLE},function(e){p=e.ZDGameState5},function(e){S=e.BaseDialog5}],execute:function(){var g,_,m,f,h,v,y,D,b;r._RF.push({},"52a9eOvC/9KEaaFeWkSNfdp","SettingDialog5",void 0);var w=s.ccclass,B=s.property;e("SettingDialog5",(g=w("SettingDialog5"),_=B({type:l,displayName:"关闭按钮",visible:!0}),m=B({type:u,visible:!0,displayName:"音乐",tooltip:""}),f=B({type:u,visible:!0,displayName:"音效",tooltip:""}),g((y=i((v=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"_closeBtn",y,o(i)),n(i,"_musicSlider",D,o(i)),n(i,"_soundSlider",b,o(i)),i}t(i,e),i.Show=function(){var e=a.createPrefabNode(c.SETTING_DIALOG,d);e.parent=p.runtime.ui.dialogNode;var t=e.getComponent(i);return t._init(),t.show(),t};var r=i.prototype;return r._init=function(){this._setSliderView(this._musicSlider,p.runtime.audioMgr.volumeMusic),this._setSliderView(this._soundSlider,p.runtime.audioMgr.volumeEffect)},r.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._musicSlider.node.on("slide",this._onMusicSliderEvent,this),this._soundSlider.node.on("slide",this._onSoundSliderEvent,this),p.runtime.pauseGame(!1)},r._onCloseBtnClicked=function(){p.runtime.audioMgr.play(9),this.close(),p.runtime.resumeGame()},r._onMusicSliderEvent=function(e){p.runtime.audioMgr.volumeMusic=e.progress,this._setSliderView(e,e.progress)},r._onSoundSliderEvent=function(e){p.runtime.audioMgr.volumeEffect=e.progress,this._setSliderView(e,e.progress)},r._setSliderView=function(e,i){e.progress=i,e.node.getChildByName("bar").uiSprite.fillRange=e.progress},i}(S)).prototype,"_closeBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(v.prototype,"_musicSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(v.prototype,"_soundSlider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingDialog6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst6.ts","./ZDGameState6.ts","./BaseDialog6.ts"],(function(e){var i,t,n,o,r,s,l,u,a,c,d,p,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Button,u=e.Slider},function(e){a=e.ViewUtil},function(e){c=e.ZD_RES_PREFABS,d=e.ZD_BUNDLE},function(e){p=e.ZDGameState6},function(e){g=e.BaseDialog6}],execute:function(){var S,_,m,f,h,v,y,D,b;r._RF.push({},"74d73PRAGVJjILTZ5IpNh6k","SettingDialog6",void 0);var w=s.ccclass,B=s.property;e("SettingDialog6",(S=w("SettingDialog6"),_=B({type:l,displayName:"关闭按钮",visible:!0}),m=B({type:u,visible:!0,displayName:"音乐",tooltip:""}),f=B({type:u,visible:!0,displayName:"音效",tooltip:""}),S((y=i((v=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"_closeBtn",y,o(i)),n(i,"_musicSlider",D,o(i)),n(i,"_soundSlider",b,o(i)),i}t(i,e),i.Show=function(){var e=a.createPrefabNode(c.SETTING_DIALOG,d);e.parent=p.runtime.ui.dialogNode;var t=e.getComponent(i);return t._init(),t.show(),t};var r=i.prototype;return r._init=function(){this._setSliderView(this._musicSlider,p.runtime.audioMgr.volumeMusic),this._setSliderView(this._soundSlider,p.runtime.audioMgr.volumeEffect)},r.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._musicSlider.node.on("slide",this._onMusicSliderEvent,this),this._soundSlider.node.on("slide",this._onSoundSliderEvent,this),p.runtime.pauseGame(!1)},r._onCloseBtnClicked=function(){p.runtime.audioMgr.play(9),this.close(),p.runtime.resumeGame()},r._onMusicSliderEvent=function(e){p.runtime.audioMgr.volumeMusic=e.progress,this._setSliderView(e,e.progress)},r._onSoundSliderEvent=function(e){p.runtime.audioMgr.volumeEffect=e.progress,this._setSliderView(e,e.progress)},r._setSliderView=function(e,i){e.progress=i,e.node.getChildByName("bar").uiSprite.fillRange=e.progress},i}(g)).prototype,"_closeBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(v.prototype,"_musicSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(v.prototype,"_soundSlider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ViewBase.ts","./UI_Setting.ts","./CommonSaveData.ts","./YT.ts","./GMView.ts"],(function(t){var i,e,n,s,o,c,u,a,r,l,m,h;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){c=t.GRoot,u=t.Event},function(t){a=t.ViewBase},function(t){r=t.default},function(t){l=t.CommonSaveData},function(t){m=t.YT},function(t){h=t.GMView}],execute:function(){o._RF.push({},"0bc69OHfrRNO7CnpbndHdFg","SettingView",void 0);t("SettingView",function(t){function o(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).callback=void 0,i}i(o,t);var a=o.prototype;return a._preShowAnim=function(){var t=n(s().mark((function t(){var i=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.callback=this._uiParam,this.ui.m_state.selectedIndex=this.callback?1:0,this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_btn_virb.onClick(this.save,this),this.ui.m_title.onClick((function(){m.isGM&&(i.hide(),h.instance.show())}),this),this.ui.m_cmp_msc.m_slide.value=100*m.audio.volumeMusic,this.ui.m_cmp_sound.m_slide.value=100*m.audio.volumeEffect,this.ui.m_btn_virb.selected=l.instance.isVibrate,this.ui.m_cmp_msc.m_slide.on(u.STATUS_CHANGED,(function(){i.save()})),this.ui.m_cmp_sound.m_slide.on(u.STATUS_CHANGED,(function(){i.save()})),this.ui.m_btn_code.onClick((function(){console.error("code??"+i.ui.m_input_code.text),"test"==i.ui.m_input_code.text&&m.platform.base.storeFeedData({scene:3,contentID:"CONTENT12666010370",leftValue:"timeStampMs",operator:">=",status:1,rightValue:(Date.now()+6e4).toString(),success:function(t){console.log("storeFeedData success",t)},fail:function(t){console.log("storeFeedData fail",t)}})})),this.ui.m_btn_exit.onClick(this.onExit,this),this.ui.m_btn_cont.onClick(this.onContinue,this);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onExit=function(){var t;this.hideImmediately(!1),null==(t=this.callback)||t.call(this,!0)},a.onContinue=function(){var t;this.hide(),null==(t=this.callback)||t.call(this,!1)},a.save=function(){m.audio.volumeMusic=this.ui.m_cmp_msc.m_slide.value/100,c.inst.volumeScale=m.audio.volumeEffect=this.ui.m_cmp_sound.m_slide.value/100,l.instance.isVibrate=this.ui.m_btn_virb.selected},a._afterShowAnim=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._preHideAnim=function(){},a._afterHideAnim=function(){},e(o,null,[{key:"instance",get:function(){return this._getInstance(o,r)}}]),o}(a));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShooterMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vec3Util.ts","./ZWTTools.ts","./ZDGameState4.ts","./RoleMonster4.ts"],(function(t){var i,e,o,s,n,a,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t.v3},function(t){s=t.Vec3Util},function(t){n=t.ZWTTools},function(t){a=t.ZDGameState4},function(t){r=t.RoleMonster}],execute:function(){e._RF.push({},"ead8ezA8c9MnqtKYMn41WWM","ShooterMonster",void 0);var c=o();t("ShooterMonster",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).weaponNode=void 0,i.atkPosNode=void 0,i.curAtkTime=0,i.curAtkAnimTime=0,i.curBulletNum=50,i}i(e,t);var o=e.prototype;return o._initView=function(){var i=this;t.prototype._initView.call(this),this.weaponNode=n.findChildByName(this._view.node,"kongzhi"),this.atkPosNode=n.findChildByName(this._view.node,"atkPos"),setTimeout((function(){i.anim.stop()}),100)},o._updateMove=function(i){if(t.prototype._updateMove.call(this,i),this.curBulletNum>0&&(this.curAtkTime+=i,this.curAtkTime>=1/this._config.as)){var e=this.curCtrl.getRangeMinOpp(this.campType,this._config.ar,this._position);e?(this.doAtk(e),this.curAtkTime=0):this.curAtkTime=1/this._config.as-.1}},o.doAtk=function(t){a.runtime.audioMgr.play(301,10),this.curBulletNum-=1,this.curAtkAnimTime=this.anim.getState("attack").duration,this.curAtkAnimTime>1/this._config.as&&(this.anim.getState("attack").speed=this.curAtkAnimTime/(1/this._config.as)),this.curAtkAnimTime=this.curAtkAnimTime/this.anim.getState("attack").speed,this.anim.play("attack");var i=c.set(t.view.node.worldPosition).subtract(this.weaponNode.worldPosition).normalize(),e=Math.abs(this.anim.node.scale.x);this.anim.node.setScale(i.x>0?-e:e,this.anim.node.scale.y,this.anim.node.scale.z);var o=s.signedAngleEx(s.s_left,i,s.s_forward);this.weaponNode.setWorldRotationFromEuler(0,0,this.weaponNode.worldScale.x>0?o:180-o);var n=a.runtime.control.addBullet(1,this.atkPosNode.worldPosition.x,this.atkPosNode.worldPosition.y);n.campType=this.campType,n.addAtkPct=this.curCtrl.shooterAddAtkPct,n.startByDir(i.x,i.y,1500,10,this._config.atk,!0,!1,!0)},e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/ShooterMonster5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vec3Util.ts","./ZWTTools.ts","./ZDGameState5.ts","./RoleMonster5.ts"],(function(t){var i,e,o,s,n,a,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t.v3},function(t){s=t.Vec3Util},function(t){n=t.ZWTTools},function(t){a=t.ZDGameState5},function(t){r=t.RoleMonster}],execute:function(){e._RF.push({},"725dfLEHdlD4qBh8sJj2Vap","ShooterMonster5",void 0);var c=o();t("ShooterMonster",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).weaponNode=void 0,i.atkPosNode=void 0,i.curAtkTime=0,i.curAtkAnimTime=0,i.curBulletNum=50,i}i(e,t);var o=e.prototype;return o._initView=function(){var i=this;t.prototype._initView.call(this),this.weaponNode=n.findChildByName(this._view.node,"kongzhi"),this.atkPosNode=n.findChildByName(this._view.node,"atkPos"),setTimeout((function(){i.anim.stop()}),100)},o._updateMove=function(i){if(t.prototype._updateMove.call(this,i),this.curBulletNum>0&&(this.curAtkTime+=i,this.curAtkTime>=1/this._config.as)){var e=this.curCtrl.getRangeMinOpps(this.campType,this._config.ar,this._position,1);e[0]?(this.doAtk(e[0]),this.curAtkTime=0):this.curAtkTime=1/this._config.as-.1}},o.doAtk=function(t){a.runtime.audioMgr.play(301,10),this.curBulletNum-=1,this.curAtkAnimTime=this.anim.getState("attack").duration,this.curAtkAnimTime>1/this._config.as&&(this.anim.getState("attack").speed=this.curAtkAnimTime/(1/this._config.as)),this.curAtkAnimTime=this.curAtkAnimTime/this.anim.getState("attack").speed,this.anim.play("attack");var i=c.set(t.view.node.worldPosition).subtract(this.weaponNode.worldPosition).normalize(),e=Math.abs(this.anim.node.scale.x);this.anim.node.setScale(i.x>0?-e:e,this.anim.node.scale.y,this.anim.node.scale.z);var o=s.signedAngleEx(s.s_left,i,s.s_forward);this.weaponNode.setWorldRotationFromEuler(0,0,this.weaponNode.worldScale.x>0?o:180-o);var n=a.runtime.control.addBullet(101,this.atkPosNode.worldPosition.x,this.atkPosNode.worldPosition.y);n.campType=this.campType,n.addAtkPct=this.curCtrl.shooterAddAtkPct,n.startByDir(i.x,i.y,1500,10,this._config.atk,!0,!1,!0)},e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/shoudaqiao2Binder.ts",["cc","./fairygui.mjs","./UI_panelItem42.ts","./UI_gameBG8.ts","./UI_gameBG122.ts","./UI_Battle4.ts","./UI_WindowWin4.ts","./UI_WindowSetting2.ts","./UI_setting_item3.ts","./UI_CupPickItem.ts","./UI_DropPanel.ts","./UI_panelItem2.ts","./UI_Player3.ts","./UI_Toast3.ts","./UI_ADBtn.ts","./UI_CommonBtn2.ts","./UI_CupPick2.ts","./UI_IconBtn7.ts","./UI_WindowFrame2.ts","./UI_gameBG11.ts","./UI_panelItem5.ts","./UI_panelItem32.ts","./UI_gameBG2.ts","./UI_gameBG23.ts","./UI_panelItem23.ts","./UI_gameBG9.ts","./UI_gameBG152.ts","./UI_panelItem82.ts","./UI_monster23.ts","./UI_gameBG13.ts","./UI_panelItem6.ts","./UI_gameBG42.ts","./UI_gameBG5.ts","./UI_ChestItem2.ts","./UI_gameBG3.ts","./UI_gameBG1001.ts","./UI_dropPanelItem.ts","./UI_beginLayer.ts","./UI_bluePanel.ts","./UI_greenPanel.ts","./UI_redPanel.ts","./UI_yellowPanel.ts","./UI_moveMap.ts","./UI_piaodai.ts","./UI_beginLayer2.ts","./UI_DragonHead2.ts","./UI_DragonBody2.ts","./UI_DragonPanel2.ts","./UI_gameBG72.ts","./UI_gameBG102.ts","./UI_panelItem72.ts","./UI_gameBG14.ts","./UI_BottleItem2.ts","./UI_monster.ts","./UI_gameBG62.ts"],(function(t){var n,e,s,o,i,u,f,a,U,l,c,d,I,_,L,R,x,E,m,g,r,B,p,G,y,P,b,h,C,D,j,v,w,F,W,k,q,A,O,S,Z,H,K,M,T,z,J,N,Q,V,X,Y,$,tt,nt;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){s=t.default},function(t){o=t.default},function(t){i=t.default},function(t){u=t.default},function(t){f=t.default},function(t){a=t.default},function(t){U=t.default},function(t){l=t.default},function(t){c=t.default},function(t){d=t.default},function(t){I=t.default},function(t){_=t.default},function(t){L=t.default},function(t){R=t.default},function(t){x=t.default},function(t){E=t.default},function(t){m=t.default},function(t){g=t.default},function(t){r=t.default},function(t){B=t.default},function(t){p=t.default},function(t){G=t.default},function(t){y=t.default},function(t){P=t.default},function(t){b=t.default},function(t){h=t.default},function(t){C=t.default},function(t){D=t.default},function(t){j=t.default},function(t){v=t.default},function(t){w=t.default},function(t){F=t.default},function(t){W=t.default},function(t){k=t.default},function(t){q=t.default},function(t){A=t.default},function(t){O=t.default},function(t){S=t.default},function(t){Z=t.default},function(t){H=t.default},function(t){K=t.default},function(t){M=t.default},function(t){T=t.default},function(t){z=t.default},function(t){J=t.default},function(t){N=t.default},function(t){Q=t.default},function(t){V=t.default},function(t){X=t.default},function(t){Y=t.default},function(t){$=t.default},function(t){tt=t.default},function(t){nt=t.default}],execute:function(){n._RF.push({},"3763f9tOC5KyZjlny/pj92Z","shoudaqiao2Binder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(s.URL,s),e.setExtension(o.URL,o),e.setExtension(i.URL,i),e.setExtension(u.URL,u),e.setExtension(f.URL,f),e.setExtension(a.URL,a),e.setExtension(U.URL,U),e.setExtension(l.URL,l),e.setExtension(c.URL,c),e.setExtension(d.URL,d),e.setExtension(I.URL,I),e.setExtension(_.URL,_),e.setExtension(L.URL,L),e.setExtension(R.URL,R),e.setExtension(x.URL,x),e.setExtension(E.URL,E),e.setExtension(m.URL,m),e.setExtension(g.URL,g),e.setExtension(r.URL,r),e.setExtension(B.URL,B),e.setExtension(p.URL,p),e.setExtension(G.URL,G),e.setExtension(y.URL,y),e.setExtension(P.URL,P),e.setExtension(b.URL,b),e.setExtension(h.URL,h),e.setExtension(C.URL,C),e.setExtension(D.URL,D),e.setExtension(j.URL,j),e.setExtension(v.URL,v),e.setExtension(w.URL,w),e.setExtension(F.URL,F),e.setExtension(W.URL,W),e.setExtension(k.URL,k),e.setExtension(q.URL,q),e.setExtension(A.URL,A),e.setExtension(O.URL,O),e.setExtension(S.URL,S),e.setExtension(Z.URL,Z),e.setExtension(H.URL,H),e.setExtension(K.URL,K),e.setExtension(M.URL,M),e.setExtension(T.URL,T),e.setExtension(z.URL,z),e.setExtension(J.URL,J),e.setExtension(N.URL,N),e.setExtension(Q.URL,Q),e.setExtension(V.URL,V),e.setExtension(X.URL,X),e.setExtension(Y.URL,Y),e.setExtension($.URL,$),e.setExtension(tt.URL,tt),e.setExtension(nt.URL,nt)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBeginPanelConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoBeginPanelConfig",void 0),o._RF.push({},"5cf8auV43FHTbgx8pVGHQbZ","ShoudaqiaoBeginPanelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.startTime=void 0,this.time=void 0,this.symbolTypeL=void 0,this.buffTypeL=void 0,this.valueL=void 0,this.desL=void 0,this.viewL=void 0,this.symbolTypeR=void 0,this.buffTypeR=void 0,this.valueR=void 0,this.desR=void 0,this.viewR=void 0};i.isConst=!1,i.path="config/ShoudaqiaoBeginPanelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoBeginPanelConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/shoudaqiaoBinder.ts",["cc","./fairygui.mjs","./UI_panelItem43.ts","./UI_gameBG82.ts","./UI_gameBG12.ts","./UI_Battle8.ts","./UI_WindowWin3.ts","./UI_WindowSetting3.ts","./UI_setting_item4.ts","./UI_CupPickItem2.ts","./UI_panelItem.ts","./UI_Player4.ts","./UI_Toast.ts","./UI_ADBtn2.ts","./UI_CommonBtn3.ts","./UI_CupPick3.ts","./UI_IconBtn8.ts","./UI_WindowFrame.ts","./UI_gameBG112.ts","./UI_panelItem52.ts","./UI_panelItem33.ts","./UI_gameBG.ts","./UI_gameBG22.ts","./UI_panelItem22.ts","./UI_gameBG92.ts","./UI_gameBG15.ts","./UI_panelItem8.ts","./UI_monster22.ts","./UI_gameBG132.ts","./UI_panelItem62.ts","./UI_gameBG4.ts","./UI_gameBG52.ts","./UI_ChestItem.ts","./UI_gameBG32.ts","./UI_DragonHead.ts","./UI_DragonBody.ts","./UI_DragonPanel.ts","./UI_gameBG7.ts","./UI_gameBG10.ts","./UI_panelItem7.ts","./UI_gameBG142.ts","./UI_BottleItem.ts","./UI_monster2.ts","./UI_gameBG6.ts"],(function(t){var n,e,s,o,i,u,f,U,a,c,l,I,d,_,x,R,E,L,m,g,B,r,G,p,h,y,D,w,C,F,P,W,j,k,v,b,q,A,M,S,z,H,O,T;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){s=t.default},function(t){o=t.default},function(t){i=t.default},function(t){u=t.default},function(t){f=t.default},function(t){U=t.default},function(t){a=t.default},function(t){c=t.default},function(t){l=t.default},function(t){I=t.default},function(t){d=t.default},function(t){_=t.default},function(t){x=t.default},function(t){R=t.default},function(t){E=t.default},function(t){L=t.default},function(t){m=t.default},function(t){g=t.default},function(t){B=t.default},function(t){r=t.default},function(t){G=t.default},function(t){p=t.default},function(t){h=t.default},function(t){y=t.default},function(t){D=t.default},function(t){w=t.default},function(t){C=t.default},function(t){F=t.default},function(t){P=t.default},function(t){W=t.default},function(t){j=t.default},function(t){k=t.default},function(t){v=t.default},function(t){b=t.default},function(t){q=t.default},function(t){A=t.default},function(t){M=t.default},function(t){S=t.default},function(t){z=t.default},function(t){H=t.default},function(t){O=t.default},function(t){T=t.default}],execute:function(){n._RF.push({},"c76f1jgE8xD4Ihow8zMVB/M","shoudaqiaoBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(s.URL,s),e.setExtension(o.URL,o),e.setExtension(i.URL,i),e.setExtension(u.URL,u),e.setExtension(f.URL,f),e.setExtension(U.URL,U),e.setExtension(a.URL,a),e.setExtension(c.URL,c),e.setExtension(l.URL,l),e.setExtension(I.URL,I),e.setExtension(d.URL,d),e.setExtension(_.URL,_),e.setExtension(x.URL,x),e.setExtension(R.URL,R),e.setExtension(E.URL,E),e.setExtension(L.URL,L),e.setExtension(m.URL,m),e.setExtension(g.URL,g),e.setExtension(B.URL,B),e.setExtension(r.URL,r),e.setExtension(G.URL,G),e.setExtension(p.URL,p),e.setExtension(h.URL,h),e.setExtension(y.URL,y),e.setExtension(D.URL,D),e.setExtension(w.URL,w),e.setExtension(C.URL,C),e.setExtension(F.URL,F),e.setExtension(P.URL,P),e.setExtension(W.URL,W),e.setExtension(j.URL,j),e.setExtension(k.URL,k),e.setExtension(v.URL,v),e.setExtension(b.URL,b),e.setExtension(q.URL,q),e.setExtension(A.URL,A),e.setExtension(M.URL,M),e.setExtension(S.URL,S),e.setExtension(z.URL,z),e.setExtension(H.URL,H),e.setExtension(O.URL,O),e.setExtension(T.URL,T)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBottleConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoBottleConfig",void 0),o._RF.push({},"077cdRaUqJN+pwKLk4q5uvc","ShoudaqiaoBottleConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.group=void 0,this.index=void 0,this.hp=void 0,this.talents=void 0,this.icon=void 0,this.effects=void 0,this.sounds=void 0};i.isConst=!1,i.path="config/ShoudaqiaoBottleConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoBottleConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBottleConfig2.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoBottleConfig",void 0),o._RF.push({},"c7f00HFyxJKGa6kEoA63JBi","ShoudaqiaoBottleConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.group=void 0,this.index=void 0,this.hp=void 0,this.talents=void 0,this.icon=void 0,this.effects=void 0,this.sounds=void 0};i.isConst=!1,i.path="config/ShoudaqiaoBottleConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoBottleConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBottleConfigPlayer.ts",["cc"],(function(o){var i;return{setters:[function(o){i=o.cclegacy}],execute:function(){var t;o("ShoudaqiaoBottleConfigPlayer",void 0),i._RF.push({},"26b8ajyg2NFh6/X+oypoCHe","ShoudaqiaoBottleConfigPlayer",void 0),function(o){o.config=function(){this.id=void 0,this.level=void 0,this.group=void 0,this.index=void 0,this.hp=void 0,this.talents=void 0,this.icon=void 0,this.effects=void 0,this.sounds=void 0};o.isConst=!1,o.path="config/ShoudaqiaoBottleConfigPlayer",o.extPath=void 0,o.data=null,o.dataList=null,o.lastData=null}(t||(t=o("ShoudaqiaoBottleConfigPlayer",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBottleConfigPlayer2.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoBottleConfigPlayer",void 0),o._RF.push({},"d933enD7D9IIKa6x+01sN5L","ShoudaqiaoBottleConfigPlayer",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.group=void 0,this.index=void 0,this.hp=void 0,this.talents=void 0,this.icon=void 0,this.effects=void 0,this.sounds=void 0};i.isConst=!1,i.path="config/ShoudaqiaoBottleConfigPlayer",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoBottleConfigPlayer",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBulletConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ShoudaqiaoBulletConfig",void 0),t._RF.push({},"c77d4lB+o1ElavGa2z/ofUH","ShoudaqiaoBulletConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.view=void 0,this.view_scale=void 0,this.offset_step=void 0,this.spread=void 0,this.distribution=void 0,this.interval=void 0,this.delay=void 0,this.burst=void 0,this.round=void 0,this.speed=void 0,this.force=void 0,this.torque=void 0,this.target=void 0,this.chase=void 0,this.hit=void 0,this.range=void 0,this.life=void 0,this.bounce=void 0,this.magazine=void 0,this.reload=void 0,this.refresh=void 0,this.coll=void 0,this.ricochet=void 0,this.ballistic=void 0,this.params=void 0,this.size=void 0,this.aoe=void 0,this.bullet=void 0,this.layer=void 0,this.bullet_rot=void 0,this.effects=void 0,this.sounds=void 0,this.triggers=void 0,this.count=void 0,this.duration=void 0,this.hit_rate=void 0,this.atk=void 0,this.crit_rate=void 0,this.crit_dmg=void 0,this.talent=void 0,this.group=void 0,this.level=void 0,this.def_hp=void 0,this.def_mul=void 0,this.dmg_board=void 0};i.isConst=!1,i.path="config/ShoudaqiaoBulletConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null;var t=function(i){return i.para_a="para_a",i.para_r="para_r",i.dir_a="dir_a",i.dir_r="dir_r",i.none="none",i}({});i.E_distribution=t;var o=function(i){return i.up="up",i.down="down",i.random="random",i.close="close",i.max="max",i.player="player",i.none="none",i.min="min",i.center="center",i}({});i.E_target=o;var e=function(i){return i.random="random",i.close="close",i.max="max",i.none="none",i.player="player",i}({});i.E_chase=e;var a=function(i){return i.line="line",i.line_g="line_g",i.dir="dir",i.power="power",i.lerp="lerp",i.ray="ray",i.inst="inst",i.static="static",i.orbit="orbit",i.chain="chain",i.path="path",i.floor="floor",i.line_bounce="line_bounce",i.center="center",i}({});i.E_ballistic=a}(o||(o=i("ShoudaqiaoBulletConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBulletConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ShoudaqiaoBulletConfig",void 0),t._RF.push({},"d899fjPsAlGAoKcbtGqRbFj","ShoudaqiaoBulletConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.view=void 0,this.view_scale=void 0,this.offset_step=void 0,this.spread=void 0,this.distribution=void 0,this.interval=void 0,this.delay=void 0,this.burst=void 0,this.round=void 0,this.speed=void 0,this.force=void 0,this.torque=void 0,this.target=void 0,this.chase=void 0,this.hit=void 0,this.range=void 0,this.life=void 0,this.bounce=void 0,this.magazine=void 0,this.reload=void 0,this.refresh=void 0,this.coll=void 0,this.ricochet=void 0,this.ballistic=void 0,this.params=void 0,this.size=void 0,this.aoe=void 0,this.bullet=void 0,this.layer=void 0,this.bullet_rot=void 0,this.effects=void 0,this.sounds=void 0,this.triggers=void 0,this.count=void 0,this.duration=void 0,this.hit_rate=void 0,this.atk=void 0,this.crit_rate=void 0,this.crit_dmg=void 0,this.talent=void 0,this.group=void 0,this.level=void 0,this.def_hp=void 0,this.def_mul=void 0,this.dmg_board=void 0};i.isConst=!1,i.path="config/ShoudaqiaoBulletConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null;var t=function(i){return i.para_a="para_a",i.para_r="para_r",i.dir_a="dir_a",i.dir_r="dir_r",i.none="none",i}({});i.E_distribution=t;var o=function(i){return i.up="up",i.down="down",i.random="random",i.close="close",i.max="max",i.player="player",i.none="none",i.min="min",i.center="center",i}({});i.E_target=o;var e=function(i){return i.random="random",i.close="close",i.max="max",i.none="none",i.player="player",i}({});i.E_chase=e;var s=function(i){return i.line="line",i.line_g="line_g",i.dir="dir",i.power="power",i.lerp="lerp",i.ray="ray",i.inst="inst",i.static="static",i.orbit="orbit",i.chain="chain",i.path="path",i.floor="floor",i.line_bounce="line_bounce",i.center="center",i}({});i.E_ballistic=s}(o||(o=i("ShoudaqiaoBulletConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBulletConfigPlayer.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ShoudaqiaoBulletConfigPlayer",void 0),t._RF.push({},"d1997FJV9tGOYjs+/uRFT0c","ShoudaqiaoBulletConfigPlayer",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.view=void 0,this.view_scale=void 0,this.offset_step=void 0,this.spread=void 0,this.distribution=void 0,this.interval=void 0,this.delay=void 0,this.burst=void 0,this.round=void 0,this.speed=void 0,this.force=void 0,this.torque=void 0,this.target=void 0,this.chase=void 0,this.hit=void 0,this.range=void 0,this.life=void 0,this.bounce=void 0,this.magazine=void 0,this.reload=void 0,this.refresh=void 0,this.coll=void 0,this.ricochet=void 0,this.ballistic=void 0,this.params=void 0,this.size=void 0,this.aoe=void 0,this.bullet=void 0,this.layer=void 0,this.bullet_rot=void 0,this.effects=void 0,this.sounds=void 0,this.triggers=void 0,this.count=void 0,this.duration=void 0,this.hit_rate=void 0,this.atk=void 0,this.crit_rate=void 0,this.crit_dmg=void 0,this.talent=void 0,this.group=void 0,this.level=void 0,this.def_hp=void 0,this.def_mul=void 0,this.dmg_board=void 0};i.isConst=!1,i.path="config/ShoudaqiaoBulletConfigPlayer",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null;var t=function(i){return i.para_a="para_a",i.para_r="para_r",i.dir_a="dir_a",i.dir_r="dir_r",i.none="none",i}({});i.E_distribution=t;var o=function(i){return i.up="up",i.down="down",i.random="random",i.close="close",i.max="max",i.player="player",i.none="none",i.min="min",i.center="center",i}({});i.E_target=o;var e=function(i){return i.random="random",i.close="close",i.max="max",i.none="none",i.player="player",i}({});i.E_chase=e;var a=function(i){return i.line="line",i.line_g="line_g",i.dir="dir",i.power="power",i.lerp="lerp",i.ray="ray",i.inst="inst",i.static="static",i.orbit="orbit",i.chain="chain",i.path="path",i.floor="floor",i.line_bounce="line_bounce",i.center="center",i}({});i.E_ballistic=a}(o||(o=i("ShoudaqiaoBulletConfigPlayer",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoBulletConfigPlayer2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ShoudaqiaoBulletConfigPlayer",void 0),t._RF.push({},"ee98cd0skBJ4bwEuQh5CT7D","ShoudaqiaoBulletConfigPlayer",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.view=void 0,this.view_scale=void 0,this.offset_step=void 0,this.spread=void 0,this.distribution=void 0,this.interval=void 0,this.delay=void 0,this.burst=void 0,this.round=void 0,this.speed=void 0,this.force=void 0,this.torque=void 0,this.target=void 0,this.chase=void 0,this.hit=void 0,this.range=void 0,this.life=void 0,this.bounce=void 0,this.magazine=void 0,this.reload=void 0,this.refresh=void 0,this.coll=void 0,this.ricochet=void 0,this.ballistic=void 0,this.params=void 0,this.size=void 0,this.aoe=void 0,this.bullet=void 0,this.layer=void 0,this.bullet_rot=void 0,this.effects=void 0,this.sounds=void 0,this.triggers=void 0,this.count=void 0,this.duration=void 0,this.hit_rate=void 0,this.atk=void 0,this.crit_rate=void 0,this.crit_dmg=void 0,this.talent=void 0,this.group=void 0,this.level=void 0,this.def_hp=void 0,this.def_mul=void 0,this.dmg_board=void 0};i.isConst=!1,i.path="config/ShoudaqiaoBulletConfigPlayer",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null;var t=function(i){return i.para_a="para_a",i.para_r="para_r",i.dir_a="dir_a",i.dir_r="dir_r",i.none="none",i}({});i.E_distribution=t;var o=function(i){return i.up="up",i.down="down",i.random="random",i.close="close",i.max="max",i.player="player",i.none="none",i.min="min",i.center="center",i}({});i.E_target=o;var e=function(i){return i.random="random",i.close="close",i.max="max",i.none="none",i.player="player",i}({});i.E_chase=e;var a=function(i){return i.line="line",i.line_g="line_g",i.dir="dir",i.power="power",i.lerp="lerp",i.ray="ray",i.inst="inst",i.static="static",i.orbit="orbit",i.chain="chain",i.path="path",i.floor="floor",i.line_bounce="line_bounce",i.center="center",i}({});i.E_ballistic=a}(o||(o=i("ShoudaqiaoBulletConfigPlayer",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoChestConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoChestConfig",void 0),o._RF.push({},"8ad39RQwD9OfYJucuT+k5qo","ShoudaqiaoChestConfig",void 0),function(i){i.config=function(){this.id=void 0,this.group=void 0,this.hp=void 0,this.talents=void 0};i.isConst=!1,i.path="config/ShoudaqiaoChestConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoChestConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoChestConfig2.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoChestConfig",void 0),o._RF.push({},"9e3d5y4oKdNYIpi3hYWcidE","ShoudaqiaoChestConfig",void 0),function(i){i.config=function(){this.id=void 0,this.group=void 0,this.hp=void 0,this.talents=void 0};i.isConst=!1,i.path="config/ShoudaqiaoChestConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoChestConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoDragonConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoDragonConfig",void 0),o._RF.push({},"34fe0DQ8XJBcqk34268pY3P","ShoudaqiaoDragonConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.count=void 0,this.view=void 0,this.length=void 0,this.hp=void 0,this.speedMul=void 0};i.isConst=!1,i.path="config/ShoudaqiaoDragonConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoDragonConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoDragonConfig2.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var n;i("ShoudaqiaoDragonConfig",void 0),o._RF.push({},"b9763nVPSNGk4vu2VpWGbdP","ShoudaqiaoDragonConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.count=void 0,this.view=void 0,this.length=void 0,this.hp=void 0,this.speedMul=void 0};i.isConst=!1,i.path="config/ShoudaqiaoDragonConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("ShoudaqiaoDragonConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoGameConst.ts",["cc"],(function(o){var a;return{setters:[function(o){a=o.cclegacy}],execute:function(){var i;o("ShoudaqiaoGameConst",void 0),a._RF.push({},"0addaAsTw1FPoOlHcFr5CJd","ShoudaqiaoGameConst",void 0),function(o){o.config=function(){this.UIPackage=void 0,this.LVPackage=void 0,this.RESPackage=void 0,this.PlantsPack=void 0,this.scroll_speed=void 0,this.init_weapon=void 0,this.hard_level_count=void 0,this.hard_level_count_player=void 0};o.isConst=!0,o.path="config/ShoudaqiaoGameConst",o.extPath=void 0,o.data=null}(i||(i=o("ShoudaqiaoGameConst",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoGameConst2.ts",["cc"],(function(o){var a;return{setters:[function(o){a=o.cclegacy}],execute:function(){var i;o("ShoudaqiaoGameConst",void 0),a._RF.push({},"dc884a1oG5KwIbTe4qAOGMK","ShoudaqiaoGameConst",void 0),function(o){o.config=function(){this.UIPackage=void 0,this.LVPackage=void 0,this.RESPackage=void 0,this.PlantsPack=void 0,this.scroll_speed=void 0,this.init_weapon=void 0,this.hard_level_count=void 0,this.hard_level_count_player=void 0};o.isConst=!0,o.path="config/ShoudaqiaoGameConst",o.extPath=void 0,o.data=null}(i||(i=o("ShoudaqiaoGameConst",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoLevelConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoLevelConfig",void 0),o._RF.push({},"979caVgjNJKeJ/qgJDTYVYC","ShoudaqiaoLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.name=void 0,this.ad=void 0,this.outline=void 0,this.view=void 0,this.bg=void 0,this.beginType=void 0,this.weapon=void 0,this.scroll=void 0,this.hp=void 0,this.waves=void 0,this.prefix=void 0,this.hide=void 0,this.monster_dead_sound=void 0,this.dragon=void 0};i.isConst=!1,i.path="config/ShoudaqiaoLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoLevelConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoLevelConfig2.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ShoudaqiaoLevelConfig",void 0),o._RF.push({},"cb7e0rfUQlPF4KXmwBgZQQt","ShoudaqiaoLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.name=void 0,this.ad=void 0,this.outline=void 0,this.view=void 0,this.bg=void 0,this.weapon=void 0,this.scroll=void 0,this.hp=void 0,this.waves=void 0,this.prefix=void 0,this.hide=void 0,this.monster_dead_sound=void 0,this.dragon=void 0};i.isConst=!1,i.path="config/ShoudaqiaoLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ShoudaqiaoLevelConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoTalentConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ShoudaqiaoTalentConfig",void 0),t._RF.push({},"10262m7O4xOBaudvxp+ZhrX","ShoudaqiaoTalentConfig",void 0),function(i){i.config=function(){this.id=void 0,this.attr=void 0,this.trigger=void 0,this.brick=void 0,this.toast=void 0,this.drop=void 0,this.desc=void 0,this.role=void 0};i.isConst=!1,i.path="config/ShoudaqiaoTalentConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ShoudaqiaoTalentConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ShoudaqiaoTalentConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ShoudaqiaoTalentConfig",void 0),t._RF.push({},"ab5cb1Yx/dHmJOZ5hNyqupa","ShoudaqiaoTalentConfig",void 0),function(i){i.config=function(){this.id=void 0,this.attr=void 0,this.trigger=void 0,this.weaponNum=void 0,this.brick=void 0,this.toast=void 0,this.drop=void 0,this.desc=void 0,this.role=void 0};i.isConst=!1,i.path="config/ShoudaqiaoTalentConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ShoudaqiaoTalentConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SidebarView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./UI_Sidebar.ts","./GameDataDef.ts","./GameConst.ts"],(function(e){var t,i,s,n,a,r,c,o,u,d;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,s=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){r=e.ViewBase},function(e){c=e.YT},function(e){o=e.default},function(e){u=e.GameData},function(e){d=e.GameConst}],execute:function(){a._RF.push({},"1175ezcq7VAlL/Rw/Im/DsU","SidebarView",void 0);var m=e("SidebarView",function(e){function a(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).data=void 0,t}t(a,e);var r=a.prototype;return r._preShowAnim=function(){var e=s(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshSideBar(),this.refreshSubscribe(),c.platform.enterScene.endsWith("3041")?this.ui.m_state.selectedIndex=2:c.platform.enterScene.endsWith("1036")?this.ui.m_state.selectedIndex=1:this.ui.m_state.selectedIndex=0,this.data.type>0&&(this.ui.m_state.selectedIndex=this.data.type);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.refreshSideBar=function(){var e=this,t=this._ui.m_guide;if(this.data=this._uiParam,t.m_text_value.text="+"+d.data.sidebarReward,t.m_gameIcon.icon="icon",t.m_btn_get.onClick(this._onClickGet,this),t.onClick(this._onClickUI,this),this.ui.m_btn_back.onClick(this._onClickBack,this),t.m_txt_name.text=c.platform.gameName,t.m_txt_step2.text="2.点击 >> "+c.platform.gameName+" <<",this.ui.m_guide.m_text_value.text=this.data.rewardName+"+"+this.data.rewardCount,u.GameInfo.SaveInfo.sidebarReward)return t.m_step.selectedIndex=4,void(this.ui.m_side.m_state.selectedIndex=2);"021036"==c.platform.enterScene?(this.ui.m_side.m_state.selectedIndex=u.GameInfo.SaveInfo.sidebarReward?2:1,this.ui.m_side.onClick((function(){1==e.ui.m_side.m_state.selectedIndex&&e._onClickGet()})),t.m_step.selectedIndex=3,this.ui.m_side.m_state.selectedIndex=1):(this.ui.m_side.onClick((function(){1==e.ui.m_side.m_state.selectedIndex?e._onClickGet():e.ui.m_state.selectedIndex=1})),this.ui.m_side.m_state.selectedIndex=0)},r.refreshSubscribe=function(){var e=s(n().mark((function e(){var t,i=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.GameInfo.SaveInfo.subscribeReward){e.next=4;break}this.ui.m_scribe.m_state.selectedIndex=2,e.next=11;break;case 4:return e.next=6,c.platform.checkFeedSubscribeStatus();case 6:t=e.sent,this.ui.m_scribe.m_state.selectedIndex=t?1:0,this.ui.m_cmpSubscribe.m_step.selectedIndex=t?1:0,this.ui.m_scribe.onClick((function(){0==i.ui.m_scribe.m_state.selectedIndex?i.ui.m_state.selectedIndex=2:i.onGetsubscribeReward()})),this.ui.m_cmpSubscribe.m_btn_get.onClick(this.onSubscribe,this);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onGetsubscribeReward=function(){u.GameInfo.SaveInfo.subscribeReward=!0,u.GameInfo.SaveInfo.save=!0,c.data.addItemByItemId(2,100),this.refreshSubscribe(),this.ui.m_state.selectedIndex=0,c.platform.base.storeFeedData({scene:3,contentID:"CONTENT12666010370",leftValue:"timeStampMs",operator:">=",status:1,rightValue:Date.now()+864e5+"",success:function(e){console.log("storeFeedData success",e)},fail:function(e){console.log("storeFeedData fail",e)}})},r.onSubscribe=function(){var e=s(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,1!=this.ui.m_cmpSubscribe.m_step.selectedIndex){e.next=5;break}t.onGetsubscribeReward(),e.next=9;break;case 5:return e.next=7,c.platform.requestFeedSubscribe();case 7:e.sent&&t.onGetsubscribeReward();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._afterShowAnim=function(){},r._preHideAnim=function(){this._ui.m_btn_back.offClick(this._onClickBack,this)},r._afterHideAnim=function(){},r._onClickBack=function(){this.hide()},r._onClickUI=function(){if(!this.isClosed){var e=this._ui.m_guide;u.GameInfo.SaveInfo.sidebarReward?e.m_step.selectedIndex=4:e.m_step.selectedIndex<2&&e.m_step.selectedIndex++}},r._onClickGet=function(){var e=s(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ui.m_guide.m_step.selectedIndex<=2?(c.platform.navToSidebar((function(e){console.log("跳转成功"+e)})),this.hide()):u.GameInfo.SaveInfo.sidebarReward?c.gui.toast("每天只能领取一次奖励"):(u.GameInfo.SaveInfo.sidebarReward=!0,u.GameInfo.SaveInfo.save=!0,this.data.onReward&&this.data.onReward(),c.gui.toast("恭喜获得"+this.data.rewardName+"+"+this.data.rewardCount),this.refreshSideBar(),this.ui.m_state.selectedIndex=0);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i(a,null,[{key:"instance",get:function(){return this._getInstance(a,o)}}]),a}(r));e("SidebarData",function(){function e(){this.rewardCount=10,this.rewardName="金币",this.onReward=void 0,this.type=0}return e.prototype.sendToView=function(){m.instance.show(this)},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/SignView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./RewardConfig.ts","./ViewBase.ts","./YT.ts","./UI_Sign.ts"],(function(t){var e,n,i,a,r,s,c,d,u,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.ItemConfig},function(t){c=t.RewardConfig},function(t){d=t.ViewBase},function(t){u=t.YT},function(t){o=t.default}],execute:function(){r._RF.push({},"d0191EBfSJFjoFS1Ljtc+mV","SignView",void 0);t("SignView",function(t){function r(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).data=void 0,e.reward=void 0,e.curIndex=0,e}e(r,t);var d=r.prototype;return d._preShowAnim=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_btn_close.onClick(this.hide,this),this.data=c.dataList.filter((function(t){return 3==t.condition})),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderItem.bind(this),this.refresh(),this.ui.m_btn_get.onClick(this.onSign,this),this.ui.m_btn_get_double.onClick(this.onSignDouble,this);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.refresh=function(){var t=u.data.mainData.dailySign.indexOf(1);if(t>-1)this.ui.m_state.selectedIndex=1,this.curIndex=t;else{var e=u.data.mainData.dailySign[u.data.mainData.signDay-1];this.ui.m_state.selectedIndex=e,this.curIndex=u.data.mainData.signDay-1}this.ui.m_list.numItems=this.data.length-1,this.renderItem(6,this.ui.m_day7)},d.renderItem=function(t,e){var n=this.data[t];e.m_title.text=n.des,e.setIcon(s.data[n.reward_id].icon,"game"),e.m_txt_cnt.text="x"+n.reward_count,e.m_state.selectedIndex=u.data.mainData.dailySign[t]},d.onSign=function(){var t=this.data[this.curIndex];u.data.mainData.dailySign[this.curIndex]++,u.data.mainData.signDay++,u.data.mainData.save=!0,u.data.addItemByItemId(t.reward_id,t.reward_count),u.message.dispatchEvent("on_res_changed"),this.refresh()},d.onSignDouble=function(){var t=i(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=1,n=1==this.ui.m_state.selectedIndex?2:1,e=this.data[this.curIndex],t.next=5,u.game.watchAD(1==n?"再次签到":"签到双倍");case 5:if(!t.sent){t.next=11;break}u.data.mainData.dailySign[this.curIndex]++,2==n&&u.data.mainData.signDay++,u.data.addItemByItemId(e.reward_id,e.reward_count*n),u.message.dispatchEvent("on_res_changed"),this.refresh();case 11:u.data.mainData.save=!0;case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),d._afterShowAnim=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d._preHideAnim=function(){},d._afterHideAnim=function(){},n(r,null,[{key:"instance",get:function(){return this._getInstance(r,o)}}]),r}(d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Skew.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,s,n,a,c,i,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.createClass},function(e){s=e.cclegacy,n=e._decorator,a=e.CCFloat,c=e.toRadian,i=e.toDegree,p=e.Component}],execute:function(){var u,l,h,k,y;s._RF.push({},"bffe3WeuHtNKaaikJynCSuP","Skew",void 0);var w=n.ccclass,f=n.menu,d=n.property;e("Skew",(u=w("Skew"),l=f("工具/斜切"),h=d({displayName:"skew",type:a}),u(k=l((t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this)._skew=0,t}return r(t,e),o(t,[{key:"skew",get:function(){return this._skew},set:function(e){this._skew=e;var t=Math.abs(Math.tan(c(e))),r=Math.sqrt(4+t*t)-t,o=i(Math.acos(r/2)),s=2/r;this.node.setRotationFromEuler(o,e<0?-o:o,0),this.node.setScale(s,s,s)}}]),t}(p)).prototype,"skew",[h],Object.getOwnPropertyDescriptor(y.prototype,"skew"),y.prototype),k=y))||k)||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/SkinView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HeroConfig.ts","./ItemConfig.ts","./ViewBase.ts","./YT.ts","./UIHelper.ts","./UI_Skin.ts","./HallView.ts"],(function(t){var i,e,n,s,a,r,o,u,d,c,l,h,k,f,m;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t.Animation,o=t.Vec3,u=t.v2},function(t){d=t.HeroConfig},function(t){c=t.ItemConfig},function(t){l=t.ViewBase},function(t){h=t.YT},function(t){k=t.UIHelper},function(t){f=t.default},function(t){m=t.HallView}],execute:function(){a._RF.push({},"71a4b30sGRLvLiBljOlgorM","SkinView",void 0);t("SkinView",function(t){function a(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).data=void 0,i.skinNode=void 0,i}i(a,t);var l=a.prototype;return l.renderSkin=function(t,i){var e=this.data[t],n=c.data[e.id];i.setIcon(n.icon,"game"),i.m_quality.selectedIndex=e.qulity,i.clearClick(),i.onClick(this.onSkinClick.bind(this,t)),i.m_using.visible=e.id==h.data.userData.roleSkinId,i.m_lock.visible=!h.data.userData.unlockedSkin.includes(e.id)},l.onSkinClick=function(t){var i=this,e=this.data[t];this.ui.m_skinInfo.m_titlev0.text=e.base1+"%",this.ui.m_skinInfo.m_titlev1.text=e.base2+"%",this.ui.m_skinInfo.m_titleExt.text=e.des,this.skinNode&&this.skinNode.destroy(),k.addPrefabToFGUI(e.res,"game",this.ui.m_loader.asCom,(function(t){var e;t&&(null==(e=t.getComponentInChildren(r))||e.play("idle"),t.setScale(o.ONE.clone().multiplyScalar(3)),i.skinNode=t)}),u(.5,1)),this.ui.m_state.selectedIndex=h.data.isSkinUnlocked(e.id)&&h.data.userData.roleSkinId!=e.id?1:0,this.ui.m_txt_unlock.text=h.data.isSkinUnlocked(e.id)?h.data.userData.roleSkinId!=e.id?"":"已装备":e.condition,this.ui.m_list.selectedIndex=t},l.useSkin=function(){h.data.userData.roleSkinId=this.data[this.ui.m_list.selectedIndex].id,h.data.userData.save=!0,this.refreshUI(),m.instance.curPage.refresh()},l._preShowAnim=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.data=d.dataList.filter((function(t){return 1==t.show})),this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderSkin.bind(this),this.ui.m_list.numItems=this.data.length,this.ui.m_list.selectedIndex=this.data.findIndex((function(t){return t.id==h.data.userData.roleSkinId})),this.onSkinClick(this.ui.m_list.selectedIndex),this.ui.m_btn_use.onClick(this.useSkin,this),h.data.checkSpSkinUnlock();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.refreshUI=function(){this.ui.m_list.numItems=this.data.length;var t=this.data[this.ui.m_list.selectedIndex];this.ui.m_state.selectedIndex=h.data.isSkinUnlocked(t.id)&&h.data.userData.roleSkinId!=t.id?1:0,this.ui.m_txt_unlock.text=h.data.isSkinUnlocked(t.id)?h.data.userData.roleSkinId!=t.id?"":"已装备":t.condition},l._afterShowAnim=function(){var t=n(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_list.height=this.ui.m_bg1.height-this.ui.m_txt_unlock.height;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l._preHideAnim=function(){},l._afterHideAnim=function(){},e(a,null,[{key:"instance",get:function(){return this._getInstance(a,f)}}]),a}(l));a._RF.pop()}}}));

System.register("chunks:///_virtual/SkinViewCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./MainConst.ts"],(function(e){var t,i,o,n,r,s,a,l,c,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,l=e.Component},function(e){c=e.ViewUtil},function(e){p=e.MAIN_PREFABS,d=e.MAIN_BUNDLE}],execute:function(){var u,f,_,h,m;r._RF.push({},"9e79aCMxStFR4/YJfRoJohB","SkinViewCmp",void 0);var v=s.ccclass,w=s.property;e("SkinViewCmp",(u=v("SkinViewCmp"),f=w({type:a,displayName:"皮肤节点",visible:!0}),u((m=t((h=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_viewRoot",m,n(t)),t._modelNode=void 0,t._res=void 0,t}i(t,e),t.Create=function(e){var i=c.createPrefabNode(p.hallSkinView,d).getComponent(t);return i._init(e),i};var r=t.prototype;return r._init=function(e){this.setModelRes(e)},r.setModelRes=function(e){this._modelNode&&this._modelNode.destroy(),this._modelNode=c.createPrefabNode(e,d),this._modelNode.parent=this._viewRoot},t}(l)).prototype,"_viewRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=h))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/SortComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,i,r,s,c,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,c=t._decorator,a=t.Vec3,u=t.Component}],execute:function(){var f,l,p,h,d,y,_;s._RF.push({},"78836d+5VBB56c5xiDPPQQd","SortComponent",void 0);var v=c.ccclass,S=c.property;t("SortComponent",(f=v("SortComponent"),l=S({displayName:"自动排序"}),p=S({displayName:"偏移量"}),f((y=e((d=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"autoSort",y,i(e)),n(e,"offset",_,i(e)),e._force=!1,e._forceY=void 0,e._wPos=new a(0,0,0),e}o(e,t);var s=e.prototype;return s.onEnable=function(){this.autoSort&&this.node.getPosition(this._wPos)},s.invokeSlef=function(){this.node.active=!0},s.hideSelf=function(){this.node.active=!1},s.setChildIndex=function(t){this.node.setSiblingIndex(t)},r(e,[{key:"sortX",get:function(){return this._wPos.x}},{key:"sortY",get:function(){return this._force?this._forceY:this._wPos.y+this.offset}},{key:"forceY",set:function(t){this._force=!0,this._forceY=t}},{key:"pos",set:function(t){this._wPos.set(t.x,t.y,t.z)}}]),e}(u)).prototype,"autoSort",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=e(d.prototype,"offset",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=d))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/Spawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig5.ts","./ZdMonsterConfig4.ts","./ZDConst.ts","./ZDGameState.ts"],(function(n){var t,e,r,o,s,a,i,u;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,r=n.math,o=n.Vec2},function(n){s=n.ZdHeroConfig},function(n){a=n.ZdMonsterConfig},function(n){i=n.SPAWNER_CFG},function(n){u=n.ZDGameState}],execute:function(){e._RF.push({},"48991AenpVHHZDf4OFtF03M","Spawner",void 0);n("Spawner",function(){function n(n){this._runTimeData=void 0,this._runTimeData=n}var e=n.prototype;return e.initData=function(n,t){for(var e,r=0,o=n.length;r<o;++r)e=n[r],this._monsters.push({tm:e[0]/1e3,id:e[1],cnt:e[2],cfg:a.data[e[1]]});for(r=0,o=t.length;r<o;++r)e=t[r],this._heros.push({tm:e[0]/1e3,id:e[1],cfg:s.data[e[1]]})},e.update=function(n){var t=this._runTimeData.runTime;if(this._heroIdx<this._heros.length){var e=this._heros[this._heroIdx];e.tm<=t&&(this._spawnHero(e),this._heroIdx+=1)}if(this._monsterIdx<this._monsters.length){var r=this._monsters[this._monsterIdx];r.tm<=t&&(this._spawnMonster(r),this._monsterIdx+=1)}},e._spawnHero=function(n){var t=u.runtime.ui.mapLayer.randomBirthPosByHero();u.runtime.control.spawnHero(n.id,t.x,t.y)},e._spawnMonster=function(n){2==u.runtime.gameMode?this._spawnMonster2(n):4==u.runtime.gameMode?this._spawnMonster4(n):this._spawnMonster1(n)},e._spawnMonster1=function(n){var t=n.cnt,e=u.runtime.ui.mapLayer.randomBirthRectByMonster(),o=u.runtime.control.mainHero.pos;m.x=o.x-e.x,m.y=o.y-e.y,m.normalize(),h.x=m.y,h.y=-m.x,c.x=-m.y,c.y=m.x;for(var s=e.x,a=e.y,_=r.randomRangeInt(i.MONSTER.ROW_CNT[0],i.MONSTER.ROW_CNT[1]),d=0,f=0,p=0;t-- >=0;){var M=r.randomRange(i.MONSTER.SPACE_X[0],i.MONSTER.SPACE_X[1]),g=r.randomRange(i.MONSTER.SPACE_Y[0],i.MONSTER.SPACE_Y[1]);0==d?(f=s,p=a):d%2==0?(f=s+M*c.x*Math.floor(d/2),p=a+g*c.y*Math.floor(d/2)):(f=s+M*h.x*Math.floor(d/2),p=a+g*h.y*Math.floor(d/2)),u.runtime.control.spawnMonster(n.id,1,f,p).moveByDir(m.x,m.y),++d%_==0&&(_=r.randomRangeInt(i.MONSTER.ROW_CNT[0],i.MONSTER.ROW_CNT[1]),d=0,s+=-1*M*m.x,a+=-1*g*m.y)}},e._spawnMonster2=function(n){var t=n.cnt,e=u.runtime.control.monsterBirthPosArr,o=[].concat(e);t>o.length&&(t=o.length);for(var s=0,a=0;t-- >=0;){var i=r.randomRangeInt(0,o.length);s=o[i].x,a=o[i].y,o.splice(i,1),s+=r.randomRange(-30,30),a+=r.randomRange(-30,30),u.runtime.control.spawnMonster(n.id,1,s,a).randomMove()}},e._spawnMonster4=function(n){u.runtime.control.spawnMonster(n.id,n.cnt)},t(n,[{key:"_monsterIdx",get:function(){return this._runTimeData.spawnMonsterIndex},set:function(n){this._runTimeData.spawnMonsterIndex=n}},{key:"_heroIdx",get:function(){return this._runTimeData.spawnHeroIndex},set:function(n){this._runTimeData.spawnHeroIndex=n}},{key:"_monsters",get:function(){return this._runTimeData.spawnMonsters}},{key:"_heros",get:function(){return this._runTimeData.spawnHeros}}]),n}());var m=new o,h=new o,c=new o;e._RF.pop()}}}));

System.register("chunks:///_virtual/Spawner3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig3.ts","./ZdMonsterConfig.ts","./ZDConst3.ts","./ZDGameState3.ts"],(function(n){var t,e,r,o,a,s,i,u;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,r=n.math,o=n.Vec2},function(n){a=n.ZdHeroConfig},function(n){s=n.ZdMonsterConfig},function(n){i=n.SPAWNER_CFG},function(n){u=n.ZDGameState3}],execute:function(){e._RF.push({},"7e437Qt1j9GdYCNUF5dtU68","Spawner3",void 0);n("Spawner3",function(){function n(n){this._runTimeData=void 0,this._runTimeData=n}var e=n.prototype;return e.initData=function(n,t){for(var e,r=0,o=n.length;r<o;++r)e=n[r],this._monsters.push({tm:e[0]/1e3,id:e[1],cnt:e[2],cfg:s.data[e[1]]});for(r=0,o=t.length;r<o;++r)e=t[r],this._heros.push({tm:e[0]/1e3,id:e[1],cfg:a.data[e[1]]})},e.update=function(n){var t=this._runTimeData.runTime;if(this._heroIdx<this._heros.length){var e=this._heros[this._heroIdx];e.tm<=t&&(this._spawnHero(e),this._heroIdx+=1)}if(this._monsterIdx<this._monsters.length){var r=this._monsters[this._monsterIdx];r.tm<=t&&(this._spawnMonster(r),this._monsterIdx+=1)}},e._spawnHero=function(n){for(var t=u.runtime.ui.mapLayer.randomBirthPosByHero(),e=0;!u.runtime.control.roleMgr.checkHeroBirthPosCorrect(t.x,t.y);){if(++e>=3){t=u.runtime.ui.mapLayer.getFocusPosition();break}t=u.runtime.ui.mapLayer.randomBirthPosByHero()}u.runtime.control.spawnHero(n.id,t.x,t.y)},e._spawnMonster=function(n){2==u.runtime.gameMode?this._spawnMonster2(n):4==u.runtime.gameMode?this._spawnMonster4(n):this._spawnMonster1(n)},e._spawnMonster1=function(n){var t=n.cnt,e=u.runtime.ui.mapLayer.randomBirthRectByMonster(),o=u.runtime.control.mainHero.pos;m.x=o.x-e.x,m.y=o.y-e.y,m.normalize(),c.x=m.y,c.y=-m.x,h.x=-m.y,h.y=m.x;for(var a=e.x,s=e.y,_=r.randomRangeInt(i.MONSTER.ROW_CNT[0],i.MONSTER.ROW_CNT[1]),d=0,f=0,p=0;t-- >=0;){var M=r.randomRange(i.MONSTER.SPACE_X[0],i.MONSTER.SPACE_X[1]),g=r.randomRange(i.MONSTER.SPACE_Y[0],i.MONSTER.SPACE_Y[1]);0==d?(f=a,p=s):d%2==0?(f=a+M*h.x*Math.floor(d/2),p=s+g*h.y*Math.floor(d/2)):(f=a+M*c.x*Math.floor(d/2),p=s+g*c.y*Math.floor(d/2));var y=u.runtime.control.spawnMonster(n.id,1,f,p);switch(n.cfg.move_type){case 0:y.moveByDir(m.x,m.y);break;case 1:y.moveByMainHero()}++d%_==0&&(_=r.randomRangeInt(i.MONSTER.ROW_CNT[0],i.MONSTER.ROW_CNT[1]),d=0,a+=-1*M*m.x,s+=-1*g*m.y)}},e._spawnMonster2=function(n){var t=n.cnt,e=u.runtime.control.monsterBirthPosArr,o=[].concat(e);t>o.length&&(t=o.length);for(var a=0,s=0;t-- >=0;){var i=r.randomRangeInt(0,o.length);a=o[i].x,s=o[i].y,o.splice(i,1),a+=r.randomRange(-30,30),s+=r.randomRange(-30,30),u.runtime.control.spawnMonster(n.id,1,a,s).randomMove()}},e._spawnMonster4=function(n){u.runtime.control.spawnMonster(n.id,n.cnt)},t(n,[{key:"_monsterIdx",get:function(){return this._runTimeData.spawnMonsterIndex},set:function(n){this._runTimeData.spawnMonsterIndex=n}},{key:"_heroIdx",get:function(){return this._runTimeData.spawnHeroIndex},set:function(n){this._runTimeData.spawnHeroIndex=n}},{key:"_monsters",get:function(){return this._runTimeData.spawnMonsters}},{key:"_heros",get:function(){return this._runTimeData.spawnHeros}}]),n}());var m=new o,c=new o,h=new o;e._RF.pop()}}}));

System.register("chunks:///_virtual/Spawner4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig.ts","./ZdMonsterConfig3.ts","./ZDConst4.ts","./ZDGameState4.ts"],(function(n){var t,e,r,o,s,a,i,u;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,r=n.math,o=n.Vec2},function(n){s=n.ZdHeroConfig},function(n){a=n.ZdMonsterConfig},function(n){i=n.SPAWNER_CFG},function(n){u=n.ZDGameState4}],execute:function(){e._RF.push({},"9f72frSr5tKT65umGFtjs+0","Spawner4",void 0);n("Spawner",function(){function n(n){this._runTimeData=void 0,this._runTimeData=n}var e=n.prototype;return e.initData=function(n,t){for(var e,r=0,o=n.length;r<o;++r)e=n[r],this._monsters.push({tm:e[0]/1e3,id:e[1],cnt:e[2],cfg:a.data[e[1]]});for(r=0,o=t.length;r<o;++r)e=t[r],this._heros.push({tm:e[0]/1e3,id:e[1],cfg:s.data[e[1]]})},e.update=function(n){var t=this._runTimeData.runTime;if(this._heroIdx<this._heros.length){var e=this._heros[this._heroIdx];e.tm<=t&&(this._spawnHero(e),this._heroIdx+=1)}if(this._monsterIdx<this._monsters.length){var r=this._monsters[this._monsterIdx];r.tm<=t&&(this._spawnMonster(r),this._monsterIdx+=1)}},e._spawnHero=function(n){var t=u.runtime.ui.mapLayer.randomBirthPosByHero();u.runtime.control.spawnHero(n.id,t.x,t.y)},e._spawnMonster=function(n){2==u.runtime.gameMode?this._spawnMonster2(n):4==u.runtime.gameMode?this._spawnMonster4(n):this._spawnMonster1(n)},e._spawnMonster1=function(n){var t=n.cnt,e=u.runtime.ui.mapLayer.randomBirthRectByMonster(),o=u.runtime.control.mainHero.pos;m.x=o.x-e.x,m.y=o.y-e.y,m.normalize(),h.x=m.y,h.y=-m.x,c.x=-m.y,c.y=m.x;for(var s=e.x,a=e.y,_=r.randomRangeInt(i.MONSTER.ROW_CNT[0],i.MONSTER.ROW_CNT[1]),f=0,d=0,p=0;t-- >=0;){var M=r.randomRange(i.MONSTER.SPACE_X[0],i.MONSTER.SPACE_X[1]),g=r.randomRange(i.MONSTER.SPACE_Y[0],i.MONSTER.SPACE_Y[1]);0==f?(d=s,p=a):f%2==0?(d=s+M*c.x*Math.floor(f/2),p=a+g*c.y*Math.floor(f/2)):(d=s+M*h.x*Math.floor(f/2),p=a+g*h.y*Math.floor(f/2)),u.runtime.control.spawnMonster(n.id,1,d,p).moveByDir(m.x,m.y),++f%_==0&&(_=r.randomRangeInt(i.MONSTER.ROW_CNT[0],i.MONSTER.ROW_CNT[1]),f=0,s+=-1*M*m.x,a+=-1*g*m.y)}},e._spawnMonster2=function(n){var t=n.cnt,e=u.runtime.control.monsterBirthPosArr,o=[].concat(e);t>o.length&&(t=o.length);for(var s=0,a=0;t-- >=0;){var i=r.randomRangeInt(0,o.length);s=o[i].x,a=o[i].y,o.splice(i,1),s+=r.randomRange(-30,30),a+=r.randomRange(-30,30),u.runtime.control.spawnMonster(n.id,1,s,a).randomMove()}},e._spawnMonster4=function(n){u.runtime.control.spawnMonster(n.id,n.cnt)},t(n,[{key:"_monsterIdx",get:function(){return this._runTimeData.spawnMonsterIndex},set:function(n){this._runTimeData.spawnMonsterIndex=n}},{key:"_heroIdx",get:function(){return this._runTimeData.spawnHeroIndex},set:function(n){this._runTimeData.spawnHeroIndex=n}},{key:"_monsters",get:function(){return this._runTimeData.spawnMonsters}},{key:"_heros",get:function(){return this._runTimeData.spawnHeros}}]),n}());var m=new o,h=new o,c=new o;e._RF.pop()}}}));

System.register("chunks:///_virtual/Spawner5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig2.ts","./ZdMonsterConfig2.ts","./ZDConst5.ts","./ZDGameState5.ts"],(function(n){var t,e,r,o,s,a,i,u;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,r=n.math,o=n.Vec2},function(n){s=n.ZdHeroConfig},function(n){a=n.ZdMonsterConfig},function(n){i=n.SPAWNER_CFG},function(n){u=n.ZDGameState5}],execute:function(){e._RF.push({},"b8f7bIveGpAHqkzlYPvhv+N","Spawner5",void 0);n("Spawner",function(){function n(n){this._runTimeData=void 0,this._runTimeData=n}var e=n.prototype;return e.initData=function(n,t){for(var e,r=0,o=n.length;r<o;++r)e=n[r],this._monsters.push({tm:e[0]/1e3,id:e[1],cnt:e[2],cfg:a.data[e[1]]});for(r=0,o=t.length;r<o;++r)e=t[r],this._heros.push({tm:e[0]/1e3,id:e[1],cfg:s.data[e[1]]})},e.update=function(n){var t=this._runTimeData.runTime;if(this._heroIdx<this._heros.length){var e=this._heros[this._heroIdx];e.tm<=t&&(this._spawnHero(e),this._heroIdx+=1)}if(this._monsterIdx<this._monsters.length){var r=this._monsters[this._monsterIdx];r.tm<=t&&(this._spawnMonster(r),this._monsterIdx+=1)}},e._spawnHero=function(n){var t=u.runtime.ui.mapLayer.randomBirthPosByHero();u.runtime.control.spawnHero(n.id,t.x,t.y)},e._spawnMonster=function(n){2==u.runtime.gameMode?this._spawnMonster2(n):4==u.runtime.gameMode?this._spawnMonster4(n):this._spawnMonster1(n)},e._spawnMonster1=function(n){var t=n.cnt,e=u.runtime.ui.mapLayer.randomBirthRectByMonster(),o=u.runtime.control.mainHero.pos;h.x=o.x-e.x,h.y=o.y-e.y,h.normalize(),m.x=h.y,m.y=-h.x,c.x=-h.y,c.y=h.x;for(var s=e.x,a=e.y,_=r.randomRangeInt(i.MONSTER.ROW_CNT[0],i.MONSTER.ROW_CNT[1]),d=0,f=0,p=0;t-- >=0;){var M=r.randomRange(i.MONSTER.SPACE_X[0],i.MONSTER.SPACE_X[1]),g=r.randomRange(i.MONSTER.SPACE_Y[0],i.MONSTER.SPACE_Y[1]);0==d?(f=s,p=a):d%2==0?(f=s+M*c.x*Math.floor(d/2),p=a+g*c.y*Math.floor(d/2)):(f=s+M*m.x*Math.floor(d/2),p=a+g*m.y*Math.floor(d/2)),u.runtime.control.spawnMonster(n.id,1,f,p).moveByDir(h.x,h.y),++d%_==0&&(_=r.randomRangeInt(i.MONSTER.ROW_CNT[0],i.MONSTER.ROW_CNT[1]),d=0,s+=-1*M*h.x,a+=-1*g*h.y)}},e._spawnMonster2=function(n){var t=n.cnt,e=u.runtime.control.monsterBirthPosArr,o=[].concat(e);t>o.length&&(t=o.length);for(var s=0,a=0;t-- >=0;){var i=r.randomRangeInt(0,o.length);s=o[i].x,a=o[i].y,o.splice(i,1),s+=r.randomRange(-30,30),a+=r.randomRange(-30,30),u.runtime.control.spawnMonster(n.id,1,s,a).randomMove()}},e._spawnMonster4=function(n){u.runtime.control.spawnMonster(n.id,n.cnt)},t(n,[{key:"_monsterIdx",get:function(){return this._runTimeData.spawnMonsterIndex},set:function(n){this._runTimeData.spawnMonsterIndex=n}},{key:"_heroIdx",get:function(){return this._runTimeData.spawnHeroIndex},set:function(n){this._runTimeData.spawnHeroIndex=n}},{key:"_monsters",get:function(){return this._runTimeData.spawnMonsters}},{key:"_heros",get:function(){return this._runTimeData.spawnHeros}}]),n}());var h=new o,m=new o,c=new o;e._RF.pop()}}}));

System.register("chunks:///_virtual/Spawner6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdHeroConfig4.ts","./ZdMonsterConfig5.ts","./ZDConst6.ts","./ZDGameState6.ts"],(function(t){var n,r,o,e,s,i,a,h;return{setters:[function(t){n=t.createClass},function(t){r=t.cclegacy,o=t.math,e=t.Vec2},function(t){s=t.ZdHeroConfig},function(t){i=t.ZdMonsterConfig},function(t){a=t.SPAWNER_CFG},function(t){h=t.ZDGameState6}],execute:function(){r._RF.push({},"60c39/EFaVCZpMvYZknkpPL","Spawner6",void 0);t("Spawner",function(){function t(t){this._heros=void 0,this._monsters=void 0,this._time=void 0,this._heroIdx=void 0,this._monsterIdx=void 0,this._roleMgr=void 0,this._roleMgr=t,this._heros=[],this._monsters=[],this._time=0,this._heroIdx=this._monsterIdx=0}var r=t.prototype;return r.initData=function(t,n){for(var r,o=0,e=t.length;o<e;++o)r=t[o],this._monsters.push({tm:r[0]/1e3,id:r[1],cnt:r[2],cfg:i.data[r[1]]});for(o=0,e=n.length;o<e;++o)r=n[o],this._heros.push({tm:r[0]/1e3,id:r[1],cfg:s.data[r[1]]})},r.update=function(t){if(this._time+=t,this._heroIdx<this._heros.length){var n=this._heros[this._heroIdx];n.tm<=this._time&&(this._spawnHero(n),this._heroIdx+=1)}if(this._monsterIdx<this._monsters.length){var r=this._monsters[this._monsterIdx];r.tm<=this._time&&(this._spawnMonster(r),this._monsterIdx+=1)}},r._spawnHero=function(t){var n=h.runtime.ui.mapLayer.randomBirthPosByHero();this._roleMgr.addHero(t.id,n.x,n.y)},r._spawnMonster=function(t){2==h.runtime.gameMode?this._spawnMonster2(t):4==h.runtime.gameMode?this._spawnMonster4(t):7==h.runtime.gameMode?this._spawnMonster5(t):this._spawnMonster1(t)},r._spawnMonster1=function(t){var n=t.cnt,r=h.runtime.ui.mapLayer.randomBirthRectByMonster(),e=h.runtime.control.mainHero.pos;m.x=e.x-r.x,m.y=e.y-r.y,m.normalize(),d.x=m.y,d.y=-m.x,_.x=-m.y,_.y=m.x;for(var s=r.x,i=r.y,c=o.randomRangeInt(a.MONSTER.ROW_CNT[0],a.MONSTER.ROW_CNT[1]),u=0,M=0,g=0;n-- >=0;){var f=o.randomRange(a.MONSTER.SPACE_X[0],a.MONSTER.SPACE_X[1]),l=o.randomRange(a.MONSTER.SPACE_Y[0],a.MONSTER.SPACE_Y[1]);0==u?(M=s,g=i):u%2==0?(M=s+f*_.x*Math.floor(u/2),g=i+l*_.y*Math.floor(u/2)):(M=s+f*d.x*Math.floor(u/2),g=i+l*d.y*Math.floor(u/2)),h.runtime.control.spawnMonster(t.id,1,M,g).moveByDir(m.x,m.y),++u%c==0&&(c=o.randomRangeInt(a.MONSTER.ROW_CNT[0],a.MONSTER.ROW_CNT[1]),u=0,s+=-1*f*m.x,i+=-1*l*m.y)}},r._spawnMonster2=function(t){var n=t.cnt,r=h.runtime.control.monsterBirthPosArr,e=[].concat(r);n>e.length&&(n=e.length);for(var s=0,i=0;n-- >=0;){var a=o.randomRangeInt(0,e.length);s=e[a].x,i=e[a].y,e.splice(a,1),s+=o.randomRange(-30,30),i+=o.randomRange(-30,30),this._roleMgr.addMonster(t.id,s,i).randomMove()}},r._spawnMonster4=function(t){h.runtime.control.spawnMonster(t.id,t.cnt)},r._spawnMonster5=function(t){var n=t.cnt,r=h.runtime.control.mapCtrl.currentMap.birthPosArr,e=[].concat(r);n>e.length&&(n=e.length);for(var s=0,i=0,a=0,m=0;n-- >=0;){var d=o.randomRangeInt(0,e.length);s=e[d].x,i=e[d].y,a=e[d].width,m=e[d].height,s+=o.randomRange(-a/2,a/2),i+=o.randomRange(-m/2,m/2),this._roleMgr.addMonster(t.id,s,i).randomMove()}},n(t,[{key:"heroCnt",get:function(){return this._heros.length}}]),t}());var m=new e,d=new e,_=new e;r._RF.pop()}}}));

System.register("chunks:///_virtual/SpineEffectComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectConfig.ts","./GameConsts.ts","./GameUtils.ts","./ViewUtil.ts","./YT.ts"],(function(e){var t,i,n,o,s,a,r,l,f,h,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.Layers,s=e.sp,a=e.Component},function(e){r=e.EffectConfig},function(e){l=e.GameConsts},function(e){f=e.GameUtils},function(e){h=e.ViewUtil},function(e){c=e.YT}],execute:function(){var d,p;i._RF.push({},"ed441Etew5FAq1Kh93VoFan","SpineEffectComponent",void 0);var _=n.ccclass;n.property,e("SpineEffectComponent",_("SpineEffectComponent")(((p=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).render=void 0,t.effectId=void 0,t._enable=!1,t._skLoaded=!1,t._hasTime=!1,t._totalTime=0,t._leftTime=0,t._anim=null,t}t(i,e),i.PlayEffect=function(e,t,n,s,a,c,d){void 0===d&&(d=o.Enum.UI_3D);var p=this._pool[e];p||(p=this._pool[e]=[]);var _=p.shift();if(!_){var u=r.data[e],m=h.createPrefabNode("prefab/SpineEffect",l.Bundle.resource);_=m.getComponent(i),f.setLayer(m,d),_.loadEffect(u)}return a.addChild(_.node),_.node.setPosition(t),_.node.setRotationFromEuler(n),_.node.setScale(s),_._initialize(c),_},i.Free=function(){for(var e in this._pool){var t=this._pool[e];if(t&&t.length>0){var i=0,n=t.length;for(i=0;i<n;++i)t[i].node.destroy()}}this._pool={}};var n=i.prototype;return n.loadEffect=function(e){this.effectId=e.id,e.time>0?this._hasTime=!0:this._hasTime=!1,this._totalTime=e.time,this.render=this.getComponentInChildren(s.Skeleton)||this.getComponent(s.Skeleton),c.res.load(e.path,e.bundle,s.SkeletonData,null,this._onSpineLoaded.bind(this))},n._onSpineLoaded=function(e){this.render.skeletonData=e,this._skLoaded=!0,this._enable&&this.play()},n._initialize=function(e){this._enable=!0,this._anim=e,this._leftTime=this._totalTime,this._skLoaded&&this.play()},n.play=function(){this._skLoaded&&this.render.setAnimation(0,this._anim,!0)},n.update=function(e){this._enable&&this._hasTime&&(this._leftTime-=e,this._leftTime<=0&&this.recover())},n.recover=function(){this._enable&&(this._enable=!1,this.node.removeFromParent(),i._pool[this.effectId].push(this))},i}(a))._pool={},d=p))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/SpineUtil.ts",["cc"],(function(n){var e,o,t,r,i,c;return{setters:[function(n){e=n.cclegacy,o=n.Vec3,t=n.log,r=n.UITransform,i=n.v3,c=n.warn}],execute:function(){e._RF.push({},"df534+OnbFKnL59Nj7Gm1l9","SpineUtil",void 0);n("SpineUtil",function(){function n(){}return n.getBonePos2World=function(n,e){var d=o.ZERO,f=n.findBone(e);if(f){var u=n.node.getComponent(r);u?d=u.convertToWorldSpaceAR(i(f.worldX,f.worldY)):c("dont find UITransform component in spine node!")}else t("dont find bone: ",e);return d},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Splash.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIStatement.ts","./RealName.ts","./AgeTips.ts"],(function(e){var t,i,n,a,r,o,l,s,u,c,p,m,h,g,f,b,y,d,S,N,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Button,c=e.Label,p=e.Sprite,m=e.SpriteFrame,h=e.game,g=e.sys,f=e.assetManager,b=e.native,y=e.director,d=e.Component},function(e){S=e.default},function(e){N=e.default},function(e){w=e.AgeTips}],execute:function(){var v,I,z,O,T,A,_,B,G,M,R,P,k,F,L,C,D,E,j,x,H,K,V;l._RF.push({},"a751avpiStKtKByH5swO5Xp","Splash",void 0);var U=s.ccclass,W=s.property;e("Splash",(v=U("Splash"),I=W(S),z=W(N),O=W(w),T=W(u),A=W(c),_=W({type:p}),B=W({type:m,displayName:"游戏Logo"}),G=W({displayName:"游戏名称"}),M=W({displayName:"软著作者"}),R=W({displayName:"软著登记号"}),v((F=t((k=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"statement",F,a(t)),n(t,"realName",L,a(t)),n(t,"ageTips",C,a(t)),n(t,"ageBtn",D,a(t)),n(t,"copyright",E,a(t)),n(t,"logo",j,a(t)),n(t,"logoImage",x,a(t)),n(t,"gameName",H,a(t)),n(t,"anthorName",K,a(t)),n(t,"copyrightNumber",V,a(t)),t}i(t,e);var l=t.prototype;return l.start=function(){h.on("StartGame",this.onStartGame,this),this.onShowStatement(),this.logo.spriteFrame=this.logoImage,this.ageBtn.node.on("click",this.showAgeTips.bind(this)),this.copyright.node.active=g.platform==g.Platform.OPPO_MINI_GAME||g.platform==g.Platform.VIVO_MINI_GAME,this.copyright.string="软件著作权登记号："+this.copyrightNumber+"\n        著作权人："+this.anthorName,this.statement.SetName(this.gameName.toString()),f.loadBundle("splash",{},(function(e){e||console.log("splash bundle loaded")}))},l.showAgeTips=function(){this.ageTips.node.active=!0},l.onStartGame=function(){g.isNative&&g.os==g.OS.IOS&&b.jsbBridgeWrapper.dispatchEventToNative("showSplashAd","888255586"),this.scheduleOnce((function(){y.loadScene("Main")}),1)},l.onShowStatement=function(){var e=this;this.statement.OnConfirm=function(){e.onShowRealName()},"1"!=g.localStorage.getItem("statement_signed")?this.statement.node.active=!0:(this.statement.node.active=!1,this.onShowRealName())},l.onShowRealName=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.os==g.OS.IOS&&g.isNative?g.localStorage.getItem("birthday")?this.realName.CheckAge():this.realName.node.active=!0:h.emit("StartGame");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(d)).prototype,"statement",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(k.prototype,"realName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(k.prototype,"ageTips",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"ageBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(k.prototype,"copyright",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(k.prototype,"logo",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(k.prototype,"logoImage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"gameName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=t(k.prototype,"anthorName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=t(k.prototype,"copyrightNumber",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=k))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/SplashHelper.ts",["cc","./UIToast.ts","./UIStatement.ts"],(function(e){var t,n,a,o,s,r,c,l;return{setters:[function(e){t=e.cclegacy,n=e._decorator,a=e.assetManager,o=e.Prefab,s=e.instantiate,r=e.find},function(e){c=e.default},function(e){l=e.default}],execute:function(){var u;t._RF.push({},"68752fJXNFGd7jn7yxVwquC","SplashHelper",void 0);var f=n.ccclass;n.property,e("default",f("SplashHelper")(u=function(){function e(){}return e.ShowToast=function(e){a.getBundle("splash").load("prefabs/Toast",o,(function(t,n){if(t)console.error(t);else{var a=s(n);a.setParent(r("Canvas")),a.getComponent(c).Show(e)}}))},e.ShowStatement=function(){var e=r("Canvas").getChildByName("UIStatement");e?e.getComponent(l).Show():a.getBundle("splash").load("prefabs/Statement",o,(function(e,t){if(e)console.error(e);else{var n=s(t);n.name="UIStatement",n.setParent(r("Canvas")),n.getComponent(l).Show()}}))},e}())||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMap.ts"],(function(t){var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.default}],execute:function(){n._RF.push({},"25bdbThWzpHipA5sboVVV+I","StateMachine",void 0);t("default",function(){function t(){this._states=void 0,this.currState=void 0,this._forceChangeState=0,this._forceChangeParam=null,this._states=new a}var n=t.prototype;return n.Add=function(t){return this._states.Add(t.id,t)},n.Remove=function(t){return this._states.Remove(t)},n.RemoveAll=function(){this._states.Clear(),this.currState=null},n.ExitCurrState=function(t){void 0===t&&(t=null),null!=this.currState&&(this.currState.OnExit(null,t),this.currState=null)},n.ChangeState=function(t,e){void 0===e&&(e=null);var n=this.Find(t);if(null!=n){if(n==this.currState)return!0;null!=this.currState&&this.currState.OnExit(n,e);var a=this.currState;return this.currState=n,n.OnEnter(a,e),!0}return console.error("不存在的状态ID:"+t),!1},n.SetForceChangeState=function(t,e){void 0===e&&(e=null),this._forceChangeState=t,this._forceChangeParam=e},n.LogicUpdate=function(t){if(null==this.currState)0!=this._forceChangeState&&(this.ChangeState(this._forceChangeState,this._forceChangeParam),this._forceChangeState=0,this._forceChangeParam=null),this.OnRunning(null,t);else{if(0!=this._forceChangeState)this.ChangeState(this._forceChangeState,this._forceChangeParam),this._forceChangeState=0,this._forceChangeParam=null;else{var e=this.currState.GetNextState();0!=e&&this.ChangeState(e)}this.OnRunning(null,t)}},n.OnRunning=function(t,e){null!=this.currState&&this.currState.OnRunning(t,e)},n.Find=function(t){return this._states.Get(t)},e(t,[{key:"count",get:function(){return this._states.count}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/StateMap.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"09da2JvYvFM8JmK7UdnI2pG","StateMap",void 0);t("default",function(){function t(){this._values=[],this._keys=[]}var n=t.prototype;return n.set=function(t,e){var n=this.indexOf(t);n>=0?this._values[n]=e:(this._keys.push(t),this._values.push(e))},n.indexOf=function(t){var e=this._keys.indexOf(t);return e>=0?e:-1},n.Get=function(t){var e=this.indexOf(t);return e<0?null:this._values[e]},n.ContainsKey=function(t){return this.indexOf(t)>=0},n.Add=function(t,e){return!(this.indexOf(t)>=0)&&(this._keys.push(t),this._values.push(e),!0)},n.Remove=function(t){var e=this.indexOf(t);return e>=0&&(this._keys.splice(e,1),this._values.splice(e,1),!0)},n.Clear=function(){this._values.length=0,this._keys.length=0},e(t,[{key:"values",get:function(){return this._values}},{key:"keys",get:function(){return this._keys}},{key:"count",get:function(){return this._keys.length}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"a8158kMBN9N9ZqFS058uqxb","StringUtil",void 0),t("StringUtil",function(){function t(){}return t.guid=function(){for(var t="",r=1;r<=32;r++){t+=Math.floor(16*Math.random()).toString(16),8!=r&&12!=r&&16!=r&&20!=r||(t+="-")}return t},t.numberTotPermil=function(t){return t.toLocaleString()},t.numberToThousand=function(t,r){void 0===r&&(r=2);var e=1e3;if(t<e)return t==t<<0?Math.floor(t).toString():t.toFixed(r);var n=Math.floor(Math.log(t)/Math.log(e));return(t/Math.pow(e,n)).toFixed(r)+["","K","M","B","T","P","E","Z","Y","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az"][n]},t.numberToTenThousand=function(t,r){void 0===r&&(r=2);var e=1e4;if(t<e)return t.toString();var n=Math.floor(Math.log(t)/Math.log(e));return(t/Math.pow(e,n)).toFixed(r)+["","万","亿","兆","京","垓","秭","穰","沟","涧","正","载","‌极","‌恒河沙","‌阿僧祇","‌那由他","‌不可思议","‌无量大数"][n]},t.format=function(t,r){var e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return r},t.formatSecond=function(t,r,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var o=Math.max(e,Math.ceil(t)),a=o%60,i=Math.floor(o/60),u=i%60,f={"H+":Math.floor(i/60),"M+":u,"S+":a};if(!this.secFormater)for(var l in this.secFormater={},f)this.secFormater[l]=new RegExp("("+l+")");var s=!1,g=!1;for(var h in f)this.secFormater[h].test(r)&&(n?!s&&f[h]<=0?g=!0:(g&&(r=r.substr(r.indexOf(RegExp.$1))),g=!1,s=!0,r=r.replace(RegExp.$1,1==RegExp.$1.length?f[h]:("00"+f[h]).substr((""+f[h]).length))):r=r.replace(RegExp.$1,1==RegExp.$1.length?f[h]:("00"+f[h]).substr((""+f[h]).length)));return g?"":r},t.formatSec=function(t){var r,e,n=Math.ceil(t);if(n>=86400){var o=Math.floor(n/3600),a=o%24;r={"D+":Math.floor(o/24),"H+":a},e="DDdHHh"}else if(n>=3600){var i=Math.floor(n/60),u=i%60;r={"H+":Math.floor(i/60),"M+":u},e="HHhMMm"}else{var f=n%60;r={"M+":Math.floor(n/60)%60,"S+":f},e="MMmSSs"}var l=!1,s=!1;for(var g in r)new RegExp("("+g+")").test(e)&&(!l&&r[g]<=0?s=!0:(s&&(e=e.substr(e.indexOf(RegExp.$1))),s=!1,l=!0,e=e.replace(RegExp.$1,1==RegExp.$1.length?r[g]:("00"+r[g]).substr((""+r[g]).length))));return s?"":e},t.stringToArray1=function(t){return""==t?[]:t.split(",")},t.stringToArray2=function(t){return""==t?[]:t.split("|")},t.stringToArray3=function(t){return""==t?[]:t.split(":")},t.stringToArray4=function(t){return""==t?[]:t.split(";")},t.sub=function(t,r,e){void 0===e&&(e=!1);var n=/[^\x00-\xff]/g;if(t.replace(n,"mm").length<=r)return t;for(var o=Math.floor(r/2);o<t.length;o++)if(t.substr(0,o).replace(n,"mm").length>=r)return e?t.substr(0,o)+"...":t.substr(0,o);return t},t.stringLen=function(t){for(var r=0,e=t.length,n=-1,o=0;o<e;o++)r+=(n=t.charCodeAt(o))>=0&&n<=128?1:2;return r},t.formatWords=function(t,r){if(!r||r.length<=0)return t;var e=this.stringToArray2(r);return t.replace(/\{(\w+)\}/g,(function(t,r){return e[r]}))},t.formatWords2=function(t,r){return!r||r.length<=0?t:t.replace(/\{(\w+)\}/g,(function(t,e){return""+r[e]}))},t.IsNullOrEmpty=function(t){return null==t||""==t},t.toFixed=function(t,r){var e=Math.pow(10,r),n=Math.ceil(t*e);if(r>0)for(var o=r;o>=1;o--){if(n%Math.pow(10,o)==0){r-=o;break}}return(n/=e).toFixed(r)},t.toFixedPercent=function(t,r){var e;if(0!=t){if(e=100*t,r>0){var n=Math.pow(10,r);e*=n;for(var o=r;o>=1;o--){if(e%Math.pow(10,o)==0){r-=o;break}}e/=n}}else e=t;return e.toFixed(r)+"%"},t}()).secFormater=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/sub_zzlBinder.ts",["cc","./fairygui.mjs","./UI_End3.ts","./UI_normal_btn_ad2.ts","./UI_normal_btn23.ts","./UI_Battle6.ts","./UI_iconBtn4.ts"],(function(t){var n,e,u,i,s,c,o;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){u=t.default},function(t){i=t.default},function(t){s=t.default},function(t){c=t.default},function(t){o=t.default}],execute:function(){n._RF.push({},"cea04hX+kpDYJydSGCF4bs+","sub_zzlBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(u.URL,u),e.setExtension(i.URL,i),e.setExtension(s.URL,s),e.setExtension(c.URL,c),e.setExtension(o.URL,o)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameBinder.ts",["cc","./fairygui.mjs","./UI_btn_icon2.ts","./UI_WindowTimeTips.ts","./UI_WindowChooseLevel.ts","./UI_WindowSubSettle.ts","./UI_unlock_btn.ts","./UI_level_choose_panel.ts","./UI_restart_btn.ts","./UI_WindowChooseGame.ts","./UI_SubGameTray.ts","./UI_WindowSettingSub.ts","./UI_setting_combo.ts"],(function(t){var n,e,i,o,s,u,f,c,a,l,U,d,_;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){i=t.default},function(t){o=t.default},function(t){s=t.default},function(t){u=t.default},function(t){f=t.default},function(t){c=t.default},function(t){a=t.default},function(t){l=t.default},function(t){U=t.default},function(t){d=t.default},function(t){_=t.default}],execute:function(){n._RF.push({},"0eae0GXrflJBq0eVDkbG8yX","SubGameBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(i.URL,i),e.setExtension(o.URL,o),e.setExtension(s.URL,s),e.setExtension(u.URL,u),e.setExtension(f.URL,f),e.setExtension(c.URL,c),e.setExtension(a.URL,a),e.setExtension(l.URL,l),e.setExtension(U.URL,U),e.setExtension(d.URL,d),e.setExtension(_.URL,_)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("SubGameConfig",void 0),t._RF.push({},"9d17a53bXVG1pTQw5W5if98","SubGameConfig",void 0),function(i){i.config=function(){this.id=void 0,this.icon=void 0,this.name=void 0,this.bundle=void 0,this.slot=void 0,this.ad=void 0,this.cd=void 0,this.unlockLevel=void 0,this.index=void 0,this.enabled=void 0,this.highlight=void 0,this.remove_res=void 0};i.isConst=!1,i.path="config/SubGameConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("SubGameConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoConfigSetter.ts","./G11LevelConfig.ts","./G12LevelConfig.ts","./G13LevelConfig.ts","./PackLevelConfig.ts","./PindaoLevelConfig.ts","./QjcjLevelConfig.ts","./SdmLevelConfig.ts","./ShoudaqiaoLevelConfig2.ts","./ShoudaqiaoLevelConfig.ts","./ZzlLevelConfig.ts","./SubGameConfig.ts","./TfLevelConfig.ts","./TpLevelConfig.ts","./TjsbLevelConfig.ts","./TreeSpiritLevelConfig.ts","./WkLevelConfig.ts","./ZdLevelConfig4.ts","./ZdLevelConfig5.ts","./ZdLevelConfig.ts","./ZdLevelConfig3.ts","./ZdLevelConfig2.ts","./ZdhcLevelConfig.ts","./ConfigManager.ts","./YT.ts","./TipsSubGameView.ts"],(function(e){var n,i,o,t,f,a,u,l,c,s,r,g,v,C,L,d,m,h,S,p,G,b,T,Z,k,w,j,D,M;return{setters:[function(e){n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){t=e.AutoConfigSetter},function(e){f=e.G11LevelConfig},function(e){a=e.G12LevelConfig},function(e){u=e.G13LevelConfig},function(e){l=e.PackLevelConfig},function(e){c=e.PindaoLevelConfig},function(e){s=e.QjcjLevelConfig},function(e){r=e.SdmLevelConfig},function(e){g=e.ShoudaqiaoLevelConfig},function(e){v=e.ShoudaqiaoLevelConfig},function(e){C=e.ZzlLevelConfig},function(e){L=e.SubGameConfig},function(e){d=e.TfLevelConfig},function(e){m=e.TpLevelConfig},function(e){h=e.TjsbLevelConfig},function(e){S=e.TreeSpiritLevelConfig},function(e){p=e.WkLevelConfig},function(e){G=e.ZdLevelConfig},function(e){b=e.ZdLevelConfig},function(e){T=e.ZdLevelConfig},function(e){Z=e.ZdLevelConfig},function(e){k=e.ZdLevelConfig},function(e){w=e.ZdhcLevelConfig},function(e){j=e.ConfigManager},function(e){D=e.YT},function(e){M=e.TipsSubGameView}],execute:function(){o._RF.push({},"c095dCGip9M3poS/Ooi/k9+","SubGameData",void 0);var P={6:c,11:f,12:a,13:u,101:g,106:G,301:b,108:S,401:d,501:C,601:m,666:k,701:T,777:p,801:Z,888:l,901:v,1001:w,1101:s,1102:h,1103:r};e("SubGameData",function(){function e(){this.level=1,this.gameName="测试",this.levelName="第1关",this.icon="icon_1",this.ad=0,this.hot=0,this.gameId=void 0}return e.loadSubGameData=function(){var e=n(i().mark((function e(n,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=!0),e.abrupt("return",new Promise((function(e,i){var f=L.data[n];if(D.data.userData.chapterId<f.unlockLevel&&!D.isGM)D.gui.toast("通关第"+(f.unlockLevel-1)+"章解锁");else{var a=f.bundle,u=P[n];if(!u)throw new Error("未配置的subGameSpace  gameId="+n);t.SetConfig(a),j.StartLoad((function(){var i=[];if(u.dataList.forEach((function(e){i.push({icon:f.icon,level:e.id,gameName:f.name,ad:e.ad,hot:e.outline?1:0,gameId:n,levelName:e.name}),D.data.subData.getUnlockProgress(n,e.id)})),o){if(!D.data.subData.canEnter(n)&&!D.isGM)return void M.instance.show([n,function(e){e&&D.gui.showSubLevels(i)}]);D.gui.showSubLevels(i)}e(i)}),a)}})));case 2:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),e.getExtraGameTips=function(e){if(!D.isGM)return"";var n=L.data[e],i=n.slot>0?"":"-更多玩法";return"<outline color=#000000 width=4>通关主线第"+(n.unlockLevel-1)+"章,主界面"+i+"进入<color=#00ff00>"+n.name+"</color>玩法</outline>"},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameStateBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameStateBase.ts"],(function(e){var t,n,o,a,r,i,s;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){i=e.GameConfig},function(e){s=e.GameStateBase}],execute:function(){e("getExtraGameTips",c),r._RF.push({},"5f47dor2kVAmKBnPGvapQf8","SubGameStateBase",void 0);e("SubGameStateBase",function(e){function r(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).gameConfig=void 0,t}t(r,e);var s=r.prototype;return s.onEnterState=function(){var t=o(a().mark((function t(){var n,o,r,s,c=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=c.length,r=new Array(o),s=0;s<o;s++)r[s]=c[s];return this.gameConfig=i.data[r[0]],this._sceneName=this.gameConfig.scene,this._sceneBundle=this.gameConfig.bundle,this._configBundle=this.gameConfig.config,r.shift(),t.next=8,(n=e.prototype.onEnterState).call.apply(n,[this].concat(r));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._setUnlockTips=function(e){e.string=c(this.gameConfig.name,this.gameConfig.unlock_type,this.gameConfig.unlock_value)},s.otherLoadAssets=function(){return new Promise((function(e){e()}))},n(r,[{key:"bundle",get:function(){return this._sceneBundle}}]),r}(s));function c(e,t,n){switch(t){case 0:return"";case 1:return"<outline color=#000000 width=4>通关主线第"+n[0]+"关,主界面进入<color=#00ff00>"+e+"</color>玩法</outline>"}}r._RF.pop()}}}));

System.register("chunks:///_virtual/SubGamesView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameConfig.ts","./ViewBase.ts","./SubGameData.ts","./UI_SubGames.ts"],(function(t){var e,n,i,s,r,a,u,o,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.SubGameConfig},function(t){u=t.ViewBase},function(t){o=t.SubGameData},function(t){c=t.default}],execute:function(){r._RF.push({},"51119LDcA9BDojDeGn+ptlk","SubGamesView",void 0);t("SubGamesView",function(t){function r(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).data=void 0,e}e(r,t);var u=r.prototype;return u.renderItem=function(t,e){var n=this,i=this.data[t],s=i.id;e.clearClick(),e.onClick((function(){n.hide(),o.loadSubGameData(s)})),e.data=s,e.title=i.name,e.setIcon(i.icon)},u._preShowAnim=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.data=a.dataList.filter((function(t){return 1==t.enabled&&t.slot<0})),this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderItem.bind(this),this.ui.m_list.numItems=this.data.length;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.refreshUI=function(){this.ui.m_list.numItems=this.data.length},u._afterShowAnim=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_btn_close.onClick(this.hide,this);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u._preHideAnim=function(){},u._afterHideAnim=function(){},n(r,null,[{key:"instance",get:function(){return this._getInstance(r,c)}}]),r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/SubLevelsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./ViewBase.ts","./YT.ts","./UI_SubLevels.ts"],(function(t){var e,n,r,i,a,s,c,o,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){s=t.Awaiters},function(t){c=t.ViewBase},function(t){o=t.YT},function(t){u=t.default}],execute:function(){a._RF.push({},"20d612iPVJICIlW00SxtpWw","SubLevelsView",void 0);t("SubLevelsView",function(t){function a(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).data=void 0,e}e(a,t);var c=a.prototype;return c._preShowAnim=function(){var t=r(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.data=this._uiParam,this.ui.m_btn_close.onClick(this.hide,this),this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderList.bind(this),this.refresh();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.renderList=function(t,e){var n=this,r=this.data[t];e.m_txt_name.text=r.gameName,e.m_txt_lv.text=r.levelName||"第"+r.level+"关",e.m_btnUnlock.visible=!this.isSubUnlock(r),e.m_icon.icon=r.icon,e.m_btnStart.clearClick(),e.m_btnStart.onClick((function(){return n._onClickStartBtn(r.gameId,r.level)})),e.m_btnUnlock.clearClick(),this.isSubUnlock(r)?e.m_btnUnlock.visible=!1:(e.m_btnUnlock.onClick(this.onClickUnlock.bind(this,r)),e.m_btnUnlock.m_txt_cnt.text=o.data.subData.getUnlockProgress(r.gameId,r.level)+"/"+r.ad)},c.onClickUnlock=function(){var t=r(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.game.watchAD("副玩法解锁"+e.gameName+"-lv"+e.level);case 2:if(!t.sent){t.next=6;break}o.data.subData.addUnlockProgress(e.gameId,e.level)>=e.ad&&o.data.subData.unlockLevel(e.gameId,e.level),this.refresh();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.isSubUnlock=function(t){var e=o.data.subData;return 0==t.ad?(o.data.subData.unlockLevel(t.gameId,t.level),!0):e.checkUnlockLevel(t.gameId,t.level)},c.refresh=function(){var t=r(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_list.numItems=this.data.length;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onHide=function(){},c.onDestroy=function(){},c._onClickStartBtn=function(){var t=r(i().mark((function t(e,n){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.hide(),o.gui.lockScreen(),t.next=4,s.Seconds(.5);case 4:r=e,a=n,o.logic.onEnterMoreGame(r,a),o.gui.unlockScreen();case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),c._afterShowAnim=function(){var t=r(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c._preHideAnim=function(){},c._afterHideAnim=function(){},n(a,null,[{key:"instance",get:function(){return this._getInstance(a,u)}}]),a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/SzAudioConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("SzAudioConfig",void 0),t._RF.push({},"0d2f7fn3tdPsr45hfOyCpQg","SzAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/SzAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("SzAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SzConst.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){var n;t("SzConst",void 0),o._RF.push({},"3ecadcf8E9HAIFaCxUjNqmB","SzConst",void 0),function(t){t.config=function(){this.role_move_speed=void 0,this.camera_follow_speed=void 0};t.isConst=!0,t.path="config/SzConst",t.extPath=void 0,t.data=null}(n||(n=t("SzConst",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/SzDiceConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("SzDiceConfig",void 0),t._RF.push({},"914d2hb5VpHuoXcghdUFfSc","SzDiceConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.multi_value=void 0};i.isConst=!1,i.path="config/SzDiceConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("SzDiceConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SzEffectConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("SzEffectConfig",void 0),i._RF.push({},"ae70eQR4XxL75pQ2CVIjEqv","SzEffectConfig",void 0),function(t){t.config=function(){this.id=void 0,this.type=void 0,this.path=void 0,this.bundle=void 0,this.anim=void 0,this.time=void 0,this.need_preload=void 0};t.isConst=!1,t.path="config/SzEffectConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(n||(n=t("SzEffectConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/SzEnemyConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("SzEnemyConfig",void 0),t._RF.push({},"0abdbW8xaxIp7A/8pl3GfCX","SzEnemyConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.desc=void 0,this.type=void 0,this.hpMax=void 0,this.atk=void 0,this.moveSpeed=void 0,this.atkSpeed=void 0,this.atkRange=void 0,this.bulletSpeed=void 0,this.backSpeedRate=void 0,this.model=void 0,this.bullet=void 0,this.bullet2=void 0,this.dialog=void 0};i.isConst=!1,i.path="config/SzEnemyConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("SzEnemyConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SZLBattleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./GameStateBase.ts","./BattleView3.ts","./AudioManager2.ts","./BattleManager2.ts","./screenShaker3.ts","./util3.ts","./shoudaqiaoBinder.ts","./LoadingManager.ts","./LoadUIPack.ts"],(function(t){var n,e,a,i,o,r,s,u,c,f,l,d,h,p,v;return{setters:[function(t){n=t.inheritsLoose,e=t.createForOfIteratorHelperLoose,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){r=t.YT},function(t){s=t.GameStateBase},function(t){u=t.BattleView},function(t){c=t.default},function(t){f=t.default},function(t){l=t.ScreenShaker},function(t){d=t.clearWindows},function(t){h=t.default},function(t){p=t.LoadingManager},function(t){v=t.LoadUIPack}],execute:function(){o._RF.push({},"8ec38OWpW1JA4FB5BN5nFW3","SZLBattleState",void 0);t("default",function(t){function o(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this)._viewName="Battle",n._viewPacks=["shoudaqiao@shoudaqiao_res","shoudaqiao@shoudaqiao_plants","shoudaqiao@shoudaqiao_level","shoudaqiao@shoudaqiao"],n._viewBinders=[h],n._configBundle="shoudaqiao",n.view=void 0,n._uiPacks=[],n}n(o,t);var s=o.prototype;return s._onPreEnter=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.update=function(t,n){},s.lateUpdate=function(t,n){},s._loadUIPackage=function(){for(var t,n=[],a=e(this._viewPacks);!(t=a()).done;){var i=t.value.split("@");n.push(new v(i[1],i[0]))}return this._uiPacks=n,new Promise((function(t){p.instance.loadUIPackages((function(){t()}),n)}))},s._afterSceneLoaded=function(){},s._doEnterState=function(){var t=a(i().mark((function t(){var n=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.instance.init(r.gui._camera),f.inst.init(),f.inst.isDragon=!1,f.inst.level=n.length<=1?void 0:n[1],this.view=u.inst,this.view.show(),r.audio.stopMusic(),c.inst.playMusic("battle");case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onBindUI=function(){h.bindAll()},s._getPreloads=function(t){},s.otherLoadAssets=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._doDestroy=function(){var t=a(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(n=this.view)||n.hide(),null==(e=c.inst.bgm)||e.destroy(),d(),this._uiPacks.forEach((function(t){return t.removePackage()})),this._uiPacks=[];case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/SZLBattleState2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./GameStateBase.ts","./LoadingManager.ts","./LoadUIPack.ts","./shoudaqiao2Binder.ts","./BattleView22.ts","./AudioManager22.ts","./BattleManager22.ts","./screenShaker22.ts","./util22.ts"],(function(t){var n,e,a,i,o,r,s,u,c,f,l,d,h,p,v;return{setters:[function(t){n=t.inheritsLoose,e=t.createForOfIteratorHelperLoose,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){r=t.YT},function(t){s=t.GameStateBase},function(t){u=t.LoadingManager},function(t){c=t.LoadUIPack},function(t){f=t.default},function(t){l=t.BattleView},function(t){d=t.default},function(t){h=t.default},function(t){p=t.ScreenShaker},function(t){v=t.clearWindows}],execute:function(){o._RF.push({},"5bf39Qj8O1KQpZSrMNxEitt","SZLBattleState2",void 0),t("default",function(t){function o(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this)._viewName="Battle",n._viewPacks=["shoudaqiao_2@shoudaqiao2_res","shoudaqiao_2@shoudaqiao2_plants","shoudaqiao_2@shoudaqiao2_level","shoudaqiao_2@shoudaqiao2"],n._viewBinders=[f],n._configBundle="shoudaqiao_2",n.view=void 0,n._uiPacks=[],n._sceneName="Game",n._sceneBundle="shoudaqiao_2",n}n(o,t);var s=o.prototype;return s._onPreEnter=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.Ins=this;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.update=function(t,n){},s.lateUpdate=function(t,n){},s._loadUIPackage=function(){for(var t,n=[],a=e(this._viewPacks);!(t=a()).done;){var i=t.value.split("@");n.push(new c(i[1],i[0]))}return this._uiPacks=n,new Promise((function(t){u.instance.loadUIPackages((function(){t()}),n)}))},s._afterSceneLoaded=function(){},s._doEnterState=function(){var t=a(i().mark((function t(){var n=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.instance.init(r.gui._camera),h.inst.init(),h.inst.isDragon=!1,h.inst.level=n.length<=1?void 0:n[1],this.view=l.inst,this.view.show(),r.audio.stopMusic(),d.inst.playMusic("battle");case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._onBindUI=function(){f.bindAll()},s._getPreloads=function(t){},s.otherLoadAssets=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s._doDestroy=function(){var t=a(i().mark((function t(){var n,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(n=this.view)||n.hide(),null==(e=d.inst.bgm)||e.destroy(),v(),this._uiPacks.forEach((function(t){return t.removePackage()})),this._uiPacks=[];case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(s)).Ins=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/SzLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("SzLevelConfig",void 0),t._RF.push({},"c6cd5cGs6dMMaN5zym4nu+l","SzLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.outline=void 0,this.level_path=void 0,this.dice_id=void 0,this.dice_cnt=void 0,this.dice_cnt=void 0,this.start_time=void 0,this.ad=void 0};i.isConst=!1,i.path="config/SzLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("SzLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/SzTypesConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("SzTypesConfig",void 0),t._RF.push({},"17da6Bgl+1O+JnNB47qUZwF","SzTypesConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.type_value=void 0,this.show_value=void 0,this.check_type=void 0,this.damage=void 0,this.multi=void 0};i.isConst=!1,i.path="config/SzTypesConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("SzTypesConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/tangpingBinder.ts",["cc","./fairygui.mjs","./UI_Shop.ts","./UI_shopTopBtn.ts","./UI_buyBtn.ts","./UI_shopItem.ts","./UI_upgradeItem.ts","./UI_Upgrade.ts","./UI_DoorAD.ts","./UI_commonBtn.ts"],(function(t){var n,e,o,s,u,i,c,f,a,U;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){o=t.default},function(t){s=t.default},function(t){u=t.default},function(t){i=t.default},function(t){c=t.default},function(t){f=t.default},function(t){a=t.default},function(t){U=t.default}],execute:function(){n._RF.push({},"13badunZj9OvJGedq8Dzo5r","tangpingBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(o.URL,o),e.setExtension(s.URL,s),e.setExtension(u.URL,u),e.setExtension(i.URL,i),e.setExtension(c.URL,c),e.setExtension(f.URL,f),e.setExtension(a.URL,a),e.setExtension(U.URL,U)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TaskConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("TaskConfig",void 0),t._RF.push({},"c4478QX3+ZG4og9m8FjBT60","TaskConfig",void 0),function(i){i.config=function(){this.id=void 0,this.des=void 0,this.condition=void 0,this.num=void 0,this.reward=void 0,this.reward_count=void 0};i.isConst=!1,i.path="config/TaskConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("TaskConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TaskView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RewardConfig.ts","./TaskConfig.ts","./ViewBase.ts","./YT.ts","./UI_Task.ts"],(function(t){var e,i,a,n,s,r,o,u,d,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){r=t.RewardConfig},function(t){o=t.TaskConfig},function(t){u=t.ViewBase},function(t){d=t.YT},function(t){c=t.default}],execute:function(){s._RF.push({},"8a356lDn5VEWY7D16hDgdVs","TaskView",void 0);t("TaskView",function(t){function s(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).data=void 0,e.taskData=void 0,e.reward=void 0,e}e(s,t);var u=s.prototype;return u._preShowAnim=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ui.m_btn_close.onClick(this.hide,this),d.data.dailyData.taskP,this.data=r.dataList.filter((function(t){return 2==t.condition})),this.taskData=o.dataList,this.ui.m_list.setVirtual(),this.ui.m_list.itemRenderer=this.renderItem.bind(this),this.ui.m_list.numItems=this.taskData.length,this.ui.m_listUp.setVirtual(),this.ui.m_listUp.itemRenderer=this.renderUpItem.bind(this),this.ui.m_listUp.numItems=this.data.length,d.timer.addUpdate(this.refresh,this,1),this.refresh();case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.refresh=function(){var t=d.data.dailyData.taskP;this.data=r.dataList.filter((function(t){return 2==t.condition})),this.taskData=[].concat(o.dataList).sort((function(e,i){return t.indexOf(e.id)-t.indexOf(i.id)})),this.ui.m_list.numItems=this.taskData.length,this.ui.m_listUp.numItems=this.data.length,this.ui.m_txt_timer.text=this.getRemainingSecondsToday().toHHMMSS(),this.ui.m_progress.max=100,this.ui.m_progress.value=d.data.dailyData.taskProgress},u.getRemainingSecondsToday=function(){var t=new Date,e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);var i=e.getTime()-t.getTime();return Math.round(i)},u.renderUpItem=function(t,e){var i=this.data[t];e.title=i.num+"",e.clearClick(),d.data.dailyData.taskR.includes(i.id)?e.controllers[0].selectedIndex=2:d.data.dailyData.taskProgress>=i.num?(e.controllers[0].selectedIndex=1,e.onClick(this._onUp.bind(this,i))):e.controllers[0].selectedIndex=0},u._onUp=function(){var t=a(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.data.dailyData.taskR.push(e.id),d.data.addItemByItemId(e.reward_id,e.reward_count),this.refresh();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.renderItem=function(t,e){var i=this.taskData[t];e.m_txt_desc.text=i.des,e.m_txt_num.text=""+i.reward_count,e.m_progress.max=i.num,e.m_progress.value=d.data.getTaskProgress(i.condition),e.clearClick(),e.m_progress.value>=e.m_progress.max?d.data.dailyData.taskP.includes(i.id)?e.m_state.selectedIndex=2:(e.m_state.selectedIndex=1,e.onClick(this._onGet.bind(this,i))):e.m_state.selectedIndex=0},u._onGet=function(){var t=a(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.data.dailyData.taskP.push(e.id),d.data.dailyData.taskProgress+=e.reward_count,this.refresh();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u._afterShowAnim=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u._preHideAnim=function(){d.timer.removeUpdate(this.refresh,this)},u._afterHideAnim=function(){},i(s,null,[{key:"instance",get:function(){return this._getInstance(s,c)}}]),s}(u));s._RF.pop()}}}));

System.register("chunks:///_virtual/TfBuildingConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("TfBuildingConfig",void 0),t._RF.push({},"3e372ngEM1J/bMYpYlE9oO0","TfBuildingConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.unlockCost=void 0,this.unlockUnit=void 0,this.level1Cost=void 0,this.level1UnlockUnit=void 0,this.level2Cost=void 0,this.level2UnlockUnit=void 0,this.skillCD=void 0,this.skillDmg=void 0};i.isConst=!1,i.path="config/TfBuildingConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("TfBuildingConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TfConst.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var o;t("TfConst",void 0),n._RF.push({},"ba90ehFil9JJYd1qykGdQHu","TfConst",void 0),function(t){t.config=function(){this.hdPrice=void 0};t.isConst=!0,t.path="config/TfConst",t.extPath=void 0,t.data=null}(o||(o=t("TfConst",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/TfEnemyWaveConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("TfEnemyWaveConfig",void 0),t._RF.push({},"a8f33PNm1hDOJlBgRtV0Uhq","TfEnemyWaveConfig",void 0),function(i){i.config=function(){this.id=void 0,this.wave=void 0,this.levelId=void 0,this.entityIds=void 0,this.time=void 0};i.isConst=!1,i.path="config/TfEnemyWaveConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("TfEnemyWaveConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TfEntityConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("TfEntityConfig",void 0),t._RF.push({},"a128f8+90BLnpahYJtupt23","TfEntityConfig",void 0),function(i){i.config=function(){this.id=void 0,this.atkAudio=void 0,this.view=void 0,this.hp=void 0,this.atk=void 0,this.critRate=void 0,this.critDamage=void 0,this.attackType=void 0,this.searchDistance=void 0,this.attackValue2=void 0,this.attackSpeed=void 0,this.moveSpeed=void 0,this.dropCount=void 0,this.spawnSpeed=void 0,this.name=void 0,this.effectDes=void 0,this.iconPath=void 0,this.flyHeight=void 0,this.kRate=void 0,this.kNum=void 0,this.kRotateSpeed=void 0,this.kRadius=void 0,this.kAtk=void 0,this.kView=void 0};i.isConst=!1,i.path="config/TfEntityConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("TfEntityConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TfLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("TfLevelConfig",void 0),t._RF.push({},"be513rEvWxHqLRSp4BprSuF","TfLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.levelView=void 0,this.icon=void 0,this.ad=void 0,this.outline=void 0};i.isConst=!1,i.path="config/TfLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("TfLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TimeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,i=t.js,s=t.Component}],execute:function(){a._RF.push({},"3931enB+kZOHKv/swo4v0MD","TimeManager",void 0);var n=t("TimeHandler",function(){function t(){this._tick=void 0,this.temp=0,this._sid=void 0,this._callback=void 0,this._target=void 0,this._enable=void 0}t.Create=function(e,a,i){var s=this._pool.shift();return s||(s=new t),s._sid=++t._SSID,s._callback=e,s._target=a,s._enable=!0,s._tick=i,s};var e=t.prototype;return e.recover=function(){this._enable&&(this._callback=null,this._target=null,this._enable=!1,t._pool.push(this))},e.apply=function(t){this._tick?(this.temp+=t,this.temp>=this._tick&&(this.temp=0,this._callback.call(this._target,this._tick))):this._callback.call(this._target,t)},e.equals=function(t,e){return!(!this._enable||this._callback!=t||this._target!=e)},t}());n._SSID=0,n._pool=[];t("TimeManager",function(t){function a(){for(var e,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._updates=[],e._lateUpdates=[],e.auto=!1,e}e(a,t);var s=a.prototype;return s.addUpdate=function(t,e,a){void 0===e&&(e=this),this._updates.push(n.Create(t,e,a))},s.removeUpdate=function(t,e){var a;void 0===e&&(e=this);var s=0,n=this._updates.length;for(s=0;s<n;++s)if((a=this._updates[s]).equals(t,e))return a.recover(),void i.array.fastRemove(this._updates,a)},s.update=function(t){this.auto&&this.Update(t)},s.lateUpdate=function(t){this.auto&&this.LateUpdate(t)},s.Update=function(t){if(this._updates.length>0){var e=0;for(e=this._updates.length-1;e>=0;e--)this._updates[e].apply(t)}},s.addLateUpdate=function(t,e,a){this._lateUpdates.push(n.Create(t,e,a))},s.removeLateUpdate=function(t,e){var a,s=0,n=this._lateUpdates.length;for(s=0;s<n;++s)if((a=this._lateUpdates[s]).equals(t,e))return a.recover(),void i.array.fastRemove(this._lateUpdates,a)},s.LateUpdate=function(t){if(this._lateUpdates.length>0){var e=0;for(e=this._lateUpdates.length-1;e>=0;e--)this._lateUpdates[e].apply(t)}},a}(s));a._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"6021fct1uhJsImEuhdFWC0f","Timer",void 0);e("Timer",function(){function e(e){void 0===e&&(e=0),this.callback=null,this._elapsedTime=0,this._step=-1,this.step=e}var s=e.prototype;return s.update=function(e){return!(this.step<=0)&&(this._elapsedTime+=e,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,null==(t=this.callback)||t.call(this),!0));var t},s.reset=function(){this._elapsedTime=0},s.stop=function(){this._elapsedTime=0,this.step=-1},t(e,[{key:"elapsedTime",get:function(){return this._elapsedTime}},{key:"step",get:function(){return this._step},set:function(e){this._step=e,this._elapsedTime=0}},{key:"progress",get:function(){return this._elapsedTime/this._step}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/TipsSubGameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBase.ts","./YT.ts","./UI_TipsSubGame.ts"],(function(t){var e,n,i,r,s,a,c,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){a=t.ViewBase},function(t){c=t.YT},function(t){o=t.default}],execute:function(){s._RF.push({},"6c61eTokHBKu44ye1FENldw","TipsSubGameView",void 0);t("TipsSubGameView",function(t){function s(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).gameId=void 0,e.cb=void 0,e}e(s,t);var a=s.prototype;return a._preShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.gameId=this._uiParam[0],this.cb=this._uiParam[1],this.ui.m_btn_close.onClick(this._clickHide,this),this.ui.m_btn_get.onClick(this._onGet,this),c.timer.addUpdate(this.refresh,this,1),this.refresh();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a._onGet=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.game.watchAD("提前进入副玩法");case 2:if(!t.sent){t.next=6;break}null==(e=this.cb)||e.call(this,!0),c.data.tryEnterSubGame(this.gameId,!0),this.hide();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.refresh=function(){var t=c.data.subData.getInfo(this.gameId),e=Date.now()-t.lastEnterTime;this.ui.m_text_des.text="<outline color=#000000 width=2>战斗准备中,[color=#Ff0000]"+(18e5-e).toHHMMSS()+"[/color]后开启。\n是否观看视频直接进入？</outline>"},a._clickHide=function(){var t;null==(t=this.cb)||t.call(this,!1),this.hide()},a._afterShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a._preHideAnim=function(){c.timer.removeUpdate(this.refresh,this)},a._afterHideAnim=function(){},n(s,null,[{key:"instance",get:function(){return this._getInstance(s,o)}}]),s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/TjsbLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("TjsbLevelConfig",void 0),t._RF.push({},"1031c9/5wFCqICQEvPEsC/c","TjsbLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.speed=void 0,this.ad=void 0,this.outline=void 0,this.level_path=void 0,this.weapon_id=void 0,this.start_time=void 0};i.isConst=!1,i.path="config/TjsbLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("TjsbLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TmHero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils4.ts","./RoleHeroAI4.ts","./RoleMonster4.ts"],(function(t){var e,i,o,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t.v3},function(t){r=t.ZDUtils4},function(t){s=t.RoleHeroAI},function(t){a=t.EBehaviorStatus}],execute:function(){i._RF.push({},"0fc36usiMZKE7E1O4yUMRlL","TmHero",void 0);var n=o();t("TmHero",function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).curFindTargetTime=0,e._behaviorStatus=void 0,e._moveTarget=void 0,e.randomMoveTime=0,e}e(i,t);var o=i.prototype;return o._updateMove=function(e){var i;if(t.prototype._updateMove.call(this,e),this._moveTarget&&this._moveTarget.enable&&r.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),Date.now()-this.curFindTargetTime>500){this.curFindTargetTime=Date.now();var o=this.curCtrl.getMinOpp(this.campType,this._position);if(o)if(o.curArea==this.curArea)this._moveTarget=o;else{this._moveTarget=null,this._behaviorStatus=a.MoveDir;var s=this.curCtrl.getAreaInfo(this.curArea),h=n.set(s.exitPos).subtract(this._position);this._moveDir.set(h.x,h.y).normalize()}else this._moveTarget=null}this._moveTarget||(this.randomMoveTime<=0?(this.randomMoveTime=5*Math.random()+3,this._moveDir.set(2*Math.random()-1,2*Math.random()-1),this._moveDir.normalize()):this.randomMoveTime-=e),this.judgeMoveRange(),null==(i=this._view)||i.setModelFlipX(this._moveDir.x>0)},o.judgeMoveRange=function(){this.pos.x>this.curCtrl.moveRangeTmHero.right&&(this._moveDir.x=-this._moveDir.x),this.pos.x<this.curCtrl.moveRangeTmHero.left&&(this._moveDir.x=-this._moveDir.x),this.pos.y>this.curCtrl.moveRangeTmHero.top&&(this._moveDir.y=-this._moveDir.y),this.pos.y<this.curCtrl.moveRangeTmHero.bottom&&(this._moveDir.y=-this._moveDir.y)},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/TmHero5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils5.ts","./RoleHeroAI5.ts","./RoleMonster5.ts"],(function(t){var e,i,o,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t.v3},function(t){r=t.ZDUtils4},function(t){s=t.RoleHeroAI},function(t){a=t.EBehaviorStatus}],execute:function(){i._RF.push({},"15a9d95ETpBTJRUunQiwo7R","TmHero5",void 0);var n=o();t("TmHero",function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).curFindTargetTime=0,e._behaviorStatus=void 0,e._moveTarget=void 0,e.randomMoveTime=0,e}e(i,t);var o=i.prototype;return o._updateMove=function(e){var i;if(t.prototype._updateMove.call(this,e),this._moveTarget&&this._moveTarget.enable&&r.getPositionVector(this.pos,this._moveTarget.pos,this._moveDir),Date.now()-this.curFindTargetTime>500){this.curFindTargetTime=Date.now();var o=this.curCtrl.getMinOpp(this.campType,this._position);if(o)if(o.curArea==this.curArea)this._moveTarget=o;else{this._moveTarget=null,this._behaviorStatus=a.MoveDir;var s=this.curCtrl.getAreaInfo(this.curArea),h=n.set(s.exitPos).subtract(this._position);this._moveDir.set(h.x,h.y).normalize()}else this._moveTarget=null}this._moveTarget||(this.randomMoveTime<=0?(this.randomMoveTime=5*Math.random()+3,this._moveDir.set(2*Math.random()-1,2*Math.random()-1),this._moveDir.normalize()):this.randomMoveTime-=e),this.judgeMoveRange(),null==(i=this._view)||i.setModelFlipX(this._moveDir.x>0)},o.judgeMoveRange=function(){this.pos.x>this.curCtrl.moveRangeTmHero.right&&(this._moveDir.x=-this._moveDir.x),this.pos.x<this.curCtrl.moveRangeTmHero.left&&(this._moveDir.x=-this._moveDir.x),this.pos.y>this.curCtrl.moveRangeTmHero.top&&(this._moveDir.y=-this._moveDir.y),this.pos.y<this.curCtrl.moveRangeTmHero.bottom&&(this._moveDir.y=-this._moveDir.y)},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/ToastView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_Toast5.ts","./UI_view_toast.ts","./Awaiters.ts","./ViewBase.ts","./UI_ItemCoin.ts","./YT.ts"],(function(t){var e,n,r,o,i,a,s,c,u,l,f,h,p,d,_;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t.Node,s=t.v2,c=t.randomRange,u=t.tween},function(t){l=t.default},function(t){f=t.default},function(t){h=t.Awaiters},function(t){p=t.ViewBase},function(t){d=t.default},function(t){_=t.YT}],execute:function(){i._RF.push({},"933c5psNYVG4Zm6n7+tTdZB","ToastView",void 0);t("ToastView",function(t){function i(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this)._pool=[],e}e(i,t);var p=i.prototype;return p._preShowAnim=function(){_.game.node.on(a.EventType.SCENE_CHANGED_FOR_PERSISTS,this.refresh,this)},p._afterShowAnim=function(){},p._preHideAnim=function(){},p._afterHideAnim=function(){},p.addToast=function(){var t=r(o().mark((function t(e){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,(i=(r=this)._pool.shift())||(i=f.createInstance()),i.m_content.text=n,t.next=7,h.NextFrame();case 7:r._ui.m_list.addChild(i),i.m_show.play((function(){i.removeFromParent(),r._pool.push(i)}));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),p.refresh=function(){var t=r(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error("场景切换"),t.next=3,h.NextFrame();case 3:for(;this._ui.m_list._children.length>0;)this._ui.m_list._children.forEach((function(t){t.removeFromParent(),e._pool.push(t)}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p.FlyCoins=function(){var t=r(o().mark((function t(e,n,r,i,a,l){var f,p,_,m,v,w,x=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=null),void 0===i&&(i=30),void 0===a&&(a=1),void 0===l&&(l=200),f=e?e.localToGlobal():this.ui.localToGlobal().add(s(this.ui.width/2,this.ui.height/2)),p=n.localToGlobal(),_=.6*a,m=.4*a,v=o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=d.createInstance(),x.ui.addChild(e),e.icon=r,e.setPosition(f.x,f.y),n=s(f.x+c(-l,l),f.y+c(-l,l)),u(e).to(_,{x:n.x,y:n.y},{easing:"quadInOut",onComplete:function(){u(e).to(m,{x:p.x,y:p.y},{easing:"quadInOut",onComplete:function(){e.dispose()}}).start()}}).start();case 6:case"end":return t.stop()}}),t)})),w=0;case 10:if(!(w<i)){t.next=15;break}return t.delegateYield(v(),"t0",12);case 12:++w,t.next=10;break;case 15:return t.next=17,h.Seconds(a);case 17:case"end":return t.stop()}}),t,this)})));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}(),n(i,null,[{key:"instance",get:function(){return this._getInstance(i,l,1)}}]),i}(p));i._RF.pop()}}}));

System.register("chunks:///_virtual/TouchLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./BattleState.ts"],(function(t){var e,i,o,n,s,a,r,_,c,h,p,u,l,y,v,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Camera,_=t.Node,c=t.Vec2,h=t.Vec3,p=t.KeyCode,u=t.input,l=t.Input,y=t.Component},function(t){v=t.YT},function(t){T=t.BattleState}],execute:function(){var d,f,E,M,C,P,m,k,K;s._RF.push({},"eec6e2qp4RN1LakWZKMqftr","TouchLayer",void 0);var D=a.ccclass,Y=a.property,b=(t("TouchLayer",(d=D("TouchLayer"),f=Y({type:r,displayName:"相机",visible:!0}),E=Y({type:_,displayName:"转盘1",visible:!0}),M=Y({type:_,displayName:"转盘2",visible:!0}),d((m=e((P=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"_camera",m,n(e)),o(e,"_stick1",k,n(e)),o(e,"_stick2",K,n(e)),e._pos=new h,e._startPos=new c,e._movePos=new c,e._dragDir=new c,e._dirMap={},e._enter=void 0,e}i(e,t);var s=e.prototype;return s.start=function(){this._enter=!1},s.enter=function(){var t=this;this._enter=!0,this.node.on(_.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(_.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(_.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(_.EventType.TOUCH_CANCEL,this._onTouchCancel,this),v.isGM&&(this._dirMap[p.KEY_W]=!1,this._dirMap[p.KEY_S]=!1,this._dirMap[p.KEY_A]=!1,this._dirMap[p.KEY_D]=!1,u.on(l.EventType.KEY_DOWN,(function(e){if(null!=t._dirMap[e.keyCode])t._dirMap[e.keyCode]=!0,t._onDirKeyEvent();else switch(e.keyCode){case p.SPACE:t._onPauseEvent()}})),u.on(l.EventType.KEY_UP,(function(e){null!=t._dirMap[e.keyCode]?(t._dirMap[e.keyCode]=!1,t._onDirKeyEvent()):e.keyCode})))},s.leave=function(){this._enter=!1,this.node.off(_.EventType.TOUCH_START,this._onTouchBegin,this),this.node.off(_.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(_.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(_.EventType.TOUCH_CANCEL,this._onTouchCancel,this),v.isGM&&(u.off(l.EventType.KEY_DOWN),u.off(l.EventType.KEY_UP)),this._stick1.active=!1},s.onDestroy=function(){v.isGM&&(u.off(l.EventType.KEY_DOWN),u.off(l.EventType.KEY_UP))},s._onTouchBegin=function(t){t.getLocation(this._startPos),this._pos.set(this._startPos.x,this._startPos.y),this._camera.screenToWorld(this._pos,this._pos),this.node.uiTransform.convertToNodeSpaceAR(this._pos,this._pos),this._stick1.setPosition(this._pos.x,this._pos.y),this._stick2.setPosition(0,0),this._stick1.active=!0},s._onTouchMove=function(t){t.getLocation(this._movePos);var e=c.distance(this._movePos,this._startPos),i=c.subtract(this._dragDir,this._movePos,this._startPos);i.normalize(),this._startMove(i.x,i.y),e>50&&(e=50);var o=i.x*e,n=i.y*e;this._stick2.setPosition(o,n)},s._onTouchEnd=function(t){this._cancelMove(),this._stick1.active=!1},s._onTouchCancel=function(t){this._cancelMove(),this._stick1.active=!1},s._onDirKeyEvent=function(){T.ins.isPause||(b.x=(this._dirMap[p.KEY_A]?-1:0)+(this._dirMap[p.KEY_D]?1:0),b.y=(this._dirMap[p.KEY_W]?1:0)+(this._dirMap[p.KEY_S]?-1:0),0==b.x&&0==b.y?this._cancelMove():(0!=b.x&&0!=b.y&&b.multiplyScalar(.5),b.normalize(),this._startMove(b.x,b.y)))},s._onPauseEvent=function(){T.ins.isPause?T.ins.resume():T.ins.pause()},s._startMove=function(t,e){this._enter&&T.ins.control.playerStartMove(t,e)},s._cancelMove=function(){this._enter&&T.ins.control.playerCancelMove()},e}(y)).prototype,"_camera",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(P.prototype,"_stick1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(P.prototype,"_stick2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=P))||C)),new c);s._RF.pop()}}}));

System.register("chunks:///_virtual/TowerBuildingCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./MainConst.ts","./BattleState.ts","./RoleBuildingBaseCmp.ts"],(function(e){var t,i,n,r,o,l,a,s,c,u,p,f,d,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Sprite},function(e){c=e.ViewUtil},function(e){u=e.UIHelper},function(e){p=e.MAIN_PREFABS,f=e.MAIN_BUNDLE},function(e){d=e.BattleState},function(e){_=e.RoleBuildingBaseCmp}],execute:function(){var g,h,v,B,m;l._RF.push({},"6f6dbSqkrxLj6cfjoEVTT4Q","TowerBuildingCmp",void 0);var y=a.ccclass,S=a.property;e("TowerBuildingCmp",(g=y("TowerBuildingCmp"),h=S({type:s,displayName:"图标",visible:!0}),g((m=t((B=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_iconSpr",m,r(t)),t._firePos=void 0,t}i(t,e),t.Create=function(e){var i=c.createPrefabNode(p.BuildingTower,f);i.parent=d.ins.control.runTimeData.levelControl.view.roleRoot;var n=i.getComponent(t);return n._init(e),n};var l=t.prototype;return l._init=function(e){u.changeSpriteFrame(e,f,this._iconSpr)},l.update=function(e){},l.setModelScale=function(e,t){var i;null==(i=this._viewRoot)||i.setScale(e,t)},l.updateHpPercent=function(e){},o(t,[{key:"firePos",get:function(){return this._firePos||(this._firePos=this.node.getChildByName("_ATK_POS").getWorldPosition()),this._firePos}}]),t}(_)).prototype,"_iconSpr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=B))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/TowerCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst.ts","./ZDGameState.ts","./RoleShadowCmp.ts"],(function(e){var t,i,o,n,r,a,s,c,l,u,h,p,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.Node,l=e.Sprite},function(e){u=e.ViewUtil},function(e){h=e.ZD_RES_PREFABS,p=e.ZD_BUNDLE},function(e){d=e.ZDGameState},function(e){f=e.RoleShadowCmp}],execute:function(){var w,_,y,m,v,S,g;a._RF.push({},"c1e0c6qyehJcbcQkvjeCDey","TowerCmp",void 0);var C=s.ccclass,b=s.property;e("TowerCmp",(w=C("TowerCmp"),_=b({type:c,displayName:"图标节点",visible:!0}),y=b({type:l,displayName:"阴影",visible:!0}),w((S=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_iconNode",S,n(t)),o(t,"_shadow",g,n(t)),t._firePos=void 0,t}i(t,e),t.Create=function(){var e=u.createPrefabNode(h.TOWER_VIEW,p);e.parent=d.runtime.ui.roleRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){this._shadow&&this._setShadowNode(this._shadow.node),this._firePos=this.node.getChildByName("_ATK_POS").getPosition()},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=d.runtime.ui.roleRoot},a.update=function(e){},a.setModelScale=function(e,t){var i;null==(i=this._viewRoot)||i.setScale(e,t)},r(t,[{key:"firePos",get:function(){return this._firePos}}]),t}(f)).prototype,"_iconNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(v.prototype,"_shadow",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/TowerCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst3.ts","./ZDGameState3.ts","./RoleShadowCmp3.ts"],(function(e){var t,i,o,n,r,a,s,l,c,u,p,h,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Node,c=e.Sprite},function(e){u=e.ViewUtil},function(e){p=e.ZD_RES_PREFABS,h=e.ZD_BUNDLE},function(e){d=e.ZDGameState3},function(e){f=e.RoleShadowCmp3}],execute:function(){var w,_,y,m,v,S,g;a._RF.push({},"4a2d1X0SyxBcZu5TZ4J+2Y7","TowerCmp3",void 0);var C=s.ccclass,b=s.property;e("TowerCmp3",(w=C("TowerCmp3"),_=b({type:l,displayName:"图标节点",visible:!0}),y=b({type:c,displayName:"阴影",visible:!0}),w((S=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_iconNode",S,n(t)),o(t,"_shadow",g,n(t)),t._firePos=void 0,t}i(t,e),t.Create=function(){var e=u.createPrefabNode(p.TOWER_VIEW,h);e.parent=d.runtime.ui.roleRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){this._shadow&&this._setShadowNode(this._shadow.node),this._firePos=this.node.getChildByName("_ATK_POS").getPosition()},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=d.runtime.ui.roleRoot},a.update=function(e){},a.setModelScale=function(e,t){var i;null==(i=this._viewRoot)||i.setScale(e,t)},r(t,[{key:"firePos",get:function(){return this._firePos}}]),t}(f)).prototype,"_iconNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(v.prototype,"_shadow",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/TowerCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst4.ts","./ZDGameState4.ts","./RoleShadowCmp4.ts"],(function(e){var t,i,o,n,r,a,s,l,c,u,p,h,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Node,c=e.Sprite},function(e){u=e.ViewUtil},function(e){p=e.ZD_RES_PREFABS,h=e.ZD_BUNDLE},function(e){d=e.ZDGameState4},function(e){f=e.RoleShadowCmp4}],execute:function(){var w,_,m,y,v,g,S;a._RF.push({},"bfd18P4CDxF3IG+Av0gXz0g","TowerCmp4",void 0);var C=s.ccclass,b=s.property;e("TowerCmp4",(w=C("TowerCmp4"),_=b({type:l,displayName:"图标节点",visible:!0}),m=b({type:c,displayName:"阴影",visible:!0}),w((g=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_iconNode",g,n(t)),o(t,"_shadow",S,n(t)),t._firePos=void 0,t}i(t,e),t.Create=function(){var e=u.createPrefabNode(p.TOWER_VIEW,h);e.parent=d.runtime.ui.roleRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){this._shadow&&this._setShadowNode(this._shadow.node),this._firePos=this.node.getChildByName("_ATK_POS").getPosition()},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=d.runtime.ui.roleRoot},a.update=function(e){},a.setModelScale=function(e,t){var i;null==(i=this._viewRoot)||i.setScale(e,t)},r(t,[{key:"firePos",get:function(){return this._firePos}}]),t}(f)).prototype,"_iconNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(v.prototype,"_shadow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/TowerCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWTTools.ts","./ViewUtil.ts","./ZDConst5.ts","./ZDGameState5.ts","./RoleShadowCmp5.ts"],(function(e){var t,i,o,n,r,a,s,d,l,c,h,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,d=e.Sprite},function(e){l=e.ZWTTools},function(e){c=e.ViewUtil},function(e){h=e.ZD_BUNDLE},function(e){u=e.ZDGameState5},function(e){p=e.RoleShadowCmp5}],execute:function(){var f,w,m,y,N,v,_;r._RF.push({},"53a8dY1kf1AGKRK0HI0wsb5","TowerCmp5",void 0);var b=a.ccclass,C=a.property;e("TowerCmp5",(f=b("TowerCmp5"),w=C({type:s,displayName:"图标节点",visible:!0}),m=C({type:d,displayName:"阴影",visible:!0}),f((v=t((N=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_iconNode",v,n(t)),o(t,"_shadow",_,n(t)),t.firePosNode=void 0,t.headNode=void 0,t.atkAnimNode=void 0,t}i(t,e),t.Create=function(e){var i=c.createPrefabNode("prefab/tower/"+e,h);i.parent=u.runtime.ui.roleRoot;var o=i.getComponent(t);return o._init(),o};var r=t.prototype;return r._init=function(){this._shadow&&this._setShadowNode(this._shadow.node),this.firePosNode=l.findChildByName(this.node,"_ATK_POS"),this.headNode=l.findChildByName(this.node,"head"),this.atkAnimNode=l.findChildByName(this.node,"atkAnimNode")},r.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},r.showView=function(){e.prototype.showView.call(this),this.node.parent=u.runtime.ui.roleRoot},r.update=function(e){},r.setModelScale=function(e,t){var i;null==(i=this._viewRoot)||i.setScale(e,t)},t}(p)).prototype,"_iconNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(N.prototype,"_shadow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=N))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/TowerCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst6.ts","./ZDGameState6.ts","./RoleShadowCmp6.ts"],(function(e){var t,i,o,n,r,a,s,c,l,u,p,h,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.Node,l=e.Sprite},function(e){u=e.ViewUtil},function(e){p=e.ZD_RES_PREFABS,h=e.ZD_BUNDLE},function(e){d=e.ZDGameState6},function(e){f=e.RoleShadowCmp6}],execute:function(){var w,_,m,y,v,S,g;a._RF.push({},"9197ceNG3BIFK2vcMxjcZ6K","TowerCmp6",void 0);var C=s.ccclass,b=s.property;e("TowerCmp6",(w=C("TowerCmp6"),_=b({type:c,displayName:"图标节点",visible:!0}),m=b({type:l,displayName:"阴影",visible:!0}),w((S=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_iconNode",S,n(t)),o(t,"_shadow",g,n(t)),t._firePos=void 0,t}i(t,e),t.Create=function(){var e=u.createPrefabNode(p.TOWER_VIEW,h);e.parent=d.runtime.ui.roleRoot;var i=e.getComponent(t);return i._init(),i};var a=t.prototype;return a._init=function(){this._shadow&&this._setShadowNode(this._shadow.node),this._firePos=this.node.getChildByName("_ATK_POS").getPosition()},a.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width*this.node.scale.x,e.height=t.height*this.node.scale.y},a.showView=function(){e.prototype.showView.call(this),this.node.parent=d.runtime.ui.roleRoot},a.update=function(e){},a.setModelScale=function(e,t){var i;null==(i=this._viewRoot)||i.setScale(e,t)},r(t,[{key:"firePos",get:function(){return this._firePos}}]),t}(f)).prototype,"_iconNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(v.prototype,"_shadow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/TowerLockUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(c){var i,t,n,o;return{setters:[function(c){i=c.inheritsLoose},function(c){t=c.cclegacy,n=c._decorator,o=c.Component}],execute:function(){var e;t._RF.push({},"cc374se7UVC3IrHZmxCh/v8","TowerLockUI",void 0);var l=n.ccclass;n.property,c("TowerLockUI",l("TowerLockUI")(e=function(c){function t(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=c.call.apply(c,[this].concat(n))||this).clickCall=void 0,i}i(t,c);var n=t.prototype;return n.init=function(c){this.clickCall=c},n.show=function(){this.node.active=!0},n.hide=function(){this.node.active=!1},n.arrowClick=function(){this.clickCall(101)},n.fireClick=function(){this.clickCall(201)},n.iceClick=function(){this.clickCall(301)},n.lightningClick=function(){this.clickCall(401)},t}(o))||e);t._RF.pop()}}}));

System.register("chunks:///_virtual/TowerUpTipsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a,l,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,p=e.Label,c=e.Component}],execute:function(){var s,u,d,f,y,N,h;o._RF.push({},"9a07fxC5N1OILNf8T/dydtH","TowerUpTipsUI",void 0);var g=a.ccclass,T=a.property;e("TowerUpTipsUI",(s=g("TowerUpTipsUI"),u=T(l),d=T(l),s((N=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"animNode",N,r(t)),n(t,"needNode",h,r(t)),t}return i(t,e),t.prototype.setNeedInfo=function(e){if(e.upId){this.needNode.active=!0;var t=e.upPrice;this.needNode.getChildByName("label").getComponent(p).string="需要"+t.toString()}else this.needNode.active=!1},t}(c)).prototype,"animNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(y.prototype,"needNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/TowerUpUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,n,c,o,l,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,l=e.Label,a=e.Component}],execute:function(){var s,p,u,h,f;c._RF.push({},"e6ed7CVmOlJ8rJTxOPage+A","TowerUpUI",void 0);var d=o.ccclass,v=o.property;e("TowerUpUI",(s=d("TowerUpUI"),p=v(l),s((f=i((h=function(e){function i(){for(var i,t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];return i=e.call.apply(e,[this].concat(c))||this,r(i,"priceLabel",f,n(i)),i.clickCall=void 0,i}t(i,e);var c=i.prototype;return c.init=function(e){this.clickCall=e},c.show=function(e){this.node.active=!0,this.priceLabel.string=e.toString()},c.hide=function(){this.node.active=!1},c.cancelClick=function(){this.hide()},c.upClick=function(){this.clickCall(),this.hide()},i}(a)).prototype,"priceLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=h))||u));c._RF.pop()}}}));

System.register("chunks:///_virtual/TpConst.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var o;t("TpConst",void 0),n._RF.push({},"d3f5dCes6xFMrwA/fVxQTTf","TpConst",void 0),function(t){t.config=function(){this.gachaItems=void 0,this.startGameRandom=void 0,this.startGameRandomItems=void 0,this.shanhongHp=void 0};t.isConst=!0,t.path="config/TpConst",t.extPath=void 0,t.data=null}(o||(o=t("TpConst",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/TpEnemyConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("TpEnemyConfig",void 0),t._RF.push({},"427afRozxlFa5jZMrvKhO8P","TpEnemyConfig",void 0),function(i){i.config=function(){this.id=void 0,this.view=void 0,this.name=void 0,this.hp=void 0,this.atk=void 0,this.as=void 0,this.ar=void 0,this.speed=void 0,this.isBoss=void 0,this.audioId=void 0};i.isConst=!1,i.path="config/TpEnemyConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("TpEnemyConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TpEnemyWaveConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("TpEnemyWaveConfig",void 0),t._RF.push({},"4adaeHZK8lEjo8+Ly7A6p20","TpEnemyWaveConfig",void 0),function(i){i.config=function(){this.id=void 0,this.levelId=void 0,this.enemyId=void 0,this.count=void 0,this.road=void 0,this.startTime=void 0,this.dur=void 0};i.isConst=!1,i.path="config/TpEnemyWaveConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("TpEnemyWaveConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TpEntityConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("TpEntityConfig",void 0),t._RF.push({},"c4c2dVwNlFOEbUIJLXmK7I5","TpEntityConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.nextId=void 0,this.levelCond=void 0,this.icon=void 0,this.view=void 0,this.bulletView=void 0,this.info=void 0,this.gold=void 0,this.power=void 0,this.canRecycle=void 0,this.recycleGold=void 0,this.recyclePower=void 0,this.hp=void 0,this.atk=void 0,this.as=void 0,this.ar=void 0,this.contAtk=void 0,this.goldProd=void 0,this.powerProd=void 0,this.hpRegen=void 0,this.hpRegenPct=void 0,this.skillId=void 0,this.audioId=void 0};i.isConst=!1,i.path="config/TpEntityConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("TpEntityConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TpLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("TpLevelConfig",void 0),t._RF.push({},"0d37elzEYlCaJNt64hq6p0i","TpLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.levelView=void 0,this.icon=void 0,this.ad=void 0,this.outline=void 0};i.isConst=!1,i.path="config/TpLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("TpLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TpShopItemConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("TpShopItemConfig",void 0),t._RF.push({},"33390Jv2rpMA7JmmX64WGNb","TpShopItemConfig",void 0),function(i){i.config=function(){this.id=void 0,this.entityId=void 0,this.type=void 0,this.entityType=void 0,this.name=void 0,this.icon=void 0,this.info=void 0,this.priceType=void 0,this.price=void 0,this.buildCount=void 0,this.allCount=void 0};i.isConst=!1,i.path="config/TpShopItemConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("TpShopItemConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TpSkillConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("TpSkillConfig",void 0),t._RF.push({},"f55f8T1dTpFHaatzl7dbKTh","TpSkillConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.info=void 0,this.undefined=void 0,this.value1=void 0,this.value2=void 0,this.value3=void 0,this.cd=void 0};i.isConst=!1,i.path="config/TpSkillConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("TpSkillConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TrailManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,i,o,a,s,f,u,l,d,c,m,_;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,f=e.CCInteger,u=e.director,l=e.Director,d=e.gfx,c=e.renderer,m=e.RenderingSubMesh,_=e.Component}],execute:function(){var B,h,I,T,E,M,y;a._RF.push({},"d2ecbpAynZPDJU0P1y0yxPr","TrailManager",void 0);var g=s.ccclass,p=s.property,v=s.executionOrder;e("TrailManager",(B=g("TrailManager"),h=v(-1),I=p({type:f,displayName:"最大拖尾数量"}),B(T=h(((y=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,n(r,"maxTrailCount",M,i(r)),r._models={},r._modelIndexs={},r}t(r,e);var a=r.prototype;return a.onLoad=function(){r._instance=this,this.node.setPosition(0,0,0),u.on(l.EVENT_BEFORE_COMMIT,this.beforeRender,this)},a.getBufferIndex=function(e){return this._modelIndexs[e]},a.createModel=function(e,r,t){if(this._models[t.name])return this._modelIndexs[t.name]++,this._models[t.name];for(var n=new d.IndirectBuffer([new d.DrawInfo]),i=[new d.Attribute(d.AttributeName.ATTR_POSITION,d.Format.RGB32F),new d.Attribute(d.AttributeName.ATTR_TEX_COORD,d.Format.RG32F)],o=0,a=0,s=i;a<s.length;a++){var f=s[a];o+=d.FormatInfos[f.format].size}var l=e*r*this.maxTrailCount,_=(e-1)*(r-1)*2*this.maxTrailCount,B=u.root.device,h=B.createBuffer(new d.BufferInfo(d.BufferUsageBit.VERTEX|d.BufferUsageBit.TRANSFER_DST,d.MemoryUsageBit.HOST|d.MemoryUsageBit.DEVICE,o*l,o)),I=new ArrayBuffer(o*l),T=new Float32Array(I);h.update(I);var E=B.createBuffer(new d.BufferInfo(d.BufferUsageBit.INDEX|d.BufferUsageBit.TRANSFER_DST,d.MemoryUsageBit.HOST|d.MemoryUsageBit.DEVICE,3*_*Uint16Array.BYTES_PER_ELEMENT,Uint16Array.BYTES_PER_ELEMENT)),M=new Uint16Array(3*_);E.update(M);var y=B.createBuffer(new d.BufferInfo(d.BufferUsageBit.INDIRECT,d.MemoryUsageBit.HOST|d.MemoryUsageBit.DEVICE,d.DRAW_INFO_SIZE,d.DRAW_INFO_SIZE));n.drawInfos[0].vertexCount=l,n.drawInfos[0].indexCount=3*_,y.update(n);var g=u.root.createModel(c.scene.Model),p=new m([h],i,d.PrimitiveMode.TRIANGLE_STRIP,E,y);return g.initSubModel(0,p,t),g.node=g.transform=this.node,this._getRenderScene().addModel(g),this._models[t.name]={model:g,vertxBuffer:T,indexBuffer:M,iaInfo:n,iaInfoBuffer:y,faceCount:_,vertSize:o,subMeshData:p},this._modelIndexs[t.name]=0,this._initIBuffer(this.maxTrailCount,e,M),this._models[t.name]},a._initIBuffer=function(e,r,t){var n,i,o,a,s,f=0,u=0,l=r-1;for(f=0;f<e;++f)for(n=2*r*f,i=l*f*6,u=0;u<l;++u)a=(o=2*u+n)+2,t[(s=6*u+i)+0]=o,t[s+1]=o+1,t[s+2]=a+1,t[s+3]=a+1,t[s+4]=a,t[s+5]=o},a.onDestroy=function(){for(var e in r._instance=null,this._models){var t=this._models[e],n=t.model;n.scene&&n.scene.removeModel(n),t.subMeshData.destroy(),t.subMeshData=null,u.root.destroyModel(n),t.model=null,this._models[e]=null}this._models={},u.off(l.EVENT_BEFORE_COMMIT,this.beforeRender,this)},a.beforeRender=function(){for(var e in this._models){var r=this._models[e],t=r.model,n=t&&t.subModels;if(n&&n.length>0){var i=n[0];r.iaInfo;i.inputAssembler.vertexBuffers[0].update(r.vertxBuffer),i.inputAssembler.indexBuffer.update(r.indexBuffer)}}},o(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(_))._instance=null,M=r((E=y).prototype,"maxTrailCount",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),T=E))||T)||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/TrailRender.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrailManager.ts"],(function(t){var e,i,n,r,s,o,a,l,h,_,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,a=t._decorator,l=t.Vec3,h=t.Material,_=t.CCFloat,u=t.Component},function(t){c=t.TrailManager}],execute:function(){var p,d,f,v,m,b,y,x,g,C,F;o._RF.push({},"51117Y8lVNGtbYOWnXVkmYx","TrailRender",void 0);var w=a.ccclass,z=a.property,T=new l,I=new l,P=new l,D=new l,U=[1,-1],W=function(){function t(){this.position=new l,this.normal=new l,this._time=0}t.Create=function(e,i){var n=this._pool.shift();return n||(n=new t),n.record(e,i),n},t.Collect=function(t){t&&this._pool.push(t)},t.Collects=function(t){if(t&&t.length>0){var e=0,i=t.length;for(e=0;e<i;++e)this._pool.push(t[e]);t.splice(0)}};var e=t.prototype;return e.record=function(t,e){l.copy(this.position,t),this._time=e},e.setDir=function(t){var e=I;l.subtract(e,this.position,t.position),e.z=0,e.normalize(),this.normal.set(e.y,-e.x,0)},e.update=function(t){return this._time-=t,this.enable},s(t,[{key:"enable",get:function(){return this._time>0}}]),t}();W._pool=[];t("TrailRender",(p=z({type:h,displayName:"拖尾材质"}),d=z({serializable:!0,visible:!1}),f=z({serializable:!0,visible:!1}),v=z({type:_,displayName:"时长"}),m=z({type:_,displayName:"最大宽度"}),w((x=e((y=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"material",x,r(e)),n(e,"_time",g,r(e)),n(e,"_maxTrailCount",C,r(e)),n(e,"maxWidth",F,r(e)),e._vbF32=null,e._trailIndex=0,e._vertexStartIndex=0,e._created=!1,e._isUpdate=!1,e._prevPosition=new l,e._nodes=[],e}i(e,t);var o=e.prototype;return o.onDestroy=function(){W.Collects(this._nodes),this._vbF32=null,this._created=!1,this._isUpdate=!1},o._reset=function(){this.node.getWorldPosition(T);var t=T.x,e=T.y,i=T.z,n=0,r=0,s=this._maxTrailCount;for(n=0;n<s;++n)for(r=0;r<2;++r){var o=this._getVBIndex(n,r);this._vbF32[o+0]=t,this._vbF32[o+1]=e,this._vbF32[o+2]=i}this._nodes&&this._nodes.length>0&&W.Collects(this._nodes)},o._rebuild=function(){if(this.material){var t=c.instance.createModel(this._maxTrailCount,2,this.material);this._trailIndex=c.instance.getBufferIndex(this.material.name),this._vbF32=t.vertxBuffer;var e=2*this._maxTrailCount*this._trailIndex;this._vertexStartIndex=5*e,this.node.getWorldPosition(T);var i=T.x,n=T.y,r=T.z,s=0,o=0,a=this._maxTrailCount-1;for(s=0;s<=a;++s){var l=s/a;for(o=0;o<2;++o){var h=this._getVBIndex(s,o);this._vbF32[h+0]=i,this._vbF32[h+1]=n,this._vbF32[h+2]=r,this._vbF32[h+3]=l,this._vbF32[h+4]=o}}this._created=!0}else this._isUpdate=!1},o._getVBIndex=function(t,e){return 5*(2*t+e)+this._vertexStartIndex},o.lateUpdate=function(t){this._created&&this._isUpdate&&(this._updateSegments(t),this._updateRenderData())},o._updateSegments=function(t){var e,i=-1,n=0,r=this._nodes.length;for(n=0;n<r;++n)if(!(e=this._nodes[n]).update(t)){i=n;break}if(i>=0&&W.Collects(this._nodes.splice(i)),this.node.getWorldPosition(T),!l.equals(T,this._prevPosition)){l.copy(this._prevPosition,T),e=W.Create(T,this._time),this._nodes.unshift(e);var s=this._nodes[1];s&&e.setDir(s)}},o._updateRenderData=function(){var t,e,i,n,r,s=P,o=D;this._nodes.length>1?(t=this.maxWidth/(this._nodes.length-1),e=!0):(e=!1,t=0,l.copy(s,this._prevPosition),o.set(0,0,0));var a=0,h=0,_=this._maxTrailCount;for(a=0;a<_;++a)for(i=this._nodes[a],e&&(i?(r=.5*(this.maxWidth-a*t),l.copy(s,i.position),l.copy(o,i.normal)):r=0),h=0;h<2;++h){n=U[h];var u=this._getVBIndex(a,h);this._vbF32[u+0]=s.x+o.x*r*n,this._vbF32[u+1]=s.y+o.y*r*n,this._vbF32[u+2]=s.z+o.z*r*n}},o.play=function(){this._created?(this._isUpdate=!0,this._reset()):(this._isUpdate=!0,this._rebuild())},o.stop=function(){this._created&&this._isUpdate&&(this._isUpdate=!1,this._reset())},s(e,[{key:"time",get:function(){return this._time},set:function(t){this._time=t,this._maxTrailCount=Math.ceil(60*t)}}]),e}(u)).prototype,"material",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(y.prototype,"_time",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),C=e(y.prototype,"_maxTrailCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),e(y.prototype,"time",[v],Object.getOwnPropertyDescriptor(y.prototype,"time"),y.prototype),F=e(y.prototype,"maxWidth",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/TransferCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils.ts","./ZDConst.ts","./ZDGameState.ts","./RoleBaseCmp2.ts"],(function(e){var t,i,s,o,n,r,a,l,c,y,p,u,f,h,d,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Node,l=e.Vec3,c=e.tween,y=e.easing},function(e){p=e.ViewUtil},function(e){u=e.ZDResUtils},function(e){f=e.ZD_RES_PREFABS,h=e.ZD_BUNDLE},function(e){d=e.ZDGameState},function(e){_=e.RoleBaseCmp}],execute:function(){var v,g,N,m,b,R,w,S,P;n._RF.push({},"eaa259dP/VOKpRaUauMixJp","TransferCmp",void 0);var B=r.ccclass,C=r.property,D=(e("TransferCmp",(v=B("TransferCmp"),g=C({type:a,displayName:"样式1",visible:!0}),N=C({type:a,displayName:"样式2",visible:!0}),m=C({type:a,displayName:"样式3",visible:!0}),v((w=t((R=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"_style1Node",w,o(t)),s(t,"_style2Node",S,o(t)),s(t,"_style3Node",P,o(t)),t._style=void 0,t}i(t,e),t.Create=function(e){var i=p.createPrefabNode(f.TRANSFER_VIEW,h);i.parent=d.runtime.ui.propRoot;var s=i.getComponent(t);return s._init(e),s};var n=t.prototype;return n._init=function(e){this._style=e,this._style1Node.active=1==this._style,this._style2Node.active=2==this._style,this._style3Node.active=3==this._style},n.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},n.showView=function(){this.node.parent=d.runtime.ui.propRoot},n.playTransfer=function(e,t){1==this._style?this._transferByStyle1(e,t):2==this._style?this._transferByStyle2(e,t):3==this._style&&this._transferByStyle3(e,t)},n._transferByStyle1=function(e,t){var i=e,s=this._style1Node.getChildByName("Mask");s.active=!0;var o=u.fullHeroModelRes(i.config.res),n=p.createPrefabNode(o,h);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(D),D.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:D}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),D.set(0,-r.height)})).to(.3,{position:D}).call(t).start()},n._transferByStyle2=function(e,t){var i=e,s=this._style2Node.getChildByName("target"),o=u.fullHeroModelRes(i.config.res),n=p.createPrefabNode(o,h);n.parent=s,n.setWorldPosition(i.pos),i.setVisible(!1),D.x=0,D.y=-100,c(n).delay(.03).to(.3,{position:D}).delay(.1).to(.7,{angle:1800,scale:l.ZERO,position:l.ZERO},{easing:y.sineIn}).call(t).start()},n._transferByStyle3=function(e,t){var i=e,s=this._style3Node.getChildByName("Mask");s.active=!0;var o=u.fullHeroModelRes(i.config.res),n=p.createPrefabNode(o,h);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(D),D.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:D}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),D.set(0,-r.height)})).to(.3,{position:D}).call(t).start()},t}(_)).prototype,"_style1Node",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(R.prototype,"_style2Node",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(R.prototype,"_style3Node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=R))||b)),new l);n._RF.pop()}}}));

System.register("chunks:///_virtual/TransferCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils3.ts","./ZDConst3.ts","./ZDGameState3.ts","./RoleBaseCmp3.ts"],(function(e){var t,i,s,o,n,r,a,l,c,y,f,p,u,h,d,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Node,l=e.Vec3,c=e.tween,y=e.easing},function(e){f=e.ViewUtil},function(e){p=e.ZDResUtils3},function(e){u=e.ZD_RES_PREFABS,h=e.ZD_BUNDLE},function(e){d=e.ZDGameState3},function(e){_=e.RoleBaseCmp3}],execute:function(){var v,g,N,m,b,R,w,S,B;n._RF.push({},"598dcrF+MZER4xfz4WdKpw3","TransferCmp3",void 0);var P=r.ccclass,C=r.property,D=(e("TransferCmp3",(v=P("TransferCmp3"),g=C({type:a,displayName:"样式1",visible:!0}),N=C({type:a,displayName:"样式2",visible:!0}),m=C({type:a,displayName:"样式3",visible:!0}),v((w=t((R=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"_style1Node",w,o(t)),s(t,"_style2Node",S,o(t)),s(t,"_style3Node",B,o(t)),t._style=void 0,t}i(t,e),t.Create=function(e){var i=f.createPrefabNode(u.TRANSFER_VIEW,h);i.parent=d.runtime.ui.propRoot;var s=i.getComponent(t);return s._init(e),s};var n=t.prototype;return n._init=function(e){this._style=e,this._style1Node.active=1==this._style,this._style2Node.active=2==this._style,this._style3Node.active=3==this._style},n.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},n.showView=function(){this.node.parent=d.runtime.ui.propRoot},n.playTransfer=function(e,t){1==this._style?this._transferByStyle1(e,t):2==this._style?this._transferByStyle2(e,t):3==this._style&&this._transferByStyle3(e,t)},n._transferByStyle1=function(e,t){var i=e,s=this._style1Node.getChildByName("Mask");s.active=!0;var o=p.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,h);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(D),D.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:D}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),D.set(0,-r.height)})).to(.3,{position:D}).call(t).start()},n._transferByStyle2=function(e,t){var i=e,s=this._style2Node.getChildByName("target"),o=p.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,h);n.parent=s,n.setWorldPosition(i.pos),i.setVisible(!1),D.x=0,D.y=-100,c(n).delay(.03).to(.3,{position:D}).delay(.1).to(.7,{angle:1800,scale:l.ZERO,position:l.ZERO},{easing:y.sineIn}).call(t).start()},n._transferByStyle3=function(e,t){var i=e,s=this._style3Node.getChildByName("Mask");s.active=!0;var o=p.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,h);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(D),D.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:D}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),D.set(0,-r.height)})).to(.3,{position:D}).call(t).start()},t}(_)).prototype,"_style1Node",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(R.prototype,"_style2Node",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(R.prototype,"_style3Node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=R))||b)),new l);n._RF.pop()}}}));

System.register("chunks:///_virtual/TransferCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils4.ts","./ZDConst4.ts","./ZDGameState4.ts","./RoleBaseCmp4.ts"],(function(e){var t,i,s,o,n,r,a,l,c,y,f,u,h,p,d,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Node,l=e.Vec3,c=e.tween,y=e.easing},function(e){f=e.ViewUtil},function(e){u=e.ZDResUtils},function(e){h=e.ZD_RES_PREFABS,p=e.ZD_BUNDLE},function(e){d=e.ZDGameState4},function(e){_=e.RoleBaseCmp4}],execute:function(){var v,g,N,m,b,R,w,S,B;n._RF.push({},"6c5e1Dz2RBDrr3n6UTcKwAn","TransferCmp4",void 0);var P=r.ccclass,D=r.property,C=(e("TransferCmp4",(v=P("TransferCmp4"),g=D({type:a,displayName:"样式1",visible:!0}),N=D({type:a,displayName:"样式2",visible:!0}),m=D({type:a,displayName:"样式3",visible:!0}),v((w=t((R=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"_style1Node",w,o(t)),s(t,"_style2Node",S,o(t)),s(t,"_style3Node",B,o(t)),t._style=void 0,t}i(t,e),t.Create=function(e){var i=f.createPrefabNode(h.TRANSFER_VIEW,p);i.parent=d.runtime.ui.propRoot;var s=i.getComponent(t);return s._init(e),s};var n=t.prototype;return n._init=function(e){this._style=e,this._style1Node.active=1==this._style,this._style2Node.active=2==this._style,this._style3Node.active=3==this._style},n.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},n.showView=function(){this.node.parent=d.runtime.ui.propRoot},n.playTransfer=function(e,t){1==this._style?this._transferByStyle1(e,t):2==this._style?this._transferByStyle2(e,t):3==this._style&&this._transferByStyle3(e,t)},n._transferByStyle1=function(e,t){var i=e,s=this._style1Node.getChildByName("Mask");s.active=!0;var o=u.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,p);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(C),C.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:C}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),C.set(0,-r.height)})).to(.3,{position:C}).call(t).start()},n._transferByStyle2=function(e,t){var i=e,s=this._style2Node.getChildByName("target"),o=u.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,p);n.parent=s,n.setWorldPosition(i.pos),i.setVisible(!1),C.x=0,C.y=-100,c(n).delay(.03).to(.3,{position:C}).delay(.1).to(.7,{angle:1800,scale:l.ZERO,position:l.ZERO},{easing:y.sineIn}).call(t).start()},n._transferByStyle3=function(e,t){var i=e,s=this._style3Node.getChildByName("Mask");s.active=!0;var o=u.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,p);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(C),C.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:C}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),C.set(0,-r.height)})).to(.3,{position:C}).call(t).start()},t}(_)).prototype,"_style1Node",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(R.prototype,"_style2Node",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(R.prototype,"_style3Node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=R))||b)),new l);n._RF.pop()}}}));

System.register("chunks:///_virtual/TransferCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils5.ts","./ZDConst5.ts","./ZDGameState5.ts","./RoleBaseCmp5.ts"],(function(e){var t,i,s,o,n,r,a,l,c,y,f,h,u,p,d,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Node,l=e.Vec3,c=e.tween,y=e.easing},function(e){f=e.ViewUtil},function(e){h=e.ZDResUtils},function(e){u=e.ZD_RES_PREFABS,p=e.ZD_BUNDLE},function(e){d=e.ZDGameState5},function(e){_=e.RoleBaseCmp5}],execute:function(){var v,g,N,m,b,R,w,S,P;n._RF.push({},"c655e1rcZhPJY+AqfhxWefK","TransferCmp5",void 0);var B=r.ccclass,C=r.property,D=(e("TransferCmp5",(v=B("TransferCmp5"),g=C({type:a,displayName:"样式1",visible:!0}),N=C({type:a,displayName:"样式2",visible:!0}),m=C({type:a,displayName:"样式3",visible:!0}),v((w=t((R=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"_style1Node",w,o(t)),s(t,"_style2Node",S,o(t)),s(t,"_style3Node",P,o(t)),t._style=void 0,t}i(t,e),t.Create=function(e){var i=f.createPrefabNode(u.TRANSFER_VIEW,p);i.parent=d.runtime.ui.propRoot;var s=i.getComponent(t);return s._init(e),s};var n=t.prototype;return n._init=function(e){this._style=e,this._style1Node.active=1==this._style,this._style2Node.active=2==this._style,this._style3Node.active=3==this._style},n.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},n.showView=function(){this.node.parent=d.runtime.ui.propRoot},n.playTransfer=function(e,t){1==this._style?this._transferByStyle1(e,t):2==this._style?this._transferByStyle2(e,t):3==this._style&&this._transferByStyle3(e,t)},n._transferByStyle1=function(e,t){var i=e,s=this._style1Node.getChildByName("Mask");s.active=!0;var o=h.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,p);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(D),D.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:D}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),D.set(0,-r.height)})).to(.3,{position:D}).call(t).start()},n._transferByStyle2=function(e,t){var i=e,s=this._style2Node.getChildByName("target"),o=h.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,p);n.parent=s,n.setWorldPosition(i.pos),i.setVisible(!1),D.x=0,D.y=-100,c(n).delay(.03).to(.3,{position:D}).delay(.1).to(.7,{angle:1800,scale:l.ZERO,position:l.ZERO},{easing:y.sineIn}).call(t).start()},n._transferByStyle3=function(e,t){var i=e,s=this._style3Node.getChildByName("Mask");s.active=!0;var o=h.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,p);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(D),D.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:D}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),D.set(0,-r.height)})).to(.3,{position:D}).call(t).start()},t}(_)).prototype,"_style1Node",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(R.prototype,"_style2Node",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(R.prototype,"_style3Node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=R))||b)),new l);n._RF.pop()}}}));

System.register("chunks:///_virtual/TransferCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDResUtils6.ts","./ZDConst6.ts","./ZDGameState6.ts","./RoleBaseCmp6.ts"],(function(e){var t,i,s,o,n,r,a,l,c,y,f,h,p,u,d,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Node,l=e.Vec3,c=e.tween,y=e.easing},function(e){f=e.ViewUtil},function(e){h=e.ZDResUtils},function(e){p=e.ZD_RES_PREFABS,u=e.ZD_BUNDLE},function(e){d=e.ZDGameState6},function(e){_=e.RoleBaseCmp6}],execute:function(){var v,g,N,m,b,R,w,S,B;n._RF.push({},"b27fe6Af9pL/5AQVaaHCoCh","TransferCmp6",void 0);var C=r.ccclass,P=r.property,D=(e("TransferCmp6",(v=C("TransferCmp6"),g=P({type:a,displayName:"样式1",visible:!0}),N=P({type:a,displayName:"样式2",visible:!0}),m=P({type:a,displayName:"样式3",visible:!0}),v((w=t((R=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"_style1Node",w,o(t)),s(t,"_style2Node",S,o(t)),s(t,"_style3Node",B,o(t)),t._style=void 0,t}i(t,e),t.Create=function(e){var i=f.createPrefabNode(p.TRANSFER_VIEW,u);i.parent=d.runtime.ui.propRoot;var s=i.getComponent(t);return s._init(e),s};var n=t.prototype;return n._init=function(e){this._style=e,this._style1Node.active=1==this._style,this._style2Node.active=2==this._style,this._style3Node.active=3==this._style},n.getSize=function(e){var t=this.node.uiTransform.contentSize;e.width=t.width,e.height=t.height},n.showView=function(){this.node.parent=d.runtime.ui.propRoot},n.playTransfer=function(e,t){1==this._style?this._transferByStyle1(e,t):2==this._style?this._transferByStyle2(e,t):3==this._style&&this._transferByStyle3(e,t)},n._transferByStyle1=function(e,t){var i=e,s=this._style1Node.getChildByName("Mask");s.active=!0;var o=h.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,u);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(D),D.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:D}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),D.set(0,-r.height)})).to(.3,{position:D}).call(t).start()},n._transferByStyle2=function(e,t){var i=e,s=this._style2Node.getChildByName("target"),o=h.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,u);n.parent=s,n.setWorldPosition(i.pos),i.setVisible(!1),D.x=0,D.y=-100,c(n).delay(.03).to(.3,{position:D}).delay(.1).to(.7,{angle:1800,scale:l.ZERO,position:l.ZERO},{easing:y.sineIn}).call(t).start()},n._transferByStyle3=function(e,t){var i=e,s=this._style3Node.getChildByName("Mask");s.active=!0;var o=h.fullHeroModelRes(i.config.res),n=f.createPrefabNode(o,u);n.parent=s;var r=n.uiTransform.contentSize;n.setPosition(0,r.height/2),n.active=!1,this.getPos(D),D.y+=r.height/2,c(i.view.node).to(.4,{worldPosition:D}).start(),c(n).delay(.5).call((function(){n.active=!0,i.setVisible(!1),D.set(0,-r.height)})).to(.3,{position:D}).call(t).start()},t}(_)).prototype,"_style1Node",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(R.prototype,"_style2Node",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(R.prototype,"_style3Node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=R))||b)),new l);n._RF.pop()}}}));

System.register("chunks:///_virtual/TransformLerp.ts",["cc","./Vec3Lerp.ts"],(function(t){var s,e,i;return{setters:[function(t){s=t.cclegacy,e=t.Vec3},function(t){i=t.Vec3Lerp}],execute:function(){s._RF.push({},"59069QtDsFL9r8T1j12hloH","TransformLerp",void 0);t("TransformLerp",function(){function t(t,s){this._root=void 0,this._time=void 0,this._pLerp=null,this._sLerp=null,this._rLerp=null,this._pos=void 0,this._rot=void 0,this._scale=void 0,this._root=t,this._time=s,this._pos=new e,this._rot=new e,this._scale=new e}var s=t.prototype;return s.startLerp=function(t,s,e,r,o,h){t&&(this._pLerp=i.Create(this._time,t,s)),e&&(this._sLerp=i.Create(this._time,e,r)),o&&(this._rLerp=i.Create(this._time,o,h))},s.update=function(t){var s=!0,e=!0,i=!0;return this._pLerp&&(s=this._pLerp.update(t,this._pos),this._root.setPosition(this._pos)),this._sLerp&&(e=this._sLerp.update(t,this._scale),this._root.setScale(this._scale)),this._rLerp&&(i=this._rLerp.update(t,this._rot),this._root.setRotationFromEuler(this._rot)),s&&e&&i},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/TreeBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Awaiters.ts","./TreePoints.ts","./RoleTree.ts"],(function(t){var e,s,i,r,h,n,o,l,d,_;return{setters:[function(t){e=t.createClass,s=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,h=t.Vec3,n=t.math,o=t.view},function(t){l=t.Awaiters},function(t){d=t.TREE_POINTS},function(t){_=t.RoleTree}],execute:function(){r._RF.push({},"c1f94ZqPu5AmLFvM/R7mQlf","TreeBox",void 0),t("TreeBox",function(){function t(){this._width=void 0,this._height=void 0,this._rows=void 0,this._cells=void 0,this._dWidth=void 0,this._dHeight=void 0,this._data=void 0,this._createdRolesIdxs=void 0,this._treeRoles=void 0,this._findTreeArr=void 0,this._centerPos=new h,this._findTreeArr=[],this._createdRolesIdxs=[],this._treeRoles=[]}var r=t.prototype;return r.init=function(){var t=s(i().mark((function t(){var e,s,r,h,n,_,a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.clear(),this._width=4500,this._height=4500,this._treeRoles.length=0,e=o.getVisibleSize().width,s=o.getVisibleSize().height,this._centerPos.set(e/2,s/2),this._dWidth=this._width/2-e/2,this._dHeight=this._height/2-s/2,this._data=[],this._rows=Math.ceil(this._height/375),this._cells=Math.ceil(this._width/375),r=0;r<this._rows;++r){for(h=[],n=0;n<this._cells;++n)h.push([]);this._data.push(h)}return t.next=15,l.NextFrame();case 15:for(_=0;_<d.length;++_)this.addItemByPos(_,d[_][0],d[_][1]);for(this._createdRolesIdxs.length=d.length,this._createdRolesIdxs.fill(0),this.getRangeItems(e/2,s/2),a=-1,c=0;c<this._findTreeArr.length;++c)a=this._findTreeArr[c],this._createdRolesIdxs[a]||this.createRole(a);case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.clear=function(){this._treeRoles=[],this._findTreeArr=[],this._createdRolesIdxs=[]},r.createRole=function(t){var e=new _;e.init(t);var s=d[t];return this._createdRolesIdxs[t]=1,this._treeRoles.push(e),a.set(s[0],s[1]),e.distanceToCenter=h.distance(this._centerPos,a),e},r.getIndexByPos=function(t,e){var s=this._convertX2Cell(t);return this._convertY2Row(e)*this._cells+s},r.addItem=function(t,e){this.getArrayByIndex(e).push(t)},r.addItemByPos=function(t,e,s){var i=this._convertX2Cell(e),r=this._convertY2Row(s),h=this._data[r][i];h.push(t)},r.removeItem=function(t,e,s){var i=this._data[t][e],r=i.indexOf(s);r>=0&&i.splice(r,1)},r.removeItemByPos=function(t,e,s){var i=this._convertX2Cell(t),r=this._convertY2Row(e);this.removeItem(r,i,s)},r.getArrayByIndex=function(t){var e=Math.floor(t/this._cells),s=t%this._cells;return this._data[e][s]},r.getRangeItems=function(t,e){var s=this._findTreeArr;s.length=0;var i=this._convertX2Cell(t),r=this._convertY2Row(e);return this._addItemByCells(r,i,s),r<this._rows-1&&(this._addItemByCells(r+1,i,s),r<this._rows-2&&this._addItemByCells(r+2,i,s)),r>0&&(this._addItemByCells(r-1,i,s),r>1&&this._addItemByCells(r-2,i,s)),i>0&&this._addItemByCells(r,i-1,s),i<this._cells-1&&this._addItemByCells(r,i+1,s),r>0&&i>0&&(this._addItemByCells(r-1,i-1,s),r>1&&this._addItemByCells(r-2,i-1,s)),r>0&&i<this._cells-1&&(this._addItemByCells(r-1,i+1,s),r>1&&this._addItemByCells(r-2,i+1,s)),r<this._rows-1&&i>0&&(this._addItemByCells(r+1,i-1,s),r<this._rows-2&&this._addItemByCells(r+2,i-1,s)),r<this._rows-1&&i<this._cells-1&&(this._addItemByCells(r+1,i+1,s),r<this._rows-2&&this._addItemByCells(r+2,i+1,s)),s},r._addItemByCells=function(t,e,s){for(var i=this._data[t][e],r=0,h=i.length,n=-1;r<h;++r)n=i[r],this._createdRolesIdxs[n]||s.push(n)},r._convertY2Row=function(t){var e=this._dHeight+t;return n.clamp(Math.floor(e/375),0,this._rows-1)},r._convertX2Cell=function(t){var e=this._dWidth+t;return n.clamp(Math.floor(e/375),0,this._cells-1)},e(t,[{key:"roles",get:function(){return this._treeRoles}}],[{key:"ins",get:function(){return this._ins||(this._ins=new t),this._ins}}]),t}())._ins=void 0;var a=new h;r._RF.pop()}}}));

System.register("chunks:///_virtual/TreePoints.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"27ef1frZpRLQJJCh3MaCUDQ","TreePoints",void 0);e("TREE_POINTS",[[146.9,2907.4],[239.1,2907.4],[334.2,2907.4],[426.3,2907.4],[518.5,2907.4],[613.6,2907.4],[60.2,2907.4],[707.2,2907.4],[-678.4,2907.4],[-591.7,2907.4],[-499.5,2907.4],[-404.4,2907.4],[-312.2,2907.4],[-220.1,2907.4],[-125,2907.4],[-31.4,2907.4],[798.6,2907.4],[885.3,2907.4],[977.4,2907.4],[1072.5,2907.4],[1164.7,2907.4],[1256.9,2907.4],[1352,2907.4],[1445.6,2907.4],[1541.2,2907.4],[1627.9,2907.4],[1720.1,2907.4],[1815.2,2907.4],[1907.3,2907.4],[1999.5,2907.4],[2094.6,2907.4],[2188.2,2907.4],[2280.6,2907.4],[2374.2,2907.4],[2469.3,2907.4],[2562.9,2907.4],[-1428.3,2907.4],[-866.4,2907.4],[-961.5,2907.4],[-1055.1,2907.4],[-1147.4,2907.4],[-1241,2907.4],[-1336.1,2907.4],[-772.8,2907.4],[-1804,2907.4],[-1618,2907.4],[-1710.4,2907.4],[-1524.4,2907.4],[146.9,2836.7],[239.1,2836.7],[334.2,2836.7],[426.3,2836.7],[518.5,2836.7],[613.6,2836.7],[60.2,2836.7],[707.2,2836.7],[-678.4,2836.7],[-591.7,2836.7],[-499.5,2836.7],[-404.4,2836.7],[-312.2,2836.7],[-220.1,2836.7],[-125,2836.7],[-31.4,2836.7],[798.6,2836.7],[885.3,2836.7],[977.4,2836.7],[1072.5,2836.7],[1164.7,2836.7],[1256.9,2836.7],[1352,2836.7],[1445.6,2836.7],[1541.2,2836.7],[1627.9,2836.7],[1720.1,2836.7],[1815.2,2836.7],[1907.3,2836.7],[1999.5,2836.7],[2094.6,2836.7],[2188.2,2836.7],[2280.6,2836.7],[2374.2,2836.7],[2469.3,2836.7],[2562.9,2836.7],[-1428.3,2836.7],[-866.4,2836.7],[-961.5,2836.7],[-1055.1,2836.7],[-1147.4,2836.7],[-1241,2836.7],[-1336.1,2836.7],[-772.8,2836.7],[-1804,2836.7],[-1618,2836.7],[-1710.4,2836.7],[-1524.4,2836.7],[146.9,2765.7],[239.1,2765.7],[334.2,2765.7],[426.3,2765.7],[518.5,2765.7],[613.6,2765.7],[60.2,2765.7],[707.2,2765.7],[-678.4,2765.7],[-591.7,2765.7],[-499.5,2765.7],[-404.4,2765.7],[-312.2,2765.7],[-220.1,2765.7],[-125,2765.7],[-31.4,2765.7],[798.6,2765.7],[885.3,2765.7],[977.4,2765.7],[1072.5,2765.7],[1164.7,2765.7],[1256.9,2765.7],[1352,2765.7],[1445.6,2765.7],[1541.2,2765.7],[1627.9,2765.7],[1720.1,2765.7],[1815.2,2765.7],[1907.3,2765.7],[1999.5,2765.7],[2094.6,2765.7],[2188.2,2765.7],[2280.6,2765.7],[2374.2,2765.7],[2469.3,2765.7],[2562.9,2765.7],[-1428.3,2765.7],[-866.4,2765.7],[-961.5,2765.7],[-1055.1,2765.7],[-1147.4,2765.7],[-1241,2765.7],[-1336.1,2765.7],[-772.8,2765.7],[-1804,2765.7],[-1618,2765.7],[-1710.4,2765.7],[-1524.4,2765.7],[146.9,2694.7],[239.1,2694.7],[334.2,2694.7],[426.3,2694.7],[518.5,2694.7],[613.6,2694.7],[60.2,2694.7],[707.2,2694.7],[-678.4,2694.7],[-591.7,2694.7],[-499.5,2694.7],[-404.4,2694.7],[-312.2,2694.7],[-220.1,2694.7],[-125,2694.7],[-31.4,2694.7],[798.6,2694.7],[885.3,2694.7],[977.4,2694.7],[1072.5,2694.7],[1164.7,2694.7],[1256.9,2694.7],[1352,2694.7],[1445.6,2694.7],[1541.2,2694.7],[1627.9,2694.7],[1720.1,2694.7],[1815.2,2694.7],[1907.3,2694.7],[1999.5,2694.7],[2094.6,2694.7],[2188.2,2694.7],[2280.6,2694.7],[2374.2,2694.7],[2469.3,2694.7],[2562.9,2694.7],[-1428.3,2694.7],[-866.4,2694.7],[-961.5,2694.7],[-1055.1,2694.7],[-1147.4,2694.7],[-1241,2694.7],[-1336.1,2694.7],[-772.8,2694.7],[-1804,2694.7],[-1618,2694.7],[-1710.4,2694.7],[-1524.4,2694.7],[146.9,2623.7],[239.1,2623.7],[334.2,2623.7],[426.3,2623.7],[518.5,2623.7],[613.6,2623.7],[60.2,2623.7],[707.2,2623.7],[-678.4,2623.7],[-591.7,2623.7],[-499.5,2623.7],[-404.4,2623.7],[-312.2,2623.7],[-220.1,2623.7],[-125,2623.7],[-31.4,2623.7],[798.6,2623.7],[885.3,2623.7],[977.4,2623.7],[1072.5,2623.7],[1164.7,2623.7],[1256.9,2623.7],[1352,2623.7],[1445.6,2623.7],[1541.2,2623.7],[1627.9,2623.7],[1720.1,2623.7],[1815.2,2623.7],[1907.3,2623.7],[1999.5,2623.7],[2094.6,2623.7],[2188.2,2623.7],[2280.6,2623.7],[2374.2,2623.7],[2469.3,2623.7],[2562.9,2623.7],[-1428.3,2623.7],[-866.4,2623.7],[-961.5,2623.7],[-1055.1,2623.7],[-1147.4,2623.7],[-1241,2623.7],[-1336.1,2623.7],[-772.8,2623.7],[-1804,2623.7],[-1618,2623.7],[-1710.4,2623.7],[-1524.4,2623.7],[146.9,2552.7],[239.1,2552.7],[334.2,2552.7],[426.3,2552.7],[518.5,2552.7],[613.6,2552.7],[60.2,2552.7],[707.2,2552.7],[-678.4,2552.7],[-591.7,2552.7],[-499.5,2552.7],[-404.4,2552.7],[-312.2,2552.7],[-220.1,2552.7],[-125,2552.7],[-31.4,2552.7],[798.6,2552.7],[885.3,2552.7],[977.4,2552.7],[1072.5,2552.7],[1164.7,2552.7],[1256.9,2552.7],[1352,2552.7],[1445.6,2552.7],[1541.2,2552.7],[1627.9,2552.7],[1720.1,2552.7],[1815.2,2552.7],[1907.3,2552.7],[1999.5,2552.7],[2094.6,2552.7],[2188.2,2552.7],[2280.6,2552.7],[2374.2,2552.7],[2469.3,2552.7],[2562.9,2552.7],[-1428.3,2552.7],[-866.4,2552.7],[-961.5,2552.7],[-1055.1,2552.7],[-1147.4,2552.7],[-1241,2552.7],[-1336.1,2552.7],[-772.8,2552.7],[-1804,2552.7],[-1618,2552.7],[-1710.4,2552.7],[-1524.4,2552.7],[146.9,2481.7],[239.1,2481.7],[334.2,2481.7],[426.3,2481.7],[518.5,2481.7],[613.6,2481.7],[60.2,2481.7],[707.2,2481.7],[-678.4,2481.7],[-591.7,2481.7],[-499.5,2481.7],[-404.4,2481.7],[-312.2,2481.7],[-220.1,2481.7],[-125,2481.7],[-31.4,2481.7],[798.6,2481.7],[885.3,2481.7],[977.4,2481.7],[1072.5,2481.7],[1164.7,2481.7],[1256.9,2481.7],[1352,2481.7],[1445.6,2481.7],[1541.2,2481.7],[1627.9,2481.7],[1720.1,2481.7],[1815.2,2481.7],[1907.3,2481.7],[1999.5,2481.7],[2094.6,2481.7],[2188.2,2481.7],[2280.6,2481.7],[2374.2,2481.7],[2469.3,2481.7],[2562.9,2481.7],[-1428.3,2481.7],[-866.4,2481.7],[-961.5,2481.7],[-1055.1,2481.7],[-1147.4,2481.7],[-1241,2481.7],[-1336.1,2481.7],[-772.8,2481.7],[-1804,2481.7],[-1618,2481.7],[-1710.4,2481.7],[-1524.4,2481.7],[146.9,2410.7],[239.1,2410.7],[334.2,2410.7],[426.3,2410.7],[518.5,2410.7],[613.6,2410.7],[60.2,2410.7],[707.2,2410.7],[-678.4,2410.7],[-591.7,2410.7],[-499.5,2410.7],[-404.4,2410.7],[-312.2,2410.7],[-220.1,2410.7],[-125,2410.7],[-31.4,2410.7],[798.6,2410.7],[885.3,2410.7],[977.4,2410.7],[1072.5,2410.7],[1164.7,2410.7],[1256.9,2410.7],[1352,2410.7],[1445.6,2410.7],[1541.2,2410.7],[1627.9,2410.7],[1720.1,2410.7],[1815.2,2410.7],[1907.3,2410.7],[1999.5,2410.7],[2094.6,2410.7],[2188.2,2410.7],[2280.6,2410.7],[2374.2,2410.7],[2469.3,2410.7],[2562.9,2410.7],[-1428.3,2410.7],[-866.4,2410.7],[-961.5,2410.7],[-1055.1,2410.7],[-1147.4,2410.7],[-1241,2410.7],[-1336.1,2410.7],[-772.8,2410.7],[-1804,2410.7],[-1618,2410.7],[-1710.4,2410.7],[-1524.4,2410.7],[146.9,2338.8],[239.1,2338.8],[334.2,2338.8],[426.3,2338.8],[518.5,2338.8],[613.6,2338.8],[60.2,2338.8],[707.2,2338.8],[-678.4,2338.8],[-591.7,2338.8],[-499.5,2338.8],[-404.4,2338.8],[-312.2,2338.8],[-220.1,2338.8],[-125,2338.8],[-31.4,2338.8],[798.6,2338.8],[885.3,2338.8],[977.4,2338.8],[1072.5,2338.8],[1164.7,2338.8],[1256.9,2338.8],[1352,2338.8],[1445.6,2338.8],[1541.2,2338.8],[1627.9,2338.8],[1720.1,2338.8],[1815.2,2338.8],[1907.3,2338.8],[1999.5,2338.8],[2094.6,2338.8],[2188.2,2338.8],[2280.6,2338.8],[2374.2,2338.8],[2469.3,2338.8],[2562.9,2338.8],[-1428.3,2338.8],[-866.4,2338.8],[-961.5,2338.8],[-1055.1,2338.8],[-1147.4,2338.8],[-1241,2338.8],[-1336.1,2338.8],[-772.8,2338.8],[-1804,2338.8],[-1618,2338.8],[-1710.4,2338.8],[-1524.4,2338.8],[146.9,2268.1],[239.1,2268.1],[334.2,2268.1],[426.3,2268.1],[518.5,2268.1],[613.6,2268.1],[60.2,2268.1],[707.2,2268.1],[-678.4,2268.1],[-591.7,2268.1],[-499.5,2268.1],[-404.4,2268.1],[-312.2,2268.1],[-220.1,2268.1],[-125,2268.1],[-31.4,2268.1],[798.6,2268.1],[885.3,2268.1],[977.4,2268.1],[1072.5,2268.1],[1164.7,2268.1],[1256.9,2268.1],[1352,2268.1],[1445.6,2268.1],[1541.2,2268.1],[1627.9,2268.1],[1720.1,2268.1],[1815.2,2268.1],[1907.3,2268.1],[1999.5,2268.1],[2094.6,2268.1],[2188.2,2268.1],[2280.6,2268.1],[2374.2,2268.1],[2469.3,2268.1],[2562.9,2268.1],[-1428.3,2268.1],[-866.4,2268.1],[-961.5,2268.1],[-1055.1,2268.1],[-1147.4,2268.1],[-1241,2268.1],[-1336.1,2268.1],[-772.8,2268.1],[-1804,2268.1],[-1618,2268.1],[-1710.4,2268.1],[-1524.4,2268.1],[146.9,2197.1],[239.1,2197.1],[334.2,2197.1],[426.3,2197.1],[518.5,2197.1],[613.6,2197.1],[60.2,2197.1],[707.2,2197.1],[-678.4,2197.1],[-591.7,2197.1],[-499.5,2197.1],[-404.4,2197.1],[-312.2,2197.1],[-220.1,2197.1],[-125,2197.1],[-31.4,2197.1],[798.6,2197.1],[885.3,2197.1],[977.4,2197.1],[1072.5,2197.1],[1164.7,2197.1],[1256.9,2197.1],[1352,2197.1],[1445.6,2197.1],[1541.2,2197.1],[1627.9,2197.1],[1720.1,2197.1],[1815.2,2197.1],[1907.3,2197.1],[1999.5,2197.1],[2094.6,2197.1],[2188.2,2197.1],[2280.6,2197.1],[2374.2,2197.1],[2469.3,2197.1],[2562.9,2197.1],[-1428.3,2197.1],[-866.4,2197.1],[-961.5,2197.1],[-1055.1,2197.1],[-1147.4,2197.1],[-1241,2197.1],[-1336.1,2197.1],[-772.8,2197.1],[-1804,2197.1],[-1618,2197.1],[-1710.4,2197.1],[-1524.4,2197.1],[146.9,2126.1],[239.1,2126.1],[334.2,2126.1],[426.3,2126.1],[518.5,2126.1],[613.6,2126.1],[60.2,2126.1],[707.2,2126.1],[-678.4,2126.1],[-591.7,2126.1],[-499.5,2126.1],[-404.4,2126.1],[-312.2,2126.1],[-220.1,2126.1],[-125,2126.1],[-31.4,2126.1],[798.6,2126.1],[885.3,2126.1],[977.4,2126.1],[1072.5,2126.1],[1164.7,2126.1],[1256.9,2126.1],[1352,2126.1],[1445.6,2126.1],[1541.2,2126.1],[1627.9,2126.1],[1720.1,2126.1],[1815.2,2126.1],[1907.3,2126.1],[1999.5,2126.1],[2094.6,2126.1],[2188.2,2126.1],[2280.6,2126.1],[2374.2,2126.1],[2469.3,2126.1],[2562.9,2126.1],[-1428.3,2126.1],[-866.4,2126.1],[-961.5,2126.1],[-1055.1,2126.1],[-1147.4,2126.1],[-1241,2126.1],[-1336.1,2126.1],[-772.8,2126.1],[-1804,2126.1],[-1618,2126.1],[-1710.4,2126.1],[-1524.4,2126.1],[146.9,2055.1],[239.1,2055.1],[334.2,2055.1],[426.3,2055.1],[518.5,2055.1],[613.6,2055.1],[60.2,2055.1],[707.2,2055.1],[-678.4,2055.1],[-591.7,2055.1],[-499.5,2055.1],[-404.4,2055.1],[-312.2,2055.1],[-220.1,2055.1],[-125,2055.1],[-31.4,2055.1],[798.6,2055.1],[885.3,2055.1],[977.4,2055.1],[1072.5,2055.1],[1164.7,2055.1],[1256.9,2055.1],[1352,2055.1],[1445.6,2055.1],[1541.2,2055.1],[1627.9,2055.1],[1720.1,2055.1],[1815.2,2055.1],[1907.3,2055.1],[1999.5,2055.1],[2094.6,2055.1],[2188.2,2055.1],[2280.6,2055.1],[2374.2,2055.1],[2469.3,2055.1],[2562.9,2055.1],[-1428.3,2055.1],[-866.4,2055.1],[-961.5,2055.1],[-1055.1,2055.1],[-1147.4,2055.1],[-1241,2055.1],[-1336.1,2055.1],[-772.8,2055.1],[-1804,2055.1],[-1618,2055.1],[-1710.4,2055.1],[-1524.4,2055.1],[146.9,1984.1],[239.1,1984.1],[334.2,1984.1],[426.3,1984.1],[518.5,1984.1],[613.6,1984.1],[60.2,1984.1],[707.2,1984.1],[-678.4,1984.1],[-591.7,1984.1],[-499.5,1984.1],[-404.4,1984.1],[-312.2,1984.1],[-220.1,1984.1],[-125,1984.1],[-31.4,1984.1],[798.6,1984.1],[885.3,1984.1],[977.4,1984.1],[1072.5,1984.1],[1164.7,1984.1],[1256.9,1984.1],[1352,1984.1],[1445.6,1984.1],[1541.2,1984.1],[1627.9,1984.1],[1720.1,1984.1],[1815.2,1984.1],[1907.3,1984.1],[1999.5,1984.1],[2094.6,1984.1],[2188.2,1984.1],[2280.6,1984.1],[2374.2,1984.1],[2469.3,1984.1],[2562.9,1984.1],[-1428.3,1984.1],[-866.4,1984.1],[-961.5,1984.1],[-1055.1,1984.1],[-1147.4,1984.1],[-1241,1984.1],[-1336.1,1984.1],[-772.8,1984.1],[-1804,1984.1],[-1618,1984.1],[-1710.4,1984.1],[-1524.4,1984.1],[146.9,1913.1],[239.1,1913.1],[334.2,1913.1],[426.3,1913.1],[518.5,1913.1],[613.6,1913.1],[60.2,1913.1],[707.2,1913.1],[-678.4,1913.1],[-591.7,1913.1],[-499.5,1913.1],[-404.4,1913.1],[-312.2,1913.1],[-220.1,1913.1],[-125,1913.1],[-31.4,1913.1],[798.6,1913.1],[885.3,1913.1],[977.4,1913.1],[1072.5,1913.1],[1164.7,1913.1],[1256.9,1913.1],[1352,1913.1],[1445.6,1913.1],[1541.2,1913.1],[1627.9,1913.1],[1720.1,1913.1],[1815.2,1913.1],[1907.3,1913.1],[1999.5,1913.1],[2094.6,1913.1],[2188.2,1913.1],[2280.6,1913.1],[2374.2,1913.1],[2469.3,1913.1],[2562.9,1913.1],[-1428.3,1913.1],[-866.4,1913.1],[-961.5,1913.1],[-1055.1,1913.1],[-1147.4,1913.1],[-1241,1913.1],[-1336.1,1913.1],[-772.8,1913.1],[-1804,1913.1],[-1618,1913.1],[-1710.4,1913.1],[-1524.4,1913.1],[146.9,1842.1],[239.1,1842.1],[334.2,1842.1],[426.3,1842.1],[518.5,1842.1],[613.6,1842.1],[60.2,1842.1],[707.2,1842.1],[-678.4,1842.1],[-591.7,1842.1],[-499.5,1842.1],[-404.4,1842.1],[-312.2,1842.1],[-220.1,1842.1],[-125,1842.1],[-31.4,1842.1],[798.6,1842.1],[885.3,1842.1],[977.4,1842.1],[1072.5,1842.1],[1164.7,1842.1],[1256.9,1842.1],[1352,1842.1],[1445.6,1842.1],[1541.2,1842.1],[1627.9,1842.1],[1720.1,1842.1],[1815.2,1842.1],[1907.3,1842.1],[1999.5,1842.1],[2094.6,1842.1],[2188.2,1842.1],[2280.6,1842.1],[2374.2,1842.1],[2469.3,1842.1],[2562.9,1842.1],[-1428.3,1842.1],[-866.4,1842.1],[-961.5,1842.1],[-1055.1,1842.1],[-1147.4,1842.1],[-1241,1842.1],[-1336.1,1842.1],[-772.8,1842.1],[-1804,1842.1],[-1618,1842.1],[-1710.4,1842.1],[-1524.4,1842.1],[146.9,1772.7],[239.1,1772.7],[334.2,1772.7],[426.3,1772.7],[518.5,1772.7],[613.6,1772.7],[60.2,1772.7],[707.2,1772.7],[-678.4,1772.7],[-591.7,1772.7],[-499.5,1772.7],[-404.4,1772.7],[-312.2,1772.7],[-220.1,1772.7],[-125,1772.7],[-31.4,1772.7],[798.6,1772.7],[885.3,1772.7],[977.4,1772.7],[1072.5,1772.7],[1164.7,1772.7],[1256.9,1772.7],[1352,1772.7],[1445.6,1772.7],[1541.2,1772.7],[1627.9,1772.7],[1720.1,1772.7],[1815.2,1772.7],[1907.3,1772.7],[1999.5,1772.7],[2094.6,1772.7],[2188.2,1772.7],[2280.6,1772.7],[2374.2,1772.7],[2469.3,1772.7],[2562.9,1772.7],[-1428.3,1772.7],[-866.4,1772.7],[-961.5,1772.7],[-1055.1,1772.7],[-1147.4,1772.7],[-1241,1772.7],[-1336.1,1772.7],[-772.8,1772.7],[-1804,1772.7],[-1618,1772.7],[-1710.4,1772.7],[-1524.4,1772.7],[146.9,1702.1],[239.1,1702.1],[334.2,1702.1],[426.3,1702.1],[518.5,1702.1],[613.6,1702.1],[60.2,1702.1],[707.2,1702.1],[-678.4,1702.1],[-591.7,1702.1],[-499.5,1702.1],[-404.4,1702.1],[-312.2,1702.1],[-220.1,1702.1],[-125,1702.1],[-31.4,1702.1],[798.6,1702.1],[885.3,1702.1],[977.4,1702.1],[1072.5,1702.1],[1164.7,1702.1],[1256.9,1702.1],[1352,1702.1],[1445.6,1702.1],[1541.2,1702.1],[1627.9,1702.1],[1720.1,1702.1],[1815.2,1702.1],[1907.3,1702.1],[1999.5,1702.1],[2094.6,1702.1],[2188.2,1702.1],[2280.6,1702.1],[2374.2,1702.1],[2469.3,1702.1],[2562.9,1702.1],[-1428.3,1702.1],[-866.4,1702.1],[-961.5,1702.1],[-1055.1,1702.1],[-1147.4,1702.1],[-1241,1702.1],[-1336.1,1702.1],[-772.8,1702.1],[-1804,1702.1],[-1618,1702.1],[-1710.4,1702.1],[-1524.4,1702.1],[146.9,1631.1],[239.1,1631.1],[334.2,1631.1],[426.3,1631.1],[518.5,1631.1],[613.6,1631.1],[60.2,1631.1],[707.2,1631.1],[-678.4,1631.1],[-591.7,1631.1],[-499.5,1631.1],[-404.4,1631.1],[-312.2,1631.1],[-220.1,1631.1],[-125,1631.1],[-31.4,1631.1],[798.6,1631.1],[885.3,1631.1],[977.4,1631.1],[1072.5,1631.1],[1164.7,1631.1],[1256.9,1631.1],[1352,1631.1],[1445.6,1631.1],[1541.2,1631.1],[1627.9,1631.1],[1720.1,1631.1],[1815.2,1631.1],[1907.3,1631.1],[1999.5,1631.1],[2094.6,1631.1],[2188.2,1631.1],[2280.6,1631.1],[2374.2,1631.1],[2469.3,1631.1],[2562.9,1631.1],[-1428.3,1631.1],[-866.4,1631.1],[-961.5,1631.1],[-1055.1,1631.1],[-1147.4,1631.1],[-1241,1631.1],[-1336.1,1631.1],[-772.8,1631.1],[-1804,1631.1],[-1618,1631.1],[-1710.4,1631.1],[-1524.4,1631.1],[146.9,1560.1],[239.1,1560.1],[334.2,1560.1],[426.3,1560.1],[518.5,1560.1],[613.6,1560.1],[60.2,1560.1],[707.2,1560.1],[-678.4,1560.1],[-591.7,1560.1],[-499.5,1560.1],[-404.4,1560.1],[-312.2,1560.1],[-220.1,1560.1],[-125,1560.1],[-31.4,1560.1],[798.6,1560.1],[885.3,1560.1],[977.4,1560.1],[1072.5,1560.1],[1164.7,1560.1],[1256.9,1560.1],[1352,1560.1],[1445.6,1560.1],[1541.2,1560.1],[1627.9,1560.1],[1720.1,1560.1],[1815.2,1560.1],[1907.3,1560.1],[1999.5,1560.1],[2094.6,1560.1],[2188.2,1560.1],[2280.6,1560.1],[2374.2,1560.1],[2469.3,1560.1],[2562.9,1560.1],[-1428.3,1560.1],[-866.4,1560.1],[-961.5,1560.1],[-1055.1,1560.1],[-1147.4,1560.1],[-1241,1560.1],[-1336.1,1560.1],[-772.8,1560.1],[-1804,1560.1],[-1618,1560.1],[-1710.4,1560.1],[-1524.4,1560.1],[146.9,1489.1],[239.1,1489.1],[334.2,1489.1],[426.3,1489.1],[518.5,1489.1],[613.6,1489.1],[60.2,1489.1],[707.2,1489.1],[-678.4,1489.1],[-591.7,1489.1],[-499.5,1489.1],[-404.4,1489.1],[-312.2,1489.1],[-220.1,1489.1],[-125,1489.1],[-31.4,1489.1],[798.6,1489.1],[885.3,1489.1],[977.4,1489.1],[1072.5,1489.1],[1164.7,1489.1],[1256.9,1489.1],[1352,1489.1],[1445.6,1489.1],[1541.2,1489.1],[1627.9,1489.1],[1720.1,1489.1],[1815.2,1489.1],[1907.3,1489.1],[1999.5,1489.1],[2094.6,1489.1],[2188.2,1489.1],[2280.6,1489.1],[2374.2,1489.1],[2469.3,1489.1],[2562.9,1489.1],[-1428.3,1489.1],[-866.4,1489.1],[-961.5,1489.1],[-1055.1,1489.1],[-1147.4,1489.1],[-1241,1489.1],[-1336.1,1489.1],[-772.8,1489.1],[-1804,1489.1],[-1618,1489.1],[-1710.4,1489.1],[-1524.4,1489.1],[146.9,1418.1],[239.1,1418.1],[334.2,1418.1],[426.3,1418.1],[518.5,1418.1],[613.6,1418.1],[60.2,1418.1],[707.2,1418.1],[-678.4,1418.1],[-591.7,1418.1],[-499.5,1418.1],[-404.4,1418.1],[-312.2,1418.1],[-220.1,1418.1],[-125,1418.1],[-31.4,1418.1],[798.6,1418.1],[885.3,1418.1],[977.4,1418.1],[1072.5,1418.1],[1164.7,1418.1],[1256.9,1418.1],[1352,1418.1],[1445.6,1418.1],[1541.2,1418.1],[1627.9,1418.1],[1720.1,1418.1],[1815.2,1418.1],[1907.3,1418.1],[1999.5,1418.1],[2094.6,1418.1],[2188.2,1418.1],[2280.6,1418.1],[2374.2,1418.1],[2469.3,1418.1],[2562.9,1418.1],[-1428.3,1418.1],[-866.4,1418.1],[-961.5,1418.1],[-1055.1,1418.1],[-1147.4,1418.1],[-1241,1418.1],[-1336.1,1418.1],[-772.8,1418.1],[-1804,1418.1],[-1618,1418.1],[-1710.4,1418.1],[-1524.4,1418.1],[146.9,1347.1],[239.1,1347.1],[334.2,1347.1],[426.3,1347.1],[518.5,1347.1],[613.6,1347.1],[60.2,1347.1],[707.2,1347.1],[-678.4,1347.1],[-591.7,1347.1],[-499.5,1347.1],[-404.4,1347.1],[-312.2,1347.1],[-220.1,1347.1],[-125,1347.1],[-31.4,1347.1],[798.6,1347.1],[885.3,1347.1],[977.4,1347.1],[1072.5,1347.1],[1164.7,1347.1],[1256.9,1347.1],[1352,1347.1],[1445.6,1347.1],[1541.2,1347.1],[1627.9,1347.1],[1720.1,1347.1],[1815.2,1347.1],[1907.3,1347.1],[1999.5,1347.1],[2094.6,1347.1],[2188.2,1347.1],[2280.6,1347.1],[2374.2,1347.1],[2469.3,1347.1],[2562.9,1347.1],[-1428.3,1347.1],[-866.4,1347.1],[-961.5,1347.1],[-1055.1,1347.1],[-1147.4,1347.1],[-1241,1347.1],[-1336.1,1347.1],[-772.8,1347.1],[-1804,1347.1],[-1618,1347.1],[-1710.4,1347.1],[-1524.4,1347.1],[146.9,1276.1],[239.1,1276.1],[518.5,1276.1],[613.6,1276.1],[60.2,1276.1],[707.2,1276.1],[-678.4,1276.1],[-591.7,1276.1],[-499.5,1276.1],[-404.4,1276.1],[-312.2,1276.1],[-220.1,1276.1],[-125,1276.1],[-31.4,1276.1],[798.6,1276.1],[885.3,1276.1],[977.4,1276.1],[1072.5,1276.1],[1164.7,1276.1],[1256.9,1276.1],[1352,1276.1],[1445.6,1276.1],[1541.2,1276.1],[1627.9,1276.1],[1720.1,1276.1],[1815.2,1276.1],[1907.3,1276.1],[1999.5,1276.1],[2094.6,1276.1],[2188.2,1276.1],[2280.6,1276.1],[2374.2,1276.1],[2469.3,1276.1],[2562.9,1276.1],[-1428.3,1276.1],[-866.4,1276.1],[-961.5,1276.1],[-1055.1,1276.1],[-1147.4,1276.1],[-1241,1276.1],[-1336.1,1276.1],[-772.8,1276.1],[-1804,1276.1],[-1618,1276.1],[-1710.4,1276.1],[-1524.4,1276.1],[146.9,1204.1],[239.1,1204.1],[518.5,1204.1],[613.6,1204.1],[60.2,1204.1],[707.2,1204.1],[-678.4,1204.1],[-591.7,1204.1],[-499.5,1204.1],[-404.4,1204.1],[-312.2,1204.1],[-220.1,1204.1],[-125,1204.1],[-31.4,1204.1],[798.6,1204.1],[885.3,1204.1],[977.4,1204.1],[1072.5,1204.1],[1164.7,1204.1],[1256.9,1204.1],[1352,1204.1],[1445.6,1204.1],[1541.2,1204.1],[1627.9,1204.1],[1720.1,1204.1],[1815.2,1204.1],[1907.3,1204.1],[1999.5,1204.1],[2094.6,1204.1],[2188.2,1204.1],[2280.6,1204.1],[2374.2,1204.1],[2469.3,1204.1],[2562.9,1204.1],[-1428.3,1204.1],[-866.4,1204.1],[-961.5,1204.1],[-1055.1,1204.1],[-1147.4,1204.1],[-1241,1204.1],[-1336.1,1204.1],[-772.8,1204.1],[-1804,1204.1],[-1618,1204.1],[-1710.4,1204.1],[-1524.4,1204.1],[146.9,1133.5],[239.1,1133.5],[518.5,1133.5],[613.6,1133.5],[60.2,1133.5],[707.2,1133.5],[-678.4,1133.5],[-591.7,1133.5],[-499.5,1133.5],[-404.4,1133.5],[-312.2,1133.5],[-220.1,1133.5],[-125,1133.5],[-31.4,1133.5],[798.6,1133.5],[885.3,1133.5],[977.4,1133.5],[1072.5,1133.5],[1164.7,1133.5],[1256.9,1133.5],[1352,1133.5],[1445.6,1133.5],[1541.2,1133.5],[1627.9,1133.5],[1720.1,1133.5],[1815.2,1133.5],[1907.3,1133.5],[1999.5,1133.5],[2094.6,1133.5],[2188.2,1133.5],[2280.6,1133.5],[2374.2,1133.5],[2469.3,1133.5],[2562.9,1133.5],[-1428.3,1133.5],[-866.4,1133.5],[-961.5,1133.5],[-1055.1,1133.5],[-1147.4,1133.5],[-1241,1133.5],[-1336.1,1133.5],[-772.8,1133.5],[-1804,1133.5],[-1618,1133.5],[-1710.4,1133.5],[-1524.4,1133.5],[146.9,1062.5],[239.1,1062.5],[334.2,1062.5],[518.5,1062.5],[613.6,1062.5],[60.2,1062.5],[707.2,1062.5],[-678.4,1062.5],[-591.7,1062.5],[-499.5,1062.5],[-404.4,1062.5],[-312.2,1062.5],[-220.1,1062.5],[-125,1062.5],[-31.4,1062.5],[798.6,1062.5],[885.3,1062.5],[977.4,1062.5],[1072.5,1062.5],[1164.7,1062.5],[1256.9,1062.5],[1352,1062.5],[1445.6,1062.5],[1541.2,1062.5],[1627.9,1062.5],[1720.1,1062.5],[1815.2,1062.5],[1907.3,1062.5],[1999.5,1062.5],[2094.6,1062.5],[2188.2,1062.5],[2280.6,1062.5],[2374.2,1062.5],[2469.3,1062.5],[2562.9,1062.5],[-1428.3,1062.5],[-866.4,1062.5],[-961.5,1062.5],[-1055.1,1062.5],[-1147.4,1062.5],[-1241,1062.5],[-1336.1,1062.5],[-772.8,1062.5],[-1804,1062.5],[-1618,1062.5],[-1710.4,1062.5],[-1524.4,1062.5],[60.2,991.5],[707.2,991.5],[-678.4,991.5],[-591.7,991.5],[-499.5,991.5],[-404.4,991.5],[-312.2,991.5],[-220.1,991.5],[-125,991.5],[-31.4,991.5],[798.6,991.5],[885.3,991.5],[977.4,991.5],[1072.5,991.5],[1164.7,991.5],[1256.9,991.5],[1352,991.5],[1445.6,991.5],[1541.2,991.5],[1627.9,991.5],[1720.1,991.5],[1815.2,991.5],[1907.3,991.5],[1999.5,991.5],[2094.6,991.5],[2188.2,991.5],[2280.6,991.5],[2374.2,991.5],[2469.3,991.5],[2562.9,991.5],[-1428.3,991.5],[-866.4,991.5],[-961.5,991.5],[-1055.1,991.5],[-1147.4,991.5],[-1241,991.5],[-1336.1,991.5],[-772.8,991.5],[-1804,991.5],[-1618,991.5],[-1710.4,991.5],[-1524.4,991.5],[60.2,920.5],[707.2,920.5],[-678.4,920.5],[-591.7,920.5],[-499.5,920.5],[-404.4,920.5],[-312.2,920.5],[-220.1,920.5],[-125,920.5],[-31.4,920.5],[798.6,920.5],[885.3,920.5],[977.4,920.5],[1072.5,920.5],[1164.7,920.5],[1256.9,920.5],[1352,920.5],[1445.6,920.5],[1541.2,920.5],[1627.9,920.5],[1720.1,920.5],[1815.2,920.5],[1907.3,920.5],[1999.5,920.5],[2094.6,920.5],[2188.2,920.5],[2280.6,920.5],[2374.2,920.5],[2469.3,920.5],[2562.9,920.5],[-1428.3,920.5],[-866.4,920.5],[-961.5,920.5],[-1055.1,920.5],[-1147.4,920.5],[-1241,920.5],[-1336.1,920.5],[-772.8,920.5],[-1804,920.5],[-1618,920.5],[-1710.4,920.5],[-1524.4,920.5],[60.2,849.5],[707.2,849.5],[-678.4,849.5],[-591.7,849.5],[-499.5,849.5],[-404.4,849.5],[-312.2,849.5],[-220.1,849.5],[-125,849.5],[-31.4,849.5],[798.6,849.5],[885.3,849.5],[977.4,849.5],[1072.5,849.5],[1164.7,849.5],[1256.9,849.5],[1352,849.5],[1445.6,849.5],[1541.2,849.5],[1627.9,849.5],[1720.1,849.5],[1815.2,849.5],[1907.3,849.5],[1999.5,849.5],[2094.6,849.5],[2188.2,849.5],[2280.6,849.5],[2374.2,849.5],[2469.3,849.5],[2562.9,849.5],[-1428.3,849.5],[-866.4,849.5],[-961.5,849.5],[-1055.1,849.5],[-1147.4,849.5],[-1241,849.5],[-1336.1,849.5],[-772.8,849.5],[-1804,849.5],[-1618,849.5],[-1710.4,849.5],[-1524.4,849.5],[60.2,778.5],[707.2,778.5],[-678.4,778.5],[-591.7,778.5],[-499.5,778.5],[-404.4,778.5],[-312.2,778.5],[-220.1,778.5],[-125,778.5],[-31.4,778.5],[798.6,778.5],[885.3,778.5],[977.4,778.5],[1072.5,778.5],[1164.7,778.5],[1256.9,778.5],[1352,778.5],[1445.6,778.5],[1541.2,778.5],[1627.9,778.5],[1720.1,778.5],[1815.2,778.5],[1907.3,778.5],[1999.5,778.5],[2094.6,778.5],[2188.2,778.5],[2280.6,778.5],[2374.2,778.5],[2469.3,778.5],[2562.9,778.5],[-1428.3,778.5],[-866.4,778.5],[-961.5,778.5],[-1055.1,778.5],[-1147.4,778.5],[-1241,778.5],[-1336.1,778.5],[-772.8,778.5],[-1804,778.5],[-1618,778.5],[-1710.4,778.5],[-1524.4,778.5],[60.2,707.5],[707.2,707.5],[-678.4,707.5],[-591.7,707.5],[-499.5,707.5],[-404.4,707.5],[-312.2,707.5],[-220.1,707.5],[-125,707.5],[-31.4,707.5],[798.6,707.5],[885.3,707.5],[977.4,707.5],[1072.5,707.5],[1164.7,707.5],[1256.9,707.5],[1352,707.5],[1445.6,707.5],[1541.2,707.5],[1627.9,707.5],[1720.1,707.5],[1815.2,707.5],[1907.3,707.5],[1999.5,707.5],[2094.6,707.5],[2188.2,707.5],[2280.6,707.5],[2374.2,707.5],[2469.3,707.5],[2562.9,707.5],[-1428.3,707.5],[-866.4,707.5],[-961.5,707.5],[-1055.1,707.5],[-1147.4,707.5],[-1241,707.5],[-1336.1,707.5],[-772.8,707.5],[-1804,707.5],[-1618,707.5],[-1710.4,707.5],[-1524.4,707.5],[60.2,637],[707.2,637],[-678.4,637],[-591.7,637],[-499.5,637],[-404.4,637],[-312.2,637],[-220.1,637],[-125,637],[-31.4,637],[798.6,637],[885.3,637],[977.4,637],[1072.5,637],[1164.7,637],[1256.9,637],[1352,637],[1445.6,637],[1541.2,637],[1627.9,637],[1720.1,637],[1815.2,637],[1907.3,637],[1999.5,637],[2094.6,637],[2188.2,637],[2280.6,637],[2374.2,637],[2469.3,637],[2562.9,637],[-1428.3,637],[-866.4,637],[-961.5,637],[-1055.1,637],[-1147.4,637],[-1241,637],[-1336.1,637],[-772.8,637],[-1804,637],[-1618,637],[-1710.4,637],[-1524.4,637],[60.2,566.3],[707.2,566.3],[-678.4,566.3],[-591.7,566.3],[-499.5,566.3],[-404.4,566.3],[-312.2,566.3],[-220.1,566.3],[-125,566.3],[-31.4,566.3],[798.6,566.3],[885.3,566.3],[977.4,566.3],[1072.5,566.3],[1164.7,566.3],[1256.9,566.3],[1352,566.3],[1445.6,566.3],[1541.2,566.3],[1627.9,566.3],[1720.1,566.3],[1815.2,566.3],[1907.3,566.3],[1999.5,566.3],[2094.6,566.3],[2188.2,566.3],[2280.6,566.3],[2374.2,566.3],[2469.3,566.3],[2562.9,566.3],[-1428.3,566.3],[-866.4,566.3],[-961.5,566.3],[-1055.1,566.3],[-1147.4,566.3],[-1241,566.3],[-1336.1,566.3],[-772.8,566.3],[-1804,566.3],[-1618,566.3],[-1710.4,566.3],[-1524.4,566.3],[60.2,495.3],[707.2,495.3],[-678.4,495.3],[-591.7,495.3],[-499.5,495.3],[-404.4,495.3],[-312.2,495.3],[-220.1,495.3],[-125,495.3],[-31.4,495.3],[798.6,495.3],[885.3,495.3],[977.4,495.3],[1072.5,495.3],[1164.7,495.3],[1256.9,495.3],[1352,495.3],[1445.6,495.3],[1541.2,495.3],[1627.9,495.3],[1720.1,495.3],[1815.2,495.3],[1907.3,495.3],[1999.5,495.3],[2094.6,495.3],[2188.2,495.3],[2280.6,495.3],[2374.2,495.3],[2469.3,495.3],[2562.9,495.3],[-1428.3,495.3],[-866.4,495.3],[-961.5,495.3],[-1055.1,495.3],[-1147.4,495.3],[-1241,495.3],[-1336.1,495.3],[-772.8,495.3],[-1804,495.3],[-1618,495.3],[-1710.4,495.3],[-1524.4,495.3],[146.9,424.3],[239.1,424.3],[334.2,424.3],[426.3,424.3],[518.5,424.3],[613.6,424.3],[60.2,424.3],[707.2,424.3],[-678.4,424.3],[-591.7,424.3],[-499.5,424.3],[-404.4,424.3],[-312.2,424.3],[-220.1,424.3],[-125,424.3],[-31.4,424.3],[798.6,424.3],[885.3,424.3],[977.4,424.3],[1072.5,424.3],[1164.7,424.3],[1256.9,424.3],[1352,424.3],[1445.6,424.3],[1541.2,424.3],[1627.9,424.3],[1720.1,424.3],[1815.2,424.3],[1907.3,424.3],[1999.5,424.3],[2094.6,424.3],[2188.2,424.3],[2280.6,424.3],[2374.2,424.3],[2469.3,424.3],[2562.9,424.3],[-1428.3,424.3],[-866.4,424.3],[-961.5,424.3],[-1055.1,424.3],[-1147.4,424.3],[-1241,424.3],[-1336.1,424.3],[-772.8,424.3],[-1804,424.3],[-1618,424.3],[-1710.4,424.3],[-1524.4,424.3],[146.9,353.3],[239.1,353.3],[334.2,353.3],[426.3,353.3],[518.5,353.3],[613.6,353.3],[60.2,353.3],[707.2,353.3],[-678.4,353.3],[-591.7,353.3],[-499.5,353.3],[-404.4,353.3],[-312.2,353.3],[-220.1,353.3],[-125,353.3],[-31.4,353.3],[798.6,353.3],[885.3,353.3],[977.4,353.3],[1072.5,353.3],[1164.7,353.3],[1256.9,353.3],[1352,353.3],[1445.6,353.3],[1541.2,353.3],[1627.9,353.3],[1720.1,353.3],[1815.2,353.3],[1907.3,353.3],[1999.5,353.3],[2094.6,353.3],[2188.2,353.3],[2280.6,353.3],[2374.2,353.3],[2469.3,353.3],[2562.9,353.3],[-1428.3,353.3],[-866.4,353.3],[-961.5,353.3],[-1055.1,353.3],[-1147.4,353.3],[-1241,353.3],[-1336.1,353.3],[-772.8,353.3],[-1804,353.3],[-1618,353.3],[-1710.4,353.3],[-1524.4,353.3],[146.9,282.3],[239.1,282.3],[334.2,282.3],[426.3,282.3],[518.5,282.3],[613.6,282.3],[60.2,282.3],[707.2,282.3],[-678.4,282.3],[-591.7,282.3],[-499.5,282.3],[-404.4,282.3],[-312.2,282.3],[-220.1,282.3],[-125,282.3],[-31.4,282.3],[798.6,282.3],[885.3,282.3],[977.4,282.3],[1072.5,282.3],[1164.7,282.3],[1256.9,282.3],[1352,282.3],[1445.6,282.3],[1541.2,282.3],[1627.9,282.3],[1720.1,282.3],[1815.2,282.3],[1907.3,282.3],[1999.5,282.3],[2094.6,282.3],[2188.2,282.3],[2280.6,282.3],[2374.2,282.3],[2469.3,282.3],[2562.9,282.3],[-1428.3,282.3],[-866.4,282.3],[-961.5,282.3],[-1055.1,282.3],[-1147.4,282.3],[-1241,282.3],[-1336.1,282.3],[-772.8,282.3],[-1804,282.3],[-1618,282.3],[-1710.4,282.3],[-1524.4,282.3],[146.9,211.3],[239.1,211.3],[334.2,211.3],[426.3,211.3],[518.5,211.3],[613.6,211.3],[60.2,211.3],[707.2,211.3],[-678.4,211.3],[-591.7,211.3],[-499.5,211.3],[-404.4,211.3],[-312.2,211.3],[-220.1,211.3],[-125,211.3],[-31.4,211.3],[798.6,211.3],[885.3,211.3],[977.4,211.3],[1072.5,211.3],[1164.7,211.3],[1256.9,211.3],[1352,211.3],[1445.6,211.3],[1541.2,211.3],[1627.9,211.3],[1720.1,211.3],[1815.2,211.3],[1907.3,211.3],[1999.5,211.3],[2094.6,211.3],[2188.2,211.3],[2280.6,211.3],[2374.2,211.3],[2469.3,211.3],[2562.9,211.3],[-1428.3,211.3],[-866.4,211.3],[-961.5,211.3],[-1055.1,211.3],[-1147.4,211.3],[-1241,211.3],[-1336.1,211.3],[-772.8,211.3],[-1804,211.3],[-1618,211.3],[-1710.4,211.3],[-1524.4,211.3],[146.9,140.3],[239.1,140.3],[334.2,140.3],[426.3,140.3],[518.5,140.3],[613.6,140.3],[60.2,140.3],[707.2,140.3],[-678.4,140.3],[-591.7,140.3],[-499.5,140.3],[-404.4,140.3],[-312.2,140.3],[-220.1,140.3],[-125,140.3],[-31.4,140.3],[798.6,140.3],[885.3,140.3],[977.4,140.3],[1072.5,140.3],[1164.7,140.3],[1256.9,140.3],[1352,140.3],[1445.6,140.3],[1541.2,140.3],[1627.9,140.3],[1720.1,140.3],[1815.2,140.3],[1907.3,140.3],[1999.5,140.3],[2094.6,140.3],[2188.2,140.3],[2280.6,140.3],[2374.2,140.3],[2469.3,140.3],[2562.9,140.3],[-1428.3,140.3],[-866.4,140.3],[-961.5,140.3],[-1055.1,140.3],[-1147.4,140.3],[-1241,140.3],[-1336.1,140.3],[-772.8,140.3],[-1804,140.3],[-1618,140.3],[-1710.4,140.3],[-1524.4,140.3],[146.9,68.4],[239.1,68.4],[334.2,68.4],[426.3,68.4],[518.5,68.4],[613.6,68.4],[60.2,68.4],[707.2,68.4],[-678.4,68.4],[-591.7,68.4],[-499.5,68.4],[-404.4,68.4],[-312.2,68.4],[-220.1,68.4],[-125,68.4],[-31.4,68.4],[798.6,68.4],[885.3,68.4],[977.4,68.4],[1072.5,68.4],[1164.7,68.4],[1256.9,68.4],[1352,68.4],[1445.6,68.4],[1541.2,68.4],[1627.9,68.4],[1720.1,68.4],[1815.2,68.4],[1907.3,68.4],[1999.5,68.4],[2094.6,68.4],[2188.2,68.4],[2280.6,68.4],[2374.2,68.4],[2469.3,68.4],[2562.9,68.4],[-1428.3,68.4],[-866.4,68.4],[-961.5,68.4],[-1055.1,68.4],[-1147.4,68.4],[-1241,68.4],[-1336.1,68.4],[-772.8,68.4],[-1804,68.4],[-1618,68.4],[-1710.4,68.4],[-1524.4,68.4],[146.9,-2.3],[239.1,-2.3],[334.2,-2.3],[426.3,-2.3],[518.5,-2.3],[613.6,-2.3],[60.2,-2.3],[707.2,-2.3],[-678.4,-2.3],[-591.7,-2.3],[-499.5,-2.3],[-404.4,-2.3],[-312.2,-2.3],[-220.1,-2.3],[-125,-2.3],[-31.4,-2.3],[798.6,-2.3],[885.3,-2.3],[977.4,-2.3],[1072.5,-2.3],[1164.7,-2.3],[1256.9,-2.3],[1352,-2.3],[1445.6,-2.3],[1541.2,-2.3],[1627.9,-2.3],[1720.1,-2.3],[1815.2,-2.3],[1907.3,-2.3],[1999.5,-2.3],[2094.6,-2.3],[2188.2,-2.3],[2280.6,-2.3],[2374.2,-2.3],[2469.3,-2.3],[2562.9,-2.3],[-1428.3,-2.3],[-866.4,-2.3],[-961.5,-2.3],[-1055.1,-2.3],[-1147.4,-2.3],[-1241,-2.3],[-1336.1,-2.3],[-772.8,-2.3],[-1804,-2.3],[-1618,-2.3],[-1710.4,-2.3],[-1524.4,-2.3],[146.9,-73.3],[239.1,-73.3],[334.2,-73.3],[426.3,-73.3],[518.5,-73.3],[613.6,-73.3],[60.2,-73.3],[707.2,-73.3],[-678.4,-73.3],[-591.7,-73.3],[-499.5,-73.3],[-404.4,-73.3],[-312.2,-73.3],[-220.1,-73.3],[-125,-73.3],[-31.4,-73.3],[798.6,-73.3],[885.3,-73.3],[977.4,-73.3],[1072.5,-73.3],[1164.7,-73.3],[1256.9,-73.3],[1352,-73.3],[1445.6,-73.3],[1541.2,-73.3],[1627.9,-73.3],[1720.1,-73.3],[1815.2,-73.3],[1907.3,-73.3],[1999.5,-73.3],[2094.6,-73.3],[2188.2,-73.3],[2280.6,-73.3],[2374.2,-73.3],[2469.3,-73.3],[2562.9,-73.3],[-1428.3,-73.3],[-866.4,-73.3],[-961.5,-73.3],[-1055.1,-73.3],[-1147.4,-73.3],[-1241,-73.3],[-1336.1,-73.3],[-772.8,-73.3],[-1804,-73.3],[-1618,-73.3],[-1710.4,-73.3],[-1524.4,-73.3],[146.9,-144.3],[239.1,-144.3],[334.2,-144.3],[426.3,-144.3],[518.5,-144.3],[613.6,-144.3],[60.2,-144.3],[707.2,-144.3],[-678.4,-144.3],[-591.7,-144.3],[-499.5,-144.3],[-404.4,-144.3],[-312.2,-144.3],[-220.1,-144.3],[-125,-144.3],[-31.4,-144.3],[798.6,-144.3],[885.3,-144.3],[977.4,-144.3],[1072.5,-144.3],[1164.7,-144.3],[1256.9,-144.3],[1352,-144.3],[1445.6,-144.3],[1541.2,-144.3],[1627.9,-144.3],[1720.1,-144.3],[1815.2,-144.3],[1907.3,-144.3],[1999.5,-144.3],[2094.6,-144.3],[2188.2,-144.3],[2280.6,-144.3],[2374.2,-144.3],[2469.3,-144.3],[2562.9,-144.3],[-1428.3,-144.3],[-866.4,-144.3],[-961.5,-144.3],[-1055.1,-144.3],[-1147.4,-144.3],[-1241,-144.3],[-1336.1,-144.3],[-772.8,-144.3],[-1804,-144.3],[-1618,-144.3],[-1710.4,-144.3],[-1524.4,-144.3],[146.9,-215.3],[239.1,-215.3],[334.2,-215.3],[426.3,-215.3],[518.5,-215.3],[613.6,-215.3],[60.2,-215.3],[707.2,-215.3],[-678.4,-215.3],[-591.7,-215.3],[-499.5,-215.3],[-404.4,-215.3],[-312.2,-215.3],[-220.1,-215.3],[-125,-215.3],[-31.4,-215.3],[798.6,-215.3],[885.3,-215.3],[977.4,-215.3],[1072.5,-215.3],[1164.7,-215.3],[1256.9,-215.3],[1352,-215.3],[1445.6,-215.3],[1541.2,-215.3],[1627.9,-215.3],[1720.1,-215.3],[1815.2,-215.3],[1907.3,-215.3],[1999.5,-215.3],[2094.6,-215.3],[2188.2,-215.3],[2280.6,-215.3],[2374.2,-215.3],[2469.3,-215.3],[2562.9,-215.3],[-1428.3,-215.3],[-866.4,-215.3],[-961.5,-215.3],[-1055.1,-215.3],[-1147.4,-215.3],[-1241,-215.3],[-1336.1,-215.3],[-772.8,-215.3],[-1804,-215.3],[-1618,-215.3],[-1710.4,-215.3],[-1524.4,-215.3],[146.9,-286.3],[239.1,-286.3],[334.2,-286.3],[426.3,-286.3],[518.5,-286.3],[613.6,-286.3],[60.2,-286.3],[707.2,-286.3],[-678.4,-286.3],[-591.7,-286.3],[-499.5,-286.3],[-404.4,-286.3],[-312.2,-286.3],[-220.1,-286.3],[-125,-286.3],[-31.4,-286.3],[798.6,-286.3],[885.3,-286.3],[977.4,-286.3],[1072.5,-286.3],[1164.7,-286.3],[1256.9,-286.3],[1352,-286.3],[1445.6,-286.3],[1541.2,-286.3],[1627.9,-286.3],[1720.1,-286.3],[1815.2,-286.3],[1907.3,-286.3],[1999.5,-286.3],[2094.6,-286.3],[2188.2,-286.3],[2280.6,-286.3],[2374.2,-286.3],[2469.3,-286.3],[2562.9,-286.3],[-1428.3,-286.3],[-866.4,-286.3],[-961.5,-286.3],[-1055.1,-286.3],[-1147.4,-286.3],[-1241,-286.3],[-1336.1,-286.3],[-772.8,-286.3],[-1804,-286.3],[-1618,-286.3],[-1710.4,-286.3],[-1524.4,-286.3],[146.9,-357.3],[239.1,-357.3],[334.2,-357.3],[426.3,-357.3],[518.5,-357.3],[613.6,-357.3],[60.2,-357.3],[707.2,-357.3],[-678.4,-357.3],[-591.7,-357.3],[-499.5,-357.3],[-404.4,-357.3],[-312.2,-357.3],[-220.1,-357.3],[-125,-357.3],[-31.4,-357.3],[798.6,-357.3],[885.3,-357.3],[977.4,-357.3],[1072.5,-357.3],[1164.7,-357.3],[1256.9,-357.3],[1352,-357.3],[1445.6,-357.3],[1541.2,-357.3],[1627.9,-357.3],[1720.1,-357.3],[1815.2,-357.3],[1907.3,-357.3],[1999.5,-357.3],[2094.6,-357.3],[2188.2,-357.3],[2280.6,-357.3],[2374.2,-357.3],[2469.3,-357.3],[2562.9,-357.3],[-1428.3,-357.3],[-866.4,-357.3],[-961.5,-357.3],[-1055.1,-357.3],[-1147.4,-357.3],[-1241,-357.3],[-1336.1,-357.3],[-772.8,-357.3],[-1804,-357.3],[-1618,-357.3],[-1710.4,-357.3],[-1524.4,-357.3],[146.9,-428.3],[239.1,-428.3],[334.2,-428.3],[426.3,-428.3],[518.5,-428.3],[613.6,-428.3],[60.2,-428.3],[707.2,-428.3],[-678.4,-428.3],[-591.7,-428.3],[-499.5,-428.3],[-404.4,-428.3],[-312.2,-428.3],[-220.1,-428.3],[-125,-428.3],[-31.4,-428.3],[798.6,-428.3],[885.3,-428.3],[977.4,-428.3],[1072.5,-428.3],[1164.7,-428.3],[1256.9,-428.3],[1352,-428.3],[1445.6,-428.3],[1541.2,-428.3],[1627.9,-428.3],[1720.1,-428.3],[1815.2,-428.3],[1907.3,-428.3],[1999.5,-428.3],[2094.6,-428.3],[2188.2,-428.3],[2280.6,-428.3],[2374.2,-428.3],[2469.3,-428.3],[2562.9,-428.3],[-1428.3,-428.3],[-866.4,-428.3],[-961.5,-428.3],[-1055.1,-428.3],[-1147.4,-428.3],[-1241,-428.3],[-1336.1,-428.3],[-772.8,-428.3],[-1804,-428.3],[-1618,-428.3],[-1710.4,-428.3],[-1524.4,-428.3],[146.9,-497.6],[239.1,-497.6],[334.2,-497.6],[426.3,-497.6],[518.5,-497.6],[613.6,-497.6],[60.2,-497.6],[707.2,-497.6],[-678.4,-497.6],[-591.7,-497.6],[-499.5,-497.6],[-404.4,-497.6],[-312.2,-497.6],[-220.1,-497.6],[-125,-497.6],[-31.4,-497.6],[798.6,-497.6],[885.3,-497.6],[977.4,-497.6],[1072.5,-497.6],[1164.7,-497.6],[1256.9,-497.6],[1352,-497.6],[1445.6,-497.6],[1541.2,-497.6],[1627.9,-497.6],[1720.1,-497.6],[1815.2,-497.6],[1907.3,-497.6],[1999.5,-497.6],[2094.6,-497.6],[2188.2,-497.6],[2280.6,-497.6],[2374.2,-497.6],[2469.3,-497.6],[2562.9,-497.6],[-1428.3,-497.6],[-866.4,-497.6],[-961.5,-497.6],[-1055.1,-497.6],[-1147.4,-497.6],[-1241,-497.6],[-1336.1,-497.6],[-772.8,-497.6],[-1804,-497.6],[-1618,-497.6],[-1710.4,-497.6],[-1524.4,-497.6],[146.9,-568.3],[239.1,-568.3],[334.2,-568.3],[426.3,-568.3],[518.5,-568.3],[613.6,-568.3],[60.2,-568.3],[707.2,-568.3],[-678.4,-568.3],[-591.7,-568.3],[-499.5,-568.3],[-404.4,-568.3],[-312.2,-568.3],[-220.1,-568.3],[-125,-568.3],[-31.4,-568.3],[798.6,-568.3],[885.3,-568.3],[977.4,-568.3],[1072.5,-568.3],[1164.7,-568.3],[1256.9,-568.3],[1352,-568.3],[1445.6,-568.3],[1541.2,-568.3],[1627.9,-568.3],[1720.1,-568.3],[1815.2,-568.3],[1907.3,-568.3],[1999.5,-568.3],[2094.6,-568.3],[2188.2,-568.3],[2280.6,-568.3],[2374.2,-568.3],[2469.3,-568.3],[2562.9,-568.3],[-1428.3,-568.3],[-866.4,-568.3],[-961.5,-568.3],[-1055.1,-568.3],[-1147.4,-568.3],[-1241,-568.3],[-1336.1,-568.3],[-772.8,-568.3],[-1804,-568.3],[-1618,-568.3],[-1710.4,-568.3],[-1524.4,-568.3],[146.9,-639.3],[239.1,-639.3],[334.2,-639.3],[426.3,-639.3],[518.5,-639.3],[613.6,-639.3],[60.2,-639.3],[707.2,-639.3],[-678.4,-639.3],[-591.7,-639.3],[-499.5,-639.3],[-404.4,-639.3],[-312.2,-639.3],[-220.1,-639.3],[-125,-639.3],[-31.4,-639.3],[798.6,-639.3],[885.3,-639.3],[977.4,-639.3],[1072.5,-639.3],[1164.7,-639.3],[1256.9,-639.3],[1352,-639.3],[1445.6,-639.3],[1541.2,-639.3],[1627.9,-639.3],[1720.1,-639.3],[1815.2,-639.3],[1907.3,-639.3],[1999.5,-639.3],[2094.6,-639.3],[2188.2,-639.3],[2280.6,-639.3],[2374.2,-639.3],[2469.3,-639.3],[2562.9,-639.3],[-1428.3,-639.3],[-866.4,-639.3],[-961.5,-639.3],[-1055.1,-639.3],[-1147.4,-639.3],[-1241,-639.3],[-1336.1,-639.3],[-772.8,-639.3],[-1804,-639.3],[-1618,-639.3],[-1710.4,-639.3],[-1524.4,-639.3],[146.9,-710.3],[239.1,-710.3],[334.2,-710.3],[426.3,-710.3],[518.5,-710.3],[613.6,-710.3],[60.2,-710.3],[707.2,-710.3],[-678.4,-710.3],[-591.7,-710.3],[-499.5,-710.3],[-404.4,-710.3],[-312.2,-710.3],[-220.1,-710.3],[-125,-710.3],[-31.4,-710.3],[798.6,-710.3],[885.3,-710.3],[977.4,-710.3],[1072.5,-710.3],[1164.7,-710.3],[1256.9,-710.3],[1352,-710.3],[1445.6,-710.3],[1541.2,-710.3],[1627.9,-710.3],[1720.1,-710.3],[1815.2,-710.3],[1907.3,-710.3],[1999.5,-710.3],[2094.6,-710.3],[2188.2,-710.3],[2280.6,-710.3],[2374.2,-710.3],[2469.3,-710.3],[2562.9,-710.3],[-1428.3,-710.3],[-866.4,-710.3],[-961.5,-710.3],[-1055.1,-710.3],[-1147.4,-710.3],[-1241,-710.3],[-1336.1,-710.3],[-772.8,-710.3],[-1804,-710.3],[-1618,-710.3],[-1710.4,-710.3],[-1524.4,-710.3],[146.9,-781.3],[239.1,-781.3],[334.2,-781.3],[426.3,-781.3],[518.5,-781.3],[613.6,-781.3],[60.2,-781.3],[707.2,-781.3],[-678.4,-781.3],[-591.7,-781.3],[-499.5,-781.3],[-404.4,-781.3],[-312.2,-781.3],[-220.1,-781.3],[-125,-781.3],[-31.4,-781.3],[798.6,-781.3],[885.3,-781.3],[977.4,-781.3],[1072.5,-781.3],[1164.7,-781.3],[1256.9,-781.3],[1352,-781.3],[1445.6,-781.3],[1541.2,-781.3],[1627.9,-781.3],[1720.1,-781.3],[1815.2,-781.3],[1907.3,-781.3],[1999.5,-781.3],[2094.6,-781.3],[2188.2,-781.3],[2280.6,-781.3],[2374.2,-781.3],[2469.3,-781.3],[2562.9,-781.3],[-1428.3,-781.3],[-866.4,-781.3],[-961.5,-781.3],[-1055.1,-781.3],[-1147.4,-781.3],[-1241,-781.3],[-1336.1,-781.3],[-772.8,-781.3],[-1804,-781.3],[-1618,-781.3],[-1710.4,-781.3],[-1524.4,-781.3],[146.9,-852.3],[239.1,-852.3],[334.2,-852.3],[426.3,-852.3],[518.5,-852.3],[613.6,-852.3],[60.2,-852.3],[707.2,-852.3],[-678.4,-852.3],[-591.7,-852.3],[-499.5,-852.3],[-404.4,-852.3],[-312.2,-852.3],[-220.1,-852.3],[-125,-852.3],[-31.4,-852.3],[798.6,-852.3],[885.3,-852.3],[977.4,-852.3],[1072.5,-852.3],[1164.7,-852.3],[1256.9,-852.3],[1352,-852.3],[1445.6,-852.3],[1541.2,-852.3],[1627.9,-852.3],[1720.1,-852.3],[1815.2,-852.3],[1907.3,-852.3],[1999.5,-852.3],[2094.6,-852.3],[2188.2,-852.3],[2280.6,-852.3],[2374.2,-852.3],[2469.3,-852.3],[2562.9,-852.3],[-1428.3,-852.3],[-866.4,-852.3],[-961.5,-852.3],[-1055.1,-852.3],[-1147.4,-852.3],[-1241,-852.3],[-1336.1,-852.3],[-772.8,-852.3],[-1804,-852.3],[-1618,-852.3],[-1710.4,-852.3],[-1524.4,-852.3],[146.9,-923.3],[239.1,-923.3],[334.2,-923.3],[426.3,-923.3],[518.5,-923.3],[613.6,-923.3],[60.2,-923.3],[707.2,-923.3],[-678.4,-923.3],[-591.7,-923.3],[-499.5,-923.3],[-404.4,-923.3],[-312.2,-923.3],[-220.1,-923.3],[-125,-923.3],[-31.4,-923.3],[798.6,-923.3],[885.3,-923.3],[977.4,-923.3],[1072.5,-923.3],[1164.7,-923.3],[1256.9,-923.3],[1352,-923.3],[1445.6,-923.3],[1541.2,-923.3],[1627.9,-923.3],[1720.1,-923.3],[1815.2,-923.3],[1907.3,-923.3],[1999.5,-923.3],[2094.6,-923.3],[2188.2,-923.3],[2280.6,-923.3],[2374.2,-923.3],[2469.3,-923.3],[2562.9,-923.3],[-1428.3,-923.3],[-866.4,-923.3],[-961.5,-923.3],[-1055.1,-923.3],[-1147.4,-923.3],[-1241,-923.3],[-1336.1,-923.3],[-772.8,-923.3],[-1804,-923.3],[-1618,-923.3],[-1710.4,-923.3],[-1524.4,-923.3],[146.9,-994.3],[239.1,-994.3],[334.2,-994.3],[426.3,-994.3],[518.5,-994.3],[613.6,-994.3],[60.2,-994.3],[707.2,-994.3],[-678.4,-994.3],[-591.7,-994.3],[-499.5,-994.3],[-404.4,-994.3],[-312.2,-994.3],[-220.1,-994.3],[-125,-994.3],[-31.4,-994.3],[798.6,-994.3],[885.3,-994.3],[977.4,-994.3],[1072.5,-994.3],[1164.7,-994.3],[1256.9,-994.3],[1352,-994.3],[1445.6,-994.3],[1541.2,-994.3],[1627.9,-994.3],[1720.1,-994.3],[1815.2,-994.3],[1907.3,-994.3],[1999.5,-994.3],[2094.6,-994.3],[2188.2,-994.3],[2280.6,-994.3],[2374.2,-994.3],[2469.3,-994.3],[2562.9,-994.3],[-1428.3,-994.3],[-866.4,-994.3],[-961.5,-994.3],[-1055.1,-994.3],[-1147.4,-994.3],[-1241,-994.3],[-1336.1,-994.3],[-772.8,-994.3],[-1804,-994.3],[-1618,-994.3],[-1710.4,-994.3],[-1524.4,-994.3],[146.9,-1066.2],[239.1,-1066.2],[334.2,-1066.2],[426.3,-1066.2],[518.5,-1066.2],[613.6,-1066.2],[60.2,-1066.2],[707.2,-1066.2],[-678.4,-1066.2],[-591.7,-1066.2],[-499.5,-1066.2],[-404.4,-1066.2],[-312.2,-1066.2],[-220.1,-1066.2],[-125,-1066.2],[-31.4,-1066.2],[798.6,-1066.2],[885.3,-1066.2],[977.4,-1066.2],[1072.5,-1066.2],[1164.7,-1066.2],[1256.9,-1066.2],[1352,-1066.2],[1445.6,-1066.2],[1541.2,-1066.2],[1627.9,-1066.2],[1720.1,-1066.2],[1815.2,-1066.2],[1907.3,-1066.2],[1999.5,-1066.2],[2094.6,-1066.2],[2188.2,-1066.2],[2280.6,-1066.2],[2374.2,-1066.2],[2469.3,-1066.2],[2562.9,-1066.2],[-1428.3,-1066.2],[-866.4,-1066.2],[-961.5,-1066.2],[-1055.1,-1066.2],[-1147.4,-1066.2],[-1241,-1066.2],[-1336.1,-1066.2],[-772.8,-1066.2],[-1804,-1066.2],[-1618,-1066.2],[-1710.4,-1066.2],[-1524.4,-1066.2],[146.9,-1136.9],[239.1,-1136.9],[334.2,-1136.9],[426.3,-1136.9],[518.5,-1136.9],[613.6,-1136.9],[60.2,-1136.9],[707.2,-1136.9],[-678.4,-1136.9],[-591.7,-1136.9],[-499.5,-1136.9],[-404.4,-1136.9],[-312.2,-1136.9],[-220.1,-1136.9],[-125,-1136.9],[-31.4,-1136.9],[798.6,-1136.9],[885.3,-1136.9],[977.4,-1136.9],[1072.5,-1136.9],[1164.7,-1136.9],[1256.9,-1136.9],[1352,-1136.9],[1445.6,-1136.9],[1541.2,-1136.9],[1627.9,-1136.9],[1720.1,-1136.9],[1815.2,-1136.9],[1907.3,-1136.9],[1999.5,-1136.9],[2094.6,-1136.9],[2188.2,-1136.9],[2280.6,-1136.9],[2374.2,-1136.9],[2469.3,-1136.9],[2562.9,-1136.9],[-1428.3,-1136.9],[-866.4,-1136.9],[-961.5,-1136.9],[-1055.1,-1136.9],[-1147.4,-1136.9],[-1241,-1136.9],[-1336.1,-1136.9],[-772.8,-1136.9],[-1804,-1136.9],[-1618,-1136.9],[-1710.4,-1136.9],[-1524.4,-1136.9],[146.9,-1207.9],[239.1,-1207.9],[334.2,-1207.9],[426.3,-1207.9],[518.5,-1207.9],[613.6,-1207.9],[60.2,-1207.9],[707.2,-1207.9],[-678.4,-1207.9],[-591.7,-1207.9],[-499.5,-1207.9],[-404.4,-1207.9],[-312.2,-1207.9],[-220.1,-1207.9],[-125,-1207.9],[-31.4,-1207.9],[798.6,-1207.9],[885.3,-1207.9],[977.4,-1207.9],[1072.5,-1207.9],[1164.7,-1207.9],[1256.9,-1207.9],[1352,-1207.9],[1445.6,-1207.9],[1541.2,-1207.9],[1627.9,-1207.9],[1720.1,-1207.9],[1815.2,-1207.9],[1907.3,-1207.9],[1999.5,-1207.9],[2094.6,-1207.9],[2188.2,-1207.9],[2280.6,-1207.9],[2374.2,-1207.9],[2469.3,-1207.9],[2562.9,-1207.9],[-1428.3,-1207.9],[-866.4,-1207.9],[-961.5,-1207.9],[-1055.1,-1207.9],[-1147.4,-1207.9],[-1241,-1207.9],[-1336.1,-1207.9],[-772.8,-1207.9],[-1804,-1207.9],[-1618,-1207.9],[-1710.4,-1207.9],[-1524.4,-1207.9],[146.9,-1278.9],[239.1,-1278.9],[334.2,-1278.9],[426.3,-1278.9],[518.5,-1278.9],[613.6,-1278.9],[60.2,-1278.9],[707.2,-1278.9],[-678.4,-1278.9],[-591.7,-1278.9],[-499.5,-1278.9],[-404.4,-1278.9],[-312.2,-1278.9],[-220.1,-1278.9],[-125,-1278.9],[-31.4,-1278.9],[798.6,-1278.9],[885.3,-1278.9],[977.4,-1278.9],[1072.5,-1278.9],[1164.7,-1278.9],[1256.9,-1278.9],[1352,-1278.9],[1445.6,-1278.9],[1541.2,-1278.9],[1627.9,-1278.9],[1720.1,-1278.9],[1815.2,-1278.9],[1907.3,-1278.9],[1999.5,-1278.9],[2094.6,-1278.9],[2188.2,-1278.9],[2280.6,-1278.9],[2374.2,-1278.9],[2469.3,-1278.9],[2562.9,-1278.9],[-1428.3,-1278.9],[-866.4,-1278.9],[-961.5,-1278.9],[-1055.1,-1278.9],[-1147.4,-1278.9],[-1241,-1278.9],[-1336.1,-1278.9],[-772.8,-1278.9],[-1804,-1278.9],[-1618,-1278.9],[-1710.4,-1278.9],[-1524.4,-1278.9],[146.9,-1349.9],[239.1,-1349.9],[334.2,-1349.9],[426.3,-1349.9],[518.5,-1349.9],[613.6,-1349.9],[60.2,-1349.9],[707.2,-1349.9],[-678.4,-1349.9],[-591.7,-1349.9],[-499.5,-1349.9],[-404.4,-1349.9],[-312.2,-1349.9],[-220.1,-1349.9],[-125,-1349.9],[-31.4,-1349.9],[798.6,-1349.9],[885.3,-1349.9],[977.4,-1349.9],[1072.5,-1349.9],[1164.7,-1349.9],[1256.9,-1349.9],[1352,-1349.9],[1445.6,-1349.9],[1541.2,-1349.9],[1627.9,-1349.9],[1720.1,-1349.9],[1815.2,-1349.9],[1907.3,-1349.9],[1999.5,-1349.9],[2094.6,-1349.9],[2188.2,-1349.9],[2280.6,-1349.9],[2374.2,-1349.9],[2469.3,-1349.9],[2562.9,-1349.9],[-1428.3,-1349.9],[-866.4,-1349.9],[-961.5,-1349.9],[-1055.1,-1349.9],[-1147.4,-1349.9],[-1241,-1349.9],[-1336.1,-1349.9],[-772.8,-1349.9],[-1804,-1349.9],[-1618,-1349.9],[-1710.4,-1349.9],[-1524.4,-1349.9],[146.9,-1420.9],[239.1,-1420.9],[334.2,-1420.9],[426.3,-1420.9],[518.5,-1420.9],[613.6,-1420.9],[60.2,-1420.9],[707.2,-1420.9],[-678.4,-1420.9],[-591.7,-1420.9],[-499.5,-1420.9],[-404.4,-1420.9],[-312.2,-1420.9],[-220.1,-1420.9],[-125,-1420.9],[-31.4,-1420.9],[798.6,-1420.9],[885.3,-1420.9],[977.4,-1420.9],[1072.5,-1420.9],[1164.7,-1420.9],[1256.9,-1420.9],[1352,-1420.9],[1445.6,-1420.9],[1541.2,-1420.9],[1627.9,-1420.9],[1720.1,-1420.9],[1815.2,-1420.9],[1907.3,-1420.9],[1999.5,-1420.9],[2094.6,-1420.9],[2188.2,-1420.9],[2280.6,-1420.9],[2374.2,-1420.9],[2469.3,-1420.9],[2562.9,-1420.9],[-1428.3,-1420.9],[-866.4,-1420.9],[-961.5,-1420.9],[-1055.1,-1420.9],[-1147.4,-1420.9],[-1241,-1420.9],[-1336.1,-1420.9],[-772.8,-1420.9],[-1804,-1420.9],[-1618,-1420.9],[-1710.4,-1420.9],[-1524.4,-1420.9]]),e("TREE_BOX",[[[2677,2678,2679,2680,2725,2726,2727,2728,2773,2774,2775,2776,2821,2822,2823,2824,2869,2870,2871,2872,2917,2918,2919,2920],[2669,2673,2674,2675,2717,2721,2722,2723,2765,2769,2770,2771,2813,2817,2818,2819,2861,2865,2866,2867,2909,2913,2914,2915],[2670,2671,2672,2676,2718,2719,2720,2724,2766,2767,2768,2772,2814,2815,2816,2820,2862,2863,2864,2868,2910,2911,2912,2916],[2641,2642,2643,2644,2689,2690,2691,2692,2737,2738,2739,2740,2785,2786,2787,2788,2833,2834,2835,2836,2881,2882,2883,2884],[2645,2646,2647,2648,2693,2694,2695,2696,2741,2742,2743,2744,2789,2790,2791,2792,2837,2838,2839,2840,2885,2886,2887,2888],[2633,2634,2635,2639,2681,2682,2683,2687,2729,2730,2731,2735,2777,2778,2779,2783,2825,2826,2827,2831,2873,2874,2875,2879],[2636,2637,2638,2640,2684,2685,2686,2688,2732,2733,2734,2736,2780,2781,2782,2784,2828,2829,2830,2832,2876,2877,2878,2880],[2649,2650,2651,2652,2697,2698,2699,2700,2745,2746,2747,2748,2793,2794,2795,2796,2841,2842,2843,2844,2889,2890,2891,2892],[2653,2654,2655,2656,2701,2702,2703,2704,2749,2750,2751,2752,2797,2798,2799,2800,2845,2846,2847,2848,2893,2894,2895,2896],[2657,2658,2659,2660,2705,2706,2707,2708,2753,2754,2755,2756,2801,2802,2803,2804,2849,2850,2851,2852,2897,2898,2899,2900],[2661,2662,2663,2664,2709,2710,2711,2712,2757,2758,2759,2760,2805,2806,2807,2808,2853,2854,2855,2856,2901,2902,2903,2904],[2665,2666,2667,2668,2713,2714,2715,2716,2761,2762,2763,2764,2809,2810,2811,2812,2857,2858,2859,2860,2905,2906,2907,2908]],[[2437,2438,2439,2440,2485,2486,2487,2488,2533,2534,2535,2536,2581,2582,2583,2584,2629,2630,2631,2632],[2429,2433,2434,2435,2477,2481,2482,2483,2525,2529,2530,2531,2573,2577,2578,2579,2621,2625,2626,2627],[2430,2431,2432,2436,2478,2479,2480,2484,2526,2527,2528,2532,2574,2575,2576,2580,2622,2623,2624,2628],[2401,2402,2403,2404,2449,2450,2451,2452,2497,2498,2499,2500,2545,2546,2547,2548,2593,2594,2595,2596],[2405,2406,2407,2408,2453,2454,2455,2456,2501,2502,2503,2504,2549,2550,2551,2552,2597,2598,2599,2600],[2393,2394,2395,2399,2441,2442,2443,2447,2489,2490,2491,2495,2537,2538,2539,2543,2585,2586,2587,2591],[2396,2397,2398,2400,2444,2445,2446,2448,2492,2493,2494,2496,2540,2541,2542,2544,2588,2589,2590,2592],[2409,2410,2411,2412,2457,2458,2459,2460,2505,2506,2507,2508,2553,2554,2555,2556,2601,2602,2603,2604],[2413,2414,2415,2416,2461,2462,2463,2464,2509,2510,2511,2512,2557,2558,2559,2560,2605,2606,2607,2608],[2417,2418,2419,2420,2465,2466,2467,2468,2513,2514,2515,2516,2561,2562,2563,2564,2609,2610,2611,2612],[2421,2422,2423,2424,2469,2470,2471,2472,2517,2518,2519,2520,2565,2566,2567,2568,2613,2614,2615,2616],[2425,2426,2427,2428,2473,2474,2475,2476,2521,2522,2523,2524,2569,2570,2571,2572,2617,2618,2619,2620]],[[2197,2198,2199,2200,2245,2246,2247,2248,2293,2294,2295,2296,2341,2342,2343,2344,2389,2390,2391,2392],[2189,2193,2194,2195,2237,2241,2242,2243,2285,2289,2290,2291,2333,2337,2338,2339,2381,2385,2386,2387],[2190,2191,2192,2196,2238,2239,2240,2244,2286,2287,2288,2292,2334,2335,2336,2340,2382,2383,2384,2388],[2161,2162,2163,2164,2209,2210,2211,2212,2257,2258,2259,2260,2305,2306,2307,2308,2353,2354,2355,2356],[2165,2166,2167,2168,2213,2214,2215,2216,2261,2262,2263,2264,2309,2310,2311,2312,2357,2358,2359,2360],[2153,2154,2155,2159,2201,2202,2203,2207,2249,2250,2251,2255,2297,2298,2299,2303,2345,2346,2347,2351],[2156,2157,2158,2160,2204,2205,2206,2208,2252,2253,2254,2256,2300,2301,2302,2304,2348,2349,2350,2352],[2169,2170,2171,2172,2217,2218,2219,2220,2265,2266,2267,2268,2313,2314,2315,2316,2361,2362,2363,2364],[2173,2174,2175,2176,2221,2222,2223,2224,2269,2270,2271,2272,2317,2318,2319,2320,2365,2366,2367,2368],[2177,2178,2179,2180,2225,2226,2227,2228,2273,2274,2275,2276,2321,2322,2323,2324,2369,2370,2371,2372],[2181,2182,2183,2184,2229,2230,2231,2232,2277,2278,2279,2280,2325,2326,2327,2328,2373,2374,2375,2376],[2185,2186,2187,2188,2233,2234,2235,2236,2281,2282,2283,2284,2329,2330,2331,2332,2377,2378,2379,2380]],[[1957,1958,1959,1960,2005,2006,2007,2008,2053,2054,2055,2056,2101,2102,2103,2104,2149,2150,2151,2152],[1949,1953,1954,1955,1997,2001,2002,2003,2045,2049,2050,2051,2093,2097,2098,2099,2141,2145,2146,2147],[1950,1951,1952,1956,1998,1999,2e3,2004,2046,2047,2048,2052,2094,2095,2096,2100,2142,2143,2144,2148],[1921,1922,1923,1924,1969,1970,1971,1972,2017,2018,2019,2020,2065,2066,2067,2068,2113,2114,2115,2116],[1925,1926,1927,1928,1973,1974,1975,1976,2021,2022,2023,2024,2069,2070,2071,2072,2117,2118,2119,2120],[1913,1914,1915,1919,1961,1962,1963,1967,2009,2010,2011,2015,2057,2058,2059,2063,2105,2106,2107,2111],[1916,1917,1918,1920,1964,1965,1966,1968,2012,2013,2014,2016,2060,2061,2062,2064,2108,2109,2110,2112],[1929,1930,1931,1932,1977,1978,1979,1980,2025,2026,2027,2028,2073,2074,2075,2076,2121,2122,2123,2124],[1933,1934,1935,1936,1981,1982,1983,1984,2029,2030,2031,2032,2077,2078,2079,2080,2125,2126,2127,2128],[1937,1938,1939,1940,1985,1986,1987,1988,2033,2034,2035,2036,2081,2082,2083,2084,2129,2130,2131,2132],[1941,1942,1943,1944,1989,1990,1991,1992,2037,2038,2039,2040,2085,2086,2087,2088,2133,2134,2135,2136],[1945,1946,1947,1948,1993,1994,1995,1996,2041,2042,2043,2044,2089,2090,2091,2092,2137,2138,2139,2140]],[[1669,1670,1671,1672,1717,1718,1719,1720,1765,1766,1767,1768,1813,1814,1815,1816,1861,1862,1863,1864,1909,1910,1911,1912],[1661,1665,1666,1667,1709,1713,1714,1715,1757,1761,1762,1763,1805,1809,1810,1811,1853,1857,1858,1859,1901,1905,1906,1907],[1662,1663,1664,1668,1710,1711,1712,1716,1758,1759,1760,1764,1806,1807,1808,1812,1854,1855,1856,1860,1902,1903,1904,1908],[1633,1634,1635,1636,1681,1682,1683,1684,1729,1730,1731,1732,1777,1778,1779,1780,1825,1826,1827,1828,1873,1874,1875,1876],[1637,1638,1639,1640,1685,1686,1687,1688,1733,1734,1735,1736,1781,1782,1783,1784,1829,1830,1831,1832,1877,1878,1879,1880],[1625,1626,1627,1631,1673,1674,1675,1679,1721,1722,1723,1727,1769,1770,1771,1775,1817,1818,1819,1823,1865,1866,1867,1871],[1628,1629,1630,1632,1676,1677,1678,1680,1724,1725,1726,1728,1772,1773,1774,1776,1820,1821,1822,1824,1868,1869,1870,1872],[1641,1642,1643,1644,1689,1690,1691,1692,1737,1738,1739,1740,1785,1786,1787,1788,1833,1834,1835,1836,1881,1882,1883,1884],[1645,1646,1647,1648,1693,1694,1695,1696,1741,1742,1743,1744,1789,1790,1791,1792,1837,1838,1839,1840,1885,1886,1887,1888],[1649,1650,1651,1652,1697,1698,1699,1700,1745,1746,1747,1748,1793,1794,1795,1796,1841,1842,1843,1844,1889,1890,1891,1892],[1653,1654,1655,1656,1701,1702,1703,1704,1749,1750,1751,1752,1797,1798,1799,1800,1845,1846,1847,1848,1893,1894,1895,1896],[1657,1658,1659,1660,1705,1706,1707,1708,1753,1754,1755,1756,1801,1802,1803,1804,1849,1850,1851,1852,1897,1898,1899,1900]],[[1453,1454,1455,1456,1495,1496,1497,1498,1537,1538,1539,1540,1579,1580,1581,1582,1621,1622,1623,1624],[1445,1449,1450,1451,1487,1491,1492,1493,1529,1533,1534,1535,1571,1575,1576,1577,1613,1617,1618,1619],[1446,1447,1448,1452,1488,1489,1490,1494,1530,1531,1532,1536,1572,1573,1574,1578,1614,1615,1616,1620],[1417,1418,1419,1420,1459,1460,1461,1462,1501,1502,1503,1504,1543,1544,1545,1546,1585,1586,1587,1588],[1421,1422,1423,1424,1463,1464,1465,1466,1505,1506,1507,1508,1547,1548,1549,1550,1589,1590,1591,1592],[1415,1457,1499,1541,1583],[1416,1458,1500,1542,1584],[1425,1426,1427,1428,1467,1468,1469,1470,1509,1510,1511,1512,1551,1552,1553,1554,1593,1594,1595,1596],[1429,1430,1431,1432,1471,1472,1473,1474,1513,1514,1515,1516,1555,1556,1557,1558,1597,1598,1599,1600],[1433,1434,1435,1436,1475,1476,1477,1478,1517,1518,1519,1520,1559,1560,1561,1562,1601,1602,1603,1604],[1437,1438,1439,1440,1479,1480,1481,1482,1521,1522,1523,1524,1563,1564,1565,1566,1605,1606,1607,1608],[1441,1442,1443,1444,1483,1484,1485,1486,1525,1526,1527,1528,1567,1568,1569,1570,1609,1610,1611,1612]],[[1238,1239,1240,1241,1285,1286,1287,1288,1327,1328,1329,1330,1369,1370,1371,1372,1411,1412,1413,1414],[1230,1234,1235,1236,1277,1281,1282,1283,1319,1323,1324,1325,1361,1365,1366,1367,1403,1407,1408,1409],[1231,1232,1233,1237,1278,1279,1280,1284,1320,1321,1322,1326,1362,1363,1364,1368,1404,1405,1406,1410],[1202,1203,1204,1205,1249,1250,1251,1252,1291,1292,1293,1294,1333,1334,1335,1336,1375,1376,1377,1378],[1206,1207,1208,1209,1253,1254,1255,1256,1295,1296,1297,1298,1337,1338,1339,1340,1379,1380,1381,1382],[1196,1197,1200,1242,1243,1244,1247,1289,1331,1373],[1198,1199,1201,1245,1246,1248,1290,1332,1374],[1210,1211,1212,1213,1257,1258,1259,1260,1299,1300,1301,1302,1341,1342,1343,1344,1383,1384,1385,1386],[1214,1215,1216,1217,1261,1262,1263,1264,1303,1304,1305,1306,1345,1346,1347,1348,1387,1388,1389,1390],[1218,1219,1220,1221,1265,1266,1267,1268,1307,1308,1309,1310,1349,1350,1351,1352,1391,1392,1393,1394],[1222,1223,1224,1225,1269,1270,1271,1272,1311,1312,1313,1314,1353,1354,1355,1356,1395,1396,1397,1398],[1226,1227,1228,1229,1273,1274,1275,1276,1315,1316,1317,1318,1357,1358,1359,1360,1399,1400,1401,1402]],[[956,957,958,959,1004,1005,1006,1007,1052,1053,1054,1055,1100,1101,1102,1103,1146,1147,1148,1149,1192,1193,1194,1195],[948,952,953,954,996,1e3,1001,1002,1044,1048,1049,1050,1092,1096,1097,1098,1138,1142,1143,1144,1184,1188,1189,1190],[949,950,951,955,997,998,999,1003,1045,1046,1047,1051,1093,1094,1095,1099,1139,1140,1141,1145,1185,1186,1187,1191],[920,921,922,923,968,969,970,971,1016,1017,1018,1019,1064,1065,1066,1067,1110,1111,1112,1113,1156,1157,1158,1159],[924,925,926,927,972,973,974,975,1020,1021,1022,1023,1068,1069,1070,1071,1114,1115,1116,1117,1160,1161,1162,1163],[912,913,914,918,960,961,962,966,1008,1009,1010,1014,1056,1057,1058,1062,1104,1105,1108,1150,1151,1154],[915,916,917,919,963,964,965,967,1011,1012,1013,1015,1059,1060,1061,1063,1106,1107,1109,1152,1153,1155],[928,929,930,931,976,977,978,979,1024,1025,1026,1027,1072,1073,1074,1075,1118,1119,1120,1121,1164,1165,1166,1167],[932,933,934,935,980,981,982,983,1028,1029,1030,1031,1076,1077,1078,1079,1122,1123,1124,1125,1168,1169,1170,1171],[936,937,938,939,984,985,986,987,1032,1033,1034,1035,1080,1081,1082,1083,1126,1127,1128,1129,1172,1173,1174,1175],[940,941,942,943,988,989,990,991,1036,1037,1038,1039,1084,1085,1086,1087,1130,1131,1132,1133,1176,1177,1178,1179],[944,945,946,947,992,993,994,995,1040,1041,1042,1043,1088,1089,1090,1091,1134,1135,1136,1137,1180,1181,1182,1183]],[[716,717,718,719,764,765,766,767,812,813,814,815,860,861,862,863,908,909,910,911],[708,712,713,714,756,760,761,762,804,808,809,810,852,856,857,858,900,904,905,906],[709,710,711,715,757,758,759,763,805,806,807,811,853,854,855,859,901,902,903,907],[680,681,682,683,728,729,730,731,776,777,778,779,824,825,826,827,872,873,874,875],[684,685,686,687,732,733,734,735,780,781,782,783,828,829,830,831,876,877,878,879],[672,673,674,678,720,721,722,726,768,769,770,774,816,817,818,822,864,865,866,870],[675,676,677,679,723,724,725,727,771,772,773,775,819,820,821,823,867,868,869,871],[688,689,690,691,736,737,738,739,784,785,786,787,832,833,834,835,880,881,882,883],[692,693,694,695,740,741,742,743,788,789,790,791,836,837,838,839,884,885,886,887],[696,697,698,699,744,745,746,747,792,793,794,795,840,841,842,843,888,889,890,891],[700,701,702,703,748,749,750,751,796,797,798,799,844,845,846,847,892,893,894,895],[704,705,706,707,752,753,754,755,800,801,802,803,848,849,850,851,896,897,898,899]],[[476,477,478,479,524,525,526,527,572,573,574,575,620,621,622,623,668,669,670,671],[468,472,473,474,516,520,521,522,564,568,569,570,612,616,617,618,660,664,665,666],[469,470,471,475,517,518,519,523,565,566,567,571,613,614,615,619,661,662,663,667],[440,441,442,443,488,489,490,491,536,537,538,539,584,585,586,587,632,633,634,635],[444,445,446,447,492,493,494,495,540,541,542,543,588,589,590,591,636,637,638,639],[432,433,434,438,480,481,482,486,528,529,530,534,576,577,578,582,624,625,626,630],[435,436,437,439,483,484,485,487,531,532,533,535,579,580,581,583,627,628,629,631],[448,449,450,451,496,497,498,499,544,545,546,547,592,593,594,595,640,641,642,643],[452,453,454,455,500,501,502,503,548,549,550,551,596,597,598,599,644,645,646,647],[456,457,458,459,504,505,506,507,552,553,554,555,600,601,602,603,648,649,650,651],[460,461,462,463,508,509,510,511,556,557,558,559,604,605,606,607,652,653,654,655],[464,465,466,467,512,513,514,515,560,561,562,563,608,609,610,611,656,657,658,659]],[[236,237,238,239,284,285,286,287,332,333,334,335,380,381,382,383,428,429,430,431],[228,232,233,234,276,280,281,282,324,328,329,330,372,376,377,378,420,424,425,426],[229,230,231,235,277,278,279,283,325,326,327,331,373,374,375,379,421,422,423,427],[200,201,202,203,248,249,250,251,296,297,298,299,344,345,346,347,392,393,394,395],[204,205,206,207,252,253,254,255,300,301,302,303,348,349,350,351,396,397,398,399],[192,193,194,198,240,241,242,246,288,289,290,294,336,337,338,342,384,385,386,390],[195,196,197,199,243,244,245,247,291,292,293,295,339,340,341,343,387,388,389,391],[208,209,210,211,256,257,258,259,304,305,306,307,352,353,354,355,400,401,402,403],[212,213,214,215,260,261,262,263,308,309,310,311,356,357,358,359,404,405,406,407],[216,217,218,219,264,265,266,267,312,313,314,315,360,361,362,363,408,409,410,411],[220,221,222,223,268,269,270,271,316,317,318,319,364,365,366,367,412,413,414,415],[224,225,226,227,272,273,274,275,320,321,322,323,368,369,370,371,416,417,418,419]],[[44,45,46,47,92,93,94,95,140,141,142,143,188,189,190,191],[36,40,41,42,84,88,89,90,132,136,137,138,180,184,185,186],[37,38,39,43,85,86,87,91,133,134,135,139,181,182,183,187],[8,9,10,11,56,57,58,59,104,105,106,107,152,153,154,155],[12,13,14,15,60,61,62,63,108,109,110,111,156,157,158,159],[0,1,2,6,48,49,50,54,96,97,98,102,144,145,146,150],[3,4,5,7,51,52,53,55,99,100,101,103,147,148,149,151],[16,17,18,19,64,65,66,67,112,113,114,115,160,161,162,163],[20,21,22,23,68,69,70,71,116,117,118,119,164,165,166,167],[24,25,26,27,72,73,74,75,120,121,122,123,168,169,170,171],[28,29,30,31,76,77,78,79,124,125,126,127,172,173,174,175],[32,33,34,35,80,81,82,83,128,129,130,131,176,177,178,179]]]);t._RF.pop()}}}));

System.register("chunks:///_virtual/treeSpirit_levelsBinder.ts",["cc","./fairygui.mjs","./UI_level_009.ts","./UI_level_004.ts","./UI_panelItem_2.ts","./UI_level_007.ts","./UI_toast_dalongji_common.ts","./UI_panelItem3.ts","./UI_level_003.ts","./UI_level_005.ts","./UI_level_006.ts","./UI_panelItem_1.ts","./UI_level_1001.ts","./UI_level_1002.ts","./UI_level_1003.ts"],(function(t){var e,n,s,i,l,u,o,f,_,c,U,a,d,r,I;return{setters:[function(t){e=t.cclegacy},function(t){n=t.UIObjectFactory},function(t){s=t.default},function(t){i=t.default},function(t){l=t.default},function(t){u=t.default},function(t){o=t.default},function(t){f=t.default},function(t){_=t.default},function(t){c=t.default},function(t){U=t.default},function(t){a=t.default},function(t){d=t.default},function(t){r=t.default},function(t){I=t.default}],execute:function(){e._RF.push({},"7f6e2aLzMlBhqH37gi/awfj","treeSpirit_levelsBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){n.setExtension(s.URL,s),n.setExtension(i.URL,i),n.setExtension(l.URL,l),n.setExtension(u.URL,u),n.setExtension(o.URL,o),n.setExtension(f.URL,f),n.setExtension(_.URL,_),n.setExtension(c.URL,c),n.setExtension(U.URL,U),n.setExtension(a.URL,a),n.setExtension(d.URL,d),n.setExtension(r.URL,r),n.setExtension(I.URL,I)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritActionConfig.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var i;e("TreeSpiritActionConfig",void 0),a._RF.push({},"e65e9vFJsdHCYyLdNJuYzTt","TreeSpiritActionConfig",void 0),function(e){e.config=function(){this.id=void 0,this.action=void 0,this.name=void 0};e.isConst=!1,e.path="config/TreeSpiritActionConfig",e.extPath=void 0,e.data=null,e.dataList=null,e.lastData=null;var a=function(e){return e.heal="heal",e.add_gold="add_gold",e.add_energy="add_energy",e.add_shield="add_shield",e.cure="cure",e.add_talent="add_talent",e.open_bag="open_bag",e.fire_bullet="fire_bullet",e.spawn="spawn",e.damage="damage",e.add_exp="add_exp",e.add_silver="add_silver",e.push="push",e.bullet_weapon="bullet_weapon",e.add_silver_save="add_silver_save",e.now="now",e.end_wave="end_wave",e.add_buff="add_buff",e.dot="dot",e.add_trigger="add_trigger",e.add_player_buff="add_player_buff",e.attract="attract",e.fire_weapon="fire_weapon",e.kill_enemy="kill_enemy",e.fire_bullet_from_enemy="fire_bullet_from_enemy",e.pick_talent="pick_talent",e.pick_weapon="pick_weapon",e.add_gem="add_gem",e.change_weapon="change_weapon",e.ultimate_skill="ultimate_skill",e.show_cup="show_cup",e.die="die",e}({});e.E_action=a}(i||(i=e("TreeSpiritActionConfig",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/treeSpiritBinder.ts",["cc","./fairygui.mjs","./UI_player.ts","./UI_ride_0.ts","./UI_player0.ts","./UI_player_1.ts","./UI_ride_5.ts","./UI_player_2.ts","./UI_ride_7.ts","./UI_player_3.ts","./UI_ride_6.ts","./UI_player_4.ts","./UI_ride_8.ts","./UI_Enemy_101.ts","./UI_Enemy_102.ts","./UI_Enemy_103.ts","./UI_WindowWin.ts","./UI_CommonBtn5.ts","./UI_ADBtn3.ts","./UI_IconItem.ts","./UI_skill_common_1.ts","./UI_WinPanel.ts","./UI_failPanel.ts","./UI_frozen_eff.ts","./UI_frozenBody.ts","./UI_sleep_effect.ts","./UI_Bullet_Chainsaw_1.ts","./UI_bullet_syc.ts","./UI_Battle3.ts","./UI_Skill.ts","./UI_SkillIconBase.ts","./UI_SkillIcon.ts","./UI_chooseItem.ts","./UI_dmgRed.ts","./UI_DropChoose.ts","./UI_Enemy.ts","./UI_Gem.ts","./UI_groupView.ts","./UI_HitItem.ts","./UI_Item2.ts","./UI_PickPanel.ts","./UI_Player5.ts","./UI_powerImage.ts","./UI_Toast2.ts","./UI_IconBtn6.ts","./UI_CupPick.ts","./UI_CupPickItem3.ts","./UI_WindowFrame4.ts","./UI_WindowSetting4.ts","./UI_setting_item2.ts","./UI_EnemyBoss.ts"],(function(t){var n,e,s,i,o,u,f,U,l,c,a,_,d,I,E,R,x,L,r,m,y,p,B,g,k,P,S,h,w,b,C,W,F,j,v,z,A,D,G,H,J,O,T,V,X,Z,q,K,M,N,Q;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UIObjectFactory},function(t){s=t.default},function(t){i=t.default},function(t){o=t.default},function(t){u=t.default},function(t){f=t.default},function(t){U=t.default},function(t){l=t.default},function(t){c=t.default},function(t){a=t.default},function(t){_=t.default},function(t){d=t.default},function(t){I=t.default},function(t){E=t.default},function(t){R=t.default},function(t){x=t.default},function(t){L=t.default},function(t){r=t.default},function(t){m=t.default},function(t){y=t.default},function(t){p=t.default},function(t){B=t.default},function(t){g=t.default},function(t){k=t.default},function(t){P=t.default},function(t){S=t.default},function(t){h=t.default},function(t){w=t.default},function(t){b=t.default},function(t){C=t.default},function(t){W=t.default},function(t){F=t.default},function(t){j=t.default},function(t){v=t.default},function(t){z=t.default},function(t){A=t.default},function(t){D=t.default},function(t){G=t.default},function(t){H=t.default},function(t){J=t.default},function(t){O=t.default},function(t){T=t.default},function(t){V=t.default},function(t){X=t.default},function(t){Z=t.default},function(t){q=t.default},function(t){K=t.default},function(t){M=t.default},function(t){N=t.default},function(t){Q=t.default}],execute:function(){n._RF.push({},"c2b2c9X6dZJ4r73RejbIL/h","treeSpiritBinder",void 0);t("default",function(){function t(){}return t.bindAll=function(){e.setExtension(s.URL,s),e.setExtension(i.URL,i),e.setExtension(o.URL,o),e.setExtension(u.URL,u),e.setExtension(f.URL,f),e.setExtension(U.URL,U),e.setExtension(l.URL,l),e.setExtension(c.URL,c),e.setExtension(a.URL,a),e.setExtension(_.URL,_),e.setExtension(d.URL,d),e.setExtension(I.URL,I),e.setExtension(E.URL,E),e.setExtension(R.URL,R),e.setExtension(x.URL,x),e.setExtension(L.URL,L),e.setExtension(r.URL,r),e.setExtension(m.URL,m),e.setExtension(y.URL,y),e.setExtension(p.URL,p),e.setExtension(B.URL,B),e.setExtension(g.URL,g),e.setExtension(k.URL,k),e.setExtension(P.URL,P),e.setExtension(S.URL,S),e.setExtension(h.URL,h),e.setExtension(w.URL,w),e.setExtension(b.URL,b),e.setExtension(C.URL,C),e.setExtension(W.URL,W),e.setExtension(F.URL,F),e.setExtension(j.URL,j),e.setExtension(v.URL,v),e.setExtension(z.URL,z),e.setExtension(A.URL,A),e.setExtension(D.URL,D),e.setExtension(G.URL,G),e.setExtension(H.URL,H),e.setExtension(J.URL,J),e.setExtension(O.URL,O),e.setExtension(T.URL,T),e.setExtension(V.URL,V),e.setExtension(X.URL,X),e.setExtension(Z.URL,Z),e.setExtension(q.URL,q),e.setExtension(K.URL,K),e.setExtension(M.URL,M),e.setExtension(N.URL,N),e.setExtension(Q.URL,Q)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritBulletConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("TreeSpiritBulletConfig",void 0),t._RF.push({},"478278XQBVBPoDzwnzfJ0W4","TreeSpiritBulletConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.view=void 0,this.offset_step=void 0,this.spread=void 0,this.distribution=void 0,this.interval=void 0,this.delay=void 0,this.burst=void 0,this.round=void 0,this.speed=void 0,this.force=void 0,this.torque=void 0,this.target=void 0,this.chase=void 0,this.hit=void 0,this.range=void 0,this.life=void 0,this.bounce=void 0,this.magazine=void 0,this.reload=void 0,this.refresh=void 0,this.coll=void 0,this.ricochet=void 0,this.ballistic=void 0,this.params=void 0,this.size=void 0,this.aoe=void 0,this.bullet=void 0,this.layer=void 0,this.bullet_rot=void 0,this.effects=void 0,this.sounds=void 0,this.triggers=void 0,this.count=void 0,this.duration=void 0,this.hit_rate=void 0,this.atk=void 0,this.crit_rate=void 0,this.crit_dmg=void 0,this.talent=void 0,this.group=void 0,this.level=void 0,this.head_def_hp=void 0,this.head_def_mul=void 0};i.isConst=!1,i.path="config/TreeSpiritBulletConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null;var t=function(i){return i.para_a="para_a",i.para_r="para_r",i.dir_a="dir_a",i.dir_r="dir_r",i.none="none",i}({});i.E_distribution=t;var o=function(i){return i.up="up",i.down="down",i.random="random",i.close="close",i.max="max",i.player="player",i.none="none",i.min="min",i.center="center",i}({});i.E_target=o;var e=function(i){return i.random="random",i.close="close",i.max="max",i.none="none",i.player="player",i}({});i.E_chase=e;var r=function(i){return i.line="line",i.line_g="line_g",i.dir="dir",i.power="power",i.lerp="lerp",i.ray="ray",i.inst="inst",i.static="static",i.orbit="orbit",i.chain="chain",i.path="path",i.floor="floor",i.line_bounce="line_bounce",i.center="center",i}({});i.E_ballistic=r}(o||(o=i("TreeSpiritBulletConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("TreeSpiritConfig",void 0),t._RF.push({},"8dd0eTQGtJAnp5mwpaQS3jF","TreeSpiritConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.base_hp=void 0,this.drop=void 0};i.isConst=!1,i.path="config/TreeSpiritConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("TreeSpiritConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritEnemyConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("TreeSpiritEnemyConfig",void 0),t._RF.push({},"a3f91WDOmRGi6QKTb4+9BqA","TreeSpiritEnemyConfig",void 0),function(i){i.config=function(){this.id=void 0,this.hp=void 0,this.isBoss=void 0,this.view=void 0,this.speed=void 0,this.crossSpeed=void 0,this.crossDis=void 0};i.isConst=!1,i.path="config/TreeSpiritEnemyConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("TreeSpiritEnemyConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritGameConst.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("TreeSpiritGameConst",void 0),t._RF.push({},"7260cVmr1lAbq993QeP1uBI","TreeSpiritGameConst",void 0),function(i){i.config=function(){this.UIPackage=void 0,this.LVPackage=void 0,this.scroll_speed=void 0,this.brick_colors=void 0,this.brick_bgs=void 0,this.init_weapon=void 0,this.kill_money_rate=void 0,this.skill_power=void 0,this.skill_dur=void 0,this.panel_atk_theshold=void 0,this.panel_hit_mul=void 0,this.panel_laser_cd=void 0,this.head_def_theshold=void 0,this.head_def_mul=void 0,this.hit_effect_cd=void 0,this.sun_power=void 0,this.hongzha_interval=void 0,this.saw_interval=void 0,this.player_moveRange=void 0};i.isConst=!0,i.path="config/TreeSpiritGameConst",i.extPath=void 0,i.data=null}(e||(e=i("TreeSpiritGameConst",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("TreeSpiritLevelConfig",void 0),t._RF.push({},"39235rcaCFJ0rQCllwePP5X","TreeSpiritLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.name=void 0,this.ad=void 0,this.outline=void 0,this.bg=void 0,this.view=void 0,this.weapon=void 0,this.player=void 0,this.player_scale=void 0,this.bossId=void 0,this.playerHp=void 0,this.birthPos=void 0,this.colRange=void 0,this.ReductionHp=void 0,this.ReductionRate=void 0,this.bulletNum=void 0};i.isConst=!1,i.path="config/TreeSpiritLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("TreeSpiritLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritSpawnConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("TreeSpiritSpawnConfig",void 0),t._RF.push({},"1b05ed4K9dBk6LDkubjEw1m","TreeSpiritSpawnConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.game=void 0,this.view=void 0,this.delay=void 0,this.init=void 0,this.vmax=void 0,this.rmax=void 0,this.isMul=void 0,this.state=void 0,this.tf=void 0,this.speed=void 0,this.undefined=void 0,this.x=void 0,this.y=void 0,this.randFlip=void 0,this.duration=void 0,this.group=void 0};i.isConst=!1,i.path="config/TreeSpiritSpawnConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("TreeSpiritSpawnConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./GameStateBase.ts","./FontBinder.ts","./treeSpiritBinder.ts","./treeSpirit_levelsBinder.ts","./BattleView.ts","./AudioManager.ts","./BattleManager.ts","./GameEnemy.ts","./WindowBase.ts","./screenShaker2.ts","./LoadingManager.ts","./LoadUIPack.ts","./EffectManager2.ts"],(function(t){var e,n,i,r,a,o,s,c,u,f,l,d,p,h,v,w,_,S,g,k,P;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t.Prefab,s=t.Tween},function(t){c=t.YT},function(t){u=t.GameStateBase},function(t){f=t.default},function(t){l=t.default},function(t){d=t.default},function(t){p=t.BattleView},function(t){h=t.default},function(t){v=t.default},function(t){w=t.default},function(t){_=t.clearWindows},function(t){S=t.ScreenShaker},function(t){g=t.LoadingManager},function(t){k=t.LoadUIPack},function(t){P=t.default}],execute:function(){a._RF.push({},"77baciDFzBChqF/XOkm4sN0","TreeSpiritState",void 0);t("default",function(t){function a(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._viewName="Battle",e._viewPacks=["treeSpirit@treeSpirit","treeSpirit@treeSpirit_levels","resources@Font"],e._viewBinders=[l,d,f],e.view=void 0,e._uiPacks=[],e._sceneBundle="treeSpirit",e}e(a,t);var u=a.prototype;return u._onPreEnter=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u._doEnterState=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u.update=function(t,e){},u.lateUpdate=function(t,e){},u._doDestroy=function(){this.onLeaveState()},u._afterSceneLoaded=function(){S.instance.init(c.gui._camera),v.inst.init(),v.inst.level=arguments.length<=1?void 0:arguments[1],this.view=p.inst,this.view.show(),c.audio.stopMusic(),h.inst.playMusic("battle")},u._onBindUI=function(){this._viewBinders.forEach((function(t){t.bindAll()}))},u._getPreloads=function(t){t.add("prefabs/head",this._sceneBundle,o)},u._loadUIPackage=function(){for(var t,e=[],i=n(this._viewPacks);!(t=i()).done;){var r=t.value.split("@");e.push(new k(r[1],r[0]))}return this._uiPacks=e,new Promise((function(t){g.instance.loadUIPackages((function(){t()}),e)}))},u.otherLoadAssets=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u.onLeaveState=function(){var t=i(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.inst.reset(),null==(e=this.view)||e.hide(),null==(n=h.inst.bgm)||n.destroy(),_(),w.clearEnemyViewPool(),P.inst.clearEffectPool(),s.stopAll(),this._uiPacks.forEach((function(t){return t.removePackage()})),this._uiPacks=[];case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritTalentConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("TreeSpiritTalentConfig",void 0),t._RF.push({},"4826edokilELL2p72Z7jZuP","TreeSpiritTalentConfig",void 0),function(i){i.config=function(){this.id=void 0,this.attr=void 0,this.trigger=void 0,this.brick=void 0,this.toast=void 0,this.drop=void 0,this.desc=void 0,this.panelDesc=void 0,this.targetBullet=void 0,this.max=void 0,this.role=void 0};i.isConst=!1,i.path="config/TreeSpiritTalentConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("TreeSpiritTalentConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/TreeSpiritWaveConfig.ts",["cc"],(function(i){var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){var t;i("TreeSpiritWaveConfig",void 0),e._RF.push({},"a4a6d3oRBdB6I+QIskxFFPQ","TreeSpiritWaveConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.Wellen=void 0,this.number=void 0,this.interval=void 0,this.enemyId=void 0,this.delay=void 0,this.buffWave=void 0};i.isConst=!1,i.path="config/TreeSpiritWaveConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("TreeSpiritWaveConfig",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/TTAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./DefaultAds.ts"],(function(o){var e,i,n,d;return{setters:[function(o){e=o.inheritsLoose},function(o){i=o.cclegacy},function(o){n=o.YT},function(o){d=o.default}],execute:function(){i._RF.push({},"8bb20rGL1FPq5eUY7luYNH2","TTAds",void 0);o("default",function(o){function i(){var e;return(e=o.call(this)||this).config=void 0,e._rewardVideo=void 0,e.base=void 0,e._bannerAd=void 0,e._intersitialAd=void 0,e.boxBanner=void 0,e.gamebox=void 0,e.onRewardAdLoad=void 0,e.onRewardAdClose=void 0,e.onRewardAdError=void 0,e.base=window.tt,e}e(i,o);var d=i.prototype;return d.init=function(o){this.base=window.tt,this.config=o,console.log("ad cfgs",this.config),this.createVideo()},d.showBannerAd=function(){console.log("showBannerAd")},d.hideBannerAd=function(){console.log("hideBannerAd")},d.createVideo=function(){this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var o=this.config.rewardvideoId[this.rewardIndex];this._rewardVideo=this.base.createRewardedVideoAd({adUnitId:o})},d.showRewardVideoAd=function(){var o=this;this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var e=this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"),new Promise((function(i,d){e&&(o._rewardVideo&&o.onRewardAdLoad&&(o._rewardVideo.offLoad(o.onRewardAdLoad),o._rewardVideo.offError(o.onRewardAdError),o._rewardVideo.offClose(o.onRewardAdClose)),o.onRewardAdLoad=function(){console.log("视频广告加载成功"),n.gui.hideLoading()},o.onRewardAdClose=function(o){n.gui.hideLoading(),console.log("视频回调",o);var e=o.isEnded;i(e)},o.onRewardAdError=function(e){console.error("视频广告加载失败",e),o.base.showToast("视频加载失败,请稍后重试"),i(!1),n.gui.hideLoading()},o._rewardVideo?(o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),n.gui.showLoading("视频加载中..."),o._rewardVideo.show().then((function(){n.gui.hideLoading()})).catch((function(o){n.gui.hideLoading(),i(!1)}))):(o._rewardVideo=o.base.createRewardedVideoAd({adUnitId:e}),o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),n.gui.showLoading("视频加载中..."),o._rewardVideo.load().then((function(){o._rewardVideo.show().then((function(){n.gui.hideLoading()})).catch((function(o){n.gui.hideLoading(),i(!1)}))})).catch((function(o){n.gui.hideLoading(),i(!1)}))))}))},d.showInterstitialAd=function(){var o=this;if(console.log("showInterstitialAd"),!this._intersitialAd){if(this._intersitialAd=this.base.createInterstitialAd({adUnitId:this.config.initerstitialAdId}),null==this._intersitialAd)return void console.log("IDE内不支持创建InterstitialAd");this._intersitialAd.onError((function(o){console.error("插页加载失败",o)})),this._intersitialAd.onClose((function(){console.log("插页close"),o._intersitialAd.destroy(),o._intersitialAd=null}))}this._intersitialAd&&this._intersitialAd.load().then((function(){o._intersitialAd.show()}))},d.showGameboxBanner=function(){!this.boxBanner&&this.base.createGridGamePanel&&(this.boxBanner=this.base.createGridGamePanel({size:"large",gridCount:"four"})),this.boxBanner&&this.boxBanner.show()},d.hideGameboxBanner=function(){this.boxBanner&&this.boxBanner.hide()},d.showGamebox=function(){!this.gamebox&&this.base.createGridGamePanel&&(this.gamebox=this.base.createGridGamePanel({size:"large",gridCount:"nine"})),this.gamebox&&this.gamebox.show()},d.hideGamebox=function(){this.gamebox&&this.gamebox.hide()},d.showNativeAd=function(){},d.showSplashAd=function(){},i}(d));i._RF.pop()}}}));

System.register("chunks:///_virtual/TTPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TTAds.ts","./DefaultPlatform.ts","./TTRecorder.ts","./SDK.ts"],(function(e){var n,t,s,o,i,a,c,r,u;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,i=e.game},function(e){a=e.default},function(e){c=e.default},function(e){r=e.default},function(e){u=e.default}],execute:function(){o._RF.push({},"d059anrp05BuLGEp+65YEhz","TTPlatform",void 0);e("default",function(e){function o(){var n;return(n=e.call(this)||this).inited=!1,n.openId="9527",n.firstEnter=!0,n.base=window.tt,n}n(o,e);var c=o.prototype;return c.init=function(e){this.config=e,this.systemInfo=this.base.getSystemInfoSync(),this.ads=new a,this.ads.init(e.adConfig),this.recorder=new r,this.recorder.init(),this.gameName=e.gameName,this.appId=e.appId,this.base.onShow(this.onShow.bind(this)),this.base.onHide(this.onHide.bind(this)),this.enterScene=this.base.getLaunchOptionsSync().scene,console.log("bytedance enter"+this.enterScene),this.isSupportRank=!0,this.base.setKeepScreenOn({keepScreenOn:!0})},c.onShow=function(e){console.log("tt OnShow",e),i.resume(),this.inited||(this.checkUpdate(),this.inited=!0),this.enterScene=e.scene},c.onHide=function(e){console.log("tt OnHide",e),i.pause()},c.login=function(){var e=t(s().mark((function e(n){var o=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.useCloudStorage=n,e.abrupt("return",new Promise((function(e){var n,i={force:!0,success:(n=t(s().mark((function n(t){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("登录成功",t),!t||!t.code){n.next=6;break}return n.next=4,u.Inst.login(t.code);case 4:o.openId=n.sent,e();case 6:case"end":return n.stop()}}),n)}))),function(e){return n.apply(this,arguments)}),fail:function(n){console.error("登录失败",n),e()},complete:function(){}};o.base.login(i)})));case 2:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),c.getUserInfo=function(){var e=this;return new Promise(t(s().mark((function n(t){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n){e.base.getSetting({success:function(e){console.log(e),e.authSetting["scope.userInfo"]?n(!0):n(!1)},fail:function(e){console.log("getSetting 调用失败"),n(!1)}})}));case 2:return n.sent,n.next=5,new Promise((function(n){e.base.authorize({scope:"scope.userInfo",success:function(e){console.log(e),n(!0)},fail:function(e){n(!1)}})}));case 5:n.sent&&e.base.getUserInfo({success:function(n){e.userInfo=n.userInfo,t(n.userInfo)},fail:function(n){console.error("获取用户信息失败",n),e.userInfo={avatarUrl:"",nickName:"游客"+e.openId},t(null)}});case 7:case"end":return n.stop()}}),n)}))))},c.Vibrate=function(e){e?this.base.vibrateLong({success:function(e){},fail:function(e){console.error("调用震动失败",e)},complete:function(e){}}):this.base.vibrateShort({success:function(e){},fail:function(e){console.error("调用震动失败",e)},complete:function(e){}})},c.checkUpdate=function(){var e=this,n=this.base.getUpdateManager();null!=n&&(n.onCheckForUpdate((function(n){console.log("onCheckForUpdate",n.hasUpdate),n.hasUpdate&&e.base.showToast({title:"即将有更新请留意"})})),n.onUpdateReady((function(){e.base.showModal({title:"更新提示",content:"新版本已经准备好，是否立即使用？",success:function(t){t.confirm?n.applyUpdate():e.base.showToast({icon:"none",title:"小程序下一次「冷启动」时会使用新版本"})}})})),n.onUpdateFailed((function(){e.base.showToast({title:"更新失败，下次启动继续..."})})))},c.showLoading=function(e){console.log("showLoading"+e),this.base&&this.base.showLoading({title:e})},c.hideLoading=function(){console.log("hideLoading"),this.base&&this.base.hideLoading()},c.showToast=function(e){console.log("showToast"+e),this.base&&this.base.showToast({title:e})},c.getRankData=function(){var e=t(s().mark((function e(n,t,o,i){var a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t="排行榜"),e.abrupt("return",new Promise((function(e){a.base.getImRankData({relationType:"all",dataType:0,rankType:"all",suffix:"关",rankTitle:t,zoneId:n,success:function(n){console.log("getImRankData success res: "+n),e(n)},fail:function(n){console.log("getImRankData fail res: "+n.errMsg),e([])}})})));case 4:case"end":return e.stop()}}),e)})));return function(n,t,s,o){return e.apply(this,arguments)}}(),c.getRankList=function(e,n,t,s){void 0===n&&(n="排行榜"),void 0===t&&(t="all"),void 0===s&&(s="分"),this.isSupportRank&&this.base.getImRankList({relationType:"default",zoneId:e,dataType:0,rankType:t,suffix:s,rankTitle:n,success:function(e){console.log("getImRankData success res: "+e)},fail:function(e){console.log("getImRankData fail res: "+e.errMsg)}})},c.setRankData=function(e,n){this.isSupportRank&&this.base.setImRankData({dataType:0,value:e.toString(),priority:0,zoneId:n,extra:"extra",success:function(e){console.log("setImRankData success res: "+e)},fail:function(e){console.log("setImRankData fail res: "+e.errMsg)}})},c.reportEvent=function(e,n){},c.hasShortcutInstalled=function(){var e=this;return new Promise((function(n){if("Douyin"!=e.systemInfo.appName)return n(!0);e.base.checkShortcut({success:function(e){console.log(e),e.status&&e.status.exist?n(!0):n(!1)},fail:function(e){console.log(e),n(!1)}})}))},c.createShortcut=function(){var e=this;return new Promise((function(n){e.base.addShortcut({success:function(e){console.log(e),n(!0)},fail:function(e){console.log(e),n(!1)}})}))},c.navToSidebar=function(e){this.base.navigateToScene({scene:"sidebar",fail:function(){e(!1)},success:function(){e(!0)}})},c.shareAppMessage=function(){var e=t(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.base,e.abrupt("return",new Promise((function(e){t.shareAppMessage({templateId:n,query:"",success:function(){console.log("分享成功"),e(!0)},fail:function(n){console.log("分享失败"),e(!1)}})})));case 2:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),c.checkFeedSubscribeStatus=function(){var e=this;return new Promise((function(n,t){e.base.checkFeedSubscribeStatus({type:"play",allScene:!0,success:function(e){console.log(e.status),n(e.status)},fail:function(e){console.log(e.errMsg),n(!1)}})}))},c.requestFeedSubscribe=function(){var e=this;return new Promise((function(n,t){e.base.requestFeedSubscribe({type:"play",allScene:!0,success:function(e){console.log("requestFeedSubscribe",e.success),n(e.success)},fail:function(e){console.error("requestFeedSubscribe",e.errMsg),n(null)}})}))},c.reportScene=function(e){var n=this,t=performance.now()-window.game_start_time,s=this.base;if(s.reportScene({sceneId:e,costTime:t,dimension:{},metric:{},success:function(e){console.log(e)},fail:function(e){console.log(e)}}),s.getFeedData({scene:3,contentID:"CONTENT12666010370",success:function(e){console.log("getFeedData success",e.status,e.extra)},fail:function(e){console.log("getFeedData fail",e)}}),this.enterScene.endsWith("3041")){var o=this.firstEnter;s.onFeedStatusChange((function(e){var t=e.type;"feedEnter"===t&&o&&(console.log("触发从Feed流进入小游戏事件回调"),n.firstEnter=!1,i.emit("feedEnter")),"feedExit"===t&&(console.log("触发从小游戏退回到Feed流事件回调"),s.storeFeedData({scene:3,contentID:"CONTENT12666010370",leftValue:"timeStampMs",operator:">=",status:1,rightValue:Date.now()+12e5+"",success:function(e){console.log("storeFeedData success",e)},fail:function(e){console.log("storeFeedData fail",e)}}))}))}},o}(c));o._RF.pop()}}}));

System.register("chunks:///_virtual/TTRecorder.ts",["cc","./Platform.ts"],(function(o){var s,e;return{setters:[function(o){s=o.cclegacy},function(o){e=o.default}],execute:function(){s._RF.push({},"380b1fw43xAEazpwjRGm4z4","TTRecorder",void 0);o("default",function(){function o(){this.isSupport=void 0,this.base=void 0,this.isRecordSuccess=void 0,this.videoSavePath=void 0,this.isRecording=void 0,this.manager=void 0,this.isPausing=void 0}var s=o.prototype;return s.init=function(){var o=this;console.log("init record"),this.base=window.tt;var s=this.base.getSystemInfoSync();if(this.isSupport="devtools"!=s.appName,!this.isSupport)return console.log("不支持录屏的宿主app",s.appName);if(this.manager=this.base.getGameRecorderManager(),this.manager){this.manager.onStart((function(s){console.log("平台开始录制",s),o.isRecording=!0,o.isRecordSuccess=!1})),this.manager.onStop((function(s){console.log("平台停止录制",s),o.videoSavePath=s.videoPath,o.isRecording=!1,o.isRecordSuccess=!0})),this.manager.onError((function(s){console.log("录制发生错误",s),o.isRecordSuccess=!1,o.isRecording=!1})),this.manager.onPause((function(s){console.log("暂停录制视频",s),o.isPausing=!0})),this.manager.onResume((function(s){console.log("恢复录制视频",s),o.isPausing=!1}))}else this.isSupport=!1},s.start=function(){console.log("start record"),this.isSupport&&(console.log("调用开始录屏"),this.manager.start({duration:300}))},s.stop=function(){console.log("stop record"),this.isSupport&&this.isRecording&&(console.log("调用结束录屏"),this.manager.stop())},s.pause=function(){console.log("pause record"),this.isSupport&&this.isRecording&&(this.isPausing||(console.log("调用暂停录屏"),this.manager.pause()))},s.resume=function(){console.log("resume record"),this.isSupport&&(this.isRecording?this.isPausing&&(console.log("调用恢复录屏"),this.manager.resume()):this.start())},s.shareVideo=function(o){var s=this;return new Promise((function(i,t){if(s.isRecordSuccess){o&&0!=o.length||(o=[e.Inst.gameName,"小游戏"]);var n={channel:"video",title:"",desc:"",imageUrl:"",templateId:"",query:"from=sharePage",extra:{videoPath:s.videoSavePath,videoTopics:o,withVideoId:!0,hashtag_list:o,video_title:""},success:function(o){console.log("分享成功",o),i(o.videoId)},fail:function(o){o&&o.errNo&&21105==o.errNo&&e.Inst.showToast("录屏失败：录屏时长低于 3 秒"),console.log("取消分享",o),i("")}};s.base.shareAppMessage(n)}else console.log("无视频可以分享"),i("")}))},s.navigateToVideo=function(o){},o}());s._RF.pop()}}}));

System.register("chunks:///_virtual/TurnInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HeroConfig.ts","./ViewBase.ts","./YT.ts","./UIHelper.ts","./UI_TurnInfo.ts","./RoleLevelConfig.ts"],(function(t){var e,n,i,r,a,o,s,u,c,f,l,m,d,_;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t.Animation,s=t.Vec3,u=t.v2},function(t){c=t.HeroConfig},function(t){f=t.ViewBase},function(t){l=t.YT},function(t){m=t.UIHelper},function(t){d=t.default},function(t){_=t.RoleLevelConfig}],execute:function(){a._RF.push({},"e5e80rXdoVMB58m0OgPsMK8","TurnInfoView",void 0);t("TurnInfoView",function(t){function a(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).data=void 0,e.pro=0,e}e(a,t);var f=a.prototype;return f._preShowAnim=function(){this.data=_.dataList.filter((function(t){return t.id>6*(l.data.userData.turnId+-1)&&t.id<=l.data.userData.roleLevel+(1==l.data.userData.turnId?0:1)})),this.ui.m_btn_top.m_title.text="轮回 - "+l.data.userData.turnId,this.pro=this.data.length-1,this.ui.m_cmp.m_progress.value=this.pro,this.ui.m_btn_close.onClick(this.hide,this),this.refreshUI()},f.renderItem=function(t,e){var n=this.data[t];if(n){var i=c.data[n.skin_id];e.m_txt_des.text=i.skinDes,e.m_txt_name.text=n.name,e.m_txt_qua.text="",e.m_tog.selected=!0,m.addPrefabToFGUI(i.res,"game",e.m_icon.asCom,(function(t){var e;t&&(null==(e=t.getComponentInChildren(o))||e.play("idle"),t.setScale(s.ONE.clone().multiplyScalar(3)))}),u(.5,1))}else e.m_tog.selected=!1,e.m_txt_des.text="",e.m_txt_name.text="",e.m_txt_qua.text=""},f.refreshUI=function(){for(var t=0;t<6;t++){var e=this.ui.m_cmp["m_item"+t];this.renderItem(t,e)}},f._afterShowAnim=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f._preHideAnim=function(){},f._afterHideAnim=function(){},n(a,null,[{key:"instance",get:function(){return this._getInstance(a,d)}}]),a}(f));a._RF.pop()}}}));

System.register("chunks:///_virtual/TurnRewardConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t;i("TurnRewardConfig",void 0),n._RF.push({},"3f719GKpiBCirqhkyIhgWvz","TurnRewardConfig",void 0),function(i){i.config=function(){this.id=void 0,this.des=void 0,this.reward_id=void 0,this.reward_count=void 0,this.condition=void 0};i.isConst=!1,i.path="config/TurnRewardConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("TurnRewardConfig",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ADBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GButton}],execute:function(){i._RF.push({},"469fbkPXhVFbJDh3g5Dv7Br","UI_ADBtn",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_color=void 0,e.m_left_side=void 0,e.m_bg=void 0,e.m_left=void 0,e.m_step=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("shoudaqiao2","ADBtn")},i.prototype.onConstruct=function(){this.m_color=this.getControllerAt(1),this.m_left_side=this.getControllerAt(2),this.m_bg=this.getChildAt(0),this.m_left=this.getChildAt(3),this.m_step=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://0wf7zih4d97146",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ADBtn2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GButton}],execute:function(){i._RF.push({},"7809efSGR1HEJ3jAuQ0uDe/","UI_ADBtn",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_color=void 0,e.m_left_side=void 0,e.m_bg=void 0,e.m_left=void 0,e.m_step=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("shoudaqiao","ADBtn")},i.prototype.onConstruct=function(){this.m_color=this.getControllerAt(1),this.m_left_side=this.getControllerAt(2),this.m_bg=this.getChildAt(0),this.m_left=this.getChildAt(3),this.m_step=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://qhc4mxqcd97146",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ADBtn3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GButton}],execute:function(){i._RF.push({},"ec0c13Fq6dMbbLn53sQBshq","UI_ADBtn",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_color=void 0,e.m_left_side=void 0,e.m_bg=void 0,e.m_left=void 0,e.m_step=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","ADBtn")},i.prototype.onConstruct=function(){this.m_color=this.getControllerAt(1),this.m_left_side=this.getControllerAt(2),this.m_bg=this.getChildAt(0),this.m_left=this.getChildAt(3),this.m_step=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://hh1mxgwcmx2e15",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ADBtn4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GButton}],execute:function(){i._RF.push({},"fc562MREmxLRpfkNWFr5Lhf","UI_ADBtn",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_color=void 0,e.m_left_side=void 0,e.m_bg=void 0,e.m_left=void 0,e.m_step=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("pindao","ADBtn")},i.prototype.onConstruct=function(){this.m_color=this.getControllerAt(1),this.m_left_side=this.getControllerAt(2),this.m_bg=this.getChildAt(0),this.m_left=this.getChildAt(3),this.m_step=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://vidz8nxqd97146",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Alert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"146dewbr3dDRpoI+tMEMB84","UI_Alert",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,e.m_view=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("Main","Alert")},n.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_view=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://qgbta78nirofq",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Alert2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"7886bV5zJtAl6uiDsoDQYx8","UI_Alert",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,e.m_view=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("tangping","Alert")},n.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_view=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://vwczupxsmsz6i",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_alertCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"4f4d6hUZXtMebyi+gPBoGd0","UI_alertCmp",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_txt_title=void 0,n.m_txt_content=void 0,n.m_btn_ok=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","alertCmp")},e.prototype.onConstruct=function(){this.m_txt_title=this.getChildAt(2),this.m_txt_content=this.getChildAt(3),this.m_btn_ok=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nirofw",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_alertCmp2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"e44038piupMd5eS2HX2cTeo","UI_alertCmp",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_txt_title=void 0,e.m_txt_content=void 0,e.m_btn_ok=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("tangping","alertCmp")},n.prototype.onConstruct=function(){this.m_txt_title=this.getChildAt(2),this.m_txt_content=this.getChildAt(3),this.m_btn_ok=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://vwczupxsmsz6k",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Arctech.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,c,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.UIPackage,i=t.GComponent}],execute:function(){e._RF.push({},"0e88dLCLAJK6LLBjuQMKcFU","UI_Arctech",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,c=new Array(e),i=0;i<e;i++)c[i]=arguments[i];return(n=t.call.apply(t,[this].concat(c))||this).m_btn=void 0,n.m_txt_lv=void 0,n}return n(e,t),e.createInstance=function(){return c.createObject("Main","Arctech")},e.prototype.onConstruct=function(){this.m_btn=this.getChildAt(0),this.m_txt_lv=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nbfb321",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_bagContent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"6db89nZq5FNZKiKo5+swkDi","UI_bagContent",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_tiles=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("PackBattle","bagContent")},e.prototype.onConstruct=function(){this.m_tiles=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://aymh9hbepx9r0",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BagItem_1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"ff481+mPhBDVbTk1gU/U9md","UI_BagItem_1",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_withAD=void 0,e.m_lv=void 0,e.m_image=void 0,e.m_tag=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("PackBattle","BagItem_1")},i.prototype.onConstruct=function(){this.m_withAD=this.getControllerAt(0),this.m_lv=this.getControllerAt(1),this.m_image=this.getChildAt(0),this.m_tag=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://aymh9hbervi11q",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BagItem_2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"2c1f3j3BlFLIoSvoqHecqkZ","UI_BagItem_2",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_withAD=void 0,e.m_lv=void 0,e.m_image=void 0,e.m_tag=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("PackBattle","BagItem_2")},i.prototype.onConstruct=function(){this.m_withAD=this.getControllerAt(0),this.m_lv=this.getControllerAt(1),this.m_image=this.getChildAt(0),this.m_tag=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://aymh9hbervi11v",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BagItem_3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"9458c7oPyBFr7DwtHHHgIsS","UI_BagItem_3",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_withAD=void 0,e.m_lv=void 0,e.m_image=void 0,e.m_tag=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("PackBattle","BagItem_3")},i.prototype.onConstruct=function(){this.m_withAD=this.getControllerAt(0),this.m_lv=this.getControllerAt(1),this.m_image=this.getChildAt(0),this.m_tag=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://aymh9hbervi11w",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BagItem_4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"012282pgsZJirerNBLFXCht","UI_BagItem_4",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_withAD=void 0,e.m_lv=void 0,e.m_image=void 0,e.m_tag=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("PackBattle","BagItem_4")},i.prototype.onConstruct=function(){this.m_withAD=this.getControllerAt(0),this.m_lv=this.getControllerAt(1),this.m_image=this.getChildAt(0),this.m_tag=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://aymh9hbervi11x",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BagItem_7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,a=t.GComponent}],execute:function(){i._RF.push({},"6435ayZn+pNlaASER9EW5rx","UI_BagItem_7",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).m_withAD=void 0,e.m_lv=void 0,e.m_image=void 0,e.m_tag=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("PackBattle","BagItem_7")},i.prototype.onConstruct=function(){this.m_withAD=this.getControllerAt(0),this.m_lv=this.getControllerAt(1),this.m_image=this.getChildAt(0),this.m_tag=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(a)).URL="ui://aymh9hbervi120",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BagPackage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,a,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){e._RF.push({},"30253Bfi9pOu4TmEq2vUSvv","UI_BagPackage",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).m_container=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return a.createObject("PackBattle","BagPackage")},e.prototype.onConstruct=function(){this.m_container=this.getChildAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://aymh9hbepx9r1",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BagSlotItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,o,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){r=t.UIPackage,i=t.GComponent}],execute:function(){o._RF.push({},"ecb2aV7XpJBV7dN6qO2l9nk","UI_BagSlotItem",void 0),t("default",function(t){function o(){for(var e,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).m_withFrame=void 0,e.m_frame_color=void 0,e.m_bg_color=void 0,e.m_bg=void 0,e.m_frame=void 0,e}return e(o,t),o.createInstance=function(){return r.createObject("PackBattle","BagSlotItem")},o.prototype.onConstruct=function(){this.m_withFrame=this.getControllerAt(0),this.m_frame_color=this.getControllerAt(1),this.m_bg_color=this.getControllerAt(2),this.m_bg=this.getChildAt(0),this.m_frame=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},o}(i)).URL="ui://aymh9hbepx9r3",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Battle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"0fbfbAuTWhNjowTFMj6Bbl+","UI_Battle",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).m_txt_path=void 0,n.m_btn_pause=void 0,n.m_btn_setting=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("wukong","Battle")},e.prototype.onConstruct=function(){this.m_txt_path=this.getChildAt(0),this.m_btn_pause=this.getChildAt(1),this.m_btn_setting=this.getChildAt(2),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://8eqmm8h5xnuqd",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Battle2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"36741m9+ttDNLSuzYb7hI7/","UI_Battle",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).m_state=void 0,i.m_txt_path=void 0,i.m_btn_pause=void 0,i.m_btn_setting=void 0,i.m_btn_start=void 0,i.m_coin=void 0,i.m_energy=void 0,i.m_timer=void 0,i.m_btn_repair=void 0,i.m_btn_speed=void 0,i.m_txt_wave=void 0,i.m_btn_niu=void 0,i.m_btn_span=void 0,i.m_txt_timer1=void 0,i.m_costcmp=void 0,i.m_anim_boss_come=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("sdm","Battle")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_txt_path=this.getChildAt(0),this.m_btn_pause=this.getChildAt(1),this.m_btn_setting=this.getChildAt(2),this.m_btn_start=this.getChildAt(3),this.m_coin=this.getChildAt(4),this.m_energy=this.getChildAt(5),this.m_timer=this.getChildAt(6),this.m_btn_repair=this.getChildAt(7),this.m_btn_speed=this.getChildAt(8),this.m_txt_wave=this.getChildAt(9),this.m_btn_niu=this.getChildAt(10),this.m_btn_span=this.getChildAt(11),this.m_txt_timer1=this.getChildAt(12),this.m_costcmp=this.getChildAt(13),this.m_anim_boss_come=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://luniefvxaaxc0",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Battle3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,l=t.GComponent}],execute:function(){e._RF.push({},"65578EyOh5Nno7ZfZ4OM2wB","UI_Battle",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return(i=t.call.apply(t,[this].concat(s))||this).m_paused=void 0,i.m_game_bg=void 0,i.m_border=void 0,i.m_floor=void 0,i.m_bg_layer=void 0,i.m_water_layer=void 0,i.m_cp=void 0,i.m_boss_layer=void 0,i.m_enemy_layer=void 0,i.m_txt_layer=void 0,i.m_level_layer=void 0,i.m_player_layer=void 0,i.m_bullet_layer=void 0,i.m_effect_layer=void 0,i.m_part_layer=void 0,i.m_dmg_layer=void 0,i.m_waveText=void 0,i.m_path=void 0,i.m_pause=void 0,i.m_setting=void 0,i.m_back=void 0,i.m_skill=void 0,i.m_pauseMask=void 0,i.m_skillMask=void 0,i.m_debug=void 0,i.m_playerHp=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("treeSpirit","Battle")},e.prototype.onConstruct=function(){this.m_paused=this.getControllerAt(0),this.m_game_bg=this.getChildAt(0),this.m_border=this.getChildAt(1),this.m_floor=this.getChildAt(2),this.m_bg_layer=this.getChildAt(3),this.m_water_layer=this.getChildAt(4),this.m_cp=this.getChildAt(5),this.m_boss_layer=this.getChildAt(6),this.m_enemy_layer=this.getChildAt(7),this.m_txt_layer=this.getChildAt(8),this.m_level_layer=this.getChildAt(9),this.m_player_layer=this.getChildAt(10),this.m_bullet_layer=this.getChildAt(11),this.m_effect_layer=this.getChildAt(12),this.m_part_layer=this.getChildAt(13),this.m_dmg_layer=this.getChildAt(14),this.m_waveText=this.getChildAt(15),this.m_path=this.getChildAt(16),this.m_pause=this.getChildAt(17),this.m_setting=this.getChildAt(18),this.m_back=this.getChildAt(19),this.m_skill=this.getChildAt(20),this.m_pauseMask=this.getChildAt(21),this.m_skillMask=this.getChildAt(23),this.m_debug=this.getChildAt(24),this.m_playerHp=this.getChildAt(25),globalThis.translateUI&&globalThis.translateUI(this)},e}(l)).URL="ui://hh1mxgwcmx2eiz",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Battle4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,h=t.GComponent}],execute:function(){e._RF.push({},"67453Fz6VVC+ayky9DMuXii","UI_Battle",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return(i=t.call.apply(t,[this].concat(s))||this).m_paused=void 0,i.m_withLine=void 0,i.m_game_bg=void 0,i.m_floor=void 0,i.m_level_layer=void 0,i.m_bg_layer=void 0,i.m_enemy_layer=void 0,i.m_boss_layer=void 0,i.m_beginLayer=void 0,i.m_txt_layer=void 0,i.m_player_layer=void 0,i.m_bullet_layer=void 0,i.m_effect_layer=void 0,i.m_part_layer=void 0,i.m_dmg_layer=void 0,i.m_waveText=void 0,i.m_hp=void 0,i.m_pauseMask=void 0,i.m_path=void 0,i.m_pause=void 0,i.m_setting=void 0,i.m_back=void 0,i.m_suduxian=void 0,i.m_show_toast=void 0,i.m_finger=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("shoudaqiao2","Battle")},e.prototype.onConstruct=function(){this.m_paused=this.getControllerAt(0),this.m_withLine=this.getControllerAt(1),this.m_game_bg=this.getChildAt(0),this.m_floor=this.getChildAt(1),this.m_level_layer=this.getChildAt(2),this.m_bg_layer=this.getChildAt(3),this.m_enemy_layer=this.getChildAt(4),this.m_boss_layer=this.getChildAt(5),this.m_beginLayer=this.getChildAt(6),this.m_txt_layer=this.getChildAt(12),this.m_player_layer=this.getChildAt(13),this.m_bullet_layer=this.getChildAt(14),this.m_effect_layer=this.getChildAt(15),this.m_part_layer=this.getChildAt(16),this.m_dmg_layer=this.getChildAt(17),this.m_waveText=this.getChildAt(18),this.m_hp=this.getChildAt(19),this.m_pauseMask=this.getChildAt(20),this.m_path=this.getChildAt(22),this.m_pause=this.getChildAt(23),this.m_setting=this.getChildAt(24),this.m_back=this.getChildAt(25),this.m_suduxian=this.getChildAt(26),this.m_show_toast=this.getTransitionAt(0),this.m_finger=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(h)).URL="ui://0wf7zih4d9710",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Battle5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,h,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){h=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"b66e3Ofb9FHDo0r56iKUF0K","UI_Battle",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,h=new Array(e),s=0;s<e;s++)h[s]=arguments[s];return(i=t.call.apply(t,[this].concat(h))||this).m_paused=void 0,i.m_game_bg2=void 0,i.m_game_bg=void 0,i.m_floor=void 0,i.m_bg_layer=void 0,i.m_enemy_layer=void 0,i.m_boss_layer=void 0,i.m_txt_layer=void 0,i.m_level_layer=void 0,i.m_player_layer=void 0,i.m_bullet_layer=void 0,i.m_effect_layer=void 0,i.m_part_layer=void 0,i.m_dmg_layer=void 0,i.m_waveText=void 0,i.m_path=void 0,i.m_pause=void 0,i.m_setting=void 0,i.m_back=void 0,i.m_mp=void 0,i.m_hp=void 0,i.m_fire=void 0,i.m_pauseMask=void 0,i}return i(e,t),e.createInstance=function(){return h.createObject("pindao","Battle")},e.prototype.onConstruct=function(){this.m_paused=this.getControllerAt(0),this.m_game_bg2=this.getChildAt(0),this.m_game_bg=this.getChildAt(1),this.m_floor=this.getChildAt(2),this.m_bg_layer=this.getChildAt(3),this.m_enemy_layer=this.getChildAt(4),this.m_boss_layer=this.getChildAt(5),this.m_txt_layer=this.getChildAt(6),this.m_level_layer=this.getChildAt(7),this.m_player_layer=this.getChildAt(8),this.m_bullet_layer=this.getChildAt(9),this.m_effect_layer=this.getChildAt(10),this.m_part_layer=this.getChildAt(11),this.m_dmg_layer=this.getChildAt(12),this.m_waveText=this.getChildAt(13),this.m_path=this.getChildAt(14),this.m_pause=this.getChildAt(15),this.m_setting=this.getChildAt(16),this.m_back=this.getChildAt(17),this.m_mp=this.getChildAt(18),this.m_hp=this.getChildAt(19),this.m_fire=this.getChildAt(20),this.m_pauseMask=this.getChildAt(21),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://vidz8nxqd9710",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Battle6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"87125aYA59IQp6n6kLLIRzs","UI_Battle",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).m_txt_path=void 0,n.m_btn_pause=void 0,n.m_btn_setting=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("sub_zzl","Battle")},e.prototype.onConstruct=function(){this.m_txt_path=this.getChildAt(0),this.m_btn_pause=this.getChildAt(1),this.m_btn_setting=this.getChildAt(2),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://43m5c1xapaj2j",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Battle7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){i._RF.push({},"da2a8uekKFAFJEL5oHmEfkA","UI_Battle",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_txt_path=void 0,e.m_btn_pause=void 0,e.m_btn_setting=void 0,e.m_enemyHp=void 0,e.m_t0=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("qjcj","Battle")},i.prototype.onConstruct=function(){this.m_txt_path=this.getChildAt(0),this.m_btn_pause=this.getChildAt(1),this.m_btn_setting=this.getChildAt(2),this.m_enemyHp=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://wxmdozwlew6fd",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Battle8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,h=t.GComponent}],execute:function(){e._RF.push({},"e8389hpjbxE07I/WEbJHq6h","UI_Battle",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return(i=t.call.apply(t,[this].concat(s))||this).m_paused=void 0,i.m_withLine=void 0,i.m_game_bg=void 0,i.m_floor=void 0,i.m_level_layer=void 0,i.m_bg_layer=void 0,i.m_enemy_layer=void 0,i.m_boss_layer=void 0,i.m_txt_layer=void 0,i.m_player_layer=void 0,i.m_bullet_layer=void 0,i.m_effect_layer=void 0,i.m_part_layer=void 0,i.m_dmg_layer=void 0,i.m_waveText=void 0,i.m_hp=void 0,i.m_pauseMask=void 0,i.m_path=void 0,i.m_pause=void 0,i.m_setting=void 0,i.m_back=void 0,i.m_show_toast=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("shoudaqiao","Battle")},e.prototype.onConstruct=function(){this.m_paused=this.getControllerAt(0),this.m_withLine=this.getControllerAt(1),this.m_game_bg=this.getChildAt(0),this.m_floor=this.getChildAt(1),this.m_level_layer=this.getChildAt(2),this.m_bg_layer=this.getChildAt(4),this.m_enemy_layer=this.getChildAt(5),this.m_boss_layer=this.getChildAt(6),this.m_txt_layer=this.getChildAt(12),this.m_player_layer=this.getChildAt(13),this.m_bullet_layer=this.getChildAt(14),this.m_effect_layer=this.getChildAt(15),this.m_part_layer=this.getChildAt(16),this.m_dmg_layer=this.getChildAt(17),this.m_waveText=this.getChildAt(18),this.m_hp=this.getChildAt(19),this.m_pauseMask=this.getChildAt(20),this.m_path=this.getChildAt(22),this.m_pause=this.getChildAt(23),this.m_setting=this.getChildAt(24),this.m_back=this.getChildAt(25),this.m_show_toast=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(h)).URL="ui://qhc4mxqcd9710",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BattleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,s,e,a;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy},function(t){e=t.UIPackage,a=t.GComponent}],execute:function(){s._RF.push({},"f5a0ekOjfBFGrop01Ze15fm","UI_BattleView",void 0),t("default",function(t){function s(){for(var i,s=arguments.length,e=new Array(s),a=0;a<s;a++)e[a]=arguments[a];return(i=t.call.apply(t,[this].concat(e))||this).m_inBattle=void 0,i.m_map=void 0,i.m_wave=void 0,i.m_bag=void 0,i.m_info=void 0,i.m_start=void 0,i.m_mask=void 0,i.m_current_status=void 0,i.m_equip_status=void 0,i.m_show_status=void 0,i.m_show_equip_status=void 0,i.m_hide_status=void 0,i}return i(s,t),s.createInstance=function(){return e.createObject("PackBattle","BattleView")},s.prototype.onConstruct=function(){this.m_inBattle=this.getControllerAt(0),this.m_map=this.getChildAt(0),this.m_wave=this.getChildAt(1),this.m_bag=this.getChildAt(2),this.m_info=this.getChildAt(3),this.m_start=this.getChildAt(4),this.m_mask=this.getChildAt(5),this.m_current_status=this.getChildAt(6),this.m_equip_status=this.getChildAt(7),this.m_show_status=this.getTransitionAt(0),this.m_show_equip_status=this.getTransitionAt(1),this.m_hide_status=this.getTransitionAt(2),globalThis.translateUI&&globalThis.translateUI(this)},s}(a)).URL="ui://aymh9hbewx2e5d",s._RF.pop()}}}));

System.register("chunks:///_virtual/UI_beginLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,r=t.GComponent}],execute:function(){e._RF.push({},"0af63geoWBH7YNhzQYJvPw3","UI_beginLayer",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this).m_lStart=void 0,i.m_lEnd=void 0,i.m_rStart=void 0,i.m_rEnd=void 0,i.m_beginLayer=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao2","beginLayer")},e.prototype.onConstruct=function(){this.m_lStart=this.getChildAt(2),this.m_lEnd=this.getChildAt(3),this.m_rStart=this.getChildAt(4),this.m_rEnd=this.getChildAt(5),this.m_beginLayer=this.getChildAt(6),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://0wf7zih4r25mbbn",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_beginLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,r=t.GComponent}],execute:function(){e._RF.push({},"89588VB3aREmYG1fDZJQpqO","UI_beginLayer2",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this).m_lStart=void 0,i.m_lEnd=void 0,i.m_rStart=void 0,i.m_rEnd=void 0,i.m_beginLayer=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao2","beginLayer2")},e.prototype.onConstruct=function(){this.m_lStart=this.getChildAt(0),this.m_lEnd=this.getChildAt(1),this.m_rStart=this.getChildAt(2),this.m_rEnd=this.getChildAt(3),this.m_beginLayer=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://0wf7zih4r25mbc6",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_bluePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"2212aGUDktPfoUJROPPB9DY","UI_bluePanel",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_quan=void 0,e.m_buffLabel=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","bluePanel")},n.prototype.onConstruct=function(){this.m_quan=this.getChildAt(0),this.m_buffLabel=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4r25mbbo",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Boss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GLabel}],execute:function(){i._RF.push({},"35e3fyC2ZdPAIW5pGik2zJ7","UI_Boss",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_withShield=void 0,e.m_hp=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("pindao","Boss")},i.prototype.onConstruct=function(){this.m_withShield=this.getControllerAt(0),this.m_hp=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://vidz8nxqrtcr86",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_bossHPmask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,s,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"d27a2sMXTlEvp9AhE32LFWm","UI_bossHPmask",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(n=t.call.apply(t,[this].concat(s))||this).m_bar=void 0,n}return n(e,t),e.createInstance=function(){return s.createObject("pindao","bossHPmask")},e.prototype.onConstruct=function(){this.m_bar=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://vidz8nxqrtcrb4",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BottleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GLabel}],execute:function(){n._RF.push({},"ca61c9SyhBDb48eoJEDe6VD","UI_BottleItem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_item_slot=void 0,e.m_t0=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","BottleItem")},n.prototype.onConstruct=function(){this.m_item_slot=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcy6cq93",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BottleItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GLabel}],execute:function(){i._RF.push({},"e6191ZJX+JPQbmdpD8DYxRE","UI_BottleItem",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_item_slot=void 0,e.m_t0=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("shoudaqiao2","BottleItem")},i.prototype.onConstruct=function(){this.m_item_slot=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://0wf7zih4y6cq93",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_bottomCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GComponent}],execute:function(){e._RF.push({},"7f3cfKiEOJLZ4y+lQxkGULf","UI_bottomCmp",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_bg=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("Main","bottomCmp")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nbfb31n",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Box.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"b8945GxeclObK82uwNEqQTM","UI_Box",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_icon=void 0,i.m_used=void 0,i.m_title=void 0,i.m_btn_get_double=void 0,i.m_btn_close=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","Box")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_icon=this.getChildAt(2),this.m_used=this.getChildAt(4),this.m_title=this.getChildAt(5),this.m_btn_get_double=this.getChildAt(6),this.m_btn_close=this.getChildAt(7),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nenhr9b",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btn_icon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"13faaUvsj1FvZTQd6Tx+hzw","UI_btn_icon",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_withDot=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("PackBattle","btn_icon")},e.prototype.onConstruct=function(){this.m_withDot=this.getControllerAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://aymh9hbehdoe13",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btn_icon2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"1bbbaVUUyBBL4c8CjuVunU2","UI_btn_icon",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_withDot=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("SubGame","btn_icon")},e.prototype.onConstruct=function(){this.m_withDot=this.getControllerAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://mazdo0vthdoe13",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btn_text_01.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,c=t.GButton}],execute:function(){e._RF.push({},"3bcef677ulMY7b6yRm1Nf9l","UI_btn_text_01",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("tangping","btn_text_01")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(c)).URL="ui://vwczupxsmsz6m",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btn_text_012.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"58e957qk4hEVoC6ZMMhmO7t","UI_btn_text_01",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","btn_text_01")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nohq9a",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btnAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,r=t.GButton}],execute:function(){e._RF.push({},"7bffdepeUhA1KDZtTVoTLsg","UI_btnAd",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).m_ad=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("Main","btnAd")},e.prototype.onConstruct=function(){this.m_ad=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78ncs614n",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btnAd2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"1e1f1Vr84BEL6F2qS8gyW60","UI_btnAd2",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).m_titlePro=void 0,n}return n(e,t),e.createInstance=function(){return r.createObject("Main","btnAd2")},e.prototype.onConstruct=function(){this.m_titlePro=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nenhr9a",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btnBatAtk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){e._RF.push({},"be354zXCiJHHIUJkSH5ship","UI_btnBatAtk",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_title=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","btnBatAtk")},e.prototype.onConstruct=function(){this.m_title=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78nuulr6u",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btnCulti.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"9efefkH/UtF1oQj41Ou7ypG","UI_btnCulti",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_tag=void 0,n.m_title=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","btnCulti")},e.prototype.onConstruct=function(){this.m_tag=this.getControllerAt(0),this.m_title=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nkqqd3y",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btnRate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){e._RF.push({},"6ae8d7gX8xHBI0Y/Vc7lRPx","UI_btnRate",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).m_title=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","btnRate")},e.prototype.onConstruct=function(){this.m_title=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(a)).URL="ui://qgbta78nuulr6t",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_btnUnlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,c,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"a7b4e6SITJEFK3ao0ZpF4v/","UI_btnUnlock",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return(n=t.call.apply(t,[this].concat(c))||this).m_txt_cnt=void 0,n}return n(e,t),e.createInstance=function(){return c.createObject("Main","btnUnlock")},e.prototype.onConstruct=function(){this.m_txt_cnt=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nenhr8j",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BuildRate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"b404a5YppxBhJBXfFMQzufb","UI_BuildRate",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).m_bg=void 0,i.m_txt_name=void 0,i.m_btn_close=void 0,i.m_txt_qua=void 0,i.m_txt_q=void 0,i.m_txt_b=void 0,i.m_txt_build=void 0,i.m_show=void 0,i.m_close=void 0,i.m_t2=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("Main","BuildRate")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_txt_name=this.getChildAt(2),this.m_btn_close=this.getChildAt(3),this.m_txt_qua=this.getChildAt(5),this.m_txt_q=this.getChildAt(6),this.m_txt_b=this.getChildAt(7),this.m_txt_build=this.getChildAt(8),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),this.m_t2=this.getTransitionAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://qgbta78nusaw7g",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Builds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"3cd5cNmyVlGyKDq69cW9hm3","UI_Builds",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_loaderScene=void 0,i.m_btn=void 0,i.m_list=void 0,i.m_btnRate=void 0,i.m_atk=void 0,i.m_btnMake=void 0,i.m_humer=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","Builds")},e.prototype.onConstruct=function(){this.m_loaderScene=this.getChildAt(0),this.m_btn=this.getChildAt(3),this.m_list=this.getChildAt(4),this.m_btnRate=this.getChildAt(5),this.m_atk=this.getChildAt(6),this.m_btnMake=this.getChildAt(7),this.m_humer=this.getChildAt(8),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78nbfb321",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Bullet_Chainsaw_1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"f6d33WSsSFGQb6dWlWIOuCT","UI_Bullet_Chainsaw_1",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_t1=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","Bullet_Chainsaw_1")},n.prototype.onConstruct=function(){this.m_t1=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://hh1mxgwcmx2efd",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Bullet_Laser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"82627O+CWdCVrdsxdsSNtRC","UI_Bullet_Laser",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).m_t0=void 0,e}return e(n,t),n.createInstance=function(){return r.createObject("pindao","Bullet_Laser")},n.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://vidz8nxqd9713t",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_bullet_syc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"33312l8F99NQKjiGgby7tg/","UI_bullet_syc",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_t0=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","bullet_syc")},n.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcmx2eix",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_buyBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"4cbb0mlkGJJm4qgK/jGYzq2","UI_buyBtn",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_type=void 0,i.m_canUse=void 0,i.m_btn=void 0,i.m_goldPrice=void 0,i.m_count=void 0,i.m_powerPrice=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("tangping","buyBtn")},e.prototype.onConstruct=function(){this.m_type=this.getControllerAt(0),this.m_canUse=this.getControllerAt(1),this.m_btn=this.getChildAt(0),this.m_goldPrice=this.getChildAt(2),this.m_count=this.getChildAt(3),this.m_powerPrice=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://vwczupxsmsz6s",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){e._RF.push({},"df3e515dOBHSJ87UR6wxMIa","UI_Card",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).m_list=void 0,n.m_btn_make=void 0,n.m_btn_makead=void 0,n.m_btnRate=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","Card")},e.prototype.onConstruct=function(){this.m_list=this.getChildAt(0),this.m_btn_make=this.getChildAt(1),this.m_btn_makead=this.getChildAt(2),this.m_btnRate=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(a)).URL="ui://qgbta78nbfb322",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CardInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,s,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy},function(t){e=t.UIPackage,o=t.GComponent}],execute:function(){s._RF.push({},"84db3WqqtRBlp96VuEgpkWQ","UI_CardInfo",void 0),t("default",function(t){function s(){for(var i,s=arguments.length,e=new Array(s),o=0;o<s;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).m_state=void 0,i.m_quality=void 0,i.m_bg=void 0,i.m_txt_name=void 0,i.m_btn_upgrade=void 0,i.m_btn_close=void 0,i.m_btn_left=void 0,i.m_btn_right=void 0,i.m_txt_lv=void 0,i.m_txt_desc=void 0,i.m_txt_lock=void 0,i.m_pro=void 0,i.m_icon=void 0,i.m_show=void 0,i.m_close=void 0,i.m_t2=void 0,i}return i(s,t),s.createInstance=function(){return e.createObject("Main","CardInfo")},s.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_quality=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_txt_name=this.getChildAt(3),this.m_btn_upgrade=this.getChildAt(4),this.m_btn_close=this.getChildAt(5),this.m_btn_left=this.getChildAt(6),this.m_btn_right=this.getChildAt(7),this.m_txt_lv=this.getChildAt(9),this.m_txt_desc=this.getChildAt(10),this.m_txt_lock=this.getChildAt(11),this.m_pro=this.getChildAt(12),this.m_icon=this.getChildAt(13),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),this.m_t2=this.getTransitionAt(2),globalThis.translateUI&&globalThis.translateUI(this)},s}(o)).URL="ui://qgbta78nuulr69",s._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CardRate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"fe75bCjdrFFWIW4D9QUPAJz","UI_CardRate",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_txt_name=void 0,i.m_btn_close=void 0,i.m_txt_qua=void 0,i.m_txt_q=void 0,i.m_show=void 0,i.m_close=void 0,i.m_t2=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","CardRate")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_txt_name=this.getChildAt(3),this.m_btn_close=this.getChildAt(4),this.m_txt_qua=this.getChildAt(6),this.m_txt_q=this.getChildAt(7),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),this.m_t2=this.getTransitionAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78nqwiubh",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_checkToast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,c=t.GComponent}],execute:function(){e._RF.push({},"35bc07RBrtNcYCqNdoNgSCk","UI_checkToast",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(n=t.call.apply(t,[this].concat(o))||this).m_correct=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("pindao","checkToast")},e.prototype.onConstruct=function(){this.m_correct=this.getControllerAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(c)).URL="ui://vidz8nxquar1fj",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ChestItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){i._RF.push({},"1668fbmQeZIU7c+HbQ2mHzY","UI_ChestItem",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_item_slot=void 0,e.m_t0=void 0,e.m_hit=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("shoudaqiao","ChestItem")},i.prototype.onConstruct=function(){this.m_item_slot=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),this.m_hit=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://qhc4mxqcnkoy9t",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ChestItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){i._RF.push({},"dae95za3JRKlYgXupik4vuq","UI_ChestItem",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_item_slot=void 0,e.m_t0=void 0,e.m_hit=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("shoudaqiao2","ChestItem")},i.prototype.onConstruct=function(){this.m_item_slot=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),this.m_hit=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://0wf7zih4nkoy9t",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_chooseItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"812d2KoXXNC/I2htc940OTl","UI_chooseItem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).m_item_slot=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("treeSpirit","chooseItem")},n.prototype.onConstruct=function(){this.m_item_slot=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://hh1mxgwcmx2eje",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GLabel}],execute:function(){e._RF.push({},"e8584TJ9AFIXoMmKbd6Q+AG","UI_cmpCard",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_list=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","cmpCard")},e.prototype.onConstruct=function(){this.m_list=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78nkqqd3j",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpCard1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,i=t.GLabel}],execute:function(){e._RF.push({},"86dd9FDwT9L34/Wv0WhjrKf","UI_cmpCard1",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).m_list=void 0,n}return n(e,t),e.createInstance=function(){return r.createObject("Main","cmpCard1")},e.prototype.onConstruct=function(){this.m_list=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nkqqd3k",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpChapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GButton}],execute:function(){i._RF.push({},"d4a9fL/wd1Oj7KlES7/wOZK","UI_cmpChapter",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_txt_level=void 0,e.m_lock=void 0,e.m_item1=void 0,e.m_item2=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("Main","cmpChapter")},i.prototype.onConstruct=function(){this.m_txt_level=this.getChildAt(2),this.m_lock=this.getChildAt(3),this.m_item1=this.getChildAt(4),this.m_item2=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://qgbta78nusaw7f",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpCultivate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"99168/uNgBK760lDoujDvL+","UI_cmpCultivate",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_state=void 0,i.m_role=void 0,i.m_role2=void 0,i.m_bg=void 0,i.m_title=void 0,i.m_list_reward=void 0,i.m_btn_top=void 0,i.m_btn_turn=void 0,i.m_btn_cultivate=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","cmpCultivate")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_role=this.getChildAt(0),this.m_role2=this.getChildAt(1),this.m_bg=this.getChildAt(2),this.m_title=this.getChildAt(4),this.m_list_reward=this.getChildAt(5),this.m_btn_top=this.getChildAt(6),this.m_btn_turn=this.getChildAt(7),this.m_btn_cultivate=this.getChildAt(8),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nkqqd2d",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpGm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,c=t.GLabel}],execute:function(){e._RF.push({},"9410daL68dMAoMAYiy72xWw","UI_cmpGm",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).m_input=void 0,n.m_btn_get=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","cmpGm")},e.prototype.onConstruct=function(){this.m_input=this.getChildAt(1),this.m_btn_get=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(c)).URL="ui://qgbta78nqwiubg",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpHumer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,i=t.GComponent}],execute:function(){e._RF.push({},"232fa7rV1NG6ZftIoVpHLvq","UI_cmpHumer",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).m_loader=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return r.createObject("Main","cmpHumer")},e.prototype.onConstruct=function(){this.m_loader=this.getChildAt(1),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nuulr6v",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GLabel}],execute:function(){e._RF.push({},"8812cBo1XlB4qQ6KAEwruUU","UI_cmpProp",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_txt_value=void 0,n.m_btn_buy=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","cmpProp")},e.prototype.onConstruct=function(){this.m_txt_value=this.getChildAt(2),this.m_btn_buy=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78nkqqd2b",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,i,e,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.UIPackage,a=t.GButton}],execute:function(){i._RF.push({},"1dea1Cl+h5E34kGnlMp4Y3S","UI_cmpReward",void 0),t("default",function(t){function i(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).m_quality=void 0,n.m_bg=void 0,n.m_anim=void 0,n}return n(i,t),i.createInstance=function(){return e.createObject("Main","cmpReward")},i.prototype.onConstruct=function(){this.m_quality=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_anim=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(a)).URL="ui://qgbta78nkqqd2c",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpReward1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GButton}],execute:function(){e._RF.push({},"d3f02VtE3xNxZUU7nWZSb3G","UI_cmpReward1",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_quality=void 0,n.m_bg=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","cmpReward1")},e.prototype.onConstruct=function(){this.m_quality=this.getControllerAt(0),this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78nusaw7e",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpRole2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"0bc83xnMDJEuLK4xJTLi0oU","UI_cmpRole2",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_icon=void 0,i.m_tog=void 0,i.m_txt_des=void 0,i.m_txt_name=void 0,i.m_txt_qua=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","cmpRole2")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),this.m_tog=this.getChildAt(1),this.m_txt_des=this.getChildAt(2),this.m_txt_name=this.getChildAt(3),this.m_txt_qua=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nl9chbc",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpTurn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"7571eKc8vNM4bLI80yndEF1","UI_cmpTurn",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_progress=void 0,i.m_item0=void 0,i.m_item1=void 0,i.m_item2=void 0,i.m_item3=void 0,i.m_item4=void 0,i.m_item5=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","cmpTurn")},e.prototype.onConstruct=function(){this.m_progress=this.getChildAt(0),this.m_item0=this.getChildAt(1),this.m_item1=this.getChildAt(2),this.m_item2=this.getChildAt(3),this.m_item3=this.getChildAt(4),this.m_item4=this.getChildAt(5),this.m_item5=this.getChildAt(6),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78nl9chbd",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_cmpUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"fa537gpaAZHWZoyCY9xKli6","UI_cmpUpgrade",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_loader_bg=void 0,i.m_list_equip=void 0,i.m_btn_skin=void 0,i.m_prop_atk=void 0,i.m_prop_camp=void 0,i.m_role=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","cmpUpgrade")},e.prototype.onConstruct=function(){this.m_loader_bg=this.getChildAt(2),this.m_list_equip=this.getChildAt(3),this.m_btn_skin=this.getChildAt(4),this.m_prop_atk=this.getChildAt(6),this.m_prop_camp=this.getChildAt(7),this.m_role=this.getChildAt(8),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nkqqd29",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_commonBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,c=t.GComponent}],execute:function(){o._RF.push({},"77130pyxwRFYLfuicoZ0UEb","UI_commonBtn",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),c=0;c<o;c++)e[c]=arguments[c];return(n=t.call.apply(t,[this].concat(e))||this).m_ad=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("tangping","commonBtn")},o.prototype.onConstruct=function(){this.m_ad=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},o}(c)).URL="ui://vwczupxssr0u1j",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CommonBtn2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,i=t.GButton}],execute:function(){o._RF.push({},"4ef8fQm/AdCfZetiGcqp82p","UI_CommonBtn",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).m_color=void 0,n.m_bg=void 0,n.m_left=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("shoudaqiao2","CommonBtn")},o.prototype.onConstruct=function(){this.m_color=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_left=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},o}(i)).URL="ui://0wf7zih4d97147",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CommonBtn3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,i=t.GButton}],execute:function(){o._RF.push({},"7ef7bhP/IhFX4LdWiPEOgEW","UI_CommonBtn",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).m_color=void 0,n.m_bg=void 0,n.m_left=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("shoudaqiao","CommonBtn")},o.prototype.onConstruct=function(){this.m_color=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_left=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},o}(i)).URL="ui://qhc4mxqcd97147",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CommonBtn4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,i=t.GButton}],execute:function(){o._RF.push({},"ead6c23A7NEPoH6HY2u4PuH","UI_CommonBtn",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).m_color=void 0,n.m_bg=void 0,n.m_left=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("pindao","CommonBtn")},o.prototype.onConstruct=function(){this.m_color=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_left=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},o}(i)).URL="ui://vidz8nxqd97147",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CommonBtn5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"ef795BiZRlO36OfaugWTd7r","UI_CommonBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_color=void 0,n.m_bg=void 0,n.m_left=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("treeSpirit","CommonBtn")},e.prototype.onConstruct=function(){this.m_color=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_left=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://hh1mxgwcmx2e14",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Component4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,r=t.GComponent}],execute:function(){e._RF.push({},"44ef1CBeLtEhbOkOt5kG8v+","UI_Component4",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).m_bar=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("pindao","Component4")},e.prototype.onConstruct=function(){this.m_bar=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://vidz8nxqlsvrfo",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_costBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"039d8RK2/5CNLv76x8IdUNT","UI_costBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,n.m_txt_cost=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","costBtn")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_txt_cost=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nkqqd27",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_costBtn1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"079ddFzVKtJ2qSsMoqkSP3Y","UI_costBtn1",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_bg=void 0,n.m_txt_cost=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("Main","costBtn1")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_txt_cost=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nkqqd28",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_costBtn2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"2bb8fqvRIRLjZCGag6bF66K","UI_costBtn2",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,n.m_txt_cost=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","costBtn2")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_txt_cost=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nkqqd2a",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_costBtnad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"33796PtHa1FM6+n7d1gsetY","UI_costBtnad",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,n.m_txt_cost=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","costBtnad")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_txt_cost=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78ncs6165",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_costCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"043d6s1oTNMZ5zaVdMES+9L","UI_costCmp",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).m_state=void 0,e.m_coin=void 0,e.m_energy=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("sdm","costCmp")},n.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_coin=this.getChildAt(0),this.m_energy=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://luniefvxolae2d",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CupPick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"1d055pRJBRK6r0YVc9U3lEy","UI_CupPick",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_item_1=void 0,i.m_item_2=void 0,i.m_item_3=void 0,i.m_cup_1=void 0,i.m_cup_2=void 0,i.m_cup_3=void 0,i.m_nums=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("treeSpirit","CupPick")},e.prototype.onConstruct=function(){this.m_item_1=this.getChildAt(1),this.m_item_2=this.getChildAt(2),this.m_item_3=this.getChildAt(3),this.m_cup_1=this.getChildAt(4),this.m_cup_2=this.getChildAt(5),this.m_cup_3=this.getChildAt(6),this.m_nums=this.getChildAt(10),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://hh1mxgwcmx2ev",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CupPick2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"27feeJDLrRPuoXGySKpLW3C","UI_CupPick",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_item_1=void 0,i.m_item_2=void 0,i.m_item_3=void 0,i.m_cup_1=void 0,i.m_cup_2=void 0,i.m_cup_3=void 0,i.m_nums=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao2","CupPick")},e.prototype.onConstruct=function(){this.m_item_1=this.getChildAt(1),this.m_item_2=this.getChildAt(2),this.m_item_3=this.getChildAt(3),this.m_cup_1=this.getChildAt(4),this.m_cup_2=this.getChildAt(5),this.m_cup_3=this.getChildAt(6),this.m_nums=this.getChildAt(10),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://0wf7zih4d97148",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CupPick3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"b541coTBStH4bwuIpMuPihe","UI_CupPick",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_item_1=void 0,i.m_item_2=void 0,i.m_item_3=void 0,i.m_cup_1=void 0,i.m_cup_2=void 0,i.m_cup_3=void 0,i.m_nums=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao","CupPick")},e.prototype.onConstruct=function(){this.m_item_1=this.getChildAt(1),this.m_item_2=this.getChildAt(2),this.m_item_3=this.getChildAt(3),this.m_cup_1=this.getChildAt(4),this.m_cup_2=this.getChildAt(5),this.m_cup_3=this.getChildAt(6),this.m_nums=this.getChildAt(10),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qhc4mxqcd97148",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CupPick4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"fbd5awFTUBJyqzV5CjF18jE","UI_CupPick",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_item_1=void 0,i.m_item_2=void 0,i.m_item_3=void 0,i.m_cup_1=void 0,i.m_cup_2=void 0,i.m_cup_3=void 0,i.m_nums=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("pindao","CupPick")},e.prototype.onConstruct=function(){this.m_item_1=this.getChildAt(1),this.m_item_2=this.getChildAt(2),this.m_item_3=this.getChildAt(3),this.m_cup_1=this.getChildAt(4),this.m_cup_2=this.getChildAt(5),this.m_cup_3=this.getChildAt(6),this.m_nums=this.getChildAt(10),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://vidz8nxqd97148",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CupPickItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GLabel}],execute:function(){n._RF.push({},"2a86feTWFVMFK2RO9vJfEHh","UI_CupPickItem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_buff=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","CupPickItem")},n.prototype.onConstruct=function(){this.m_buff=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://0wf7zih4d9713v",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CupPickItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"9275c2FHCZO/4Z6q4w+kErV","UI_CupPickItem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))||this).m_buff=void 0,e}return e(n,t),n.createInstance=function(){return c.createObject("shoudaqiao","CupPickItem")},n.prototype.onConstruct=function(){this.m_buff=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://qhc4mxqcd9713v",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CupPickItem3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"b024aIyaPJHCrYJJ70tE9RJ","UI_CupPickItem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).m_buff=void 0,e}return e(n,t),n.createInstance=function(){return r.createObject("treeSpirit","CupPickItem")},n.prototype.onConstruct=function(){this.m_buff=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://hh1mxgwcmx2ew",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CupPickItem4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GLabel}],execute:function(){n._RF.push({},"ba4f1t3eJlLEIcrPastXYb1","UI_CupPickItem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_buff=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("pindao","CupPickItem")},n.prototype.onConstruct=function(){this.m_buff=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://vidz8nxqd9713v",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_current_status.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){s=t.UIPackage,r=t.GComponent}],execute:function(){i._RF.push({},"ab938pZW6tP56KiK7vJ47oV","UI_current_status",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).m_dodge_rate=void 0,e.m_crit_rate=void 0,e.m_combo_rate=void 0,e.m_hit_restore=void 0,e.m_def=void 0,e.m_hp=void 0,e.m_speed=void 0,e.m_atk=void 0,e.m_counter_rate=void 0,e.m_heal=void 0,e.m_dizzy_rate=void 0,e}return e(i,t),i.createInstance=function(){return s.createObject("PackBattle","current_status")},i.prototype.onConstruct=function(){this.m_dodge_rate=this.getChildAt(3),this.m_crit_rate=this.getChildAt(4),this.m_combo_rate=this.getChildAt(5),this.m_hit_restore=this.getChildAt(6),this.m_def=this.getChildAt(7),this.m_hp=this.getChildAt(8),this.m_speed=this.getChildAt(9),this.m_atk=this.getChildAt(10),this.m_counter_rate=this.getChildAt(11),this.m_heal=this.getChildAt(12),this.m_dizzy_rate=this.getChildAt(13),globalThis.translateUI&&globalThis.translateUI(this)},i}(r)).URL="ui://aymh9hbewx2e5s",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DamageBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"55114KXMZJKXoGPhjRjNVWH","UI_DamageBoard",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).m_state=void 0,e.m_count=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("Font","DamageBoard")},n.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_count=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://toa5hz87q6yo2l",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DamageBoard1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"886c7CmO7FOBLRhJ1IGq0JC","UI_DamageBoard1",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).m_state=void 0,e.m_count=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("Font","DamageBoard1")},n.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_count=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://toa5hz87jsuc35",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DamageBoardCrit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,r=t.GComponent}],execute:function(){e._RF.push({},"974c86lGSVM0Ybnoxq7qODu","UI_DamageBoardCrit",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).m_state=void 0,n.m_count=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("Font","DamageBoardCrit")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_count=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://toa5hz87q6yo2m",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DamageBoardCrit1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"eeee9p2FYVE4qbAGCBAsBfN","UI_DamageBoardCrit1",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).m_state=void 0,e.m_count=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("Font","DamageBoardCrit1")},n.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_count=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://toa5hz87jsuc34",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_dmgRed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"52cfeVJay9M0KK2XTNINv+a","UI_dmgRed",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_t0=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","dmgRed")},n.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcmx2ejg",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DoorAD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,n,o,e;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,e=t.GComponent}],execute:function(){n._RF.push({},"a2783TxbgdDAowGkcm5DOQp","UI_DoorAD",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this).m_bg=void 0,i.m_bgBtn=void 0,i.m_bgImg=void 0,i.m_info=void 0,i.m_closeBtn=void 0,i.m_adBtn=void 0,i.m_backBtn=void 0,i}return i(n,t),n.createInstance=function(){return o.createObject("tangping","DoorAD")},n.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_bgBtn=this.getChildAt(1),this.m_bgImg=this.getChildAt(2),this.m_info=this.getChildAt(4),this.m_closeBtn=this.getChildAt(5),this.m_adBtn=this.getChildAt(7),this.m_backBtn=this.getChildAt(8),globalThis.translateUI&&globalThis.translateUI(this)},n}(e)).URL="ui://vwczupxssr0u1f",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DragonBody.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){o._RF.push({},"cf8bdcrR5JBUpuZoGrB5ro+","UI_DragonBody",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_icon=void 0,n.m_t0=void 0,n}return n(o,t),o.createInstance=function(){return i.createObject("shoudaqiao","DragonBody")},o.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},o}(r)).URL="ui://qhc4mxqcr5vaa2",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DragonBody2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,i,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){i=t.UIPackage,e=t.GComponent}],execute:function(){o._RF.push({},"d9ad7vlEaxBV7J5YvW9DlAf","UI_DragonBody",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).m_icon=void 0,n.m_t0=void 0,n}return n(o,t),o.createInstance=function(){return i.createObject("shoudaqiao2","DragonBody")},o.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},o}(e)).URL="ui://0wf7zih4r5vaa2",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DragonHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,a=t.GComponent}],execute:function(){e._RF.push({},"585e9t4DEFLvooC293E8oNR","UI_DragonHead",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).m_state=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("shoudaqiao","DragonHead")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(a)).URL="ui://qhc4mxqcr5vaa1",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DragonHead2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,a=t.GComponent}],execute:function(){e._RF.push({},"7e210v3FbpC0KunBvsvqvWK","UI_DragonHead",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).m_state=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("shoudaqiao2","DragonHead")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(a)).URL="ui://0wf7zih4r5vaa1",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DragonPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,a,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"bcbee3s2qxAyp8BdWxinECr","UI_DragonPanel",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).m_text=void 0,n}return n(e,t),e.createInstance=function(){return a.createObject("shoudaqiao","DragonPanel")},e.prototype.onConstruct=function(){this.m_text=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qhc4mxqcr5vaa3",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DragonPanel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,a,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"eb0cdZgCE5EXKeIbxRjAeL2","UI_DragonPanel",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).m_text=void 0,n}return n(e,t),e.createInstance=function(){return a.createObject("shoudaqiao2","DragonPanel")},e.prototype.onConstruct=function(){this.m_text=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://0wf7zih4r5vaa3",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DropChoose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,n=t.GLabel}],execute:function(){e._RF.push({},"093fdT5fIlIzZYtZi6kPBDF","UI_DropChoose",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).m_count=void 0,i.m_left=void 0,i.m_mid=void 0,i.m_right=void 0,i.m_t0=void 0,i}return i(e,t),e.createInstance=function(){return o.createObject("treeSpirit","DropChoose")},e.prototype.onConstruct=function(){this.m_count=this.getControllerAt(0),this.m_left=this.getChildAt(0),this.m_mid=this.getChildAt(1),this.m_right=this.getChildAt(2),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://hh1mxgwcmx2eji",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DropPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GLabel}],execute:function(){e._RF.push({},"0b7210zY9ZI769xm4tT+C7I","UI_DropPanel",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_bottom=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("shoudaqiao2","DropPanel")},e.prototype.onConstruct=function(){this.m_bottom=this.getChildAt(2),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://0wf7zih4d9713x",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_dropPanelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,r=t.GLabel}],execute:function(){i._RF.push({},"53c34uuJrJHNbRtvG0HzXk/","UI_dropPanelItem",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).m_red=void 0,e.m_blue=void 0,e.m_buffType=void 0,e.m_hit=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("shoudaqiao2","dropPanelItem")},i.prototype.onConstruct=function(){this.m_red=this.getChildAt(0),this.m_blue=this.getChildAt(1),this.m_buffType=this.getChildAt(4),this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(r)).URL="ui://0wf7zih4r25mbbj",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_End.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"12be5ELWQdFSqo4jYMMFC7T","UI_End",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_win=void 0,i.m_adBtn=void 0,i.m_noBtn=void 0,i.m_title=void 0,i.m_btnNext=void 0,i.m_txt_timer=void 0,i.m_txt_score=void 0,i.m_txt_damage=void 0,i.m_t0=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("qjcj","End")},e.prototype.onConstruct=function(){this.m_win=this.getControllerAt(0),this.m_adBtn=this.getChildAt(2),this.m_noBtn=this.getChildAt(3),this.m_title=this.getChildAt(6),this.m_btnNext=this.getChildAt(8),this.m_txt_timer=this.getChildAt(12),this.m_txt_score=this.getChildAt(13),this.m_txt_damage=this.getChildAt(14),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://wxmdozwlew6f0",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_End2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"55f38/t/r9GTYGP9ynTMpk1","UI_End",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).m_win=void 0,i.m_adBtn=void 0,i.m_noBtn=void 0,i.m_title=void 0,i.m_btnNext=void 0,i.m_txt_timer=void 0,i.m_t0=void 0,i}return i(n,t),n.createInstance=function(){return e.createObject("sdm","End")},n.prototype.onConstruct=function(){this.m_win=this.getControllerAt(0),this.m_adBtn=this.getChildAt(2),this.m_noBtn=this.getChildAt(3),this.m_title=this.getChildAt(6),this.m_btnNext=this.getChildAt(8),this.m_txt_timer=this.getChildAt(10),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://luniefvxaaxc7",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_End3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.UIPackage,s=t.GComponent}],execute:function(){n._RF.push({},"7df23dDZ8hGvrGKpEynkuz6","UI_End",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).m_win=void 0,i.m_adBtn=void 0,i.m_noBtn=void 0,i.m_title=void 0,i.m_btnNext=void 0,i.m_txt_timer=void 0,i.m_txt_score=void 0,i.m_txt_damage=void 0,i.m_t0=void 0,i}return i(n,t),n.createInstance=function(){return e.createObject("sub_zzl","End")},n.prototype.onConstruct=function(){this.m_win=this.getControllerAt(0),this.m_adBtn=this.getChildAt(2),this.m_noBtn=this.getChildAt(3),this.m_title=this.getChildAt(6),this.m_btnNext=this.getChildAt(8),this.m_txt_timer=this.getChildAt(12),this.m_txt_score=this.getChildAt(13),this.m_txt_damage=this.getChildAt(14),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(s)).URL="ui://43m5c1xapaj20",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_End4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"d5cd4weBjVD35/o9PYhpx6v","UI_End",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_win=void 0,i.m_adBtn=void 0,i.m_noBtn=void 0,i.m_title=void 0,i.m_btnNext=void 0,i.m_txt_timer=void 0,i.m_txt_score=void 0,i.m_txt_damage=void 0,i.m_t0=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("wukong","End")},e.prototype.onConstruct=function(){this.m_win=this.getControllerAt(0),this.m_adBtn=this.getChildAt(2),this.m_noBtn=this.getChildAt(3),this.m_title=this.getChildAt(6),this.m_btnNext=this.getChildAt(8),this.m_txt_timer=this.getChildAt(12),this.m_txt_score=this.getChildAt(13),this.m_txt_damage=this.getChildAt(14),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://8eqmm8h5xnuq0",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Enemy_101.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){e._RF.push({},"00065OBqm1EHYuindrmdfuf","UI_Enemy_101",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_withItem=void 0,i.m_shadow=void 0,i.m_anim=void 0,i.m_spinePos=void 0,i.m_item=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("treeSpirit","Enemy_101")},e.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_shadow=this.getChildAt(0),this.m_anim=this.getChildAt(2),this.m_spinePos=this.getChildAt(3),this.m_item=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://hh1mxgwclb2v7n8",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Enemy_102.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){e._RF.push({},"190f78NB7hO3oriMUWHi9Ul","UI_Enemy_102",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_withItem=void 0,i.m_shadow=void 0,i.m_anim=void 0,i.m_spinePos=void 0,i.m_item=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("treeSpirit","Enemy_102")},e.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_shadow=this.getChildAt(0),this.m_anim=this.getChildAt(2),this.m_spinePos=this.getChildAt(3),this.m_item=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://hh1mxgwclb2v7n9",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Enemy_103.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){e._RF.push({},"7201bkcE8dE047uFkCh+hBa","UI_Enemy_103",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_withItem=void 0,i.m_shadow=void 0,i.m_anim=void 0,i.m_spinePos=void 0,i.m_item=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("treeSpirit","Enemy_103")},e.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_shadow=this.getChildAt(0),this.m_anim=this.getChildAt(2),this.m_spinePos=this.getChildAt(3),this.m_item=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://hh1mxgwclb2v7na",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_enemy_hp_bar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.UIPackage,i=t.GProgressBar}],execute:function(){n._RF.push({},"1fdb6eicq9JQJgxllbDgSr9","UI_enemy_hp_bar",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).m_mid=void 0,e}return e(n,t),n.createInstance=function(){return r.createObject("PackBattle","enemy_hp_bar")},n.prototype.onConstruct=function(){this.m_mid=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://aymh9hbewx2e68",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){e._RF.push({},"31904j5nG5N4L3FRlZxJFEz","UI_Enemy",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_withItem=void 0,i.m_shadow=void 0,i.m_anim=void 0,i.m_spinePos=void 0,i.m_item=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("treeSpirit","Enemy")},e.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_shadow=this.getChildAt(0),this.m_anim=this.getChildAt(2),this.m_spinePos=this.getChildAt(3),this.m_item=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://hh1mxgwcmx2ejj",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_EnemyBoss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){i._RF.push({},"5c47csb1SZEgrILu2uzSAqG","UI_EnemyBoss",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_withItem=void 0,e.m_anim=void 0,e.m_spinePos=void 0,e.m_item=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","EnemyBoss")},i.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_anim=this.getControllerAt(1),this.m_spinePos=this.getChildAt(1),this.m_item=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://hh1mxgwcpbsfka",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_equip_status.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){i._RF.push({},"3fc35eq/exIrYg2rnkxdnpX","UI_equip_status",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).m_speed=void 0,e.m_hp=void 0,e.m_def=void 0,e.m_atk=void 0,e.m_icon=void 0,e.m_sp=void 0,e}return e(i,t),i.createInstance=function(){return s.createObject("PackBattle","equip_status")},i.prototype.onConstruct=function(){this.m_speed=this.getChildAt(3),this.m_hp=this.getChildAt(4),this.m_def=this.getChildAt(5),this.m_atk=this.getChildAt(6),this.m_icon=this.getChildAt(7),this.m_sp=this.getChildAt(9),globalThis.translateUI&&globalThis.translateUI(this)},i}(n)).URL="ui://aymh9hbewx2e5t",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_failPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,a=t.GComponent}],execute:function(){i._RF.push({},"70ec9sWjSRLjrlBklmUr2Qx","UI_failPanel",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).m_stage_title=void 0,e.m_wave_title=void 0,e.m_wave=void 0,e.m_finished=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","failPanel")},i.prototype.onConstruct=function(){this.m_stage_title=this.getChildAt(10),this.m_wave_title=this.getChildAt(11),this.m_wave=this.getChildAt(12),this.m_finished=this.getChildAt(13),globalThis.translateUI&&globalThis.translateUI(this)},i}(a)).URL="ui://hh1mxgwcmx2e1v",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_FBIWarning.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.UIPackage,s=t.GComponent}],execute:function(){n._RF.push({},"c96fbCm06lPI6LPetBPsRxp","UI_FBIWarning",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).m_bg=void 0,i.m_txt_name=void 0,i.m_txt_qua=void 0,i.m_btn_close=void 0,i.m_show=void 0,i.m_close=void 0,i.m_t2=void 0,i}return i(n,t),n.createInstance=function(){return e.createObject("Main","FBIWarning")},n.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_txt_name=this.getChildAt(3),this.m_txt_qua=this.getChildAt(5),this.m_btn_close=this.getChildAt(6),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),this.m_t2=this.getTransitionAt(2),globalThis.translateUI&&globalThis.translateUI(this)},n}(s)).URL="ui://qgbta78nl9chbe",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Feedback.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"745b8MhshpH1pabBW3YDY/K","UI_Feedback",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_img_bg=void 0,e.m_view=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("Main","Feedback")},n.prototype.onConstruct=function(){this.m_img_bg=this.getChildAt(0),this.m_view=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qgbta78nlgpfbo",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_feedComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"ef157h10KRJApmKz2EWkjbT","UI_feedComp",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_fk=void 0,i.m_list_tog=void 0,i.m_des=void 0,i.m_btn_confirm=void 0,i.m_btn_close=void 0,i.m_txt_input=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","feedComp")},e.prototype.onConstruct=function(){this.m_fk=this.getChildAt(2),this.m_list_tog=this.getChildAt(3),this.m_des=this.getChildAt(5),this.m_btn_confirm=this.getChildAt(8),this.m_btn_close=this.getChildAt(9),this.m_txt_input=this.getChildAt(10),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nlgpfbq",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_frozen_eff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"76eb03tBw1HTapMpxC9o0tl","UI_frozen_eff",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_t0=void 0,e.m_t1=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","frozen_eff")},n.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hh1mxgwcmx2e30",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_frozenBody.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"8ff68kFxzdDRZSnaaIVT/uo","UI_frozenBody",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).m_start=void 0,n.m_break=void 0,n}return n(e,t),e.createInstance=function(){return r.createObject("treeSpirit","frozenBody")},e.prototype.onConstruct=function(){this.m_start=this.getTransitionAt(0),this.m_break=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://hh1mxgwcmx2ee7",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"18f4dADhK1IqKzoMQH2gGzy","UI_Game",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).m_text=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("Zhuandao2","Game")},n.prototype.onConstruct=function(){this.m_text=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://ylicgg1jqzbx0",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Game2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"2910eDIwaBJA6XvFkyanOEb","UI_Game",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_text=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("Main","Game")},n.prototype.onConstruct=function(){this.m_text=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://qgbta78nc5141",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"0f2caGeH49GL554gnj4C2MF","UI_gameBG",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcexsx9q",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG10.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"26fedp6NppIjLhAh+2NrcO9","UI_gameBG10",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG10")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcsy5kan",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG1001.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"8baa1D0/OZHYLi2Vu8L1qDT","UI_gameBG1001",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_game_bg=void 0,e.m_game_bg2=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","gameBG1001")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),this.m_game_bg2=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4r25mbbi",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG102.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"4817evIo0VL5JQs98WRBM0a","UI_gameBG10",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG10")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://0wf7zih4sy5kan",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"771e8Twi+lEQqNkF9PXqngx","UI_gameBG11",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG11")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4e503bav",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG112.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"fd498urwItLRpsjprWyfqDJ","UI_gameBG11",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG11")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqce503bav",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,c=t.GComponent}],execute:function(){n._RF.push({},"35ac6R1UdVGjYN+D4ncsguE","UI_gameBG12",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG12")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(c)).URL="ui://qhc4mxqcb6j9bb0",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG122.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"f0833Rzcm5Jcq+6t2aaMMdB","UI_gameBG12",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG12")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4b6j9bb0",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG13.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"556b8IpY55L3K/x7EyocHIZ","UI_gameBG13",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG13")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4naimbb4",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG132.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"64358UqAutP+qmEgqY55rYw","UI_gameBG13",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG13")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://qhc4mxqcnaimbb4",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG14.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"1c8d5NZ+X9LmZZ8JG0e7fJi","UI_gameBG14",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG14")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4tpf0bba",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG142.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"f2dd1Jc8ZFEgpEBuIW6Hst+","UI_gameBG14",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG14")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqctpf0bba",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG15.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"8ddddhOaNpCCIhdO2eYFuPS","UI_gameBG15",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG15")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://qhc4mxqcgtyibbg",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG152.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"bd52bLGP6FFzLfEBiBl5tJF","UI_gameBG15",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","gameBG15")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4gtyibbg",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"e9ed27mKfxEepwAWL3WwbAy","UI_gameBG",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4exsx9q",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"28e435eB3dHO6pd5mX3WDJU","UI_gameBG2",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG2")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcexsx9r",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"ec542iFvJtN3KaqYr7zoVIg","UI_gameBG2",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG2")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4exsx9r",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"7209f/KrfZOEoCchdXhuFqi","UI_gameBG3",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("shoudaqiao2","gameBG3")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4nkoy9z",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG32.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"a4fd09PFZdPe71XH87QaLVo","UI_gameBG3",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG3")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcnkoy9z",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"980fbyMkARAqKqNXnE3+S4L","UI_gameBG4",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG4")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcnjj1a6",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG42.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"09f2bDuor5N84JaL1SwosE+","UI_gameBG4",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG4")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://0wf7zih4njj1a6",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"185103CRvBCxJWaDv6W3OX/","UI_gameBG5",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG5")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4njj1a8",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG52.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"ae3a6CI3Y9FYLyGl8AkHfHU","UI_gameBG5",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG5")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcnjj1a8",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,c=t.GComponent}],execute:function(){n._RF.push({},"02e34KiwMVOZIa6cFcaweRA","UI_gameBG6",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG6")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(c)).URL="ui://qhc4mxqcyhz0ab",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG62.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"3157bniqKVLnKuK6NtoxQ60","UI_gameBG6",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG6")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4yhz0ab",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,c=t.GComponent}],execute:function(){n._RF.push({},"37162cwjCdIvYaBT4xdgUGa","UI_gameBG7",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG7")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(c)).URL="ui://qhc4mxqcs6agac",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG72.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"d3986PWNX1Merx1L/TV6ATV","UI_gameBG7",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG7")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4s6agac",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"7ffa6Y8hKVNyIapMGVAlp07","UI_gameBG8",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG8")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4b4qbae",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG82.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"8be33O0XyBJV4QaMI4uv/po","UI_gameBG8",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG8")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcb4qbae",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"9bfa9nXcRJC44+KjBGYbV8w","UI_gameBG9",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","gameBG9")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4f5h0am",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_gameBG92.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"9f4c7SAyWJOLp9OHVuOis/x","UI_gameBG9",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_game_bg=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","gameBG9")},n.prototype.onConstruct=function(){this.m_game_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://qhc4mxqcf5h0am",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Gem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"758f96DBsBG9IAkqg1xtKlv","UI_Gem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_t0=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","Gem")},n.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcmx2ejl",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GetBuild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"4638eCuNEhDTJtlvj7FTad0","UI_GetBuild",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).m_bg=void 0,i.m_btn_close=void 0,i.m_txt_b1=void 0,i.m_txt_b=void 0,i.m_itemCur=void 0,i.m_list=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("Main","GetBuild")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_btn_close=this.getChildAt(3),this.m_txt_b1=this.getChildAt(6),this.m_txt_b=this.getChildAt(7),this.m_itemCur=this.getChildAt(8),this.m_list=this.getChildAt(9),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://qgbta78nusaw7i",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GetBuild1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"bfe8bbMcR1MKJJzbwkmOGkp","UI_GetBuild1",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_title=void 0,i.m_txt_b=void 0,i.m_txt_qua=void 0,i.m_btn_close=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","GetBuild1")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_title=this.getChildAt(3),this.m_txt_b=this.getChildAt(6),this.m_txt_qua=this.getChildAt(7),this.m_btn_close=this.getChildAt(8),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78nusaw7i",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GetBuildNew.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"4c0fdzOXWlF6YuxpG+NfMQm","UI_GetBuildNew",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).m_bg=void 0,i.m_txt_b1=void 0,i.m_txt_b=void 0,i.m_btn_close=void 0,i.m_btn_use=void 0,i.m_item0=void 0,i.m_item1=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("Main","GetBuildNew")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_txt_b1=this.getChildAt(5),this.m_txt_b=this.getChildAt(6),this.m_btn_close=this.getChildAt(7),this.m_btn_use=this.getChildAt(8),this.m_item0=this.getChildAt(9),this.m_item1=this.getChildAt(10),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://qgbta78nnslhab",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GetCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"baf3duFpaxLLKhGu3wmqVw6","UI_GetCard",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_btn_close=void 0,i.m_card=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","GetCard")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_btn_close=this.getChildAt(1),this.m_card=this.getChildAt(2),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78ncs6167",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GetCoin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"ec55fgzsQFCqrf8jtTi1kBI","UI_GetCoin",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_icon=void 0,i.m_used=void 0,i.m_title=void 0,i.m_btn_get_double=void 0,i.m_btn_close=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","GetCoin")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_icon=this.getChildAt(2),this.m_used=this.getChildAt(4),this.m_title=this.getChildAt(5),this.m_btn_get_double=this.getChildAt(6),this.m_btn_close=this.getChildAt(7),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nenhr99",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_giftCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){i._RF.push({},"ee6ae8SUflHm7h8kEWk3wfT","UI_giftCmp",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_step=void 0,e.m_txt_step2=void 0,e.m_text_value=void 0,e.m_text_desc=void 0,e.m_gameIcon=void 0,e.m_txt_name=void 0,e.m_btn_get=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("Main","giftCmp")},i.prototype.onConstruct=function(){this.m_step=this.getControllerAt(0),this.m_txt_step2=this.getChildAt(3),this.m_text_value=this.getChildAt(6),this.m_text_desc=this.getChildAt(7),this.m_gameIcon=this.getChildAt(8),this.m_txt_name=this.getChildAt(9),this.m_btn_get=this.getChildAt(11),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://qgbta78nohq97",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_giftCmp1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"18af1o/YY1HiqH/ijMfjdEB","UI_giftCmp1",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_step=void 0,e.m_text_value=void 0,e.m_text_desc=void 0,e.m_gameIcon=void 0,e.m_btn_get=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("Main","giftCmp1")},i.prototype.onConstruct=function(){this.m_step=this.getControllerAt(0),this.m_text_value=this.getChildAt(3),this.m_text_desc=this.getChildAt(4),this.m_gameIcon=this.getChildAt(5),this.m_btn_get=this.getChildAt(6),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://qgbta78nc5fyc8",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GM.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"047d65gKSBCrrpMZw27/d26","UI_GM",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_title=void 0,i.m_btn_close=void 0,i.m_item_coin=void 0,i.m_item_gem=void 0,i.m_item_level=void 0,i.m_btn_unlockSkin=void 0,i.m_btn_unlockCard=void 0,i.m_btn_unlockBuild=void 0,i.m_btn_clearData=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","GM")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_title=this.getChildAt(3),this.m_btn_close=this.getChildAt(4),this.m_item_coin=this.getChildAt(5),this.m_item_gem=this.getChildAt(6),this.m_item_level=this.getChildAt(7),this.m_btn_unlockSkin=this.getChildAt(8),this.m_btn_unlockCard=this.getChildAt(9),this.m_btn_unlockBuild=this.getChildAt(10),this.m_btn_clearData=this.getChildAt(11),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nqwiubf",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_greenPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"4076eOsvGtLIpTbmtCD/CXa","UI_greenPanel",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_quan=void 0,e.m_buffLabel=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","greenPanel")},n.prototype.onConstruct=function(){this.m_quan=this.getChildAt(0),this.m_buffLabel=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4r25mbbp",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_groupView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"693e59lWV5Cc7BxEQ6qb7y3","UI_groupView",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_withChest=void 0,e.m_icon=void 0,e.m_hp=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","groupView")},i.prototype.onConstruct=function(){this.m_withChest=this.getControllerAt(0),this.m_icon=this.getChildAt(0),this.m_hp=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://hh1mxgwcmx2ejm",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Hall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"67ab4AcdDJCpLZBsXqjcoXH","UI_Hall",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_ctrl_page=void 0,i.m_bg=void 0,i.m_mid=void 0,i.m_topPannel=void 0,i.m_bottom=void 0,i.m_page=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","Hall")},e.prototype.onConstruct=function(){this.m_ctrl_page=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_mid=this.getChildAt(1),this.m_topPannel=this.getChildAt(2),this.m_bottom=this.getChildAt(3),this.m_page=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nbfb31k",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_handcmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,a,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"a370bPVP+tMIItjaEY6FBoe","UI_handcmp",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).m_t0=void 0,n}return n(e,t),e.createInstance=function(){return a.createObject("Main","handcmp")},e.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nohq9c",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_HitItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GLabel}],execute:function(){e._RF.push({},"499edvX8qBFvJvb/g+jz19T","UI_HitItem",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_withItem=void 0,i.m_state=void 0,i.m_item=void 0,i.m_hit=void 0,i.m_show=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("treeSpirit","HitItem")},e.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_state=this.getControllerAt(1),this.m_item=this.getChildAt(5),this.m_hit=this.getTransitionAt(0),this.m_show=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://hh1mxgwcmx2ejn",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_hpBarInner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"54062K8e0dLsoOXeXdhPg8o","UI_hpBarInner",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).m_bar=void 0,n}return n(e,t),e.createInstance=function(){return r.createObject("pindao","hpBarInner")},e.prototype.onConstruct=function(){this.m_bar=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://vidz8nxqrtcrax",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Hud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"3ce46t5HBlJ4aLGloE8Q1I0","UI_Hud",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_state=void 0,n.m_coin=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("sdm","Hud")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_coin=this.getChildAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://luniefvx9gf2k",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_iconBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,c=t.GButton}],execute:function(){e._RF.push({},"2fcf32oIPpJXaHt5Et1M8Bc","UI_iconBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("sdm","iconBtn")},e.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(c)).URL="ui://luniefvxaaxc1",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_iconBtn2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"3954fo6q6hOtoO5ZlxjF55l","UI_iconBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_t0=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("qjcj","iconBtn")},e.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://wxmdozwlew6fe",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_iconBtn3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"59151P7ejRBP7wjBw/8SmU/","UI_iconBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("wukong","iconBtn")},e.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://8eqmm8h5xnuqe",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_iconBtn4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"a51d7eh2XhLeYm9o6zgS92k","UI_iconBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("sub_zzl","iconBtn")},e.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://43m5c1xapaj2n",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_IconBtn5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,r=t.GButton}],execute:function(){o._RF.push({},"088e8cSsqtAfqK72gotr0rT","UI_IconBtn",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).m_withDot=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("pindao","IconBtn")},o.prototype.onConstruct=function(){this.m_withDot=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},o}(r)).URL="ui://vidz8nxqd97149",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_IconBtn6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,r=t.GButton}],execute:function(){e._RF.push({},"7206dLispdAp5arL05yPFq2","UI_IconBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).m_withDot=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("treeSpirit","IconBtn")},e.prototype.onConstruct=function(){this.m_withDot=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://hh1mxgwcmx2eu",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_IconBtn7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,r=t.GButton}],execute:function(){o._RF.push({},"7b498rnp/1Jf5IMNK3rZycv","UI_IconBtn",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).m_withDot=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("shoudaqiao2","IconBtn")},o.prototype.onConstruct=function(){this.m_withDot=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},o}(r)).URL="ui://0wf7zih4d97149",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_IconBtn8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,c=t.GButton}],execute:function(){o._RF.push({},"c396d/LnbpD9IEGqIpgPcrq","UI_IconBtn",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),c=0;c<o;c++)e[c]=arguments[c];return(n=t.call.apply(t,[this].concat(e))||this).m_withDot=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("shoudaqiao","IconBtn")},o.prototype.onConstruct=function(){this.m_withDot=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},o}(c)).URL="ui://qhc4mxqcd97149",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_iconBtnTog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"8ae5eqF/2VP/rR6RFqrt2pz","UI_iconBtnTog",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_state=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("sdm","iconBtnTog")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://luniefvx9gf21j",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_IconItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,n=t.GLabel}],execute:function(){e._RF.push({},"ae36cV7qOdPW7FFGngjhM7S","UI_IconItem",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).m_color=void 0,i.m_withFrag=void 0,i.m_withCheck=void 0,i.m_withMask=void 0,i.m_bg=void 0,i.m_count=void 0,i.m_mask=void 0,i}return i(e,t),e.createInstance=function(){return o.createObject("treeSpirit","IconItem")},e.prototype.onConstruct=function(){this.m_color=this.getControllerAt(0),this.m_withFrag=this.getControllerAt(1),this.m_withCheck=this.getControllerAt(2),this.m_withMask=this.getControllerAt(3),this.m_bg=this.getChildAt(0),this.m_count=this.getChildAt(2),this.m_mask=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://hh1mxgwcmx2e17",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_item_skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){i._RF.push({},"a04d9hR7jBFr4BdJ0sKuyjx","UI_item_skill",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_state=void 0,e.m_txt_value=void 0,e.m_btn=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("Main","item_skill")},i.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_txt_value=this.getChildAt(4),this.m_btn=this.getChildAt(6),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://qgbta78nkqqd25",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GLabel}],execute:function(){i._RF.push({},"be38aL66sxDFarYG2DtaWqa","UI_Item",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,e.m_item=void 0,e.m_item_name=void 0,e.m_t0=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("pindao","Item")},i.prototype.onConstruct=function(){this.m_bg=this.getControllerAt(0),this.m_item=this.getChildAt(4),this.m_item_name=this.getChildAt(5),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://vidz8nxqd97140",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Item2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GLabel}],execute:function(){n._RF.push({},"fcecfULfTlA+abH/2xn2tcr","UI_Item",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_item=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","Item")},n.prototype.onConstruct=function(){this.m_item=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcmx2ejo",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ItemBuild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"236dcf73utOJb6JW4hMD5Wh","UI_ItemBuild",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_quality=void 0,i.m_bg=void 0,i.m_lock=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","ItemBuild")},e.prototype.onConstruct=function(){this.m_quality=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_lock=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nuulr6w",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ItemBuild1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GButton}],execute:function(){e._RF.push({},"35f38NR6rRJ2pglMGwCXsul","UI_ItemBuild1",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_quality=void 0,n.m_bg=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","ItemBuild1")},e.prototype.onConstruct=function(){this.m_quality=this.getControllerAt(0),this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78nnslha7",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemBuildChoose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"7ef272ZWLpHPpDag9E49Wba","UI_itemBuildChoose",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).m_state=void 0,i.m_icon=void 0,i.m_txt_lv=void 0,i.m_txt_fight=void 0,i.m_txt_prop1=void 0,i.m_txt_prop2=void 0,i.m_btnUse=void 0,i}return i(e,t),e.createInstance=function(){return o.createObject("Main","itemBuildChoose")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_icon=this.getChildAt(1),this.m_txt_lv=this.getChildAt(2),this.m_txt_fight=this.getChildAt(4),this.m_txt_prop1=this.getChildAt(5),this.m_txt_prop2=this.getChildAt(6),this.m_btnUse=this.getChildAt(7),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://qgbta78nnslhaa",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemBuildNew.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"6a8b7K3mhNPnLYQmpmvh54D","UI_itemBuildNew",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_state=void 0,i.m_icon=void 0,i.m_txt_lv=void 0,i.m_txt_fight=void 0,i.m_txt_title1=void 0,i.m_txt_title2=void 0,i.m_txt_name=void 0,i.m_txt_prop1=void 0,i.m_txt_prop2=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","itemBuildNew")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_icon=this.getChildAt(1),this.m_txt_lv=this.getChildAt(2),this.m_txt_fight=this.getChildAt(4),this.m_txt_title1=this.getChildAt(5),this.m_txt_title2=this.getChildAt(6),this.m_txt_name=this.getChildAt(7),this.m_txt_prop1=this.getChildAt(8),this.m_txt_prop2=this.getChildAt(9),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nnslhac",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"ee9a0aL9XJHc47x5eu1jOSG","UI_itemCard",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_quality=void 0,i.m_state=void 0,i.m_new=void 0,i.m_bg=void 0,i.m_txt_lv=void 0,i.m_pro=void 0,i.m_txt_n=void 0,i.m_t0=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","itemCard")},e.prototype.onConstruct=function(){this.m_quality=this.getControllerAt(0),this.m_state=this.getControllerAt(1),this.m_new=this.getControllerAt(2),this.m_bg=this.getChildAt(0),this.m_txt_lv=this.getChildAt(3),this.m_pro=this.getChildAt(4),this.m_txt_n=this.getChildAt(7),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78ncs614y",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemCards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GButton}],execute:function(){e._RF.push({},"e15959PKpJMIZAaPOzlPWI4","UI_itemCards",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_quality=void 0,i.m_state=void 0,i.m_new=void 0,i.m_bg=void 0,i.m_txt_lv=void 0,i.m_pro=void 0,i.m_nv=void 0,i.m_t0=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","itemCards")},e.prototype.onConstruct=function(){this.m_quality=this.getControllerAt(0),this.m_state=this.getControllerAt(1),this.m_new=this.getControllerAt(2),this.m_bg=this.getChildAt(0),this.m_txt_lv=this.getChildAt(3),this.m_pro=this.getChildAt(4),this.m_nv=this.getChildAt(7),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78ncs6163",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ItemCoin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"d19b9J5QVpEmqj66fT1+BBX","UI_ItemCoin",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_icon1=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","ItemCoin")},e.prototype.onConstruct=function(){this.m_icon1=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nqwiubi",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemDailyReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,a;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,a=t.GLabel}],execute:function(){e._RF.push({},"f36feaAP0BKjLAEFkFJVTsO","UI_itemDailyReward",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).m_state=void 0,i.m_iconBG=void 0,i.m_btnStart=void 0,i.m_txt_lv=void 0,i.m_btnGuide=void 0,i.m_btnStart_2=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","itemDailyReward")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_iconBG=this.getChildAt(1),this.m_btnStart=this.getChildAt(2),this.m_txt_lv=this.getChildAt(4),this.m_btnGuide=this.getChildAt(6),this.m_btnStart_2=this.getChildAt(7),globalThis.translateUI&&globalThis.translateUI(this)},e}(a)).URL="ui://qgbta78nc5fyca",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ItemIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"adacdKz6GhFQq/nvk0QpECI","UI_ItemIcon",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_quality=void 0,n.m_bg=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","ItemIcon")},e.prototype.onConstruct=function(){this.m_quality=this.getControllerAt(0),this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nusaw7l",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemName.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"cd70bQa5TROJKRd1AusNFxw","UI_itemName",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("Main","itemName")},n.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://qgbta78ncs614x",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemOnline.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"d20f7cfUkxInqExmB87h8z7","UI_itemOnline",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_state=void 0,e.m_rewad=void 0,e.m_title=void 0,e.m_btn=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("Main","itemOnline")},n.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_rewad=this.getChildAt(1),this.m_title=this.getChildAt(2),this.m_btn=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qgbta78nenhr9x",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemSign.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"de121+9UClPKrl14/6uTeYa","UI_itemSign",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_state=void 0,i.m_icon=void 0,i.m_title=void 0,i.m_txt_get=void 0,i.m_txt_cnt=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","itemSign")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_icon=this.getChildAt(1),this.m_title=this.getChildAt(2),this.m_txt_get=this.getChildAt(3),this.m_txt_cnt=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nl9chau",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemSign1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"2fd72kIj1RI6J48z35TE21y","UI_itemSign1",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_state=void 0,i.m_icon=void 0,i.m_title=void 0,i.m_txt_get=void 0,i.m_txt_cnt=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","itemSign1")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_icon=this.getChildAt(1),this.m_title=this.getChildAt(2),this.m_txt_get=this.getChildAt(3),this.m_txt_cnt=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nl9chav",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ItemSkin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.UIPackage,o=t.GButton}],execute:function(){n._RF.push({},"fd58bz36odMbKxHa4KXPQI9","UI_ItemSkin",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).m_quality=void 0,i.m_bg=void 0,i.m_lock=void 0,i.m_using=void 0,i}return i(n,t),n.createInstance=function(){return e.createObject("Main","ItemSkin")},n.prototype.onConstruct=function(){this.m_quality=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_lock=this.getChildAt(3),this.m_using=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qgbta78nenhr8x",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemSubLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"6a956RtYMdGF67dpaUnAE5y","UI_itemSubLevel",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_hot=void 0,i.m_iconBG=void 0,i.m_btnStart=void 0,i.m_btnUnlock=void 0,i.m_zb=void 0,i.m_txt_name=void 0,i.m_txt_lv=void 0,i.m_icon=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","itemSubLevel")},e.prototype.onConstruct=function(){this.m_hot=this.getControllerAt(0),this.m_iconBG=this.getChildAt(1),this.m_btnStart=this.getChildAt(2),this.m_btnUnlock=this.getChildAt(3),this.m_zb=this.getChildAt(5),this.m_txt_name=this.getChildAt(6),this.m_txt_lv=this.getChildAt(7),this.m_icon=this.getChildAt(8),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nenhr8k",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){i._RF.push({},"4acc3sSuBJDPayX6hm/UV5W","UI_itemTask",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).m_state=void 0,e.m_txt_get=void 0,e.m_txt_desc=void 0,e.m_txt_num=void 0,e.m_progress=void 0,e}return e(i,t),i.createInstance=function(){return s.createObject("Main","itemTask")},i.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_txt_get=this.getChildAt(1),this.m_txt_desc=this.getChildAt(2),this.m_txt_num=this.getChildAt(4),this.m_progress=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},i}(n)).URL="ui://qgbta78nnslha3",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemTask1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){i._RF.push({},"c1a52wXyKxMQaOFoyWWuO/r","UI_itemTask1",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_txt_get=void 0,e.m_txt_desc=void 0,e.m_txt_num=void 0,e.m_progress=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("Main","itemTask1")},i.prototype.onConstruct=function(){this.m_txt_get=this.getChildAt(1),this.m_txt_desc=this.getChildAt(2),this.m_txt_num=this.getChildAt(4),this.m_progress=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://qgbta78nnslha3",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_itemToast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){n._RF.push({},"d696fl/iTJM3LGyiUJPX5dT","UI_itemToast",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_type=void 0,e.m_show=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("sdm","itemToast")},n.prototype.onConstruct=function(){this.m_type=this.getControllerAt(0),this.m_show=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://luniefvx9gf2m",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_key_value_panel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(e){var t,n,a,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){a=e.UIPackage,l=e.GLabel}],execute:function(){n._RF.push({},"49fd0sKefZKFb3dKdeRyacX","UI_key_value_panel",void 0),e("default",function(e){function n(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).m_is_yellow=void 0,t.m_value=void 0,t}return t(n,e),n.createInstance=function(){return a.createObject("PackBattle","key_value_panel")},n.prototype.onConstruct=function(){this.m_is_yellow=this.getControllerAt(0),this.m_value=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(l)).URL="ui://aymh9hbewx2e5r",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_laser_mask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,i,e,o;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"f1c2dvjuFFLcoAHBA4CzeT4","UI_laser_mask",void 0),t("default",function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).m_icon=void 0,n.m_icon_up=void 0,n.m_t0=void 0,n}return n(i,t),i.createInstance=function(){return e.createObject("pindao","laser_mask")},i.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),this.m_icon_up=this.getChildAt(1),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://vidz8nxqd97141",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_layer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"c650aELwLtFD5I7CKcGJ/Lf","UI_layer",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).m_beginLayer=void 0,e}return e(n,t),n.createInstance=function(){return r.createObject("shoudaqiao2","layer")},n.prototype.onConstruct=function(){this.m_beginLayer=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4d97142",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_003.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"9ad91Hr93NDIas+vepkmuhV","UI_level_003",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_003")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hg829aqtmx2e2z",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_004.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"cfb43qxXb5OFpVphQaSPvHk","UI_level_004",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_004")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hg829aqtb8ka73y",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_005.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"7d04f1XeI9JM6w781+797CZ","UI_level_005",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_005")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hg829aqtmx2e31",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_006.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"a5a01Ubj5BDE6GOcjTxpmxi","UI_level_006",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_006")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hg829aqtmx2e32",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_007.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"d56a7tNMTJDsYQrOboUzkXE","UI_level_007",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_007")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hg829aqtlb2v73b",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_009.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"0decdm3Mf9FfbE9NRlIZxKJ","UI_level_009",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_009")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hg829aqt8g5h73d",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_1001.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"b1af74ND/NHCKEwCmThJgdo","UI_level_1001",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_1001")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hg829aqtmx2e34",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_1002.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"0bc48LK54xMnrJPrV0LSvUa","UI_level_1002",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_1002")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hg829aqtmx2e35",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_1003.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"29f29Ar6/hD86s+aFzmsyhT","UI_level_1003",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_point=void 0,e.m_path=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit_levels","level_1003")},n.prototype.onConstruct=function(){this.m_point=this.getChildAt(0),this.m_path=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hg829aqtmx2e37",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_level_choose_panel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"a46adMqMzJHh4ognsaekch7","UI_level_choose_panel",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_withTag=void 0,e.m_unlocked=void 0,e.m_icon=void 0,e.m_level=void 0,e.m_name=void 0,e.m_start=void 0,e.m_unlock=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("SubGame","level_choose_panel")},i.prototype.onConstruct=function(){this.m_withTag=this.getControllerAt(0),this.m_unlocked=this.getControllerAt(1),this.m_icon=this.getChildAt(3),this.m_level=this.getChildAt(4),this.m_name=this.getChildAt(5),this.m_start=this.getChildAt(6),this.m_unlock=this.getChildAt(7),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://mazdo0vtsnulb",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_levelTag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"2556e2gHx9G96tkZHs4HXGY","UI_levelTag",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).m_lv=void 0,e.m_icon=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("PackBattle","levelTag")},n.prototype.onConstruct=function(){this.m_lv=this.getControllerAt(0),this.m_icon=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://aymh9hbeos2uf",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_light_effect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"684e3tsUPlBjbdqj/1dVBWe","UI_light_effect",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_break=void 0,e.m_show=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("pindao","light_effect")},n.prototype.onConstruct=function(){this.m_break=this.getTransitionAt(0),this.m_show=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://vidz8nxqohdzc8",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,i,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.UIPackage,e=t.GComponent}],execute:function(){i._RF.push({},"485b6/6w/ZIDY68MRUNGFao","UI_Loading",void 0),t("default",function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).m_load=void 0,n.m_t1=void 0,n}return n(i,t),i.createInstance=function(){return o.createObject("Main","Loading")},i.prototype.onConstruct=function(){this.m_load=this.getChildAt(0),this.m_t1=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(e)).URL="ui://qgbta78nq504x",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Loading1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"c6dc1UkLV1OnbGRhFTyj8eM","UI_Loading1",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_text=void 0,n.m_t1=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","Loading1")},e.prototype.onConstruct=function(){this.m_text=this.getChildAt(1),this.m_t1=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nusaw7j",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,n,s,_;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.UIPackage,_=t.GComponent}],execute:function(){n._RF.push({},"1faf3d77otCcpyJqCR+tKX9","UI_Main",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,s=new Array(n),_=0;_<n;_++)s[_]=arguments[_];return(i=t.call.apply(t,[this].concat(s))||this).m_btn=void 0,i.m_btnSidebar=void 0,i.m_btnShortcut=void 0,i.m_btn_setting=void 0,i.m_btn_task=void 0,i.m_btn_seek=void 0,i.m_txt_lv=void 0,i.m_txt_lv_name=void 0,i.m_btn_online=void 0,i.m_btn_sign=void 0,i.m_list=void 0,i.m_btn_left=void 0,i.m_btn_right=void 0,i.m_btn_feed=void 0,i.m_btn_sub1=void 0,i.m_btn_sub5=void 0,i.m_btn_sub2=void 0,i.m_btn_sub6=void 0,i.m_btn_sub3=void 0,i.m_btn_sub7=void 0,i.m_btn_sub4=void 0,i.m_btn_more=void 0,i}return i(n,t),n.createInstance=function(){return s.createObject("Main","Main")},n.prototype.onConstruct=function(){this.m_btn=this.getChildAt(1),this.m_btnSidebar=this.getChildAt(2),this.m_btnShortcut=this.getChildAt(3),this.m_btn_setting=this.getChildAt(4),this.m_btn_task=this.getChildAt(5),this.m_btn_seek=this.getChildAt(6),this.m_txt_lv=this.getChildAt(7),this.m_txt_lv_name=this.getChildAt(8),this.m_btn_online=this.getChildAt(9),this.m_btn_sign=this.getChildAt(10),this.m_list=this.getChildAt(11),this.m_btn_left=this.getChildAt(12),this.m_btn_right=this.getChildAt(13),this.m_btn_feed=this.getChildAt(14),this.m_btn_sub1=this.getChildAt(15),this.m_btn_sub5=this.getChildAt(16),this.m_btn_sub2=this.getChildAt(17),this.m_btn_sub6=this.getChildAt(18),this.m_btn_sub3=this.getChildAt(19),this.m_btn_sub7=this.getChildAt(20),this.m_btn_sub4=this.getChildAt(21),this.m_btn_more=this.getChildAt(22),globalThis.translateUI&&globalThis.translateUI(this)},n}(_)).URL="ui://qgbta78nog7p0",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_map_1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.UIPackage,s=t.GComponent}],execute:function(){i._RF.push({},"52cc1lAgN1HLLk7ZxtzIJGh","UI_map_1",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).m_bg=void 0,e.m_ground=void 0,e.m_box=void 0,e.m_player_slot=void 0,e.m_enemy_shadow=void 0,e.m_enemy_slot=void 0,e.m_player_hp=void 0,e.m_enemy_hp=void 0,e.m_enemy_attack_pos=void 0,e}return e(i,t),i.createInstance=function(){return o.createObject("PackBattle","map_1")},i.prototype.onConstruct=function(){this.m_bg=this.getChildAt(1),this.m_ground=this.getChildAt(2),this.m_box=this.getChildAt(4),this.m_player_slot=this.getChildAt(6),this.m_enemy_shadow=this.getChildAt(7),this.m_enemy_slot=this.getChildAt(8),this.m_player_hp=this.getChildAt(9),this.m_enemy_hp=this.getChildAt(10),this.m_enemy_attack_pos=this.getChildAt(11),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://aymh9hbeehc3df",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_map_2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.UIPackage,s=t.GComponent}],execute:function(){i._RF.push({},"b568fyQ3SxAhYEm40ZHwdIr","UI_map_2",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).m_bg=void 0,e.m_ground=void 0,e.m_box=void 0,e.m_player_slot=void 0,e.m_enemy_shadow=void 0,e.m_enemy_slot=void 0,e.m_player_hp=void 0,e.m_enemy_hp=void 0,e.m_enemy_attack_pos=void 0,e}return e(i,t),i.createInstance=function(){return o.createObject("PackBattle","map_2")},i.prototype.onConstruct=function(){this.m_bg=this.getChildAt(1),this.m_ground=this.getChildAt(2),this.m_box=this.getChildAt(4),this.m_player_slot=this.getChildAt(6),this.m_enemy_shadow=this.getChildAt(7),this.m_enemy_slot=this.getChildAt(8),this.m_player_hp=this.getChildAt(9),this.m_enemy_hp=this.getChildAt(10),this.m_enemy_attack_pos=this.getChildAt(11),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://aymh9hbeehc3dg",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_midCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"89cdfuFZgpLp7Byd/yIlawj","UI_midCmp",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","midCmp")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nkqqd3l",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_midCmpScroll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"61980OMExxNlZlqaunFttV1","UI_midCmpScroll",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","midCmpScroll")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nkqqd3m",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_monster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GLabel}],execute:function(){e._RF.push({},"d2daaA00/pOnrXFTuqFdynM","UI_monster",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_shadow=void 0,n.m_hp=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("shoudaqiao2","monster")},e.prototype.onConstruct=function(){this.m_shadow=this.getChildAt(0),this.m_hp=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://0wf7zih4y6cq95",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_monster2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"e0abez5RbZCX5L50m8AVQDr","UI_monster",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).m_shadow=void 0,e.m_hp=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("shoudaqiao","monster")},n.prototype.onConstruct=function(){this.m_shadow=this.getChildAt(0),this.m_hp=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://qhc4mxqcy6cq95",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_monster22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GLabel}],execute:function(){n._RF.push({},"33ac96R0F5FpL4atM6We8PY","UI_monster2",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_shadow=void 0,e.m_hp=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","monster2")},n.prototype.onConstruct=function(){this.m_shadow=this.getChildAt(0),this.m_hp=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcien5bb3",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_monster23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GLabel}],execute:function(){n._RF.push({},"dc4d379kMJIFq3Fao1E0fCw","UI_monster2",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_shadow=void 0,e.m_hp=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","monster2")},n.prototype.onConstruct=function(){this.m_shadow=this.getChildAt(0),this.m_hp=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://0wf7zih4ien5bb3",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_moveMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"d0b21PiFr5P56zzttH2nEda","UI_moveMap",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_game_bg2=void 0,i.m_line=void 0,i.m_wall=void 0,i.m_map=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao2","moveMap")},e.prototype.onConstruct=function(){this.m_game_bg2=this.getChildAt(0),this.m_line=this.getChildAt(1),this.m_wall=this.getChildAt(2),this.m_map=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://0wf7zih4r25mbc2",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_mpBarInner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,r,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy},function(t){e=t.UIPackage,i=t.GComponent}],execute:function(){r._RF.push({},"47323cmGcJEfq2PkxD8OiFG","UI_mpBarInner",void 0),t("default",function(t){function r(){for(var n,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).m_bar=void 0,n}return n(r,t),r.createInstance=function(){return e.createObject("pindao","mpBarInner")},r.prototype.onConstruct=function(){this.m_bar=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},r}(i)).URL="ui://vidz8nxqrtcraz",r._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn_ad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"6e385mNGd5Ow5oPPiNmsZhp","UI_normal_btn_ad",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_ctrl=void 0,n.m_bg=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("wukong","normal_btn_ad")},e.prototype.onConstruct=function(){this.m_ctrl=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://8eqmm8h5xnuq4",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn_ad2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GButton}],execute:function(){e._RF.push({},"8da81wcY3hKUKDEGL2qOcpf","UI_normal_btn_ad",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_ctrl=void 0,n.m_bg=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("sub_zzl","normal_btn_ad")},e.prototype.onConstruct=function(){this.m_ctrl=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://43m5c1xapaj27",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn_ad22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"306dabmAMRPb4PABWbKxA/2","UI_normal_btn_ad2",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).m_ctrl=void 0,n}return n(e,t),e.createInstance=function(){return r.createObject("sdm","normal_btn_ad2")},e.prototype.onConstruct=function(){this.m_ctrl=this.getControllerAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://luniefvxojlh1k",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn_ad3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GButton}],execute:function(){e._RF.push({},"ae761p70RlI0YySR9NntQd7","UI_normal_btn_ad",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_ctrl=void 0,n.m_bg=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("sdm","normal_btn_ad")},e.prototype.onConstruct=function(){this.m_ctrl=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://luniefvxaaxcb",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn_ad4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"d0667XidIBFPLqqZZyGtzCz","UI_normal_btn_ad",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_ctrl=void 0,n.m_bg=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("qjcj","normal_btn_ad")},e.prototype.onConstruct=function(){this.m_ctrl=this.getControllerAt(1),this.m_bg=this.getChildAt(0),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://wxmdozwlew6f4",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"8531d5cWAtNtbbN5pbjqdkC","UI_normal_btn2",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_state=void 0,n.m_bg=void 0,n.m_tag=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("wukong","normal_btn2")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_bg=this.getChildAt(1),this.m_tag=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://8eqmm8h5xnuq7",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"90320o7tHZP3b5e7bscErBr","UI_normal_btn2",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_state=void 0,n.m_bg=void 0,n.m_tag=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("qjcj","normal_btn2")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_bg=this.getChildAt(1),this.m_tag=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://wxmdozwlew6f7",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,i,e,o;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.UIPackage,o=t.GButton}],execute:function(){i._RF.push({},"ab681hI6uNAv6iv2+xTvMoz","UI_normal_btn2",void 0),t("default",function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).m_state=void 0,n.m_bg=void 0,n.m_tag=void 0,n.m_t0=void 0,n}return n(i,t),i.createInstance=function(){return e.createObject("sub_zzl","normal_btn2")},i.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_bg=this.getChildAt(1),this.m_tag=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://43m5c1xapaj2a",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_normal_btn24.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GButton}],execute:function(){e._RF.push({},"cdb35RlIgxH+It9dBlmlMPk","UI_normal_btn2",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_state=void 0,n.m_bg=void 0,n.m_tag=void 0,n.m_t0=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("sdm","normal_btn2")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_bg=this.getChildAt(1),this.m_tag=this.getChildAt(3),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://luniefvxaaxce",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Online.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.UIPackage,s=t.GComponent}],execute:function(){n._RF.push({},"7e691TcuEtKFaAdadST7F/+","UI_Online",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).m_bg=void 0,i.m_btn_close=void 0,i.m_list=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(n,t),n.createInstance=function(){return e.createObject("Main","Online")},n.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_btn_close=this.getChildAt(4),this.m_list=this.getChildAt(5),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(s)).URL="ui://qgbta78nenhr9y",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_PackBattleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,a,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy},function(t){i=t.UIPackage,n=t.GComponent}],execute:function(){a._RF.push({},"fea49X1detIp6SdOufw419C","UI_PackBattleView",void 0),t("default",function(t){function a(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).m_battle=void 0,e.m_tray=void 0,e.m_txt_path=void 0,e}return e(a,t),a.createInstance=function(){return i.createObject("PackBattle","PackBattleView")},a.prototype.onConstruct=function(){this.m_battle=this.getChildAt(0),this.m_tray=this.getChildAt(1),this.m_txt_path=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},a}(n)).URL="ui://aymh9hbewx2e60",a._RF.pop()}}}));

System.register("chunks:///_virtual/UI_packTiles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,c=t.GComponent}],execute:function(){n._RF.push({},"cdccaVQ9XhGOZ+OKAFfgiF3","UI_packTiles",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))||this).m_list=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("PackBattle","packTiles")},n.prototype.onConstruct=function(){this.m_list=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(c)).URL="ui://aymh9hbeuls08",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem_1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,l=t.GLabel}],execute:function(){i._RF.push({},"dbf2feCVEROOYCwMQSSaq2m","UI_panelItem_1",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))||this).m_withItem=void 0,e.m_withTag=void 0,e.m_item_slot=void 0,e.m_tag=void 0,e.m_timeTitle=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit_levels","panelItem_1")},i.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_withTag=this.getControllerAt(1),this.m_item_slot=this.getChildAt(2),this.m_tag=this.getChildAt(4),this.m_timeTitle=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},i}(l)).URL="ui://hg829aqtmx2e33",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem_2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,s=t.GLabel}],execute:function(){e._RF.push({},"1d033FEm65FCKE2JObpKD8P","UI_panelItem_2",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).m_withItem=void 0,i.m_withTag=void 0,i.m_lock=void 0,i.m_item_slot=void 0,i.m_tag=void 0,i.m_timeTitle=void 0,i.m_lockImg=void 0,i.m_desc=void 0,i.m_fireAnim=void 0,i.m_t1=void 0,i}return i(e,t),e.createInstance=function(){return o.createObject("treeSpirit_levels","panelItem_2")},e.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_withTag=this.getControllerAt(1),this.m_lock=this.getControllerAt(2),this.m_item_slot=this.getChildAt(2),this.m_tag=this.getChildAt(4),this.m_timeTitle=this.getChildAt(5),this.m_lockImg=this.getChildAt(6),this.m_desc=this.getChildAt(7),this.m_fireAnim=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://hg829aqtdq5r73g",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"762a5JJMhRB2KPsUo8ekkXI","UI_panelItem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","panelItem")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://qhc4mxqcd97143",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"7dcbcesv7JIz6rhX1S7wM4n","UI_panelItem",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","panelItem")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4d97143",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"c83afuTXq1CYY+qmBe4sqmi","UI_panelItem2",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","panelItem2")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://qhc4mxqcexsx9s",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"cb540NjFUpJZLwVMVUJ9Jhc","UI_panelItem2",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","panelItem2")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4exsx9s",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,s=t.GLabel}],execute:function(){e._RF.push({},"9bcfeyx2CxCjbUwcDf/uxAN","UI_panelItem",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).m_withItem=void 0,i.m_withTag=void 0,i.m_lock=void 0,i.m_item_slot=void 0,i.m_tag=void 0,i.m_timeTitle=void 0,i.m_lockImg=void 0,i.m_desc=void 0,i.m_fireAnim=void 0,i}return i(e,t),e.createInstance=function(){return o.createObject("treeSpirit_levels","panelItem")},e.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_withTag=this.getControllerAt(1),this.m_lock=this.getControllerAt(2),this.m_item_slot=this.getChildAt(2),this.m_tag=this.getChildAt(4),this.m_timeTitle=this.getChildAt(5),this.m_lockImg=this.getChildAt(6),this.m_desc=this.getChildAt(7),this.m_fireAnim=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://hg829aqtmx2e2x",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem32.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"37e6b+S9d9O7ZJehXSqi2tX","UI_panelItem3",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","panelItem3")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4e503baz",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem33.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"d9af5INKZJOVq97Yc+m9uOr","UI_panelItem3",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","panelItem3")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://qhc4mxqce503baz",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GLabel}],execute:function(){i._RF.push({},"bcad738mIlNU7PKBbgKTGT1","UI_panelItem",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_withItem=void 0,e.m_bg=void 0,e.m_item_slot=void 0,e.m_t0=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("pindao","panelItem")},i.prototype.onConstruct=function(){this.m_withItem=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_item_slot=this.getChildAt(2),this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://vidz8nxqd97143",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem42.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"72917D0lPBM+53/zoQWdMl8","UI_panelItem4",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","panelItem4")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4101dbaq",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem43.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"903e1sM+81MRa0ezzoCS8Ai","UI_panelItem4",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","panelItem4")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://qhc4mxqc101dbaq",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"a5f84RdhKpAAaA0AoD9WsLB","UI_panelItem5",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao2","panelItem5")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://0wf7zih4e503bay",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem52.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"e9df5ywOaJCVK8sZ5H2ptuw","UI_panelItem5",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return a.createObject("shoudaqiao","panelItem5")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://qhc4mxqce503bay",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"8099e/UU8xAm7l7za/IZaZr","UI_panelItem6",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","panelItem6")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4naimbb8",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem62.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"909e2xfdk9Le4N7D5cK/lvj","UI_panelItem6",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","panelItem6")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://qhc4mxqcnaimbb8",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"4e4c4Ph5slB1aGqLTjXVMIF","UI_panelItem7",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","panelItem7")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://qhc4mxqctpf0bb9",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem72.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"e79c6F44LhDI4HTpRYj74XS","UI_panelItem7",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","panelItem7")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4tpf0bb9",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"2382fIJOtJNXYQQsE0CYXE6","UI_panelItem8",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","panelItem8")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://qhc4mxqcgtyibbh",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_panelItem82.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GLabel}],execute:function(){n._RF.push({},"92a69SuVX9L5YZr4CGE018v","UI_panelItem8",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_hit=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","panelItem8")},n.prototype.onConstruct=function(){this.m_hit=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4gtyibbh",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Part.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){e._RF.push({},"3be39qUNuJGML/kyE5RhnFp","UI_Part",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_list=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","Part")},e.prototype.onConstruct=function(){this.m_list=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78nbfb323",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_piaodai.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"42d5d3EzYhKAYrG9pfKA4eq","UI_piaodai",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_label=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","piaodai")},n.prototype.onConstruct=function(){this.m_label=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4r25mbc4",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_PickPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"868b2euBZVGIJZjjkez6CZD","UI_PickPanel",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_color=void 0,e.m_newRole=void 0,e.m_text_left=void 0,e.m_text_right=void 0,e.m_text_left_newRole=void 0,e.m_text_right_newRole=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","PickPanel")},i.prototype.onConstruct=function(){this.m_color=this.getControllerAt(0),this.m_newRole=this.getControllerAt(1),this.m_text_left=this.getChildAt(4),this.m_text_right=this.getChildAt(5),this.m_text_left_newRole=this.getChildAt(6),this.m_text_right_newRole=this.getChildAt(7),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://hh1mxgwcmx2ejr",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_player_1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.UIPackage,n=t.GComponent}],execute:function(){i._RF.push({},"b0f75v3vYlCyIdvU9mEu4jr","UI_player_1",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).m_flipped=void 0,e.m_ride=void 0,e.m_fire_point=void 0,e.m_player=void 0,e.m_title=void 0,e}return e(i,t),i.createInstance=function(){return r.createObject("treeSpirit","player_1")},i.prototype.onConstruct=function(){this.m_flipped=this.getControllerAt(0),this.m_ride=this.getChildAt(0),this.m_fire_point=this.getChildAt(1),this.m_player=this.getChildAt(2),this.m_title=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},i}(n)).URL="ui://hh1mxgwcl17e7p3",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_player_2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.UIPackage,n=t.GComponent}],execute:function(){i._RF.push({},"3f89fxhPKxGx7AMJH/tE1UA","UI_player_2",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).m_flipped=void 0,e.m_fire_point=void 0,e.m_ride=void 0,e.m_player=void 0,e.m_title=void 0,e}return e(i,t),i.createInstance=function(){return r.createObject("treeSpirit","player_2")},i.prototype.onConstruct=function(){this.m_flipped=this.getControllerAt(0),this.m_fire_point=this.getChildAt(0),this.m_ride=this.getChildAt(1),this.m_player=this.getChildAt(2),this.m_title=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},i}(n)).URL="ui://hh1mxgwcl17e7p9",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_player_3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,r=t.GComponent}],execute:function(){i._RF.push({},"197ac+enTxH3IMV76IAwaC/","UI_player_3",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).m_flipped=void 0,e.m_fire_point=void 0,e.m_ride=void 0,e.m_player=void 0,e.m_head=void 0,e.m_title=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","player_3")},i.prototype.onConstruct=function(){this.m_flipped=this.getControllerAt(0),this.m_fire_point=this.getChildAt(0),this.m_ride=this.getChildAt(1),this.m_player=this.getChildAt(2),this.m_head=this.getChildAt(3),this.m_title=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},i}(r)).URL="ui://hh1mxgwcl17e7pj",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_player_4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,r,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"08d1dIiULJBz7boxIrof/DI","UI_player_4",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(i=t.call.apply(t,[this].concat(r))||this).m_flipped=void 0,i.m_fire_point=void 0,i.m_ride=void 0,i.m_player=void 0,i.m_title=void 0,i}return i(e,t),e.createInstance=function(){return r.createObject("treeSpirit","player_4")},e.prototype.onConstruct=function(){this.m_flipped=this.getControllerAt(0),this.m_fire_point=this.getChildAt(0),this.m_ride=this.getChildAt(1),this.m_player=this.getChildAt(2),this.m_title=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://hh1mxgwcl17e7pu",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_player_hp_bar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,r,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){n=t.UIPackage,a=t.GProgressBar}],execute:function(){r._RF.push({},"2fff6RyV0lLvbtNR83k2cRm","UI_player_hp_bar",void 0),t("default",function(t){function r(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).m_mid=void 0,e}return e(r,t),r.createInstance=function(){return n.createObject("PackBattle","player_hp_bar")},r.prototype.onConstruct=function(){this.m_mid=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},r}(a)).URL="ui://aymh9hbewx2e67",r._RF.pop()}}}));

System.register("chunks:///_virtual/UI_player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.UIPackage,n=t.GComponent}],execute:function(){i._RF.push({},"6b5dajwWTFDv6pmxymNla9Q","UI_player",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).m_withPower=void 0,e.m_wheel_left=void 0,e.m_wheel_right=void 0,e.m_fire_point=void 0,e.m_fire=void 0,e.m_destroy=void 0,e}return e(i,t),i.createInstance=function(){return r.createObject("treeSpirit","Player")},i.prototype.onConstruct=function(){this.m_withPower=this.getControllerAt(0),this.m_wheel_left=this.getChildAt(4),this.m_wheel_right=this.getChildAt(5),this.m_fire_point=this.getChildAt(6),this.m_fire=this.getTransitionAt(0),this.m_destroy=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(n)).URL="ui://hh1mxgwcmx2ejs",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_player0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,r=t.GComponent}],execute:function(){i._RF.push({},"464b0IH1HNIlI+DvkG4PloD","UI_player0",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).m_idle=void 0,e.m_destroy=void 0,e.m_fire=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","player0")},i.prototype.onConstruct=function(){this.m_idle=this.getTransitionAt(0),this.m_destroy=this.getTransitionAt(1),this.m_fire=this.getTransitionAt(2),globalThis.translateUI&&globalThis.translateUI(this)},i}(r)).URL="ui://hh1mxgwcl17e7oy",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Player2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"0991blu/nVDr5W9stSpoGsQ","UI_Player",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_onFire=void 0,n.m_fire_point=void 0,n.m_count=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("pindao","Player")},e.prototype.onConstruct=function(){this.m_onFire=this.getControllerAt(0),this.m_fire_point=this.getChildAt(1),this.m_count=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://vidz8nxqd97144",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Player3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,l,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){l=t.UIPackage,o=t.GLabel}],execute:function(){e._RF.push({},"728c28Fd8lJ6KVQSlyEj+OQ","UI_Player",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,l=new Array(e),o=0;o<e;o++)l[o]=arguments[o];return(i=t.call.apply(t,[this].concat(l))||this).m_state=void 0,i.m_langhua=void 0,i.m_fire_point=void 0,i.m_ride=void 0,i.m_la=void 0,i.m_luo=void 0,i.m_player=void 0,i.m_role=void 0,i.m_hua=void 0,i}return i(e,t),e.createInstance=function(){return l.createObject("shoudaqiao2","Player")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_langhua=this.getChildAt(0),this.m_fire_point=this.getChildAt(1),this.m_ride=this.getChildAt(3),this.m_la=this.getChildAt(4),this.m_luo=this.getChildAt(5),this.m_player=this.getChildAt(6),this.m_role=this.getChildAt(7),this.m_hua=this.getChildAt(8),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://0wf7zih4d97144",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Player4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GLabel}],execute:function(){n._RF.push({},"1d3beqXQ9FK+ooPZcubZHUW","UI_Player",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_state=void 0,e.m_fire_point=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao","Player")},n.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_fire_point=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qhc4mxqcd97144",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_popBuild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GLabel}],execute:function(){e._RF.push({},"59e5a3uMZNOo6WD5xYCQThO","UI_popBuild",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_cmpIcon=void 0,i.m_txt_name=void 0,i.m_txt_lv=void 0,i.m_txt_p1=void 0,i.m_txt_p2=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","popBuild")},e.prototype.onConstruct=function(){this.m_cmpIcon=this.getChildAt(1),this.m_txt_name=this.getChildAt(3),this.m_txt_lv=this.getChildAt(4),this.m_txt_p1=this.getChildAt(5),this.m_txt_p2=this.getChildAt(6),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nusaw7k",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_popTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,a,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.UIPackage,i=t.GLabel}],execute:function(){e._RF.push({},"495e7YPKvtBvJVU6MjacVGB","UI_popTask",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).m_bg=void 0,n}return n(e,t),e.createInstance=function(){return a.createObject("Main","popTask")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nnslha0",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_powerImage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"07dab9nBgVIJoJcYWsA6f+P","UI_powerImage",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).m_t0=void 0,e}return e(n,t),n.createInstance=function(){return r.createObject("treeSpirit","powerImage")},n.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://hh1mxgwcmx2ek6",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_randItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"4e34ejwQzxJYbw88dFp8tbV","UI_randItem",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_icon=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("sdm","randItem")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://luniefvxolae2f",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Rank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"6d30bnekiNN+bSeLqf2Esd0","UI_Rank",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_bg=void 0,n.m_name=void 0,n.m_btn_close=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","Rank")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_name=this.getChildAt(3),this.m_btn_close=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nlv4q10",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_redPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"e9f9fhIkspK7oZdsMxJbDch","UI_redPanel",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_quan=void 0,e.m_buffLabel=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","redPanel")},n.prototype.onConstruct=function(){this.m_quan=this.getChildAt(0),this.m_buffLabel=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://0wf7zih4r25mbbq",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_restart_btn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"06a57cbq4pKXL5O+ibmBJr4","UI_restart_btn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).m_withAD=void 0,n}return n(e,t),e.createInstance=function(){return r.createObject("SubGame","restart_btn")},e.prototype.onConstruct=function(){this.m_withAD=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://mazdo0vtsnuli",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Reward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"6470bHdMNBIoo6Z/BtVOnJ4","UI_Reward",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_title=void 0,i.m_list=void 0,i.m_btn_close=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","Reward")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_title=this.getChildAt(3),this.m_list=this.getChildAt(4),this.m_btn_close=this.getChildAt(5),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78ncs614l",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_RewardRes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){i._RF.push({},"64455wdkepLIbiqGOnR7uKp","UI_RewardRes",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,e.m_title=void 0,e.m_btn_get_double=void 0,e.m_reward=void 0,e.m_btn_get=void 0,e.m_show=void 0,e.m_close=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("Main","RewardRes")},i.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_title=this.getChildAt(3),this.m_btn_get_double=this.getChildAt(4),this.m_reward=this.getChildAt(5),this.m_btn_get=this.getChildAt(6),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://qgbta78ncs614m",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ride_0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"db093iE7kNGlY+wR+w7d1qD","UI_ride_0",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_move=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","ride_0")},n.prototype.onConstruct=function(){this.m_move=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcdko37rk",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ride_5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"694bfGAvItK46A7W7bAIR/A","UI_ride_5",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_move=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","ride_5")},n.prototype.onConstruct=function(){this.m_move=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcl17e7p4",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ride_6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"a1f070lxlBKfbIi86U9Ue/b","UI_ride_6",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_move=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","ride_6")},n.prototype.onConstruct=function(){this.m_move=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcl17e7pk",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ride_7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"5a302BgXaZFB7QcTQb7GGj/","UI_ride_7",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_move=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","ride_7")},n.prototype.onConstruct=function(){this.m_move=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcl17e7pa",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ride_8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,r=t.GComponent}],execute:function(){n._RF.push({},"2f52fFsfvdB6Z8WAydq0G2z","UI_ride_8",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_move=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("treeSpirit","ride_8")},n.prototype.onConstruct=function(){this.m_move=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(r)).URL="ui://hh1mxgwcl17e7pv",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SDMItemInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"7c623FOFEtLaKh97wDGzV9T","UI_SDMItemInfo",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_icon=void 0,e.m_txt_name=void 0,e.m_txt_desc=void 0,e.m_btnRemove=void 0,e.m_show=void 0,e.m_close=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("sdm","SDMItemInfo")},i.prototype.onConstruct=function(){this.m_icon=this.getChildAt(3),this.m_txt_name=this.getChildAt(4),this.m_txt_desc=this.getChildAt(5),this.m_btnRemove=this.getChildAt(6),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://luniefvxojlh1n",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Seek.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"5b8f9uNPyVDn7wzzvAYFHED","UI_Seek",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_btn_close=void 0,i.m_btn_get=void 0,i.m_txt_lv=void 0,i.m_txt_lv_name=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","Seek")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_btn_close=this.getChildAt(3),this.m_btn_get=this.getChildAt(4),this.m_txt_lv=this.getChildAt(5),this.m_txt_lv_name=this.getChildAt(6),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78nteqi7n",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_setting_combo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GLabel}],execute:function(){i._RF.push({},"2d02517ldRGwrvXyo8YQDcS","UI_setting_combo",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_type=void 0,e.m_switch=void 0,e.m_slide=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("SubGame","setting_combo")},i.prototype.onConstruct=function(){this.m_type=this.getControllerAt(0),this.m_switch=this.getChildAt(1),this.m_slide=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://mazdo0vtxrtpn",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_setting_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){i._RF.push({},"4934bb0OhxGAopUI8eNwB5O","UI_setting_item",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_type=void 0,e.m_switch=void 0,e.m_slide=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("pindao","setting_item")},i.prototype.onConstruct=function(){this.m_type=this.getControllerAt(0),this.m_switch=this.getChildAt(0),this.m_slide=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://vidz8nxqd9713q",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_setting_item2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){i._RF.push({},"80829zN8OVNe6B3Z2W4pLnA","UI_setting_item",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_type=void 0,e.m_switch=void 0,e.m_slide=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","setting_item")},i.prototype.onConstruct=function(){this.m_type=this.getControllerAt(0),this.m_switch=this.getChildAt(0),this.m_slide=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://hh1mxgwcmx2ez",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_setting_item3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){e._RF.push({},"76770x4zJNOc621iiTbLC/O","UI_setting_item",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_type=void 0,i.m_switch=void 0,i.m_slide=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao2","setting_item")},e.prototype.onConstruct=function(){this.m_type=this.getControllerAt(0),this.m_switch=this.getChildAt(0),this.m_slide=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://0wf7zih4d9713q",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_setting_item4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GLabel}],execute:function(){i._RF.push({},"b46dfQ1acVMTIUtz1ZEt6BT","UI_setting_item",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_type=void 0,e.m_switch=void 0,e.m_slide=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("shoudaqiao","setting_item")},i.prototype.onConstruct=function(){this.m_type=this.getControllerAt(0),this.m_switch=this.getChildAt(0),this.m_slide=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://qhc4mxqcd9713q",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Setting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"2cb12FUaH1H4pmh78eBbeaC","UI_Setting",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_state=void 0,i.m_bg=void 0,i.m_title=void 0,i.m_btn_close=void 0,i.m_btn_code=void 0,i.m_input_code=void 0,i.m_cmp_msc=void 0,i.m_cmp_sound=void 0,i.m_btn_virb=void 0,i.m_btn_exit=void 0,i.m_btn_cont=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","Setting")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_title=this.getChildAt(3),this.m_btn_close=this.getChildAt(4),this.m_btn_code=this.getChildAt(5),this.m_input_code=this.getChildAt(7),this.m_cmp_msc=this.getChildAt(8),this.m_cmp_sound=this.getChildAt(9),this.m_btn_virb=this.getChildAt(10),this.m_btn_exit=this.getChildAt(11),this.m_btn_cont=this.getChildAt(12),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78ncs614p",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Shop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"223ffIKkUhNZLwlhJKdljRf","UI_Shop",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_page=void 0,i.m_bg=void 0,i.m_bgBtn=void 0,i.m_baseBtn=void 0,i.m_makeMoneyBtn=void 0,i.m_techBtn=void 0,i.m_blkTechBtn=void 0,i.m_itemList=void 0,i.m_closeBtn=void 0,i.m_showTemp=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("tangping","Shop")},e.prototype.onConstruct=function(){this.m_page=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_bgBtn=this.getChildAt(1),this.m_baseBtn=this.getChildAt(4),this.m_makeMoneyBtn=this.getChildAt(5),this.m_techBtn=this.getChildAt(6),this.m_blkTechBtn=this.getChildAt(7),this.m_itemList=this.getChildAt(8),this.m_closeBtn=this.getChildAt(10),this.m_showTemp=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://vwczupxsmsz6h",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_shopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,i,e,o;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"15ae97aan9KMI4uaHVNXtgw","UI_shopItem",void 0),t("default",function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).m_icon=void 0,n.m_name=void 0,n.m_info=void 0,n.m_btn=void 0,n}return n(i,t),i.createInstance=function(){return e.createObject("tangping","shopItem")},i.prototype.onConstruct=function(){this.m_icon=this.getChildAt(1),this.m_name=this.getChildAt(2),this.m_info=this.getChildAt(3),this.m_btn=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://vwczupxsmsz6u",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_shopTopBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,c=t.GButton}],execute:function(){e._RF.push({},"e7c1bLjp/hBE6CZnmEuLgYe","UI_shopTopBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(n=t.call.apply(t,[this].concat(o))||this).m_click=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("tangping","shopTopBtn")},e.prototype.onConstruct=function(){this.m_click=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(c)).URL="ui://vwczupxsmsz6o",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Sidebar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"45beajy9qBEjoUObCOQ2uyz","UI_Sidebar",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).m_state=void 0,i.m_img_bg=void 0,i.m_guide=void 0,i.m_cmpSubscribe=void 0,i.m_btn_back=void 0,i.m_side=void 0,i.m_scribe=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("Main","Sidebar")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_img_bg=this.getChildAt(0),this.m_guide=this.getChildAt(1),this.m_cmpSubscribe=this.getChildAt(2),this.m_btn_back=this.getChildAt(4),this.m_side=this.getChildAt(5),this.m_scribe=this.getChildAt(6),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://qgbta78nohq96",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Sign.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"e4894Oh7V9JnJQZ1dDDA40F","UI_Sign",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_state=void 0,i.m_bg=void 0,i.m_list=void 0,i.m_day7=void 0,i.m_btn_get_double=void 0,i.m_btn_get=void 0,i.m_btn_close=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","Sign")},e.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_list=this.getChildAt(4),this.m_day7=this.getChildAt(5),this.m_btn_get_double=this.getChildAt(6),this.m_btn_get=this.getChildAt(7),this.m_btn_close=this.getChildAt(8),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78nl9chal",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_skill_common_1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"79340ZGRS1DEapscrqpkvsc","UI_skill_common_1",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_icon=void 0,e.m_extra=void 0,e.m_type=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","skill_common_1")},i.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),this.m_extra=this.getChildAt(1),this.m_type=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://hh1mxgwcmx2e1d",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,r=t.GLabel}],execute:function(){i._RF.push({},"eeba0uQN01E8J7fgrQEcU/N","UI_Skill",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,e.m_fg=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","Skill")},i.prototype.onConstruct=function(){this.m_bg=this.getChildAt(1),this.m_fg=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},i}(r)).URL="ui://hh1mxgwcmx2ej2",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SkillIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,c=t.GComponent}],execute:function(){e._RF.push({},"4accbhkzX5Ly4ezU6JJk7Wv","UI_SkillIcon",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).m_icon=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("treeSpirit","SkillIcon")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(c)).URL="ui://hh1mxgwcmx2ej4",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SkillIconBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"f7ae4APuTdAVbpoGwjYtVxU","UI_SkillIconBase",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_icon=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("treeSpirit","SkillIconBase")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://hh1mxgwcmx2ej3",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Skin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,s,n,e;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy},function(t){n=t.UIPackage,e=t.GComponent}],execute:function(){s._RF.push({},"d66a5GbboFFC7/LJf2kLVtS","UI_Skin",void 0),t("default",function(t){function s(){for(var i,s=arguments.length,n=new Array(s),e=0;e<s;e++)n[e]=arguments[e];return(i=t.call.apply(t,[this].concat(n))||this).m_state=void 0,i.m_bg=void 0,i.m_bg1=void 0,i.m_list=void 0,i.m_loader=void 0,i.m_btn_close=void 0,i.m_skinInfo=void 0,i.m_txt_unlock=void 0,i.m_btn_use=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(s,t),s.createInstance=function(){return n.createObject("Main","Skin")},s.prototype.onConstruct=function(){this.m_state=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_bg1=this.getChildAt(2),this.m_list=this.getChildAt(3),this.m_loader=this.getChildAt(5),this.m_btn_close=this.getChildAt(6),this.m_skinInfo=this.getChildAt(7),this.m_txt_unlock=this.getChildAt(8),this.m_btn_use=this.getChildAt(9),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},s}(e)).URL="ui://qgbta78nenhr8w",s._RF.pop()}}}));

System.register("chunks:///_virtual/UI_skinInfoCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,l=t.GComponent}],execute:function(){e._RF.push({},"fd184UhXFtDh6/zaSGj1UKl","UI_skinInfoCmp",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return(i=t.call.apply(t,[this].concat(n))||this).m_title1=void 0,i.m_title2=void 0,i.m_titlep0=void 0,i.m_titlep1=void 0,i.m_titlev0=void 0,i.m_titlev1=void 0,i.m_titleExt=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","skinInfoCmp")},e.prototype.onConstruct=function(){this.m_title1=this.getChildAt(1),this.m_title2=this.getChildAt(2),this.m_titlep0=this.getChildAt(3),this.m_titlep1=this.getChildAt(4),this.m_titlev0=this.getChildAt(5),this.m_titlev1=this.getChildAt(6),this.m_titleExt=this.getChildAt(7),globalThis.translateUI&&globalThis.translateUI(this)},e}(l)).URL="ui://qgbta78nenhr8y",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_sleep_effect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.UIPackage,i=t.GComponent}],execute:function(){n._RF.push({},"08950Dz7ytM8pJhQHrBxmeb","UI_sleep_effect",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).m_t0=void 0,e}return e(n,t),n.createInstance=function(){return r.createObject("treeSpirit","sleep_effect")},n.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://hh1mxgwcmx2eem",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SpeedUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"7f5221V6WdCYY3545u1F5+5","UI_SpeedUp",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(i=t.call.apply(t,[this].concat(s))||this).m_icon=void 0,i.m_txt_name=void 0,i.m_txt_desc2=void 0,i.m_btnRemove=void 0,i.m_txt_desc=void 0,i.m_txt_desc3=void 0,i.m_txt_pro=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("sdm","SpeedUp")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(4),this.m_txt_name=this.getChildAt(5),this.m_txt_desc2=this.getChildAt(6),this.m_btnRemove=this.getChildAt(7),this.m_txt_desc=this.getChildAt(8),this.m_txt_desc3=this.getChildAt(9),this.m_txt_pro=this.getChildAt(10),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://luniefvxojlh1o",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SubGames.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,s,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy},function(t){e=t.UIPackage,n=t.GComponent}],execute:function(){s._RF.push({},"47dffRPzrdBY5aMZA1sL66u","UI_SubGames",void 0),t("default",function(t){function s(){for(var i,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).m_bg=void 0,i.m_list=void 0,i.m_btn_close=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(s,t),s.createInstance=function(){return e.createObject("Main","SubGames")},s.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_list=this.getChildAt(4),this.m_btn_close=this.getChildAt(5),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},s}(n)).URL="ui://qgbta78nlxafc7",s._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SubGameTray.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"0def2n377FFcZjSos6vU9pB","UI_SubGameTray",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_back=void 0,e.m_pause=void 0,e.m_setting=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("SubGame","SubGameTray")},n.prototype.onConstruct=function(){this.m_back=this.getChildAt(0),this.m_pause=this.getChildAt(1),this.m_setting=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://mazdo0vtwx2e5z",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SubGameTray2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GComponent}],execute:function(){n._RF.push({},"4f44dIrV71LLoew92q6pj2m","UI_SubGameTray",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_back=void 0,e.m_pause=void 0,e.m_setting=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("PackBattle","SubGameTray")},n.prototype.onConstruct=function(){this.m_back=this.getChildAt(0),this.m_pause=this.getChildAt(1),this.m_setting=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://aymh9hbewx2e5z",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SubLevels.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"9b8d0MH1r5NaK8u33V5+ClK","UI_SubLevels",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_bg=void 0,i.m_list=void 0,i.m_btn_close=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("Main","SubLevels")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_list=this.getChildAt(4),this.m_btn_close=this.getChildAt(5),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://qgbta78nja1tbn",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SuperStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"d6023B3Sp9PELKGSmDcK2Xc","UI_SuperStart",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).m_list=void 0,i.m_txt_name=void 0,i.m_txt_desc2=void 0,i.m_btnGet=void 0,i.m_btnClose=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("sdm","SuperStart")},e.prototype.onConstruct=function(){this.m_list=this.getChildAt(3),this.m_txt_name=this.getChildAt(5),this.m_txt_desc2=this.getChildAt(6),this.m_btnGet=this.getChildAt(7),this.m_btnClose=this.getChildAt(8),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://luniefvxolae2e",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Task.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,s,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy},function(t){e=t.UIPackage,n=t.GComponent}],execute:function(){s._RF.push({},"7a11ck9KLtI0Z58sKrVEF20","UI_Task",void 0),t("default",function(t){function s(){for(var i,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).m_bg=void 0,i.m_btn_close=void 0,i.m_list=void 0,i.m_progress=void 0,i.m_listUp=void 0,i.m_txt_timer=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(s,t),s.createInstance=function(){return e.createObject("Main","Task")},s.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_btn_close=this.getChildAt(5),this.m_list=this.getChildAt(6),this.m_progress=this.getChildAt(7),this.m_listUp=this.getChildAt(8),this.m_txt_timer=this.getChildAt(10),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},s}(n)).URL="ui://qgbta78nenhr9v",s._RF.pop()}}}));

System.register("chunks:///_virtual/UI_test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"72f69nZXLhGCJKGKIQN1X9J","UI_test",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_btn=void 0,n.m_txt_lv=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","test")},e.prototype.onConstruct=function(){this.m_btn=this.getChildAt(0),this.m_txt_lv=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nkqqd3i",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_TextBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,r=t.GButton}],execute:function(){e._RF.push({},"6a2caxD2qtBLo2sY/BOZJPs","UI_TextBtn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).m_color=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("Main","TextBtn")},e.prototype.onConstruct=function(){this.m_color=this.getControllerAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78nlgpfbw",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_TextBtn2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,r=t.GButton}],execute:function(){e._RF.push({},"009b18p/mxJWKlZr0frvJ5g","UI_TextBtn2",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).m_red=void 0,n.m_txt_lv=void 0,n.m_shake=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","TextBtn2")},e.prototype.onConstruct=function(){this.m_red=this.getControllerAt(0),this.m_txt_lv=this.getChildAt(2),this.m_shake=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://qgbta78nenhr92",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_TextBtn3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,c=t.GButton}],execute:function(){e._RF.push({},"12bc8G7ESVDj7MA5MYL+BQl","UI_TextBtn3",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).m_txt_lv=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","TextBtn3")},e.prototype.onConstruct=function(){this.m_txt_lv=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(c)).URL="ui://qgbta78nqlguc4",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_TipsSubGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"8043cxpSu5Db6agu/yINePe","UI_TipsSubGame",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).m_bg=void 0,i.m_title=void 0,i.m_btn_close=void 0,i.m_text_des=void 0,i.m_btn_get=void 0,i.m_show=void 0,i.m_close=void 0,i}return i(e,t),e.createInstance=function(){return s.createObject("Main","TipsSubGame")},e.prototype.onConstruct=function(){this.m_bg=this.getChildAt(0),this.m_title=this.getChildAt(3),this.m_btn_close=this.getChildAt(4),this.m_text_des=this.getChildAt(5),this.m_btn_get=this.getChildAt(6),this.m_show=this.getTransitionAt(0),this.m_close=this.getTransitionAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://qgbta78nubbibm",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_toast_dalongji_common.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.UIPackage,i=t.GLabel}],execute:function(){n._RF.push({},"fa51bux8ZhDhpwQUZJLXgVE","UI_toast_dalongji_common",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).m_title1=void 0,e}return e(n,t),n.createInstance=function(){return o.createObject("treeSpirit_levels","toast_dalongji_common")},n.prototype.onConstruct=function(){this.m_title1=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},n}(i)).URL="ui://hg829aqtmx2e2s",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Toast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,i=t.GComponent}],execute:function(){o._RF.push({},"73e95YV2HtGYaU6d234Wto5","UI_Toast",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).m_icon=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("shoudaqiao","Toast")},o.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},o}(i)).URL="ui://qhc4mxqcd97145",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Toast2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GComponent}],execute:function(){e._RF.push({},"7fb6aeYONdKgpCYg6wZnmHm","UI_Toast",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_icon=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("treeSpirit","Toast")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://hh1mxgwcmx2ek7",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Toast3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,o,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,i=t.GComponent}],execute:function(){o._RF.push({},"afc98VCZn5L7K6zmvas+2N2","UI_Toast",void 0),t("default",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).m_icon=void 0,n}return n(o,t),o.createInstance=function(){return e.createObject("shoudaqiao2","Toast")},o.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},o}(i)).URL="ui://0wf7zih4d97145",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Toast4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GComponent}],execute:function(){e._RF.push({},"d3651z+9HZLCL1R6zsvnVIl","UI_Toast",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_icon=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("pindao","Toast")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://vidz8nxqd97145",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Toast5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"fc03cSmpCtG2IM2RUfXa/zz","UI_Toast",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_list=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","Toast")},e.prototype.onConstruct=function(){this.m_list=this.getChildAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nuac94",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_tog_hall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"2b3d4HmyfBASros7Zs4mUBS","UI_tog_hall",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_lock=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("Main","tog_hall")},e.prototype.onConstruct=function(){this.m_lock=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nbfb31z",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_tog_set.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GLabel}],execute:function(){n._RF.push({},"e6c42wKHRhO0ptEORCLw+QS","UI_tog_set",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_button=void 0,e.m_slide=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("Main","tog_set")},n.prototype.onConstruct=function(){this.m_button=this.getControllerAt(0),this.m_slide=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qgbta78ncs614s",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_tog_upgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,a=t.GButton}],execute:function(){n._RF.push({},"9a534RpGjFKh6s3mKA3HJX5","UI_tog_upgrade",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_upgrade=void 0,e.m_cultivate=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("Main","tog_upgrade")},n.prototype.onConstruct=function(){this.m_upgrade=this.getChildAt(2),this.m_cultivate=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},n}(a)).URL="ui://qgbta78nkqqd24",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_togTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"4152bR9ueZNWYshuGL/6Wuw","UI_togTask",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_t0=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("Main","togTask")},e.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nnslh9z",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_togTurn1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.UIPackage,i=t.GButton}],execute:function(){e._RF.push({},"9a3b0Lv11ZKRrWQaNcLBbkr","UI_togTurn1",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).m_title1=void 0,n}return n(e,t),e.createInstance=function(){return r.createObject("Main","togTurn1")},e.prototype.onConstruct=function(){this.m_title1=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nl9chb9",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_topCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"9273c6CTOpBvbcmZQVsf3aR","UI_topCmp",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_res_coin=void 0,e.m_res_gem=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("Main","topCmp")},n.prototype.onConstruct=function(){this.m_res_coin=this.getChildAt(0),this.m_res_gem=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://qgbta78nbfb31m",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_TurnInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,i=t.GComponent}],execute:function(){e._RF.push({},"3d674TXPatJA6HEoZhHrucL","UI_TurnInfo",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).m_cmp=void 0,n.m_btn_top=void 0,n.m_btn_close=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("Main","TurnInfo")},e.prototype.onConstruct=function(){this.m_cmp=this.getChildAt(1),this.m_btn_top=this.getChildAt(2),this.m_btn_close=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(i)).URL="ui://qgbta78nl9chb7",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_unlock_btn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,o,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,u=t.GButton}],execute:function(){e._RF.push({},"b4725TfDTRJmqMUkHms9kOx","UI_unlock_btn",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return(n=t.call.apply(t,[this].concat(o))||this).m_count=void 0,n}return n(e,t),e.createInstance=function(){return o.createObject("SubGame","unlock_btn")},e.prototype.onConstruct=function(){this.m_count=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(u)).URL="ui://mazdo0vtsnula",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Upgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){e._RF.push({},"0f0ecqTzZJGZq6w4Huk9MeH","UI_Upgrade",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).m_haveInfo=void 0,i.m_bg=void 0,i.m_bgBtn=void 0,i.m_bgImg=void 0,i.m_itemList=void 0,i.m_name=void 0,i.m_info=void 0,i.m_closeBtn=void 0,i.m_corePage=void 0,i.m_showTemp=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("tangping","Upgrade")},e.prototype.onConstruct=function(){this.m_haveInfo=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_bgBtn=this.getChildAt(1),this.m_bgImg=this.getChildAt(2),this.m_itemList=this.getChildAt(3),this.m_name=this.getChildAt(4),this.m_info=this.getChildAt(5),this.m_closeBtn=this.getChildAt(6),this.m_corePage=this.getChildAt(7),this.m_showTemp=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(s)).URL="ui://vwczupxsmsz6w",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Upgrade2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,r=t.GComponent}],execute:function(){i._RF.push({},"b90dctLwAFCV6SYW68t0gj2","UI_Upgrade",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).m_page=void 0,e.m_cmpUpgrade=void 0,e.m_cmpCultivate=void 0,e.m_tog_upgrade=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("Main","Upgrade")},i.prototype.onConstruct=function(){this.m_page=this.getControllerAt(0),this.m_cmpUpgrade=this.getChildAt(1),this.m_cmpCultivate=this.getChildAt(2),this.m_tog_upgrade=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},i}(r)).URL="ui://qgbta78nbfb320",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_upgradeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"053adC7rLxMCqplisweT1RQ","UI_upgradeItem",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_icon=void 0,n.m_name=void 0,n.m_info=void 0,n.m_btn=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("tangping","upgradeItem")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(1),this.m_name=this.getChildAt(2),this.m_info=this.getChildAt(3),this.m_btn=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://vwczupxsmsz6v",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_view_toast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"e718bLy9QNPwLwawLtB9aB1","UI_view_toast",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_content=void 0,n.m_show=void 0,n}return n(e,t),e.createInstance=function(){return i.createObject("Main","view_toast")},e.prototype.onConstruct=function(){this.m_content=this.getChildAt(1),this.m_show=this.getTransitionAt(0),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qgbta78nuac93",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ViewBag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,n=t.GComponent}],execute:function(){e._RF.push({},"5a92d2l+Y1OVKrpvv/T7Ypp","UI_ViewBag",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).m_grid_edit=void 0,i.m_with_more=void 0,i.m_pack=void 0,i.m_holder=void 0,i.m_option=void 0,i}return i(e,t),e.createInstance=function(){return o.createObject("PackBattle","ViewBag")},e.prototype.onConstruct=function(){this.m_grid_edit=this.getControllerAt(0),this.m_with_more=this.getControllerAt(1),this.m_pack=this.getChildAt(2),this.m_holder=this.getChildAt(3),this.m_option=this.getChildAt(4),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://aymh9hbewx2e69",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowChooseGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,o,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.UIPackage,i=t.GComponent}],execute:function(){o._RF.push({},"391b1Vj7MpGMpunrMum3m6w","UI_WindowChooseGame",void 0),t("default",function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).m_withTag=void 0,e.m_unlocked=void 0,e.m_frame=void 0,e.m_list=void 0,e}return e(o,t),o.createInstance=function(){return n.createObject("SubGame","WindowChooseGame")},o.prototype.onConstruct=function(){this.m_withTag=this.getControllerAt(0),this.m_unlocked=this.getControllerAt(1),this.m_frame=this.getChildAt(0),this.m_list=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},o}(i)).URL="ui://mazdo0vtsnulj",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowChooseLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,o,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){i=t.UIPackage,n=t.GComponent}],execute:function(){o._RF.push({},"c462cVFWJZDw5tt/Winy7ZF","UI_WindowChooseLevel",void 0),t("default",function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).m_withTag=void 0,e.m_unlocked=void 0,e.m_back=void 0,e.m_list=void 0,e}return e(o,t),o.createInstance=function(){return i.createObject("SubGame","WindowChooseLevel")},o.prototype.onConstruct=function(){this.m_withTag=this.getControllerAt(0),this.m_unlocked=this.getControllerAt(1),this.m_back=this.getChildAt(0),this.m_list=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},o}(n)).URL="ui://mazdo0vtsnul2",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowFrame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,n=t.GLabel}],execute:function(){e._RF.push({},"00280jqYCpLxKQ0eXCJWG0f","UI_WindowFrame",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).m_withClose=void 0,i.m_withTitle=void 0,i.m_withBG=void 0,i.m_bgColor=void 0,i.m_bg=void 0,i.m_closeButton=void 0,i}return i(e,t),e.createInstance=function(){return o.createObject("shoudaqiao","WindowFrame")},e.prototype.onConstruct=function(){this.m_withClose=this.getControllerAt(0),this.m_withTitle=this.getControllerAt(1),this.m_withBG=this.getControllerAt(2),this.m_bgColor=this.getControllerAt(3),this.m_bg=this.getChildAt(0),this.m_closeButton=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://qhc4mxqcd9714e",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowFrame2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,o,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,n=t.GLabel}],execute:function(){o._RF.push({},"037ba3LIU9C9JbCEKx13Shw","UI_WindowFrame",void 0),t("default",function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).m_withClose=void 0,i.m_withTitle=void 0,i.m_withBG=void 0,i.m_bgColor=void 0,i.m_bg=void 0,i.m_closeButton=void 0,i}return i(o,t),o.createInstance=function(){return e.createObject("shoudaqiao2","WindowFrame")},o.prototype.onConstruct=function(){this.m_withClose=this.getControllerAt(0),this.m_withTitle=this.getControllerAt(1),this.m_withBG=this.getControllerAt(2),this.m_bgColor=this.getControllerAt(3),this.m_bg=this.getChildAt(0),this.m_closeButton=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},o}(n)).URL="ui://0wf7zih4d9714e",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowFrame3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,o,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.UIPackage,n=t.GLabel}],execute:function(){o._RF.push({},"0a288OKK/JPkZdVc05oh1Dp","UI_WindowFrame",void 0),t("default",function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).m_withClose=void 0,i.m_withTitle=void 0,i.m_withBG=void 0,i.m_bgColor=void 0,i.m_bg=void 0,i.m_closeButton=void 0,i}return i(o,t),o.createInstance=function(){return e.createObject("pindao","WindowFrame")},o.prototype.onConstruct=function(){this.m_withClose=this.getControllerAt(0),this.m_withTitle=this.getControllerAt(1),this.m_withBG=this.getControllerAt(2),this.m_bgColor=this.getControllerAt(3),this.m_bg=this.getChildAt(0),this.m_closeButton=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},o}(n)).URL="ui://vidz8nxqd9714e",o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowFrame4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.UIPackage,n=t.GLabel}],execute:function(){e._RF.push({},"7034e9gyIFHSKZ1grRXcg4/","UI_WindowFrame",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).m_withClose=void 0,i.m_withTitle=void 0,i.m_withBG=void 0,i.m_bgColor=void 0,i.m_bg=void 0,i.m_closeButton=void 0,i}return i(e,t),e.createInstance=function(){return o.createObject("treeSpirit","WindowFrame")},e.prototype.onConstruct=function(){this.m_withClose=this.getControllerAt(0),this.m_withTitle=this.getControllerAt(1),this.m_withBG=this.getControllerAt(2),this.m_bgColor=this.getControllerAt(3),this.m_bg=this.getChildAt(0),this.m_closeButton=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},e}(n)).URL="ui://hh1mxgwcmx2ex",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"b2077qR00FGp6EAelTVPOwb","UI_WindowGameOver",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_restart=void 0,e.m_close=void 0,e.m_title=void 0,e.m_kill=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("PackBattle","WindowGameOver")},i.prototype.onConstruct=function(){this.m_restart=this.getChildAt(3),this.m_close=this.getChildAt(5),this.m_title=this.getChildAt(6),this.m_kill=this.getChildAt(7),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://aymh9hbeehc36n",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowSetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"1972aQLZhdHmqQE+vEM3as8","UI_WindowSetting",void 0),t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).m_frame=void 0,i.m_music=void 0,i.m_sfx=void 0,i.m_vibrate=void 0,i}return i(n,t),n.createInstance=function(){return e.createObject("pindao","WindowSetting")},n.prototype.onConstruct=function(){this.m_frame=this.getChildAt(0),this.m_music=this.getChildAt(3),this.m_sfx=this.getChildAt(4),this.m_vibrate=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://vidz8nxqd9713p",n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowSetting2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"21533fei9xNSrDilUQFs6kG","UI_WindowSetting",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_frame=void 0,i.m_music=void 0,i.m_sfx=void 0,i.m_vibrate=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao2","WindowSetting")},e.prototype.onConstruct=function(){this.m_frame=this.getChildAt(0),this.m_music=this.getChildAt(3),this.m_sfx=this.getChildAt(4),this.m_vibrate=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://0wf7zih4d9713p",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowSetting3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"2e5c7hn5GpMophi6JeZjjF9","UI_WindowSetting",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_frame=void 0,i.m_music=void 0,i.m_sfx=void 0,i.m_vibrate=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao","WindowSetting")},e.prototype.onConstruct=function(){this.m_frame=this.getChildAt(0),this.m_music=this.getChildAt(3),this.m_sfx=this.getChildAt(4),this.m_vibrate=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qhc4mxqcd9713p",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowSetting4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,r=t.GComponent}],execute:function(){e._RF.push({},"3b1a1verBdFAr7pP1JfHKec","UI_WindowSetting",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this).m_frame=void 0,i.m_music=void 0,i.m_sfx=void 0,i.m_vibrate=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("treeSpirit","WindowSetting")},e.prototype.onConstruct=function(){this.m_frame=this.getChildAt(0),this.m_music=this.getChildAt(3),this.m_sfx=this.getChildAt(4),this.m_vibrate=this.getChildAt(5),globalThis.translateUI&&globalThis.translateUI(this)},e}(r)).URL="ui://hh1mxgwcmx2ey",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowSettingSub.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){i._RF.push({},"4d0e2L5WL1Kua+REwBh9mai","UI_WindowSettingSub",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_frame=void 0,e.m_bgm=void 0,e.m_sfx=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("SubGame","WindowSettingSub")},i.prototype.onConstruct=function(){this.m_frame=this.getChildAt(0),this.m_bgm=this.getChildAt(1),this.m_sfx=this.getChildAt(2),globalThis.translateUI&&globalThis.translateUI(this)},i}(o)).URL="ui://mazdo0vtxrtpm",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowSubSettle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){s=t.UIPackage,n=t.GComponent}],execute:function(){i._RF.push({},"437baaBUyVEA4dE8kktp6Bd","UI_WindowSubSettle",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).m_result=void 0,e.m_frame=void 0,e.m_time=void 0,e.m_kill=void 0,e.m_progress=void 0,e.m_restart=void 0,e}return e(i,t),i.createInstance=function(){return s.createObject("SubGame","WindowSubSettle")},i.prototype.onConstruct=function(){this.m_result=this.getControllerAt(0),this.m_frame=this.getChildAt(0),this.m_time=this.getChildAt(4),this.m_kill=this.getChildAt(5),this.m_progress=this.getChildAt(6),this.m_restart=this.getChildAt(7),globalThis.translateUI&&globalThis.translateUI(this)},i}(n)).URL="ui://mazdo0vtsnul8",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowTimeTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"fc325lE01FIJq4TaiZHcS6g","UI_WindowTimeTips",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_frame=void 0,i.m_txt_time=void 0,i.m_btnEnter=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("SubGame","WindowTimeTips")},e.prototype.onConstruct=function(){this.m_frame=this.getChildAt(0),this.m_txt_time=this.getChildAt(2),this.m_btnEnter=this.getChildAt(3),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://mazdo0vtnw4a10",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"069caQzN+1PqbBbCV+ct4pM","UI_WindowWin",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_isWin=void 0,i.m_withAD=void 0,i.m_retry=void 0,i.m_retry_ad=void 0,i.m_item=void 0,i.m_win=void 0,i.m_lose=void 0,i.m_back=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("treeSpirit","WindowWin")},e.prototype.onConstruct=function(){this.m_isWin=this.getControllerAt(0),this.m_withAD=this.getControllerAt(1),this.m_retry=this.getChildAt(0),this.m_retry_ad=this.getChildAt(1),this.m_item=this.getChildAt(2),this.m_win=this.getChildAt(6),this.m_lose=this.getChildAt(7),this.m_back=this.getChildAt(8),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://hh1mxgwcmx2e13",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowWin2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"362fe1cstFCka/uwLs+h8c0","UI_WindowWin",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_win=void 0,i.m_withAD=void 0,i.m_frame=void 0,i.m_kill=void 0,i.m_retry=void 0,i.m_retry_ad=void 0,i.m_time=void 0,i.m_finished=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("pindao","WindowWin")},e.prototype.onConstruct=function(){this.m_win=this.getControllerAt(0),this.m_withAD=this.getControllerAt(1),this.m_frame=this.getChildAt(0),this.m_kill=this.getChildAt(7),this.m_retry=this.getChildAt(8),this.m_retry_ad=this.getChildAt(9),this.m_time=this.getChildAt(11),this.m_finished=this.getChildAt(12),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://vidz8nxqd9713n",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowWin3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"9ff2cFlLIdCdIo9IICaGuZO","UI_WindowWin",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_win=void 0,i.m_withAD=void 0,i.m_frame=void 0,i.m_kill=void 0,i.m_retry=void 0,i.m_retry_ad=void 0,i.m_time=void 0,i.m_finished=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao","WindowWin")},e.prototype.onConstruct=function(){this.m_win=this.getControllerAt(0),this.m_withAD=this.getControllerAt(1),this.m_frame=this.getChildAt(0),this.m_kill=this.getChildAt(7),this.m_retry=this.getChildAt(8),this.m_retry_ad=this.getChildAt(9),this.m_time=this.getChildAt(11),this.m_finished=this.getChildAt(12),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://qhc4mxqcd9713n",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WindowWin4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.UIPackage,o=t.GComponent}],execute:function(){e._RF.push({},"b39a8di+E5C/5KjDSua2bVc","UI_WindowWin",void 0),t("default",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).m_win=void 0,i.m_withAD=void 0,i.m_frame=void 0,i.m_kill=void 0,i.m_retry=void 0,i.m_retry_ad=void 0,i.m_time=void 0,i.m_finished=void 0,i}return i(e,t),e.createInstance=function(){return n.createObject("shoudaqiao2","WindowWin")},e.prototype.onConstruct=function(){this.m_win=this.getControllerAt(0),this.m_withAD=this.getControllerAt(1),this.m_frame=this.getChildAt(0),this.m_kill=this.getChildAt(7),this.m_retry=this.getChildAt(8),this.m_retry_ad=this.getChildAt(9),this.m_time=this.getChildAt(11),this.m_finished=this.getChildAt(12),globalThis.translateUI&&globalThis.translateUI(this)},e}(o)).URL="ui://0wf7zih4d9713n",e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WinPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.UIPackage,s=t.GComponent}],execute:function(){i._RF.push({},"123dbSotuxElKkbAY1Rp0di","UI_WinPanel",void 0),t("default",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).m_stage_title=void 0,e.m_wave_title=void 0,e.m_wave=void 0,e.m_finished=void 0,e}return e(i,t),i.createInstance=function(){return n.createObject("treeSpirit","WinPanel")},i.prototype.onConstruct=function(){this.m_stage_title=this.getChildAt(11),this.m_wave_title=this.getChildAt(12),this.m_wave=this.getChildAt(13),this.m_finished=this.getChildAt(14),globalThis.translateUI&&globalThis.translateUI(this)},i}(s)).URL="ui://hh1mxgwcmx2e1k",i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_yellowPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.UIPackage,o=t.GComponent}],execute:function(){n._RF.push({},"8e07deiPWVCoJTrLUT5/S1K","UI_yellowPanel",void 0),t("default",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_quan=void 0,e.m_buffLabel=void 0,e}return e(n,t),n.createInstance=function(){return i.createObject("shoudaqiao2","yellowPanel")},n.prototype.onConstruct=function(){this.m_quan=this.getChildAt(0),this.m_buffLabel=this.getChildAt(1),globalThis.translateUI&&globalThis.translateUI(this)},n}(o)).URL="ui://0wf7zih4r25mbbr",n._RF.pop()}}}));

System.register("chunks:///_virtual/uiCamera.ts",["cc","./fairygui.mjs","./util.ts"],(function(t){var i,e,s,a,h;return{setters:[function(t){i=t.cclegacy,e=t.tween},function(t){s=t.GRoot},function(t){a=t.updater,h=t.default}],execute:function(){i._RF.push({},"5837fK5rwxHbZQREZtKHKP7","uiCamera",void 0);t("default",function(){function t(t){this.offset_x=0,this.offset_y=0,this.target_x=0,this.target_y=0,this.x=0,this.y=0,this.rotation=0,this.target_rotation=0,this.zoom_rate=1,this.target_zoom_rate=1,this.parent=void 0,this.lerp_rate=.05,this.shake_max_offset=5,this.shaking=!1,this.tweener=void 0,this.pivot_offset_x=0,this.pivot_offset_y=0,this.last_state=void 0,this.bindView(t)}var i=t.prototype;return i.bindView=function(t){this.parent=t},i.enableUpdate=function(){var t=this;a((function(i){t.update()}))},i.to_target_state=function(t,i,e,a){this.last_state={cx:t,cy:i,s:e,lerp_rate:a},this.lerp_rate=a;var h=s.inst.height/1334,r=s.inst.width/750,o=Math.min(h,r),n=.5*(1334-s.inst.height),_=e*o,p=t*_-375,f=i*_-667;0==a?(this.lerp_rate=.1,this.move(-p,-f-n*(e*h)*.5),this.scale(_)):(this.pan(-p,-f-n*(e*h)*.5,!0),this.zoom(_,!0))},i.pan=function(t,i,e){void 0===e&&(e=!1),e?(this.target_x=t,this.target_y=i):(this.target_x+=t,this.target_y+=i)},i.clamp=function(){this.target_x=h.clamp(this.target_x,this.parent.width-this.parent.width*this.target_zoom_rate,0),this.target_y=h.clamp(this.target_y,this.parent.height-this.parent.height*this.target_zoom_rate,0)},i.move=function(t,i,e){void 0===e&&(e=!1),e?(this.x=t,this.y=i,this.target_x=t,this.target_y=i):(this.x+=t,this.y+=i,this.target_x+=t,this.target_y+=i)},i.zoom=function(t,i){void 0===i&&(i=!1),i?this.target_zoom_rate=t:this.target_zoom_rate*=t},i.scale=function(t){this.target_zoom_rate=t,this.zoom_rate=t},i.update=function(){this.lerp_rate>0&&(this.x=this.x+(this.target_x-this.x)*this.lerp_rate,this.y=this.y+(this.target_y-this.y)*this.lerp_rate,this.rotation=this.rotation+(this.target_rotation-this.rotation)*this.lerp_rate,this.zoom_rate=this.zoom_rate+(this.target_zoom_rate-this.zoom_rate)*this.lerp_rate),this.apply()},i.apply=function(){this.parent.rotation=this.rotation,this.parent.scaleX=this.zoom_rate,this.parent.scaleY=this.zoom_rate,this.parent.x=this.x+this.offset_x+this.pivot_offset_x,this.parent.y=this.y+this.offset_y+this.pivot_offset_y},i.shake=function(t,i){var e;(void 0===t&&(t=2),void 0===i&&(i=30),this.shaking)&&(null==(e=this.tweener)||e.stop());this.shake_max_offset=i,this.shake_tween(t)},i.shake_tween=function(t){var i=this;void 0===t&&(t=1),this.tweener=e(this).to(t,{},{onUpdate:function(t,e){var s=i.shake_max_offset*(1-e);i.offset_x=-s+Math.random()*s*2,i.offset_y=-s+Math.random()*s*2}}).call((function(){i.offset_x=0,i.offset_y=0,i.shaking=!1,i.tweener=null})).start()},i.zoom_by_pivot=function(t,i,e,s){void 0===s&&(s=!1);var a=this.parent.scaleX,h=s?e:this.parent.scaleX*e;this.target_x=this.parent.x-(t-this.parent.x)*(h-a)/a,this.target_y=this.parent.y-(i-this.parent.y)*(h-a)/a,this.target_zoom_rate=h,this.update()},i.screen_to_world=function(t,i,e){return{x:(t-this.parent.x)/(e||this.parent.scaleX),y:(i-this.parent.y)/(e||this.parent.scaleY)}},i.world_to_screen=function(t,i,e){return{x:t*(e||this.parent.scaleX)+this.parent.x,y:i*(e||this.parent.scaleY)+this.parent.y}},i.get_screen_rect=function(){var t=this.screen_to_world(0,0),i=this.screen_to_world(this.parent.width,this.parent.height);return{left:t.x,right:i.x,top:t.y,bot:i.y}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/uiCamera2.ts",["cc","./fairygui.mjs","./util2.ts"],(function(t){var i,e,s,a,h;return{setters:[function(t){i=t.cclegacy,e=t.tween},function(t){s=t.GRoot},function(t){a=t.updater,h=t.default}],execute:function(){i._RF.push({},"e2ab8ocrlxKULn5Zx//oxzq","uiCamera",void 0);t("default",function(){function t(t){this.offset_x=0,this.offset_y=0,this.target_x=0,this.target_y=0,this.x=0,this.y=0,this.rotation=0,this.target_rotation=0,this.zoom_rate=1,this.target_zoom_rate=1,this.parent=void 0,this.lerp_rate=.05,this.shake_max_offset=5,this.shaking=!1,this.tweener=void 0,this.pivot_offset_x=0,this.pivot_offset_y=0,this.last_state=void 0,this.bindView(t)}var i=t.prototype;return i.bindView=function(t){this.parent=t},i.enableUpdate=function(){var t=this;a((function(i){t.update()}))},i.to_target_state=function(t,i,e,a){this.last_state={cx:t,cy:i,s:e,lerp_rate:a},this.lerp_rate=a;var h=s.inst.height/1334,r=s.inst.width/750,o=Math.min(h,r),n=.5*(1334-s.inst.height),_=e*o,p=t*_-375,f=i*_-667;0==a?(this.lerp_rate=.1,this.move(-p,-f-n*(e*h)*.5),this.scale(_)):(this.pan(-p,-f-n*(e*h)*.5,!0),this.zoom(_,!0))},i.pan=function(t,i,e){void 0===e&&(e=!1),e?(this.target_x=t,this.target_y=i):(this.target_x+=t,this.target_y+=i)},i.clamp=function(){this.target_x=h.clamp(this.target_x,this.parent.width-this.parent.width*this.target_zoom_rate,0),this.target_y=h.clamp(this.target_y,this.parent.height-this.parent.height*this.target_zoom_rate,0)},i.move=function(t,i,e){void 0===e&&(e=!1),e?(this.x=t,this.y=i,this.target_x=t,this.target_y=i):(this.x+=t,this.y+=i,this.target_x+=t,this.target_y+=i)},i.zoom=function(t,i){void 0===i&&(i=!1),i?this.target_zoom_rate=t:this.target_zoom_rate*=t},i.scale=function(t){this.target_zoom_rate=t,this.zoom_rate=t},i.update=function(){this.lerp_rate>0&&(this.x=this.x+(this.target_x-this.x)*this.lerp_rate,this.y=this.y+(this.target_y-this.y)*this.lerp_rate,this.rotation=this.rotation+(this.target_rotation-this.rotation)*this.lerp_rate,this.zoom_rate=this.zoom_rate+(this.target_zoom_rate-this.zoom_rate)*this.lerp_rate),this.apply()},i.apply=function(){this.parent.rotation=this.rotation,this.parent.scaleX=this.zoom_rate,this.parent.scaleY=this.zoom_rate,this.parent.x=this.x+this.offset_x+this.pivot_offset_x,this.parent.y=this.y+this.offset_y+this.pivot_offset_y},i.shake=function(t,i){var e;(void 0===t&&(t=2),void 0===i&&(i=30),this.shaking)&&(null==(e=this.tweener)||e.stop());this.shake_max_offset=i,this.shake_tween(t)},i.shake_tween=function(t){var i=this;void 0===t&&(t=1),this.tweener=e(this).to(t,{},{onUpdate:function(t,e){var s=i.shake_max_offset*(1-e);i.offset_x=-s+Math.random()*s*2,i.offset_y=-s+Math.random()*s*2}}).call((function(){i.offset_x=0,i.offset_y=0,i.shaking=!1,i.tweener=null})).start()},i.zoom_by_pivot=function(t,i,e,s){void 0===s&&(s=!1);var a=this.parent.scaleX,h=s?e:this.parent.scaleX*e;this.target_x=this.parent.x-(t-this.parent.x)*(h-a)/a,this.target_y=this.parent.y-(i-this.parent.y)*(h-a)/a,this.target_zoom_rate=h,this.update()},i.screen_to_world=function(t,i,e){return{x:(t-this.parent.x)/(e||this.parent.scaleX),y:(i-this.parent.y)/(e||this.parent.scaleY)}},i.world_to_screen=function(t,i,e){return{x:t*(e||this.parent.scaleX)+this.parent.x,y:i*(e||this.parent.scaleY)+this.parent.y}},i.get_screen_rect=function(){var t=this.screen_to_world(0,0),i=this.screen_to_world(this.parent.width,this.parent.height);return{left:t.x,right:i.x,top:t.y,bot:i.y}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/uiCamera22.ts",["cc","./fairygui.mjs","./util22.ts"],(function(t){var i,e,s,a,h;return{setters:[function(t){i=t.cclegacy,e=t.tween},function(t){s=t.GRoot},function(t){a=t.updater,h=t.default}],execute:function(){i._RF.push({},"64192IX7p5DgZC5fdqJAglg","uiCamera2",void 0);t("default",function(){function t(t){this.offset_x=0,this.offset_y=0,this.target_x=0,this.target_y=0,this.x=0,this.y=0,this.rotation=0,this.target_rotation=0,this.zoom_rate=1,this.target_zoom_rate=1,this.parent=void 0,this.lerp_rate=.05,this.shake_max_offset=5,this.shaking=!1,this.tweener=void 0,this.pivot_offset_x=0,this.pivot_offset_y=0,this.last_state=void 0,this.bindView(t)}var i=t.prototype;return i.bindView=function(t){this.parent=t},i.enableUpdate=function(){var t=this;a((function(i){t.update()}))},i.to_target_state=function(t,i,e,a){this.last_state={cx:t,cy:i,s:e,lerp_rate:a},this.lerp_rate=a;var h=s.inst.height/1334,r=s.inst.width/750,o=Math.min(h,r),n=.5*(1334-s.inst.height),_=e*o,p=t*_-375,f=i*_-667;0==a?(this.lerp_rate=.1,this.move(-p,-f-n*(e*h)*.5),this.scale(_)):(this.pan(-p,-f-n*(e*h)*.5,!0),this.zoom(_,!0))},i.pan=function(t,i,e){void 0===e&&(e=!1),e?(this.target_x=t,this.target_y=i):(this.target_x+=t,this.target_y+=i)},i.clamp=function(){this.target_x=h.clamp(this.target_x,this.parent.width-this.parent.width*this.target_zoom_rate,0),this.target_y=h.clamp(this.target_y,this.parent.height-this.parent.height*this.target_zoom_rate,0)},i.move=function(t,i,e){void 0===e&&(e=!1),e?(this.x=t,this.y=i,this.target_x=t,this.target_y=i):(this.x+=t,this.y+=i,this.target_x+=t,this.target_y+=i)},i.zoom=function(t,i){void 0===i&&(i=!1),i?this.target_zoom_rate=t:this.target_zoom_rate*=t},i.scale=function(t){this.target_zoom_rate=t,this.zoom_rate=t},i.update=function(){this.lerp_rate>0&&(this.x=this.x+(this.target_x-this.x)*this.lerp_rate,this.y=this.y+(this.target_y-this.y)*this.lerp_rate,this.rotation=this.rotation+(this.target_rotation-this.rotation)*this.lerp_rate,this.zoom_rate=this.zoom_rate+(this.target_zoom_rate-this.zoom_rate)*this.lerp_rate),this.apply()},i.apply=function(){this.parent.rotation=this.rotation,this.parent.scaleX=this.zoom_rate,this.parent.scaleY=this.zoom_rate,this.parent.x=this.x+this.offset_x+this.pivot_offset_x,this.parent.y=this.y+this.offset_y+this.pivot_offset_y},i.shake=function(t,i){var e;(void 0===t&&(t=2),void 0===i&&(i=30),this.shaking)&&(null==(e=this.tweener)||e.stop());this.shake_max_offset=i,this.shake_tween(t)},i.shake_tween=function(t){var i=this;void 0===t&&(t=1),this.tweener=e(this).to(t,{},{onUpdate:function(t,e){var s=i.shake_max_offset*(1-e);i.offset_x=-s+Math.random()*s*2,i.offset_y=-s+Math.random()*s*2}}).call((function(){i.offset_x=0,i.offset_y=0,i.shaking=!1,i.tweener=null})).start()},i.zoom_by_pivot=function(t,i,e,s){void 0===s&&(s=!1);var a=this.parent.scaleX,h=s?e:this.parent.scaleX*e;this.target_x=this.parent.x-(t-this.parent.x)*(h-a)/a,this.target_y=this.parent.y-(i-this.parent.y)*(h-a)/a,this.target_zoom_rate=h,this.update()},i.screen_to_world=function(t,i,e){return{x:(t-this.parent.x)/(e||this.parent.scaleX),y:(i-this.parent.y)/(e||this.parent.scaleY)}},i.world_to_screen=function(t,i,e){return{x:t*(e||this.parent.scaleX)+this.parent.x,y:i*(e||this.parent.scaleY)+this.parent.y}},i.get_screen_rect=function(){var t=this.screen_to_world(0,0),i=this.screen_to_world(this.parent.width,this.parent.height);return{left:t.x,right:i.x,top:t.y,bot:i.y}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/uiCamera3.ts",["cc","./fairygui.mjs","./util3.ts"],(function(t){var i,e,s,a,h;return{setters:[function(t){i=t.cclegacy,e=t.tween},function(t){s=t.GRoot},function(t){a=t.updater,h=t.default}],execute:function(){i._RF.push({},"fea01uVPZhPWJOxYl8ImGGx","uiCamera",void 0);t("default",function(){function t(t){this.offset_x=0,this.offset_y=0,this.target_x=0,this.target_y=0,this.x=0,this.y=0,this.rotation=0,this.target_rotation=0,this.zoom_rate=1,this.target_zoom_rate=1,this.parent=void 0,this.lerp_rate=.05,this.shake_max_offset=5,this.shaking=!1,this.tweener=void 0,this.pivot_offset_x=0,this.pivot_offset_y=0,this.last_state=void 0,this.bindView(t)}var i=t.prototype;return i.bindView=function(t){this.parent=t},i.enableUpdate=function(){var t=this;a((function(i){t.update()}))},i.to_target_state=function(t,i,e,a){this.last_state={cx:t,cy:i,s:e,lerp_rate:a},this.lerp_rate=a;var h=s.inst.height/1334,r=s.inst.width/750,o=Math.min(h,r),n=.5*(1334-s.inst.height),_=e*o,p=t*_-375,f=i*_-667;0==a?(this.lerp_rate=.1,this.move(-p,-f-n*(e*h)*.5),this.scale(_)):(this.pan(-p,-f-n*(e*h)*.5,!0),this.zoom(_,!0))},i.pan=function(t,i,e){void 0===e&&(e=!1),e?(this.target_x=t,this.target_y=i):(this.target_x+=t,this.target_y+=i)},i.clamp=function(){this.target_x=h.clamp(this.target_x,this.parent.width-this.parent.width*this.target_zoom_rate,0),this.target_y=h.clamp(this.target_y,this.parent.height-this.parent.height*this.target_zoom_rate,0)},i.move=function(t,i,e){void 0===e&&(e=!1),e?(this.x=t,this.y=i,this.target_x=t,this.target_y=i):(this.x+=t,this.y+=i,this.target_x+=t,this.target_y+=i)},i.zoom=function(t,i){void 0===i&&(i=!1),i?this.target_zoom_rate=t:this.target_zoom_rate*=t},i.scale=function(t){this.target_zoom_rate=t,this.zoom_rate=t},i.update=function(){this.lerp_rate>0&&(this.x=this.x+(this.target_x-this.x)*this.lerp_rate,this.y=this.y+(this.target_y-this.y)*this.lerp_rate,this.rotation=this.rotation+(this.target_rotation-this.rotation)*this.lerp_rate,this.zoom_rate=this.zoom_rate+(this.target_zoom_rate-this.zoom_rate)*this.lerp_rate),this.apply()},i.apply=function(){this.parent.rotation=this.rotation,this.parent.scaleX=this.zoom_rate,this.parent.scaleY=this.zoom_rate,this.parent.x=this.x+this.offset_x+this.pivot_offset_x,this.parent.y=this.y+this.offset_y+this.pivot_offset_y},i.shake=function(t,i){var e;(void 0===t&&(t=2),void 0===i&&(i=30),this.shaking)&&(null==(e=this.tweener)||e.stop());this.shake_max_offset=i,this.shake_tween(t)},i.shake_tween=function(t){var i=this;void 0===t&&(t=1),this.tweener=e(this).to(t,{},{onUpdate:function(t,e){var s=i.shake_max_offset*(1-e);i.offset_x=-s+Math.random()*s*2,i.offset_y=-s+Math.random()*s*2}}).call((function(){i.offset_x=0,i.offset_y=0,i.shaking=!1,i.tweener=null})).start()},i.zoom_by_pivot=function(t,i,e,s){void 0===s&&(s=!1);var a=this.parent.scaleX,h=s?e:this.parent.scaleX*e;this.target_x=this.parent.x-(t-this.parent.x)*(h-a)/a,this.target_y=this.parent.y-(i-this.parent.y)*(h-a)/a,this.target_zoom_rate=h,this.update()},i.screen_to_world=function(t,i,e){return{x:(t-this.parent.x)/(e||this.parent.scaleX),y:(i-this.parent.y)/(e||this.parent.scaleY)}},i.world_to_screen=function(t,i,e){return{x:t*(e||this.parent.scaleX)+this.parent.x,y:i*(e||this.parent.scaleY)+this.parent.y}},i.get_screen_rect=function(){var t=this.screen_to_world(0,0),i=this.screen_to_world(this.parent.width,this.parent.height);return{left:t.x,right:i.x,top:t.y,bot:i.y}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UIDefines.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"65c48okgrBBiJwqTf6Numg1","UIDefines",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIExt.ts",["cc","./fairygui.mjs"],(function(){var e,t;return{setters:[function(t){e=t.cclegacy},function(e){t=e.GComponent}],execute:function(){e._RF.push({},"6f911r+HClNXpintKtIsYXm","UIExt",void 0),Object.defineProperty(t.prototype,"setIcon",{value:function(e,t){void 0===t&&(t="resources");var n=this.getChild("icon");n&&(n.bundle=t,n.url=e)},writable:!0,configurable:!0,enumerable:!1}),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtils.ts","./MathUtil.ts","./Vec3Util.ts","./YT.ts","./GameConsts.ts","./fairygui.mjs"],(function(e){var t,n,i,r,o,a,u,l,c,s,f,d,p,g,m,h,v,x,S,F;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e.sp,o=e.isValid,a=e.Texture2D,u=e.SpriteFrame,l=e.Tween,c=e.tween,s=e.v2,f=e.Prefab,d=e.instantiate,p=e.easing,g=e.math},function(e){m=e.GameUtils},function(e){h=e.MathUtil},function(e){v=e.Vec3Util},function(e){x=e.YT},function(e){S=e.GameConsts},function(e){F=e.GRoot}],execute:function(){i._RF.push({},"20a39Iw0olKdZpONpF/hxNj","UIHelper",void 0);var T=e("UIHelper",function(){function e(){}return e.loadSpine=function(e,t,n){void 0===n&&(n=null),x.res.load(e,t,r.SkeletonData,null,(function(e){n&&n(e)}))},e.loadSpineSync=function(){var e=t(n().mark((function e(t,i,o){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){x.res.load(t,i,r.SkeletonData,null,(function(t){e(t)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),e.changeSpriteFrame=function(e,t,n,i){void 0===i&&(i=null),this.getSpriteFrame(e,t,(function(e){o(n)&&(n.spriteFrame=e),i&&i()}))},e.setRemoteSpriteFrame=function(e,t){x.res.loadRemote(e,(function(e,n){if(!e&&o(t)){var i=new a;i.image=n;var r=new u;r.texture=i,t.spriteFrame=r}}))},e.getSpriteFrame=function(e,t,n){void 0===n&&(n=null),x.res.load(e,t,u,null,(function(e){n&&n(e)}))},e.getTexture=function(e,t,n){x.res.load(e,t,a,null,(function(e){n&&n(e)}))},e.getTimeString=function(e,t,n,i){var r="",o=Math.floor(e/86400);o>=1&&t&S.TimeBit.D&&(r+=o+x.language.getLangByID(100),e%=86400);var a=Math.floor(e/3600);if(t&S.TimeBit.H&&(r+=n?h.prefixInteger(a,2):a,e%=3600),i)return r+x.language.getLangByID(101);var u=Math.floor(e/60);t&S.TimeBit.M&&((t&S.TimeBit.H)>0&&(r+=":"),r+=n?h.prefixInteger(u,2):u.toString(),e%=60);t&S.TimeBit.S&&(((t&S.TimeBit.H)>0||(t&S.TimeBit.M)>0)&&(r+=":"),r+=n?h.prefixInteger(e,2):e.toString());return r},e.showTxtBySingleWord=function(e,t,n,i){var r=t.length,o=n/r,a=0;l.stopAllByTarget(e.node);var u=c(e.node).call((function(){a==r-1&&(l.stopAllByTarget(e.node),i&&i()),e.string=t.slice(0,a+1),a++})),s=c(e.node).delay(o);c(e.node).sequence(u,s).repeatForever().start()},e.formatRichTextOutline=function(e,t){return void 0===t&&(t=2),this.formatRichTextOutlineWithColor(e,"#000000",t)},e.formatRichTextOutlineWithColor=function(e,t,n){return void 0===n&&(n=2),"<outline color="+t+" width="+n+">"+e+"</outline>"},e.RegistAbridgeNumber=function(e,t,n){for(var i,r=0;r<e;++r)i=Math.pow(10,3*(r+1)),this.AbridgeNumbers.unshift({value:i,abridgeValue:i,fixNum:t,txt:n+r}),this._powMap[r]=Math.pow(10,r)},e.getShortNum=function(e,t){void 0===t&&(t=0);var n=this.AbridgeNumbers,i=e;if(i>=0&&!isNaN(i)){for(var r=!1,o=0;o<n.length;++o){if(i>=n[o].value){r=!0;for(var a=n[o].abridgeValue,u=1,l=t||n[o].fixNum,c=l;c>0;)a/=10,u*=10,c-=1;i=Math.floor(i/a)/u,c=l;for(;c>0&&!(i>=this._powMap[c]);)c--;l==c&&(i=Math.floor(i)),i=+(i=Number(i.toFixed(l-c)))+x.language.words(n[o].txt);break}}r||"number"!=typeof i||(i=i.toFixed(t))}return""+i},e.changeFGUISpriteFrame=function(e,t,n,i){n.bundle=t,n.url=e,null==i||i()},e.changeFGUISpriteFrameRemote=function(e,t,n){x.res.loadRemote(e,(function(e,i){if(!e){var r=new a;r.image=i;var l=new u;l.texture=r,o(t._node)&&(t.clearContent(),t.onExternalLoadSuccess(l),t.updateGear(7)),n&&n()}}))},e.bindFGUIRTT=function(e,t){e.clearContent();var n=new u;n.texture=t,e.onExternalLoadSuccess(n),e.updateGear(7),e._content.updateMaterial()},e.changeFGUISpine=function(e,t,n,i,r,a){void 0===r&&(r=!0),this.loadSpine(e,t,(function(e){o(n._node)&&(n.clearContent(),n.setSpine(e,v.v2_half,!1),n.updateGear(7),n._loop=r,n._animationName=i,n.onChangeSpine()),a&&a()}))},e.addPrefabToFGUI=function(e,t,n,i,r){void 0===r&&(r=s(.5,.5)),x.res.load(e,t,f,null,(function(e){if(o(n._container)){if(n._container.destroyAllChildren(),e){var t=d(e);n._container.addChild(t),m.setLayer(t,F.inst.node.layer),r&&t.setPosition(r.x*n.width,-r.y*n.height),i&&i(t)}}else i&&i(null)}))},e.scrollNumberText_FGUI=function(e,t,n,i){e.text=""+t,c(e).to(i,null,{easing:p.linear,onUpdate:function(i,r){e.text=""+Math.floor(g.lerp(t,n,r))}}).start()},e.setFGUICompIcon=function(e,t,n){var i=e.getChild("icon");i&&this.changeFGUISpriteFrame(t,n,i)},e}());T.AbridgeNumbers=[],T._powMap={},i._RF.pop()}}}));

System.register("chunks:///_virtual/uiJoystick.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"4246fLb9VxHMblJBjqzC4Cr","uiJoystick",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/uiJoystick2.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"9df5a7vXltNLZQqRWad5ysF","uiJoystick",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/uiJoystick22.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"5c7dbgfFi5Hkb8iko0x5RCj","uiJoystick2",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/UILayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./BattleState.ts","./ExpLayerCmp.ts","./RemainLayerCmp.ts","./WaveLayerCmp.ts"],(function(e){var t,i,n,r,o,a,l,s,p,u,c,y,b,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Label,p=e.Button,u=e.Component},function(e){c=e.YT},function(e){y=e.BattleState},function(e){b=e.ExpLayerCmp},function(e){m=e.RemainLayerCmp},function(e){g=e.WaveLayerCmp}],execute:function(){var _,d,f,h,C,v,L,w,P,N,x,z,B,S,k,I,T;a._RF.push({},"8bee7l6hTxGOoXQvbrb3vZj","UILayer",void 0);var F=l.ccclass,R=l.property;e("UILayer",(_=F("UILayer"),d=R({type:b,displayName:"经验组件",visible:!0}),f=R({type:g,displayName:"波次组件",visible:!0}),h=R({type:m,displayName:"遗物组件",visible:!0}),C=R({type:s,displayName:"历史记录文本",visible:!0}),v=R({type:s,displayName:"金币数量",visible:!0}),L=R({type:s,displayName:"木材数量",visible:!0}),w=R({type:p,displayName:"设置按钮",visible:!0}),_((x=t((N=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_expCmp",x,r(t)),n(t,"_waveCmp",z,r(t)),n(t,"_remainCmp",B,r(t)),n(t,"_historyScore",S,r(t)),n(t,"_goldLab",k,r(t)),n(t,"_treeLab",I,r(t)),n(t,"_settingBtn",T,r(t)),t._treePos=void 0,t._goldPos=void 0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this._settingBtn.node.on(p.EventType.CLICK,this._onSettingBtnClicked,this)},a.setHistoryView=function(e){this._historyScore.string=e},a.setGoldView=function(e){this._goldLab.string=e.toFixedNumberCN()},a.setTreeCntView=function(e){this._treeLab.string=e.toFixedNumberCN()},a._onSettingBtnClicked=function(){y.ins.pause(),c.audio.play(2),c.gui.showSetting((function(e){e?y.ins.enterHall(2):y.ins.resume()}))},o(t,[{key:"expCmp",get:function(){return this._expCmp}},{key:"waveCmp",get:function(){return this._waveCmp}},{key:"remainCmp",get:function(){return this._remainCmp}},{key:"treePos",get:function(){return this._treePos||(this._treePos=this._treeLab.node.getWorldPosition()),this._treePos}},{key:"goldPos",get:function(){return this._goldPos||(this._goldPos=this._goldLab.node.getWorldPosition()),this._goldPos}}]),t}(u)).prototype,"_expCmp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(N.prototype,"_waveCmp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(N.prototype,"_remainCmp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(N.prototype,"_historyScore",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(N.prototype,"_goldLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(N.prototype,"_treeLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(N.prototype,"_settingBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=N))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./LanguageData.ts","./CustomSafeArea.ts","./YT.ts","./ToastView.ts","./AlertView.ts","./LoadingView.ts","./WarningView.ts","./SettingView.ts","./SubLevelsView.ts","./WindowBase2.ts"],(function(t){var n,i,e,o,a,s,r,u,c,h,d,l,f,g,_,p,v,w,C,I,m,M,b;return{setters:[function(t){n=t.createClass,i=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.Vec3,s=t.screen,r=t.Camera,u=t.BlockInputEvents},function(t){c=t.GComponent,h=t.GRoot,d=t.UIPackage,l=t.UIConfig},function(t){f=t.LanguageData,g=t.ELanguage},function(t){_=t.CustomSafeArea},function(t){p=t.YT},function(t){v=t.ToastView},function(t){w=t.AlertView},function(t){C=t.LoadingView},function(t){I=t.WarningView},function(t){m=t.SettingView},function(t){M=t.SubLevelsView},function(t){b=t.default}],execute:function(){o._RF.push({},"d6c6eZZS6BCbqf9/ttMQXFn","UIManager",void 0);var S=t("EUILayer",function(t){return t[t.Main=0]="Main",t[t.UI=1]="UI",t[t.Pop=2]="Pop",t[t.Tips=3]="Tips",t[t.Guide=4]="Guide",t[t.Load=5]="Load",t[t.End=6]="End",t}({})),k=t("UIManager",function(){function t(t){this._safeArea=void 0,this._block=void 0,this._parents=void 0,this._uiMap=void 0,this._camera=void 0,this._v3=void 0,this._toast=null,this._clickAudio=0,this._parents={},this._uiMap={},this._v3=new a,this._safeArea=t.getComponentInChildren(_),this._camera=t.getComponentInChildren(r),f.current!=g.CN&&(d.branch=f.current,console.log("切换为语言",d.branch));var n=h.create();l.globalModalWaiting="ui://Main/Loading",l.buttonSound="ui://Main/click",n.node.setSiblingIndex(1),n.node.name="GRoot",globalThis.GRoot=n,this._block=t.getChildByName("lockScreen").getComponent(u);for(var i,e=h.inst,o=S.Main;o<S.End;++o)i=this._parents[o]=new c,e.addChild(i);this.updateAllUI()}var o=t.prototype;return o.getParent=function(t){var n=this._parents[t];if(!n){n=new c,this._parents[t]=n;var i=h.inst;i.numChildren>=t?i.addChildAt(n,t):i.addChild(n)}return n},o.getWindow=function(t){return void 0===t&&(t=b),h.inst._children.find((function(n){return n instanceof t}))},o.addUI=function(t,n){this.getParent(n).addChild(t.ui),t.setSize(this._safeArea.top),this._uiMap[t.uiid]=t},o.removeUI=function(t){delete this._uiMap[t.uiid]},o.getUI=function(t){return this._uiMap[t]},o.getUIComponent=function(t){var n=this._uiMap[t];return n?n.ui:null},o.toast=function(t){var n;n="number"==typeof t?f.getWord(t):t,this._toast||(v.instance.show(),this._toast=v.instance),this._toast.addToast(n)},o.toastCoin=function(){var t=i(e().mark((function t(n,i,o,a,s,r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=null),void 0===a&&(a=30),void 0===s&&(s=1),void 0===r&&(r=100),this._toast||(v.instance.show(),this._toast=v.instance),t.next=7,this._toast.FlyCoins(n,i,o,a,s,r);case 7:case"end":return t.stop()}}),t,this)})));return function(n,i,e,o,a,s){return t.apply(this,arguments)}}(),o.alert=function(t){var n;n="number"==typeof t?f.getWord(t):t,w.instance.Alert(n)},o.alertWarning=function(t){var n;n="number"==typeof t?f.getWord(t):t,I.instance.show(n)},o.lockScreen=function(){this._block.enabled=!0,h.inst.showModalWait()},o.unlockScreen=function(){this._block.enabled=!1,h.inst.closeModalWait()},o.showLoading=function(t,n){void 0===t&&(t="加载中..."),void 0===n&&(n=!0),C.instance.show([t,n])},o.hideLoading=function(){C.instance.hide()},o.updateAllUI=function(){h.inst.onWinResize();var t=this._safeArea.top;for(var n in this._uiMap)this._uiMap[n].setSize(t)},o.screenToWorld=function(t,n,i){this.fguiPosToCCCPos(t,n,this._v3);var e=i||new a;return this._camera.screenToWorld(this._v3,e),e},o.worldToScreen=function(t,n){var i=n||new a;return this._camera.worldToScreen(t,this._v3),this.cccPosTofguiPos(this._v3,i),i},o.fguiPosToCCCPos=function(t,n,i){var e=i||new a,o=s.windowSize,r=h.inst.width,u=h.inst.height,c=t/r*o.width,d=(1-n/u)*o.height;return e.set(c,d,0),e},o.cccPosTofguiPos=function(t,n){var i=n||new a,e=s.windowSize,o=h.inst.width,r=h.inst.height,u=t.x,c=t.y,d=u*o/e.width,l=r-c*r/e.height;return i.set(d,l-this.top,0),i},o.setClickAudio=function(t){this._clickAudio=t},o.playClickAudio=function(){this._clickAudio>0&&p.audio.play(this._clickAudio)},t.UIMultiLanguage=function(n){if(n&&n._children)for(var i=0;i<n._children.length;i++){var e=n._children[i];if(e.title&&isNaN(e.title)&&e.title.startsWith("$")){var o=parseInt(e.title.substring(1)),a=p.language.getLangByID(o);e.title=a}else if(e.text&&isNaN(e.text)&&e.text.startsWith("$")){var s=parseInt(e.text.substring(1)),r=p.language.getLangByID(s);e.text=r}t.UIMultiLanguage(e)}},o.showSetting=function(t){m.instance.show(t)},o.showSubLevels=function(t){M.instance.show(t)},n(t,[{key:"UICamera",get:function(){return this._camera}},{key:"top",get:function(){return this._safeArea.top}}]),t}());globalThis.translateUI=k.UIMultiLanguage,o._RF.pop()}}}));

System.register("chunks:///_virtual/UIStatement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,o,r,l,s,a,c,u,h,I,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,l=n._decorator,s=n.Button,a=n.UITransform,c=n.Label,u=n.ScrollView,h=n.sys,I=n.game,m=n.Component}],execute:function(){var f,p,d,b,g,D,S,k,C,v,w,A,B,y,M,O,E,N,_,F,P,z,T;r._RF.push({},"bfa29X5v5lEnrh5+6qFUurb","UIStatement",void 0);var Y=l.ccclass,G=l.property;n("default",(f=Y("UIStatement"),p=G(s),d=G(s),b=G(s),g=G(s),D=G(a),S=G(s),k=G(s),C=G(a),v=G(c),w=G(u),f((y=t((B=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return t=n.call.apply(n,[this].concat(r))||this,i(t,"btnOk",y,o(t)),i(t,"btnOk1",M,o(t)),i(t,"BtnNo",O,o(t)),i(t,"BtnBack",E,o(t)),i(t,"view",N,o(t)),i(t,"BtnYS",_,o(t)),i(t,"BtnXY",F,o(t)),i(t,"content",P,o(t)),i(t,"title",z,o(t)),i(t,"scroll",T,o(t)),t.OnConfirm=void 0,t.isFirstShow=!0,t.gameName="",t}e(t,n);var r=t.prototype;return r.start=function(){this.BtnXY.node.on("click",this.showXy,this),this.BtnYS.node.on("click",this.showYs,this),this.BtnBack.node.on("click",this.onClickBack,this),this.btnOk.node.on("click",this.onClickOk,this),this.btnOk1.node.on("click",this.onClickClose,this),this.BtnNo.node.on("click",this.onClickNo,this),this.initBtns()},r.initBtns=function(){this.btnOk.node.active=this.isFirstShow,this.btnOk1.node.active=!this.isFirstShow,this.BtnNo.node.active=this.isFirstShow},r.onClickClose=function(){this.node.active=!1},r.SetName=function(n){this.gameName=n},r.onClickOk=function(){h.localStorage.setItem("statement_signed","1"),console.log(111),this.node.active=!1,this.OnConfirm?(this.OnConfirm(),this.OnConfirm=null):(this.node.active=!1,I.emit("StartGame"))},r.Show=function(){this.isFirstShow=!1,this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1)},r.onClickNo=function(){switch(console.log("no"),h.platform){case h.Platform.IOS:I.end();break;case h.Platform.OPPO_MINI_GAME:case h.Platform.VIVO_MINI_GAME:window.qg.exitApplication({});break;default:I.end()}},r.onClickBack=function(){this.view.node.active=!1},r.showYs=function(){this.scroll.scrollToTop(),this.view.node.active=!0,this.title.string=this.gameName+" 隐私政策";var n=["\n更新时间：2023年4月23日\n生效时间：2023年4月23日\n \n欢迎您使用"+this.gameName+"游戏。\n我们根据《中华人民共和国个人信息保护法》《中华人民共和国网络安全法》《信息安全技术个人信息安全规范》《常见类型移动互联网应用程序必要个人信息范围规定》以及其他相关法律法规和技术规范，草拟了《"+this.gameName+"隐私政策》（以下简称“本《隐私政策》”）的相关内容。如您对本《隐私政策》内容有任何异议或疑问，您可通过本《隐私政策》第九条“联系方式”与我们取得联系。\n导言\n请您在使用/继续使用本游戏前仔细阅读本《隐私政策》（未成年人应当在其法定监护人陪同下阅读）。如您不同意本政策内容，将可能导致本游戏无法正常运行，或无法达到我们拟达到的服务效果，您应当停止使用本游戏。如您在弹窗页面中勾选“同意并进入”，即表示您充分理解并同意本《隐私政策》的全部内容。\n本政策将帮助您了解以下内容：\n一、我们可能收集的个人信息\n二、我们如何使用您的个人信息\n三、我们如何储存和保护您的个人信息\n四、我们如何对外提供信息\n五、我们如何使用Cookies及相关技术\n六、我们如何保护未成年人的权益\n七、您对个人信息享有的控制权\n八、本《隐私政策》如何更新\n九、联系方式\n \n一、我们可能收集的个人信息\n您在使用本游戏时，我们可能需要收集和使用您的一些个人信息，我们收集和使用的个人信息包括两种：第一种：本游戏的核心功能所必要的信息。这类信息为本游戏正常运行的必备信息；第二种：本游戏附加业务功能可能收集的信息。这类信息用以支撑您在游戏中希望体验的附加功能，如您拒绝提供，将会导致特定附加功能无法实现或无法达到我们拟达到的效果，但并不会影响本游戏核心功能的正常使用。\n我们需要特别提醒您的是：在本游戏中，为了向您提供更全面的服务，游戏中内嵌了第三方的软件工具开发包（SDK）或应用程序接口（API），您在本游戏中使用该等第三方提供的服务时，您同意由其直接收集和处理您的个人信息，我们会努力审查该第三方的业务准入资质并努力要求其合法合规性与安全性。为了最大程度保障您的信息安全，我们强烈建议您在使用由第三方服务商提供的服务前先行查看其隐私条款。为保障您的合法权益，如您发现第三方服务商提供的服务存在风险时，建议您立即终止相关操作并及时与我们取得联系。具体内容请详见附件一：《与第三方共享个人信息清单》。\n•当您使用账号注册功能时，您需要按照我们的指引完成一系列注册程序。在此过程中，您需要向我们提供以下信息：手机号码、验证码匹配结果。我们收集这些信息是用于完成账号注册程序、为您持续稳定提供服务，并保护您的账号安全。您应知悉，手机号码和验证码匹配结果属于您的个人敏感信息，请您谨慎考虑是否提供。我们亦会高度对待和谨慎处理您的手机号码及短信信息（包括高强度加密保护）。我们收集该类信息是基于法律法规的相关要求，如您拒绝提供可能导致您无法注册账号。如您通过渠道专区进入游戏，您亦可注册、登录渠道账号。渠道账号的个人信息保护由第三方渠道负责，不受本《隐私政策》约束，详情请见文末附件一：《第三方SDK及类似应用程序说明》。\n•当您运行本游戏时，为满足相关法律法规政策及相关主管部门的需求，确保用户身份真实性，实现反欺诈等风险控制、保障系统和服务安全，您需进行实名认证。我们会在获得您的同意或您主动提供的情况下，收集您的实名身份信息（包括姓名、身份证号）。您应知悉，实名身份信息属于敏感信息，我们亦会高度对待和谨慎处理您的实名身份信息（包括高强度加密保护）请您谨慎考虑是否提供。如您拒绝提供个人身份信息可能会导致您无法使用我们的游戏服务，或在使用游戏服务过程中受到相应的限制。为实现实名认证的目的，您同意我们可以自行或委托第三方向有关机构提供、查询、核对您的前述身份信息。\n•当您运行本游戏时，为了识别账号异常状态，维护基础功能的正常运行，提升您的游戏体验，我们需要收集您所使用的设备信息，包括设备名称、设备机型、操作系统及版本、客户端版本、设备分辨率、包名、设备设置、设备标识符（包括MAC地址、IMEI、IMSI、Android ID、IDFA、OAID、ICCID、MEID、GUID）、WLAN接入点（包括SSID、BSSID）、硬件序列号、IP 地址、蓝牙信息。\n•当您复制游戏内ID进行分享时，我们需要在设备本地访问您的剪切板读取您的游戏ID，便于您进行问题反馈。我们仅会读取与我们服务相关的信息，且不会存储该信息。我们不会收集您剪切板中的其他无关信息。\n您理解并同意，当您为安卓用户时，部分单项服务可能需要获取您设备中的特定权限，以实现这些权限所涉及信息的收集和使用，具体如下：\n•我们会获取您的存储权限，以便使您可以下载并保存内容，或者通过缓存来实现相应服务功能；\n•我们会获取您的GET_TASKS（设备运行进程信息）权限，以便检测模拟器的一些特征和用于推送唤醒功能；\n•我们会获取您的悬浮窗权限，以便用于查证游戏崩溃报错问题；\n如果您拒绝授权将无法使用对应功能，但不影响您正常使用游戏的其他功能，您也可以随时取消相关权限授权。\n•根据相关法律法规及国家标准，以下情形中，我们可能会收集、使用您的相关个人信息且无需征求您的授权同意：\n","\n1.与国家安全、国防安全等国家利益直接相关的；与公共安全、公共卫生、公共知情等重大公共利益直接相关的；\n2.与犯罪侦查、起诉、审判和判决执行等直接相关的；\n3.出于维护用户或其他个人的生命、财产、声誉等重大合法权益但又很难得到本人同意的；\n4.所收集的个人信息是用户自行向社会公众公开的；\n5.从合法公开披露的信息中收集个人信息的，如合法的新闻报道、政府信息公开等渠道；\n6.根据用户要求签订和履行合同所必需的；\n7.用于维护所提供的产品或服务的安全稳定运行所必需的，例如发现、处置产品或服务的故障；\n8.为开展合法的新闻报道所必需的；\n9.出于公共利益开展统计或学术研究所必要，且其对外提供学术研究或描述的结果时，对结果中所包含的个人信息进行去标识化处理的；\n10.与我们履行法律法规规定的义务相关的；\n11.法律法规规定的其他情形。\n二、我们可能如何使用您的个人信息\n我们将严格遵守法律法规的规定以及与您的约定，按照本《隐私政策》及《用户协议》使用收集的信息。\n（一） 信息使用规则\n我们会按照如下规则使用本《隐私政策》第一条收集的信息：\n1.我们会根据收集的信息向您提供各项功能与服务，包括基础游戏功能、玩家互动功能、消费功能、执行软件验证、执行软件升级、网络同步等；\n2.我们会根据您使用产品的频率和情况、故障信息、性能信息等分析本游戏的运行情况，以确保服务的安全性，并优化我们的产品，提高我们的服务质量。我们不会将存储在分析软件中的信息与您提供的个人身份信息相结合。\n（二）信息使用规则的变动及再次同意\n我们将会在本《隐私政策》所涵盖的用途内使用收集到的信息。如我们拟使用的您的个人信息范围超出了本《隐私政策》所述范围，我们将在收集您的个人信息前，修改本《隐私政策》内容，并通过弹窗、推送通知等方式及时向您告知，并再次征得您的明示同意。\n三、我们如何储存和保护您的个人信息\n（一）个人信息的储存\n1.信息储存的方式和期限\n我们会通过安全的方式存储您的信息，包括本地存储（例如利用APP进行数据缓存）、数据库和服务器日志。我们只会在为实现服务目的所必需的时间内或法律法规规定的条件下存储您的个人信息。\n除非法律另有规定或您根据本《隐私政策》提出请求，我们将在游戏运营期间内保存您的个人信息。\n2.信息储存的地域\n我们会按照法律法规规定，将您的个人信息存储于中国境内。\n3.信息的删除\n当本游戏停止运营或根据本《隐私政策》我们不再保存您信息时，存储个人信息的电子档案将被永久删除，我们会采取合理措施确保个人信息不能被恢复。如根据法律规定我们应继续保存您的个人信息，这部分个人信息也将与其它类型信息隔离保存。\n（二）个人信息的保护\n1.信息安全\n在现有设备及技术条件下，我们一贯积极地采取技术与管理等合理措施保障您账号与个人信息的安全；我们将善意使用收集的信息，采取各项有效且必要的措施以保护您的隐私安全，并使用商业上合理的安全技术措施来保护您的隐私不被未经授权的访问、使用或泄漏。目前，我们采用业界领先的技术保护措施。我们使用的技术手段包括但不限于防火墙、加密（例如SSL）、去标识化或匿名化处理、访问控制措施（堡垒机、二次验证等方式）等。\n我们建立了保障个人信息安全专门的管理制度、流程和组织。我们仅允许有必要知晓这些信息的员工访问您的个人信息，并为此设置了严格的访问权限控制和监控机制。我们同时要求可能接触到您的信息的所有人员履行相应的保密义务。如果未能履行这些义务，我们会追究其法律责任。\n2.信息安全事件处置措施\n若发生个人信息泄露等安全事件，我们会启动应急预案，阻止安全事件扩大。若发生信息安全事件，我们会以公告、推送通知或邮件等形式告知您安全事件的基本情况、我们即将或已经采取的处置措施和补救措施，以及我们对您的应对建议。如果难以实现逐一告知，我们将通过公告等方式发布警示。\n四、我们如何对外提供信息\n（一）除本《隐私政策》以及《用户协议》规定的情形外，我们不会主动共享、提供或转让您的个人信息至第三方。如存在其他共享、提供或转让您的个人信息或您要求我们将您的个人信息共享、提供或转让至我们外的第三方的情形时，我们会直接向您确认并取得您的明示同意。\n根据相关法律法规及国家标准，在以下情形中，我们会在不事先征得您的授权同意的前提下，共享、转让、公开披露您的特定个人信息：\n1.与我们履行法律法规规定的义务相关的；\n2.与国家安全、国防安全直接相关的；\n3.与公共安全、公共卫生、重大公共利益直接相关的；\n4.与刑事侦查、起诉、审判和判决执行等直接相关的；\n5.出于维护用户或其他个人的生命、财产等重大合法权益但又很难得到本人授权同意的；\n6.用户自行向社会公众公开的个人信息；\n7.从合法公开披露的信息中收集个人信息的，如合法的新闻报道、政府信息公开等渠道；\n8.经您本人（或未成年人的监护人）书面授权或应您本人（或未成年人的监护人）的书面要求而授权我们披露的；\n9.有关法律要求我们披露的。","\n（二）与第三方共享个人信息清单\n1.  产品名称：穿山甲SDK\n收集个人信息类型：设备信息，包括：IMEI、Android ID、OAID、IMSI、ICCID、GAID、MEID、IDFV、IDFA、MAC地址，具体字段因软硬件版本不同而存在差异；网络状态信息；IP地址； WLAN接入点，包括：SSID、BSSID、设备位置信息\n收集使用目的：分配广告流量，并统计内置广告曝光，点击，及转化行为\n合作方主体：北京巨量引擎网络技术有限公司\n合作方隐私政策：https://www.csjplatform.com/supportcenter/5879\n2. 产品名称：优量汇SDK（腾讯广点通）\n收集个人信息类型：设备信息，包括：IMEI、IMSI、MEID、OAID、Android ID 、IDFA、IDFV、MAC地址；网络状态信息；粗略位置信息，包括：基站信息、WIFI的SSID名称）；应用列表；广告数据（曝光、点击数据）、IP地址、传感器信息\n收集使用目的：广告投放、广告归因、广告监测、反作弊、减少App崩溃、确保服务器正常运行、提升可扩展性和性能\n合作方主体：深圳市腾讯计算机系统有限公司\n合作方隐私政策：https://e.qq.com/dev/help_detail.html?cid=2005&pid=5983\n3．产品名称：阿里云日志服务SDK\n收集个人信息类型：设备信息，包括：MAC地址、IMEI、IMSI、Android ID、IDFA；日志信息；网络状态信息\n收集使用目的：用于进行日志分析及网络检测\n合作方主体：阿里云计算有限公司\n合作方隐私政策：https://terms.aliyun.com/legal-agreement/terms/suit_bu1_ali_cloud/suit_bu1_ali_cloud202112131013_69952.html\n\n五、我们如何使用Cookies及相关技术\nCookies是一种可让网站服务器将数据存储于客户端或从客户端中读取数据的中立技术。为优化您的使用体验，我们会使用Cookies或类似技术（例如：web beacons, log files, scripts, eTags）(以下统称“Cookies”技术)。Cookies技术将在您的设备中生成小文件，以便我们提供特定功能。您有权通过设备或浏览器的设置开启或关闭Cookies技术。但当您选择关闭Cookies技术后，您可能无法体验我们产品的部分功能。\n六、我们如何保护未成年人的权益\n我们高度重视未成年人个人信息的保护问题，并持续探索更新的未成年人个人信息保护方式。我们会积极按照国家防沉迷政策要求，通过启用防沉迷系统保护未成年人的合法权益。我们会通过实名身份信息校验判断相关账号的实名信息是否为未成年人，如判断您为未成年人，则您无法使用本游戏或服务。\n七、您管理个人信息的权利\n在您使用我们为您提供的服务期间，我们可能会视服务具体情况为您提供相应的操作设置，以便您可以查询、复制、更正、补充、删除您的相关个人信息，注销您的账号，撤销已同意的授权，获取个人信息副本。按照相关的法律法规，我们保障您对自己的个人信息行使以下权利，您可通过如下方式管理您个人信息的权利：\n1.如您有查询、复制、更正、补充、删除您在游戏中的个人信息或获取您的个人信息副本的需要，您可联系ytlj0621@163.com进行办理。\n2.如您有撤回或变更之前已同意的授权的需要，您可通过删除信息、关闭设备功能、注销帐号的多种方式改变您授权我们继续收集信息的范围。您也可以通过隐私政策右上角的撤回功能撤回您授权我们收集您个人信息的同意。\n请您知悉，当您撤回授权后，我们无法继续为您提供撤回授权所对应的特定功能和/或服务，但您撤回授权的决定，不会影响此前基于您的授权而开展的个人信息处理活动。\n3.如您有注销账号并抹除您在游戏中的信息的需要，您可在“账号中心”—“申请删除账号”进行自行操作或联系官方邮箱ytlj0621@163.com进行办理。在收到注销申请后，我们将在15个工作日内响应您的请求，对前述收集的信息，我们将在2个工作日内予以删除，法律法规另有规定的除外。\n4.如您为通过第三方账号进入游戏的用户，您注册、登录第三方账号时提供给第三方的个人信息并未交于我们收集及储存，包括头像、昵称，以及身份验证信息，具体以您授权内容为准，我们无权限注销您的第三方账号。\n请您知悉并理解，第三方账号注销将通过第三方提供的途径进行，我们不参与第三方账号注销流程，亦无法对第三方账号注销途径的有效性、第三方账号注销成功与否作出任何承诺或保证。\n八、本《隐私政策》如何更新\n我们希望提供给您的产品和服务是完善的，所以我们会不断改进我们的产品和服务，这意味着我们可能会经常推出新的业务功能，可能需要收集新的个人信息或变更个人信息使用目的或方式。\n如发生业务功能变更、个人信息出境情况变更、使用目的变更、个人信息保护联络方式变更等情形，我们将对本《隐私政策》进行相应的修订，同时我们会通过更新本《隐私政策》、弹窗等方式另行向您说明该信息收集的目的、内容、使用方式和范围，您可自主选择是否同意，我们仅会在征得您明示同意后收集相关信息。如您不同意变更后的内容，我们将无法为您提供服务。\n九、联系方式\n如您有关于网络信息安全的投诉和举报，或对本《隐私政策》有任何问题、意见或建议，或对我们的隐私措施有任何疑问的，您可发送邮件至\n邮箱：ytlj0621@163.com\n我们将尽快审核所涉问题，并在收到邮件的十五个工作日内回复。\n \n特别提示：本《隐私政策》仅适用于本游戏用户，本《隐私政策》为《用户协议》等相关的游戏服务协议之补充，若其他文件亦规定个人信息保护相关内容，且与本《隐私政策》不一致的，以本《隐私政策》为准。\n"];this.content.node.children.forEach((function(n){return n.active=!1}));for(var t=0;t<n.length;t++){var e=n[t],i=this.content.node.children[t];i.active=!0,i.getComponent(c).string=e}},r.showXy=function(){this.scroll.scrollToTop(),this.view.node.active=!0,this.title.string=this.gameName+" 用户协议";var n=["\n概述\n欢迎您选择"+this.gameName+"游戏（以下简称“本游戏”或“我们”）。\n《"+this.gameName+"用户协议》（以下简称“本用户协议”）是用户(用户即指愿意接受或实际上已经接受我们提供的产品和服务的个人，以下所简称“用户”均指前述定义之个人)与本游戏之间的法律协议。因此，请您在注册成为我们的用户或接受我们的产品和服务之前，详细阅读本用户协议的所有内容（特别是粗体部分内容）。\n \n特别提示：\n由于部分条款可能导致用户在特定情况下的不便或损失，请用户仔细阅读含有“承担责任”“免责”“抗辩”“异议”等字样的条款，并在了解并理解该条款含义的前提下完成注册或实际接受我们的产品和服务。\n由于用户、市场状况、经营情况的变化，我们有权适时更改本用户协议及相关服务规则，如发生业务功能变更等情形，我们会通过更新本用户协议、弹窗等方式另行向您说明。\n用户了解并同意：用户点击“同意”按钮完成注册或者用户实际接受了我们的产品和服务，即视为接受了本用户协议的各项服务规则以及对本协议及各项服务规则所做的必要修改，并愿意受其约束。如果发生纠纷，用户不得以未仔细阅读为由进行抗辩。\n如不同意本协议或我们适时对其作出的修改，用户可以主动取消、停止使用我们提供的产品和服务，如用户继续使用我们提供的产品和服务，即视为同意本协议及对本协议及相关服务规则所做的所有修改，且不得在发生纠纷时对此提出异议。\n \n一、权利声明\n1.我们所提供的产品和服务中涉及的所有知识产权等权利，包括著作权、专利权、商标权、商业秘密等，均属我们或其原始授权人所有。未经我们或其原始授权人的授权，任何用户均不得擅自下载、复制、传输、改作、编辑，否则应负相应法律责任。\n2.本协议所称的账号是指用户注册的合法、有效的账号。用户必须注册或使用账号才可以接受我们提供的各项服务。我们拥有账号以及用户使用该账时所产生全部数据信息（包括但不仅限于账号密码、角色、虚拟货币、虚拟物品等数据信息）的所有权，但用户的姓名、身份证号码、电话号码等个人数据信息除外。用户在按照本协议正常接受服务过程中对该账号及账号内的数据信息享有本协议约定的使用权。\n \n二、资费政策\n1.我们在提供产品和服务时，如部分产品或服务项目需向用户收取费用，我们会将有关产品和服务的收费标准、购买方式或其它有关费用支付方面的信息发布在该产品和服务相关网页的显著位置。用户有义务在购买前仔细阅读，一旦用户购买收费产品或服务的，则表明用户已经充分理解并接受相应的收费方式和资费标准。\n2.我们有权决定并修改所提供的产品和服务的费用标准和收取方式，并有权按照所提供的产品和服务的差异确定不同的收费标准和收费方式。用户应当按照我们提供的支付方式进行购买，否则，我们有权拒绝提供或停止继续向用户提供该产品和服务。\n3.我们有权根据需要在游戏中设立、添加、修改增值服务并发行增值服务代用币。增值服务代用币通过使用人民币兑换获得，人民币一经兑换成增值服务代用币，则视为人民币已经使用，增值服务代用币不可兑换成人民币；增值服务代用币用于购买相关游戏素材使用权或者接受相关增值服务。\n \n三、账号注册\n1.用户必须注册账号才可以接受我们提供的各项服务。除用户信息以外的账号相关信息的所有权归我们所有，用户在完成注册申请手续后将获得除用户信息以外的账号相关信息的使用权。\n2.用户应当具有相应行为能力和责任能力，如使用者为未成年人，应由其父母或监护人完成或陪同完成注册过程，并对未成年人使用的账号内发生的行为及事件承担责任。\n3.用户承诺以其真实身份注册成为我们的用户，并保证所提供的个人身份资料信息（包括身份识别资料和其它个人资料）真实、完整、有效，依据法律规定和必备条款约定对所提供的信息承担相应的法律责任。个人身份识别资料包括姓名和身份证号码等我们所要求用于鉴定用户真实身份的信息。除个人身份识别资料外的其它资料如有变动，用户应进行更新，以符合真实、完整、有效的要求。用户因注册信息不真实产生的后果由用户自行承担，我们不承担任何责任。我们要求用户填写“密码保护资料”或其它账号信息资料，用户理解并同意后，未填写或填写错误、虚假资料的情况下，导致无法识别用户身份，我们有权拒绝用户提出的服务要求。\n4.如果用户提供的资料不准确，不真实，不合法有效，用户需承担因此引起的相应后果。用户应充分认识到身份证信息是账号使用权的主要凭证。用他人身份证号码及杜撰虚假身份证号码注册的用户，自身权益在游戏中将得不到任何保障。\n5.若用户在注册时的个人资料与事实不符，我们可以停止向其继续提供产品和服务。当用户向我们申请查询或修改某账号信息时，必须提供该账号在我们注册时所留下的相关信息记录，如果无法提供完全正确的上述信息记录，或申请人提供的身份信息与现有的真实身份信息有任何不符，我们有权不予认定该账号为申请人所使用，并拒绝该申请人提出的对该账号的任何要求。\n6.用户申请注册成功后，我们将分配给用户账号，账号一旦设定，用户不可再变更。用户对登录后所持账号产生的行为依法及依本协议和相关服务规则享有权利和承担责任。\n","四、账号使用与保管\n1.我们有权审查用户注册所提供的身份信息是否真实、有效，并将积极采取技术与管理等合理措施保障用户账号的安全、有效；用户有义务妥善保管账号及密码，并正确、安全地使用其账号及密码，不得将其账号、密码转让、出借，不得与他人共同使用一个账号，不得向任何人泄露自己的账号和密码或注册时填写的信息。任何一方未尽前述义务而导致账号密码遗失、账号被盗等情形而给用户和他人的民事权利造成损害的，应当承担由此产生的法律责任。\n2.如因用户自身过错或用户计算机感染病毒（包括但不限于木马、遭受黑客攻击等任何原因），而导致账号或密码泄漏的，用户应自行承担责任。如果用户遗失了密码，我们可针对处理此问题之服务保留索取额外费用的权利。\n3.用户发现其账号或密码被他人非法使用或有使用异常的情况的，应及时根据我们公布的处理方式通知我们，并有权通知我们采取措施暂停该账号的登录和使用。\n4.我们根据用户的通知采取措施暂停用户账号的登录和使用的，应当要求用户提供并核实与其注册身份信息相一致的个人有效身份信息。\n（A）我们核实用户所提供的个人有效身份信息与所注册的身份信息相一致的，应当及时采取措施暂停用户账号的登录和使用。\n（B）我们违反本条A款项的约定，未及时采取措施暂停用户账号的登录和使用，因此而给用户造成损失的，应当承担其相应的法律责任。\n（C）用户没有提供其个人有效身份证件或者用户提供的个人有效身份证件与所注册的身份信息不一致的，我们有权拒绝用户的上述请求，因此造成损失的，我们不承担责任。\n（D）用户为了维护其合法权益，向我们提供与所注册的身份信息相一致的个人有效身份信息时，我们应当为用户提供账号注册人证明、原始注册信息等必要的协助和支持，并根据需要向有关行政机关和司法机关提供相关证据信息资料。\n（E）我们向用户提供或推荐一定的保护账号密码的工具或服务，工具或服务可能收费或免费。用户了解并同意：这些工具或服务能在一定程度上提高账号安全性，但我们不承诺前述工具能保障账号的绝对安全。若使用工具后发生账号被盗，我们已尽到妥善保管义务的，我们不承担责任。\n \n五、用户行为限制\n1.用户在使用我们提供的产品和服务过程中应保证遵守国家法律、法规，不得利用我们提供的产品和服务实施任何违法及危害国家、集体安全的行为。\n2.用户不得对我们服务器实施任何的“黑客”行为，包括但不限于入侵、产品和服务的服务器端程序或尝试使服务器过度负荷；攻击、破解、修改产品及服务的客户端程序；对产品和服务的计算机系统进行删除、修改等操作，非法获取存储数据或对数据进行删除、修改；利用还原工程(Reverse Engineering)、译码(Decompile)、反向组译(Disassemble)等技术手段对产品和服务进行任何形式的攻击、入侵等。\n3.用户不得制作、传播、使用任何形式的附加程序、辅助程序或任何其它第三方程序登录或接受我们所提供的服务；不得利用我们的知识产权，来创造或提供相同或类似的服务，如仿真服务器等。\n4.用户不得利用程序中可能存在的技术缺陷或程序漏洞作弊、获利或进行其它损害我们及其它第三人权益的行为。\n5.用户应当自行承担其发布信息内容所涉及的责任，严禁用户利用我们所提供的服务发布或传播敏感信息和违反国家法律、法规、政策的信息，用户设定的游戏角色人物昵称、建立的组织名称等不得含有敏感字符和违反国家法律、法规、政策的字符，不得涉及：\n（A）反对中华人民共和国宪法所确定的基本原则的；\n（B）危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家统一或损害国家荣誉和利益的；\n（C）损害国家荣誉和利益的；\n（D）煽动民族仇恨、民族歧视，破坏民族团结或者侵害民族风俗、习惯的；\n（E）破坏国家宗教政策，宣扬邪教和封建迷信的；\n（F）散布谣言，扰乱社会秩序，破坏社会稳定的；\n（G）散布淫秽、色情、赌博、暴力、凶杀、恐怖或者教唆犯罪的；\n（H）侮辱或者诽谤他人，侵害他人名誉权、隐私权等合法权益的；\n（I）宣扬、教唆使用外挂、私服、病毒、恶意代码、木马及其相关内容的；\n（J）宣扬、教唆其它玩家退款，发布退款广告，实施代为退款行为的；\n（K）发布代练信息、非官方交易平台信息、赌博（如六合彩）、钓鱼网站、假冒网站、违禁品类信息（如违禁药品、枪支、爆炸类物品、弓弩、原子弹制作、警用或军用等器械等武器类信息、代考、出售考试答案、办假证、代开发票、假钞、窃听器、隐形耳机、针孔摄像机等国家禁止出售贩卖产品）等内容及任何我们合理判断为不妥当或者未认可的软件、文件等在内的主页地址或者链接的；\n（L）散布任何贬损、诋毁、恶意攻击我们及我们的合作伙伴、关联方及其员工的内容；\n（M）含有中华人民共和国法律、行政法规、政策、主管部门通知中所禁止的其它内容。\n","6.为避免破坏游戏内的公平性或平衡性，用户同意并理解其只能通过我们游戏和服务进行娱乐互动（“娱乐互动”是指用户通过游戏内容、任务、活动等行为获得愉悦感受），以及基于该等娱乐互动的需要由我们提供（如有）或我们事先明确认可的交易平台（如有）上交易虚拟物品。用户不得利用我们游戏和服务谋取现实世界中的经济利益。\n7.为了维护游戏的公平和秩序，保障用户的账号和个人信息安全，用户不得通过非我们提供或非我们事先明确认可的平台进行充值或进行其它交易相关行为（包括但不限于用户通过第三方进行充值、首充号交易、游戏账号交易、虚拟物品交易）、用户不得代为充值、参与非官方认可的充值返利行为。\n8.用户应就其在接受我们所提供的服务过程中的行为或活动（包括但不限于用户自行实施或与其它用户互动过程中）产生的后果承担责任，我们就用户在使用我们所提供的服务过程中的行为、活动或交易，如利用程序漏洞作弊、获利，制作、传播第三方程序登录游戏、攻击服务器等行为以及其它违反本协议及我们规定的行为不负任何责任。\n9.用户应当在我们的服务器上传输使用服务所必需的资料，资料的内容受以下限制：\n（A）不得侵犯任何第三者的知识产权、版权或公众、私人的任何权利；\n（B）不得违反任何法律或社会道德、风俗习惯；\n（C）不得包含任何毁谤他人、性骚扰、种族歧视或对孩童有不良影响的内容；\n（D）不得包含病毒、特洛伊木马、定时炸弹等可能对我们系统造成伤害或影响其稳定性的内容。\n用户同意自行承担发布上传内容所应承担之法律责任，用户同意我们有权对用户上传内容进行审核，并对其中违规内容进行必要的处理，包括但不限于根据第三方提出的权利主张屏蔽或删除用户上传的信息。用户特此授权我们免费使用用户上传的任何内容。\n \n六、协议解释和判断标准\n1.我们对本协议条款保留最终解释权，并有权按照本协议所约定的标准自行判断用户是否违反本协议及相关服务规则，并据以采取相应措施来维护各方权益。\n2.本协议、相关服务规则、我们适时对本协议及相关服务规则所做的修改以及在我们服务器系统内存储的数据信息是对用户行为进行判断的根本依据。\n \n七、服务的变更、中止和终止\n1.用户有发布违法信息、严重违背社会公德，以及其它违反法律禁止性规定的行为，我们有权立即终止对用户提供服务。\n2.用户在接受我们服务时实施不正当行为的，我们有权终止对用户提供服务。该不当行为的具体情形应当在本协议中明确约定或属于我们事先明确告知的应被终止服务的禁止性行为，否则我们不得终止对用户提供服务。\n3.用户提供虚假注册身份信息，或实施违反本协议的行为，我们有权中止对用户提供全部或部分服务；我们采取中止措施应当通知用户并告知中止期间，中止期间应该是合理的，中止期间届满我们应当及时恢复对用户的服务。\n4.我们根据本条约定中止或终止对用户提供部分或全部服务的，我们应负举证责任。\n5.鉴于网络服务的特殊性，用户同意我们有权根据其判断，单方决定新增、修改、删除、暂停或终止其所提供的全部或部分服务，有关决定将以公示形式告知（包括且不限于增加、暂停或终止某个游戏的运营）。我们终止运营网络游戏，或者网络游戏运营权发生转移的，应当提前60日予以公告。\n6.如因用户违反本协议规定而导致我们需中止、终止产品和服务的部分或全部内容或对用户账号加以限制、取消或封存而可能产生的不便或损害，我们对用户本人或任何第三人均不负任何损害赔偿责任；如我们决定永久终止运营游戏或者游戏经营权发生转让时，我们将对用户提供新的服务或其它相应的合理补偿措施，但原则上不以现金方式退还账号内同过正常充值但未使用的游戏虚拟货币的相应价值，具体补偿措施以公告为准，用户对此表示同意。\n7.用户违反本协议第5条的行为将被视为严重违约行为，我们有权针对前述行为立即采取一切措施，包括但不限于根据用户行为的严重程度单方决定中止或永久终止用户的账号使用权，并保留采取进一步法律措施的权利。我们将对于中止或永久终止措施负初步举证责任。\n8.任何注册账号有如下任意一种或多种行为，我们有权根据用户行为的严重程度单方决定中止或永久终止用户使用该账号，我们对中止或永久终止措施将负初步举证责任。前述可引起用户账号被中止或永久终止的行为包括提供虚假注册信息，以及下列通过不正当手段使用我们所提供的网络服务的：\n（A）滥用所享受的权利；\n（B）通过不正当手段使用我们的服务；\n（C）有损害其它用户的行为；\n（D）违背社会风俗和社会道德的行为；\n（E）其它违反本协议约定及服务规则规定的应中止或永久终止该用户账号的行为。\n9.我们依据本协议中止对用户使用账号的，将告知用户中止期间，中止期间将是合理的，中止期间届满的，我们将及时恢复用户对账号的使用。但如用户在中止期间届满时仍具有本协议所列应中止账号之情形，我们有权单方决定继续中止或永久终止该用户账号的使用。","10.发生下列情形之一时，我们有权停止或中断向用户提供服务，并不承担任何责任。但我们将在情形发生时及时告知客户，并尽合理努力减少由此造成的损失：\n（A）定期检查或施工，更新软硬件等，我们有权暂停服务，但我们会尽快完成维护、更新工作；\n（B）游戏服务器遭受损害或程序出现重大故障，无法正常运作；\n（C）发生突发性的网络设备故障时；\n（D）由于我们所用的网络通信设备由于不明原因停止，无法提供服务时；\n（E）由于相关政府机构的要求；\n（F）由于我们服务策略的调整。\n \n八、用户信息的保护及其限制\n1.我们要求用户提供与其个人身份有关的信息资料时，应当事先以明确而易见的方式向用户公开其隐私保护政策和个人信息利用政策，并采取必要措施保护用户的个人信息资料的安全。\n2.我们承诺将用户提供的个人信息的运用限于我们为用户所提供的服务范围之内，同时将保护用户的隐私。用户之隐私保护政策参见本协议隐私保护条款，及我们公布的其它关于隐私保护的文件。\n3.未经用户许可我们不得向任何第三方提供、公开或共享用户注册资料中的姓名、个人有效身份证件号码、联系方式、家庭住址等个人身份信息，但下列情况除外：\n（A）用户或用户之监护人授权我们披露的；\n（B）有关法律要求我们披露的；\n（C）司法机关或行政机关、其它有权机关基于法定程序要求我们提供的；\n（D）我们为了维护自己合法权益向用户提起诉讼或仲裁的；\n（E）应用户监护人的合法要求而提供用户个人身份信息的；\n \n九、风险承担和责任免除\n1.用户应了解并同意，我们所提供的服务可能因公司、其它合作厂商或相关电信业者网络系统软硬件设备的故障、失灵、或因合作方及相关电信工作人员人为操作的疏失而全部或一部分中断、暂时无法使用、迟延或因他人侵入我们呢的系统篡改或伪造变造资料等，造成服务的停止或中断者或用户档案缺失，用户不得因此要求我们提供任何的补偿或赔偿。\n2.用户使用我们提供的服务有可能因非服务提供方原因而导致风险，包括但不限于其因使用我们的服务或自行由我们网站下载游戏或资料图片而导致用户或其所使用的计算机软、硬件的损害，或发生任何资料的流失等，我们对此不承担责任。\n3.因网络服务的特殊性，对于我们所提供的服务产生的程序问题，或稳定性、安全性、准确性等方面的问题，我们不承担责任。\n4.我们对于用户使用服务或无法使用网络所导致的任何直接、间接、衍生的损害或所失利益不负任何赔偿责任。若依法无法完全排除赔偿责任时，我们的赔偿责任（无论基于违约或侵权）亦以用户就使用产品或服务向我们所支付的价款为限。\n \n十、损害赔偿\n用户若违反服务条款或相关法令，导致我们或我们的关联公司、受雇人、受托人、代理人及其它相关履行辅助人等，因此而受到损失、损害或支出费用（包括但不限于由法律诉讼、行政程序等所支出的诉讼费用、律师费用、实际遭受损失的费用等），用户应承担相应的赔偿责任。\n \n十一、广告信息的免责\n1.我们在提供服务过程中可在App、小程序或有关网站位置上刊登商业广告、或其它促销活动的广告。用户若与刊登商业广告或其它促销活动的广告的广告主发生纠纷或诉讼等情况，而我们事先已尽到合理的表面审查义务的，我们不承担责任。\n2.我们在提供服务过程亦有可能以电子邮件或手机短信或其它方式适时向用户发送我们的游戏电子期刊或相关市场活动信息，这是我们提供的服务的组成部分，如用户不愿意收到类似信息，可按相应活动退订规则，完成退订手续。\n \n十二、不可抗力\n在任何情况下，我们对于因其合理控制之外的原因造成的延误或未履行、未完全履行不承担责任，包括但不限于我们控制外的、未预见的情况或原因，如天灾、战争、恐怖主义、暴动、禁运、行政或军事机关行为、火灾、水灾、事故、罢工或运输工具、燃料、劳工、材料或电脑软件和硬件的错误、过错、故障或缺失等。\n \n十三、适用法律\n1.本服务条款所约定的任何条款的部分或全部无效，不影响其它条款的效力。\n2.若用户和我们之间基于本协议发生的任何纠纷或争议，首先应友好协商解决，协商不成的，用户在此同意将相关的一切纠纷或争议提交成都市高新区人民法院管辖。\n3.如有未尽事宜，我们有权通过补充协议或其它方式进行约定，补充约定应以合理方式进行公示。补充约定与本协议具有同等效力。用户如不同意关于未尽事宜之补充约定，可以主动取消、停止使用我们提供的产品和服务，如继续使用我们呢提供的产品和服务，即视为用户同意前述约定。\n"];this.content.node.children.forEach((function(n){return n.active=!1}));for(var t=0;t<n.length;t++){var e=n[t],i=this.content.node.children[t];i.active=!0,i.getComponent(c).string=e}},t}(m)).prototype,"btnOk",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(B.prototype,"btnOk1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"BtnNo",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(B.prototype,"BtnBack",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(B.prototype,"view",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(B.prototype,"BtnYS",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(B.prototype,"BtnXY",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(B.prototype,"content",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(B.prototype,"title",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"scroll",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIToast.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,l=e.Component}],execute:function(){var s,u,p,f;o._RF.push({},"04c34uUbDNDAot9fB3V7ykG","UIToast",void 0);var h=a.ccclass,d=a.property;e("default",(s=d(c),h((f=t((p=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"label",f,n(t)),t}i(t,e);var o=t.prototype;return o.Show=function(e,t){void 0===t&&(t=2),this.label.string=e,this.scheduleOnce(this.Hide,t)},o.Hide=function(){this.node.active=!1,this.node.destroy()},t}(l)).prototype,"label",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=p))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/UniformScaleCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(e){var t,n,o,r,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Sprite,i=e.Component},function(e){c=e.YT}],execute:function(){var p;n._RF.push({},"46aedFyjlFLup1bpOdJYWzq","UniformScaleCmp",void 0);var s=o.ccclass,u=o.requireComponent;e("UniformScaleCmp",s("UniformScaleCmp")(p=u(r)(p=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onLoad=function(){var e=this.getComponent(r).spriteFrame.width,t=c.viewportSize.width/e;this.node.setScale(t,t,t)},n}(i))||p)||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/UnlockShopDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./MainConst.ts","./BattleState.ts","./BaseDialog.ts"],(function(t){var i,e,n,l,o,a,r,c,s,u,p,h,_,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.Label,c=t.Button},function(t){s=t.ViewUtil},function(t){u=t.YT},function(t){p=t.MAIN_PREFABS,h=t.MAIN_BUNDLE},function(t){_=t.BattleState},function(t){f=t.BaseDialog}],execute:function(){var y,d,b,v,B,g,k,C,S;o._RF.push({},"ea438ikfcdCt7HIJcevZ/KC","UnlockShopDialog",void 0);var D=a.ccclass,m=a.property;t("UnlockShopDialog",(y=D("UnlockShopDialog"),d=m({type:r,displayName:"提示",visible:!0}),b=m({type:c,displayName:"确定按钮",visible:!0}),v=m({type:c,displayName:"关闭按钮",visible:!0}),y((k=i((g=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"_tips",k,l(i)),n(i,"_sureBtn",C,l(i)),n(i,"_closeBtn",S,l(i)),i._callback=void 0,i}e(i,t),i.Show=function(t,e){var n=s.createPrefabNode(p.UnlockShopDialog,h);n.parent=_.ins.control.view.dialogRoot;var l=n.getComponent(i);return l._init(t,e),l};var o=i.prototype;return o._init=function(t,i){this._tips.string=t,this._callback=i,this._sureBtn.node.on(c.EventType.CLICK,this._onSureBtnClicked,this),this._closeBtn.node.on(c.EventType.CLICK,this._onCloseBtnClicked,this)},o._onSureBtnClicked=function(){var t;u.audio.play(2),null==(t=this._callback)||t.call(this,!0),this.close()},o._onCloseBtnClicked=function(){var t;u.audio.play(2),null==(t=this._callback)||t.call(this,!1),this.close()},i}(f)).prototype,"_tips",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(g.prototype,"_sureBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(g.prototype,"_closeBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=g))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./EquipConfig.ts","./HeroConfig.ts","./ItemConfig.ts","./RoleAtkConfig.ts","./RoleCampConfig.ts","./RoleLevelConfig.ts","./TurnRewardConfig.ts","./Awaiters.ts","./GameUtils.ts","./ViewUtil.ts","./YT.ts","./UIHelper.ts","./UI_itemName.ts","./GetCoinView.ts","./RewardView.ts","./SkinView.ts","./TurnInfoView.ts","./PageBase.ts"],(function(t){var e,a,i,r,n,s,o,u,c,m,_,l,d,p,h,f,v,C,g,b,x,w,k,I,y,D,U,N;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,n=t.Color,s=t.Animation,o=t.Vec3,u=t.v2},function(t){c=t.GRoot,m=t.PopupDirection},function(t){_=t.EquipConfig},function(t){l=t.HeroConfig},function(t){d=t.ItemConfig},function(t){p=t.RoleAtkConfig},function(t){h=t.RoleCampConfig},function(t){f=t.RoleLevelConfig},function(t){v=t.TurnRewardConfig},function(t){C=t.Awaiters},function(t){g=t.GameUtils},function(t){b=t.ViewUtil},function(t){x=t.YT},function(t){w=t.UIHelper},function(t){k=t.default},function(t){I=t.GetCoinView},function(t){y=t.RewardView},function(t){D=t.SkinView},function(t){U=t.TurnInfoView},function(t){N=t.PageBase}],execute:function(){r._RF.push({},"cef1fvn/81B3p0ZIuAQwm3L","UpgradePage",void 0);t("UpgradePage",function(t){function r(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).reward=[],e.rewardCount=[],e.popup=void 0,e}e(r,t);var N=r.prototype;return N.onCreate=function(){var t=this;console.error("UpgradePage onCreate"),this.ui.m_tog_upgrade.onClick(this._onClickToggle,this),this.ui.m_cmpUpgrade.m_prop_atk.m_btn_buy.onClick((function(){x.data.costCoin(p.data[x.data.userData.roleAtkLevel+1].cost)?(x.data.userData.roleAtkLevel++,x.data.userData.save=!0,t.refresh()):I.instance.show()}),this),this.ui.m_cmpUpgrade.m_prop_camp.m_btn_buy.onClick((function(){x.data.costCoin(h.data[x.data.userData.roleCampLevel+1].cost)?(x.data.userData.roleCampLevel++,x.data.userData.save=!0,t.refresh()):I.instance.show()}),this),this.ui.m_cmpUpgrade.m_list_equip.setVirtual(),this.ui.m_cmpUpgrade.m_list_equip.itemRenderer=this.rendererEquip.bind(this),this.ui.m_cmpUpgrade.m_list_equip.numItems=3,this.ui.m_cmpCultivate.m_btn_cultivate.onClick(this._onClickCultivate,this),this.ui.m_cmpCultivate.m_btn_turn.onClick(this._onClickTurn,this),this.ui.m_cmpCultivate.m_list_reward.itemRenderer=this.renderReward.bind(this),this.ui.m_cmpCultivate.m_btn_top.onClick(this._onClickTop,this),this.refresh(),this.popup||(this.popup=k.createInstance()),this.ui.m_cmpUpgrade.m_btn_skin.onClick((function(){D.instance.show()}))},N.onShow=function(){},N._onClickTop=function(){U.instance.show()},N._onClickTurn=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ui.m_cmpCultivate.m_btn_turn.grayed){t.next=3;break}return x.gui.toast("通关"+6*x.data.userData.turnId+"章解锁"),t.abrupt("return");case 3:return t.next=5,this.showLunhuiEff();case 5:y.instance.show([[].concat(this.reward),[].concat(this.rewardCount)]),x.data.userData.turnId++,x.data.userData.save=!0,this.refreshCultivate();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),N._onClickCultivate=function(){var t=x.data.userData.roleLevel,e=f.data[t],a=f.data[t+1],i=0;(a?i=a.cost:e&&(i=e.cost),i)&&(a&&x.data.checkCanBuy(1,i)&&x.data.costCoin(i)?(this.refresh(),y.instance.show([[].concat(this.reward),[].concat(this.rewardCount)]),x.data.userData.roleLevel++,x.data.userData.save=!0):I.instance.show())},N.refreshCultivate=function(){this.ui.m_cmpCultivate.m_btn_top.m_title.text="轮回-"+x.data.userData.turnId,this.ui.m_cmpCultivate.m_btn_turn.grayed=6*x.data.userData.turnId>x.data.userData.chapterId;var t=this.checkTurn();if(t){if(Math.floor(f.dataList.length/6)<x.data.userData.turnId)return this.ui.m_cmpCultivate.m_list_reward.visible=!1,this.ui.m_cmpCultivate.m_btn_turn.visible=!1,this.ui.m_cmpCultivate.m_title.visible=!1,this.reward=[],void(this.rewardCount=[]);this.ui.m_cmpCultivate.m_state.selectedIndex=1}else this.ui.m_cmpCultivate.m_state.selectedIndex=0;var e=x.data.userData.roleLevel,a=e+(1==x.data.userData.turnId?0:1),i=f.data[e],r=f.data[a],s=f.data[e+1],o=f.data[a+1];if(i||s){var u=s&&x.data.checkCanBuy(1,s.cost);if(this.ui.m_cmpCultivate.m_btn_cultivate.m_txt_cost.color=u?n.WHITE:new n("#b90000"),r?this.renderRole(this.ui.m_cmpCultivate.m_role,r.name,l.data[r.skin_id].res):this.renderRole(this.ui.m_cmpCultivate.m_role,i.name,l.data[i.skin_id].res),o?this.renderRole(this.ui.m_cmpCultivate.m_role2,o.name,l.data[o.skin_id].res):this.ui.m_cmpCultivate.m_state.selectedIndex=2,s?this.ui.m_cmpCultivate.m_btn_cultivate.m_txt_cost.text=s.cost.toFixedNumberCN():i&&(this.ui.m_cmpCultivate.m_btn_cultivate.m_txt_cost.text=i.cost.toFixedNumberCN()),t){var c=v.data[x.data.userData.turnId];return this.reward=c.reward_id,this.rewardCount=c.reward_count,this.ui.m_cmpCultivate.m_list_reward.numItems=this.reward.length,void(this.ui.m_cmpCultivate.m_state.selectedIndex=1)}s?(this.reward=s.reward,this.rewardCount=s.reward_count,this.ui.m_cmpCultivate.m_list_reward.numItems=s.reward.length):(this.reward=[],this.rewardCount=[],this.ui.m_cmpCultivate.m_state.selectedIndex=2),u||(this.ui.m_cmpCultivate.m_btn_cultivate.visible=!!s)}else console.error("错误的等级")},N.checkTurn=function(){return Math.floor(x.data.userData.roleLevel/6)==x.data.userData.turnId&&(console.error("turn 需要轮回"),!0)},N.renderRole=function(t,e,a){t.title=e,w.addPrefabToFGUI(a,"game",t.getChild("icon"),(function(t){var e;null==(e=t.getComponentInChildren(s))||e.play("idle"),t.setScale(o.ONE.clone().multiplyScalar(3))}),u(.5,1))},N.renderReward=function(t,e){var a=this;e.title="x"+this.rewardCount[t].toFixedNumberCN();var i=d.data[this.reward[t]];e.setIcon(i.icon,"game"),e.m_quality.selectedIndex=i.qulity,e.clearClick(),e.onClick((function(){a.popup.title=i.desc,c.inst.showPopup(a.popup,e,m.Up)}))},N.rendererEquip=function(t,e){var a=this,i=t+1,r=x.data.userData.equips[i];r||(r=x.data.userData.equips[i]={id:i,lv:1==i?1:0});var s=_.data[r.id],o=_.data[s.levelupId];if(e.title=s.name,e.setIcon(s.icon,"game"),s.levelupId)if(0==r.lv){e.m_state.selectedIndex=0,e.m_btn.visible=!0,e.m_btn.m_txt_cost.text=s.unlock_cost.toFixedNumberCN();var u=x.data.checkCanBuy(1,s.unlock_cost);e.m_btn.m_txt_cost.color=u?n.WHITE:new n("#b90000"),e.m_btn.clearClick(),e.m_btn.onClick((function(){x.data.costCoin(s.unlock_cost)?(x.data.userData.equips[i].lv=1,x.data.userData.save=!0,a.refresh()):I.instance.show()}),this)}else if(x.data.userData.roleLevel>=o.conditon_role_lv&&r.id<s.levelupId){e.m_state.selectedIndex=1;var c=x.data.checkCanBuy(1,s.upgrade_cost);e.m_btn.m_txt_cost.text=s.upgrade_cost.toFixedNumberCN(),e.m_btn.m_txt_cost.color=c?n.WHITE:new n("#b90000"),e.m_btn.clearClick(),e.m_btn.onClick((function(){x.data.costCoin(s.upgrade_cost)?(x.data.userData.equips[i].id=s.levelupId,x.data.userData.save=!0,a.refresh()):I.instance.show()}),this)}else e.m_state.selectedIndex=2;else e.m_state.selectedIndex=2;e.m_txt_value.text=s.base_value.toFixedNumberCN()},N.refresh=function(){this.ui.m_tog_upgrade.selected?this.refreshCultivate():this.refreshEquip()},N.refreshEquip=function(){var t=p.data[x.data.userData.roleAtkLevel],e=p.data[x.data.userData.roleAtkLevel+1];e?0==x.data.userData.roleAtkLevel?(this.ui.m_cmpUpgrade.m_prop_atk.m_txt_value.text="0",this.ui.m_cmpUpgrade.m_prop_atk.m_btn_buy.m_txt_cost.text=e.cost.toFixedNumberCN(),this.ui.m_cmpUpgrade.m_prop_atk.m_btn_buy.m_txt_cost.color=x.data.checkCanBuy(1,e.cost)?n.WHITE:new n("#b90000")):(this.ui.m_cmpUpgrade.m_prop_atk.m_txt_value.text=t.value.toFixedNumberCN(),this.ui.m_cmpUpgrade.m_prop_atk.m_btn_buy.m_txt_cost.text=e.cost.toFixedNumberCN(),this.ui.m_cmpUpgrade.m_prop_atk.m_btn_buy.m_txt_cost.color=x.data.checkCanBuy(1,e.cost)?n.WHITE:new n("#b90000")):(this.ui.m_cmpUpgrade.m_prop_atk.m_txt_value.text=t.value.toFixedNumberCN(),this.ui.m_cmpUpgrade.m_prop_atk.m_btn_buy.visible=!1);var a=h.data[x.data.userData.roleCampLevel],i=h.data[x.data.userData.roleCampLevel+1];i?0==x.data.userData.roleCampLevel?(this.ui.m_cmpUpgrade.m_prop_camp.m_txt_value.text="0%",this.ui.m_cmpUpgrade.m_prop_camp.m_btn_buy.m_txt_cost.text=i.cost.toFixedNumberCN(),this.ui.m_cmpUpgrade.m_prop_camp.m_btn_buy.m_txt_cost.color=x.data.checkCanBuy(1,i.cost)?n.WHITE:new n("#b90000")):(this.ui.m_cmpUpgrade.m_prop_camp.m_txt_value.text=Math.floor(100*a.value).toString()+"%",this.ui.m_cmpUpgrade.m_prop_camp.m_btn_buy.m_txt_cost.text=i.cost.toFixedNumberCN(),this.ui.m_cmpUpgrade.m_prop_camp.m_btn_buy.m_txt_cost.color=x.data.checkCanBuy(1,i.cost)?n.WHITE:new n("#b90000")):(this.ui.m_cmpUpgrade.m_prop_camp.m_btn_buy.visible=!1,this.ui.m_cmpUpgrade.m_prop_camp.m_txt_value.text=Math.floor(100*a.value).toString()+"%"),this.ui.m_cmpUpgrade.m_list_equip.refreshVirtualList(),this.renderRole(this.ui.m_cmpUpgrade.m_role,"",l.data[x.data.userData.roleSkinId].res)},N.showLunhuiEff=function(){var t=a(i().mark((function t(){var e,r,n,o=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.gui.lockScreen(),t.next=3,x.res.loadAsync("effect/prefab/effect_05","game");case 3:e=b.createPrefabNode("effect/prefab/effect_05","game"),r=e.getComponentInChildren(s),n=!0,g.addNode2Gloader(e,this.ui.m_cmpCultivate.m_bg),this.ui.m_cmpCultivate.m_bg.node.children[0].active=!1,r.on(s.EventType.FINISHED,a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.ui.m_cmpCultivate.m_bg.node.children[0].active=!0,e.destroy(),n=!1;case 3:case"end":return t.stop()}}),t)}))),this),r.play();case 10:if(!n){t.next=15;break}return t.next=13,C.NextFrame();case 13:t.next=10;break;case 15:x.gui.unlockScreen();case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),N.onHide=function(){},N.onDestroy=function(){this.ui.m_tog_upgrade.offClick(this._onClickToggle,this)},N._onClickToggle=function(){console.log("page"+this.ui.m_page.selectedIndex),this.refresh()},r}(N));r._RF.pop()}}}));

System.register("chunks:///_virtual/UsefulTools.ts",["cc"],(function(t){var r,e,n;return{setters:[function(t){r=t.cclegacy,e=t._decorator,n=t.Layers}],execute:function(){var o;r._RF.push({},"d9870upkgpCq787+BKzE5hv","UsefulTools",void 0);var i=e.ccclass;e.property,t("UsefulTools",i("UsefulTools")(o=function(){function t(){}return t.isGetter=function(t,r){var e=Object.getOwnPropertyDescriptor(t,r)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),r);return!(null==e||!e.get)},t.safeGetValue=function(t,r){var e=Object.getOwnPropertyDescriptor(t,r)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),r);return null!=e&&e.get?t[r]:"function"==typeof t[r]?t[r]():t[r]},t.isPolygonSelfIntersect=function(t){var r=t.length;if(r<4)return{result:!1,index:-1};for(var e=0;e<r-1;e++)for(var n=t[e],o=t[e+1],i=e+2;i<r-1;i++)if(0!==e||i!==r-2){var a=t[i],s=t[i+1];if(this.segmentsIntersect(n,o,a,s))return{result:!0,index:e}}return{result:!1,index:-1}},t.segmentsIntersect=function(t,r,e,n){if(Math.max(t.x,r.x)<Math.min(e.x,n.x)||Math.max(e.x,n.x)<Math.min(t.x,r.x)||Math.max(t.y,r.y)<Math.min(e.y,n.y)||Math.max(e.y,n.y)<Math.min(t.y,r.y))return!1;var o=this.direction(e,n,t),i=this.direction(e,n,r),a=this.direction(t,r,e),s=this.direction(t,r,n);return o*i<0&&a*s<0||(!(0!==o||!this.onSegment(e,n,t))||(!(0!==i||!this.onSegment(e,n,r))||(!(0!==a||!this.onSegment(t,r,e))||!(0!==s||!this.onSegment(t,r,n)))))},t.onSegment=function(t,r,e){return Math.min(t.x,r.x)<=e.x&&e.x<=Math.max(t.x,r.x)&&Math.min(t.y,r.y)<=e.y&&e.y<=Math.max(t.y,r.y)},t.direction=function(t,r,e){return(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x)},t.isCollinear=function(t){if(t.length<3)return{result:!1,index:-1};for(var r=0;r<t.length-2;r++){var e=t[r],n=t[r+1],o=t[r+2];if(this.isCollinearThreePoints(e,n,o))return{result:!0,index:r}}return{result:!1,index:-1}},t.isCollinearThreePoints=function(t,r,e){var n=r.x-t.x,o=r.y-t.y,i=e.x-t.x,a=n*(e.y-t.y)-o*i;return Math.abs(a)<.1},t.hasDuplicatePoints=function(t){for(var r=0;r<t.length;r++)for(var e=r+1;e<t.length;e++)if(t[r].x===t[e].x&&t[r].y===t[e].y)return!0;return!1},t.randomTmpIDString=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",e=0;e<5;e++)r+=t.charAt(Math.floor(Math.random()*t.length));return r},t.rgbToHsl=function(t,r,e){t/=255,r/=255,e/=255;var n=Math.max(t,r,e),o=Math.min(t,r,e),i=0,a=0,s=(n+o)/2;if(n!==o){var u=n-o;switch(a=s>.5?u/(2-n-o):u/(n+o),n){case t:i=(r-e)/u+(r<e?6:0);break;case r:i=(e-t)/u+2;break;case e:i=(t-r)/u+4}i/=6}return[i,a,s]},t.hslToRgb=function(t,r,e){var n,o,i;if(0===r)n=o=i=e;else{var a=function(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t},s=e<.5?e*(1+r):e+r-e*r,u=2*e-s;n=a(u,s,t+1/3),o=a(u,s,t),i=a(u,s,t-1/3)}return[Math.round(255*n),Math.round(255*o),Math.round(255*i)]},t.compareVersions=function(t,r){for(var e=t.split(".").map(Number),n=r.split(".").map(Number),o=0;o<Math.max(e.length,n.length);o++){var i=e[o]||0,a=n[o]||0;if(i!==a)return i-a}return 0},t.layerExist=function(t){return n.nameToLayer(t)>0||n.layerToName(0)===t},t.checkAndAddLayerByName=function(t){if(this.layerExist(t))return console.log(t+" 已存在 ,无需获取空闲位置"),1<<n.nameToLayer(t);for(var r=-1,e=0;e<20;e++)if(null==n.layerToName(e)){r=e;break}return-1!==r?(n.addLayer(t,r),console.warn("添加新层: "+t+"，位置: "+r+" ,如果在编辑器中,你需要关闭 项目设置 窗口后重新打开才能正常显示"),1<<r):(console.warn("无法添加新层: "+t+"，没有可用的层位置。请检查层设置。"),-1)},t}())||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/UserNodeEvents.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"73e6cU1oYlDGoiVLg5NBika","UserNodeEvents",void 0);e("UserNodeEvents",function(e){return e.BumpColl="bump_coll",e.BumpEnabled="bump_enabled",e.WeaponFire="fire",e.WeaponBullet="bullet",e.WeaponFireRound="fire_round",e.PoolFetch="fetch",e.PoolReturn="return",e.BulletRemove="remove",e.BulletHit="hit",e.BulletKill="kill",e.BulletHitWall="hit_wall",e.EnemyEngaged="engaged",e.UnitDamaged="damaged",e.UnitKilled="killed",e.NodeUpdate="update",e.HPChanged="hp",e.GameExit="exit",e.WindowShow="window_show",e.WindowHide="window_hide",e.NodeStart="node_start",e.GameFinish="game_finish",e.Clicked="clicked",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/UserPage.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"bc3d7kdgD5MrbXc92nE1FYx","UserPage",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/util.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./YT.ts","./UIHelper.ts","./NodePool.ts","./WindowBase3.ts"],(function(n){var t,e,r,o,i,a,u,c,s,f,l,d,h,p,v,g,m,y,w,x,b,M,P,I,C,k,S,O,R,T,A,N,_,D,F,E,L,U;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy,o=n.isValid,i=n.Vec2,a=n.Vec3,u=n.sys,c=n.Node,s=n.Canvas,f=n.UITransform,l=n.tween,d=n.Color,h=n.Animation,p=n.PhysicsSystem2D,v=n.EPhysics2DDrawFlags,g=n.Component,m=n.Layers,y=n.ParticleSystem2D,w=n.ParticleSystem,x=n.assetManager,b=n.instantiate,M=n.director},function(n){P=n.GList,I=n.GComponent,C=n.UIPackage,k=n.UIObjectFactory,S=n.GLoader3D,O=n.AlignType,R=n.VertAlignType,T=n.RelationType,A=n.GRoot,N=n.Controller,_=n.Window,D=n.PackageItemType},function(n){F=n.YT},function(n){E=n.UIHelper},function(n){L=n.largeInt},function(n){U=n.default}],execute:function(){var B;n({FuncAsync:function(n,t){return new Promise((function(e,r){n((function(){t&&t(),e()}))}))},UIBinder:function(n){rn.push(n)},bindAll:function(){rn.forEach((function(n){k.setExtension(n.URL,n)}))},delay:Y,distance:function(n,t,e,r){return Math.sqrt((n-e)*(n-e)+(t-r)*(t-r))},getTimer:z,interval:function(n,t,e){return K.apply(this,arguments)},isGM:function(){return!!globalThis.__GM},isIOS:function(){return"iOS"==u.os},isVisible:function(n){return o(n)&&n.active&&n.position.x!=L},loadUIPage:function(n,t){return H.apply(this,arguments)},nextFrame:q,repeat:Q,setTimer:function(n){return j=n},through:G,throughFGUI:V,timeout:function(n,t){return X.apply(this,arguments)},updater:J,vec2:$,vec3:nn}),r._RF.push({},"41590CixpFBY4Q1v9YFi6JV","util",void 0);var W=n("OneDayTime",864e5);n("rta",1/3.14*180);var j;n("return_true",(function(){return!0}));function G(n,t){t(n);for(var e=0;e<n.children.length;e++)G(n.children[e],t)}function V(n,t){if(t(n),n instanceof P||n instanceof I)for(var e=0;e<n._children.length;e++)V(n._children[e],t)}function H(){return(H=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var e="ui/"+t;r(),C.loadPackage(e,(function(){C.addPackage(e),n()}))})));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function z(){return j||F.timer}function Y(n,t){return new Promise((function(e){z().scheduleOnce((function(){t&&t(),e()}),n)}))}function q(n){return Y(0,n)}function X(){return(X=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){setTimeout((function(){r&&r(),n()}),1e3*t)})));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function K(){return(K=t(e().mark((function n(t,r,o){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===r&&(r=0),n.abrupt("return",new Promise((function(n){var e=0,o=Date.now(),i=0;o&&t(0),i=setInterval((function(){var a=.01*(Date.now()-o);o=Date.now(),(e+=a)>r&&(t(0==r?a:e)&&(clearInterval(i),n()),e-=r)}))})));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function J(n,t,e){return void 0===t&&(t=0),void 0===e&&(e=!1),new Promise((function(r){var o=0;e&&n(0),z().addUpdate((function e(i){(o+=i)>t&&(n(0==t?i:o)&&(z().removeUpdate(e),r()),o-=t)}))}))}function Q(n,t,e){return Z.apply(this,arguments)}function Z(){return(Z=t(e().mark((function n(t,r,o){var i,a,u,c;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:void 0===o&&(o=!1),i=[],u=0;case 3:if(!(u<t)){n.next=17;break}if(c=r(u),!(a=c instanceof Promise)||!o){n.next=9;break}return n.next=9,c;case 9:if(!c||a){n.next=13;break}return n.abrupt("break",17);case 13:a&&i.push(c);case 14:u++,n.next=3;break;case 17:if(!a){n.next=19;break}return n.abrupt("return",Promise.all(i));case 19:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function $(n,t){return null==n?new i:"number"==typeof n?(null==t&&(t=n),new i(n,t)):null!=n.x?new i(n.x,n.y):new i(n[0],n[1])}function nn(n,t,e){if(t=null==t?n:t,e=null==e?n:e,"number"==typeof n)return new a(n,t,e);if("object"==typeof n){var r={x:n.x||0,y:n.y||0,z:n.z||0};return new a(r.x,r.y,r.z)}return new a}var tn=n("TAU",2*Math.PI),en=(n("PIE",Math.PI),n("default",function(){function n(){}return n.getNodeUIPos=function(n){},n.arrReplace=function(n,t,e){n.splice(n.indexOf(t),1,e)},n.wrap=function(n,t){return(n%t+t)%t},n.arrayShuffle=function(n){n.sort((function(n,t){return Math.random()-.5}))},n.arrayShuffle2=function(n){for(var t=n.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),r=[n[e],n[t]];n[t]=r[0],n[e]=r[1]}return n},n.lerp=function(n,t,e){return n+(t-n)*e},n.arrayOverlap=function(n,t){for(var e=0;e<n.length;e++)if(-1!=t.indexOf(n[e]))return!0;return!1},n.arrayCover=function(n,t){for(var e=!0,r=0;r<n.length;r++)-1==t.indexOf(n[r])&&(e=!1);return e},n.arraySame=function(n,t){return n.length==t.length&&(this.arrNoRepeat(n),this.arrNoRepeat(t),this.arrayCover(n,t))},n.lerpVec=function(n,t,e){return new i(this.lerp(n.x,t.x,e),this.lerp(n.y,t.y,e))},n.vecFlatDist=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},n.distance=function(n,t,e,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(t-r,2))},n.getAngle=function(n,t,e,r){return Math.atan2(r-t,e-n)},n.getAngleObject=function(n,t){return void 0===t&&(t={x:0,y:0}),Math.atan2(t.y-n.y,t.x-n.x)},n.distanceObject=function(n,t){return null!=n.z&&null!=t.z?Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)+Math.pow(n.z-t.z,2)):this.distance(n.x,n.y,t.x,t.y)},n.randomVec2Range=function(t,e,r){if(void 0===r&&(r=!1),r){var o=n.randomRange(0,tn),i=n.randomRange(0,e);return $(t.x+Math.cos(o)*i,t.y+Math.sin(o)*i)}return $(n.randomRange(t.x-e,t.x+e),n.randomRange(t.y-e,t.y+e))},n.randomVec2RangeLTRB=function(n,t){return $(this.randomRange(n.x,t.x),this.randomRange(n.y,t.y))},n.randomVec2Dir=function(){return $(1,0).rotate(Math.random()*tn)},n.clamp=function(n,t,e){if(t>e){var r=t;t=e,e=r}return Math.max(t,Math.min(e,n))},n.isCircleInFan=function(n,t,e,r,o,i,a,u){if(this.distance(n,t,r,o)+e>i)return!1;var c=Math.abs((t-o)*Math.cos(a)-(n-r)*Math.sin(a)),s=Math.abs((t-o)*Math.cos(u)-(n-r)*Math.sin(u));if(c<e||s<e)return!1;var f=this.getAngle(r,o,n,t),l=this.wrap(f,tn),d=this.wrap(a,tn),h=this.wrap(u,tn);return d<=h?l>=d&&l<=h:l>=d||l<=h},n.randomRange=function(t,e){return n.lerp(t,e,Math.random())},n.bool2num=function(n){return n?1:0},n.arrNoRepeat=function(n){for(var t=[],e=0;e<n.length;e++)-1==t.indexOf(n[e])&&t.push(n[e]);return n.length=0,n.push.apply(n,t),n},n.fetchArrEle=function(n,t){var e=n.indexOf(t);return-1==e?null:n.splice(e,1)[0]},n.pickRandom=function(n){return n[Math.floor(Math.random()*n.length)]},n.pickRandomKV=function(t){var e=n.pickRandom(Object.keys(t));return{k:e,v:t[e]}},n.fetchRandom=function(n){return this.fetchArrEle(n,this.pickRandom(n))},n.pickRandomItems=function(t,e){void 0===e&&(e=1);var r=[];t=[].concat(t);for(var o=0;o<e;o++){var i=n.pickRandom(t);null!=(i=n.fetchArrEle(t,i))&&r.push(i)}return r},n.pickRandomMap=function(n,t,e){var r=this;void 0===e&&(e=!1);var o={};return e&&t>=n.length&&(n.forEach((function(n){o[n]=1})),t-=n.length),Q(t,(function(){var t=r.pickRandom(n);o[t]||(o[t]=0),o[t]++})),o},n.irange=function(n,t){void 0===t&&(t=n-1,n=0),n=Math.floor(n),t=Math.ceil(t);for(var e=[],r=n;r<=t;r++)e.push(r);return e},n.randomInt=function(t,e){return n.pickRandom(n.irange(t,e))},n.deepCopy=function(t){var e=Array.isArray(t)?[]:{};for(var r in t)"object"==typeof t[r]?e[r]=n.deepCopy(t[r]):e[r]=t[r];return e},n.pickRandomByWeight=function(n){n=n.filter((function(n){return n.weight>0}));for(var t=0,e=0;e<n.length;++e)t+=n[e].weight;var r=Math.random()*t;t=0;for(var o=0;o<n.length-1;++o)if((t+=n[o].weight)>=r)return n[o].value;return n[n.length-1].value},n.pickRandomByArrWeight=function(n,t){for(var e=[],r=0;r<n.length;r++)e.push({id:r,weight:t[r]});return n[this.pickByWeight(e).id]},n.pickRandomByArrWeightCount=function(n,t,e){n=[].concat(n),t=[].concat(t);var r=[];t=[].concat(t);for(var o=0;o<e;o++){var i=this.pickRandomByArrWeight(n,t);r.push(i);var a=n.indexOf(i);n.splice(a,1),t.splice(a,1)}return r},n.pickByWeight=function(n){n=n.filter((function(n){return n.weight>0}));for(var t=0,e=0;e<n.length;++e)t+=n[e].weight;var r=Math.random()*t;t=0;for(var o=0;o<n.length-1;++o)if((t+=n[o].weight)>=r)return n[o];return n[n.length-1]},n.pickRandomItemsByWeight=function(n,t){var e=this,r=[];return Q(t,(function(){var t=e.pickByWeight(n);r.push(t),e.fetchArrEle(n,t)})),r},n.lineSegmentsIntersect=function(){var n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3],o=arguments.length<=4?void 0:arguments[4],i=arguments.length<=5?void 0:arguments[5],a=arguments.length<=6?void 0:arguments[6],u=arguments.length<=7?void 0:arguments[7],c=(e-n)*(u-i)-(a-o)*(r-t);if(0===c)return!1;var s=((u-i)*(a-n)+(o-a)*(u-t))/c,f=((t-r)*(a-n)+(e-n)*(u-t))/c;return s>0&&s<1&&f>0&&f<1},n.vec2=function(n,t){return new i(n,t)},n.angle2vec2=function(n){return i.UNIT_X.clone().rotate(n)},n.loopValue=function(n,t,e){var r=e-t+1;return((n-t)%r+r)%r+t},n.loopValuef=function(n,t,e){var r=e-t,o=1e-10;return r<=o?t:n>=t-o&&n<e+o?n:(n-=t,(n-=Math.floor(n/r)*r)<-1e-10&&(n+=r),Math.abs(n-r)<o&&(n=0),n+t)},n.formatNumber=function(n,t){void 0===t&&(t="000");var e=n.toFixed(0),r=t.substring(0,1),o=t.length;return r.repeat(o-e.length)+e},n.stringToArrayBuffer=function(n){for(var t=new ArrayBuffer(n.length),e=new Uint8Array(t),r=0;r<n.length;r++)e[r]=n.charCodeAt(r);return t},n.deg2rad=function(n){return n/180*Math.PI},n.rad2deg=function(n){return n/Math.PI*180},n.pad=function(n,t,e){void 0===e&&(e="0");var r=t-(n=n.toString()).length;return r<=0?n:e.repeat(r)+n},n.mapMul=function(n,t){var e={};for(var r in n)isNaN(n[r])||(e[r]=n[r]*t);return e},n.vec2angle=function(n){return Math.atan2(n.y,n.x)},n.convertStringConfig=function(n,t,e){void 0===t&&(t="="),void 0===e&&(e=",");var r={};if(!n)return r;var o=n.split(e);return 1!=o.length||n.includes(t)?(o.map((function(n){var e=n.split(t),o=Number(e[1]);r[e[0]]=isFinite(o)?o:e[1]})),r):(r.content=n,r)},n.convertStringArray=function(n,t){void 0===t&&(t=",");var e=[];return n?(n.split(t).map((function(n){var t=Number(n);e.push(isFinite(t)?t:n)})),e):e},n.deleteObjectValue=function(n,t){for(var e in n)n[e]==t&&delete n[e]},n.getArrEleCount=function(n,t){return n.filter((function(n){return n==t})).length},n.trimBigNumber=function(n,t){return void 0===t&&(t=2),Number(n.toFixed(t))},n.formatNumberCN=function(n){var t=n.toFixed(0),e={0:"",5:"万",9:"亿",14:"万亿",18:"兆",22:"万兆",24:"亿兆",28:"万亿兆",32:"京"},r="",o=0;for(var i in e){var a=Number(i);if(t.length<a){r=(Number(t)/Math.pow(10,o)).toFixed(0==o?0:1)+e[o];break}o=a}return r},n.formatNumberEN=function(n){var t=Math.abs(n);return t>=1e12?(n/1e12).toFixed(1)+"T":t>=1e9?(n/1e9).toFixed(1)+"B":t>=1e6?(n/1e6).toFixed(1)+"M":t>=1e3?(n/1e3).toFixed(1)+"K":Math.ceil(n).toFixed(0)},n.typingString=function(n,t,e){void 0===e&&(e=.1);var r=0;J((function(){return r+=1,t(n.substring(0,r)),r>=n.length}),e)},n.HslToRgb=function(n,t,e){var r,o,i;if(0===t)r=o=i=e;else{var a=function(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+(t-n)*(2/3-e)*6:n},u=e<.5?e*(1+t):e+t-e*t,c=2*e-u;r=a(c,u,n+1/3),o=a(c,u,n),i=a(c,u,n-1/3)}var s=function(n){var t=Math.round(255*n).toString(16);return 1===t.length?"0"+t:t},f="0x"+s(r)+s(o)+s(i);return Number(f)},n.randomColor=function(n,t){return void 0===n&&(n=1),void 0===t&&(t=.5),n=this.clamp(n,0,1),t=this.clamp(t,0,1),this.HslToRgb(Math.random(),n,t)},n.randomAttrPoints=function(n,t){var e=Object.keys(n);if(t<e.length)for(e.forEach((function(t){return n[t]=1}));t<Object.values(n).reduce((function(n,t){return n+t}),0);){var r=e[Math.floor(Math.random()*e.length)];n[r]=0}else for(e.forEach((function(t){return n[t]=1})),t-=e.length;t>0;){var o=e[Math.floor(Math.random()*e.length)];n[o]+=1,t--}return n},n.removeZeroElements=function(n){for(var t in n)n[t]||delete n[t];return n},n.randomNormal=function(n,t){void 0===n&&(n=0),void 0===t&&(t=2);var e=Math.random(),r=Math.random();return n+Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*r)*t},n.getRelativePos=function(n,t){if(!n||n.isDisposed)return $(0,0);if(!t||t.isDisposed)return $(0,0);var e=t.localToGlobal();return n.globalToLocal(e.x,e.y)},n.getRelativePosNode=function(n,t){if(!n||!n.isValid)return nn(0,0);if(!t||!t.isValid)return nn(0,0);var e=t.worldPosition;return n.worldPosition.clone().subtract(e)},n.getComponentInParents=function(n,t){return n.parent?n.parent.getComponent(t)||this.getComponentInParents(n.parent,t):null},n.getWorld2DPos=function(n,t){void 0===t&&(t=new a);var e=n.worldPosition,r=this.getComponentInParents(n,s).node.worldPosition;return e.clone().subtract(r)},n.formatRichText=function(n,t,e){var r;void 0===e&&(e={});var o="";return o+="<size="+(e.fontSize||n.fontSize)+">",o+="<color="+(e.color||n.color.toCSS("#rrggbb"))+">","</size>","</color>","</outline>",(o+="<outline color="+(e.strokeColor||(null==(r=n.strokeColor)?void 0:r.toCSS("#rrggbb")))+" width="+(e.stroke||n.stroke)+">")+t+"</size></color></outline>"},n.setRichText=function(n,t,e){var r=e?this.formatRichText(n,t,e):t;n.originY=n.originY||n.y,n._text=r;var o=n._node.getComponent(f);q((function(){if(n&&!n.isDisposed){var t=o.height,e=n.node.children.length;n._text=r,n.y=n.originY+.5*n.height-.5*t+e}}))},n.autoRichTextNumber=function(n){for(var t=/^[-+]?(\d+(\.\d+)?|\.\d+)(%?)?$/,e=[],r="",o=0;o<n.length;o++){var i=n[o];i.match(/[-+\d%.]/g)?r+=i:(r&&(r.match(t)?r.startsWith("-")?e.push("<color=red>"+r+"</color>"):(r.startsWith("+"),e.push("<color=green>"+r+"</color>")):e.push(""+r),r=""),e.push(""+i))}return r&&(r.match(t)?r.startsWith("-")?e.push("<color=red>"+r+"</color>"):(r.startsWith("+"),e.push("<color=green>"+r+"</color>")):e.push(""+r)),e.join("")},n.UISetExtension=function(n){k.setExtension(n.URL,n)},n.UISetExtensions=function(n,t){t.forEach((function(t){k.setExtension(t,n)}))},n.getTimeDifference=function(n,t){var e=t-n,r=Math.floor(e/1e3%60).toFixed(0).padStart(2,"0"),o=Math.floor(e/6e4%60).toFixed(0).padStart(2,"0");return Math.floor(e/36e5%24).toFixed(0).padStart(2,"0")+":"+o+":"+r},n.bindLoader3d=function(n,t,e){void 0===e&&(e="idle");var r=new S;r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height,r.align=O.Center,r.verticalAlign=R.Middle;var o=n.parent.getChildIndex(n);return n.parent.addChildAt(r,o+1),n.visible=!1,E.changeFGUISpine(t+"/"+t,"spine_ex",r,e,!0),r},n.bindLoader3dOverwrite=function(n){var t=new S;t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height,t.align=n.align,t.verticalAlign=n.verticalAlign,t.fill=n.fill;var e=n.parent.getChildIndex(n);for(var r in n.parent.addChildAt(t,e+1),n.visible=!1,n.parent)n.parent[r]==n&&(n.parent[r]=t);return t.addRelation(n,T.Center_Center),t},n.createSpineLoader=function(n,t,e,r,o){void 0===e&&(e="idle"),void 0===r&&(r=100),void 0===o&&(o=1);var i=new S;return i.setPivot(.5,.5,!0),i.width=r,i.height=r,i.align=O.Center,i.verticalAlign=R.Middle,i.setScale(o,o),E.changeFGUISpine(n+"/"+t,"spine_ex",i,e,!0,(function(){})),i},n.bounceList=function(){var n=t(e().mark((function n(t,r,o){var i;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:void 0===r&&(r=.1),void 0===o&&(o=1.4),i=0,t._children.forEach((function(n){n.setPivot(.5,.5),n.scaleX=0,n.scaleY=0;var t=l(n).delay(i).to(.2,{scaleX:o,scaleY:o},{onUpdate:function(){n.node||t.destroySelf()}}).to(.1,{scaleX:1,scaleY:1},{onUpdate:function(){n.node||t.destroySelf()}}).start();i+=r}));case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.autoScaleList=function(n,t,e){void 0===t&&(t=1),void 0===e&&(e=1);var r=n._children[0];if(r){var o=Math.ceil(n.numChildren/7),i=1==o?n.numChildren:7,a=(i+1)*n.columnGap+i*r.width,u=(o+1)*n.lineGap+o*r.height,c=n.width*e/a*.95,s=n.height*e/u*.95,f=Math.max(Math.min(t,e),Math.min(c,s));n.scaleX=f,n.scaleY=f}},n.convertToLocal=function(n,t){var e=n.parent;return e?e.inverseTransformPoint(new a,new a(t.x,t.y,0)):t},n.isOneDayPass=function(n,t){void 0===t&&(t=1);var e=new Date(n).setHours(t,0,0,0);return(new Date).setHours(t,0,0,0)-e>=W},n.getDayPass=function(n,t){void 0===t&&(t=1);var e=new Date(n).setHours(t,0,0,0),r=(new Date).setHours(t,0,0,0)-e;return Math.floor(r/W)},n.isOneDayPass24=function(n){var t=new Date(n).setHours(0,0,0,0);return(new Date).setHours(0,0,0,0)-t>=W},n.getTimeLeftStr=function(n,t){t&&(n=new Date(n).setHours(t,0,0,0));var e=Date.now()-n;return this.formatSeconds(W-e)},n.reparentUI=function(n,t){var e=this.getRelativePos(n,t);n.addChild(t),t.x=e.x,t.y=e.y},n.reparentNode=function(n,t){var e=n.getWorldPosition().clone(),r=n.getWorldRotation().clone(),o=n.getWorldScale().clone();t.addChild(n),n.setWorldPosition(e),n.setWorldRotation(r),n.setWorldScale(o)},n.tweenSync=function(){var n=t(e().mark((function n(t){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){t.call((function(){n(null)})).start()})));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),n.arraySwitchEle=function(n,t,e){var r=n.indexOf(t),o=n.indexOf(e),i=n[r];n[r]=n[o],n[o]=i},n.arraySetEleIndex=function(n,t,e){var r=n.splice(n.indexOf(t),1)[0];n.splice(e,0,r)},n.setLoader3dSpeed=function(n,t){var e=n._content;e&&(e.timeScale=t)},n.GListAutoSize=function(n,t){t||(t=n.columnCount);var e=Math.ceil(n._children.length/t),r=n._children[0]?n._children[0].height:0,o=n.lineGap;n.height=(r+o)*e},n.tweenWait=function(n){return new Promise((function(t){n.call((function(){return t(null)})).start()}))},n.GComponentYSort=function(n){var t=n.node.children[0];if(t.children.sort((function(n,t){return t.position.y-n.position.y})),u.isNative)for(var e=0;e<t.children.length;e++){t.children[e].setSiblingIndex(e)}t._children=t.children},n.vec2LikeEqual=function(n,t){return n.x==t.x&&n.y==t.y},n.showToast=function(n,t){var e=C.createObjectFromURL(t);e.title=n,e.sortingOrder=1/0,A.inst.addChild(e),e.x=.5*A.inst.width-.5*e.width,e.y=A.inst.height+200,e.touchable=!1,l(e).to(.4,{y:.3*A.inst.height},{easing:"quadOut"}).delay(1).to(.2,{y:-200}).call((function(){return e.dispose()})).start()},n.ObjectApplyTo=function(n,t){for(var e=0,r=Object.keys(n);e<r.length;e++){var o=r[e],i=n[o],a=typeof i;if("string"!=a&&"number"!=a||o.startsWith("_"))if(i instanceof N){t[o].selectedIndex=i.selectedIndex}else i instanceof d&&(t[o]=i.clone());else t[o]=i}},n.isGObjectInTree=function(n){if(null!=n)return!!n.parent&&(n.parent==A.inst||this.isGObjectInTree(n.parent))},n.randomIntByFloat=function(n){var t=Math.floor(n),e=n-t;return Math.random()<e?t+1:t},n.dynamicLoadPref=function(){var n=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||(r=t.substring(t.indexOf("/")+1),t=t.substring(0,t.indexOf("/"))),n.abrupt("return",new Promise((function(n){x.loadBundle(t,(function(t,e){e.load(r,(function(t,e){e&&o(e)?n(e):n(null)}))}))})));case 2:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),n.dynamicLoadInst=function(){var n=t(e().mark((function n(t,r,i){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===i&&(i=!0),r||(r=t.substring(t.indexOf("/")+1),t=t.substring(0,t.indexOf("/"))),n.abrupt("return",new Promise((function(n){x.loadBundle(t,(function(t,e){e.load(r,(function(t,e){if(e&&o(e)){var r=b(e);i&&M.getScene().addChild(r),n(r)}else n(null)}))}))})));case 3:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.dynamicLoadRes=function(){var n=t(e().mark((function n(t,r,i){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||(r=t.substring(t.indexOf("/")+1),t=t.substring(0,t.indexOf("/"))),n.abrupt("return",new Promise((function(n){x.loadBundle(t,(function(t,e){e.load(r,i,(function(t,e){e&&o(e)?n(e):n(null)}))}))})));case 2:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.dynamicLoadUIPackage=function(){var n=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||(r=t.substring(t.indexOf("/")+1),t=t.substring(0,t.indexOf("/"))),n.abrupt("return",new Promise((function(n){x.loadBundle(t,(function(t,e){console.log("加载bundle",e),t?console.log(t):C.loadPackage(e,"./"+r,(function(){console.log("加载package",e,r),n(null)}))}))})));case 2:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),n.dynamicLoadDir=function(){var n=t(e().mark((function n(t,r,o){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===o&&(o=!1),n.abrupt("return",new Promise((function(n){x.loadBundle(t,(function(t,e){console.log("加载bundle",e),t?console.log(t):o?(e.preloadDir(r,(function(n,t){console.log("预加载完成",n,r,t)})),n(null)):e.loadDir(r,(function(){console.log("完成加载文件夹",r),n(null)}))}))})));case 2:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.arrAdd=function(n,t){-1==n.indexOf(t)&&n.push(t)},n.isArrNull=function(n){return!n||0==n.length},n.raycastToBox=function(n,t,e,r){var o=(r.x-n.x)/t.x,i=(r.x+r.w-n.x)/t.x,a=(r.y-n.y)/t.y,u=(r.y+r.h-n.y)/t.y,c=Math.max(Math.min(o,i),Math.min(a,u));return!(Math.min(Math.max(o,i),Math.max(a,u))<0||c>e)},n.isUIInsideTree=function(n){return n.parent==A.inst||!!n.parent&&this.isUIInsideTree(n.parent)},n.isUIPartOfWindow=function(n){return!!(n instanceof _||n.constructor.name.toLowerCase().includes("window")||"frame"==n.name)||(!(!n._parent||!(n._parent instanceof _||n._parent.constructor.name.toLowerCase().includes("window")))||!!n._parent&&this.isUIPartOfWindow(n._parent))},n.mapMerge=function(n,t){for(var e={},r=0,o=Object.keys(n);r<o.length;r++){var i=o[r];e[i]||(e[i]=0),e[i]+=n[i]}for(var a=0,u=Object.keys(t);a<u.length;a++){var c=u[a];e[c]||(e[c]=0),e[c]+=t[c]}return e},n.getUIItem=function(n){return n.packageItem?{name:n.packageItem.name,package:n.packageItem.owner.name}:{}},n.getBasePos=function(n,t,e){return void 0===e&&(e=$()),t.parent==n?e.add2f(t.x,t.y):this.getBasePos(n,t.parent,e.add2f(t.x,t.y))},n.parseStrConf=function(n){if(!n)return{};if(n.includes("\n")){var t=n.split("\n"),e=[];return t.forEach((function(n){var t=n.split("|"),r={};t.forEach((function(n){var t=n.split("="),e=t[0],o=t[1];if(o.includes(",")){var i=o.split(",");isNaN(Number(i[0]))?r[e]=i:r[e]=i.map((function(n){return Number(n)}))}else{var a=Number(o);r[e]=isNaN(a)?o:a}})),e.push(r)})),e}var r=n.split("|"),o={};return r.forEach((function(n){var t=n.split("="),e=t[0],r=t[1];if(r.includes(",")){var i=r.split(",");isNaN(Number(i[0]))?o[e]=i:o[e]=i.map((function(n){return Number(n)}))}else{var a=Number(r);o[e]=isNaN(a)?r:a}})),o},n.parseUIData=function(n){var t=n.data;return this.parseStrConf(t)},n.deepCloneWithPrototype=function(n,t){if(void 0===t&&(t=new WeakMap),null===n||"object"!=typeof n)return n;if(t.has(n))return t.get(n);var e=Object.create(Object.getPrototypeOf(n));t.set(n,e);for(var r=Object.getOwnPropertyDescriptors(n),o=0,i=Object.entries(r);o<i.length;o++){var a=i[o],u=a[0],c=a[1];void 0!==c.value&&(c.value=this.deepCloneWithPrototype(c.value,t)),Object.defineProperty(e,u,c)}return e},n.pauseTransitions=function(n){var t=this;V(n,(function(n){n instanceof I&&n._transitions.forEach((function(n){n.setPaused(!0),t._pausedTranstions.push(n)}))}))},n.resumeTransitions=function(){this._pausedTranstions.forEach((function(n){return n.setPaused(!1)})),this._pausedTranstions.length=0},n.pauseAnimations=function(n){var t=this;n.getComponentsInChildren(h).forEach((function(n){for(var e in n._nameToState){var r=n._nameToState[e];r.isPlaying&&(r.pause(),t._pausedAnimations.push(r))}}))},n.resumeAnimations=function(){this._pausedAnimations.forEach((function(n){return n.resume()})),this._pausedAnimations.length=0},n.debugDraw=function(){p.instance.debugDrawFlags=v.All},n.signSeg=function(n,t){return void 0===t&&(t=.01),n>t?1:n<-t?-1:0},n.setLayerByName=function(n,t){n instanceof g&&(n=n.node);var e=m.nameToLayer(t),r=Math.pow(2,e);G(n,(function(n){n.layer=r}))},n.toSafeInt=function(n){var t=.01*Math.round(100*n);return Math.abs(n-t)<1e-4?t:n},n.KV=function(n,t){void 0===t&&(t=0);var e=Object.keys(n)[t];if(e)return{key:e,value:n[e]}},n.playAnimAsync=function(){var n=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===r&&(r=t.clips[0].name),t.stop(),t.play(r),!(2==t.clips.find((function(n){return n.name==r})).wrapMode)){n.next=6;break}return n.abrupt("return",!0);case 6:return n.abrupt("return",new Promise((function(n){t.once(h.EventType.FINISHED,(function(){n(null)})),J((function(){if(!t.isValid)return n(null),!0}))})));case 7:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),n.ArrRemoveEles=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];if(!n||!e.length)return n;for(var o=n.length-1;o>=0;o--)e.includes(n[o])&&n.splice(o,1);return n},n.addPrefabToCom=function(){var n=t(e().mark((function n(t,r,o,i){var a;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===i&&(i=1),n.next=3,this.dynamicLoadInst(r,o);case 3:if(a=n.sent,!t.isDisposed){n.next=6;break}return n.abrupt("return");case 6:return G(a,(function(n){})),a.setScale(i,i,i),t.node.addChild(a),n.abrupt("return",a);case 10:case"end":return n.stop()}}),n,this)})));return function(t,e,r,o){return n.apply(this,arguments)}}(),n.playNodeEffect=function(n){G(n,(function(n){var t=n.getComponent(y);t&&(t.autoRemoveOnFinish=!0,t.playOnLoad=!0,t.resetSystem());var e=n.getComponent(w);e&&e.play();var r=n.getComponent(h);r&&(r.playOnLoad=!0,r.play(r.defaultClip.name))}))},n.getSpriteFrameFromFgui=function(n){var t=C.getItemByURL(n);if(t||console.error("没有这个资源",n),(t=(t=t.getBranch()).getHighResolution()).load(),t.type==D.Image){if(t.asset)return t.asset;console.error("没有这个资源",n)}},n.getWindow=function(n){return void 0===n&&(n=U),A.inst._children.find((function(t){return t instanceof n&&t.isShown}))},n.getNodePath=function(n){return n.getPathInHierarchy()},n}()));B=en,en.formatSeconds=function(n,t){void 0===t&&(t=!1);var e=n/1e3,r=0,o=0;return e>60?(r=Math.floor(e/60),e=Math.floor(e%60),r>60&&(o=Math.floor(r/60),r=Math.floor(r%60))):e=Math.floor(e),t?B.pad(r,2)+":"+B.pad(e,2):B.pad(o,2)+":"+B.pad(r,2)+":"+B.pad(e,2)},en.mapJoin=function(){for(var n={},t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var o=0,i=e;o<i.length;o++){var a=i[o];for(var u in a)n[u]=n[u]||0,n[u]+=a[u]}for(var c in n)0==n[c]&&delete n[c];return n},en.vec2Right=$(1,0),en.vec2Left=$(-1,0),en.vec2Up=$(0,-1),en.vec2Down=$(0,1),en._pausedTranstions=[],en._pausedAnimations=[];var rn=[];globalThis.Snippet=en;var on=c.prototype.getComponentsInChildren;c.prototype.getComponentsInChildren=function(n){var t=this.getComponent(n),e=on.call(this,n);return t&&e.unshift(t),e};var an=c.prototype.getComponentInChildren;c.prototype.getComponentInChildren=function(n){var t=this.getComponent(n);return t||an.call(this,n)},r._RF.pop()}}}));

System.register("chunks:///_virtual/util2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./YT.ts","./UIHelper.ts"],(function(n){var t,e,r,i,o,a,u,c,l,f,s,h,d,v,p,g,m,y,x,w,b,M,I;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy,i=n.Vec2,o=n.Vec3,a=n.UITransform,u=n.sys,c=n.tween,l=n.Color,f=n.assetManager},function(n){s=n.GList,h=n.GComponent,d=n.UIPackage,v=n.UIObjectFactory,p=n.GLoader3D,g=n.AlignType,m=n.VertAlignType,y=n.RelationType,x=n.GRoot,w=n.Controller,b=n.Window},function(n){M=n.YT},function(n){I=n.UIHelper}],execute:function(){var O;n({FuncAsync:function(n,t){return new Promise((function(e,r){n((function(){t&&t(),e()}))}))},UIBinder:function(n){j.push(n)},bindAll:function(){j.forEach((function(n){v.setExtension(n.URL,n)}))},delay:S,distance:function(n,t,e,r){return Math.sqrt((n-e)*(n-e)+(t-r)*(t-r))},loadUIPage:function(n,t){return k.apply(this,arguments)},nextFrame:N,repeat:U,through:function n(t,e){e(t);for(var r=0;r<t.children.length;r++)n(t.children[r],e)},throughFGUI:P,updater:C,vec2:T,vec3:function(n,t,e){if(t=null==t?n:t,e=null==e?n:e,"number"==typeof n)return new o(n,t,e);if("object"==typeof n){var r={x:n.x||0,y:n.y||0,z:n.z||0};return new o(r.x,r.y,r.z)}}}),r._RF.push({},"8e616ijsoxHUa9z/pqFf3o/","util",void 0);var R=n("OneDayTime",864e5);function P(n,t){if(t(n),n instanceof s||n instanceof h)for(var e=0;e<n._children.length;e++)P(n._children[e],t)}function k(){return(k=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var e="ui/"+t;r(),d.loadPackage(e,(function(){d.addPackage(e),n()}))})));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(n,t){return new Promise((function(e){M.timer.scheduleOnce((function(){t&&t(),e()}),n)}))}function N(n){return S(0,n)}function C(n,t){return void 0===t&&(t=0),new Promise((function(e){var r=0;M.timer.addUpdate((function i(o){(r+=o)>t&&(n(0==t?o:r)&&(M.timer.removeUpdate(i),e()),r-=t)}))}))}function U(n,t){for(var e,r=[],i=0;i<n;i++){var o=t(i);if(e=o instanceof Promise,o&&!e)break;e&&r.push(o)}if(e)return Promise.all(r)}n("Emitter",function(){function n(n){this.sender=void 0,this.all=new Map,this.sender=n}var t=n.prototype;return t.on=function(n,t){var e=this.all.get(n);return e&&e.push(t)||this.all.set(n,[t]),t},t.off=function(n,t){var e=this.all.get(n);e&&(t?e.splice(e.indexOf(t)>>>0,1):e.length=0)},t.emit=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];(this.all.get(n)||[]).slice().map((function(n){n.apply(void 0,e)}))},t.dispose=function(){this.all.clear()},n}());function T(n,t){return null==n?new i:"number"==typeof n?(null==t&&(t=n),new i(n,t)):null!=n.x?new i(n.x,n.y):new i(n[0],n[1])}var A=n("TAU",2*Math.PI),_=(n("PIE",Math.PI),n("default",function(){function n(){}return n.arrReplace=function(n,t,e){n.splice(n.indexOf(t),1,e)},n.wrap=function(n,t){return(n%t+t)%t},n.arrayShuffle=function(n){n.sort((function(n,t){return Math.random()-.5}))},n.arrayShuffle2=function(n){for(var t=n.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),r=[n[e],n[t]];n[t]=r[0],n[e]=r[1]}return n},n.lerp=function(n,t,e){return n+(t-n)*e},n.arrayOverlap=function(n,t){for(var e=0;e<n.length;e++)if(-1!=t.indexOf(n[e]))return!0;return!1},n.arrayCover=function(n,t){for(var e=!0,r=0;r<n.length;r++)-1==t.indexOf(n[r])&&(e=!1);return e},n.arraySame=function(n,t){return n.length==t.length&&(this.arrNoRepeat(n),this.arrNoRepeat(t),this.arrayCover(n,t))},n.lerpVec=function(n,t,e){return new i(this.lerp(n.x,t.x,e),this.lerp(n.y,t.y,e))},n.vecFlatDist=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},n.distance=function(n,t,e,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(t-r,2))},n.getAngle=function(n,t,e,r){return Math.atan2(r-t,e-n)},n.angleObject=function(n,t){return void 0===t&&(t={x:0,y:0}),Math.atan2(t.y-n.y,t.x-n.x)},n.distanceObject=function(n,t){return this.distance(n.x,n.y,t.x,t.y)},n.randomVec2Range=function(t,e){return T(n.randomRange(t.x-e,t.x+e),n.randomRange(t.y-e,t.y+e))},n.randomVec2RangeLTRB=function(n,t){return T(this.randomRange(n.x,t.x),this.randomRange(n.y,t.y))},n.randomVec2Dir=function(){return T(1,0).rotate(Math.random()*A)},n.clamp=function(n,t,e){if(t>e){var r=t;t=e,e=r}return Math.max(t,Math.min(e,n))},n.randomRange=function(t,e){return n.lerp(t,e,Math.random())},n.bool2num=function(n){return n?1:0},n.arrNoRepeat=function(n){for(var t=[],e=0;e<n.length;e++)-1==t.indexOf(n[e])&&t.push(n[e]);n.length=0,n.push.apply(n,t)},n.fetchArrEle=function(n,t){var e=n.indexOf(t);return-1==e?null:n.splice(e,1)[0]},n.pickRandom=function(n){return n[Math.floor(Math.random()*n.length)]},n.fetchRandom=function(n){return this.fetchArrEle(n,this.pickRandom(n))},n.pickRandomItems=function(t,e){void 0===e&&(e=1);var r=[];t=[].concat(t);for(var i=0;i<e;i++){var o=n.pickRandom(t);null!=(o=n.fetchArrEle(t,o))&&r.push(o)}return r},n.irange=function(n,t){void 0===t&&(t=n-1,n=0),n=Math.floor(n),t=Math.ceil(t);for(var e=[],r=n;r<=t;r++)e.push(r);return e},n.randomInt=function(t,e){return n.pickRandom(n.irange(t,e))},n.deepCopy=function(t){var e=Array.isArray(t)?[]:{};for(var r in t)"object"==typeof t[r]?e[r]=n.deepCopy(t[r]):e[r]=t[r];return e},n.pickRandomByWeight=function(n){if(0==(n=n.filter((function(n){return n.weight>0}))).length)return null;for(var t=0,e=0;e<n.length;++e)t+=n[e].weight;var r=Math.random()*t;t=0;for(var i=0;i<n.length-1;++i)if((t+=n[i].weight)>=r)return n[i].value;return n[n.length-1].value},n.pickRandomByArrWeight=function(n,t){for(var e=[],r=0;r<n.length;r++)e.push({id:r,weight:t[r]});return n[this.pickByWeight(e).id]},n.pickRandomByArrWeightCount=function(n,t,e){var r=[];t=[].concat(t);for(var i=0;i<e;i++){var o=this.pickRandomByArrWeight(n,t);r.push(o);var a=n.indexOf(o);n.splice(a,1),t.splice(a,1)}return r},n.pickByWeight=function(n){n=n.filter((function(n){return n.weight>0}));for(var t=0,e=0;e<n.length;++e)t+=n[e].weight;var r=Math.random()*t;t=0;for(var i=0;i<n.length-1;++i)if((t+=n[i].weight)>=r)return n[i];return n[n.length-1]},n.pickRandomItemsByWeight=function(n,t){var e=this,r=[];return U(t,(function(){var t=e.pickByWeight(n);r.push(t),e.fetchArrEle(n,t)})),r},n.lineSegmentsIntersect=function(){var n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3],i=arguments.length<=4?void 0:arguments[4],o=arguments.length<=5?void 0:arguments[5],a=arguments.length<=6?void 0:arguments[6],u=arguments.length<=7?void 0:arguments[7],c=(e-n)*(u-o)-(a-i)*(r-t);if(0===c)return!1;var l=((u-o)*(a-n)+(i-a)*(u-t))/c,f=((t-r)*(a-n)+(e-n)*(u-t))/c;return l>0&&l<1&&f>0&&f<1},n.rad2angle=function(n){return n/Math.PI*180},n.angle2rad=function(n){return n/180*Math.PI},n.vec2=function(n,t){return new i(n,t)},n.angle2vec2=function(n){return i.UNIT_X.clone().rotate(n)},n.loopValue=function(n,t,e){var r=e-t+1;return((n-t)%r+r)%r+t},n.getParams=function(){var n=new Object,t=location.search;-1!=t.indexOf("?")&&t.substr(1).split("&").map((function(t){var e=t.split("=")[1];isFinite(Number(e))?e=Number(e):decodeURI&&(e=decodeURI(e)),n[t.split("=")[0]]=e}));return n},n.formatNumber=function(n,t){void 0===t&&(t="000");var e=n.toFixed(0),r=t.substring(0,1),i=t.length;return r.repeat(i-e.length)+e},n.stringToArrayBuffer=function(n){for(var t=new ArrayBuffer(n.length),e=new Uint8Array(t),r=0;r<n.length;r++)e[r]=n.charCodeAt(r);return t},n.deg2rad=function(n){return n/180*Math.PI},n.rad2deg=function(n){return n/Math.PI*180},n.pad=function(n,t,e){void 0===e&&(e="0");var r=t-(n=n.toString()).length;return r<=0?n:e.repeat(r)+n},n.vec2angle=function(n,t){return Math.atan2(n.y,n.x)},n.convertStringConfig=function(n,t,e){void 0===t&&(t="="),void 0===e&&(e=",");var r={};if(!n)return r;var i=n.split(e);return 1!=i.length||n.includes(t)?(i.map((function(n){var e=n.split(t),i=Number(e[1]);r[e[0]]=isFinite(i)?i:e[1]})),r):(r.content=n,r)},n.convertStringArray=function(n,t){void 0===t&&(t=",");var e=[];return n?(n.split(t).map((function(n){var t=Number(n);e.push(isFinite(t)?t:n)})),e):e},n.deleteObjectValue=function(n,t){for(var e in n)n[e]==t&&delete n[e]},n.getArrEleCount=function(n,t){return n.filter((function(n){return n==t})).length},n.domDownloadStr=function(n,t){var e=new Blob([n],{type:"application/text;charset=utf-8"}),r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=t,i.click()},n.trimBigNumber=function(n,t){return void 0===t&&(t=2),Number(n.toFixed(t))},n.formatNumberCN=function(n){var t=n.toFixed(0),e={0:"",5:"万",9:"亿",14:"万亿",18:"兆",22:"万兆",24:"亿兆",28:"万亿兆",32:"京"},r="",i=0;for(var o in e){var a=Number(o);if(t.length<a){r=(Number(t)/Math.pow(10,i)).toFixed(0==i?0:1)+e[i];break}i=a}return r},n.formatNumberEN=function(n){var t=Math.abs(n);return t>=1e12?(n/1e12).toFixed(1)+"T":t>=1e9?(n/1e9).toFixed(1)+"B":t>=1e6?(n/1e6).toFixed(1)+"M":t>=1e3?(n/1e3).toFixed(1)+"K":Math.ceil(n).toFixed(0)},n.typingString=function(n,t,e){void 0===e&&(e=.1);var r=0;C((function(){return r+=1,t(n.substring(0,r)),r>=n.length}),e)},n.HslToRgb=function(n,t,e){var r,i,o;if(0===t)r=i=o=e;else{var a=function(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+(t-n)*(2/3-e)*6:n},u=e<.5?e*(1+t):e+t-e*t,c=2*e-u;r=a(c,u,n+1/3),i=a(c,u,n),o=a(c,u,n-1/3)}var l=function(n){var t=Math.round(255*n).toString(16);return 1===t.length?"0"+t:t},f="0x"+l(r)+l(i)+l(o);return Number(f)},n.randomColor=function(n,t){return void 0===n&&(n=1),void 0===t&&(t=.5),n=this.clamp(n,0,1),t=this.clamp(t,0,1),this.HslToRgb(Math.random(),n,t)},n.randomAttrPoints=function(n,t){var e=Object.keys(n);if(t<e.length)for(e.forEach((function(t){return n[t]=1}));t<Object.values(n).reduce((function(n,t){return n+t}),0);){var r=e[Math.floor(Math.random()*e.length)];n[r]=0}else for(e.forEach((function(t){return n[t]=1})),t-=e.length;t>0;){var i=e[Math.floor(Math.random()*e.length)];n[i]+=1,t--}return n},n.removeZeroElements=function(n){for(var t in n)n[t]||delete n[t];return n},n.randomNormal=function(n,t){void 0===n&&(n=0),void 0===t&&(t=2);var e=Math.random(),r=Math.random();return n+Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*r)*t},n.getRelativePos=function(n,t,e,r){if(!n||n.isDisposed)return T(0,0);if(!t||t.isDisposed)return T(0,0);var i=e&&r?t.localToGlobal(e,r):t.localToGlobal();return n.globalToLocal(i.x,i.y)},n.setRichText=function(n,t,e){var r;void 0===e&&(e={});var i="";i+="<size="+(e.fontSize||n.fontSize)+">",i+="<color="+(e.color||n.color.toCSS("#rrggbb"))+">";var o=(i+="<outline color="+(e.strokeColor||(null==(r=n.strokeColor)?void 0:r.toCSS("#rrggbb")))+" width="+(e.stroke||n.stroke)+">")+t+"</size></color></outline>";n.originY=n.originY||n.y,n._text=o;var u=n._node.getComponent(a);N((function(){if(n&&!n.isDisposed){var t=u.height,e=n.node.children.length;n._text=o,n.y=n.originY+.5*n.height-.5*t+e}}))},n.autoRichTextNumber=function(n){for(var t=/^[-+]?(\d+(\.\d+)?|\.\d+)(%?)?$/,e=[],r="",i=0;i<n.length;i++){var o=n[i];o.match(/[-+\d%.]/g)?r+=o:(r&&(r.match(t)?r.startsWith("-")?e.push("<color=red>"+r+"</color>"):(r.startsWith("+"),e.push("<color=green>"+r+"</color>")):e.push(""+r),r=""),e.push(""+o))}return r&&(r.match(t)?r.startsWith("-")?e.push("<color=red>"+r+"</color>"):(r.startsWith("+"),e.push("<color=green>"+r+"</color>")):e.push(""+r)),e.join("")},n.UISetExtension=function(n){v.setExtension(n.URL,n)},n.UISetExtensions=function(n,t){t.forEach((function(t){v.setExtension(t,n)}))},n.getTimeDifference=function(n,t){var e=t-n,r=Math.floor(e/1e3%60).toFixed(0).padStart(2,"0"),i=Math.floor(e/6e4%60).toFixed(0).padStart(2,"0");return Math.floor(e/36e5%24).toFixed(0).padStart(2,"0")+":"+i+":"+r},n.bindLoader3d=function(n,t,e){void 0===e&&(e="idle");var r=new p;r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height,r.align=g.Center,r.verticalAlign=m.Middle;var i=n.parent.getChildIndex(n);return n.parent.addChildAt(r,i+1),n.visible=!1,I.changeFGUISpine(t+"/"+t,"spine_ex",r,e,!0),r},n.bindLoader3dOverwrite=function(n){var t=new p;t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height,t.align=n.align,t.verticalAlign=n.verticalAlign,t.fill=n.fill;var e=n.parent.getChildIndex(n);for(var r in n.parent.addChildAt(t,e+1),n.visible=!1,n.parent)n.parent[r]==n&&(n.parent[r]=t);return t.addRelation(n,y.Center_Center),t},n.createSpineLoader=function(n,t,e,r,i){void 0===e&&(e="idle"),void 0===r&&(r=100),void 0===i&&(i=1);var o=new p;return o.setPivot(.5,.5,!0),o.width=r,o.height=r,o.align=g.Center,o.verticalAlign=m.Middle,o.setScale(i,i),o.animationName=e,o.setUrlWithBundle(t,n),o},n.bounceList=function(){var n=t(e().mark((function n(t,r,i){var o;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:void 0===r&&(r=.1),void 0===i&&(i=1.4),o=0,t._children.forEach((function(n){n.setPivot(.5,.5),n.scaleX=0,n.scaleY=0;var t=c(n).delay(o).to(.2,{scaleX:i,scaleY:i},{onUpdate:function(){n.node||t.destroySelf()}}).to(.1,{scaleX:1,scaleY:1},{onUpdate:function(){n.node||t.destroySelf()}}).start();o+=r}));case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.autoScaleList=function(n,t,e){void 0===t&&(t=1),void 0===e&&(e=1);var r=n._children[0];if(r){var i=Math.ceil(n.numChildren/7),o=1==i?n.numChildren:7,a=(o+1)*n.columnGap+o*r.width,u=(i+1)*n.lineGap+i*r.height,c=n.width*e/a*.95,l=n.height*e/u*.95,f=Math.max(Math.min(t,e),Math.min(c,l));n.scaleX=f,n.scaleY=f}},n.isOneDayPass=function(n,t){void 0===t&&(t=1);var e=new Date(n).setHours(t,0,0,0);return(new Date).setHours(t,0,0,0)-e>=R},n.isOneDayPass24=function(n){var t=new Date(n).setHours(0,0,0,0);return(new Date).setHours(0,0,0,0)-t>=R},n.getTimeLeftStr=function(n,t){t&&(n=new Date(n).setHours(t,0,0,0));var e=Date.now()-n;return this.formatSeconds(R-e)},n.reparentUI=function(n,t){var e=this.getRelativePos(n,t);n.addChild(t),t.x=e.x,t.y=e.y},n.arraySwitchEle=function(n,t,e){var r=n.indexOf(t),i=n.indexOf(e),o=n[r];n[r]=n[i],n[i]=o},n.arraySetEleIndex=function(n,t,e){var r=n.splice(n.indexOf(t),1)[0];n.splice(e,0,r)},n.setLoader3dSpeed=function(n,t){var e=n._content;e&&(e.timeScale=t)},n.GListAutoSize=function(n,t){t||(t=n.columnCount);var e=Math.ceil(n._children.length/t),r=n._children[0]?n._children[0].height:0,i=n.lineGap;n.height=(r+i)*e},n.tweenWait=function(n){return new Promise((function(t){n.call((function(){return t(null)})).start()}))},n.GComponentYSort=function(n){var t=n.node.children[0];if(t.children.sort((function(n,t){return t.position.y-n.position.y})),u.isNative)for(var e=0;e<t.children.length;e++){t.children[e].setSiblingIndex(e)}t._children=t.children},n.vec2LikeEqual=function(n,t){return n.x==t.x&&n.y==t.y},n.showToast=function(n,t){var e=d.createObjectFromURL(t);e.title=n,e.sortingOrder=1/0,x.inst.addChild(e),e.x=.5*x.inst.width-.5*e.width,e.y=x.inst.height+200,e.touchable=!1,c(e).to(.4,{y:.3*x.inst.height},{easing:"quadOut"}).delay(1).to(.2,{y:-200}).call((function(){return e.dispose()})).start()},n.ObjectApplyTo=function(n,t){for(var e=0,r=Object.keys(n);e<r.length;e++){var i=r[e],o=n[i],a=typeof o;if("string"!=a&&"number"!=a||i.startsWith("_"))if(o instanceof w){t[i].selectedIndex=o.selectedIndex}else o instanceof l&&(t[i]=o.clone());else t[i]=o}},n.isGObjectInTree=function(n){if(null!=n)return!!n.parent&&(n.parent==x.inst||this.isGObjectInTree(n.parent))},n.randomIntByFloat=function(n){var t=Math.floor(n),e=n-t;return Math.random()<e?t+1:t},n.dynamicLoadUIPackage=function(){var n=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){f.loadBundle(t,(function(e,i){console.log("加载bundle",t),e?console.log(e):d.loadPackage(i,"./"+r,(function(){console.log("加载package",t,r),n(null)}))}))})));case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),n.dynamicLoadDir=function(){var n=t(e().mark((function n(t,r,i){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===i&&(i=!1),n.abrupt("return",new Promise((function(n){f.loadBundle(t,(function(t,e){console.log("加载bundle"),t?console.log(t):i?(e.preload(r),n(null)):e.loadDir(r,(function(){n(null)}))}))})));case 2:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.arrAdd=function(n,t){-1==n.indexOf(t)&&n.push(t)},n.isArrNull=function(n){return!n||0==n.length},n.raycastToBox=function(n,t,e,r){var i=(r.x-n.x)/t.x,o=(r.x+r.w-n.x)/t.x,a=(r.y-n.y)/t.y,u=(r.y+r.h-n.y)/t.y,c=Math.max(Math.min(i,o),Math.min(a,u));return!(Math.min(Math.max(i,o),Math.max(a,u))<0||c>e)},n.isUIInsideTree=function(n){return n.parent==x.inst||!!n.parent&&this.isUIInsideTree(n.parent)},n.isUIPartOfWindow=function(n){return!!(n instanceof b||n.constructor.name.toLowerCase().includes("window")||"frame"==n.name)||(!(!n._parent||!(n._parent instanceof b||n._parent.constructor.name.toLowerCase().includes("window")))||!!n._parent&&this.isUIPartOfWindow(n._parent))},n.mergeMap=function(n,t){for(var e={},r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];e[o]||(e[o]=0),e[o]+=n[o]}for(var a=0,u=Object.keys(t);a<u.length;a++){var c=u[a];e[c]||(e[c]=0),e[c]+=t[c]}return e},n.getUIItem=function(n){return{name:n.packageItem.name,package:n.packageItem.owner.name}},n.parseUIData=function(n){var t=n.data;if(!t)return{};if(t.includes("\n")){var e=t.split("\n"),r=[];return e.forEach((function(n){var t=n.split("|"),e={};t.forEach((function(n){var t=n.split("="),r=t[0],i=t[1];if(i.includes(",")){var o=i.split(",");e[r]=o.map((function(n){return isNaN(Number(n))?n:Number(n)}))}else{var a=Number(i);e[r]=isNaN(a)?i:a}})),r.push(e)})),r}var i=t.split("|"),o={};return i.forEach((function(n){var t=n.split("="),e=t[0],r=t[1];if(r.includes(",")){var i=r.split(",");o[e]=i.map((function(n){return isNaN(Number(n))?n:Number(n)}))}else{var a=Number(r);o[e]=isNaN(a)?r:a}})),o},n.deepCloneWithPrototype=function(n,t){if(void 0===t&&(t=new WeakMap),null===n||"object"!=typeof n)return n;if(t.has(n))return t.get(n);var e=Object.create(Object.getPrototypeOf(n));t.set(n,e);for(var r=Object.getOwnPropertyDescriptors(n),i=0,o=Object.entries(r);i<o.length;i++){var a=o[i],u=a[0],c=a[1];void 0!==c.value&&(c.value=this.deepCloneWithPrototype(c.value,t)),Object.defineProperty(e,u,c)}return e},n.pauseTransitions=function(n){var t=this;P(n,(function(n){n instanceof h&&n._transitions.forEach((function(n){n.setPaused(!0),t._pausedTranstions.push(n)}))}))},n.resumeTransitions=function(){this._pausedTranstions.forEach((function(n){return n.setPaused(!1)})),this._pausedTranstions.length=0},n}()));O=_,_.formatSeconds=function(n,t){void 0===t&&(t=!1);var e=n/1e3,r=0,i=0;return e>60?(r=Math.floor(e/60),e=Math.floor(e%60),r>60&&(i=Math.floor(r/60),r=Math.floor(r%60))):e=Math.floor(e),t?O.pad(r,2)+":"+O.pad(e,2):O.pad(i,2)+":"+O.pad(r,2)+":"+O.pad(e,2)},_.joinMap=function(){for(var n={},t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var i=0,o=e;i<o.length;i++){var a=o[i];for(var u in a)n[u]=n[u]||0,n[u]+=a[u]}for(var c in n)0==n[c]&&delete n[c];return n},_.vec2Right=T(1,0),_.vec2Left=T(-1,0),_.vec2Up=T(0,-1),_.vec2Down=T(0,1),_._pausedTranstions=[];var j=[];r._RF.pop()}}}));

System.register("chunks:///_virtual/util22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./UIHelper.ts","./fairygui.mjs"],(function(n){var t,e,r,i,o,a,u,c,l,s,f,h,d,p,v,g,m,y,x,w,b,M,I,R;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy,i=n.Vec2,o=n.Vec3,a=n.UITransform,u=n.sys,c=n.tween,l=n.Color,s=n.assetManager},function(n){f=n.YT},function(n){h=n.UIHelper},function(n){d=n.GList,p=n.GComponent,v=n.GLoader,g=n.UIPackage,m=n.UIObjectFactory,y=n.GLoader3D,x=n.AlignType,w=n.VertAlignType,b=n.RelationType,M=n.GRoot,I=n.Controller,R=n.Window}],execute:function(){var O;n({FuncAsync:function(n,t){return new Promise((function(e,r){n((function(){t&&t(),e()}))}))},UIBinder:function(n){j.push(n)},WindowBinder:function(n){F.push(n)},bindAll:function(){j.forEach((function(n){m.setExtension(n.URL,n)}))},clearWindows:function(){F.forEach((function(n){var t;null==(t=n._inst)||t.dispose(),n._inst=null}))},delay:C,distance:function(n,t,e,r){return Math.sqrt((n-e)*(n-e)+(t-r)*(t-r))},isDouyin:function(){return!0},loadUIPage:function(n,t){return S.apply(this,arguments)},nextFrame:N,repeat:A,through:function n(t,e){e(t);for(var r=0;r<t.children.length;r++)n(t.children[r],e)},throughFGUI:k,updater:U,vec2:T,vec3:function(n,t,e){if(t=null==t?n:t,e=null==e?n:e,"number"==typeof n)return new o(n,t,e);if("object"==typeof n){var r={x:n.x||0,y:n.y||0,z:n.z||0};return new o(r.x,r.y,r.z)}}}),r._RF.push({},"9f003R21fBFQ6umghMTHuty","util2",void 0);var P=n("OneDayTime",864e5);function k(n,t){if(t(n),n instanceof d||n instanceof p)for(var e=0;e<n._children.length;e++)k(n._children[e],t);else n instanceof v&&n.component?k(n.component,t):n instanceof v&&n._content&&k(n._content,t)}function S(){return(S=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var e="ui/"+t;r(),g.loadPackage(e,(function(){g.addPackage(e),n()}))})));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(n,t){return new Promise((function(e){f.timer.scheduleOnce((function(){t&&t(),e()}),n)}))}function N(n){return C(0,n)}function U(n,t){return void 0===t&&(t=0),new Promise((function(e){var r=0;f.timer.schedule((function i(o){(r+=o)>t&&(n(0==t?o:r)&&(f.timer.unschedule(i),e()),r-=t)}))}))}function A(n,t){for(var e,r=[],i=0;i<n;i++){var o=t(i);if(e=o instanceof Promise,o&&!e)break;e&&r.push(o)}if(e)return Promise.all(r)}n("Emitter",function(){function n(n){this.sender=void 0,this.all=new Map,this.sender=n}var t=n.prototype;return t.on=function(n,t){var e=this.all.get(n);return e&&e.push(t)||this.all.set(n,[t]),t},t.off=function(n,t){var e=this.all.get(n);e&&(t?e.splice(e.indexOf(t)>>>0,1):e.length=0)},t.emit=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];(this.all.get(n)||[]).slice().map((function(n){n.apply(void 0,e)}))},t.dispose=function(){this.all.clear()},n}());function T(n,t){return null==n?new i:"number"==typeof n?(null==t&&(t=n),new i(n,t)):null!=n.x?new i(n.x,n.y):new i(n[0],n[1])}var _=n("TAU",2*Math.PI),E=(n("PIE",Math.PI),n("default",function(){function n(){}return n.arrReplace=function(n,t,e){n.splice(n.indexOf(t),1,e)},n.wrap=function(n,t){return(n%t+t)%t},n.arrayShuffle=function(n){n.sort((function(n,t){return Math.random()-.5}))},n.arrayShuffle2=function(n){for(var t=n.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),r=[n[e],n[t]];n[t]=r[0],n[e]=r[1]}return n},n.lerp=function(n,t,e){return n+(t-n)*e},n.arrayOverlap=function(n,t){for(var e=0;e<n.length;e++)if(-1!=t.indexOf(n[e]))return!0;return!1},n.arrayCover=function(n,t){for(var e=!0,r=0;r<n.length;r++)-1==t.indexOf(n[r])&&(e=!1);return e},n.arraySame=function(n,t){return n.length==t.length&&(this.arrNoRepeat(n),this.arrNoRepeat(t),this.arrayCover(n,t))},n.lerpVec=function(n,t,e){return new i(this.lerp(n.x,t.x,e),this.lerp(n.y,t.y,e))},n.vecFlatDist=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},n.distance=function(n,t,e,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(t-r,2))},n.getAngle=function(n,t,e,r){return Math.atan2(r-t,e-n)},n.angleObject=function(n,t){return void 0===t&&(t={x:0,y:0}),Math.atan2(t.y-n.y,t.x-n.x)},n.distanceObject=function(n,t){return this.distance(n.x,n.y,t.x,t.y)},n.randomVec2Range=function(t,e){return T(n.randomRange(t.x-e,t.x+e),n.randomRange(t.y-e,t.y+e))},n.randomVec2RangeLTRB=function(n,t){return T(this.randomRange(n.x,t.x),this.randomRange(n.y,t.y))},n.randomVec2Dir=function(){return T(1,0).rotate(Math.random()*_)},n.clamp=function(n,t,e){if(t>e){var r=t;t=e,e=r}return Math.max(t,Math.min(e,n))},n.randomRange=function(t,e){return n.lerp(t,e,Math.random())},n.bool2num=function(n){return n?1:0},n.arrNoRepeat=function(n){for(var t=[],e=0;e<n.length;e++)-1==t.indexOf(n[e])&&t.push(n[e]);n.length=0,n.push.apply(n,t)},n.fetchArrEle=function(n,t){var e=n.indexOf(t);return-1==e?null:n.splice(e,1)[0]},n.pickRandom=function(n){return n[Math.floor(Math.random()*n.length)]},n.fetchRandom=function(n){return this.fetchArrEle(n,this.pickRandom(n))},n.pickRandomItems=function(t,e){void 0===e&&(e=1);var r=[];t=[].concat(t);for(var i=0;i<e;i++){var o=n.pickRandom(t);null!=(o=n.fetchArrEle(t,o))&&r.push(o)}return r},n.irange=function(n,t){void 0===t&&(t=n-1,n=0),n=Math.floor(n),t=Math.ceil(t);for(var e=[],r=n;r<=t;r++)e.push(r);return e},n.randomInt=function(t,e){return n.pickRandom(n.irange(t,e))},n.deepCopy=function(t){var e=Array.isArray(t)?[]:{};for(var r in t)"object"==typeof t[r]?e[r]=n.deepCopy(t[r]):e[r]=t[r];return e},n.pickRandomByWeight=function(n){n=n.filter((function(n){return n.weight>0}));for(var t=0,e=0;e<n.length;++e)t+=n[e].weight;var r=Math.random()*t;t=0;for(var i=0;i<n.length-1;++i)if((t+=n[i].weight)>=r)return n[i].value;return n[n.length-1].value},n.pickRandomByArrWeight=function(n,t){for(var e=[],r=0;r<n.length;r++)e.push({id:r,weight:t[r]});return n[this.pickByWeight(e).id]},n.pickRandomByArrWeightCount=function(n,t,e){var r=[];t=[].concat(t);for(var i=0;i<e;i++){var o=this.pickRandomByArrWeight(n,t);r.push(o);var a=n.indexOf(o);n.splice(a,1),t.splice(a,1)}return r},n.pickByWeight=function(n){n=n.filter((function(n){return n.weight>0}));for(var t=0,e=0;e<n.length;++e)t+=n[e].weight;var r=Math.random()*t;t=0;for(var i=0;i<n.length-1;++i)if((t+=n[i].weight)>=r)return n[i];return n[n.length-1]},n.pickRandomItemsByWeight=function(n,t){var e=this,r=[];return A(t,(function(){var t=e.pickByWeight(n);r.push(t),e.fetchArrEle(n,t)})),r},n.lineSegmentsIntersect=function(){var n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3],i=arguments.length<=4?void 0:arguments[4],o=arguments.length<=5?void 0:arguments[5],a=arguments.length<=6?void 0:arguments[6],u=arguments.length<=7?void 0:arguments[7],c=(e-n)*(u-o)-(a-i)*(r-t);if(0===c)return!1;var l=((u-o)*(a-n)+(i-a)*(u-t))/c,s=((t-r)*(a-n)+(e-n)*(u-t))/c;return l>0&&l<1&&s>0&&s<1},n.rad2angle=function(n){return n/Math.PI*180},n.angle2rad=function(n){return n/180*Math.PI},n.vec2=function(n,t){return new i(n,t)},n.angle2vec2=function(n){return i.UNIT_X.clone().rotate(n)},n.loopValue=function(n,t,e){var r=e-t+1;return((n-t)%r+r)%r+t},n.getParams=function(){var n=new Object,t=location.search;-1!=t.indexOf("?")&&t.substr(1).split("&").map((function(t){var e=t.split("=")[1];isFinite(Number(e))?e=Number(e):decodeURI&&(e=decodeURI(e)),n[t.split("=")[0]]=e}));return n},n.formatNumber=function(n,t){void 0===t&&(t="000");var e=n.toFixed(0),r=t.substring(0,1),i=t.length;return r.repeat(i-e.length)+e},n.stringToArrayBuffer=function(n){for(var t=new ArrayBuffer(n.length),e=new Uint8Array(t),r=0;r<n.length;r++)e[r]=n.charCodeAt(r);return t},n.deg2rad=function(n){return n/180*Math.PI},n.rad2deg=function(n){return n/Math.PI*180},n.pad=function(n,t,e){void 0===e&&(e="0");var r=t-(n=n.toString()).length;return r<=0?n:e.repeat(r)+n},n.vec2angle=function(n,t){return Math.atan2(n.y,n.x)},n.convertStringConfig=function(n,t,e){void 0===t&&(t="="),void 0===e&&(e=",");var r={};if(!n)return r;var i=n.split(e);return 1!=i.length||n.includes(t)?(i.map((function(n){var e=n.split(t),i=Number(e[1]);r[e[0]]=isFinite(i)?i:e[1]})),r):(r.content=n,r)},n.convertStringArray=function(n,t){void 0===t&&(t=",");var e=[];return n?(n.split(t).map((function(n){var t=Number(n);e.push(isFinite(t)?t:n)})),e):e},n.deleteObjectValue=function(n,t){for(var e in n)n[e]==t&&delete n[e]},n.getArrEleCount=function(n,t){return n.filter((function(n){return n==t})).length},n.domDownloadStr=function(n,t){var e=new Blob([n],{type:"application/text;charset=utf-8"}),r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=t,i.click()},n.trimBigNumber=function(n,t){return void 0===t&&(t=2),Number(n.toFixed(t))},n.formatNumberCN=function(n){var t=n.toFixed(0),e={0:"",5:"万",9:"亿",14:"万亿",18:"兆",22:"万兆",24:"亿兆",28:"万亿兆",32:"京"},r="",i=0;for(var o in e){var a=Number(o);if(t.length<a){r=(Number(t)/Math.pow(10,i)).toFixed(0==i?0:1)+e[i];break}i=a}return r},n.formatNumberEN=function(n){var t=Math.abs(n);return t>=1e12?(n/1e12).toFixed(1)+"T":t>=1e9?(n/1e9).toFixed(1)+"B":t>=1e6?(n/1e6).toFixed(1)+"M":t>=1e3?(n/1e3).toFixed(1)+"K":Math.ceil(n).toFixed(0)},n.typingString=function(n,t,e){void 0===e&&(e=.1);var r=0;U((function(){return r+=1,t(n.substring(0,r)),r>=n.length}),e)},n.HslToRgb=function(n,t,e){var r,i,o;if(0===t)r=i=o=e;else{var a=function(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+(t-n)*(2/3-e)*6:n},u=e<.5?e*(1+t):e+t-e*t,c=2*e-u;r=a(c,u,n+1/3),i=a(c,u,n),o=a(c,u,n-1/3)}var l=function(n){var t=Math.round(255*n).toString(16);return 1===t.length?"0"+t:t},s="0x"+l(r)+l(i)+l(o);return Number(s)},n.randomColor=function(n,t){return void 0===n&&(n=1),void 0===t&&(t=.5),n=this.clamp(n,0,1),t=this.clamp(t,0,1),this.HslToRgb(Math.random(),n,t)},n.randomAttrPoints=function(n,t){var e=Object.keys(n);if(t<e.length)for(e.forEach((function(t){return n[t]=1}));t<Object.values(n).reduce((function(n,t){return n+t}),0);){var r=e[Math.floor(Math.random()*e.length)];n[r]=0}else for(e.forEach((function(t){return n[t]=1})),t-=e.length;t>0;){var i=e[Math.floor(Math.random()*e.length)];n[i]+=1,t--}return n},n.removeZeroElements=function(n){for(var t in n)n[t]||delete n[t];return n},n.randomNormal=function(n,t){void 0===n&&(n=0),void 0===t&&(t=2);var e=Math.random(),r=Math.random();return n+Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*r)*t},n.getRelativePos=function(n,t){if(!n||n.isDisposed)return T(0,0);if(!t||t.isDisposed)return T(0,0);var e=t.localToGlobal();return n.globalToLocal(e.x,e.y)},n.setRichText=function(n,t,e){var r;void 0===e&&(e={});var i="";i+="<size="+(e.fontSize||n.fontSize)+">",i+="<color="+(e.color||n.color.toCSS("#rrggbb"))+">";var o=(i+="<outline color="+(e.strokeColor||(null==(r=n.strokeColor)?void 0:r.toCSS("#rrggbb")))+" width="+(e.stroke||n.stroke)+">")+t+"</size></color></outline>";n.originY=n.originY||n.y,n._text=o;var u=n._node.getComponent(a);N((function(){if(n&&!n.isDisposed){var t=u.height,e=n.node.children.length;n._text=o,n.y=n.originY+.5*n.height-.5*t+e}}))},n.autoRichTextNumber=function(n){for(var t=/^[-+]?(\d+(\.\d+)?|\.\d+)(%?)?$/,e=[],r="",i=0;i<n.length;i++){var o=n[i];o.match(/[-+\d%.]/g)?r+=o:(r&&(r.match(t)?r.startsWith("-")?e.push("<color=red>"+r+"</color>"):(r.startsWith("+"),e.push("<color=green>"+r+"</color>")):e.push(""+r),r=""),e.push(""+o))}return r&&(r.match(t)?r.startsWith("-")?e.push("<color=red>"+r+"</color>"):(r.startsWith("+"),e.push("<color=green>"+r+"</color>")):e.push(""+r)),e.join("")},n.UISetExtension=function(n){m.setExtension(n.URL,n)},n.UISetExtensions=function(n,t){t.forEach((function(t){m.setExtension(t,n)}))},n.getTimeDifference=function(n,t){var e=t-n,r=Math.floor(e/1e3%60).toFixed(0).padStart(2,"0"),i=Math.floor(e/6e4%60).toFixed(0).padStart(2,"0");return Math.floor(e/36e5%24).toFixed(0).padStart(2,"0")+":"+i+":"+r},n.bindLoader3d=function(n,t,e){void 0===e&&(e="idle");var r=new y;r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height,r.align=x.Center,r.verticalAlign=w.Middle;var i=n.parent.getChildIndex(n);return n.parent.addChildAt(r,i+1),n.visible=!1,h.changeFGUISpine(t+"/"+t,"spine_ex",r,e,!0),r},n.bindLoader3dOverwrite=function(n){var t=new y;t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height,t.align=n.align,t.verticalAlign=n.verticalAlign,t.fill=n.fill;var e=n.parent.getChildIndex(n);for(var r in n.parent.addChildAt(t,e+1),n.visible=!1,n.parent)n.parent[r]==n&&(n.parent[r]=t);return t.addRelation(n,b.Center_Center),t},n.createSpineLoader=function(n,t,e,r,i){void 0===e&&(e="idle"),void 0===r&&(r=100),void 0===i&&(i=1);var o=new y;return o.setPivot(.5,.5,!0),o.width=r,o.height=r,o.align=x.Center,o.verticalAlign=w.Middle,o.setScale(i,i),h.changeFGUISpine(n+"/"+t,"spine_ex",o,e,!0,(function(){})),o},n.bounceList=function(){var n=t(e().mark((function n(t,r,i){var o;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:void 0===r&&(r=.1),void 0===i&&(i=1.4),o=0,t._children.forEach((function(n){n.setPivot(.5,.5),n.scaleX=0,n.scaleY=0;var t=c(n).delay(o).to(.2,{scaleX:i,scaleY:i},{onUpdate:function(){n.node||t.destroySelf()}}).to(.1,{scaleX:1,scaleY:1},{onUpdate:function(){n.node||t.destroySelf()}}).start();o+=r}));case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.autoScaleList=function(n,t,e){void 0===t&&(t=1),void 0===e&&(e=1);var r=n._children[0];if(r){var i=Math.ceil(n.numChildren/7),o=1==i?n.numChildren:7,a=(o+1)*n.columnGap+o*r.width,u=(i+1)*n.lineGap+i*r.height,c=n.width*e/a*.95,l=n.height*e/u*.95,s=Math.max(Math.min(t,e),Math.min(c,l));n.scaleX=s,n.scaleY=s}},n.isOneDayPass=function(n,t){void 0===t&&(t=1);var e=new Date(n).setHours(t,0,0,0);return(new Date).setHours(t,0,0,0)-e>=P},n.isOneDayPass24=function(n){var t=new Date(n).setHours(0,0,0,0);return(new Date).setHours(0,0,0,0)-t>=P},n.getTimeLeftStr=function(n,t){t&&(n=new Date(n).setHours(t,0,0,0));var e=Date.now()-n;return this.formatSeconds(P-e)},n.reparentUI=function(n,t,e){var r=this.getRelativePos(n,t);null==e?n.addChild(t):n.addChildAt(t,e),t.x=r.x,t.y=r.y},n.arraySwitchEle=function(n,t,e){var r=n.indexOf(t),i=n.indexOf(e),o=n[r];n[r]=n[i],n[i]=o},n.arraySetEleIndex=function(n,t,e){var r=n.splice(n.indexOf(t),1)[0];n.splice(e,0,r)},n.setLoader3dSpeed=function(n,t){var e=n._content;e&&(e.timeScale=t)},n.GListAutoSize=function(n,t){t||(t=n.columnCount);var e=Math.ceil(n._children.length/t),r=n._children[0]?n._children[0].height:0,i=n.lineGap;n.height=(r+i)*e},n.tweenWait=function(n){return new Promise((function(t){n.call((function(){return t(null)})).start()}))},n.GComponentYSort=function(n){var t=n.node.children[0];if(t.children.sort((function(n,t){return t.position.y-n.position.y})),u.isNative)for(var e=0;e<t.children.length;e++){t.children[e].setSiblingIndex(e)}t._children=t.children},n.vec2LikeEqual=function(n,t){return n.x==t.x&&n.y==t.y},n.showToast=function(n,t){var e=g.createObjectFromURL(t);e.title=n,e.sortingOrder=1/0,M.inst.addChild(e),e.x=.5*M.inst.width-.5*e.width,e.y=M.inst.height+200,e.touchable=!1,c(e).to(.4,{y:.3*M.inst.height},{easing:"quadOut"}).delay(1).to(.2,{y:-200}).call((function(){return e.dispose()})).start()},n.ObjectApplyTo=function(n,t){for(var e=0,r=Object.keys(n);e<r.length;e++){var i=r[e],o=n[i],a=typeof o;if("string"!=a&&"number"!=a||i.startsWith("_"))if(o instanceof I){t[i].selectedIndex=o.selectedIndex}else o instanceof l&&(t[i]=o.clone());else t[i]=o}},n.isGObjectInTree=function(n){if(null!=n)return!!n.parent&&(n.parent==M.inst||this.isGObjectInTree(n.parent))},n.randomIntByFloat=function(n){var t=Math.floor(n),e=n-t;return Math.random()<e?t+1:t},n.dynamicLoadUIPackage=function(){var n=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){s.loadBundle(t,(function(e,i){console.log("加载bundle",t),e?console.log(e):g.loadPackage(i,"./"+r,(function(){console.log("加载package",t,r),n(null)}))}))})));case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),n.dynamicLoadDir=function(){var n=t(e().mark((function n(t,r,i){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===i&&(i=!1),n.abrupt("return",new Promise((function(n){s.loadBundle(t,(function(t,e){console.log("加载bundle"),t?console.log(t):i?(e.preload(r),n(null)):e.loadDir(r,(function(){n(null)}))}))})));case 2:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.arrAdd=function(n,t){-1==n.indexOf(t)&&n.push(t)},n.isArrNull=function(n){return!n||0==n.length},n.raycastToBox=function(n,t,e,r){var i=(r.x-n.x)/t.x,o=(r.x+r.w-n.x)/t.x,a=(r.y-n.y)/t.y,u=(r.y+r.h-n.y)/t.y,c=Math.max(Math.min(i,o),Math.min(a,u));return!(Math.min(Math.max(i,o),Math.max(a,u))<0||c>e)},n.isUIInsideTree=function(n){return n.parent==M.inst||!!n.parent&&this.isUIInsideTree(n.parent)},n.isUIPartOfWindow=function(n){return!!(n instanceof R||n.constructor.name.toLowerCase().includes("window")||"frame"==n.name)||(!(!n._parent||!(n._parent instanceof R||n._parent.constructor.name.toLowerCase().includes("window")))||!!n._parent&&this.isUIPartOfWindow(n._parent))},n.mergeMap=function(n,t){for(var e={},r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];e[o]||(e[o]=0),e[o]+=n[o]}for(var a=0,u=Object.keys(t);a<u.length;a++){var c=u[a];e[c]||(e[c]=0),e[c]+=t[c]}return e},n.getUIItem=function(n){return n.packageItem?{name:n.packageItem.name,package:n.packageItem.owner.name}:{}},n.getBasePos=function(n,t,e){return void 0===e&&(e=T()),t.parent==n?e.add2f(t.x,t.y):this.getBasePos(n,t.parent,e.add2f(t.x,t.y))},n.parseConfStr=function(n){if(n.includes("\n")){var t=n.split("\n"),e=[];return t.forEach((function(n){var t=n.split("|"),r={};t.forEach((function(n){var t=n.split("="),e=t[0],i=t[1];if(i.includes(",")){var o=i.split(",");isNaN(Number(o[0]))?r[e]=o:r[e]=o.map((function(n){return Number(n)}))}else{var a=Number(i);r[e]=isNaN(a)?i:a}})),e.push(r)})),e}var r=n.split("|"),i={};return r.forEach((function(n){var t=n.split("="),e=t[0],r=t[1];if(r.includes(",")){var o=r.split(",");isNaN(Number(o[0]))?i[e]=o:i[e]=o.map((function(n){return Number(n)}))}else{var a=Number(r);i[e]=isNaN(a)?r:a}})),i},n.parseUIData=function(n){var t=n.data;return t?this.parseConfStr(t):{}},n.deepCloneWithPrototype=function(n,t){if(void 0===t&&(t=new WeakMap),null===n||"object"!=typeof n)return n;if(t.has(n))return t.get(n);var e=Object.create(Object.getPrototypeOf(n));t.set(n,e);for(var r=Object.getOwnPropertyDescriptors(n),i=0,o=Object.entries(r);i<o.length;i++){var a=o[i],u=a[0],c=a[1];void 0!==c.value&&(c.value=this.deepCloneWithPrototype(c.value,t)),Object.defineProperty(e,u,c)}return e},n.pauseTransitions=function(n){var t=this;k(n,(function(n){n instanceof p&&n._transitions.forEach((function(n){n.setPaused(!0),t._pausedTranstions.push(n)}))}))},n.resumeTransitions=function(){this._pausedTranstions.forEach((function(n){return n.setPaused(!1)})),this._pausedTranstions.length=0},n.parseURL=function(n){var t=g.getItemByURL(n);return{package:t.owner.name,name:t.name}},n}()));O=E,E.formatSeconds=function(n,t){void 0===t&&(t=!1);var e=n/1e3,r=0,i=0;return e>60?(r=Math.floor(e/60),e=Math.floor(e%60),r>60&&(i=Math.floor(r/60),r=Math.floor(r%60))):e=Math.floor(e),t?O.pad(r,2)+":"+O.pad(e,2):O.pad(i,2)+":"+O.pad(r,2)+":"+O.pad(e,2)},E.joinMap=function(){for(var n={},t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var i=0,o=e;i<o.length;i++){var a=o[i];for(var u in a)n[u]=n[u]||0,n[u]+=a[u]}for(var c in n)0==n[c]&&delete n[c];return n},E.vec2Right=T(1,0),E.vec2Left=T(-1,0),E.vec2Up=T(0,-1),E.vec2Down=T(0,1),E._pausedTranstions=[],E.getQueryString=function(n){var t=new RegExp("(^|&)"+n+"=([^&]*)(&|$)");if(!window.location||!window.location.search)return null;var e=window.location.search.substr(1).match(t);return null!=e?decodeURIComponent(e[2]):null};var j=[];var F=[];r._RF.pop()}}}));

System.register("chunks:///_virtual/util3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./YT.ts","./UIHelper.ts"],(function(n){var t,e,r,i,o,a,u,c,l,s,f,d,h,p,v,g,m,y,x,w,b,M,I,R;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy,i=n.Vec2,o=n.Vec3,a=n.UITransform,u=n.sys,c=n.tween,l=n.Color,s=n.assetManager},function(n){f=n.GList,d=n.GComponent,h=n.GLoader,p=n.UIObjectFactory,v=n.UIPackage,g=n.GLoader3D,m=n.AlignType,y=n.VertAlignType,x=n.RelationType,w=n.GRoot,b=n.Controller,M=n.Window},function(n){I=n.YT},function(n){R=n.UIHelper}],execute:function(){var O;n({FuncAsync:function(n,t){return new Promise((function(e,r){n((function(){t&&t(),e()}))}))},UIBinder:function(n){j.push(n)},WindowBinder:function(n){L.push(n)},bindAll:function(){j.forEach((function(n){p.setExtension(n.URL,n)}))},clearWindows:function(){L.forEach((function(n){var t;null==(t=n._inst)||t.dispose(),n._inst=null}))},delay:C,distance:function(n,t,e,r){return Math.sqrt((n-e)*(n-e)+(t-r)*(t-r))},isDouyin:function(){return!0},loadUIPage:function(n,t){return S.apply(this,arguments)},nextFrame:U,repeat:A,through:function n(t,e){e(t);for(var r=0;r<t.children.length;r++)n(t.children[r],e)},throughFGUI:P,updater:N,vec2:T,vec3:function(n,t,e){if(t=null==t?n:t,e=null==e?n:e,"number"==typeof n)return new o(n,t,e);if("object"==typeof n){var r={x:n.x||0,y:n.y||0,z:n.z||0};return new o(r.x,r.y,r.z)}}}),r._RF.push({},"c9d3dkUqDVIYoXwmYYDsqyq","util",void 0);var k=n("OneDayTime",864e5);function P(n,t){if(t(n),n instanceof f||n instanceof d)for(var e=0;e<n._children.length;e++)P(n._children[e],t);else n instanceof h&&n.component?P(n.component,t):n instanceof h&&n._content&&P(n._content,t)}function S(){return(S=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var e="ui/"+t;r(),v.loadPackage(e,(function(){v.addPackage(e),n()}))})));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(n,t){return new Promise((function(e){I.timer.scheduleOnce((function(){t&&t(),e()}),n)}))}function U(n){return C(0,n)}function N(n,t){return void 0===t&&(t=0),new Promise((function(e){var r=0;I.timer.schedule((function i(o){(r+=o)>t&&(n(0==t?o:r)&&(I.timer.unschedule(i),e()),r-=t)}))}))}function A(n,t){for(var e,r=[],i=0;i<n;i++){var o=t(i);if(e=o instanceof Promise,o&&!e)break;e&&r.push(o)}if(e)return Promise.all(r)}n("Emitter",function(){function n(n){this.sender=void 0,this.all=new Map,this.sender=n}var t=n.prototype;return t.on=function(n,t){var e=this.all.get(n);return e&&e.push(t)||this.all.set(n,[t]),t},t.off=function(n,t){var e=this.all.get(n);e&&(t?e.splice(e.indexOf(t)>>>0,1):e.length=0)},t.emit=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];(this.all.get(n)||[]).slice().map((function(n){n.apply(void 0,e)}))},t.dispose=function(){this.all.clear()},n}());function T(n,t){return null==n?new i:"number"==typeof n?(null==t&&(t=n),new i(n,t)):null!=n.x?new i(n.x,n.y):new i(n[0],n[1])}var _=n("TAU",2*Math.PI),E=(n("PIE",Math.PI),n("default",function(){function n(){}return n.arrReplace=function(n,t,e){n.splice(n.indexOf(t),1,e)},n.wrap=function(n,t){return(n%t+t)%t},n.arrayShuffle=function(n){n.sort((function(n,t){return Math.random()-.5}))},n.arrayShuffle2=function(n){for(var t=n.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),r=[n[e],n[t]];n[t]=r[0],n[e]=r[1]}return n},n.lerp=function(n,t,e){return n+(t-n)*e},n.arrayOverlap=function(n,t){for(var e=0;e<n.length;e++)if(-1!=t.indexOf(n[e]))return!0;return!1},n.arrayCover=function(n,t){for(var e=!0,r=0;r<n.length;r++)-1==t.indexOf(n[r])&&(e=!1);return e},n.arraySame=function(n,t){return n.length==t.length&&(this.arrNoRepeat(n),this.arrNoRepeat(t),this.arrayCover(n,t))},n.lerpVec=function(n,t,e){return new i(this.lerp(n.x,t.x,e),this.lerp(n.y,t.y,e))},n.vecFlatDist=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},n.distance=function(n,t,e,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(t-r,2))},n.getAngle=function(n,t,e,r){return Math.atan2(r-t,e-n)},n.angleObject=function(n,t){return void 0===t&&(t={x:0,y:0}),Math.atan2(t.y-n.y,t.x-n.x)},n.distanceObject=function(n,t){return this.distance(n.x,n.y,t.x,t.y)},n.randomVec2Range=function(t,e){return T(n.randomRange(t.x-e,t.x+e),n.randomRange(t.y-e,t.y+e))},n.randomVec2RangeLTRB=function(n,t){return T(this.randomRange(n.x,t.x),this.randomRange(n.y,t.y))},n.randomVec2Dir=function(){return T(1,0).rotate(Math.random()*_)},n.clamp=function(n,t,e){if(t>e){var r=t;t=e,e=r}return Math.max(t,Math.min(e,n))},n.randomRange=function(t,e){return n.lerp(t,e,Math.random())},n.bool2num=function(n){return n?1:0},n.arrNoRepeat=function(n){for(var t=[],e=0;e<n.length;e++)-1==t.indexOf(n[e])&&t.push(n[e]);n.length=0,n.push.apply(n,t)},n.fetchArrEle=function(n,t){var e=n.indexOf(t);return-1==e?null:n.splice(e,1)[0]},n.pickRandom=function(n){return n[Math.floor(Math.random()*n.length)]},n.fetchRandom=function(n){return this.fetchArrEle(n,this.pickRandom(n))},n.pickRandomItems=function(t,e){void 0===e&&(e=1);var r=[];t=[].concat(t);for(var i=0;i<e;i++){var o=n.pickRandom(t);null!=(o=n.fetchArrEle(t,o))&&r.push(o)}return r},n.irange=function(n,t){void 0===t&&(t=n-1,n=0),n=Math.floor(n),t=Math.ceil(t);for(var e=[],r=n;r<=t;r++)e.push(r);return e},n.randomInt=function(t,e){return n.pickRandom(n.irange(t,e))},n.deepCopy=function(t){var e=Array.isArray(t)?[]:{};for(var r in t)"object"==typeof t[r]?e[r]=n.deepCopy(t[r]):e[r]=t[r];return e},n.pickRandomByWeight=function(n){n=n.filter((function(n){return n.weight>0}));for(var t=0,e=0;e<n.length;++e)t+=n[e].weight;var r=Math.random()*t;t=0;for(var i=0;i<n.length-1;++i)if((t+=n[i].weight)>=r)return n[i].value;return n[n.length-1].value},n.pickRandomByArrWeight=function(n,t){for(var e=[],r=0;r<n.length;r++)e.push({id:r,weight:t[r]});return n[this.pickByWeight(e).id]},n.pickRandomByArrWeightCount=function(n,t,e){var r=[];t=[].concat(t);for(var i=0;i<e;i++){var o=this.pickRandomByArrWeight(n,t);r.push(o);var a=n.indexOf(o);n.splice(a,1),t.splice(a,1)}return r},n.pickByWeight=function(n){n=n.filter((function(n){return n.weight>0}));for(var t=0,e=0;e<n.length;++e)t+=n[e].weight;var r=Math.random()*t;t=0;for(var i=0;i<n.length-1;++i)if((t+=n[i].weight)>=r)return n[i];return n[n.length-1]},n.pickRandomItemsByWeight=function(n,t){var e=this,r=[];return A(t,(function(){var t=e.pickByWeight(n);r.push(t),e.fetchArrEle(n,t)})),r},n.lineSegmentsIntersect=function(){var n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3],i=arguments.length<=4?void 0:arguments[4],o=arguments.length<=5?void 0:arguments[5],a=arguments.length<=6?void 0:arguments[6],u=arguments.length<=7?void 0:arguments[7],c=(e-n)*(u-o)-(a-i)*(r-t);if(0===c)return!1;var l=((u-o)*(a-n)+(i-a)*(u-t))/c,s=((t-r)*(a-n)+(e-n)*(u-t))/c;return l>0&&l<1&&s>0&&s<1},n.rad2angle=function(n){return n/Math.PI*180},n.angle2rad=function(n){return n/180*Math.PI},n.vec2=function(n,t){return new i(n,t)},n.angle2vec2=function(n){return i.UNIT_X.clone().rotate(n)},n.loopValue=function(n,t,e){var r=e-t+1;return((n-t)%r+r)%r+t},n.getParams=function(){var n=new Object,t=location.search;-1!=t.indexOf("?")&&t.substr(1).split("&").map((function(t){var e=t.split("=")[1];isFinite(Number(e))?e=Number(e):decodeURI&&(e=decodeURI(e)),n[t.split("=")[0]]=e}));return n},n.formatNumber=function(n,t){void 0===t&&(t="000");var e=n.toFixed(0),r=t.substring(0,1),i=t.length;return r.repeat(i-e.length)+e},n.stringToArrayBuffer=function(n){for(var t=new ArrayBuffer(n.length),e=new Uint8Array(t),r=0;r<n.length;r++)e[r]=n.charCodeAt(r);return t},n.deg2rad=function(n){return n/180*Math.PI},n.rad2deg=function(n){return n/Math.PI*180},n.pad=function(n,t,e){void 0===e&&(e="0");var r=t-(n=n.toString()).length;return r<=0?n:e.repeat(r)+n},n.vec2angle=function(n,t){return Math.atan2(n.y,n.x)},n.convertStringConfig=function(n,t,e){void 0===t&&(t="="),void 0===e&&(e=",");var r={};if(!n)return r;var i=n.split(e);return 1!=i.length||n.includes(t)?(i.map((function(n){var e=n.split(t),i=Number(e[1]);r[e[0]]=isFinite(i)?i:e[1]})),r):(r.content=n,r)},n.convertStringArray=function(n,t){void 0===t&&(t=",");var e=[];return n?(n.split(t).map((function(n){var t=Number(n);e.push(isFinite(t)?t:n)})),e):e},n.deleteObjectValue=function(n,t){for(var e in n)n[e]==t&&delete n[e]},n.getArrEleCount=function(n,t){return n.filter((function(n){return n==t})).length},n.domDownloadStr=function(n,t){var e=new Blob([n],{type:"application/text;charset=utf-8"}),r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=t,i.click()},n.trimBigNumber=function(n,t){return void 0===t&&(t=2),Number(n.toFixed(t))},n.formatNumberCN=function(n){var t=n.toFixed(0),e={0:"",5:"万",9:"亿",14:"万亿",18:"兆",22:"万兆",24:"亿兆",28:"万亿兆",32:"京"},r="",i=0;for(var o in e){var a=Number(o);if(t.length<a){r=(Number(t)/Math.pow(10,i)).toFixed(0==i?0:1)+e[i];break}i=a}return r},n.formatNumberEN=function(n){var t=Math.abs(n);return t>=1e12?(n/1e12).toFixed(1)+"T":t>=1e9?(n/1e9).toFixed(1)+"B":t>=1e6?(n/1e6).toFixed(1)+"M":t>=1e3?(n/1e3).toFixed(1)+"K":Math.ceil(n).toFixed(0)},n.typingString=function(n,t,e){void 0===e&&(e=.1);var r=0;N((function(){return r+=1,t(n.substring(0,r)),r>=n.length}),e)},n.HslToRgb=function(n,t,e){var r,i,o;if(0===t)r=i=o=e;else{var a=function(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+(t-n)*(2/3-e)*6:n},u=e<.5?e*(1+t):e+t-e*t,c=2*e-u;r=a(c,u,n+1/3),i=a(c,u,n),o=a(c,u,n-1/3)}var l=function(n){var t=Math.round(255*n).toString(16);return 1===t.length?"0"+t:t},s="0x"+l(r)+l(i)+l(o);return Number(s)},n.randomColor=function(n,t){return void 0===n&&(n=1),void 0===t&&(t=.5),n=this.clamp(n,0,1),t=this.clamp(t,0,1),this.HslToRgb(Math.random(),n,t)},n.randomAttrPoints=function(n,t){var e=Object.keys(n);if(t<e.length)for(e.forEach((function(t){return n[t]=1}));t<Object.values(n).reduce((function(n,t){return n+t}),0);){var r=e[Math.floor(Math.random()*e.length)];n[r]=0}else for(e.forEach((function(t){return n[t]=1})),t-=e.length;t>0;){var i=e[Math.floor(Math.random()*e.length)];n[i]+=1,t--}return n},n.removeZeroElements=function(n){for(var t in n)n[t]||delete n[t];return n},n.randomNormal=function(n,t){void 0===n&&(n=0),void 0===t&&(t=2);var e=Math.random(),r=Math.random();return n+Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*r)*t},n.getRelativePos=function(n,t){if(!n||n.isDisposed)return T(0,0);if(!t||t.isDisposed)return T(0,0);var e=t.localToGlobal();return n.globalToLocal(e.x,e.y)},n.setRichText=function(n,t,e){var r;void 0===e&&(e={});var i="";i+="<size="+(e.fontSize||n.fontSize)+">",i+="<color="+(e.color||n.color.toCSS("#rrggbb"))+">";var o=(i+="<outline color="+(e.strokeColor||(null==(r=n.strokeColor)?void 0:r.toCSS("#rrggbb")))+" width="+(e.stroke||n.stroke)+">")+t+"</size></color></outline>";n.originY=n.originY||n.y,n._text=o;var u=n._node.getComponent(a);U((function(){if(n&&!n.isDisposed){var t=u.height,e=n.node.children.length;n._text=o,n.y=n.originY+.5*n.height-.5*t+e}}))},n.autoRichTextNumber=function(n){for(var t=/^[-+]?(\d+(\.\d+)?|\.\d+)(%?)?$/,e=[],r="",i=0;i<n.length;i++){var o=n[i];o.match(/[-+\d%.]/g)?r+=o:(r&&(r.match(t)?r.startsWith("-")?e.push("<color=red>"+r+"</color>"):(r.startsWith("+"),e.push("<color=green>"+r+"</color>")):e.push(""+r),r=""),e.push(""+o))}return r&&(r.match(t)?r.startsWith("-")?e.push("<color=red>"+r+"</color>"):(r.startsWith("+"),e.push("<color=green>"+r+"</color>")):e.push(""+r)),e.join("")},n.UISetExtension=function(n){p.setExtension(n.URL,n)},n.UISetExtensions=function(n,t){t.forEach((function(t){p.setExtension(t,n)}))},n.getTimeDifference=function(n,t){var e=t-n,r=Math.floor(e/1e3%60).toFixed(0).padStart(2,"0"),i=Math.floor(e/6e4%60).toFixed(0).padStart(2,"0");return Math.floor(e/36e5%24).toFixed(0).padStart(2,"0")+":"+i+":"+r},n.bindLoader3d=function(n,t,e){void 0===e&&(e="idle");var r=new g;r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height,r.align=m.Center,r.verticalAlign=y.Middle;var i=n.parent.getChildIndex(n);return n.parent.addChildAt(r,i+1),n.visible=!1,R.changeFGUISpine(t+"/"+t,"spine_ex",r,e,!0),r},n.bindLoader3dOverwrite=function(n){var t=new g;t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height,t.align=n.align,t.verticalAlign=n.verticalAlign,t.fill=n.fill;var e=n.parent.getChildIndex(n);for(var r in n.parent.addChildAt(t,e+1),n.visible=!1,n.parent)n.parent[r]==n&&(n.parent[r]=t);return t.addRelation(n,x.Center_Center),t},n.createSpineLoader=function(n,t,e,r,i){void 0===e&&(e="idle"),void 0===r&&(r=100),void 0===i&&(i=1);var o=new g;return o.setPivot(.5,.5,!0),o.width=r,o.height=r,o.align=m.Center,o.verticalAlign=y.Middle,o.setScale(i,i),R.changeFGUISpine(n+"/"+t,"spine_ex",o,e,!0,(function(){})),o},n.bounceList=function(){var n=t(e().mark((function n(t,r,i){var o;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:void 0===r&&(r=.1),void 0===i&&(i=1.4),o=0,t._children.forEach((function(n){n.setPivot(.5,.5),n.scaleX=0,n.scaleY=0;var t=c(n).delay(o).to(.2,{scaleX:i,scaleY:i},{onUpdate:function(){n.node||t.destroySelf()}}).to(.1,{scaleX:1,scaleY:1},{onUpdate:function(){n.node||t.destroySelf()}}).start();o+=r}));case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.autoScaleList=function(n,t,e){void 0===t&&(t=1),void 0===e&&(e=1);var r=n._children[0];if(r){var i=Math.ceil(n.numChildren/7),o=1==i?n.numChildren:7,a=(o+1)*n.columnGap+o*r.width,u=(i+1)*n.lineGap+i*r.height,c=n.width*e/a*.95,l=n.height*e/u*.95,s=Math.max(Math.min(t,e),Math.min(c,l));n.scaleX=s,n.scaleY=s}},n.isOneDayPass=function(n,t){void 0===t&&(t=1);var e=new Date(n).setHours(t,0,0,0);return(new Date).setHours(t,0,0,0)-e>=k},n.isOneDayPass24=function(n){var t=new Date(n).setHours(0,0,0,0);return(new Date).setHours(0,0,0,0)-t>=k},n.getTimeLeftStr=function(n,t){t&&(n=new Date(n).setHours(t,0,0,0));var e=Date.now()-n;return this.formatSeconds(k-e)},n.reparentUI=function(n,t,e){var r=this.getRelativePos(n,t);null==e?n.addChild(t):n.addChildAt(t,e),t.x=r.x,t.y=r.y},n.arraySwitchEle=function(n,t,e){var r=n.indexOf(t),i=n.indexOf(e),o=n[r];n[r]=n[i],n[i]=o},n.arraySetEleIndex=function(n,t,e){var r=n.splice(n.indexOf(t),1)[0];n.splice(e,0,r)},n.setLoader3dSpeed=function(n,t){var e=n._content;e&&(e.timeScale=t)},n.GListAutoSize=function(n,t){t||(t=n.columnCount);var e=Math.ceil(n._children.length/t),r=n._children[0]?n._children[0].height:0,i=n.lineGap;n.height=(r+i)*e},n.tweenWait=function(n){return new Promise((function(t){n.call((function(){return t(null)})).start()}))},n.GComponentYSort=function(n){var t=n.node.children[0];if(t.children.sort((function(n,t){return t.position.y-n.position.y})),u.isNative)for(var e=0;e<t.children.length;e++){t.children[e].setSiblingIndex(e)}t._children=t.children},n.vec2LikeEqual=function(n,t){return n.x==t.x&&n.y==t.y},n.showToast=function(n,t){var e=v.createObjectFromURL(t);e.title=n,e.sortingOrder=1/0,w.inst.addChild(e),e.x=.5*w.inst.width-.5*e.width,e.y=w.inst.height+200,e.touchable=!1,c(e).to(.4,{y:.3*w.inst.height},{easing:"quadOut"}).delay(1).to(.2,{y:-200}).call((function(){return e.dispose()})).start()},n.ObjectApplyTo=function(n,t){for(var e=0,r=Object.keys(n);e<r.length;e++){var i=r[e],o=n[i],a=typeof o;if("string"!=a&&"number"!=a||i.startsWith("_"))if(o instanceof b){t[i].selectedIndex=o.selectedIndex}else o instanceof l&&(t[i]=o.clone());else t[i]=o}},n.isGObjectInTree=function(n){if(null!=n)return!!n.parent&&(n.parent==w.inst||this.isGObjectInTree(n.parent))},n.randomIntByFloat=function(n){var t=Math.floor(n),e=n-t;return Math.random()<e?t+1:t},n.dynamicLoadUIPackage=function(){var n=t(e().mark((function n(t,r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){s.loadBundle(t,(function(e,i){console.log("加载bundle",t),e?console.log(e):v.loadPackage(i,"./"+r,(function(){console.log("加载package",t,r),n(null)}))}))})));case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),n.dynamicLoadDir=function(){var n=t(e().mark((function n(t,r,i){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===i&&(i=!1),n.abrupt("return",new Promise((function(n){s.loadBundle(t,(function(t,e){console.log("加载bundle"),t?console.log(t):i?(e.preload(r),n(null)):e.loadDir(r,(function(){n(null)}))}))})));case 2:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),n.arrAdd=function(n,t){-1==n.indexOf(t)&&n.push(t)},n.isArrNull=function(n){return!n||0==n.length},n.raycastToBox=function(n,t,e,r){var i=(r.x-n.x)/t.x,o=(r.x+r.w-n.x)/t.x,a=(r.y-n.y)/t.y,u=(r.y+r.h-n.y)/t.y,c=Math.max(Math.min(i,o),Math.min(a,u));return!(Math.min(Math.max(i,o),Math.max(a,u))<0||c>e)},n.isUIInsideTree=function(n){return n.parent==w.inst||!!n.parent&&this.isUIInsideTree(n.parent)},n.isUIPartOfWindow=function(n){return!!(n instanceof M||n.constructor.name.toLowerCase().includes("window")||"frame"==n.name)||(!(!n._parent||!(n._parent instanceof M||n._parent.constructor.name.toLowerCase().includes("window")))||!!n._parent&&this.isUIPartOfWindow(n._parent))},n.mergeMap=function(n,t){for(var e={},r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];e[o]||(e[o]=0),e[o]+=n[o]}for(var a=0,u=Object.keys(t);a<u.length;a++){var c=u[a];e[c]||(e[c]=0),e[c]+=t[c]}return e},n.getUIItem=function(n){return n.packageItem?{name:n.packageItem.name,package:n.packageItem.owner.name}:{}},n.getBasePos=function(n,t,e){return void 0===e&&(e=T()),t.parent==n?e.add2f(t.x,t.y):this.getBasePos(n,t.parent,e.add2f(t.x,t.y))},n.parseConfStr=function(n){if(n.includes("\n")){var t=n.split("\n"),e=[];return t.forEach((function(n){var t=n.split("|"),r={};t.forEach((function(n){var t=n.split("="),e=t[0],i=t[1];if(i.includes(",")){var o=i.split(",");isNaN(Number(o[0]))?r[e]=o:r[e]=o.map((function(n){return Number(n)}))}else{var a=Number(i);r[e]=isNaN(a)?i:a}})),e.push(r)})),e}var r=n.split("|"),i={};return r.forEach((function(n){var t=n.split("="),e=t[0],r=t[1];if(r.includes(",")){var o=r.split(",");isNaN(Number(o[0]))?i[e]=o:i[e]=o.map((function(n){return Number(n)}))}else{var a=Number(r);i[e]=isNaN(a)?r:a}})),i},n.parseUIData=function(n){var t=n.data;return t?this.parseConfStr(t):{}},n.deepCloneWithPrototype=function(n,t){if(void 0===t&&(t=new WeakMap),null===n||"object"!=typeof n)return n;if(t.has(n))return t.get(n);var e=Object.create(Object.getPrototypeOf(n));t.set(n,e);for(var r=Object.getOwnPropertyDescriptors(n),i=0,o=Object.entries(r);i<o.length;i++){var a=o[i],u=a[0],c=a[1];void 0!==c.value&&(c.value=this.deepCloneWithPrototype(c.value,t)),Object.defineProperty(e,u,c)}return e},n.pauseTransitions=function(n){var t=this;P(n,(function(n){n instanceof d&&n._transitions.forEach((function(n){n.setPaused(!0),t._pausedTranstions.push(n)}))}))},n.resumeTransitions=function(){this._pausedTranstions.forEach((function(n){return n.setPaused(!1)})),this._pausedTranstions.length=0},n.parseURL=function(n){var t=v.getItemByURL(n);return{package:t.owner.name,name:t.name}},n}()));O=E,E.formatSeconds=function(n,t){void 0===t&&(t=!1);var e=n/1e3,r=0,i=0;return e>60?(r=Math.floor(e/60),e=Math.floor(e%60),r>60&&(i=Math.floor(r/60),r=Math.floor(r%60))):e=Math.floor(e),t?O.pad(r,2)+":"+O.pad(e,2):O.pad(i,2)+":"+O.pad(r,2)+":"+O.pad(e,2)},E.joinMap=function(){for(var n={},t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var i=0,o=e;i<o.length;i++){var a=o[i];for(var u in a)n[u]=n[u]||0,n[u]+=a[u]}for(var c in n)0==n[c]&&delete n[c];return n},E.vec2Right=T(1,0),E.vec2Left=T(-1,0),E.vec2Up=T(0,-1),E.vec2Down=T(0,1),E._pausedTranstions=[],E.getQueryString=function(n){var t=new RegExp("(^|&)"+n+"=([^&]*)(&|$)");if(!window.location||!window.location.search)return null;var e=window.location.search.substr(1).match(t);return null!=e?decodeURIComponent(e[2]):null};var j=[];var L=[];r._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Lerp.ts",["cc"],(function(t){var e,i,s;return{setters:[function(t){e=t.cclegacy,i=t.math,s=t.Vec3}],execute:function(){e._RF.push({},"9586b83SxNDYaXsV+vHpVf0","Vec3Lerp",void 0);t("Vec3Lerp",function(){function t(t,e,i,n,r,c,a){this._start=void 0,this._end=void 0,this._past=void 0,this._time=void 0,this._start=new s(e,i,n),this._end=new s(r,c,a),this._past=0,this._time=t}return t.Create=function(e,i,s,n,r,c,a){if(void 0===n){var u=i,h=s;return new t(e,u.x,u.y,u.z,h.x,h.y,h.z)}return new t(e,i,s,n,r,c,a)},t.prototype.update=function(t,e){this._past+=t;var n=i.clamp01(this._past/this._time);return s.lerp(e,this._start,this._end,n),n>=1},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Util.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,n,s,h,_,o,a,v;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,r=t.Vec3,n=t.Mat4,s=t.Vec2,h=t.toRadian,_=t.math,o=t.toDegree,a=t.v2,v=t.v3}],execute:function(){e._RF.push({},"69552U6WEFE7LgXadZ7EYor","Vec3Util",void 0);var u=t("Vec3Util",function(){function t(){}return t.equals=function(t,i){return t.x==i.x&&t.y==i.y&&t.z==i.z},t.direction=function(t,i,e){var n=e||new r;return r.subtract(n,i,t),n.normalize()},t.slerp=function(t,i,e,n){if(e<=0)return t;if(e>=1)return i;var s=n||new r;this.rotateTo(t,i,this.angle(t,i)*e,s);var h=i.length()*e+t.length()*(1-e);return s.normalize().multiplyScalar(h)},t.rotateTo=function(t,i,e,n){if(0==r.angle(t,i))return i;r.cross(this._v0,t,i),this._v0.normalize(),this._tMat.identity(),this._tMat.rotate(h(e),this._v0);var s=n||new r;return r.transformMat4(s,t,this._tMat),s},t.rotate=function(t,i,e,n){var s=n||new r;return 0==e?r.copy(s,t):(this._tMat.identity(),this._tMat.rotate(h(e),i),r.transformMat4(s,t,this._tMat)),s},t.rotateDirXZ=function(t,i,e){return this.rotate(t,this.s_up,i,e)},t.rotateDirXY=function(t,i,e){return this.rotate(t,this.s_forward,i,e)},t.rotateDirYZ=function(t,i,e){return this.rotate(t,this.s_right,i,e)},t.bezier2=function(t,i,e,n,s){var h=s||new r;n>1?n=1:n<0&&(n=0);var _=1-n,o=n*n,a=_*_,v=2*_*n,u=t.x,c=t.y,l=t.z,f=i.x,d=i.y,z=i.z,m=e.x,g=e.y,p=e.z;return h.x=u*a+f*v+m*o,h.y=c*a+d*v+g*o,h.z=l*a+z*v+p*o,h},t._getBezierPoint=function(t,i,e,n){r.multiplyScalar(this._v5,t,1-e),r.multiplyScalar(this._v6,i,e),r.add(n,this._v5,this._v6)},t.bezier2Dir=function(t,i,e,n,s){var h=s||new r;return this._getBezierPoint(t,i,n,this._v0),this._getBezierPoint(i,e,n,this._v1),r.subtract(h,this._v1,this._v0).normalize(),h},t.bezier2WithDir=function(t,i,e,n,s,h){this._getBezierPoint(t,i,n,this._v0),this._getBezierPoint(i,e,n,this._v1),h&&r.subtract(h,this._v1,this._v0).normalize(),this._getBezierPoint(this._v0,this._v1,n,s)},t.bezier3=function(t,i,e,n,s,h){var o=1-(s=_.clamp01(s)),a=o*o,v=a*o,u=s*s,c=u*s,l=t.x,f=t.y,d=t.z,z=i.x,m=i.y,g=i.z,p=e.x,y=e.y,w=e.z,b=n.x,x=n.y,M=n.z,k=h||new r;return k.x=l*v+3*z*a*s+3*p*o*u+b*c,k.y=f*v+3*m*a*s+3*y*o*u+x*c,k.z=d*v+3*g*a*s+3*w*o*u+M*c,k},t.angle=function(t,i){r.normalize(this._v0,t),r.normalize(this._v1,i);var e=Math.acos(_.clamp(r.dot(this._v0,this._v1),-1,1));return o(e)},t.signedAngle=function(t,i,e){r.normalize(this._v0,e);var n=r.dot(t,this._v0);r.multiplyScalar(this._v1,this._v0,n),r.subtract(this._v2,t,this._v1);var s=r.dot(i,this._v0);r.multiplyScalar(this._v3,this._v0,s),r.subtract(this._v4,i,this._v3),r.normalize(this._v1,this._v2),r.normalize(this._v3,this._v4);var h=Math.acos(_.clamp(r.dot(this._v1,this._v3),-1,1));r.cross(this._v5,this._v1,this._v3);var a=Math.sign(r.dot(this._v0,this._v5));return o(h)*a},t.signedAngleEx=function(t,i,e){r.normalize(this._v0,t),r.normalize(this._v1,i);var n=Math.acos(_.clamp(r.dot(this._v0,this._v1),-1,1));r.cross(this._v2,this._v0,this._v1),this._v2.normalize();var s=Math.sign(r.dot(e,this._v2));return o(n)*s},t.angleFromTo=function(t,i,e,r){var n=e-t,s=r-i,h=Math.atan2(s,n);return o(h)},t.clampMagnitude=function(t,i,e){var n=e||new r;return r.lengthSqr(t)>i*i?(r.normalize(this._temp,t),r.multiplyScalar(n,this._temp,i)):r.copy(n,t),n},t.smoothDamp=function(t,i,e,n,s,h,_){var o=_||new r,a=2/n,v=a*h,u=1/(1+v+.48*v*v+.235*v*v*v);r.subtract(this._v0,t,i),r.copy(this._v1,i);var c=s*n;return this.clampMagnitude(this._v0,c,this._v0),r.subtract(this._v2,t,this._v0),r.multiplyScalar(this._v3,this._v0,a).add(e).multiplyScalar(h),r.multiplyScalar(this._v4,this._v3,a),r.subtract(this._v4,e,this._v4).multiplyScalar(u),r.copy(e,this._v4),r.add(o,this._v0,this._v3).multiplyScalar(u).add(this._v2),r.subtract(this._v5,this._v1,t),r.subtract(this._v6,o,this._v1),r.dot(this._v5,this._v6)>0&&(r.copy(o,this._v1),e.set(0,0,0)),o},t.isArrival=function(t,i,e){return r.subtract(this._v0,i,t),r.subtract(this._v1,i,e),r.dot(this._v0,this._v1)<=0},t.isInSector=function(t,i,e,n,s,h){if(r.subtract(this._v0,i,t),r.subtract(this._v1,this.s_one,h),this._v2.set(this._v0.x*this._v1.x,this._v0.y*this._v1.y,this._v0.z*this._v1.z),r.lengthSqr(this._v2)<=e*e){var _=this.signedAngleEx(s,this._v2,h);if(_<=n&&_>=-n)return!0}return!1},t.calcPosWithSpeedAndAcc=function(t,i,e,n,s){var h=s||new r;return r.multiplyScalar(this._v0,i,n),r.multiplyScalar(this._v1,e,n*n/2),r.add(this._v2,this._v0,this._v1),r.add(h,t,this._v2),h},t.lookAt=function(t,i){return r.subtract(this._v0,i,t),this._v0.normalize(),this.signedAngleEx(this.s_forward,this._v0,this.s_up)},t.isCross=function(t,i,e,r){var n=-1e-15,s=(t.x-e.x)*(i.z-e.z)-(t.z-e.z)*(i.x-e.x),h=(t.x-r.x)*(i.z-r.z)-(t.z-r.z)*(i.x-r.x);if(s*h>=n)return!1;var _=(e.x-t.x)*(r.z-t.z)-(e.z-t.z)*(r.x-t.x);return!(_*(_+s-h)>=n)},t.reflect=function(t,i,e){var n=e||new r;r.normalize(this._v0,t),r.normalize(this._v1,i);var s=r.dot(this._v1,this._v0);return r.multiplyScalar(n,this._v1,-2*s).add(this._v0).normalize(),n},t.circleToRect=function(t,i,e,r){var n=.5*r.width,s=.5*r.height,h=r.xMin+n,_=r.yMin+s,o=Math.max(0,Math.abs(t-h)-n),a=Math.max(0,Math.abs(i-_)-s);return o*o+a*a<=e*e},t.convertPos=function(t,i,e,n){var s=n||new r;return e?this.convertToWorldSpace(e,t,this._v0):t.getWorldPosition(this._v0),this.convertToNodeSpace(this._v0,i,s),s},t.convertToNodeSpace=function(t,i,e){var n=e||new r;return i.getWorldMatrix(this._tMat),this._tMat.invert(),r.transformMat4(n,t,this._tMat),n},t.convertToWorldSpace=function(t,i,e){var n=e||new r;return i.getWorldMatrix(this._tMat),r.transformMat4(n,t,this._tMat),n},t.getOffset=function(t,i,e,n){return r.copy(this._v0,t),void 0!==i&&null!=i&&(this._v0.x+=i),void 0!==e&&null!=e&&(this._v0.y+=e),void 0!==n&&null!=n&&(this._v0.z+=n),this._v0},i(t,null,[{key:"left",get:function(){return new r(-1,0,0)}},{key:"right",get:function(){return new r(1,0,0)}},{key:"up",get:function(){return new r(0,1,0)}},{key:"down",get:function(){return new r(0,-1,0)}},{key:"forward",get:function(){return new r(0,0,1)}},{key:"back",get:function(){return new r(0,0,-1)}},{key:"one",get:function(){return new r(1,1,1)}},{key:"zero",get:function(){return new r(0,0,0)}},{key:"s_temp2",get:function(){return this._temp2||(this._temp2=a(0,0)),this._temp2.set(0,0),this._temp2}},{key:"s_left",get:function(){return this._left||(this._left=v(-1,0,0)),this._left.set(-1,0,0),this._left}},{key:"s_right",get:function(){return this._right||(this._right=v(1,0,0)),this._right.set(1,0,0),this._right}},{key:"s_up",get:function(){return this._up||(this._up=v(0,1,0)),this._up.set(0,1,0),this._up}},{key:"s_down",get:function(){return this._down||(this._down=v(0,-1,0)),this._down.set(0,-1,0),this._down}},{key:"s_forward",get:function(){return this._forward||(this._forward=v(0,0,1)),this._forward.set(0,0,1),this._forward}},{key:"s_back",get:function(){return this._back||(this._back=v(0,0,-1)),this._back.set(0,0,-1),this._back}},{key:"s_one",get:function(){return this._one||(this._one=v(1,1,1)),this._one.set(1,1,1),this._one}},{key:"s_zero",get:function(){return this._zero||(this._zero=v(0,0,0)),this._zero.set(0,0,0),this._zero}},{key:"s_temp",get:function(){return this._temp||(this._temp=v(0,0,0)),this._temp.set(0,0,0),this._temp}}]),t}());u._v0=new r(0,0,0),u._v1=new r(0,0,0),u._v2=new r(0,0,0),u._v3=new r(0,0,0),u._v4=new r(0,0,0),u._v5=new r(0,0,0),u._v6=new r(0,0,0),u._tMat=new n,u.v2_zero=Object.freeze(new s(0,0)),u.v2_half=Object.freeze(new s(.5,.5)),u.v2_one=Object.freeze(new s(1,1)),u.v3_zero=Object.freeze(new r(0,0,0)),u.v3_one=Object.freeze(new r(1,1,1)),u.v3_left=Object.freeze(new r(-1,0,0)),u._temp2=void 0,u._left=void 0,u._right=void 0,u._up=void 0,u._down=void 0,u._forward=void 0,u._back=void 0,u._one=void 0,u._zero=void 0,u._temp=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/VecPool.ts",["cc"],(function(o){var t,n,e;return{setters:[function(o){t=o.cclegacy,n=o.Vec2,e=o.Vec3}],execute:function(){t._RF.push({},"eb731au+HlL5YOGOiMYgkoV","VecPool",void 0);var u=o("VecPool",function(){function o(){}return o.getV2=function(){var o=this._v2Pool.shift();return o||(o=new n),o},o.putV2=function(o){this._v2Pool.push(o)},o.getV3=function(){var o=this._v3Pool.shift();return o||(o=new e),o},o.putV3=function(o){this._v3Pool.push(o)},o}());u._v2Pool=[],u._v3Pool=[],t._RF.pop()}}}));

System.register("chunks:///_virtual/VecPool3.ts",["cc"],(function(t){var o,n,e;return{setters:[function(t){o=t.cclegacy,n=t.Vec2,e=t.Vec3}],execute:function(){o._RF.push({},"f286ftNSV5NdLbWvKiRaRzV","VecPool3",void 0);var c=t("VecPool3",function(){function t(){}return t.getV2=function(){var t=this._v2Pool.shift();return t||(t=new n),t},t.putV2=function(t){this._v2Pool.push(t)},t.getV3=function(){var t=this._v3Pool.shift();return t||(t=new e),t},t.putV3=function(t){this._v3Pool.push(t)},t}());c._v2Pool=[],c._v3Pool=[],o._RF.pop()}}}));

System.register("chunks:///_virtual/VecPool4.ts",["cc"],(function(t){var o,n,e;return{setters:[function(t){o=t.cclegacy,n=t.Vec2,e=t.Vec3}],execute:function(){o._RF.push({},"3b64531JMhFiIYUNAL7Xpq7","VecPool4",void 0);var c=t("VecPool",function(){function t(){}return t.getV2=function(){var t=this._v2Pool.shift();return t||(t=new n),t},t.putV2=function(t){this._v2Pool.push(t)},t.getV3=function(){var t=this._v3Pool.shift();return t||(t=new e),t},t.putV3=function(t){this._v3Pool.push(t)},t}());c._v2Pool=[],c._v3Pool=[],o._RF.pop()}}}));

System.register("chunks:///_virtual/VecPool5.ts",["cc"],(function(o){var t,n,c;return{setters:[function(o){t=o.cclegacy,n=o.Vec2,c=o.Vec3}],execute:function(){t._RF.push({},"49ab2MKKYpPX4zE2JhMcuRo","VecPool5",void 0);var e=o("VecPool",function(){function o(){}return o.getV2=function(){var o=this._v2Pool.shift();return o||(o=new n),o},o.putV2=function(o){this._v2Pool.push(o)},o.getV3=function(){var o=this._v3Pool.shift();return o||(o=new c),o},o.putV3=function(o){this._v3Pool.push(o)},o}());e._v2Pool=[],e._v3Pool=[],t._RF.pop()}}}));

System.register("chunks:///_virtual/VecPool6.ts",["cc"],(function(t){var o,n,c;return{setters:[function(t){o=t.cclegacy,n=t.Vec2,c=t.Vec3}],execute:function(){o._RF.push({},"46dfajpmA9DBKnZc8JTL2Y0","VecPool6",void 0);var e=t("VecPool",function(){function t(){}return t.getV2=function(){var t=this._v2Pool.shift();return t||(t=new n),t},t.putV2=function(t){this._v2Pool.push(t)},t.getV3=function(){var t=this._v3Pool.shift();return t||(t=new c),t},t.putV3=function(t){this._v3Pool.push(t)},t}());e._v2Pool=[],e._v3Pool=[],o._RF.pop()}}}));

System.register("chunks:///_virtual/ViewBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./ViewsConfig.ts","./gEvents.ts","./YT.ts","./UIManager.ts"],(function(i){var t,s,n,e,o,h,a,u,c,_,d;return{setters:[function(i){t=i.createClass,s=i.asyncToGenerator,n=i.regeneratorRuntime},function(i){e=i.cclegacy,o=i.warn,h=i.log},function(i){a=i.GRoot},function(i){u=i.ViewsConfig},function(i){c=i.gEvents},function(i){_=i.YT},function(i){d=i.UIManager}],execute:function(){e._RF.push({},"f7a6fzGaLVGHLn0jybvBNF4","ViewBase",void 0);var r=i("EViewStatus",function(i){return i[i.Opening=0]="Opening",i[i.Opened=1]="Opened",i[i.Closing=2]="Closing",i[i.Closed=3]="Closed",i}({})),l=i("ViewBase",function(){function i(){this._ui=void 0,this._uiid=void 0,this.config=void 0,this._classDefine=void 0,this._showAnim=void 0,this._hideAnim=void 0,this._background=void 0,this._viewStatus=r.Closed,this._uiParam=null,this._callbacks=null,this.anyClose=!1}i._getInstance=function(t,s,n){if(void 0===n&&(n=0),!this._instance){this._instance=new t;var e=n;0==n&&(e=++i.S_View_SID),this._instance.uiid=e,this._instance._classDefine=s}return this._instance};var e=i.prototype;return e.show=function(i,t){var s=this;if(void 0===i&&(i=null),void 0===t&&(t=null),this._viewStatus!=r.Closed)return a.inst.closeModalWait(),void o("界面 "+this._uiid+" 状态异常: "+r[this._viewStatus]);this._viewStatus=r.Opening,this._uiParam=i,this._callbacks=t,this.config&&this.config.open_audio>0&&_.audio.play(this.config.open_audio),this._ui||(this._ui=this._classDefine.createInstance(),this._showAnim=this._ui.m_show,this._hideAnim=this._ui.m_close,this._background=this._ui.m_bg,this.onCreateUI()),_.gui.addUI(this,null!=this.config?this.config.layer:1),d.UIMultiLanguage(this._ui),this.anyClose&&this._background&&this._background.onClick((function(){s.hide()}),this),this._onCreate(),this._preShowAnim(),this._playShowAnim()},e.onCreateUI=function(){},e._onCreate=function(){},e._playShowAnim=function(){this.ui.visible=!0,this._showAnim?(this._background&&(this._background.alpha=.01),a.inst.showModalWait(),this._showAnim.play(this._onShowAnimEnd.bind(this))):_.timer.scheduleOnce(this._onShowAnimEnd.bind(this),.1)},e._onShowAnimEnd=function(){var i=s(n().mark((function i(){return n().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this._viewStatus==r.Opening){i.next=4;break}return h("界面 "+this._uiid+" 在打开的过程中，就关了"),a.inst.closeModalWait(),i.abrupt("return");case 4:return this._viewStatus=r.Opened,i.next=7,this._afterShowAnim();case 7:this._callbacks&&this._callbacks.onUIAdded&&this._callbacks.onUIAdded(this),a.inst.closeModalWait(),this._background&&(this._background.alpha=.5),_.message.dispatchEvent(c.on_view_opened,this._uiid);case 11:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),e.hide=function(i){var t=this;if(void 0===i&&(i=!0),console.log("关闭界面 "+this._uiid),this.anyClose&&this._background&&this._background.offClick((function(){t.hide()}),this),this._viewStatus>=r.Closing)return o("重复关闭界面 "+this._uiid+" "),void a.inst.closeModalWait();this._viewStatus==r.Opening&&(this._showAnim?this._showAnim.stop(!1):_.timer.unschedule(this._onShowAnimEnd.bind(this))),this._viewStatus=r.Closing,this._preHideAnim(),this._hideAnim?(this._background&&(this._background.visible=!1),this._hideAnim.play(this._onHideAnimEnd.bind(this,i))):(this.ui.visible=!1,this._onHideAnimEnd(i))},e.hideImmediately=function(i){this._preHideAnim(),this._onHideAnimEnd(i)},e._onHideAnimEnd=function(i){this._afterHideAnim(),this._callbacks&&this._callbacks.onUIRemoved&&this._callbacks.onUIRemoved(this),this._viewStatus=r.Closed,this._uiParam=null,this._callbacks=null,i?(this._ui.dispose(),this._ui=null):this._ui.removeFromParent(),this.config&&this.config.close_audio>0&&_.audio.play(this.config.close_audio),a.inst.closeModalWait(),_.gui.removeUI(this),_.message.dispatchEvent(c.on_view_closed,this._uiid)},e.setSize=function(i){var t=a.inst.width,s=a.inst.height;this._ui.setSize(t,s-i,!0),this._ui.y=i,this._background&&(this._background.setSize(t,s,!0),this._background.y=-i)},t(i,[{key:"ui",get:function(){return this._ui}},{key:"uiid",get:function(){return this._uiid},set:function(i){this._uiid=i,this.config=u.data[i]}},{key:"isClosed",get:function(){return this._viewStatus==r.Closing||this._viewStatus==r.Closed}},{key:"isOpened",get:function(){return!this.isClosed}}]),i}());l.S_View_SID=1e5,l._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewsConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ViewsConfig",void 0),t._RF.push({},"80f62/zi+dP16hfWrpU6j0r","ViewsConfig",void 0),function(i){i.config=function(){this.id=void 0,this.open_audio=void 0,this.close_audio=void 0,this.layer=void 0};i.isConst=!1,i.path="config/ViewsConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ViewsConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ViewUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./Vec3Util.ts"],(function(e){var o,t,n,r,i,a,c,s,l,u,p,d;return{setters:[function(e){o=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy,r=e.UITransform,i=e.v3,a=e.Size,c=e.log,s=e.Vec3,l=e.Prefab,u=e.instantiate},function(e){p=e.YT},function(e){d=e.Vec3Util}],execute:function(){n._RF.push({},"5fae9V5SU5HxbR7iq/OdB15","ViewUtil",void 0);e("ViewUtil",function(){function e(){}return e.calculateASpaceToBSpacePos=function(e,o,t){var n=e.getComponent(r).convertToWorldSpaceAR(t);return o.getComponent(r).convertToNodeSpaceAR(n)},e.calculateScreenPosToSpacePos=function(e,o){var t=e.getUILocation(),n=i(t.x,t.y);return o.getComponent(r).convertToNodeSpaceAR(n)},e.uniformScale=function(e,o,t,n){var r=t/e,i=n/o,c=r<i?r:i;return new a(Math.floor(e*c),Math.floor(o*c))},e.nodeIsInView=function(e){var o=!0,t=e.getComponent(r);if(t){var n=p.viewportSize,i=t.convertToWorldSpaceAR(s.ZERO);if(i.x<=0)o=!(i.x+t.width*(1-t.anchorX)<0);else o=!(i.x-t.width*t.anchorX>n.width);if(o)if(i.y<=0)o=!(i.y+t.height*(1-t.anchorY)<0);else o=!(i.y-t.height*t.anchorY>n.height)}else c("UIHelper.nodeIsInView: target node not UITransform component!");return o},e.nodeFullInView=function(e){var o=!0,t=e.getComponent(r);if(t){var n=p.viewportSize,i=t.convertToWorldSpaceAR(s.ZERO);if(i.x<=0)o=i.x-t.width*t.anchorX>=0;else o=i.x+t.width*(1-t.anchorX)<=n.width;if(o)if(i.y<=0)o=i.y-t.height*t.anchorY>=0;else o=i.y+t.height*(1-t.anchorY)<=n.height}else c("UIHelper.nodeIsInView: target node not UITransform component!");return o},e.nodeIsOutByHeight=function(e){var o=!1,t=e.getComponent(r);if(t){var n=p.viewportSize,i=t.convertToWorldSpaceAR(s.ZERO);if(i.y<=0)o=i.y+t.height*(1-t.anchorY)<0;else o=i.y-t.height*t.anchorY>n.height}else c("ViewUtil.nodeIsOutByHeight: target node not UITransform component!");return o},e.nodeIsOutByWidth=function(e){var o=!1,t=e.getComponent(r);if(t){var n=p.viewportSize,i=t.convertToWorldSpaceAR(s.ZERO);if(i.x<=0)o=i.x+t.width*(1-t.anchorX)<0;else o=i.x-t.width*t.anchorX>n.width}else c("ViewUtil.nodeIsOutByHeight: target node not UITransform component!");return o},e.offestNodePos=function(e,o){var t=e.getPosition();t.x+=o.x,t.y+=o.y,t.z+=o.z,e.setPosition(t)},e.getNodeDistance=function(e,o){var t=0,n=i(0,0,0);if(e.parent==o.parent){var a=e.getPosition(),c=o.getPosition();t=s.distance(a,c)}else{var l=e.getComponent(r),u=o.getComponent(r);if(l&&u){var p=l.convertToWorldSpaceAR(s.ZERO),f=u.convertToWorldSpaceAR(s.ZERO);t=s.distance(p,f),n=d.direction(p,f)}}return{distance:t,direction:n}},e.getTwoNodeAngle=function(e,o){var t=s.ZERO,n=s.ZERO;if(e.parent==o.parent)t=e.getPosition(),n=o.getPosition();else{var i=e.getComponent(r),a=o.getComponent(r);i&&a&&(t=i.convertToWorldSpaceAR(s.ZERO),n=a.convertToWorldSpaceAR(s.ZERO))}return d.angleFromTo(t.x,t.y,n.x,n.y)},e.getWorldPosToNodeAngle=function(e,o){var t=o.parent.getComponent(r),n=o.getPosition(),i=n;i.x=n.x+(.5-t.anchorX)*t.width,i.y=n.y+(.5-t.anchorY)*t.height;var a=o.parent.getComponent(r).convertToWorldSpaceAR(i);return d.angleFromTo(e.x,e.y,a.x,a.y)},e.getNodeInPanelPos=function(e,o){var t=e.parent.getComponent(r),n=e.getPosition(),i=t.convertToWorldSpaceAR(n);return o.getComponent(r).convertToNodeSpaceAR(i)},e.createPrefabNode=function(e,o){var t=p.res.get(e,o,l);return t?u(t):null},e.createPrefabNodeAsync=function(e,n){var r=this;return new Promise(o(t().mark((function o(i,a){return t().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:p.res.load(e,n,l,null,(function(o){var t=r.createPrefabNode(e,n);i(t)}));case 1:case"end":return o.stop()}}),o)}))))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/VivoAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultAds.ts"],(function(o){var n,e,d;return{setters:[function(o){n=o.inheritsLoose},function(o){e=o.cclegacy},function(o){d=o.default}],execute:function(){e._RF.push({},"fc9eb+5qi1JDKDLSwpqW5H/","VivoAds",void 0);o("default",function(o){function e(){var n;return(n=o.call(this)||this).config=void 0,n._rewardVideo=void 0,n.base=void 0,n.bannerAd=void 0,n._intersitialAd=void 0,n.boxBanner=void 0,n.gamebox=void 0,n.nativeAd=void 0,n.onRewardAdLoad=void 0,n.onRewardAdError=void 0,n.onRewardAdClose=void 0,n.base=window.qg,n}n(e,o);var d=e.prototype;return d.init=function(o){this.base=window.qg,this.config=o},d.showBannerAd=function(){console.log("showBannerAd"),this.base&&(this.bannerAd?this.bannerAd.show():this.createBannerAd(!0))},d.hideBannerAd=function(){console.log("hideBannerAd"),this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null)},d.createBannerAd=function(o){void 0===o&&(o=!1),this.config.bannerIdMain?(this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerAd=window.qg.createBannerAd({posId:this.config.bannerIdMain}),this.bannerAd.onResize((function(o){console.log("banner 宽度："+o.width+", banner 高度："+o.height)})),this.bannerAd.onLoad((function(){console.log("[Banner广告] 广告加载成功")})),this.bannerAd.onError((function(o){console.log("错误监听：",JSON.stringify(o))})),o&&this.showBannerAd()):console.log("banner广告参数没有配置")},d.showRewardVideoAd=function(){var o=this;this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var n=this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"),new Promise((function(e,d){n&&(o._rewardVideo&&o.onRewardAdLoad&&(o._rewardVideo.offLoad(o.onRewardAdLoad),o._rewardVideo.offError(o.onRewardAdError),o._rewardVideo.offClose(o.onRewardAdClose)),o.onRewardAdLoad=function(){console.log("视频广告加载成功"),o.base.hideLoading()},o.onRewardAdClose=function(n){o.base.hideLoading(),console.log("视频回调",n);var d=n.isEnded;e(d)},o.onRewardAdError=function(n){console.error("视频广告加载失败",n),o.base.showToast("视频加载失败,请稍后重试"),e(!1),o.base.hideLoading()},o._rewardVideo?(o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),o.base.showLoading("视频加载中..."),o._rewardVideo.show().then((function(){o.base.hideLoading()}))):(o._rewardVideo=o.base.createRewardedVideoAd({adUnitId:n}),o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),o.base.showLoading("视频加载中..."),o._rewardVideo.load().then((function(){o._rewardVideo.show().then((function(){o.base.hideLoading()}))}))))}))},d.showInterstitialAd=function(){},d.showGameboxBanner=function(){},d.hideGameboxBanner=function(){},d.showGamebox=function(){},d.hideGamebox=function(){},d.showNativeAd=function(){var o=this;if(!this.nativeAd&&this.config.nativeAdId){var n=this.config.nativeAdId;this.nativeAd=this.base.createCustomAd({posId:n,style:{left:0,top:this.base.systemInfo.screenHeight/2}}),this.nativeAd.onError((function(o){console.log("原生加载错误"+o)}))}this.nativeAd&&this.nativeAd.show().then((function(){console.log("原生模板广告展示完成"),o.hideBannerAd()})).catch((function(o){console.log("原生模板广告展示失败",JSON.stringify(o))}))},d.hideNativeAd=function(){this.nativeAd&&this.nativeAd.hide(),this.nativeAd&&this.nativeAd.destroy()},d.showSplashAd=function(){},e}(d));e._RF.pop()}}}));

System.register("chunks:///_virtual/VivoPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VivoAds.ts","./DefaultPlatform.ts","./DefaultRecorder.ts"],(function(o){var t,n,e,s,i,c,a,r;return{setters:[function(o){t=o.inheritsLoose,n=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){s=o.cclegacy,i=o.game},function(o){c=o.default},function(o){a=o.default},function(o){r=o.default}],execute:function(){s._RF.push({},"c28ef5VQeFHnqY1YkB8Ftbb","VivoPlatform",void 0);o("default",function(o){function s(){var t;return(t=o.call(this)||this).systemInfo=void 0,t.base=window.qg,t}t(s,o);var a=s.prototype;return a.init=function(o){var t=this;console.log("初始化平台==Oppo"),this.systemInfo=this.base.getSystemInfoSync(),this.ads=new c,this.ads.init(o.adConfig),this.isSupportRank=!1,this.recorder=new r,this.recorder.isSupport=!1,this.gameName=o.gameName,this.appId=o.appId,this.base.onShow(this.onShow.bind(this)),this.base.onHide(this.onHide.bind(this)),this.base.getSystemInfo({success:function(o){t.systemInfo=o,console.log("systeminfo",t.systemInfo),o.platformVersionCode>=1053&&t.login(!1)},fail:function(){},complete:function(){}})},a.onShow=function(o){console.log("oppo OnShow",o),i.resume()},a.onHide=function(o){console.log("oppo OnHide",o),i.pause()},a.login=function(){var o=n(e().mark((function o(t){return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:this.useCloudStorage=t,this.base.login({success:function(o){console.log("vovo登陆成功",o)},fail:function(){console.log("vovo登陆失败")}});case 2:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),a.Vibrate=function(o){o?this.base.vibrateLong({success:function(o){},fail:function(o){console.error("调用震动失败",o)},complete:function(o){}}):this.base.vibrateShort({success:function(o){},fail:function(o){console.error("调用震动失败",o)},complete:function(o){}})},a.showLoading=function(o,t){console.log("showLoading"+o),this.base&&this.base.showLoading({title:o})},a.hideLoading=function(){console.log("hideLoading"),this.base&&this.base.hideLoading()},a.showToast=function(o){console.log("showToast"+o),this.base&&this.base.showToast({title:o})},a.reportEvent=function(o,t){},a.exitGame=function(){this.base.exitApplication({})},a.hasShortcutInstalled=function(){var o=this;return new Promise((function(t,n){o.base.hasShortcutInstalled({success:function(o){t(!!o)}})}))},a.createShortcut=function(){var o=this;return console.log("创建桌面图标"),new Promise((function(t,n){o.base.installShortcut({success:function(){console.log("创建桌面图标成功"),t(!0)}})}))},s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/WarningView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDK.ts","./UI_Alert.ts","./ViewBase.ts","./YT.ts"],(function(t){var n,i,e,o,s,c,r;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy},function(t){o=t.default},function(t){s=t.default},function(t){c=t.ViewBase},function(t){r=t.YT}],execute:function(){e._RF.push({},"263d52fnPBFA5dhLMGJi2mc","WarningView",void 0);t("WarningView",function(t){function e(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).tips=void 0,n}n(e,t);var c=e.prototype;return c._preShowAnim=function(){this.ui.m_view.m_btn_ok.onClick(this.onClickOK,this),this.tips=this._uiParam,this.ui.m_view.m_txt_content.text=this.tips+"\nIP: "+o.Inst.configs.ip},c._afterShowAnim=function(){},c._preHideAnim=function(){},c._afterHideAnim=function(){},c.onClickOK=function(){var t=o.Inst.configs.ip;window.navigator.clipboard.writeText(t),r.gui.toast("ip已复制到剪贴板")},i(e,null,[{key:"instance",get:function(){return this._getInstance(e,s)}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/WaveConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("WaveConfig",void 0),t._RF.push({},"027ceu665ZJlKKLG+w7aiC9","WaveConfig",void 0),function(i){i.config=function(){this.id=void 0,this.type=void 0,this.params=void 0,this.monster_ids=void 0,this.counts=void 0,this.hp=void 0,this.atk=void 0};i.isConst=!1,i.path="config/WaveConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("WaveConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/WaveLayerCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./WaveLayerItemCmp.ts"],(function(e){var i,t,r,o,a,n,s,l,d,c,p,u,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,s=e.Node,l=e.ProgressBar,d=e.Label,c=e.instantiate,p=e.Component},function(e){u=e.YT},function(e){h=e.WaveLayerItemCmp}],execute:function(){var m,_,b,v,f,y,N,g,w,C,L,T,z;a._RF.push({},"39cf3p0nMtAdqV7V1RTZ1jO","WaveLayerCmp",void 0);var P=n.ccclass,S=n.property;e("WaveLayerCmp",(m=P("WaveLayerCmp"),_=S({type:s,displayName:"根节点",visible:!0}),b=S({type:l,displayName:"进度节点",visible:!0}),v=S({type:s,displayName:"模版节点",visible:!0}),f=S({type:s,displayName:"倒计时节点",visible:!0}),y=S({type:d,displayName:"倒计时文本",visible:!0}),m((w=i((g=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return i=e.call.apply(e,[this].concat(a))||this,r(i,"_rootNode",w,o(i)),r(i,"_bar",C,o(i)),r(i,"_templateNode",L,o(i)),r(i,"_cdNode",T,o(i)),r(i,"_cdLab",z,o(i)),i._items=void 0,i._curCdNum=void 0,i}t(i,e);var a=i.prototype;return a.show=function(){this.node.active=!0},a.hide=function(){this.node.active=!1},a.initRoundView=function(e){var i=130*e;this._bar.node.uiTransform.width=i;var t=i-11;this._bar.barSprite.node.uiTransform.width=t,this._bar.barSprite.node.setPosition(-t/2,0),this._bar.progress=0,this._rootNode.uiTransform.width=i,this._items=[],this._rootNode.children.forEach((function(e){"bar"!=e.name&&e.destroy()}));for(var r=0;r<e;++r){var o=c(this._templateNode);o.parent=this._rootNode,o.active=!0,o.setPosition(-i/2+130*(r+1),0);var a=o.getComponent(h);a.level=String(r+1),a.iconIdx=0,this._items.push(a)}},a.hideCdView=function(){this._cdNode.active=!1},a.showCdTime=function(e){this._curCdNum!=e&&(this._curCdNum=e,this._cdNode.active=!0,this._cdLab.string=String(this._curCdNum))},a.onRoundStart=function(e){var i=this._rootNode.uiTransform.width,t=u.viewportSize.width;if(this._items[e].iconIdx=1,!(i<t)){var r=i-680,o=Math.max(r/2-130*e,-r/2);this._rootNode.setPosition(o,this._rootNode.position.y)}},a.setProgressView=function(e){this._bar.progress=e},i}(p)).prototype,"_rootNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(g.prototype,"_bar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(g.prototype,"_templateNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(g.prototype,"_cdNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(g.prototype,"_cdLab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=g))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/WaveLayerItemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrameArraySprite.ts"],(function(e){var r,t,i,a,n,l,o,c,s,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,o=e._decorator,c=e.Label,s=e.Component},function(e){p=e.FrameArraySprite}],execute:function(){var u,y,m,v,b,f,L;l._RF.push({},"c93fbDd4SxJpqXHr+mXT4XL","WaveLayerItemCmp",void 0);var d=o.ccclass,_=o.property;e("WaveLayerItemCmp",(u=d("WaveLayerItemCmp"),y=_({type:p,displayName:"底图",visible:!0}),m=_({type:c,displayName:"等级",visible:!0}),u((f=r((b=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return r=e.call.apply(e,[this].concat(n))||this,i(r,"_icon",f,a(r)),i(r,"_lvLab",L,a(r)),r}return t(r,e),n(r,[{key:"level",set:function(e){this._lvLab.string=e}},{key:"iconIdx",set:function(e){this._icon.index=e}}]),r}(s)).prototype,"_icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(b.prototype,"_lvLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=b))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/WaveMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WaveConfig.ts","./ArrayUtil.ts","./BattleState.ts","./Awaiters.ts"],(function(n){var t,e,i,a,r,s,o,x,M;return{setters:[function(n){t=n.createClass,e=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){a=n.cclegacy,r=n.math},function(n){s=n.WaveConfig},function(n){o=n.ArrayUtil},function(n){x=n.BattleState},function(n){M=n.Awaiters}],execute:function(){a._RF.push({},"4331dP5hI9GfamsKpfQWpCq","WaveMgr",void 0);n("WaveMgr",function(){function n(){this._view=void 0,this._waveInfo=void 0,this._roundIndex=void 0,this._roundTime=void 0,this._isStartRound=void 0,this._roundMonsterCnt=void 0,this._waveInfo=[],this._roundIndex=0,this._roundTime=0}var a=n.prototype;return a.init=function(n,t){this._view=n,this._view.show();for(var e=0,i=t.length;e<i;++e)this._waveInfo.push({time:t[e][0]/1e3,waveId:t[e][1],gold:t[e][2]});this._view.initRoundView(this._waveInfo.length),this._view.hideCdView(),this._view.onRoundStart(this._roundIndex)},a.startRound=function(){this._isStartRound=!0,this._createMonstersByWaveId(this._waveInfo[this._roundIndex].waveId,this._waveInfo[this._roundIndex].gold),this._view.hideCdView()},a.endRound=function(){if(this._roundIndex+1>=this._waveInfo.length)return this._roundIndex++,void x.ins.control.win();this._roundIndex++,this._isStartRound=!1,this._roundTime=0,this._view.onRoundStart(this._roundIndex)},a.update=function(n){if(this._isStartRound)x.ins.control.roleMgr.monsterCount<=0&&this.endRound();else if(!(this._roundIndex>=this._waveInfo.length)){this._roundTime+=n;var t=this._waveInfo[this._roundIndex].time;if(t-this._roundTime<5){var e=Math.ceil(t-this._roundTime);this._view.showCdTime(e)}var i=1/this._waveInfo.length,a=Math.min(1,this._roundTime/t)*i+this._roundIndex*i;this._view.setProgressView(a),this._roundTime>=t&&this.startRound()}},a._createMonstersByWaveId=function(n,t){for(var e=s.data[n],i=[],a=0;a<e.monster_ids.length;++a)for(var r=e.counts[a],x=e.monster_ids[a];r-- >0;)i.push(x);o.fisherYatesShuffle(i),this._roundMonsterCnt=i.length;var M=Math.floor(t/this._roundMonsterCnt);1==e.type?this.spawnMonster1(i,e.atk,e.hp,M):2==e.type?this.spawnMonster2(i,e.atk,e.hp,M):3==e.type&&this.spawnMonster3(i,e.atk,e.hp,M)},a.spawnMonster1=function(){var n=e(i().mark((function n(t,e,a,s){var o,u,h,d,c,y;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((o=this._getRandomPos(300)).length<=0)){n.next=3;break}return n.abrupt("return");case 3:u=0;case 4:if(!(u<t.length)){n.next=15;break}return h=r.randomRangeInt(0,o.length),d=o[h],c=r.randomRangeInt(d[0],d[1]),y=r.randomRangeInt(d[2],d[3]),x.ins.control.roleMgr.addMonster(t[u],c,y).setAttrAdder(e,a,s),n.next=12,M.NextFrame();case 12:++u,n.next=4;break;case 15:case"end":return n.stop()}}),n,this)})));return function(t,e,i,a){return n.apply(this,arguments)}}(),a.spawnMonster2=function(){var n=e(i().mark((function n(t,e,a,s){var o,u,h,d,c,y;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((o=this._getRandomPos2(800)).length<=0)){n.next=3;break}return n.abrupt("return");case 3:u=0;case 4:if(!(u<t.length)){n.next=15;break}return h=r.randomRangeInt(0,o.length),d=o[h],c=r.randomRangeInt(d[0],d[1]),y=r.randomRangeInt(d[2],d[3]),x.ins.control.roleMgr.addMonster(t[u],c,y).setAttrAdder(e,a,s),n.next=12,M.NextFrame();case 12:++u,n.next=4;break;case 15:case"end":return n.stop()}}),n,this)})));return function(t,e,i,a){return n.apply(this,arguments)}}(),a.spawnMonster3=function(){var n=e(i().mark((function n(t,e,a,s){var o,u,h,d;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((o=this._getRandomPos3(300)).length<=0)){n.next=3;break}return n.abrupt("return");case 3:u=0;case 4:if(!(u<t.length)){n.next=13;break}return h=r.randomRangeInt(o[0],o[1]),d=r.randomRangeInt(o[2],o[3]),x.ins.control.roleMgr.addMonster(t[u],h,d).setAttrAdder(e,a,s),n.next=10,M.NextFrame();case 10:++u,n.next=4;break;case 13:case"end":return n.stop()}}),n,this)})));return function(t,e,i,a){return n.apply(this,arguments)}}(),a._getRandomPos=function(n){var t=x.ins.control.view.mapLayer.MAP_RECT,e=x.ins.control.view.mapLayer.SCENE_RECT2,i=[];return e.xMin>t.xMin&&i.push([Math.max(t.xMin,e.xMin-n),e.xMin,e.yMin,e.yMax]),e.xMax<t.xMax&&i.push([e.xMax,Math.min(t.xMax,e.xMax+n),e.yMin,e.yMax]),e.yMax<t.yMax&&i.push([e.xMin,e.xMax,e.yMax,Math.min(t.yMax,e.yMax+n)]),e.yMin>t.yMin&&i.push([e.xMin,e.xMax,Math.max(t.yMin,e.yMin-n),e.yMin]),e.xMin>t.xMin&&e.yMax<t.yMax&&i.push([Math.max(t.xMin,e.xMin-n),e.xMin,e.yMax,Math.min(t.yMax,e.yMax+n)]),e.xMin>t.xMin&&e.yMin>t.yMin&&i.push([Math.max(t.xMin,e.xMin-n),e.xMin,e.yMax,Math.min(t.yMax,e.yMax+n)]),e.xMax<t.xMax&&e.yMax<t.yMax&&i.push([e.xMax,Math.min(t.xMax,e.xMax+n),e.yMax,Math.min(t.yMax,e.yMax+n)]),e.xMax<t.xMax&&e.yMin>t.yMin&&i.push([e.xMax,Math.min(t.xMax,e.xMax+n),Math.max(t.yMin,e.yMin-n),e.yMin]),i},a._getRandomPos2=function(n){var t=x.ins.control.view.mapLayer.CAMP_SCENE_RECT,e=[];return e.push([t.xMin-n,t.xMin,t.yMin,t.yMax]),e.push([t.xMax,t.xMax+n,t.yMin,t.yMax]),e.push([t.xMin,t.xMax,t.yMax,t.yMax+n]),e.push([t.xMin,t.xMax,t.yMin-n,t.yMin]),e.push([t.xMin-n,t.xMin,t.yMax,t.yMax+n]),e.push([t.xMin-n,t.xMin,t.yMax,t.yMax+n]),e.push([t.xMax,,t.xMax+n,t.yMax,t.yMax+n]),e.push([t.xMax,t.xMax+n,t.yMin-n,t.yMin]),e},a._getRandomPos3=function(n){var t=x.ins.control.view.mapLayer.MAP_RECT,e=[];return e.push(t.xMin+n,t.xMax-n,t.yMin+n,t.yMax-n),e},t(n,[{key:"roundIndex",get:function(){return this._roundIndex}},{key:"maxRoundIndex",get:function(){return this._waveInfo.length}}]),n}());a._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WeaponCmp2.ts","./ZDResUtils.ts"],(function(e){var t,i,s,n,o,h;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,s=e.toDegree,n=e.Vec3},function(e){o=e.WeaponCmp},function(e){h=e.ZDResUtils}],execute:function(){i._RF.push({},"42cd5utsyRJcadI5GJs7+U2","WeaponBase",void 0);e("WeaponBase",function(){function e(){this._view=void 0,this._pos=new n,this._wpos=new n,this._radian=void 0,this._waitRemove=!1,this._hp=void 0,this._atk=void 0,this._degree=void 0,this._enable=void 0,this._res=void 0,this._effectTime=0,this._hp=this._atk=0,this._enable=!0}var i=e.prototype;return i.setVisible=function(e){this._view.node.active=e,this._enable=e},i.init=function(e,t){this._waitRemove=!1,this._view=o.Create(),this._view.node.parent=t,this.setRes(e),this._effectTime=0,this.setWhiteColor()},i.setRes=function(e){this._res=h.fullWeaponModelRes(e),this._view.changeRes(this._res)},i.initAttr=function(e,t){this._hp=e,this._atk=t},i.setPos=function(e,t){this._pos.set(e,t),this._view.setPos(this._pos)},i.setRadian=function(e){this._radian=e,this._degree=s(e)-90,this._view.setAngle(this._degree)},i.setScale=function(e){this._view.setScale(e)},i.subHp=function(e){this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0&&(this._waitRemove=!0)},i.forceDeath=function(){this._hp=0,this._waitRemove=!0},i.isDeath=function(){return this._hp<=0},i.addAtk=function(e){this._atk+=e,this._atk<0&&(this._atk=0)},i.destroy=function(){this._view.remove()},i.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.setWhiteColor())},i.setRedColor=function(){},i.setWhiteColor=function(){},t(e,[{key:"radian",get:function(){return this._radian}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"hp",get:function(){return this._hp}},{key:"atk",get:function(){return this._atk}},{key:"degree",get:function(){return this._degree}},{key:"realDegree",get:function(){return(this._view.node.parent.angle+this._degree)%360}},{key:"enable",get:function(){return!this._waitRemove&&this._enable}},{key:"res",get:function(){return this._res}},{key:"worldPos",get:function(){return this._view.getWorldPos(this._wpos),this._wpos}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponBase2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleConst.ts","./WeaponCmp.ts"],(function(t){var e,i,s,n,h,o;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t.toDegree,n=t.Vec3},function(t){h=t.WEAPON_CFG},function(t){o=t.WeaponCmp}],execute:function(){i._RF.push({},"c6a402UGBNLdI174ICeJwu0","WeaponBase",void 0);t("WeaponBase",function(){var t=i.prototype;function i(){this._view=void 0,this._pos=new n,this._wpos=new n,this._radian=void 0,this._waitRemove=!1,this._hp=void 0,this._atk=void 0,this._degree=void 0,this._atkTreeTime=0,this._atkMonsterTime=0,this._targets=void 0,this._enable=void 0,this._res=void 0,this._effectTime=0,this._hp=this._atk=0,this._enable=!0,this._targets=[]}return t.atkTreeed=function(){this._atkTreeTime=h.ATK_TREE_SPEED},t.atkMonstered=function(){this._atkMonsterTime=h.ATK_MONSTER_SPEED},t.clearTargets=function(){this._targets.length=0},t.addTarget=function(t){this._targets.push(t)},t.haveTarget=function(t){return this._targets.includes(t)},t.setVisible=function(t){this._view.node.active=t,this._enable=t},t.init=function(t,e){this._waitRemove=!1,this._view=o.Create(),this._view.node.parent=e,this.setRes(t),this._atkTreeTime=this._atkMonsterTime=0,this._effectTime=0,this.setWhiteColor(),this._view.resetMotion(),this._targets.length=0},t.setRes=function(t){this._res=t,this._view.changeRes(this._res)},t.initAttr=function(t,e){this._hp=t,this._atk=e},t.setPos=function(t,e){this._pos.set(t,e),this._view.setPos(this._pos)},t.setRadian=function(t){this._radian=t,this._degree=s(t)-90,this._view.setAngle(this._degree)},t.setScale=function(t){this._view.setScale(t)},t.subHp=function(t){this._hp-=t,this._hp<0&&(this._hp=0),this._hp<=0&&(this._waitRemove=!0)},t.forceDeath=function(){this._hp=0,this._waitRemove=!0},t.isDeath=function(){return this._hp<=0},t.addAtk=function(t){this._atk+=t,this._atk<0&&(this._atk=0)},t.destroy=function(){this._view.remove()},t.update=function(t){this._atkTreeTime>0&&(this._atkTreeTime-=t),this._atkMonsterTime>0&&(this._atkMonsterTime-=t),this._effectTime>0&&(this._effectTime-=t,this._effectTime<=0&&this.setWhiteColor())},t.setRedColor=function(){},t.setWhiteColor=function(){},e(i,[{key:"radian",get:function(){return this._radian}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"hp",get:function(){return this._hp}},{key:"atk",get:function(){return this._atk}},{key:"degree",get:function(){return this._degree}},{key:"realDegree",get:function(){return(this._view.node.parent.angle+this._degree)%360}},{key:"canAtkTree",get:function(){return this._atkTreeTime<=0}},{key:"canAtkMonster",get:function(){return this._atkMonsterTime<=0}},{key:"enable",get:function(){return!this._waitRemove&&this._enable}},{key:"res",get:function(){return this._res}},{key:"worldPos",get:function(){return this._view.getWorldPos(this._wpos),this._wpos}}]),i}());i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponBase3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WeaponCmp3.ts","./ZDResUtils3.ts","./ZDConst3.ts"],(function(t){var e,i,s,n,o,h,_,r;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t.toDegree,n=t.Vec3},function(t){o=t.WeaponCmp3},function(t){h=t.ZDResUtils3},function(t){_=t.DEFENCE_DATA,r=t.HERO_MOTION_MOD}],execute:function(){i._RF.push({},"d0575F75ihFvbecl6/iUgOn","WeaponBase3",void 0);t("WeaponBase3",function(){function t(){this._view=void 0,this._pos=new n,this._wpos=new n,this._radian=void 0,this._waitRemove=!1,this._hp=void 0,this._atk=void 0,this._degree=void 0,this._enable=void 0,this._res=void 0,this._mod=void 0,this._effectTime=0,this._hp=this._atk=0,this._enable=!0}var i=t.prototype;return i.setVisible=function(t){this._view.node.active=t,this._enable=t},i.init=function(t,e,i,s,n){this._waitRemove=!1,this._view||(this._view=o.Create()),this._mod=n,this._view.init(n),this._view.setWidth(i,s),this._view.node.parent=e,this.setRes(t),this._effectTime=0,this.setWhiteColor()},i.setRes=function(t){this._res=h.fullWeaponModelRes(t),this._view.changeRes(this._res)},i.setWidth=function(t,e){this._view.setWidth(t,e)},i.initAttr=function(t,e){this._hp=t,this._atk=e},i.setPos=function(t,e){this._pos.set(t,e),this._view.setPos(this._pos)},i.setRadian=function(t){this._radian=t,this._degree=s(t)-90,this._view.setAngle(this._degree)},i.setScale=function(t){this._view.setScale(t)},i.subHp=function(t){this._hp-=t,this.hp<=0&&(this._waitRemove=!0)},i.forceDeath=function(){this._hp=-_.HP_ADD,this._waitRemove=!0},i.isDeath=function(){return this.hp<=0},i.addAtk=function(t){this._atk+=t,this._atk<0&&(this._atk=0)},i.recover=function(){this._view.remove()},i.destroy=function(){this._view&&(this._view.node.destroy(),this._view=null)},i.update=function(t){this._effectTime>0&&(this._effectTime-=t,this._effectTime<=0&&this.setWhiteColor())},i.setRedColor=function(){},i.setWhiteColor=function(){},i.changeMod=function(t){this._mod=t,this._view.changeMod(t,!0)},i.setDefenceVibrate=function(t){this._view.setDefenceVibrate(t)},i.onPick=function(t){this._view.onPick(t)},e(t,[{key:"radian",get:function(){return this._radian}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"hp",get:function(){return this._hp+(this._mod==r.Atk?0:_.HP_ADD)}},{key:"atk",get:function(){return this._atk}},{key:"degree",get:function(){return this._degree}},{key:"realDegree",get:function(){return(this._view.node.parent.angle+this._degree)%360}},{key:"enable",get:function(){return!this._waitRemove&&this._enable}},{key:"res",get:function(){return this._res}},{key:"worldPos",get:function(){return this._view.getWorldPos(this._wpos),this._wpos}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponBase4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WeaponCmp4.ts","./ZDResUtils4.ts"],(function(e){var t,i,s,n,o,h;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,s=e.toDegree,n=e.Vec3},function(e){o=e.WeaponCmp4},function(e){h=e.ZDResUtils}],execute:function(){i._RF.push({},"da1c2xmO+lLqIBJkDBxswHH","WeaponBase4",void 0);e("WeaponBase4",function(){function e(){this.knifeAtkFlag=[],this._view=void 0,this._pos=new n,this._wpos=new n,this._radian=void 0,this._waitRemove=!1,this._hp=void 0,this._atk=void 0,this._degree=void 0,this._enable=void 0,this._res=void 0,this._effectTime=0,this._hp=this._atk=0,this._enable=!0}var i=e.prototype;return i.setVisible=function(e){this._view.node.active=e,this._enable=e},i.init=function(e,t){this._waitRemove=!1,this._view=o.Create(),this._view.node.parent=t,this.setRes(e),this._effectTime=0,this.setWhiteColor()},i.setRes=function(e){this._res=h.fullWeaponModelRes(e),this._view.changeRes(this._res)},i.initAttr=function(e,t){this._hp=e,this._atk=t},i.setPos=function(e,t){this._pos.set(e,t),this._view.setPos(this._pos)},i.setRadian=function(e){this._radian=e,this._degree=s(e)-90,this._view.setAngle(this._degree)},i.setScale=function(e){this._view.setScale(e)},i.subHp=function(e){this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0&&(this._waitRemove=!0)},i.forceDeath=function(){this._hp=0,this._waitRemove=!0},i.isDeath=function(){return this._hp<=0},i.addAtk=function(e){this._atk+=e,this._atk<0&&(this._atk=0)},i.destroy=function(){this._view.remove()},i.update=function(e){this._effectTime>0&&(this._effectTime-=e,this._effectTime<=0&&this.setWhiteColor())},i.setRedColor=function(){},i.setWhiteColor=function(){},t(e,[{key:"radian",get:function(){return this._radian}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"hp",get:function(){return this._hp}},{key:"atk",get:function(){return this._atk}},{key:"degree",get:function(){return this._degree}},{key:"view",get:function(){return this._view}},{key:"realDegree",get:function(){return(this._view.node.parent.angle+this._degree)%360}},{key:"enable",get:function(){return!this._waitRemove&&this._enable}},{key:"res",get:function(){return this._res}},{key:"worldPos",get:function(){return this._view.getWorldPos(this._wpos),this._wpos}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponBase5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WeaponCmp5.ts","./ZDResUtils5.ts"],(function(t){var e,i,s,n,o,h;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t.toDegree,n=t.Vec3},function(t){o=t.WeaponCmp5},function(t){h=t.ZDResUtils}],execute:function(){i._RF.push({},"612d2rYtDpCNpILBltuhTPP","WeaponBase5",void 0);t("WeaponBase4",function(){function t(){this.knifeAtkFlag=[],this._view=void 0,this._pos=new n,this._wpos=new n,this._radian=void 0,this._waitRemove=!1,this._hp=void 0,this._atk=void 0,this._degree=void 0,this._enable=void 0,this._res=void 0,this._effectTime=0,this._hp=this._atk=0,this._enable=!0}var i=t.prototype;return i.setVisible=function(t){this._view.node.active=t,this._enable=t},i.init=function(t,e){this._waitRemove=!1,this._view=o.Create(),this._view.node.parent=e,this.setRes(t),this._effectTime=0,this.setWhiteColor()},i.setRes=function(t){this._res=h.fullWeaponModelRes(t),this._view.changeRes(this._res)},i.initAttr=function(t,e){this._hp=t,this._atk=e},i.setPos=function(t,e){this._pos.set(t,e),this._view.setPos(this._pos)},i.setRadian=function(t){this._radian=t,this._degree=s(t)-90,this._view.setAngle(this._degree)},i.setScale=function(t){this._view.setScale(t)},i.subHp=function(t){this._hp-=t,this._hp<0&&(this._hp=0),this._hp<=0&&(this._waitRemove=!0)},i.forceDeath=function(){this._hp=0,this._waitRemove=!0},i.isDeath=function(){return this._hp<=0},i.addAtk=function(t){this._atk+=t,this._atk<0&&(this._atk=0)},i.destroy=function(){this._view.remove()},i.update=function(t){this._effectTime>0&&(this._effectTime-=t,this._effectTime<=0&&this.setWhiteColor())},i.setRedColor=function(){},i.setWhiteColor=function(){},e(t,[{key:"radian",get:function(){return this._radian}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"hp",get:function(){return this._hp}},{key:"atk",get:function(){return this._atk}},{key:"degree",get:function(){return this._degree}},{key:"view",get:function(){return this._view}},{key:"realDegree",get:function(){return(this._view.node.parent.angle+this._degree)%360}},{key:"enable",get:function(){return!this._waitRemove&&this._enable}},{key:"res",get:function(){return this._res}},{key:"worldPos",get:function(){return this._view.getWorldPos(this._wpos),this._wpos}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponBase6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WeaponCmp6.ts","./ZDResUtils6.ts"],(function(e){var t,i,s,n,o,h;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,s=e.toDegree,n=e.Vec3},function(e){o=e.WeaponCmp6},function(e){h=e.ZDResUtils}],execute:function(){i._RF.push({},"8c1c3i6KdZMyJgG1G3SlFeg","WeaponBase6",void 0);e("WeaponBase",function(){function e(){this._view=void 0,this._pos=new n,this._wpos=new n,this._radian=void 0,this._waitRemove=!1,this._hp=void 0,this._atk=void 0,this._degree=void 0,this._enable=void 0,this._res=void 0,this._hp=this._atk=0,this._enable=!0}var i=e.prototype;return i.setVisible=function(e){this._view.node.active=e,this._enable=e},i.init=function(e,t){this._waitRemove=!1,this._view=o.Create(),this._view.node.parent=t,this.setRes(e)},i.setRes=function(e){this._res=h.fullWeaponModelRes(e),this._view.changeRes(this._res)},i.initAttr=function(e,t){this._hp=e,this._atk=t},i.setPos=function(e,t){this._pos.set(e,t),this._view.setPos(this._pos)},i.setRadian=function(e){this._radian=e,this._degree=s(e)-90,this._view.setAngle(this._degree)},i.setScale=function(e){this._view.setScale(e)},i.subHp=function(e){this._hp-=e,this._hp<0&&(this._hp=0),this._hp<=0&&(this._waitRemove=!0)},i.forceDeath=function(){this._hp=0,this._waitRemove=!0},i.isDeath=function(){return this._hp<=0},i.addAtk=function(e){this._atk+=e,this._atk<0&&(this._atk=0)},i.destroy=function(){this._view.remove()},i.update=function(e){},t(e,[{key:"radian",get:function(){return this._radian}},{key:"waitRemove",get:function(){return this._waitRemove}},{key:"hp",get:function(){return this._hp}},{key:"atk",get:function(){return this._atk}},{key:"degree",get:function(){return this._degree}},{key:"realDegree",get:function(){return(this._view.node.parent.angle+this._degree)%360}},{key:"enable",get:function(){return!this._waitRemove&&this._enable}},{key:"res",get:function(){return this._res}},{key:"worldPos",get:function(){return this._view.getWorldPos(this._wpos),this._wpos}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./MainConst.ts"],(function(e){var t,n,i,o,r,a,s,c,l,p,u,f,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,c=e.MotionStreak,l=e.Vec3,p=e.Component},function(e){u=e.ViewUtil},function(e){f=e.UIHelper},function(e){h=e.MAIN_PREFABS,m=e.MAIN_BUNDLE}],execute:function(){var g,d,y,_,v,P,b;r._RF.push({},"96853KmyhtBQKCZe5opu5z/","WeaponCmp",void 0);var S=a.ccclass,C=a.property,w=(e("WeaponCmp",(g=S("WeaponCmp"),d=C({type:s,displayName:"图标",visible:!0}),y=C({type:c,displayName:"拖尾",visible:!0}),g((P=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_iconSpr",P,o(t)),i(t,"_motion",b,o(t)),t}n(t,e),t.Create=function(){var e=u.createPrefabNode(h.WeaponView,m).getComponent(t);return e._init(),e};var r=t.prototype;return r._init=function(){},r.changeRes=function(e){f.changeSpriteFrame(e,m,this._iconSpr)},r.remove=function(){this.node.removeFromParent()},r.resetMotion=function(){var e;null==(e=this._motion)||e.reset()},r.setPos=function(e){this.node.setPosition(e)},r.getPos=function(e){this.node.getPosition(e)},r.getWorldPos=function(e){this.node.getWorldPosition(e)},r.setAngle=function(e){this.node.angle=e},r.getAngle=function(){return this.node.angle},r.setScale=function(e){w.set(-1*e,e,e),this.node.setScale(w)},t}(p)).prototype,"_iconSpr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(v.prototype,"_motion",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=v))||_)),new l);r._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponCmp2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst.ts"],(function(e){var t,n,i,o,r,s,c,a,p,l,u,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Sprite,a=e.Vec3,p=e.Component},function(e){l=e.ViewUtil},function(e){u=e.UIHelper},function(e){f=e.ZD_RES_PREFABS,d=e.ZD_BUNDLE}],execute:function(){var g,h,m,P,_;r._RF.push({},"adf33Z2BGpNA6AUi/BIdkuB","WeaponCmp",void 0);var v=s.ccclass,y=s.property,S=(e("WeaponCmp",(g=v("WeaponCmp"),h=y({type:c,displayName:"图标",visible:!0}),g((_=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_iconSpr",_,o(t)),t}n(t,e),t.Create=function(){var e=l.createPrefabNode(f.WEAPON,d).getComponent(t);return e._init(),e};var r=t.prototype;return r._init=function(){},r.changeRes=function(e){u.changeSpriteFrame(e,d,this._iconSpr)},r.remove=function(){this.node.removeFromParent()},r.setPos=function(e){this.node.setPosition(e)},r.getPos=function(e){this.node.getPosition(e)},r.getWorldPos=function(e){this.node.getWorldPosition(e)},r.setAngle=function(e){this.node.angle=e},r.getAngle=function(){return this.node.angle},r.setScale=function(e){S.set(-1*e,e,e),this.node.setScale(S)},t}(p)).prototype,"_iconSpr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m)),new a);r._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtils.ts","./ViewUtil.ts","./UIHelper.ts","./ZDConst3.ts"],(function(t){var e,n,i,o,r,s,a,c,l,p,h,u,_,f,d,g,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Sprite,c=t.Vec3,l=t.Tween,p=t.tween,h=t.Component},function(t){u=t.GameUtils},function(t){_=t.ViewUtil},function(t){f=t.UIHelper},function(t){d=t.HERO_MOTION_MOD,g=t.ZD_RES_PREFABS,m=t.ZD_BUNDLE}],execute:function(){var v,w,b,y,P;r._RF.push({},"6249aJYM+5HEpQ0aGB6/bMG","WeaponCmp3",void 0);var S=s.ccclass,D=s.property,T=(t("WeaponCmp3",(v=S("WeaponCmp3"),w=D({type:a,displayName:"图标",visible:!0}),v((P=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_iconSpr",P,o(e)),e._mod=d.Def,e._width=0,e._height=0,e._vibrateTween=null,e}n(e,t),e.Create=function(){return _.createPrefabNode(g.WEAPON,m).getComponent(e)};var r=e.prototype;return r.init=function(t){this.changeMod(t,!1)},r.changeRes=function(t){f.changeSpriteFrame(t,m,this._iconSpr)},r.remove=function(){this._stopDefenceVibrate(),l.stopAllByTarget(this._iconSpr.node.parent),this.node.removeFromParent()},r.setPos=function(t){this.node.setPosition(t)},r.getPos=function(t){this.node.getPosition(t)},r.getWorldPos=function(t){this.node.getWorldPosition(t)},r.setAngle=function(t){this.node.angle=t},r.getAngle=function(){return this.node.angle},r.setScale=function(t){T.set(-1*t,t,t),this.node.setScale(T)},r.changeMod=function(t,e){var n=this._iconSpr.node.parent;switch(l.stopAllByTarget(n),t){case d.Atk:var i=-this._height/2;e&&this._mod!=t?p(n).to(.1,{angle_z:-90,y:i}).start():(n.setRotationFromEuler(0,0,-90),n.setPosition(0,i,0));break;case d.Def:var o=-this._width/2;e&&this._mod!=t?p(n).to(.1,{angle_z:0,y:o}).start():(n.setRotationFromEuler(0,0,0),n.setPosition(0,o,0))}this._mod=t},r.setWidth=function(t,e){this._width=t,this._height=e,this.changeMod(this._mod,!1)},r.setDefenceVibrate=function(t){if(this._stopDefenceVibrate(),t){var e=p(this._iconSpr.node).to(.05,{angle_z:-40}).to(.1,{angle_z:40}).to(.05,{angle_z:0});this._vibrateTween=p(this._iconSpr.node).repeatForever(e).start()}},r._stopDefenceVibrate=function(){this._vibrateTween&&(this._vibrateTween.stop(),this._vibrateTween=null),this._iconSpr.node.setRotationFromEuler(0,0,0)},r.onPick=function(t){E.set(t.x,t.y,t.z);var e=this._iconSpr.node;u.WorldToLocal(E,e.parent,R),e.setPosition(R),p(e).to(.3,{position:c.ZERO},{easing:"quartInOut"}).start()},e}(h)).prototype,"_iconSpr",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b)),new c),E=new c,R=new c;r._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst4.ts"],(function(e){var t,n,i,o,r,s,c,a,p,l,u,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Sprite,a=e.Vec3,p=e.Component},function(e){l=e.ViewUtil},function(e){u=e.UIHelper},function(e){f=e.ZD_RES_PREFABS,g=e.ZD_BUNDLE}],execute:function(){var h,d,m,v,P;r._RF.push({},"6a335DzCNVHN6UrDWvHa1xa","WeaponCmp4",void 0);var _=s.ccclass,y=s.property,S=(e("WeaponCmp4",(h=_("WeaponCmp4"),d=y({type:c,displayName:"图标",visible:!0}),h((P=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_iconSpr",P,o(t)),t}n(t,e),t.Create=function(){var e=l.createPrefabNode(f.WEAPON,g).getComponent(t);return e._init(),e};var r=t.prototype;return r._init=function(){},r.changeRes=function(e){u.changeSpriteFrame(e,g,this._iconSpr)},r.remove=function(){this.node.removeFromParent()},r.setPos=function(e){this.node.setPosition(e)},r.getPos=function(e){this.node.getPosition(e)},r.getWorldPos=function(e){this.node.getWorldPosition(e)},r.setAngle=function(e){this.node.angle=e},r.getAngle=function(){return this.node.angle},r.setScale=function(e){S.set(-1*e,e,e),this.node.setScale(S)},t}(p)).prototype,"_iconSpr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m)),new a);r._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst5.ts"],(function(e){var n,t,i,o,r,s,c,a,p,l,u,f,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Sprite,a=e.Vec3,p=e.Component},function(e){l=e.ViewUtil},function(e){u=e.UIHelper},function(e){f=e.ZD_RES_PREFABS,g=e.ZD_BUNDLE}],execute:function(){var h,d,m,P,_;r._RF.push({},"089f2V3nHNNbqDe9EssYfcO","WeaponCmp5",void 0);var v=s.ccclass,y=s.property,S=(e("WeaponCmp5",(h=v("WeaponCmp5"),d=y({type:c,displayName:"图标",visible:!0}),h((_=n((P=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,i(n,"_iconSpr",_,o(n)),n}t(n,e),n.Create=function(){var e=l.createPrefabNode(f.WEAPON,g).getComponent(n);return e._init(),e};var r=n.prototype;return r._init=function(){},r.changeRes=function(e){u.changeSpriteFrame(e,g,this._iconSpr)},r.remove=function(){this.node.removeFromParent()},r.setPos=function(e){this.node.setPosition(e)},r.getPos=function(e){this.node.getPosition(e)},r.getWorldPos=function(e){this.node.getWorldPosition(e)},r.setAngle=function(e){this.node.angle=e},r.getAngle=function(){return this.node.angle},r.setScale=function(e){S.set(-1*e,e,e),this.node.setScale(S)},n}(p)).prototype,"_iconSpr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m)),new a);r._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./UIHelper.ts","./ZDConst6.ts"],(function(e){var t,n,i,o,r,c,s,a,p,l,u,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,s=e.Sprite,a=e.Vec3,p=e.Component},function(e){l=e.ViewUtil},function(e){u=e.UIHelper},function(e){f=e.ZD_RES_PREFABS,d=e.ZD_BUNDLE}],execute:function(){var g,h,m,P,_;r._RF.push({},"2cd07D/4WpLuLTPWUICVNmI","WeaponCmp6",void 0);var v=c.ccclass,y=c.property,S=(e("WeaponCmp6",(g=v("WeaponCmp6"),h=y({type:s,displayName:"图标",visible:!0}),g((_=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_iconSpr",_,o(t)),t}n(t,e),t.Create=function(){var e=l.createPrefabNode(f.WEAPON,d).getComponent(t);return e._init(),e};var r=t.prototype;return r._init=function(){},r.changeRes=function(e){u.changeSpriteFrame(e,d,this._iconSpr)},r.remove=function(){this.node.removeFromParent()},r.setPos=function(e){this.node.setPosition(e)},r.getPos=function(e){this.node.getPosition(e)},r.getWorldPos=function(e){this.node.getWorldPosition(e)},r.setAngle=function(e){this.node.angle=e},r.getAngle=function(){return this.node.angle},r.setScale=function(e){S.set(-1*e,e,e),this.node.setScale(S)},t}(p)).prototype,"_iconSpr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m)),new a);r._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleConst.ts","./BattleUtils.ts","./WeaponPool.ts"],(function(t){var n,e,i,s,o,a,h;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t.Vec2,s=t.Vec3},function(t){o=t.WEAPON_CFG},function(t){a=t.BattleUtils},function(t){h=t.WeaponPool}],execute:function(){e._RF.push({},"33436P+B6VEwrlUid/yX5pl","WeaponModule",void 0);t("WeaponModule",function(){var t=e.prototype;function e(){this._weaponAngle=void 0,this._weapons=void 0,this._parent=void 0,this._initRadius=void 0,this._scale=void 0,this._res=void 0,this._atk=void 0,this._maxAtk=void 0,this._isShowAni=void 0,this._showAniIdx=void 0,this._aniFrame=void 0,this._weapons=[],this._weaponAngle=0,this._scale=1}return t.setAtk=function(t,n){this._atk=t,this._maxAtk=n},t.init=function(t,n,e,i){this._parent=t,this._res=n,this._initRadius=i,e>0&&this.updateWeaponCnt(e)},t.update=function(t){for(var n=0;n<this._weapons.length;++n)this._weapons[n].update(t);for(var e,i=0,s=this._weapons.length;i<s;++i)(e=this._weapons[i]).waitRemove&&(h.Collect(e),this._weapons.splice(i,1),i--,s--)},t.setScale=function(t){t!=this._scale&&(this._scale=t,this._parent.setScale(t,t,t))},t.addScale=function(t){this._scale+=t,this._parent.setScale(this._scale,this._scale,this._scale)},t.onRotaionRound=function(){for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].clearTargets()},t.findWeaponByVector=function(t,n,e,i,s){var o,h=0,l=this._weapons.length;for(r.length=0,this._parent.getWorldPosition(p);h<l;++h)(o=this._weapons[h]).enable&&(o.haveTarget(s)||(a.getPositionVector(p,o.worldPos,_),a.vectorBetween(n,e,_)&&r.push(o)));return(l=r.length)>0?r[Math.floor(l/2)]:null},t.addWeaponCnt=function(t){var n=this._weapons.length;n+=t,this.updateWeaponCnt(n)},t.setWeaponCnt=function(t){var n=this._weapons.length;if(t>=n)this.updateWeaponCnt(t);else{for(var e=n-t;e>0;){var i=this._weapons.shift();h.Collect(i),e--}this.updateWeaponCnt(t)}},t.updateWeaponCnt=function(t){for(var n=2*Math.PI/t,e=0,i=0,s=t;i<s;++i){var o=Math.sin(e)*this._initRadius,a=Math.cos(e)*this._initRadius;if(i<this._weapons.length){var h=this._weapons[i];h.setPos(a,o),h.setRadian(e)}else this._createWeapon(a,o,e);e+=n}this._stopShowAni()},t.updateWeaponRes=function(t){this._res=t,this.updateWeaponCntAndUpdateId(this._weapons.length)},t.updateWeaponCntAndUpdateId=function(t){for(var n=2*Math.PI/t,e=0,i=0,s=t;i<s;++i){var o=Math.sin(e)*this._initRadius,a=Math.cos(e)*this._initRadius;if(i<this._weapons.length){var h=this._weapons[i];h.initAttr(1,1),h.setRes(this._res),h.setPos(a,o),h.setRadian(e)}else this._createWeapon(a,o,e);e+=n}this._stopShowAni()},t.updateWeaponAtk=function(t){for(var n=0,e=this._weapons.length;n<e;++n)this._weapons[n].addAtk(t)},t.hideAllWeapon=function(){for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!1)},t.showAllWeapon=function(){this._startShowAni()},t._createWeapon=function(t,n,e){var i=h.Get();i.init(this._res,this._parent),i.setPos(t,n),i.setRadian(e),i.initAttr(1,1),this._weapons.push(i)},t._showAniUpdate=function(t){this._isShowAni&&(this._aniFrame++,this._aniFrame<.5||(this._aniFrame=0,this._showAniIdx>=this._weapons.length?this._stopShowAni():(this._weapons[this._showAniIdx].setVisible(!0),this._showAniIdx++)))},t._startShowAni=function(){this._isShowAni=!0,this._showAniIdx=0,this._aniFrame=0},t._stopShowAni=function(){if(this._isShowAni){this._isShowAni=!1;for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!0)}},n(e,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"weapons",get:function(){return this._weapons}},{key:"width",get:function(){return o.DEFAULT_WIDTH}},{key:"weaponCnt",get:function(){return this._weapons.length}},{key:"scale",get:function(){return this._scale}},{key:"atk",get:function(){return this._atk}},{key:"maxAtk",get:function(){return this._maxAtk}},{key:"totalPower",get:function(){for(var t=0,n=this._weapons.length,e=0;t<n;++t)!this._weapons[t].isDeath()&&e++;return 1*e}}]),e}());var r=[],_=new i,p=new s;e._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponModule2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWeaponConfig.ts","./ZDUtils.ts","./ZDConst.ts","./WeaponPool2.ts"],(function(t){var n,i,e,s,o,a,h;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy,e=t.Vec2},function(t){s=t.ZdWeaponConfig},function(t){o=t.ZDUtils},function(t){a=t.AI_SKILL_CFG},function(t){h=t.WeaponPool}],execute:function(){i._RF.push({},"76b8aLM6p1C27wD2U2iS1jY","WeaponModule",void 0);t("WeaponModule",function(){function t(){this._weaponAngle=void 0,this._weapons=void 0,this._weaponCfg=void 0,this._parent=void 0,this._initRadius=void 0,this._scale=void 0,this._isShowAni=void 0,this._showAniIdx=void 0,this._aniFrame=void 0,this._weapons=[],this._weaponAngle=0,this._scale=1}var i=t.prototype;return i.init=function(t,n,i,e){this._parent=t,this._initRadius=e,this._weaponCfg=s.data[n],i>0&&this.updateWeaponCnt(i)},i.update=function(t){for(var n=0;n<this._weapons.length;++n)this._weapons[n].update(t);this._showAniUpdate(t);for(var i,e=0,s=this._weapons.length;e<s;++e)(i=this._weapons[e]).waitRemove&&(h.Collect(i),this._weapons.splice(e,1),e--,s--)},i.setScale=function(t){t!=this._scale&&(this._scale=t,this._parent.setScale(t,t,t))},i.findWeaponByVector=function(t,n,i){var e,s=0,a=this._weapons.length;for(p.length=0;s<a;++s)(e=this._weapons[s]).enable&&(o.getPositionVector(t,e.worldPos,_),o.vectorBetween(n,i,_)&&p.push(e));return(a=p.length)>0?p[Math.floor(a/2)]:null},i.addWeaponCnt=function(t){var n=this._weapons.length;n+=t,this.updateWeaponCnt(n)},i.updateWeaponCnt=function(t){for(var n=2*Math.PI/t,i=0,e=0,s=t;e<s;++e){var o=Math.sin(i)*this._initRadius,a=Math.cos(i)*this._initRadius;if(e<this._weapons.length){var h=this._weapons[e];h.setPos(a,o),h.setRadian(i)}else this._createWeapon(a,o,i);i+=n}this._stopShowAni()},i.updateWeaponId=function(t){this._weaponCfg=s.data[t],this.updateWeaponCntAndUpdateId(this._weapons.length+2)},i.updateWeaponCntAndUpdateId=function(t){for(var n=2*Math.PI/t,i=0,e=0,s=t;e<s;++e){var o=Math.sin(i)*this._initRadius,a=Math.cos(i)*this._initRadius;if(e<this._weapons.length){var h=this._weapons[e];h.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),h.setRes(this._weaponCfg.res),h.setPos(a,o),h.setRadian(i)}else this._createWeapon(a,o,i);i+=n}this._stopShowAni()},i.updateWeaponAtk=function(t){for(var n=0,i=this._weapons.length;n<i;++n)this._weapons[n].addAtk(t)},i.hideAllWeapon=function(){for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!1)},i.showAllWeapon=function(){this._startShowAni()},i._createWeapon=function(t,n,i){var e=h.Get();e.init(this._weaponCfg.res,this._parent),e.setPos(t,n),e.setRadian(i),e.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),this._weapons.push(e)},i._showAniUpdate=function(t){this._isShowAni&&(this._aniFrame++,this._aniFrame<a.SKILL2.RE_SHOW_DUA||(this._aniFrame=0,this._showAniIdx>=this._weapons.length?this._stopShowAni():(this._weapons[this._showAniIdx].setVisible(!0),this._showAniIdx++)))},i._startShowAni=function(){this._isShowAni=!0,this._showAniIdx=0,this._aniFrame=0},i._stopShowAni=function(){if(this._isShowAni){this._isShowAni=!1;for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!0)}},n(t,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"weapons",get:function(){return this._weapons}},{key:"cfg",get:function(){return this._weaponCfg}},{key:"width",get:function(){return this._weaponCfg.width}},{key:"weaponCnt",get:function(){return this._weapons.length}},{key:"scale",get:function(){return this._scale}},{key:"totalPower",get:function(){for(var t=this._weaponCfg.atk,n=0,i=this._weapons.length,e=0;n<i;++n)!this._weapons[n].isDeath()&&e++;return t*e}}]),t}());var p=[],_=new e;i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponModule3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWeaponConfig3.ts","./EventDispatcher.ts","./ArrayUtil.ts","./ZDUtils3.ts","./ZDConst3.ts","./ZDGameState3.ts","./WeaponPool3.ts"],(function(t){var e,n,i,s,o,a,h,_,r,p,c,f,w,u;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.Vec3,s=t.Vec2},function(t){o=t.ZdWeaponConfig},function(t){a=t.EventDispatcher},function(t){h=t.ArrayUtil},function(t){_=t.ZDUtils3},function(t){r=t.HERO_MOTION_MOD,p=t.AI_SKILL_CFG,c=t.DEFENCE_DATA,f=t.WEAPON_EVENTS},function(t){w=t.ZDGameState3},function(t){u=t.WeaponPool3}],execute:function(){n._RF.push({},"8ea3emBLG5E+IQOqmFrAN3N","WeaponModule3",void 0);t("WeaponModule3",function(){function t(){this.emit=void 0,this._weaponAngle=void 0,this._weapons=void 0,this._weaponCfg=void 0,this._parent=void 0,this._radius=void 0,this._scale=void 0,this._isShowAni=void 0,this._showAniIdx=void 0,this._aniFrame=void 0,this._mod=r.Def,this._defenceWarning=!1,this._defenceRemoveLeft=c.REMOVE_DUR,this._warningWeapon=null,this._weapons=[],this._weaponAngle=0,this._scale=1,this.emit=new a}var n=t.prototype;return n.init=function(t,e){this._parent=t,this._weaponCfg=o.data[e]},n.initCreate=function(t,e){this._radius=e,t>0&&this.updateWeaponCnt(t)},n.update=function(t){for(var e=0;e<this._weapons.length;++e)this._weapons[e].update(t);this._showAniUpdate(t);for(var n,i=!1,s=0,o=this._weapons.length;s<o;++s)(n=this._weapons[s]).waitRemove&&(this._warningWeapon==n&&this._onDefenceRemoveEnd(!1),u.Collect(n),this._weapons.splice(s,1),s--,o--,i=!0);this._mod==r.Def&&this._updateDefence(t),i&&(this._onCntChanged(),this.updateWeaponCnt(this._weapons.length))},n.setScale=function(t){t!=this._scale&&(this._scale=t,this._parent.setScale(t,t,t))},n.findWeaponByVector=function(t,e,n){var i,s=0,o=this._weapons.length;for(d.length=0;s<o;++s)(i=this._weapons[s]).enable&&(_.getPositionVector(t,i.worldPos,l),_.vectorBetween(e,n,l)&&d.push(i));return(o=d.length)>0?d[Math.floor(o/2)]:null},n.addWeaponCnt=function(t,e){var n=this._weapons.length;n+=t,this.updateWeaponCnt(n,e)},n.updateWeaponCnt=function(t,e){void 0===e&&(e=null);for(var n=2*Math.PI/t,i=0,s=0,o=t;s<o;++s){var a=Math.sin(i)*this._radius,h=Math.cos(i)*this._radius;if(s<this._weapons.length){var _=this._weapons[s];_.setPos(h,a),_.setRadian(i)}else this._createWeapon(h,a,i,e);i+=n}this._stopShowAni()},n.updateWeaponId=function(t,e,n){var i=o.data[t];n&&1!=i.pickable||(this._weaponCfg=i),this.updateWeaponCntAndUpdateId(this._weapons.length+1,e)},n.updateWeaponCntAndUpdateId=function(t,e){for(var n=2*Math.PI/t,i=0,s=0,o=t;s<o;++s){var a=Math.sin(i)*this._radius,h=Math.cos(i)*this._radius;if(s<this._weapons.length){var _=this._weapons[s];_.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),_.setWidth(this._weaponCfg.width,this._weaponCfg.height),_.setRes(this._weaponCfg.res),_.setPos(h,a),_.setRadian(i)}else this._createWeapon(h,a,i,e);i+=n}this._stopShowAni()},n.updateWeaponAtk=function(t){for(var e=0,n=this._weapons.length;e<n;++e)this._weapons[e].addAtk(t)},n.hideAllWeapon=function(){for(var t=0,e=this._weapons.length;t<e;++t)this._weapons[t].setVisible(!1)},n.showAllWeapon=function(){this._startShowAni()},n._createWeapon=function(t,e,n,i){var s=u.Get();s.init(this._weaponCfg.res,this._parent,this._weaponCfg.width,this._weaponCfg.height,this._mod),s.setPos(t,e),s.setRadian(n),s.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),this._weapons.push(s),i&&s.onPick(i),this._onCntChanged()},n._showAniUpdate=function(t){this._isShowAni&&(this._aniFrame++,this._aniFrame<p.SKILL2.RE_SHOW_DUA||(this._aniFrame=0,this._showAniIdx>=this._weapons.length?this._stopShowAni():(this._weapons[this._showAniIdx].setVisible(!0),this._showAniIdx++)))},n._startShowAni=function(){this._isShowAni=!0,this._showAniIdx=0,this._aniFrame=0},n._stopShowAni=function(){if(this._isShowAni){this._isShowAni=!1;for(var t=0,e=this._weapons.length;t<e;++t)this._weapons[t].setVisible(!0)}},n.changeMod=function(t){this._mod=t,this._weapons.forEach((function(e){return e.changeMod(t)})),t==r.Atk&&this._onDefenceRemoveEnd(!1)},n.changeRadius=function(t){var e=this;this._radius=t,this._weapons.forEach((function(t){return t.changeMod(e._mod)})),this.updateWeaponCnt(this.weaponCnt)},n._updateDefence=function(t){this.weaponCnt>c.MIN_COUNT&&(this._defenceRemoveLeft-=t,this._defenceRemoveLeft<=0&&(this._defenceWarning?(this._warningWeapon.forceDeath(),this._onDefenceRemoveEnd(!0)):(this._defenceWarning=!0,this._defenceRemoveLeft=c.REMOVE_WARN,this._warningWeapon=h.randomFromArray(this._weapons),this._warningWeapon.setDefenceVibrate(!0))))},n._onDefenceRemoveEnd=function(t){this._defenceWarning=!1,this._defenceRemoveLeft=c.REMOVE_DUR,this._warningWeapon&&(t&&(this._parent.getWorldPosition(g),this._throwWeaponOut(this._warningWeapon,g)),this._warningWeapon.setDefenceVibrate(!1),this._warningWeapon=null)},n._onCntChanged=function(){this.emit.dispatchEvent(f.on_cnt_changed)},n.removeLeftWeapons=function(t){var e=this;this._weapons.length>0&&(this._weapons.forEach((function(n){e._throwWeaponOut(n,t),u.Collect(n)})),this._weapons.length=0)},n._throwWeaponOut=function(t,e){var n=t.worldPos;i.subtract(v,n,e),v.z=0,v.normalize(),w.runtime.control.showFlyWeapon(this.cfg,n.x,n.y,v.y,-v.x)},e(t,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"weapons",get:function(){return this._weapons}},{key:"cfg",get:function(){return this._weaponCfg}},{key:"width",get:function(){return this._weaponCfg.width}},{key:"fogClearRadius",get:function(){return this._mod==r.Atk?30:0}},{key:"weaponCnt",get:function(){return this._weapons.length}},{key:"scale",get:function(){return this._scale}},{key:"totalPower",get:function(){for(var t=this._weaponCfg.atk,e=0,n=this._weapons.length,i=0;e<n;++e)!this._weapons[e].isDeath()&&i++;return t*i}}]),t}());var d=[],l=new s,g=new i,v=new i;n._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponModule4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWeaponConfig5.ts","./ZDUtils4.ts","./ZDConst4.ts","./WeaponPool4.ts"],(function(t){var n,i,e,s,o,a,h,p;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy,e=t.MotionStreak,s=t.Vec2},function(t){o=t.ZdWeaponConfig},function(t){a=t.ZDUtils4},function(t){h=t.AI_SKILL_CFG},function(t){p=t.WeaponPool}],execute:function(){i._RF.push({},"d2875Xv+V5Cf6ib70xl4JpD","WeaponModule4",void 0);t("WeaponModule",function(){function t(){this._weaponAngle=void 0,this._weapons=void 0,this._weaponCfg=void 0,this._parent=void 0,this._initRadius=void 0,this._scale=void 0,this._isShowAni=void 0,this._showAniIdx=void 0,this._aniFrame=void 0,this._weapons=[],this._weaponAngle=0,this._scale=1}var i=t.prototype;return i.init=function(t,n,i,e,s){this._parent=t,this._initRadius=e,this._weaponCfg=o.data[n],i>0&&this.updateWeaponCnt(i,s)},i.update=function(t){for(var n=0;n<this._weapons.length;++n)this._weapons[n].update(t);this._showAniUpdate(t);for(var i,e=0,s=this._weapons.length;e<s;++e)(i=this._weapons[e]).waitRemove&&(p.Collect(i),this._weapons.splice(e,1),e--,s--)},i.setScale=function(t){t!=this._scale&&(this._scale=t,this._parent.setScale(t,t,t))},i.findWeaponByVector=function(t,n,i){var e,s=0,o=this._weapons.length;for(_.length=0;s<o;++s)(e=this._weapons[s]).enable&&(a.getPositionVector(t,e.worldPos,r),a.vectorBetween(n,i,r)&&_.push(e));return(o=_.length)>0?_[Math.floor(o/2)]:null},i.addWeaponCnt=function(t,n){var i=this._weapons.length;i+=t,this.updateWeaponCnt(i,n)},i.updateWeaponCnt=function(t,n){for(var i=2*Math.PI/t,e=0,s=0,o=t;s<o;++s){var a=Math.sin(e)*this._initRadius,h=Math.cos(e)*this._initRadius;if(s<this._weapons.length){var p=this._weapons[s];p.setPos(h,a),p.setRadian(e)}else this._createWeapon(h,a,e,n);e+=i}this._stopShowAni()},i.updateWeaponId=function(t){this._weaponCfg=o.data[t],this.updateWeaponCntAndUpdateId(this._weapons.length+2)},i.updateWeaponCntAndUpdateId=function(t){for(var n=2*Math.PI/t,i=0,e=0,s=t;e<s;++e){var o=Math.sin(i)*this._initRadius,a=Math.cos(i)*this._initRadius;if(e<this._weapons.length){var h=this._weapons[e];h.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),h.setRes(this._weaponCfg.res),h.setPos(a,o),h.setRadian(i)}else this._createWeapon(a,o,i);i+=n}this._stopShowAni()},i.updateWeaponAtk=function(t){for(var n=0,i=this._weapons.length;n<i;++n)this._weapons[n].addAtk(t)},i.hideAllWeapon=function(){for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!1)},i.showAllWeapon=function(){this._startShowAni()},i._createWeapon=function(t,n,i,s){void 0===s&&(s=!1);var o=p.Get();o.init(this._weaponCfg.res,this._parent),o.setPos(t,n),o.setRadian(i),o.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),s&&(o.view.node.getComponentInChildren(e).node.active=!0),this._weapons.push(o)},i._showAniUpdate=function(t){this._isShowAni&&(this._aniFrame++,this._aniFrame<h.SKILL2.RE_SHOW_DUA||(this._aniFrame=0,this._showAniIdx>=this._weapons.length?this._stopShowAni():(this._weapons[this._showAniIdx].setVisible(!0),this._showAniIdx++)))},i._startShowAni=function(){this._isShowAni=!0,this._showAniIdx=0,this._aniFrame=0},i._stopShowAni=function(){if(this._isShowAni){this._isShowAni=!1;for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!0)}},n(t,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"weapons",get:function(){return this._weapons}},{key:"cfg",get:function(){return this._weaponCfg}},{key:"width",get:function(){return this._weaponCfg.width}},{key:"weaponCnt",get:function(){return this._weapons.length}},{key:"scale",get:function(){return this._scale}},{key:"totalPower",get:function(){for(var t=this._weaponCfg.atk,n=0,i=this._weapons.length,e=0;n<i;++n)!this._weapons[n].isDeath()&&e++;return t*e}}]),t}());var _=[],r=new s;i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponModule5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWeaponConfig2.ts","./ZDUtils5.ts","./ZDConst5.ts","./WeaponPool5.ts"],(function(t){var n,e,i,s,o,a,h,p;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t.MotionStreak,s=t.Vec2},function(t){o=t.ZdWeaponConfig},function(t){a=t.ZDUtils4},function(t){h=t.AI_SKILL_CFG},function(t){p=t.WeaponPool}],execute:function(){e._RF.push({},"e294e5ftIJCD4+uQMQriVqe","WeaponModule5",void 0);t("WeaponModule",function(){function t(){this._weaponAngle=void 0,this._weapons=void 0,this._weaponCfg=void 0,this._parent=void 0,this._initRadius=void 0,this._scale=void 0,this._isShowAni=void 0,this._showAniIdx=void 0,this._aniFrame=void 0,this._weapons=[],this._weaponAngle=0,this._scale=1}var e=t.prototype;return e.init=function(t,n,e,i,s){this._parent=t,this._initRadius=i,this._weaponCfg=o.data[n],e>0&&this.updateWeaponCnt(e,s)},e.update=function(t){for(var n=0;n<this._weapons.length;++n)this._weapons[n].update(t);this._showAniUpdate(t);for(var e,i=0,s=this._weapons.length;i<s;++i)(e=this._weapons[i]).waitRemove&&(p.Collect(e),this._weapons.splice(i,1),i--,s--)},e.setScale=function(t){t!=this._scale&&(this._scale=t,this._parent.setScale(t,t,t))},e.findWeaponByVector=function(t,n,e){var i,s=0,o=this._weapons.length;for(_.length=0;s<o;++s)(i=this._weapons[s]).enable&&(a.getPositionVector(t,i.worldPos,r),a.vectorBetween(n,e,r)&&_.push(i));return(o=_.length)>0?_[Math.floor(o/2)]:null},e.addWeaponCnt=function(t,n){var e=this._weapons.length;e+=t,this.updateWeaponCnt(e,n)},e.updateWeaponCnt=function(t,n){for(var e=2*Math.PI/t,i=0,s=0,o=t;s<o;++s){var a=Math.sin(i)*this._initRadius,h=Math.cos(i)*this._initRadius;if(s<this._weapons.length){var p=this._weapons[s];p.setPos(h,a),p.setRadian(i)}else this._createWeapon(h,a,i,n);i+=e}this._stopShowAni()},e.updateWeaponId=function(t){this._weaponCfg=o.data[t],this.updateWeaponCntAndUpdateId(this._weapons.length+2)},e.updateWeaponCntAndUpdateId=function(t){for(var n=2*Math.PI/t,e=0,i=0,s=t;i<s;++i){var o=Math.sin(e)*this._initRadius,a=Math.cos(e)*this._initRadius;if(i<this._weapons.length){var h=this._weapons[i];h.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),h.setRes(this._weaponCfg.res),h.setPos(a,o),h.setRadian(e)}else this._createWeapon(a,o,e);e+=n}this._stopShowAni()},e.updateWeaponAtk=function(t){for(var n=0,e=this._weapons.length;n<e;++n)this._weapons[n].addAtk(t)},e.hideAllWeapon=function(){for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!1)},e.showAllWeapon=function(){this._startShowAni()},e._createWeapon=function(t,n,e,s){void 0===s&&(s=!1);var o=p.Get();o.init(this._weaponCfg.res,this._parent),o.setPos(t,n),o.setRadian(e),o.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),s&&(o.view.node.getComponentInChildren(i).node.active=!0),this._weapons.push(o)},e._showAniUpdate=function(t){this._isShowAni&&(this._aniFrame++,this._aniFrame<h.SKILL2.RE_SHOW_DUA||(this._aniFrame=0,this._showAniIdx>=this._weapons.length?this._stopShowAni():(this._weapons[this._showAniIdx].setVisible(!0),this._showAniIdx++)))},e._startShowAni=function(){this._isShowAni=!0,this._showAniIdx=0,this._aniFrame=0},e._stopShowAni=function(){if(this._isShowAni){this._isShowAni=!1;for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!0)}},n(t,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"weapons",get:function(){return this._weapons}},{key:"cfg",get:function(){return this._weaponCfg}},{key:"width",get:function(){return this._weaponCfg.width}},{key:"weaponCnt",get:function(){return this._weapons.length}},{key:"scale",get:function(){return this._scale}},{key:"totalPower",get:function(){for(var t=this._weaponCfg.atk,n=0,e=this._weapons.length,i=0;n<e;++n)!this._weapons[n].isDeath()&&i++;return t*i}}]),t}());var _=[],r=new s;e._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponModule6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWeaponConfig4.ts","./ZDUtils6.ts","./ZDConst6.ts","./WeaponPool6.ts"],(function(t){var n,i,e,s,o,a,h;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy,e=t.Vec2},function(t){s=t.ZdWeaponConfig},function(t){o=t.ZDUtils},function(t){a=t.AI_SKILL_CFG},function(t){h=t.WeaponPool}],execute:function(){i._RF.push({},"d4d04wbb0lOT6BjURqv+S2+","WeaponModule6",void 0);t("WeaponModule",function(){function t(){this._weaponAngle=void 0,this._weapons=void 0,this._weaponCfg=void 0,this._parent=void 0,this._initRadius=void 0,this._scale=void 0,this._isShowAni=void 0,this._showAniIdx=void 0,this._aniFrame=void 0,this._weapons=[],this._weaponAngle=0,this._scale=1}var i=t.prototype;return i.init=function(t,n,i,e){this._parent=t,this._initRadius=e,this._weaponCfg=s.data[n],i>0&&this.updateWeaponCnt(i)},i.update=function(t){for(var n=0;n<this._weapons.length;++n)this._weapons[n].update(t);this._showAniUpdate(t);for(var i,e=0,s=this._weapons.length;e<s;++e)(i=this._weapons[e]).waitRemove&&(h.Collect(i),this._weapons.splice(e,1),e--,s--)},i.setScale=function(t){t!=this._scale&&(this._scale=t,this._parent.setScale(t,t,t))},i.findWeaponByVector=function(t,n,i){var e,s=0,a=this._weapons.length;for(p.length=0;s<a;++s)(e=this._weapons[s]).enable&&(o.getPositionVector(t,e.worldPos,_),o.vectorBetween(n,i,_)&&p.push(e));return(a=p.length)>0?p[Math.floor(a/2)]:null},i.addWeaponCnt=function(t){var n=this._weapons.length;n+=t,this.updateWeaponCnt(n)},i.updateWeaponCnt=function(t){for(var n=2*Math.PI/t,i=0,e=0,s=t;e<s;++e){var o=Math.sin(i)*this._initRadius,a=Math.cos(i)*this._initRadius;if(e<this._weapons.length){var h=this._weapons[e];h.setPos(a,o),h.setRadian(i)}else this._createWeapon(a,o,i);i+=n}this._stopShowAni()},i.updateWeaponId=function(t){this._weaponCfg=s.data[t],this.updateWeaponCntAndUpdateId(this._weapons.length+2)},i.updateWeaponCntAndUpdateId=function(t){for(var n=2*Math.PI/t,i=0,e=0,s=t;e<s;++e){var o=Math.sin(i)*this._initRadius,a=Math.cos(i)*this._initRadius;if(e<this._weapons.length){var h=this._weapons[e];h.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),h.setRes(this._weaponCfg.res),h.setPos(a,o),h.setRadian(i)}else this._createWeapon(a,o,i);i+=n}this._stopShowAni()},i.updateWeaponAtk=function(t){for(var n=0,i=this._weapons.length;n<i;++n)this._weapons[n].addAtk(t)},i.hideAllWeapon=function(){for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!1)},i.showAllWeapon=function(){this._startShowAni()},i._createWeapon=function(t,n,i){var e=h.Get();e.init(this._weaponCfg.res,this._parent),e.setPos(t,n),e.setRadian(i),e.initAttr(this._weaponCfg.hp,this._weaponCfg.atk),this._weapons.push(e)},i._showAniUpdate=function(t){this._isShowAni&&(this._aniFrame++,this._aniFrame<a.SKILL2.RE_SHOW_DUA||(this._aniFrame=0,this._showAniIdx>=this._weapons.length?this._stopShowAni():(this._weapons[this._showAniIdx].setVisible(!0),this._showAniIdx++)))},i._startShowAni=function(){this._isShowAni=!0,this._showAniIdx=0,this._aniFrame=0},i._stopShowAni=function(){if(this._isShowAni){this._isShowAni=!1;for(var t=0,n=this._weapons.length;t<n;++t)this._weapons[t].setVisible(!0)}},n(t,[{key:"weaponAngle",get:function(){return this._weaponAngle}},{key:"weapons",get:function(){return this._weapons}},{key:"cfg",get:function(){return this._weaponCfg}},{key:"width",get:function(){return this._weaponCfg.width}},{key:"weaponCnt",get:function(){return this._weapons.length}},{key:"scale",get:function(){return this._scale}},{key:"totalPower",get:function(){for(var t=this._weaponCfg.atk,n=0,i=this._weapons.length,e=0;n<i;++n)!this._weapons[n].isDeath()&&e++;return t*e}}]),t}());var p=[],_=new e;i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponPool.ts",["cc","./WeaponBase2.ts"],(function(o){var n,t;return{setters:[function(o){n=o.cclegacy},function(o){t=o.WeaponBase}],execute:function(){n._RF.push({},"42b0aMOKnhNFK2SKDyEVDrs","WeaponPool",void 0),o("WeaponPool",function(){function o(){}return o.Get=function(){var o=this._pool.shift();return o||new t},o.Collect=function(o){this._pool.push(o),o.destroy()},o}())._pool=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponPool2.ts",["cc","./WeaponBase.ts"],(function(o){var n,t;return{setters:[function(o){n=o.cclegacy},function(o){t=o.WeaponBase}],execute:function(){n._RF.push({},"542e8LfVqBIqKaZp4UcAxRv","WeaponPool",void 0),o("WeaponPool",function(){function o(){}return o.Get=function(){var o=this._pool.shift();return o||new t},o.Collect=function(o){this._pool.push(o),o.destroy()},o}())._pool=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponPool3.ts",["cc","./WeaponBase3.ts"],(function(o){var n,t;return{setters:[function(o){n=o.cclegacy},function(o){t=o.WeaponBase3}],execute:function(){n._RF.push({},"c98d2zcht1Epp+/Geafx+8N","WeaponPool3",void 0),o("WeaponPool3",function(){function o(){}return o.Get=function(){var o=this._pool.shift();return o||new t},o.Collect=function(o){this._pool.push(o),o.recover()},o.Free=function(){this._pool.forEach((function(o){return o.destroy()})),this._pool.length=0},o}())._pool=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponPool4.ts",["cc","./WeaponBase4.ts"],(function(o){var n,t;return{setters:[function(o){n=o.cclegacy},function(o){t=o.WeaponBase4}],execute:function(){n._RF.push({},"61ab6R2eDtOo7KknPv2dWTq","WeaponPool4",void 0),o("WeaponPool",function(){function o(){}return o.Get=function(){var o=this._pool.shift();return o||new t},o.Collect=function(o){this._pool.push(o),o.destroy()},o}())._pool=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponPool5.ts",["cc","./WeaponBase5.ts"],(function(o){var n,t;return{setters:[function(o){n=o.cclegacy},function(o){t=o.WeaponBase4}],execute:function(){n._RF.push({},"38a73kqp8VOm43cFavjVO/F","WeaponPool5",void 0),o("WeaponPool",function(){function o(){}return o.Get=function(){var o=this._pool.shift();return o||new t},o.Collect=function(o){this._pool.push(o),o.destroy()},o}())._pool=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponPool6.ts",["cc","./WeaponBase6.ts"],(function(o){var n,t;return{setters:[function(o){n=o.cclegacy},function(o){t=o.WeaponBase}],execute:function(){n._RF.push({},"874d7CFBF9Kurqm+dSwoZzm","WeaponPool6",void 0),o("WeaponPool",function(){function o(){}return o.Get=function(){var o=this._pool.shift();return o||new t},o.Collect=function(o){this._pool.push(o),o.destroy()},o}())._pool=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/WebQueryConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,r=t.sys},function(t){i=t.StringUtil}],execute:function(){n._RF.push({},"c33ecUJoCNK0r3aKqY+82F4","WebQueryConfig",void 0);t("WebQueryConfig",function(){function t(){this._data=null,r.isBrowser?(this._data=this.parseUrl(),this._data.username||(this._data.username=i.guid())):this._data={}}return t.prototype.parseUrl=function(){if("object"!=typeof window)return{};if(!window.document)return{};var t=window.document.location.href.toString().split("?");if("string"==typeof t[1]){for(var e={},n=0,r=(t=t[1].split("&")).length;n<r;++n){var i=t[n],u=i.indexOf("=");if(!(u<0)){var o=i.substring(0,u),a=i.substring(u+1);e[decodeURIComponent(o)]=a&&decodeURIComponent(a)}}return e}return{}},e(t,[{key:"debug",get:function(){return this._data.debug}},{key:"username",get:function(){return this._data.username}},{key:"lang",get:function(){return this._data.lang||"zh"}},{key:"data",get:function(){return this._data}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/WinDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst.ts","./ZDGameState.ts","./BaseDialog2.ts"],(function(e){var t,i,n,r,a,o,l,s,u,c,p,b,m,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Button,s=e.Label,u=e.ProgressBar},function(e){c=e.ViewUtil},function(e){p=e.ZD_RES_PREFABS,b=e.ZD_BUNDLE},function(e){m=e.ZDGameState},function(e){_=e.BaseDialog}],execute:function(){var y,f,g,d,h,v,B,D,L,C,N,w,x;a._RF.push({},"84d8cmfGQlAU497XHWTesRv","WinDialog",void 0);var G=o.ccclass,z=o.property;e("WinDialog",(y=G("WinDialog"),f=z({type:l,displayName:"关闭按钮",visible:!0}),g=z({type:l,displayName:"下一关",visible:!0}),d=z({type:s,displayName:"时间",visible:!0}),h=z({type:s,displayName:"进度",visible:!0}),v=z({type:u,displayName:"进度条",visible:!0}),y((L=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_closeBtn",L,r(t)),n(t,"_nextBtn",C,r(t)),n(t,"_timeLab",N,r(t)),n(t,"_percentLab",w,r(t)),n(t,"_bar",x,r(t)),t}i(t,e),t.Show=function(e,i){var n=c.createPrefabNode(p.WIN_DIALOG,b);n.parent=m.runtime.ui.dialogNode;var r=n.getComponent(t);return r._init(e,i),r.show(),r};var a=t.prototype;return a._init=function(e,t){m.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",m.runtime.audioMgr.play(8)},a.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._nextBtn.node.on(l.EventType.CLICK,this._onNextBtnClicked,this)},a._onNextBtnClicked=function(){m.runtime.audioMgr.play(9),this.close(),m.runtime.resumeGame(),m.runtime.nextGame()},a._onCloseBtnClicked=function(){this.close(),m.runtime.returnGame()},t}(_)).prototype,"_closeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"_nextBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"_timeLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(D.prototype,"_percentLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"_bar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=D))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/WinDialog2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./YT.ts","./MainConst.ts","./BattleState.ts","./BaseDialog.ts","./Awaiters.ts"],(function(t){var e,n,i,a,r,o,l,s,u,c,p,d,b,_,f,h,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,u=t.Label,c=t.Button},function(t){p=t.ViewUtil},function(t){d=t.YT},function(t){b=t.MAIN_PREFABS,_=t.MAIN_BUNDLE},function(t){f=t.BattleState},function(t){h=t.BaseDialog},function(t){y=t.Awaiters}],execute:function(){var v,m,g,D,w,B,L,I,N,x,C;l._RF.push({},"bf053TMveRM8LRXdVo9ARXA","WinDialog",void 0);var A=s.ccclass,k=s.property;t("WinDialog",(v=A("WinDialog"),m=k({type:u,displayName:"波次",visible:!0}),g=k({type:u,displayName:"奖励数量",visible:!0}),D=k({type:c,displayName:"双倍按钮",visible:!0}),w=k({type:c,displayName:"普通按钮",visible:!0}),v((I=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_waveLab",I,a(e)),i(e,"_cntLab",N,a(e)),i(e,"_doubleBtn",x,a(e)),i(e,"_noramlBtn",C,a(e)),e._resultData=void 0,e}n(e,t),e.Show=function(t){var n=p.createPrefabNode(b.WinDialog,_);n.parent=f.ins.control.view.dialogRoot;var i=n.getComponent(e);return i._init(t),i};var l=e.prototype;return l._init=function(t){d.audio.play(12),this._resultData=t,this._waveLab.string=t.waveIdx+"/"+t.maxWave,this._cntLab.string="x"+t.gold.toFixedNumberCN(),this._noramlBtn.node.on(c.EventType.CLICK,this._onNormalBtnClicked,this),this._doubleBtn.node.on(c.EventType.CLICK,this._onDoubleBtnClicked,this)},l._onNormalBtnClicked=function(){var t=r(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.audio.play(2),e=this._resultData.gold,d.data.addItemByItemId(1,e),this._resultData.gold=0,t.next=6,y.Frames(2);case 6:f.ins.enterHall(1,this._resultData),this.close();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l._onDoubleBtnClicked=function(){var t=r(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.audio.play(2),t.next=3,d.game.watchAD("result_win_double");case 3:if(!t.sent){t.next=12;break}return e=2*this._resultData.gold,d.data.addItemByItemId(1,e),this._resultData.gold=0,t.next=10,y.Frames(2);case 10:f.ins.enterHall(1,this._resultData),this.close();case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(h)).prototype,"_waveLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(L.prototype,"_cntLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(L.prototype,"_doubleBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(L.prototype,"_noramlBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=L))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/WinDialog3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst3.ts","./ZDGameState3.ts","./BaseDialog3.ts"],(function(e){var t,i,n,r,a,o,l,s,u,c,p,b,m,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Button,s=e.Label,u=e.ProgressBar},function(e){c=e.ViewUtil},function(e){p=e.ZD_RES_PREFABS,b=e.ZD_BUNDLE},function(e){m=e.ZDGameState3},function(e){_=e.BaseDialog3}],execute:function(){var y,f,g,d,h,v,B,D,L,C,N,w,x;a._RF.push({},"9cfb9V21xNEjoWxy0PILrv2","WinDialog3",void 0);var z=o.ccclass,G=o.property;e("WinDialog3",(y=z("WinDialog3"),f=G({type:l,displayName:"关闭按钮",visible:!0}),g=G({type:l,displayName:"下一关",visible:!0}),d=G({type:s,displayName:"时间",visible:!0}),h=G({type:s,displayName:"进度",visible:!0}),v=G({type:u,displayName:"进度条",visible:!0}),y((L=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_closeBtn",L,r(t)),n(t,"_nextBtn",C,r(t)),n(t,"_timeLab",N,r(t)),n(t,"_percentLab",w,r(t)),n(t,"_bar",x,r(t)),t}i(t,e),t.Show=function(e,i){var n=c.createPrefabNode(p.WIN_DIALOG,b);n.parent=m.runtime.ui.dialogNode;var r=n.getComponent(t);return r._init(e,i),r.show(),r};var a=t.prototype;return a._init=function(e,t){m.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",m.runtime.audioMgr.play(8)},a.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._nextBtn.node.on(l.EventType.CLICK,this._onNextBtnClicked,this)},a._onNextBtnClicked=function(){m.runtime.audioMgr.play(9),this.close(),m.runtime.resumeGame(),m.runtime.nextGame()},a._onCloseBtnClicked=function(){this.close(),m.runtime.returnGame()},t}(_)).prototype,"_closeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"_nextBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"_timeLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(D.prototype,"_percentLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"_bar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=D))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/WinDialog4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst4.ts","./ZDGameState4.ts","./BaseDialog4.ts"],(function(e){var t,i,n,r,a,o,l,s,u,c,p,b,m,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Button,s=e.Label,u=e.ProgressBar},function(e){c=e.ViewUtil},function(e){p=e.ZD_RES_PREFABS,b=e.ZD_BUNDLE},function(e){m=e.ZDGameState4},function(e){_=e.BaseDialog4}],execute:function(){var y,f,g,d,h,B,v,D,L,C,w,N,x;a._RF.push({},"f67f8swPu1Gc5ojeRYqKS6h","WinDialog4",void 0);var G=o.ccclass,S=o.property;e("WinDialog4",(y=G("WinDialog4"),f=S({type:l,displayName:"关闭按钮",visible:!0}),g=S({type:l,displayName:"下一关",visible:!0}),d=S({type:s,displayName:"时间",visible:!0}),h=S({type:s,displayName:"进度",visible:!0}),B=S({type:u,displayName:"进度条",visible:!0}),y((L=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_closeBtn",L,r(t)),n(t,"_nextBtn",C,r(t)),n(t,"_timeLab",w,r(t)),n(t,"_percentLab",N,r(t)),n(t,"_bar",x,r(t)),t}i(t,e),t.Show=function(e,i){var n=c.createPrefabNode(p.WIN_DIALOG,b);n.parent=m.runtime.ui.dialogNode;var r=n.getComponent(t);return r._init(e,i),r.show(),r};var a=t.prototype;return a._init=function(e,t){m.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",m.runtime.audioMgr.play(8)},a.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._nextBtn.node.on(l.EventType.CLICK,this._onNextBtnClicked,this)},a._onNextBtnClicked=function(){m.runtime.audioMgr.play(9),this.close(),m.runtime.resumeGame(),m.runtime.nextGame()},a._onCloseBtnClicked=function(){this.close(),m.runtime.returnGame()},t}(_)).prototype,"_closeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"_nextBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(D.prototype,"_timeLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"_percentLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"_bar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/WinDialog5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst5.ts","./ZDGameState5.ts","./BaseDialog5.ts"],(function(e){var t,i,n,r,a,o,l,s,u,c,p,b,m,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Button,s=e.Label,u=e.ProgressBar},function(e){c=e.ViewUtil},function(e){p=e.ZD_RES_PREFABS,b=e.ZD_BUNDLE},function(e){m=e.ZDGameState5},function(e){_=e.BaseDialog5}],execute:function(){var y,f,g,d,h,B,D,v,L,C,N,w,x;a._RF.push({},"ebf8eVoLeVIkLYCDYjyWJG4","WinDialog5",void 0);var G=o.ccclass,z=o.property;e("WinDialog5",(y=G("WinDialog5"),f=z({type:l,displayName:"关闭按钮",visible:!0}),g=z({type:l,displayName:"下一关",visible:!0}),d=z({type:s,displayName:"时间",visible:!0}),h=z({type:s,displayName:"进度",visible:!0}),B=z({type:u,displayName:"进度条",visible:!0}),y((L=t((v=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_closeBtn",L,r(t)),n(t,"_nextBtn",C,r(t)),n(t,"_timeLab",N,r(t)),n(t,"_percentLab",w,r(t)),n(t,"_bar",x,r(t)),t}i(t,e),t.Show=function(e,i){var n=c.createPrefabNode(p.WIN_DIALOG,b);n.parent=m.runtime.ui.dialogNode;var r=n.getComponent(t);return r._init(e,i),r.show(),r};var a=t.prototype;return a._init=function(e,t){m.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",m.runtime.audioMgr.play(8)},a.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._nextBtn.node.on(l.EventType.CLICK,this._onNextBtnClicked,this)},a._onNextBtnClicked=function(){m.runtime.audioMgr.play(9),this.close(),m.runtime.resumeGame(),m.runtime.nextGame()},a._onCloseBtnClicked=function(){this.close(),m.runtime.returnGame()},t}(_)).prototype,"_closeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(v.prototype,"_nextBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(v.prototype,"_timeLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"_percentLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(v.prototype,"_bar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=v))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/WinDialog6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst6.ts","./ZDGameState6.ts","./BaseDialog6.ts"],(function(e){var t,i,n,r,a,o,l,s,u,c,p,b,m,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Button,s=e.Label,u=e.ProgressBar},function(e){c=e.ViewUtil},function(e){p=e.ZD_RES_PREFABS,b=e.ZD_BUNDLE},function(e){m=e.ZDGameState6},function(e){_=e.BaseDialog6}],execute:function(){var y,f,g,d,h,B,v,D,C,L,N,w,x;a._RF.push({},"073a3KkHBpJ9osWyd59Cu/S","WinDialog6",void 0);var S=o.ccclass,z=o.property;e("WinDialog6",(y=S("WinDialog6"),f=z({type:l,displayName:"关闭按钮",visible:!0}),g=z({type:l,displayName:"下一关",visible:!0}),d=z({type:s,displayName:"时间",visible:!0}),h=z({type:s,displayName:"进度",visible:!0}),B=z({type:u,displayName:"进度条",visible:!0}),y((C=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_closeBtn",C,r(t)),n(t,"_nextBtn",L,r(t)),n(t,"_timeLab",N,r(t)),n(t,"_percentLab",w,r(t)),n(t,"_bar",x,r(t)),t}i(t,e),t.Show=function(e,i){var n=c.createPrefabNode(p.WIN_DIALOG,b);n.parent=m.runtime.ui.dialogNode;var r=n.getComponent(t);return r._init(e,i),r.show(),r};var a=t.prototype;return a._init=function(e,t){m.runtime.pauseGame(!1),this._timeLab.string=String(Math.floor(e)),this._bar.progress=t,this._percentLab.string=(100*t).toFixed(0)+"%",m.runtime.audioMgr.play(8)},a.start=function(){this._closeBtn.node.on(l.EventType.CLICK,this._onCloseBtnClicked,this),this._nextBtn.node.on(l.EventType.CLICK,this._onNextBtnClicked,this)},a._onNextBtnClicked=function(){m.runtime.audioMgr.play(9),this.close(),m.runtime.resumeGame(),m.runtime.nextGame()},a._onCloseBtnClicked=function(){this.close(),m.runtime.returnGame()},t}(_)).prototype,"_closeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(D.prototype,"_nextBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"_timeLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(D.prototype,"_percentLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"_bar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/WindowBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./YT.ts","./util2.ts"],(function(n){var t,i,e,o,s,r,a,c,u,h,l,f,d,w,p;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass,e=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){s=n.cclegacy,r=n.tween,a=n.Vec3,c=n.Color},function(n){u=n.Window,h=n.GComponent,l=n.GRoot,f=n.GGraph,d=n.UIPackage},function(n){w=n.YT},function(n){p=n.updater}],execute:function(){n({WindowBinder:function(n){v.push(n)},clearWindows:function(){v.forEach((function(n){var t;null==(t=n._inst)||t.dispose(),n._inst=null}))}}),s._RF.push({},"70cbdDbQEpM8LSdOnqXwVzH","WindowBase",void 0);var m=n("WindowBaseCls",function(n){function i(){return n.apply(this,arguments)||this}return t(i,n),i.createInstance=function(){return new i},i}(h));m.URL="";var v=[];var _=n("default",function(n){function s(t){var i;return(i=n.call(this)||this).view=void 0,i.withAnim=!0,i.anyClose=!1,i.maskColor=new c(0,0,0,250),i.selfClose=!1,i.resolver=void 0,i.hiding=!1,i.arg=t,i}t(s,n),s._show=function(){var n=e(o().mark((function n(t){var i=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.isSingle&&this._inst&&this._inst.hideImmediately(),n.abrupt("return",new Promise((function(n){if(!i._inst||i._inst.isDisposed){var e=new i(t||{});i._inst=e,e.resolver=n,e.center(!0),e.setPivot(.5,.5),e.modal=!0;var o=d.createObjectFromURL(i.cls.URL,i.cls).asCom;e.contentPane=o,e.view=e.contentPane,e.onConstruct()}else i._inst.arg=t||{},i._inst.resolver=n,i._inst.view.touchable=!0;i._inst.show()})));case 2:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),s.show=function(){var n=e(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._show());case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s.showWithArg=function(){var n=e(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._show(t));case 1:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}();var u=s.prototype;return u.onConstruct=function(){},u.beforeShow=function(){},u.onShown=function(){},u.onHide=function(){},u.beforeHide=function(){},u.onMaskClick=function(){this.anyClose&&this.hide()},u.doShowAnimation=function(){var n=this;this.beforeShow(),w.game.node.emit("window_show",this),w.audio.play("pop"),p((function(){if(n.mask)return n.mask.onClick((function(){return n.onMaskClick()})),!0})),this.view.onClick((function(){n.anyClose&&n.selfClose&&n.hide()})),this.withAnim?r(this.node).to(.2,{scale:new a(1.2,1.2,1)}).to(.1,{scale:new a(1,1,1)}).call((function(){n.onShown()})).start():this.onShown()},u.doHideAnimation=function(){var n=this;this.hiding||(this.hiding=!0,this.view.touchable=!1,w.game.node.emit("window_hide",this),w.audio.play("xiu"),this.mask.offClick(this.hide,this),this.beforeHide(),this.withAnim?r(this.node).to(.1,{scale:new a(1.2,1.2,1)}).to(.2,{scale:new a(0,0,0)}).call((function(){n.hiding=!1,n.hideImmediately()})).start():this.hideImmediately())},u.hideImmediately=function(){this.resolver&&(this.resolver(this.arg),this.resolver=null),n.prototype.hideImmediately.call(this)},s.hide=function(){this._inst&&this._inst.hide()},i(s,[{key:"mask",get:function(){return l.inst._children.find((function(n){return n instanceof f}))}}]),s}(u));_.cls=m,_._inst=void 0,_.isSingle=!1,s._RF.pop()}}}));

System.register("chunks:///_virtual/WindowBase2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./YT.ts","./util3.ts"],(function(n){var t,i,e,o,s,r,a,c,u,h,l,f,d,w,m;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass,e=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){s=n.cclegacy,r=n.tween,a=n.Vec3,c=n.Color},function(n){u=n.Window,h=n.GComponent,l=n.GRoot,f=n.GGraph,d=n.UIPackage},function(n){w=n.YT},function(n){m=n.updater}],execute:function(){s._RF.push({},"88f11GgvPBEqbGxLROQzxia","WindowBase",void 0);var p=n("WindowBaseCls",function(n){function i(){return n.apply(this,arguments)||this}return t(i,n),i.createInstance=function(){return new i},i}(h));p.URL="";var v=n("default",function(n){function s(t){var i;return(i=n.call(this)||this).view=void 0,i.withAnim=!0,i.anyClose=!1,i.maskColor=new c(0,0,0,250),i.selfClose=!1,i.resolver=void 0,i.hiding=!1,i.arg=t,i}t(s,n),s._show=function(){var n=e(o().mark((function n(t){var i=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.isSingle&&this._inst&&this._inst.hideImmediately(),n.abrupt("return",new Promise((function(n){if(!i._inst||i._inst.isDisposed){var e=new i(t||{});i._inst=e,e.resolver=n,e.center(!0),e.setPivot(.5,.5),e.modal=!0;var o=d.createObjectFromURL(i.cls.URL,i.cls).asCom;e.contentPane=o,e.view=e.contentPane,e.onConstruct()}else i._inst.arg=t||{},i._inst.resolver=n,i._inst.view.touchable=!0;i._inst.show()})));case 2:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),s.show=function(){var n=e(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._show());case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s.showWithArg=function(){var n=e(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._show(t));case 1:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}();var u=s.prototype;return u.onConstruct=function(){},u.beforeShow=function(){},u.onShown=function(){},u.onHide=function(){},u.beforeHide=function(){},u.onMaskClick=function(){this.anyClose&&this.hide()},u.doShowAnimation=function(){var n=this;this.beforeShow(),w.game.node.emit("window_show",this),w.audio.playByName("pop"),m((function(){if(n.mask)return n.mask.onClick((function(){return n.onMaskClick()})),!0})),this.view.onClick((function(){n.anyClose&&n.selfClose&&n.hide()})),this.withAnim?r(this.node).to(.2,{scale:new a(1.2,1.2,1)}).to(.1,{scale:new a(1,1,1)}).call((function(){n.onShown()})).start():this.onShown()},u.doHideAnimation=function(){var n=this;this.hiding||(this.hiding=!0,this.view.touchable=!1,w.game.node.emit("window_hide",this),w.audio.playByName("xiu"),this.mask.offClick(this.hide,this),this.beforeHide(),this.withAnim?r(this.node).to(.1,{scale:new a(1.2,1.2,1)}).to(.2,{scale:new a(0,0,0)}).call((function(){n.hiding=!1,n.hideImmediately()})).start():this.hideImmediately())},u.hideImmediately=function(){this.resolver&&(this.resolver(this.arg),this.resolver=null),n.prototype.hideImmediately.call(this)},s.hide=function(){this._inst&&this._inst.hide()},i(s,[{key:"mask",get:function(){return l.inst._children.find((function(n){return n instanceof f}))}}]),s}(u));v.cls=p,v._inst=void 0,v.isSingle=!1,s._RF.pop()}}}));

System.register("chunks:///_virtual/WindowBase22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./fairygui.mjs","./util22.ts"],(function(n){var t,i,e,o,s,r,a,c,u,h,l,f,d,w,m;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass,e=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){s=n.cclegacy,r=n.tween,a=n.Vec3,c=n.Color},function(n){u=n.YT},function(n){h=n.Window,l=n.GComponent,f=n.GRoot,d=n.GGraph,w=n.UIPackage},function(n){m=n.updater}],execute:function(){s._RF.push({},"d2b9euZaDdH7bDqxMHRxGxO","WindowBase2",void 0);var p=n("WindowBaseCls",function(n){function i(){return n.apply(this,arguments)||this}return t(i,n),i.createInstance=function(){return new i},i}(l));p.URL="";var v=n("default",function(n){function s(t){var i;return(i=n.call(this)||this).view=void 0,i.withAnim=!0,i.anyClose=!1,i.maskColor=new c(0,0,0,250),i.selfClose=!1,i.resolver=void 0,i.hiding=!1,i.arg=t,i}t(s,n),s._show=function(){var n=e(o().mark((function n(t){var i=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.isSingle&&this._inst&&this._inst.hideImmediately(),n.abrupt("return",new Promise((function(n){if(!i._inst||i._inst.isDisposed){var e=new i(t||{});i._inst=e,e.resolver=n,e.center(!0),e.setPivot(.5,.5),e.modal=!0;var o=w.createObjectFromURL(i.cls.URL,i.cls).asCom;e.contentPane=o,e.view=e.contentPane,e.onConstruct()}else i._inst.arg=t||{},i._inst.resolver=n,i._inst.view.touchable=!0;i._inst.show()})));case 2:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),s.show=function(){var n=e(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._show());case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s.showWithArg=function(){var n=e(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._show(t));case 1:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}();var h=s.prototype;return h.onConstruct=function(){},h.beforeShow=function(){},h.onShown=function(){},h.onHide=function(){},h.beforeHide=function(){},h.onMaskClick=function(){this.anyClose&&this.hide()},h.doShowAnimation=function(){var n=this;this.beforeShow(),u.game.node.emit("window_show",this),u.audio.playByName("pop"),m((function(){if(n.mask)return n.mask.onClick((function(){return n.onMaskClick()})),!0})),this.view.onClick((function(){n.anyClose&&n.selfClose&&n.hide()})),this.withAnim?r(this.node).to(.2,{scale:new a(1.2,1.2,1)}).to(.1,{scale:new a(1,1,1)}).call((function(){n.onShown()})).start():this.onShown()},h.doHideAnimation=function(){var n=this;this.hiding||(this.hiding=!0,this.view.touchable=!1,u.game.node.emit("window_hide",this),u.audio.playByName("xiu"),this.mask.offClick(this.hide,this),this.beforeHide(),this.withAnim?r(this.node).to(.1,{scale:new a(1.2,1.2,1)}).to(.2,{scale:new a(0,0,0)}).call((function(){n.hiding=!1,n.hideImmediately()})).start():this.hideImmediately())},h.hideImmediately=function(){this.resolver&&(this.resolver(this.arg),this.resolver=null),n.prototype.hideImmediately.call(this)},s.hide=function(){this._inst&&this._inst.hide()},i(s,[{key:"mask",get:function(){return f.inst._children.find((function(n){return n instanceof d}))}}]),s}(h));v.cls=p,v._inst=void 0,v.isSingle=!1,s._RF.pop()}}}));

System.register("chunks:///_virtual/WindowBase3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./YT.ts","./util.ts","./UserNodeEvents.ts"],(function(t){var i,n,e,s,o,r,a,h,u,c,l,d,f,w,m,p,v,y,k;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t.tween,a=t.Vec3,h=t.director,u=t.Color},function(t){c=t.Window,l=t.GComponent,d=t.UIPackage,f=t.GRoot,w=t.GGraph},function(t){m=t.YT},function(t){p=t.updater,v=t.nextFrame,y=t.default},function(t){k=t.UserNodeEvents}],execute:function(){o._RF.push({},"a7f88pzzQ9I5YlyzdAYT6vX","WindowBase",void 0);var g=.2,C=.1,_=t("WindowBaseCls",function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.createInstance=function(){return new n},n}(l));_.URL="";var S=t("default",function(t){function o(i){var n;return(n=t.call(this)||this).view=void 0,n.withAnim=!0,n.anyClose=!1,n.selfClose=!1,n.pauseGame=!1,n.isShown=!1,n.hiding=!1,n.hideTween=void 0,n.resolver=void 0,n.maskColor=new u(0,0,0,204.8),n.arg=i,n}i(o,t);var c=o.prototype;return c.onConstruct=function(){},c.beforeShow=function(){},c.onShown=function(){},c.onHide=function(){},c.beforeHide=function(){},c.onMaskClick=function(){this.anyClose&&(this.withAnim?this.hide():this.hideImmediately())},c.doShowAnimation=function(){var t=this;this.beforeShow(),m.game.node.emit(k.WindowShow,this),this.setupMask(),this.setupClickHandler(),this.withAnim?r(this.node).to(g,{scale:new a(1.2,1.2,1)}).to(C,{scale:new a(1,1,1)}).call((function(){return t.finishShowAnimation()})).start():this.finishShowAnimation()},c.setupMask=function(){var t=this;p((function(){if(t.mask)return t.mask.drawRect(0,u.TRANSPARENT,t.maskColor),t.mask.onClick((function(){return t.onMaskClick()})),!0}))},c.setupClickHandler=function(){var t=this;this.onClick((function(i){t.anyClose&&t.selfClose&&i.target===t.view.node&&(t.withAnim?t.hide():t.hideImmediately())}))},c.finishShowAnimation=function(){this.onShown(),this.isShown=!0,this.pauseGame&&v((function(){return h.pause()}))},c.doHideAnimation=function(){var t=this;this.hiding||(this.hiding=!0,this.view.touchable=!1,m.game.node.emit(k.WindowHide,this),this.mask.offClick(this.hide,this),this.beforeHide(),this.withAnim?(this.hideTween&&this.hideTween.destroySelf(),this.hideTween=r(this.node).to(C,{scale:new a(1.2,1.2,1)}).to(g,{scale:new a(0,0,0)}).call((function(){t.hiding=!1,t.hideImmediately()})).start()):this.hideImmediately())},c.hide=function(){this.pauseGame||h.isPaused()?this.hideImmediately():t.prototype.hide.call(this)},c.hideImmediately=function(){this.resolver&&(this.resolver(this.arg),this.resolver=null),t.prototype.hideImmediately.call(this),this.isShown=!1,!this.pauseGame||y.getWindow()&&y.getWindow().pauseGame||h.resume()},o.show=function(){var t=e(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._show());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.showWithArg=function(){var t=e(s().mark((function t(i){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._show(i));case 1:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),o.hide=function(){this._inst&&this._inst.hide()},o._show=function(){var t=e(s().mark((function t(i){var n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isSingle&&this._inst&&this._inst.hideImmediately(),t.abrupt("return",new Promise((function(t){!n._inst||n._inst.isDisposed?n.createNewInstance(i||{},t):n.reuseInstance(i||{},t),n._inst.show()})));case 2:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),o.createNewInstance=function(t,i){var n=new this(t);this._inst=n,n.resolver=i,n.center(!0),n.setPivot(.5,.5),n.modal=!0;var e=d.createObjectFromURL(this.cls.URL,this.cls).asCom;n.contentPane=e,n.view=n.contentPane,n.onConstruct()},o.reuseInstance=function(t,i){this._inst.arg=t,this._inst.resolver=i,this._inst.view.touchable=!0},o.clear=function(){var t;null==(t=this._inst)||t.dispose(),this._inst=null},n(o,[{key:"mask",get:function(){return f.inst._children.find((function(t){return t instanceof w}))}}]),o}(c));S.cls=_,S._inst=void 0,S.isSingle=!1,o._RF.pop()}}}));

System.register("chunks:///_virtual/WindowCup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeSpiritGameConst.ts","./TreeSpiritTalentConfig.ts","./UI_CupPick.ts","./AudioManager.ts","./BattleManager.ts","./util2.ts","./WindowBase.ts"],(function(t){var e,n,i,s,c,r,o,a,u,p,h,f,l,d,m;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t.tween,r=t.PhysicsSystem2D},function(t){o=t.TreeSpiritGameConst},function(t){a=t.TreeSpiritTalentConfig},function(t){u=t.default},function(t){p=t.default},function(t){h=t.default},function(t){f=t.default,l=t.delay},function(t){d=t.WindowBinder,m=t.default}],execute:function(){var v,w;s._RF.push({},"9dfeeiEoRpJpZGHxsUXVA50","WindowCup",void 0);t("default",d(((w=function(t){function s(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).withAnim=!0,e.view=void 0,e.cupPostions=[],e.items=[],e.cups=[],e.cupLocations=[],e.tempLocations=[],e}e(s,t),s.showWithArg=function(){var t=n(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._show(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var u=s.prototype;return u.onConstruct=function(){var t=this;this.cupPostions.push({x:this.view.m_cup_1.x,y:this.view.m_cup_1.y},{x:this.view.m_cup_2.x,y:this.view.m_cup_2.y},{x:this.view.m_cup_3.x,y:this.view.m_cup_3.y}),this.cups.push(this.view.m_cup_1,this.view.m_cup_2,this.view.m_cup_3),this.cups.forEach((function(e){e.onClick((function(){t.view.m_nums.visible=!1,t.putItems(),t.openCups(e)}))})),console.log("准备杯子",this,this.arg.ids)},u.beforeShow=function(){this.reset(),this.play()},u.play=function(){var t=n(i().mark((function t(){var e,n,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.updateItems(),t.next=3,l(2);case 3:return t.next=5,this.closeCups();case 5:e=f.randomInt(10,15),n=0;case 7:if(!(n<e)){t.next=15;break}return s=f.lerp(.3,.05,n/e),p.inst.playEffect("xiu"),t.next=12,this.switches(s);case 12:n++,t.next=7;break;case 15:this.setCupsReady();case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.reset=function(){var t=this;this.arg.ids.sort((function(t,e){return Math.random()-.5})),this.cups.forEach((function(e,n){e.setPosition(t.cupPostions[n].x,t.cupPostions[n].y-300),t.cupLocations[n]=e,e.touchable=!1})),this.view.m_nums.visible=!1},u.setCupsReady=function(){this.cups.forEach((function(t){t.touchable=!0,t.visible=!0})),this.view.m_nums.visible=!0},u.updateItems=function(){var t=this;this.items.forEach((function(e,n){var i=a.data[t.arg.ids[n]];e.icon="ui://"+o.data.UIPackage+"/"+i.drop,console.log("???",i),e.title=""+i.desc,e.visible=!1,c(e).delay(.5*n+.5).call((function(){e.visible=!0})).to(.1,{scaleX:1.5,scaleY:1.5}).delay(.1).to(.1,{scaleX:1,scaleY:1}).start()}))},u.closeCups=function(){var t=n(i().mark((function t(){var e,n,s=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(.2*e);case 2:n=s.cups[e],c(n).to(.2,{y:s.cupPostions[e].y}).call((function(){s.items[e].visible=!1})).start();case 4:case"end":return t.stop()}}),t)})),n=0;case 2:if(!(n<this.cups.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:return t.next=9,l(.2*this.cups.length+.3);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.switches=function(){var t=n(i().mark((function t(e){var n,s,c,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.tempLocations.length=0,console.log("单次开始"),n=[0,1,2],s=[0,1,2],c=f.fetchRandom(n),r=f.fetchRandom(s.filter((function(t){return t!=c}))),f.fetchArrEle(s,r),o=[];case 8:if(o.push(this.moveCupToSlot(c,r,e)),c=r,n.includes(c)){t.next=15;break}return t.abrupt("break",20);case 15:f.fetchArrEle(n,c),r=f.fetchRandom(s.filter((function(t){return t!=c}))),f.fetchArrEle(s,r);case 18:t.next=8;break;case 20:return t.next=22,Promise.all(o);case 22:for(a=0;a<this.tempLocations.length;a++)null!=this.tempLocations[a]&&(this.cupLocations[a]=this.tempLocations[a]);case 23:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.moveCupToSlot=function(t,e,n){var i=this.cupLocations[t],s=this.cupLocations[e];return this.tempLocations[e]=i,new Promise((function(t){c(i).to(n,{x:s.x}).call((function(){return t(null)})).start()}))},u.putItems=function(){var t=this;this.items.forEach((function(e,n){var i=t.cupLocations.indexOf(t.cups[n]),s=a.data[t.arg.ids[i]];console.log("放入杯子",i,s),e.icon="ui://"+o.data.UIPackage+"/"+s.drop,e.title=""+s.desc,e.visible=!0,e.data=s}))},u.openCups=function(){var t=n(i().mark((function t(e){var n,s,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.cups.forEach((function(t){t.touchable=!0})),n=this.cupLocations.indexOf(e),s=this.items[n],r=s.data,o=0;o<this.cups.length;o++)a=this.cups[o],c(a).to(.2,{y:this.cupPostions[o].y-300}).call((function(){c(s).to(.1,{scaleX:1.5,scaleY:1.5}).delay(.1).to(.1,{scaleX:1,scaleY:1}).start()})).start();return t.next=7,l(.2*this.cups.length+.3);case 7:return this.getItem(r),t.next=10,l(1);case 10:this.hide();case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.getItem=function(t){h.inst.player.addTalent(t)},u.onShown=function(){r.instance.autoSimulation=!1,f.pauseTransitions(h.inst.view)},u.beforeHide=function(){f.resumeTransitions(),r.instance.autoSimulation=!0},s}(m)).cls=u,v=w))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/WindowCup2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_CupPick3.ts","./AudioManager2.ts","./BattleManager2.ts","./util3.ts","./WindowBase2.ts","./ShoudaqiaoGameConst.ts","./ShoudaqiaoTalentConfig.ts"],(function(t){var e,n,s,i,o,c,a,r,u,h,p,l,f,m;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t.tween,c=t.PhysicsSystem2D},function(t){a=t.default},function(t){r=t.default},function(t){u=t.default},function(t){h=t.default,p=t.delay},function(t){l=t.default},function(t){f=t.ShoudaqiaoGameConst},function(t){m=t.ShoudaqiaoTalentConfig}],execute:function(){i._RF.push({},"a013aXWAGBDxZ1Fy/j+pO4n","WindowCup",void 0),t("default",function(t){function i(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).withAnim=!0,e.view=void 0,e.cupPostions=[],e.items=[],e.cups=[],e.cupLocations=[],e.tempLocations=[],e}e(i,t),i.showWithArg=function(){var t=n(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._show(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var a=i.prototype;return a.onConstruct=function(){var t=this;this.cupPostions.push({x:this.view.m_cup_1.x,y:this.view.m_cup_1.y},{x:this.view.m_cup_2.x,y:this.view.m_cup_2.y},{x:this.view.m_cup_3.x,y:this.view.m_cup_3.y}),this.cups.push(this.view.m_cup_1,this.view.m_cup_2,this.view.m_cup_3),this.items.push(this.view.m_item_1,this.view.m_item_2,this.view.m_item_3),this.cups.forEach((function(e){e.onClick((function(){t.view.m_nums.visible=!1,t.putItems(),t.openCups(e)}))})),console.log("准备杯子",this,this.arg.ids)},a.beforeShow=function(){this.reset(),this.play()},a.play=function(){var t=n(s().mark((function t(){var e,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.updateItems(),t.next=3,p(2);case 3:return t.next=5,this.closeCups();case 5:e=h.randomInt(10,15),n=0;case 7:if(!(n<e)){t.next=15;break}return i=h.lerp(.3,.05,n/e),r.inst.playEffect("xiu"),t.next=12,this.switches(i);case 12:n++,t.next=7;break;case 15:this.setCupsReady();case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.reset=function(){var t=this;this.arg.ids.sort((function(t,e){return Math.random()-.5})),this.cups.forEach((function(e,n){e.setPosition(t.cupPostions[n].x,t.cupPostions[n].y-300),t.cupLocations[n]=e,e.touchable=!1})),this.view.m_nums.visible=!1},a.setCupsReady=function(){this.cups.forEach((function(t){t.touchable=!0,t.visible=!0})),this.view.m_nums.visible=!0},a.updateItems=function(){var t=this;this.items.forEach((function(e,n){var s=m.data[t.arg.ids[n]];e.icon="ui://"+f.data.UIPackage+"/"+s.drop,console.log("???",s),e.title=""+s.desc,e.visible=!1,o(e).delay(.5*n+.5).call((function(){e.visible=!0})).to(.1,{scaleX:1.5,scaleY:1.5}).delay(.1).to(.1,{scaleX:1,scaleY:1}).start()}))},a.closeCups=function(){var t=n(s().mark((function t(){var e,n,i=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(.2*e);case 2:n=i.cups[e],o(n).to(.2,{y:i.cupPostions[e].y}).call((function(){i.items[e].visible=!1})).start();case 4:case"end":return t.stop()}}),t)})),n=0;case 2:if(!(n<this.cups.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:return t.next=9,p(.2*this.cups.length+.3);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.switches=function(){var t=n(s().mark((function t(e){var n,i,o,c,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.tempLocations.length=0,console.log("单次开始"),n=[0,1,2],i=[0,1,2],o=h.fetchRandom(n),c=h.fetchRandom(i.filter((function(t){return t!=o}))),h.fetchArrEle(i,c),a=[];case 8:if(a.push(this.moveCupToSlot(o,c,e)),o=c,n.includes(o)){t.next=15;break}return t.abrupt("break",20);case 15:h.fetchArrEle(n,o),c=h.fetchRandom(i.filter((function(t){return t!=o}))),h.fetchArrEle(i,c);case 18:t.next=8;break;case 20:return t.next=22,Promise.all(a);case 22:for(r=0;r<this.tempLocations.length;r++)null!=this.tempLocations[r]&&(this.cupLocations[r]=this.tempLocations[r]);case 23:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.moveCupToSlot=function(t,e,n){var s=this.cupLocations[t],i=this.cupLocations[e];return this.tempLocations[e]=s,new Promise((function(t){o(s).to(n,{x:i.x}).call((function(){return t(null)})).start()}))},a.putItems=function(){var t=this;this.items.forEach((function(e,n){var s=t.cupLocations.indexOf(t.cups[n]),i=m.data[t.arg.ids[s]];console.log("放入杯子",s,i),e.icon="ui://"+f.data.UIPackage+"/"+i.drop,e.title=""+i.desc,e.visible=!0,e.data=i}))},a.openCups=function(){var t=n(s().mark((function t(e){var n,i,c,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.cups.forEach((function(t){t.touchable=!0})),n=this.cupLocations.indexOf(e),i=this.items[n],c=i.data,a=0;a<this.cups.length;a++)r=this.cups[a],o(r).to(.2,{y:this.cupPostions[a].y-300}).call((function(){o(i).to(.1,{scaleX:1.5,scaleY:1.5}).delay(.1).to(.1,{scaleX:1,scaleY:1}).start()})).start();return t.next=7,p(.2*this.cups.length+.3);case 7:return this.getItem(c),t.next=10,p(1);case 10:this.hide();case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.getItem=function(t){u.inst.player.addTalent(t)},a.onShown=function(){c.instance.autoSimulation=!1,h.pauseTransitions(u.inst.view)},a.beforeHide=function(){h.resumeTransitions(),c.instance.autoSimulation=!0},i}(l)).cls=a,i._RF.pop()}}}));

System.register("chunks:///_virtual/WindowCup22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_CupPick2.ts","./ShoudaqiaoGameConst2.ts","./ShoudaqiaoTalentConfig2.ts","./AudioManager22.ts","./BattleManager22.ts","./util22.ts","./WindowBase22.ts"],(function(t){var e,n,s,i,c,o,a,r,u,h,p,l,f,m;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,c=t.tween,o=t.PhysicsSystem2D},function(t){a=t.default},function(t){r=t.ShoudaqiaoGameConst},function(t){u=t.ShoudaqiaoTalentConfig},function(t){h=t.default},function(t){p=t.default},function(t){l=t.default,f=t.delay},function(t){m=t.default}],execute:function(){i._RF.push({},"053d4NYh01N+5YVHcwG6tjc","WindowCup2",void 0),t("default",function(t){function i(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).withAnim=!0,e.view=void 0,e.cupPostions=[],e.items=[],e.cups=[],e.cupLocations=[],e.tempLocations=[],e}e(i,t),i.showWithArg=function(){var t=n(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._show(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var a=i.prototype;return a.onConstruct=function(){var t=this;this.cupPostions.push({x:this.view.m_cup_1.x,y:this.view.m_cup_1.y},{x:this.view.m_cup_2.x,y:this.view.m_cup_2.y},{x:this.view.m_cup_3.x,y:this.view.m_cup_3.y}),this.cups.push(this.view.m_cup_1,this.view.m_cup_2,this.view.m_cup_3),this.items.push(this.view.m_item_1,this.view.m_item_2,this.view.m_item_3),this.cups.forEach((function(e){e.onClick((function(){t.view.m_nums.visible=!1,t.putItems(),t.openCups(e)}))})),console.log("准备杯子",this,this.arg.ids)},a.beforeShow=function(){this.reset(),this.play()},a.play=function(){var t=n(s().mark((function t(){var e,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.updateItems(),t.next=3,f(2);case 3:return t.next=5,this.closeCups();case 5:e=l.randomInt(10,15),n=0;case 7:if(!(n<e)){t.next=15;break}return i=l.lerp(.3,.05,n/e),h.inst.playEffect("xiu"),t.next=12,this.switches(i);case 12:n++,t.next=7;break;case 15:this.setCupsReady();case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.reset=function(){var t=this;this.arg.ids.sort((function(t,e){return Math.random()-.5})),this.cups.forEach((function(e,n){e.setPosition(t.cupPostions[n].x,t.cupPostions[n].y-300),t.cupLocations[n]=e,e.touchable=!1})),this.view.m_nums.visible=!1},a.setCupsReady=function(){this.cups.forEach((function(t){t.touchable=!0,t.visible=!0})),this.view.m_nums.visible=!0},a.updateItems=function(){var t=this;this.items.forEach((function(e,n){var s=u.data[t.arg.ids[n]];e.icon="ui://"+r.data.UIPackage+"/"+s.drop,console.log("???",s),e.title=""+s.desc,e.visible=!1,c(e).delay(.5*n+.5).call((function(){e.visible=!0})).to(.1,{scaleX:1.5,scaleY:1.5}).delay(.1).to(.1,{scaleX:1,scaleY:1}).start()}))},a.closeCups=function(){var t=n(s().mark((function t(){var e,n,i=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(.2*e);case 2:n=i.cups[e],c(n).to(.2,{y:i.cupPostions[e].y}).call((function(){i.items[e].visible=!1})).start();case 4:case"end":return t.stop()}}),t)})),n=0;case 2:if(!(n<this.cups.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:return t.next=9,f(.2*this.cups.length+.3);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.switches=function(){var t=n(s().mark((function t(e){var n,i,c,o,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.tempLocations.length=0,console.log("单次开始"),n=[0,1,2],i=[0,1,2],c=l.fetchRandom(n),o=l.fetchRandom(i.filter((function(t){return t!=c}))),l.fetchArrEle(i,o),a=[];case 8:if(a.push(this.moveCupToSlot(c,o,e)),c=o,n.includes(c)){t.next=15;break}return t.abrupt("break",20);case 15:l.fetchArrEle(n,c),o=l.fetchRandom(i.filter((function(t){return t!=c}))),l.fetchArrEle(i,o);case 18:t.next=8;break;case 20:return t.next=22,Promise.all(a);case 22:for(r=0;r<this.tempLocations.length;r++)null!=this.tempLocations[r]&&(this.cupLocations[r]=this.tempLocations[r]);case 23:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.moveCupToSlot=function(t,e,n){var s=this.cupLocations[t],i=this.cupLocations[e];return this.tempLocations[e]=s,new Promise((function(t){c(s).to(n,{x:i.x}).call((function(){return t(null)})).start()}))},a.putItems=function(){var t=this;this.items.forEach((function(e,n){var s=t.cupLocations.indexOf(t.cups[n]),i=u.data[t.arg.ids[s]];console.log("放入杯子",s,i),e.icon="ui://"+r.data.UIPackage+"/"+i.drop,e.title=""+i.desc,e.visible=!0,e.data=i}))},a.openCups=function(){var t=n(s().mark((function t(e){var n,i,o,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.cups.forEach((function(t){t.touchable=!0})),n=this.cupLocations.indexOf(e),i=this.items[n],o=i.data,a=0;a<this.cups.length;a++)r=this.cups[a],c(r).to(.2,{y:this.cupPostions[a].y-300}).call((function(){c(i).to(.1,{scaleX:1.5,scaleY:1.5}).delay(.1).to(.1,{scaleX:1,scaleY:1}).start()})).start();return t.next=7,f(.2*this.cups.length+.3);case 7:return this.getItem(o),t.next=10,f(1);case 10:this.hide();case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.getItem=function(t){p.inst.player.addTalent(t)},a.onShown=function(){o.instance.autoSimulation=!1,l.pauseTransitions(p.inst.view)},a.beforeHide=function(){l.resumeTransitions(),o.instance.autoSimulation=!0},i}(m)).cls=a,i._RF.pop()}}}));

System.register("chunks:///_virtual/WindowGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./UI_WindowGameOver.ts","./WindowBase3.ts"],(function(t){var e,n,r,i,a,o,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){a=t.YT},function(t){o=t.default},function(t){s=t.default}],execute:function(){i._RF.push({},"424bfL/mjNKaImTZFqUUhev","WindowGameOver",void 0),t("default",function(t){function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).withAnim=!0,e.view=void 0,e}e(i,t);var o=i.prototype;return o.onConstruct=function(){var e=this;t.prototype.onConstruct.call(this),this.view.m_restart.onClick(n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.game.watchAD();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:e.hideImmediately(),e.arg.restart=!0;case 7:case"end":return t.stop()}}),t)})))),this.view.m_close.onClick((function(){e.hideImmediately(),e.arg.restart=!1}))},o.beforeShow=function(){this.view.m_kill.text="击杀 "+this.arg.killed+"/"+this.arg.total,this.view.m_title.text=this.arg.win?"胜利通关":"通关失败",this.arg.win?a.audio.play("gq_sl"):a.audio.play("gq_sb")},i}(s)).cls=o,i._RF.pop()}}}));

System.register("chunks:///_virtual/WindowSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./WindowBase2.ts","./YT.ts","./AudioManager2.ts","./BattleManager2.ts","./util3.ts","./UI_WindowSetting3.ts","./CommonSaveData.ts"],(function(i){var t,e,n,s,o,u,a,c,f,r,l,v;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i.PhysicsSystem2D},function(i){s=i.Event},function(i){o=i.default},function(i){u=i.YT},function(i){a=i.default},function(i){c=i.default},function(i){f=i.WindowBinder,r=i.default},function(i){l=i.default},function(i){v=i.CommonSaveData}],execute:function(){var m,d;e._RF.push({},"47fa1bHfqhOzYik5rAR1UXc","WindowSettings",void 0);i("default",f(((d=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=i.call.apply(i,[this].concat(n))||this).withAnim=!0,t.view=void 0,t.anyClose=!0,t}t(e,i);var o=e.prototype;return o.onConstruct=function(){var i=this;this.view.m_music.onClick((function(){return i.save()})),this.view.m_sfx.onClick((function(){return i.save()})),this.view.m_vibrate.onClick((function(){return i.save()})),this.view.m_music.m_slide.on(s.STATUS_CHANGED,(function(){i.save()})),this.view.m_sfx.m_slide.on(s.STATUS_CHANGED,(function(){i.save()}))},o.beforeShow=function(){this.updateView()},o.updateView=function(){this.view.m_music.m_slide.value=100*u.audio.volumeMusic,this.view.m_sfx.m_slide.value=100*u.audio.volumeEffect,this.view.m_vibrate.m_switch.selected=v.instance.isVibrate,a.inst.updateSettings()},o.save=function(){u.audio.volumeMusic=this.view.m_music.m_slide.value/100,u.audio.volumeEffect=this.view.m_sfx.m_slide.value/100,v.instance.isVibrate=this.view.m_vibrate.m_switch.selected,a.inst.updateSettings()},o.onHide=function(){v.Save()},o.onShown=function(){n.instance.autoSimulation=!1,r.pauseTransitions(c.inst.view)},o.beforeHide=function(){r.resumeTransitions(),n.instance.autoSimulation=!0},e}(o)).cls=l,m=d))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/WindowSettings2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./CommonSaveData.ts","./YT.ts","./UI_WindowSetting4.ts","./AudioManager.ts","./BattleManager.ts","./util2.ts","./WindowBase.ts"],(function(i){var t,e,n,s,u,o,a,c,f,r,l,v;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i.PhysicsSystem2D},function(i){s=i.Event},function(i){u=i.CommonSaveData},function(i){o=i.YT},function(i){a=i.default},function(i){c=i.default},function(i){f=i.default},function(i){r=i.default},function(i){l=i.WindowBinder,v=i.default}],execute:function(){var m,d;e._RF.push({},"44c7ckcVO5LXKJeJ6sCtAuR","WindowSettings",void 0);i("default",l(((d=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=i.call.apply(i,[this].concat(n))||this).withAnim=!0,t.view=void 0,t.anyClose=!0,t}t(e,i);var a=e.prototype;return a.onConstruct=function(){var i=this;this.view.m_music.onClick((function(){return i.save()})),this.view.m_sfx.onClick((function(){return i.save()})),this.view.m_vibrate.onClick((function(){return i.save()})),this.view.m_music.m_slide.on(s.STATUS_CHANGED,(function(){i.save()})),this.view.m_sfx.m_slide.on(s.STATUS_CHANGED,(function(){i.save()}))},a.beforeShow=function(){this.updateView()},a.updateView=function(){this.view.m_music.m_slide.value=100*o.audio.volumeMusic,this.view.m_sfx.m_slide.value=100*o.audio.volumeEffect,this.view.m_vibrate.m_switch.selected=u.instance.isVibrate,c.inst.updateSettings()},a.save=function(){o.audio.volumeMusic=this.view.m_music.m_slide.value/100,o.audio.volumeEffect=this.view.m_sfx.m_slide.value/100,u.instance.isVibrate=this.view.m_vibrate.m_switch.selected,c.inst.updateSettings()},a.onHide=function(){u.Save()},a.onShown=function(){n.instance.autoSimulation=!1,r.pauseTransitions(f.inst.view)},a.beforeHide=function(){r.resumeTransitions(),n.instance.autoSimulation=!0},e}(v)).cls=a,m=d))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/WindowSettings22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.mjs","./CommonSaveData.ts","./YT.ts","./UI_WindowSetting2.ts","./AudioManager22.ts","./BattleManager22.ts","./util22.ts","./WindowBase22.ts"],(function(i){var t,e,n,s,u,o,a,c,f,r,v,l;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i.PhysicsSystem2D},function(i){s=i.Event},function(i){u=i.CommonSaveData},function(i){o=i.YT},function(i){a=i.default},function(i){c=i.default},function(i){f=i.default},function(i){r=i.WindowBinder,v=i.default},function(i){l=i.default}],execute:function(){var m,d;e._RF.push({},"3b81acAYPFPtpv3DPuurRN1","WindowSettings2",void 0);i("default",r(((d=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=i.call.apply(i,[this].concat(n))||this).withAnim=!0,t.view=void 0,t.anyClose=!0,t}t(e,i);var a=e.prototype;return a.onConstruct=function(){var i=this;this.view.m_music.onClick((function(){return i.save()})),this.view.m_sfx.onClick((function(){return i.save()})),this.view.m_vibrate.onClick((function(){return i.save()})),this.view.m_music.m_slide.on(s.STATUS_CHANGED,(function(){i.save()})),this.view.m_sfx.m_slide.on(s.STATUS_CHANGED,(function(){i.save()}))},a.beforeShow=function(){this.updateView()},a.updateView=function(){this.view.m_music.m_slide.value=100*o.audio.volumeMusic,this.view.m_sfx.m_slide.value=100*o.audio.volumeEffect,this.view.m_vibrate.m_switch.selected=u.instance.isVibrate,c.inst.updateSettings()},a.save=function(){o.audio.volumeMusic=this.view.m_music.m_slide.value/100,o.audio.volumeEffect=this.view.m_sfx.m_slide.value/100,u.instance.isVibrate=this.view.m_vibrate.m_switch.selected,c.inst.updateSettings()},a.onHide=function(){u.Save()},a.onShown=function(){n.instance.autoSimulation=!1,v.pauseTransitions(f.inst.view)},a.beforeHide=function(){v.resumeTransitions(),n.instance.autoSimulation=!0},e}(l)).cls=a,m=d))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/WindowWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeSpiritLevelConfig.ts","./TreeSpiritWaveConfig.ts","./YT.ts","./UI_WindowWin.ts","./AudioManager.ts","./BattleManager.ts","./const.ts","./WindowBase.ts"],(function(e){var t,i,n,r,a,s,o,u,c,l,f,v,d;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.TreeSpiritLevelConfig},function(e){s=e.TreeSpiritWaveConfig},function(e){o=e.YT},function(e){u=e.default},function(e){c=e.default},function(e){l=e.default},function(e){f=e.treeSpiritGameID},function(e){v=e.WindowBinder,d=e.default}],execute:function(){var h,w;r._RF.push({},"941aaEkK2JKFaqOxnDe/6lH","WindowWin",void 0);e("default",v(((w=function(e){function r(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).withAnim=!0,t.view=void 0,t.bonus=0,t}t(r,e),r.showWithArg=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._show(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var u=r.prototype;return u.onConstruct=function(){var e=this;this.view.m_retry.onClick((function(){l.inst.newGame(),e.hide()})),this.view.m_retry_ad.onClick(i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.game.watchAD("打树妖重开");case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:o.data.tryEnterSubGame(f),l.inst.newGame(),e.hide();case 8:case"end":return t.stop()}}),t)})))),this.view.m_back.onClick((function(){l.inst.clear(),e.hideImmediately(),o.logic.onEnterHall()}))},u.beforeShow=function(){this.view.m_isWin.selectedIndex=this.arg.isWin?1:0,this.view.m_win.m_finished.value=100;var e=0;if(s.dataList.forEach((function(t){t.level==l.inst.level&&(e+=t.number.reduce((function(e,t){return e+t}),0))})),this.view.m_lose.m_finished.value=5*l.inst.progress+Math.min(l.inst.killed/e*100,95),this.view.m_win.m_stage_title.text="第"+l.inst.level+"关",this.view.m_lose.m_stage_title.text="第"+l.inst.level+"关",this.arg.isWin){c.inst.playEffect("victory");var t=a.dataList.reduce((function(e,t){return Math.max(t.level,e)}),0);l.inst.level=Math.min(l.inst.level+1,t),o.data.subData.unlockLevel(f,l.inst.level)}else c.inst.playEffect("defeat");this.view.m_win.m_wave.text=l.inst.killed.toFixed(0),this.view.m_lose.m_wave.text=l.inst.killed.toFixed(0);var i=o.data.subData.canEnter(f)||o.isGM?0:1;this.view.m_withAD.selectedIndex=i,o.platform.ads.showNativeAd()},u.onHide=function(){},r}(d)).cls=u,h=w))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/WindowWin2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DragonLevelConfig2.ts","./YT.ts","./UI_WindowWin4.ts","./ShoudaqiaoLevelConfig.ts","./AudioManager22.ts","./BattleManager22.ts","./util22.ts","./WindowBase22.ts"],(function(t){var e,i,n,r,s,a,o,u,c,l,f,h;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.DragonLevelConfig},function(t){a=t.YT},function(t){o=t.default},function(t){u=t.ShoudaqiaoLevelConfig},function(t){c=t.default},function(t){l=t.default},function(t){f=t.WindowBinder},function(t){h=t.default}],execute:function(){var d,v;r._RF.push({},"c3e809zYepISoSeYKCx0o7D","WindowWin2",void 0);t("default",f(((v=function(t){function r(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).withAnim=!0,e.view=void 0,e.curGame=void 0,e.bonus=0,e}e(r,t),r.showWithArg=function(){var t=i(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._show(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var o=r.prototype;return o.onConstruct=function(){var t=this;this.curGame=l.inst.isDragon?"dragon":"shoudaqiao_2",this.view.m_retry.onClick((function(){l.inst.newGame(),t.hide()})),this.view.m_retry_ad.onClick(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.game.watchAD("守大桥-重开");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:l.inst.newGame(),t.hide();case 7:case"end":return e.stop()}}),e)})))),this.view.m_frame.m_closeButton.onClick((function(){l.inst.clear(),t.hideImmediately(),a.logic.onEnterHall()}))},o.beforeShow=function(){if(this.view.m_win.selectedIndex=this.arg.isWin?1:0,this.view.m_frame.m_bgColor.selectedPage=this.arg.isWin?"黄":"蓝",this.arg.isWin){c.inst.playEffect("victory");var t=("shoudaqiao_2"==this.curGame?u.dataList:s.dataList).reduce((function(t,e){return Math.max(e.level,t)}),0);l.inst.level=Math.min(l.inst.level+1,t)}else c.inst.playEffect("defeat");this.view.m_kill.setVar("num",l.inst.killed.toFixed(0)).flushVars(),this.view.m_time.setVar("num",l.inst.time.toFixed(0)).flushVars(),this.view.m_finished.value=100*l.inst.killed/l.inst.spawner.total,this.arg.isWin&&(this.view.m_finished.value=100),this.view.m_withAD.selectedIndex=1,a.platform.ads.showNativeAd()},o.onHide=function(){},r}(h)).cls=o,d=v))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/WindowWin3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DragonLevelConfig.ts","./YT.ts","./UI_WindowWin3.ts","./AudioManager2.ts","./BattleManager2.ts","./util3.ts","./WindowBase2.ts","./ShoudaqiaoLevelConfig2.ts"],(function(t){var e,i,n,r,s,a,o,u,c,l,f,h;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.DragonLevelConfig},function(t){a=t.YT},function(t){o=t.default},function(t){u=t.default},function(t){c=t.default},function(t){l=t.WindowBinder},function(t){f=t.default},function(t){h=t.ShoudaqiaoLevelConfig}],execute:function(){var d,v;r._RF.push({},"e299cyNck1M6ryfV8KtD9q3","WindowWin",void 0);t("default",l(((v=function(t){function r(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).withAnim=!0,e.view=void 0,e.curGame=void 0,e.bonus=0,e}e(r,t),r.showWithArg=function(){var t=i(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._show(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var o=r.prototype;return o.onConstruct=function(){var t=this;this.curGame=c.inst.isDragon?"dragon":"shoudaqiao",this.view.m_retry.onClick((function(){c.inst.newGame(),t.hide()})),this.view.m_retry_ad.onClick(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.game.watchAD("守大桥-重开");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:c.inst.newGame(),t.hide();case 7:case"end":return e.stop()}}),e)})))),this.view.m_frame.m_closeButton.onClick((function(){c.inst.clear(),t.hideImmediately(),a.logic.onEnterHall()}))},o.beforeShow=function(){if(this.view.m_win.selectedIndex=this.arg.isWin?1:0,this.view.m_frame.m_bgColor.selectedPage=this.arg.isWin?"黄":"蓝",this.arg.isWin){u.inst.playEffect("victory");var t=("shoudaqiao"==this.curGame?h.dataList:s.dataList).reduce((function(t,e){return Math.max(e.level,t)}),0);c.inst.level=Math.min(c.inst.level+1,t)}else u.inst.playEffect("defeat");this.view.m_kill.setVar("num",c.inst.killed.toFixed(0)).flushVars(),this.view.m_time.setVar("num",c.inst.time.toFixed(0)).flushVars(),this.view.m_finished.value=100*c.inst.killed/c.inst.spawner.total,this.arg.isWin&&(this.view.m_finished.value=100),this.view.m_withAD.selectedIndex=1,a.platform.ads.showNativeAd()},o.onHide=function(){},r}(f)).cls=o,d=v))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/WkAudioConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("WkAudioConfig",void 0),t._RF.push({},"81204/LJ3lK+4sAxru9vETr","WkAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/WkAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("WkAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/WkDoorConfig.ts",["cc"],(function(o){var i;return{setters:[function(o){i=o.cclegacy}],execute:function(){var t;o("WkDoorConfig",void 0),i._RF.push({},"f2a8d996vZI5Ybizx2Z+gAB","WkDoorConfig",void 0),function(o){o.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.color=void 0,this.model_path=void 0,this.props=void 0};o.isConst=!1,o.path="config/WkDoorConfig",o.extPath=void 0,o.data=null,o.dataList=null,o.lastData=null}(t||(t=o("WkDoorConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/WkEffectConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("WkEffectConfig",void 0),i._RF.push({},"4e122tjV9RHLbxKUH93o0Dr","WkEffectConfig",void 0),function(t){t.config=function(){this.id=void 0,this.type=void 0,this.path=void 0,this.bundle=void 0,this.anim=void 0,this.time=void 0,this.need_preload=void 0};t.isConst=!1,t.path="config/WkEffectConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(n||(n=t("WkEffectConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/WkEmiterConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var e;t("WkEmiterConfig",void 0),i._RF.push({},"b89299L8cZIvJqhHGWv0eDO","WkEmiterConfig",void 0),function(t){t.config=function(){this.id=void 0,this.name=void 0,this.bullet_path=void 0,this.bullet_count=void 0,this.offset_type=void 0,this.bullet_dir=void 0,this.bullet_offset=void 0,this.bullet_speed=void 0,this.bullet_attack=void 0,this.attack_speed=void 0,this.bullet_life=void 0};t.isConst=!1,t.path="config/WkEmiterConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(e||(e=t("WkEmiterConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/WkEnemyConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("WkEnemyConfig",void 0),t._RF.push({},"d28e1sb9RVKMb3p35F7xbDp","WkEnemyConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.model_path=void 0,this.size=void 0,this.boss=void 0,this.hp=void 0,this.atk=void 0,this.drops=void 0,this.drop_rate=void 0,this.drop_weights=void 0,this.weapon=void 0,this.atk_range=void 0};i.isConst=!1,i.path="config/WkEnemyConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("WkEnemyConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/WkGameConst.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var e;t("WkGameConst",void 0),n._RF.push({},"737188K4itP75v40jhV6ngL","WkGameConst",void 0),function(t){t.config=function(){this.startWaite=void 0,this.cameraOffset=void 0};t.isConst=!0,t.path="config/WkGameConst",t.extPath=void 0,t.data=null}(e||(e=t("WkGameConst",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/WkLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("WkLevelConfig",void 0),t._RF.push({},"bf150ecDqlKEadVCqZn2ZnL","WkLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.speed=void 0,this.ad=void 0,this.outline=void 0,this.level_path=void 0,this.roles=void 0,this.enemies=void 0,this.start_time=void 0};i.isConst=!1,i.path="config/WkLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("WkLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/WkRewardConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("WkRewardConfig",void 0),t._RF.push({},"d7f73/u2pxMFpkRpLHQut52","WkRewardConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.desc=void 0,this.icon=void 0,this.model_path=void 0,this.props=void 0};i.isConst=!1,i.path="config/WkRewardConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("WkRewardConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/WkRoleConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("WkRoleConfig",void 0),o._RF.push({},"eb1eepEGMFIBJVM8sGdJ7QW","WkRoleConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.model_path=void 0,this.weapon_id=void 0,this.moveSpeed=void 0,this.hp=void 0,this.atk=void 0,this.atkSpeed=void 0,this.anim_idle=void 0,this.anim_die=void 0};i.isConst=!1,i.path="config/WkRoleConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("WkRoleConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/words.ts",["cc"],(function(c){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"cdd389L/fJFDq9Fnaj37iZ/","words",void 0);c("words",{});t._RF.pop()}}}));

System.register("chunks:///_virtual/WordsConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var o;i("WordsConfig",void 0),n._RF.push({},"5ef8awo5IdJJ7zMfHu+3nTr","WordsConfig",void 0),function(i){i.config=function(){this.id=void 0,this.cn=void 0,this.cnt=void 0};i.isConst=!1,i.path="config/WordsConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("WordsConfig",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/wukongBinder.ts",["cc","./fairygui.mjs","./UI_End4.ts","./UI_normal_btn_ad.ts","./UI_normal_btn2.ts","./UI_Battle.ts","./UI_iconBtn3.ts"],(function(n){var t,e,i,u,o,c,s;return{setters:[function(n){t=n.cclegacy},function(n){e=n.UIObjectFactory},function(n){i=n.default},function(n){u=n.default},function(n){o=n.default},function(n){c=n.default},function(n){s=n.default}],execute:function(){t._RF.push({},"eae2dYGSjhIcIdG0KEGiTA5","wukongBinder",void 0);n("default",function(){function n(){}return n.bindAll=function(){e.setExtension(i.URL,i),e.setExtension(u.URL,u),e.setExtension(o.URL,o),e.setExtension(c.URL,c),e.setExtension(s.URL,s)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/WXAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./DefaultAds.ts"],(function(o){var e,n,i,t;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy},function(o){i=o.YT},function(o){t=o.default}],execute:function(){n._RF.push({},"c6568/QwSVE3q29pEhBj/FH","WXAds",void 0);o("default",function(o){function n(){var e;return(e=o.call(this)||this).config=void 0,e._rewardVideo=void 0,e.base=void 0,e._bannerAd=void 0,e._intersitialAd=void 0,e.boxBanner=void 0,e.gamebox=void 0,e.onRewardAdLoad=void 0,e.onRewardAdError=void 0,e.onRewardAdClose=void 0,e.base=window.wx,e}e(n,o);var t=n.prototype;return t.init=function(o){this.base=window.wx,this.config=o},t.showBannerAd=function(){var o=this;if(console.log("showBannerAd"),this.base&&this.config.bannerIdMain){if(!this._bannerAd){var e=this.base.getSystemInfoSync().windowWidth,n=this.base.getSystemInfoSync().windowHeight;if(n/e<=1334/750)return console.log("小屏手机不显示banner");var i={};i.adUnitId=this.config.bannerIdMain,i.adIntervals=30;var t={left:0,top:0,width:375};i.style=t,this._bannerAd=this.base.createBannerAd(i),this._bannerAd.onLoad((function(){console.log("banner加载成功"),o._bannerAd.style.top=n-o._bannerAd.style.realHeight,o._bannerAd.style.left=(e-o._bannerAd.style.realWidth)/2})),this._bannerAd.onError((function(o){console.error("banner广告加载失败",o)})),this._bannerAd.onResize((function(e){o._bannerAd.style.top=n-e.height}))}this._bannerAd&&this._bannerAd.show()}},t.hideBannerAd=function(){console.log("hideBannerAd"),this._bannerAd&&this._bannerAd.hide()},t.showRewardVideoAd=function(){var o=this;this.rewardIndex=Math.floor(Math.random()*this.config.rewardvideoId.length);var e=this.config.rewardvideoId[this.rewardIndex];return console.log("showRewardVideoAd"),new Promise((function(n,t){e&&(o._rewardVideo&&o.onRewardAdLoad&&(o._rewardVideo.offLoad(o.onRewardAdLoad),o._rewardVideo.offError(o.onRewardAdError),o._rewardVideo.offClose(o.onRewardAdClose)),o.onRewardAdLoad=function(){console.log("视频广告加载成功"),o.base.hideLoading()},o.onRewardAdClose=function(e){o.base.hideLoading(),console.log("视频回调",e);var i=e.isEnded;n(i)},o.onRewardAdError=function(e){console.error("视频广告加载失败",e),o.base.showToast("视频加载失败,请稍后重试"),n(!1),o.base.hideLoading()},o._rewardVideo?(o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),o.base.showLoading("视频加载中..."),o._rewardVideo.show().then((function(){i.dataSdk.reportAdshow(e),o.base.hideLoading()}))):(o._rewardVideo=o.base.createRewardedVideoAd({adUnitId:e}),o._rewardVideo.onLoad(o.onRewardAdLoad),o._rewardVideo.onError(o.onRewardAdError),o._rewardVideo.onClose(o.onRewardAdClose),o.base.showLoading("视频加载中..."),o._rewardVideo.load().then((function(){o._rewardVideo.show().then((function(){i.dataSdk.reportAdshow(e),o.base.hideLoading()}))}))))}))},t.showInterstitialAd=function(){var o=this;if(console.log("showInterstitialAd"),!this._intersitialAd){if(this._intersitialAd=this.base.createInterstitialAd({adUnitId:this.config.initerstitialAdId}),null==this._intersitialAd)return void console.log("IDE内不支持创建InterstitialAd");this._intersitialAd.onError((function(o){console.error("插页加载失败",o)})),this._intersitialAd.onClose((function(){console.log("插页close"),o._intersitialAd.destroy(),o._intersitialAd=null}))}this._intersitialAd&&this._intersitialAd.load().then((function(){o._intersitialAd.show()}))},t.showGameboxBanner=function(){var o=this.base.getSystemInfoSync().windowWidth,e=this.base.getSystemInfoSync().windowHeight;this.boxBanner||(this.boxBanner=this.base.createCustomAd({adUnitId:this.config.gameBoxBannerAdId,style:{left:(o-360)/2,top:e-108,width:o,height:106}}),this.boxBanner.onLoad((function(o){console.log("boxBanner onload",o)})),this.boxBanner.onError((function(o){console.log("boxBanner err",o)}))),this.boxBanner&&this.boxBanner.show()},t.hideGameboxBanner=function(){this.boxBanner&&this.boxBanner.destroy(),this.boxBanner=null},t.showGamebox=function(){if(!this.gamebox){var o=this.base.getSystemInfoSync().windowWidth,e=this.base.getSystemInfoSync().windowHeight;this.gamebox=this.base.createCustomAd({adUnitId:this.config.gameBoxAdId,style:{left:0,top:e-228,width:o,height:226}}),this.gamebox.onLoad((function(o){console.log("gamebox onload",o)})),this.gamebox.onError((function(o){console.log("gamebox err",o)}))}this.gamebox&&this.gamebox.show()},t.hideGamebox=function(){this.gamebox&&this.gamebox.hide()},t.showNativeAd=function(){},t.showSplashAd=function(){},n}(t));n._RF.pop()}}}));

System.register("chunks:///_virtual/WXPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultPlatform.ts","./WXAds.ts","./DefaultRecorder.ts","./SDK.ts"],(function(e){var t,n,s,o,i,a,r,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,i=e.game},function(e){a=e.default},function(e){r=e.default},function(e){c=e.default},function(e){u=e.default}],execute:function(){o._RF.push({},"9e82206sv1Dea7pCJynv/yz","WXPlatform",void 0);e("default",function(e){function o(){var t;return(t=e.call(this)||this).inited=!1,t.base=window.wx,t}t(o,e);var a=o.prototype;return a.init=function(e){console.log("初始化平台==微信"),this.config=e,this.systemInfo=this.base.getSystemInfoSync(),this.ads=new r,this.ads.init(e.adConfig),this.isSupportRank=!1,this.recorder=new c,this.recorder.isSupport=!1,this.gameName=e.gameName,this.appId=e.appId,this.base.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),this.base.onShareAppMessage("这个游戏还挺好玩的，快来试试！",""),this.base.setKeepScreenOn({keepScreenOn:!0}),this.base.onShow(this.onShow.bind(this)),this.base.onHide(this.onHide.bind(this))},a.onShow=function(e){console.log("wx OnShow",e),i.resume(),this.inited||(this.checkUpdate(),this.inited=!0)},a.checkUpdate=function(){var e=this,t=this.base.getUpdateManager();null!=t&&(t.onCheckForUpdate((function(e){console.log("onCheckForUpdate",e.hasUpdate),e.hasUpdate&&this.base.showToast({title:"即将有更新请留意"})})),t.onUpdateReady((function(){e.base.showModal({title:"更新提示",content:"新版本已经准备好，是否立即使用？",success:function(e){e.confirm?this.base.getUpdateManager().applyUpdate():this.base.showToast({icon:"none",title:"小程序下一次「冷启动」时会使用新版本"})}})})),t.onUpdateFailed((function(){e.base.showToast({title:"更新失败，下次启动继续..."})})))},a.onHide=function(e){console.log("wx OnHide",e),i.pause()},a.login=function(){var e=n(s().mark((function e(t){var o=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.useCloudStorage=t,e.abrupt("return",new Promise((function(e,i){var a;o.base.login({success:(a=n(s().mark((function n(o){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.code){n.next=11;break}if(!t){n.next=8;break}return n.next=4,u.Inst.login(o.code);case 4:n.sent||console.log("sdk登录失败！"),e(),n.next=9;break;case 8:e();case 9:n.next=13;break;case 11:console.log("wx登录失败！"+o.errMsg),i();case 13:case"end":return n.stop()}}),n)}))),function(e){return a.apply(this,arguments)})})})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.Vibrate=function(e){e?this.base.vibrateLong({success:function(e){},fail:function(e){console.error("调用震动失败",e)},complete:function(e){}}):this.base.vibrateShort({success:function(e){},fail:function(e){console.error("调用震动失败",e)},complete:function(e){}})},a.showLoading=function(e,t){console.log("showLoading"+e),this.base&&this.base.showLoading({title:e,mask:t})},a.hideLoading=function(){console.log("hideLoading"),this.base&&this.base.hideLoading()},a.showToast=function(e){console.log("showToast"+e),this.base&&this.base.showToast({title:e})},a.reportEvent=function(e,t){this.base.reportEvent(e,t)},a.shareAppMessage=function(){var e=n(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.base,e.abrupt("return",new Promise((function(e){n.shareAppMessage({title:"分享一个好玩的游戏",imageUrl:t,query:"",success:function(){console.log("分享成功")},fail:function(e){console.log("分享失败")}}),e(!0)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.hasShortcutInstalled=function(){return new Promise((function(e){e(!0)}))},o}(a));o._RF.pop()}}}));

System.register("chunks:///_virtual/YT.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataAnalysisSDK.ts","./EventDispatcher.ts","./ResLoader.ts","./YTConfig.ts"],(function(e){var n,t,i,o,a,s,u,c;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,i=e.Size,o=e.Rect},function(e){a=e.default},function(e){s=e.EventDispatcher},function(e){u=e.ResLoader},function(e){c=e.YTConfig}],execute:function(){t._RF.push({},"7224d2uwghDCoVN+8gehpoz","YT",void 0);e("version","1.0.0");var r=e("YT",function(){function e(){}return n(e,null,[{key:"isGM",get:function(){return!!globalThis.__GM}}]),e}());r.config=new c,r.message=new s,r.audio=void 0,r.gui=void 0,r.game=void 0,r.logic=void 0,r.res=new u,r.timer=void 0,r.language=void 0,r.platform=void 0,r.viewportSize=new i,r.viewportRect=new o,r.deltaTime=0,r.dataSdk=new a,r.data=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/YTAudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioConfig.ts","./CommonSaveData.ts","./AudioEffectEx.ts","./AudioMusic.ts","./fairygui.mjs"],(function(i){var t,s,e,n,u,c,o,a,f,h;return{setters:[function(i){t=i.inheritsLoose,s=i.createClass},function(i){e=i.cclegacy,n=i.AudioSource,u=i.Component},function(i){c=i.AudioConfig},function(i){o=i.CommonSaveData},function(i){a=i.AudioEffectEx},function(i){f=i.AudioMusic},function(i){h=i.GRoot}],execute:function(){e._RF.push({},"252f0z+vPNL8Y/jsLYmomtw","YTAudioMgr",void 0);i("YTAudioMgr",function(i){function e(){for(var t,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(t=i.call.apply(i,[this].concat(e))||this).music=void 0,t.effect=void 0,t._playDelay={},t._delayCount=0,t._needLimit=!1,t._bgmAudioId=void 0,t}t(e,i);var u=e.prototype;return u._playMusic=function(i){if(o.instance.isMusicOn){this._bgmAudioId=void 0;var t=c.data[i];t&&this.music.load(t.path,t.bundle)}else this._bgmAudioId=i},u.stopMusic=function(){this.music.stop()},u._playEffect=function(i,t){if(o.instance.isSoundOn&&!this._playDelay[i]){this._playDelay[i]=5,this._delayCount++;var s=c.data[i];s&&this.effect.load(s.path,s.bundle,t)}},u.resumeAll=function(){this.music&&this.switchMusic&&this.music.resume(),this.effect&&this.switchEffect&&this.effect.play()},u.pauseAll=function(){this.music&&this.switchMusic&&this.music.pause(),this.effect&&this.switchEffect&&this.effect.pause()},u.stopAll=function(){this.music&&this.music.stop(),this.effect&&this.effect.stop()},u.load=function(){if(window.cc){var i=window.cc.AudioPlayer;i&&(i.maxAudioChannel=40),n.maxAudioChannel<20?this._needLimit=!0:this._needLimit=!1,console.error(" 最大音轨数"+n.maxAudioChannel+"，是否开启数量限制"+this._needLimit+" ")}this.music=this.getComponent(f)||this.addComponent(f),this.effect=new a(this.node);var t=o.instance;this.switchMusic=t.isMusicOn,this.volumeMusic=t.musicVolume,this.switchEffect=t.isSoundOn,h.inst.volumeScale=this.volumeEffect=t.soundVolume},u.lateUpdate=function(){var i;if(this._delayCount>0)for(var t in this._playDelay)0==(i=this._playDelay[t]-1)&&this._delayCount--,this._playDelay[t]=i<0?0:i},u.play=function(i,t){if(void 0===t&&(t=10),"string"==typeof i)this.playByName(i,t);else{var s=c.data[i];if(s)switch(s.type){case 0:this._playMusic(i);break;case 1:t>0&&!this._needLimit&&(t=0),this._playEffect(i,t)}}},u.playByName=function(i,t){void 0===t&&(t=10);var s=c.dataList.find((function(t){return t.path.endsWith(i)}));if(s)switch(s.type){case 0:this._playMusic(s.id);break;case 1:t>0&&!this._needLimit&&(t=0),this._playEffect(s.id,t)}},u.playMusicByPath=function(i,t){void 0===t&&(t="resources"),i.startsWith("audio/")||(i="audio/"+i),this.music.load(i,t)},u.playEffectByPath=function(i,t,s){void 0===t&&(t="resources"),void 0===s&&(s=10),i.startsWith("audio/")||(i="audio/"+i),this.effect.load(i,t,s)},s(e,[{key:"volumeMusic",get:function(){return o.instance.musicVolume},set:function(i){o.instance.musicVolume=i,this.music.volume=i}},{key:"switchMusic",get:function(){return o.instance.isMusicOn},set:function(i){o.instance.isMusicOn=i,i?this._bgmAudioId?this._playMusic(this._bgmAudioId):this.music.resume():this.music.pause()}},{key:"volumeEffect",get:function(){return o.instance.soundVolume},set:function(i){o.instance.soundVolume=i,this.effect.volume=i}},{key:"switchEffect",get:function(){return o.instance.isSoundOn},set:function(i){o.instance.isSoundOn=i,i||this.effect.stop()}}]),e}(u));e._RF.pop()}}}));

System.register("chunks:///_virtual/YTConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"18bf99xHqtLlrLVHMBxsJ6d","YTConfig",void 0);t("YTConfig",(function(){this.btc=void 0,this.game=void 0,this.query=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdAinameConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t;i("ZdAinameConfig",void 0),n._RF.push({},"06d05UrrhRFRZmNMLPDmBqI","ZdAinameConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name_str=void 0};i.isConst=!1,i.path="config/ZdAinameConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdAinameConfig",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ZdAinameConfig2.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t;i("ZdAinameConfig",void 0),n._RF.push({},"62fe9jkJgNFtJIOCZ7oH2xT","ZdAinameConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name_str=void 0};i.isConst=!1,i.path="config/ZdAinameConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdAinameConfig",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ZdAudioConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdAudioConfig",void 0),t._RF.push({},"04d8fi+KBxGk632LLjQWcEC","ZdAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/ZdAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdAudioConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdAudioConfig",void 0),t._RF.push({},"2c7bd3YxzpHUIJmsDgRLTqr","ZdAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/ZdAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdAudioConfig3.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdAudioConfig",void 0),t._RF.push({},"53d0b/ZqwZHErOSU0H24/yo","ZdAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/ZdAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdAudioConfig4.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdAudioConfig",void 0),t._RF.push({},"73796ihZUdBQplramSwzGcy","ZdAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/ZdAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdAudioConfig5.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdAudioConfig",void 0),t._RF.push({},"bb2f60US8hGaJbcHo2df4ca","ZdAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/ZdAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDAudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdAudioConfig5.ts","./AudioEffectEx.ts","./AudioMusic.ts","./CommonSaveData.ts"],(function(i){var t,s,e,n,u,c,o,a,f,h;return{setters:[function(i){t=i.inheritsLoose,s=i.createClass},function(i){e=i.cclegacy,n=i.AudioSource,u=i.AudioClip,c=i.Component},function(i){o=i.ZdAudioConfig},function(i){a=i.AudioEffectEx},function(i){f=i.AudioMusic},function(i){h=i.CommonSaveData}],execute:function(){e._RF.push({},"73207rip65AxrLtCkRzfIE2","ZDAudioMgr",void 0);i("ZDAudioMgr",function(i){function e(){for(var t,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(t=i.call.apply(i,[this].concat(e))||this).music=void 0,t.effect=void 0,t._playDelay={},t._delayCount=0,t._needLimit=!1,t._bgmAudioId=void 0,t}t(e,i);var c=e.prototype;return c._playMusic=function(i){if(h.instance.isMusicOn){this._bgmAudioId=void 0;var t=o.data[i];t&&this.music.load(t.path,t.bundle)}else this._bgmAudioId=i},c.stopMusic=function(){this.music.stop()},e.getPrefabs=function(i){for(var t,s=0,e=o.dataList.length;s<e;++s)t=o.dataList[s],i.add("audio/"+t.path,t.bundle,u)},c._playEffect=function(i,t){if(h.instance.isSoundOn&&!this._playDelay[i]){this._playDelay[i]=5,this._delayCount++;var s=o.data[i];s&&this.effect.load("audio/"+s.path,s.bundle,t,this.effect.volume)}},c.resumeAll=function(){this.music&&this.switchMusic&&this.music.resume(),this.effect&&this.switchEffect&&this.effect.play()},c.pauseAll=function(){this.music&&this.switchMusic&&this.music.pause(),this.effect&&this.switchEffect&&this.effect.pause()},c.stopAll=function(){this.music&&this.music.stop(),this.effect&&this.effect.stop()},c.load=function(){if(window.cc){var i=window.cc.AudioPlayer;i&&(i.maxAudioChannel=40),n.maxAudioChannel<20?this._needLimit=!0:this._needLimit=!1,console.error(" 最大音轨数"+n.maxAudioChannel+"，是否开启数量限制"+this._needLimit+" ")}this.music=this.getComponent(f)||this.addComponent(f),this.effect=new a(this.node);var t=h.instance;this.switchMusic=t.isMusicOn,this.volumeMusic=t.musicVolume,this.switchEffect=t.isSoundOn,this.volumeEffect=t.soundVolume},c.lateUpdate=function(){var i;if(this._delayCount>0)for(var t in this._playDelay)0==(i=this._playDelay[t]-1)&&this._delayCount--,this._playDelay[t]=i<0?0:i},c.play=function(i,t){void 0===t&&(t=10);var s=o.data[i];if(s)switch(s.type){case 0:this._playMusic(i);break;case 1:t>0&&!this._needLimit&&(t=0),this._playEffect(i,t)}},s(e,[{key:"volumeMusic",get:function(){return h.instance.musicVolume},set:function(i){h.instance.musicVolume=i,this.music.volume=i}},{key:"switchMusic",get:function(){return h.instance.isMusicOn},set:function(i){h.instance.isMusicOn=i,i?this._bgmAudioId?this._playMusic(this._bgmAudioId):this.music.resume():this.music.pause()}},{key:"volumeEffect",get:function(){return h.instance.soundVolume},set:function(i){h.instance.soundVolume=i,this.effect.volume=i}},{key:"switchEffect",get:function(){return h.instance.isSoundOn},set:function(i){h.instance.isSoundOn=i,i||this.effect.stop()}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDAudioMgr3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdAudioConfig.ts","./AudioEffectEx.ts","./AudioMusic.ts","./CommonSaveData.ts"],(function(i){var t,s,e,n,u,c,o,a,f,h;return{setters:[function(i){t=i.inheritsLoose,s=i.createClass},function(i){e=i.cclegacy,n=i.AudioSource,u=i.AudioClip,c=i.Component},function(i){o=i.ZdAudioConfig},function(i){a=i.AudioEffectEx},function(i){f=i.AudioMusic},function(i){h=i.CommonSaveData}],execute:function(){e._RF.push({},"d396ff7Z+tEJpmnU6V3jnta","ZDAudioMgr3",void 0);i("ZDAudioMgr3",function(i){function e(){for(var t,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(t=i.call.apply(i,[this].concat(e))||this).music=void 0,t.effect=void 0,t._playDelay={},t._delayCount=0,t._needLimit=!1,t._bgmAudioId=void 0,t}t(e,i);var c=e.prototype;return c._playMusic=function(i){if(h.instance.isMusicOn){this._bgmAudioId=void 0;var t=o.data[i];t&&this.music.load(t.path,t.bundle)}else this._bgmAudioId=i},c.stopMusic=function(){this.music.stop()},e.getPrefabs=function(i){for(var t,s=0,e=o.dataList.length;s<e;++s)t=o.dataList[s],i.add("audio/"+t.path,t.bundle,u)},c._playEffect=function(i,t){if(h.instance.isSoundOn&&!this._playDelay[i]){this._playDelay[i]=5,this._delayCount++;var s=o.data[i];s&&this.effect.load("audio/"+s.path,s.bundle,t,this.effect.volume)}},c.resumeAll=function(){this.music&&this.switchMusic&&this.music.resume(),this.effect&&this.switchEffect&&this.effect.play()},c.pauseAll=function(){this.music&&this.switchMusic&&this.music.pause(),this.effect&&this.switchEffect&&this.effect.pause()},c.stopAll=function(){this.music&&this.music.stop(),this.effect&&this.effect.stop()},c.load=function(){if(window.cc){var i=window.cc.AudioPlayer;i&&(i.maxAudioChannel=40),n.maxAudioChannel<20?this._needLimit=!0:this._needLimit=!1,console.error(" 最大音轨数"+n.maxAudioChannel+"，是否开启数量限制"+this._needLimit+" ")}this.music=this.getComponent(f)||this.addComponent(f),this.effect=new a(this.node);var t=h.instance;this.switchMusic=t.isMusicOn,this.volumeMusic=t.musicVolume,this.switchEffect=t.isSoundOn,this.volumeEffect=t.soundVolume},c.lateUpdate=function(){var i;if(this._delayCount>0)for(var t in this._playDelay)0==(i=this._playDelay[t]-1)&&this._delayCount--,this._playDelay[t]=i<0?0:i},c.play=function(i,t){void 0===t&&(t=10);var s=o.data[i];if(s)switch(s.type){case 0:this._playMusic(i);break;case 1:t>0&&!this._needLimit&&(t=0),this._playEffect(i,t)}},s(e,[{key:"volumeMusic",get:function(){return h.instance.musicVolume},set:function(i){h.instance.musicVolume=i,this.music.volume=i}},{key:"switchMusic",get:function(){return h.instance.isMusicOn},set:function(i){h.instance.isMusicOn=i,i?this._bgmAudioId?this._playMusic(this._bgmAudioId):this.music.resume():this.music.pause()}},{key:"volumeEffect",get:function(){return h.instance.soundVolume},set:function(i){h.instance.soundVolume=i,this.effect.volume=i}},{key:"switchEffect",get:function(){return h.instance.isSoundOn},set:function(i){h.instance.isSoundOn=i,i||this.effect.stop()}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDAudioMgr4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdAudioConfig4.ts","./AudioEffectEx.ts","./AudioMusic.ts","./CommonSaveData.ts"],(function(i){var t,s,e,n,u,c,o,a,f,h;return{setters:[function(i){t=i.inheritsLoose,s=i.createClass},function(i){e=i.cclegacy,n=i.AudioSource,u=i.AudioClip,c=i.Component},function(i){o=i.ZdAudioConfig},function(i){a=i.AudioEffectEx},function(i){f=i.AudioMusic},function(i){h=i.CommonSaveData}],execute:function(){e._RF.push({},"89b23JpM71LDJV0LuZx/fBG","ZDAudioMgr4",void 0);i("ZDAudioMgr",function(i){function e(){for(var t,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(t=i.call.apply(i,[this].concat(e))||this).music=void 0,t.effect=void 0,t._playDelay={},t._delayCount=0,t._needLimit=!1,t._bgmAudioId=void 0,t}t(e,i);var c=e.prototype;return c._playMusic=function(i){if(h.instance.isMusicOn){this._bgmAudioId=void 0;var t=o.data[i];t&&this.music.load("audio/"+t.path,t.bundle)}else this._bgmAudioId=i},c.stopMusic=function(){this.music.stop()},e.getPrefabs=function(i){for(var t,s=0,e=o.dataList.length;s<e;++s)t=o.dataList[s],i.add("audio/"+t.path,t.bundle,u)},c._playEffect=function(i,t){if(h.instance.isSoundOn&&!this._playDelay[i]){this._playDelay[i]=5,this._delayCount++;var s=o.data[i];s&&this.effect.load("audio/"+s.path,s.bundle,t,this.effect.volume)}},c.resumeAll=function(){this.music&&this.switchMusic&&this.music.resume(),this.effect&&this.switchEffect&&this.effect.play()},c.pauseAll=function(){this.music&&this.switchMusic&&this.music.pause(),this.effect&&this.switchEffect&&this.effect.pause()},c.stopAll=function(){this.music&&this.music.stop(),this.effect&&this.effect.stop()},c.load=function(){if(window.cc){var i=window.cc.AudioPlayer;i&&(i.maxAudioChannel=40),n.maxAudioChannel<20?this._needLimit=!0:this._needLimit=!1,console.error(" 最大音轨数"+n.maxAudioChannel+"，是否开启数量限制"+this._needLimit+" ")}this.music=this.getComponent(f)||this.addComponent(f),this.effect=new a(this.node);var t=h.instance;this.switchMusic=t.isMusicOn,this.volumeMusic=t.musicVolume,this.switchEffect=t.isSoundOn,this.volumeEffect=t.soundVolume},c.lateUpdate=function(){var i;if(this._delayCount>0)for(var t in this._playDelay)0==(i=this._playDelay[t]-1)&&this._delayCount--,this._playDelay[t]=i<0?0:i},c.play=function(i,t){void 0===t&&(t=10);var s=o.data[i];if(s)switch(s.type){case 0:this._playMusic(i);break;case 1:t>0&&!this._needLimit&&(t=0),this._playEffect(i,t)}},s(e,[{key:"volumeMusic",get:function(){return h.instance.musicVolume},set:function(i){h.instance.musicVolume=i,this.music.volume=i}},{key:"switchMusic",get:function(){return h.instance.isMusicOn},set:function(i){h.instance.isMusicOn=i,i?this._bgmAudioId?this._playMusic(this._bgmAudioId):this.music.resume():this.music.pause()}},{key:"volumeEffect",get:function(){return h.instance.soundVolume},set:function(i){h.instance.soundVolume=i,this.effect.volume=i}},{key:"switchEffect",get:function(){return h.instance.isSoundOn},set:function(i){h.instance.isSoundOn=i,i||this.effect.stop()}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDAudioMgr5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdAudioConfig2.ts","./AudioEffectEx.ts","./AudioMusic.ts","./CommonSaveData.ts"],(function(i){var t,s,e,n,u,o,c,a,f,h;return{setters:[function(i){t=i.inheritsLoose,s=i.createClass},function(i){e=i.cclegacy,n=i.AudioSource,u=i.AudioClip,o=i.Component},function(i){c=i.ZdAudioConfig},function(i){a=i.AudioEffectEx},function(i){f=i.AudioMusic},function(i){h=i.CommonSaveData}],execute:function(){e._RF.push({},"385a9nhlBxO8ZDBVNoF0vzx","ZDAudioMgr5",void 0);i("ZDAudioMgr",function(i){function e(){for(var t,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(t=i.call.apply(i,[this].concat(e))||this).music=void 0,t.effect=void 0,t._playDelay={},t._delayCount=0,t._needLimit=!1,t._bgmAudioId=void 0,t}t(e,i);var o=e.prototype;return o._playMusic=function(i){if(h.instance.isMusicOn){this._bgmAudioId=void 0;var t=c.data[i];t&&this.music.load("audio/"+t.path,t.bundle)}else this._bgmAudioId=i},o.stopMusic=function(){this.music.stop()},e.getPrefabs=function(i){for(var t,s=0,e=c.dataList.length;s<e;++s)t=c.dataList[s],i.add("audio/"+t.path,t.bundle,u)},o._playEffect=function(i,t){if(h.instance.isSoundOn&&!this._playDelay[i]){this._playDelay[i]=5,this._delayCount++;var s=c.data[i];s&&this.effect.load("audio/"+s.path,s.bundle,t,this.effect.volume)}},o.resumeAll=function(){this.music&&this.switchMusic&&this.music.resume(),this.effect&&this.switchEffect&&this.effect.play()},o.pauseAll=function(){this.music&&this.switchMusic&&this.music.pause(),this.effect&&this.switchEffect&&this.effect.pause()},o.stopAll=function(){this.music&&this.music.stop(),this.effect&&this.effect.stop()},o.load=function(){if(window.cc){var i=window.cc.AudioPlayer;i&&(i.maxAudioChannel=40),n.maxAudioChannel<20?this._needLimit=!0:this._needLimit=!1,console.error(" 最大音轨数"+n.maxAudioChannel+"，是否开启数量限制"+this._needLimit+" ")}this.music=this.getComponent(f)||this.addComponent(f),this.effect=new a(this.node);var t=h.instance;this.switchMusic=t.isMusicOn,this.volumeMusic=t.musicVolume,this.switchEffect=t.isSoundOn,this.volumeEffect=t.soundVolume},o.lateUpdate=function(){var i;if(this._delayCount>0)for(var t in this._playDelay)0==(i=this._playDelay[t]-1)&&this._delayCount--,this._playDelay[t]=i<0?0:i},o.play=function(i,t){void 0===t&&(t=10);var s=c.data[i];if(s)switch(s.type){case 0:this._playMusic(i);break;case 1:t>0&&!this._needLimit&&(t=0),this._playEffect(i,t)}},s(e,[{key:"volumeMusic",get:function(){return h.instance.musicVolume},set:function(i){h.instance.musicVolume=i,this.music.volume=i}},{key:"switchMusic",get:function(){return h.instance.isMusicOn},set:function(i){h.instance.isMusicOn=i,i?this._bgmAudioId?this._playMusic(this._bgmAudioId):this.music.resume():this.music.pause()}},{key:"volumeEffect",get:function(){return h.instance.soundVolume},set:function(i){h.instance.soundVolume=i,this.effect.volume=i}},{key:"switchEffect",get:function(){return h.instance.isSoundOn},set:function(i){h.instance.isSoundOn=i,i||this.effect.stop()}}]),e}(o));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDAudioMgr6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdAudioConfig3.ts","./AudioEffectEx.ts","./AudioMusic.ts","./CommonSaveData.ts"],(function(i){var t,s,e,n,u,c,o,a,f,h;return{setters:[function(i){t=i.inheritsLoose,s=i.createClass},function(i){e=i.cclegacy,n=i.AudioSource,u=i.AudioClip,c=i.Component},function(i){o=i.ZdAudioConfig},function(i){a=i.AudioEffectEx},function(i){f=i.AudioMusic},function(i){h=i.CommonSaveData}],execute:function(){e._RF.push({},"90eeeOyB0FH2KSG1NQKrYxY","ZDAudioMgr6",void 0);i("ZDAudioMgr",function(i){function e(){for(var t,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(t=i.call.apply(i,[this].concat(e))||this).music=void 0,t.effect=void 0,t._playDelay={},t._delayCount=0,t._needLimit=!1,t._bgmAudioId=void 0,t}t(e,i);var c=e.prototype;return c._playMusic=function(i){if(h.instance.isMusicOn){this._bgmAudioId=void 0;var t=o.data[i];t&&this.music.load(t.path,t.bundle)}else this._bgmAudioId=i},c.stopMusic=function(){this.music.stop()},e.getPrefabs=function(i){for(var t,s=0,e=o.dataList.length;s<e;++s)t=o.dataList[s],i.add("audio/"+t.path,t.bundle,u)},c._playEffect=function(i,t){if(h.instance.isSoundOn&&!this._playDelay[i]){this._playDelay[i]=5,this._delayCount++;var s=o.data[i];s&&this.effect.load("audio/"+s.path,s.bundle,t,this.effect.volume)}},c.resumeAll=function(){this.music&&this.switchMusic&&this.music.resume(),this.effect&&this.switchEffect&&this.effect.play()},c.pauseAll=function(){this.music&&this.switchMusic&&this.music.pause(),this.effect&&this.switchEffect&&this.effect.pause()},c.stopAll=function(){this.music&&this.music.stop(),this.effect&&this.effect.stop()},c.load=function(){if(window.cc){var i=window.cc.AudioPlayer;i&&(i.maxAudioChannel=40),n.maxAudioChannel<20?this._needLimit=!0:this._needLimit=!1,console.error(" 最大音轨数"+n.maxAudioChannel+"，是否开启数量限制"+this._needLimit+" ")}this.music=this.getComponent(f)||this.addComponent(f),this.effect=new a(this.node);var t=h.instance;this.switchMusic=t.isMusicOn,this.volumeMusic=t.musicVolume,this.switchEffect=t.isSoundOn,this.volumeEffect=t.soundVolume},c.lateUpdate=function(){var i;if(this._delayCount>0)for(var t in this._playDelay)0==(i=this._playDelay[t]-1)&&this._delayCount--,this._playDelay[t]=i<0?0:i},c.play=function(i,t){void 0===t&&(t=10);var s=o.data[i];if(s)switch(s.type){case 0:this._playMusic(i);break;case 1:t>0&&!this._needLimit&&(t=0),this._playEffect(i,t)}},s(e,[{key:"volumeMusic",get:function(){return h.instance.musicVolume},set:function(i){h.instance.musicVolume=i,this.music.volume=i}},{key:"switchMusic",get:function(){return h.instance.isMusicOn},set:function(i){h.instance.isMusicOn=i,i?this._bgmAudioId?this._playMusic(this._bgmAudioId):this.music.resume():this.music.pause()}},{key:"volumeEffect",get:function(){return h.instance.soundVolume},set:function(i){h.instance.soundVolume=i,this.effect.volume=i}},{key:"switchEffect",get:function(){return h.instance.isSoundOn},set:function(i){h.instance.isSoundOn=i,i||this.effect.stop()}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBarrierConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdBarrierConfig",void 0),t._RF.push({},"14575Fs4lxHx4Ao+rgZmWz2","ZdBarrierConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.hp=void 0,this.break_move=void 0,this.hit_effect=void 0,this.hit_audio=void 0,this.drop_stage=void 0,this.drop_items=void 0};i.isConst=!1,i.path="config/ZdBarrierConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdBarrierConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBarrierConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdBarrierConfig",void 0),t._RF.push({},"22244ulGWlHxoqa91ICRfkJ","ZdBarrierConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.hp=void 0,this.break_move=void 0,this.hit_effect=void 0,this.hit_audio=void 0,this.drop_stage=void 0,this.drop_items=void 0};i.isConst=!1,i.path="config/ZdBarrierConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdBarrierConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBarrierConfig3.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdBarrierConfig",void 0),t._RF.push({},"44ebcHk9iZFy5tMYRnb+/1C","ZdBarrierConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.hp=void 0,this.break_move=void 0,this.hit_effect=void 0,this.hit_audio=void 0,this.drop_stage=void 0,this.drop_items=void 0};i.isConst=!1,i.path="config/ZdBarrierConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdBarrierConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBarrierConfig4.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdBarrierConfig",void 0),t._RF.push({},"96bda8nPYxH9KzDke5knz9L","ZdBarrierConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.hp=void 0,this.break_move=void 0,this.hit_effect=void 0,this.hit_audio=void 0,this.drop_stage=void 0,this.drop_items=void 0};i.isConst=!1,i.path="config/ZdBarrierConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdBarrierConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBarrierConfig5.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdBarrierConfig",void 0),t._RF.push({},"cbec0xbS0ZLzq4WeT7y7xkU","ZdBarrierConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.hp=void 0,this.break_move=void 0,this.hit_effect=void 0,this.hit_audio=void 0,this.drop_stage=void 0,this.drop_items=void 0};i.isConst=!1,i.path="config/ZdBarrierConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdBarrierConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDBattleLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,l,a,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,a=e._decorator,p=e.Node,u=e.Component}],execute:function(){var s,y,b,c,R,_,f,g,m,d,h,w,v,z,k,N,D,L,B,Z,S,T,x,I,C,F,P;l._RF.push({},"b7a37zTl75O8ZGJS5TT2DQ1","ZDBattleLayer",void 0);var j=a.ccclass,A=a.property;e("ZDBattleLayer",(s=j("ZDBattleLayer"),y=A({type:p,displayName:"阴影节点",visible:!0}),b=A({type:p,displayName:"角色节点",visible:!0}),c=A({type:p,displayName:"道具节点",visible:!0}),R=A({type:p,displayName:"武器节点",visible:!0}),_=A({type:p,displayName:"特效节点",visible:!0}),f=A({type:p,displayName:"怪物节点",visible:!0}),g=A({type:p,displayName:"障碍物节点",visible:!0}),m=A({type:p,displayName:"树节点",visible:!0}),d=A({type:p,displayName:"树掉落节点",visible:!0}),h=A({type:p,displayName:"塔节点",visible:!0}),w=A({type:p,displayName:"子弹节点",visible:!0}),v=A({type:p,displayName:"草节点",visible:!0}),s((N=t((k=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"_shadowRoot",N,r(t)),i(t,"_roleRoot",D,r(t)),i(t,"_propRoot",L,r(t)),i(t,"_weaponRoot",B,r(t)),i(t,"_effectRoot",Z,r(t)),i(t,"_monsterRoot",S,r(t)),i(t,"_barrierRoot",T,r(t)),i(t,"_treeRoot",x,r(t)),i(t,"_treeDropRoot",I,r(t)),i(t,"_towerRoot",C,r(t)),i(t,"_bulletRoot",F,r(t)),i(t,"_grassRoot",P,r(t)),t}return o(t,e),t.prototype.logicUpdate=function(e){this._roleRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._roleRoot._updateSiblingIndex(),this._monsterRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._monsterRoot._updateSiblingIndex()},n(t,[{key:"roleRoot",get:function(){return this._roleRoot}},{key:"propRoot",get:function(){return this._propRoot}},{key:"weaponRoot",get:function(){return this._weaponRoot}},{key:"effectRoot",get:function(){return this._effectRoot}},{key:"monsterRoot",get:function(){return this._monsterRoot}},{key:"shadowRoot",get:function(){return this._shadowRoot}},{key:"barrierRoot",get:function(){return this._barrierRoot}},{key:"treeRoot",get:function(){return this._treeRoot}},{key:"treeDropRoot",get:function(){return this._treeDropRoot}},{key:"towerRoot",get:function(){return this._towerRoot}},{key:"bulletRoot",get:function(){return this._bulletRoot}},{key:"grassRoot",get:function(){return this._grassRoot}}]),t}(u)).prototype,"_shadowRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(k.prototype,"_roleRoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(k.prototype,"_propRoot",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(k.prototype,"_weaponRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(k.prototype,"_effectRoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(k.prototype,"_monsterRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(k.prototype,"_barrierRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"_treeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(k.prototype,"_treeDropRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(k.prototype,"_towerRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"_bulletRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(k.prototype,"_grassRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=k))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZDBattleLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,l,a,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,a=e._decorator,u=e.Node,p=e.Component}],execute:function(){var s,y,b,c,R,_,f,m,g,h,d,w,v,k,z,N,D,L,B,Z,x,I,S,j,C,F,P,T,Y,A,G,H,J;l._RF.push({},"696a8ijhTpGmYOYclrKJek8","ZDBattleLayer3",void 0);var K=a.ccclass,M=a.property;e("ZDBattleLayer3",(s=K("ZDBattleLayer3"),y=M({type:u,displayName:"阴影节点",visible:!0}),b=M({type:u,displayName:"角色节点",visible:!0}),c=M({type:u,displayName:"道具节点",visible:!0}),R=M({type:u,displayName:"武器节点",visible:!0}),_=M({type:u,displayName:"特效节点",visible:!0}),f=M({type:u,displayName:"怪物节点",visible:!0}),m=M({type:u,displayName:"障碍物节点",visible:!0}),g=M({type:u,displayName:"树节点",visible:!0}),h=M({type:u,displayName:"树掉落节点",visible:!0}),d=M({type:u,displayName:"塔节点",visible:!0}),w=M({type:u,displayName:"子弹节点",visible:!0}),v=M({type:u,displayName:"草节点",visible:!0}),k=M({type:u,displayName:"血条节点",visible:!0}),z=M({type:u,displayName:"刀的数量节点",visible:!0}),N=M({type:u,displayName:"名称节点",visible:!0}),s((B=t((L=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"_shadowRoot",B,r(t)),i(t,"_roleRoot",Z,r(t)),i(t,"_propRoot",x,r(t)),i(t,"_weaponRoot",I,r(t)),i(t,"_effectRoot",S,r(t)),i(t,"_monsterRoot",j,r(t)),i(t,"_barrierRoot",C,r(t)),i(t,"_treeRoot",F,r(t)),i(t,"_treeDropRoot",P,r(t)),i(t,"_towerRoot",T,r(t)),i(t,"_bulletRoot",Y,r(t)),i(t,"_grassRoot",A,r(t)),i(t,"_hpRoot",G,r(t)),i(t,"_countRoot",H,r(t)),i(t,"_nameRoot",J,r(t)),t}return o(t,e),t.prototype.logicUpdate=function(e){this._roleRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._roleRoot._updateSiblingIndex(),this._monsterRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._monsterRoot._updateSiblingIndex()},n(t,[{key:"roleRoot",get:function(){return this._roleRoot}},{key:"propRoot",get:function(){return this._propRoot}},{key:"weaponRoot",get:function(){return this._weaponRoot}},{key:"effectRoot",get:function(){return this._effectRoot}},{key:"monsterRoot",get:function(){return this._monsterRoot}},{key:"shadowRoot",get:function(){return this._shadowRoot}},{key:"barrierRoot",get:function(){return this._barrierRoot}},{key:"treeRoot",get:function(){return this._treeRoot}},{key:"treeDropRoot",get:function(){return this._treeDropRoot}},{key:"towerRoot",get:function(){return this._towerRoot}},{key:"bulletRoot",get:function(){return this._bulletRoot}},{key:"grassRoot",get:function(){return this._grassRoot}},{key:"hpRoot",get:function(){return this._hpRoot}},{key:"countRoot",get:function(){return this._countRoot}},{key:"nameRoot",get:function(){return this._nameRoot}}]),t}(p)).prototype,"_shadowRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(L.prototype,"_roleRoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(L.prototype,"_propRoot",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(L.prototype,"_weaponRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(L.prototype,"_effectRoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(L.prototype,"_monsterRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(L.prototype,"_barrierRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(L.prototype,"_treeRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(L.prototype,"_treeDropRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(L.prototype,"_towerRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(L.prototype,"_bulletRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(L.prototype,"_grassRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(L.prototype,"_hpRoot",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(L.prototype,"_countRoot",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(L.prototype,"_nameRoot",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=L))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZDBattleLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,l,a,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,a=e._decorator,p=e.Node,u=e.Component}],execute:function(){var s,y,b,c,R,_,f,g,m,d,h,w,v,z,k,N,D,L,B,C,S,Z,x,F,I,M,U;l._RF.push({},"160f7S1FE9MDY6UU2Cz5CMY","ZDBattleLayer4",void 0);var P=a.ccclass,Y=a.property;e("ZDBattleLayer4",(s=P("ZDBattleLayer4"),y=Y({type:p,displayName:"阴影节点",visible:!0}),b=Y({type:p,displayName:"角色节点",visible:!0}),c=Y({type:p,displayName:"道具节点",visible:!0}),R=Y({type:p,displayName:"武器节点",visible:!0}),_=Y({type:p,displayName:"特效节点",visible:!0}),f=Y({type:p,displayName:"怪物节点",visible:!0}),g=Y({type:p,displayName:"障碍物节点",visible:!0}),m=Y({type:p,displayName:"树节点",visible:!0}),d=Y({type:p,displayName:"树掉落节点",visible:!0}),h=Y({type:p,displayName:"塔节点",visible:!0}),w=Y({type:p,displayName:"子弹节点",visible:!0}),v=Y({type:p,displayName:"草节点",visible:!0}),s((N=t((k=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"_shadowRoot",N,r(t)),i(t,"_roleRoot",D,r(t)),i(t,"_propRoot",L,r(t)),i(t,"_weaponRoot",B,r(t)),i(t,"_effectRoot",C,r(t)),i(t,"_monsterRoot",S,r(t)),i(t,"_barrierRoot",Z,r(t)),i(t,"_treeRoot",x,r(t)),i(t,"_treeDropRoot",F,r(t)),i(t,"_towerRoot",I,r(t)),i(t,"_bulletRoot",M,r(t)),i(t,"_grassRoot",U,r(t)),t}return o(t,e),t.prototype.logicUpdate=function(e){this._roleRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._roleRoot._updateSiblingIndex(),this._monsterRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._monsterRoot._updateSiblingIndex()},n(t,[{key:"roleRoot",get:function(){return this._roleRoot}},{key:"propRoot",get:function(){return this._propRoot}},{key:"weaponRoot",get:function(){return this._weaponRoot}},{key:"effectRoot",get:function(){return this._effectRoot}},{key:"monsterRoot",get:function(){return this._monsterRoot}},{key:"shadowRoot",get:function(){return this._shadowRoot}},{key:"barrierRoot",get:function(){return this._barrierRoot}},{key:"treeRoot",get:function(){return this._treeRoot}},{key:"treeDropRoot",get:function(){return this._treeDropRoot}},{key:"towerRoot",get:function(){return this._towerRoot}},{key:"bulletRoot",get:function(){return this._bulletRoot}},{key:"grassRoot",get:function(){return this._grassRoot}}]),t}(u)).prototype,"_shadowRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(k.prototype,"_roleRoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(k.prototype,"_propRoot",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(k.prototype,"_weaponRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(k.prototype,"_effectRoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(k.prototype,"_monsterRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(k.prototype,"_barrierRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"_treeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"_treeDropRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(k.prototype,"_towerRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(k.prototype,"_bulletRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"_grassRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=k))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZDBattleLayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,l,a,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,a=e._decorator,p=e.Node,u=e.Component}],execute:function(){var s,y,b,c,R,_,f,g,m,d,h,w,v,z,k,N,D,L,B,Z,x,F,I,P,S,C,U;l._RF.push({},"a454anB3fRE2K6bmVPUFL0c","ZDBattleLayer5",void 0);var j=a.ccclass,A=a.property;e("ZDBattleLayer5",(s=j("ZDBattleLayer5"),y=A({type:p,displayName:"阴影节点",visible:!0}),b=A({type:p,displayName:"角色节点",visible:!0}),c=A({type:p,displayName:"道具节点",visible:!0}),R=A({type:p,displayName:"武器节点",visible:!0}),_=A({type:p,displayName:"特效节点",visible:!0}),f=A({type:p,displayName:"怪物节点",visible:!0}),g=A({type:p,displayName:"障碍物节点",visible:!0}),m=A({type:p,displayName:"树节点",visible:!0}),d=A({type:p,displayName:"树掉落节点",visible:!0}),h=A({type:p,displayName:"塔节点",visible:!0}),w=A({type:p,displayName:"子弹节点",visible:!0}),v=A({type:p,displayName:"草节点",visible:!0}),s((N=t((k=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"_shadowRoot",N,r(t)),i(t,"_roleRoot",D,r(t)),i(t,"_propRoot",L,r(t)),i(t,"_weaponRoot",B,r(t)),i(t,"_effectRoot",Z,r(t)),i(t,"_monsterRoot",x,r(t)),i(t,"_barrierRoot",F,r(t)),i(t,"_treeRoot",I,r(t)),i(t,"_treeDropRoot",P,r(t)),i(t,"_towerRoot",S,r(t)),i(t,"_bulletRoot",C,r(t)),i(t,"_grassRoot",U,r(t)),t}return o(t,e),t.prototype.logicUpdate=function(e){this._roleRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._roleRoot._updateSiblingIndex(),this._monsterRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._monsterRoot._updateSiblingIndex()},n(t,[{key:"roleRoot",get:function(){return this._roleRoot}},{key:"propRoot",get:function(){return this._propRoot}},{key:"weaponRoot",get:function(){return this._weaponRoot}},{key:"effectRoot",get:function(){return this._effectRoot}},{key:"monsterRoot",get:function(){return this._monsterRoot}},{key:"shadowRoot",get:function(){return this._shadowRoot}},{key:"barrierRoot",get:function(){return this._barrierRoot}},{key:"treeRoot",get:function(){return this._treeRoot}},{key:"treeDropRoot",get:function(){return this._treeDropRoot}},{key:"towerRoot",get:function(){return this._towerRoot}},{key:"bulletRoot",get:function(){return this._bulletRoot}},{key:"grassRoot",get:function(){return this._grassRoot}}]),t}(u)).prototype,"_shadowRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(k.prototype,"_roleRoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(k.prototype,"_propRoot",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(k.prototype,"_weaponRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(k.prototype,"_effectRoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"_monsterRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"_barrierRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(k.prototype,"_treeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(k.prototype,"_treeDropRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(k.prototype,"_towerRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(k.prototype,"_bulletRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"_grassRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=k))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZDBattleLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,l,a,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,a=e._decorator,p=e.Node,u=e.Component}],execute:function(){var s,y,b,c,R,_,f,g,m,d,h,w,v,k,z,N,D,L,B,Z,x,I,S,j,A,C,F;l._RF.push({},"30a95ka2nJG7qg4WvYcAGej","ZDBattleLayer6",void 0);var G=a.ccclass,P=a.property;e("ZDBattleLayer6",(s=G("ZDBattleLayer6"),y=P({type:p,displayName:"阴影节点",visible:!0}),b=P({type:p,displayName:"角色节点",visible:!0}),c=P({type:p,displayName:"道具节点",visible:!0}),R=P({type:p,displayName:"武器节点",visible:!0}),_=P({type:p,displayName:"特效节点",visible:!0}),f=P({type:p,displayName:"怪物节点",visible:!0}),g=P({type:p,displayName:"障碍物节点",visible:!0}),m=P({type:p,displayName:"树节点",visible:!0}),d=P({type:p,displayName:"树掉落节点",visible:!0}),h=P({type:p,displayName:"塔节点",visible:!0}),w=P({type:p,displayName:"子弹节点",visible:!0}),v=P({type:p,displayName:"草节点",visible:!0}),s((N=t((z=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"_shadowRoot",N,r(t)),i(t,"_roleRoot",D,r(t)),i(t,"_propRoot",L,r(t)),i(t,"_weaponRoot",B,r(t)),i(t,"_effectRoot",Z,r(t)),i(t,"_monsterRoot",x,r(t)),i(t,"_barrierRoot",I,r(t)),i(t,"_treeRoot",S,r(t)),i(t,"_treeDropRoot",j,r(t)),i(t,"_towerRoot",A,r(t)),i(t,"_bulletRoot",C,r(t)),i(t,"_grassRoot",F,r(t)),t}return o(t,e),t.prototype.logicUpdate=function(e){this._roleRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._roleRoot._updateSiblingIndex(),this._monsterRoot.children.sort((function(e,t){return t.position.y-e.position.y})),this._monsterRoot._updateSiblingIndex()},n(t,[{key:"roleRoot",get:function(){return this._roleRoot}},{key:"propRoot",get:function(){return this._propRoot}},{key:"weaponRoot",get:function(){return this._weaponRoot}},{key:"effectRoot",get:function(){return this._effectRoot}},{key:"monsterRoot",get:function(){return this._monsterRoot}},{key:"shadowRoot",get:function(){return this._shadowRoot}},{key:"barrierRoot",get:function(){return this._barrierRoot}},{key:"treeRoot",get:function(){return this._treeRoot}},{key:"treeDropRoot",get:function(){return this._treeDropRoot}},{key:"towerRoot",get:function(){return this._towerRoot}},{key:"bulletRoot",get:function(){return this._bulletRoot}},{key:"grassRoot",get:function(){return this._grassRoot}}]),t}(u)).prototype,"_shadowRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(z.prototype,"_roleRoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(z.prototype,"_propRoot",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(z.prototype,"_weaponRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(z.prototype,"_effectRoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(z.prototype,"_monsterRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(z.prototype,"_barrierRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(z.prototype,"_treeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(z.prototype,"_treeDropRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(z.prototype,"_towerRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(z.prototype,"_bulletRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(z.prototype,"_grassRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBuffConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var f;i("ZdBuffConfig",void 0),t._RF.push({},"f9668QaAO5AgpHZk3S0u6Sl","ZdBuffConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.time=void 0,this.interval=void 0,this.effView=void 0,this.type=void 0,this.value1=void 0};i.isConst=!1,i.path="config/ZdBuffConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(f||(f=i("ZdBuffConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBulletConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("ZdBulletConfig",void 0),i._RF.push({},"26694hIbYNKGpDpseMXIvTX","ZdBulletConfig",void 0),function(t){t.config=function(){this.id=void 0,this.model=void 0,this.move_speed=void 0,this.type=void 0,this.params=void 0,this.atk_monster=void 0,this.atk_ai_hero=void 0,this.atk_main_hero=void 0};t.isConst=!1,t.path="config/ZdBulletConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("ZdBulletConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBulletConfig2.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("ZdBulletConfig",void 0),i._RF.push({},"8cd0ahDsf9HgLROjPuJZj3e","ZdBulletConfig",void 0),function(t){t.config=function(){this.id=void 0,this.model=void 0,this.move_speed=void 0,this.type=void 0,this.params=void 0,this.atk_monster=void 0,this.atk_ai_hero=void 0,this.atk_main_hero=void 0};t.isConst=!1,t.path="config/ZdBulletConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("ZdBulletConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBulletConfig3.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("ZdBulletConfig",void 0),i._RF.push({},"8d61b2rPCdGWYMVf37bq9ra","ZdBulletConfig",void 0),function(t){t.config=function(){this.id=void 0,this.model=void 0,this.move_speed=void 0,this.type=void 0,this.params=void 0,this.atk_monster=void 0,this.atk_ai_hero=void 0,this.atk_main_hero=void 0};t.isConst=!1,t.path="config/ZdBulletConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("ZdBulletConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBulletConfig4.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("ZdBulletConfig",void 0),i._RF.push({},"bb41f206TJJO4lEnY2d4JmS","ZdBulletConfig",void 0),function(t){t.config=function(){this.id=void 0,this.model=void 0,this.move_speed=void 0,this.type=void 0,this.params=void 0,this.atk_monster=void 0,this.atk_ai_hero=void 0,this.atk_main_hero=void 0};t.isConst=!1,t.path="config/ZdBulletConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("ZdBulletConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdBulletConfig5.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("ZdBulletConfig",void 0),i._RF.push({},"cf3b7xxkepMxaeJzZvWGHk+","ZdBulletConfig",void 0),function(t){t.config=function(){this.id=void 0,this.model=void 0,this.move_speed=void 0,this.type=void 0,this.params=void 0};t.isConst=!1,t.path="config/ZdBulletConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("ZdBulletConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConfigItemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,p,u,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,p=e._decorator,u=e.ccenum,s=e.CCInteger,l=e.Component}],execute:function(){var y,c,f,m,_,b,g,w,h,T,d,v,I,C,z,k,H,N,M,S,D,P,B;o._RF.push({},"c486cYiJpRNf6Wwy/V4CAaK","ZDConfigItemCmp",void 0);var A=p.ccclass,Z=p.property,R=e("EConfigItemType",function(e){return e[e.MainHero=0]="MainHero",e[e.Hero=1]="Hero",e[e.Prop=2]="Prop",e[e.Transfer=3]="Transfer",e[e.Monster=4]="Monster",e[e.Barrier=5]="Barrier",e[e.CutTreeTree=6]="CutTreeTree",e[e.Shop=7]="Shop",e[e.Tower=8]="Tower",e[e.Grass=9]="Grass",e[e.Spawn=10]="Spawn",e}({}));u(R);e("ZDConfigItemCmp",(y=A("ZDConfigItemCmp"),c=Z({type:R,displayName:"类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:!0}),f=Z({type:s,displayName:"配置ID",visible:!0}),m=Z({type:s,displayName:"样式",visible:function(){return this._type==R.Transfer}}),_=Z({type:s,displayName:"血量",visible:function(){return this._type==R.CutTreeTree}}),b=Z({type:s,displayName:"移动类型",tooltip:"0: 默认（兼容以前）1.随机 2.追逐主角",visible:function(){return this._type==R.Monster}}),g=Z({type:R,displayName:"产出类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:function(){return this._type==R.Spawn}}),w=Z({type:s,displayName:"时间(毫秒)",visible:function(){return this._type==R.Spawn}}),h=Z({type:s,displayName:"产出ID",visible:function(){return this._type==R.Spawn}}),T=Z({type:s,displayName:"参数1",visible:function(){return this._type==R.Spawn}}),d=Z({type:s,displayName:"参数2",visible:function(){return this._type==R.Spawn}}),y((C=t((I=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_type",C,i(t)),n(t,"_configId",z,i(t)),n(t,"_style",k,i(t)),n(t,"_hp",H,i(t)),n(t,"_moveType",N,i(t)),n(t,"_spawnType",M,i(t)),n(t,"_spawnTime",S,i(t)),n(t,"_spawnId",D,i(t)),n(t,"_param1",P,i(t)),n(t,"_param2",B,i(t)),t}return r(t,e),a(t,[{key:"type",get:function(){return this._type}},{key:"configId",get:function(){return this._configId}},{key:"style",get:function(){return this._style}},{key:"hp",get:function(){return this._hp}},{key:"moveType",get:function(){return this._moveType}},{key:"spawnType",get:function(){return this._spawnType}},{key:"spawnTime",get:function(){return this._spawnTime}},{key:"spawnId",get:function(){return this._spawnId}},{key:"param1",get:function(){return this._param1}},{key:"param2",get:function(){return this._param2}}]),t}(l)).prototype,"_type",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.Hero}}),z=t(I.prototype,"_configId",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=t(I.prototype,"_style",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=t(I.prototype,"_hp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=t(I.prototype,"_moveType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(I.prototype,"_spawnType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.Hero}}),S=t(I.prototype,"_spawnTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),D=t(I.prototype,"_spawnId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=t(I.prototype,"_param1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(I.prototype,"_param2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=I))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConfigItemCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,p,u,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,p=e._decorator,u=e.ccenum,s=e.CCInteger,l=e.Component}],execute:function(){var y,c,f,m,b,_,g,w,h,T,d,v,I,C,z,k,H,M,N,S,D,B,P;o._RF.push({},"809eewaZmFB5avqRbplbzdo","ZDConfigItemCmp3",void 0);var Z=p.ccclass,A=p.property,F=e("EConfigItemType",function(e){return e[e.MainHero=0]="MainHero",e[e.Hero=1]="Hero",e[e.Prop=2]="Prop",e[e.Transfer=3]="Transfer",e[e.Monster=4]="Monster",e[e.Barrier=5]="Barrier",e[e.CutTreeTree=6]="CutTreeTree",e[e.Shop=7]="Shop",e[e.Tower=8]="Tower",e[e.Grass=9]="Grass",e[e.Spawn=10]="Spawn",e}({}));u(F);e("ZDConfigItemCmp3",(y=Z("ZDConfigItemCmp3"),c=A({type:F,displayName:"类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:!0}),f=A({type:s,displayName:"配置ID",visible:!0}),m=A({type:s,displayName:"样式",visible:function(){return this._type==F.Transfer}}),b=A({type:s,displayName:"血量",visible:function(){return this._type==F.CutTreeTree}}),_=A({type:s,displayName:"移动类型",tooltip:"0: 默认（兼容以前）1.随机 2.追逐主角",visible:function(){return this._type==F.Monster}}),g=A({type:F,displayName:"产出类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:function(){return this._type==F.Spawn}}),w=A({type:s,displayName:"时间(毫秒)",visible:function(){return this._type==F.Spawn}}),h=A({type:s,displayName:"产出ID",visible:function(){return this._type==F.Spawn}}),T=A({type:s,displayName:"参数1",visible:function(){return this._type==F.Spawn}}),d=A({type:s,displayName:"参数2",visible:function(){return this._type==F.Spawn}}),y((C=t((I=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_type",C,i(t)),n(t,"_configId",z,i(t)),n(t,"_style",k,i(t)),n(t,"_hp",H,i(t)),n(t,"_moveType",M,i(t)),n(t,"_spawnType",N,i(t)),n(t,"_spawnTime",S,i(t)),n(t,"_spawnId",D,i(t)),n(t,"_param1",B,i(t)),n(t,"_param2",P,i(t)),t}return r(t,e),a(t,[{key:"type",get:function(){return this._type}},{key:"configId",get:function(){return this._configId}},{key:"style",get:function(){return this._style}},{key:"hp",get:function(){return this._hp}},{key:"moveType",get:function(){return this._moveType}},{key:"spawnType",get:function(){return this._spawnType}},{key:"spawnTime",get:function(){return this._spawnTime}},{key:"spawnId",get:function(){return this._spawnId}},{key:"param1",get:function(){return this._param1}},{key:"param2",get:function(){return this._param2}}]),t}(l)).prototype,"_type",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Hero}}),z=t(I.prototype,"_configId",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=t(I.prototype,"_style",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=t(I.prototype,"_hp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=t(I.prototype,"_moveType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=t(I.prototype,"_spawnType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Hero}}),S=t(I.prototype,"_spawnTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),D=t(I.prototype,"_spawnId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=t(I.prototype,"_param1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(I.prototype,"_param2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=I))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConfigItemCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,p,u,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,p=e._decorator,u=e.ccenum,s=e.CCInteger,l=e.Component}],execute:function(){var y,c,f,m,_,b,g,w,h,T,d,v,I,C,z,k,H,S,D,M,N,P,B;o._RF.push({},"d781fr3ylVDwLhv77uOqfFS","ZDConfigItemCmp4",void 0);var Z=p.ccclass,A=p.property,F=e("EConfigItemType",function(e){return e[e.MainHero=0]="MainHero",e[e.Hero=1]="Hero",e[e.Prop=2]="Prop",e[e.Transfer=3]="Transfer",e[e.Monster=4]="Monster",e[e.Barrier=5]="Barrier",e[e.CutTreeTree=6]="CutTreeTree",e[e.Shop=7]="Shop",e[e.Tower=8]="Tower",e[e.Grass=9]="Grass",e[e.Spawn=10]="Spawn",e}({}));u(F);e("ZDConfigItemCmp4",(y=Z("ZDConfigItemCmp4"),c=A({type:F,displayName:"类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:!0}),f=A({type:s,displayName:"配置ID",visible:!0}),m=A({type:s,displayName:"样式",visible:function(){return this._type==F.Transfer}}),_=A({type:s,displayName:"血量",visible:function(){return this._type==F.CutTreeTree}}),b=A({type:s,displayName:"移动类型",tooltip:"0: 默认（兼容以前）1.随机 2.追逐主角",visible:function(){return this._type==F.Monster}}),g=A({type:F,displayName:"产出类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:function(){return this._type==F.Spawn}}),w=A({type:s,displayName:"时间(毫秒)",visible:function(){return this._type==F.Spawn}}),h=A({type:s,displayName:"产出ID",visible:function(){return this._type==F.Spawn}}),T=A({type:s,displayName:"参数1",visible:function(){return this._type==F.Spawn}}),d=A({type:s,displayName:"参数2",visible:function(){return this._type==F.Spawn}}),y((C=t((I=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_type",C,i(t)),n(t,"_configId",z,i(t)),n(t,"_style",k,i(t)),n(t,"_hp",H,i(t)),n(t,"_moveType",S,i(t)),n(t,"_spawnType",D,i(t)),n(t,"_spawnTime",M,i(t)),n(t,"_spawnId",N,i(t)),n(t,"_param1",P,i(t)),n(t,"_param2",B,i(t)),t}return r(t,e),a(t,[{key:"type",get:function(){return this._type}},{key:"configId",get:function(){return this._configId}},{key:"style",get:function(){return this._style}},{key:"hp",get:function(){return this._hp}},{key:"moveType",get:function(){return this._moveType}},{key:"spawnType",get:function(){return this._spawnType}},{key:"spawnTime",get:function(){return this._spawnTime}},{key:"spawnId",get:function(){return this._spawnId}},{key:"param1",get:function(){return this._param1}},{key:"param2",get:function(){return this._param2}}]),t}(l)).prototype,"_type",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Hero}}),z=t(I.prototype,"_configId",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=t(I.prototype,"_style",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=t(I.prototype,"_hp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(I.prototype,"_moveType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(I.prototype,"_spawnType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Hero}}),M=t(I.prototype,"_spawnTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),N=t(I.prototype,"_spawnId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=t(I.prototype,"_param1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(I.prototype,"_param2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=I))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConfigItemCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,a,p,u,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,p=e._decorator,u=e.ccenum,s=e.CCInteger,l=e.Component}],execute:function(){var y,c,f,m,_,b,g,w,h,T,d,v,I,C,k,z,D,H,N,M,S,P,B,Z,L;a._RF.push({},"001e4ejf7hH1ZL/khWoLF89","ZDConfigItemCmp5",void 0);var U=p.ccclass,A=p.property,F=e("EConfigItemType",function(e){return e[e.MainHero=0]="MainHero",e[e.Hero=1]="Hero",e[e.Prop=2]="Prop",e[e.Transfer=3]="Transfer",e[e.Monster=4]="Monster",e[e.Barrier=5]="Barrier",e[e.CutTreeTree=6]="CutTreeTree",e[e.Shop=7]="Shop",e[e.Tower=8]="Tower",e[e.Grass=9]="Grass",e[e.Spawn=10]="Spawn",e}({})),j=e("ETreeType",function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e}({}));u(j),u(F);e("ZDConfigItemCmp5",(y=U("ZDConfigItemCmp5"),c=A({type:F,displayName:"类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:!0}),f=A({type:j,displayName:"树位置",tooltip:"Up:上面的树 Down:下面的树",visible:function(){return this._type==F.CutTreeTree}}),m=A({type:s,displayName:"配置ID",visible:!0}),_=A({type:s,displayName:"样式",visible:function(){return this._type==F.Transfer}}),b=A({type:s,displayName:"血量",visible:function(){return this._type==F.CutTreeTree}}),g=A({type:s,displayName:"移动类型",tooltip:"0: 默认（兼容以前）1.随机 2.追逐主角",visible:function(){return this._type==F.Monster}}),w=A({type:F,displayName:"产出类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:function(){return this._type==F.Spawn}}),h=A({type:s,displayName:"时间(毫秒)",visible:function(){return this._type==F.Spawn}}),T=A({type:s,displayName:"产出ID",visible:function(){return this._type==F.Spawn}}),d=A({type:s,displayName:"参数1",visible:function(){return this._type==F.Spawn}}),v=A({type:s,displayName:"参数2",visible:function(){return this._type==F.Spawn}}),y((k=t((C=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_type",k,i(t)),n(t,"_treeType",z,i(t)),n(t,"_configId",D,i(t)),n(t,"_style",H,i(t)),n(t,"_hp",N,i(t)),n(t,"_moveType",M,i(t)),n(t,"_spawnType",S,i(t)),n(t,"_spawnTime",P,i(t)),n(t,"_spawnId",B,i(t)),n(t,"_param1",Z,i(t)),n(t,"_param2",L,i(t)),t}return r(t,e),o(t,[{key:"type",get:function(){return this._type}},{key:"treeType",get:function(){return this._treeType}},{key:"configId",get:function(){return this._configId}},{key:"style",get:function(){return this._style}},{key:"hp",get:function(){return this._hp}},{key:"moveType",get:function(){return this._moveType}},{key:"spawnType",get:function(){return this._spawnType}},{key:"spawnTime",get:function(){return this._spawnTime}},{key:"spawnId",get:function(){return this._spawnId}},{key:"param1",get:function(){return this._param1}},{key:"param2",get:function(){return this._param2}}]),t}(l)).prototype,"_type",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Hero}}),z=t(C.prototype,"_treeType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.Up}}),D=t(C.prototype,"_configId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=t(C.prototype,"_style",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=t(C.prototype,"_hp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=t(C.prototype,"_moveType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=t(C.prototype,"_spawnType",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Hero}}),P=t(C.prototype,"_spawnTime",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),B=t(C.prototype,"_spawnId",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=t(C.prototype,"_param1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(C.prototype,"_param2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=C))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConfigItemCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,p,u,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,p=e._decorator,u=e.ccenum,s=e.CCInteger,l=e.Component}],execute:function(){var y,c,f,m,b,_,g,w,h,T,d,v,I,C,z,M,k,H,S,D,N,A,B;o._RF.push({},"d9595SF6QpAcbf7EjA+bKDB","ZDConfigItemCmp6",void 0);var P=p.ccclass,Z=p.property,F=e("EConfigItemType",function(e){return e[e.MainHero=0]="MainHero",e[e.Hero=1]="Hero",e[e.Prop=2]="Prop",e[e.Transfer=3]="Transfer",e[e.Monster=4]="Monster",e[e.Barrier=5]="Barrier",e[e.CutTreeTree=6]="CutTreeTree",e[e.Shop=7]="Shop",e[e.Tower=8]="Tower",e[e.Grass=9]="Grass",e[e.Spawn=10]="Spawn",e[e.Cola=11]="Cola",e[e.MonsterArea=12]="MonsterArea",e}({}));u(F);e("ZDConfigItemCmp6",(y=P("ZDConfigItemCmp6"),c=Z({type:F,displayName:"类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物 cola:可乐",visible:!0}),f=Z({type:s,displayName:"配置ID",visible:!0}),m=Z({type:s,displayName:"样式",visible:function(){return this._type==F.Transfer}}),b=Z({type:s,displayName:"血量",visible:function(){return this._type==F.CutTreeTree}}),_=Z({type:s,displayName:"移动类型",tooltip:"0: 默认（兼容以前）1.随机 2.追逐主角 3.竖屏滚动",visible:function(){return this._type==F.Monster}}),g=Z({type:F,displayName:"产出类型",tooltip:"MainHero:主角 Hero:AI英雄 Prop:道具 Transfer:传送 Monster:怪物 Barrier:障碍物",visible:function(){return this._type==F.Spawn}}),w=Z({type:s,displayName:"时间(毫秒)",visible:function(){return this._type==F.Spawn}}),h=Z({type:s,displayName:"产出ID",visible:function(){return this._type==F.Spawn}}),T=Z({type:s,displayName:"参数1",visible:function(){return this._type==F.Spawn}}),d=Z({type:s,displayName:"参数2",visible:function(){return this._type==F.Spawn}}),y((C=t((I=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_type",C,i(t)),n(t,"_configId",z,i(t)),n(t,"_style",M,i(t)),n(t,"_hp",k,i(t)),n(t,"_moveType",H,i(t)),n(t,"_spawnType",S,i(t)),n(t,"_spawnTime",D,i(t)),n(t,"_spawnId",N,i(t)),n(t,"_param1",A,i(t)),n(t,"_param2",B,i(t)),t}return r(t,e),a(t,[{key:"type",get:function(){return this._type}},{key:"configId",get:function(){return this._configId}},{key:"style",get:function(){return this._style}},{key:"hp",get:function(){return this._hp}},{key:"moveType",get:function(){return this._moveType}},{key:"spawnType",get:function(){return this._spawnType}},{key:"spawnTime",get:function(){return this._spawnTime}},{key:"spawnId",get:function(){return this._spawnId}},{key:"param1",get:function(){return this._param1}},{key:"param2",get:function(){return this._param2}}]),t}(l)).prototype,"_type",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Hero}}),z=t(I.prototype,"_configId",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=t(I.prototype,"_style",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=t(I.prototype,"_hp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=t(I.prototype,"_moveType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=t(I.prototype,"_spawnType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Hero}}),D=t(I.prototype,"_spawnTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),N=t(I.prototype,"_spawnId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=t(I.prototype,"_param1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(I.prototype,"_param2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=I))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConst.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"f13a3Np2nBNbYM6B91GOKl2","ZDConst",void 0);_("ZD_BUNDLE","zhuandao"),_("ZD_SCENE","Game"),_("ZD_RES_PREFABS",{HERO_VIEW:"prefab/hero_view",WEAPON:"prefab/weapon_view",PROP:"prefab/prop_view",GRASS:"prefab/grass_view",MONSTER_VIEW:"prefab/monster_view",TRANSFER_VIEW:"prefab/transfer_view",BARRIER_VIEW:"prefab/barrier_view",SHOP_VIEW:"prefab/shop_view",DROP_VIEW:"prefab/drop_view",TOWER_VIEW:"prefab/tower_view",BULLET_VIEW:"prefab/bullet_view",FLY_WEAPON:"prefab/fly_weapon_view",LOSE_DIALOG:"prefab/ui/lose_dialog",WIN_DIALOG:"prefab/ui/win_dialog",SETTING_DIALOG:"prefab/ui/setting_dialog",PD_EFFECT:"prefab/effect/effect_8",EFFECT2:"prefab/effect/effect_2",PROP_EFFECT:"prefab/effect/effect_5",DIE_EFFECT:"prefab/effect/effect_6",ATTRACT_EFFECT:"prefab/effect/effect_9"}),_("HERO_CFG",{BACK_TRIGGER_MIN_DIS:50,BACK_TM:.03,BACK_SPEED:500}),_("PROP_CFG",{DEATH_TM:.2,BIRTH_TM:.2}),_("MONSTER_CFG",{BACK_TM:.02,BACK_SPEED:400,CONTACT_WEAPON_DIS:20}),_("BARRIER_CFG",{CONTACT_HERO_DIS:30,HIT_SCALE:.8,HIT_ADD_SCALE:.03}),_("CUTTREE_CFG",{CONTACT_HERO_DIS:0,HIT_SCALE:1.3,HIT_ADD_SCALE:.02,HIT_OPACITY:120,SHOP_SPEED:.1}),_("PICTURE_CFG",{OPEN_SPEED:20,OPEN_DIS:250,HIT_ANI:{OPC:130,TO_WHITE_TM:.15,WHITE_TM:.1,TO_OPC_TM:.1}}),_("GRASS_CFG",{ENEMY:{MOVE_DIS:300,MOVE_TM:.6,WAIT_TM:.01}}),_("SHOP_CFG",{DROP_RANGE:{x:[-200,200],y:[-20,200]}}),_("PD_CFG",{FLY:{ROTATION:3e3,SPEED:1e3,TM:.6}}),_("SPAWNER_CFG",{MONSTER:{ROW_CNT:[5,8],SPACE_X:[50,200],SPACE_Y:[150,300]},PROP:{AUTO:{CNT:[50,60],IDS:[101,102,103],SCREEN_RANGE:1e3}}}),_("EFFECT_CFG",{EFF2:{WEAPON_CNT:40,RADIUS_ADD:20}}),_("FOG_CFG",{HERO_RADIUS_ADD:30}),_("GRASS_STACK_CFG",{BIRTH_TIME:[30,30]}),_("AI_SKILL_CFG",{SKILL2:{STEP1_TM:.3,WAIT_TM:1,RE_SHOW_DUA:1}}),_("BULLET_CFG",{ATK_MONSTER_RATE:20}),_("SHOW_RECT_SPACE",0),_("FRAME_TIME",1/60);E._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConst3.ts",["cc"],(function(_){var e,E;return{setters:[function(_){e=_.cclegacy,E=_.math}],execute:function(){_({getCntScaleByCnt:function(_){var e=-1;if(0==_)e=0;else{var E=0,T=a.length;for(E=0;E<T;++E)if(_<=a[E].cnt){e=E-1;break}e<0&&(e=T-1)}return a[e]},getRandomHeadIcon:function(){return""+T+E.randomRangeInt(1e6,1000208)+".jpg"}}),e._RF.push({},"d02afleaEhPFa3FujsIJ8ge","ZDConst3",void 0);_("ZD_BUNDLE","zhuandao_3"),_("ZD_SCENE","Game"),_("ZD_RES_PREFABS",{HERO_VIEW:"prefab/hero_view",WEAPON:"prefab/weapon_view",PROP:"prefab/prop_view",GRASS:"prefab/grass_view",MONSTER_VIEW:"prefab/monster_view",TRANSFER_VIEW:"prefab/transfer_view",BARRIER_VIEW:"prefab/barrier_view",SHOP_VIEW:"prefab/shop_view",DROP_VIEW:"prefab/drop_view",TOWER_VIEW:"prefab/tower_view",BULLET_VIEW:"prefab/bullet_view",FLY_WEAPON:"prefab/fly_weapon_view",LOSE_DIALOG:"prefab/ui/lose_dialog",WIN_DIALOG:"prefab/ui/win_dialog",SETTING_DIALOG:"prefab/ui/setting_dialog",MATCH_DIALOG:"prefab/ui/match_dialog",PD_EFFECT:"prefab/effect/effect_8",EFFECT2:"prefab/effect/effect_2",PROP_EFFECT:"prefab/effect/effect_5",DIE_EFFECT:"prefab/effect/effect_6",ATTRACT_EFFECT:"prefab/effect/effect_9",DEFENCE_EFFECT:"prefab/effect/effect_15",PD_EFFECT_NEW:"prefab/effect/effect_16",DEAD_EFFECT:"prefab/effect/effect_17",WORD_EFFECT:"prefab/effect/effect_word"}),_("HERO_CFG",{BACK_TRIGGER_MIN_DIS:50,BACK_TM:.03,BACK_SPEED:500}),_("PROP_CFG",{DEATH_TM:1,BIRTH_TM:.002,ROTATE_SPEED:[720,1080],ROTATE_ACC:1e3}),_("MONSTER_CFG",{BACK_TM:.02,BACK_SPEED:400,CONTACT_WEAPON_DIS:20}),_("BARRIER_CFG",{CONTACT_HERO_DIS:30,HIT_SCALE:.8,HIT_ADD_SCALE:.03}),_("CUTTREE_CFG",{CONTACT_HERO_DIS:0,HIT_SCALE:1.3,HIT_ADD_SCALE:.02,HIT_OPACITY:120,SHOP_SPEED:.1}),_("PICTURE_CFG",{OPEN_SPEED:20,OPEN_DIS:250,HIT_ANI:{OPC:130,TO_WHITE_TM:.15,WHITE_TM:.1,TO_OPC_TM:.1}}),_("GRASS_CFG",{ENEMY:{MOVE_DIS:300,MOVE_TM:.6,WAIT_TM:.01}}),_("SHOP_CFG",{DROP_RANGE:{x:[-200,200],y:[-20,200]}}),_("PD_CFG",{FLY:{ROTATION:1800,SPEED:1e3,TM:.6,OFFSET:100}}),_("SPAWNER_CFG",{MONSTER:{ROW_CNT:[5,8],SPACE_X:[50,200],SPACE_Y:[150,300]},PROP:{AUTO:{CNT:[50,60],IDS:[101,102,103],SCREEN_RANGE:1e3}}}),_("EFFECT_CFG",{EFF2:{WEAPON_CNT:40,RADIUS_ADD:20}}),_("FOG_CFG",{HERO_RADIUS_ADD:30}),_("GRASS_STACK_CFG",{BIRTH_TIME:[30,30]}),_("AI_SKILL_CFG",{SKILL2:{STEP1_TM:.3,WAIT_TM:1,RE_SHOW_DUA:1}}),_("BULLET_CFG",{ATK_MONSTER_RATE:20}),_("SHOW_RECT_SPACE",0),_("FRAME_TIME",1/60),_("HERO_MOTION_MOD",function(_){return _[_.Def=0]="Def",_[_.Atk=1]="Atk",_}({})),_("DEFENCE_DATA",{HP_ADD:3,REMOVE_DUR:2,REMOVE_WARN:1,MIN_COUNT:2}),_("ATTACK_DATA",{CAMERA_SCALE:200,RADIUS_ADD:0});var a=_("WEAPON_CNT_SCALE",[{cnt:0,orth:0,scale:1,radius:0},{cnt:5,orth:15,scale:1.15,radius:10},{cnt:7,orth:20,scale:1.3,radius:20},{cnt:9,orth:25,scale:1.4,radius:30},{cnt:12,orth:30,scale:1.5,radius:50},{cnt:15,orth:40,scale:1.6,radius:80},{cnt:20,orth:60,scale:1.7,radius:90},{cnt:30,orth:100,scale:1.8,radius:150},{cnt:50,orth:150,scale:2,radius:200}]);_("WEAPON_EVENTS",{camera_orth_height_changed:"camera_camera_orth_height_changed",on_cnt_changed:"weapon_events_on_cnt_changed",main_cnt_changed:"weapon_events_main_cnt_changed",main_hero_mod_changed:"weapon_events_main_hero_mod_changed",hero_killer_event:"hero_hero_killer_event"}),_("DEAD_EFFECT_DATA",{RADIUS:100,Num_Min:3,Num_Max:5}),_("ROLE_MONSTER_BARRIER_COUNT",3);var T=_("HEAD_ICON_URL","https://file.gugudang.com/res/down/public/icon/avatar/");e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConst4.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){_("getZD4UniqueId",(function(){return e++})),E._RF.push({},"c9763L277lAKaUfqsalH4FE","ZDConst4",void 0);_("ZD_BUNDLE","zhuandao_4"),_("ZD_SCENE","Game"),_("ZD_RES_PREFABS",{HERO_VIEW:"prefab/hero_view",WEAPON:"prefab/weapon_view",PROP:"prefab/prop_view",GRASS:"prefab/grass_view",MONSTER_VIEW:"prefab/monster_view",TRANSFER_VIEW:"prefab/transfer_view",BARRIER_VIEW:"prefab/barrier_view",SHOP_VIEW:"prefab/shop_view",DROP_VIEW:"prefab/drop_view",TOWER_VIEW:"prefab/tower_view",BULLET_VIEW:"prefab/bullet_view",FLY_WEAPON:"prefab/fly_weapon_view",LOSE_DIALOG:"prefab/ui/lose_dialog",WIN_DIALOG:"prefab/ui/win_dialog",SETTING_DIALOG:"prefab/ui/setting_dialog",PD_EFFECT:"prefab/effect/effect_8",EFFECT2:"prefab/effect/effect_2",PROP_EFFECT:"prefab/effect/effect_5",DIE_EFFECT:"prefab/effect/effect_6",ATTRACT_EFFECT:"prefab/effect/effect_9"}),_("HERO_CFG",{BACK_TRIGGER_MIN_DIS:50,BACK_TM:.03,BACK_SPEED:500}),_("PROP_CFG",{DEATH_TM:.2,BIRTH_TM:.2}),_("MONSTER_CFG",{BACK_TM:.02,BACK_SPEED:400,CONTACT_WEAPON_DIS:20}),_("BARRIER_CFG",{CONTACT_HERO_DIS:30,HIT_SCALE:.8,HIT_ADD_SCALE:.03}),_("CUTTREE_CFG",{CONTACT_HERO_DIS:0,HIT_SCALE:1.3,HIT_ADD_SCALE:.02,HIT_OPACITY:120,SHOP_SPEED:.1}),_("PICTURE_CFG",{OPEN_SPEED:20,OPEN_DIS:250,HIT_ANI:{OPC:130,TO_WHITE_TM:.15,WHITE_TM:.1,TO_OPC_TM:.1}}),_("GRASS_CFG",{ENEMY:{MOVE_DIS:300,MOVE_TM:.6,WAIT_TM:.01}}),_("SHOP_CFG",{DROP_RANGE:{x:[-200,200],y:[-20,200]}}),_("PD_CFG",{FLY:{ROTATION:3e3,SPEED:1e3,TM:.6}}),_("SPAWNER_CFG",{MONSTER:{ROW_CNT:[5,8],SPACE_X:[50,200],SPACE_Y:[150,300]},PROP:{AUTO:{CNT:[50,60],IDS:[101,102,103],SCREEN_RANGE:1e3}}}),_("EFFECT_CFG",{EFF2:{WEAPON_CNT:40,RADIUS_ADD:20}}),_("FOG_CFG",{HERO_RADIUS_ADD:30}),_("GRASS_STACK_CFG",{BIRTH_TIME:[30,30]}),_("AI_SKILL_CFG",{SKILL2:{STEP1_TM:.3,WAIT_TM:1,RE_SHOW_DUA:1}}),_("BULLET_CFG",{ATK_MONSTER_RATE:1}),_("SHOW_RECT_SPACE",0),_("FRAME_TIME",1/60),_("ZDPlayerCarryNum",30),_("CarryDis",150),_("TreeReGrowTime",20),_("TreeGrowTime",5);var e=1;E._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConst5.ts",["cc"],(function(_){var e,E;return{setters:[function(_){e=_.cclegacy,E=_.Vec3}],execute:function(){_("getZD5UniqueId",(function(){return T++})),e._RF.push({},"4cf72LfNN1K4bvKkWyO07GN","ZDConst5",void 0);_("ZD_BUNDLE","zhuandao_5"),_("ZD_SCENE","Game"),_("ZD_RES_PREFABS",{HERO_VIEW:"prefab/hero_view",WEAPON:"prefab/weapon_view",PROP:"prefab/prop_view",GRASS:"prefab/grass_view",MONSTER_VIEW:"prefab/monster_view",TRANSFER_VIEW:"prefab/transfer_view",BARRIER_VIEW:"prefab/barrier_view",SHOP_VIEW:"prefab/shop_view",DROP_VIEW:"prefab/drop_view",TOWER_VIEW:"prefab/tower_view",BULLET_VIEW:"prefab/bullet_view",FLY_WEAPON:"prefab/fly_weapon_view",LOSE_DIALOG:"prefab/ui/lose_dialog",WIN_DIALOG:"prefab/ui/win_dialog",SETTING_DIALOG:"prefab/ui/setting_dialog",PD_EFFECT:"prefab/effect/effect_8",EFFECT2:"prefab/effect/effect_2",PROP_EFFECT:"prefab/effect/effect_5",DIE_EFFECT:"prefab/effect/effect_6",ATTRACT_EFFECT:"prefab/effect/effect_9",TowerLock:"prefab/ui/towerLock",TowerUpTips:"prefab/ui/towerUpTips",TowerUp:"prefab/ui/towerUp"}),_("FruitsChunk","prefab/fruitsChunkPack/"),_("HERO_CFG",{BACK_TRIGGER_MIN_DIS:50,BACK_TM:.03,BACK_SPEED:500}),_("PROP_CFG",{DEATH_TM:.2,BIRTH_TM:.2}),_("MONSTER_CFG",{BACK_TM:.02,BACK_SPEED:400,CONTACT_WEAPON_DIS:20}),_("BARRIER_CFG",{CONTACT_HERO_DIS:60,HIT_SCALE:.8,HIT_ADD_SCALE:.03}),_("CUTTREE_CFG",{CONTACT_HERO_DIS:0,HIT_SCALE:1.3,HIT_ADD_SCALE:.02,HIT_OPACITY:120,SHOP_SPEED:.1,ShopStart:.5}),_("PICTURE_CFG",{OPEN_SPEED:20,OPEN_DIS:250,HIT_ANI:{OPC:130,TO_WHITE_TM:.15,WHITE_TM:.1,TO_OPC_TM:.1}}),_("GRASS_CFG",{ENEMY:{MOVE_DIS:300,MOVE_TM:.6,WAIT_TM:.01}}),_("SHOP_CFG",{DROP_RANGE:{x:[-200,200],y:[-20,200]}}),_("PD_CFG",{FLY:{ROTATION:3e3,SPEED:1e3,TM:.6}}),_("SPAWNER_CFG",{MONSTER:{ROW_CNT:[5,8],SPACE_X:[50,200],SPACE_Y:[150,300]},PROP:{AUTO:{CNT:[50,60],IDS:[101,102,103],SCREEN_RANGE:1e3}}}),_("EFFECT_CFG",{EFF2:{WEAPON_CNT:40,RADIUS_ADD:20}}),_("FOG_CFG",{HERO_RADIUS_ADD:30}),_("GRASS_STACK_CFG",{BIRTH_TIME:[30,30]}),_("AI_SKILL_CFG",{SKILL2:{STEP1_TM:.3,WAIT_TM:1,RE_SHOW_DUA:1}}),_("BULLET_CFG",{ATK_MONSTER_RATE:1}),_("SHOW_RECT_SPACE",0),_("FRAME_TIME",1/60),_("ZDPlayerCarryNum",30),_("CarryDis",150),_("TreeReGrowTime",20),_("TreeGrowTime",5);var T=1;_("ZD5TempV3",new E),_("ZD5BuffType",{Slow:1,Dot:2}),_("ZD5RunAwayTime",1),_("FruitsBirthInterval",.5),_("FruitsMaxNum",20),_("FruitsChunkColDis",350),_("FruitsChunkHideTime",10),_("PackFruitsMaxNum",500),_("InitFruitsNum",25);e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDConst6.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"e4c04Z1F5tMhZOY/tZa2Gwb","ZDConst6",void 0);_("ZD_BUNDLE","zhuandao_6"),_("ZD_SCENE","Game"),_("ZD_RES_PREFABS",{HERO_VIEW:"prefab/hero_view",WEAPON:"prefab/weapon_view",PROP:"prefab/prop_view",GRASS:"prefab/grass_view",MONSTER_VIEW:"prefab/monster_view",TRANSFER_VIEW:"prefab/transfer_view",BARRIER_VIEW:"prefab/barrier_view",SHOP_VIEW:"prefab/shop_view",DROP_VIEW:"prefab/drop_view",TOWER_VIEW:"prefab/tower_view",BULLET_VIEW:"prefab/bullet_view",FLY_WEAPON:"prefab/fly_weapon_view",LOSE_DIALOG:"prefab/ui/lose_dialog",WIN_DIALOG:"prefab/ui/win_dialog",SETTING_DIALOG:"prefab/ui/setting_dialog",PD_EFFECT:"prefab/effect/effect_8",EFFECT2:"prefab/effect/effect_2",PROP_EFFECT:"prefab/effect/effect_5",DIE_EFFECT:"prefab/effect/effect_6",ATTRACT_EFFECT:"prefab/effect/effect_9"}),_("HERO_CFG",{BACK_TRIGGER_MIN_DIS:50,BACK_TM:.03,BACK_SPEED:500}),_("PROP_CFG",{DEATH_TM:.2,BIRTH_TM:.2}),_("MONSTER_CFG",{BACK_TM:.02,BACK_SPEED:400,CONTACT_WEAPON_DIS:20}),_("BARRIER_CFG",{CONTACT_HERO_DIS:30,HIT_SCALE:.8,HIT_ADD_SCALE:.03}),_("CUTTREE_CFG",{CONTACT_HERO_DIS:0,HIT_SCALE:1.3,HIT_ADD_SCALE:.02,HIT_OPACITY:120,SHOP_SPEED:.1}),_("PICTURE_CFG",{OPEN_SPEED:20,OPEN_DIS:250,HIT_ANI:{OPC:130,TO_WHITE_TM:.15,WHITE_TM:.1,TO_OPC_TM:.1}}),_("GRASS_CFG",{ENEMY:{MOVE_DIS:300,MOVE_TM:.6,WAIT_TM:.01}}),_("SHOP_CFG",{DROP_RANGE:{x:[-200,200],y:[-20,200]}}),_("PD_CFG",{FLY:{ROTATION:3e3,SPEED:1e3,TM:.6}}),_("SPAWNER_CFG",{MONSTER:{ROW_CNT:[5,8],SPACE_X:[50,200],SPACE_Y:[150,300]},PROP:{AUTO:{CNT:[50,60],IDS:[101,102,103],SCREEN_RANGE:1e3}}}),_("EFFECT_CFG",{EFF2:{WEAPON_CNT:40,RADIUS_ADD:20}}),_("FOG_CFG",{HERO_RADIUS_ADD:30}),_("GRASS_STACK_CFG",{BIRTH_TIME:[30,30]}),_("AI_SKILL_CFG",{SKILL2:{STEP1_TM:.3,WAIT_TM:1,RE_SHOW_DUA:1}}),_("BULLET_CFG",{ATK_MONSTER_RATE:20}),_("SHOW_RECT_SPACE",0),_("FRAME_TIME",1/60),_("FIND_PATH_CFG",{CELL_DELAY_TM:.1,MIN_DELAY_TM:2,SHOW_BLOCK:!0});E._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum.ts","./ZDGameControl.ts","./ZDGameState.ts"],(function(n){var a,t,M,i,e,x;return{setters:[function(n){a=n.inheritsLoose},function(n){t=n.cclegacy,M=n.math},function(n){i=n.ERoleType},function(n){e=n.ZDGameControl},function(n){x=n.ZDGameState}],execute:function(){t._RF.push({},"8576agPEX5Oj6hUTX4BdLpz","ZDCutTreeControl",void 0);n("ZDCutTreeControl",function(n){function t(){return n.apply(this,arguments)||this}a(t,n);var e=t.prototype;return e._onUpdate=function(n){this.mainHero&&this.mainHero.weaponModule&&this.mainHero.weaponModule.weaponCnt<=0&&this.mainHero.forceDeath()},e.findObstructRole=function(a,t,M){if(a.roleType==i.HeroMain){var e=this._roleMgr.getRoleNewPosCollisionCutTree(a,t,M);return e||n.prototype.findObstructRole.call(this,a,t,M)}return a.roleType==i.HeroAI||a.roleType==i.Monster?n.prototype.findObstructRole.call(this,a,t,M):void 0},e.spawnMonster=function(n,a,t,i){var e=this._getRandomPos();if(!(e.length<=0)){for(;a-- >0;){var x=e[M.randomRangeInt(0,e.length)],o=M.randomRangeInt(x[0],x[1]),r=M.randomRangeInt(x[2],x[3]);this._roleMgr.addMonster(n,o,r).moveByMainHero()}return null}},e._getRandomPos=function(){var n=x.runtime.ui.mapLayer.MAP_RECT,a=x.runtime.ui.mapLayer.SCENE_RECT2,t=[];return a.xMin>n.xMin&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMin,a.yMax]),a.xMax<n.xMax&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),a.yMin,a.yMax]),a.yMax<n.yMax&&t.push([a.xMin,a.xMax,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.yMin>n.yMin&&t.push([a.xMin,a.xMax,Math.max(n.yMin,a.yMin-300),a.yMin]),a.xMin>n.xMin&&a.yMax<n.yMax&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMin>n.xMin&&a.yMin>n.yMin&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMax<n.xMax&&a.yMax<n.yMax&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMax<n.xMax&&a.yMin>n.yMin&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),Math.max(n.yMin,a.yMin-300),a.yMin]),t},t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeControl3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum3.ts","./ZDGameControl3.ts","./ZDGameState3.ts"],(function(n){var a,t,M,i,e,x;return{setters:[function(n){a=n.inheritsLoose},function(n){t=n.cclegacy,M=n.math},function(n){i=n.ERoleType},function(n){e=n.default},function(n){x=n.ZDGameState3}],execute:function(){t._RF.push({},"2c5c6qS3YJIL6j7rHBe3+31","ZDCutTreeControl3",void 0);n("ZDCutTreeControl3",function(n){function t(){return n.apply(this,arguments)||this}a(t,n);var e=t.prototype;return e._onUpdate=function(n){this.mainHero&&this.mainHero.weaponModule&&this.mainHero.weaponModule.weaponCnt<=0&&this.mainHero.forceDeath()},e.findObstructRole=function(a,t,M){if(a.roleType==i.HeroMain){var e=this._roleMgr.getRoleNewPosCollisionCutTree(a,t,M);return e||n.prototype.findObstructRole.call(this,a,t,M)}return a.roleType==i.HeroAI||a.roleType==i.Monster?n.prototype.findObstructRole.call(this,a,t,M):void 0},e.spawnMonster=function(n,a,t,i){var e=this._getRandomPos();if(!(e.length<=0)){for(;a-- >0;){var x=e[M.randomRangeInt(0,e.length)],o=M.randomRangeInt(x[0],x[1]),r=M.randomRangeInt(x[2],x[3]);this._roleMgr.addMonster(n,o,r).moveByMainHero()}return null}},e._getRandomPos=function(){var n=x.runtime.ui.mapLayer.MAP_RECT,a=x.runtime.ui.mapLayer.SCENE_RECT2,t=[];return a.xMin>n.xMin&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMin,a.yMax]),a.xMax<n.xMax&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),a.yMin,a.yMax]),a.yMax<n.yMax&&t.push([a.xMin,a.xMax,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.yMin>n.yMin&&t.push([a.xMin,a.xMax,Math.max(n.yMin,a.yMin-300),a.yMin]),a.xMin>n.xMin&&a.yMax<n.yMax&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMin>n.xMin&&a.yMin>n.yMin&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMax<n.xMax&&a.yMax<n.yMax&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMax<n.xMax&&a.yMin>n.yMin&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),Math.max(n.yMin,a.yMin-300),a.yMin]),t},t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeControl4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig3.ts","./ZdWave2.ts","./ZWTTools.ts","./ZDGameControl4.ts","./RoleMonster4.ts","./RunTimeData4.ts","./ZDConst4.ts","./ZDEnum4.ts","./ZDGameState4.ts"],(function(t){var e,n,o,r,i,a,s,u,h,l,c,m,f,p,M,d,y,v,g,x,P;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t.math,a=t.UITransform,s=t.tween,u=t.v3,h=t.Vec3,l=t.Tween,c=t.v2},function(t){m=t.ZdMonsterConfig},function(t){f=t.ZdWave},function(t){p=t.ZWTTools},function(t){M=t.ZDGameControl},function(t){d=t.MonsterType},function(t){y=t.RunTimeData4},function(t){v=t.ZD_RES_PREFABS,g=t.ZD_BUNDLE},function(t){x=t.ERoleType},function(t){P=t.ZDGameState4}],execute:function(){r._RF.push({},"92f2cZILDZNP5k4MpjFHM1p","ZDCutTreeControl4",void 0);t("ZDCutTreeControl4",function(t){function r(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).mapNode=void 0,e.enemyBirthPoss=[],e.areaNode=null,e.shooterPoss=[],e.minerPoss=[],e.bulletPoss=[],e.moveRangeNode=void 0,e.moveRangeTm=null,e.moveRangeTmHero=null,e.areaInfo=new Map,e.createBulletInterval=[],e.shooterAddAtkPct=0,e.minerAddProdPct=0,e.hamalAddCarryPct=0,e.curWaveTimePause=!1,e.curWaveConfig=null,e.curWaveTime=0,e.waveTimeouts=[],e.birthOffsetX=100,e.birthOffsetY=50,e.TempV2=c(),e}e(r,t);var M=r.prototype;return M.init=function(){var e=n(o().mark((function e(n,r,i){var s,u,h,l=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ZD4=this,e.next=3,t.prototype.init.call(this,n,r,i);case 3:this.mapNode=r,this.enemyBirthPoss=r.getChildByName("enemyBirthPos").children.map((function(t){return t.worldPosition})),this.areaNode=r.getChildByName("area"),this.shooterPoss=r.getChildByName("shooterPos").children.map((function(t){return{pos:t.worldPosition,shooter:null}})),this.minerPoss=r.getChildByName("minerPos").children.map((function(t){return{pos:t.worldPosition,miner:null}})),this.bulletPoss=r.getChildByName("bulletPos").children.map((function(t){return{node:t,bulletNodes:[]}})),this.moveRangeNode=r.getChildByName("moveRange"),s=this.moveRangeNode.getComponent(a).contentSize,this.moveRangeTm={top:this.moveRangeNode.worldPosition.y+s.height/2,bottom:this.moveRangeNode.worldPosition.y-s.height/2,left:this.moveRangeNode.worldPosition.x-s.width/2,right:this.moveRangeNode.worldPosition.x+s.width/2},u=r.getChildByName("moveRangeHero"),h=u.getComponent(a).contentSize,this.moveRangeTmHero={top:u.worldPosition.y+h.height/2,bottom:u.worldPosition.y-h.height/2,left:u.worldPosition.x-h.width/2,right:u.worldPosition.x+h.width/2},this.areaNode.children.forEach((function(t){var e=t.name.split("-").map((function(t){return Number(t)})),n=e[0],o=e[1];l.areaInfo.set(n,{curNode:t,exitPos:t.getChildByName("exit").worldPosition,exitArea:o})})),r.getChildByName("mapTopNodes").children.concat().forEach((function(t){t.setParent(P.runtime.ui.mapTopLayer,!0)}));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,o){return e.apply(this,arguments)}}(),M._onUpdate=function(t){this.curWaveTimePause?0==this._runTimeData.monsters.filter((function(t){return t.campType==d.Enemy})).length&&0==this._runTimeData.aiHeros.filter((function(t){return t.campType==d.Enemy})).length&&(this.curWaveTimePause=!1):(this.curWaveTime+=t,this.curWaveConfig?f.data[this.curWaveConfig.id+1]&&this.curWaveTime>=f.data[this.curWaveConfig.id+1].time&&(this.curWaveConfig=f.data[this.curWaveConfig.id+1],this.createWaveInterval()):this.curWaveTime>=f.data[1].time&&(this.curWaveConfig=f.data[1],this.createWaveInterval()))},M.createWaveInterval=function(){var t=this;this.curWaveTimePause=!0,this.curWaveConfig.monsterList1.split("|").forEach((function(e){if(e&&""!=e){var n=e.split("_").map((function(t){return Number(t)})),o=n[0],r=n[1];n[2];if(m.data[o])for(var i=function(){var e=Math.floor(r/t.curWaveConfig.row);t.waveTimeouts.push(setTimeout((function(){for(var n=0;n<e;n++){var r=t.enemyBirthPoss[0],i=n-(e-1)/2;t.spawnMonster(o,1,r.x+i*t.birthOffsetX,r.y,0)}}),700*a))},a=0;a<t.curWaveConfig.row;a++)i();else t.spawnHero(o,t.enemyBirthPoss[0].x,t.enemyBirthPoss[0].y)}})),this.curWaveConfig.monsterList2.split("|").forEach((function(e){if(e&&""!=e){var n=e.split("_").map((function(t){return Number(t)})),o=n[0],r=n[1];n[2];if(m.data[o])for(var i=function(){var e=Math.floor(r/t.curWaveConfig.row);t.waveTimeouts.push(setTimeout((function(){var n=t.birthOffsetY;(e-1)*t.birthOffsetY>200&&(n=200/(e-1));for(var r=0;r<e;r++){var i=t.enemyBirthPoss[1],a=r-(e-1)/2;t.spawnMonster(o,1,i.x,i.y+a*n,0)}}),500*a))},a=0;a<t.curWaveConfig.row;a++)i();else t.spawnHero(o,t.enemyBirthPoss[1].x,t.enemyBirthPoss[1].y)}})),this.curWaveConfig.monsterList3.split("|").forEach((function(e){if(e&&""!=e){var n=e.split("_").map((function(t){return Number(t)})),o=n[0],r=n[1];n[2];if(m.data[o])for(var i=function(){var e=Math.floor(r/t.curWaveConfig.row);t.waveTimeouts.push(setTimeout((function(){var n=t.birthOffsetY;(e-1)*t.birthOffsetY>200&&(n=200/(e-1));for(var r=0;r<e;r++){var i=t.enemyBirthPoss[2],a=r-(e-1)/2;t.spawnMonster(o,1,i.x,i.y+a*n,0)}}),500*a))},a=0;a<t.curWaveConfig.row;a++)i();else t.spawnHero(o,t.enemyBirthPoss[2].x,t.enemyBirthPoss[2].y)}}))},M.findObstructRole=function(e,n,o){if(e.roleType==x.HeroMain){var r=this._roleMgr.getRoleNewPosCollisionCutTree(e,n,o);return r||t.prototype.findObstructRole.call(this,e,n,o)}return e.roleType==x.HeroAI||e.roleType==x.Monster?t.prototype.findObstructRole.call(this,e,n,o):void 0},M.spawnHero=function(t,e,n,o){return this._roleMgr.addHero(t,e+20*Math.random()-10,n+10*Math.random()-5)},M.spawnMonster=function(t,e,n,o,r){var a=this._getRandomPos();if(!(a.length<=0)){for(;e-- >0;){i.randomRangeInt(0,a.length);this._roleMgr.addMonster(t,n+20*Math.random()-10,o+10*Math.random()-5).moveByMainHero()}return null}},M._getRandomPos=function(){var t=P.runtime.ui.mapLayer.MAP_RECT,e=P.runtime.ui.mapLayer.SCENE_RECT2,n=[];return e.xMin>t.xMin&&n.push([Math.max(t.xMin,e.xMin-300),e.xMin,e.yMin,e.yMax]),e.xMax<t.xMax&&n.push([e.xMax,Math.min(t.xMax,t.xMax+300),e.yMin,e.yMax]),e.yMax<t.yMax&&n.push([e.xMin,e.xMax,e.yMax,Math.min(t.yMax,e.yMax+300)]),e.yMin>t.yMin&&n.push([e.xMin,e.xMax,Math.max(t.yMin,e.yMin-300),e.yMin]),e.xMin>t.xMin&&e.yMax<t.yMax&&n.push([Math.max(t.xMin,e.xMin-300),e.xMin,e.yMax,Math.min(t.yMax,e.yMax+300)]),e.xMin>t.xMin&&e.yMin>t.yMin&&n.push([Math.max(t.xMin,e.xMin-300),e.xMin,e.yMax,Math.min(t.yMax,e.yMax+300)]),e.xMax<t.xMax&&e.yMax<t.yMax&&n.push([e.xMax,Math.min(t.xMax,t.xMax+300),e.yMax,Math.min(t.yMax,e.yMax+300)]),e.xMax<t.xMax&&e.yMin>t.yMin&&n.push([e.xMax,Math.min(t.xMax,t.xMax+300),Math.max(t.yMin,e.yMin-300),e.yMin]),n},M.getCurAreaByPos=function(t){var e=this,n=-1;return this.areaInfo.forEach((function(o,r){o.curNode.getComponent(a).getBoundingBoxToWorld().contains(e.TempV2.set(t.x,t.y))&&(n=r)})),n},M.getAreaInfo=function(t){return this.areaInfo.get(t)},M.createTmHero=function(t,e,n){this._roleMgr.addHero(t,e,n)},M.createShooter=function(t){for(var e=0;e<this.shooterPoss.length;e++)if(!this.shooterPoss[e].shooter){var n=this._roleMgr.addMonster(t,this.shooterPoss[e].pos.x,this.shooterPoss[e].pos.y);this.shooterPoss[e].shooter=n;break}},M.createMiner=function(t){for(var e=0;e<this.minerPoss.length;e++)if(!this.minerPoss[e].miner){var n=this._roleMgr.addMonster(t,this.minerPoss[e].pos.x,this.minerPoss[e].pos.y);this.minerPoss[e].miner=n,n.posIdx=e;break}},M.createHamal=function(t,e,n){return this._roleMgr.addMonster(t,e,n)},M.createPileBullet=function(t,e,n){var o=this.bulletPoss[t],r=setInterval((function(){(e-=1)<=0&&clearInterval(r);var t=p.PoolManager.Inst.getByPool(v.BULLET_VIEW,v.BULLET_VIEW,g);try{t.parent=P.runtime.ui.propRoot,t.setWorldPosition(n),t.setScale(0,0,0);s(t).to(1,{worldPosition:u(o.node.worldPosition.x+60*Math.random()-30,o.node.worldPosition.y+60*Math.random()-30,0),angle:360*Math.random(),scale:u(1,1,1)},{easing:"backOut"}).call((function(){o.bulletNodes.push(t)})).tag(88888).start()}catch(e){t&&t.isValid&&t.destroy()}}),50);this.createBulletInterval.push(r)},M.carryBullet=function(t,e,n){for(var o=this.bulletPoss[t],r=function(){var t=o.bulletNodes.pop();s(t).to(.8+.3*Math.random(),{worldPosition:u(n.x,n.y+100,0),angle:360*Math.random(),scale:u(0,0,0)},{easing:"backOut"}).call((function(){p.PoolManager.Inst.pushByPool(v.BULLET_VIEW,t)})).tag(88888).start()},i=0;i<e;i++)r()},M.giveBullet=function(t,e,n){for(var o=function(){var n=p.PoolManager.Inst.getByPool(v.BULLET_VIEW,v.BULLET_VIEW,g);P.runtime.ui.bulletRoot.addChild(n),n.setWorldPosition(t),n.setScale(1,1,1);s(n).to(.5+.5*Math.random(),{worldPosition:u(e.x+30*Math.random()-15,e.y+30*Math.random()-15+50,0),angle:360*Math.random(),scale:u(.5,.5,.5)},{easing:"sineOut"}).call((function(){p.PoolManager.Inst.pushByPool(v.BULLET_VIEW,n)})).tag(88888).start()},r=0;r<n;r++)o()},M.getAreaMinOpp=function(t,e,n){var o=t==d.Tm?d.Enemy:d.Tm,r=y.RunTimeIns.monsters.filter((function(t){return t.campType==o&&e==t.curArea}));y.RunTimeIns.aiHeros.forEach((function(t){t.campType==o&&e==t.curArea&&r.push(t)})),this.mainHero.campType==o&&e==this.mainHero.curArea&&r.push(this.mainHero);for(var i=Number.MAX_VALUE,a=null,s=0;s<r.length;s++){var u=r[s],l=h.distance(u.pos,n);l<i&&(i=l,a=u)}return a},M.getMinOpp=function(t,e){var n=t==d.Tm?d.Enemy:d.Tm,o=y.RunTimeIns.monsters.filter((function(t){return t.campType==n}));y.RunTimeIns.aiHeros.forEach((function(t){t.campType==n&&o.push(t)})),this.mainHero.campType==n&&o.push(this.mainHero);for(var r=Number.MAX_VALUE,i=null,a=0;a<o.length;a++){var s=o[a],u=h.distance(s.pos,e);u<r&&(r=u,i=s)}return i},M.getRangeMinOpp=function(t,e,n){var o=t==d.Tm?d.Enemy:d.Tm,r=y.RunTimeIns.monsters.filter((function(t){return t.campType==o}));y.RunTimeIns.aiHeros.forEach((function(t){t.campType==o&&r.push(t)})),this.mainHero.campType==o&&r.push(this.mainHero);for(var i=Number.MAX_VALUE,a=null,s=0;s<r.length;s++){var u=r[s],l=h.distance(u.pos,n);l<=e&&l<i&&(i=l,a=u)}return a},M.onMonsterDie=function(e){t.prototype.onMonsterDie.call(this,e);var n=this.shooterPoss.find((function(t){return t.shooter===e}));n&&(n.shooter=null)},M.clear=function(){this.waveTimeouts.forEach((function(t){return clearTimeout(t)})),l.stopAllByTag(88888),this.createBulletInterval.forEach((function(t){return clearInterval(t)})),t.prototype.clear.call(this)},r}(M));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeControl5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMonsterConfig2.ts","./ZdWave.ts","./ArrayUtil.ts","./ZWTTools.ts","./EffectManager3.ts","./ZDGameControl5.ts","./RoleBulletPool5.ts","./RoleMonster5.ts","./RunTimeData5.ts","./ZDConst5.ts","./ZDEnum5.ts","./ZDGameState5.ts"],(function(t){var e,n,o,r,i,a,s,u,h,l,c,m,f,d,p,M,g,y,v,x,T,P,C,R,w,B,E,N,W,b,I;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t.math,s=t.UITransform,u=t.tween,h=t.v3,l=t.Vec3,c=t.Tween,m=t.v2},function(t){f=t.ZdMonsterConfig},function(t){d=t.ZdWave},function(t){p=t.ArrayUtil},function(t){M=t.ZWTTools},function(t){g=t.EffectManager},function(t){y=t.ZDGameControl},function(t){v=t.RoleBulletPool},function(t){x=t.CampType,T=t.TmType},function(t){P=t.RunTimeData4},function(t){C=t.FruitsBirthInterval,R=t.FruitsMaxNum,w=t.FruitsChunk,B=t.ZD_BUNDLE,E=t.ZD_RES_PREFABS,N=t.ZD5TempV3,W=t.InitFruitsNum},function(t){b=t.ERoleType},function(t){I=t.ZDGameState5}],execute:function(){i._RF.push({},"0a2848OUuVEHpz4wwNO9U2j","ZDCutTreeControl5",void 0);t("ZDCutTreeControl4",function(t){function i(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).mapNode=void 0,e.enemyBirthPoss=[],e.areaNode=null,e.shooterPoss=[],e.minerPoss=[],e.bulletPoss=[],e.moveRangeNode=void 0,e.moveRangeTm=null,e.moveRangeTmHero=null,e.resMonsterRange=null,e.fruitsChunkNodes=[],e.areaInfo=new Map,e.createBulletInterval=[],e.shooterAddAtkPct=0,e.minerAddProdPct=0,e.hamalAddCarryPct=0,e.curWaveTimePause=!1,e.curWaveConfig=null,e.curWaveTime=0,e.waveTimeouts=[],e.fruitsBirthTime=0,e.baseTower=void 0,e.birthOffsetX=50,e.birthOffsetY=50,e.TempV2=m(),e}e(i,t);var y=i.prototype;return y.init=function(){var e=o(r().mark((function e(n,o,i){var a,u,h,l,c,m,f=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ZD5=this,e.next=3,t.prototype.init.call(this,n,o,i);case 3:for(this.mapNode=o,this.enemyBirthPoss=o.getChildByName("enemyBirthPos").children.map((function(t){return t.worldPosition})),this.areaNode=o.getChildByName("area"),this.shooterPoss=o.getChildByName("shooterPos").children.map((function(t){return{pos:t.worldPosition,shooter:null}})),this.minerPoss=o.getChildByName("minerPos").children.map((function(t){return{pos:t.worldPosition,miner:null}})),this.bulletPoss=o.getChildByName("bulletPos").children.map((function(t){return{node:t,bulletNodes:[]}})),this.moveRangeNode=o.getChildByName("moveRange"),a=this.moveRangeNode.getComponent(s).contentSize,this.moveRangeTm={top:this.moveRangeNode.worldPosition.y+a.height/2,bottom:this.moveRangeNode.worldPosition.y-a.height/2,left:this.moveRangeNode.worldPosition.x-a.width/2,right:this.moveRangeNode.worldPosition.x+a.width/2},u=o.getChildByName("moveRangeHero"),h=u.getComponent(s).contentSize,this.moveRangeTmHero={top:u.worldPosition.y+h.height/2,bottom:u.worldPosition.y-h.height/2,left:u.worldPosition.x-h.width/2,right:u.worldPosition.x+h.width/2},l=o.getChildByName("resMonsterRange"),c=l.getComponent(s).contentSize,this.resMonsterRange={top:l.worldPosition.y+c.height/2,bottom:l.worldPosition.y-c.height/2,left:l.worldPosition.x-c.width/2,right:l.worldPosition.x+c.width/2},this.areaNode.children.forEach((function(t){var e=t.name.split("-").map((function(t){return Number(t)})),n=e[0],o=e[1];f.areaInfo.set(n,{curNode:t,exitPos:t.getChildByName("exit").worldPosition,exitArea:o})})),o.getChildByName("mapTopNodes").children.concat().forEach((function(t){t.setParent(I.runtime.ui.mapTopLayer,!0)})),m=0;m<W;m++)this.createFruits(p.randomFromArray([3001,3002]),this.resMonsterRange.left+Math.random()*(this.resMonsterRange.right-this.resMonsterRange.left),this.resMonsterRange.bottom+Math.random()*(this.resMonsterRange.top-this.resMonsterRange.bottom)).born(!1);v.Clear();case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,o){return e.apply(this,arguments)}}(),y._onUpdate=function(t){(this.curWaveTime+=t,this.curWaveConfig?(d.data[this.curWaveConfig.id+1]&&this.curWaveTime>=d.data[this.curWaveConfig.id+1].time&&(this.curWaveConfig=d.data[this.curWaveConfig.id+1],this.createWaveInterval()),!d.data[this.curWaveConfig.id+1]&&this.getRoleByCampType(x.Enemy).length<=0&&this.win()):this.curWaveTime>=d.data[1].time&&(this.curWaveConfig=d.data[1],this.createWaveInterval()),this.fruitsBirthTime>=C)?this._runTimeData.monsters.filter((function(t){return t.tmType==T.Fruits})).length<R?(this.createFruits(p.randomFromArray([3001,3002]),this.resMonsterRange.left+Math.random()*(this.resMonsterRange.right-this.resMonsterRange.left),this.resMonsterRange.bottom+Math.random()*(this.resMonsterRange.top-this.resMonsterRange.bottom)).born(!0),this.fruitsBirthTime=0):this.fruitsBirthTime-=.1:this.fruitsBirthTime+=t},y.createWaveInterval=function(){var t=this;this.curWaveConfig.monsterList1.split("|").forEach((function(e){if(e&&""!=e){var n=e.split("_").map((function(t){return Number(t)})),o=n[0],r=n[1],i=n[2];t.createWaveRow(o,r,i,0)}})),this.curWaveConfig.monsterList2.split("|").forEach((function(e){if(e&&""!=e){var n=e.split("_").map((function(t){return Number(t)})),o=n[0],r=n[1],i=n[2];t.createWaveRow(o,r,i,1)}})),this.curWaveConfig.monsterList3.split("|").forEach((function(e){if(e&&""!=e){var n=e.split("_").map((function(t){return Number(t)})),o=n[0],r=n[1],i=n[2];t.createWaveRow(o,r,i,2)}}))},y.createWaveRow=function(t,e,n,o){var r=this;if(f.data[t])for(var i=Math.floor(e/this.curWaveConfig.row),a=e%this.curWaveConfig.row,s=function(e){r.waveTimeouts.push(setTimeout((function(){var n=e==r.curWaveConfig.row-1?a+i:i,s=0,u=0,h=350;0==o&&(s=r.birthOffsetX,(n-1)*r.birthOffsetX>h&&(s=h/(n-1))),1!=o&&2!=o||(u=r.birthOffsetY,(n-1)*r.birthOffsetY>h&&(u=h/(n-1)));for(var l=0;l<n;l++){var c=r.enemyBirthPoss[o],m=l-(n-1)/2;r.spawnMonster(t,1,c.x+m*s,c.y+m*u,o)}}),e*n*1e3))},u=0;u<this.curWaveConfig.row;u++)s(u);else this.spawnHero(t,this.enemyBirthPoss[o].x,this.enemyBirthPoss[o].y)},y.findObstructRole=function(e,n,o){if(e.roleType==b.HeroMain){var r=this._roleMgr.getRoleNewPosCollisionCutTree(e,n,o);return r||t.prototype.findObstructRole.call(this,e,n,o)}return e.roleType==b.HeroAI||e.roleType==b.Monster?t.prototype.findObstructRole.call(this,e,n,o):void 0},y.spawnHero=function(t,e,n,o){return this._roleMgr.addHero(t,e+20*Math.random()-10,n+10*Math.random()-5)},y.spawnMonster=function(t,e,n,o,r){var i=this._getRandomPos();if(!(i.length<=0)){for(;e-- >0;)a.randomRangeInt(0,i.length),this._roleMgr.addMonster(t,n+20*Math.random()-10,o+10*Math.random()-5);return null}},y._getRandomPos=function(){var t=I.runtime.ui.mapLayer.MAP_RECT,e=I.runtime.ui.mapLayer.SCENE_RECT2,n=[];return e.xMin>t.xMin&&n.push([Math.max(t.xMin,e.xMin-300),e.xMin,e.yMin,e.yMax]),e.xMax<t.xMax&&n.push([e.xMax,Math.min(t.xMax,t.xMax+300),e.yMin,e.yMax]),e.yMax<t.yMax&&n.push([e.xMin,e.xMax,e.yMax,Math.min(t.yMax,e.yMax+300)]),e.yMin>t.yMin&&n.push([e.xMin,e.xMax,Math.max(t.yMin,e.yMin-300),e.yMin]),e.xMin>t.xMin&&e.yMax<t.yMax&&n.push([Math.max(t.xMin,e.xMin-300),e.xMin,e.yMax,Math.min(t.yMax,e.yMax+300)]),e.xMin>t.xMin&&e.yMin>t.yMin&&n.push([Math.max(t.xMin,e.xMin-300),e.xMin,e.yMax,Math.min(t.yMax,e.yMax+300)]),e.xMax<t.xMax&&e.yMax<t.yMax&&n.push([e.xMax,Math.min(t.xMax,t.xMax+300),e.yMax,Math.min(t.yMax,e.yMax+300)]),e.xMax<t.xMax&&e.yMin>t.yMin&&n.push([e.xMax,Math.min(t.xMax,t.xMax+300),Math.max(t.yMin,e.yMin-300),e.yMin]),n},y.getCurAreaByPos=function(t){var e=this,n=-1;return this.areaInfo.forEach((function(o,r){o.curNode.getComponent(s).getBoundingBoxToWorld().contains(e.TempV2.set(t.x,t.y))&&(n=r)})),n},y.getAreaInfo=function(t){return this.areaInfo.get(t)},y.createTmHero=function(t,e,n){this._roleMgr.addHero(t,e,n)},y.createShooter=function(t){for(var e=0;e<this.shooterPoss.length;e++)if(!this.shooterPoss[e].shooter){var n=this._roleMgr.addMonster(t,this.shooterPoss[e].pos.x,this.shooterPoss[e].pos.y);this.shooterPoss[e].shooter=n;break}},y.createMiner=function(t){for(var e=0;e<this.minerPoss.length;e++)if(!this.minerPoss[e].miner){var n=this._roleMgr.addMonster(t,this.minerPoss[e].pos.x,this.minerPoss[e].pos.y);this.minerPoss[e].miner=n,n.posIdx=e;break}},y.createHamal=function(t,e,n){return this._roleMgr.addMonster(t,e,n)},y.createFruits=function(t,e,n){return this._roleMgr.addMonster(t,e,n)},y.createFruitsChunk=function(t,e){var n=this,o=M.PoolManager.Inst.getByPool(w+t,w+t,B);return o.parent=I.runtime.ui.propRoot,o.setWorldPosition(e),o.angle=0,o.setScale(.5,.5,.5),u(o).by(1,{position:h(600*Math.random()-300,400*Math.random()-200,0),angle:360+1080*Math.random(),scale:l.ONE},{easing:"circOut"}).delay(.1).call((function(){n.fruitsChunkNodes.push(o)})).delay(10).call((function(){n.fruitsChunkNodes.splice(n.fruitsChunkNodes.indexOf(o),1),M.PoolManager.Inst.pushByPool(w+t,o)})).tag(88888).start(),o},y.createPileBullet=function(t,e,n){var o=this.bulletPoss[t],r=setInterval((function(){(e-=1)<=0&&clearInterval(r);var t=M.PoolManager.Inst.getByPool(E.BULLET_VIEW,E.BULLET_VIEW,B);try{t.parent=I.runtime.ui.propRoot,t.setWorldPosition(n),t.setScale(0,0,0);u(t).to(1,{worldPosition:h(o.node.worldPosition.x+60*Math.random()-30,o.node.worldPosition.y+60*Math.random()-30,0),angle:360*Math.random(),scale:h(1,1,1)},{easing:"backOut"}).call((function(){o.bulletNodes.push(t)})).tag(88888).start()}catch(e){t&&t.isValid&&t.destroy()}}),50);this.createBulletInterval.push(r)},y.carryBullet=function(t,e,n){for(var o=this.bulletPoss[t],r=function(){var t=o.bulletNodes.pop();u(t).to(.8+.3*Math.random(),{worldPosition:h(n.x,n.y+100,0),angle:360*Math.random(),scale:h(0,0,0)},{easing:"backOut"}).call((function(){M.PoolManager.Inst.pushByPool(E.BULLET_VIEW,t)})).tag(88888).start()},i=0;i<e;i++)r()},y.giveBullet=function(t,e,n){for(var o=function(){var n=M.PoolManager.Inst.getByPool(E.BULLET_VIEW,E.BULLET_VIEW,B);I.runtime.ui.bulletRoot.addChild(n),n.setWorldPosition(t),n.setScale(1,1,1);u(n).to(.5+.5*Math.random(),{worldPosition:h(e.x+30*Math.random()-15,e.y+30*Math.random()-15+50,0),angle:360*Math.random(),scale:h(.5,.5,.5)},{easing:"sineOut"}).call((function(){M.PoolManager.Inst.pushByPool(E.BULLET_VIEW,n)})).tag(88888).start()},r=0;r<n;r++)o()},y.getAreaMinOpp=function(t,e,n){for(var o=t==x.Tm?x.Enemy:x.Tm,r=this.getRoleByCampType(o,e),i=Number.MAX_VALUE,a=null,s=0;s<r.length;s++){var u=r[s],h=l.distance(u.pos,n);h<i&&(i=h,a=u)}return a},y.getMinOpp=function(t,e){for(var n=t==x.Tm?x.Enemy:x.Tm,o=this.getRoleByCampType(n),r=Number.MAX_VALUE,i=null,a=0;a<o.length;a++){var s=o[a],u=l.distance(s.pos,e);u<r&&(r=u,i=s)}return i},y.getRangeMinOpps=function(t,e,n,o){var r=t==x.Tm?x.Enemy:x.Tm;return this.getRoleByCampType(r).map((function(t){return{enemy:t,distance:l.distance(t.pos,n)}})).filter((function(t){return t.distance<=e})).sort((function(t,e){return t.distance-e.distance})).slice(0,o).map((function(t){return t.enemy}))},y.getFanRangeOpp=function(t,e,n,o,r){var i=t==x.Tm?x.Enemy:x.Tm,a=this.getRoleByCampType(i),s=[];return a.forEach((function(t){if(!(l.distance(t.pos,n)>e)){var i=N.set(t.view.node.worldPosition).subtract(n);l.angle(o,i)*(180/Math.PI)<=r/2&&s.push(t)}})),s},y.getRangeOppNum=function(t,e,n){var o=t==x.Tm?x.Enemy:x.Tm,r=this.getRoleByCampType(o),i=0;return r.forEach((function(t){l.distance(t.pos,n)<=e&&i++})),i},y.getRangeRandomOpp=function(t,e,n,o){var r=t==x.Tm?x.Enemy:x.Tm,i=this.getRoleByCampType(r),a=[];return i.forEach((function(t){o.includes(t)||l.distance(t.pos,n)>e||a.push(t)})),p.randomFromArray(a)},y.getRoleByCampType=function(t,e){if(e||0==e){var n=P.RunTimeIns.monsters.filter((function(n){return n.campType==t&&e==n.curArea&&n.tmType!=T.Fruits}));return P.RunTimeIns.aiHeros.forEach((function(o){o.campType==t&&e==o.curArea&&n.push(o)})),this.mainHero.campType==t&&e==this.mainHero.curArea&&(n.push(this.mainHero),n.push(this.baseTower)),n}var o=P.RunTimeIns.monsters.filter((function(e){return e.campType==t&&e.tmType!=T.Fruits}));return P.RunTimeIns.aiHeros.forEach((function(e){e.campType==t&&o.push(e)})),this.mainHero.campType==t&&(o.push(this.mainHero),o.push(this.baseTower)),o},y.addCoin=function(){I.runtime.data.addTreeCnt(1);var t=I.runtime.data.treeCnt;I.runtime.ui.setTreeCntView(t),I.runtime.audioMgr.play(103,5)},y.onMonsterDie=function(e){t.prototype.onMonsterDie.call(this,e);var n=this.shooterPoss.find((function(t){return t.shooter===e}));n&&(n.shooter=null)},y.clear=function(){t.prototype.clear.call(this),g.Free(),M.PoolManager.Inst.clear(),this.waveTimeouts.forEach((function(t){return clearTimeout(t)})),c.stopAllByTag(88888),this.createBulletInterval.forEach((function(t){return clearInterval(t)}))},n(i,[{key:"CurWaveConfig",get:function(){return this.curWaveConfig?this.curWaveConfig:d.dataList[0]}}]),i}(y));i._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeControl6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDEnum6.ts","./ZDGameControl6.ts","./ZDGameState6.ts"],(function(n){var a,t,M,i,e,x;return{setters:[function(n){a=n.inheritsLoose},function(n){t=n.cclegacy,M=n.math},function(n){i=n.ERoleType},function(n){e=n.ZDGameControl},function(n){x=n.ZDGameState6}],execute:function(){t._RF.push({},"449cbd77/BMU49izJ7pvjNY","ZDCutTreeControl6",void 0);n("ZDCutTreeControl",function(n){function t(){return n.apply(this,arguments)||this}a(t,n);var e=t.prototype;return e._onUpdate=function(n){this.mainHero&&this.mainHero.weaponModule&&this.mainHero.weaponModule.weaponCnt<=0&&this.mainHero.forceDeath()},e.findObstructRole=function(a,t,M){if(a.roleType==i.HeroMain){var e=this.roleMgr.getRoleNewPosCollisionCutTree(a,t,M);return e||n.prototype.findObstructRole.call(this,a,t,M)}return a.roleType==i.HeroAI||a.roleType==i.Monster?n.prototype.findObstructRole.call(this,a,t,M):void 0},e.spawnMonster=function(n,a,t,i){var e=this._getRandomPos();if(!(e.length<=0)){for(;a-- >0;){var x=e[M.randomRangeInt(0,e.length)],o=M.randomRangeInt(x[0],x[1]),r=M.randomRangeInt(x[2],x[3]);this.roleMgr.addMonster(n,o,r).moveByMainHero()}return null}},e._getRandomPos=function(){var n=x.runtime.ui.mapLayer.MAP_RECT,a=x.runtime.ui.mapLayer.SCENE_RECT2,t=[];return a.xMin>n.xMin&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMin,a.yMax]),a.xMax<n.xMax&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),a.yMin,a.yMax]),a.yMax<n.yMax&&t.push([a.xMin,a.xMax,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.yMin>n.yMin&&t.push([a.xMin,a.xMax,Math.max(n.yMin,a.yMin-300),a.yMin]),a.xMin>n.xMin&&a.yMax<n.yMax&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMin>n.xMin&&a.yMin>n.yMin&&t.push([Math.max(n.xMin,a.xMin-300),a.xMin,a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMax<n.xMax&&a.yMax<n.yMax&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),a.yMax,Math.min(n.yMax,a.yMax+300)]),a.xMax<n.xMax&&a.yMin>n.yMin&&t.push([a.xMax,Math.min(n.xMax,n.xMax+300),Math.max(n.yMin,a.yMin-300),a.yMin]),t},t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameData.ts"],(function(t){var e,n,r,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){a=t.ZDGameData}],execute:function(){r._RF.push({},"6edcaAYMU1BD43MXsrhZjav","ZDCutTreeData",void 0);t("ZDCutTreeData",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._treeCnt=void 0,e}e(r,t);var a=r.prototype;return a.addTreeCnt=function(t){var e=this._treeCnt+t;this._treeCnt=Math.max(0,e)},a.init=function(){t.prototype.init.call(this),this._treeCnt=0},n(r,[{key:"treeCnt",get:function(){return this._treeCnt}}]),r}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeData3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameData3.ts"],(function(t){var e,n,r,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){a=t.ZDGameData3}],execute:function(){r._RF.push({},"e4256YCyKhJUZrswF/l/Oj1","ZDCutTreeData3",void 0);t("ZDCutTreeData3",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._treeCnt=void 0,e}e(r,t);var a=r.prototype;return a.addTreeCnt=function(t){var e=this._treeCnt+t;this._treeCnt=Math.max(0,e)},a.init=function(){t.prototype.init.call(this),this._treeCnt=0},n(r,[{key:"treeCnt",get:function(){return this._treeCnt}}]),r}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeData4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameData4.ts"],(function(t){var e,n,r,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){a=t.ZDGameData}],execute:function(){r._RF.push({},"191efY6JO5IYodt0tSak96c","ZDCutTreeData4",void 0);t("ZDCutTreeData",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._treeCnt=void 0,e}e(r,t);var a=r.prototype;return a.addTreeCnt=function(t){var e=this._treeCnt+t;this._treeCnt=Math.max(0,e)},a.init=function(){t.prototype.init.call(this),this._treeCnt=0},n(r,[{key:"treeCnt",get:function(){return this._treeCnt}}]),r}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeData5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameData5.ts"],(function(t){var e,n,r,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){a=t.ZDGameData}],execute:function(){r._RF.push({},"cffd7yXQqxDXJi8earevyrS","ZDCutTreeData5",void 0);t("ZDCutTreeData",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._treeCnt=void 0,e}e(r,t);var a=r.prototype;return a.addTreeCnt=function(t){var e=this._treeCnt+t;this._treeCnt=Math.max(0,e)},a.init=function(){t.prototype.init.call(this),this._treeCnt=0},n(r,[{key:"treeCnt",get:function(){return this._treeCnt}}]),r}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeData6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameData6.ts"],(function(t){var e,n,r,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){a=t.ZDGameData}],execute:function(){r._RF.push({},"9ca57IdcqJPe5cAeW/f87jk","ZDCutTreeData6",void 0);t("ZDCutTreeData",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._treeCnt=void 0,e}e(r,t);var a=r.prototype;return a.addTreeCnt=function(t){var e=this._treeCnt+t;this._treeCnt=Math.max(0,e)},a.init=function(){t.prototype.init.call(this),this._treeCnt=0},n(r,[{key:"treeCnt",get:function(){return this._treeCnt}}]),r}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameView.ts","./CutTreeUICmp.ts"],(function(e){var t,n,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec3},function(e){r=e.ZDGameView},function(e){i=e.CutTreeUICmp}],execute:function(){n._RF.push({},"f86c7BBHsdCyoe/CE0UZeCm","ZDCutTreeView",void 0);e("ZDCutTreeView",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._cutTreeUI=void 0,t}t(n,e);var o=n.prototype;return o._onInit=function(){this._cutTreeUI=this._uiLayer.node.getChildByName("tree_cnt").getComponent(i),this._cutTreeUI.show(),this.setTreeCntView(0)},o._onUpdate=function(e){},o._onClear=function(){},o.setTreeCntView=function(e){this._cutTreeUI.setCntLabView(e)},o.showFlyTreeIcon=function(e){this._uiLayer&&(e.node.parent=this._uiLayer.dropNode,this._cameraMap.worldToScreen(e.pos,c),this._cameraUI.screenToWorld(c,c),e.setWorldPos(c),e.showUILayer(),e.moveToEnd(this._cutTreeUI.iconPos))},n}(r));var c=new o;n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameView3.ts","./CutTreeUICmp3.ts"],(function(e){var t,n,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec3},function(e){r=e.ZDGameView3},function(e){i=e.CutTreeUICmp3}],execute:function(){n._RF.push({},"828b6NKXbVPqKntNwwTU83q","ZDCutTreeView3",void 0);e("ZDCutTreeView3",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._cutTreeUI=void 0,t}t(n,e);var o=n.prototype;return o._onInit=function(){this._cutTreeUI=this._uiLayer.node.getChildByName("tree_cnt").getComponent(i),this._cutTreeUI.show(),this.setTreeCntView(0)},o._onUpdate=function(e){},o._onClear=function(){},o.setTreeCntView=function(e){this._cutTreeUI.setCntLabView(e)},o.showFlyTreeIcon=function(e){this._uiLayer&&(e.node.parent=this._uiLayer.dropNode,this._cameraMap.worldToScreen(e.pos,c),this._cameraUI.screenToWorld(c,c),e.setWorldPos(c),e.showUILayer(),e.moveToEnd(this._cutTreeUI.iconPos))},n}(r));var c=new o;n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameView4.ts","./CutTreeUICmp4.ts"],(function(e){var t,n,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec3},function(e){r=e.ZDGameView},function(e){i=e.CutTreeUICmp4}],execute:function(){n._RF.push({},"aca39pRVPpO8Kc9XmgRpc8H","ZDCutTreeView4",void 0);e("ZDCutTreeView",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._cutTreeUI=void 0,t}t(n,e);var o=n.prototype;return o._onInit=function(){this._cutTreeUI=this._uiLayer.node.getChildByName("tree_cnt").getComponent(i),this._cutTreeUI.show(),this.setTreeCntView(0)},o._onUpdate=function(e){},o._onClear=function(){},o.setTreeCntView=function(e){this._cutTreeUI.setCntLabView(e)},o.showFlyTreeIcon=function(e){this._uiLayer&&(e.node.parent=this._uiLayer.dropNode,this._cameraMap.worldToScreen(e.pos,c),this._cameraUI.screenToWorld(c,c),e.setWorldPos(c),e.showUILayer(),e.moveToEnd(this._cutTreeUI.iconPos))},n}(r));var c=new o;n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameView5.ts","./CutTreeUICmp5.ts"],(function(e){var t,n,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec3},function(e){r=e.ZDGameView},function(e){i=e.CutTreeUICmp5}],execute:function(){n._RF.push({},"a190aOMe4VBXpPRdt7SG2Rl","ZDCutTreeView5",void 0);e("ZDCutTreeView",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._cutTreeUI=void 0,t}t(n,e);var o=n.prototype;return o._onInit=function(){this._cutTreeUI=this._uiLayer.node.getChildByName("tree_cnt").getComponent(i),this._cutTreeUI.show(),this.setTreeCntView(0)},o._onUpdate=function(e){},o._onClear=function(){},o.setTreeCntView=function(e){this._cutTreeUI.setCntLabView(e)},o.showFlyTreeIcon=function(e){this._uiLayer&&(e.node.parent=this._uiLayer.dropNode,this._cameraMap.worldToScreen(e.pos,c),this._cameraUI.screenToWorld(c,c),e.setWorldPos(c),e.showUILayer(),e.moveToEnd(this._cutTreeUI.iconPos))},n}(r));var c=new o;n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDCutTreeView6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameView6.ts","./CutTreeUICmp6.ts"],(function(e){var t,n,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec3},function(e){r=e.ZDGameView},function(e){i=e.CutTreeUICmp6}],execute:function(){n._RF.push({},"fdd49/BaklAUKVLoVKGdUJA","ZDCutTreeView6",void 0);e("ZDCutTreeView",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._cutTreeUI=void 0,t}t(n,e);var o=n.prototype;return o._onInit=function(){this._cutTreeUI=this._uiLayer.node.getChildByName("tree_cnt").getComponent(i),this._cutTreeUI.show(),this.setTreeCntView(0)},o._onUpdate=function(e){},o._onClear=function(){},o.setTreeCntView=function(e){this._cutTreeUI.setCntLabView(e)},o.showFlyTreeIcon=function(e){this._uiLayer&&(e.node.parent=this._uiLayer.dropNode,this._cameraMap.worldToScreen(e.pos,c),this._cameraUI.screenToWorld(c,c),e.setWorldPos(c),e.showUILayer(),e.moveToEnd(this._cutTreeUI.iconPos))},n}(r));var c=new o;n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDDropItemCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst.ts","./ZDGameState.ts"],(function(t){var s,i,e,o,n,r,a,h,_,l,c,p,d,m;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Sprite,_=t.Vec3,l=t.Component},function(t){c=t.ViewUtil},function(t){p=t.ZD_RES_PREFABS,d=t.ZD_BUNDLE},function(t){m=t.ZDGameState}],execute:function(){var u,P,f,y,v,D;r._RF.push({},"70119HvAgxHSr0yG7eICS9z","ZDDropItemCmp",void 0);var C=a.ccclass,w=a.property,S=(t("ZDDropItemCmp",(u=C("ZDDropItemCmp"),P=w({type:h,displayName:"图标",visible:!0}),u(((D=function(t){function s(){for(var s,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return s=t.call.apply(t,[this].concat(n))||this,e(s,"_iconSpr",v,o(s)),s._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}i(s,t),s.Create=function(){var t=this._pool.shift();t||(t=c.createPrefabNode(p.DROP_VIEW,d).getComponent(s))._init();return t.node.parent=m.runtime.ui.treeDropRoot,t},s.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},s.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var r=s.prototype;return r._init=function(){this._startPos=new _,this._endPos=new _,this._state=0,this._time=0},r.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos),this.showMapLayer()},r.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.2&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.25&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0,m.runtime.ui.showFlyTreeIcon(this));else if(6==this._state);else if(7==this._state){this._time+=t;var i=this._time/this._totalTime;_.lerp(S,this._startPos,this._endPos,i),this.node.setWorldPosition(S),i>=1&&(this._state=8)}else if(8==this._state){var e;null==(e=this._endCallback)||e.call(this),s.Collect(this)}},r.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},r.moveToEnd=function(t){this._endPos.set(t),this._state=7,this._time=0,this._totalTime=_.distance(this._startPos,this._endPos)/1500},r.showUILayer=function(){this.node.layer=2,this._iconSpr.node.layer=2},r.showMapLayer=function(){this.node.layer=1,this._iconSpr.node.layer=1},n(s,[{key:"pos",get:function(){return this._startPos}}]),s}(l))._pool=[],v=s((y=D).prototype,"_iconSpr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f)),new _);r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDDropItemCmp3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst3.ts","./ZDGameState3.ts"],(function(t){var s,i,e,o,n,r,a,h,_,l,c,d,p,m;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Sprite,_=t.Vec3,l=t.Component},function(t){c=t.ViewUtil},function(t){d=t.ZD_RES_PREFABS,p=t.ZD_BUNDLE},function(t){m=t.ZDGameState3}],execute:function(){var u,P,f,y,v,D;r._RF.push({},"83b03ltJZ5DeJxAho9dLGJ6","ZDDropItemCmp3",void 0);var C=a.ccclass,w=a.property,b=(t("ZDDropItemCmp3",(u=C("ZDDropItemCmp3"),P=w({type:h,displayName:"图标",visible:!0}),u(((D=function(t){function s(){for(var s,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return s=t.call.apply(t,[this].concat(n))||this,e(s,"_iconSpr",v,o(s)),s._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}i(s,t),s.Create=function(){var t=this._pool.shift();t||(t=c.createPrefabNode(d.DROP_VIEW,p).getComponent(s))._init();return t.node.parent=m.runtime.ui.treeDropRoot,t},s.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},s.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var r=s.prototype;return r._init=function(){this._startPos=new _,this._endPos=new _,this._state=0,this._time=0},r.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos),this.showMapLayer()},r.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.2&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.25&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0,m.runtime.ui.showFlyTreeIcon(this));else if(6==this._state);else if(7==this._state){this._time+=t;var i=this._time/this._totalTime;_.lerp(b,this._startPos,this._endPos,i),this.node.setWorldPosition(b),i>=1&&(this._state=8)}else if(8==this._state){var e;null==(e=this._endCallback)||e.call(this),s.Collect(this)}},r.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},r.moveToEnd=function(t){this._endPos.set(t),this._state=7,this._time=0,this._totalTime=_.distance(this._startPos,this._endPos)/1500},r.showUILayer=function(){this.node.layer=2,this._iconSpr.node.layer=2},r.showMapLayer=function(){this.node.layer=1,this._iconSpr.node.layer=1},n(s,[{key:"pos",get:function(){return this._startPos}}]),s}(l))._pool=[],v=s((y=D).prototype,"_iconSpr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f)),new _);r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDDropItemCmp4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst4.ts","./ZDGameState4.ts"],(function(t){var s,i,e,o,n,r,a,h,_,l,c,d,p,m;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Sprite,_=t.Vec3,l=t.Component},function(t){c=t.ViewUtil},function(t){d=t.ZD_RES_PREFABS,p=t.ZD_BUNDLE},function(t){m=t.ZDGameState4}],execute:function(){var u,P,f,y,v,D;r._RF.push({},"d0be55zMDxMEZrva9iBfr9r","ZDDropItemCmp4",void 0);var C=a.ccclass,w=a.property,b=(t("ZDDropItemCmp4",(u=C("ZDDropItemCmp4"),P=w({type:h,displayName:"图标",visible:!0}),u(((D=function(t){function s(){for(var s,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return s=t.call.apply(t,[this].concat(n))||this,e(s,"_iconSpr",v,o(s)),s._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}i(s,t),s.Create=function(){var t=this._pool.shift();t||(t=c.createPrefabNode(d.DROP_VIEW,p).getComponent(s))._init();return t.node.parent=m.runtime.ui.treeDropRoot,t},s.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},s.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var r=s.prototype;return r._init=function(){this._startPos=new _,this._endPos=new _,this._state=0,this._time=0},r.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos),this.showMapLayer()},r.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.2&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.25&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0,m.runtime.ui.showFlyTreeIcon(this));else if(6==this._state);else if(7==this._state){this._time+=t;var i=this._time/this._totalTime;_.lerp(b,this._startPos,this._endPos,i),this.node.setWorldPosition(b),i>=1&&(this._state=8)}else if(8==this._state){var e;null==(e=this._endCallback)||e.call(this),s.Collect(this)}},r.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},r.moveToEnd=function(t){this._endPos.set(t),this._state=7,this._time=0,this._totalTime=_.distance(this._startPos,this._endPos)/1500},r.showUILayer=function(){this.node.layer=2,this._iconSpr.node.layer=2},r.showMapLayer=function(){this.node.layer=1,this._iconSpr.node.layer=1},n(s,[{key:"pos",get:function(){return this._startPos}}]),s}(l))._pool=[],v=s((y=D).prototype,"_iconSpr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f)),new _);r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDDropItemCmp5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst5.ts","./ZDGameState5.ts"],(function(t){var s,i,e,o,n,r,a,h,_,l,c,p,d,m;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Sprite,_=t.Vec3,l=t.Component},function(t){c=t.ViewUtil},function(t){p=t.ZD_RES_PREFABS,d=t.ZD_BUNDLE},function(t){m=t.ZDGameState5}],execute:function(){var u,P,f,y,v,D;r._RF.push({},"515239MzIFABo5VXEh7bVTu","ZDDropItemCmp5",void 0);var C=a.ccclass,w=a.property,b=(t("ZDDropItemCmp5",(u=C("ZDDropItemCmp5"),P=w({type:h,displayName:"图标",visible:!0}),u(((D=function(t){function s(){for(var s,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return s=t.call.apply(t,[this].concat(n))||this,e(s,"_iconSpr",v,o(s)),s._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}i(s,t),s.Create=function(){var t=this._pool.shift();t||(t=c.createPrefabNode(p.DROP_VIEW,d).getComponent(s))._init();return t.node.parent=m.runtime.ui.treeDropRoot,t},s.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},s.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var r=s.prototype;return r._init=function(){this._startPos=new _,this._endPos=new _,this._state=0,this._time=0},r.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos),this.showMapLayer()},r.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.2&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.25&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0,m.runtime.ui.showFlyTreeIcon(this));else if(6==this._state);else if(7==this._state){this._time+=t;var i=this._time/this._totalTime;_.lerp(b,this._startPos,this._endPos,i),this.node.setWorldPosition(b),i>=1&&(this._state=8)}else if(8==this._state){var e;null==(e=this._endCallback)||e.call(this),s.Collect(this)}},r.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},r.moveToEnd=function(t){this._endPos.set(t),this._state=7,this._time=0,this._totalTime=_.distance(this._startPos,this._endPos)/1500},r.showUILayer=function(){this.node.layer=2,this._iconSpr.node.layer=2},r.showMapLayer=function(){this.node.layer=1,this._iconSpr.node.layer=1},n(s,[{key:"pos",get:function(){return this._startPos}}]),s}(l))._pool=[],v=s((y=D).prototype,"_iconSpr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f)),new _);r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDDropItemCmp6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ZDConst6.ts","./ZDGameState6.ts"],(function(t){var s,i,e,o,n,r,a,h,_,l,c,p,d,m;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Sprite,_=t.Vec3,l=t.Component},function(t){c=t.ViewUtil},function(t){p=t.ZD_RES_PREFABS,d=t.ZD_BUNDLE},function(t){m=t.ZDGameState6}],execute:function(){var u,P,f,y,v,D;r._RF.push({},"2e4e2zrtsVMXZ4xfjeTjB41","ZDDropItemCmp6",void 0);var C=a.ccclass,w=a.property,S=(t("ZDDropItemCmp6",(u=C("ZDDropItemCmp6"),P=w({type:h,displayName:"图标",visible:!0}),u(((D=function(t){function s(){for(var s,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return s=t.call.apply(t,[this].concat(n))||this,e(s,"_iconSpr",v,o(s)),s._startPos=void 0,s._endPos=void 0,s._state=void 0,s._time=void 0,s._totalTime=void 0,s._endCallback=void 0,s}i(s,t),s.Create=function(){var t=this._pool.shift();t||(t=c.createPrefabNode(p.DROP_VIEW,d).getComponent(s))._init();return t.node.parent=m.runtime.ui.treeDropRoot,t},s.Collect=function(t){t.node.removeFromParent(),this._pool.push(t)},s.Clear=function(){for(var t=0,s=this._pool.length;t<s;++t){var i;null==(i=this._pool[t].node)||i.destroy()}this._pool.length=0};var r=s.prototype;return r._init=function(){this._startPos=new _,this._endPos=new _,this._state=0,this._time=0},r.show=function(t,s,i){this._startPos.set(t,s),this._endCallback=i,this._state=1,this._time=0,this.node.setWorldPosition(this._startPos),this.showMapLayer()},r.update=function(t){if(1==this._state)this._startPos.x+=5,this._startPos.y+=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.2&&(this._state=2,this._time=0);else if(2==this._state)this._startPos.x+=2,this._startPos.y-=5,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.25&&(this._state=3,this._time=0);else if(3==this._state)this._startPos.x+=1,this._startPos.y+=3,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.15&&(this._state=4,this._time=0);else if(4==this._state)this._startPos.x+=1,this._startPos.y-=6,this.node.setWorldPosition(this._startPos),this._time+=t,this._time>=.1&&(this._state=5,this._time=0);else if(5==this._state)this._time+=t,this._time>=.3&&(this._state=6,this._time=0,m.runtime.ui.showFlyTreeIcon(this));else if(6==this._state);else if(7==this._state){this._time+=t;var i=this._time/this._totalTime;_.lerp(S,this._startPos,this._endPos,i),this.node.setWorldPosition(S),i>=1&&(this._state=8)}else if(8==this._state){var e;null==(e=this._endCallback)||e.call(this),s.Collect(this)}},r.setWorldPos=function(t){this._startPos.set(t),this.node.setWorldPosition(t)},r.moveToEnd=function(t){this._endPos.set(t),this._state=7,this._time=0,this._totalTime=_.distance(this._startPos,this._endPos)/1500},r.showUILayer=function(){this.node.layer=2,this._iconSpr.node.layer=2},r.showMapLayer=function(){this.node.layer=1,this._iconSpr.node.layer=1},n(s,[{key:"pos",get:function(){return this._startPos}}]),s}(l))._pool=[],v=s((y=D).prototype,"_iconSpr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f)),new _);r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDEnum.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"5c05dysKRtCeqNK2cIyxttw","ZDEnum",void 0);var o=e("ERoleType",function(e){return e[e.None=0]="None",e[e.HeroMain=1]="HeroMain",e[e.HeroAI=2]="HeroAI",e[e.Monster=3]="Monster",e[e.Prop=4]="Prop",e[e.Transfer=5]="Transfer",e[e.Barrier=6]="Barrier",e[e.CutTreeTree=7]="CutTreeTree",e[e.Shop=8]="Shop",e[e.Tower=9]="Tower",e[e.Bullet=10]="Bullet",e[e.Grass=11]="Grass",e[e.Spawn=12]="Spawn",e[e.Max=13]="Max",e}({}));e("UPDATE_TYPES",[o.HeroAI,o.Monster,o.Prop,o.Shop,o.Tower,o.Bullet,o.Spawn]),e("ERoleStatus",function(e){return e[e.None=0]="None",e[e.Birth=1]="Birth",e[e.Idle=2]="Idle",e[e.Death=3]="Death",e[e.Remove=4]="Remove",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDEnum3.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"65a87VsO8pJ7LzZNQCrX/RV","ZDEnum3",void 0);var o=e("ERoleType",function(e){return e[e.None=0]="None",e[e.HeroMain=1]="HeroMain",e[e.HeroAI=2]="HeroAI",e[e.Monster=3]="Monster",e[e.Prop=4]="Prop",e[e.Transfer=5]="Transfer",e[e.Barrier=6]="Barrier",e[e.CutTreeTree=7]="CutTreeTree",e[e.Shop=8]="Shop",e[e.Tower=9]="Tower",e[e.Bullet=10]="Bullet",e[e.Grass=11]="Grass",e[e.Spawn=12]="Spawn",e[e.Max=13]="Max",e}({}));e("UPDATE_TYPES",[o.HeroAI,o.Monster,o.Prop,o.Shop,o.Tower,o.Bullet,o.Spawn]),e("ERoleStatus",function(e){return e[e.None=0]="None",e[e.Birth=1]="Birth",e[e.Idle=2]="Idle",e[e.Death=3]="Death",e[e.Remove=4]="Remove",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDEnum4.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"97050N2jilGQYnzzBlQ6Wxk","ZDEnum4",void 0);var o=e("ERoleType",function(e){return e[e.None=0]="None",e[e.HeroMain=1]="HeroMain",e[e.HeroAI=2]="HeroAI",e[e.Monster=3]="Monster",e[e.Prop=4]="Prop",e[e.Transfer=5]="Transfer",e[e.Barrier=6]="Barrier",e[e.CutTreeTree=7]="CutTreeTree",e[e.Shop=8]="Shop",e[e.Tower=9]="Tower",e[e.Bullet=10]="Bullet",e[e.Grass=11]="Grass",e[e.Spawn=12]="Spawn",e[e.Max=13]="Max",e}({}));e("UPDATE_TYPES",[o.HeroAI,o.Monster,o.Prop,o.Shop,o.Tower,o.Bullet,o.Spawn]),e("ERoleStatus",function(e){return e[e.None=0]="None",e[e.Birth=1]="Birth",e[e.Idle=2]="Idle",e[e.Death=3]="Death",e[e.Remove=4]="Remove",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDEnum5.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"4aaa546AglNTp69Oc+LlROo","ZDEnum5",void 0);var o=e("ERoleType",function(e){return e[e.None=0]="None",e[e.HeroMain=1]="HeroMain",e[e.HeroAI=2]="HeroAI",e[e.Monster=3]="Monster",e[e.Prop=4]="Prop",e[e.Transfer=5]="Transfer",e[e.Barrier=6]="Barrier",e[e.CutTreeTree=7]="CutTreeTree",e[e.Shop=8]="Shop",e[e.Tower=9]="Tower",e[e.Bullet=10]="Bullet",e[e.Grass=11]="Grass",e[e.Spawn=12]="Spawn",e[e.Max=13]="Max",e}({}));e("UPDATE_TYPES",[o.HeroAI,o.Monster,o.Prop,o.Shop,o.Tower,o.Bullet,o.Spawn]),e("ERoleStatus",function(e){return e[e.None=0]="None",e[e.Birth=1]="Birth",e[e.Idle=2]="Idle",e[e.Death=3]="Death",e[e.Remove=4]="Remove",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDEnum6.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"5d2c3HsCFRNhKE0sQdPtkp3","ZDEnum6",void 0);var o=e("ERoleType",function(e){return e[e.None=0]="None",e[e.HeroMain=1]="HeroMain",e[e.HeroAI=2]="HeroAI",e[e.Monster=3]="Monster",e[e.Prop=4]="Prop",e[e.Transfer=5]="Transfer",e[e.Barrier=6]="Barrier",e[e.CutTreeTree=7]="CutTreeTree",e[e.Shop=8]="Shop",e[e.Tower=9]="Tower",e[e.Bullet=10]="Bullet",e[e.Grass=11]="Grass",e[e.Spawn=12]="Spawn",e[e.SpawnCola=13]="SpawnCola",e[e.Max=14]="Max",e}({}));e("UPDATE_TYPES",[o.HeroAI,o.Monster,o.Prop,o.Shop,o.Tower,o.Bullet,o.Spawn,o.SpawnCola]),e("ERoleStatus",function(e){return e[e.None=0]="None",e[e.Birth=1]="Birth",e[e.Idle=2]="Idle",e[e.Death=3]="Death",e[e.Remove=4]="Remove",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2Control.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl.ts","./Fog2RoleMgr.ts"],(function(o){var t,n,e,r;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy},function(o){e=o.ZDGameControl},function(o){r=o.Fog2RoleMgr}],execute:function(){n._RF.push({},"b3f4cuhVANKIoiTlD1Qeg4s","ZDFog2Control",void 0);o("ZDFog2Control",function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e._createRoleMgr=function(o){return new r(o)},e._onUpdate=function(t){o.prototype._onUpdate.call(this,t)},e.findObstructRole=function(o,t,n){return null},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2Control3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl3.ts","./Fog2RoleMgr3.ts"],(function(t){var o,n,e,r;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.default},function(t){r=t.Fog2RoleMgr3}],execute:function(){n._RF.push({},"d2cf4DIsQdGDLDgU7Kqbd1p","ZDFog2Control3",void 0);t("ZDFog2Control3",function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e._createRoleMgr=function(t){return new r(t)},e._onUpdate=function(o){t.prototype._onUpdate.call(this,o)},e.findObstructRole=function(t,o,n){return null},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2Control4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl4.ts","./Fog2RoleMgr4.ts"],(function(t){var o,n,e,r;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.ZDGameControl},function(t){r=t.Fog2RoleMgr}],execute:function(){n._RF.push({},"eaf25sxWYtJvaaCgUryaCU6","ZDFog2Control4",void 0);t("ZDFog2Control",function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e._createRoleMgr=function(t){return new r(t)},e._onUpdate=function(o){t.prototype._onUpdate.call(this,o)},e.findObstructRole=function(t,o,n){return null},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2Control5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl5.ts","./Fog2RoleMgr5.ts"],(function(o){var t,n,e,r;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy},function(o){e=o.ZDGameControl},function(o){r=o.Fog2RoleMgr}],execute:function(){n._RF.push({},"72f3dKIxRpK+qmWbp8dwrps","ZDFog2Control5",void 0);o("ZDFog2Control",function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e._createRoleMgr=function(o){return new r(o)},e._onUpdate=function(t){o.prototype._onUpdate.call(this,t)},e.findObstructRole=function(o,t,n){return null},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2Control6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl6.ts"],(function(t){var o,n,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.ZDGameControl}],execute:function(){n._RF.push({},"afa67DQfn5CgYQDCfwgyhw3","ZDFog2Control6",void 0);t("ZDFog2Control",function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e._onUpdate=function(o){t.prototype._onUpdate.call(this,o)},e.findObstructRole=function(t,o,n){return null},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2View.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp.ts","./ZDGameView.ts","./LevelMapFog2Cmp.ts"],(function(n){var e,t,o,r,i,u,a;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){i=n.LevelMapBaseCmp},function(n){u=n.ZDGameView},function(n){a=n.LevelMapFog2Cmp}],execute:function(){r._RF.push({},"190338G8KlI3pm9t3rB7ivo","ZDFog2View",void 0);n("ZDFog2View",function(n){function r(){return n.apply(this,arguments)||this}e(r,n);var u=r.prototype;return u._onInit=function(){},u._onUpdate=function(n){var e;null==(e=this._curMapNode)||null==(e=e.getComponent(i))||e.logicUpdate(n)},u._onClear=function(){var n,e;this._curMapNode!=this._mainMapNode&&(null==(e=this._mainMapNode)||null==(e=e.getComponent(i))||e.clear());null==(n=this._curMapNode)||null==(n=n.getComponent(i))||n.clear()},u._onAddHero=function(n){},u.showNoneCircleFog=function(n,e){var t;null==(t=this._curMapNode.getComponent(i))||t.showNoneCircleFog(n,e)},u.mainHeroPosChange=function(n){var e;null==(e=this._curMapNode.getComponent(i))||e.updateFog()},u._onEnter=function(){var n=t(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==(e=this._curMapNode.getComponent(i))?void 0:e.onEnter();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),u.isInPicture=function(n){var e=this._curMapNode.getComponent(a);return!e||e.isInPictureRect(n)},r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2View3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp3.ts","./ZDGameView3.ts","./LevelMapFog2Cmp3.ts"],(function(n){var e,t,o,r,i,u,a;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){i=n.LevelMapBaseCmp3},function(n){u=n.ZDGameView3},function(n){a=n.LevelMapFog2Cmp3}],execute:function(){r._RF.push({},"af56eItuAxNeLmTUFKS+M+m","ZDFog2View3",void 0);n("ZDFog2View3",function(n){function r(){return n.apply(this,arguments)||this}e(r,n);var u=r.prototype;return u._onInit=function(){},u._onUpdate=function(n){var e;null==(e=this._curMapNode)||null==(e=e.getComponent(i))||e.logicUpdate(n)},u._onClear=function(){var n,e;this._curMapNode!=this._mainMapNode&&(null==(e=this._mainMapNode)||null==(e=e.getComponent(i))||e.clear());null==(n=this._curMapNode)||null==(n=n.getComponent(i))||n.clear()},u._onAddHero=function(n){},u.showNoneCircleFog=function(n,e){var t;null==(t=this._curMapNode.getComponent(i))||t.showNoneCircleFog(n,e)},u.mainHeroPosChange=function(n){var e;null==(e=this._curMapNode.getComponent(i))||e.updateFog()},u._onEnter=function(){var n=t(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==(e=this._curMapNode.getComponent(i))?void 0:e.onEnter();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),u.isInPicture=function(n){var e=this._curMapNode.getComponent(a);return!e||e.isInPictureRect(n)},r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2View4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp4.ts","./ZDGameView4.ts","./LevelMapFog2Cmp4.ts"],(function(n){var e,t,o,r,i,u,a;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){i=n.LevelMapBaseCmp4},function(n){u=n.ZDGameView},function(n){a=n.LevelMapFog2Cmp4}],execute:function(){r._RF.push({},"4c8b6JbMMBJ6ItYrAH+GlFQ","ZDFog2View4",void 0);n("ZDFog2View",function(n){function r(){return n.apply(this,arguments)||this}e(r,n);var u=r.prototype;return u._onInit=function(){},u._onUpdate=function(n){var e;null==(e=this._curMapNode)||null==(e=e.getComponent(i))||e.logicUpdate(n)},u._onClear=function(){var n,e;this._curMapNode!=this._mainMapNode&&(null==(e=this._mainMapNode)||null==(e=e.getComponent(i))||e.clear());null==(n=this._curMapNode)||null==(n=n.getComponent(i))||n.clear()},u._onAddHero=function(n){},u.showNoneCircleFog=function(n,e){var t;null==(t=this._curMapNode.getComponent(i))||t.showNoneCircleFog(n,e)},u.mainHeroPosChange=function(n){var e;null==(e=this._curMapNode.getComponent(i))||e.updateFog()},u._onEnter=function(){var n=t(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==(e=this._curMapNode.getComponent(i))?void 0:e.onEnter();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),u.isInPicture=function(n){var e=this._curMapNode.getComponent(a);return!e||e.isInPictureRect(n)},r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2View5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp5.ts","./ZDGameView5.ts","./LevelMapFog2Cmp5.ts"],(function(n){var e,t,o,r,i,u,a;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){i=n.LevelMapBaseCmp5},function(n){u=n.ZDGameView},function(n){a=n.LevelMapFog2Cmp5}],execute:function(){r._RF.push({},"4a21cnrggxCGaFszXLQfX4W","ZDFog2View5",void 0);n("ZDFog2View",function(n){function r(){return n.apply(this,arguments)||this}e(r,n);var u=r.prototype;return u._onInit=function(){},u._onUpdate=function(n){var e;null==(e=this._curMapNode)||null==(e=e.getComponent(i))||e.logicUpdate(n)},u._onClear=function(){var n,e;this._curMapNode!=this._mainMapNode&&(null==(e=this._mainMapNode)||null==(e=e.getComponent(i))||e.clear());null==(n=this._curMapNode)||null==(n=n.getComponent(i))||n.clear()},u._onAddHero=function(n){},u.showNoneCircleFog=function(n,e){var t;null==(t=this._curMapNode.getComponent(i))||t.showNoneCircleFog(n,e)},u.mainHeroPosChange=function(n){var e;null==(e=this._curMapNode.getComponent(i))||e.updateFog()},u._onEnter=function(){var n=t(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==(e=this._curMapNode.getComponent(i))?void 0:e.onEnter();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),u.isInPicture=function(n){var e=this._curMapNode.getComponent(a);return!e||e.isInPictureRect(n)},r}(u));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFog2View6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp6.ts","./ZDGameState6.ts","./ZDGameView6.ts","./LevelMapFog2Cmp6.ts"],(function(n){var t,e,r,o,a,i,p,u,l;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,r=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){a=n.cclegacy},function(n){i=n.LevelMapBaseCmp6},function(n){p=n.ZDGameState6},function(n){u=n.ZDGameView},function(n){l=n.LevelMapFog2Cmp6}],execute:function(){a._RF.push({},"63c95zqGAREjbJAqa4apmbj","ZDFog2View6",void 0);n("ZDFog2View",function(n){function a(){return n.apply(this,arguments)||this}t(a,n);var u=a.prototype;return u._onInit=function(){},u._onUpdate=function(n){var t;null==(t=this.mapCtrl.currentMap.mapNode)||null==(t=t.getComponent(i))||t.logicUpdate(n)},u._onClear=function(){var n,t;this.mapCtrl.currentMap.isMain||(null==(t=this.mapCtrl.mainMap.mapNode)||null==(t=t.getComponent(i))||t.clear());null==(n=this.mapCtrl.currentMap.mapNode)||null==(n=n.getComponent(i))||n.clear()},u._onAddHero=function(n){},u.showNoneCircleFog=function(n,t){var e;null==(e=this.mapCtrl.currentMap.mapNode.getComponent(i))||e.showNoneCircleFog(n,t)},u.mainHeroPosChange=function(n){var t;null==(t=this.mapCtrl.currentMap.mapNode.getComponent(i))||t.updateFog()},u._onEnter=function(){var n=r(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.showNoneCircleFog(this.mapCtrl.currentMap.roleMgr.mainHero.pos,this.mapCtrl.currentMap.roleMgr.mainHero.radius),this.mainHeroPosChange(null),n.next=4,null==(t=this.mapCtrl.currentMap.mapNode.getComponent(i))?void 0:t.onEnter();case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),u.isInPicture=function(n){var t=this.mapCtrl.currentMap.mapNode.getComponent(l);return!t||t.isInPictureRect(n)},e(a,[{key:"mapCtrl",get:function(){return p.runtime.control.mapCtrl}}]),a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl.ts"],(function(o){var t,n,e;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy},function(o){e=o.ZDGameControl}],execute:function(){n._RF.push({},"edf509phUtGxaHHM7x/wLlF","ZDFogControl",void 0);o("ZDFogControl",function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogControl3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl3.ts"],(function(t){var o,n,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.default}],execute:function(){n._RF.push({},"a9c34jSuplKdZX6CB8wAkK9","ZDFogControl3",void 0);t("ZDFogControl3",function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogControl4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl4.ts"],(function(o){var n,t,e;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy},function(o){e=o.ZDGameControl}],execute:function(){t._RF.push({},"ee745T3dy9JKZxe89InWT/K","ZDFogControl4",void 0);o("ZDFogControl",function(o){function t(){return o.apply(this,arguments)||this}return n(t,o),t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogControl5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl5.ts"],(function(o){var t,n,r;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy},function(o){r=o.ZDGameControl}],execute:function(){n._RF.push({},"d9ed8lfywlO8rSGOcSrD7S6","ZDFogControl5",void 0);o("ZDFogControl",function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogControl6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl6.ts"],(function(o){var n,t,e;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy},function(o){e=o.ZDGameControl}],execute:function(){t._RF.push({},"3fe29n46yZBsoDdn9vl8oTh","ZDFogControl6",void 0);o("ZDFogControl",function(o){function t(){return o.apply(this,arguments)||this}return n(t,o),t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp.ts","./ZDConst.ts","./ZDGameView.ts"],(function(n){var o,e,t,i,a;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy},function(n){t=n.LevelMapBaseCmp},function(n){i=n.FOG_CFG},function(n){a=n.ZDGameView}],execute:function(){e._RF.push({},"9aa3cfdnDFOyLrTnMXKzZaI","ZDFogView",void 0);n("ZDFogView",function(n){function e(){return n.apply(this,arguments)||this}o(e,n);var a=e.prototype;return a._onInit=function(){},a._onUpdate=function(n){},a._onClear=function(){var n,o;this._curMapNode!=this._mainMapNode&&(null==(o=this._mainMapNode)||null==(o=o.getComponent(t))||o.clear());null==(n=this._curMapNode)||null==(n=n.getComponent(t))||n.clear()},a._onAddHero=function(n){6==n.config.agent&&this.showNoneCircleFog(n.pos,n.config.weapon_radius+i.HERO_RADIUS_ADD)},a.showNoneCircleFog=function(n,o){var e;null==(e=this._curMapNode.getComponent(t))||e.showNoneCircleFog(n,o)},a.mainHeroPosChange=function(n){var o;null==(o=this._curMapNode.getComponent(t))||o.updateFog()},e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp3.ts","./ZDConst3.ts","./ZDGameView3.ts"],(function(n){var e,o,t,i,u;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy},function(n){t=n.LevelMapBaseCmp3},function(n){i=n.FOG_CFG},function(n){u=n.ZDGameView3}],execute:function(){o._RF.push({},"bc3899+0O1M4Jnq3LRLjTbe","ZDFogView3",void 0);n("ZDFogView3",function(n){function o(){return n.apply(this,arguments)||this}e(o,n);var u=o.prototype;return u._onInit=function(){},u._onUpdate=function(n){},u._onClear=function(){var n,e;this._curMapNode!=this._mainMapNode&&(null==(e=this._mainMapNode)||null==(e=e.getComponent(t))||e.clear());null==(n=this._curMapNode)||null==(n=n.getComponent(t))||n.clear()},u._onAddHero=function(n){6==n.config.agent&&this.showNoneCircleFog(n.pos,n.weaponRadius+i.HERO_RADIUS_ADD)},u.showNoneCircleFog=function(n,e){var o;null==(o=this._curMapNode.getComponent(t))||o.showNoneCircleFog(n,e)},u.mainHeroPosChange=function(n){var e;null==(e=this._curMapNode.getComponent(t))||e.updateFog()},o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp4.ts","./ZDConst4.ts","./ZDGameView4.ts"],(function(n){var o,e,t,i,u;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy},function(n){t=n.LevelMapBaseCmp4},function(n){i=n.FOG_CFG},function(n){u=n.ZDGameView}],execute:function(){e._RF.push({},"51c38am6URHs4sXOSnAPBTs","ZDFogView4",void 0);n("ZDFogView",function(n){function e(){return n.apply(this,arguments)||this}o(e,n);var u=e.prototype;return u._onInit=function(){},u._onUpdate=function(n){},u._onClear=function(){var n,o;this._curMapNode!=this._mainMapNode&&(null==(o=this._mainMapNode)||null==(o=o.getComponent(t))||o.clear());null==(n=this._curMapNode)||null==(n=n.getComponent(t))||n.clear()},u._onAddHero=function(n){6==n.config.agent&&this.showNoneCircleFog(n.pos,n.config.weapon_radius+i.HERO_RADIUS_ADD)},u.showNoneCircleFog=function(n,o){var e;null==(e=this._curMapNode.getComponent(t))||e.showNoneCircleFog(n,o)},u.mainHeroPosChange=function(n){var o;null==(o=this._curMapNode.getComponent(t))||o.updateFog()},e}(u));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp5.ts","./ZDConst5.ts","./ZDGameView5.ts"],(function(n){var o,e,t,i,u;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy},function(n){t=n.LevelMapBaseCmp5},function(n){i=n.FOG_CFG},function(n){u=n.ZDGameView}],execute:function(){e._RF.push({},"4b66cfpaGpIipSRj4pz+Vv/","ZDFogView5",void 0);n("ZDFogView",function(n){function e(){return n.apply(this,arguments)||this}o(e,n);var u=e.prototype;return u._onInit=function(){},u._onUpdate=function(n){},u._onClear=function(){var n,o;this._curMapNode!=this._mainMapNode&&(null==(o=this._mainMapNode)||null==(o=o.getComponent(t))||o.clear());null==(n=this._curMapNode)||null==(n=n.getComponent(t))||n.clear()},u._onAddHero=function(n){6==n.config.agent&&this.showNoneCircleFog(n.pos,n.config.weapon_radius+i.HERO_RADIUS_ADD)},u.showNoneCircleFog=function(n,o){var e;null==(e=this._curMapNode.getComponent(t))||e.showNoneCircleFog(n,o)},u.mainHeroPosChange=function(n){var o;null==(o=this._curMapNode.getComponent(t))||o.updateFog()},e}(u));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDFogView6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelMapBaseCmp6.ts","./ZDConst6.ts","./ZDGameView6.ts","./ZDGameState6.ts"],(function(n){var e,t,o,r,a,i,u,s,c;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass,o=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){a=n.cclegacy},function(n){i=n.LevelMapBaseCmp6},function(n){u=n.FOG_CFG},function(n){s=n.ZDGameView},function(n){c=n.ZDGameState6}],execute:function(){a._RF.push({},"2db7cTrjzVEX6vzusR3sn9W","ZDFogView6",void 0);n("ZDFogView",function(n){function a(){return n.apply(this,arguments)||this}e(a,n);var s=a.prototype;return s._onInit=function(){},s._onUpdate=function(n){},s._onClear=function(){var n,e;this.mapCtrl.currentMap.isMain||(null==(e=this.mapCtrl.mainMap.mapNode)||null==(e=e.getComponent(i))||e.clear());null==(n=this.mapCtrl.currentMap.mapNode)||null==(n=n.getComponent(i))||n.clear()},s._onAddHero=function(n){6==n.config.agent&&this.showNoneCircleFog(n.pos,n.config.weapon_radius+u.HERO_RADIUS_ADD)},s.showNoneCircleFog=function(n,e){var t;null==(t=this.mapCtrl.currentMap.mapNode.getComponent(i))||t.showNoneCircleFog(n,e)},s.mainHeroPosChange=function(n){var e;null==(e=this.mapCtrl.currentMap.mapNode.getComponent(i))||e.updateFog()},s._onEnter=function(){var n=o(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.showNoneCircleFog(this.mapCtrl.currentMap.roleMgr.mainHero.pos,this.mapCtrl.currentMap.roleMgr.mainHero.radius),this.mainHeroPosChange(null);case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t(a,[{key:"mapCtrl",get:function(){return c.runtime.control.mapCtrl}}]),a}(s));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMapConfig4.ts","./Awaiters.ts","./LoseDialog2.ts","./WinDialog.ts","./RoleBulletPool.ts","./RoleMgr2.ts","./RunTimeData2.ts","./ZDConfigItemCmp.ts","./ZDLevelCfgSolver.ts","./Spawner.ts","./FlyWeaponMgr.ts","./ZDEnum.ts","./ZDGameState.ts"],(function(e){var t,r,i,n,o,a,s,h,u,l,_,f,p,c,M,m,g,d;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.math},function(e){a=e.ZdMapConfig},function(e){s=e.Awaiters},function(e){h=e.LoseDialog},function(e){u=e.WinDialog},function(e){l=e.RoleBulletPool},function(e){_=e.RoleMgr},function(e){f=e.RunTimeData},function(e){p=e.EConfigItemType},function(e){c=e.ZDLevelCfgSolver},function(e){M=e.Spawner},function(e){m=e.FlyWeaponMgr},function(e){g=e.ERoleType},function(e){d=e.ZDGameState}],execute:function(){n._RF.push({},"a599awj51VK+b32T1eINcqM","ZDGameControl",void 0);e("ZDGameControl",function(){function e(){this._roleMgr=void 0,this._spawner=void 0,this._flyWeaponMgr=void 0,this._totalTime=void 0,this._isInMainMap=void 0,this._totalHeroCnt=void 0,this._dieHeroCnt=void 0,this._runTimeData=void 0,this._saveTimeData=void 0,this._monsterBirthPosArr=void 0,this._runTime=void 0,this._mainMapCfg=void 0,this._gameMode=void 0,this.rebornCnt=0,this._runTimeData=new f,this._saveTimeData=new f,this._roleMgr=this._createRoleMgr(this._runTimeData),this._spawner=new M(this._runTimeData),this._flyWeaponMgr=new m,this._totalTime=99999,this._totalHeroCnt=99999,this._dieHeroCnt=0,this._runTime=0,this._monsterBirthPosArr=[]}var n=e.prototype;return n._createRoleMgr=function(e){return new _(e)},n.init=function(){var e=r(i().mark((function e(t,r,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInMainMap=!0,this._totalTime=t.time,this._gameMode=n,this._mainMapCfg=a.data[t.map_id],this._spawner.initData(t.monster_spawn,t.hero_spawn),o=r.uiTransform.contentSize,this._runTimeData.barrierBox.init(o.width,o.height),this._runTimeData.cutTreeBox.init(o.width,o.height),e.next=10,s.NextFrame();case 10:this._initByCfg(r,!0),this.onMainRoleChangeWeapon(this.mainHero.weaponId),this._mainMapCfg.auto_prop&&this._initRefreshProp(),this._totalHeroCnt=this._runTimeData.aiHeros.length+this._runTimeData.spawnHeros.length;case 14:case"end":return e.stop()}}),e,this)})));return function(t,r,i){return e.apply(this,arguments)}}(),n.clear=function(){l.Clear()},n._initByCfg=function(e,t){var r=this;c.parseMapNode(e,(function(e){if(e.type==p.MainHero)r._roleMgr.mainHero?r.mainHero.setPos2f(e.x,e.y):r._roleMgr.createRole(g.HeroMain,e.id,e.x,e.y);else if(e.type==p.Hero)r._roleMgr.createRole(g.HeroAI,e.id,e.x,e.y);else if(e.type==p.Prop)r._roleMgr.createRole(g.Prop,e.id,e.x,e.y);else if(e.type==p.Transfer)r._roleMgr.createRole(g.Transfer,e.id,e.x,e.y,e.style);else if(e.type==p.Monster){var i=r._roleMgr.createRole(g.Monster,e.id,e.x,e.y);0==e.moveType?4==r._gameMode?i.moveByMainHero():2==r._gameMode?(i.randomMove(),t&&r._monsterBirthPosArr.push({x:e.x,y:e.y})):i.randomMove():1==e.moveType?i.randomMove():2==e.moveType&&i.moveByMainHero()}else e.type==p.Barrier?r._roleMgr.createRole(g.Barrier,e.id,e.x,e.y):e.type==p.CutTreeTree?r._roleMgr.createRole(g.CutTreeTree,e.id,e.x,e.y,e.hp):e.type==p.Shop?r._roleMgr.createRole(g.Shop,e.id,e.x,e.y):e.type==p.Tower?r._roleMgr.createRole(g.Tower,e.id,e.x,e.y):e.type==p.Grass?r._roleMgr.createRole(g.Grass,e.id,e.x,e.y):e.type==p.Spawn&&r._roleMgr.createRole(g.Spawn,e.id,e.x,e.y,function(e){if(e==p.MainHero)return g.HeroMain;if(e==p.Hero)return g.HeroAI;if(e==p.Prop)return g.Prop;if(e==p.Transfer)return g.Transfer;if(e==p.Monster)return g.Monster;if(e==p.Barrier)return g.Barrier;if(e==p.CutTreeTree)return g.CutTreeTree;if(e==p.Shop)return g.Shop;if(e==p.Tower)return g.Tower;if(e==p.Grass)return g.Grass;if(e==p.Spawn)return g.Spawn}(e.spawnType),e.spawnId,e.param1,e.param2)}),!0)},n.changeSubMap=function(){var e=r(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInMainMap=!1,this._saveTimeData.set(this._runTimeData),this._saveTimeData.mainHeroPos.set(this.mainHero.pos.x,this.mainHero.pos.y),this.mainHero.setVisible(!0),this._roleMgr.hideAllRole(),this._runTimeData.reset(),n=r.uiTransform.contentSize,this._runTimeData.barrierBox.init(n.width,n.height),this._runTimeData.cutTreeBox.init(n.width,n.height),this.mainHero.showView(),this._initByCfg(r,!1),this.mainHero.hideTransfer(),e.next=14,s.NextFrame();case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.changeMain=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isInMainMap=!0,this._roleMgr.clearOther(),this._runTimeData.reset(),this._runTimeData.set(this._saveTimeData),this.mainHero.setVisible(!0),this._roleMgr.showAllRole(),this.onMainRoleChangeWeapon(this.mainHero.weaponId),this.mainHero.setPos2f(this._runTimeData.mainHeroPos.x,this._runTimeData.mainHeroPos.y),this.mainHero.hideTransfer();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getProgressView=function(){return""+(this._totalHeroCnt-this._dieHeroCnt)},n.update=function(e){if(this._runTime+=e,this._isInMainMap){if(this._runTimeData.runTime+=e,this._dieHeroCnt>=this._totalHeroCnt)return void this._win();this._spawner.update(e)}this._roleMgr.update(e),this._flyWeaponMgr.update(e),this._onUpdate(e)},n.mainHeroMove=function(e,t){var r;null==(r=this._roleMgr.mainHero)||r.startMove(e,t)},n.mainHeroCancelMove=function(){var e;null==(e=this._roleMgr.mainHero)||e.endMove()},n.showFlyWeapon=function(e,t,r,i,n){this._flyWeaponMgr.show(e,t,r,i,n)},n.spawnHero=function(e,t,r){return this._roleMgr.addHero(e,t,r)},n.spawnMonster=function(e,t,r,i){return this._roleMgr.addMonster(e,r,i)},n.dropProp=function(e,t,r){this._roleMgr.addProp(e,t,r)},n.addTower=function(e,t,r){this._roleMgr.createRole(g.Tower,e,t,r)},n.addBullet=function(e,t,r){return this._roleMgr.createRole(g.Bullet,e,t,r)},n.addRole=function(e,t,r,i,n){this._roleMgr.createRole(e,t,r,i,n)},n.onHeroDie=function(e){e!=this._roleMgr.mainHero?(this._roleMgr.onHeroDie(e),this._isInMainMap&&(this._dieHeroCnt+=1)):this._lose()},n.onMonsterDie=function(e){this._roleMgr.onMonsterDie(e)},n.onPropRemove=function(e){e.isAutoRefresh&&this._roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},n.onMainRoleChangeWeapon=function(e){this._roleMgr.onChangeMainRoleWeapon(e),d.runtime.ui.onChangeMainWeapon(e)},n.findObstructRole=function(e,t,r){var i=this._roleMgr.getRoleNewPosCollisionBarrier(e,t,r);return i||(i=this._roleMgr.getRoleNewPosCollisionTower(e,t,r))},n.findHeroByShortDisMainHero=function(){return this._roleMgr.findHeroByShortDis()},n.findTowerTarget=function(e){return this._roleMgr.findTowerTarget(e)},n._initRefreshProp=function(){for(var e=o.randomRangeInt(this._mainMapCfg.auto_cnt_range[0],this._mainMapCfg.auto_cnt_range[1]);e-- >=0;)this._roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},n._win=function(){u.Show(this._runTime,this._dieHeroCnt/this._totalHeroCnt)},n._lose=function(){h.Show(this._runTime,this._dieHeroCnt/this._totalHeroCnt)},n._onUpdate=function(e){},t(e,[{key:"roleMgr",get:function(){return this._roleMgr}},{key:"isInMainMap",get:function(){return this._isInMainMap}},{key:"monsterBirthPosArr",get:function(){return this._monsterBirthPosArr}},{key:"mainHero",get:function(){return this._roleMgr.mainHero}},{key:"aiHeros",get:function(){return this._runTimeData.aiHeros}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameControl3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMapConfig5.ts","./Awaiters.ts","./LoseDialog3.ts","./WinDialog3.ts","./RoleBulletPool3.ts","./RoleMgr3.ts","./RunTimeData3.ts","./ZDConfigItemCmp3.ts","./ZDLevelCfgSolver3.ts","./Spawner3.ts","./FlyWeaponMgr3.ts","./WeaponPool3.ts","./ZDEnum3.ts","./ZDGameState3.ts"],(function(e){var t,r,i,n,o,a,s,h,u,l,_,f,p,c,M,g,m,d,T;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.math},function(e){a=e.ZdMapConfig},function(e){s=e.Awaiters},function(e){h=e.LoseDialog3},function(e){u=e.WinDialog3},function(e){l=e.RoleBulletPool3},function(e){_=e.RoleMgr3},function(e){f=e.RunTimeData3},function(e){p=e.EConfigItemType},function(e){c=e.ZDLevelCfgSolver3},function(e){M=e.Spawner3},function(e){g=e.FlyWeaponMgr3},function(e){m=e.WeaponPool3},function(e){d=e.ERoleType},function(e){T=e.ZDGameState3}],execute:function(){n._RF.push({},"8ccffTEqXRCBIq6/d617wXb","ZDGameControl3",void 0);e("default",function(){function e(){this._roleMgr=void 0,this._spawner=void 0,this._flyWeaponMgr=void 0,this._totalTime=void 0,this._isInMainMap=void 0,this._totalHeroCnt=void 0,this._dieHeroCnt=void 0,this._runTimeData=void 0,this._saveTimeData=void 0,this._monsterBirthPosArr=void 0,this._runTime=void 0,this._mainMapCfg=void 0,this._gameMode=void 0,this.rebornCnt=0,this._runTimeData=new f,this._saveTimeData=new f,this._roleMgr=this._createRoleMgr(this._runTimeData),this._spawner=new M(this._runTimeData),this._flyWeaponMgr=new g,this._totalTime=99999,this._totalHeroCnt=99999,this._dieHeroCnt=0,this._runTime=0,this._monsterBirthPosArr=[]}var n=e.prototype;return n._createRoleMgr=function(e){return new _(e)},n.init=function(){var e=r(i().mark((function e(t,r,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInMainMap=!0,this._totalTime=t.time,this._gameMode=n,this._mainMapCfg=a.data[t.map_id],this._spawner.initData(t.monster_spawn,t.hero_spawn),o=r.uiTransform.contentSize,this._runTimeData.barrierBox.init(o.width,o.height),this._runTimeData.cutTreeBox.init(o.width,o.height),e.next=10,s.NextFrame();case 10:this._initByCfg(r,!0),this.onMainRoleChangeWeapon(this.mainHero.weaponId),this._mainMapCfg.auto_prop&&this._initRefreshProp(),this._totalHeroCnt=this._runTimeData.aiHeros.length+this._runTimeData.spawnHeros.length;case 14:case"end":return e.stop()}}),e,this)})));return function(t,r,i){return e.apply(this,arguments)}}(),n.clear=function(){l.Clear(),m.Free()},n._initByCfg=function(e,t){var r=this;c.parseMapNode(e,(function(e){if(e.type==p.MainHero)r._roleMgr.mainHero?r.mainHero.setPos2f(e.x,e.y):r._roleMgr.createRole(d.HeroMain,e.id,e.x,e.y);else if(e.type==p.Hero)r._roleMgr.createRole(d.HeroAI,e.id,e.x,e.y);else if(e.type==p.Prop)r._roleMgr.createRole(d.Prop,e.id,e.x,e.y);else if(e.type==p.Transfer)r._roleMgr.createRole(d.Transfer,e.id,e.x,e.y,e.style);else if(e.type==p.Monster){var i=r._roleMgr.createRole(d.Monster,e.id,e.x,e.y);0==e.moveType?4==r._gameMode?i.moveByMainHero():2==r._gameMode?(i.randomMove(),t&&r._monsterBirthPosArr.push({x:e.x,y:e.y})):i.randomMove():1==e.moveType?i.randomMove():2==e.moveType&&i.moveByMainHero()}else e.type==p.Barrier?r._roleMgr.createRole(d.Barrier,e.id,e.x,e.y):e.type==p.CutTreeTree?r._roleMgr.createRole(d.CutTreeTree,e.id,e.x,e.y,e.hp):e.type==p.Shop?r._roleMgr.createRole(d.Shop,e.id,e.x,e.y):e.type==p.Tower?r._roleMgr.createRole(d.Tower,e.id,e.x,e.y):e.type==p.Grass?r._roleMgr.createRole(d.Grass,e.id,e.x,e.y):e.type==p.Spawn&&r._roleMgr.createRole(d.Spawn,e.id,e.x,e.y,function(e){if(e==p.MainHero)return d.HeroMain;if(e==p.Hero)return d.HeroAI;if(e==p.Prop)return d.Prop;if(e==p.Transfer)return d.Transfer;if(e==p.Monster)return d.Monster;if(e==p.Barrier)return d.Barrier;if(e==p.CutTreeTree)return d.CutTreeTree;if(e==p.Shop)return d.Shop;if(e==p.Tower)return d.Tower;if(e==p.Grass)return d.Grass;if(e==p.Spawn)return d.Spawn}(e.spawnType),e.spawnId,e.param1,e.param2)}),!0)},n.changeSubMap=function(){var e=r(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInMainMap=!1,this._saveTimeData.set(this._runTimeData),this._saveTimeData.mainHeroPos.set(this.mainHero.pos.x,this.mainHero.pos.y),this.mainHero.setVisible(!0),this._roleMgr.hideAllRole(),this._runTimeData.reset(),n=r.uiTransform.contentSize,this._runTimeData.barrierBox.init(n.width,n.height),this._runTimeData.cutTreeBox.init(n.width,n.height),this.mainHero.showView(),this._initByCfg(r,!1),this.mainHero.hideTransfer(),e.next=14,s.NextFrame();case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.changeMain=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isInMainMap=!0,this._roleMgr.clearOther(),this._runTimeData.reset(),this._runTimeData.set(this._saveTimeData),this.mainHero.setVisible(!0),this._roleMgr.showAllRole(),this.onMainRoleChangeWeapon(this.mainHero.weaponId),this.mainHero.setPos2f(this._runTimeData.mainHeroPos.x,this._runTimeData.mainHeroPos.y),this.mainHero.hideTransfer();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getProgressView=function(){return""+(this._totalHeroCnt-this._dieHeroCnt)},n.update=function(e){if(this._runTime+=e,this._isInMainMap){if(this._runTimeData.runTime+=e,this._dieHeroCnt>=this._totalHeroCnt)return void this._win();this._spawner.update(e)}this._roleMgr.update(e),this._flyWeaponMgr.update(e),this._onUpdate(e)},n.mainHeroMove=function(e,t){var r;null==(r=this._roleMgr.mainHero)||r.startMove(e,t)},n.mainHeroCancelMove=function(){var e;null==(e=this._roleMgr.mainHero)||e.endMove()},n.showFlyWeapon=function(e,t,r,i,n,o){void 0===o&&(o=!1),this._flyWeaponMgr.show(e.id,e.res,t,r,i,n,o)},n.spawnHero=function(e,t,r){return this._roleMgr.addHero(e,t,r)},n.spawnMonster=function(e,t,r,i){return this._roleMgr.addMonster(e,r,i)},n.dropProp=function(e,t,r){for(var i,n=arguments.length,o=new Array(n>3?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];(i=this._roleMgr).addProp.apply(i,[e,t,r].concat(o))},n.addTower=function(e,t,r){this._roleMgr.createRole(d.Tower,e,t,r)},n.addBullet=function(e,t,r){return this._roleMgr.createRole(d.Bullet,e,t,r)},n.addRole=function(e,t,r,i,n){this._roleMgr.createRole(e,t,r,i,n)},n.onHeroDie=function(e){e!=this._roleMgr.mainHero?(this._roleMgr.onHeroDie(e),this._isInMainMap&&(this._dieHeroCnt+=1)):this._lose()},n.onMonsterDie=function(e){this._roleMgr.onMonsterDie(e)},n.onPropRemove=function(e){e.isAutoRefresh&&this._roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},n.onMainRoleChangeWeapon=function(e){this._roleMgr.onChangeMainRoleWeapon(e),T.runtime.ui.onChangeMainWeapon(e)},n.findObstructRole=function(e,t,r){var i=this._roleMgr.getRoleNewPosCollisionBarrier(e,t,r);return i||(i=this._roleMgr.getRoleNewPosCollisionTower(e,t,r))},n.findHeroByShortDisMainHero=function(e){return this._roleMgr.findHeroByShortDis(e)},n.findTowerTarget=function(e){return this._roleMgr.findTowerTarget(e)},n.checkMoveEnable=function(e,t,r){var i=e.pos.x+t,n=e.pos.y+r;return!this.findObstructRole(e,i,n)},n.findMovablePosNearby=function(e,t,r,i){var n=e;this.findObstructRole(n,t,r)&&this._roleMgr.getArrivalePos(t,r,i)||(i.x=t,i.y=r)},n._initRefreshProp=function(){for(var e=o.randomRangeInt(this._mainMapCfg.auto_cnt_range[0],this._mainMapCfg.auto_cnt_range[1]);e-- >=0;)this._roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},n._win=function(){u.Show(this._runTime,this._dieHeroCnt/this._totalHeroCnt)},n._lose=function(){h.Show(this._runTime,this._dieHeroCnt/this._totalHeroCnt)},n._onUpdate=function(e){},t(e,[{key:"roleMgr",get:function(){return this._roleMgr}},{key:"isInMainMap",get:function(){return this._isInMainMap}},{key:"monsterBirthPosArr",get:function(){return this._monsterBirthPosArr}},{key:"mainHero",get:function(){return this._roleMgr.mainHero}},{key:"aiHeros",get:function(){return this._runTimeData.aiHeros}},{key:"props",get:function(){return this._runTimeData.props}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameControl4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWave2.ts","./ZdMapConfig3.ts","./Awaiters.ts","./LoseDialog4.ts","./WinDialog4.ts","./RoleBulletPool4.ts","./RoleMgr4.ts","./RoleMonster4.ts","./RunTimeData4.ts","./ZDConfigItemCmp4.ts","./ZDLevelCfgSolver4.ts","./FlyWeaponMgr4.ts","./ZDEnum4.ts","./ZDGameState4.ts"],(function(e){var t,r,i,n,o,a,s,h,u,l,_,f,c,p,M,m,g,d,T;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.math},function(e){a=e.ZdWave},function(e){s=e.ZdMapConfig},function(e){h=e.Awaiters},function(e){u=e.LoseDialog4},function(e){l=e.WinDialog4},function(e){_=e.RoleBulletPool},function(e){f=e.RoleMgr},function(e){c=e.MonsterType},function(e){p=e.RunTimeData4},function(e){M=e.EConfigItemType},function(e){m=e.ZDLevelCfgSolver},function(e){g=e.FlyWeaponMgr},function(e){d=e.ERoleType},function(e){T=e.ZDGameState4}],execute:function(){n._RF.push({},"8ec96USRjZOa5ntNOcRgSY6","ZDGameControl4",void 0);e("ZDGameControl",function(){function e(){this._roleMgr=void 0,this._flyWeaponMgr=void 0,this._totalTime=void 0,this._isInMainMap=void 0,this._totalHeroCnt=void 0,this._dieHeroCnt=void 0,this._runTimeData=void 0,this._saveTimeData=void 0,this._monsterBirthPosArr=void 0,this._runTime=void 0,this._mainMapCfg=void 0,this._gameMode=void 0,this.rebornCnt=0,this._runTimeData=new p,p.RunTimeIns=this._runTimeData,this._saveTimeData=new p,this._roleMgr=this._createRoleMgr(this._runTimeData),this._flyWeaponMgr=new g,this._totalTime=99999,this._totalHeroCnt=99999,this._dieHeroCnt=0,this._runTime=0,this._monsterBirthPosArr=[]}var n=e.prototype;return n._createRoleMgr=function(e){return new f(e)},n.init=function(){var e=r(i().mark((function e(t,r,n){var o,u=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInMainMap=!0,this._totalTime=t.time,this._gameMode=n,this._mainMapCfg=s.data[t.map_id],o=r.uiTransform.contentSize,this._runTimeData.barrierBox.init(o.width,o.height),this._runTimeData.cutTreeBox.init(o.width,o.height),e.next=9,h.NextFrame();case 9:this._initByCfg(r,!0),this.onMainRoleChangeWeapon(this.mainHero.weaponId),this._mainMapCfg.auto_prop&&this._initRefreshProp(),this._totalHeroCnt=0,a.dataList.forEach((function(e){e.monsterList1.split("|").forEach((function(t){t&&""!=t&&(u._totalHeroCnt+=Math.floor(Number(t.split("_")[1])/e.row)*e.row)})),e.monsterList2.split("|").forEach((function(t){t&&""!=t&&(u._totalHeroCnt+=Math.floor(Number(t.split("_")[1])/e.row)*e.row)})),e.monsterList3.split("|").forEach((function(t){t&&""!=t&&(u._totalHeroCnt+=Math.floor(Number(t.split("_")[1])/e.row)*e.row)}))}));case 14:case"end":return e.stop()}}),e,this)})));return function(t,r,i){return e.apply(this,arguments)}}(),n.clear=function(){_.Clear()},n._initByCfg=function(e,t){var r=this;m.parseMapNode(e,(function(e){if(e.type==M.MainHero)r._roleMgr.mainHero?r.mainHero.setPos2f(e.x,e.y):r._roleMgr.createRole(d.HeroMain,e.id,e.x,e.y);else if(e.type==M.Hero)r._roleMgr.createRole(d.HeroAI,e.id,e.x,e.y);else if(e.type==M.Prop)r._roleMgr.createRole(d.Prop,e.id,e.x,e.y);else if(e.type==M.Transfer)r._roleMgr.createRole(d.Transfer,e.id,e.x,e.y,e.style);else if(e.type==M.Monster){var i=r._roleMgr.createRole(d.Monster,e.id,e.x,e.y);0==e.moveType?4==r._gameMode?i.moveByMainHero():2==r._gameMode?(i.randomMove(),t&&r._monsterBirthPosArr.push({x:e.x,y:e.y})):i.randomMove():1==e.moveType?i.randomMove():2==e.moveType&&i.moveByMainHero()}else e.type==M.Barrier?r._roleMgr.createRole(d.Barrier,e.id,e.x,e.y):e.type==M.CutTreeTree?r._roleMgr.createRole(d.CutTreeTree,e.id,e.x,e.y,e.hp):e.type==M.Shop?r._roleMgr.createRole(d.Shop,e.id,e.x,e.y):e.type==M.Tower?r._roleMgr.createRole(d.Tower,e.id,e.x,e.y):e.type==M.Grass?r._roleMgr.createRole(d.Grass,e.id,e.x,e.y):e.type==M.Spawn&&r._roleMgr.createRole(d.Spawn,e.id,e.x,e.y,function(e){if(e==M.MainHero)return d.HeroMain;if(e==M.Hero)return d.HeroAI;if(e==M.Prop)return d.Prop;if(e==M.Transfer)return d.Transfer;if(e==M.Monster)return d.Monster;if(e==M.Barrier)return d.Barrier;if(e==M.CutTreeTree)return d.CutTreeTree;if(e==M.Shop)return d.Shop;if(e==M.Tower)return d.Tower;if(e==M.Grass)return d.Grass;if(e==M.Spawn)return d.Spawn}(e.spawnType),e.spawnId,e.param1,e.param2)}),!0)},n.changeSubMap=function(){var e=r(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInMainMap=!1,this._saveTimeData.set(this._runTimeData),this._saveTimeData.mainHeroPos.set(this.mainHero.pos.x,this.mainHero.pos.y),this.mainHero.setVisible(!0),this._roleMgr.hideAllRole(),this._runTimeData.reset(),n=r.uiTransform.contentSize,this._runTimeData.barrierBox.init(n.width,n.height),this._runTimeData.cutTreeBox.init(n.width,n.height),this.mainHero.showView(),this._initByCfg(r,!1),this.mainHero.hideTransfer(),e.next=14,h.NextFrame();case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.changeMain=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isInMainMap=!0,this._roleMgr.clearOther(),this._runTimeData.reset(),this._runTimeData.set(this._saveTimeData),this.mainHero.setVisible(!0),this._roleMgr.showAllRole(),this.onMainRoleChangeWeapon(this.mainHero.weaponId),this.mainHero.setPos2f(this._runTimeData.mainHeroPos.x,this._runTimeData.mainHeroPos.y),this.mainHero.hideTransfer();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getProgressView=function(){return""+(this._totalHeroCnt-this._dieHeroCnt)},n.update=function(e){this._runTime+=e,this._isInMainMap&&(this._runTimeData.runTime+=e,this._dieHeroCnt>=this._totalHeroCnt)?this._win():(this._roleMgr.update(e),this._flyWeaponMgr.update(e),this._onUpdate(e))},n.mainHeroMove=function(e,t){var r;null==(r=this._roleMgr.mainHero)||r.startMove(e,t)},n.mainHeroCancelMove=function(){var e;null==(e=this._roleMgr.mainHero)||e.endMove()},n.showFlyWeapon=function(e,t,r,i,n){this._flyWeaponMgr.show(e,t,r,i,n)},n.spawnHero=function(e,t,r){return this._roleMgr.addHero(e,t,r)},n.spawnMonster=function(e,t,r,i){return this._roleMgr.addMonster(e,r,i)},n.dropProp=function(e,t,r){return this._roleMgr.addProp(e,t,r)},n.addTower=function(e,t,r){this._roleMgr.createRole(d.Tower,e,t,r)},n.addBullet=function(e,t,r){return this._roleMgr.createRole(d.Bullet,e,t,r)},n.addRole=function(e,t,r,i,n){this._roleMgr.createRole(e,t,r,i,n)},n.onHeroDie=function(e){e!=this._roleMgr.mainHero?(this._roleMgr.onHeroDie(e),this._isInMainMap&&e.campType==c.Enemy&&(this._dieHeroCnt+=1)):this._lose()},n.onMonsterDie=function(e){this._roleMgr.onMonsterDie(e),this._isInMainMap&&e.campType==c.Enemy&&(this._dieHeroCnt+=1)},n.onPropRemove=function(e){e.isAutoRefresh&&this._roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},n.onMainRoleChangeWeapon=function(e){this._roleMgr.onChangeMainRoleWeapon(e),T.runtime.ui.onChangeMainWeapon(e)},n.findObstructRole=function(e,t,r){var i=this._roleMgr.getRoleNewPosCollisionBarrier(e,t,r);return i||(i=this._roleMgr.getRoleNewPosCollisionTower(e,t,r))},n.findHeroByShortDisMainHero=function(){return this._roleMgr.findHeroByShortDis()},n.findTowerTarget=function(e){return this._roleMgr.findTowerTarget(e)},n._initRefreshProp=function(){for(var e=o.randomRangeInt(this._mainMapCfg.auto_cnt_range[0],this._mainMapCfg.auto_cnt_range[1]);e-- >=0;)this._roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},n._win=function(){l.Show(this._runTime,this._dieHeroCnt/this._totalHeroCnt)},n._lose=function(){u.Show(this._runTime,this._dieHeroCnt/this._totalHeroCnt)},n._onUpdate=function(e){},t(e,[{key:"roleMgr",get:function(){return this._roleMgr}},{key:"isInMainMap",get:function(){return this._isInMainMap}},{key:"monsterBirthPosArr",get:function(){return this._monsterBirthPosArr}},{key:"mainHero",get:function(){return this._roleMgr.mainHero}},{key:"aiHeros",get:function(){return this._runTimeData.aiHeros}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameControl5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWave.ts","./ZdMapConfig2.ts","./Awaiters.ts","./LoseDialog5.ts","./WinDialog5.ts","./RoleBulletPool5.ts","./RoleMgr5.ts","./RoleMonster5.ts","./RunTimeData5.ts","./ZDConfigItemCmp5.ts","./ZDLevelCfgSolver5.ts","./FlyWeaponMgr5.ts","./ZDEnum5.ts","./ZDGameState5.ts"],(function(e){var t,r,i,n,o,a,s,h,u,l,_,p,f,c,m,M,g,d,T;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.math},function(e){a=e.ZdWave},function(e){s=e.ZdMapConfig},function(e){h=e.Awaiters},function(e){u=e.LoseDialog5},function(e){l=e.WinDialog5},function(e){_=e.RoleBulletPool},function(e){p=e.RoleMgr},function(e){f=e.CampType},function(e){c=e.RunTimeData4},function(e){m=e.EConfigItemType},function(e){M=e.ZDLevelCfgSolver},function(e){g=e.FlyWeaponMgr},function(e){d=e.ERoleType},function(e){T=e.ZDGameState5}],execute:function(){n._RF.push({},"960e7uzc5BJlYtQzzCpPRlp","ZDGameControl5",void 0);e("ZDGameControl",function(){function e(){this._roleMgr=void 0,this._flyWeaponMgr=void 0,this._totalTime=void 0,this._isInMainMap=void 0,this._totalHeroCnt=void 0,this._dieHeroCnt=void 0,this._runTimeData=void 0,this._saveTimeData=void 0,this._monsterBirthPosArr=void 0,this._runTime=void 0,this._mainMapCfg=void 0,this._gameMode=void 0,this.rebornCnt=0,this.isWin=!1,this._runTimeData=new c,c.RunTimeIns=this._runTimeData,this._saveTimeData=new c,this._roleMgr=this._createRoleMgr(this._runTimeData),this._flyWeaponMgr=new g,this._totalTime=99999,this._totalHeroCnt=99999,this._dieHeroCnt=0,this._runTime=0,this._monsterBirthPosArr=[]}var n=e.prototype;return n._createRoleMgr=function(e){return new p(e)},n.init=function(){var e=r(i().mark((function e(t,r,n){var o,u=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInMainMap=!0,this._totalTime=t.time,this._gameMode=n,this._mainMapCfg=s.data[t.map_id],o=r.uiTransform.contentSize,this._runTimeData.barrierBox.init(o.width,o.height),this._runTimeData.cutTreeBox.init(o.width,o.height),e.next=9,h.NextFrame();case 9:this._initByCfg(r,!0),this.onMainRoleChangeWeapon(this.mainHero.weaponId),this._mainMapCfg.auto_prop&&this._initRefreshProp(),this._totalHeroCnt=0,a.dataList.forEach((function(e){e.monsterList1.split("|").forEach((function(e){e&&""!=e&&(u._totalHeroCnt+=Number(e.split("_")[1]))})),e.monsterList2.split("|").forEach((function(e){e&&""!=e&&(u._totalHeroCnt+=Number(e.split("_")[1]))})),e.monsterList3.split("|").forEach((function(e){e&&""!=e&&(u._totalHeroCnt+=Number(e.split("_")[1]))}))}));case 14:case"end":return e.stop()}}),e,this)})));return function(t,r,i){return e.apply(this,arguments)}}(),n.clear=function(){_.Clear()},n._initByCfg=function(e,t){var r=this;M.parseMapNode(e,(function(e){if(e.type==m.MainHero)r._roleMgr.mainHero?r.mainHero.setPos2f(e.x,e.y):r._roleMgr.createRole(d.HeroMain,e.id,e.x,e.y);else if(e.type==m.Hero)r._roleMgr.createRole(d.HeroAI,e.id,e.x,e.y);else if(e.type==m.Prop)r._roleMgr.createRole(d.Prop,e.id,e.x,e.y);else if(e.type==m.Transfer)r._roleMgr.createRole(d.Transfer,e.id,e.x,e.y,e.style);else if(e.type==m.Monster){var i=r._roleMgr.createRole(d.Monster,e.id,e.x,e.y);0==e.moveType?4==r._gameMode?i.moveByMainHero():2==r._gameMode?(i.randomMove(),t&&r._monsterBirthPosArr.push({x:e.x,y:e.y})):i.randomMove():1==e.moveType?i.randomMove():2==e.moveType&&i.moveByMainHero()}else e.type==m.Barrier?r._roleMgr.createRole(d.Barrier,e.id,e.x,e.y):e.type==m.CutTreeTree?r._roleMgr.createRole(d.CutTreeTree,e.id,e.x,e.y,e.hp,e.treeType):e.type==m.Shop?r._roleMgr.createRole(d.Shop,e.id,e.x,e.y):e.type==m.Tower?r._roleMgr.createRole(d.Tower,e.id,e.x,e.y):e.type==m.Grass?r._roleMgr.createRole(d.Grass,e.id,e.x,e.y):e.type==m.Spawn&&r._roleMgr.createRole(d.Spawn,e.id,e.x,e.y,function(e){if(e==m.MainHero)return d.HeroMain;if(e==m.Hero)return d.HeroAI;if(e==m.Prop)return d.Prop;if(e==m.Transfer)return d.Transfer;if(e==m.Monster)return d.Monster;if(e==m.Barrier)return d.Barrier;if(e==m.CutTreeTree)return d.CutTreeTree;if(e==m.Shop)return d.Shop;if(e==m.Tower)return d.Tower;if(e==m.Grass)return d.Grass;if(e==m.Spawn)return d.Spawn}(e.spawnType),e.spawnId,e.param1,e.param2)}),!0)},n.changeSubMap=function(){var e=r(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInMainMap=!1,this._saveTimeData.set(this._runTimeData),this._saveTimeData.mainHeroPos.set(this.mainHero.pos.x,this.mainHero.pos.y),this.mainHero.setVisible(!0),this._roleMgr.hideAllRole(),this._runTimeData.reset(),n=r.uiTransform.contentSize,this._runTimeData.barrierBox.init(n.width,n.height),this._runTimeData.cutTreeBox.init(n.width,n.height),this.mainHero.showView(),this._initByCfg(r,!1),this.mainHero.hideTransfer(),e.next=14,h.NextFrame();case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.changeMain=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isInMainMap=!0,this._roleMgr.clearOther(),this._runTimeData.reset(),this._runTimeData.set(this._saveTimeData),this.mainHero.setVisible(!0),this._roleMgr.showAllRole(),this.onMainRoleChangeWeapon(this.mainHero.weaponId),this.mainHero.setPos2f(this._runTimeData.mainHeroPos.x,this._runTimeData.mainHeroPos.y),this.mainHero.hideTransfer();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getProgressView=function(){return""+(this._totalHeroCnt-this._dieHeroCnt)},n.update=function(e){this._runTime+=e,this._isInMainMap&&(this._runTimeData.runTime+=e,this._dieHeroCnt>=this._totalHeroCnt)?this.win():(this._roleMgr.update(e),this._flyWeaponMgr.update(e),this._onUpdate(e))},n.mainHeroMove=function(e,t){var r;null==(r=this._roleMgr.mainHero)||r.startMove(e,t)},n.mainHeroCancelMove=function(){var e;null==(e=this._roleMgr.mainHero)||e.endMove()},n.showFlyWeapon=function(e,t,r,i,n){this._flyWeaponMgr.show(e,t,r,i,n)},n.spawnHero=function(e,t,r){return this._roleMgr.addHero(e,t,r)},n.spawnMonster=function(e,t,r,i){return this._roleMgr.addMonster(e,r,i)},n.dropProp=function(e,t,r){return this._roleMgr.addProp(e,t,r)},n.addTower=function(e,t,r){return this._roleMgr.createRole(d.Tower,e,t,r)},n.addBullet=function(e,t,r){return this._roleMgr.createRole(d.Bullet,e,t,r)},n.addRole=function(e,t,r,i,n){this._roleMgr.createRole(e,t,r,i,n)},n.onHeroDie=function(e){e!=this._roleMgr.mainHero?(this._roleMgr.onHeroDie(e),this._isInMainMap&&e.campType==f.Enemy&&(this._dieHeroCnt+=1)):this.lose()},n.onMonsterDie=function(e){this._roleMgr.onMonsterDie(e),this._isInMainMap&&e.campType==f.Enemy&&(this._dieHeroCnt+=1)},n.onPropRemove=function(e){e.isAutoRefresh&&this._roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},n.onMainRoleChangeWeapon=function(e){this._roleMgr.onChangeMainRoleWeapon(e),T.runtime.ui.onChangeMainWeapon(e)},n.findObstructRole=function(e,t,r){var i=this._roleMgr.getRoleNewPosCollisionBarrier(e,t,r);return i||(i=this._roleMgr.getRoleNewPosCollisionTower(e,t,r))},n.findHeroByShortDisMainHero=function(){return this._roleMgr.findHeroByShortDis()},n._initRefreshProp=function(){for(var e=o.randomRangeInt(this._mainMapCfg.auto_cnt_range[0],this._mainMapCfg.auto_cnt_range[1]);e-- >=0;)this._roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},n.win=function(){this.isWin||(this.isWin=!0,l.Show(this._runTime,this._dieHeroCnt/this._totalHeroCnt))},n.lose=function(){u.Show(this._runTime,this._dieHeroCnt/this._totalHeroCnt)},n._onUpdate=function(e){},t(e,[{key:"roleMgr",get:function(){return this._roleMgr}},{key:"isInMainMap",get:function(){return this._isInMainMap}},{key:"monsterBirthPosArr",get:function(){return this._monsterBirthPosArr}},{key:"mainHero",get:function(){return this._roleMgr.mainHero}},{key:"aiHeros",get:function(){return this._runTimeData.aiHeros}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameControl6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdMapConfig.ts","./LoseDialog6.ts","./WinDialog6.ts","./RoleBulletPool6.ts","./ZDConfigItemCmp6.ts","./MapControl6.ts","./FlyWeaponMgr6.ts","./ZDEnum6.ts","./ZDGameState6.ts"],(function(t){var n,r,e,o,i,a,s,u,l,c,h,f,p;return{setters:[function(t){n=t.createClass,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){o=t.cclegacy,i=t.math},function(t){a=t.ZdMapConfig},function(t){s=t.LoseDialog6},function(t){u=t.WinDialog6},function(t){l=t.RoleBulletPool},null,function(t){c=t.MapControl},function(t){h=t.FlyWeaponMgr},function(t){f=t.ERoleType},function(t){p=t.ZDGameState6}],execute:function(){o._RF.push({},"24d66zjH4FIJZ394tsXRfhM","ZDGameControl6",void 0);t("ZDGameControl",function(){function t(){this._mapCtrl=void 0,this._flyWeaponMgr=void 0,this._runTime=void 0,this._mainMapCfg=void 0,this._gameMode=void 0,this.rebornCnt=0,this._flyWeaponMgr=new h,this._mapCtrl=new c,this._runTime=0}var o=t.prototype;return o.init=function(){var t=r(e().mark((function t(n,r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._gameMode=r,this._mainMapCfg=a.data[n.map_id],t.next=4,this._mapCtrl.init(n.map_id);case 4:case"end":return t.stop()}}),t,this)})));return function(n,r){return t.apply(this,arguments)}}(),o.clear=function(){l.Clear()},o.changeSubMap=function(){var t=r(e().mark((function t(n,r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._mapCtrl.changeMap(n.id);case 2:case"end":return t.stop()}}),t,this)})));return function(n,r){return t.apply(this,arguments)}}(),o.changeMain=function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._mapCtrl.changeMap(0);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.getProgressView=function(){return""+Math.max(0,this.totalHeroCnt-this.dieHeroCnt)},o.update=function(t){this._runTime+=t,this._mapCtrl.update(t),this._flyWeaponMgr.update(t),this._onUpdate(t)},o.mainHeroMove=function(t,n){var r;null==(r=this.roleMgr.mainHero)||r.startMove(t,n)},o.mainHeroCancelMove=function(){var t;null==(t=this.roleMgr.mainHero)||t.endMove()},o.showFlyWeapon=function(t,n,r,e,o){this._flyWeaponMgr.show(t,n,r,e,o)},o.spawnHero=function(t,n,r){return this.roleMgr.addHero(t,n,r)},o.spawnMonster=function(t,n,r,e){return this.roleMgr.addMonster(t,r,e)},o.dropProp=function(t,n,r){this.roleMgr.addProp(t,n,r)},o.addTower=function(t,n,r){this.roleMgr.createRole(f.Tower,t,n,r)},o.addBullet=function(t,n,r){return this.roleMgr.createRole(f.Bullet,t,n,r)},o.addRole=function(t,n,r,e,o){this.roleMgr.createRole(t,n,r,e,o)},o.onHeroDie=function(t){t!=this.roleMgr.mainHero?(this._mapCtrl.currentMap.onEnemyDie(),this.roleMgr.onHeroDie(t)):this._lose()},o.onMonsterDie=function(t){this.roleMgr.onMonsterDie(t)},o.onPropRemove=function(t){t.isAutoRefresh&&this.roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},o.onMainRoleChangeWeapon=function(t){this.roleMgr.onChangeMainRoleWeapon(t),p.runtime.ui.onChangeMainWeapon(t)},o.findObstructRole=function(t,n,r){if(this.roleMgr){var e=this.roleMgr.getRoleNewPosCollisionBarrier(t,n,r);return e||(e=this.roleMgr.getRoleNewPosCollisionTower(t,n,r))}},o.findHeroByShortDisMainHero=function(){var t;return null==(t=this.roleMgr)?void 0:t.findHeroByShortDis()},o.findTowerTarget=function(t){var n;return null==(n=this.roleMgr)?void 0:n.findTowerTarget(t)},o._initRefreshProp=function(){for(var t=i.randomRangeInt(this._mainMapCfg.auto_cnt_range[0],this._mainMapCfg.auto_cnt_range[1]);t-- >=0;)this.roleMgr.addInitAutoProp(this._mainMapCfg.auto_rad_ids)},o.win=function(){this._win()},o._win=function(){u.Show(this._runTime,this.dieHeroCnt/this.totalHeroCnt)},o._lose=function(){s.Show(this._runTime,this.dieHeroCnt/this.totalHeroCnt)},o._onUpdate=function(t){},n(t,[{key:"roleMgr",get:function(){return this._mapCtrl.currentMap.roleMgr}},{key:"mapCtrl",get:function(){return this._mapCtrl}},{key:"isInMainMap",get:function(){return this._mapCtrl.currentMap.isMain}},{key:"monsterBirthPosArr",get:function(){return this._mapCtrl.currentMap.birthPosArr}},{key:"mainHero",get:function(){return this.roleMgr.mainHero}},{key:"aiHeros",get:function(){return this.roleMgr.data.aiHeros}},{key:"dieHeroCnt",get:function(){return this._mapCtrl.currentMap.dieHeroCnt}},{key:"totalHeroCnt",get:function(){return this._mapCtrl.currentMap.totalHeroCnt}}]),t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameData.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"18da7efjD9AkanPU+cjoBEB","ZDGameData",void 0);t("ZDGameData",function(){function t(){}return t.prototype.init=function(){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameData3.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3a46deUhPZNF7lQI8KeDo8P","ZDGameData3",void 0);t("ZDGameData3",function(){function t(){}return t.prototype.init=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameData4.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"f8f67nEFbZBdotq9oOjAnY+","ZDGameData4",void 0);t("ZDGameData",function(){function t(){}return t.prototype.init=function(){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameData5.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"30d8a9yHIpA+IORZAjjuhiB","ZDGameData5",void 0);t("ZDGameData",function(){function t(){}return t.prototype.init=function(){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameData6.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"65e58G91EpJ4JJ0t5l/0phe","ZDGameData6",void 0);t("ZDGameData",function(){function t(){}return t.prototype.init=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig2.ts","./ZdHeroConfig5.ts","./ZdLevelConfig4.ts","./ZdMapConfig4.ts","./ZdMonsterConfig4.ts","./ZdPropConfig3.ts","./Awaiters.ts","./ViewUtil.ts","./YT.ts","./GameStateBase.ts","./PDEffectPool.ts","./ZDAudioMgr.ts","./ZDResUtils.ts","./ZDConst.ts","./ModeFactory.ts"],(function(e){var t,n,i,a,r,o,s,d,c,u,_,f,l,h,g,p,v,m,M,y,C,R,w,B,Z;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.find},function(e){s=e.ZdBarrierConfig},function(e){d=e.ZdHeroConfig},function(e){c=e.ZdLevelConfig},function(e){u=e.ZdMapConfig},function(e){_=e.ZdMonsterConfig},function(e){f=e.ZdPropConfig},function(e){l=e.Awaiters},function(e){h=e.ViewUtil},function(e){g=e.YT},function(e){p=e.GameStateBase},function(e){v=e.PDEffectPool},function(e){m=e.ZDAudioMgr},function(e){M=e.ZDResUtils},function(e){y=e.ZD_RES_PREFABS,C=e.ZD_BUNDLE,R=e.ZD_SCENE},function(e){w=e.createZDData,B=e.createZDControl,Z=e.createZDView}],execute:function(){r._RF.push({},"4f13bpz8r9J5b4Zlqd2wg9F","ZDGameState",void 0);e("ZDGameState",function(e){t(p,e);var r=p.prototype;function p(){var t;return(t=e.call(this)||this)._view=void 0,t._control=void 0,t._data=void 0,t._level=void 0,t._levelCfg=void 0,t._pause=void 0,t._audioMgr=void 0,t._gameMode=void 0,t._isLoadingEnd=void 0,t._isDestroy=!1,t._isChangeMap=!1,t._sceneBundle=C,t._sceneName=R,t._configBundle=C,t._pause=!1,t._gameMode=1,t._isLoadingEnd=!0,t._showLoading=!0,t}return r._doDestroy=function(){},r.isPauseGame=function(){return this._pause},r.pauseGame=function(e){this._pause=!0},r.resumeGame=function(){this._pause=!1,this._view.hidePause()},r._onPreEnter=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.audio.stopAll();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onPreEnterNext=function(){this._level=arguments.length<=1?void 0:arguments[1],this._levelCfg=c.data[this._level],this._gameMode=this._levelCfg.game_mode,this._data=w(this._gameMode),this._control=B(this._gameMode),this._view=Z(this._gameMode),this._data.init()},r.otherLoadAssets=function(){},r._afterSceneLoaded=function(){var e=i(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.data[this._levelCfg.map_id],n=h.createPrefabNode(M.fullMapRes(t.res),C),this._audioMgr=o("Canvas/__GAME",this.scene).addComponent(m),this._audioMgr.load(),this._view.init(this.scene,n,t.view_scale/100),this._control.init(this._levelCfg,n,this._gameMode),10==t.id&&(this._isLoadingEnd=!1);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._getPreloads=function(e){for(var t in y)e.addPrefab(y[t],C);this._addResByHeroId(1,e),this._addResByMapId(this._levelCfg.map_id,e);for(var n=0,i=this._levelCfg.monster_spawn.length;n<i;++n){var a=this._levelCfg.monster_spawn[n][1];this._addResByMonsterId(a,e)}for(n=0,i=this._levelCfg.hero_spawn.length;n<i;++n){var r=this._levelCfg.hero_spawn[n][1];this._addResByHeroId(r,e)}var o=u.data[this._levelCfg.map_id];for(n=0,i=o.transfer.length;n<i;++n){var s=o.transfer[n];s>0&&this._addResByMapId(s,e)}e.addPrefab(M.fullMapRes(o.res),C),m.getPrefabs(e)},r._doEnterState=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.NextFrame();case 2:this._levelCfg.bgm>0&&this._audioMgr.play(this._levelCfg.bgm);case 3:if(this._isLoadingEnd){e.next=8;break}return e.next=6,l.NextFrame();case 6:e.next=3;break;case 8:return e.next=10,this._view.enter();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.update=function(e,t){this._pause||this._isChangeMap||(this._control.update(e),this._view.update(e))},r.lateUpdate=function(e,t){this._pause||this._isChangeMap},r.destroy=function(){e.prototype.destroy.call(this),this._onDestroy()},r._onDestroy=function(){this._isDestroy||(this._audioMgr.stopAll(),this._control.clear(),this._view.clear(),this._isDestroy=!0)},r.continueGame=function(){g.logic.onRestartGame(106,this._levelCfg.id)},r.rebornGame=function(){this._control.rebornCnt++,this._control.mainHero.reborn()},r.nextGame=function(){var e=c.dataList[c.dataList.length-1].id,t=this._levelCfg.id+1;t>e&&(t=1),g.logic.onRestartGame(106,t)},r.returnGame=function(){g.game.showLoading(),this._onDestroy(),v.Clear(),g.logic.onEnterHall()},r.changeMap=function(){var e=i(a().mark((function e(t){var n,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.gui.lockScreen(),n=0==t?this._levelCfg.map_id:t,this._isChangeMap=!0,this._control.mainHeroCancelMove(),e.next=6,l.Seconds(1);case 6:i=u.data[n],0==t?(this._view.changeMainMap(i.view_scale/100),this._control.changeMain()):(r=h.createPrefabNode(M.fullMapRes(i.res),C),this._view.changeSubMap(r,i.view_scale/100),this._control.changeSubMap(i,r)),this._isChangeMap=!1,g.gui.unlockScreen();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r._addResByHeroId=function(e,t){var n=d.data[e];t.addPrefab(M.fullHeroModelRes(n.res),C)},r._addResByPropId=function(e,t){var n=f.data[e];t.addSpriteFrame(M.fullPropIconRes(n.icon),C)},r._addResByMonsterId=function(e,t){var n=_.data[e];t.addPrefab(M.fullMonsterModelRes(n.res),C)},r._addResByBarrierId=function(e,t){var n=s.data[e];t.addPrefab(M.fullBarrierModelRes(n.model),C)},r._addResByTreeId=function(e,t){t.addPrefab(M.fullTreeModelRes(String(e)),C)},r._addResByMapId=function(e,t){var n=u.data[e];t.addPrefab(M.fullMapRes(n.res),C);for(var i=0,a=n.init_heros.length;i<a;++i){var r=n.init_heros[i];this._addResByHeroId(r,t)}for(i=0,a=n.init_prop.length;i<a;++i){var o=n.init_prop[i];this._addResByPropId(o,t)}for(i=0,a=n.init_monster.length;i<a;++i){var s=n.init_monster[i];this._addResByMonsterId(s,t)}for(i=0,a=n.init_barrier.length;i<a;++i){var d=n.init_barrier[i];this._addResByBarrierId(d,t)}for(i=0,a=n.init_tree.length;i<a;++i){var c=n.init_tree[i];this._addResByTreeId(c,t)}},n(p,[{key:"ui",get:function(){return this._view}},{key:"control",get:function(){return this._control}},{key:"data",get:function(){return this._data}},{key:"audioMgr",get:function(){return this._audioMgr}},{key:"gameMode",get:function(){return this._gameMode}},{key:"isLoadingEnd",set:function(e){this._isLoadingEnd=e}}],[{key:"runtime",get:function(){return g.logic.state}}]),p}(p));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameState3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig4.ts","./ZdHeroConfig3.ts","./ZdLevelConfig5.ts","./ZdMapConfig5.ts","./ZdMonsterConfig.ts","./ZdPropConfig5.ts","./Awaiters.ts","./ViewUtil.ts","./YT.ts","./GameStateBase.ts","./PDEffectPool3.ts","./ZDAudioMgr3.ts","./ZDResUtils3.ts","./ZDConst3.ts","./ModeFactory3.ts","./CameraScalerCmp.ts","./MatchDialog3.ts"],(function(e){var t,n,i,a,r,s,o,d,c,u,l,_,f,h,g,p,v,m,M,C,y,w,R,B,D,P,Z;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e.find},function(e){o=e.ZdBarrierConfig},function(e){d=e.ZdHeroConfig},function(e){c=e.ZdLevelConfig},function(e){u=e.ZdMapConfig},function(e){l=e.ZdMonsterConfig},function(e){_=e.ZdPropConfig},function(e){f=e.Awaiters},function(e){h=e.ViewUtil},function(e){g=e.YT},function(e){p=e.GameStateBase},function(e){v=e.PDEffectPool3},function(e){m=e.ZDAudioMgr3},function(e){M=e.ZDResUtils3},function(e){C=e.ZD_RES_PREFABS,y=e.ZD_BUNDLE,w=e.ZD_SCENE},function(e){R=e.createZDData,B=e.createZDControl,D=e.createZDView},function(e){P=e.CameraScalerCmp},function(e){Z=e.MatchDialog3}],execute:function(){r._RF.push({},"45f28gwGgBHXq7bbLcJImug","ZDGameState3",void 0);e("ZDGameState3",function(e){t(p,e);var r=p.prototype;function p(){var t;return(t=e.call(this)||this)._view=void 0,t._control=void 0,t._data=void 0,t._scaler=void 0,t._level=void 0,t._levelCfg=void 0,t._pause=void 0,t._audioMgr=void 0,t._gameMode=void 0,t._isLoadingEnd=void 0,t._isDestroy=!1,t._isChangeMap=!1,t._sceneBundle=y,t._sceneName=w,t._configBundle=y,t._pause=!1,t._gameMode=1,t._isLoadingEnd=!0,t._showLoading=!0,t}return r._doDestroy=function(){},r.isPauseGame=function(){return this._pause},r.pauseGame=function(e){this._pause=!0},r.resumeGame=function(){this._pause=!1,this._view.hidePause()},r._onPreEnter=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.audio.stopAll();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onPreEnterNext=function(){this._level=arguments.length<=1?void 0:arguments[1],this._levelCfg=c.data[this._level],this._gameMode=this._levelCfg.game_mode,this._data=R(this._gameMode),this._control=B(this._gameMode),this._view=D(this._gameMode),this._data.init()},r.otherLoadAssets=function(){},r._afterSceneLoaded=function(){var e=i(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.data[this._levelCfg.map_id],n=h.createPrefabNode(M.fullMapRes(t.res),y),this._audioMgr=s("Canvas/__GAME",this.scene).addComponent(m),this._audioMgr.load(),this._scaler=s("Canvas/GameCamera",this.scene).addComponent(P),this._scaler.initialize(),this._view.init(this.scene,n,t.view_scale/100),this._control.init(this._levelCfg,n,this._gameMode),10==t.id&&(this._isLoadingEnd=!1),this._pause=!0,Z.Show();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._getPreloads=function(e){for(var t in C)e.addPrefab(C[t],y);this._addResByHeroId(1,e),this._addResByMapId(this._levelCfg.map_id,e);for(var n=0,i=this._levelCfg.monster_spawn.length;n<i;++n){var a=this._levelCfg.monster_spawn[n][1];this._addResByMonsterId(a,e)}for(n=0,i=this._levelCfg.hero_spawn.length;n<i;++n){var r=this._levelCfg.hero_spawn[n][1];this._addResByHeroId(r,e)}var s=u.data[this._levelCfg.map_id];for(n=0,i=s.transfer.length;n<i;++n){var o=s.transfer[n];o>0&&this._addResByMapId(o,e)}e.addPrefab(M.fullMapRes(s.res),y),m.getPrefabs(e)},r._doEnterState=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.NextFrame();case 2:this._levelCfg.bgm>0&&this._audioMgr.play(this._levelCfg.bgm);case 3:if(this._isLoadingEnd){e.next=8;break}return e.next=6,f.NextFrame();case 6:e.next=3;break;case 8:return e.next=10,this._view.enter();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onMatchSuccess=function(){this._pause=!1,this._view.uiLayer.node.active=!0},r.update=function(e,t){this._pause||this._isChangeMap||(this._control.update(e),this._view.update(e))},r.lateUpdate=function(e,t){this._pause||this._isChangeMap},r.destroy=function(){e.prototype.destroy.call(this),this._onDestroy()},r._onDestroy=function(){var e;this._isDestroy||(null==(e=this._scaler)||e.release(),this._audioMgr.stopAll(),this._control.clear(),this._view.clear(),this._isDestroy=!0)},r.continueGame=function(){g.logic.onRestartGame(301,this._levelCfg.id)},r.rebornGame=function(){this._control.rebornCnt++,this._control.mainHero.reborn()},r.nextGame=function(){var e=c.dataList[c.dataList.length-1].id,t=this._levelCfg.id+1;t>e&&(t=1),g.logic.onRestartGame(301,t)},r.returnGame=function(){g.game.showLoading(),this._onDestroy(),v.Clear(),g.logic.onEnterHall()},r.changeMap=function(){var e=i(a().mark((function e(t){var n,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.gui.lockScreen(),n=0==t?this._levelCfg.map_id:t,this._isChangeMap=!0,this._control.mainHeroCancelMove(),e.next=6,f.Seconds(1);case 6:i=u.data[n],0==t?(this._view.changeMainMap(i.view_scale/100),this._control.changeMain()):(r=h.createPrefabNode(M.fullMapRes(i.res),y),this._view.changeSubMap(r,i.view_scale/100),this._control.changeSubMap(i,r)),this._isChangeMap=!1,g.gui.unlockScreen();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r._addResByHeroId=function(e,t){var n=d.data[e];t.addPrefab(M.fullHeroModelRes(n.res),y)},r._addResByPropId=function(e,t){var n=_.data[e];t.addSpriteFrame(M.fullPropIconRes(n.icon),y)},r._addResByMonsterId=function(e,t){var n=l.data[e];t.addPrefab(M.fullMonsterModelRes(n.res),y)},r._addResByBarrierId=function(e,t){var n=o.data[e];t.addPrefab(M.fullBarrierModelRes(n.model),y)},r._addResByTreeId=function(e,t){t.addPrefab(M.fullTreeModelRes(String(e)),y)},r._addResByMapId=function(e,t){var n=u.data[e];t.addPrefab(M.fullMapRes(n.res),y);for(var i=0,a=n.init_heros.length;i<a;++i){var r=n.init_heros[i];this._addResByHeroId(r,t)}for(i=0,a=n.init_prop.length;i<a;++i){var s=n.init_prop[i];this._addResByPropId(s,t)}for(i=0,a=n.init_monster.length;i<a;++i){var o=n.init_monster[i];this._addResByMonsterId(o,t)}for(i=0,a=n.init_barrier.length;i<a;++i){var d=n.init_barrier[i];this._addResByBarrierId(d,t)}for(i=0,a=n.init_tree.length;i<a;++i){var c=n.init_tree[i];this._addResByTreeId(c,t)}},n(p,[{key:"ui",get:function(){return this._view}},{key:"control",get:function(){return this._control}},{key:"data",get:function(){return this._data}},{key:"scaler",get:function(){return this._scaler}},{key:"audioMgr",get:function(){return this._audioMgr}},{key:"gameMode",get:function(){return this._gameMode}},{key:"isLoadingEnd",set:function(e){this._isLoadingEnd=e}}],[{key:"runtime",get:function(){return g.logic.state}}]),p}(p));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameState4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig.ts","./ZdHeroConfig.ts","./ZdLevelConfig.ts","./ZdMapConfig3.ts","./ZdMonsterConfig3.ts","./ZdPropConfig4.ts","./Awaiters.ts","./ViewUtil.ts","./YT.ts","./GameStateBase.ts","./DamageTextCmp.ts","./PDEffectPool4.ts","./ModeFactory4.ts","./ZDAudioMgr4.ts","./ZDResUtils4.ts","./ZDConst4.ts"],(function(e){var t,n,i,a,r,o,s,d,u,c,f,_,l,h,g,p,v,m,M,C,y,R,w,B,D,P;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.find},function(e){s=e.ZdBarrierConfig},function(e){d=e.ZdHeroConfig},function(e){u=e.ZdLevelConfig},function(e){c=e.ZdMapConfig},function(e){f=e.ZdMonsterConfig},function(e){_=e.ZdPropConfig},function(e){l=e.Awaiters},function(e){h=e.ViewUtil},function(e){g=e.YT},function(e){p=e.GameStateBase},function(e){v=e.DamageTextCmp},function(e){m=e.PDEffectPool},function(e){M=e.createZDData,C=e.createZDControl,y=e.createZDView},function(e){R=e.ZDAudioMgr},function(e){w=e.ZDResUtils},function(e){B=e.ZD_RES_PREFABS,D=e.ZD_BUNDLE,P=e.ZD_SCENE}],execute:function(){r._RF.push({},"83951XRE1xIqqB/fQ294HGh","ZDGameState4",void 0);e("ZDGameState4",function(e){t(p,e);var r=p.prototype;function p(){var t;return(t=e.call(this)||this)._view=void 0,t._control=void 0,t._data=void 0,t._level=void 0,t._levelCfg=void 0,t._pause=void 0,t._audioMgr=void 0,t._gameMode=void 0,t._isLoadingEnd=void 0,t._isDestroy=!1,t._isChangeMap=!1,t._sceneBundle=D,t._sceneName=P,t._configBundle=D,t._pause=!1,t._gameMode=1,t._isLoadingEnd=!0,t._showLoading=!0,t}return r._doDestroy=function(){},r.isPauseGame=function(){return this._pause},r.pauseGame=function(e){this._pause=!0},r.resumeGame=function(){this._pause=!1,this._view.hidePause()},r._onPreEnter=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.audio.stopAll();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onPreEnterNext=function(){this._level=arguments.length<=1?void 0:arguments[1],this._levelCfg=u.data[this._level],this._gameMode=this._levelCfg.game_mode,this._data=M(this._gameMode),this._control=C(this._gameMode),this._view=y(this._gameMode),this._data.init()},r.otherLoadAssets=function(){},r._afterSceneLoaded=function(){var e=i(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.data[this._levelCfg.map_id],n=h.createPrefabNode(w.fullMapRes(t.res),D),this._audioMgr=o("audio",this.scene).addComponent(R),this._audioMgr.load(),this._view.init(this.scene,n,t.view_scale/100),this._control.init(this._levelCfg,n,this._gameMode),10==t.id&&(this._isLoadingEnd=!1);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._getPreloads=function(e){for(var t in B)e.addPrefab(B[t],D);this._addResByHeroId(1,e),this._addResByMapId(this._levelCfg.map_id,e);var n=0,i=this._levelCfg.monster_spawn.length;for(n=0,i=this._levelCfg.hero_spawn.length;n<i;++n){var a=this._levelCfg.hero_spawn[n][1];this._addResByHeroId(a,e)}var r=c.data[this._levelCfg.map_id];for(n=0,i=r.transfer.length;n<i;++n){var o=r.transfer[n];o>0&&this._addResByMapId(o,e)}e.addPrefab(w.fullMapRes(r.res),D),R.getPrefabs(e),e.addPrefab("prefab/damage_text1",D)},r._doEnterState=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.NextFrame();case 2:this._levelCfg.bgm>0&&this._audioMgr.play(this._levelCfg.bgm);case 3:if(this._isLoadingEnd){e.next=8;break}return e.next=6,l.NextFrame();case 6:e.next=3;break;case 8:return e.next=10,this._view.enter();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.update=function(e,t){this._pause||this._isChangeMap||(this._control.update(e),this._view.update(e))},r.lateUpdate=function(e,t){this._pause||this._isChangeMap},r.destroy=function(){e.prototype.destroy.call(this),this._onDestroy()},r._onDestroy=function(){this._isDestroy||(v.Clear(),this._audioMgr.stopAll(),this._control.clear(),this._view.clear(),this._isDestroy=!0)},r.continueGame=function(){g.logic.onRestartGame(701,this._levelCfg.id)},r.rebornGame=function(){this._control.rebornCnt++,this._control.mainHero.reborn()},r.nextGame=function(){var e=u.dataList[u.dataList.length-1].id,t=this._levelCfg.id+1;t>e&&(t=1),g.logic.onRestartGame(701,t)},r.returnGame=function(){g.game.showLoading(),this._onDestroy(),m.Clear(),g.logic.onEnterHall()},r.changeMap=function(){var e=i(a().mark((function e(t){var n,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.gui.lockScreen(),n=0==t?this._levelCfg.map_id:t,this._isChangeMap=!0,this._control.mainHeroCancelMove(),e.next=6,l.Seconds(1);case 6:i=c.data[n],0==t?(this._view.changeMainMap(i.view_scale/100),this._control.changeMain()):(r=h.createPrefabNode(w.fullMapRes(i.res),D),this._view.changeSubMap(r,i.view_scale/100),this._control.changeSubMap(i,r)),this._isChangeMap=!1,g.gui.unlockScreen();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r._addResByHeroId=function(e,t){var n=d.data[e];t.addPrefab(w.fullHeroModelRes(n.res),D)},r._addResByPropId=function(e,t){var n=_.data[e];t.addSpriteFrame(w.fullPropIconRes(n.icon),D)},r._addResByMonsterId=function(e,t){var n=f.data[e];t.addPrefab(w.fullMonsterModelRes(n.res),D)},r._addResByBarrierId=function(e,t){var n=s.data[e];t.addPrefab(w.fullBarrierModelRes(n.model),D)},r._addResByTreeId=function(e,t){t.addPrefab(w.fullTreeModelRes(String(e)),D)},r._addResByMapId=function(e,t){var n=c.data[e];t.addPrefab(w.fullMapRes(n.res),D);for(var i=0,a=n.init_heros.length;i<a;++i){var r=n.init_heros[i];this._addResByHeroId(r,t)}for(i=0,a=n.init_prop.length;i<a;++i){var o=n.init_prop[i];this._addResByPropId(o,t)}for(i=0,a=n.init_monster.length;i<a;++i){var s=n.init_monster[i];this._addResByMonsterId(s,t)}for(i=0,a=n.init_barrier.length;i<a;++i){var d=n.init_barrier[i];this._addResByBarrierId(d,t)}for(i=0,a=n.init_tree.length;i<a;++i){var u=n.init_tree[i];this._addResByTreeId(u,t)}},n(p,[{key:"ui",get:function(){return this._view}},{key:"control",get:function(){return this._control}},{key:"data",get:function(){return this._data}},{key:"audioMgr",get:function(){return this._audioMgr}},{key:"gameMode",get:function(){return this._gameMode}},{key:"isLoadingEnd",set:function(e){this._isLoadingEnd=e}}],[{key:"runtime",get:function(){return g.logic.state}}]),p}(p));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameState5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectConfig.ts","./ZdBarrierConfig3.ts","./ZdBuffConfig.ts","./ZdBulletConfig5.ts","./ZdHeroConfig2.ts","./ZdLevelConfig3.ts","./ZdMapConfig2.ts","./ZdMonsterConfig2.ts","./ZdPropConfig.ts","./ZdTowerConfig3.ts","./Awaiters.ts","./ViewUtil.ts","./YT.ts","./GameStateBase.ts","./DamageTextCmp5.ts","./PDEffectPool5.ts","./ModeFactory5.ts","./ZDAudioMgr5.ts","./ZDResUtils5.ts","./ZDConst5.ts"],(function(e){var t,n,i,a,r,o,s,d,f,c,u,l,_,h,g,p,v,m,C,M,y,b,w,P,R,Z,B,D,E,L,S,k,x;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.PhysicsSystem2D,s=e.Camera,d=e.find},function(e){f=e.EffectConfig},function(e){c=e.ZdBarrierConfig},function(e){u=e.ZdBuffConfig},function(e){l=e.ZdBulletConfig},function(e){_=e.ZdHeroConfig},function(e){h=e.ZdLevelConfig},function(e){g=e.ZdMapConfig},function(e){p=e.ZdMonsterConfig},function(e){v=e.ZdPropConfig},function(e){m=e.ZdTowerConfig},function(e){C=e.Awaiters},function(e){M=e.ViewUtil},function(e){y=e.YT},function(e){b=e.GameStateBase},function(e){w=e.DamageTextCmp5},function(e){P=e.PDEffectPool},function(e){R=e.createZDData,Z=e.createZDControl,B=e.createZDView},function(e){D=e.ZDAudioMgr},function(e){E=e.ZDResUtils},function(e){L=e.ZD_RES_PREFABS,S=e.ZD_BUNDLE,k=e.FruitsChunk,x=e.ZD_SCENE}],execute:function(){r._RF.push({},"997d2dgX5dKR5MpCwsa3EY/","ZDGameState5",void 0);e("ZDGameState5",function(e){t(b,e);var r=b.prototype;function b(){var t;return(t=e.call(this)||this)._view=void 0,t._control=void 0,t._data=void 0,t._level=void 0,t._levelCfg=void 0,t._pause=void 0,t._audioMgr=void 0,t._gameMode=void 0,t._isLoadingEnd=void 0,t._isDestroy=!1,t._isChangeMap=!1,t._sceneBundle=S,t._sceneName=x,t._configBundle=S,t._pause=!1,t._gameMode=1,t._isLoadingEnd=!0,t._showLoading=!0,t}return r._doDestroy=function(){},r.isPauseGame=function(){return this._pause},r.pauseGame=function(e){this._pause=!0,o.instance.enable=!1},r.resumeGame=function(){this._pause=!1,this._view.hidePause(),o.instance.enable=!0},r._onPreEnter=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.audio.stopAll();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r._onPreEnterNext=function(){this._level=arguments.length<=1?void 0:arguments[1],this._levelCfg=h.data[this._level],this._gameMode=this._levelCfg.game_mode,this._data=R(this._gameMode),this._control=Z(this._gameMode),this._view=B(this._gameMode),this._data.init()},r.otherLoadAssets=function(){},r._afterSceneLoaded=function(){var e=i(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=g.data[this._levelCfg.map_id],n=M.createPrefabNode(E.fullMapRes(t.res),S),this.camera=this.scene.getComponentInChildren(s),this._audioMgr=d("Canvas/__GAME",this.scene).addComponent(D),this._audioMgr.load(),this._view.init(this.scene,n,t.view_scale/100),this._control.init(this._levelCfg,n,this._gameMode),10==t.id&&(this._isLoadingEnd=!1);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._getPreloads=function(e){for(var t in L)e.addPrefab(L[t],S);this._addResByHeroId(1,e),this._addResByMapId(this._levelCfg.map_id,e);var n=0,i=this._levelCfg.monster_spawn.length;for(n=0,i=this._levelCfg.hero_spawn.length;n<i;++n){var a=this._levelCfg.hero_spawn[n][1];this._addResByHeroId(a,e)}var r=g.data[this._levelCfg.map_id];for(n=0,i=r.transfer.length;n<i;++n){var o=r.transfer[n];o>0&&this._addResByMapId(o,e)}e.addPrefab(E.fullMapRes(r.res),S),D.getPrefabs(e),e.addPrefab("prefab/damage_text1",S),m.dataList.forEach((function(t){e.addPrefab("prefab/tower/"+t.model,S)})),l.dataList.forEach((function(t){e.addPrefab("prefab/bullet/"+t.model,S)})),u.dataList.forEach((function(t){e.addPrefab("effect/prefab/"+t.effView,S)})),p.dataList.forEach((function(t){t.dropRes&&t.dropRes.length>0&&t.dropRes.forEach((function(t){t&&""!=t&&e.addPrefab(k+t,S)}))})),e.addPrefab(k+"mt_1",S),e.addPrefab(L.TowerLock,S),e.addPrefab(L.TowerUp,S),e.addPrefab(L.TowerUpTips,S),f.dataList.forEach((function(t){t.bundle==S&&e.addPrefab(t.path,S)}))},r._doEnterState=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.NextFrame();case 2:this._levelCfg.bgm>0&&this._audioMgr.play(this._levelCfg.bgm);case 3:if(this._isLoadingEnd){e.next=8;break}return e.next=6,C.NextFrame();case 6:e.next=3;break;case 8:return e.next=10,this._view.enter();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.update=function(e,t){this._pause||this._isChangeMap||(this._control.update(e),this._view.update(e))},r.lateUpdate=function(e,t){this._pause||this._isChangeMap},r.destroy=function(){e.prototype.destroy.call(this),this._onDestroy()},r._onDestroy=function(){this._isDestroy||(w.Clear(),this._audioMgr.stopAll(),this._control.clear(),this._view.clear(),this._isDestroy=!0)},r.continueGame=function(){y.logic.onRestartGame(801,this._levelCfg.id)},r.rebornGame=function(){this._control.rebornCnt++,this._control.mainHero.reborn()},r.nextGame=function(){var e=h.dataList[h.dataList.length-1].id,t=this._levelCfg.id+1;t>e&&(t=1),y.logic.onRestartGame(801,t)},r.returnGame=function(){y.game.showLoading(),this._onDestroy(),P.Clear(),y.logic.onEnterHall()},r.changeMap=function(){var e=i(a().mark((function e(t){var n,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.gui.lockScreen(),n=0==t?this._levelCfg.map_id:t,this._isChangeMap=!0,this._control.mainHeroCancelMove(),e.next=6,C.Seconds(1);case 6:i=g.data[n],0==t?(this._view.changeMainMap(i.view_scale/100),this._control.changeMain()):(r=M.createPrefabNode(E.fullMapRes(i.res),S),this._view.changeSubMap(r,i.view_scale/100),this._control.changeSubMap(i,r)),this._isChangeMap=!1,y.gui.unlockScreen();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r._addResByHeroId=function(e,t){var n=_.data[e];t.addPrefab(E.fullHeroModelRes(n.res),S)},r._addResByPropId=function(e,t){var n=v.data[e];t.addSpriteFrame(E.fullPropIconRes(n.icon),S)},r._addResByMonsterId=function(e,t){var n=p.data[e];t.addPrefab(E.fullMonsterModelRes(n.res),S)},r._addResByBarrierId=function(e,t){var n=c.data[e];t.addPrefab(E.fullBarrierModelRes(n.model),S)},r._addResByTreeId=function(e,t){t.addPrefab(E.fullTreeModelRes(String(e)),S)},r._addResByMapId=function(e,t){var n=g.data[e];t.addPrefab(E.fullMapRes(n.res),S);for(var i=0,a=n.init_heros.length;i<a;++i){var r=n.init_heros[i];this._addResByHeroId(r,t)}for(i=0,a=n.init_prop.length;i<a;++i){var o=n.init_prop[i];this._addResByPropId(o,t)}for(i=0,a=n.init_monster.length;i<a;++i){var s=n.init_monster[i];this._addResByMonsterId(s,t)}for(i=0,a=n.init_barrier.length;i<a;++i){var d=n.init_barrier[i];this._addResByBarrierId(d,t)}for(i=0,a=n.init_tree.length;i<a;++i){var f=n.init_tree[i];this._addResByTreeId(f,t)}},n(b,[{key:"ui",get:function(){return this._view}},{key:"control",get:function(){return this._control}},{key:"data",get:function(){return this._data}},{key:"audioMgr",get:function(){return this._audioMgr}},{key:"gameMode",get:function(){return this._gameMode}},{key:"isLoadingEnd",set:function(e){this._isLoadingEnd=e}}],[{key:"runtime",get:function(){return y.logic.state}}]),b}(b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameState6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdBarrierConfig5.ts","./ZdHeroConfig4.ts","./ZdLevelConfig2.ts","./ZdMapConfig.ts","./ZdMonsterConfig5.ts","./ZdPropConfig2.ts","./Awaiters.ts","./ViewUtil.ts","./YT.ts","./GameStateBase.ts","./PDEffectPool6.ts","./ZDAudioMgr6.ts","./ZDResUtils6.ts","./ZDConst6.ts","./ModeFactory6.ts"],(function(e){var t,n,i,r,a,o,s,d,u,c,f,_,l,h,g,p,v,m,M,y,C,R,B,w,D;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e.find},function(e){s=e.ZdBarrierConfig},function(e){d=e.ZdHeroConfig},function(e){u=e.ZdLevelConfig},function(e){c=e.ZdMapConfig},function(e){f=e.ZdMonsterConfig},function(e){_=e.ZdPropConfig},function(e){l=e.Awaiters},function(e){h=e.ViewUtil},function(e){g=e.YT},function(e){p=e.GameStateBase},function(e){v=e.PDEffectPool},function(e){m=e.ZDAudioMgr},function(e){M=e.ZDResUtils},function(e){y=e.ZD_RES_PREFABS,C=e.ZD_BUNDLE,R=e.ZD_SCENE},function(e){B=e.createZDData,w=e.createZDControl,D=e.createZDView}],execute:function(){a._RF.push({},"2f675DzQIxIuK4RpRBxbtVT","ZDGameState6",void 0);e("ZDGameState6",function(e){t(p,e);var a=p.prototype;function p(){var t;return(t=e.call(this)||this)._view=void 0,t._control=void 0,t._data=void 0,t._level=void 0,t._levelCfg=void 0,t._pause=void 0,t._audioMgr=void 0,t._gameMode=void 0,t._isLoadingEnd=void 0,t._isDestroy=!1,t._isChangeMap=!1,t._sceneBundle=C,t._sceneName=R,t._configBundle=C,t._pause=!1,t._gameMode=1,t._isLoadingEnd=!0,t._showLoading=!0,t}return a._doDestroy=function(){},a.isPauseGame=function(){return this._pause},a.pauseGame=function(e){this._pause=!0},a.resumeGame=function(){this._pause=!1,this._view.hidePause()},a._onPreEnter=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.audio.stopAll();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a._onPreEnterNext=function(){this._level=arguments.length<=1?void 0:arguments[1],this._levelCfg=u.data[this._level],this._gameMode=this._levelCfg.game_mode,this._data=B(this._gameMode),this._control=w(this._gameMode),this._view=D(this._gameMode),this._data.init()},a.otherLoadAssets=function(){},a._afterSceneLoaded=function(){var e=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.data[this._levelCfg.map_id],this._audioMgr=o("Canvas/__GAME",this.scene).addComponent(m),this._audioMgr.load(),this._view.init(this.scene),e.next=6,this._control.init(this._levelCfg,this._gameMode);case 6:10==t.id&&(this._isLoadingEnd=!1);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._getPreloads=function(e){for(var t in y)e.addPrefab(y[t],C);this._addResByHeroId(1,e),this._addResByMapId(this._levelCfg.map_id,e),m.getPrefabs(e)},a._doEnterState=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.NextFrame();case 2:this._levelCfg.bgm>0&&this._audioMgr.play(this._levelCfg.bgm);case 3:if(this._isLoadingEnd){e.next=8;break}return e.next=6,l.NextFrame();case 6:e.next=3;break;case 8:return e.next=10,this._view.enter();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.update=function(e,t){this._pause||this._isChangeMap||(this._control.update(e),this._view.update(e))},a.lateUpdate=function(e,t){this._pause||this._isChangeMap},a.destroy=function(){e.prototype.destroy.call(this),this._onDestroy()},a._onDestroy=function(){this._isDestroy||(this._audioMgr.stopAll(),this._control.clear(),this._view.clear(),this._isDestroy=!0)},a.continueGame=function(){g.logic.onRestartGame(666,this._levelCfg.id)},a.rebornGame=function(){this._control.rebornCnt++,this._control.mainHero.reborn()},a.nextGame=function(){var e=u.dataList[u.dataList.length-1].id,t=this._levelCfg.id+1;t>e&&(t=1),g.logic.onRestartGame(106,t)},a.returnGame=function(){g.game.showLoading(),this._onDestroy(),v.Clear(),g.logic.onEnterHall()},a.changeMap=function(){var e=i(r().mark((function e(t){var n,i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.gui.lockScreen(),n=0==t?this._levelCfg.map_id:t,this._isChangeMap=!0,this._control.mainHeroCancelMove(),e.next=6,l.Seconds(1);case 6:i=c.data[n],0==t?this._control.changeMain():(a=h.createPrefabNode(M.fullMapRes(i.res),C),this._control.changeSubMap(i,a)),this._isChangeMap=!1,g.gui.unlockScreen();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a._addResByHeroId=function(e,t){var n=d.data[e];t.addPrefab(M.fullHeroModelRes(n.res),C)},a._addResByPropId=function(e,t){var n=_.data[e];t.addSpriteFrame(M.fullPropIconRes(n.icon),C)},a._addResByMonsterId=function(e,t){var n=f.data[e];t.addPrefab(M.fullMonsterModelRes(n.res),C)},a._addResByBarrierId=function(e,t){var n=s.data[e];t.addPrefab(M.fullBarrierModelRes(n.model),C)},a._addResByTreeId=function(e,t){t.addPrefab(M.fullTreeModelRes(String(e)),C)},a._addResByMapId=function(e,t){var n=c.data[e];t.addPrefab(M.fullMapRes(n.res),C);for(var i=0,r=n.init_heros.length;i<r;++i){var a=n.init_heros[i];this._addResByHeroId(a,t)}for(i=0,r=n.init_prop.length;i<r;++i){var o=n.init_prop[i];this._addResByPropId(o,t)}for(i=0,r=n.init_monster.length;i<r;++i){var s=n.init_monster[i];this._addResByMonsterId(s,t)}for(i=0,r=n.init_barrier.length;i<r;++i){var d=n.init_barrier[i];this._addResByBarrierId(d,t)}for(i=0,r=n.init_tree.length;i<r;++i){var u=n.init_tree[i];this._addResByTreeId(u,t)}for(i=0,r=n.monster_spawn.length;i<r;++i){var f=n.monster_spawn[i][1];this._addResByMonsterId(f,t)}for(i=0,r=n.hero_spawn.length;i<r;++i){var _=n.hero_spawn[i][1];this._addResByHeroId(_,t)}for(i=0,r=n.transfer.length;i<r;++i){var l=n.transfer[i];l>0&&this._addResByMapId(l,t)}},n(p,[{key:"ui",get:function(){return this._view}},{key:"control",get:function(){return this._control}},{key:"data",get:function(){return this._data}},{key:"audioMgr",get:function(){return this._audioMgr}},{key:"gameMode",get:function(){return this._gameMode}},{key:"isLoadingEnd",set:function(e){this._isLoadingEnd=e}}],[{key:"runtime",get:function(){return g.logic.state}}]),p}(p));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp.ts","./ZDBattleLayer.ts","./ZDLoadingLayer.ts","./ZDMapLayer.ts","./ZDTipsPosLayer.ts","./ZDUILayer.ts","./LevelMapBaseCmp.ts"],(function(t){var e,o,n,a,i,r,s,u,p,c,h,_,d;return{setters:[function(t){e=t.createClass,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t.find,r=t.Camera},function(t){s=t.ZDDropItemCmp},function(t){u=t.ZDBattleLayer},function(t){p=t.ZDLoadingLayer},function(t){c=t.ZDMapLayer},function(t){h=t.ZDTipsPosLayer},function(t){_=t.ZDUILayer},function(t){d=t.LevelMapBaseCmp}],execute:function(){a._RF.push({},"d168de4W/RLYbRljJJJc+b4","ZDGameView",void 0);t("ZDGameView",function(){function t(){this._mapLayer=void 0,this._battleLayer=void 0,this._uiLayer=void 0,this._loadingLayer=void 0,this._tipsPosLayer=void 0,this._dialogNode=void 0,this._pauseNode=void 0,this._mainMapNode=void 0,this._curMapNode=void 0,this._cameraMap=void 0,this._cameraUI=void 0,this._frameIdx=0}var a=t.prototype;return a.init=function(t,e,o){this._cameraMap=i("Canvas/GameCamera",t).getComponent(r),this._cameraUI=i("Canvas2/UICamera",t).getComponent(r),this._mapLayer=i("Canvas/__GAME/MAP",t).getComponent(c),this._battleLayer=i("Canvas/__GAME/BATTLE",t).getComponent(u),this._tipsPosLayer=i("Canvas/__GAME/TIPS_NODE",t).getComponent(h),this._uiLayer=i("Canvas2/__UI",t).getComponent(_),this._dialogNode=i("Canvas2/DIALOG",t),this._pauseNode=i("Canvas2/PAUSE",t),this._loadingLayer=i("Canvas2/LOADING",t).getComponent(p),this._curMapNode=this._mainMapNode=e,this._onMapChange(o),this._onInit()},a.changeSubMap=function(t,e){var o;this._curMapNode.removeFromParent(),null==(o=this._curMapNode.getComponent(d))||o.onRemoveFromParent(),this._curMapNode=t,this._onMapChange(e)},a.changeMainMap=function(t){var e,o;this._mainMapNode!=this._curMapNode&&(null==(o=this._curMapNode.getComponent(d))||o.clear());this._curMapNode.removeFromParent(),null==(e=this._curMapNode.getComponent(d))||e.onRemoveFromParent(),this._curMapNode=this._mainMapNode,this._onMapChange(t)},a._onMapChange=function(t){var e;this._curMapNode.parent=this._mapLayer.node,null==(e=this._curMapNode.getComponent(d))||e.onSetParent();var o=this._curMapNode.uiTransform.contentSize;this._mapLayer.setSize(o.width,o.height,t)},a.onChangeMainWeapon=function(t){this._uiLayer.onChangeMainWeapon(t)},a.update=function(t){this._frameIdx+=1,this._battleLayer.logicUpdate(t),this._mapLayer.logicUpdate(t),this._uiLayer.logicUpdate(t),this._tipsPosLayer.logicUpdate(t),this._onUpdate(t)},a.enter=function(){var t=o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._onEnter();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.showPause=function(){this._pauseNode.active=!0},a.hidePause=function(){this._pauseNode.active=!1},a.clear=function(){s.Clear(),this._onClear()},a.addHeroInMap=function(t){this._onAddHero(t)},a.mainHeroPosChange=function(t){},a._onInit=function(){},a._onUpdate=function(t){},a._onClear=function(){},a._onAddHero=function(t){},a._onEnter=function(){},e(t,[{key:"roleRoot",get:function(){return this._battleLayer.roleRoot}},{key:"propRoot",get:function(){return this._battleLayer.propRoot}},{key:"weaponRoot",get:function(){return this._battleLayer.weaponRoot}},{key:"effectRoot",get:function(){return this._battleLayer.effectRoot}},{key:"monsterRoot",get:function(){return this._battleLayer.monsterRoot}},{key:"shadowRoot",get:function(){return this._battleLayer.shadowRoot}},{key:"barrierRoot",get:function(){return this._battleLayer.barrierRoot}},{key:"treeRoot",get:function(){return this._battleLayer.treeRoot}},{key:"treeDropRoot",get:function(){return this._battleLayer.treeDropRoot}},{key:"towerRoot",get:function(){return this._battleLayer.towerRoot}},{key:"bulletRoot",get:function(){return this._battleLayer.bulletRoot}},{key:"grassRoot",get:function(){return this._battleLayer.grassRoot}},{key:"mapLayer",get:function(){return this._mapLayer}},{key:"loadingLayer",get:function(){return this._loadingLayer}},{key:"dialogNode",get:function(){return this._dialogNode}},{key:"mainMapNode",get:function(){return this._mainMapNode}},{key:"mapRect",get:function(){return this._mapLayer.MAP_RECT}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp3.ts","./ZDBattleLayer3.ts","./ZDLoadingLayer3.ts","./ZDMapLayer3.ts","./ZDTipsPosLayer3.ts","./ZDUILayer3.ts","./LevelMapBaseCmp3.ts"],(function(t){var e,o,n,a,i,r,s,u,c,p,h,_,y;return{setters:[function(t){e=t.createClass,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t.find,r=t.Camera},function(t){s=t.ZDDropItemCmp3},function(t){u=t.ZDBattleLayer3},function(t){c=t.ZDLoadingLayer3},function(t){p=t.ZDMapLayer3},function(t){h=t.ZDTipsPosLayer3},function(t){_=t.ZDUILayer3},function(t){y=t.LevelMapBaseCmp3}],execute:function(){a._RF.push({},"fd3ef4I83BLM6SQc8bU2J6g","ZDGameView3",void 0);t("ZDGameView3",function(){function t(){this._mapLayer=void 0,this._battleLayer=void 0,this._uiLayer=void 0,this._loadingLayer=void 0,this._tipsPosLayer=void 0,this._dialogNode=void 0,this._pauseNode=void 0,this._mainMapNode=void 0,this._curMapNode=void 0,this._cameraMap=void 0,this._cameraUI=void 0,this._frameIdx=0}var a=t.prototype;return a.init=function(t,e,o){this._cameraMap=i("Canvas/GameCamera",t).getComponent(r),this._cameraUI=i("Canvas2/UICamera",t).getComponent(r),this._mapLayer=i("Canvas/__GAME/MAP",t).getComponent(p),this._battleLayer=i("Canvas/__GAME/BATTLE",t).getComponent(u),this._tipsPosLayer=i("Canvas/__GAME/TIPS_NODE",t).getComponent(h),this._uiLayer=i("Canvas2/__UI",t).getComponent(_),this._dialogNode=i("Canvas2/DIALOG",t),this._pauseNode=i("Canvas2/PAUSE",t),this._loadingLayer=i("Canvas2/LOADING",t).getComponent(c),this._curMapNode=this._mainMapNode=e,this._onMapChange(o),this._onInit()},a.changeSubMap=function(t,e){var o;this._curMapNode.removeFromParent(),null==(o=this._curMapNode.getComponent(y))||o.onRemoveFromParent(),this._curMapNode=t,this._onMapChange(e)},a.changeMainMap=function(t){var e,o;this._mainMapNode!=this._curMapNode&&(null==(o=this._curMapNode.getComponent(y))||o.clear());this._curMapNode.removeFromParent(),null==(e=this._curMapNode.getComponent(y))||e.onRemoveFromParent(),this._curMapNode=this._mainMapNode,this._onMapChange(t)},a._onMapChange=function(t){var e;this._curMapNode.parent=this._mapLayer.node,null==(e=this._curMapNode.getComponent(y))||e.onSetParent();var o=this._curMapNode.uiTransform.contentSize;this._mapLayer.setSize(o.width,o.height,t)},a.onChangeMainWeapon=function(t){this._uiLayer.onChangeMainWeapon(t)},a.update=function(t){this._frameIdx+=1,this._battleLayer.logicUpdate(t),this._mapLayer.logicUpdate(t),this._uiLayer.logicUpdate(t),this._tipsPosLayer.logicUpdate(t),this._onUpdate(t)},a.enter=function(){var t=o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._onEnter();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.showPause=function(){this._pauseNode.active=!0},a.hidePause=function(){this._pauseNode.active=!1},a.clear=function(){s.Clear(),this._onClear()},a.addHeroInMap=function(t){this._onAddHero(t)},a.mainHeroPosChange=function(t){},a._onInit=function(){},a._onUpdate=function(t){},a._onClear=function(){},a._onAddHero=function(t){},a._onEnter=function(){},e(t,[{key:"roleRoot",get:function(){return this._battleLayer.roleRoot}},{key:"propRoot",get:function(){return this._battleLayer.propRoot}},{key:"weaponRoot",get:function(){return this._battleLayer.weaponRoot}},{key:"effectRoot",get:function(){return this._battleLayer.effectRoot}},{key:"monsterRoot",get:function(){return this._battleLayer.monsterRoot}},{key:"shadowRoot",get:function(){return this._battleLayer.shadowRoot}},{key:"barrierRoot",get:function(){return this._battleLayer.barrierRoot}},{key:"treeRoot",get:function(){return this._battleLayer.treeRoot}},{key:"treeDropRoot",get:function(){return this._battleLayer.treeDropRoot}},{key:"towerRoot",get:function(){return this._battleLayer.towerRoot}},{key:"bulletRoot",get:function(){return this._battleLayer.bulletRoot}},{key:"grassRoot",get:function(){return this._battleLayer.grassRoot}},{key:"hpRoot",get:function(){return this._battleLayer.hpRoot}},{key:"countRoot",get:function(){return this._battleLayer.countRoot}},{key:"nameRoot",get:function(){return this._battleLayer.nameRoot}},{key:"mapLayer",get:function(){return this._mapLayer}},{key:"loadingLayer",get:function(){return this._loadingLayer}},{key:"uiLayer",get:function(){return this._uiLayer}},{key:"dialogNode",get:function(){return this._dialogNode}},{key:"mainMapNode",get:function(){return this._mainMapNode}},{key:"mapRect",get:function(){return this._mapLayer.MAP_RECT}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp4.ts","./ZDBattleLayer4.ts","./ZDLoadingLayer4.ts","./ZDMapLayer4.ts","./ZDTipsPosLayer4.ts","./ZDUILayer4.ts","./LevelMapBaseCmp4.ts"],(function(t){var e,o,a,n,i,r,s,u,p,c,h,_,d;return{setters:[function(t){e=t.createClass,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){n=t.cclegacy,i=t.find,r=t.Camera},function(t){s=t.ZDDropItemCmp4},function(t){u=t.ZDBattleLayer4},function(t){p=t.ZDLoadingLayer4},function(t){c=t.ZDMapLayer4},function(t){h=t.ZDTipsPosLayer4},function(t){_=t.ZDUILayer4},function(t){d=t.LevelMapBaseCmp4}],execute:function(){n._RF.push({},"2de961rsTxAM5SsFeAZBagt","ZDGameView4",void 0);t("ZDGameView",function(){function t(){this._mapLayer=void 0,this._battleLayer=void 0,this._uiLayer=void 0,this._loadingLayer=void 0,this._tipsPosLayer=void 0,this._dialogNode=void 0,this._pauseNode=void 0,this._mainMapNode=void 0,this._curMapNode=void 0,this._cameraMap=void 0,this._cameraUI=void 0,this.mapTopLayer=void 0,this._frameIdx=0}var n=t.prototype;return n.init=function(t,e,o){this._cameraMap=i("Canvas/GameCamera",t).getComponent(r),this._cameraUI=i("Canvas2/UICamera",t).getComponent(r),this._mapLayer=i("Canvas/__GAME/MAP",t).getComponent(c),this._battleLayer=i("Canvas/__GAME/BATTLE",t).getComponent(u),this._tipsPosLayer=i("Canvas/__GAME/TIPS_NODE",t).getComponent(h),this._uiLayer=i("Canvas2/__UI",t).getComponent(_),this._dialogNode=i("Canvas2/DIALOG",t),this._pauseNode=i("Canvas2/PAUSE",t),this._loadingLayer=i("Canvas2/LOADING",t).getComponent(p),this.mapTopLayer=i("Canvas/__GAME/BATTLE/MAP_TOP",t),this._curMapNode=this._mainMapNode=e,this._onMapChange(o),this._onInit()},n.changeSubMap=function(t,e){var o;this._curMapNode.removeFromParent(),null==(o=this._curMapNode.getComponent(d))||o.onRemoveFromParent(),this._curMapNode=t,this._onMapChange(e)},n.changeMainMap=function(t){var e,o;this._mainMapNode!=this._curMapNode&&(null==(o=this._curMapNode.getComponent(d))||o.clear());this._curMapNode.removeFromParent(),null==(e=this._curMapNode.getComponent(d))||e.onRemoveFromParent(),this._curMapNode=this._mainMapNode,this._onMapChange(t)},n._onMapChange=function(t){var e;this._curMapNode.parent=this._mapLayer.node,null==(e=this._curMapNode.getComponent(d))||e.onSetParent();var o=this._curMapNode.uiTransform.contentSize;this._mapLayer.setSize(o.width,o.height,t)},n.onChangeMainWeapon=function(t){this._uiLayer.onChangeMainWeapon(t)},n.update=function(t){this._frameIdx+=1,this._battleLayer.logicUpdate(t),this._mapLayer.logicUpdate(t),this._uiLayer.logicUpdate(t),this._tipsPosLayer.logicUpdate(t),this._onUpdate(t)},n.enter=function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._onEnter();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.showPause=function(){this._pauseNode.active=!0},n.hidePause=function(){this._pauseNode.active=!1},n.clear=function(){s.Clear(),this._onClear()},n.addHeroInMap=function(t){this._onAddHero(t)},n.mainHeroPosChange=function(t){},n._onInit=function(){},n._onUpdate=function(t){},n._onClear=function(){},n._onAddHero=function(t){},n._onEnter=function(){},e(t,[{key:"roleRoot",get:function(){return this._battleLayer.roleRoot}},{key:"propRoot",get:function(){return this._battleLayer.propRoot}},{key:"weaponRoot",get:function(){return this._battleLayer.weaponRoot}},{key:"effectRoot",get:function(){return this._battleLayer.effectRoot}},{key:"monsterRoot",get:function(){return this._battleLayer.monsterRoot}},{key:"shadowRoot",get:function(){return this._battleLayer.shadowRoot}},{key:"barrierRoot",get:function(){return this._battleLayer.barrierRoot}},{key:"treeRoot",get:function(){return this._battleLayer.treeRoot}},{key:"treeDropRoot",get:function(){return this._battleLayer.treeDropRoot}},{key:"towerRoot",get:function(){return this._battleLayer.towerRoot}},{key:"bulletRoot",get:function(){return this._battleLayer.bulletRoot}},{key:"grassRoot",get:function(){return this._battleLayer.grassRoot}},{key:"mapLayer",get:function(){return this._mapLayer}},{key:"loadingLayer",get:function(){return this._loadingLayer}},{key:"dialogNode",get:function(){return this._dialogNode}},{key:"mainMapNode",get:function(){return this._mainMapNode}},{key:"mapRect",get:function(){return this._mapLayer.MAP_RECT}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp5.ts","./ZDBattleLayer5.ts","./ZDLoadingLayer5.ts","./ZDMapLayer5.ts","./ZDTipsPosLayer5.ts","./ZDUILayer5.ts","./LevelMapBaseCmp5.ts"],(function(t){var e,o,n,a,i,r,s,h,u,p,c,_,d,y;return{setters:[function(t){e=t.createClass,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t.find,r=t.Camera,s=t.tween},function(t){h=t.ZDDropItemCmp5},function(t){u=t.ZDBattleLayer5},function(t){p=t.ZDLoadingLayer5},function(t){c=t.ZDMapLayer5},function(t){_=t.ZDTipsPosLayer5},function(t){d=t.ZDUILayer5},function(t){y=t.LevelMapBaseCmp5}],execute:function(){a._RF.push({},"e28b7lEkoBL3oQ7rZn4ZNzk","ZDGameView5",void 0);t("ZDGameView",function(){function t(){this._mapLayer=void 0,this._battleLayer=void 0,this._uiLayer=void 0,this._loadingLayer=void 0,this._tipsPosLayer=void 0,this._dialogNode=void 0,this._pauseNode=void 0,this._mainMapNode=void 0,this._curMapNode=void 0,this._cameraMap=void 0,this._cameraUI=void 0,this.mapTopLayer=void 0,this.shanhongNode=null,this.shanhongTime=0,this._frameIdx=0}var a=t.prototype;return a.init=function(t,e,o){this._cameraMap=i("Canvas/GameCamera",t).getComponent(r),this._cameraUI=i("Canvas2/UICamera",t).getComponent(r),this._mapLayer=i("Canvas/__GAME/MAP",t).getComponent(c),this._battleLayer=i("Canvas/__GAME/BATTLE",t).getComponent(u),this._tipsPosLayer=i("Canvas/__GAME/TIPS_NODE",t).getComponent(_),this._uiLayer=i("Canvas2/__UI",t).getComponent(d),this._dialogNode=i("Canvas2/DIALOG",t),this._pauseNode=i("Canvas2/PAUSE",t),this._loadingLayer=i("Canvas2/LOADING",t).getComponent(p),this.mapTopLayer=i("Canvas/__GAME/BATTLE/MAP_TOP",t),this._curMapNode=this._mainMapNode=e,this._onMapChange(o),this.shanhongNode=i("Canvas2/__UI/shanhong",t),this.shanhongNode.active=!1,s(this.shanhongNode).sequence(s(this.shanhongNode).to(1,{opacity:0}),s(this.shanhongNode).to(1,{opacity:255})).repeatForever().tag(88888).start(),this._onInit()},a.changeSubMap=function(t,e){var o;this._curMapNode.removeFromParent(),null==(o=this._curMapNode.getComponent(y))||o.onRemoveFromParent(),this._curMapNode=t,this._onMapChange(e)},a.changeMainMap=function(t){var e,o;this._mainMapNode!=this._curMapNode&&(null==(o=this._curMapNode.getComponent(y))||o.clear());this._curMapNode.removeFromParent(),null==(e=this._curMapNode.getComponent(y))||e.onRemoveFromParent(),this._curMapNode=this._mainMapNode,this._onMapChange(t)},a._onMapChange=function(t){var e;this._curMapNode.parent=this._mapLayer.node,null==(e=this._curMapNode.getComponent(y))||e.onSetParent();var o=this._curMapNode.uiTransform.contentSize;this._mapLayer.setSize(o.width,o.height,t)},a.onChangeMainWeapon=function(t){this._uiLayer.onChangeMainWeapon(t)},a.update=function(t){this._frameIdx+=1,this._battleLayer.logicUpdate(t),this._mapLayer.logicUpdate(t),this._uiLayer.logicUpdate(t),this._tipsPosLayer.logicUpdate(t),this._onUpdate(t),this.shanhongTime-=t,this.shanhongTime>0?this.shanhongNode.active=!0:this.shanhongNode.active=!1},a.enter=function(){var t=o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._onEnter();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.showPause=function(){this._pauseNode.active=!0},a.hidePause=function(){this._pauseNode.active=!1},a.clear=function(){h.Clear(),this._onClear()},a.addHeroInMap=function(t){this._onAddHero(t)},a.mainHeroPosChange=function(t){},a._onInit=function(){},a._onUpdate=function(t){},a._onClear=function(){},a._onAddHero=function(t){},a._onEnter=function(){},e(t,[{key:"roleRoot",get:function(){return this._battleLayer.roleRoot}},{key:"propRoot",get:function(){return this._battleLayer.propRoot}},{key:"weaponRoot",get:function(){return this._battleLayer.weaponRoot}},{key:"effectRoot",get:function(){return this._battleLayer.effectRoot}},{key:"monsterRoot",get:function(){return this._battleLayer.monsterRoot}},{key:"shadowRoot",get:function(){return this._battleLayer.shadowRoot}},{key:"barrierRoot",get:function(){return this._battleLayer.barrierRoot}},{key:"treeRoot",get:function(){return this._battleLayer.treeRoot}},{key:"treeDropRoot",get:function(){return this._battleLayer.treeDropRoot}},{key:"towerRoot",get:function(){return this._battleLayer.towerRoot}},{key:"bulletRoot",get:function(){return this._battleLayer.bulletRoot}},{key:"grassRoot",get:function(){return this._battleLayer.grassRoot}},{key:"uiLayer",get:function(){return this._uiLayer}},{key:"mapLayer",get:function(){return this._mapLayer}},{key:"loadingLayer",get:function(){return this._loadingLayer}},{key:"dialogNode",get:function(){return this._dialogNode}},{key:"mainMapNode",get:function(){return this._mainMapNode}},{key:"mapRect",get:function(){return this._mapLayer.MAP_RECT}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGameView6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDDropItemCmp6.ts","./ZDBattleLayer6.ts","./ZDLoadingLayer6.ts","./ZDMapLayer6.ts","./ZDTipsPosLayer6.ts","./ZDUILayer6.ts"],(function(t){var e,o,n,a,r,i,s,u,c,_,y,h;return{setters:[function(t){e=t.createClass,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t.find,i=t.Camera},function(t){s=t.ZDDropItemCmp6},function(t){u=t.ZDBattleLayer6},function(t){c=t.ZDLoadingLayer6},function(t){_=t.ZDMapLayer6},function(t){y=t.ZDTipsPosLayer6},function(t){h=t.ZDUILayer6}],execute:function(){a._RF.push({},"d48060lKChP7LWCVd2jsMoj","ZDGameView6",void 0);t("ZDGameView",function(){function t(){this._mapLayer=void 0,this._battleLayer=void 0,this._uiLayer=void 0,this._loadingLayer=void 0,this._tipsPosLayer=void 0,this._dialogNode=void 0,this._pauseNode=void 0,this._cameraMap=void 0,this._cameraUI=void 0,this._frameIdx=0}var a=t.prototype;return a.init=function(t){this._cameraMap=r("Canvas/GameCamera",t).getComponent(i),this._cameraUI=r("Canvas2/UICamera",t).getComponent(i),this._mapLayer=r("Canvas/__GAME/MAP",t).getComponent(_),this._battleLayer=r("Canvas/__GAME/BATTLE",t).getComponent(u),this._tipsPosLayer=r("Canvas/__GAME/TIPS_NODE",t).getComponent(y),this._uiLayer=r("Canvas2/__UI",t).getComponent(h),this._dialogNode=r("Canvas2/DIALOG",t),this._pauseNode=r("Canvas2/PAUSE",t),this._loadingLayer=r("Canvas2/LOADING",t).getComponent(c),this._onInit()},a.onChangeMainWeapon=function(t){this._uiLayer.onChangeMainWeapon(t)},a.update=function(t){this._frameIdx+=1,this._battleLayer.logicUpdate(t),this._mapLayer.logicUpdate(t),this._uiLayer.logicUpdate(t),this._tipsPosLayer.logicUpdate(t),this._onUpdate(t)},a.enter=function(){var t=o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._onEnter();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.showPause=function(){this._pauseNode.active=!0},a.hidePause=function(){this._pauseNode.active=!1},a.clear=function(){s.Clear(),this._onClear()},a.addHeroInMap=function(t){this._onAddHero(t)},a.mainHeroPosChange=function(t){},a._onInit=function(){},a._onUpdate=function(t){},a._onClear=function(){},a._onAddHero=function(t){},a._onEnter=function(){},e(t,[{key:"roleRoot",get:function(){return this._battleLayer.roleRoot}},{key:"propRoot",get:function(){return this._battleLayer.propRoot}},{key:"weaponRoot",get:function(){return this._battleLayer.weaponRoot}},{key:"effectRoot",get:function(){return this._battleLayer.effectRoot}},{key:"monsterRoot",get:function(){return this._battleLayer.monsterRoot}},{key:"shadowRoot",get:function(){return this._battleLayer.shadowRoot}},{key:"barrierRoot",get:function(){return this._battleLayer.barrierRoot}},{key:"treeRoot",get:function(){return this._battleLayer.treeRoot}},{key:"treeDropRoot",get:function(){return this._battleLayer.treeDropRoot}},{key:"towerRoot",get:function(){return this._battleLayer.towerRoot}},{key:"bulletRoot",get:function(){return this._battleLayer.bulletRoot}},{key:"grassRoot",get:function(){return this._battleLayer.grassRoot}},{key:"mapLayer",get:function(){return this._mapLayer}},{key:"loadingLayer",get:function(){return this._loadingLayer}},{key:"dialogNode",get:function(){return this._dialogNode}},{key:"mapRect",get:function(){return this._mapLayer.MAP_RECT}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGrassStackControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl.ts","./GrassStackRoleMgr.ts"],(function(t){var n,o,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){r=t.ZDGameControl},function(t){e=t.GrassStackRoleMgr}],execute:function(){o._RF.push({},"2a2e0r8jGxEOocYs8tOMlJ1","ZDGrassStackControl",void 0);t("ZDGrassStackControl",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r._createRoleMgr=function(t){return new e(t)},r._onUpdate=function(n){t.prototype._onUpdate.call(this,n)},r.findObstructRole=function(t,n,o){return null},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGrassStackControl3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl3.ts","./GrassStackRoleMgr3.ts"],(function(t){var n,o,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){r=t.default},function(t){e=t.GrassStackRoleMgr3}],execute:function(){o._RF.push({},"03b07JgPxNKebNKTREW8Tjt","ZDGrassStackControl3",void 0);t("ZDGrassStackControl3",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r._createRoleMgr=function(t){return new e(t)},r._onUpdate=function(n){t.prototype._onUpdate.call(this,n)},r.findObstructRole=function(t,n,o){return null},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGrassStackControl4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl4.ts","./GrassStackRoleMgr4.ts"],(function(t){var n,o,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){r=t.ZDGameControl},function(t){e=t.GrassStackRoleMgr}],execute:function(){o._RF.push({},"ff1c1TRVmRIK7IuKJ6pXenx","ZDGrassStackControl4",void 0);t("ZDGrassStackControl",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r._createRoleMgr=function(t){return new e(t)},r._onUpdate=function(n){t.prototype._onUpdate.call(this,n)},r.findObstructRole=function(t,n,o){return null},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGrassStackControl5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl5.ts","./GrassStackRoleMgr5.ts"],(function(t){var n,o,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){r=t.ZDGameControl},function(t){e=t.GrassStackRoleMgr}],execute:function(){o._RF.push({},"c8aa68DPVxH4KGldeS7RjgP","ZDGrassStackControl5",void 0);t("ZDGrassStackControl",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r._createRoleMgr=function(t){return new e(t)},r._onUpdate=function(n){t.prototype._onUpdate.call(this,n)},r.findObstructRole=function(t,n,o){return null},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDGrassStackControl6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameControl6.ts"],(function(t){var n,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){r=t.ZDGameControl}],execute:function(){o._RF.push({},"bb37c6FKWVKboPGrq2iEGXq","ZDGrassStackControl6",void 0);t("ZDGrassStackControl",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r._onUpdate=function(n){t.prototype._onUpdate.call(this,n)},r.findObstructRole=function(t,n,o){return null},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdhcEnemyConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t;i("ZdhcEnemyConfig",void 0),n._RF.push({},"7a064d5+pVLiIykZL6ey1L5","ZdhcEnemyConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.view=void 0,this.hp=void 0,this.gold=void 0};i.isConst=!1,i.path="config/ZdhcEnemyConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdhcEnemyConfig",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ZdhcGoldWaveConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdhcGoldWaveConfig",void 0),t._RF.push({},"8dae2Sd7DBLsJARz2rehOU9","ZdhcGoldWaveConfig",void 0),function(i){i.config=function(){this.id=void 0,this.level=void 0,this.time=void 0,this.num=void 0,this.isLeft=void 0,this.hp=void 0};i.isConst=!1,i.path="config/ZdhcGoldWaveConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdhcGoldWaveConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdhcHeroConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdhcHeroConfig",void 0),o._RF.push({},"03ef1plVNlNWode9+5E11VH","ZdhcHeroConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.view=void 0,this.knifeId=void 0,this.price=void 0};i.isConst=!1,i.path="config/ZdhcHeroConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdhcHeroConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdhcKnifeConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t;i("ZdhcKnifeConfig",void 0),n._RF.push({},"047d6jBVZFHpLGukX2crqno","ZdhcKnifeConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.view=void 0,this.atk=void 0,this.rSpeed=void 0,this.rRadius=void 0};i.isConst=!1,i.path="config/ZdhcKnifeConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdhcKnifeConfig",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ZdhcLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("ZdhcLevelConfig",void 0),t._RF.push({},"2c46aXqvmxDiI5wAf0T5Aj9","ZdhcLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.levelView=void 0,this.icon=void 0,this.ad=void 0,this.outline=void 0};i.isConst=!1,i.path="config/ZdhcLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("ZdhcLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdhcWaveConfig.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("ZdhcWaveConfig",void 0),i._RF.push({},"af79dX44FpFtqtJoULD9hbZ","ZdhcWaveConfig",void 0),function(t){t.config=function(){this.id=void 0,this.level=void 0,this.left=void 0,this.right=void 0};t.isConst=!1,t.path="config/ZdhcWaveConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(n||(n=t("ZdhcWaveConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdHeroConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdHeroConfig",void 0),o._RF.push({},"89452uD8L5IR7SJTyuCyfNa","ZdHeroConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.weapon_radius=void 0,this.hp=void 0,this.atk=void 0,this.move_speed=void 0,this.rot_speed=void 0,this.weapon=void 0,this.weapon_cnt=void 0,this.drop_prop=void 0,this.agent=void 0,this.ai_param=void 0,this.atk_friend=void 0,this.atk_barrier=void 0,this.collect_prop=void 0,this.is_boss=void 0,this.isTm=void 0,this.levelupHp=void 0};i.isConst=!1,i.path="config/ZdHeroConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdHeroConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdHeroConfig2.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdHeroConfig",void 0),o._RF.push({},"a38baV2oiFJ1IHCFeEQJffy","ZdHeroConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.weapon_radius=void 0,this.hp=void 0,this.atk=void 0,this.move_speed=void 0,this.rot_speed=void 0,this.weapon=void 0,this.weapon_cnt=void 0,this.drop_prop=void 0,this.agent=void 0,this.ai_param=void 0,this.atk_friend=void 0,this.atk_barrier=void 0,this.collect_prop=void 0,this.is_boss=void 0,this.isTm=void 0,this.levelupHp=void 0};i.isConst=!1,i.path="config/ZdHeroConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdHeroConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdHeroConfig3.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdHeroConfig",void 0),o._RF.push({},"b0424fGZvBFibSlni2ADr2j","ZdHeroConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.weapon_radius=void 0,this.hp=void 0,this.move_speed=void 0,this.rot_speed=void 0,this.weapon=void 0,this.weapon_cnt=void 0,this.drop_prop=void 0,this.agent=void 0,this.ai_param=void 0,this.atk_friend=void 0,this.atk_barrier=void 0,this.collect_prop=void 0,this.is_boss=void 0};i.isConst=!1,i.path="config/ZdHeroConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdHeroConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdHeroConfig4.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdHeroConfig",void 0),o._RF.push({},"ce332yLI8xD+ozrzkD44hUB","ZdHeroConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.weapon_radius=void 0,this.hp=void 0,this.move_speed=void 0,this.rot_speed=void 0,this.weapon=void 0,this.weapon_cnt=void 0,this.drop_prop=void 0,this.agent=void 0,this.ai_param=void 0,this.find_path=void 0,this.atk_friend=void 0,this.atk_barrier=void 0,this.collect_prop=void 0,this.is_boss=void 0};i.isConst=!1,i.path="config/ZdHeroConfig",i.extPath="config/ZdHeroConfig@player",i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdHeroConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdHeroConfig5.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdHeroConfig",void 0),o._RF.push({},"fe0b2KxC7VNiZD0bIPGGwRb","ZdHeroConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.weapon_radius=void 0,this.hp=void 0,this.move_speed=void 0,this.rot_speed=void 0,this.weapon=void 0,this.weapon_cnt=void 0,this.drop_prop=void 0,this.agent=void 0,this.ai_param=void 0,this.atk_friend=void 0,this.atk_barrier=void 0,this.collect_prop=void 0,this.is_boss=void 0};i.isConst=!1,i.path="config/ZdHeroConfig",i.extPath="config/ZdHeroConfig@player",i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdHeroConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLevelCfgSolver.ts",["cc","./ZDConfigItemCmp.ts"],(function(e){var t,n,p,y;return{setters:[function(e){t=e.cclegacy,n=e.Vec3},function(e){p=e.ZDConfigItemCmp,y=e.EConfigItemType}],execute:function(){t._RF.push({},"10ca65Q3OhBMoliyV6qWI1t","ZDLevelCfgSolver",void 0);e("ZDLevelCfgSolver",function(){function e(){}return e.parseMapNode=function(e,t,n){for(var i,r,a=e.getComponentsInChildren(p),c=0;c<a.length;++c)if(i=a[c]){i.node.getWorldPosition(o);t(i.type==y.Transfer?{type:i.type,id:i.configId,x:o.x,y:o.y,style:i.style}:i.type==y.CutTreeTree?{type:i.type,id:i.configId,x:o.x,y:o.y,hp:i.hp}:i.type==y.Shop?{type:i.type,id:i.configId,x:o.x,y:o.y}:i.type==y.Spawn?{type:i.type,id:i.spawnTime,x:o.x,y:o.y,spawnType:i.spawnType,spawnId:i.spawnId,param1:i.param1,param2:i.param2}:i.type==y.Monster?{type:i.type,id:i.configId,x:o.x,y:o.y,moveType:i.moveType}:{type:i.type,id:i.configId,x:o.x,y:o.y})}n&&(null==(r=e.getChildByName("items"))||r.removeFromParent())},e}());var o=new n;t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLevelCfgSolver3.ts",["cc","./ZDConfigItemCmp3.ts"],(function(e){var t,n,p,y;return{setters:[function(e){t=e.cclegacy,n=e.Vec3},function(e){p=e.ZDConfigItemCmp3,y=e.EConfigItemType}],execute:function(){t._RF.push({},"6e628b5vAVFsYJePVotZ8gU","ZDLevelCfgSolver3",void 0);e("ZDLevelCfgSolver3",function(){function e(){}return e.parseMapNode=function(e,t,n){for(var i,r,a=e.getComponentsInChildren(p),s=0;s<a.length;++s)if(i=a[s]){i.node.getWorldPosition(o);t(i.type==y.Transfer?{type:i.type,id:i.configId,x:o.x,y:o.y,style:i.style}:i.type==y.CutTreeTree?{type:i.type,id:i.configId,x:o.x,y:o.y,hp:i.hp}:i.type==y.Shop?{type:i.type,id:i.configId,x:o.x,y:o.y}:i.type==y.Spawn?{type:i.type,id:i.spawnTime,x:o.x,y:o.y,spawnType:i.spawnType,spawnId:i.spawnId,param1:i.param1,param2:i.param2}:i.type==y.Monster?{type:i.type,id:i.configId,x:o.x,y:o.y,moveType:i.moveType}:{type:i.type,id:i.configId,x:o.x,y:o.y})}n&&(null==(r=e.getChildByName("items"))||r.removeFromParent())},e}());var o=new n;t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLevelCfgSolver4.ts",["cc","./ZDConfigItemCmp4.ts"],(function(e){var t,p,n,y;return{setters:[function(e){t=e.cclegacy,p=e.Vec3},function(e){n=e.ZDConfigItemCmp4,y=e.EConfigItemType}],execute:function(){t._RF.push({},"4eb47D5EL1PXqu+/ooIxpbE","ZDLevelCfgSolver4",void 0);e("ZDLevelCfgSolver",function(){function e(){}return e.parseMapNode=function(e,t,p){for(var i,r,a=e.getComponentsInChildren(n),f=0;f<a.length;++f)if(i=a[f]){i.node.getWorldPosition(o);t(i.type==y.Transfer?{type:i.type,id:i.configId,x:o.x,y:o.y,style:i.style}:i.type==y.CutTreeTree?{type:i.type,id:i.configId,x:o.x,y:o.y,hp:i.hp}:i.type==y.Shop?{type:i.type,id:i.configId,x:o.x,y:o.y}:i.type==y.Spawn?{type:i.type,id:i.spawnTime,x:o.x,y:o.y,spawnType:i.spawnType,spawnId:i.spawnId,param1:i.param1,param2:i.param2}:i.type==y.Monster?{type:i.type,id:i.configId,x:o.x,y:o.y,moveType:i.moveType}:{type:i.type,id:i.configId,x:o.x,y:o.y})}p&&(null==(r=e.getChildByName("items"))||r.removeFromParent())},e}());var o=new p;t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLevelCfgSolver5.ts",["cc","./ZDConfigItemCmp5.ts"],(function(e){var t,p,n,y;return{setters:[function(e){t=e.cclegacy,p=e.Vec3},function(e){n=e.ZDConfigItemCmp5,y=e.EConfigItemType}],execute:function(){t._RF.push({},"cb29aUvPOBNrYRnRwO0ugYw","ZDLevelCfgSolver5",void 0);e("ZDLevelCfgSolver",function(){function e(){}return e.parseMapNode=function(e,t,p){for(var r,i,a=e.getComponentsInChildren(n),c=0;c<a.length;++c)if(r=a[c]){r.node.getWorldPosition(o);t(r.type==y.Transfer?{type:r.type,id:r.configId,x:o.x,y:o.y,style:r.style}:r.type==y.CutTreeTree?{type:r.type,id:r.configId,x:o.x,y:o.y,hp:r.hp,treeType:r.treeType}:r.type==y.Shop?{type:r.type,id:r.configId,x:o.x,y:o.y}:r.type==y.Spawn?{type:r.type,id:r.spawnTime,x:o.x,y:o.y,spawnType:r.spawnType,spawnId:r.spawnId,param1:r.param1,param2:r.param2}:r.type==y.Monster?{type:r.type,id:r.configId,x:o.x,y:o.y,moveType:r.moveType}:{type:r.type,id:r.configId,x:o.x,y:o.y})}p&&(null==(i=e.getChildByName("items"))||i.removeFromParent())},e}());var o=new p;t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLevelCfgSolver6.ts",["cc","./ZDConfigItemCmp6.ts"],(function(e){var t,n,p,i;return{setters:[function(e){t=e.cclegacy,n=e.Vec3},function(e){p=e.ZDConfigItemCmp6,i=e.EConfigItemType}],execute:function(){t._RF.push({},"d4435JbDN1KtYEz5jdGUHXF","ZDLevelCfgSolver6",void 0);e("ZDLevelCfgSolver",function(){function e(){}return e.parseMapNode=function(e,t,n){for(var o,r,s=e.getComponentsInChildren(p),a=0;a<s.length;++a)if(o=s[a]){o.node.getWorldPosition(y);var f=void 0;if(o.type==i.Transfer)f={type:o.type,id:o.configId,x:y.x,y:y.y,style:o.style};else if(o.type==i.CutTreeTree)f={type:o.type,id:o.configId,x:y.x,y:y.y,hp:o.hp};else if(o.type==i.Shop)f={type:o.type,id:o.configId,x:y.x,y:y.y};else if(o.type==i.Spawn)f={type:o.type,id:o.spawnTime,x:y.x,y:y.y,spawnType:o.spawnType,spawnId:o.spawnId,param1:o.param1,param2:o.param2};else if(o.type==i.Monster)f={type:o.type,id:o.configId,x:y.x,y:y.y,moveType:o.moveType};else if(o.type==i.MonsterArea){var d=o.node.uiTransform.contentSize;f={type:o.type,x:y.x,y:y.y,width:d.width,height:d.height}}else f={type:o.type,id:o.configId,x:y.x,y:y.y};t(f)}n&&(null==(r=e.getChildByName("items"))||r.removeFromParent())},e}());var y=new n;t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdLevelConfig",void 0),t._RF.push({},"09e91RiqkhF/YP/K0uO0MNf","ZdLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.undefined=void 0,this.icon=void 0,this.ad=void 0,this.outline=void 0,this.game_mode=void 0,this.map_id=void 0,this.monster_spawn=void 0,this.hero_spawn=void 0,this.bgm=void 0,this.time=void 0,this.add_weapon_cnt=void 0};i.isConst=!1,i.path="config/ZdLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdLevelConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdLevelConfig",void 0),t._RF.push({},"36af5Xg2LdDk53WOmVum6Kg","ZdLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.undefined=void 0,this.icon=void 0,this.ad=void 0,this.outline=void 0,this.game_mode=void 0,this.map_id=void 0,this.bgm=void 0,this.time=void 0,this.add_weapon_cnt=void 0};i.isConst=!1,i.path="config/ZdLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdLevelConfig3.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdLevelConfig",void 0),t._RF.push({},"573a4DH/d9PkIh+roX6ifzy","ZdLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.undefined=void 0,this.icon=void 0,this.ad=void 0,this.outline=void 0,this.game_mode=void 0,this.map_id=void 0,this.monster_spawn=void 0,this.hero_spawn=void 0,this.bgm=void 0,this.time=void 0,this.add_weapon_cnt=void 0};i.isConst=!1,i.path="config/ZdLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdLevelConfig4.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdLevelConfig",void 0),t._RF.push({},"bde63m8FJNKW4B1A7bjqfl3","ZdLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.undefined=void 0,this.icon=void 0,this.ad=void 0,this.outline=void 0,this.game_mode=void 0,this.map_id=void 0,this.monster_spawn=void 0,this.hero_spawn=void 0,this.bgm=void 0,this.time=void 0,this.add_weapon_cnt=void 0};i.isConst=!1,i.path="config/ZdLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdLevelConfig5.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdLevelConfig",void 0),t._RF.push({},"ca8f8CzneRPaaM6PT3J8SDE","ZdLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.undefined=void 0,this.icon=void 0,this.ad=void 0,this.outline=void 0,this.game_mode=void 0,this.map_id=void 0,this.monster_spawn=void 0,this.hero_spawn=void 0,this.bgm=void 0,this.time=void 0,this.add_weapon_cnt=void 0};i.isConst=!1,i.path="config/ZdLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLoadingLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,e,t,a,o,r,c,s;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,c=i.Animation,s=i.Component}],execute:function(){var l,p,u,d,y;o._RF.push({},"de56d+ZgVFOBroFMFgArWgF","ZDLoadingLayer",void 0);var h=r.ccclass,g=r.property;i("ZDLoadingLayer",(l=h("ZDLoadingLayer"),p=g({type:c,displayName:"动画",visible:!0}),l((y=n((d=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=i.call.apply(i,[this].concat(o))||this,t(n,"_animation",y,a(n)),n}e(n,i);var o=n.prototype;return o.show=function(){this.node.active=!0,this._animation.play("loading_show")},o.hide=function(){var i=this;this._animation.play("loading_hide"),this._animation.once(c.EventType.FINISHED,(function(){i.node.active=!1}))},n}(s)).prototype,"_animation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLoadingLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,e,t,a,o,r,c,s;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,c=i.Animation,s=i.Component}],execute:function(){var l,p,u,y,d;o._RF.push({},"bc0eexrX91MGruW2SpD7bkc","ZDLoadingLayer3",void 0);var h=r.ccclass,f=r.property;i("ZDLoadingLayer3",(l=h("ZDLoadingLayer3"),p=f({type:c,displayName:"动画",visible:!0}),l((d=n((y=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=i.call.apply(i,[this].concat(o))||this,t(n,"_animation",d,a(n)),n}e(n,i);var o=n.prototype;return o.show=function(){this.node.active=!0,this._animation.play("loading_show")},o.hide=function(){var i=this;this._animation.play("loading_hide"),this._animation.once(c.EventType.FINISHED,(function(){i.node.active=!1}))},n}(s)).prototype,"_animation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLoadingLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,e,t,a,o,r,c,s;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,c=i.Animation,s=i.Component}],execute:function(){var l,p,u,y,d;o._RF.push({},"47976iVG9FCVZ5NyywxAD93","ZDLoadingLayer4",void 0);var h=r.ccclass,f=r.property;i("ZDLoadingLayer4",(l=h("ZDLoadingLayer4"),p=f({type:c,displayName:"动画",visible:!0}),l((d=n((y=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=i.call.apply(i,[this].concat(o))||this,t(n,"_animation",d,a(n)),n}e(n,i);var o=n.prototype;return o.show=function(){this.node.active=!0,this._animation.play("loading_show")},o.hide=function(){var i=this;this._animation.play("loading_hide"),this._animation.once(c.EventType.FINISHED,(function(){i.node.active=!1}))},n}(s)).prototype,"_animation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLoadingLayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,e,t,a,o,r,c,s;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,c=i.Animation,s=i.Component}],execute:function(){var l,p,u,y,d;o._RF.push({},"a14c6pBMBpJyLWjWfk3bbcE","ZDLoadingLayer5",void 0);var h=r.ccclass,f=r.property;i("ZDLoadingLayer5",(l=h("ZDLoadingLayer5"),p=f({type:c,displayName:"动画",visible:!0}),l((d=n((y=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=i.call.apply(i,[this].concat(o))||this,t(n,"_animation",d,a(n)),n}e(n,i);var o=n.prototype;return o.show=function(){this.node.active=!0,this._animation.play("loading_show")},o.hide=function(){var i=this;this._animation.play("loading_hide"),this._animation.once(c.EventType.FINISHED,(function(){i.node.active=!1}))},n}(s)).prototype,"_animation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDLoadingLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,e,t,a,o,r,c,l;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,c=i.Animation,l=i.Component}],execute:function(){var s,p,u,y,d;o._RF.push({},"b6231gaDGROE6PwLfVlWTXL","ZDLoadingLayer6",void 0);var h=r.ccclass,f=r.property;i("ZDLoadingLayer6",(s=h("ZDLoadingLayer6"),p=f({type:c,displayName:"动画",visible:!0}),s((d=n((y=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=i.call.apply(i,[this].concat(o))||this,t(n,"_animation",d,a(n)),n}e(n,i);var o=n.prototype;return o.show=function(){this.node.active=!0,this._animation.play("loading_show")},o.hide=function(){var i=this;this._animation.play("loading_hide"),this._animation.once(c.EventType.FINISHED,(function(){i.node.active=!1}))},n}(l)).prototype,"_animation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMapConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdMapConfig",void 0),t._RF.push({},"6ef49yEDIhJ25diZHDiOr65","ZdMapConfig",void 0),function(i){i.config=function(){this.id=void 0,this.res=void 0,this.view_scale=void 0,this.init_heros=void 0,this.init_monster=void 0,this.init_prop=void 0,this.init_barrier=void 0,this.init_tree=void 0,this.monster_spawn=void 0,this.hero_spawn=void 0,this.transfer=void 0,this.find_path=void 0,this.auto_prop=void 0,this.auto_cnt_range=void 0,this.auto_rad_ids=void 0};i.isConst=!1,i.path="config/ZdMapConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdMapConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMapConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdMapConfig",void 0),t._RF.push({},"a0643PXqNJI1KACaQQiETEM","ZdMapConfig",void 0),function(i){i.config=function(){this.id=void 0,this.res=void 0,this.view_scale=void 0,this.init_heros=void 0,this.init_monster=void 0,this.init_prop=void 0,this.init_barrier=void 0,this.init_tree=void 0,this.transfer=void 0,this.auto_prop=void 0,this.auto_cnt_range=void 0,this.auto_rad_ids=void 0};i.isConst=!1,i.path="config/ZdMapConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdMapConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMapConfig3.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdMapConfig",void 0),t._RF.push({},"7d038nFMYtOfrbtNw+HTIn6","ZdMapConfig",void 0),function(i){i.config=function(){this.id=void 0,this.res=void 0,this.view_scale=void 0,this.init_heros=void 0,this.init_monster=void 0,this.init_prop=void 0,this.init_barrier=void 0,this.init_tree=void 0,this.transfer=void 0,this.auto_prop=void 0,this.auto_cnt_range=void 0,this.auto_rad_ids=void 0};i.isConst=!1,i.path="config/ZdMapConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdMapConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMapConfig4.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdMapConfig",void 0),t._RF.push({},"ce0ed8TBeZCIZnw9c1aFJ1Z","ZdMapConfig",void 0),function(i){i.config=function(){this.id=void 0,this.res=void 0,this.view_scale=void 0,this.init_heros=void 0,this.init_monster=void 0,this.init_prop=void 0,this.init_barrier=void 0,this.init_tree=void 0,this.transfer=void 0,this.auto_prop=void 0,this.auto_cnt_range=void 0,this.auto_rad_ids=void 0};i.isConst=!1,i.path="config/ZdMapConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdMapConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMapConfig5.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdMapConfig",void 0),t._RF.push({},"d7669uUqB5MjLnCq3BYQK35","ZdMapConfig",void 0),function(i){i.config=function(){this.id=void 0,this.res=void 0,this.view_scale=void 0,this.init_heros=void 0,this.init_monster=void 0,this.init_prop=void 0,this.init_barrier=void 0,this.init_tree=void 0,this.transfer=void 0,this.auto_prop=void 0,this.auto_cnt_range=void 0,this.auto_rad_ids=void 0};i.isConst=!1,i.path="config/ZdMapConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdMapConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZDMapLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState.ts"],(function(a){var n,t,i,e,M,x,r,o,s,y,h,R,m,c,_,C,u;return{setters:[function(a){n=a.applyDecoratedDescriptor,t=a.inheritsLoose,i=a.initializerDefineProperty,e=a.assertThisInitialized,M=a.createClass},function(a){x=a.cclegacy,r=a._decorator,o=a.Vec3,s=a.Rect,y=a.Camera,h=a.Node,R=a.view,m=a.misc,c=a.UITransform,_=a.math,C=a.Component},function(a){u=a.ZDGameState}],execute:function(){var E,T,P,d,A,p,g;x._RF.push({},"ce233RFq2RMV5TPrbjpUE0l","ZDMapLayer",void 0);var l=r.ccclass,f=r.property,v=new o,S={x:0,y:0},b={x:0,y:0},N={x:0,y:0},I=new o,w=new s,z={xMin:0,xMax:0,yMin:0,yMax:0},D={xMin:0,xMax:0,yMin:0,yMax:0},k=(a("ZDMapLayer",(E=l("ZDMapLayer"),T=f({type:y,displayName:"相机",visible:!0}),P=f({type:h,displayName:"顶部地图",visible:!0}),E((p=n((A=function(a){function n(){for(var n,t=arguments.length,M=new Array(t),x=0;x<t;x++)M[x]=arguments[x];return n=a.call.apply(a,[this].concat(M))||this,i(n,"_camera",p,e(n)),i(n,"_mapTop",g,e(n)),n._currentScale=1,n._focusNode=void 0,n}t(n,a);var x=n.prototype;return x.bindFocusNode=function(a){this._focusNode=a,this.logicUpdate(0)},x.setSize=function(a,n,t){this.node.uiTransform.setContentSize(a,n),this._currentScale=t,S.x=a/2,S.y=n/2;var i=R.getVisibleSize();this._camera.orthoHeight=i.height/2/t,b.x=i.width/2/this._currentScale,b.y=i.height/2/this._currentScale,N.x=S.x-b.x,N.y=S.y-b.y,w.set(-S.x+i.width/2,-S.y+i.height/2,a,n)},x.start=function(){},x._updatePos=function(a){v.x=m.clampf(a.x,-N.x,N.x),v.y=m.clampf(a.y,-N.y,N.y),this._camera.node.position=v},x.setCameraPos=function(a){this._camera.node.parent.getComponent(c).convertToNodeSpaceAR(a,v),this._updatePos(v)},x.logicUpdate=function(a){this._focusNode&&(this._focusNode.getWorldPosition(I),this.setCameraPos(I),this._updateSceneRect())},x.randomPosOutRole=function(a){var n=0,t=0;v.x<=b.x?(n=2.2*b.x,t=this.MAP_RECT.xMax):(n=this.MAP_RECT.xMin,t=1.2*-b.x);var i=this.MAP_RECT.yMax;a.x=_.randomRange(n,t),a.y=_.randomRange(0,i)},x.randomBirthRectByMonster=function(){var a=Math.max(I.x-b.x,this.MAP_RECT.xMin),n=Math.min(I.x+b.x,this.MAP_RECT.xMax),t=Math.max(I.y-b.y,this.MAP_RECT.yMin),i=Math.min(I.y+b.y,this.MAP_RECT.yMax),e=_.randomRangeInt(0,4);return 0==e?(k.x=_.randomRange(a-100,a+b.x+100),k.y=i+_.randomRange(50,100)):1==e?(k.x=_.randomRange(a-100,a+b.x+100),k.y=t-_.randomRange(50,100)):2==e?(k.x=a-_.randomRange(50,200),k.y=_.randomRange(t,i)):3==e&&(k.x=n+_.randomRange(50,200),k.y=_.randomRange(t,i)),k},x.randomBirthPosByHero=function(){var a=200,n=Math.max(I.x-b.x,this.MAP_RECT.xMin),t=Math.min(I.x+b.x,this.MAP_RECT.xMax),i=Math.max(I.y-b.y,this.MAP_RECT.yMin),e=Math.min(I.y+b.y,this.MAP_RECT.yMax),M=(this.MAP_RECT.yMax-e)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),x=(i-this.MAP_RECT.yMin)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),r=(n-this.MAP_RECT.xMin)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),o=(this.MAP_RECT.xMax-t)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),s=Math.max(Math.max(M,x),Math.max(r,o));return 0==s?(k.x=_.randomRange(this.MAP_RECT.xMin+a,this.MAP_RECT.xMax-a),void(k.y=_.randomRange(this.MAP_RECT.yMin+a,this.MAP_RECT.yMax-a))):(s==M?(k.x=_.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),k.y=_.randomRange(e,this.MAP_RECT.yMax)):s==x?(k.x=_.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),k.y=_.randomRange(this.MAP_RECT.yMin,i)):s==r?(k.x=_.randomRange(this.MAP_RECT.xMin,n),k.y=_.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)):s==o&&(k.x=_.randomRange(t,this.MAP_RECT.xMax),k.y=_.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)),k.x=Math.max(this.MAP_RECT.xMin+a,k.x),k.x=Math.min(this.MAP_RECT.xMax-a,k.x),k.y=Math.max(this.MAP_RECT.yMin+a,k.y),k.y=Math.min(this.MAP_RECT.yMax-a,k.y),k)},x.randomPos=function(a,n){void 0===n&&(n=0),a.x=_.randomRange(this.MAP_RECT.xMin+n,this.MAP_RECT.xMax/2-n),a.y=_.randomRange(this.MAP_RECT.yMin+n,this.MAP_RECT.yMax/2-n)},x.randomPosByMainHero=function(a,n){void 0===n&&(n=0);var t=u.runtime.control.mainHero.pos,i=Math.max(t.x-b.x-n,this.MAP_RECT.xMin),e=Math.min(t.x+b.x+n,this.MAP_RECT.xMax),M=Math.max(t.y-b.y-n,this.MAP_RECT.yMin),x=Math.min(t.y+b.y+n,this.MAP_RECT.yMax);a.x=_.randomRange(i,e),a.y=_.randomRange(M,x)},x.posIsInScreen=function(a){return this.posIsInScreen2f(a.x,a.y)},x.posIsInScreen2f=function(a,n){var t=Math.max(I.x-b.x,this.MAP_RECT.xMin),i=Math.min(I.x+b.x,this.MAP_RECT.xMax),e=Math.max(I.y-b.y,this.MAP_RECT.yMin),M=Math.min(I.y+b.y,this.MAP_RECT.yMax);return a>=t&&a<=i&&n>=e&&n<=M},x._updateSceneRect=function(){return this._camera.node.parent.getComponent(c).convertToWorldSpaceAR(v,v),D.xMin=Math.max(v.x-b.x,w.xMin),D.xMax=Math.min(v.x+b.x,w.xMax),D.yMin=Math.max(v.y-b.y,w.yMin),D.yMax=Math.min(v.y+b.y,w.yMax),D},x.posIsInScreen2=function(a){var n=this.SCENE_RECT2;return a.x>=n.xMin&&a.x<=n.xMax&&a.y>=n.yMin&&a.y<=n.yMax},M(n,[{key:"mapTop",get:function(){return this._mapTop}},{key:"MAP_RECT",get:function(){return w}},{key:"viewSize",get:function(){return R.getVisibleSize()}},{key:"REAL_SCENE_RECT",get:function(){return D}},{key:"SCENE_RECT",get:function(){return z.xMin=I.x-b.x,z.xMax=I.x+b.x,z.yMin=I.y-b.y,z.yMax=I.y+b.y,z}},{key:"SCENE_RECT2",get:function(){return z.xMin=Math.max(I.x-b.x,w.xMin),z.xMax=Math.min(I.x+b.x,w.xMax),z.yMin=Math.max(I.y-b.y,w.yMin),z.yMax=Math.min(I.y+b.y,w.yMax),z}}]),n}(C)).prototype,"_camera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=n(A.prototype,"_mapTop",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=A))||d)),{x:0,y:0});x._RF.pop()}}}));

System.register("chunks:///_virtual/ZDMapLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDConst3.ts","./ZDGameState3.ts"],(function(t){var a,n,i,e,M,x,r,o,s,h,y,c,m,R,_,u,C,E,T;return{setters:[function(t){a=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,M=t.createClass},function(t){x=t.cclegacy,r=t._decorator,o=t.Vec3,s=t.Rect,h=t.Camera,y=t.Node,c=t.view,m=t.misc,R=t.UITransform,_=t.math,u=t.Component},function(t){C=t.YT},function(t){E=t.WEAPON_EVENTS},function(t){T=t.ZDGameState3}],execute:function(){var P,d,A,p,g,l,f;x._RF.push({},"617c83diMNFhJbgT/uaZLKZ","ZDMapLayer3",void 0);var v=r.ccclass,S=r.property,N=new o,b={x:0,y:0},w={x:0,y:0},I=new o,D=0,z=new s,Z={xMin:0,xMax:0,yMin:0,yMax:0},L={xMin:0,xMax:0,yMin:0,yMax:0},k=(t("ZDMapLayer3",(P=v("ZDMapLayer3"),d=S({type:h,displayName:"相机",visible:!0}),A=S({type:y,displayName:"顶部地图",visible:!0}),P((l=a((g=function(t){function a(){for(var a,n=arguments.length,M=new Array(n),x=0;x<n;x++)M[x]=arguments[x];return a=t.call.apply(t,[this].concat(M))||this,i(a,"_camera",l,e(a)),i(a,"_mapTop",f,e(a)),a._currentScale=1,a._focusNode=void 0,a}n(a,t);var x=a.prototype;return x.bindFocusNode=function(t){this._focusNode=t,this.logicUpdate(0)},x.setSize=function(t,a,n){this.node.uiTransform.setContentSize(t,a),this._currentScale=n,b.x=t/2,b.y=a/2;var i=c.getVisibleSize(),e=i.height/2/n;this._camera.orthoHeight=e,C.message.dispatchEvent(E.camera_orth_height_changed,e),w.x=i.width/2/this._currentScale,w.y=i.height/2/this._currentScale,D=i.width/i.height,z.set(-b.x+i.width/2,-b.y+i.height/2,t,a)},x.start=function(){},x._updatePos=function(t){var a=this._camera.orthoHeight,n=b.y-a,i=b.x-D*a;N.x=m.clampf(t.x,-i,i),N.y=m.clampf(t.y,-n,n),this._camera.node.position=N},x.setCameraPos=function(t){this._camera.node.parent.getComponent(R).convertToNodeSpaceAR(t,N),this._updatePos(N)},x.logicUpdate=function(t){this._focusNode&&(this._focusNode.getWorldPosition(I),this.setCameraPos(I),this._updateSceneRect())},x.randomPosOutRole=function(t){var a=0,n=0;N.x<=w.x?(a=2.2*w.x,n=this.MAP_RECT.xMax):(a=this.MAP_RECT.xMin,n=1.2*-w.x);var i=this.MAP_RECT.yMax;t.x=_.randomRange(a,n),t.y=_.randomRange(0,i)},x.randomBirthRectByMonster=function(){var t=Math.max(I.x-w.x,this.MAP_RECT.xMin),a=Math.min(I.x+w.x,this.MAP_RECT.xMax),n=Math.max(I.y-w.y,this.MAP_RECT.yMin),i=Math.min(I.y+w.y,this.MAP_RECT.yMax),e=_.randomRangeInt(0,4);return 0==e?(k.x=_.randomRange(t-100,t+w.x+100),k.y=i+_.randomRange(50,100)):1==e?(k.x=_.randomRange(t-100,t+w.x+100),k.y=n-_.randomRange(50,100)):2==e?(k.x=t-_.randomRange(50,200),k.y=_.randomRange(n,i)):3==e&&(k.x=a+_.randomRange(50,200),k.y=_.randomRange(n,i)),k},x.randomBirthPosByHero=function(){var t=200,a=Math.max(I.x-w.x,this.MAP_RECT.xMin),n=Math.min(I.x+w.x,this.MAP_RECT.xMax),i=Math.max(I.y-w.y,this.MAP_RECT.yMin),e=Math.min(I.y+w.y,this.MAP_RECT.yMax),M=(this.MAP_RECT.yMax-e)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),x=(i-this.MAP_RECT.yMin)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),r=(a-this.MAP_RECT.xMin)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),o=(this.MAP_RECT.xMax-n)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),s=Math.max(Math.max(M,x),Math.max(r,o));return 0==s?(k.x=_.randomRange(this.MAP_RECT.xMin+t,this.MAP_RECT.xMax-t),void(k.y=_.randomRange(this.MAP_RECT.yMin+t,this.MAP_RECT.yMax-t))):(s==M?(k.x=_.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),k.y=_.randomRange(e,this.MAP_RECT.yMax)):s==x?(k.x=_.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),k.y=_.randomRange(this.MAP_RECT.yMin,i)):s==r?(k.x=_.randomRange(this.MAP_RECT.xMin,a),k.y=_.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)):s==o&&(k.x=_.randomRange(n,this.MAP_RECT.xMax),k.y=_.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)),k.x=Math.max(this.MAP_RECT.xMin+t,k.x),k.x=Math.min(this.MAP_RECT.xMax-t,k.x),k.y=Math.max(this.MAP_RECT.yMin+t,k.y),k.y=Math.min(this.MAP_RECT.yMax-t,k.y),k)},x.getFocusPosition=function(){return k.x=I.x,k.y=I.y,k},x.randomPos=function(t,a){void 0===a&&(a=0),t.x=_.randomRange(this.MAP_RECT.xMin+a,this.MAP_RECT.xMax/2-a),t.y=_.randomRange(this.MAP_RECT.yMin+a,this.MAP_RECT.yMax/2-a)},x.randomPosByMainHero=function(t,a){void 0===a&&(a=0);var n=T.runtime.control.mainHero.pos,i=Math.max(n.x-w.x-a,this.MAP_RECT.xMin),e=Math.min(n.x+w.x+a,this.MAP_RECT.xMax),M=Math.max(n.y-w.y-a,this.MAP_RECT.yMin),x=Math.min(n.y+w.y+a,this.MAP_RECT.yMax);t.x=_.randomRange(i,e),t.y=_.randomRange(M,x)},x.posIsInScreen=function(t){return this.posIsInScreen2f(t.x,t.y)},x.posIsInScreen2f=function(t,a){var n=Math.max(I.x-w.x,this.MAP_RECT.xMin),i=Math.min(I.x+w.x,this.MAP_RECT.xMax),e=Math.max(I.y-w.y,this.MAP_RECT.yMin),M=Math.min(I.y+w.y,this.MAP_RECT.yMax);return t>=n&&t<=i&&a>=e&&a<=M},x._updateSceneRect=function(){this._camera.node.parent.getComponent(R).convertToWorldSpaceAR(N,N);var t=this._camera.orthoHeight,a=t*D;return L.xMin=Math.max(N.x-a,z.xMin),L.xMax=Math.min(N.x+a,z.xMax),L.yMin=Math.max(N.y-t,z.yMin),L.yMax=Math.min(N.y+t,z.yMax),L},x.posIsInScreen2=function(t){var a=this.SCENE_RECT2;return t.x>=a.xMin&&t.x<=a.xMax&&t.y>=a.yMin&&t.y<=a.yMax},M(a,[{key:"mapTop",get:function(){return this._mapTop}},{key:"MAP_RECT",get:function(){return z}},{key:"viewSize",get:function(){return c.getVisibleSize()}},{key:"REAL_SCENE_RECT",get:function(){return L}},{key:"SCENE_RECT",get:function(){return Z.xMin=I.x-w.x,Z.xMax=I.x+w.x,Z.yMin=I.y-w.y,Z.yMax=I.y+w.y,Z}},{key:"SCENE_RECT2",get:function(){return Z.xMin=Math.max(I.x-w.x,z.xMin),Z.xMax=Math.min(I.x+w.x,z.xMax),Z.yMin=Math.max(I.y-w.y,z.yMin),Z.yMax=Math.min(I.y+w.y,z.yMax),Z}}]),a}(u)).prototype,"_camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=a(g.prototype,"_mapTop",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g))||p)),{x:0,y:0});x._RF.pop()}}}));

System.register("chunks:///_virtual/ZDMapLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState4.ts"],(function(a){var n,t,i,e,M,x,r,o,s,h,y,R,m,c,_,C;return{setters:[function(a){n=a.applyDecoratedDescriptor,t=a.inheritsLoose,i=a.initializerDefineProperty,e=a.assertThisInitialized,M=a.createClass},function(a){x=a.cclegacy,r=a._decorator,o=a.Vec3,s=a.Rect,h=a.Camera,y=a.Node,R=a.view,m=a.UITransform,c=a.math,_=a.Component},function(a){C=a.ZDGameState4}],execute:function(){var u,E,T,P,d,A,p;x._RF.push({},"6c29ersxcFOaqjFByUadp+D","ZDMapLayer4",void 0);var g=r.ccclass,l=r.property,f=new o,v={x:0,y:0},S={x:0,y:0},N=new o,b=new s,I={xMin:0,xMax:0,yMin:0,yMax:0},w={xMin:0,xMax:0,yMin:0,yMax:0},D=(a("ZDMapLayer4",(u=g("ZDMapLayer4"),E=l({type:h,displayName:"相机",visible:!0}),T=l({type:y,displayName:"顶部地图",visible:!0}),u((A=n((d=function(a){function n(){for(var n,t=arguments.length,M=new Array(t),x=0;x<t;x++)M[x]=arguments[x];return n=a.call.apply(a,[this].concat(M))||this,i(n,"_camera",A,e(n)),i(n,"_mapTop",p,e(n)),n._currentScale=1,n._focusNode=void 0,n}t(n,a);var x=n.prototype;return x.bindFocusNode=function(a){this._focusNode=a,this.logicUpdate(0)},x.setSize=function(a,n,t){this.node.uiTransform.setContentSize(a,n),this._currentScale=t,v.x=a/2,v.y=n/2;var i=R.getVisibleSize();this._camera.orthoHeight=i.height/2/t,S.x=i.width/2/this._currentScale,S.y=i.height/2/this._currentScale,b.set(-v.x+i.width/2,-v.y+i.height/2,a,n)},x.start=function(){},x._updatePos=function(a){this._camera.node.position=f},x.setCameraPos=function(a){this._camera.node.parent.getComponent(m).convertToNodeSpaceAR(a,f),this._updatePos(f)},x.logicUpdate=function(a){this._focusNode&&(this._focusNode.getWorldPosition(N),this.setCameraPos(N),this._updateSceneRect())},x.randomPosOutRole=function(a){var n=0,t=0;f.x<=S.x?(n=2.2*S.x,t=this.MAP_RECT.xMax):(n=this.MAP_RECT.xMin,t=1.2*-S.x);var i=this.MAP_RECT.yMax;a.x=c.randomRange(n,t),a.y=c.randomRange(0,i)},x.randomBirthRectByMonster=function(){var a=Math.max(N.x-S.x,this.MAP_RECT.xMin),n=Math.min(N.x+S.x,this.MAP_RECT.xMax),t=Math.max(N.y-S.y,this.MAP_RECT.yMin),i=Math.min(N.y+S.y,this.MAP_RECT.yMax),e=c.randomRangeInt(0,4);return 0==e?(D.x=c.randomRange(a-100,a+S.x+100),D.y=i+c.randomRange(50,100)):1==e?(D.x=c.randomRange(a-100,a+S.x+100),D.y=t-c.randomRange(50,100)):2==e?(D.x=a-c.randomRange(50,200),D.y=c.randomRange(t,i)):3==e&&(D.x=n+c.randomRange(50,200),D.y=c.randomRange(t,i)),D},x.randomBirthPosByHero=function(){var a=200,n=Math.max(N.x-S.x,this.MAP_RECT.xMin),t=Math.min(N.x+S.x,this.MAP_RECT.xMax),i=Math.max(N.y-S.y,this.MAP_RECT.yMin),e=Math.min(N.y+S.y,this.MAP_RECT.yMax),M=(this.MAP_RECT.yMax-e)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),x=(i-this.MAP_RECT.yMin)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),r=(n-this.MAP_RECT.xMin)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),o=(this.MAP_RECT.xMax-t)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),s=Math.max(Math.max(M,x),Math.max(r,o));return 0==s?(D.x=c.randomRange(this.MAP_RECT.xMin+a,this.MAP_RECT.xMax-a),void(D.y=c.randomRange(this.MAP_RECT.yMin+a,this.MAP_RECT.yMax-a))):(s==M?(D.x=c.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),D.y=c.randomRange(e,this.MAP_RECT.yMax)):s==x?(D.x=c.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),D.y=c.randomRange(this.MAP_RECT.yMin,i)):s==r?(D.x=c.randomRange(this.MAP_RECT.xMin,n),D.y=c.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)):s==o&&(D.x=c.randomRange(t,this.MAP_RECT.xMax),D.y=c.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)),D.x=Math.max(this.MAP_RECT.xMin+a,D.x),D.x=Math.min(this.MAP_RECT.xMax-a,D.x),D.y=Math.max(this.MAP_RECT.yMin+a,D.y),D.y=Math.min(this.MAP_RECT.yMax-a,D.y),D)},x.randomPos=function(a,n){void 0===n&&(n=0),a.x=c.randomRange(this.MAP_RECT.xMin+n,this.MAP_RECT.xMax/2-n),a.y=c.randomRange(this.MAP_RECT.yMin+n,this.MAP_RECT.yMax/2-n)},x.randomPosByMainHero=function(a,n){void 0===n&&(n=0);var t=C.runtime.control.mainHero.pos,i=Math.max(t.x-S.x-n,this.MAP_RECT.xMin),e=Math.min(t.x+S.x+n,this.MAP_RECT.xMax),M=Math.max(t.y-S.y-n,this.MAP_RECT.yMin),x=Math.min(t.y+S.y+n,this.MAP_RECT.yMax);a.x=c.randomRange(i,e),a.y=c.randomRange(M,x)},x.posIsInScreen=function(a){return this.posIsInScreen2f(a.x,a.y)},x.posIsInScreen2f=function(a,n){var t=Math.max(N.x-S.x,this.MAP_RECT.xMin),i=Math.min(N.x+S.x,this.MAP_RECT.xMax),e=Math.max(N.y-S.y,this.MAP_RECT.yMin),M=Math.min(N.y+S.y,this.MAP_RECT.yMax);return a>=t&&a<=i&&n>=e&&n<=M},x._updateSceneRect=function(){return this._camera.node.parent.getComponent(m).convertToWorldSpaceAR(f,f),w.xMin=Math.max(f.x-S.x,b.xMin),w.xMax=Math.min(f.x+S.x,b.xMax),w.yMin=Math.max(f.y-S.y,b.yMin),w.yMax=Math.min(f.y+S.y,b.yMax),w},x.posIsInScreen2=function(a){var n=this.SCENE_RECT2;return a.x>=n.xMin&&a.x<=n.xMax&&a.y>=n.yMin&&a.y<=n.yMax},M(n,[{key:"mapTop",get:function(){return this._mapTop}},{key:"MAP_RECT",get:function(){return b}},{key:"viewSize",get:function(){return R.getVisibleSize()}},{key:"REAL_SCENE_RECT",get:function(){return w}},{key:"SCENE_RECT",get:function(){return I.xMin=N.x-S.x,I.xMax=N.x+S.x,I.yMin=N.y-S.y,I.yMax=N.y+S.y,I}},{key:"SCENE_RECT2",get:function(){return I.xMin=Math.max(N.x-S.x,b.xMin),I.xMax=Math.min(N.x+S.x,b.xMax),I.yMin=Math.max(N.y-S.y,b.yMin),I.yMax=Math.min(N.y+S.y,b.yMax),I}}]),n}(_)).prototype,"_camera",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=n(d.prototype,"_mapTop",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=d))||P)),{x:0,y:0});x._RF.pop()}}}));

System.register("chunks:///_virtual/ZDMapLayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState5.ts"],(function(t){var a,n,i,e,M,x,s,h,r,o,y,_,m,R,c,C,T;return{setters:[function(t){a=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,M=t.createClass},function(t){x=t.cclegacy,s=t._decorator,h=t.Vec3,r=t.Rect,o=t.Camera,y=t.Node,_=t.view,m=t.misc,R=t.UITransform,c=t.math,C=t.Component},function(t){T=t.ZDGameState5}],execute:function(){var u,d,E,P,A,p,g;x._RF.push({},"1e62fAV06tDX78dqgDAo9PW","ZDMapLayer5",void 0);var f=s.ccclass,l=s.property,S=new h,v={x:0,y:0},k={x:0,y:0},N={x:0,y:0},b=new h,w=new r,D={xMin:0,xMax:0,yMin:0,yMax:0},I={xMin:0,xMax:0,yMin:0,yMax:0},z=(t("ZDMapLayer5",(u=f("ZDMapLayer5"),d=l({type:o,displayName:"相机",visible:!0}),E=l({type:y,displayName:"顶部地图",visible:!0}),u((p=a((A=function(t){function a(){for(var a,n=arguments.length,M=new Array(n),x=0;x<n;x++)M[x]=arguments[x];return a=t.call.apply(t,[this].concat(M))||this,i(a,"_camera",p,e(a)),i(a,"_mapTop",g,e(a)),a._currentScale=1,a._focusNode=void 0,a._shakeOffset=new h,a._shakeTime=0,a._shakeStrength=0,a}n(a,t);var x=a.prototype;return x.bindFocusNode=function(t){this._focusNode=t,this.logicUpdate(0)},x.setSize=function(t,a,n){this.node.uiTransform.setContentSize(t,a),this._currentScale=n,v.x=t/2,v.y=a/2;var i=_.getVisibleSize();this._camera.orthoHeight=i.height/2/n,k.x=i.width/2/this._currentScale,k.y=i.height/2/this._currentScale,N.x=v.x-k.x,N.y=v.y-k.y,w.set(-v.x+i.width/2,-v.y+i.height/2,t,a)},x.start=function(){},x._updatePos=function(t,a){S.x=m.clampf(t.x,-N.x,N.x),S.y=m.clampf(t.y,-N.y,N.y),this._shakeTime>0?(this._shakeTime-=a,this._shakeOffset.x=2*(Math.random()-.5)*this._shakeStrength,this._shakeOffset.y=2*(Math.random()-.5)*this._shakeStrength,this._shakeStrength>0&&(this._shakeStrength-=a)):this._shakeOffset.set(h.ZERO),this._camera.node.position=S,this._camera.node.position=this._camera.node.position.add(this._shakeOffset)},x.shakeCamera=function(t,a){this._shakeTime=t,this._shakeStrength=a},x.setCameraPos=function(t,a){this._camera.node.parent.getComponent(R).convertToNodeSpaceAR(t,S),this._updatePos(S,a)},x.logicUpdate=function(t){this._focusNode&&(this._focusNode.getWorldPosition(b),this.setCameraPos(b,t),this._updateSceneRect())},x.randomPosOutRole=function(t){var a=0,n=0;S.x<=k.x?(a=2.2*k.x,n=this.MAP_RECT.xMax):(a=this.MAP_RECT.xMin,n=1.2*-k.x);var i=this.MAP_RECT.yMax;t.x=c.randomRange(a,n),t.y=c.randomRange(0,i)},x.randomBirthRectByMonster=function(){var t=Math.max(b.x-k.x,this.MAP_RECT.xMin),a=Math.min(b.x+k.x,this.MAP_RECT.xMax),n=Math.max(b.y-k.y,this.MAP_RECT.yMin),i=Math.min(b.y+k.y,this.MAP_RECT.yMax),e=c.randomRangeInt(0,4);return 0==e?(z.x=c.randomRange(t-100,t+k.x+100),z.y=i+c.randomRange(50,100)):1==e?(z.x=c.randomRange(t-100,t+k.x+100),z.y=n-c.randomRange(50,100)):2==e?(z.x=t-c.randomRange(50,200),z.y=c.randomRange(n,i)):3==e&&(z.x=a+c.randomRange(50,200),z.y=c.randomRange(n,i)),z},x.randomBirthPosByHero=function(){var t=200,a=Math.max(b.x-k.x,this.MAP_RECT.xMin),n=Math.min(b.x+k.x,this.MAP_RECT.xMax),i=Math.max(b.y-k.y,this.MAP_RECT.yMin),e=Math.min(b.y+k.y,this.MAP_RECT.yMax),M=(this.MAP_RECT.yMax-e)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),x=(i-this.MAP_RECT.yMin)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),s=(a-this.MAP_RECT.xMin)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),h=(this.MAP_RECT.xMax-n)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),r=Math.max(Math.max(M,x),Math.max(s,h));return 0==r?(z.x=c.randomRange(this.MAP_RECT.xMin+t,this.MAP_RECT.xMax-t),void(z.y=c.randomRange(this.MAP_RECT.yMin+t,this.MAP_RECT.yMax-t))):(r==M?(z.x=c.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),z.y=c.randomRange(e,this.MAP_RECT.yMax)):r==x?(z.x=c.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),z.y=c.randomRange(this.MAP_RECT.yMin,i)):r==s?(z.x=c.randomRange(this.MAP_RECT.xMin,a),z.y=c.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)):r==h&&(z.x=c.randomRange(n,this.MAP_RECT.xMax),z.y=c.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)),z.x=Math.max(this.MAP_RECT.xMin+t,z.x),z.x=Math.min(this.MAP_RECT.xMax-t,z.x),z.y=Math.max(this.MAP_RECT.yMin+t,z.y),z.y=Math.min(this.MAP_RECT.yMax-t,z.y),z)},x.randomPos=function(t,a){void 0===a&&(a=0),t.x=c.randomRange(this.MAP_RECT.xMin+a,this.MAP_RECT.xMax/2-a),t.y=c.randomRange(this.MAP_RECT.yMin+a,this.MAP_RECT.yMax/2-a)},x.randomPosByMainHero=function(t,a){void 0===a&&(a=0);var n=T.runtime.control.mainHero.pos,i=Math.max(n.x-k.x-a,this.MAP_RECT.xMin),e=Math.min(n.x+k.x+a,this.MAP_RECT.xMax),M=Math.max(n.y-k.y-a,this.MAP_RECT.yMin),x=Math.min(n.y+k.y+a,this.MAP_RECT.yMax);t.x=c.randomRange(i,e),t.y=c.randomRange(M,x)},x.posIsInScreen=function(t){return this.posIsInScreen2f(t.x,t.y)},x.posIsInScreen2f=function(t,a){var n=Math.max(b.x-k.x,this.MAP_RECT.xMin),i=Math.min(b.x+k.x,this.MAP_RECT.xMax),e=Math.max(b.y-k.y,this.MAP_RECT.yMin),M=Math.min(b.y+k.y,this.MAP_RECT.yMax);return t>=n&&t<=i&&a>=e&&a<=M},x._updateSceneRect=function(){return this._camera.node.parent.getComponent(R).convertToWorldSpaceAR(S,S),I.xMin=Math.max(S.x-k.x,w.xMin),I.xMax=Math.min(S.x+k.x,w.xMax),I.yMin=Math.max(S.y-k.y,w.yMin),I.yMax=Math.min(S.y+k.y,w.yMax),I},x.posIsInScreen2=function(t){var a=this.SCENE_RECT2;return t.x>=a.xMin&&t.x<=a.xMax&&t.y>=a.yMin&&t.y<=a.yMax},M(a,[{key:"mapTop",get:function(){return this._mapTop}},{key:"MAP_RECT",get:function(){return w}},{key:"viewSize",get:function(){return _.getVisibleSize()}},{key:"REAL_SCENE_RECT",get:function(){return I}},{key:"SCENE_RECT",get:function(){return D.xMin=b.x-k.x,D.xMax=b.x+k.x,D.yMin=b.y-k.y,D.yMax=b.y+k.y,D}},{key:"SCENE_RECT2",get:function(){return D.xMin=Math.max(b.x-k.x,w.xMin),D.xMax=Math.min(b.x+k.x,w.xMax),D.yMin=Math.max(b.y-k.y,w.yMin),D.yMax=Math.min(b.y+k.y,w.yMax),D}}]),a}(C)).prototype,"_camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=a(A.prototype,"_mapTop",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A))||P)),{x:0,y:0});x._RF.pop()}}}));

System.register("chunks:///_virtual/ZDMapLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState6.ts"],(function(a){var n,t,i,e,M,x,r,o,s,y,h,R,m,c,_,C,u;return{setters:[function(a){n=a.applyDecoratedDescriptor,t=a.inheritsLoose,i=a.initializerDefineProperty,e=a.assertThisInitialized,M=a.createClass},function(a){x=a.cclegacy,r=a._decorator,o=a.Vec3,s=a.Rect,y=a.Camera,h=a.Node,R=a.view,m=a.misc,c=a.UITransform,_=a.math,C=a.Component},function(a){u=a.ZDGameState6}],execute:function(){var E,T,P,d,A,p,g;x._RF.push({},"08061Y4CbNMAYz9CJXtLACR","ZDMapLayer6",void 0);var l=r.ccclass,f=r.property,v=new o,S={x:0,y:0},N={x:0,y:0},b={x:0,y:0},I=new o,w=new s,z={xMin:0,xMax:0,yMin:0,yMax:0},D={xMin:0,xMax:0,yMin:0,yMax:0},L=(a("ZDMapLayer6",(E=l("ZDMapLayer6"),T=f({type:y,displayName:"相机",visible:!0}),P=f({type:h,displayName:"顶部地图",visible:!0}),E((p=n((A=function(a){function n(){for(var n,t=arguments.length,M=new Array(t),x=0;x<t;x++)M[x]=arguments[x];return n=a.call.apply(a,[this].concat(M))||this,i(n,"_camera",p,e(n)),i(n,"_mapTop",g,e(n)),n._currentScale=1,n._focusNode=void 0,n}t(n,a);var x=n.prototype;return x.bindFocusNode=function(a){this._focusNode=a,this.logicUpdate(0)},x.setSize=function(a,n,t){this.node.uiTransform.setContentSize(a,n),this._currentScale=t,S.x=a/2,S.y=n/2;var i=R.getVisibleSize();this._camera.orthoHeight=i.height/2/t,N.x=i.width/2/this._currentScale,N.y=i.height/2/this._currentScale,b.x=S.x-N.x,b.y=S.y-N.y,w.set(-S.x+i.width/2,-S.y+i.height/2,a,n)},x.start=function(){},x._updatePos=function(a){v.x=m.clampf(a.x,-b.x,b.x),v.y=m.clampf(a.y,-b.y,b.y),this._camera.node.position=v},x.setCameraPos=function(a){this._camera.node.parent.getComponent(c).convertToNodeSpaceAR(a,v),this._updatePos(v)},x.logicUpdate=function(a){this._focusNode&&(this._focusNode.getWorldPosition(I),this.setCameraPos(I),this._updateSceneRect())},x.randomPosOutRole=function(a){var n=0,t=0;v.x<=N.x?(n=2.2*N.x,t=this.MAP_RECT.xMax):(n=this.MAP_RECT.xMin,t=1.2*-N.x);var i=this.MAP_RECT.yMax;a.x=_.randomRange(n,t),a.y=_.randomRange(0,i)},x.randomBirthRectByMonster=function(){var a=Math.max(I.x-N.x,this.MAP_RECT.xMin),n=Math.min(I.x+N.x,this.MAP_RECT.xMax),t=Math.max(I.y-N.y,this.MAP_RECT.yMin),i=Math.min(I.y+N.y,this.MAP_RECT.yMax),e=_.randomRangeInt(0,4);return 0==e?(L.x=_.randomRange(a-100,a+N.x+100),L.y=i+_.randomRange(50,100)):1==e?(L.x=_.randomRange(a-100,a+N.x+100),L.y=t-_.randomRange(50,100)):2==e?(L.x=a-_.randomRange(50,200),L.y=_.randomRange(t,i)):3==e&&(L.x=n+_.randomRange(50,200),L.y=_.randomRange(t,i)),L},x.randomBirthPosByHero=function(){var a=200,n=Math.max(I.x-N.x,this.MAP_RECT.xMin),t=Math.min(I.x+N.x,this.MAP_RECT.xMax),i=Math.max(I.y-N.y,this.MAP_RECT.yMin),e=Math.min(I.y+N.y,this.MAP_RECT.yMax),M=(this.MAP_RECT.yMax-e)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),x=(i-this.MAP_RECT.yMin)*(this.MAP_RECT.xMax-this.MAP_RECT.xMin),r=(n-this.MAP_RECT.xMin)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),o=(this.MAP_RECT.xMax-t)*(this.MAP_RECT.yMax-this.MAP_RECT.yMin),s=Math.max(Math.max(M,x),Math.max(r,o));return 0==s?(L.x=_.randomRange(this.MAP_RECT.xMin+a,this.MAP_RECT.xMax-a),void(L.y=_.randomRange(this.MAP_RECT.yMin+a,this.MAP_RECT.yMax-a))):(s==M?(L.x=_.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),L.y=_.randomRange(e,this.MAP_RECT.yMax)):s==x?(L.x=_.randomRange(this.MAP_RECT.xMin,this.MAP_RECT.xMax),L.y=_.randomRange(this.MAP_RECT.yMin,i)):s==r?(L.x=_.randomRange(this.MAP_RECT.xMin,n),L.y=_.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)):s==o&&(L.x=_.randomRange(t,this.MAP_RECT.xMax),L.y=_.randomRange(this.MAP_RECT.yMin,this.MAP_RECT.yMax)),L.x=Math.max(this.MAP_RECT.xMin+a,L.x),L.x=Math.min(this.MAP_RECT.xMax-a,L.x),L.y=Math.max(this.MAP_RECT.yMin+a,L.y),L.y=Math.min(this.MAP_RECT.yMax-a,L.y),L)},x.randomPos=function(a,n){void 0===n&&(n=0),a.x=_.randomRange(this.MAP_RECT.xMin+n,this.MAP_RECT.xMax/2-n),a.y=_.randomRange(this.MAP_RECT.yMin+n,this.MAP_RECT.yMax/2-n)},x.randomPosByMainHero=function(a,n){void 0===n&&(n=0);var t=u.runtime.control.mainHero.pos,i=Math.max(t.x-N.x-n,this.MAP_RECT.xMin),e=Math.min(t.x+N.x+n,this.MAP_RECT.xMax),M=Math.max(t.y-N.y-n,this.MAP_RECT.yMin),x=Math.min(t.y+N.y+n,this.MAP_RECT.yMax);a.x=_.randomRange(i,e),a.y=_.randomRange(M,x)},x.posIsInScreen=function(a){return this.posIsInScreen2f(a.x,a.y)},x.posIsInScreen2f=function(a,n){var t=Math.max(I.x-N.x,this.MAP_RECT.xMin),i=Math.min(I.x+N.x,this.MAP_RECT.xMax),e=Math.max(I.y-N.y,this.MAP_RECT.yMin),M=Math.min(I.y+N.y,this.MAP_RECT.yMax);return a>=t&&a<=i&&n>=e&&n<=M},x._updateSceneRect=function(){return this._camera.node.parent.getComponent(c).convertToWorldSpaceAR(v,v),D.xMin=Math.max(v.x-N.x,w.xMin),D.xMax=Math.min(v.x+N.x,w.xMax),D.yMin=Math.max(v.y-N.y,w.yMin),D.yMax=Math.min(v.y+N.y,w.yMax),D},x.posIsInScreen2=function(a){var n=this.SCENE_RECT2;return a.x>=n.xMin&&a.x<=n.xMax&&a.y>=n.yMin&&a.y<=n.yMax},M(n,[{key:"mapTop",get:function(){return this._mapTop}},{key:"MAP_RECT",get:function(){return w}},{key:"viewSize",get:function(){return R.getVisibleSize()}},{key:"REAL_SCENE_RECT",get:function(){return D}},{key:"SCENE_RECT",get:function(){return z.xMin=I.x-N.x,z.xMax=I.x+N.x,z.yMin=I.y-N.y,z.yMax=I.y+N.y,z}},{key:"SCENE_RECT2",get:function(){return z.xMin=Math.max(I.x-N.x,w.xMin),z.xMax=Math.min(I.x+N.x,w.xMax),z.yMin=Math.max(I.y-N.y,w.yMin),z.yMax=Math.min(I.y+N.y,w.yMax),z}}]),n}(C)).prototype,"_camera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=n(A.prototype,"_mapTop",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=A))||d)),{x:0,y:0});x._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMonsterConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdMonsterConfig",void 0),t._RF.push({},"28213wfW2lF5LQWbfGDK+hj","ZdMonsterConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.hp=void 0,this.atk=void 0,this.move_speed=void 0,this.drop_prop=void 0,this.move_type=void 0,this.drop_weapon=void 0};i.isConst=!1,i.path="config/ZdMonsterConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdMonsterConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMonsterConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdMonsterConfig",void 0),t._RF.push({},"2b8cfv5b7RHJ71Lqgz+GFX4","ZdMonsterConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.hp=void 0,this.atk=void 0,this.move_speed=void 0,this.drop_prop=void 0,this.tmType=void 0,this.invTime=void 0,this.as=void 0,this.ar=void 0,this.carryNum=void 0,this.miningNum=void 0,this.miningTime=void 0,this.levelupHp=void 0,this.dropRes=void 0,this.dropNum=void 0,this.hitEff=void 0,this.dieEff=void 0};i.isConst=!1,i.path="config/ZdMonsterConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdMonsterConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMonsterConfig3.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdMonsterConfig",void 0),t._RF.push({},"2d62fRnF1xFv5alVEVCI88G","ZdMonsterConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.hp=void 0,this.atk=void 0,this.move_speed=void 0,this.drop_prop=void 0,this.tmType=void 0,this.invTime=void 0,this.as=void 0,this.ar=void 0,this.carryNum=void 0,this.miningNum=void 0,this.miningTime=void 0,this.levelupHp=void 0};i.isConst=!1,i.path="config/ZdMonsterConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdMonsterConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMonsterConfig4.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("ZdMonsterConfig",void 0),i._RF.push({},"bcfaf1lPuZHxbyzG6rCYpUM","ZdMonsterConfig",void 0),function(t){t.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.hp=void 0,this.atk=void 0,this.move_speed=void 0,this.drop_prop=void 0};t.isConst=!1,t.path="config/ZdMonsterConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("ZdMonsterConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdMonsterConfig5.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t("ZdMonsterConfig",void 0),i._RF.push({},"f4a3a+XRlJM4aTGzSSWaWCc","ZdMonsterConfig",void 0),function(t){t.config=function(){this.id=void 0,this.name=void 0,this.res=void 0,this.hp=void 0,this.atk=void 0,this.move_speed=void 0,this.drop_prop=void 0,this.drop_rate=void 0};t.isConst=!1,t.path="config/ZdMonsterConfig",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(o||(o=t("ZdMonsterConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdPropConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdPropConfig",void 0),o._RF.push({},"044260jobJPaqof6VONxSy3","ZdPropConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.type_param=void 0,this.icon=void 0,this.shop_icon=void 0,this.model=void 0};i.isConst=!1,i.path="config/ZdPropConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdPropConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdPropConfig2.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdPropConfig",void 0),o._RF.push({},"8165cQ8E+5LzbG/NC04ITf8","ZdPropConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.type_param=void 0,this.icon=void 0,this.shop_icon=void 0,this.model=void 0,this.get_type=void 0};i.isConst=!1,i.path="config/ZdPropConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdPropConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdPropConfig3.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdPropConfig",void 0),o._RF.push({},"aef79vqGkBM/bSaOYrocrVD","ZdPropConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.type_param=void 0,this.icon=void 0,this.shop_icon=void 0,this.model=void 0};i.isConst=!1,i.path="config/ZdPropConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdPropConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdPropConfig4.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdPropConfig",void 0),o._RF.push({},"be161JGDrlFlaBQf7WM31FJ","ZdPropConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.type_param=void 0,this.icon=void 0,this.shop_icon=void 0,this.model=void 0};i.isConst=!1,i.path="config/ZdPropConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdPropConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdPropConfig5.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdPropConfig",void 0),o._RF.push({},"e6c31wboV5JboEEW2HmF8Rf","ZdPropConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.type=void 0,this.type_param=void 0,this.icon=void 0,this.shop_icon=void 0,this.model=void 0};i.isConst=!1,i.path="config/ZdPropConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdPropConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDResUtils.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"b8d8cHEFRdKo6gsb4z/dbyV","ZDResUtils",void 0);e("ZDResUtils",function(){function e(){}return e.fullMapRes=function(e){return"prefab/level/"+e},e.fullPropIconRes=function(e){return"image/atlas1/prop/"+e},e.fullPropModelRes=function(e){return"prefab/prop/"+e},e.fullHeroModelRes=function(e){return"prefab/hero/"+e},e.fullMonsterModelRes=function(e){return"prefab/monster/"+e},e.fullWeaponModelRes=function(e){return"image/atlas1/weapon/"+e},e.fullBarrierModelRes=function(e){return"prefab/barrier/"+e},e.fullTowerIconRes=function(e){return"image/atlas1/tower/"+e},e.fullTreeModelRes=function(e){return"prefab/tree/tree_"+e},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDResUtils3.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"583befc1RVIhoZjzuXNPrba","ZDResUtils3",void 0);e("ZDResUtils3",function(){function e(){}return e.fullMapRes=function(e){return"prefab/level/"+e},e.fullPropIconRes=function(e){return"image/atlas1/prop/"+e},e.fullPropModelRes=function(e){return"prefab/prop/"+e},e.fullHeroModelRes=function(e){return"prefab/hero/"+e},e.fullMonsterModelRes=function(e){return"prefab/monster/"+e},e.fullWeaponModelRes=function(e){return"image/atlas1/weapon/"+e},e.fullBarrierModelRes=function(e){return"prefab/barrier/"+e},e.fullTowerIconRes=function(e){return"image/atlas1/tower/"+e},e.fullTreeModelRes=function(e){return"prefab/tree/tree_"+e},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDResUtils4.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"8281eBB0XpF2qVSsYOR0GvN","ZDResUtils4",void 0);e("ZDResUtils",function(){function e(){}return e.fullMapRes=function(e){return"prefab/level/"+e},e.fullPropIconRes=function(e){return"image/atlas1/prop/"+e},e.fullPropModelRes=function(e){return"prefab/prop/"+e},e.fullHeroModelRes=function(e){return"prefab/hero/"+e},e.fullMonsterModelRes=function(e){return"prefab/monster/"+e},e.fullWeaponModelRes=function(e){return"image/atlas1/weapon/"+e},e.fullBarrierModelRes=function(e){return"prefab/barrier/"+e},e.fullTowerIconRes=function(e){return"image/atlas1/tower/"+e},e.fullTreeModelRes=function(e){return"prefab/tree/tree_"+e},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDResUtils5.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"2d3ffCDRulJo6smCbI7iPQp","ZDResUtils5",void 0);e("ZDResUtils",function(){function e(){}return e.fullMapRes=function(e){return"prefab/level/"+e},e.fullPropIconRes=function(e){return"image/atlas1/prop/"+e},e.fullPropModelRes=function(e){return"prefab/prop/"+e},e.fullHeroModelRes=function(e){return"prefab/hero/"+e},e.fullMonsterModelRes=function(e){return"prefab/monster/"+e},e.fullWeaponModelRes=function(e){return"image/atlas1/weapon/"+e},e.fullBarrierModelRes=function(e){return"prefab/barrier/"+e},e.fullTowerIconRes=function(e){return"image/atlas1/tower/"+e},e.fullTreeModelRes=function(e){return"prefab/tree/tree_"+e},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDResUtils6.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"63814ceU3dD8Y8fOzlWZvCI","ZDResUtils6",void 0);e("ZDResUtils",function(){function e(){}return e.fullMapRes=function(e){return"prefab/level/"+e},e.fullPropIconRes=function(e){return"image/atlas1/prop/"+e},e.fullPropModelRes=function(e){return"prefab/prop/"+e},e.fullHeroModelRes=function(e){return"prefab/hero/"+e},e.fullMonsterModelRes=function(e){return"prefab/monster/"+e},e.fullWeaponModelRes=function(e){return"image/atlas1/weapon/"+e},e.fullBarrierModelRes=function(e){return"prefab/barrier/"+e},e.fullTowerIconRes=function(e){return"image/atlas1/tower/"+e},e.fullTreeModelRes=function(e){return"prefab/tree/tree_"+e},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ZdShopConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdShopConfig",void 0),t._RF.push({},"11a80wc2/5FgYHASuXdCqq7","ZdShopConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.prices=void 0,this.items=void 0};i.isConst=!1,i.path="config/ZdShopConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdShopConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdShopConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdShopConfig",void 0),t._RF.push({},"1e55be7OSZC3ZfDvwWdNuSA","ZdShopConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.prices=void 0,this.items=void 0};i.isConst=!1,i.path="config/ZdShopConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdShopConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdShopConfig3.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdShopConfig",void 0),o._RF.push({},"6e12dWPNb9Jmo5+S4/fap4d","ZdShopConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.prices=void 0,this.items=void 0};i.isConst=!1,i.path="config/ZdShopConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdShopConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdShopConfig4.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdShopConfig",void 0),t._RF.push({},"d5acaUPVc9G+LxKVzBZsyNt","ZdShopConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.prices=void 0,this.items=void 0};i.isConst=!1,i.path="config/ZdShopConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdShopConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdShopConfig5.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdShopConfig",void 0),t._RF.push({},"f577dnORs5L9ZHtHY/eunKV","ZdShopConfig",void 0),function(i){i.config=function(){this.id=void 0,this.model=void 0,this.type=void 0,this.prices=void 0,this.items=void 0};i.isConst=!1,i.path="config/ZdShopConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdShopConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdSpawnConfig.ts",["cc"],(function(n){var i;return{setters:[function(n){i=n.cclegacy}],execute:function(){var t;n("ZdSpawnConfig",void 0),i._RF.push({},"a96bdbAX81E+LPEiJj0r65D","ZdSpawnConfig",void 0),function(n){n.config=function(){this.id=void 0,this.name=void 0,this.monster_spawn=void 0,this.move_dir=void 0};n.isConst=!1,n.path="config/ZdSpawnConfig",n.extPath=void 0,n.data=null,n.dataList=null,n.lastData=null}(t||(t=n("ZdSpawnConfig",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTipsPosLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils.ts","./ZDGameState.ts"],(function(e){var i,t,s,o,n,r,a,c,p,l,h,u,d,y,_;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Node,c=e.Vec3,p=e.Vec2,l=e.Size,h=e.math,u=e.toDegree,d=e.Component},function(e){y=e.ZDUtils},function(e){_=e.ZDGameState}],execute:function(){var f,m,v,g,z;n._RF.push({},"006c7nnIYBCBLfeKM5Y5cI0","ZDTipsPosLayer",void 0);var D=r.ccclass,N=r.property,x=(e("ZDTipsPosLayer",(f=D("ZDTipsPosLayer"),m=N({type:a,displayName:"提示位置节点",visible:!0}),f((z=i((g=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=e.call.apply(e,[this].concat(n))||this,s(i,"_tipsNode",z,o(i)),i._size=void 0,i}t(i,e);var n=i.prototype;return n.onLoad=function(){this._size=new l;var e=this._tipsNode.uiTransform.contentSize.width,i=this._tipsNode.uiTransform.contentSize.height;this._tipsNode.getScale(x),this._size.set(e*x.x,i*x.y)},n.logicUpdate=function(e){var i=_.runtime.control.findHeroByShortDisMainHero();if(i){this._tipsNode.active=!0,x.set(i.pos.x,i.pos.y);var t=_.runtime.ui.mapLayer.REAL_SCENE_RECT;x.x=h.clamp(x.x,t.xMin+this._size.width/2,t.xMax-this._size.width/2),x.y=h.clamp(x.y,t.yMin+this._size.height/2,t.yMax-this._size.height/2),this._tipsNode.setWorldPosition(x);var s=_.runtime.control.mainHero.pos;y.getPositionVector(s,x,L);var o=Math.atan2(L.y,L.x);this._tipsNode.angle=u(o)-90}else this._tipsNode.active=!1},i}(d)).prototype,"_tipsNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v)),new c),L=new p;n._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTipsPosLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils3.ts","./ZDGameState3.ts"],(function(t){var i,e,s,o,r,n,a,p,c,h,u,l,_,y,d,f,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,a=t.Node,p=t.CCInteger,c=t.Vec3,h=t.Vec2,u=t.Size,l=t.instantiate,_=t.math,y=t.toDegree,d=t.Component},function(t){f=t.ZDUtils3},function(t){v=t.ZDGameState3}],execute:function(){var m,L,g,z,D,w,N;r._RF.push({},"64510MuoUBBtLzD86A3YV8I","ZDTipsPosLayer3",void 0);var x=n.ccclass,T=n.property,b=(t("ZDTipsPosLayer3",(m=x("ZDTipsPosLayer3"),L=T({type:a,displayName:"提示位置节点",visible:!0}),g=T({type:p,displayName:"提示位置节点数量",visible:!0}),m((w=i((D=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i=t.call.apply(t,[this].concat(r))||this,s(i,"_tipsNode",w,o(i)),s(i,"_count",N,o(i)),i._size=void 0,i._tipsList=[],i}e(i,t);var r=i.prototype;return r.onLoad=function(){this._size=new u;var t=this._tipsNode.uiTransform.contentSize.width,i=this._tipsNode.uiTransform.contentSize.height;this._tipsNode.getScale(b),this._size.set(t*b.x,i*b.y),this._tipsList.push(this._tipsNode);for(var e,s=this._tipsNode.parent,o=1,r=this._count;o<r;++o)e=l(this._tipsNode),this._tipsList.push(e),e.setParent(s),e.active=!1;this._tipsNode.active=!1},r.logicUpdate=function(t){var i=v.runtime.control.findHeroByShortDisMainHero(this._count);if(i){var e=0,s=this._count;for(e=0;e<s;++e)i[e]?this._showTipsArrow(this._tipsList[e],i[e]):this._tipsList[e].active=!1}else this._tipsList.forEach((function(t){return t.active=!1}))},r._showTipsArrow=function(t,i){t.active=!0,b.set(i.pos.x,i.pos.y);var e=v.runtime.ui.mapLayer.REAL_SCENE_RECT;b.x=_.clamp(b.x,e.xMin+this._size.width/2,e.xMax-this._size.width/2),b.y=_.clamp(b.y,e.yMin+this._size.height/2,e.yMax-this._size.height/2),t.setWorldPosition(b);var s=v.runtime.control.mainHero.pos;f.getPositionVector(s,b,P);var o=Math.atan2(P.y,P.x);t.angle=y(o)-90},i}(d)).prototype,"_tipsNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(D.prototype,"_count",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),z=D))||z)),new c),P=new h;r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTipsPosLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState4.ts","./ZDUtils4.ts"],(function(e){var i,t,s,o,r,n,a,c,p,l,h,u,d,y,_;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,a=e.Node,c=e.Vec3,p=e.Vec2,l=e.Size,h=e.math,u=e.toDegree,d=e.Component},function(e){y=e.ZDGameState4},function(e){_=e.ZDUtils4}],execute:function(){var f,m,v,g,z;r._RF.push({},"bd743m1kLJKc7M1BIkeG93C","ZDTipsPosLayer4",void 0);var D=n.ccclass,N=n.property,x=(e("ZDTipsPosLayer4",(f=D("ZDTipsPosLayer4"),m=N({type:a,displayName:"提示位置节点",visible:!0}),f((z=i((g=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i=e.call.apply(e,[this].concat(r))||this,s(i,"_tipsNode",z,o(i)),i._size=void 0,i}t(i,e);var r=i.prototype;return r.onLoad=function(){this._size=new l;var e=this._tipsNode.uiTransform.contentSize.width,i=this._tipsNode.uiTransform.contentSize.height;this._tipsNode.getScale(x),this._size.set(e*x.x,i*x.y)},r.logicUpdate=function(e){var i=y.runtime.control.findHeroByShortDisMainHero();if(i){this._tipsNode.active=!0,x.set(i.pos.x,i.pos.y);var t=y.runtime.ui.mapLayer.REAL_SCENE_RECT;x.x=h.clamp(x.x,t.xMin+this._size.width/2,t.xMax-this._size.width/2),x.y=h.clamp(x.y,t.yMin+this._size.height/2,t.yMax-this._size.height/2),this._tipsNode.setWorldPosition(x);var s=y.runtime.control.mainHero.pos;_.getPositionVector(s,x,L);var o=Math.atan2(L.y,L.x);this._tipsNode.angle=u(o)-90}else this._tipsNode.active=!1},i}(d)).prototype,"_tipsNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v)),new c),L=new p;r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTipsPosLayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDGameState5.ts","./ZDUtils5.ts"],(function(e){var i,t,s,o,r,n,a,c,p,l,h,u,d,y,_;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,a=e.Node,c=e.Vec3,p=e.Vec2,l=e.Size,h=e.math,u=e.toDegree,d=e.Component},function(e){y=e.ZDGameState5},function(e){_=e.ZDUtils4}],execute:function(){var f,m,v,z,D;r._RF.push({},"d297bzLKSJGI6DsM5hUO1CR","ZDTipsPosLayer5",void 0);var g=n.ccclass,N=n.property,x=(e("ZDTipsPosLayer5",(f=g("ZDTipsPosLayer5"),m=N({type:a,displayName:"提示位置节点",visible:!0}),f((D=i((z=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i=e.call.apply(e,[this].concat(r))||this,s(i,"_tipsNode",D,o(i)),i._size=void 0,i}t(i,e);var r=i.prototype;return r.onLoad=function(){this._size=new l;var e=this._tipsNode.uiTransform.contentSize.width,i=this._tipsNode.uiTransform.contentSize.height;this._tipsNode.getScale(x),this._size.set(e*x.x,i*x.y)},r.logicUpdate=function(e){var i=y.runtime.control.findHeroByShortDisMainHero();if(i){this._tipsNode.active=!0,x.set(i.pos.x,i.pos.y);var t=y.runtime.ui.mapLayer.REAL_SCENE_RECT;x.x=h.clamp(x.x,t.xMin+this._size.width/2,t.xMax-this._size.width/2),x.y=h.clamp(x.y,t.yMin+this._size.height/2,t.yMax-this._size.height/2),this._tipsNode.setWorldPosition(x);var s=y.runtime.control.mainHero.pos;_.getPositionVector(s,x,L);var o=Math.atan2(L.y,L.x);this._tipsNode.angle=u(o)-90}else this._tipsNode.active=!1},i}(d)).prototype,"_tipsNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z))||v)),new c),L=new p;r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTipsPosLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZDUtils6.ts","./ZDGameState6.ts"],(function(t){var e,i,s,o,r,n,a,c,p,l,h,u,d,y,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,a=t.Node,c=t.Vec3,p=t.Vec2,l=t.Size,h=t.math,u=t.toDegree,d=t.Component},function(t){y=t.ZDUtils},function(t){_=t.ZDGameState6}],execute:function(){var f,m,v,g,z;r._RF.push({},"6b0988B82tB76XwBoJuJCjt","ZDTipsPosLayer6",void 0);var D=n.ccclass,N=n.property,x=(t("ZDTipsPosLayer6",(f=D("ZDTipsPosLayer6"),m=N({type:a,displayName:"提示位置节点",visible:!0}),f((z=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r))||this,s(e,"_tipsNode",z,o(e)),e._size=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this._size=new l;var t=this._tipsNode.uiTransform.contentSize.width,e=this._tipsNode.uiTransform.contentSize.height;this._tipsNode.getScale(x),this._size.set(t*x.x,e*x.y)},r.logicUpdate=function(t){var e=_.runtime.control.findHeroByShortDisMainHero();if(e){this._tipsNode.active=!0,x.set(e.pos.x,e.pos.y);var i=_.runtime.ui.mapLayer.REAL_SCENE_RECT;x.x=h.clamp(x.x,i.xMin+this._size.width/2,i.xMax-this._size.width/2),x.y=h.clamp(x.y,i.yMin+this._size.height/2,i.yMax-this._size.height/2),this._tipsNode.setWorldPosition(x);var s=_.runtime.control.mainHero.pos;y.getPositionVector(s,x,w);var o=Math.atan2(w.y,w.x);this._tipsNode.angle=u(o)-90}else this._tipsNode.active=!1},e}(d)).prototype,"_tipsNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v)),new c),w=new p;r._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTouchLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDGameState.ts"],(function(e){var i,t,o,n,s,r,a,c,_,u,h,p,l,y,v,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Camera,c=e.Node,_=e.Vec2,u=e.Vec3,h=e.KeyCode,p=e.input,l=e.Input,y=e.Component},function(e){v=e.YT},function(e){d=e.ZDGameState}],execute:function(){var m,E,T,f,M,K,P,C,D;s._RF.push({},"1f6eadjbSlMG44jizEL17R5","ZDTouchLayer",void 0);var g=r.ccclass,k=r.property,b=(e("ZDTouchLayer",(m=g("ZDTouchLayer"),E=k({type:a,displayName:"相机",visible:!0}),T=k({type:c,displayName:"转盘1",visible:!0}),f=k({type:c,displayName:"转盘2",visible:!0}),m((P=i((K=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return i=e.call.apply(e,[this].concat(s))||this,o(i,"_camera",P,n(i)),o(i,"_stick1",C,n(i)),o(i,"_stick2",D,n(i)),i._pos=new u,i._startPos=new _,i._movePos=new _,i._dragDir=new _,i._dirMap={},i._isKeyMoving=void 0,i}t(i,e);var s=i.prototype;return s.start=function(){var e=this;this.node.on(c.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(c.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this._isKeyMoving=!1,v.isGM&&(this._dirMap[h.KEY_W]=!1,this._dirMap[h.KEY_S]=!1,this._dirMap[h.KEY_A]=!1,this._dirMap[h.KEY_D]=!1,p.on(l.EventType.KEY_DOWN,(function(i){if(null!=e._dirMap[i.keyCode])e._dirMap[i.keyCode]=!0,e._onDirKeyEvent();else switch(i.keyCode){case h.SPACE:e._onPauseEvent()}})),p.on(l.EventType.KEY_UP,(function(i){null!=e._dirMap[i.keyCode]?(e._dirMap[i.keyCode]=!1,e._onDirKeyEvent()):i.keyCode})))},s.onDestroy=function(){v.isGM&&(p.off(l.EventType.KEY_DOWN),p.off(l.EventType.KEY_UP))},s._onTouchBegin=function(e){e.getLocation(this._startPos),this._pos.set(this._startPos.x,this._startPos.y),this._camera.screenToWorld(this._pos,this._pos),this.node.uiTransform.convertToNodeSpaceAR(this._pos,this._pos),this._stick1.setPosition(this._pos.x,this._pos.y),this._stick2.setPosition(0,0),this._stick1.active=!0},s._onTouchMove=function(e){e.getLocation(this._movePos);var i=_.distance(this._movePos,this._startPos),t=_.subtract(this._dragDir,this._movePos,this._startPos);t.normalize(),d.runtime.control.mainHeroMove(t.x,t.y),i>30&&(i=30);var o=t.x*i,n=t.y*i;this._stick2.setPosition(o,n)},s._onTouchEnd=function(e){d.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onTouchCancel=function(e){d.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s.update=function(e){this._isKeyMoving&&this._onDirKeyEvent()},s._onDirKeyEvent=function(){d.runtime.isPauseGame()||(b.x=(this._dirMap[h.KEY_A]?-1:0)+(this._dirMap[h.KEY_D]?1:0),b.y=(this._dirMap[h.KEY_W]?1:0)+(this._dirMap[h.KEY_S]?-1:0),0==b.x&&0==b.y?(this._isKeyMoving=!1,d.runtime.control.mainHeroCancelMove()):(0!=b.x&&0!=b.y&&b.multiplyScalar(.5),b.normalize(),d.runtime.control.mainHeroMove(b.x,b.y),this._isKeyMoving=!0))},s._onPauseEvent=function(){d.runtime.isPauseGame()?d.runtime.resumeGame():d.runtime.pauseGame()},i}(y)).prototype,"_camera",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(K.prototype,"_stick1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(K.prototype,"_stick2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=K))||M)),new _);s._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTouchLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDGameState3.ts"],(function(e){var t,i,o,n,s,r,a,c,_,u,h,p,l,y,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Camera,c=e.Node,_=e.Vec2,u=e.Vec3,h=e.KeyCode,p=e.input,l=e.Input,y=e.Component},function(e){d=e.YT},function(e){v=e.ZDGameState3}],execute:function(){var m,T,E,f,M,P,C,D,k;s._RF.push({},"195458n1dJMFJhbUtoQWxgT","ZDTouchLayer3",void 0);var K=r.ccclass,b=r.property,g=(e("ZDTouchLayer3",(m=K("ZDTouchLayer3"),T=b({type:a,displayName:"相机",visible:!0}),E=b({type:c,displayName:"转盘1",visible:!0}),f=b({type:c,displayName:"转盘2",visible:!0}),m((C=t((P=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"_camera",C,n(t)),o(t,"_stick1",D,n(t)),o(t,"_stick2",k,n(t)),t._pos=new u,t._startPos=new _,t._movePos=new _,t._dragDir=new _,t._dirMap={},t}i(t,e);var s=t.prototype;return s.start=function(){var e=this;this.node.on(c.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(c.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this._onTouchCancel,this),d.isGM&&(this._dirMap[h.KEY_W]=!1,this._dirMap[h.KEY_S]=!1,this._dirMap[h.KEY_A]=!1,this._dirMap[h.KEY_D]=!1,p.on(l.EventType.KEY_DOWN,(function(t){if(null!=e._dirMap[t.keyCode])e._dirMap[t.keyCode]=!0,e._onDirKeyEvent();else switch(t.keyCode){case h.SPACE:e._onPauseEvent()}})),p.on(l.EventType.KEY_UP,(function(t){null!=e._dirMap[t.keyCode]?(e._dirMap[t.keyCode]=!1,e._onDirKeyEvent()):t.keyCode})))},s.onDestroy=function(){d.isGM&&(p.off(l.EventType.KEY_DOWN),p.off(l.EventType.KEY_UP))},s._onTouchBegin=function(e){e.getLocation(this._startPos),this._pos.set(this._startPos.x,this._startPos.y),this._camera.screenToWorld(this._pos,this._pos),this.node.uiTransform.convertToNodeSpaceAR(this._pos,this._pos),this._stick1.setPosition(this._pos.x,this._pos.y),this._stick2.setPosition(0,0),this._stick1.active=!0},s._onTouchMove=function(e){e.getLocation(this._movePos);var t=_.distance(this._movePos,this._startPos),i=_.subtract(this._dragDir,this._movePos,this._startPos);i.normalize(),v.runtime.control.mainHeroMove(i.x,i.y),t>30&&(t=30);var o=i.x*t,n=i.y*t;this._stick2.setPosition(o,n)},s._onTouchEnd=function(e){v.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onTouchCancel=function(e){v.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onDirKeyEvent=function(){v.runtime.isPauseGame()||(g.x=(this._dirMap[h.KEY_A]?-1:0)+(this._dirMap[h.KEY_D]?1:0),g.y=(this._dirMap[h.KEY_W]?1:0)+(this._dirMap[h.KEY_S]?-1:0),0==g.x&&0==g.y?v.runtime.control.mainHeroCancelMove():(g.normalize(),v.runtime.control.mainHeroMove(g.x,g.y)))},s._onPauseEvent=function(){v.runtime.isPauseGame()?v.runtime.resumeGame():v.runtime.pauseGame()},t}(y)).prototype,"_camera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"_stick1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(P.prototype,"_stick2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=P))||M)),new _);s._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTouchLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDGameState4.ts"],(function(e){var t,i,o,n,s,r,a,c,_,u,h,p,l,y,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Camera,c=e.Node,_=e.Vec2,u=e.Vec3,h=e.KeyCode,p=e.input,l=e.Input,y=e.Component},function(e){m=e.YT},function(e){d=e.ZDGameState4}],execute:function(){var v,T,E,f,M,P,C,D,k;s._RF.push({},"879c6tJkbFBx47pya7mxSNG","ZDTouchLayer4",void 0);var K=r.ccclass,b=r.property,Y=(e("ZDTouchLayer4",(v=K("ZDTouchLayer4"),T=b({type:a,displayName:"相机",visible:!0}),E=b({type:c,displayName:"转盘1",visible:!0}),f=b({type:c,displayName:"转盘2",visible:!0}),v((C=t((P=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"_camera",C,n(t)),o(t,"_stick1",D,n(t)),o(t,"_stick2",k,n(t)),t._pos=new u,t._startPos=new _,t._movePos=new _,t._dragDir=new _,t._dirMap={},t}i(t,e);var s=t.prototype;return s.start=function(){var e=this;this.node.on(c.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(c.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this._onTouchCancel,this),m.isGM&&(this._dirMap[h.KEY_W]=!1,this._dirMap[h.KEY_S]=!1,this._dirMap[h.KEY_A]=!1,this._dirMap[h.KEY_D]=!1,p.on(l.EventType.KEY_DOWN,(function(t){if(null!=e._dirMap[t.keyCode])e._dirMap[t.keyCode]=!0,e._onDirKeyEvent();else switch(t.keyCode){case h.SPACE:e._onPauseEvent()}})),p.on(l.EventType.KEY_UP,(function(t){null!=e._dirMap[t.keyCode]?(e._dirMap[t.keyCode]=!1,e._onDirKeyEvent()):t.keyCode})))},s.onDestroy=function(){m.isGM&&(p.off(l.EventType.KEY_DOWN),p.off(l.EventType.KEY_UP))},s._onTouchBegin=function(e){e.getLocation(this._startPos),this._pos.set(this._startPos.x,this._startPos.y),this._camera.screenToWorld(this._pos,this._pos),this.node.uiTransform.convertToNodeSpaceAR(this._pos,this._pos),this._stick1.setPosition(this._pos.x,this._pos.y),this._stick2.setPosition(0,0),this._stick1.active=!0},s._onTouchMove=function(e){e.getLocation(this._movePos);var t=_.distance(this._movePos,this._startPos),i=_.subtract(this._dragDir,this._movePos,this._startPos);i.normalize(),d.runtime.control.mainHeroMove(i.x,i.y),t>30&&(t=30);var o=i.x*t,n=i.y*t;this._stick2.setPosition(o,n)},s._onTouchEnd=function(e){d.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onTouchCancel=function(e){d.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onDirKeyEvent=function(){d.runtime.isPauseGame()||(Y.x=(this._dirMap[h.KEY_A]?-1:0)+(this._dirMap[h.KEY_D]?1:0),Y.y=(this._dirMap[h.KEY_W]?1:0)+(this._dirMap[h.KEY_S]?-1:0),0==Y.x&&0==Y.y?d.runtime.control.mainHeroCancelMove():(0!=Y.x&&0!=Y.y&&Y.multiplyScalar(.5),Y.normalize(),d.runtime.control.mainHeroMove(Y.x,Y.y)))},s._onPauseEvent=function(){d.runtime.isPauseGame()?d.runtime.resumeGame():d.runtime.pauseGame()},t}(y)).prototype,"_camera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"_stick1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(P.prototype,"_stick2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=P))||M)),new _);s._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTouchLayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDGameState5.ts"],(function(e){var t,i,o,n,s,r,a,c,_,u,l,h,p,y,v,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Camera,c=e.Node,_=e.Vec2,u=e.Vec3,l=e.KeyCode,h=e.input,p=e.Input,y=e.Component},function(e){v=e.YT},function(e){d=e.ZDGameState5}],execute:function(){var m,E,T,f,M,P,C,D,w;s._RF.push({},"0ddf7VinINAELJhbNuObhci","ZDTouchLayer5",void 0);var k=r.ccclass,b=r.property,K=(e("ZDTouchLayer5",(m=k("ZDTouchLayer5"),E=b({type:a,displayName:"相机",visible:!0}),T=b({type:c,displayName:"转盘1",visible:!0}),f=b({type:c,displayName:"转盘2",visible:!0}),m((C=t((P=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"_camera",C,n(t)),o(t,"_stick1",D,n(t)),o(t,"_stick2",w,n(t)),t._pos=new u,t._startPos=new _,t._movePos=new _,t._dragDir=new _,t._dirMap={},t}i(t,e);var s=t.prototype;return s.start=function(){var e=this;this.node.on(c.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(c.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this._onTouchCancel,this),v.isGM&&(this._dirMap[l.KEY_W]=!1,this._dirMap[l.KEY_S]=!1,this._dirMap[l.KEY_A]=!1,this._dirMap[l.KEY_D]=!1,h.on(p.EventType.KEY_DOWN,(function(t){if(null!=e._dirMap[t.keyCode])e._dirMap[t.keyCode]=!0,e._onDirKeyEvent();else switch(t.keyCode){case l.SPACE:e._onPauseEvent()}})),h.on(p.EventType.KEY_UP,(function(t){null!=e._dirMap[t.keyCode]?(e._dirMap[t.keyCode]=!1,e._onDirKeyEvent()):t.keyCode})))},s.onDestroy=function(){v.isGM&&(h.off(p.EventType.KEY_DOWN),h.off(p.EventType.KEY_UP))},s._onTouchBegin=function(e){e.preventSwallow=!0,e.getLocation(this._startPos),this._pos.set(this._startPos.x,this._startPos.y),this._camera.screenToWorld(this._pos,this._pos),this.node.uiTransform.convertToNodeSpaceAR(this._pos,this._pos),this._stick1.setPosition(this._pos.x,this._pos.y),this._stick2.setPosition(0,0),this._stick1.active=!0},s._onTouchMove=function(e){e.preventSwallow=!0,e.getLocation(this._movePos);var t=_.distance(this._movePos,this._startPos),i=_.subtract(this._dragDir,this._movePos,this._startPos);i.normalize(),d.runtime.control.mainHeroMove(i.x,i.y),t>30&&(t=30);var o=i.x*t,n=i.y*t;this._stick2.setPosition(o,n)},s._onTouchEnd=function(e){e.preventSwallow=!0,d.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onTouchCancel=function(e){e.preventSwallow=!0,d.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onDirKeyEvent=function(){d.runtime.isPauseGame()||(K.x=(this._dirMap[l.KEY_A]?-1:0)+(this._dirMap[l.KEY_D]?1:0),K.y=(this._dirMap[l.KEY_W]?1:0)+(this._dirMap[l.KEY_S]?-1:0),0==K.x&&0==K.y?d.runtime.control.mainHeroCancelMove():(0!=K.x&&0!=K.y&&K.multiplyScalar(.5),K.normalize(),d.runtime.control.mainHeroMove(K.x,K.y)))},s._onPauseEvent=function(){d.runtime.isPauseGame()?d.runtime.resumeGame():d.runtime.pauseGame()},t}(y)).prototype,"_camera",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"_stick1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(P.prototype,"_stick2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=P))||M)),new _);s._RF.pop()}}}));

System.register("chunks:///_virtual/ZDTouchLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDGameState6.ts"],(function(e){var t,i,o,n,s,r,a,c,_,u,h,p,l,y,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Camera,c=e.Node,_=e.Vec2,u=e.Vec3,h=e.KeyCode,p=e.input,l=e.Input,y=e.Component},function(e){m=e.YT},function(e){d=e.ZDGameState6}],execute:function(){var v,T,E,f,M,P,C,D,k;s._RF.push({},"aa5b0RA6npCPLmkNBh5iIrf","ZDTouchLayer6",void 0);var K=r.ccclass,b=r.property,Y=(e("ZDTouchLayer6",(v=K("ZDTouchLayer6"),T=b({type:a,displayName:"相机",visible:!0}),E=b({type:c,displayName:"转盘1",visible:!0}),f=b({type:c,displayName:"转盘2",visible:!0}),v((C=t((P=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"_camera",C,n(t)),o(t,"_stick1",D,n(t)),o(t,"_stick2",k,n(t)),t._pos=new u,t._startPos=new _,t._movePos=new _,t._dragDir=new _,t._dirMap={},t}i(t,e);var s=t.prototype;return s.start=function(){var e=this;this.node.on(c.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(c.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this._onTouchCancel,this),m.isGM&&(this._dirMap[h.KEY_W]=!1,this._dirMap[h.KEY_S]=!1,this._dirMap[h.KEY_A]=!1,this._dirMap[h.KEY_D]=!1,p.on(l.EventType.KEY_DOWN,(function(t){if(null!=e._dirMap[t.keyCode])e._dirMap[t.keyCode]=!0,e._onDirKeyEvent();else switch(t.keyCode){case h.SPACE:e._onPauseEvent()}})),p.on(l.EventType.KEY_UP,(function(t){null!=e._dirMap[t.keyCode]?(e._dirMap[t.keyCode]=!1,e._onDirKeyEvent()):t.keyCode})))},s.onDestroy=function(){m.isGM&&(p.off(l.EventType.KEY_DOWN),p.off(l.EventType.KEY_UP))},s._onTouchBegin=function(e){e.getLocation(this._startPos),this._pos.set(this._startPos.x,this._startPos.y),this._camera.screenToWorld(this._pos,this._pos),this.node.uiTransform.convertToNodeSpaceAR(this._pos,this._pos),this._stick1.setPosition(this._pos.x,this._pos.y),this._stick2.setPosition(0,0),this._stick1.active=!0},s._onTouchMove=function(e){e.getLocation(this._movePos);var t=_.distance(this._movePos,this._startPos),i=_.subtract(this._dragDir,this._movePos,this._startPos);i.normalize(),d.runtime.control.mainHeroMove(i.x,i.y),t>30&&(t=30);var o=i.x*t,n=i.y*t;this._stick2.setPosition(o,n)},s._onTouchEnd=function(e){d.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onTouchCancel=function(e){d.runtime.control.mainHeroCancelMove(),this._stick1.active=!1},s._onDirKeyEvent=function(){d.runtime.isPauseGame()||(Y.x=(this._dirMap[h.KEY_A]?-1:0)+(this._dirMap[h.KEY_D]?1:0),Y.y=(this._dirMap[h.KEY_W]?1:0)+(this._dirMap[h.KEY_S]?-1:0),0==Y.x&&0==Y.y?d.runtime.control.mainHeroCancelMove():(0!=Y.x&&0!=Y.y&&Y.multiplyScalar(.5),Y.normalize(),d.runtime.control.mainHeroMove(Y.x,Y.y)))},s._onPauseEvent=function(){d.runtime.isPauseGame()?d.runtime.resumeGame():d.runtime.pauseGame()},t}(y)).prototype,"_camera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"_stick1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(P.prototype,"_stick2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=P))||M)),new _);s._RF.pop()}}}));

System.register("chunks:///_virtual/ZdTowerConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdTowerConfig",void 0),o._RF.push({},"4b88bBnKC1PdY9TVs/YO1w+","ZdTowerConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.model=void 0,this.icon=void 0,this.bullet=void 0,this.atk=void 0,this.range=void 0,this.speed=void 0};i.isConst=!1,i.path="config/ZdTowerConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdTowerConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdTowerConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdTowerConfig",void 0),t._RF.push({},"7a2eat0y0pJ/L31tDu9o128","ZdTowerConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.model=void 0,this.icon=void 0,this.bullet=void 0,this.atk=void 0,this.range=void 0,this.speed=void 0};i.isConst=!1,i.path="config/ZdTowerConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdTowerConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdTowerConfig3.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdTowerConfig",void 0),o._RF.push({},"90b68qd5ZRApalLJeHck+8k","ZdTowerConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.model=void 0,this.icon=void 0,this.hp=void 0,this.bullet=void 0,this.atk=void 0,this.range=void 0,this.speed=void 0,this.upPrice=void 0,this.upId=void 0,this.special=void 0,this.specV1=void 0,this.specV2=void 0,this.buffId=void 0};i.isConst=!1,i.path="config/ZdTowerConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdTowerConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZdTowerConfig4.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdTowerConfig",void 0),t._RF.push({},"bf663ANtRFHt7DKRpZ7aDMZ","ZdTowerConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.model=void 0,this.icon=void 0,this.bullet=void 0,this.atk=void 0,this.range=void 0,this.speed=void 0};i.isConst=!1,i.path="config/ZdTowerConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdTowerConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdTowerConfig5.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZdTowerConfig",void 0),o._RF.push({},"f579bA3Q/5KhLe1GDTJwT6o","ZdTowerConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.model=void 0,this.icon=void 0,this.bullet=void 0,this.atk=void 0,this.range=void 0,this.speed=void 0};i.isConst=!1,i.path="config/ZdTowerConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdTowerConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUILayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDGameState.ts","./SettingDialog.ts","./SubGameData.ts","./ZdWeaponConfig.ts","./ZDResUtils.ts","./UIHelper.ts"],(function(e){var t,n,i,o,a,r,s,l,u,d,p,c,m,_,b,h,y,f,g,v,C,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,d=e.Button,p=e.Node,c=e.Label,m=e.RichText,_=e.Sprite,b=e.Component},function(e){h=e.YT},function(e){y=e.ZDGameState},function(e){f=e.SettingDialog},function(e){g=e.SubGameData},function(e){v=e.ZdWeaponConfig},function(e){C=e.ZDResUtils},function(e){N=e.UIHelper}],execute:function(){var D,k,w,A,B,W,L,I,x,G,S,Z,z,T,U,M,R,E,P;l._RF.push({},"6ad204D0ZxEOZ4nx9REbWQa","ZDUILayer",void 0);var H=u.ccclass,K=u.property;e("ZDUILayer",(D=H("ZDUILayer"),k=K({type:d,displayName:"返回按钮",visible:!0}),w=K({type:d,displayName:"暂停按钮",visible:!0}),A=K({type:d,displayName:"设置按钮",visible:!0}),B=K({type:p,displayName:"描述节点",visible:!0}),W=K({type:c,displayName:"倒计时",visible:!0}),L=K({type:p,displayName:"掉落节点",visible:!0}),I=K({type:p,displayName:"攻击翻倍",visible:!0}),x=K({type:p,displayName:"+20刀",visible:!0}),D((Z=t((S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_retBtn",Z,o(t)),i(t,"_pauseBtn",z,o(t)),i(t,"_settingBtn",T,o(t)),i(t,"_descNode",U,o(t)),i(t,"_cdLab",M,o(t)),i(t,"_dropNode",R,o(t)),t._time=void 0,i(t,"_btnDoubleAtkNode",E,o(t)),i(t,"_btnAddWeaponNode",P,o(t)),t._addWeaponCnt=0,t}n(t,e);var l=t.prototype;return l.onLoad=function(){this._descNode.active=h.isGM,this._descNode.getComponent(m).string=g.getExtraGameTips(106),this._time=0},l.start=function(){this._retBtn.node.on(d.EventType.CLICK,this._onRetBtnClicked,this),this._pauseBtn.node.on(d.EventType.CLICK,this._onPauseBtnClicked,this),this._settingBtn.node.on(d.EventType.CLICK,this._onSettingBtnClicked,this),this._btnAddWeaponNode.on(d.EventType.CLICK,this._onAddWeaponClicked,this),this._btnDoubleAtkNode.on(d.EventType.CLICK,this._onDoubleAtkClicked,this),this._btnAddWeaponNode.active=this._btnDoubleAtkNode.active=!h.isGM},l._onDoubleAtkClicked=function(){var e=r(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,h.game.watchAD("攻击翻倍");case 3:if(!e.sent){e.next=7;break}this._btnDoubleAtkNode.active=!1,t=y.runtime.control.mainHero,y.runtime.control.roleMgr.addProp(301,t.pos.x,t.pos.y);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onAddWeaponClicked=function(){var e=r(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,h.game.watchAD("增加20把刀");case 3:if(!e.sent){e.next=8;break}this._addWeaponCnt++,this._addWeaponCnt>=3&&(this._btnAddWeaponNode.active=!1),t=y.runtime._levelCfg,y.runtime.control.mainHero.addWeaponCnt(t.add_weapon_cnt);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onRetBtnClicked=function(){y.runtime.audioMgr.play(9),y.runtime.returnGame()},l._onPauseBtnClicked=function(){y.runtime.audioMgr.play(9),y.runtime.isPauseGame()?y.runtime.resumeGame():y.runtime.pauseGame()},l._onSettingBtnClicked=function(){y.runtime.audioMgr.play(9),f.Show()},l.onChangeMainWeapon=function(e){var t=v.data[e];N.changeSpriteFrame(C.fullPropIconRes(t.icon),"zhuandao",this._btnAddWeaponNode.getChildByName("icon").getComponent(_));var n=y.runtime._levelCfg;this._btnAddWeaponNode.getChildByName("cnt").getComponent(c).string="+"+n.add_weapon_cnt+"把刀"},l.logicUpdate=function(e){this._time+=e,this._time>=1&&(this._secondUpdate(this._time),this._time=0);var t=y.runtime.control.getProgressView();this._cdLab.string=t},l._secondUpdate=function(e){},a(t,[{key:"dropNode",get:function(){return this._dropNode}}]),t}(b)).prototype,"_retBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(S.prototype,"_pauseBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(S.prototype,"_settingBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(S.prototype,"_descNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(S.prototype,"_cdLab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(S.prototype,"_dropNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(S.prototype,"_btnDoubleAtkNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(S.prototype,"_btnAddWeaponNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=S))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUILayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDGameState3.ts","./SettingDialog3.ts","./SubGameData.ts","./ZdWeaponConfig3.ts","./ZDResUtils3.ts","./UIHelper.ts","./ZDConst3.ts"],(function(e){var t,n,i,o,a,r,l,s,u,p,d,c,b,m,_,y,f,h,g,N,v,C,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,p=e.Button,d=e.Node,c=e.Label,b=e.RichText,m=e.Sprite,_=e.Component},function(e){y=e.YT},function(e){f=e.ZDGameState3},function(e){h=e.SettingDialog3},function(e){g=e.SubGameData},function(e){N=e.ZdWeaponConfig},function(e){v=e.ZDResUtils3},function(e){C=e.UIHelper},function(e){k=e.ZD_BUNDLE}],execute:function(){var D,w,B,A,L,W,z,I,S,G,U,Z,M,R,T,x,E,P,K,H,F,Y,j,q,V;s._RF.push({},"edd3fhLbgRNKqibMS5NREwL","ZDUILayer3",void 0);var J=u.ccclass,O=u.property;e("ZDUILayer3",(D=J("ZDUILayer3"),w=O({type:p,displayName:"返回按钮",visible:!0}),B=O({type:p,displayName:"暂停按钮",visible:!0}),A=O({type:p,displayName:"设置按钮",visible:!0}),L=O({type:d,displayName:"描述节点",visible:!0}),W=O({type:c,displayName:"倒计时",visible:!0}),z=O({type:d,displayName:"掉落节点",visible:!0}),I=O({type:d,displayName:"攻击翻倍",visible:!0}),S=O({type:d,displayName:"+20刀",visible:!0}),G=O({type:d,displayName:"排行"}),U=O({type:d,displayName:"击杀提示"}),Z=O({type:d,displayName:"文字特效"}),D((T=t((R=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_retBtn",T,o(t)),i(t,"_pauseBtn",x,o(t)),i(t,"_settingBtn",E,o(t)),i(t,"_descNode",P,o(t)),i(t,"_cdLab",K,o(t)),i(t,"_dropNode",H,o(t)),t._time=void 0,i(t,"_btnDoubleAtkNode",F,o(t)),i(t,"_btnAddWeaponNode",Y,o(t)),i(t,"rank",j,o(t)),i(t,"killNote",q,o(t)),i(t,"wordEffectNode",V,o(t)),t._addWeaponCnt=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this._descNode.active=y.isGM,this._descNode.getComponent(b).string=g.getExtraGameTips(301),this._time=0},s.start=function(){this._retBtn.node.on(p.EventType.CLICK,this._onRetBtnClicked,this),this._pauseBtn.node.on(p.EventType.CLICK,this._onPauseBtnClicked,this),this._settingBtn.node.on(p.EventType.CLICK,this._onSettingBtnClicked,this),this._btnAddWeaponNode.on(p.EventType.CLICK,this._onAddWeaponClicked,this),this._btnDoubleAtkNode.on(p.EventType.CLICK,this._onDoubleAtkClicked,this),this._btnAddWeaponNode.active=!y.isGM,this._btnDoubleAtkNode.active=!1},s._onDoubleAtkClicked=function(){var e=r(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.runtime.audioMgr.play(9),e.next=3,y.game.watchAD("攻击翻倍");case 3:if(!e.sent){e.next=7;break}this._btnDoubleAtkNode.active=!1,t=f.runtime.control.mainHero,f.runtime.control.roleMgr.addProp(301,t.pos.x,t.pos.y);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onAddWeaponClicked=function(){var e=r(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.runtime.audioMgr.play(9),e.next=3,y.game.watchAD("增加20把刀");case 3:if(!e.sent){e.next=8;break}this._addWeaponCnt++,this._addWeaponCnt>=3&&(this._btnAddWeaponNode.active=!1),t=f.runtime._levelCfg,f.runtime.control.mainHero.addWeaponCnt(t.add_weapon_cnt);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onRetBtnClicked=function(){f.runtime.audioMgr.play(9),f.runtime.returnGame()},s._onPauseBtnClicked=function(){f.runtime.audioMgr.play(9),f.runtime.isPauseGame()?f.runtime.resumeGame():f.runtime.pauseGame()},s._onSettingBtnClicked=function(){f.runtime.audioMgr.play(9),h.Show()},s.onChangeMainWeapon=function(e){var t=N.data[e];C.changeSpriteFrame(v.fullPropIconRes(t.icon),k,this._btnAddWeaponNode.getChildByName("icon").getComponent(m));var n=f.runtime._levelCfg;this._btnAddWeaponNode.getChildByName("cnt").getComponent(c).string="+"+n.add_weapon_cnt+"把刀"},s.logicUpdate=function(e){this._time+=e,this._time>=1&&(this._secondUpdate(this._time),this._time=0);var t=f.runtime.control.getProgressView();this._cdLab.string=t},s._secondUpdate=function(e){},a(t,[{key:"dropNode",get:function(){return this._dropNode}}]),t}(_)).prototype,"_retBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(R.prototype,"_pauseBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(R.prototype,"_settingBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(R.prototype,"_descNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(R.prototype,"_cdLab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(R.prototype,"_dropNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(R.prototype,"_btnDoubleAtkNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(R.prototype,"_btnAddWeaponNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(R.prototype,"rank",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(R.prototype,"killNote",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(R.prototype,"wordEffectNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=R))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUILayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWave2.ts","./ZdWeaponConfig5.ts","./UIHelper.ts","./SubGameData.ts","./YT.ts","./ZDResUtils4.ts","./ZDGameState4.ts","./SettingDialog4.ts"],(function(e){var t,n,i,a,o,r,l,s,u,d,c,p,m,b,_,h,y,g,v,f,C,N,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,d=e.Button,c=e.Node,p=e.Label,m=e.RichText,b=e.Sprite,_=e.Component},function(e){h=e.ZdWave},function(e){y=e.ZdWeaponConfig},function(e){g=e.UIHelper},function(e){v=e.SubGameData},function(e){f=e.YT},function(e){C=e.ZDResUtils},function(e){N=e.ZDGameState4},function(e){w=e.SettingDialog4}],execute:function(){var D,k,L,W,A,B,T,z,I,S,G,Z,x,U,M,P,R,E,F,H,K;s._RF.push({},"316e7D7hqtJzYF6JcrSWbsk","ZDUILayer4",void 0);var Y=u.ccclass,J=u.property;e("ZDUILayer4",(D=Y("ZDUILayer4"),k=J({type:d,displayName:"返回按钮",visible:!0}),L=J({type:d,displayName:"暂停按钮",visible:!0}),W=J({type:d,displayName:"设置按钮",visible:!0}),A=J({type:c,displayName:"描述节点",visible:!0}),B=J({type:p,displayName:"倒计时",visible:!0}),T=J({type:p,displayName:"下一波次倒计时",visible:!0}),z=J({type:c,displayName:"掉落节点",visible:!0}),I=J({type:c,displayName:"攻击翻倍",visible:!0}),S=J({type:c,displayName:"+20刀",visible:!0}),D((x=t((Z=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_retBtn",x,a(t)),i(t,"_pauseBtn",U,a(t)),i(t,"_settingBtn",M,a(t)),i(t,"_descNode",P,a(t)),i(t,"_cdLab",R,a(t)),i(t,"waveTimeLabel",E,a(t)),i(t,"_dropNode",F,a(t)),t._time=void 0,i(t,"_btnDoubleAtkNode",H,a(t)),i(t,"_btnAddWeaponNode",K,a(t)),t._addWeaponCnt=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this._descNode.active=f.isGM,this._descNode.getComponent(m).string=v.getExtraGameTips(701),this._time=0},s.start=function(){this._retBtn.node.on(d.EventType.CLICK,this._onRetBtnClicked,this),this._pauseBtn.node.on(d.EventType.CLICK,this._onPauseBtnClicked,this),this._settingBtn.node.on(d.EventType.CLICK,this._onSettingBtnClicked,this),this._btnAddWeaponNode.on(d.EventType.CLICK,this._onAddWeaponClicked,this),this._btnDoubleAtkNode.on(d.EventType.CLICK,this._onDoubleAtkClicked,this),this._btnAddWeaponNode.active=this._btnDoubleAtkNode.active=!f.isGM},s._onDoubleAtkClicked=function(){var e=r(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.runtime.audioMgr.play(9),e.next=3,f.game.watchAD("攻击翻倍");case 3:if(!e.sent){e.next=7;break}this._btnDoubleAtkNode.active=!1,t=N.runtime.control.mainHero,N.runtime.control.roleMgr.addProp(301,t.pos.x,t.pos.y);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onAddWeaponClicked=function(){var e=r(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.runtime.audioMgr.play(9),e.next=3,f.game.watchAD("增加20把刀");case 3:if(!e.sent){e.next=8;break}this._addWeaponCnt++,this._addWeaponCnt>=3&&(this._btnAddWeaponNode.active=!1),t=N.runtime._levelCfg,N.runtime.control.mainHero.addWeaponCnt(t.add_weapon_cnt);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onRetBtnClicked=function(){N.runtime.audioMgr.play(9),N.runtime.returnGame()},s._onPauseBtnClicked=function(){N.runtime.audioMgr.play(9),N.runtime.isPauseGame()?N.runtime.resumeGame():N.runtime.pauseGame()},s._onSettingBtnClicked=function(){N.runtime.audioMgr.play(9),w.Show()},s.onChangeMainWeapon=function(e){var t=y.data[e];g.changeSpriteFrame(C.fullPropIconRes(t.icon),"zhuandao_4",this._btnAddWeaponNode.getChildByName("icon").getComponent(b));var n=N.runtime._levelCfg;this._btnAddWeaponNode.getChildByName("cnt").getComponent(p).string="+"+n.add_weapon_cnt+"把刀"},s.logicUpdate=function(e){this._time+=e,this._time>=1&&(this._secondUpdate(this._time),this._time=0);N.runtime.control.getProgressView();var t=N.runtime.control.curWaveConfig,n=N.runtime.control.curWaveTime;t?(this._cdLab.node.active=!0,this._cdLab.string="第"+t.id+"/"+h.dataList.length+"波"):this._cdLab.node.active=!1;var i=t?t.id+1:1;h.data[i]&&h.data[i].time-n<=20&&!N.runtime.control.curWaveTimePause?(this.waveTimeLabel.node.active=!0,this.waveTimeLabel.string=""+(h.data[i].time-n).toFixed(0)):this.waveTimeLabel.node.active=!1},s._secondUpdate=function(e){},o(t,[{key:"dropNode",get:function(){return this._dropNode}}]),t}(_)).prototype,"_retBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(Z.prototype,"_pauseBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(Z.prototype,"_settingBtn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(Z.prototype,"_descNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(Z.prototype,"_cdLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(Z.prototype,"waveTimeLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(Z.prototype,"_dropNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(Z.prototype,"_btnDoubleAtkNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(Z.prototype,"_btnAddWeaponNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=Z))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUILayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZdWave.ts","./ZdWeaponConfig2.ts","./UIHelper.ts","./SubGameData.ts","./YT.ts","./ZDResUtils5.ts","./ZDGameState5.ts","./SettingDialog5.ts"],(function(e){var t,n,i,a,o,r,l,s,u,d,c,p,m,b,_,h,y,g,v,f,C,N,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,d=e.Button,c=e.Node,p=e.Label,m=e.RichText,b=e.Sprite,_=e.Component},function(e){h=e.ZdWave},function(e){y=e.ZdWeaponConfig},function(e){g=e.UIHelper},function(e){v=e.SubGameData},function(e){f=e.YT},function(e){C=e.ZDResUtils},function(e){N=e.ZDGameState5},function(e){w=e.SettingDialog5}],execute:function(){var D,L,k,W,A,B,T,I,Z,S,z,G,x,U,M,P,R,E,H,K,F;s._RF.push({},"52687wac/5N0InPZZqEYSpj","ZDUILayer5",void 0);var Y=u.ccclass,j=u.property;e("ZDUILayer5",(D=Y("ZDUILayer5"),L=j({type:d,displayName:"返回按钮",visible:!0}),k=j({type:d,displayName:"暂停按钮",visible:!0}),W=j({type:d,displayName:"设置按钮",visible:!0}),A=j({type:c,displayName:"描述节点",visible:!0}),B=j({type:p,displayName:"倒计时",visible:!0}),T=j({type:p,displayName:"下一波次倒计时",visible:!0}),I=j({type:c,displayName:"掉落节点",visible:!0}),Z=j({type:c,displayName:"攻击翻倍",visible:!0}),S=j({type:c,displayName:"+20刀",visible:!0}),D((x=t((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_retBtn",x,a(t)),i(t,"_pauseBtn",U,a(t)),i(t,"_settingBtn",M,a(t)),i(t,"_descNode",P,a(t)),i(t,"_cdLab",R,a(t)),i(t,"waveTimeLabel",E,a(t)),i(t,"_dropNode",H,a(t)),t._time=void 0,i(t,"_btnDoubleAtkNode",K,a(t)),i(t,"_btnAddWeaponNode",F,a(t)),t._addWeaponCnt=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this._descNode.active=f.isGM,this._descNode.getComponent(m).string=v.getExtraGameTips(801),this._time=0},s.start=function(){this._retBtn.node.on(d.EventType.CLICK,this._onRetBtnClicked,this),this._pauseBtn.node.on(d.EventType.CLICK,this._onPauseBtnClicked,this),this._settingBtn.node.on(d.EventType.CLICK,this._onSettingBtnClicked,this),this._btnAddWeaponNode.on(d.EventType.CLICK,this._onAddWeaponClicked,this),this._btnDoubleAtkNode.on(d.EventType.CLICK,this._onDoubleAtkClicked,this),this._btnAddWeaponNode.active=this._btnDoubleAtkNode.active=!f.isGM},s._onDoubleAtkClicked=function(){var e=r(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.runtime.audioMgr.play(9),e.next=3,f.game.watchAD("攻击翻倍");case 3:if(!e.sent){e.next=7;break}this._btnDoubleAtkNode.active=!1,t=N.runtime.control.mainHero,N.runtime.control.roleMgr.addProp(301,t.pos.x,t.pos.y);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onAddWeaponClicked=function(){var e=r(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.runtime.audioMgr.play(9),e.next=3,f.game.watchAD("增加20把刀");case 3:if(!e.sent){e.next=8;break}this._addWeaponCnt++,this._addWeaponCnt>=3&&(this._btnAddWeaponNode.active=!1),t=N.runtime._levelCfg,N.runtime.control.mainHero.addWeaponCnt(t.add_weapon_cnt);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._onRetBtnClicked=function(){N.runtime.audioMgr.play(9),N.runtime.returnGame()},s._onPauseBtnClicked=function(){N.runtime.audioMgr.play(9),N.runtime.isPauseGame()?N.runtime.resumeGame():N.runtime.pauseGame()},s._onSettingBtnClicked=function(){N.runtime.audioMgr.play(9),w.Show()},s.onChangeMainWeapon=function(e){var t=y.data[e];g.changeSpriteFrame(C.fullPropIconRes(t.icon),"zhuandao_5",this._btnAddWeaponNode.getChildByName("icon").getComponent(b));var n=N.runtime._levelCfg;this._btnAddWeaponNode.getChildByName("cnt").getComponent(p).string="+"+n.add_weapon_cnt+"把刀"},s.logicUpdate=function(e){this._time+=e,this._time>=1&&(this._secondUpdate(this._time),this._time=0);N.runtime.control.getProgressView();var t=N.runtime.control.CurWaveConfig,n=N.runtime.control.curWaveTime;t?(this._cdLab.node.active=!0,this._cdLab.string="第"+t.id+"/"+h.dataList.length+"波"):this._cdLab.node.active=!1;var i=t?t.id+1:1;h.data[i]&&1==i&&h.data[i].time-n<=20&&!N.runtime.control.curWaveTimePause?(this.waveTimeLabel.node.active=!0,this.waveTimeLabel.string=""+(h.data[i].time-n).toFixed(0)):this.waveTimeLabel.node.active=!1},s._secondUpdate=function(e){},o(t,[{key:"dropNode",get:function(){return this._dropNode}}]),t}(_)).prototype,"_retBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(G.prototype,"_pauseBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(G.prototype,"_settingBtn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(G.prototype,"_descNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(G.prototype,"_cdLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(G.prototype,"waveTimeLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(G.prototype,"_dropNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(G.prototype,"_btnDoubleAtkNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(G.prototype,"_btnAddWeaponNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=G))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUILayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZDGameState6.ts","./SettingDialog6.ts","./SubGameData.ts","./ZdWeaponConfig4.ts","./ZDResUtils6.ts","./UIHelper.ts"],(function(e){var t,n,i,o,a,r,s,l,u,d,p,c,m,b,_,h,y,f,g,v,C,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,d=e.Button,p=e.Node,c=e.Label,m=e.RichText,b=e.Sprite,_=e.Component},function(e){h=e.YT},function(e){y=e.ZDGameState6},function(e){f=e.SettingDialog6},function(e){g=e.SubGameData},function(e){v=e.ZdWeaponConfig},function(e){C=e.ZDResUtils},function(e){N=e.UIHelper}],execute:function(){var D,k,A,B,w,L,W,I,S,z,G,T,U,x,M,Z,R,P,E;l._RF.push({},"ab1feDmzYpKS723bFd+HAQB","ZDUILayer6",void 0);var H=u.ccclass,K=u.property;e("ZDUILayer6",(D=H("ZDUILayer6"),k=K({type:d,displayName:"返回按钮",visible:!0}),A=K({type:d,displayName:"暂停按钮",visible:!0}),B=K({type:d,displayName:"设置按钮",visible:!0}),w=K({type:p,displayName:"描述节点",visible:!0}),L=K({type:c,displayName:"倒计时",visible:!0}),W=K({type:p,displayName:"掉落节点",visible:!0}),I=K({type:p,displayName:"攻击翻倍",visible:!0}),S=K({type:p,displayName:"+20刀",visible:!0}),D((T=t((G=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_retBtn",T,o(t)),i(t,"_pauseBtn",U,o(t)),i(t,"_settingBtn",x,o(t)),i(t,"_descNode",M,o(t)),i(t,"_cdLab",Z,o(t)),i(t,"_dropNode",R,o(t)),t._time=void 0,i(t,"_btnDoubleAtkNode",P,o(t)),i(t,"_btnAddWeaponNode",E,o(t)),t._addWeaponCnt=0,t}n(t,e);var l=t.prototype;return l.onLoad=function(){this._descNode.active=h.isGM,this._descNode.getComponent(m).string=g.getExtraGameTips(666),this._time=0},l.start=function(){this._retBtn.node.on(d.EventType.CLICK,this._onRetBtnClicked,this),this._pauseBtn.node.on(d.EventType.CLICK,this._onPauseBtnClicked,this),this._settingBtn.node.on(d.EventType.CLICK,this._onSettingBtnClicked,this),this._btnAddWeaponNode.on(d.EventType.CLICK,this._onAddWeaponClicked,this),this._btnDoubleAtkNode.on(d.EventType.CLICK,this._onDoubleAtkClicked,this),this._btnAddWeaponNode.active=this._btnDoubleAtkNode.active=!h.isGM},l._onDoubleAtkClicked=function(){var e=r(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,h.game.watchAD("攻击翻倍");case 3:if(!e.sent){e.next=7;break}this._btnDoubleAtkNode.active=!1,t=y.runtime.control.mainHero,y.runtime.control.roleMgr.addProp(301,t.pos.x,t.pos.y);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onAddWeaponClicked=function(){var e=r(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.runtime.audioMgr.play(9),e.next=3,h.game.watchAD("增加20把刀");case 3:if(!e.sent){e.next=8;break}this._addWeaponCnt++,this._addWeaponCnt>=3&&(this._btnAddWeaponNode.active=!1),t=y.runtime._levelCfg,y.runtime.control.mainHero.addWeaponCnt(t.add_weapon_cnt);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._onRetBtnClicked=function(){y.runtime.audioMgr.play(9),y.runtime.returnGame()},l._onPauseBtnClicked=function(){y.runtime.audioMgr.play(9),y.runtime.isPauseGame()?y.runtime.resumeGame():y.runtime.pauseGame()},l._onSettingBtnClicked=function(){y.runtime.audioMgr.play(9),f.Show()},l.onChangeMainWeapon=function(e){var t=v.data[e];N.changeSpriteFrame(C.fullPropIconRes(t.icon),"zhuandao",this._btnAddWeaponNode.getChildByName("icon").getComponent(b));var n=y.runtime._levelCfg;this._btnAddWeaponNode.getChildByName("cnt").getComponent(c).string="+"+n.add_weapon_cnt+"把刀"},l.logicUpdate=function(e){this._time+=e,this._time>=1&&(this._secondUpdate(this._time),this._time=0);var t=y.runtime.control.getProgressView();this._cdLab.string=t},l._secondUpdate=function(e){},a(t,[{key:"dropNode",get:function(){return this._dropNode}}]),t}(_)).prototype,"_retBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(G.prototype,"_pauseBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(G.prototype,"_settingBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(G.prototype,"_descNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(G.prototype,"_cdLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(G.prototype,"_dropNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(G.prototype,"_btnDoubleAtkNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(G.prototype,"_btnAddWeaponNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=G))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUtils.ts",["cc"],(function(t){var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.Vec2,n=t.Vec3,a=t.toDegree}],execute:function(){e._RF.push({},"f3d65ExfONF1r13v5QS9jDa","ZDUtils",void 0);t("ZDUtils",function(){function t(){}return t.isCrossByCircle=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return!(a>e+n||a<Math.abs(e-n))},t.findCircleIntersections=function(t,e,r,a,i){var o=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(o>e+a||o<Math.abs(e-a))return!1;var y=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(o,2))/(2*o),x=Math.sqrt(Math.pow(e,2)-Math.pow(y,2)),h=t.x+y*(r.x-t.x)/o,s=t.y+y*(r.y-t.y)/o,c=null!=i?i:new n;return c.x=h+x*(r.y-t.y)/o,c.y=s-x*(r.x-t.x)/o,!0},t.findCircleIntersectionsTowPos=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(a>e+n||a<Math.abs(e-n))return null;var i=(Math.pow(e,2)-Math.pow(n,2)+Math.pow(a,2))/(2*a),o=Math.sqrt(Math.pow(e,2)-Math.pow(i,2)),y=t.x+i*(r.x-t.x)/a,x=t.y+i*(r.y-t.y)/a;return a===e+n||a===Math.abs(e-n)?null:(f[0].x=y+o*(r.y-t.y)/a,f[0].y=x-o*(r.x-t.x)/a,f[0].x=y-o*(r.y-t.y)/a,f[0].y=x+o*(r.x-t.x)/a,f)},t.rectContainPoint=function(t,e,r){return r.x>t.x-e.width/2&&r.x<t.x+e.width/2&&r.y>t.y-e.height/2&&r.y<t.y+e.height/2},t.isRectIntersect=function(t,e,r,n){var a=t.x-e.width/2,i=t.y-e.height/2,o=t.x+e.width/2,y=t.y+e.height/2,x=r.x-n.width/2,h=r.y-n.height/2,s=r.x+n.width/2,c=r.y+n.height/2;return!(a>s||o<x||i>c||y<h)},t.isIntersectRectCircle=function(t,e,r,n){var a=t.x-e.width/2,i=t.x+e.width/2,o=t.y-e.height/2,y=t.y+e.height/2,x=r.x,h=r.y;r.x<a?x=a:r.x>i&&(x=i),r.y<o?h=o:r.y>y&&(h=y);var s=r.x-x,c=r.y-h;return Math.sqrt(s*s+c*c)<=n},t.getVectorVerticalDir=function(t,e,r){e?(r.x=t.y,r.y=-1*t.x):(r.x=-1*t.y,r.y=t.x)},t.vectorToRadian=function(t){var e=Math.atan2(t.y,t.x);return e<0&&(e+=2*Math.PI),e},t.vectorToDegree=function(t){var e=this.vectorToRadian(t);return a(e)},t.vectorBetween=function(t,e,n){var a=r.angle(t,e),i=r.angle(t,n),o=r.angle(e,n);return i<a&&o<a},t.getDistance=function(t,e){return r.distance(t,e)},t.getPositionVector=function(t,e,n){var a=null!=n?n:new r;return n.x=e.x-t.x,n.y=e.y-t.y,a.normalize()},t.circleCross=function(t,e,n,a,f){var p=r.distance(t,n);if(p<=Math.abs(e-a))return!1;if(p>=e+a)return!1;var v=i;r.subtract(v,n,t),v.normalize();o.set(i).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(p,2))/(2*p),d=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return l.x=t.x+g*v.x,l.y=t.y+g*v.y,y.x=l.x+d*(n.y-t.y)/p,y.y=l.y-d*(n.x-t.x)/p,x.x=l.x-d*(n.y-t.y)/p,x.y=l.y+d*(n.x-t.x)/p,r.subtract(h,y,t),h.normalize(),r.subtract(s,x,t),s.normalize(),r.subtract(c,y,n),c.normalize(),r.subtract(u,x,n),u.normalize(),w.x=-1*i.y,w.y=i.x,M.x=i.y,M.y=-1*i.x,f[0].set(h),f[1].set(s),f[2].set(c),f[3].set(u),f[4].set(l),!0},t.circleCross2=function(t,e,n,a,f){var p=r.distance(t,n);if(p<=Math.abs(e-a))if(e>a)e=p;else{if(!(e<a))return 1;a=p}if(p>e+a)return 0;var v=i;r.subtract(v,n,t),v.normalize();o.set(i).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(p,2))/(2*p),d=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return l.x=t.x+g*v.x,l.y=t.y+g*v.y,y.x=l.x+d*(n.y-t.y)/p,y.y=l.y-d*(n.x-t.x)/p,x.x=l.x-d*(n.y-t.y)/p,x.y=l.y+d*(n.x-t.x)/p,r.subtract(h,y,t),h.normalize(),r.subtract(s,x,t),s.normalize(),r.subtract(c,y,n),c.normalize(),r.subtract(u,x,n),u.normalize(),w.x=-1*i.y,w.y=i.x,M.x=i.y,M.y=-1*i.x,f[0].set(h),f[1].set(s),f[2].set(c),f[3].set(u),f[4].set(l),2},t}());var i=new r,o=new r,y=new r,x=new r,h=new r,s=new r,c=new r,u=new r,w=new r,M=new r,l=new r,f=[{x:0,y:0},{x:0,y:0}];e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUtils3.ts",["cc"],(function(t){var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.Vec2,n=t.Vec3,a=t.toDegree}],execute:function(){e._RF.push({},"82e0aBM0iBDepZhChmJpuHq","ZDUtils3",void 0);t("ZDUtils3",function(){function t(){}return t.isCrossByCircle=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return!(a>e+n||a<Math.abs(e-n))},t.findCircleIntersections=function(t,e,r,a,i){var o=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(o>e+a||o<Math.abs(e-a))return!1;var y=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(o,2))/(2*o),x=Math.sqrt(Math.pow(e,2)-Math.pow(y,2)),h=t.x+y*(r.x-t.x)/o,s=t.y+y*(r.y-t.y)/o,c=null!=i?i:new n;return c.x=h+x*(r.y-t.y)/o,c.y=s-x*(r.x-t.x)/o,!0},t.findCircleIntersectionsTowPos=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(a>e+n||a<Math.abs(e-n))return null;var i=(Math.pow(e,2)-Math.pow(n,2)+Math.pow(a,2))/(2*a),o=Math.sqrt(Math.pow(e,2)-Math.pow(i,2)),y=t.x+i*(r.x-t.x)/a,x=t.y+i*(r.y-t.y)/a;return a===e+n||a===Math.abs(e-n)?null:(p[0].x=y+o*(r.y-t.y)/a,p[0].y=x-o*(r.x-t.x)/a,p[0].x=y-o*(r.y-t.y)/a,p[0].y=x+o*(r.x-t.x)/a,p)},t.rectContainPoint=function(t,e,r){return r.x>t.x-e.width/2&&r.x<t.x+e.width/2&&r.y>t.y-e.height/2&&r.y<t.y+e.height/2},t.isRectIntersect=function(t,e,r,n){var a=t.x-e.width/2,i=t.y-e.height/2,o=t.x+e.width/2,y=t.y+e.height/2,x=r.x-n.width/2,h=r.y-n.height/2,s=r.x+n.width/2,c=r.y+n.height/2;return!(a>s||o<x||i>c||y<h)},t.isIntersectRectCircle=function(t,e,r,n){var a=t.x-e.width/2,i=t.x+e.width/2,o=t.y-e.height/2,y=t.y+e.height/2,x=r.x,h=r.y;r.x<a?x=a:r.x>i&&(x=i),r.y<o?h=o:r.y>y&&(h=y);var s=r.x-x,c=r.y-h;return Math.sqrt(s*s+c*c)<=n},t.getVectorVerticalDir=function(t,e,r){e?(r.x=t.y,r.y=-1*t.x):(r.x=-1*t.y,r.y=t.x)},t.vectorToRadian=function(t){var e=Math.atan2(t.y,t.x);return e<0&&(e+=2*Math.PI),e},t.vectorToDegree=function(t){var e=this.vectorToRadian(t);return a(e)},t.vectorBetween=function(t,e,n){var a=r.angle(t,e),i=r.angle(t,n),o=r.angle(e,n);return i<a&&o<a},t.getDistance=function(t,e){return r.distance(t,e)},t.getPositionVector=function(t,e,n){var a=null!=n?n:new r;return n.x=e.x-t.x,n.y=e.y-t.y,a.normalize()},t.circleCross=function(t,e,n,a,p){var f=r.distance(t,n);if(f<=Math.abs(e-a))return!1;if(f>=e+a)return!1;var v=i;r.subtract(v,n,t),v.normalize();o.set(i).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(f,2))/(2*f),b=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return l.x=t.x+g*v.x,l.y=t.y+g*v.y,y.x=l.x+b*(n.y-t.y)/f,y.y=l.y-b*(n.x-t.x)/f,x.x=l.x-b*(n.y-t.y)/f,x.y=l.y+b*(n.x-t.x)/f,r.subtract(h,y,t),h.normalize(),r.subtract(s,x,t),s.normalize(),r.subtract(c,y,n),c.normalize(),r.subtract(u,x,n),u.normalize(),w.x=-1*i.y,w.y=i.x,M.x=i.y,M.y=-1*i.x,p[0].set(h),p[1].set(s),p[2].set(c),p[3].set(u),p[4].set(l),!0},t.circleCross2=function(t,e,n,a,p){var f=r.distance(t,n);if(f<=Math.abs(e-a))if(e>a)e=f;else{if(!(e<a))return 1;a=f}if(f>e+a)return 0;var v=i;r.subtract(v,n,t),v.normalize();o.set(i).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(f,2))/(2*f),b=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return l.x=t.x+g*v.x,l.y=t.y+g*v.y,y.x=l.x+b*(n.y-t.y)/f,y.y=l.y-b*(n.x-t.x)/f,x.x=l.x-b*(n.y-t.y)/f,x.y=l.y+b*(n.x-t.x)/f,r.subtract(h,y,t),h.normalize(),r.subtract(s,x,t),s.normalize(),r.subtract(c,y,n),c.normalize(),r.subtract(u,x,n),u.normalize(),w.x=-1*i.y,w.y=i.x,M.x=i.y,M.y=-1*i.x,p[0].set(h),p[1].set(s),p[2].set(c),p[3].set(u),p[4].set(l),2},t.isInCirlce=function(t,e,r){return e*e>=Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)},t}());var i=new r,o=new r,y=new r,x=new r,h=new r,s=new r,c=new r,u=new r,w=new r,M=new r,l=new r,p=[{x:0,y:0},{x:0,y:0}];e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUtils4.ts",["cc"],(function(t){var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.Vec2,n=t.Vec3,a=t.toDegree}],execute:function(){e._RF.push({},"14cfeAmp01Df7Bp6cYf9/Qz","ZDUtils4",void 0);t("ZDUtils4",function(){function t(){}return t.isCrossByCircle=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return!(a>e+n||a<Math.abs(e-n))},t.findCircleIntersections=function(t,e,r,a,i){var x=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(x>e+a||x<Math.abs(e-a))return!1;var y=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(x,2))/(2*x),o=Math.sqrt(Math.pow(e,2)-Math.pow(y,2)),h=t.x+y*(r.x-t.x)/x,s=t.y+y*(r.y-t.y)/x,c=null!=i?i:new n;return c.x=h+o*(r.y-t.y)/x,c.y=s-o*(r.x-t.x)/x,!0},t.findCircleIntersectionsTowPos=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(a>e+n||a<Math.abs(e-n))return null;var i=(Math.pow(e,2)-Math.pow(n,2)+Math.pow(a,2))/(2*a),x=Math.sqrt(Math.pow(e,2)-Math.pow(i,2)),y=t.x+i*(r.x-t.x)/a,o=t.y+i*(r.y-t.y)/a;return a===e+n||a===Math.abs(e-n)?null:(l[0].x=y+x*(r.y-t.y)/a,l[0].y=o-x*(r.x-t.x)/a,l[0].x=y-x*(r.y-t.y)/a,l[0].y=o+x*(r.x-t.x)/a,l)},t.rectContainPoint=function(t,e,r){return r.x>t.x-e.width/2&&r.x<t.x+e.width/2&&r.y>t.y-e.height/2&&r.y<t.y+e.height/2},t.isRectIntersect=function(t,e,r,n){var a=t.x-e.width/2,i=t.y-e.height/2,x=t.x+e.width/2,y=t.y+e.height/2,o=r.x-n.width/2,h=r.y-n.height/2,s=r.x+n.width/2,c=r.y+n.height/2;return!(a>s||x<o||i>c||y<h)},t.isIntersectRectCircle=function(t,e,r,n){var a=t.x-e.width/2,i=t.x+e.width/2,x=t.y-e.height/2,y=t.y+e.height/2,o=r.x,h=r.y;r.x<a?o=a:r.x>i&&(o=i),r.y<x?h=x:r.y>y&&(h=y);var s=r.x-o,c=r.y-h;return Math.sqrt(s*s+c*c)<=n},t.getVectorVerticalDir=function(t,e,r){e?(r.x=t.y,r.y=-1*t.x):(r.x=-1*t.y,r.y=t.x)},t.vectorToRadian=function(t){var e=Math.atan2(t.y,t.x);return e<0&&(e+=2*Math.PI),e},t.vectorToDegree=function(t){var e=this.vectorToRadian(t);return a(e)},t.vectorBetween=function(t,e,n){var a=r.angle(t,e),i=r.angle(t,n),x=r.angle(e,n);return i<a&&x<a},t.getDistance=function(t,e){return r.distance(t,e)},t.getPositionVector=function(t,e,n){var a=null!=n?n:new r;return n.x=e.x-t.x,n.y=e.y-t.y,a.normalize()},t.circleCross=function(t,e,n,a,l){var v=r.distance(t,n);if(v<=Math.abs(e-a))return!1;if(v>=e+a)return!1;var p=i;r.subtract(p,n,t),p.normalize();x.set(i).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(v,2))/(2*v),m=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return f.x=t.x+g*p.x,f.y=t.y+g*p.y,y.x=f.x+m*(n.y-t.y)/v,y.y=f.y-m*(n.x-t.x)/v,o.x=f.x-m*(n.y-t.y)/v,o.y=f.y+m*(n.x-t.x)/v,r.subtract(h,y,t),h.normalize(),r.subtract(s,o,t),s.normalize(),r.subtract(c,y,n),c.normalize(),r.subtract(u,o,n),u.normalize(),w.x=-1*i.y,w.y=i.x,M.x=i.y,M.y=-1*i.x,l[0].set(h),l[1].set(s),l[2].set(c),l[3].set(u),l[4].set(f),!0},t.circleCross2=function(t,e,n,a,l){var v=r.distance(t,n);if(v<=Math.abs(e-a))if(e>a)e=v;else{if(!(e<a))return 1;a=v}if(v>e+a)return 0;var p=i;r.subtract(p,n,t),p.normalize();x.set(i).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(v,2))/(2*v),m=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return f.x=t.x+g*p.x,f.y=t.y+g*p.y,y.x=f.x+m*(n.y-t.y)/v,y.y=f.y-m*(n.x-t.x)/v,o.x=f.x-m*(n.y-t.y)/v,o.y=f.y+m*(n.x-t.x)/v,r.subtract(h,y,t),h.normalize(),r.subtract(s,o,t),s.normalize(),r.subtract(c,y,n),c.normalize(),r.subtract(u,o,n),u.normalize(),w.x=-1*i.y,w.y=i.x,M.x=i.y,M.y=-1*i.x,l[0].set(h),l[1].set(s),l[2].set(c),l[3].set(u),l[4].set(f),2},t.isSegmentIntersectRect=function(e,r,n,a){var i=.5*r.width,x=.5*r.height,y=e.x-i,o=e.x+i,h=e.y-x,s=e.y+x,c=n.x>=y&&n.x<=o&&n.y>=h&&n.y<=s,u=a.x>=y&&a.x<=o&&a.y>=h&&a.y<=s;if(c||u)return!0;for(var w=0,M=[[{x:y,y:h},{x:o,y:h}],[{x:o,y:h},{x:o,y:s}],[{x:o,y:s},{x:y,y:s}],[{x:y,y:s},{x:y,y:h}]];w<M.length;w++){var f=M[w],l=f[0],v=f[1];if(t.isSegmentIntersectSegment(n,a,l,v))return!0}return!1},t.isSegmentIntersectSegment=function(t,e,r,n){var a=function(t,e,r){return(e.x-t.x)*(r.y-t.y)-(e.y-t.y)*(r.x-t.x)},i=a(t,e,r),x=a(t,e,n),y=a(r,n,t),o=a(r,n,e);if(i*x<0&&y*o<0)return!0;var h=function(t,e,r){return Math.min(t.x,e.x)<=r.x&&r.x<=Math.max(t.x,e.x)&&Math.min(t.y,e.y)<=r.y&&r.y<=Math.max(t.y,e.y)};return!(0!==i||!h(t,e,r))||(!(0!==x||!h(t,e,n))||(!(0!==y||!h(r,n,t))||!(0!==o||!h(r,n,e))))},t}());var i=new r,x=new r,y=new r,o=new r,h=new r,s=new r,c=new r,u=new r,w=new r,M=new r,f=new r,l=[{x:0,y:0},{x:0,y:0}];e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUtils5.ts",["cc"],(function(t){var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.Vec2,n=t.Vec3,a=t.toDegree}],execute:function(){e._RF.push({},"6b48es6halLx5nQdDk1q+Fj","ZDUtils5",void 0);t("ZDUtils4",function(){function t(){}return t.isCrossByCircle=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return!(a>e+n||a<Math.abs(e-n))},t.findCircleIntersections=function(t,e,r,a,x){var i=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(i>e+a||i<Math.abs(e-a))return!1;var y=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(i,2))/(2*i),o=Math.sqrt(Math.pow(e,2)-Math.pow(y,2)),h=t.x+y*(r.x-t.x)/i,s=t.y+y*(r.y-t.y)/i,c=null!=x?x:new n;return c.x=h+o*(r.y-t.y)/i,c.y=s-o*(r.x-t.x)/i,!0},t.findCircleIntersectionsTowPos=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(a>e+n||a<Math.abs(e-n))return null;var x=(Math.pow(e,2)-Math.pow(n,2)+Math.pow(a,2))/(2*a),i=Math.sqrt(Math.pow(e,2)-Math.pow(x,2)),y=t.x+x*(r.x-t.x)/a,o=t.y+x*(r.y-t.y)/a;return a===e+n||a===Math.abs(e-n)?null:(l[0].x=y+i*(r.y-t.y)/a,l[0].y=o-i*(r.x-t.x)/a,l[0].x=y-i*(r.y-t.y)/a,l[0].y=o+i*(r.x-t.x)/a,l)},t.rectContainPoint=function(t,e,r){return r.x>t.x-e.width/2&&r.x<t.x+e.width/2&&r.y>t.y-e.height/2&&r.y<t.y+e.height/2},t.isRectIntersect=function(t,e,r,n){var a=t.x-e.width/2,x=t.y-e.height/2,i=t.x+e.width/2,y=t.y+e.height/2,o=r.x-n.width/2,h=r.y-n.height/2,s=r.x+n.width/2,c=r.y+n.height/2;return!(a>s||i<o||x>c||y<h)},t.isIntersectRectCircle=function(t,e,r,n){var a=t.x-e.width/2,x=t.x+e.width/2,i=t.y-e.height/2,y=t.y+e.height/2,o=r.x,h=r.y;r.x<a?o=a:r.x>x&&(o=x),r.y<i?h=i:r.y>y&&(h=y);var s=r.x-o,c=r.y-h;return Math.sqrt(s*s+c*c)<=n},t.getVectorVerticalDir=function(t,e,r){e?(r.x=t.y,r.y=-1*t.x):(r.x=-1*t.y,r.y=t.x)},t.vectorToRadian=function(t){var e=Math.atan2(t.y,t.x);return e<0&&(e+=2*Math.PI),e},t.vectorToDegree=function(t){var e=this.vectorToRadian(t);return a(e)},t.vectorBetween=function(t,e,n){var a=r.angle(t,e),x=r.angle(t,n),i=r.angle(e,n);return x<a&&i<a},t.getDistance=function(t,e){return r.distance(t,e)},t.getPositionVector=function(t,e,n){var a=null!=n?n:new r;return n.x=e.x-t.x,n.y=e.y-t.y,a.normalize()},t.circleCross=function(t,e,n,a,l){var v=r.distance(t,n);if(v<=Math.abs(e-a))return!1;if(v>=e+a)return!1;var p=x;r.subtract(p,n,t),p.normalize();i.set(x).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(v,2))/(2*v),m=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return f.x=t.x+g*p.x,f.y=t.y+g*p.y,y.x=f.x+m*(n.y-t.y)/v,y.y=f.y-m*(n.x-t.x)/v,o.x=f.x-m*(n.y-t.y)/v,o.y=f.y+m*(n.x-t.x)/v,r.subtract(h,y,t),h.normalize(),r.subtract(s,o,t),s.normalize(),r.subtract(c,y,n),c.normalize(),r.subtract(u,o,n),u.normalize(),w.x=-1*x.y,w.y=x.x,M.x=x.y,M.y=-1*x.x,l[0].set(h),l[1].set(s),l[2].set(c),l[3].set(u),l[4].set(f),!0},t.circleCross2=function(t,e,n,a,l){var v=r.distance(t,n);if(v<=Math.abs(e-a))if(e>a)e=v;else{if(!(e<a))return 1;a=v}if(v>e+a)return 0;var p=x;r.subtract(p,n,t),p.normalize();i.set(x).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(v,2))/(2*v),m=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return f.x=t.x+g*p.x,f.y=t.y+g*p.y,y.x=f.x+m*(n.y-t.y)/v,y.y=f.y-m*(n.x-t.x)/v,o.x=f.x-m*(n.y-t.y)/v,o.y=f.y+m*(n.x-t.x)/v,r.subtract(h,y,t),h.normalize(),r.subtract(s,o,t),s.normalize(),r.subtract(c,y,n),c.normalize(),r.subtract(u,o,n),u.normalize(),w.x=-1*x.y,w.y=x.x,M.x=x.y,M.y=-1*x.x,l[0].set(h),l[1].set(s),l[2].set(c),l[3].set(u),l[4].set(f),2},t.isSegmentIntersectRect=function(e,r,n,a){var x=.5*r.width,i=.5*r.height,y=e.x-x,o=e.x+x,h=e.y-i,s=e.y+i,c=n.x>=y&&n.x<=o&&n.y>=h&&n.y<=s,u=a.x>=y&&a.x<=o&&a.y>=h&&a.y<=s;if(c||u)return!0;for(var w=0,M=[[{x:y,y:h},{x:o,y:h}],[{x:o,y:h},{x:o,y:s}],[{x:o,y:s},{x:y,y:s}],[{x:y,y:s},{x:y,y:h}]];w<M.length;w++){var f=M[w],l=f[0],v=f[1];if(t.isSegmentIntersectSegment(n,a,l,v))return!0}return!1},t.isSegmentIntersectSegment=function(t,e,r,n){var a=function(t,e,r){return(e.x-t.x)*(r.y-t.y)-(e.y-t.y)*(r.x-t.x)},x=a(t,e,r),i=a(t,e,n),y=a(r,n,t),o=a(r,n,e);if(x*i<0&&y*o<0)return!0;var h=function(t,e,r){return Math.min(t.x,e.x)<=r.x&&r.x<=Math.max(t.x,e.x)&&Math.min(t.y,e.y)<=r.y&&r.y<=Math.max(t.y,e.y)};return!(0!==x||!h(t,e,r))||(!(0!==i||!h(t,e,n))||(!(0!==y||!h(r,n,t))||!(0!==o||!h(r,n,e))))},t}());var x=new r,i=new r,y=new r,o=new r,h=new r,s=new r,c=new r,u=new r,w=new r,M=new r,f=new r,l=[{x:0,y:0},{x:0,y:0}];e._RF.pop()}}}));

System.register("chunks:///_virtual/ZDUtils6.ts",["cc"],(function(t){var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.Vec2,n=t.Vec3,a=t.toDegree}],execute:function(){e._RF.push({},"4e166KOEVZLy5BTptfuRfhW","ZDUtils6",void 0);var i=t("ZDUtils",function(){function t(){}return t.isCrossByCircle=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return!(a>e+n||a<Math.abs(e-n))},t.findCircleIntersections=function(t,e,r,a,i){var o=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(o>e+a||o<Math.abs(e-a))return!1;var y=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(o,2))/(2*o),x=Math.sqrt(Math.pow(e,2)-Math.pow(y,2)),h=t.x+y*(r.x-t.x)/o,s=t.y+y*(r.y-t.y)/o,c=null!=i?i:new n;return c.x=h+x*(r.y-t.y)/o,c.y=s-x*(r.x-t.x)/o,!0},t.findCircleIntersectionsTowPos=function(t,e,r,n){var a=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(a>e+n||a<Math.abs(e-n))return null;var i=(Math.pow(e,2)-Math.pow(n,2)+Math.pow(a,2))/(2*a),o=Math.sqrt(Math.pow(e,2)-Math.pow(i,2)),y=t.x+i*(r.x-t.x)/a,x=t.y+i*(r.y-t.y)/a;return a===e+n||a===Math.abs(e-n)?null:(p[0].x=y+o*(r.y-t.y)/a,p[0].y=x-o*(r.x-t.x)/a,p[0].x=y-o*(r.y-t.y)/a,p[0].y=x+o*(r.x-t.x)/a,p)},t.rectContainPoint=function(t,e,r){return r.x>t.x-e.width/2&&r.x<t.x+e.width/2&&r.y>t.y-e.height/2&&r.y<t.y+e.height/2},t.isRectIntersect=function(t,e,r,n){var a=t.x-e.width/2,i=t.y-e.height/2,o=t.x+e.width/2,y=t.y+e.height/2,x=r.x-n.width/2,h=r.y-n.height/2,s=r.x+n.width/2,c=r.y+n.height/2;return!(a>s||o<x||i>c||y<h)},t.isIntersectRectCircle=function(t,e,r,n){var a=t.x-e.width/2,i=t.x+e.width/2,o=t.y-e.height/2,y=t.y+e.height/2,x=r.x,h=r.y;r.x<a?x=a:r.x>i&&(x=i),r.y<o?h=o:r.y>y&&(h=y);var s=r.x-x,c=r.y-h;return Math.sqrt(s*s+c*c)<=n},t.getVectorVerticalDir=function(t,e,r){e?(r.x=t.y,r.y=-1*t.x):(r.x=-1*t.y,r.y=t.x)},t.vectorToRadian=function(t){var e=Math.atan2(t.y,t.x);return e<0&&(e+=2*Math.PI),e},t.vectorToDegree=function(t){var e=this.vectorToRadian(t);return a(e)},t.vectorBetween=function(t,e,n){var a=r.angle(t,e),i=r.angle(t,n),o=r.angle(e,n);return i<a&&o<a},t.getDistance=function(t,e){return r.distance(t,e)},t.getPositionVector=function(t,e,n){var a=null!=n?n:new r;return n.x=e.x-t.x,n.y=e.y-t.y,a.normalize()},t.circleCross=function(t,e,n,a,i){var p=r.distance(t,n);if(p<=Math.abs(e-a))return!1;if(p>=e+a)return!1;var v=o;r.subtract(v,n,t),v.normalize();y.set(o).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(p,2))/(2*p),b=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return f.x=t.x+g*v.x,f.y=t.y+g*v.y,x.x=f.x+b*(n.y-t.y)/p,x.y=f.y-b*(n.x-t.x)/p,h.x=f.x-b*(n.y-t.y)/p,h.y=f.y+b*(n.x-t.x)/p,r.subtract(s,x,t),s.normalize(),r.subtract(c,h,t),c.normalize(),r.subtract(u,x,n),u.normalize(),r.subtract(w,h,n),w.normalize(),M.x=-1*o.y,M.y=o.x,l.x=o.y,l.y=-1*o.x,i[0].set(s),i[1].set(c),i[2].set(u),i[3].set(w),i[4].set(f),!0},t.circleCross2=function(t,e,n,a,i){var p=r.distance(t,n);if(p<=Math.abs(e-a))if(e>a)e=p;else{if(!(e<a))return 1;a=p}if(p>e+a)return 0;var v=o;r.subtract(v,n,t),v.normalize();y.set(o).negative();var g=(Math.pow(e,2)-Math.pow(a,2)+Math.pow(p,2))/(2*p),b=Math.sqrt(Math.pow(e,2)-Math.pow(g,2));return f.x=t.x+g*v.x,f.y=t.y+g*v.y,x.x=f.x+b*(n.y-t.y)/p,x.y=f.y-b*(n.x-t.x)/p,h.x=f.x-b*(n.y-t.y)/p,h.y=f.y+b*(n.x-t.x)/p,r.subtract(s,x,t),s.normalize(),r.subtract(c,h,t),c.normalize(),r.subtract(u,x,n),u.normalize(),r.subtract(w,h,n),w.normalize(),M.x=-1*o.y,M.y=o.x,l.x=o.y,l.y=-1*o.x,i[0].set(s),i[1].set(c),i[2].set(u),i[3].set(w),i[4].set(f),2},t}()),o=new r,y=new r,x=new r,h=new r,s=new r,c=new r,u=new r,w=new r,M=new r,l=new r,f=new r,p=[{x:0,y:0},{x:0,y:0}];globalThis.zdt=i,e._RF.pop()}}}));

System.register("chunks:///_virtual/ZdWave.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var s;t("ZdWave",void 0),i._RF.push({},"66270YdnqlF2qahtNQVnHvB","ZdWave",void 0),function(t){t.config=function(){this.id=void 0,this.time=void 0,this.upTreeHp=void 0,this.downTreeHp=void 0,this.fruitsHp=void 0,this.level=void 0,this.row=void 0,this.monsterList1=void 0,this.monsterList2=void 0,this.monsterList3=void 0};t.isConst=!1,t.path="config/ZdWave",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(s||(s=t("ZdWave",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdWave2.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var s;t("ZdWave",void 0),i._RF.push({},"793f7bvs0FE+p8V/IpSRDFR","ZdWave",void 0),function(t){t.config=function(){this.id=void 0,this.wave=void 0,this.time=void 0,this.treeHp=void 0,this.level=void 0,this.row=void 0,this.monsterList1=void 0,this.monsterList2=void 0,this.monsterList3=void 0};t.isConst=!1,t.path="config/ZdWave",t.extPath=void 0,t.data=null,t.dataList=null,t.lastData=null}(s||(s=t("ZdWave",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ZdWeaponConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("ZdWeaponConfig",void 0),t._RF.push({},"284f0XhyO5H7L6B2DU02W4V","ZdWeaponConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.res=void 0,this.width=void 0,this.hp=void 0,this.atk=void 0};i.isConst=!1,i.path="config/ZdWeaponConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("ZdWeaponConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdWeaponConfig2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("ZdWeaponConfig",void 0),t._RF.push({},"4dd6dsdtO1PyrUjzZDX3u7v","ZdWeaponConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.res=void 0,this.width=void 0,this.hp=void 0,this.atk=void 0};i.isConst=!1,i.path="config/ZdWeaponConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("ZdWeaponConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdWeaponConfig3.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZdWeaponConfig",void 0),t._RF.push({},"91651gSqXJEqK+c1EvN7z2r","ZdWeaponConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.res=void 0,this.width=void 0,this.height=void 0,this.hp=void 0,this.atk=void 0,this.prop_id=void 0,this.pickable=void 0};i.isConst=!1,i.path="config/ZdWeaponConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZdWeaponConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdWeaponConfig4.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var n;i("ZdWeaponConfig",void 0),t._RF.push({},"985776pzGVLhYLLuDEiY54V","ZdWeaponConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.res=void 0,this.width=void 0,this.hp=void 0,this.atk=void 0};i.isConst=!1,i.path="config/ZdWeaponConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(n||(n=i("ZdWeaponConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZdWeaponConfig5.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t;i("ZdWeaponConfig",void 0),n._RF.push({},"add50TgTiRMhIjsVum+hwnu","ZdWeaponConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.icon=void 0,this.res=void 0,this.width=void 0,this.hp=void 0,this.atk=void 0};i.isConst=!1,i.path="config/ZdWeaponConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZdWeaponConfig",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/Zhuandao2Binder.ts",["cc","./fairygui.mjs","./UI_Game.ts"],(function(n){var t,u,e;return{setters:[function(n){t=n.cclegacy},function(n){u=n.UIObjectFactory},function(n){e=n.default}],execute:function(){t._RF.push({},"04373unDA5MIpvo+I7NUrNC","Zhuandao2Binder",void 0);n("default",function(){function n(){}return n.bindAll=function(){u.setExtension(e.URL,e)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Zombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./Game11State.ts"],(function(t){var i,e,o,n,a,s,r,l,h,p,u,c,m,b,d,f,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.BoxCollider2D,l=t.Animation,h=t.Node,p=t.CCBoolean,u=t.Label,c=t.RigidBody2D,m=t.Contact2DType,b=t.Component},function(t){d=t.YT},function(t){f=t.Game11State,g=t.EGame11Status}],execute:function(){var y,j,O,v,T,C,w,S,N,D,J,A,_,F,z,x,B,E,I;a._RF.push({},"29d6c4iYNNPg6wXBC/nX4P5","Zombie",void 0);var P=s.ccclass,G=s.property,V=t("MaxHeight",5),Z=t("JumpInterval",2e3),k=t("GravityScale",1.5),L=t("JumpHeight",15);t("Zombie",(y=P("Zombie"),j=G(r),O=G(r),v=G(r),T=G(r),C=G(l),w=G(h),S=G(h),N=G({type:p}),y((A=i((J=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,o(i,"top",A,n(i)),o(i,"front",_,n(i)),o(i,"bot",F,n(i)),o(i,"later",z,n(i)),o(i,"anim",x,n(i)),o(i,"shadow1",B,n(i)),o(i,"shadow2",E,n(i)),o(i,"canJump",I,n(i)),i.frontObjs=[],i.topObjs=[],i.botObjs=[],i.laterObjs=[],i.body=void 0,i.onFloor=!1,i.onWall=!1,i.label=void 0,i.pref=void 0,i.life=10,i.curJumpTime=0,i.inAir=!1,i.jumpCall=void 0,i.speed=void 0,i.timer=0,i.justclamp=!1,i.clampTimer=0,i.endJumpTime=0,i}e(i,t);var a=i.prototype;return a.onLoad=function(){},a.start=function(){var t=this;this.label=this.getComponentInChildren(u),this.body=this.getComponent(c),this.top.on(m.BEGIN_CONTACT,(function(i,e,o){t.top&&(e.sensor||0!=e.tag||t.topObjs.push(e.node))})),this.top.on(m.END_CONTACT,(function(i,e,o){t.top&&(e.sensor||0!=e.tag||t.topObjs.splice(t.topObjs.indexOf(e.node),1))})),this.front.on(m.BEGIN_CONTACT,(function(i,e,o){t.front&&(e.sensor||t.frontObjs.push(e.node),1==e.tag&&(t.onWall=!0))})),this.front.on(m.END_CONTACT,(function(i,e,o){t.front&&(e.sensor||t.frontObjs.splice(t.frontObjs.indexOf(e.node),1),1==e.tag&&(t.onWall=!1,t.curJumpTime=Date.now()-1e3))})),this.bot.on(m.BEGIN_CONTACT,(function(i,e,o){t.bot&&(e.sensor||(t.botObjs.push(e.node),t.jumpCall(!1),t.anim&&t.anim.getState("jump")&&!t.anim.getState("jump").isPlaying&&t.anim.getState("attack")&&!t.anim.getState("attack").isPlaying&&t.anim.play("move")),2==e.tag&&(t.onFloor=!0,t.shadow1&&t.shadow2&&(t.shadow1.active=!0,t.shadow2.active=!0)))})),this.bot.on(m.END_CONTACT,(function(i,e,o){t.bot&&(e.sensor||(t.botObjs.splice(t.botObjs.indexOf(e.node),1),0==t.botObjs.length&&t.canJump&&t.jumpCall(!0)),2==e.tag&&(t.onFloor=!1,t.shadow1&&t.shadow2&&(t.shadow1.active=!1,t.shadow2.active=!1)))})),this.later.on(m.BEGIN_CONTACT,(function(i,e,o){t.later&&(e.sensor||t.laterObjs.push(e.node))})),this.later.on(m.END_CONTACT,(function(i,e,o){t.later&&(e.sensor||(t.laterObjs.splice(t.laterObjs.indexOf(e.node),1),t.curJumpTime=Date.now()-1e3))})),this.body&&(this.body.gravityScale=-k),this.canJump||(this.body.group=f.Inst.getZombieSceneScript().layer_4.group,this.node.parent=f.Inst.getZombieSceneScript().layer_4.node)},a.init=function(t,i){this.frontObjs=[],this.topObjs=[],this.botObjs=[],this.laterObjs=[],this.onFloor=!1,this.onWall=!1,this.life=10,this.curJumpTime=0,this.inAir=!1,this.timer=0,this.justclamp=!1,this.clampTimer=0,this.jumpCall=t,this.speed=i},a.update=function(t){this.timer+=t,this.life-=t,this.timer>1&&(this.timer=0),this.inAir=0==this.botObjs.length;var e=0==this.frontObjs.length;if(this.justclamp&&(this.clampTimer-=t,this.clampTimer<0&&(this.justclamp=!1)),e&&(this.justclamp||this.botObjs.length>0)&&this.frontObjs.length<=0&&this.moveForward(t,d.logic.state.Status==g.Dead&&this.node.x<300),this.canJump){var o=this.getFrontObj(),n=null==o?void 0:o.getComponent(i);this.canJump&&0==this.topObjs.length&&n&&(!n.inAir||n.onFloor)&&this.botObjs.length<V&&Date.now()-this.curJumpTime>Z&&(this.curJumpTime=Date.now(),this.moveUp(t),this.justclamp=!0,this.clampTimer=.4)}},a.getFrontObj=function(){return this.frontObjs[0]},a.moveForward=function(t,i){var e=this.body.linearVelocity,o=this.botObjs.length>0;this.body.linearVelocity=e.clone().set((o?2*this.speed:this.speed)*t*(i?5:1),e.y+(i?50*t:0)),this.anim&&this.anim.getState("jump")&&!this.anim.getState("jump").isPlaying&&this.anim.getState("move")&&!this.anim.getState("move").isPlaying&&this.anim.getState("attack")&&!this.anim.getState("attack").isPlaying&&this.anim.play("move")},a.moveUp=function(t){var i=this.body.linearVelocity;this.body.linearVelocity=i.clone().set(0,L),this.anim.play("jump")},a.moveDown=function(){var t=this.body.linearVelocity;this.body.linearVelocity.set(t.x,t.y-8)},a.isOnFloor=function(){},i}(b)).prototype,"top",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(J.prototype,"front",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(J.prototype,"bot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(J.prototype,"later",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(J.prototype,"anim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(J.prototype,"shadow1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(J.prototype,"shadow2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(J.prototype,"canJump",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=J))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZombieGameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts"],(function(e){var r,i,t,a,l,n,o,s,u,y,c,p,h,b;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,o=e.RigidBody2D,s=e.Node,u=e.CCInteger,y=e.Collider2D,c=e.PhysicsSystem2D,p=e.EPhysics2DDrawFlags,h=e.Component},function(e){b=e.ArrayUtil}],execute:function(){var f,g,m,d,w,_,D,z,C,v,R,P,S,B,F,A,Z,G,E,L;l._RF.push({},"7faedNZR+pF8JxNXXpoQRV5","ZombieGameScene",void 0);var N=n.ccclass,x=n.property;e("ZombieGameScene",(f=N("ZombieGameScene"),g=x(o),m=x(o),d=x(o),w=x(o),_=x(o),D=x(s),z=x(o),C=x([u]),f((P=r((R=function(e){function r(){for(var r,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return r=e.call.apply(e,[this].concat(l))||this,t(r,"showDebugDraw",P,a(r)),t(r,"layer_1",S,a(r)),t(r,"layer_2",B,a(r)),t(r,"layer_3",F,a(r)),t(r,"layer_4",A,a(r)),t(r,"layer_5",Z,a(r)),t(r,"birthPos",G,a(r)),t(r,"wallBody",E,a(r)),t(r,"layerRandom",L,a(r)),r.layers=[],r.timer=0,r}i(r,e);var l=r.prototype;return l.start=function(){this.showDebugDraw&&this.showDebug(),this.layers.push(this.layer_1),this.layers.push(this.layer_2),this.layers.push(this.layer_3),this.layer_4&&this.layers.push(this.layer_4),this.layer_5&&this.layers.push(this.layer_5)},l.update=function(e){},l.setLayerChild=function(e){var r=this,i=b.randomFromArray(this.layerRandom);e.getComponents(o).forEach((function(e){e.group=r.layers[i].group}));e.getComponents(y);e.getComponents(y).forEach((function(e){e.group=r.layers[i].group,e.density=1})),this.layers[i].node.addChild(e)},l.hideWall=function(){this.wallBody&&(this.wallBody.node.active=!1)},l.showDebug=function(){c.instance.debugDrawFlags=p.Aabb|p.Pair|p.CenterOfMass|p.Joint|p.Shape},r}(h)).prototype,"showDebugDraw",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=r(R.prototype,"layer_1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=r(R.prototype,"layer_2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=r(R.prototype,"layer_3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(R.prototype,"layer_4",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=r(R.prototype,"layer_5",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=r(R.prototype,"birthPos",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=r(R.prototype,"wallBody",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(R.prototype,"layerRandom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0,0,0,0,0,1,1,1,2,2,2]}}),v=R))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZTSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDK.ts","./YT.ts"],(function(e){var t,n,r,a,o,s,i;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e.sys},function(e){s=e.default},function(e){i=e.YT}],execute:function(){a._RF.push({},"835c0nxQnxHVoMt/GNFZCdE","ZTSDK",void 0);var c=o.localStorage,u=e("default",function(){function e(){}return e.Post=function(e,t,n){console.log("post",e,t);var r=new XMLHttpRequest,a=!1,o=!1;r.timeout=1e4,r.onreadystatechange=function(){if(4==r.readyState&&!a){o=!0;var t=r.responseText;if(r.status>=200&&r.status<400){var s={};try{s=JSON.parse(t)}catch(e){return void console.log("请求解析失败： ",e)}return console.log("请求成功："+e,"Network",t),n&&n(),s.data}console.log("xhr.status",r.status)}},r.ontimeout=function(t){o||a||(o=!0,a=!0,console.log("请求超时： "+e,t))},r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(t)),console.log("通讯请求："+e,"Network",t)},e.Get=function(e,t,n){console.log("get",e,t);var r=new XMLHttpRequest,a=!1,o=!1;r.timeout=1e4,r.onreadystatechange=function(){if(4==r.readyState&&!a){o=!0;var t=r.responseText;if(r.status>=200&&r.status<400){var s={};try{s=JSON.parse(t)}catch(e){return void console.log("请求解析失败： ",e)}return console.log("请求成功："+e,"Network",t),n&&n(),s.data}console.log("xhr.status",r.status)}},r.ontimeout=function(t){o||a||(o=!0,a=!0,console.log("请求超时： "+e,t))},r.open("GET",e,!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(t)),console.log("GET通讯请求："+e,"Network",t)},e.Init=function(){var t=n(r().mark((function t(){var n,a,o,i,u;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Inst.getRemoteCfg();case 2:return t.next=4,this.WaitSecends(.5);case 4:if(!window.tt){t.next=20;break}if(n=window.tt.getLaunchOptionsSync().query,console.log("query",n),!n||!n.clickid){t.next=10;break}t.next=11;break;case 10:return t.abrupt("return");case 11:n&&n.aadvid&&(this.aadvid=n.aadvid,this.setAAdinfo(this.aadvid)),a=e.getTimestampDay(),o=parseInt(c.getItem("active_tday")),i=parseInt(c.getItem("open_day")),console.log("today",a),console.log("active_day",o),console.log("open day",i),console.log(n),n&&n.clickid&&(u=n.clickid,o?a-o==1?i!=a?(u=c.getItem("clickid"),console.log("次留 active clickid",u),this.Post("https://analytics.oceanengine.com/api/v2/conversion",{event_type:p.next_day_open,context:{ad:{callback:u}},timestamp:Date.now()},(function(){c.setItem("open_day",a+"")}))):console.log("次日非首次登录",u):console.log("激活后第"+(a-o)+"天====进入"):this.Post("https://analytics.oceanengine.com/api/v2/conversion",{event_type:"active",context:{ad:{callback:u}},timestamp:Date.now()},(function(){c.setItem("clickid",u),c.setItem("active_tday",a+""),c.setItem("open_day",a+""),c.setItem("active_tick",Date.now()+"")})));case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.setAAdinfo=function(e){var t=s.Inst.configs.admode;if(t){var n=JSON.parse(t)[e];n&&(this.ECPM=n.ecpm,this.IPU=n.ipu,this.CPMode=n.mode),console.log("")}},e.addAdcount=function(){var e=c.getItem("ad_count"),t=parseInt(e);return t||(t=0),t++,c.setItem("ad_count",t+""),console.log("当前已观看广告次数=="+t),t},e.ReportAd=function(){var e=n(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.platform.reportEvent("tt_ad",{isEnd:t?1:0}),t){e.next=3;break}return e.abrupt("return");case 3:return n=c.getItem("clickid"),e.next=6,this.checkAdditon();case 6:a=e.sent,n&&a?this.Post("https://analytics.oceanengine.com/api/v2/conversion",{event_type:p.game_addiction,context:{ad:{callback:n}},timestamp:Date.now()}):console.log("未达成条件");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.getEcpmRecords=function(){var e=n(r().mark((function e(t,n,a){var o=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WaitSecends(.2);case 2:return e.abrupt("return",new Promise((function(e,r){o.XhrSend("https://minigame.zijieapi.com/mgplatform/api/apps/data/get_ecpm",{open_id:s.Inst.openId,mp_id:s.Inst.appId,access_token:t,date_hour:n},(function(t){var n=JSON.parse(t);n&&n.data&&n.data.records&&n.data.records.length>0&&n.data.records.forEach((function(e){a.push(e.cost)}));e(a)}),(function(e){console.error("get getAllRecords",e)}))})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.getToken=function(){var e=this;return new Promise((function(t,n){e.token?t(e.token):e.XhrSend("https://games.api.gugudang.com/api/get/youxi/token",{appid:s.Inst.appId},(function(n){if(n){var r=JSON.parse(n);r&&0==r.code&&(e.token=r.data.token,t(e.token))}else t("null")}),(function(){}),"GET")}))},e.checkAdditon=function(){var t=n(r().mark((function t(){var n,a,o,s,c,u,p,d,l,f,g,h,m,v,w,x;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.isGM){t.next=2;break}return t.abrupt("return",!0);case 2:if(n=this.addAdcount(),a=this.IPU,o=this.ECPM,s=this.CPMode,n==a){t.next=10;break}return console.log("IPU次数="+n),window.tt&&window.tt.reportAnalytics("checkAdditon",{id:"IPU次数不满足",ipu:n,ecpm:0}),t.abrupt("return",!1);case 10:return t.next=12,e.getLastEcpmRecord();case 12:if((c=t.sent)&&0!=c.length){t.next=16;break}return window.tt&&window.tt.reportAnalytics("checkAdditon",{id:"无广告消费记录",ipu:n,ecpm:0}),t.abrupt("return",!1);case 16:u=0,p=0,t.t0=s,t.next=1===t.t0?21:2===t.t0?23:3===t.t0?27:30;break;case 21:for(d=0;d<c.length;d++)l=c[d],(f=l/1e5*1e3)>p&&(p=f);return t.abrupt("break",31);case 23:for(g=0,h=0;h<c.length;h++)m=c[h],v=m/1e5*1e3,(0==g||v<g)&&(g=v);return p=g,t.abrupt("break",31);case 27:for(w=0;w<c.length;w++)x=c[w],u+=x;return p=u/1e5*1e3/c.length,t.abrupt("break",31);case 30:return t.abrupt("break",31);case 31:return window.tt&&window.tt.reportAnalytics("checkAdditon",{id:"关键行为",ipu:n,ecpm:p}),t.abrupt("return",p>=o);case 33:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getLastEcpmRecord=function(){var e=n(r().mark((function e(){var t,n,a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getLasthours(3),e.next=3,this.getToken();case 3:n=e.sent,a=[],o=0;case 6:if(!(o<t.length)){e.next=13;break}return e.next=9,this.getEcpmRecords(n,t[o],a);case 9:a=e.sent;case 10:o++,e.next=6;break;case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.GetAllEcpm=function(){var e=n(r().mark((function e(t,a){var o=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=1),e.abrupt("return",new Promise(n(r().mark((function e(n,s){var i,c,u,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getToken();case 2:return i=e.sent,c=[],e.next=6,o.getAllRecords(i,t,c,a);case 6:c=e.sent,u=0,c&&c.length>0&&(p=0,c.forEach((function(e){p+=e})),u=p/100/c.length),console.log(t+"ecpm==>",u),n(u);case 11:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.getAllRecords=function(){var e=n(r().mark((function e(t,a,o,i){var c=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=1),e.next=3,this.WaitSecends(.2);case 3:return e.abrupt("return",new Promise(n(r().mark((function e(u,p){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.XhrSend("https://minigame.zijieapi.com/mgplatform/api/apps/data/get_ecpm",{mp_id:s.Inst.appId,access_token:t,date_hour:a,page_no:i,page_size:500},n(r().mark((function e(n){var s,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((s=JSON.parse(n))&&s.data&&s.data.records&&s.data.records.length>0)){e.next=9;break}if((p=s.data.records).forEach((function(e){o.push(e.cost)})),500!=p.length){e.next=9;break}return d=i+1,e.next=8,c.getAllRecords(t,a,o,d);case 8:o=e.sent;case 9:u(o);case 10:case"end":return e.stop()}}),e)}))),(function(e){console.error("get getAllRecords",e)}));case 1:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),e.GetAllPageEcpm=function(){var e=n(r().mark((function e(t,a,o){var s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=1),e.abrupt("return",new Promise(n(r().mark((function e(n,i){var c,u,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,s.getAllRecords(t,a,c,o);case 3:c=e.sent,console.log("all records",c),c.length>0?(u=0,c.forEach((function(e){u+=e})),p=u/1e5*1e3/c.length,console.log(a+" alluser ecpm===>",p),n(p)):n(0);case 6:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.getYYYYMMDD=function(){var e=n(r().mark((function e(){var t,n,a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetBaiduTime();case 2:return t=e.sent,n=t.getMonth()+1,a=t.getDate(),o=t.getFullYear(),e.abrupt("return",1e4*o+100*n+a);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.getHour=function(e){var t=e.getMonth()+1,n=e.getFullYear(),r=e.getDate(),a=e.getHours();return n+"-"+this.getFixedNum(t)+"-"+this.getFixedNum(r)+" "+this.getFixedNum(a)},e.getLasthours=function(e){void 0===e&&(e=3);for(var t=[],n=Date.now(),r=0;r<e;r++){var a=n-36e5*r,o=this.getHour(new Date(a));t.push(o)}return t},e.getFixedNum=function(e){return e<10?"0"+e:e.toString()},e.getTimestampDay=function(){var e=new Date(Date.parse(s.Inst.configs.nowtime));return Math.floor(e.getTime()/864e5)},e.getTimestampHour=function(){var e=n(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetBaiduTime();case 2:return t=e.sent,e.abrupt("return",t.getTime());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.WaitSecends=function(){var e=n(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){e(null)}),1e3*t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.GetBaiduTime=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=new XMLHttpRequest;n.timeout=1e4,n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var r=n.getResponseHeader("Date");r||(r=n.getResponseHeader("date"));var a=Date.parse(r);e(new Date(a))}else t(null)},n.open("GET","https://www.baidu.com",!0),n.send()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.XhrSend=function(e,t,n,r,a){void 0===a&&(a="GET");var o=e+"?";for(var s in t){if(t.hasOwnProperty(s))o+=s+"="+t[s]+"&"}o=o.substring(0,o.length-1),console.log(o);var i=new XMLHttpRequest;i.timeout=1e4,i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var e=i.responseText;n(e)}else console.error("xhr time Error: "+i.status),r(i.status)},i.open(a,o,!0),i.send()},t(e,null,[{key:"Today",get:function(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),r=e.getFullYear();e.getHours();return r+"-"+this.getFixedNum(t)+"-"+this.getFixedNum(n)}},{key:"curHour",get:function(){var e=new Date,t=e.getMonth()+1,n=e.getFullYear(),r=e.getDate(),a=e.getHours();return n+"-"+this.getFixedNum(t)+"-"+this.getFixedNum(r)+" "+this.getFixedNum(a)}},{key:"Yestoday",get:function(){var e=Date.now()-864e5,t=new Date(e),n=t.getMonth()+1,r=t.getDate();return t.getFullYear()+"-"+this.getFixedNum(n)+"-"+this.getFixedNum(r)}}]),e}());u.ECPM=800,u.IPU=4,u.CPMode=1,u.aadvid="",u.token=void 0;var p=e("EAdsEvent",function(e){return e.active="active",e.active_pay="active_pay",e.game_addiction="game_addiction",e.next_day_open="next_day_open",e}({}));window.zt=u;e("ADCfg",(function(){this.advid=void 0,this.ipu=void 0,this.ecpm=void 0,this.mode=void 0}));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWTTools.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectManager3.ts","./Vec3Util.ts"],(function(e){var t,n,r,o,a,i,u,c,l,f,s,h,p,d,y;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e.Quat,o=e.Vec3,a=e.instantiate,i=e.Prefab,u=e.Tween,c=e.assetManager,l=e.math,f=e.v3,s=e.tween,h=e.Layers,p=e.Node},function(e){d=e.EffectManager},function(e){y=e.Vec3Util}],execute:function(){var g;e("ZWTTools",void 0),n._RF.push({},"12986CME+hPk7oMUJUjpxR0","ZWTTools",void 0),function(e,n){var v=new r,m=new o;e.randomContinuousSubArray=function(e,t){if(!e||0===e.length||t<=0)return[];if(t>e.length&&console.error("随机子数组超出原数组长度"),t>=e.length)return[].concat(e);var n=Math.floor(Math.random()*(e.length-t+1));return e.slice(n,n+t)},e.formatNumber=function(e){return e>=1e9?(e/1e9).toFixed(2).replace(/\.0$/,"")+"b":e>=1e6?(e/1e6).toFixed(2).replace(/\.0$/,"")+"m":e>=1e3?(e/1e3).toFixed(2).replace(/\.0$/,"")+"k":e.toString()};var x=function(){function e(){this.pool=new Map,this._fixMap={"cc.SpriteFrame":"/spriteFrame","cc.Texture2D":"/texture"},this._emptyFix=""}var t=e.prototype;return t.getByPool=function(e,t,n){var r=this.pool.get(e),o=null;return(o=r&&r.length>0?r.pop():a(this.get(t,n,i))).active=!0,o},t.pushByPool=function(e,t){t.active=!1;var n=this.pool.get(e);n||(n=[],this.pool.set(e,n)),n.push(t)},t.clear=function(){this.pool.forEach((function(e,t){e.forEach((function(e){u.stopAllByTarget(e),e.destroy()}))})),this.pool.clear()},t.get=function(e,t,n){return e=this._fixPath(e,n),c.getBundle(t).get(e,n)},t._fixPath=function(e,t){if(t){var n=t.prototype.__classname__;return e+(this._fixMap[n]||this._emptyFix)}return e},e}();n=x,x.Inst=new n,e.PoolManager=x,e.generateCatmullRomPoints=function(e,t){if(t=1/t,!e||e.length<2||t<=0)return console.warn("输入参数非法"),[];for(var n=[e[0].clone()].concat(e,[e[e.length-1].clone()]),r=[],a=[0],i=0,u=0;u<n.length-3;u++)for(var c=n[u],l=n[u+1],f=n[u+2],s=n[u+3],h=0;h<=1;h+=.02){var p=h*h,d=p*h,y=.5*(2*l.x+(-c.x+f.x)*h+(2*c.x-5*l.x+4*f.x-s.x)*p+(-c.x+3*l.x-3*f.x+s.x)*d),g=.5*(2*l.y+(-c.y+f.y)*h+(2*c.y-5*l.y+4*f.y-s.y)*p+(-c.y+3*l.y-3*f.y+s.y)*d),v=new o(y,g);if(r.push(v),r.length>1)i+=o.distance(r[r.length-2],v),a.push(i)}for(var m=[],x=Math.floor(i*t),w=0;w<=x;w++){for(var M=w/x*i,T=0;T<a.length-1&&a[T+1]<M;)T++;var _=a[T],P=(M-_)/(a[T+1]-_),E=r[T],b=r[T+1],F=E.x+(b.x-E.x)*P,U=E.y+(b.y-E.y)*P;m.push(new o(F,U))}return m},e.eulerToVec=function(e,t,n){return r.fromEuler(v,e.x,e.y,e.z),n||(n=new o),o.transformQuat(n,t,v),n},e.quatToVec=function(e,t,n){return n||(n=new o),o.transformQuat(n,t,e),n},e.forwardToEuler=function(e,t,n){n||(n=new o);var a=new r;r.fromViewUp(a,m.set(e).normalize(),t);var i=new o;return r.toEuler(i,a),n.set(l.toDegree(i.x),l.toDegree(i.y),l.toDegree(i.z))},e.forwardToQuat=function(e,t,n){void 0===t&&(t=o.UP);var a=n||new r;return m.set(e).normalize(),m.lengthSqr()<1e-5?r.IDENTITY:(r.fromViewUp(a,m,t),a)},e.randomIntBetween=function(e,t){var n=Math.min(e,t),r=Math.max(e,t);return Math.floor(Math.random()*(r-n+1))+n},e.findChildByName=function e(n,r){for(var o,a=t(n.children);!(o=a()).done;){var i=o.value;if(i.name===r)return i;var u=e(i,r);if(u)return u}return null},e.bezierMoveToPos=function(e,t,n,r,o,a){var i=f(),u=f().set(n);s(n).to(t,o,{onUpdate:function(t,n){y.bezier2(u,r,o,n,i),t.y=i.y,e.worldPosition=t},easing:"cubicOut"}).call((function(){a&&a()})).tag(88888).start()},e.playEffect=function(e,t,n,r){void 0===r&&(r=h.Enum.UI_2D);var o=d.PlayEffect(e,t,n,r);return g.batchesAdd(n,o.node),o.node.setWorldPosition(t),o.node},e.batchesAdd=function(e,t){var n=e.getChildByName("__"+t.name);n||((n=new p).name="__"+t.name,e.addChild(n),n.setPosition(0,0,0),n.layer=t.layer),t.parent=n}}(g||(g=e("ZWTTools",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLAudio.ts",["cc","./ZzlAudioConfig.ts","./YT.ts","./ZZLGameState.ts"],(function(t){var a,e,i,n;return{setters:[function(t){a=t.cclegacy},function(t){e=t.ZzlAudioConfig},function(t){i=t.YT},function(t){n=t.ZZLGameState}],execute:function(){a._RF.push({},"9e7bfdRmldNSLQyHfcKW2dc","ZZLAudio",void 0),t("ZZLAudio",function(){function t(){}return t.play=function(t,a){void 0===a&&(a=.16);var u=e.data[t];if(u)if(0==u.type)i.audio.playMusicByPath(u.path,"sub_zzl");else{var o=this.lastPlay.get(t)||0;if(t>=6){var c=n.Inst.level.weapon,s=Math.ceil(1/c.calcAtkCD())+1;(a=c.props.headLifeTime/s)<.05&&(a=.05)}if(Date.now()-o<1e3*a)return;this.lastPlay.set(t,Date.now()),i.audio.playEffectByPath(u.path,"sub_zzl")}},t}()).lastPlay=new Map,a._RF.pop()}}}));

System.register("chunks:///_virtual/ZzlAudioConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZzlAudioConfig",void 0),t._RF.push({},"df331MXw5ZHXLuCymjrHUb5","ZzlAudioConfig",void 0),function(i){i.config=function(){this.id=void 0,this.path=void 0,this.bundle=void 0,this.type=void 0};i.isConst=!1,i.path="config/ZzlAudioConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZzlAudioConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLBattleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_Battle6.ts","./ViewBase.ts","./YT.ts","./SubGameData.ts"],(function(t){var i,n,e,u,o,s,c;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy},function(t){u=t.default},function(t){o=t.ViewBase},function(t){s=t.YT},function(t){c=t.SubGameData}],execute:function(){e._RF.push({},"7b86aWl+3hKm5hjUxr5L+Mm","ZZLBattleView",void 0);t("ZZLBattleView",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var o=e.prototype;return o._preShowAnim=function(){this.ui.m_btn_pause.onClick(this.onClickPause.bind(this)),this.ui.m_btn_setting.onClick(this.onClickSetting.bind(this)),this.ui.m_txt_path.text=c.getExtraGameTips(501)},o._afterShowAnim=function(){},o._preHideAnim=function(){},o._afterHideAnim=function(){},o.onClickSetting=function(){s.logic.pause(),s.gui.showSetting((function(t){t&&s.logic.onEnterHall(),s.logic.resume()}))},o.onClickPause=function(){s.logic.Paused?s.logic.resume():s.logic.pause()},n(e,null,[{key:"instance",get:function(){return this._getInstance(e,u)}}]),e}(o));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLBody.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZZLColliderBase.ts","./YT.ts","./ZZLEffect.ts","./MathUtil.ts","./ZZLAudio.ts"],(function(t){var e,i,s,o,h,a,n,p,d,r,l,c,v,P,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,o=t._decorator,h=t.Animation,a=t.sp,n=t.Collider2D,p=t.Node,d=t.v3,r=t.Vec2},function(t){l=t.ZZLColliderBase},function(t){c=t.YT},function(t){v=t.ZZLEffect},function(t){P=t.MathUtil},function(t){u=t.ZZLAudio}],execute:function(){var f;s._RF.push({},"09d99Hh9b5JrrSl7Oj08lcs","ZZLBody",void 0);var g=o.ccclass;o.property,t("ZZLBody",g("ZZLBody")(f=function(t){function s(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).pathIndex=0,e.pathPos=0,e.pathPrev=void 0,e.pathMoveState=1,e.prevPos=d(),e.velocity=new r,e.game=void 0,e.path=void 0,e.isHead=!1,e.groupId=0,e.wakeUp=!1,e.config=void 0,e.speedUptime=0,e.speedRate=1,e.collider=void 0,e.owner=void 0,e.anim=void 0,e.animHead=void 0,e}e(s,t);var o=s.prototype;return o.onLoad=function(){this.anim=this.node.getComponent(h),this.animHead=this.node.getComponentInChildren(a.Skeleton),this.collider=this.node.getComponent(n),this.collider.sensor=!1},o.startMoveByPath=function(t){this.config=t,this.speacial=t.special,this.isHead&&(this.wakeUp=!0),this.game=c.logic.state,this.velocity.set(0,0),this.pathIndex=this.game.level.bornedCnt,this.syncPathPos(),this.enabled=!0},o.update=function(t){if(this.enabled){var e=this.pathPos/this.game.level.path.distance;this.speedUptime>0&&(this.speedUptime-=t,this.speedUptime<=0&&(this.speedUptime=0,this.speedRate=1,this.onMove())),e<1?this.checkPath(t):(console.error("end"),this.game.level.onGameEnd(!1),c.logic.pause())}},o.adjustRotationByPos=function(t){if(void 0===t&&(t=225),this.prevPos||(this.prevPos=this.node.worldPosition.clone()),!this.node.worldPosition.equals(this.prevPos)){var e=this.node.worldPosition.clone().subtract(this.prevPos),i=P.rad2Deg*this.angleObject(e)-90+t;this.node.setRotationFromEuler(0,0,i),this.prevPos=this.node.worldPosition.clone()}},o.angleObject=function(t,e){return void 0===e&&(e={x:0,y:0}),Math.atan2(e.y-t.y,e.x-t.x)},o.syncPathPos=function(){var t=this.pathPos/this.game.level.path.distance,e=this.game.level.path.getPointAt(t);if(this.isHead){var i=this.game.level.getTurnStep(this.pathPos);i>-1&&(this.node.scale_x=i%2==0?-1:1)}this.node.setPosition(e.x,e.y),this.adjustRotationByPos()},o.speedUp=function(t,e){void 0===t&&(t=2),void 0===e&&(e=5),this.speedUptime=t,this.speedRate=e},o.onHit=function(){this.enabled&&(this.isHead?this.animHead.setAnimation(0,"idle_2",!0):this.anim.play("onhit"))},o.onMove=function(){this.enabled&&this.isHead&&this.animHead.setAnimation(0,"idle_1",!0)},o.checkPath=function(t){var e=this;if(this.game.level.head&&(this.enabled||0!=this.speedRate)){if(!this.wakeUp&&!this.isHead&&this.game.level.tail){if(this.game.level.tail.pathPos-this.pathPos<this.config.space)return;this.wakeUp=!0}if(!this.pathPrev){var i=this.game.level.enemies.filter((function(t){return t.wakeUp&&t.pathIndex>e.pathIndex&&t.node}));i.length>0?(this.pathPrev=i.sort((function(t,e){return t.pathIndex-e.pathIndex}))[0],this.pathPrev.node.on(p.EventType.NODE_DESTROYED,(function(){e.pathPrev=null}))):this.pathMoveState=0,this.node.active=!0}if(this.pathPrev){var s=this.pathPos-this.pathPrev.pathPos,o=this.config.space;if(-1==this.pathPrev.pathMoveState)s>o?(this.pathPos=this.pathPrev.pathPos+o,this.syncPathPos(),this.pathMoveState=-1):this.pathMoveState=0;else if(s<o-1)this.pathPos+=t*this.pathSpeed,this.syncPathPos(),this.pathMoveState=0;else if(s>o){this.pathPos=this.lerp(this.pathPos,this.pathPrev.pathPos+o,.1),this.syncPathPos(),this.pathMoveState=-1}else this.pathPos+=t*this.pathSpeed,this.syncPathPos(),this.pathMoveState=1}else this.pathPos+=t*this.pathSpeed,this.syncPathPos(),this.pathMoveState=1;this.prevPos=this.node.position.clone()}},o.ondeath=function(){this.enabled=!1,v.create().show("effDragonDie",this.node.worldPosition),u.play(3),this.node&&this.node.destroy()},o.lerp=function(t,e,i){return t+(e-t)*i},i(s,[{key:"pathSpeed",get:function(){return this.game.level.config.speed*this.speedRate}}]),s}(l))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLBodyGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZzlDragonConfig.ts","./Awaiters.ts","./ZZLDamage.ts","./YT.ts"],(function(t){var i,o,e,s,n,a,h,r;return{setters:[function(t){i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){e=t.cclegacy,s=t.Vec3},function(t){n=t.ZzlDragonConfig},function(t){a=t.Awaiters},function(t){h=t.ZZLDamage},function(t){r=t.YT}],execute:function(){e._RF.push({},"4d5d29rWzxCtI1uUEG0OLxK","ZZLBodyGroup",void 0);var c=new s;t("ZZLBodyGroup",function(){function t(){this.hp=void 0,this.boxId=void 0,this.bodys=[],this.isHead=!1,this.hpLabel=void 0,this.dead=!1,this.config=void 0,this.box=void 0,this.bodys=[]}var e=t.prototype;return e.initBodys=function(t,i,o){void 0===o&&(o=!1),this.isHead=o,this.bodys=i,o||(this.config=n.data[t],this.boxId=this.config.box_id,this.hp=this.config.blood)},e.bindHud=function(t){this.hpLabel=t},e.bindBox=function(t){this.box=t},e.onDamage=function(t,i){if(!(this.hp<=0)){var o=t+(i?t:0);this.hp-=o,this.bodys.forEach((function(t){return t.onHit()}));var e=r.logic.state.level.weapon;h.create().show(t,e.topNode.worldPosition,i,.3,this.config.special&&1==e.props.headLevel),this.hp<=0&&(this.hp=0,this.onDead())}},e.onDead=function(){var t=i(o().mark((function t(){var i,e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.dead=!0,this.hpLabel.node.active=!1,r.logic.state.level.pauseMove(1,!0),!(this.config.box_id>0)){t.next=7;break}return t.next=6,r.logic.state.level.onOpenBox(this.config.box_id,this.box.worldPosition);case 6:this.box.destroy();case 7:r.logic.state.level.weapon.waiteTime(.4),i=0;case 9:if(!(i<this.bodys.length)){t.next=17;break}return e=this.bodys[i],t.next=13,a.Seconds(.05);case 13:e.ondeath();case 14:i++,t.next=9;break;case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.clacPos=function(){var t=Math.ceil(this.bodys.length/2),i=t-1;return c.set(this.bodys[t].node.worldPosition).add(this.bodys[i].node.worldPosition).multiplyScalar(.5),c},e.startMoveByPath=function(t){this.bodys.forEach((function(i){return i.startMoveByPath(t)}))},e.update=function(t){if(!this.dead&&(this.bodys.forEach((function(i){return i.update(t)})),!this.isHead)){if(this.bodys.length<2)return this.hpLabel&&(this.hpLabel.node.active=!1),void(this.box&&(this.box.active=!1));var i=this.clacPos();this.hpLabel&&(this.hpLabel.node.active=!0,this.hpLabel.string=this.hp.toString(),this.hpLabel.node.worldPosition=i),this.box&&(this.box.active=!0,this.box.worldPosition=i)}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLBox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,c,s,a,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,s=e.Sprite,a=e.SpriteFrame,p=e.Component}],execute:function(){var l,u,f,y,Z,h,v;o._RF.push({},"c7118evxZdJpIozvIpZrPzs","ZZLBox",void 0);var b=c.ccclass,x=c.property;e("ZZLBox",(l=b("ZZLBox"),u=x(s),f=x([a]),l((h=r((Z=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,i(r,"icon",h,n(r)),i(r,"sps",v,n(r)),r}return t(r,e),r.prototype.initBox=function(e){this.icon.spriteFrame=this.sps[e]},r}(p)).prototype,"icon",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(Z.prototype,"sps",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=Z))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZzlBoxConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZzlBoxConfig",void 0),t._RF.push({},"853d5N86pZHQaC3aqEnZyeJ","ZzlBoxConfig",void 0),function(i){i.config=function(){this.id=void 0,this.hp=void 0,this.list=void 0};i.isConst=!1,i.path="config/ZzlBoxConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZzlBoxConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZZLColliderBase.ts"],(function(t){var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator},function(t){o=t.ZZLColliderBase}],execute:function(){var u;r._RF.push({},"73687ljv71GGaSaC9+qoc98","ZZLBullet",void 0);var l=n.ccclass;n.property,t("ZZLBullet",l("ZZLBullet")(u=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},r}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLColliderBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,o,r,t;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,t=e.Component}],execute:function(){var c;o._RF.push({},"7ddf5W+1/tBT6cQcGGWq5TS","ZZLColliderBase",void 0);var l=r.ccclass;r.property,e("ZZLColliderBase",l("ZZLColliderBase")(c=function(e){function o(){for(var n,o=arguments.length,r=new Array(o),t=0;t<o;t++)r[t]=arguments[t];return(n=e.call.apply(e,[this].concat(r))||this).speacial=!1,n.collider=null,n}n(o,e);var r=o.prototype;return r.start=function(){},r.onAwake=function(){},r.onDamage=function(e,n){},o}(t))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLDamage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var e,o,n,i,l,a,s,r,c,h,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Label,l=t.Pool,a=t.instantiate,s=t.Vec3,r=t.tween,c=t.Tween,h=t.Component},function(t){u=t.YT}],execute:function(){var d,p;o._RF.push({},"61242ejhOhBjpxv7Z1TDqOb","ZZLDamage",void 0);var m=n.ccclass;n.property,t("ZZLDamage",m("ZZLDamage")(((p=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).label=null,e.timer=1,e}e(o,t);var n=o.prototype;return n.onLoad=function(){this.label=this.node.getComponent(i)},o.InitPool=function(t){this.parent=t,this.pool||(this.pool=new l((function(){return a(u.res.get("prefabs/Damage","sub_zzl")).addComponent(o)}),50,(function(t){t.node.active=!1})))},o.clearPool=function(){this.pool.destroy()},o.create=function(){var t=o.pool.alloc();return t.node.setParent(this.parent),t},n.show=function(t,e,o,n,i){void 0===n&&(n=.4),void 0===i&&(i=!1);var l=t+(o?t:0);this.label.string=(o?"爆":"")+l.toString(),i&&(this.label.string=l.toString()+"压"),this.timer=.3,this.node.setWorldPosition(e),this.node.active=!0,this.node.setScale(s.ONE.clone().multiplyScalar(.1));var a=e.clone();a.y+=100*Math.random()-50,a.x+=50*(Math.random()-.5),r(this.node).to(n,{worldPosition:a,scale:s.ONE.clone().multiplyScalar(1.5)},{easing:"quintOut"}).start()},n.showProperty=function(t,e,o,n,i,l){void 0===i&&(i=.4),this.label.string=t,this.timer=i,this.node.setWorldPosition(e),this.node.active=!0,this.node.setScale(s.ONE.clone().multiplyScalar(.1)),r(this.node).sequence(r(this.node).to(i/2,{worldPosition:n,scale:s.ONE.clone().multiplyScalar(1)},{easing:"expoOut"}),r(this.node).delay(.1),r(this.node).to(i/2,{worldPosition:o,scale:s.ONE.clone().multiplyScalar(1)},{easing:"expoOut"})).call(l).start()},n.collect=function(){this.timer=0,c.stopAllByTarget(this.node),this.node.active=!1,this.node.setScale(s.ONE),o.pool.free(this)},n.update=function(t){this.timer-=t,this.timer<=0&&(this.node.active=!1,this.collect())},o}(h)).pool=void 0,p.parent=null,d=p))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLDragon.ts",["cc","./ZZLAudio.ts","./ZZLGameState.ts","./ZZLBodyGroup.ts"],(function(o){var t,n,i,s;return{setters:[function(o){t=o.cclegacy},function(o){n=o.ZZLAudio},function(o){i=o.ZZLGameState},function(o){s=o.ZZLBodyGroup}],execute:function(){t._RF.push({},"3728eDKmq9JDrgOvvt1x0KT","ZZLDragon",void 0);o("ZZLDragon",function(){function o(){this.bodys=void 0,this.bodys=new Map}var t=o.prototype;return t.addBodyGroup=function(o,t,n){void 0===n&&(n=!1);var i=new s;i.initBodys(o,t,n),this.bodys.set(o,i)},t.addBody=function(o,t,n){void 0===n&&(n=!1);var i=!1;return this.bodys.has(o)?this.bodys.get(o).bodys.push(t):(this.addBodyGroup(o,[t],n),i=!0),t.owner=this.bodys.get(o),i},t.speedUp=function(o,t,n){},t.onHitBody=function(o,t,s){void 0===s&&(s=!1),this.bodys.get(o.groupId).onDamage(t,s),this.bodys.get(0).bodys.forEach((function(o){o.onHit()})),n.play(6);var d=0;this.bodys.forEach((function(o,t){o.dead&&d++})),d==this.bodys.size-1&&i.Inst.level.onGameEnd(!0,1)},t.update=function(o){this.bodys.forEach((function(t,n){t.update(o)}))},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ZzlDragonConfig.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){var t;i("ZzlDragonConfig",void 0),o._RF.push({},"408b11hZ15FT7l66i4Z+CTA","ZzlDragonConfig",void 0),function(i){i.config=function(){this.id=void 0,this.blood=void 0,this.special=void 0,this.type=void 0,this.box_id=void 0,this.body_path=void 0,this.count=void 0,this.space=void 0};i.isConst=!1,i.path="config/ZzlDragonConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(t||(t=i("ZzlDragonConfig",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts"],(function(t){var n,o,e,i,c,r,s,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Animation,c=t.Pool,r=t.instantiate,s=t.Component},function(t){a=t.YT}],execute:function(){var l,u;o._RF.push({},"0cb3cRUJCtPULLwgp3eRLn6","ZZLEffect",void 0);var f=e.ccclass;e.property,t("ZZLEffect",f("ZZLEffect")(((u=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).anim=null,n}n(o,t);var e=o.prototype;return e.onLoad=function(){this.anim=this.node.getComponent(i)},o.InitPool=function(t){this.parent=t,this.pool||(this.pool=new c((function(){return r(a.res.get("prefabs/effNode","sub_zzl")).addComponent(o)}),30,(function(t){t.node.active=!1})))},o.clearPool=function(){this.pool.destroy()},o.create=function(){var t=o.pool.alloc();return t.node.setParent(this.parent),t},e.show=function(t,n){var o=this;this.node.setWorldPosition(n),this.node.active=!0,this.anim.on(i.EventType.FINISHED,(function(){o.collect()}),this),this.anim.play(t)},e.collect=function(){this.node.active=!1,o.pool.free(this)},o}(s)).pool=void 0,u.parent=null,l=u))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLEndView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_End3.ts","./ViewBase.ts","./YT.ts","./ZzlLevelConfig.ts"],(function(t){var e,n,a,i,o,s,r,u,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){s=t.default},function(t){r=t.ViewBase},function(t){u=t.YT},function(t){c=t.ZzlLevelConfig}],execute:function(){o._RF.push({},"e459bnRTIBGsqWESTZdhxty","ZZLEndView",void 0);t("ZZLEndView",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var r=o.prototype;return r._preShowAnim=function(){var t,e=this._uiParam;this.ui.m_win.selectedIndex=e.isWin?1:0,this.ui.m_txt_damage.text=e.totalDamage.toString()+"",this.ui.m_txt_timer.text=Math.floor(1e3*e.time).toHHMMSSCN(),u.data.subData.getInfo(501).data?u.data.subData.getInfo(501).data.max_damage<e.totalDamage&&(u.data.subData.getInfo(501).data.max_damage=e.totalDamage,u.data.subData.save=!0):u.data.subData.getInfo(501).data={max_damage:e.totalDamage},this.ui.m_txt_score.text=null==(t=u.data.subData.getInfo(501).data)?void 0:t.max_damage.toString(),this.ui.m_adBtn.onClick(this.retry,this),this.ui.m_noBtn.onClick(this.onBack,this),this.ui.m_btnNext.onClick(this.onNext,this)},r.retry=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.game.watchAD("钻钻龙-重开");case 2:if(!t.sent){t.next=5;break}this.hide(),u.logic.onRestartGame(501,u.logic.state.level.config.id);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onBack=function(){this.hide(),u.logic.onEnterHall()},r.onNext=function(){this.hide();var t=Math.min(u.logic.state.level.config.id+1,c.dataList.length);u.logic.onEnterMoreGame(501,t)},r._afterShowAnim=function(){},r._preHideAnim=function(){},r._afterHideAnim=function(){},n(o,null,[{key:"instance",get:function(){return this._getInstance(o,s)}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLEntityBase.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"b76edDQTeJH+5C/NzUvu/Yz","ZZLEntityBase",void 0);n("ZZLEntityBase",function(){function n(){this.node=void 0}var t=n.prototype;return t.onInit=function(){},t.onDamage=function(){},t.onDead=function(){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurveTexture.ts","./LinearPath4.ts","./ZzlDragonConfig.ts","./YT.ts","./ZZLBody.ts","./Awaiters.ts","./ZZLWeapon.ts","./ZZLDragon.ts","./ZZLDamage.ts","./ZzlBoxConfig.ts","./ArrayUtil.ts","./ZZLMine.ts","./ZzlGameConst.ts","./ZZLEffect.ts","./ZZLAudio.ts","./ZZLEndView.ts","./ZZLBox.ts"],(function(t){var e,n,i,o,a,r,s,u,h,c,l,p,d,f,m,y,g,b,w,v,P,Z,x,C,E,L,B,S,k,z,T,_,R,U,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,h=t._decorator,c=t.Vec3,l=t.Vec2,p=t.Node,d=t.CCBoolean,f=t.Label,m=t.v3,y=t.instantiate,g=t.Prefab,b=t.Component,w=t.PhysicsSystem2D},null,function(t){v=t.LinearPath},function(t){P=t.ZzlDragonConfig},function(t){Z=t.YT},function(t){x=t.ZZLBody},function(t){C=t.Awaiters},function(t){E=t.ZZLWeapon},function(t){L=t.ZZLDragon},function(t){B=t.ZZLDamage},function(t){S=t.ZzlBoxConfig},function(t){k=t.ArrayUtil},function(t){z=t.ZZLMine},function(t){T=t.ZzlGameConst},function(t){_=t.ZZLEffect},function(t){R=t.ZZLAudio},function(t){U=t.ZZLEndView},function(t){N=t.ZZLBox}],execute:function(){var D,H,A,M,I,O,W,G,V,F,Y,j,q,J,X,K;u._RF.push({},"a6dd8pfS8xAJqnu6XWSYam4","ZZLevel",void 0);var Q=h.ccclass,$=h.property,tt=new c;t("ZZLevel",(D=Q("ZZLevel"),H=$([l]),A=$({displayName:"龙-根节点",type:p}),M=$(d),I=$(E),O=$(f),W=$({type:p,displayName:"加速节点"}),G=$({type:p,displayName:"转向节点"}),D((Y=e((F=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"pathPoints",Y,o(e)),i(e,"enemyRoot",j,o(e)),e._edit=!1,i(e,"weapon",q,o(e)),i(e,"bulletCount",J,o(e)),i(e,"speedUpNode",X,o(e)),i(e,"turnNode",K,o(e)),e.config=void 0,e.path=void 0,e.bornedCnt=0,e.enemies=void 0,e.dragon=void 0,e.hudRoot=void 0,e.boxRoot=void 0,e.turnPoses=[],e._enemyAllSpawned=!1,e.delay=.2,e.waitEnemy=[],e.canPlay=!0,e.gameTime=0,e.cameraStartPos=void 0,e.offset=m(0,300,0),e}n(e,t);var u=e.prototype;return u.onInit=function(){var t=r(s().mark((function t(e){var n,i,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.gameTime=0,w.instance.enable=!0,this.canPlay=!1,this.dragon=new L,this.waitEnemy=[],this.enemies=[],this.config=e,this.hudRoot=this.node.getChildByName("hudRoot"),this.boxRoot=this.node.getChildByName("boxRoot"),B.InitPool(this.hudRoot),_.InitPool(this.hudRoot),this.path=new v(this.pathPoints),this.weapon.init(this.config.weapon_id),this.bulletCount.string=this.weapon.props.bulletCount.toString(),n=this.config.bodys[0];n<=this.config.bodys[1];n++)for(i=P.data[n],o=0;o<i.count;o++)this.waitEnemy.push(i);return this.cameraStartPos=Z.logic.state.camera.node.worldPosition.clone(),t.next=18,this.spawerEnemy();case 18:return t.next=20,C.Seconds(.1);case 20:return R.play(2),a=T.data.startWaite,this.turnPoses=this.calcTurnPos(),this.speedUp(this.config.start_time,this.calcSpeedUpScale()),this.node.on(p.EventType.TOUCH_END,this.onTouchEnd,this),this.node.getComponentsInChildren(z).forEach((function(t){t.init()})),t.next=28,C.Seconds(a);case 28:this.weapon.rotate(),this.canPlay=!0;case 30:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.calcSpeedUpScale=function(){for(var t=this.speedUpNode.position,e=0,n=0,i=0;i<this.path.points.length;i++){var o=this.path.points[i],a=c.distance(t,m(o.x,o.y));0==e?e=a:a<e&&(e=a,n=i)}return this.path.lengthList[n]/this.config.start_time/this.config.speed},u.calcTurnPos=function(){for(var t=[0],e=this.turnNode.children.map((function(t){return t.position})),n=0;n<e.length;n++){for(var i=e[n],o=0,a=0,r=0;r<this.path.points.length;r++){var s=this.path.points[r],u=c.distance(i,m(s.x,s.y));0==o?o=u:u<o&&(o=u,a=r)}t.push(this.path.lengthList[a])}return t},u.getTurnStep=function(t){var e=-1;if(t>=this.turnPoses[this.turnPoses.length-1])return this.turnPoses.length;for(var n=1;n<this.turnPoses.length;n++){var i=this.turnPoses[n-1],o=this.turnPoses[n];if(t>i&&o>t){e=n;break}}return e},u.clear=function(){B.clearPool(),_.clearPool(),this.dragon=null,this.enemies=[],this.path=null,this.weapon=null,this.bulletCount.string="0",this.node.off(p.EventType.TOUCH_END,this.onTouchEnd,this)},u.onTouchEnd=function(){if(!this.canPlay)return Z.gui.toast("入场动画准备中，请稍等！");this.weapon.shoot(),this.refreshBUlletCnt()},u.refreshBUlletCnt=function(){this.bulletCount.string=this.weapon.props.bulletCount.toString()},u.onGameEnd=function(){var t=r(s().mark((function t(e,n){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),e?console.log("通关"):(console.log("失败"),R.play(4)),i={isWin:e,totalDamage:this.calcDamage(),time:this.gameTime},Z.logic.pause(),this.canPlay=!1,t.next=7,C.Seconds(n);case 7:U.instance.show(i);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),u.calcDamage=function(){var t=0;return this.dragon.bodys.forEach((function(e){e.isHead||(t+=e.config.blood-e.hp)})),t},u.update=function(t){this.gameTime+=t,this.delay>0&&(this.delay-=t,this.delay<=0&&(this.delay=.2)),this.dragon&&this.dragon.update(t),this.weapon&&this.weapon.update(t),this.moveCamera()},u.spawerEnemy=function(){var t=r(s().mark((function t(){var e,n,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.spawerHead(),t.next=3,C.NextFrame();case 3:for(e=0;e<this.waitEnemy.length;e++)n=this.waitEnemy[e],i=y(Z.res.get(n.body_path,"sub_zzl")),this.enemyRoot.addChild(i),i.setSiblingIndex(0),o=i.getComponent(x),this.enemies.push(o),this.bornedCnt++,o.groupId=n.id,i.setPosition(this.path.getPointAt(0)),o.startMoveByPath(n),o.speedUptime=2,o.speedRate=2,this.dragon.addBody(n.id,o)&&this.addHud(o),n.box_id>0&&this.addBox(o,"rare"==n.type?1:0);console.log("bornedCnt",this.enemies.map((function(t){return t.pathPos})));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.addHud=function(t){if(!t.owner.hpLabel){var e=y(Z.res.get("prefabs/HP","sub_zzl",g));this.hudRoot.addChild(e),t.owner.bindHud(e.getComponent(f))}},u.addBox=function(t,e){if(void 0===e&&(e=0),!t.owner.box){var n=y(Z.res.get("prefabs/Box","sub_zzl",g));this.boxRoot.addChild(n),n.getComponent(N).initBox(e),t.owner.bindBox(n)}},u.spawerHead=function(){var t=y(Z.res.get(this.config.head_path,"sub_zzl"));this.enemyRoot.addChild(t);var e=t.getComponent(x);this.enemies.push(e),this.bornedCnt++,e.isHead=!0,e.startMoveByPath(this.waitEnemy[0]),e.speedUptime=2,e.speedRate=10,t.setPosition(this.path.getPointAt(0)),this.dragon.addBody(0,e,!0)},u.speedUp=function(t,e){void 0===t&&(t=2),void 0===e&&(e=2),this.enemies.forEach((function(n){return n.speedUp(t,e)}))},u.pauseMove=function(t,e){void 0===t&&(t=.5),void 0===e&&(e=!1),this.enemies.forEach((function(e){return e.speedUp(t,0)})),e&&this.head.onHit()},u.resumeMove=function(){this.enemies.forEach((function(t){return t.speedUp(0,1)}))},u.killEnemies=function(t){var e=this;this.enemies.filter((function(e){return e.groupId==t})).forEach((function(t){t.ondeath(),e.enemies.splice(e.enemies.indexOf(t),1)}))},u.onOpenBox=function(){var t=r(s().mark((function t(e,n){var i,o,a,r,u,h,c,l,p,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=S.data[e]){t.next=3;break}return t.abrupt("return");case 3:if(o=i.list[0]){t.next=6;break}return t.abrupt("return");case 6:if(i.list.length>1&&o.rate>0&&(a=i.list.map((function(t){return t.rate})),o=k.randomByWeight(i.list,a)),r=Z.logic.state.camera,u=this.weapon.topNode.parent.worldPosition,!(o.rate<0)){t.next=28;break}h=i.list,this.pauseMove(1.2),c=0;case 13:if(!(c<h.length)){t.next=24;break}return l=h[c],p=this.getProperty(l.type)+(l.mul?"x":"+")+l.value,B.create().showProperty(p,n,u,r.node.worldPosition,.8),this.weapon.addProperty(l.type,l.value,l.mul),t.next=20,C.Seconds(.1);case 20:R.play(5);case 21:c++,t.next=13;break;case 24:return t.next=26,this.weapon.waiteTime(1);case 26:t.next=35;break;case 28:return d=this.getProperty(o.type)+(o.mul?"x":"+")+o.value,B.create().showProperty(d,n,u,r.node.worldPosition,.8),this.pauseMove(1),t.next=33,this.weapon.waiteTime(.8);case 33:R.play(5),this.weapon.addProperty(o.type,o.value,o.mul);case 35:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),u.getProperty=function(t){var e="";switch(t){case 1:e="攻击力";break;case 2:e="攻击速度";break;case 2:e="发射次数";break;case 4:e="暴击率";break;case 5:e="钻头升级";break;case 6:e="钻头耐久"}return e},u.onDestroy=function(){this.enemies=[],this.waitEnemy=[],this.dragon=null,B.clearPool(),_.clearPool()},u.moveCamera=function(){if(this.node&&this.cameraStartPos){var t=Z.logic.state.camera;t&&this.weapon.topNode&&(tt.set(this.weapon.topNode.worldPosition),tt.x=this.cameraStartPos.x,tt.y+=T.data.cameraOffset,tt.y=Math.max(tt.y,this.cameraStartPos.y-590),tt.y<this.cameraStartPos.y&&(t.node.worldPosition=tt))}},a(e,[{key:"Edit",get:function(){return this._edit},set:function(t){this._edit=t}},{key:"head",get:function(){return this.enemies&&0!=this.enemies.length?this.enemies[0]:null}},{key:"tail",get:function(){if(!this.enemies||0==this.enemies.length)return null;var t=this.enemies.filter((function(t){return t.wakeUp&&t.enabled}));return t[t.length-1]}}]),e}(b)).prototype,"pathPoints",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(F.prototype,"enemyRoot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(F.prototype,"Edit",[M],Object.getOwnPropertyDescriptor(F.prototype,"Edit"),F.prototype),q=e(F.prototype,"weapon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(F.prototype,"bulletCount",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(F.prototype,"speedUpNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(F.prototype,"turnNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=F))||V));u._RF.pop()}}}));

System.register("chunks:///_virtual/ZzlGameConst.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var e;t("ZzlGameConst",void 0),n._RF.push({},"cf2fdlVP6NGy6N882lh9zd1","ZzlGameConst",void 0),function(t){t.config=function(){this.startWaite=void 0,this.cameraOffset=void 0};t.isConst=!0,t.path="config/ZzlGameConst",t.extPath=void 0,t.data=null}(e||(e=t("ZzlGameConst",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLGameState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZzlLevelConfig.ts","./GameStateBase.ts","./YT.ts","./ZZLevel.ts","./ZzlDragonConfig.ts","./sub_zzlBinder.ts","./ZZLBattleView.ts"],(function(e){var t,n,i,s,a,o,r,l,u,c,d,f,h,v,p;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e.Prefab,r=e.instantiate,l=e.Camera},function(e){u=e.ZzlLevelConfig},function(e){c=e.GameStateBase},function(e){d=e.YT},function(e){f=e.ZZLevel},function(e){h=e.ZzlDragonConfig},function(e){v=e.default},function(e){p=e.ZZLBattleView}],execute:function(){a._RF.push({},"dc8b52bZ9VIjpODYFro5hRy","ZZLGameState",void 0);e("ZZLGameState",function(e){function a(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this)._configBundle="sub_zzl",t._uiBundle="sub_zzl",t._sceneBundle="sub_zzl",t._sceneName="Game",t._uiPackage="sub_zzl",t.levelConfig=void 0,t.levelId=void 0,t.level=void 0,t.enemy=void 0,t.currentIndex=0,t.speed=50,t.points=[],t}t(a,e);var c=a.prototype;return c._afterSceneLoaded=function(){},c._onPreEnter=function(){var e=i(s().mark((function e(){var t=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.levelId=t.length<=1?void 0:t[1];case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c._getPreloads=function(e){e.add(this.levelConfig.level_path,this._sceneBundle,o);for(var t=this.levelConfig.bodys,n=h.dataList.filter((function(e){return e.id>=t[0]&&e.id<=t[1]})).map((function(e){return e.body_path})),i=0;i<n.length;i++)e.add(n[i],this._sceneBundle,o);e.add(this.levelConfig.head_path,this._sceneBundle,o),e.add("prefabs/HP",this._sceneBundle,o),e.add("prefabs/effNode",this._sceneBundle,o),e.add("prefabs/Box",this._sceneBundle,o),e.add("prefabs/Damage",this._sceneBundle,o)},c._doEnterState=function(){var e=i(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r(d.res.get(this.levelConfig.level_path,this._sceneBundle,o)),n=this.scene.getChildByPath("Canvas/lv_root"),this.level=t.getComponent(f),n.addChild(t),this.camera=this.scene.getComponentInChildren(l),this.level.onInit(this.levelConfig),p.instance.show();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.moveByPath=function(e,t,n){this.currentIndex++,t[this.currentIndex]?e.setPosition(t[this.currentIndex]):(d.logic.pause(),console.error("到终点"))},c._onBindUI=function(){v.bindAll()},c._onPreEnterNext=function(){this.levelConfig=u.data[this.levelId]},c.update=function(e,t){},c.lateUpdate=function(e,t){this.level.update(.016)},c._doDestroy=function(){this.level.clear(),p.instance.hide()},n(a,null,[{key:"Inst",get:function(){return d.logic.state}}]),a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLLayerGroup.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"89b0105r1VMiZfHgH5dDqAW","ZZLLayerGroup",void 0);var n=e("ZZLLayerGroup",(function(){}));n.DEFAULT=1,n.Enemy=256,n.Weapon=512,n.Wall=1024,n.Mine=2048,r._RF.pop()}}}));

System.register("chunks:///_virtual/ZzlLevelConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("ZzlLevelConfig",void 0),t._RF.push({},"e5180g+QhNMhpgDKNAhlSDn","ZzlLevelConfig",void 0),function(i){i.config=function(){this.id=void 0,this.name=void 0,this.speed=void 0,this.ad=void 0,this.outline=void 0,this.level_path=void 0,this.bodys=void 0,this.head_path=void 0,this.weapon_id=void 0,this.start_time=void 0};i.isConst=!1,i.path="config/ZzlLevelConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(e||(e=i("ZzlLevelConfig",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLMine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZZLColliderBase.ts","./ZzlBoxConfig.ts","./YT.ts","./ZZLEffect.ts","./ZZLAudio.ts"],(function(i){var t,e,n,o,r,s,a,l,c,h,p,u,f,d,Z;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,a=i.ccenum,l=i.CCInteger,c=i.Collider2D,h=i.Label},function(i){p=i.ZZLColliderBase},function(i){u=i.ZzlBoxConfig},function(i){f=i.YT},function(i){d=i.ZZLEffect},function(i){Z=i.ZZLAudio}],execute:function(){var g,L,y,b,v,z,C;r._RF.push({},"7b776lgKzBATIkazPra6qxG","ZZLMine",void 0);var D=s.ccclass,m=s.property,B=i("ZZLMineType",function(i){return i[i["无"]=0]="无",i[i["道具"]=8]="道具",i[i["钻石"]=9]="钻石",i[i["黄金"]=10]="黄金",i}({}));a(B);i("ZZLMine",(g=D("ZZLMine"),L=m({type:l,serializable:!0}),y=m({type:B,serializable:!0}),g((z=t((v=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=i.call.apply(i,[this].concat(r))||this,n(t,"id",z,o(t)),n(t,"type",C,o(t)),t.hp=void 0,t.hpLabel=void 0,t.cfg=void 0,t}e(t,i);var r=t.prototype;return r.onLoad=function(){this.collider=this.node.getComponent(c),this.collider.sensor=!1},r.start=function(){},r.init=function(){var i=u.data[this.id];i?(this.cfg=i,this.hp=i.hp,this.hpLabel=this.node.getChildByName("HP").getComponent(h),this.hpLabel.string=this.hp.toString()):console.error("ZZLMine init error: no config for id",this.id)},r.update=function(i){},r.onDamage=function(i,t){if(this.hp<=0)this.hp=0;else{var e=i+(t?i:0);this.hp-=e,Z.play(this.type),this.hp<=0?(this.hp=0,this.onDead()):this.hpLabel.string=this.hp.toString()}},r.onDead=function(){console.log("ZZLMine onDead"),f.logic.state.level.onOpenBox(this.cfg.id,this.node.worldPosition),d.create().show("effDragonDie",this.node.worldPosition),this.node.destroy()},t}(p)).prototype,"id",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=t(v.prototype,"type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=v))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZZLWeapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YT.ts","./ZZLLayerGroup.ts","./ZZLDamage.ts","./ZZLColliderBase.ts","./ZzlWeaponConfig.ts","./ZZLEffect.ts","./ZZLAudio.ts","./Awaiters.ts"],(function(t){var i,e,a,s,n,o,h,r,c,l,u,p,f,d,m,g,k,y,b,C,v,E,L,T;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.createClass,o=t.asyncToGenerator,h=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator,l=t.Vec3,u=t.Sprite,p=t.Node,f=t.Animation,d=t.Collider2D,m=t.Contact2DType,g=t.Component},function(t){k=t.YT},function(t){y=t.ZZLLayerGroup},function(t){b=t.ZZLDamage},function(t){C=t.ZZLColliderBase},function(t){v=t.ZzlWeaponConfig},function(t){E=t.ZZLEffect},function(t){L=t.ZZLAudio},function(t){T=t.Awaiters}],execute:function(){var w,D,Z,S,A,N,M,W,z,B,P,x,H,G,_;r._RF.push({},"a0947NayjtJTpgzj6HiE4RW","ZZLWeapon",void 0);var I=c.ccclass,O=c.property,R=new l,j=t("ZZLWeaponState",function(t){return t[t.waite=0]="waite",t[t.rotate=1]="rotate",t[t.shoot=2]="shoot",t[t.back=3]="back",t[t.hitDragon=4]="hitDragon",t[t.hitMine=5]="hitMine",t[t.hitWall=6]="hitWall",t}({})),U=t("WeaponProperty",(function(){this.atk=1,this.atkSpeed=1,this.bulletCount=20,this.crit=10,this.headLevel=1,this.headLifeTime=2}));t("ZZLWeapon",(w=I("ZZLWeapon"),D=O({type:u,displayName:"钻头"}),Z=O(p),S=O(p),A=O(f),N=O(f),M=O(d),w((B=i((z=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,a(i,"anchor",B,s(i)),i.rotateStep=1,i.rotateSpeed=40,i.maxAngle=50,a(i,"chainNode",P,s(i)),a(i,"topNode",x,s(i)),a(i,"anim",H,s(i)),a(i,"animEff",G,s(i)),i.state=j.waite,i.chainLength=3e3,i.chainBaseLength=52,i.shootSpeed=500,a(i,"collider",_,s(i)),i.game=void 0,i.curEnemy=void 0,i.hitCD=.5,i.attackTimer=0,i.props=void 0,i.config=void 0,i}e(i,t);var r=i.prototype;return r.checkCrit=function(){return Math.random()<this.props.crit/100},r.onLoad=function(){this.collider||(this.collider=this.node.getComponentInChildren(d))},r.init=function(t){void 0===t&&(t=1),this.game=k.logic.state.level,this.config=v.data[t],this.collider.on(m.BEGIN_CONTACT,this.onBeginContact,this),this.collider.on(m.END_CONTACT,this.onEndContact,this),this.props=new U,this.props.atk=this.config.atk,this.props.atkSpeed=0,this.props.bulletCount=this.config.bulletCount,this.props.crit=this.config.critRate,this.props.headLevel=1,this.props.headLifeTime=this.config.headLifeTime,this.rotateSpeed=this.config.rotateSpeed,this.maxAngle=this.config.maxAngle,this.shootSpeed=this.config.shootSpeed,this.waite()},r.onBeginContact=function(t,i,e){this.curEnemy||(i.group!=y.Enemy||this.state!=j.shoot&&this.state!=j.hitDragon?i.group==y.Wall&&this.state==j.shoot?(this.attackTimer=0,this.back(),E.create().show("effHitWall",this.topNode.worldPosition),L.play(7)):i.group==y.Mine&&this.state==j.shoot&&(this.curEnemy=i.node.getComponent(C),this.hitCD=0,this.hitMine(),this.animEff.play("effHitOther")):(this.curEnemy=i.node.getComponent(C),this.hitCD=0,this.hitDragon(),this.animEff.play("effHitOther")))},r.continueShoot=function(){this.curEnemy.collider.group==y.Enemy?this.hitDragon():this.curEnemy.collider.group==y.Mine&&this.hitMine()},r.onEndContact=function(t,i,e){if(i.group==y.Wall&&this.state==j.shoot)return this.attackTimer=0,this.back(),E.create().show("effHitWall",this.topNode.worldPosition),void L.play(7);this.curEnemy=null,this.animEff.play("effIdle"),this.attackTimer>this.calcAtkCD()&&this.shoot(!0)},r.update=function(t){switch(this.state){case j.waite:return;case j.rotate:this.rotateAngel(t);break;case j.shoot:if(this.attackTimer>0){var i=this.chainNode.h+t*this.shootSpeed;if(this.curEnemy)return void this.continueShoot();this.chainNode.h=Math.min(this.chainLength,i)}break;case j.back:var e=this.chainNode.h-t*this.config.backSpeed;this.chainNode.h=Math.max(this.chainBaseLength,e),this.chainNode.h<=this.chainBaseLength&&this.rotate();break;case j.hitDragon:if(this.curEnemy){if(this.attackTimer>0&&(this.attackTimer-=t,this.attackTimer<=0))return this.curEnemy=null,void this.back();if(this.hitCD-=t,this.game.pauseMove(),this.hitCD<=0){this.hitCD=this.calcAtkCD();var a=this.checkCrit();this.game.dragon.onHitBody(this.curEnemy,this.damage,a),this.animEff.play("effHitOther")}}else this.back();break;case j.hitMine:if(this.curEnemy){if(this.attackTimer>0&&(this.attackTimer-=t,this.attackTimer<=0))return this.curEnemy=null,void this.back();if(this.hitCD-=t,this.hitCD<=0){this.hitCD+=this.calcAtkCD();var s=this.checkCrit();this.curEnemy.onDamage(this.damage,s),b.create().show(this.damage,this.topNode.worldPosition,s)}}else this.back();break;case j.hitWall:}},r.checkShoot=function(t){if(this.attackTimer>0&&(this.attackTimer-=t,this.attackTimer<=0))return this.curEnemy=null,void this.back()},r.rotateAngel=function(t){var i=this.chainNode.eulerAngles.z+this.rotateStep*this.rotateSpeed*t;Math.abs(i)>this.maxAngle?this.rotateStep*=-1:(R.set(0,0,i),this.chainNode.eulerAngles=R)},r.levelUP=function(){this.anim.play("zt02")},r.shoot=function(t){if(void 0===t&&(t=!1),t);else{if(this.state!=j.rotate&&this.state!=j.waite)return;if(this.props.bulletCount<=0)return k.gui.toast("没有发射次数了,游戏结束"),this.state=j.waite,void this.game.onGameEnd(!1,1)}this.state==j.rotate?(this.attackTimer=this.props.headLifeTime,this.state=j.shoot,this.props.bulletCount--):this.attackTimer>0&&t&&(this.state=j.shoot)},r.back=function(t){void 0===t&&(t=!1),this.attackTimer>0&&!t||(this.state=j.back,this.attackTimer=0,this.animEff.play(""))},r.waite=function(){this.state=j.waite},r.waiteTime=function(){var t=o(h().mark((function t(i){var e;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=1),e=parseInt(this.state.toString()),this.state=j.waite,t.next=5,T.Seconds(i);case 5:this.state=e,(e==j.hitDragon||e==j.hitMine)&&this.attackTimer>this.calcAtkCD()?this.shoot(!0):this.back(!0);case 7:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),r.rotate=function(){if(this.state=j.rotate,this.props.bulletCount<=0)return k.gui.toast("没有发射次数了,游戏结束"),this.state=j.waite,void this.game.onGameEnd(!1,1)},r.hitDragon=function(){this.state=j.hitDragon,this.game.pauseMove(.2,!0)},r.hitMine=function(){this.state=j.hitMine},r.hitWall=function(){this.state=j.hitWall},r.addProperty=function(t,i,e){switch(void 0===e&&(e=!1),t){case 1:e?this.props.atk*=i:this.props.atk+=i;break;case 2:this.props.atkSpeed+=i;break;case 3:this.props.bulletCount+=i,this.game.refreshBUlletCnt();break;case 4:e?this.props.crit*=i:this.props.crit+=i;break;case 5:this.props.headLevel+=i,this.props.atk*=5,this.props.crit+=50,this.levelUP();break;case 6:this.props.headLifeTime+=i}},r.calcAtkCD=function(){return 1/(this.props.atkSpeed*this.config.atkSpeed+this.config.baseAtkSpeed)},n(i,[{key:"damage",get:function(){return this.curEnemy&&this.curEnemy.speacial&&1==this.props.headLevel?Math.ceil(.1*this.props.atk):this.props.atk}},{key:"curLength",get:function(){return this.chainNode.h}}]),i}(g)).prototype,"anchor",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(z.prototype,"chainNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(z.prototype,"topNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(z.prototype,"anim",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(z.prototype,"animEff",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(z.prototype,"collider",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=z))||W));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZzlWeaponConfig.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var o;i("ZzlWeaponConfig",void 0),t._RF.push({},"6599152RzpCDLSigBVDvYlM","ZzlWeaponConfig",void 0),function(i){i.config=function(){this.id=void 0,this.chainBaseLength=void 0,this.chainLength=void 0,this.shootSpeed=void 0,this.backSpeed=void 0,this.atk=void 0,this.atkSpeed=void 0,this.baseAtkSpeed=void 0,this.bulletCount=void 0,this.critRate=void 0,this.headLifeTime=void 0,this.rotateSpeed=void 0,this.maxAngle=void 0};i.isConst=!1,i.path="config/ZzlWeaponConfig",i.extPath=void 0,i.data=null,i.dataList=null,i.lastData=null}(o||(o=i("ZzlWeaponConfig",{}))),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});