window.__require=function t(e,n,i){function o(r,s){if(!n[r]){if(!e[r]){var l=r.split("/");if(l=l[l.length-1],!e[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({AICtrl:[function(t,e,n){"use strict";cc._RF.push(e,"47069NZzhVLkK7oiVuHzDRO","AICtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.B3_CONSTANT=void 0;var l,c=o("Utils"),u=o("StateId"),p=o("BaseHero"),d=o("HeroCtrl");(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t[t.ERROR=3]="ERROR"})(l=a.B3_CONSTANT||(a.B3_CONSTANT={}));var f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tickMsg={gameCtrl:null,aiOwner:null,aiCtrl:null,dt:0},e.aiConfig=null,e.time=0,e.thinkMoveTime=5,e.moveKeepTime=2,e.moveState=0,e.thinkSkill2Time=5,e.thinkSkill1Time=5,e.thinkNormalAtkTime=5,e.thinkChangeTime=5,e.thinkSprintTime=3,e.thinkComboSkill2Time=3,e.thinkDefenseTime=3,e.skillConfUpDelayTime=0,e.thinkSkillConfTime=0,e.allTime=0,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.init(this.node.getComponent(p.default),this.node.getComponent(d.default),1)},e.prototype.init=function(t,e,n){this.tickMsg.aiOwner=t,this.tickMsg.aiCtrl=e,this.hero=t;var i=aiLevelConfig[n];this.aiConfig=Object.assign({comboNormalATKPR:1},i)},e.prototype.update=function(t){this.tickMsg.aiOwner&&!this.tickMsg.aiOwner.pause&&(this.tick(t),this.allTime+=t)},e.prototype.tick=function(t){this.time+=t,this.time>.1&&(this.tickMsg.dt=this.time,this.updateAI(this.time),this.time=0)},e.prototype.updateAI=function(){if(this.hero.enemyHero&&this.hero.enemyHero.State==u.default.DIE){var t=this.tickMsg.aiOwner;if(t.State==u.default.MOVE&&(t.State=u.default.IDLE),t.State==u.default.IDLE)return}this.tickMsg.aiOwner&&this.tickMsg.aiOwner.InitSuc&&this.tickMsg.aiOwner.State!==u.default.DIE&&(this.trySKills(),this.tryNormalAtk(),this.tryMoveHero())},e.prototype.tryMoveHero=function(){var t=[0,0],e=this.tickMsg.aiOwner;if(e.findHaveState(u.default.MOVE)&&e.enemyHero){var n=e.node.getPosition(),i=e.enemyHero.node.getPosition().add(e.enemyHero.node.scaleX>0?cc.v2(30,0):cc.v2(-30,0)).subSelf(n).normalize(),o=e.enemyHero.node.getPosition().subSelf(n).mag();if(this.thinkMoveTime+=this.tickMsg.dt,!e.checkViewScopeEnemy())return e.State!=u.default.IDLE&&e.State!=u.default.NORMALATTACK&&e.State!=u.default.SKILL&&(e.movekeydown=MACRO.ACTORJOYSTICKSTATE.UP,e.resetState()),l.FAILURE;switch(this.thinkMoveTime>this.moveKeepTime&&(this.thinkMoveTime=0,this.moveState=c.default.randomByWeight([this.aiConfig.moveStayWeight,this.aiConfig.moveNearWeight,this.aiConfig.moveAwayWeight])),this.moveState){case 0:return this.moveKeepTime=1,e.State!=u.default.IDLE&&e.State!=u.default.NORMALATTACK&&e.State!=u.default.SKILL&&(e.movekeydown=MACRO.ACTORJOYSTICKSTATE.UP,e.resetState()),l.FAILURE;case 1:t=[0,70],this.moveKeepTime=2;break;case 2:this.moveKeepTime=.5,i.negSelf()}return o>=t[0]&&o<=t[1]&&e.node.y>e.enemyHero.node.y-20&&e.node.y<e.enemyHero.node.y+20?e.State===u.default.MOVE&&(e.movekeydown=MACRO.ACTORJOYSTICKSTATE.UP,e.State=u.default.IDLE):(e.movekeydown=MACRO.ACTORJOYSTICKSTATE.DOWN,e.Direct=i,e.State!=u.default.MOVE&&(e.State=u.default.MOVE)),l.SUCCESS}},e.prototype.tryNormalAtk=function(){},e.prototype.trySKills=function(){var t=this.tickMsg.aiOwner;if(t.State!=u.default.NORMALATTACK&&t.enemyHero){var e=this.tickMsg.aiCtrl;this.thinkNormalAtkTime+=this.tickMsg.dt;var n=t.node.getPosition(),i=t.enemyHero.node.getPosition().subSelf(n).normalize(),o=(t.enemyHero.node.getPosition().subSelf(n).mag(),this.backCurBestSkill());return o.length<0?l.FAILURE:this.thinkNormalAtkTime>this.aiConfig.normalATKFrequency?(this.thinkNormalAtkTime=0,.5>Math.random()?(t.Direct=i,o.length>0&&t.State!=u.default.SKILL&&e.onKeyEvent(o[Math.floor(Math.random()*o.length)].Key),l.SUCCESS):l.FAILURE):void 0}},e.prototype.backCurBestSkill=function(){var t=this.tickMsg.aiOwner,e=t.HeroSkillCfg.backCDEndHeroSkillDatas(),n=[];for(var i in e)t.checkIfCanReleaseSkill(e[i])&&n.push(e[i]);return n},s([h],e)}(cc.Component));a.default=y,cc._RF.pop()},{}],AbyssDidState:[function(t,e,n){"use strict";cc._RF.push(e,"60d08qdd3RMMKwPVTdO3Ccf","AbyssDidState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.DIE,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log("\u8fdb\u5165\u6b7b\u4ea1\u72b6\u6001"),this.TrackEntry=this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Die,!0),this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this)),this.Soldier.body.enabled=!1,this.Soldier.BuffsCtrl.clearCurAllBuff(),this.Soldier.checkcommandCfgUpdate()},e.prototype.setTrackCompleteListenerCb=function(){},e.prototype.onUpdate=function(){},e.prototype.onExit=function(){console.log("\u9000\u51fa\u6b7b\u4ea1\u72b6\u6001"),this.Soldier.openADKeyDiversion=!0},e}(o("MajorStateBase").default);a.default=l,cc._RF.pop()},{}],AbyssIdleState:[function(t,e,n){"use strict";cc._RF.push(e,"473f0ptxYhE575HweT7fzkF","AbyssIdleState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.IDLE,e}return r(e,t),e.prototype.onEnter=function(){console.log("\u8fdb\u5165IdleState\u72b6\u6001")},e.prototype.onUpdate=function(){this.Soldier.Hp<this.Soldier.MaxHp&&this.Soldier.animatorCtrl.curPlayAniName()!=this.Soldier.HeroAniNameCfg.Hurt&&this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Hurt,!0)},e.prototype.onExit=function(){console.log("\u9000\u51faIdleState\u72b6\u6001")},e}(o("MajorStateBase").default);a.default=l,cc._RF.pop()},{}],AbyssStateCreator:[function(t,e,n){"use strict";cc._RF.push(e,"48c04HwoWxDQqtGxQUHVrq1","AbyssStateCreator");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("StateId"),r=i("ConnectState"),s=i("ForceUpHurtState"),l=i("PoisoningState"),c=i("DizzinessState"),u=i("NetCatchState"),p=i("FROZENState"),d=i("BTState"),f=i("AbyssIdleState"),h=i("AbyssDidState"),y=function(){function t(){this.StateMap=new Map,this.StateMap.set(a.default.IDLE,new f.default),this.StateMap.set(a.default.DIE,new h.default),this.StateMap.set(a.default.ForceUpHurt,new s.default),this.StateMap.set(a.default.Connect,new r.default),this.StateMap.set(a.default.poisoning,new l.default),this.StateMap.set(a.default.Dizziness,new c.default),this.StateMap.set(a.default.netCatch,new u.default),this.StateMap.set(a.default.FROZEN,new p.default),this.StateMap.set(a.default.BT,new d.default)}return t.prototype.createState=function(t){var e=this.StateMap.get(t);return null==e&&console.error("\u5f53\u524d\u72b6\u6001\u83b7\u53d6\u9519\u8bef,\u9519\u8bef\u72b6\u6001id\u4e3a",t,"\u68c0\u67e5\u5bf9\u5e94idMap\u662f\u5426\u521b\u5efa"),e},t.prototype.findHaveState=function(t){var e=this.StateMap.get(t);return!!e&&(!!e||void 0)},t}();o.default=y,cc._RF.pop()},{}],ActivityCenterType:[function(t,e,n){"use strict";cc._RF.push(e,"fd0b1EA2j9FpYUO3tWrcX22","ActivityCenterType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.ActivityCenterType=void 0,function(t){t[t.GoldActivity=0]="GoldActivity",t[t.TowerActivity=1]="TowerActivity",t[t.XSGift=2]="XSGift",t[t.BLT=3]="BLT",t[t.Spring=5]="Spring"}(i.ActivityCenterType||(i.ActivityCenterType={})),cc._RF.pop()},{}],ActivityCenterView:[function(t,e,n){"use strict";cc._RF.push(e,"b6e12lz98RLfaP3iHtnm0ra","ActivityCenterView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("View"),u=o("heartbeatStore"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backBtn=null,e.btnList=[],e.ScenesList=[l.default.Scenes.GoldActivityView,l.default.Scenes.TowerActivityView,l.default.Scenes.XSGiftView,l.default.Scenes.ApologyLetterView,l.default.Scenes.EvilShopView,l.default.Scenes.SpringActView],e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),u.default.send()},e.prototype.setViewByIndex=function(t){this.closeCurAllView(),this.sceneMgr().isLoaded(this.ScenesList[t])?this.sceneMgr().show(this.ScenesList[t]):this.sceneMgr().load(this.ScenesList[t]),this.chooseBtn(t)},e.prototype.onBtnChangeView=function(t,e){var n=this,i=parseInt(e);if(4==i)return Global.onShowTosat("\u5f00\u53d1\u4e2d \u656c\u8bf7\u671f\u5f85");this.closeCurAllView(),this.sceneMgr().isLoaded(this.ScenesList[i])?this.sceneMgr().show(this.ScenesList[i]):(this.backBtn.active=!1,this.sceneMgr().load(this.ScenesList[i],null,function(){n.backBtn.active=!0})),this.chooseBtn(i)},e.prototype.closeCurAllView=function(){for(var t in this.ScenesList)this.sceneMgr().isLoaded(this.ScenesList[t])&&this.sceneMgr().hide(this.ScenesList[t])},e.prototype.chooseBtn=function(t){for(var e=0;e<this.btnList.length;e++)this.btnList[e].scale=1,this.btnList[e].opacity=160;this.btnList[t].scale=1.15,this.btnList[t].opacity=255},e.prototype.close=function(){for(var e in this.ScenesList)this.sceneMgr().isLoaded(this.ScenesList[e])&&this.sceneMgr().popScene(this.ScenesList[e]);return t.prototype.close.call(this),!0},s([f(cc.Node)],e.prototype,"backBtn",void 0),s([f([cc.Node])],e.prototype,"btnList",void 0),s([d],e)}(c.default);a.default=h,cc._RF.pop()},{}],ActivityDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"97b3bysC6dEOq5JEFieZCsY","ActivityDataManger");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),i("InvitePosType");var s=i("RewardType"),l=(i("Admanager"),i("configStore"),i("InviterDataManger")),c=function(){function t(){this.todayPumpkinMaxCount=290,this.pumpkinDropOdds=.1,this.pumpkinDropranges=[1,3],this.pumokinItemId=155,this.pumokinLevelDropCount=20,this.WSJInviterList=[],this.halloweenProConfig=[20,40,60,80,100],this.maxVideoGetPumpkin=2,this.maxZhuliNum=2,this.oneVideoGetPumpkin=5,this.duihuanchishuConfig=[2,2,2,2],this.duihuanConfig=[{times:10,needCount:50,giftId:134,count:2},{times:10,needCount:100,giftId:136,count:1},{times:10,needCount:200,giftId:213,count:20},{times:1,needCount:300,type:"title",giftId:1008,count:1},{times:1,needCount:400,type:"fashion",giftId:11,equipIndex:0,count:1}],this.zhuliGiftConfig=[{times:30,needCount:10,giftId:122,count:1e3},{times:20,needCount:50,giftId:113,count:1e3},{times:10,needCount:100,giftId:134,count:6},{times:1,needCount:300,giftId:136,count:3},{times:1,needCount:300,giftId:213,count:100}]}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todayPumpkinCount",{get:function(){return this.ActivityData.todayPumpkinCount},set:function(t){this.ActivityData.todayPumpkinCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PumokinLevelDropCount",{get:function(){return this.pumokinLevelDropCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WSJInviterListCount",{get:function(){return this.WSJInviterList.length},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.ActivityData=t},t.prototype.NewDayRefreshData=function(){this.ActivityData.todayPumpkinCount=0,this.ActivityData.mianfeiPumpkin=0},t.prototype.GetPumpkinDrop=function(){return this.todayPumpkinCount>=this.todayPumpkinMaxCount?(console.log("\u6389\u843d\u5357\u74dc\u5230\u6bcf\u65e5\u4e0a\u9650"),null):Math.random()<=this.pumpkinDropOdds?{type:s.RewardType.ITEM,id:this.pumokinItemId,count:this.GetDropPumpkinCount()}:null},t.prototype.GetDropPumpkinCount=function(){var t=Math.floor(Math.random()*(this.pumpkinDropranges[1]-this.pumpkinDropranges[0]))+this.pumpkinDropranges[0],e=this.todayPumpkinMaxCount-this.todayPumpkinCount;return t=t>e?e:t,this.todayPumpkinCount+=t,t},t.prototype.curZhiProgress=function(){var t=0;this.ActivityData.curGetZhuliNum=l.default.instance.getWSJInviterIdCount(4001);for(var e=0;e<this.halloweenProConfig.length;e++)if(this.halloweenProConfig[e]>this.ActivityData.curGetZhuliNum){t=e-1;break}var n=this.halloweenProConfig[this.halloweenProConfig.length-1];return this.ActivityData.curGetZhuliNum>=n&&(t=this.halloweenProConfig.length-1),{index:t,progress:this.ActivityData.curGetZhuliNum/n,countInfo:this.ActivityData.curGetZhuliNum+"/"+n}},t.prototype.costInviter=function(){},t.prototype.pullWSJData=function(){var t=this;return new Promise(function(){return a(t,void 0,void 0,function(){return r(this,function(){return[2]})})})},t}();o.default=c,cc._RF.pop()},{}],ActorBuffState:[function(t,e,n){"use strict";cc._RF.push(e,"c77ddLx9b1Bt5yIFNJis7sH","ActorBuffState");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.ActorBuffState=void 0,function(t){t[t.NONE=0]="NONE",t[t.NOTMOVE=1]="NOTMOVE",t[t.NOTATTACK=2]="NOTATTACK",t[t.TYRANTS=4]="TYRANTS",t[t.INVINCIBLE=8]="INVINCIBLE"}(i.ActorBuffState||(i.ActorBuffState={})),cc._RF.pop()},{}],AdAgentBase:[function(t,e,n){"use strict";cc._RF.push(e,"1ff95UlfOtBaJUHA0JnBl1W","AdAgentBase");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("LogManager"),r=i("Constant"),s=function(){function t(){this._RewardedVideoAdUnitIds=[],this._videoIdx=0,this._BannerId=[],this._BannerIdx=0,this.isHaveShortcut=!1,this._platformType=r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC}return Object.defineProperty(t.prototype,"appId",{get:function(){return this._App_Id},set:function(t){this._App_Id=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handler",{get:function(){return this._handler},set:function(t){this._handler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientVersion",{get:function(){return this._clientVersion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"platformType",{get:function(){return this._platformType},set:function(t){switch(this._platformType=t,a.default.warn("platformType=",t),this._platformType){case r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX:this.handler=window.wx,console.log("wx");break;case r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO:this.handler=window.qg;break;case r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ:this.handler=window.qq;break;case r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT:this.handler=window.tt;break;case r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO:this.handler=window.qg;case r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS:this.handler=window.ks}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.onloginInit=function(){},t.prototype.login=function(){return new Promise(function(){})},t.prototype.onShareAppMessage=function(){return!1},t.prototype.onShareTimeline=function(){return!1},t.prototype.showRewardedVideo=function(){return new Promise(function(t){t(!0)})},t.prototype.showInterstitialAd=function(){},t.prototype.shareAppMessageFromUrl=function(){return new Promise(function(){})},t.prototype.showCustomAd=function(){return new Promise(function(t){t(!0)})},t.prototype.preloadCustomAd=function(){},t.prototype.showBanner=function(){return new Promise(function(t){t(!0)})},t.prototype.hideBanner=function(){return new Promise(function(t){t(!0)})},t.prototype.VibrateLong=function(){},t.prototype.VibrateShort=function(){},t.prototype.setStorage=function(){},t.prototype.getLaunchOptionsSync=function(){return null},t.prototype.trackEvent=function(){},t.prototype.onStartLevel=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.onEndLevel=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.Subscription=function(){},t.prototype.checkUpdate=function(){},t.prototype.showModal=function(){},t.prototype.onHide=function(){},t.prototype.onShow=function(){},t.prototype.exitMiniProgram=function(){},t.prototype.recorderStart=function(){},t.prototype.recorderStop=function(){},t.prototype.GetRecorder=function(){return!1},t.prototype.viedoShare=function(){},t.prototype.getVideoShare=function(){return!1},t.prototype.isOpen=function(){return!0},t.prototype.openAwemeUserProfile=function(){},t.prototype.createContactBtn=function(){},t.prototype.onKefuHide=function(){},t.prototype.onKefuShow=function(){},t.prototype.createMoreGameBtn=function(){},t.prototype.onMoreGameHide=function(){},t.prototype.onMoreGameShow=function(){},t.prototype.openCustomerServiceConversation=function(t,e,n,i,o,a,r){void 0===o&&(o=null),void 0===a&&(a=null),void 0===r&&(r=null)},t.prototype.navigateToMiniProgram=function(){},t.prototype.installShortcut=function(){},t.prototype.addShortcutTT=function(){},t.prototype.checkShortcut=function(){},t.prototype.isAddShortcut=function(){},t.prototype.setClipboardData=function(){},t.prototype.msgSecCheck=function(){return new Promise(function(t){t(!0)})},t}();o.default=s,cc._RF.pop()},{}],AdAgentKS:[function(t,e,n){"use strict";cc._RF.push(e,"a6772atwohARZFTNE9kpgw1","AdAgentKS");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("LogManager"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this._RewardedVideoAdUnitIds=["2300001967_01"],this._BannerId=[""],this._InterstitialAdUnitId="",this._CustomAdId="",this._videoIdx=0,this._BannerIdx=0},e.prototype.onloginInit=function(){},e.prototype.checkVersion=function(t){return function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var o=parseInt(t[i]),a=parseInt(e[i]);if(o>a)return 1;if(o<a)return-1}return 0}(ks.getSystemInfoSync().SDKVersion,t)>=0||(s.default.error("\u5f53\u524d\u7248\u672c\u8fc7\u4f4e\u3002\u65e0\u6cd5\u5b9e\u73b0\u8be5\u529f\u80fd"),!1)},e.prototype.login=function(){return new Promise(function(t,e){ks.login({success:t,fail:e})})},e.prototype.onShareAppMessage=function(){return!0},e.prototype.onShareTimeline=function(){return!0},e.prototype.shareAppMessageFromUrl=function(){return new Promise(function(t){t(!0)})},e.prototype.getVideoId=function(){return this._videoIdx++,this._videoIdx>=this._RewardedVideoAdUnitIds.length&&(this._videoIdx=0),this._RewardedVideoAdUnitIds[this._videoIdx]},e.prototype.getBannerId=function(){return this._BannerIdx++,this._BannerIdx>=this._BannerId.length&&(this._BannerIdx=0),this._BannerId[this._BannerIdx]},e.prototype.createRewardedVideoAd=function(){return null},e.prototype.preloadRewardedVideoAd=function(){},e.prototype.showRewardedVideo=function(t){var e=this;return new Promise(function(n,i){var o=ks.createRewardedVideoAd({adUnitId:e.getVideoId()});o?(o.onError(function(t){o&&o.offClose(),o=null,i(t)}),o.onClose(function(e){cc.game.resume(),e.isEnded?(o.offClose(),t&&t(!0),n(!0)):n(!1),o&&o.offClose()}),o.show().then(function(t){console.log("show rewarded video ad success, result is "+t)}).catch(function(t){console.log("show rewarded video ad failed, error is "+t),i(t.errMsg)})):console.log("\u521b\u5efa\u6fc0\u52b1\u89c6\u9891\u7ec4\u4ef6\u5931\u8d25")})},e.prototype.showInterstitialAd=function(){return new Promise(function(t){t(!0)})},e.prototype.createInterstitialAd=function(){return null},e.prototype.preloadInterstitialAD=function(){},e.prototype.checkIfClickBanner=function(){},e.prototype.setStorage=function(t,e){return ks.setStorageSync(t,e)},e.prototype.VibrateLocng=function(){console.log("Long\u9707\u52a8"),this.handler&&this.handler.vibrateLong()},e.prototype.VibrateShort=function(){console.log("Short\u9707\u52a8"),null!=this.handler&&(this.handler.vibrateShort(),console.log("Short\u9707\u52a81"))},e.prototype.getLaunchOptionsSync=function(){return null!=this.handler?this.handler.getLaunchOptionsSync():{scene:1001,query:{shareToken:"shareToken",action:"action",source:"",share_person_token:""},referrerInfo:"any"}},e.prototype.onStartLevel=function(t,e){void 0===e&&(e="")},e.prototype.onEndLevel=function(){},e.prototype.trackEvent=function(){},e.prototype.Subscription=function(){},e.prototype.checkUpdate=function(){var t=this;try{var e=this.handler.getUpdateManager();e.onUpdateReady(function(){t.handler.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u662f\u5426\u6253\u5f00\u65b0\u7248\u672c\uff1f",success:function(t){t.confirm&&e.applyUpdate()}}),s.default.info("\u53d1\u73b0\u65b0\u7684\u7248\u672c\u9700\u8981\u66f4\u65b0\uff0c\u7b49\u5f85\u7528\u6237\u64cd\u4f5c\u3002")}),e.onUpdateFailed(function(){ks.showModal({title:"\u66f4\u65b0\u5931\u8d25\u63d0\u793a",content:"\u8bf7\u68c0\u67e5\u5f53\u524d\u7f51\u7edc\u60c5\u51b5\u540e\u91cd\u542f\u5e94\u7528"})})}catch(a){s.default.error("AdAgentKS->checkUpdate error:",a.message,a.stack)}return s.default.info("\u68c0\u6d4b\u5c0f\u7a0b\u5e8f\u7248\u672c\u66f4\u65b0\u3002"),!0},e.prototype.showModal=function(t,e,n,i,o){this.handler.showModal({title:t,content:e,showCancel:n,success:i,fail:o})},e.prototype.onHide=function(t){t&&this.handler.onHide(t)},e.prototype.onShow=function(t){t&&this.handler.onShow(t)},e.prototype.exitMiniProgram=function(){this.handler.exitMiniProgram()},e.prototype.showCustomAd=function(){return Global.onShowTosat("\u529f\u80fd\u5f00\u53d1\u4e2d\uff0c\u656c\u8bf7\u671f\u5f85"),null},e.prototype.createCustomAd=function(){return null},e.prototype.preloadCustomAd=function(){},e.prototype.showBanner=function(){return new Promise(function(t){t(!0)})},e.prototype.hideBanner=function(){return new Promise(function(t){t(!0)})},e.prototype.createBannerAd=function(){return null},e.prototype.preloadBanner=function(){},e.prototype.recorderStart=function(){},e.prototype.recorderStop=function(){},e.prototype.GetRecorder=function(){return!1},e.prototype.viedoShare=function(){},e.prototype.getVideoShare=function(){return!1},e}(o("AdAgentBase").default);a.default=l,cc._RF.pop()},{}],AdAgentOPPO:[function(t,e,n){"use strict";cc._RF.push(e,"32044BnVudC9rgY5jX2OZQq","AdAgentOPPO");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("LogManager"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this._RewardedVideoAdUnitIds=["372968","372971"],this._BannerId=["372967"],this._InterstitialAdUnitId="372972",this._CustomAdId="372977",this._videoIdx=0,this._BannerIdx=0,this.preloadCustomAd(),this.preloadBanner()},e.prototype.onloginInit=function(){},e.prototype.checkVersion=function(t){return function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var o=parseInt(t[i]),a=parseInt(e[i]);if(o>a)return 1;if(o<a)return-1}return 0}(qg.getSystemInfoSync().platformVersionCode,t)>=0||(s.default.error("\u5f53\u524d\u7248\u672c\u8fc7\u4f4e\u3002\u65e0\u6cd5\u5b9e\u73b0\u8be5\u529f\u80fd"),!1)},e.prototype.login=function(){return new Promise(function(t,e){qg.login({success:function(e){t(e.data)},fail:function(t){e(t)}})})},e.prototype.onShareAppMessage=function(){return!0},e.prototype.onShareTimeline=function(){return!0},e.prototype.shareAppMessageFromUrl=function(){return new Promise(function(){})},e.prototype.getVideoId=function(){return this._videoIdx++,this._videoIdx>=this._RewardedVideoAdUnitIds.length&&(this._videoIdx=0),this._RewardedVideoAdUnitIds[this._videoIdx]},e.prototype.getBannerId=function(){return this._BannerIdx++,this._BannerIdx>=this._BannerId.length&&(this._BannerIdx=0),this._BannerId[this._BannerIdx]},e.prototype.createRewardedVideoAd=function(){try{var t=this.handler.createRewardedVideoAd({adUnitId:this.getVideoId()});return t&&(t.onLoad(function(){s.default.info("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\u3002")}),t.onError(function(t){s.default.error("AdAgentOPPO->createRewardedVideoAd error:",t.errCode,t.errMsg)}),t.onClose(function(t){s.default.info("\u89c6\u9891\u5e7f\u544a\u5173\u95ed>>>>>>>>>>>>>>>",t)}),t.load().then(function(){}).catch(function(){s.default.error("\u89c6\u9891\u5e7f\u544aload>>>>>>>>>>>>>>>")})),t}catch(e){s.default.error("AdAgentOPPO->createRewardedVideoAd error:",e.message,e.stack)}return null},e.prototype.preloadRewardedVideoAd=function(){s.default.info("\u9884\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891"),this.videoAD?this.videoAD.load():this.videoAD=this.createRewardedVideoAd()},e.prototype.showRewardedVideo=function(t){var e=this;return new Promise(function(n,i){var o=e.handler.createRewardedVideoAd({adUnitId:e.getVideoId()});o.onError(function(t){cc.game.resume(),o&&o.offClose(),o=null,i(t)}),o.onClose(function(e){cc.game.resume(),e.isEnded?(o.offClose(),t&&t(!0),n(!0)):n(!1),o&&o.offClose()}),o.load().then(function(){cc.game.pause()}).catch(function(t){i(t.errMsg)}),o.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),o.show()})})},e.prototype.showInterstitialAd=function(){return!0},e.prototype.createInterstitialAd=function(){return null},e.prototype.preloadInterstitialAD=function(){},e.prototype.checkIfClickBanner=function(t){console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6\u76d1\u542c"),this.handler.onHide(function(e){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6",e),e&&e.mode&&e.targetAction){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6-----"),"back"==e.mode&&3==e.targetAction||"hide"==e.mode&&-1==e.targetAction||"hide"==e.mode&&8==e.targetAction)return void console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef61");if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef62"),!e.targetPagePath)return;console.log("banner \u5207\u540e\u53f0"),t&&t()}})},e.prototype.setStorage=function(t,e){return qg.setStorageSync(t,e)},e.prototype.VibrateLocng=function(){console.log("Long\u9707\u52a8"),this.handler&&this.handler.vibrateLong()},e.prototype.VibrateShort=function(){console.log("Short\u9707\u52a8"),null!=this.handler&&(this.handler.vibrateShort(),console.log("Short\u9707\u52a81"))},e.prototype.getLaunchOptionsSync=function(){return null!=this.handler?this.handler.getLaunchOptionsSync():{scene:1001,query:{shareToken:"shareToken",action:"action",source:"",share_person_token:""},referrerInfo:"any"}},e.prototype.onStartLevel=function(t,e){void 0===e&&(e="")},e.prototype.onEndLevel=function(){},e.prototype.trackEvent=function(){},e.prototype.Subscription=function(){},e.prototype.checkUpdate=function(){var t=this;try{var e=this.handler.getUpdateManager();e.onUpdateReady(function(){t.handler.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u662f\u5426\u6253\u5f00\u65b0\u7248\u672c\uff1f",success:function(t){t.confirm&&e.applyUpdate()}}),s.default.info("\u53d1\u73b0\u65b0\u7684\u7248\u672c\u9700\u8981\u66f4\u65b0\uff0c\u7b49\u5f85\u7528\u6237\u64cd\u4f5c\u3002")}),e.onUpdateFailed(function(){qg.showModal({title:"\u66f4\u65b0\u5931\u8d25\u63d0\u793a",content:"\u8bf7\u68c0\u67e5\u5f53\u524d\u7f51\u7edc\u60c5\u51b5\u540e\u91cd\u542f\u5e94\u7528"})})}catch(a){s.default.error("AdAgentSQ->checkUpdate error:",a.message,a.stack)}return s.default.info("\u68c0\u6d4b\u5c0f\u7a0b\u5e8f\u7248\u672c\u66f4\u65b0\u3002"),!0},e.prototype.showModal=function(t,e,n,i,o){this.handler.showModal({title:t,content:e,showCancel:n,success:i,fail:o})},e.prototype.onHide=function(t){t&&this.handler.onHide(t)},e.prototype.onShow=function(t){t&&this.handler.onShow(t)},e.prototype.exitMiniProgram=function(){},e.prototype.showCustomAd=function(){var t=this;return new Promise(function(e){if(!(qg.getSystemInfoSync().platformVersionCode>=1076))return console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1076\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"),Global.onShowTosat("\u529f\u80fd\u5f00\u53d1\u4e2d\uff0c\u656c\u8bf7\u671f\u5f85"),null;if(t.CustomAd||t.preloadCustomAd(),!t.CustomAd)throw{errMsg:"CustomAd\u521b\u5efa\u5931\u8d25"};t.CustomAd.show().then(function(){console.log("CustomAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error("show error",t)}),e(!0)})},e.prototype.createCustomAd=function(t){if(!(qg.getSystemInfoSync().platformVersionCode>=1076))return console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1076\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"),null;var e=qg.createGamePortalAd({adUnitId:t});return e?(e.load().then(function(){console.log("load success")}).catch(function(t){console.log("load fail with:"+t.errCode+","+t.errMsg)}),e.onLoad(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.log("onError ",t)}),e):void 0},e.prototype.preloadCustomAd=function(){var t=this;if(!(qg.getSystemInfoSync().platformVersionCode>=1076))return console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1076\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"),null;s.default.info("\u9884\u52a0\u8f7d\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a"),this.CustomAd&&this.CustomAd.destroy(),this.CustomAd=this.createCustomAd(this._CustomAdId),this.CustomAd&&this.CustomAd.onClose(function(){s.default.info("CustomAd\u5173\u95ed"),t.preloadCustomAd()})},e.prototype.showBanner=function(){var t=this;return new Promise(function(e){if(t.BannerAd||t.preloadBanner(),!t.BannerAd)throw{errMsg:"Banner\u521b\u5efa\u5931\u8d25"};t.BannerAd.show().then(function(){console.log("BannerAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t)}),e(!0)})},e.prototype.hideBanner=function(){var t=this;return new Promise(function(e){t.BannerAd&&t.BannerAd.hide(),e(!0)})},e.prototype.createBannerAd=function(t){try{var e=this.handler.createBannerAd({adUnitId:t,style:{top:300,left:0,width:200,height:100}});return e?(e.onResize(function(t){var n=qg.getSystemInfoSync(),i=n.windowHeight,o=n.windowWidth;e.style.top=i-t.height-5,e.style.left=o/2-t.width/2}),e.onLoad(function(){console.log("Banner\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.error("Banner\u521b\u5efa\u5931\u8d25",t)}),e):null}catch(a){s.default.error("AdAgentoppo->createCustomAd error:",a.message,a.stack)}return null},e.prototype.preloadBanner=function(){var t=this;s.default.info("\u9884\u52a0\u8f7dbanner\u5e7f\u544a"),this.BannerAd=this.createBannerAd(this.getBannerId()),this.BannerAd&&this.BannerAd.hide(function(){s.default.info("Banner\u5173\u95ed"),t.preloadBanner()})},e.prototype.installShortcut=function(t){return new Promise(function(e,n){qg.getSystemInfoSync().platformVersionCode>=1044&&qg.hasShortcutInstalled({success:function(i){0==i?qg.installShortcut({success:function(){t&&t(!0),e(!0)},fail:function(t){n(t)},complete:function(){}}):1==i&&(t&&t(!0),e(!0))},fail:function(t){n(t)},complete:function(){}})})},e}(o("AdAgentBase").default);a.default=l,cc._RF.pop()},{}],AdAgentQQ:[function(t,e,n){"use strict";cc._RF.push(e,"23de9Nm1hdKRrCqtk9jzd0D","AdAgentQQ");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("LogManager"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this._RewardedVideoAdUnitIds=["0b875608ae53eb815e612ac1db1dff0b","9ff9f941b643e8686900ae8d076e1e9b"],this._BannerId=["b2b67d25881695302ba2117ad5917769"],this._InterstitialAdUnitId="be725bc963a05da572eb7173f925e17e",this._CustomAdId="",this._videoIdx=0,this._BannerIdx=0,this.checkUpdate(),this.preloadBanner()},e.prototype.onloginInit=function(){},e.prototype.checkVersion=function(t){return function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var o=parseInt(t[i]),a=parseInt(e[i]);if(o>a)return 1;if(o<a)return-1}return 0}(qq.getSystemInfoSync().SDKVersion,t)>=0||(s.default.error("\u5f53\u524d\u7248\u672c\u8fc7\u4f4e\u3002\u65e0\u6cd5\u5b9e\u73b0\u8be5\u529f\u80fd"),!1)},e.prototype.login=function(){return new Promise(function(t,e){qq.login({success:t,fail:e})})},e.prototype.onShareAppMessage=function(){return!0},e.prototype.onShareTimeline=function(){return!0},e.prototype.shareAppMessageFromUrl=function(t,e,n){var i=this;return new Promise(function(o,a){var r={title:t,imageUrl:e,query:n},l=0;try{i.handler.shareAppMessage(r),qq.onShow(function(){var t=((new Date).getTime()-l)/1e3;console.log("\u5f53\u524d\u65f6\u95f4\u5dee\u4e3a",t),t>=3?(console.log("\u5206\u4eab\u6210\u529f"),o(!0)):(console.log("\u5206\u4eab\u5931\u8d25"),o(!1))}),qq.onHide(function(){var t=new Date;l=t.getTime()})}catch(c){s.default.error("AdAgentQQ->shareAppMessageFromUrl error:",r,c.message,c.stack),a(c)}})},e.prototype.getVideoId=function(){return this._videoIdx++,this._videoIdx>=this._RewardedVideoAdUnitIds.length&&(this._videoIdx=0),this._RewardedVideoAdUnitIds[this._videoIdx]},e.prototype.getBannerId=function(){return this._BannerIdx++,this._BannerIdx>=this._BannerId.length&&(this._BannerIdx=0),this._BannerId[this._BannerIdx]},e.prototype.createRewardedVideoAd=function(){try{var t=this.handler.createRewardedVideoAd({adUnitId:this.getVideoId()});return t&&(t.onLoad(function(){s.default.info("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\u3002")}),t.onError(function(t){s.default.error("AdAgentQQ->createRewardedVideoAd error:",t.errCode,t.errMsg)}),t.onClose(function(t){s.default.info("\u89c6\u9891\u5e7f\u544a\u5173\u95ed>>>>>>>>>>>>>>>",t)}),t.load().then(function(){}).catch(function(){s.default.error("\u89c6\u9891\u5e7f\u544aload>>>>>>>>>>>>>>>")})),t}catch(e){s.default.error("AdAgentTT->createRewardedVideoAd error:",e.message,e.stack)}return null},e.prototype.preloadRewardedVideoAd=function(){s.default.info("\u9884\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891"),this.videoAD?this.videoAD.load():this.videoAD=this.createRewardedVideoAd()},e.prototype.showRewardedVideo=function(t){var e=this;return new Promise(function(n,i){var o=e.handler.createRewardedVideoAd({adUnitId:e.getVideoId()});o.onError(function(t){o&&o.offClose(),o=null,i(t)}),o.offClose(),o.onClose(function(e){cc.game.resume(),e.isEnded?(o.offClose(),t&&t(!0),n(!0)):n(!1),o&&o.offClose()}),o.load().then(function(){o.show()}).catch(function(t){i(t.errMsg)})})},e.prototype.showInterstitialAd=function(){var t=this;return new Promise(function(e){if(t.interstitialAD||t.preloadInterstitialAD(),!t.interstitialAD)throw{errMsg:"InterstitialAd\u521b\u5efa\u5931\u8d25"};t.interstitialAD.show().then(function(){console.log("interstitialAD\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t)}),e(!0)})},e.prototype.createInterstitialAd=function(t){try{var e=this.handler.createInterstitialAd({adUnitId:t});return e?(e.load().catch(function(t){console.error("interstitialAd load",t)}),e.onLoad(function(){console.log("interstitialAd\u52a0\u8f7d\u6210\u529f")}),e.onClose(function(){console.log("interstitialAd close event emit")}),e.onError(function(t){console.error("InterstitialAd\u521b\u5efa\u5931\u8d25",t)}),e):null}catch(a){s.default.error("AdAgentQQ->createInterstitialAd error:",a.message,a.stack)}return null},e.prototype.preloadInterstitialAD=function(){s.default.info("\u9884\u52a0\u8f7d\u63d2\u5c4f"),this.interstitialAD&&this.interstitialAD.destroy(),this.interstitialAD=this.createInterstitialAd(this._InterstitialAdUnitId),this.interstitialAD&&this.interstitialAD.onClose(function(){s.default.info("InterstitialAd\u5173\u95ed")})},e.prototype.checkIfClickBanner=function(t){console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6\u76d1\u542c"),this.handler.onHide(function(e){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6",e),e&&e.mode&&e.targetAction){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6-----"),"back"==e.mode&&3==e.targetAction||"hide"==e.mode&&-1==e.targetAction||"hide"==e.mode&&8==e.targetAction)return void console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef61");if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef62"),!e.targetPagePath)return;console.log("banner \u5207\u540e\u53f0"),t&&t()}})},e.prototype.setStorage=function(t,e){return qq.setStorageSync(t,e)},e.prototype.VibrateLocng=function(){console.log("Long\u9707\u52a8"),this.handler&&this.handler.vibrateLong()},e.prototype.VibrateShort=function(){console.log("Short\u9707\u52a8"),null!=this.handler&&(this.handler.vibrateShort(),console.log("Short\u9707\u52a81"))},e.prototype.getLaunchOptionsSync=function(){return null!=this.handler?this.handler.getLaunchOptionsSync():{scene:1001,query:{shareToken:"shareToken",action:"action",source:"",share_person_token:""},referrerInfo:"any"}},e.prototype.onStartLevel=function(t,e){void 0===e&&(e="")},e.prototype.onEndLevel=function(){},e.prototype.trackEvent=function(){},e.prototype.Subscription=function(){},e.prototype.checkUpdate=function(){var t=this;try{var e=this.handler.getUpdateManager();e.onUpdateReady(function(){t.handler.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u662f\u5426\u6253\u5f00\u65b0\u7248\u672c\uff1f",success:function(t){t.confirm&&e.applyUpdate()}}),s.default.info("\u53d1\u73b0\u65b0\u7684\u7248\u672c\u9700\u8981\u66f4\u65b0\uff0c\u7b49\u5f85\u7528\u6237\u64cd\u4f5c\u3002")}),e.onUpdateFailed(function(){qq.showModal({title:"\u66f4\u65b0\u5931\u8d25\u63d0\u793a",content:"\u8bf7\u68c0\u67e5\u5f53\u524d\u7f51\u7edc\u60c5\u51b5\u540e\u91cd\u542f\u5e94\u7528"})})}catch(a){s.default.error("AdAgentSQ->checkUpdate error:",a.message,a.stack)}return s.default.info("\u68c0\u6d4b\u5c0f\u7a0b\u5e8f\u7248\u672c\u66f4\u65b0\u3002"),!0},e.prototype.showModal=function(t,e,n,i,o){this.handler.showModal({title:t,content:e,showCancel:n,success:i,fail:o})},e.prototype.onHide=function(t){t&&this.handler.onHide(t)},e.prototype.onShow=function(t){t&&this.handler.onShow(t)},e.prototype.exitMiniProgram=function(){this.handler.exitMiniProgram()},e.prototype.showCustomAd=function(){return Global.onShowTosat("\u529f\u80fd\u5f00\u53d1\u4e2d\uff0c\u656c\u8bf7\u671f\u5f85"),null},e.prototype.createCustomAd=function(t){if(!this.checkVersion("2.11.1")||"function"!=typeof this.handler.createCustomAd)return s.default.info("\u4e0d\u652f\u6301\u683c\u5b50"),null;try{var e=qq.getSystemInfoSync().windowWidth,n=this.handler.createCustomAd({adUnitId:t,style:{left:e/2-187.5,top:375/7.6,width:375}});return n?(n.onLoad(function(){console.log("CustomAd\u52a0\u8f7d\u6210\u529f")}),n.onError(function(t){console.error("CustomAd\u521b\u5efa\u5931\u8d25",t)}),n):null}catch(i){s.default.error("AdAgentQQ->createCustomAd error:",i.message,i.stack)}return null},e.prototype.preloadCustomAd=function(){var t=this;s.default.info("\u9884\u52a0\u8f7d\u683c\u5b50\u5e7f\u544a"),this.CustomAd&&this.CustomAd.destroy(),this.CustomAd=this.createCustomAd(this._CustomAdId),this.CustomAd&&this.CustomAd.onClose(function(){s.default.info("CustomAd\u5173\u95ed"),t.preloadCustomAd()})},e.prototype.showBanner=function(){var t=this;return new Promise(function(e){if(t.BannerAd||t.preloadBanner(),!t.BannerAd)throw{errMsg:"Banner\u521b\u5efa\u5931\u8d25"};t.BannerAd.show().then(function(){console.log("BannerAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t)}),e(!0)})},e.prototype.hideBanner=function(){var t=this;return new Promise(function(e){t.BannerAd&&t.BannerAd.hide(),e(!0)})},e.prototype.createBannerAd=function(t){try{var e=this.handler.createBannerAd({adUnitId:t,adIntervals:30,style:{left:50,top:140,width:100}});return e?(e.onResize(function(t){var n=qq.getSystemInfoSync(),i=n.windowHeight,o=n.windowWidth;e.style.top=i-t.height-5,e.style.left=o/2-t.width/2}),e.onLoad(function(){console.log("Banner\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.error("Banner\u521b\u5efa\u5931\u8d25",t)}),e):null}catch(a){s.default.error("AdAgentQQ->createCustomAd error:",a.message,a.stack)}return null},e.prototype.preloadBanner=function(){var t=this;s.default.info("\u9884\u52a0\u8f7dbanner\u5e7f\u544a"),this.BannerAd=this.createBannerAd(this.getBannerId()),this.BannerAd&&this.BannerAd.hide(function(){s.default.info("Banner\u5173\u95ed"),t.preloadBanner()})},e}(o("AdAgentBase").default);a.default=l,cc._RF.pop()},{}],AdAgentTT:[function(t,e,n){"use strict";cc._RF.push(e,"749b3rZ4lZHDJ9zD7e24XOd","AdAgentTT");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0}),a.TTappName=void 0;var s,l=o("GameCalculate"),c=o("LogManager"),u=o("CurrencyType"),p=o("GameStatsManager"),d=o("configStore"),f=o("Admanager"),h=o("AdAgentBase"),y=o("TTRecord"),g=o("TTSubscription");(function(t){t.Toutiao="Toutiao",t.Douyin="Douyin",t.news_article_lite="news_article_lite",t.live_stream="live_stream",t.XiGua="XiGua",t.PPX="PPX",t.douyin_lite="douyin_lite",t.live_stream_lite="live_stream_lite",t.novel_fm="novel_fm",t.novelapp="novelapp"})(s=a.TTappName||(a.TTappName={}));var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this._RewardedVideoAdUnitIds=["7e9qlba09k87tdgj6j","1ba5bjc6bnfj23ilbl","3992cegkca1mkq2cpb","arf6fo40bg3i4en6vo"],this._BannerId=["giqkq1ja1uecpp0q1k","gojkibjd3ae1ys2hq8","jdji3kpn8nbb4g7jni"],this._InterstitialAdUnitId="2t85n2ctu3o18amoc6",this._videoIdx=0,this._BannerIdx=0,this.checkUpdate(),this.checkShortcut()},e.prototype.onloginInit=function(){y.default.initConfig({viedoShareData:{videoTopics:["\u963f\u62c9\u5fb7\u52c7\u8005","\u6296\u97f3\u5c0f\u6e38\u620f "],hashtag_list:["\u963f\u62c9\u5fb7\u52c7\u8005","\u6296\u97f3\u5c0f\u6e38\u620f "],video_title:f.default.instance.getRandomShare().lb}})},e.prototype.checkVersion=function(t){return function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var o=parseInt(t[i]),a=parseInt(e[i]);if(o>a)return 1;if(o<a)return-1}return 0}(this.handler.getSystemInfoSync().SDKVersion,t)>=0||(c.default.error("\u5f53\u524d\u7248\u672c\u8fc7\u4f4e\u3002\u65e0\u6cd5\u5b9e\u73b0\u8be5\u529f\u80fd"),!1)},e.prototype.checkappName=function(t){var e=this.handler.getSystemInfoSync().appName;return e==t||(c.default.error("\u5f53\u524dapp\u4e0d\u652f\u6301\u8be5\u529f\u80fd\u3002appname:"+e),!1)},e.prototype.login=function(){var t=this;return new Promise(function(e,n){t.handler.login({force:!1,success:e,fail:function(t){10401==t.errNo||"10401"==t.errNo?(console.log("\u7528\u6237\u53d6\u6d88\u767b\u5f55",t),e({isLogin:!1})):n()}})})},e.prototype.onShareAppMessage=function(t){try{this.handler.showShareMenu(),this.handler.onShareAppMessage(function(){return{title:t.title,imageUrl:t.imageUrl,query:t?t.query:"",cancel:function(){console.log("share canel")}}})}catch(e){c.default.error("AdAgentWx->onShareAppMessage error:",e.message,e.stack)}return!0},e.prototype.onShareTimeline=function(){return!0},e.prototype.shareAppMessageFromUrl=function(t,e,n){var i=this;return new Promise(function(o,a){var r={title:t,imageUrl:e,query:n,success:function(){console.log("\u5206\u4eab\u6210\u529f"),o(!0)},fail:function(){console.log("\u5206\u4eab\u5931\u8d25"),o(!1)}};try{i.handler.shareAppMessage(r)}catch(u){c.default.error("AdAgentWx->shareAppMessageFromUrl error:",r,u.message,u.stack),a(u)}})},e.prototype.getVideoId=function(){return this._videoIdx++,this._videoIdx>=this._RewardedVideoAdUnitIds.length&&(this._videoIdx=0),this._RewardedVideoAdUnitIds[this._videoIdx]},e.prototype.getBannerId=function(){return this._BannerIdx++,this._BannerIdx>=this._BannerId.length&&(this._BannerIdx=0),this._BannerId[this._BannerIdx]},e.prototype.createRewardedVideoAd=function(){try{var t=this.handler.createRewardedVideoAd({adUnitId:this.getVideoId()});return t&&(t.onLoad(function(){c.default.info("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\u3002")}),t.onError(function(t){c.default.error("AdAgentQQ->createRewardedVideoAd error:",t.errCode,t.errMsg)}),t.onClose(function(t){c.default.info("\u89c6\u9891\u5e7f\u544a\u5173\u95ed>>>>>>>>>>>>>>>",t)}),t.load().then(function(){}).catch(function(){c.default.error("\u89c6\u9891\u5e7f\u544aload>>>>>>>>>>>>>>>")})),t}catch(e){c.default.error("AdAgentTT->createRewardedVideoAd error:",e.message,e.stack)}return null},e.prototype.preloadRewardedVideoAd=function(){c.default.info("\u9884\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891"),this.videoAD?this.videoAD.load():this.videoAD=this.createRewardedVideoAd()},e.prototype.showRewardedVideo=function(t){var e=this;return new Promise(function(n,i){var o=e.handler.createRewardedVideoAd({adUnitId:e.getVideoId()});o.onError(function(t){cc.game.resume(),o&&o.offClose(),o=null,i(t)}),o.offClose(),o.onClose(function(e){cc.game.resume(),e.isEnded?(o.offClose(),t&&t(!0),n(!0)):n(!1),o&&o.offClose()}),o.load().then(function(){o.show()}).catch(function(t){cc.game.resume(),i(t.errMsg)})})},e.prototype.showInterstitialAd=function(){var t=this;return new Promise(function(e){if(t.interstitialAD||t.preloadInterstitialAD(),!t.interstitialAD)throw{errMsg:"InterstitialAd\u521b\u5efa\u5931\u8d25"};t.interstitialAD.show().then(function(){console.log("nterstitialAd\u663e\u793a\u6210\u529f")}).catch(function(){}),e(!0)})},e.prototype.createInterstitialAd=function(t){try{var e=this.handler.createInterstitialAd({adUnitId:t});return e?(e.onLoad(function(){console.log("nterstitialAd\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.error("InterstitialAd\u521b\u5efa\u5931\u8d25",t),e=null}),e):null}catch(a){c.default.error("AdAgentWx->createInterstitialAd error:",a.message,a.stack)}return null},e.prototype.preloadInterstitialAD=function(){var t=this;c.default.info("\u9884\u52a0\u8f7d\u63d2\u5c4f"),this.interstitialAD&&this.interstitialAD.destroy(),this.interstitialAD=this.createInterstitialAd(this._InterstitialAdUnitId),this.interstitialAD&&this.interstitialAD.onClose(function(){c.default.info("InterstitialAd\u5173\u95ed"),t.preloadInterstitialAD()})},e.prototype.checkIfClickBanner=function(t){console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6\u76d1\u542c"),this.handler.onHide(function(e){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6",e),e&&e.mode&&e.targetAction){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6-----"),"back"==e.mode&&3==e.targetAction||"hide"==e.mode&&-1==e.targetAction||"hide"==e.mode&&8==e.targetAction)return void console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef61");if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef62"),!e.targetPagePath)return;console.log("banner \u5207\u540e\u53f0"),t&&t()}})},e.prototype.setStorage=function(t,e){return wx.setStorageSync(t,e)},e.prototype.VibrateLocng=function(){console.log("Long\u9707\u52a8"),this.handler&&this.handler.vibrateLong()},e.prototype.VibrateShort=function(){console.log("Short\u9707\u52a8"),null!=this.handler&&(this.handler.vibrateShort(),console.log("Short\u9707\u52a81"))},e.prototype.getLaunchOptionsSync=function(){return null!=this.handler?this.handler.getLaunchOptionsSync():{scene:"021001",query:{shareToken:"shareToken",action:"action",source:"",share_person_token:""},referrerInfo:"any"}},e.prototype.onStartLevel=function(t,e){void 0===e&&(e="")},e.prototype.onEndLevel=function(){},e.prototype.trackEvent=function(){},e.prototype.Subscription=function(){this.checkappName(s.Douyin)&&g.default.init(!0)},e.prototype.checkUpdate=function(){var t=this;try{var e=this.handler.getUpdateManager();e.onUpdateReady(function(){t.handler.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u662f\u5426\u6253\u5f00\u65b0\u7248\u672c\uff1f",success:function(t){t.confirm&&e.applyUpdate()}}),c.default.info("\u53d1\u73b0\u65b0\u7684\u7248\u672c\u9700\u8981\u66f4\u65b0\uff0c\u7b49\u5f85\u7528\u6237\u64cd\u4f5c\u3002")}),e.onUpdateFailed(function(){t.handler.showModal({title:"\u66f4\u65b0\u5931\u8d25\u63d0\u793a",content:"\u8bf7\u68c0\u67e5\u5f53\u524d\u7f51\u7edc\u60c5\u51b5\u540e\u91cd\u542f\u5e94\u7528"})})}catch(a){c.default.error("AdAgentSQ->checkUpdate error:",a.message,a.stack)}return c.default.info("\u68c0\u6d4b\u5c0f\u7a0b\u5e8f\u7248\u672c\u66f4\u65b0\u3002"),!0},e.prototype.showModal=function(t,e,n,i,o){this.handler.showModal({title:t,content:e,showCancel:n,success:i,fail:o})},e.prototype.onHide=function(t){t&&this.handler.onHide(t)},e.prototype.onShow=function(t){t&&this.handler.onShow(t)},e.prototype.exitMiniProgram=function(){this.handler.exitMiniProgram()},e.prototype.navigateToMiniProgram=function(t){this.handler.navigateToMiniProgram({appId:t.appId,success:function(){console.log("\u8df3\u8f6c\u6210\u529f")},fail:function(t){console.log("\u8df3\u8f6c\u5931\u8d25",t)}})},e.prototype.showCustomAd=function(){return new Promise(function(){})},e.prototype.showBanner=function(){var t=this;return new Promise(function(e){if(t.BannerAd||t.preloadBanner(),!t.BannerAd)throw{errMsg:"Banner\u521b\u5efa\u5931\u8d25"};t.BannerAd.show().then(function(){console.log("BannerAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t)}),e(!0)})},e.prototype.hideBanner=function(){var t=this;return new Promise(function(e){t.BannerAd&&t.BannerAd.hide(),e(!0)})},e.prototype.createBannerAd=function(t){try{var e=this.handler.getSystemInfoSync(),n=e.windowHeight,i=e.windowWidth,o=this.handler.createBannerAd({adUnitId:t,style:{top:n-112.5,left:(i-200)/2,width:200}});return o?(o.onResize(function(t){o.style.top=n-t.height,o.style.left=(i-t.width)/2}),o.onError(function(t){console.error("Banner\u521b\u5efa\u5931\u8d25",t)}),o):null}catch(s){c.default.error("AdAgentWx->createCustomAd error:",s.message,s.stack)}return null},e.prototype.preloadBanner=function(){c.default.info("\u9884\u52a0\u8f7dbanner\u5e7f\u544a"),this.BannerAd=this.createBannerAd(this.getBannerId())},e.prototype.recorderStart=function(){y.default.recorderStart()},e.prototype.recorderStop=function(t){y.default.recorderStop(t)},e.prototype.GetRecorder=function(){return y.default.GetRecorder()},e.prototype.viedoShare=function(t,e){if(!y.default.ifRecorderTimeOk())return console.log("\u5f55\u5c4f\u65f6\u95f4\u4e0d\u8db3"),Global.onShowTosat("\u5f55\u5c4f\u65f6\u95f4\u8fc7\u77ed,\u65e0\u6cd5\u5206\u4eab",3),void y.default.recorderStop();var n=function(){y.default.viedoShare().then(function(n){n?(console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"),Global.onShowTosat("\u5206\u4eab\u5f55\u5c4f\u6210\u529f",3),t&&t()):(Global.onShowTosat("\u53d6\u6d88\u5f55\u5c4f\u5206\u4eab",3),console.log("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25"),e&&e())}).catch(function(t){console.log(t)})};y.default.recorderIfSuccess?y.default.recorderStop(n):n()},e.prototype.getVideoShare=function(){return!!y.default._recorPath},e.prototype.isOpen=function(){return 0!=d.default.isLogin},e.prototype.openAwemeUserProfile=function(){this.checkappName(s.Douyin)?this.checkappName(s.Douyin)&&this.handler.openAwemeUserProfile({success:function(t){console.log("openAwemeUserProfile---success",t),0==p.default.instance.GuanzhuDouyin&&(p.default.instance.GuanZhuDouyin=!0,setTimeout(function(){l.default.Get(u.CurrencyType.COUPON,1e3),Global.onShowTosat("\u5df2\u83b7\u5f971000\u5b9d\u77f3",3)},2e3))},fail:function(t){console.log("openAwemeUserProfile---fail",t),Global.onShowTosat("\u8be5\u529f\u80fd\u6682\u65f6\u4e0d\u652f\u6301")}}):Global.onShowTosat("\u6682\u65f6\u53ea\u652f\u6301\u5728\u6296\u97f3 App \u4e0a\u4f7f\u7528")},e.prototype.createContactBtn=function(t){var e,n,i=tt.getSystemInfoSync(),o=i.safeArea.height,a=i.safeArea.width,r=t.convertToWorldSpaceAR(cc.v2(0,0));e=(cc.view.getVisibleSize().height-r.y)/cc.view.getVisibleSize().height*o,n=r.x/cc.view.getVisibleSize().width*a+20;var s=42/cc.view.getVisibleSize().width*a*1.5,l=50/cc.view.getVisibleSize().height*o*1.5;this.ContactBtn=tt.createContactButton({type:"image",image:"./btn_kefu.png",style:{left:n,top:e,width:s,height:l,lineHeight:40,backgroundColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,borderColor:"#ffffff",borderWidth:1,textColor:"#ffffff"},success:function(t){console.log("create success",t)},fail:function(t){console.log("create fail",t)},complete:function(t){console.log("create complete",t)}}),this.ContactBtn.onTap(function(){console.log("\u70b9\u51fb\u5ba2\u670d\u6309\u94ae")}),this.ContactBtn.show(),this.ContactBtn.onError(function(t){console.log(t.errMsg)})},e.prototype.onKefuHide=function(){this.ContactBtn&&this.ContactBtn.hide()},e.prototype.onKefuShow=function(){this.ContactBtn&&this.ContactBtn.show()},e.prototype.createMoreGameBtn=function(t){var e,n,i=tt.getSystemInfoSync(),o=i.safeArea.height,a=i.safeArea.width,r=t.convertToWorldSpaceAR(cc.v2(0,0));e=(cc.view.getVisibleSize().height-r.y)/cc.view.getVisibleSize().height*o,n=r.x/cc.view.getVisibleSize().width*a+20;var s=204/cc.view.getVisibleSize().width*a*.9,l=89/cc.view.getVisibleSize().height*o*.9;this.MoreGameBtn=tt.createMoreGamesButton({type:"image",image:"./btn_moregame.png",style:{left:n,top:e,width:s,height:l,lineHeight:40,backgroundColor:"#ff0000",textColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,borderWidth:1,borderColor:"#ff0000"},appLaunchOptions:[{appId:"tt9b12edaf042b1ad602",query:"foo=bar&baz=qux",extraData:{}}],onNavigateToMiniGameBox:function(t){console.log("\u8df3\u8f6c\u5230\u5c0f\u6e38\u620f\u76d2\u5b50",t)}}),this.MoreGameBtn.onTap(function(){console.log("\u70b9\u51fb\u66f4\u591a\u6e38\u620f")})},e.prototype.onMoreGameHide=function(){this.MoreGameBtn&&this.MoreGameBtn.hide()},e.prototype.onMoreGameShow=function(){this.MoreGameBtn&&this.MoreGameBtn.show()},e.prototype.addShortcutTT=function(t){var e=this;this.isHaveShortcut?Global.onShowTosat("\u6bcf\u65e5\u9996\u6b21\u4ece\u684c\u9762\u8fdb\u5165\u53ef\u83b7\u5f97\u989d\u5916\u5956\u52b1"):tt.addShortcut({success:function(){Global.onShowTosat("\u521b\u5efa\u684c\u9762\u56fe\u6807\u6210\u529f"),e.checkShortcut(),t&&t(!0)},fail:function(t){Global.onShowTosat("\u521b\u5efa\u684c\u9762\u56fe\u6807\u5931\u8d25"),console.log("addShortcut errMsg",t.errMsg)}})},e.prototype.checkShortcut=function(){var t=this;tt.checkShortcut({success:function(e){0==e.status.exist?(t.isHaveShortcut=!1,GEvent.emit(GEventName.AdTTAddDesktop),console.log("\u672a\u521b\u5efa\u684c\u9762\u56fe\u6807")):1==e.status.exist&&(t.isHaveShortcut=!0,GEvent.emit(GEventName.AdTTAddDesktop),console.log("\u5df2\u521b\u5efa\u684c\u9762\u56fe\u6807"))},fail:function(t){console.log("checkShortcut errMsg",t.errMsg)}})},e.prototype.setClipboardData=function(t){tt.setClipboardData({data:t,success:function(t){console.log("setClipboardData\u8c03\u7528\u6210\u529f",t),tt.getClipboardData({success:function(t){console.log("getClipboardData",t.data),Global.onShowTosat("\u590d\u5236\u6210\u529f id\uff1a"+t.data)},fail:function(t){console.log("getClipboardData\u8c03\u7528\u5931\u8d25",t)}})},fail:function(t){console.log("setClipboardData\u8c03\u7528\u5931\u8d25",t)}})},e}(h.default);a.default=m,cc._RF.pop()},{}],AdAgentVIVO:[function(t,e,n){"use strict";cc._RF.push(e,"bb49fmRBnFFcKRXRDbP4Jlu","AdAgentVIVO");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("LogManager"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this._RewardedVideoAdUnitIds=["372968","372971"],this._BannerId=["372967"],this._InterstitialAdUnitId="372972",this._CustomAdId="372977",this._videoIdx=0,this._BannerIdx=0,this.preloadBanner()},e.prototype.onloginInit=function(){},e.prototype.checkVersion=function(t){return function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var o=parseInt(t[i]),a=parseInt(e[i]);if(o>a)return 1;if(o<a)return-1}return 0}(qg.getSystemInfoSync().platformVersionCode,t)>=0||(s.default.error("\u5f53\u524d\u7248\u672c\u8fc7\u4f4e\u3002\u65e0\u6cd5\u5b9e\u73b0\u8be5\u529f\u80fd"),!1)},e.prototype.login=function(){return new Promise(function(t,e){qg.login({success:function(e){t(e.data)},fail:function(t){e(t)}})})},e.prototype.onShareAppMessage=function(){return!0},e.prototype.onShareTimeline=function(){return!0},e.prototype.shareAppMessageFromUrl=function(){return new Promise(function(){})},e.prototype.getVideoId=function(){return this._videoIdx++,this._videoIdx>=this._RewardedVideoAdUnitIds.length&&(this._videoIdx=0),this._RewardedVideoAdUnitIds[this._videoIdx]},e.prototype.getBannerId=function(){return this._BannerIdx++,this._BannerIdx>=this._BannerId.length&&(this._BannerIdx=0),this._BannerId[this._BannerIdx]},e.prototype.createRewardedVideoAd=function(){try{var t=this.handler.createRewardedVideoAd({posId:this.getVideoId()});return t&&(t.onLoad(function(){s.default.info("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\u3002")}),t.onError(function(t){s.default.error("AdAgentVIVO->createRewardedVideoAd error:",t.errCode,t.errMsg)}),t.onClose(function(t){s.default.info("\u89c6\u9891\u5e7f\u544a\u5173\u95ed>>>>>>>>>>>>>>>",t)}),t.load().then(function(){}).catch(function(){s.default.error("\u89c6\u9891\u5e7f\u544aload>>>>>>>>>>>>>>>")})),t}catch(e){s.default.error("AdAgentVIVO->createRewardedVideoAd error:",e.message,e.stack)}return null},e.prototype.preloadRewardedVideoAd=function(){s.default.info("\u9884\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891"),this.videoAD?this.videoAD.load():this.videoAD=this.createRewardedVideoAd()},e.prototype.showRewardedVideo=function(t){var e=this;return new Promise(function(n,i){var o=e.handler.createRewardedVideoAd({posId:e.getVideoId()});o.onError(function(t){cc.game.resume(),o&&o.offClose(),o=null,i(t)}),o.onClose(function(e){cc.game.resume(),e.isEnded?(o.offClose(),t&&t(!0),n(!0)):n(!1),o&&o.offClose()}),o.load().then(function(){cc.game.pause()}).catch(function(t){i(t.errMsg)}),o.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),o.show()})})},e.prototype.showInterstitialAd=function(){var t=this;return new Promise(function(e){if(t.interstitialAD||t.preloadInterstitialAD(),!t.interstitialAD)throw{errMsg:"InterstitialAd\u521b\u5efa\u5931\u8d25"};t.interstitialAD.show().then(function(){console.log("nterstitialAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t)}),e(!0)})},e.prototype.createInterstitialAd=function(t){if(qg.getSystemInfoSync().platformVersionCode<1031||"function"!=typeof this.handler.createInterstitialAd)return console.log("\u4e0d\u652f\u6301\u63d2\u5c4f"),null;try{var e=this.handler.createInterstitialAd({posId:t});return e?(e.onLoad(function(){console.log("nterstitialAd\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.error("InterstitialAd\u521b\u5efa\u5931\u8d25",t)}),e):null}catch(a){s.default.error("AdAgentWx->createInterstitialAd error:",a.message,a.stack)}return null},e.prototype.preloadInterstitialAD=function(){var t=this;s.default.info("\u9884\u52a0\u8f7d\u63d2\u5c4f"),this.interstitialAD&&this.interstitialAD.destroy(),this.interstitialAD=this.createInterstitialAd(this._InterstitialAdUnitId),this.interstitialAD&&this.interstitialAD.onClose(function(){s.default.info("InterstitialAd\u5173\u95ed"),t.preloadInterstitialAD()})},e.prototype.checkIfClickBanner=function(t){console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6\u76d1\u542c"),this.handler.onHide(function(e){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6",e),e&&e.mode&&e.targetAction){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6-----"),"back"==e.mode&&3==e.targetAction||"hide"==e.mode&&-1==e.targetAction||"hide"==e.mode&&8==e.targetAction)return void console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef61");if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef62"),!e.targetPagePath)return;console.log("banner \u5207\u540e\u53f0"),t&&t()}})},e.prototype.setStorage=function(t,e){return qg.setStorageSync(t,e)},e.prototype.VibrateLocng=function(){console.log("Long\u9707\u52a8"),this.handler&&this.handler.vibrateLong()},e.prototype.VibrateShort=function(){console.log("Short\u9707\u52a8"),null!=this.handler&&(this.handler.vibrateShort(),console.log("Short\u9707\u52a81"))},e.prototype.getLaunchOptionsSync=function(){return null!=this.handler?this.handler.getLaunchOptionsSync():{scene:1001,query:{shareToken:"shareToken",action:"action",source:"",share_person_token:""},referrerInfo:"any"}},e.prototype.onStartLevel=function(t,e){void 0===e&&(e="")},e.prototype.onEndLevel=function(){},e.prototype.trackEvent=function(){},e.prototype.Subscription=function(){},e.prototype.checkUpdate=function(){var t=this;try{var e=this.handler.getUpdateManager();e.onUpdateReady(function(){t.handler.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u662f\u5426\u6253\u5f00\u65b0\u7248\u672c\uff1f",success:function(t){t.confirm&&e.applyUpdate()}}),s.default.info("\u53d1\u73b0\u65b0\u7684\u7248\u672c\u9700\u8981\u66f4\u65b0\uff0c\u7b49\u5f85\u7528\u6237\u64cd\u4f5c\u3002")}),e.onUpdateFailed(function(){qg.showModal({title:"\u66f4\u65b0\u5931\u8d25\u63d0\u793a",content:"\u8bf7\u68c0\u67e5\u5f53\u524d\u7f51\u7edc\u60c5\u51b5\u540e\u91cd\u542f\u5e94\u7528"})})}catch(a){s.default.error("AdAgentSQ->checkUpdate error:",a.message,a.stack)}return s.default.info("\u68c0\u6d4b\u5c0f\u7a0b\u5e8f\u7248\u672c\u66f4\u65b0\u3002"),!0},e.prototype.showModal=function(t,e,n,i,o){this.handler.showModal({title:t,content:e,showCancel:n,success:i,fail:o})},e.prototype.onHide=function(t){t&&this.handler.onHide(t)},e.prototype.onShow=function(t){t&&this.handler.onShow(t)},e.prototype.exitMiniProgram=function(){this.handler.exitMiniProgram()},e.prototype.showCustomAd=function(){return new Promise(function(){})},e.prototype.createCustomAd=function(){return null},e.prototype.preloadCustomAd=function(){return null},e.prototype.showBanner=function(){var t=this;return new Promise(function(e){if(t.BannerAd||t.preloadBanner(),!t.BannerAd)throw{errMsg:"Banner\u521b\u5efa\u5931\u8d25"};t.BannerAd.show().then(function(){console.log("BannerAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t)}),e(!0)})},e.prototype.hideBanner=function(){var t=this;return new Promise(function(e){t.BannerAd&&t.BannerAd.hide(),e(!0)})},e.prototype.createBannerAd=function(t){try{var e=this.handler.createBannerAd({posId:t,style:{top:300,left:0,width:200,height:100}});return e?(e.onResize(function(t){var n=qg.getSystemInfoSync(),i=n.windowHeight,o=n.windowWidth;e.style.top=i-t.height-5,e.style.left=o/2-t.width/2}),e.onLoad(function(){console.log("Banner\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.error("Banner\u521b\u5efa\u5931\u8d25",t)}),e):null}catch(a){s.default.error("AdAgentVIVO->createCustomAd error:",a.message,a.stack)}return null},e.prototype.preloadBanner=function(){var t=this;s.default.info("\u9884\u52a0\u8f7dbanner\u5e7f\u544a"),this.BannerAd=this.createBannerAd(this.getBannerId()),this.BannerAd&&this.BannerAd.hide(function(){s.default.info("Banner\u5173\u95ed"),t.preloadBanner()})},e}(o("AdAgentBase").default);a.default=l,cc._RF.pop()},{}],AdAgentWx:[function(t,e,n){"use strict";cc._RF.push(e,"d7217MFofhNUqkKZjvIDnZt","AdAgentWx");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("LogManager"),l=o("configStore"),c=o("umaManager"),u=o("AdAgentBase"),p=o("WXSubscription"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this._RewardedVideoAdUnitIds=["adunit-d094a2ff8b04d7ae","adunit-72032dfdef8ff435"],this._BannerId=["adunit-a6346ca313a0a853"],this._InterstitialAdUnitId="adunit-8ee6541416b95616",this._CustomAdId="adunit-4394adf8ecfdb33c",this._videoIdx=0,this._BannerIdx=0,this.checkUpdate(),this.preloadCustomAd(),this.preloadBanner()},e.prototype.onloginInit=function(){c.default.onInit()},e.prototype.checkVersion=function(t){return function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var o=parseInt(t[i]),a=parseInt(e[i]);if(o>a)return 1;if(o<a)return-1}return 0}(wx.getSystemInfoSync().SDKVersion,t)>=0||(s.default.error("\u5f53\u524d\u7248\u672c\u8fc7\u4f4e\u3002\u65e0\u6cd5\u5b9e\u73b0\u8be5\u529f\u80fd"),!1)},e.prototype.login=function(){return new Promise(function(t,e){wx.login({success:t,fail:e})})},e.prototype.onShareAppMessage=function(t){try{this.handler.showShareMenu(),this.handler.onShareAppMessage(function(){return{title:t.title,imageUrl:t.imageUrl,query:t?t.query:"",cancel:function(){console.log("share canel")}}}),this.handler.updateShareMenu({withShareTicket:!0})}catch(e){s.default.error("AdAgentWx->onShareAppMessage error:",e.message,e.stack)}return!0},e.prototype.onShareTimeline=function(t){try{this.handler.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),this.handler.onShareTimeline(function(){return{title:t.title,imageUrl:t.imageUrl,cancel:function(){console.log("onShareTimeline cancel")}}})}catch(e){s.default.error("AdAgentWx->onShareTimeline error:",e.message,e.stack)}return!0},e.prototype.shareAppMessageFromUrl=function(t,e,n){var i=this;return new Promise(function(o,a){var r={title:t,imageUrl:e,query:n},l=0;try{i.handler.shareAppMessage(r),wx.onShow(function(){var t=((new Date).getTime()-l)/1e3;console.log("\u5f53\u524d\u65f6\u95f4\u5dee\u4e3a",t),t>=3?(console.log("\u5206\u4eab\u6210\u529f"),o(!0)):(console.log("\u5206\u4eab\u5931\u8d25"),o(!1))}),wx.onHide(function(){var t=new Date;l=t.getTime()})}catch(p){s.default.error("AdAgentWx->shareAppMessageFromUrl error:",r,p.message,p.stack),a(p)}})},e.prototype.getVideoId=function(){return this._videoIdx++,this._videoIdx>=this._RewardedVideoAdUnitIds.length&&(this._videoIdx=0),this._RewardedVideoAdUnitIds[this._videoIdx]},e.prototype.getBannerId=function(){return this._BannerIdx++,this._BannerIdx>=this._BannerId.length&&(this._BannerIdx=0),this._BannerId[this._BannerIdx]},e.prototype.createRewardedVideoAd=function(){try{var t=this.handler.createRewardedVideoAd({adUnitId:this.getVideoId()});return t&&(t.onLoad(function(){s.default.info("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\u3002")}),t.onError(function(t){s.default.error("AdAgentQQ->createRewardedVideoAd error:",t.errCode,t.errMsg)}),t.onClose(function(t){s.default.info("\u89c6\u9891\u5e7f\u544a\u5173\u95ed>>>>>>>>>>>>>>>",t)}),t.load().then(function(){}).catch(function(){s.default.error("\u89c6\u9891\u5e7f\u544aload>>>>>>>>>>>>>>>")})),t}catch(e){s.default.error("AdAgentTT->createRewardedVideoAd error:",e.message,e.stack)}return null},e.prototype.preloadRewardedVideoAd=function(){s.default.info("\u9884\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891"),this.videoAD?this.videoAD.load():this.videoAD=this.createRewardedVideoAd()},e.prototype.showRewardedVideo=function(t){var e=this;return new Promise(function(n,i){var o=e.handler.createRewardedVideoAd({adUnitId:e.getVideoId()});o.onError(function(t){o&&o.offClose(),o=null,i(t)}),o.offClose(),o.onClose(function(e){cc.game.resume(),e.isEnded?(o.offClose(),t&&t(!0),n(!0)):n(!1),o&&o.offClose()}),o.load().then(function(){o.show()}).catch(function(t){i(t.errMsg)})})},e.prototype.showInterstitialAd=function(){var t=this;return new Promise(function(e){if(t.interstitialAD||t.preloadInterstitialAD(),!t.interstitialAD)throw{errMsg:"InterstitialAd\u521b\u5efa\u5931\u8d25"};t.interstitialAD.show().then(function(){console.log("nterstitialAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t)}),e(!0)})},e.prototype.createInterstitialAd=function(t){try{var e=this.handler.createInterstitialAd({adUnitId:t});return e?(e.onLoad(function(){console.log("nterstitialAd\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.error("InterstitialAd\u521b\u5efa\u5931\u8d25",t)}),e):null}catch(a){s.default.error("AdAgentWx->createInterstitialAd error:",a.message,a.stack)}return null},e.prototype.preloadInterstitialAD=function(){var t=this;s.default.info("\u9884\u52a0\u8f7d\u63d2\u5c4f"),this.interstitialAD&&this.interstitialAD.destroy(),this.interstitialAD=this.createInterstitialAd(this._InterstitialAdUnitId),this.interstitialAD&&this.interstitialAD.onClose(function(){s.default.info("InterstitialAd\u5173\u95ed"),t.preloadInterstitialAD()})},e.prototype.checkIfClickBanner=function(t){console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6\u76d1\u542c"),this.handler.onHide(function(e){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6",e),e&&e.mode&&e.targetAction){if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef6-----"),"back"==e.mode&&3==e.targetAction||"hide"==e.mode&&-1==e.targetAction||"hide"==e.mode&&8==e.targetAction)return void console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef61");if(console.log("\u5207\u5165\u540e\u53f0\u4e8b\u4ef62"),!e.targetPagePath)return;console.log("banner \u5207\u540e\u53f0"),t&&t()}})},e.prototype.setStorage=function(t,e){return wx.setStorageSync(t,e)},e.prototype.VibrateLocng=function(){console.log("Long\u9707\u52a8"),this.handler&&this.handler.vibrateLong()},e.prototype.VibrateShort=function(){console.log("Short\u9707\u52a8"),null!=this.handler&&(this.handler.vibrateShort(),console.log("Short\u9707\u52a81"))},e.prototype.getLaunchOptionsSync=function(){return null!=this.handler?this.handler.getLaunchOptionsSync():{scene:1001,query:{shareToken:"shareToken",action:"action",source:"",share_person_token:""},referrerInfo:"any"}},e.prototype.onStartLevel=function(t,e){void 0===e&&(e=""),c.default.onStartLevel(t,e)},e.prototype.onEndLevel=function(t,e,n,i){c.default.onEndLevel(t,e,n,i)},e.prototype.trackEvent=function(t,e){null!=this.handler&&c.default.trackEvent(t,e)},e.prototype.Subscription=function(){p.default.init(!0)},e.prototype.checkUpdate=function(){var t=this;try{var e=this.handler.getUpdateManager();e.onUpdateReady(function(){t.handler.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u662f\u5426\u6253\u5f00\u65b0\u7248\u672c\uff1f",success:function(t){t.confirm&&e.applyUpdate()}}),s.default.info("\u53d1\u73b0\u65b0\u7684\u7248\u672c\u9700\u8981\u66f4\u65b0\uff0c\u7b49\u5f85\u7528\u6237\u64cd\u4f5c\u3002")}),e.onUpdateFailed(function(){wx.showModal({title:"\u66f4\u65b0\u5931\u8d25\u63d0\u793a",content:"\u8bf7\u68c0\u67e5\u5f53\u524d\u7f51\u7edc\u60c5\u51b5\u540e\u91cd\u542f\u5e94\u7528"})})}catch(a){s.default.error("AdAgentSQ->checkUpdate error:",a.message,a.stack)}return s.default.info("\u68c0\u6d4b\u5c0f\u7a0b\u5e8f\u7248\u672c\u66f4\u65b0\u3002"),!0},e.prototype.showModal=function(t,e,n,i,o){this.handler.showModal({title:t,content:e,showCancel:n,success:i,fail:o})},e.prototype.onHide=function(t){t&&this.handler.onHide(t)},e.prototype.onShow=function(t){t&&this.handler.onShow(t)},e.prototype.exitMiniProgram=function(){this.handler.exitMiniProgram()},e.prototype.showCustomAd=function(){var t=this;return new Promise(function(e){if(t.CustomAd||t.preloadCustomAd(),!t.CustomAd)throw{errMsg:"CustomAd\u521b\u5efa\u5931\u8d25"};t.CustomAd.show().then(function(){console.log("CustomAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t),cc.director.emit("closeCustomAd")}),e(!0)})},e.prototype.createCustomAd=function(t){if(!this.checkVersion("2.11.1")||"function"!=typeof this.handler.createCustomAd)return s.default.info("\u4e0d\u652f\u6301\u683c\u5b50"),null;try{var e=wx.getSystemInfoSync().windowWidth,n=this.handler.createCustomAd({adUnitId:t,style:{left:e/2-187.5,top:375/7.6,width:375}});return n?(n.onLoad(function(){console.log("CustomAd\u52a0\u8f7d\u6210\u529f")}),n.onError(function(t){console.error("CustomAd\u521b\u5efa\u5931\u8d25",t)}),n):null}catch(i){s.default.error("AdAgentWx->createCustomAd error:",i.message,i.stack)}return null},e.prototype.preloadCustomAd=function(){var t=this;s.default.info("\u9884\u52a0\u8f7d\u683c\u5b50\u5e7f\u544a"),this.CustomAd&&this.CustomAd.destroy(),this.CustomAd=this.createCustomAd(this._CustomAdId),null!=this.CustomAd&&(this.CustomAd.onClose(function(){s.default.info("CustomAd\u5173\u95ed"),t.preloadCustomAd(),cc.director.emit("closeCustomAd")}),this.CustomAd.onHide(function(){s.default.info("CustomAd\u9690\u85cf"),cc.director.emit("closeCustomAd")}))},e.prototype.showBanner=function(){var t=this;return new Promise(function(e){if(t.BannerAd||t.preloadBanner(),!t.BannerAd)throw{errMsg:"Banner\u521b\u5efa\u5931\u8d25"};t.BannerAd.show().then(function(){console.log("BannerAd\u663e\u793a\u6210\u529f")}).catch(function(t){console.error(t)}),e(!0)})},e.prototype.hideBanner=function(){var t=this;return new Promise(function(e){t.BannerAd&&t.BannerAd.hide(),e(!0)})},e.prototype.createBannerAd=function(t){try{var e=this.handler.createBannerAd({adUnitId:t,adIntervals:30,style:{left:50,top:140,width:100}});return e?(e.onResize(function(t){var n=wx.getSystemInfoSync(),i=n.windowHeight,o=n.windowWidth;e.style.top=i-t.height-5,e.style.left=o/2-t.width/2}),e.onLoad(function(){console.log("Banner\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.error("Banner\u521b\u5efa\u5931\u8d25",t)}),e):null}catch(a){s.default.error("AdAgentWx->createCustomAd error:",a.message,a.stack)}return null},e.prototype.preloadBanner=function(){var t=this;s.default.info("\u9884\u52a0\u8f7dbanner\u5e7f\u544a"),this.BannerAd=this.createBannerAd(this.getBannerId()),this.BannerAd&&this.BannerAd.onClose(function(){s.default.info("Banner\u5173\u95ed"),t.preloadBanner()})},e.prototype.openCustomerServiceConversation=function(t,e,n,i,o,a,r){void 0===o&&(o=null),void 0===a&&(a=null),void 0===r&&(r=null),this.handler.openCustomerServiceConversation({sessionFrom:t,showMessageCard:e,sendMessageTitle:n,sendMessageImg:i,success:o,fail:a,complete:r})},e.prototype.navigateToMiniProgram=function(t){this.handler.navigateToMiniProgram(t)},e.prototype.authorize=function(){var t=this;return new Promise(function(e){t.handler.getSetting({success:function(t){t.authSetting["scope.record"]||this.handler.authorize({scope:"scope.record",success:function(){e(!0)},fail:function(){e(!1)}})}})})},e.prototype.getUserInfo=function(){var t=this;return new Promise(function(e){t.handler.getUserInfo({success:function(t){e(t)}})})},e.prototype.setClipboardData=function(t){this.handler.setClipboardData({data:t,success:function(){this.handler.getClipboardData({success:function(t){console.log(t.data)}})}})},e.prototype.msgSecCheck=function(t,e){return void 0===t&&(t=1),new Promise(function(n){wx.cloud.init(),wx.cloud.callFunction({name:"msgSecCheck",data:{openid:l.default.openid,scene:t,content:e}}).then(function(t){console.log("msgSecCheck then res = ",t);var e=t.result.result.suggest;console.log("msgSecCheck _result = ",e),"pass"==e?n(!0):(Global.onShowTosat("\u5305\u542b\u8fdd\u7981\u8bcd\uff0c\u8bf7\u91cd\u8bd5"),n(!1))}).catch(function(t){console.log("msgSecCheck catch res = ",t),Global.onShowTosat("\u5305\u542b\u8fdd\u7981\u8bcd\uff0c\u8bf7\u91cd\u8bd5"),n(!1)})})},e}(u.default);a.default=d,cc._RF.pop()},{}],AddAppletView:[function(t,e,n){"use strict";cc._RF.push(e,"67ad1ETv5VN3pm53JDDqMBu","AddAppletView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("View"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){var t=this;this.setplatform(),this.animatorCtrl=new l.default(this.getSpineSkeleton("TianJiaXiaoChengXu")),this.animatorCtrl.play("animation"),this.animatorCtrl.setTrackCompleteListener(function(){t.close()})},s([p],e)}(c.default));a.default=d,cc._RF.pop()},{}],AddDesktopAniView:[function(t,e,n){"use strict";cc._RF.push(e,"8e925mC43VPOK9bLuiKb1lp","AddDesktopAniView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("View"),u=o("ServerCommonCfgMgr"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){var t=this;this.setplatform(),this.getNode("giftLabel").active=u.default.IsTTAddDeskGift,this.animatorCtrl=new l.default(this.getSpineSkeleton("TianJiaXiaoChengXu")),this.animatorCtrl.play("animation"),this.animatorCtrl.setTrackCompleteListener(function(){t.close()})},s([d],e)}(c.default));a.default=f,cc._RF.pop()},{}],AddShortcutView:[function(t,e,n){"use strict";cc._RF.push(e,"a4126UNXCFD4aRaeJccPQMe","AddShortcutView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("Admanager"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.setplatform()},e.prototype.onBtnAdd=function(){c.default.instance.addShortcutTT()},s([p],e)}(l.default));a.default=d,cc._RF.pop()},{}],Admanager:[function(t,e,n){"use strict";cc._RF.push(e,"8625ckQS7JMtK99nmQ8pOuq","Admanager");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=i("LogManager"),l=i("SceneManager"),c=i("InvitePosType"),u=i("GameBusinessDataManager"),p=i("ServerCommonCfgMgr"),d=i("api"),f=i("configStore"),h=i("sign"),y=i("Constant"),g=i("AdAgentKS"),m=i("AdAgentOPPO"),v=i("AdAgentQQ"),_=i("AdAgentTT"),b=i("AdAgentWx"),k=i("platformConfig"),S=function(){function t(){this._platformType=-1,this.callback=null,this._platformType=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC,this.platformType=k.default.platformType}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.purge=function(){t._ins&&(t._ins=null)},Object.defineProperty(t.prototype,"curAdAgent",{get:function(){return this._curAdAgent},set:function(t){this._curAdAgent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"platformType",{get:function(){return this._platformType},set:function(t){switch(this._platformType=t,this._platformType){case y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC:break;case y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO:this._curAdAgent=new m.default;break;case y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX:this._curAdAgent=new b.default;break;case y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ:this._curAdAgent=new v.default;break;case y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT:this._curAdAgent=new _.default;break;case y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS:this._curAdAgent=new g.default;break;case y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO:}this.curAdAgent&&(this.curAdAgent.platformType=this._platformType,this.curAdAgent.init())},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){var t=this.getRandomShare();this.onShareAppMessage({title:t.lb,imageUrl:t.path,query:this.getShareQuery(c.InviterID_Fashi.Fashi0)}),this.onShareTimeline({title:t.lb,imageUrl:t.path}),this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.init()},t.prototype.onloginInit=function(){this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.onloginInit()},t.prototype.getRandomShare=function(){if(p.default.ShareLists.length<=0)return{lb:y.default.ShareTitle[0],path:y.default.ShareImageUrl[0]};var t=Math.floor(Math.random()*p.default.ShareLists.length);return p.default.ShareLists[t]},t.prototype.login=function(){return this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.login()},t.prototype.getLaunchOptionsSync=function(){return this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.getLaunchOptionsSync()},t.prototype.onShareAppMessage=function(t,e){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC||this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?(e&&e(!0),null):this._curAdAgent&&this._curAdAgent.onShareAppMessage(t,e)},t.prototype.onShareTimeline=function(t,e){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC||this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?(e&&e(!0),null):this._curAdAgent&&this._curAdAgent.onShareTimeline(t,e)},t.prototype.randomShareAppMessageFromUrl=function(t,e){var n=this.getRandomShare(),i=n.lb,o=n.path;return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?(e&&e(!0),!1):(this._curAdAgent&&this._curAdAgent.shareAppMessageFromUrl(i,o,t)).then(function(t){t?(GEvent.emit(GEventName.MSTask.WxShare),e&&e(!0)):(e&&e(!1),Global.onShowTosat("\u8bf7\u7238\u7238\u6362\u4e2a\u4eba\u8bd5\u8bd5"),e&&e(!1))})},t.prototype.magicSwordShareAppMessageFromUrl=function(t,e){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?(e&&e(!0),!1):(this._curAdAgent&&this._curAdAgent.shareAppMessageFromUrl("\u9b54\u5251\u964d\u4e34\uff0c\u5e2e\u6211\u52a9\u529b\u4e00\u4e0b\u5427\uff01","https://smalldnf-1302074099.file.myqcloud.com/common/share8.png",t)).then(function(t){t?(GEvent.emit(GEventName.MSTask.WxShare),e&&e(!0)):(e&&e(!1),Global.onShowTosat("\u8bf7\u7238\u7238\u6362\u4e2a\u4eba\u8bd5\u8bd5"),e&&e(!1))})},t.prototype.shareAppMessageFromUrl=function(t,e,n,i){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?(i&&i(!0),!1):this._curAdAgent&&this._curAdAgent.shareAppMessageFromUrl(t,e,n)},t.prototype.getShareQuery=function(t){return"scene="+this.getLaunchOptionsSync().scene+"&action=share&share_person_token="+f.default.openid+"&source="+t},t.prototype.playRewardVideo=function(t){var e=this;t&&(this.callback=t),u.default.instance.isExemptAD||this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?this.callback&&(this.callback(),this.callback=null):(l.default.instance.localMask.active=!0,this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&cc.game.pause(),this.showRewardedVideo(function(t){cc.game.resume(),l.default.instance.localMask.active=!1,t&&e.callback&&(e.callback(),e.callback=null)}))},t.prototype.showRewardedVideo=function(t){var e=this;return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?(t&&t(!0),null):this._curAdAgent&&this._curAdAgent.showRewardedVideo().then(function(e){t(e),!e&&Global.onShowTosat("\u89c6\u9891\u672a\u64ad\u653e\u5b8c\u6bd5\uff01")}).catch(function(){e.randomShareAppMessageFromUrl("",t)})},t.prototype.showInterstitialAd=function(){var t=this;return s.default.info("Admanager showInterstitialAd"),new Promise(function(e){if(t.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC)return t._curAdAgent&&t._curAdAgent.showInterstitialAd();e(!0)})},t.prototype.showCustomAd=function(){var t=this;return s.default.info("Admanager showCustomAd"),new Promise(function(e){if(t.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC)return t._curAdAgent&&t._curAdAgent.showCustomAd();e(!0)})},t.prototype.closeCustomAd=function(){var t=this;return s.default.info("Admanager closeCustomAd"),new Promise(function(e){if(t.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC)return t._curAdAgent&&t._curAdAgent.preloadCustomAd();e(!0)})},t.prototype.showBanner=function(){var t=this;return s.default.info("Admanager showBanner"),new Promise(function(e){if(t.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC)return t._curAdAgent&&t._curAdAgent.showBanner();e(!0)})},t.prototype.hideBanner=function(){var t=this;return s.default.info("Admanager hideBanner"),new Promise(function(e){if(t.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC)return t._curAdAgent&&t._curAdAgent.hideBanner();e(!0)})},t.prototype.VibrateShort=function(){this._curAdAgent&&this._curAdAgent.VibrateShort()},t.prototype.VibrateLong=function(){this._curAdAgent&&this._curAdAgent.VibrateShort()},t.prototype.setStorage=function(t,e){return this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.setStorage(t,e)},t.prototype.trackEvent=function(t,e){this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.trackEvent(t,e)},t.prototype.onStartLevel=function(t,e){void 0===e&&(e=""),this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.onStartLevel(t,e)},t.prototype.onEndLevel=function(t,e){this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.onEndLevel(t,e)},t.prototype.getInviteList=function(t){var e=this;return this.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?new Promise(function(){}):new Promise(function(n){return a(e,void 0,void 0,function(){var e;return r(this,function(i){switch(i.label){case 0:return[4,d.default.getInviteList({inviter_openid:t})];case 1:return e=i.sent(),n(e),[2]}})})})},t.prototype.getBackInviteList=function(t){var e=this;return this.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?new Promise(function(){}):new Promise(function(n){return a(e,void 0,void 0,function(){var e;return r(this,function(i){switch(i.label){case 0:return[4,d.default.getInviteListallwithold({inviter_openid:t})];case 1:return e=i.sent(),n(e),[2]}})})})},t.prototype.getJLZInviteList=function(t){var e=this;return new Promise(function(n){return a(e,void 0,void 0,function(){var e;return r(this,function(i){switch(i.label){case 0:return[4,d.default.getInviteListJLZ({inviter_openid:t})];case 1:return e=i.sent(),n(e),[2]}})})})},t.prototype.getWSJInviteList=function(t,e){var n=this;return null==d.default.getInviteListWSJ?new Promise(function(){}):new Promise(function(i){return a(n,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return[4,d.default.getInviteListWSJ({invitee_openid:t,source:e})];case 1:return n=o.sent(),i(n),[2]}})})})},t.prototype.getShareBox=function(){var t=this;return null==d.default.getWarehouse?new Promise(function(){}):new Promise(function(e){return a(t,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return[4,d.default.getWarehouse()];case 1:return t=n.sent(),e(t),[2]}})})})},t.prototype.putToShareBox=function(t){var e=this;return null==d.default.putToWarehouse?new Promise(function(){}):new Promise(function(n){return a(e,void 0,void 0,function(){var e,i;return r(this,function(o){switch(o.label){case 0:return[4,h.default.create(t)];case 1:return e=o.sent(),console.log(e),[4,d.default.putToWarehouse(e)];case 2:return i=o.sent(),n(i),[2]}})})})},t.prototype.getFromShareBox=function(t){var e=this;return null==d.default.getFromWarehouse?new Promise(function(){}):new Promise(function(n){return a(e,void 0,void 0,function(){var e;return r(this,function(i){switch(i.label){case 0:return[4,d.default.getFromWarehouse({index:t,token:p.default.token})];case 1:return e=i.sent(),n(e),[2]}})})})},t.prototype.addWarehouseSize=function(){var t=this;return null==d.default.addWarehouseSize?new Promise(function(){}):new Promise(function(e){return a(t,void 0,void 0,function(){var t,n;return r(this,function(i){switch(i.label){case 0:return[4,h.default.create({token:p.default.token})];case 1:return t=i.sent(),[4,d.default.addWarehouseSize(t)];case 2:return n=i.sent(),e(n),[2]}})})})},t.prototype.byInviteReported=function(t,e,n){var i=this;return new Promise(function(o){return a(i,void 0,void 0,function(){var i;return r(this,function(a){switch(a.label){case 0:return[4,d.default.byInviteReported({inviter_openid:t,invitee_openid:e,source:n})];case 1:return i=a.sent(),o(i),[2]}})})})},t.prototype.Subscription=function(){this.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.Subscription()},t.prototype.showModal=function(t,e,n,i,o){return void 0===n&&(n=!0),void 0===i&&(i=null),void 0===o&&(o=null),this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?console.error(t,e):this._curAdAgent&&this._curAdAgent.showModal(t,e,n,i,o)},t.prototype.onHide=function(t){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.onHide(t)},t.prototype.onShow=function(t){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.onShow(t)},t.prototype.exitMiniProgram=function(){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&this._curAdAgent&&this._curAdAgent.exitMiniProgram()},t.prototype.recorderStart=function(){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&this._curAdAgent&&this._curAdAgent.recorderStart()},t.prototype.recorderStop=function(t){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&this._curAdAgent&&this._curAdAgent.recorderStop(t)},t.prototype.GetRecorder=function(){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&this._curAdAgent&&this._curAdAgent.GetRecorder()},t.prototype.viedoShare=function(t,e){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?this._curAdAgent&&this._curAdAgent.viedoShare(t,e):t&&t()},t.prototype.getVideoShare=function(){return this.platformType===y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&this._curAdAgent&&this._curAdAgent.getVideoShare()},t.prototype.isOpen=function(){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||this._curAdAgent&&this._curAdAgent.isOpen()},t.prototype.openAwemeUserProfile=function(t){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||this._curAdAgent&&this._curAdAgent.openAwemeUserProfile(t)},t.prototype.createContactBtn=function(t){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||this._curAdAgent&&this._curAdAgent.createContactBtn(t)},t.prototype.onKefuHide=function(){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||this._curAdAgent&&this._curAdAgent.onKefuHide()},t.prototype.onKefuShow=function(){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||this._curAdAgent&&this._curAdAgent.onKefuShow()},t.prototype.createMoreGameBtn=function(t){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||this._curAdAgent&&this._curAdAgent.createMoreGameBtn(t)},t.prototype.onMoreGameHide=function(){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||this._curAdAgent&&this._curAdAgent.onMoreGameHide()},t.prototype.onMoreGameShow=function(){return this.platformType!==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||this._curAdAgent&&this._curAdAgent.onMoreGameShow()},t.prototype.onOpenCustomerServiceConversation=function(t,e,n,i,o,a,r){return void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),void 0===r&&(r=null),this._curAdAgent&&this._curAdAgent.openCustomerServiceConversation(t,e,n,i,o,a,r)},t.prototype.installShortcut=function(t){return this.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&this._curAdAgent&&this._curAdAgent.installShortcut(t)},t.prototype.addShortcutTT=function(t){return this.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&this._curAdAgent&&this._curAdAgent.addShortcutTT(t)},t.prototype.isAddShortcut=function(){return this.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&this._curAdAgent&&this._curAdAgent.isHaveShortcut},t.prototype.navigateToMiniProgram=function(t){return this.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX&&this._curAdAgent&&this._curAdAgent.navigateToMiniProgram(t)},t.prototype.setClipboardData=function(t){return(this.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX||this.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT)&&this._curAdAgent&&this._curAdAgent.setClipboardData(t)},t.prototype.msgSecCheck=function(t,e){var n=this;return new Promise(function(i){if(n.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX)return n._curAdAgent&&n._curAdAgent.msgSecCheck(t,e).then(function(t){i(t)});i(!0)})},t}();o.default=S,cc._RF.pop()},{}],AnimatorCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"6a369pjBxpPOLVMNi2PvZzy","AnimatorCtrl");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t){this.ad=t}return t.prototype.play=function(t,e){return void 0===e&&(e=!1),this.TrackEntry=this.ad.setAnimation(0,t,e),this.TrackEntry},t.prototype.curPlayAniName=function(){return this.ad.animation},t.prototype.setCurAniSpeed=function(t){this.TrackEntry&&(this.TrackEntry.timeScale=t)},t.prototype.resetCurAniSpeed=function(){this.TrackEntry&&(this.TrackEntry.timeScale=1)},t.prototype.setAniSpeed=function(t){this.ad.timeScale=t},t.prototype.resetAniSpeed=function(){this.ad.timeScale=1},t.prototype.pauseAni=function(){this.ad.timeScale=0},t.prototype.resetAni=function(){this.ad.timeScale=1},t.prototype.setMix=function(t,e,n){void 0===n&&(n=0),this.ad.setMix(t,e,n),this.ad.setMix(e,t,n)},t.prototype.setEventListener=function(t){this.ad.setEventListener(t)},t.prototype.setCompleteListener=function(t){this.ad.setCompleteListener(t)},t.prototype.setTrackEventListener=function(t){this.ad.setTrackEventListener(this.TrackEntry,t)},t.prototype.setTrackCompleteListener=function(t){this.ad.setTrackCompleteListener(this.TrackEntry,t)},t.prototype.setTrackDisposeListener=function(t){this.ad.setTrackDisposeListener(this.TrackEntry,t)},t.prototype.removeAniEvent=function(){},t.prototype.getAdNode=function(t,e){var n=t.attachUtil;return n.generateAllAttachedNodes(),n.getAttachedNodes(e)[0]},t}();i.default=o,cc._RF.pop()},{}],ApologyLetterView:[function(t,e,n){"use strict";cc._RF.push(e,"d2cf4o+2shMdomgq5QDho+y","ApologyLetterView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.setplatform()},s([u],e)}(l.default));a.default=p,cc._RF.pop()},{}],ArrayStorageValue:[function(t,e,n){"use strict";cc._RF.push(e,"011ec9wBspJM6UsNUEtu/EN","ArrayStorageValue");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(e,n,i){return void 0===i&&(i=!0),t.call(this,e,n,i)||this}return r(e,t),Object.defineProperty(e.prototype,"SetValue",{set:function(t){this.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"GetValue",{get:function(){return this.value},enumerable:!1,configurable:!0}),e.prototype.Save=function(){return JSON.stringify(this.value)},e.prototype.Load=function(t){if(null!=t&&t&&""!==t){var e=JSON.parse(t);if(this.value.length>e.length)for(var n=0;n<e.length;n++)this.value[n]=e[n];else this.value=e}},e}(o("BaseStorageValue").default);a.default=s,cc._RF.pop()},{}],BTState:[function(t,e,n){"use strict";cc._RF.push(e,"cec9aWwIkxACJvNPGFYcjwc","BTState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("SubStateBase"),c=o("BTVFX"),u=function(t){function e(){var e=t.call(this)||this;return e.time=1,e.StateId=s.default.BT,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.BtVfx=c.default.Create(),this.BtVfx.onEnter(this.Soldier)},e.prototype.onUpdate=function(t){this.BtVfx.onUpdate(t)},e.prototype.onExit=function(){this.BtVfx.onExit()},e}(l.default);a.default=u,cc._RF.pop()},{}],BTVFX:[function(t,e,n){"use strict";cc._RF.push(e,"30259L/6tJJKpQwK9Y4kzOv","BTVFX");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("PoolManager"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onHurtCount=0,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){this.ad=this.node.getChildByName("ad").getComponent(sp.Skeleton),this.animatorCtrl=new l.default(this.ad)},e.Create=function(){return c.default.instance.getItemPoolNode(c.PoolKeys.BTVFX).getComponent(n)},e.prototype.Recover=function(){c.default.instance.pushItemPoolNode(c.PoolKeys.BTVFX,this.node)},e.prototype.onEnter=function(t){this.hero=t,this.node.parent=this.hero.node.parent,this.node.position=this.hero.GetPosition,this.animatorCtrl.play("TYTX_gwbt_01"),this.onHurtCount=this.hero.onHurtCount},e.prototype.onUpdate=function(){if(this.hero){this.node.scaleX=this.hero.scaleX,this.node.scaleY=this.hero.scaleY,this.node.zIndex=this.hero.node.zIndex+1;var t=this.hero.GetPosition;this.node.x=t.x,this.node.y=t.y,this.onHurtCount<this.hero.onHurtCount&&(this.onHurtCount=this.hero.onHurtCount,this.animatorCtrl.play("TYTX_gwbt_02"))}},e.prototype.onExit=function(){this.Recover()},n=s([p],e)}(cc.Component));a.default=d,cc._RF.pop()},{}],BagItem:[function(t,e,n){"use strict";cc._RF.push(e,"40b3a0IDNBJg7Ilme/5e2rI","BagItem");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){this.key=Math.floor(1e7*Math.random())}return t.Create=function(){return new t},t.prototype.Recover=function(){this.Reset()},Object.defineProperty(t.prototype,"count",{get:function(){return this._count^this.key},set:function(t){var e=Math.max(0,Math.min(t,Number.MAX_VALUE-1));this._count=e^this.key},enumerable:!1,configurable:!0}),t.prototype.SetNull=function(){this.Reset()},Object.defineProperty(t.prototype,"Item",{get:function(){return null==Number(this.item)?null:this.item},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Equip",{get:function(){return null==this.item?null:this.item},enumerable:!1,configurable:!0}),t.prototype.SetEquip=function(t){this.item=t,this._count=1^this.key},t.prototype.SetItem=function(t,e){this.item=t,this._count=e^this.key},t.prototype.Reset=function(){this.index=-1,this.item=null,this._count=-1},t}();i.default=o,cc._RF.pop()},{}],BagLocalDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"cdf9cuHOpZGaIbRRXBc4O+f","BagLocalDataManger");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equiping",{get:function(){return JSON.stringify(this.BagLocalData.equiping)},set:function(t){this.BagLocalData.equiping=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equipbag",{get:function(){return JSON.stringify(this.BagLocalData.equipbag)},set:function(t){this.BagLocalData.equipbag=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itembag",{get:function(){return JSON.stringify(this.BagLocalData.itembag)},set:function(t){this.BagLocalData.itembag=t},enumerable:!1,configurable:!0}),t.prototype.SaveData=function(t,e,n){this.BagLocalData.equiping=JSON.parse(t),this.BagLocalData.equipbag=JSON.parse(e),this.BagLocalData.itembag=JSON.parse(n),this.getItemAllCount(),GEvent.emit(GEventName.SaveUserDataLocal)},t.prototype.Init=function(t){this.BagLocalData=t,this.getItemAllCount(),"string"==typeof this.BagLocalData.equiping&&(this.BagLocalData.equiping=JSON.parse(this.BagLocalData.equiping)),"string"==typeof this.BagLocalData.equipbag&&(this.BagLocalData.equipbag=JSON.parse(this.BagLocalData.equipbag)),"string"==typeof this.BagLocalData.itembag&&(this.BagLocalData.itembag=JSON.parse(this.BagLocalData.itembag))},t.prototype.getItemAllCount=function(){if(this.BagLocalData.itembag){for(var t=0,e=0;e<this.BagLocalData.itembag.length;e++)t+=this.BagLocalData.itembag[e].count;this.BagLocalData.itemallcount=t}},t.prototype.getEquipDataById=function(t){for(var e=null,n=0;n<this.BagLocalData.equipbag.length;n++)if(this.BagLocalData.equipbag[n].id==t){e=this.BagLocalData.equipbag[n];break}return e},t}();i.default=o,cc._RF.pop()},{}],BagManager:[function(t,e,n){"use strict";cc._RF.push(e,"452289Eu/9L9Zz+8J8iYQlX","BagManager");var i=t,o=n,a=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,o++)i[o]=a[r];return i};Object.defineProperty(o,"__esModule",{value:!0});var r=i("GameData"),s=i("BagItem"),l=i("Equipment"),c=i("EquipCalculate"),u=i("GameCalculate"),p=i("EquipType"),d=i("EquipmentSet"),f=i("RoleCfgManager"),h=i("BagLocalDataManger"),y=i("GameStatsManager"),g=i("CommonDataMgr"),m=i("GameError"),v=function(){function t(){this.actor_count=6,window.BagManager=this,this.Reset()}return Object.defineProperty(t,"Init",{get:function(){return null==this.bm&&(this.bm=new t,this.bm.initData()),this.bm},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"EquipBagFull",{get:function(){return 20*y.default.instance.bagEquipUnlockPage==this.EquipCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ItemBagFull",{get:function(){return 20*y.default.instance.bagItemUnlocakPage==this.ItemCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"EquipCount",{get:function(){for(var t=0,e=0;e<this.equip_bag.length;e++)null!=this.equip_bag[e].Equip&&t++;return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"EquipBag",{get:function(){return this.equip_bag},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ItemCount",{get:function(){for(var t=0,e=0;e<this.item_bag.length;e++)null!=this.item_bag[e].Item&&t++;return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ItemBag",{get:function(){return this.item_bag},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Equiping",{get:function(){return this.equiping},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"EquipingSet",{get:function(){return this.equip_set},enumerable:!1,configurable:!0}),t.prototype.initData=function(){this.LoadEquiping(h.default.instance.equiping),this.LoadEquipBag(h.default.instance.equipbag),this.LoadItemBag(h.default.instance.itembag),g.CommonDataMgr.instance.ReviveCoin=t.Init.FindItem(102),this.repairMagicSwordLv(),GEvent.offAll(this),GEvent.on(GEventName.BagEvent.onUpdateBagDataToLocal,this.onUpdateBagDataToLocal,this)},t.prototype.onUpdateBagDataToLocal=function(){h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag())},t.prototype.Reset=function(){if(this.equip_bag)for(var e in this.equip_bag)null!=this.equip_bag[e].Equip&&this.equip_bag[e].Equip.Recover(),this.equip_bag[e].SetNull();if(this.item_bag)for(var e in this.item_bag)this.item_bag[e].SetNull();if(this.equiping)for(var e in this.equiping)for(var n in this.equiping[e])null!=this.equiping[e][n]&&this.equiping[e][n].Recover();this.CleanSet(),this.equip_set=new Map,this.equiping=new Array(this.actor_count);for(var i=0;i<this.equiping.length;i++)this.equiping[i]=new(Array.bind.apply(Array,a([void 0],[null,null,null,null,null,null])));for(this.equip_bag=new Array(20*Math.min(t.MAX_EQUIPBAGPAGE,y.default.instance.bagEquipUnlockPage)),i=0;i<this.equip_bag.length;i++)this.equip_bag[i]=s.default.Create();for(this.item_bag=new Array(20*Math.min(t.MAX_ITEMBAGPAGE,y.default.instance.bagItemUnlocakPage)),i=0;i<this.item_bag.length;i++)this.item_bag[i]=s.default.Create();this.item_bag[0].SetItem(120,20),this.equip_bag[0].SetEquip(l.default.Create().SetData(2101100)),this.equip_bag[1].SetEquip(l.default.Create().SetData(3101100)),this.equip_bag[2].SetEquip(l.default.Create().SetData(4101100)),this.equip_bag[3].SetEquip(l.default.Create().SetData(5101100)),this.equip_bag[4].SetEquip(l.default.Create().SetData(6101100))},t.prototype.CalculatePlayerAttribute=function(t){for(var e=0;e<this.equiping[f.default.instance.curRoleID].length;e++)null!=this.equiping[f.default.instance.curRoleID][e]&&(t=this.equiping[f.default.instance.curRoleID][e].CalculateAttribute(t));if(this.equip_set.size>0)for(var n=0,i=this.equip_set.values();n<i.length;n++)t=i[n].CalculateAttribute(t);return t},t.prototype.CalculatePlayerSkill=function(t){for(var e in this.equiping[f.default.instance.curRoleID])null!=this.equiping[f.default.instance.curRoleID][e]&&this.equiping[f.default.instance.curRoleID][e].CalculateSkillByEquipEquipment(t);if(this.equip_set.size>0)for(var n=0,i=this.equip_set.values();n<i.length;n++)t=i[n].CalculateSkillByEquipEquipment(t);return t},t.prototype.CalculateAttackBuff=function(t,e){for(var n in this.equiping[f.default.instance.curRoleID])null!=this.equiping[f.default.instance.curRoleID][n]&&this.equiping[f.default.instance.curRoleID][n].CalculateAttackBuff(t,e);if(this.equip_set.size>0)for(var i=0,o=this.equip_set.values();i<o.length;i++)o[i].CalculateAttackBuff(t,e)},t.prototype.GetCalculateEnterAttackBuffList=function(){return this.GetHeroUserWeaponMojian()?{id:1401,ratio:.030000000000000002,value:[.02,1e3,.01,1]}:[]},t.prototype.GetCalculateAttackBuffList=function(t){var e={buffs:[]};for(var n in this.equiping[f.default.instance.curRoleID])null!=this.equiping[f.default.instance.curRoleID][n]&&this.equiping[f.default.instance.curRoleID][n].CalculateAttackBuff(t,e);if(this.equip_set.size>0)for(var i=0,o=this.equip_set.values();i<o.length;i++)o[i].CalculateAttackBuff(t,e);return e},t.prototype.SaveEquiping=function(){for(var t,e,n=[],i=0;i<this.actor_count;i++){n[i]=[];for(var o=0;o<this.equiping[i].length;o++)if(null!=this.equiping[i][o]){if((t={}).id=this.equiping[i][o].equip_id,t.powerlv=this.equiping[i][o].PowerLv,t.lock=this.equiping[i][o].lock,t.fc=this.equiping[i][o].fix_count,t.pc=this.equiping[i][o].power_failecount,t.magicSwordLv=this.equiping[i][o].MagicSwordLv,(e=this.equiping[i][o].base_entry).length>0){t.base_entry=[];for(var a=0;a<e.length;a++)t.base_entry[a]={name:e[a].name,value:e[a].r_seed}}n[i].push(t)}else n[i][o]=null}return JSON.stringify(n)},t.prototype.LoadEquiping=function(t){if(null==t||null==t||""===t)return this.CheckEquipingEquip(),void this.CheckSet();for(var e,n=JSON.parse(t),i=0;i<n.length;i++)for(var o=0;o<n[i].length;o++)null!=n[i][o]&&((e=l.default.Create().SetData(n[i][o].id,n[i][o].powerlv,n[i][o].base_entry,null,n[i][o].magicSwordLv)).lock=null!=n[i][o].lock&&n[i][o].lock,e.fix_count=null==n[i][o].fc?0:n[i][o].fc,e.power_failecount=null==n[i][o].pc?0:n[i][o].pc,this.equiping[i][o]=e);this.CheckEquipingEquip(),this.CheckSet()},t.prototype.CheckEquipingEquip=function(){var t=f.default.instance.curRoleID;if(this.equiping&&this.equiping[t])for(var e=0;e<this.equiping[t].length;e++)null!=this.equiping[t][e]&&this.equiping[t][e].equip_lv>f.default.instance.LV&&this.RemoveEquipment(e)},t.prototype.EquipingToJSON=function(){for(var t,e=[],n=0;n<this.equiping[f.default.instance.curRoleID].length;n++)if(null!=this.equiping[f.default.instance.curRoleID][n]){var i={};if(i.id=this.equiping[f.default.instance.curRoleID][n].equip_id,i.powerlv=this.equiping[f.default.instance.curRoleID][n].PowerLv,(t=this.equiping[f.default.instance.curRoleID][n].base_entry).length>0){i.base_entry=[];for(var o=0;o<t.length;o++)i.base_entry[o]={name:t[o].name,value:t[o].r_seed}}e.push(i)}else e[n]=null;return JSON.stringify(e)},t.prototype.SaveEquipBag=function(){var t,e,n=[];if(null!=this.equip_bag){for(var i=0;i<this.equip_bag.length;i++)if(null!=this.equip_bag[i].Equip){if((t={}).id=this.equip_bag[i].Equip.equip_id,t.powerlv=this.equip_bag[i].Equip.PowerLv,t.lock=this.equip_bag[i].Equip.lock,t.fc=this.equip_bag[i].Equip.fix_count,t.pc=this.equip_bag[i].Equip.power_failecount,e=this.equip_bag[i].Equip.base_entry,t.magicSwordLv=this.equip_bag[i].Equip.MagicSwordLv,e.length>0){t.base_entry=[];for(var o=0;o<e.length;o++)t.base_entry[o]={name:e[o].name,value:e[o].r_seed}}n.push(t)}return JSON.stringify(n)}},t.prototype.LoadEquipBag=function(e){var n;if(null!=e&&null!=e&&""!=e){null!=this.equip_bag[0].Equip&&this.equip_bag[0].Equip.Recover(),null!=this.equip_bag[1].Equip&&this.equip_bag[1].Equip.Recover(),null!=this.equip_bag[2].Equip&&this.equip_bag[2].Equip.Recover(),null!=this.equip_bag[3].Equip&&this.equip_bag[3].Equip.Recover(),null!=this.equip_bag[4].Equip&&this.equip_bag[4].Equip.Recover(),this.equip_bag[0].SetNull(),this.equip_bag[1].SetNull(),this.equip_bag[2].SetNull(),this.equip_bag[3].SetNull(),this.equip_bag[4].SetNull();for(var i=20*Math.min(t.MAX_EQUIPBAGPAGE,Math.max(1,y.default.instance.bagEquipUnlockPage))-this.equip_bag.length,o=new Array(i),a=0;a<o.length;a++)o[a]=s.default.Create();(n=this.equip_bag).push.apply(n,o);var r,c=JSON.parse(e);for(a=0;a<c.length&&!(a>this.equip_bag.length-1);a++)(r=l.default.Create().SetData(c[a].id,c[a].powerlv,c[a].base_entry,null,c[a].magicSwordLv)).lock=null!=c[a].lock&&c[a].lock,r.fix_count=null==c[a].fc?0:c[a].fc,r.power_failecount=null==c[a].pc?0:c[a].pc,this.equip_bag[a].SetNull(),this.equip_bag[a].SetEquip(r)}},t.prototype.SaveItemBag=function(){var t,e=[];if(null!=this.item_bag){for(var n=0;n<this.item_bag.length;n++)null!=this.item_bag[n].Item&&(t={id:this.item_bag[n].Item,count:this.item_bag[n].count},e.push(t));return JSON.stringify(e)}},t.prototype.LoadItemBag=function(e){var n;if(null==e||null==e||""==e)return null;this.item_bag[0].SetNull();for(var i=20*Math.min(t.MAX_ITEMBAGPAGE,Math.max(1,y.default.instance.bagItemUnlocakPage))-this.item_bag.length,o=new Array(i),a=0;a<o.length;a++)o[a]=s.default.Create();(n=this.item_bag).push.apply(n,o);var r=JSON.parse(e);for(a=0;a<r.length;a++)this.item_bag[a].SetItem(r[a].id,r[a].count)},t.prototype.AddEquipPage=function(){var e;y.default.instance.bagEquipUnlockPage=Math.min(y.default.instance.bagEquipUnlockPage+1,t.MAX_EQUIPBAGPAGE);for(var n=20*y.default.instance.bagEquipUnlockPage-this.equip_bag.length,i=new Array(n),o=0;o<i.length;o++)i[o]=s.default.Create();(e=this.equip_bag).push.apply(e,i),GEvent.emit(GEventName.AddBagPage),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag())},t.prototype.AddItemPage=function(){var e;y.default.instance.bagItemUnlocakPage=Math.min(y.default.instance.bagItemUnlocakPage+1,t.MAX_ITEMBAGPAGE);for(var n=20*y.default.instance.bagItemUnlocakPage-this.item_bag.length,i=new Array(n),o=0;o<i.length;o++)i[o]=s.default.Create();(e=this.item_bag).push.apply(e,i),GEvent.emit(GEventName.AddBagPage),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag())},t.prototype.SortEquipBag=function(){this.equip_bag.sort(function(t,e){return null==t.Equip&&null==e.Equip?0:null==t.Equip&&null!=e.Equip?1:-1})},t.prototype.SortEquipBagByType=function(){this.equip_bag.sort(function(t,e){return null==t.Equip?1:null==e.Equip?-1:t.Equip.type-e.Equip.type})},t.prototype.SortEquipBagByPoweLv=function(){this.equip_bag.sort(function(t,e){return null==t.Equip?1:null==e.Equip?-1:-1*(t.Equip.PowerLv-e.Equip.PowerLv)})},t.prototype.SortEquipBagByCE=function(){this.equip_bag.sort(function(t,e){return null==t.Equip?1:null==e.Equip?-1:-1*(t.Equip.EquipCE-e.Equip.EquipCE)})},t.prototype.SortItemBagById=function(){this.item_bag.sort(function(t,e){return null==t.Item?1:null==e.Item?-1:t.Item-e.Item})},t.prototype.SortItemBagByCount=function(){this.item_bag.sort(function(t,e){return null==t.Item?1:null==e.Item?-1:-1*(t.count-e.count)})},t.prototype.AddItems=function(t,e){var n=this.item_bag.findIndex(function(e){return e.Item==t},this),i=-1;return-1==n?-1==(i=this.item_bag.findIndex(function(t){return null==t.Item},this))?{succ:!1,error:m.GameError.BagFull}:(this.item_bag[i].SetItem(t,e),102==t&&(g.CommonDataMgr.instance.ReviveCoin+=e),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null}):this.item_bag[n].count+e>Number.MAX_VALUE-1?-1==(i=this.item_bag.findIndex(function(t){return null==t.Item},this))?{succ:!1,error:m.GameError.BagFull}:(this.item_bag[i].SetItem(t,e),102==t&&(g.CommonDataMgr.instance.ReviveCoin+=e),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null}):(this.item_bag[n].count+=e,102==t&&(g.CommonDataMgr.instance.ReviveCoin+=e),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null})},t.prototype.RemoveItem=function(t,e){var n=this.item_bag.filter(function(e){return e.Item==t},this);if(n.length<=0)return{succ:!1,error:""};for(var i=e,o=[],a=0;a<n.length;a++){if(!(n[a].count<=i)){n[a].count-=i,i=0;break}i-=n[a].count,o.push(a)}if(0==i){for(a=0;a<o.length;a++)n[o[a]].SetNull();return this.SortItemBagById(),102==t&&(g.CommonDataMgr.instance.ReviveCoin-=e),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null}}return{succ:!1,error:""}},t.prototype.FindItem=function(t){var e=this.item_bag.filter(function(e){return e.Item==t}),n=0;for(var i in e)n+=e[i].count;return n},t.prototype.hasEnptyEquipGird=function(){for(var t=0,e=0;e<this.equip_bag.length;e++)null==this.equip_bag[e].Equip&&t++;return t},t.prototype.CreatEquipment=function(t,e){null==e&&(e={powerlv:0,magicSwordLv:0});var n=this.equip_bag.findIndex(function(t){return null==t.Equip});if(-1==n)return{succ:!1,error:m.GameError.BagFull};if(1160408==t&&this.isHaveMagicSword())return{succ:!1,error:null};var i=l.default.Create().SetData(t,e.powerlv,e.base_entry,null,e.magicSwordLv);return i.lock||(i.lock=null!=e.lock&&e.lock),i.fix_count=null==e.fc?0:e.fc,i.power_failecount=null==e.pc?0:e.pc,this.equip_bag[n].SetEquip(i),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null}},t.prototype.FindEquipment=function(t){for(var e=0,n=0;n<this.equip_bag.length;n++)this.equip_bag[n].Equip&&this.equip_bag[n].Equip.equip_id==t&&!this.equip_bag[n].Equip.lock&&e++;return e},t.prototype.RemoveEquipmentById=function(t){for(var e=0;e<this.equip_bag.length;e++)if(this.equip_bag[e].Equip&&this.equip_bag[e].Equip.equip_id==t&&!this.equip_bag[e].Equip.lock)return this.equip_bag[e].Equip.Recover(),this.equip_bag[e].SetNull(),this.SortEquipBagByPoweLv(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),!0;return!1},t.prototype.RemoveEquipmentByKey=function(t){for(var e=0;e<this.equip_bag.length;e++)if(this.equip_bag[e].Equip&&this.equip_bag[e].Equip.key==t)return this.equip_bag[e].Equip.Recover(),this.equip_bag[e].SetNull(),this.SortEquipBagByPoweLv(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),!0;return!1},t.prototype.GetHeroUserWeaponMojian=function(){return this.equiping[f.default.instance.curRoleID][0]&&this.equiping[f.default.instance.curRoleID][0].isMagicSword},t.prototype.GetOpenHeroExtraSkill8=function(){return this.GetHeroUserWeaponMojian()&&this.equiping[f.default.instance.curRoleID][0].magicSword_lv>=60},t.prototype.PushEquipment=function(t){var e=this.equip_bag.findIndex(function(t){return null==t.Equip});return-1==e?{succ:!1,error:m.GameError.BagFull}:(this.equip_bag[e].SetEquip(t),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null})},t.prototype.RemoveEquipment=function(t){if(null==this.equiping[f.default.instance.curRoleID][t])return{succ:!1,error:""};var e=this.PushEquipment(this.equiping[f.default.instance.curRoleID][t]);return e.succ?(this.equiping[f.default.instance.curRoleID][t]=null,this.CheckSet(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null}):e},t.prototype.EquipingEquipment=function(t){if(null==this.equip_bag[t].Equip)return{succ:!1,error:""};if(1!=this.equip_bag[t].Equip.occupation)return Global.onShowTosat("\u65e0\u6cd5\u4f7f\u7528\u5176\u5b83\u804c\u4e1a\u88c5\u5907",2),{succ:!1,error:""};var e=c.default.GetEquipTypeIndex(this.equip_bag[t].Equip.type);if(this.equip_bag[t].Equip.equip_lv>f.default.instance.LV)return Global.onShowTosat("\u7b49\u7ea7\u4e0d\u8db3\u65e0\u6cd5\u88c5\u5907"),{succ:!1,error:""};if(null==this.equiping[f.default.instance.curRoleID][e])return this.equiping[f.default.instance.curRoleID][e]=this.equip_bag[t].Equip,this.equip_bag[t].SetNull(),this.SortEquipBagByPoweLv(),this.CheckSet(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null};var n=this.equiping[f.default.instance.curRoleID][e];return this.equiping[f.default.instance.curRoleID][e]=this.equip_bag[t].Equip,this.equip_bag[t].SetEquip(n),this.CheckSet(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),{succ:!0,error:null}},t.prototype.ResolveEquipments=function(t){for(var e=0;e<t.length;e++)this.equip_bag[t[e]].Equip.Recover(),this.equip_bag[t[e]].SetNull();this.SortEquipBagByPoweLv(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag())},t.prototype.ResolveEquipment=function(t,e){if(null==this.equip_bag[t].Equip)return console.error(t,"is null"),void(e&&(e.runWith({succ:!1,error:""}),e.recover()));this.equip_bag[t].Equip.Recover(),this.equip_bag[t].SetNull(),this.SortEquipBagByPoweLv(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag())},t.prototype.GetResolveEquipmentsIndex=function(){var t=[];return this.equip_bag.map(function(e,n){null!=e.Equip&&(e.Equip.lock||t.push(n))}),t},t.prototype.AutoEquip=function(){for(var t=[p.EquipType.WEAPON,p.EquipType.CLOTH,p.EquipType.WAIST,p.EquipType.SHOULDER,p.EquipType.LEG,p.EquipType.FOOT],e=function(e){for(var i=c.default.GetEquipTypeIndex(t[e]),o=n.equip_bag.map(function(n,i){return null!=n.Equip&&n.Equip.type==t[e]&&1==n.Equip.occupation&&n.Equip.equip_lv<=f.default.instance.LV?i:null}),a=-1,r=-1,s=0;s<o.length;s++)null!=o[s]&&n.equip_bag[o[s]].Equip.EquipCE>a&&(a=n.equip_bag[o[s]].Equip.EquipCE,r=o[s]);-1!=r&&(null!=n.equiping[f.default.instance.curRoleID][i]?n.equip_bag[r].Equip.EquipCE>n.equiping[f.default.instance.curRoleID][i].EquipCE&&n.EquipingEquipment(r):n.EquipingEquipment(r))},n=this,i=0;i<t.length;i++)e(i);this.CheckSet(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag())},t.prototype.UseItem=function(t){if(null==this.item_bag[t].Item)return{succ:!1,error:m.GameError.ItemNull};var e=this.item_bag[t].Item;if(!r.default.ItemData()[e].canuse)return{succ:!1,error:m.GameError.ItemCannotUse};u.default.UseItem[e.toString()]()&&(this.RemoveItem(e,1),GEvent.emit(GEventName.hideBagInfo)),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag())},t.prototype.CleanSet=function(){if(this.equip_set){if(this.equip_set.size>0)for(var t=0,e=this.equip_set.values();t<e.length;t++){var n=e[t];n.Recover(),n=null}this.equip_set=null}},t.prototype.CheckSet=function(){this.CleanSet(),this.equip_set=new Map;for(var t=0;t<this.equiping[f.default.instance.curRoleID].length;t++)if(null!=this.equiping[f.default.instance.curRoleID][t]&&null!=this.equiping[f.default.instance.curRoleID][t].set_id){var e=this.equiping[f.default.instance.curRoleID][t].set_id;this.equip_set.get(e)?this.equip_set.get(e).set_count++:this.equip_set.set(e,d.default.Create().SetData(e))}},t.prototype.getHeroWeapon=function(){var e;if(null!=t.Init.Equiping[0][c.default.GetEquipTypeIndex(p.EquipType.WEAPON)]){var n=t.Init.Equiping[0][c.default.GetEquipTypeIndex(p.EquipType.WEAPON)].equip_id;t.Init.Equiping[0][c.default.GetEquipTypeIndex(p.EquipType.WEAPON)].PowerLv,e=r.default.EquipData()[n].ske_tex}else e=r.default.EquipData()[1101100].ske_tex;return e},t.prototype.getEquipingData=function(e){return t.Init.Equiping[0][c.default.GetEquipTypeIndex(e)]},t.prototype.AddMagicSwordLv=function(t){if(void 0===t&&(t=1),this.equiping[f.default.instance.curRoleID][0]&&this.equiping[f.default.instance.curRoleID][0].isMagicSword&&this.equiping[f.default.instance.curRoleID][0].MagicSwordLv<60)return this.equiping[f.default.instance.curRoleID][0].MagicSwordLv+=t,this.equiping[f.default.instance.curRoleID][0].SetBaseEntry(),GEvent.emit(GEventName.UpdateWarPower),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),!0;for(var e=0;e<this.equip_bag.length;e++)if(this.equip_bag[e].Equip&&this.equip_bag[e].Equip.isMagicSword&&this.equip_bag[e].Equip.MagicSwordLv<60)return this.equip_bag[e].Equip.MagicSwordLv+=t,this.equip_bag[e].Equip.SetBaseEntry(),h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag()),!0;return console.log("\u9b54\u5251\u5347\u7ea7\u5931\u8d25"),!1},t.prototype.getMagicSwordLv=function(){if(this.equiping[f.default.instance.curRoleID][0]&&this.equiping[f.default.instance.curRoleID][0].isMagicSword)return this.equiping[f.default.instance.curRoleID][0].MagicSwordLv;for(var t=0;t<this.equip_bag.length;t++)if(this.equip_bag[t].Equip&&this.equip_bag[t].Equip.isMagicSword)return this.equip_bag[t].Equip.MagicSwordLv;return null},t.prototype.isHaveMagicSword=function(){for(var t=0;t<this.equip_bag.length;t++)if(this.equip_bag[t].Equip&&1160408==this.equip_bag[t].Equip.equip_id&&this.equip_bag[t].Equip.isMagicSword)return!0;return!(!this.equiping[f.default.instance.curRoleID][0]||1160408!=this.equiping[f.default.instance.curRoleID][0].equip_id||!this.equiping[f.default.instance.curRoleID][0].isMagicSword)},t.prototype.repairMagicSwordLv=function(){if(this.equiping[f.default.instance.curRoleID][0]&&this.equiping[f.default.instance.curRoleID][0].isMagicSword)this.equiping[f.default.instance.curRoleID][0].MagicSwordLv>60&&(this.equiping[f.default.instance.curRoleID][0].MagicSwordLv=60,this.equiping[f.default.instance.curRoleID][0].SetBaseEntry());else for(var t=0;t<this.equip_bag.length;t++)this.equip_bag[t].Equip&&this.equip_bag[t].Equip.isMagicSword&&this.equip_bag[t].Equip.MagicSwordLv>60&&(this.equip_bag[t].Equip.MagicSwordLv=60,this.equip_bag[t].Equip.SetBaseEntry());h.default.instance.SaveData(this.SaveEquiping(),this.SaveEquipBag(),this.SaveItemBag())},t.prototype.isItemBagFull=function(t){var e;return void 0===t&&(t=-1),e=this.item_bag.findIndex(function(t){return null==t.Item},this),this.item_bag.length-e<t?{result:m.GameError.BagFull}:-1==e?{result:m.GameError.BagFull}:{result:null}},t.MAX_EQUIPBAGPAGE=20,t.MAX_ITEMBAGPAGE=8,t}();o.default=v,cc._RF.pop()},{}],BaseAttributeData:[function(t,e,n){"use strict";cc._RF.push(e,"c4f55tu1XFAMK0vuRQZFtCX","BaseAttributeData");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameObjectType"),r=function(){function t(t){this.name="",this.icon="",this.exp=0,this.speed_x=1,this.speed_y=1,this.speedx=420,this.freezex=!1,this.freezey=!1,this.speedy=1,this.atk_cd=[],this.drop=[],this.lv=1,this.res_group="",this.sk="",this.keyname=-1,this.skin="default",this.hp=100,this.atk=10,this.def=0,this.cri=0,this.atkspeed=0,this.hitrate=.7,this.max_hp=0,this.cridamage=1,this.scale=1,this.hp_ratio=1,this.atk_ratio=1,this.coin_ratio=1,this.def_ratio=1,this.type=a.GameObjectType.NONE,this.fashion_atk_up_percentage=0,this.fashion_atkspeed_up_percentage=0,this.fashion_cri_up=0,this.fashion_def_up_percentage=0,this.fashion_hitrate_up=0,this.fashion_hp_up_percentage=0,this.fashion_speed_up_percentage=0,this.exp_ratio=1,this.drop_ratio=0,this.ignore_def_atk=0,this.damage_less_percentage=0,this.passiveskill_up_hp_percentage=0,this.passiveskill_up_atk_percentage=0,this.passiveskill_up_def_percentage=0,this.equip_up_atk_percentage=0,this.equip_up_def_percentage=0,this.buff_up_atk_percentage=0,this.buff_up_def_percentage=0,this.buff_up_atkspeed=0,this.buff_up_hitrate_percentage=0,this.buff_up_cri_percentage=0,this.buff_up_ignore_def_atk=0,this.buff_up_damage_percentage=0,this.buff_up_speed_percentage=0,this.buff_up_speed=0,this.extra_up_atk_percentage=0,this.extra_up_hp_percentage=0,this.extra_up_def_percentage=0,this.extra_up_cri_percentage=0,this.extra_up_cridamage_xs=0,this.equip_up_damage_percentage=0,this.extra_damage=0,this.miss_damage=0,this.commandCfg={},this.weaponurl="res/Weapon/1150300","object"==typeof t?Object.assign(this,t):console.log("\u4f20\u5165\u7684\u7c7b\u578b\u9519\u8bef",t),0==this.max_hp&&(this.max_hp=this.hp),this.hp=this.MaxHp}return Object.defineProperty(t.prototype,"MaxHp",{get:function(){return this.max_hp+this.max_hp*(this.fashion_hp_up_percentage+this.passiveskill_up_hp_percentage)},enumerable:!1,configurable:!0}),t}();o.default=r,cc._RF.pop()},{}],BaseGuideView:[function(t,e,n){"use strict";cc._RF.push(e,"827783hNphM8ZmfUKcuEYwq","BaseGuideView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("View"),l=o("platformConfig"),c=o("Constant"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.setData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l.default.platformType!=c.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&l.default.platformType!=c.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO||(this.getNode("bubbleAni").active=!1)},e}(s.default);a.default=u,cc._RF.pop()},{}],BaseHero:[function(t,e,n){"use strict";cc._RF.push(e,"5d8c0wgOVlIsYFUlcqSSYd2","BaseHero");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.heroZIndex=void 0;var l,c=o("GameHelper"),u=o("PoolManager"),p=o("VibrateManger"),d=o("Utils"),f=o("BeHitVFX"),h=o("CombatGameData"),y=o("EnemyCommand"),g=o("subHpItem"),m=o("SkillItemEFF"),v=o("BaseAttributeData"),_=o("BuffsCtrl"),b=o("StateId"),k=o("AnimatorCtrl"),S=o("BaseUnitHero"),w=o("HeroAniNameCfg"),T=o("HeroAttributeCfg"),C=o("HeroSkillCfg"),D=o("HeroCollision");(function(t){t[t.Up=0]="Up",t[t.Center=1]="Center",t[t.Down=2]="Down"})(l=a.heroZIndex||(a.heroZIndex={}));var E=cc._decorator,I=E.ccclass,P=E.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPlayer=!1,e.previewMode=!1,e.skillId=null,e.skilldata=null,e.damageData=null,e.hurtData=null,e.SkillList=new Map,e.actid=null,e.hitlist={},e.timeScale=1,e.atkSpeed=3,e.atkMoveTime=.1,e.presskeyCode=new Map,e.movekeydown=0,e.normalMaxAtkCount=3,e.pause=!1,e.moveDirect=cc.v3(0,0),e.skillDirect=cc.v3(0,0),e.openADKeyDiversion=!0,e.skillspeed=0,e.actormovetime=0,e.actormovetype=-1,e.closebody=0,e.skillid=null,e.vfxMap=new Map,e.onhurtspeedy=0,e.onhurtspeeddy=0,e.onhurtspeedx=0,e.onhurtrepelspeedx=0,e.onhurtrepelspeedy=0,e.onhurtpushspeed=0,e._doubleHitCount=0,e.MaxdoubleHitDesTime=4,e._curdoubleHitDesTime=0,e.onHurtCount=0,e.InitSuc=!1,e.updateColliderTime=0,e.FlyHeightMax=500,e}return r(e,t),Object.defineProperty(e.prototype,"doubleHitCount",{get:function(){return this._doubleHitCount},set:function(t){this._curdoubleHitDesTime=0,this._doubleHitCount=t,this.isPlayer&&GEvent.emit(GEventName.CombatEvents.DoubleHit,this._doubleHitCount)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curdoubleHitDesTime",{get:function(){return this._curdoubleHitDesTime},set:function(t){this._curdoubleHitDesTime=t,this.isPlayer&&this.curdoubleHitDesTime>=this.MaxdoubleHitDesTime&&(this.curdoubleHitDesTime=0,this._doubleHitCount=0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FlyHeight",{get:function(){return this.ad.node.y},set:function(t){this.FreezeY||(t>this.FlyHeightMax&&(t=this.FlyHeightMax),t<0&&(t=0),this.ad.node.y=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.HeroNode.scale},set:function(t){this.HeroNode.scale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.HeroNode.scaleX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.HeroNode.scaleY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"GetPosition",{get:function(){return cc.v3(this.node.x,this.node.y+this.FlyHeight*this.scaleY)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Direct",{get:function(){return this.moveDirect},set:function(t){this.moveDirect=t,this.openADKeyDiversion&&0!=this.moveDirect.x&&(this.moveDirect.x>0?this.HeroNode.scaleX=Math.abs(this.HeroNode.scaleX):this.HeroNode.scaleX=-Math.abs(this.HeroNode.scaleX))},enumerable:!1,configurable:!0}),e.prototype.updateAttSlot=function(){this.skilldata.actionattslot&&0!=this.skilldata.actionattslot.length&&(this.attSlot=this.ad.findSlot(this.skilldata.actionattslot))},e.prototype.deleteAttSlot=function(){this.attSlot=null},Object.defineProperty(e.prototype,"FrontDirect",{get:function(){return this.HeroNode.scaleX>0?cc.v3(1,0):cc.v3(-1,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CenterPos",{get:function(){return this.node.position.add(cc.v3(0,(this.FlyHeight+this.ad.node.height)*Math.abs(this.scale)))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.HeroNode=this.node.getChildByName("1"),this.HeroUINode=this.node.getChildByName("2"),this.yingzi=this.HeroNode.getChildByName("yingzi"),this.ad=this.HeroNode.getChildByName("ad").getComponent(sp.Skeleton),this.body=this.HeroNode.getChildByName("body").getComponent(cc.Collider),this.skilCollider=this.HeroNode.getChildByName("skilloffset").getChildByName("skilcollider").getComponent(cc.PolygonCollider),this.body.node.addComponent(D.default).onInit(this),this.skilCollider.node.addComponent(D.default).onInit(this),this.defMaterial=this.ad.getMaterial(0),this.whiteMaterial=this.ad.getMaterial(1)},e.prototype.LoadSk=function(t,e,n,i,o,a,r,s){var l=this;return void 0===n&&(n=cc.v3()),void 0===i&&(i=1),void 0===o&&(o=1),void 0===a&&(a=1),void 0===r&&(r=1),void 0===s&&(s=!1),this.InitSuc=!1,this.body.enabled=!1,this.node.opacity=0,new Promise(function(u){c.default.instance.LoadSkillSkeleton(l.ad,e.sk,e.skin).then(function(){l.node.opacity=250,l.init(t,e,n,i,o,a,r,s),l.InitSuc=!0,u(!0)})})},e.prototype.init=function(t,e,n,i,o,a,r,s){void 0===e&&(e=null),void 0===n&&(n=cc.v3()),void 0===i&&(i=1),void 0===o&&(o=1),void 0===a&&(a=1),void 0===r&&(r=1),void 0===s&&(s=!1),this.ID=t,this.ad.node.zIndex=l.Center,this.animatorCtrl=new k.default(this.ad),this.attribute=new v.default(null==e?T.heroAttributeCfg[1]:e),this.HeroAniNameCfg=new w.default(c.default.instance.HeroaniNamedata()[this.attribute.keyname]),this.HeroSkillCfg=new C.HeroSkillCfg(c.default.instance.HeroSkillData()[this.attribute.keyname]),this.BuffsCtrl=new _.BuffsCtrl(this),this.body.enabled=!0,this.openADKeyDiversion=!0,this.isBoss=s,this.hp_ratio=i,this.atk_ratio=a,this.coin_ratio=r,this.def_ratio=o,this.scale=this.attScale,this.LoadShadowOrFaZhen(),this.onInitActive(),!this.previewMode&&this.setEnterBuff()},e.prototype.onInitActive=function(){this.yingzi.active=!0,this.body.enabled=!0,this.FlyHeight=0},e.prototype.AllSkillCDMAX=function(){this.HeroSkillCfg.SkillsMap.forEach(function(t){t.CD=t.MaxCD})},e.prototype.updateAttributedata=function(t){this.attribute=new v.default(t)},e.prototype.update=function(e){this.pause||(e*=this.timeScale,t.prototype.update.call(this,e),this.tick(e))},e.prototype.lateUpdate=function(t){this.pause||(t*=this.timeScale,this.updateLimitRect(),this.updateZindex(),this.updateSKillCD(t),this.BuffUpdate(t),this.curdoubleHitDesTime+=t)},e.prototype.BuffUpdate=function(t){var e=this;this.BuffsCtrl&&this.BuffsCtrl.buff&&this.BuffsCtrl.buff.length>0&&(this.BuffsCtrl.buff=this.BuffsCtrl.buff.filter(function(n){return n.time-=1e3*t,n.time<=0&&n.CleanBuff(e),n.time>0}),this.BuffsCtrl.buff.map(function(t){t.BuffUpdate(e)}))},e.prototype.getAdNode=function(t){var e=this.ad.attachUtil;return e.generateAllAttachedNodes(),e.getAttachedNodes(t)[0]},e.prototype.updateLimitRect=function(){if(!this.previewMode&&(this.node.x-h.default.commonHeroWidth/2<h.default.sceneX0&&(this.node.x=h.default.sceneX0+h.default.commonHeroWidth/2),this.node.x+h.default.commonHeroWidth/2>h.default.sceneX1&&(this.node.x=h.default.sceneX1-h.default.commonHeroWidth/2),this.node.y>h.default.sceneY0&&(this.node.y=h.default.sceneY0),this.node.y<h.default.sceneY1&&(this.node.y=h.default.sceneY1),!h.default.LastRoom&&h.default.doorPoi1&&h.default.doorPoi2)){var t=GMath.getDist_P2L_zhengfu(this.node.position,h.default.doorPoi1,h.default.doorPoi2);t>0&&(this.node.x-=t)}},e.prototype.updateZindex=function(){var t=(this.node.y-h.default.sceneY1)/(h.default.sceneY0-h.default.sceneY1);this.node.zIndex=10-Math.floor(10*t)},e.prototype.updateSKillCD=function(t){this.HeroSkillCfg&&this.HeroSkillCfg.SkillsMap.forEach(function(e){e.CD+=t})},e.prototype.updateBuffs=function(){},e.prototype.addAdEvent=function(){GEvent.offAll(this),GEvent.on(GEventName.CombatEvents.Pause,this.onPause,this),GEvent.on(GEventName.CombatEvents.Recover,this.onResume,this),GEvent.on(GEventName.CombatEvents.AdTimeScale,this.setTimeScale,this),this.animatorCtrl.setEventListener(this.onFrameEvent.bind(this))},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.onFrameEvent=function(t,e){if("Event_VFX"==e.data.name)for(var n=e.stringValue.split("|"),i=0;i<n.length;i++)this.getSKillEff(n[i]);if("Event_Sound"==e.data.name){var o=e.stringValue.split("|");for(i=0;i<o.length;i++)GAudio.playEffect("res/JianHun/Vol/"+o[i],void 0,void 0,!0)}if("Event_ Summon"==e.data.name){console.log(e);var a=e.stringValue.split("="),r=a[2].split("&");for(i=0;i<Number(a[1]);i++){var s=this.GetPosition;s.x+=Math.random()*(s.x+Number(r[1])-(s.x-Number(r[0]))),s.y+=Math.random()*(s.y+Number(r[2])-(s.y-Number(r[3]))),GEvent.emit(GEventName.CombatEvents.CreatObjectSummon,Number(a[0]),s)}}},e.prototype.onLateUpdate=function(){this.LimitGSceneRect()},e.prototype.LimitGSceneRect=function(){},e.prototype.LoadShadowOrFaZhen=function(){var t,e,n=this;t=this.yinyingurl,e=cc.Texture2D;var i=this.isBoss;i&&(t=this.fazhenurl,e=sp.SkeletonData),cc.resources.load(t,e,function(t,e){t?console.error("\u52a0\u8f7d\u9634\u5f71\u9519\u8bef"):(n.yingzi.removeComponent(cc.Sprite),n.yingzi.removeComponent(sp.Skeleton),i?(n.yingzi.addComponent(sp.Skeleton).skeletonData=e,n.yingzi.getComponent(sp.Skeleton).setAnimation(0,"fazhen",!0)):n.yingzi.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e))})},e.prototype.tick=function(t){this.updateColliderTime+=t,this.updateColliderTime>.02&&(this.onUpdateAtkCollider(),this.updateColliderTime=0)},e.prototype.onUpdateAtkCollider=function(){if(this.attSlot&&this.attSlot.attachment&&this.attSlot.attachment.vertices){(n=this.skilCollider).enabled=!0;var t=this.attSlot.attachment.vertices;n.points=[];for(var e=0;e<t.length;e++)e%2==0&&n.points.push(new cc.Vec2(t[e],t[e+1]));this.skilCollider.node.parent.x=this.attSlot.bone.worldX*(this.ad.node.scaleX<0?-1:1),this.skilCollider.node.parent.y=this.attSlot.bone.worldY,this.skilCollider.node.scaleX=this.attSlot.bone.parent.scaleX*this.attSlot.bone.scaleX*(this.ad.node.scaleX<0?-1:1),this.skilCollider.node.scaleY=this.attSlot.bone.parent.scaleY*this.attSlot.bone.scaleY,this.skilCollider.node.angle=this.attSlot.bone.rotation}else{var n;(n=this.skilCollider).enabled=!1}},e.prototype.onUpdateHeroPos=function(t){this.previewMode||(!this.FreezeX&&(this.node.x=t.x),!this.FreezeY&&(this.node.y=t.y))},e.prototype.CheckPreeKey=function(){},e.prototype.checkhit=function(t,e){var n=t.node.damageData,i=n.hero,o=n.actid,a=n.skilldata;if(n.SKillVFX_TYPE==SkillTypeManager.SKillVFX_TYPE.SELF&&(o=i.actid,a=i.skilldata),this.node.y>=i.node.y-i.skilldata.atkywidthdown&&this.node.y<=i.node.y+i.skilldata.atkywidth){if(null==this.hitlist[o])this.hitlist[o]={},this.hitlist[o].leftnum=a.skillhitnum-1,this.hitlist[o].blanktime=a.skillhitblank,this.hitlist[o].lasttime=(new Date).getTime();else{if(this.hitlist[o].leftnum<=0)return;var r=(new Date).getTime();if(!(null==this.hitlist[o].lasttime||(r-this.hitlist[o].lasttime)*this.timeScale>this.hitlist[o].blanktime))return;this.hitlist[o].leftnum--,this.hitlist[o].lasttime=(new Date).getTime()}i.doubleHitCount++,console.log("\u6263\u8840"),this.hurtDir=i.node.convertToWorldSpaceAR(cc.v3()).x<e.node.convertToWorldSpaceAR(cc.v3()).x?MACRO.ACTORDIR.LEFT:MACRO.ACTORDIR.RIGTH,this.hurtTarget=i.node,this.hurtTargetHero=i,this.damageData=n,this.hurtData=a,this.BeHit(i)}},e.prototype.onHurt=function(t){var e=this,n=MACRO.HurtAttackType.Normal,i=MACRO.TakeHurtType.Normal,o=0,a=Math.random()<=1-t.HitRate,r=Math.random()<=t.Cir;o=t.Atk,r&&(o*=2),this.Hp-=o,this.Hp<=0&&(i=MACRO.TakeHurtType.Die),a&&(i=MACRO.TakeHurtType.Miss),r&&(n=MACRO.HurtAttackType.Cir),a&&(n=MACRO.HurtAttackType.Miss),this.getBeHitVFX(i),this.getHurtLb(o,n),this.BeHit(t),this.scheduleOnce(function(){!a&&e.onHurtType()})},e.prototype.setEnterBuff=function(){var t=this.BuffsCtrl.enterHeroBuff();if(t){var e=function(e){if(t[e].ratio>=Math.random()){var i=t[e].id,o=n.BuffsCtrl.buff.findIndex(function(t){return t.id==i});-1==o?n.BuffsCtrl.addBuff(t[e]):n.BuffsCtrl.setBuffTime(o,1e3*t[e].value[1])}},n=this;for(var i in t)e(i)}},e.prototype.setBeHitBuff=function(t){if(!this.isPlayer||this.State!=b.default.DIE){var e=t.BuffsCtrl.getApplyEnemyBuff();if(e){var n=function(t){if(e[t].ratio>=Math.random()){var n=e[t].id,o=i.BuffsCtrl.buff.findIndex(function(t){return t.id==n});-1==o?i.BuffsCtrl.addBuff(e[t]):i.BuffsCtrl.setBuffTime(o,1e3*e[t].value[1])}},i=this;for(var o in e)n(o)}}},e.prototype.BeHit=function(t){if(this.State!=b.default.DIE){this.setBeHitBuff(t);var e=this.GetDamageData(t),n=this.GetDamage(e,this.Lv,this.attribute);this.Hp-=n.damage;var i=MACRO.HurtAttackType.Normal,o=MACRO.TakeHurtType.Normal;n.cri&&(i=MACRO.HurtAttackType.Cir,i=MACRO.HurtAttackType.Cir),n.miss&&(o=MACRO.TakeHurtType.Miss,i=MACRO.HurtAttackType.Miss),this.Hp<=0&&(o=MACRO.TakeHurtType.Die),this.getBeHitVFX(o),this.getHurtLb(n.damage,i),!n.miss&&this.onHurtType(),this.onHurtCount++,!Global.TestMode&&!this.isPlayer&&p.default.instance.short(),this.isPlayer||GEvent.emit(GEventName.CombatEvents.HitEnemy,this)}},e.prototype.GetDamageData=function(t){var e=1;if(this.damageData.SKillVFX_TYPE==SkillTypeManager.SKillVFX_TYPE.VFX&&this.damageData.VFXData&&this.damageData.VFXData.target){var n=this.damageData.hero;e=this.damageData.VFXData.target.damage,e+=this.damageData.VFXData.target.lv_percent*n.curoSkillData.LV}return{Lv:t.Lv,atk:t.Atk,ignore_atk:0,skill_persent:e,cri:t.Cir,hitrate:t.HitRate,equip_up_damage:t.Attribute.equip_up_damage_percentage,miss_damage:t.Attribute.miss_damage}},e.prototype.GetDamage=function(t,e,n){var i=.15+.01*(e-t.Lv)-t.hitrate;if(Math.random()<i)return t.miss_damage>0?{miss:!1,damage:t.miss_damage,cri:!1}:{miss:!0,damage:0,cri:!1};var o=(t.atk-n.def)*t.skill_persent*1;o<=0&&(o=0);var a=(o+t.ignore_atk*t.skill_persent*1)*(1+t.equip_up_damage+n.buff_up_damage_percentage);(a+=Math.floor(.1*a*Math.random()))<=.05*(t.atk+t.ignore_atk)&&(a=Math.round((.03+.04*Math.random())*(t.atk+t.ignore_atk)));var r=Math.random()<=t.cri;return{miss:!1,damage:Math.floor(a*=1+1*(r?this.CriDamage:0)),cri:r}},e.prototype.BuffHit=function(t){this.getHurtLb(t)},e.prototype.onHurtType=function(){this.onhurtspeedy=(this.FlyHeight,this.hurtData.onhurtspeedy+this.onhurtspeedy/2),this.onhurtspeeddy+=(this.FlyHeight,this.hurtData.onhurtspeeddy),this.onhurtspeedx=this.hurtDir.equals(MACRO.ACTORDIR.LEFT)?this.hurtData.onhurtspeeddsp+this.onhurtspeedx/3:-this.hurtData.onhurtspeeddsp+this.onhurtspeedx/3,this.onhurtrepelspeedx=this.hurtData.onhurtrepelspeedx?this.hurtData.onhurtrepelspeedx:10,this.onhurtrepelspeedy=this.hurtData.onhurtrepelspeedy?this.hurtData.onhurtrepelspeedy:0,this.onhurtpushspeed=this.hurtData.onhurtpushspeed?this.hurtData.onhurtpushspeed:0,this.hurtData.hurttype==MACRO.SoldierHurtType.ForceUp||this.State==b.default.ForceUpHurt?this.State=b.default.ForceUpHurt:this.hurtData.hurttype==MACRO.SoldierHurtType.Fly||this.ad.node.y>0&&0!=this.onhurtspeedy?this.State=b.default.HurtFly:this.hurtData.hurttype==MACRO.SoldierHurtType.Push?this.State=b.default.HurtPush:this.State=b.default.NormalHURT},e.prototype.backIntersectionRect=function(t,e){var n=new cc.Rect;return t.intersection(n,e),n},e.prototype.checkIfCanReleaseSkill=function(t){if(!this.enemyHero)return!0;var e=!0;if(t.releaseSkillData.type==C.releaseSkillType.Null&&(e=!1),t.releaseSkillData.type==C.releaseSkillType.Rect){var n,i,o,a;o=t.releaseSkillData.rect.width,a=t.releaseSkillData.rect.height,n=this.node.x-o/2,i=this.node.y-a/2;var r=new cc.Rect(n,i,o,a),s=this.enemyHero.node.position;e=r.contains(s)}return e},e.prototype.checkViewScopeEnemy=function(){if(!this.enemyHero)return!1;var t,e;t=this.node.x-1e3,e=this.node.y-1e3;var n=new cc.Rect(t,e,2e3,2e3),i=this.enemyHero.node.position;return n.contains(i)},e.prototype.setAnimation=function(t,e){return void 0===e&&(e=!1),this.actid=d.default.GUID(),this.animatorCtrl.play(t,e)},e.prototype.checkRobotIfSurpassBorder=function(){return!1},e.prototype.updateskillVfxData=function(t,e,n,i){void 0===t&&(t=this.skilldata.action),void 0===e&&(e=this.skilldata),void 0===n&&(n=this.actid),void 0===i&&(i=null),null==i&&null!=this.skilldata.vfx&&this.skilldata.vfx.length>0&&(i=this.skilldata.vfx[0]);var o=this.vfxMap.get(t);if(o)for(var a in o)o[a].getComponent(m.default).updateherocoData(e,n,i)},e.prototype.getVfxData=function(t){var e=this.skilldata.vfx;if(e)for(var n in e)if(t==e[n].name)return e[n]},e.prototype.getVfxDatasVfxData=function(t,e){if(t&&t.vfx){var n=t.vfx;for(var i in n)if(e==n[i].name)return n[i]}},e.prototype.getEffVfx=function(t,e,n){var i=this.getVfxDatasVfxData(t,e);this.getSKillEff(e,i,n).position=n},e.prototype.getSKillEff=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=cc.v3(this.node.x,this.node.y));var i=u.default.instance.getItemPoolNode(u.PoolKeys.Skill),o=i.getComponent(m.default);i.parent=this.skilCollider.node.parent;var a=e;return null==a&&(a=this.getVfxData(t)),o.onInit(this,"game/jianhunSkillEff/"+t,a),this.pushVfxNode(this.skilldata.action,i),i},e.prototype.pushVfxNode=function(t,e){var n=this.vfxMap.get(t);null==n&&(n=[],this.vfxMap.set(t,n)),n.push(e)},e.prototype.deleteVfxNode=function(t,e){var n=this.vfxMap.get(t);if(n)for(var i=0;i<n.length;i++)n[i].uuid==e.uuid&&n.splice(i,1);else cc.error("\u9519\u8bef")},e.prototype.pushSkill=function(t){this.deleteVfxNode(this.skilldata.action,t),u.default.instance.pushItemPoolNode(u.PoolKeys.Skill,t)},e.prototype.pushCurAllSkill=function(){var t=this.vfxMap.get(this.skilldata.action);if(t)for(var e in t)this.pushSkill(t[e])},e.prototype.getBeHitVFX=function(t){void 0===t&&(t=null);var e=u.default.instance.getItemPoolNode(u.PoolKeys.BeHitVFX);e.parent=this.ad.node,e.x=0,e.y=0,e.y+=this.ad.node.height/2,e.getComponent(f.default).playVFX(t)},e.prototype.getHurtLb=function(t,e){void 0===e&&(e=null),null==e&&(e=MACRO.HurtAttackType.Normal);var n=u.default.instance.getItemPoolNode(u.PoolKeys.subHpItem);n.parent=h.default.EffNode,n.zIndex=11,n.position=this.CenterPos,n.getComponent(g.default).OnShowLbAni(e,t)},e.prototype.resetState=function(){return this.FlyHeight>0?(this.onhurtspeedy+=-600,this.onhurtspeeddy+=-400,this.onhurtspeedx+=60,void(this.State=b.default.HurtFly)):(this.State=b.default.IDLE,this.HeroSkillCfg.SkillsMap.get(this.HeroSkillCfg.NoramlAtks)&&this.presskeyCode.get(this.HeroSkillCfg.SkillsMap.get(this.HeroSkillCfg.NoramlAtks).Key)?(this.curoSkillData=this.HeroSkillCfg.SkillsMap.get(this.HeroSkillCfg.NoramlAtks),this.skillId=this.curoSkillData.Phasecount,void(this.State=b.default.NORMALATTACK)):void(this.movekeydown==MACRO.ACTORJOYSTICKSTATE.DOWN&&(this.State=b.default.MOVE)))},e.prototype.onCollisionEnter=function(t,e){this.pause||(9==t.tag&&0==e.tag&&this.BuffsCtrl.addBuff(new _.buffInfo(1306,1,[.1,20,.05])),1==t.tag&&0==e.tag&&this.checkhit(t,e),2==t.tag&&0==e.tag&&(console.log("\u53d1\u51fa\u78b0\u5230\u95e8"),this.isPlayer&&GEvent.emit(GEventName.CombatEvents.CollisionDoor)),3==t.tag&&0==e.tag&&(console.log("\u53d1\u51fa\u78b0\u5230\u9690\u85cf\u95e8"),this.isPlayer&&GEvent.emit(GEventName.CombatEvents.onCollBlackHole,t.node)))},e.prototype.onCollisionStay=function(t,e){this.pause||1==t.tag&&0==e.tag&&this.checkhit(t,e)},e.prototype.onCollisionExit=function(t,e){this.pause||(9==t.tag&&0==e.tag&&this.BuffsCtrl.removeBuffById(1306),1==t.tag&&0==e.tag&&this.checkhit(t,e))},e.prototype.checkcommandCfgUpdate=function(){this.State==b.default.DIE&&this.commandCfg.diecommand&&y.default.command[this.commandCfg.diecommand.key]&&y.default.command[this.commandCfg.diecommand.key](this,0,this.commandCfg.diecommand.command_value)},e.prototype.onPause=function(){this.pause=!0,this.pauseAnimation()},e.prototype.onResume=function(){this.pause=!1,this.resetAnimation()},e.prototype.onReviveEvent=function(){this.Hp=this.MaxHp,this.State=b.default.IDLE,this.AllSkillCDMAX()},e.prototype.onSetHeroBodyEnable=function(t){void 0===t&&(t=!1),this.body.enabled=t,this.yingzi.active=t},e.prototype.pauseAnimation=function(){this.ad.timeScale=0},e.prototype.resetAnimation=function(){this.ad.timeScale=this.timeScale},e.prototype.setTimeScale=function(t){this.ad.timeScale=t,this.timeScale=t},e.prototype.recoverTimeScale=function(){this.ad.timeScale=1,this.timeScale=1},e.prototype.onDestroy=function(){GEvent.offAll(this)},e.prototype.onStartDie=function(){this.body.enabled=!1,this.yingzi.active=!1,this.BuffsCtrl.clearCurAllBuff(),this.onMaterialTraDef(),GEvent.emit(GEventName.CombatEvents.EnemyStartDie,this)},e.prototype.onDieFree=function(){this.yingzi.active=!0,this.onMaterialTraRed(),GEvent.offAll(this),this.setTimeScale(1),this.body.enabled=!0,this.FlyHeight=0,this.State=b.default.Connect,this.State=b.default.IDLE,GEvent.emit(GEventName.CombatEvents.EnemyDie,this)},e.prototype.onRecycle=function(){this.yingzi.active=!0,GEvent.offAll(this),this.body.enabled=!0,this.FlyHeight=0,this.State=b.default.Connect,this.State=b.default.IDLE},e.prototype.onZJDie=function(){this.onMaterialTraRed(),this.BuffsCtrl.clearCurAllBuff(),this.removeAllSubState()},e.prototype.onMaterialTraDef=function(){this.ad.setMaterial(0,this.whiteMaterial)},e.prototype.onMaterialTraRed=function(){this.ad.setMaterial(0,this.defMaterial)},s([P],e.prototype,"isPlayer",void 0),s([P({tooltip:"\u9884\u89c8\u6a21\u5f0f\u5f00\u542f"})],e.prototype,"previewMode",void 0),s([I],e)}(S.default);a.default=M,cc._RF.pop()},{}],BaseSkillPhase:[function(t,e,n){"use strict";cc._RF.push(e,"c2fbcM0wBpKGpOo3N4CLbc1","BaseSkillPhase");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MoveDir=cc.v3(1,0),e.onOPenNexSkill=!1,e.continuousCount=0,e.onPressDownCurKey=!1,e}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return-1},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){!this.onOPenNexSkill&&(this.Soldier.skillid=this.Soldier.curoSkillData.Skillids[this.Soldier.curoSkillData.Phasecount]),this.Soldier.skilldata=this.Soldier.SkillList.get(this.Soldier.skillid),this.Soldier.setAnimation(this.Soldier.skilldata.action,this.Soldier.skilldata.effectloop),this.TrackEntry=this.Soldier.animatorCtrl.TrackEntry,!this.onOPenNexSkill&&this.Soldier.curoSkillData.Phasecount++,this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this)),this.Soldier.animatorCtrl.setTrackEventListener(this.setTrackEventListenerCb.bind(this)),this.onPressDownCurKey=!1,this.continuousCount++,!this.onOPenNexSkill&&(this.Soldier.Direct=this.Soldier.Direct),this.Soldier.openADKeyDiversion=!1,this.MoveDir=this.Soldier.FrontDirect,this.updateSkilldate(),this.setNexSkill(),this.Soldier.updateAttSlot(),this.Soldier.skillDirect=this.MoveDir},e.prototype.updateSkilldate=function(){this.Soldier.skilldata.actortime<=0&&(this.Soldier.skilldata.actortime=.01),0!=this.Soldier.skilldata.actorlength?this.Soldier.skillspeed=this.Soldier.skilldata.actorlength/this.Soldier.skilldata.actortime:this.Soldier.skillspeed=0,this.Soldier.actormovetime=this.Soldier.skilldata.actortime,this.Soldier.actormovetype=this.Soldier.skilldata.actormovetype,this.Soldier.closebody=this.Soldier.skilldata.closebody,null==this.Soldier.actormovetype&&(this.Soldier.actormovetype=ActorTypeMangage.MOVE_TYPE.PARAM),-1!=this.Soldier.skilldata.effectdebuff&&this.Soldier.addSubState(this.Soldier.skilldata.effectdebuff),this.Soldier.closebody?this.Soldier.onSetHeroBodyEnable(!1):this.Soldier.onSetHeroBodyEnable(!0),this.onActorMove()},e.prototype.onActorMove=function(){switch(this.Soldier.actormovetype){case ActorTypeMangage.MOVE_TYPE.PARAM:break;case ActorTypeMangage.MOVE_TYPE.FIXEDENEMY:this.Soldier.enemyHero&&this.Soldier.onUpdateHeroPos(this.Soldier.enemyHero.node.position);break;case ActorTypeMangage.MOVE_TYPE.RANDOMDIRMOVE:var t=this.Soldier.scaleX>0?cc.v3(1,0):cc.v3(-1,0);this.MoveDir=t.rotate(GMath.angleTransformRadian(180*Math.random()-90))}},e.prototype.setTrackCompleteListenerCb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];1!=this.Soldier.skilldata.effectloop&&-1==this.Soldier.skilldata.skillnext?this.Soldier.curoSkillData.getCanNexSkillid()&&(this.Soldier.presskeyCode.get(this.Soldier.curoSkillData.Key)||this.onPressDownCurKey)?this.PhaseManger.state=this.PhaseId:(!this.onPressDownCurKey&&(this.continuousCount=0),this.Soldier.curoSkillData.Phasecount=0,this.onNextState()):this.onNextState()},e.prototype.setTrackEventListenerCb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onUpdate=function(t){this.onSKillMoveUpdate(t),this.onCheckPressDownCurKey()},e.prototype.onSKillMoveUpdate=function(t){switch(this.Soldier.actormovetype){case ActorTypeMangage.MOVE_TYPE.PARAM:this.Soldier.actormovetime&&this.Soldier.actormovetime>0&&(this.Soldier.actormovetime-=t,this.Soldier.onUpdateHeroPos(this.Soldier.node.position.add(this.MoveDir.normalize().mulSelf(this.Soldier.skillspeed*this.Soldier.SkillSpeedRate*t))));break;case ActorTypeMangage.MOVE_TYPE.FIXEDENEMY:break;case ActorTypeMangage.MOVE_TYPE.RANDOMDIRMOVE:this.Soldier.actormovetime&&this.Soldier.actormovetime>0&&(this.Soldier.actormovetime-=t,this.Soldier.onUpdateHeroPos(this.Soldier.node.position.add(this.MoveDir.normalize().mulSelf(this.Soldier.skillspeed*this.Soldier.SkillSpeedRate*t))))}},e.prototype.onCheckPressDownCurKey=function(){!this.onPressDownCurKey&&this.TrackEntry&&this.TrackEntry.trackTime>=.2*this.TrackEntry.animationEnd&&this.Soldier.presskeyCode.get(this.Soldier.curoSkillData.Key)&&(this.onPressDownCurKey=!0)},e.prototype.onExit=function(){this.Soldier.openADKeyDiversion=!0,this.Soldier.skilldata&&(this.Soldier.skilldata.skillmovetype!=SkillTypeManager.MOVE_TYPE.NULL&&this.Soldier.skilldata.skillmovetype!=SkillTypeManager.MOVE_TYPE.FIXED||this.Soldier.pushCurAllSkill()),this.TrackEntry.trackTime<.99*this.TrackEntry.animationEnd&&(this.Soldier.pushCurAllSkill(),console.log("\u5f3a\u5236\u6253\u65ad\u5224\u65ad",this.Soldier.curoSkillData.Phasecount),this.Soldier.curoSkillData.Phasecount=0,this.Soldier.skillid=-1,this.continuousCount=0,this.onOPenNexSkill=!1),-1!=this.Soldier.skilldata.effectdebuff&&this.Soldier.removeSubState(this.Soldier.skilldata.effectdebuff),this.Soldier.closebody&&(this.Soldier.onSetHeroBodyEnable(!0),this.Soldier.closebody=0),this.Soldier.deleteAttSlot()},e.prototype.setNexSkill=function(){},e.prototype.onNextState=function(){1==this.Soldier.skilldata.effectloop||-1!=this.Soldier.skilldata.skillnext?(this.onOPenNexSkill=!0,this.Soldier.skillid=this.Soldier.skilldata.skillnext,this.PhaseManger.state=this.PhaseId):(this.onOPenNexSkill=!1,this.Soldier.skillid=-1,this.PhaseManger.state=-1,this.continuousCount=0)},e}(o("StatePhase").BaseStatePhase);a.default=s,cc._RF.pop()},{}],BaseSkillState:[function(t,e,n){"use strict";cc._RF.push(e,"d9372fvUaFKU7ELMjnhIHX8","BaseSkillState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onEnter=function(){},e.prototype.updateSkilldate=function(){this.Soldier.skilldata.actortime<=0&&(this.Soldier.skilldata.actortime=.01),0!=this.Soldier.skilldata.actorlength?this.Soldier.skillspeed=this.Soldier.skilldata.actorlength/this.Soldier.skilldata.actortime:this.Soldier.skillspeed=0,this.Soldier.actormovetime=this.Soldier.skilldata.actortime},e.prototype.setTrackCompleteListenerCb=function(){this.Soldier.resetState()},e.prototype.onUpdate=function(t){this.onSKillMove(t)},e.prototype.onSKillMove=function(t){this.Soldier.actormovetime&&this.Soldier.actormovetime>0&&(this.Soldier.actormovetime-=t,this.Soldier.onUpdateHeroPos(this.Soldier.node.position.add(this.Soldier.Direct.normalize().mulSelf(this.Soldier.skillspeed*t))))},e.prototype.onExit=function(){},e}(o("MajorStateBase").default);a.default=s,cc._RF.pop()},{}],BaseStorageValue:[function(t,e,n){"use strict";cc._RF.push(e,"a2619p4uM1ANJJCxKGEQ6we","BaseStorageValue");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("StorageSystem"),r=function(){function t(t,e,n){void 0===n&&(n=!0),this.key=t,this.value=e,this.monitor=n,a.default.Init.AddData(t,this)}return Object.defineProperty(t.prototype,"Monitor",{get:function(){return this.monitor},enumerable:!1,configurable:!0}),t}();o.default=r,cc._RF.pop()},{}],BaseUnitHero:[function(t,e,n){"use strict";cc._RF.push(e,"8901882MHFL4LNNh8w5IRci","BaseUnitHero");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("StateId"),c=o("HeroMachine"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ID=-1,e.isBoss=!1,e.fazhenurl="res/TongYong/Sk/fazhen_TX",e.yinyingurl="res/TongYong/yinying",e}return r(e,t),Object.defineProperty(e.prototype,"MaxHp",{get:function(){return this.attribute.MaxHp+this.attribute.MaxHp*this.attribute.extra_up_hp_percentage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Hp",{get:function(){return this.attribute.hp},set:function(t){this.attribute.hp=t,this.attribute.hp<=0&&this.State!=l.default.DIE&&(this.attribute.hp=0,this.State=l.default.DIE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Atk",{get:function(){return(this.attribute.atk+this.attribute.atk*(this.attribute.fashion_atk_up_percentage+this.attribute.passiveskill_up_atk_percentage))*(1+this.attribute.equip_up_atk_percentage+this.attribute.buff_up_atk_percentage+this.attribute.extra_up_atk_percentage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Def",{get:function(){return(this.attribute.def+this.attribute.def*(this.attribute.fashion_def_up_percentage+this.attribute.passiveskill_up_def_percentage+this.attribute.extra_up_def_percentage))*(1+this.attribute.equip_up_def_percentage+this.attribute.buff_up_def_percentage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Cir",{get:function(){return(this.attribute.cri+this.attribute.fashion_cri_up+this.attribute.extra_up_cri_percentage)*(1+this.attribute.buff_up_cri_percentage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CriDamage",{get:function(){return this.attribute.cridamage+this.attribute.extra_up_cridamage_xs},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AtkSpeed",{get:function(){return 1+(this.attribute.atkspeed+this.attribute.fashion_atkspeed_up_percentage+this.attribute.buff_up_atkspeed)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Speed",{get:function(){return this.attribute.speedx*(1+.5*(this.attribute.speed_x-1))*(1+this.attribute.fashion_speed_up_percentage)*(1+this.attribute.buff_up_speed_percentage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BaseSpeed",{get:function(){return this.attribute.speedx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SkillSpeedRate",{get:function(){var t=this.Speed/this.BaseSpeed;return t>1.1?1+.6*(t-1):t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HitRate",{get:function(){return(this.attribute.hitrate+this.attribute.fashion_hitrate_up)*(1+this.attribute.buff_up_hitrate_percentage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Attribute",{get:function(){return this.attribute},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Lv",{get:function(){return this.attribute.lv},set:function(t){this.attribute.lv=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MissDamage",{get:function(){return this.attribute.miss_damage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Exp",{get:function(){return this.attribute.exp},set:function(t){this.attribute.exp=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Type",{get:function(){return this.attribute.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FreezeX",{get:function(){return this.attribute.freezex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attScale",{get:function(){return.45+.45*(this.attribute.scale-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FreezeY",{get:function(){return this.attribute.freezey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ExtraAtk",{get:function(){return this.attribute.extra_up_atk_percentage},set:function(t){this.attribute.extra_up_atk_percentage=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ExtraHp",{get:function(){return this.attribute.extra_up_hp_percentage},set:function(t){this.attribute.extra_up_hp_percentage=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ExtraDef",{get:function(){return this.attribute.extra_up_def_percentage},set:function(t){this.attribute.extra_up_def_percentage=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ExtraCri",{get:function(){return this.attribute.extra_up_cri_percentage},set:function(t){this.attribute.extra_up_cri_percentage=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ExtraCridanage",{get:function(){return this.attribute.extra_up_cridamage_xs},set:function(t){this.attribute.extra_up_cridamage_xs=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CurAttribute",{get:function(){return{max_hp:this.MaxHp,hp:this.Hp,atk:this.Atk,def:this.Def,cri:this.Cir,atkspeed:this.AtkSpeed,speed:this.Speed,hitrate:this.HitRate}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drop",{get:function(){return this.attribute.drop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hp_ratio",{get:function(){return this.attribute.hp_ratio},set:function(t){this.attribute.hp_ratio=t,this.attribute.max_hp*=this.attribute.hp_ratio,this.attribute.hp=this.MaxHp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"def_ratio",{get:function(){return this.attribute.def_ratio},set:function(t){this.attribute.def_ratio=t,this.attribute.def*=this.attribute.def_ratio},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"atk_ratio",{get:function(){return this.attribute.atk_ratio},set:function(t){this.attribute.atk_ratio=t,this.attribute.atk*=this.attribute.atk_ratio},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coin_ratio",{get:function(){return this.attribute.coin_ratio},set:function(t){this.attribute.coin_ratio=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commandCfg",{get:function(){return this.attribute.commandCfg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"weaponurl",{get:function(){return this.attribute.weaponurl},set:function(t){this.attribute.weaponurl=t},enumerable:!1,configurable:!0}),s([p],e)}(c.default));a.default=d,cc._RF.pop()},{}],BeHitVFX:[function(t,e,n){"use strict";cc._RF.push(e,"69f7a2lTt9DV4lOSwAowhsJ","BeHitVFX");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("PoolManager"),c=o("AnimatorCtrl"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.ad=this.node.getComponent(sp.Skeleton),this.animatorCtrl=new c.default(this.ad),this.animatorCtrl.setEventListener(this.onFrameEvent.bind(this)),this.animatorCtrl.setCompleteListener(this.onComplete.bind(this))},e.prototype.playVFX=function(t){var e="TYTX_zhanji";switch(t){case MACRO.TakeHurtType.Normal:e="TYTX_zhanji",this.node.angle=359*Math.random();break;case MACRO.TakeHurtType.Miss:break;case MACRO.TakeHurtType.Die:e="TYTX_siwang"}this.animatorCtrl.play(e)},e.prototype.onFrameEvent=function(t,e){switch(e.data.name){case"Event_Sound":for(var n=e.stringValue.split("|"),i=0;i<n.length;i++)GAudio.playEffect("res/TongYong/Vol/"+n[i],void 0,void 0,!0)}},e.prototype.onComplete=function(){l.default.instance.pushItemPoolNode(l.PoolKeys.BeHitVFX,this.node)},s([p],e)}(cc.Component));a.default=d,cc._RF.pop()},{}],BlackHole:[function(t,e,n){"use strict";cc._RF.push(e,"c281b89WedE3bRo1pXm3Zf4","BlackHole");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("PoolManager"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openOrclose=0,e}var n;return r(e,t),n=e,e.Create=function(){return l.default.instance.getItemPoolNode(l.PoolKeys.BlackHole).getComponent(n)},e.prototype.Recover=function(){l.default.instance.pushItemPoolNode(l.PoolKeys.BlackHole,this.node)},e.prototype.onLoad=function(){this.ad=this.node.children[0].getComponent(sp.Skeleton)},e.prototype.init=function(t){void 0===t&&(t=0),this.openOrclose=t,this.ad.setAnimation(0,0==t?"xuanwolan":"xuanwohuang",!0)},n=s([u],e)}(cc.Component));a.default=p,cc._RF.pop()},{}],BossItem:[function(t,e,n){"use strict";cc._RF.push(e,"a9a59bINTVCy7eHqIgBcCAU","BossItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("GameData"),u=o("LvHard"),p=o("EvilShopDataManger"),d=o("Utils"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chooseBg=null,e.BossIcon=null,e.BossName=null,e.Time=null,e.Level=null,e.hasKill=null,e.data=null,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.setItemData=function(t,e){var n=this;this.data=e;var i=p.default.instance.EvilShopDataMgr.bossDataList.find(function(t){return t.id==e.id}),o=c.default.EnemyData(u.LvHard.ACTIVE)[e.bossid];this.BossName.string=o.name,cc.loader.loadRes(o.icon,cc.SpriteFrame,function(t,e){0!=cc.isValid(n.node)&&(null==t?n.BossIcon.spriteFrame=e:console.log("err",t))}),this.Level.string=t+1+"\u5c42",this.hasKill.active=0!=i.beastTime,this.Time.string=d.default.formatHaomiao(i.beastTime)},e.prototype.chooseItem=function(t){this.chooseBg.active=t},s([y(cc.Node)],e.prototype,"chooseBg",void 0),s([y(cc.Sprite)],e.prototype,"BossIcon",void 0),s([y(cc.Label)],e.prototype,"BossName",void 0),s([y(cc.Label)],e.prototype,"Time",void 0),s([y(cc.Label)],e.prototype,"Level",void 0),s([y(cc.Node)],e.prototype,"hasKill",void 0),s([h],e)}(l.default);a.default=g,cc._RF.pop()},{}],BossModeView:[function(t,e,n){"use strict";cc._RF.push(e,"ef14eQaadtMxo8nI2J0sYem","BossModeView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=o("GameData"),d=o("BossItem"),f=o("LvHard"),h=o("LvType"),y=o("GameHelper"),g=o("GameCfgData"),m=o("BagManager"),v=o("EvilShopDataManger"),_=o("Admanager"),b=cc._decorator,k=b.ccclass,S=b.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BossItem=null,e.rewardItem=null,e.BossName=null,e.BossSk=null,e.BossScrollContent=null,e.rewardContent=null,e.dropDetailData=[],e.equipItem=null,e.qualityList=[],e.AttributeNode=null,e.EvilCoinCount=null,e.challengeCount=null,e.freshCount=null,e.BossItemList=[],e.BossIndex=0,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),v.default.instance.justFreshBossData(),c.default.instance.currentScene==l.default.Scenes.ToxicityGameScene&&(this.node.Child("btn_rank").active=!1),this.setBossItem(),this.RefreshView(null,"0")},e.prototype.setBossItem=function(){this.BossScrollContent.removeAllChildren();for(var t=0;t<3;t++){this.BossItemList[t]=cc.instantiate(this.BossItem);var e=new cc.Component.EventHandler;e.target=this.node,e.component="BossModeView",e.handler="RefreshView",e.customEventData=""+t,this.BossItemList[t].getComponent(cc.Button).clickEvents.push(e),this.BossItemList[t].parent=this.BossScrollContent,this.BossItemList[t].getComponent(d.default).setItemData(t,p.default.BossModeData()[t])}},e.prototype.RefreshView=function(t,e){var n=this;this.BossItemList[this.BossIndex].getComponent(d.default).chooseItem(!1),this.BossIndex=parseInt(e),this.BossItemList[this.BossIndex].getComponent(d.default).chooseItem(!0),this.EvilCoinCount.string=""+m.default.Init.FindItem(104);var i=p.default.BossModeData()[this.BossIndex],o=p.default.EnemyData(f.LvHard.ACTIVE)[i.bossid];this.BossName.string=o.name;var a=this.BossSk.getComponent(sp.Skeleton);y.default.instance.LoadSkillSkeleton(a,o.sk,o.skin).then(function(){a.setAnimation(0,"idle",!0),n.BossSk.opacity=255});var r=v.default.instance.EvilShopDataMgr.bossDataList.find(function(t){return t.id==i.id});this.challengeCount.string="\u5269\u4f59\u6b21\u6570\uff1a"+r.challengeCount,this.freshCount.string="\u5269\u4f59\u6b21\u6570\uff1a"+r.adtimes,console.log("\u7528\u6237\u6570\u636e",r),this.rewardContent.removeAllChildren(),this.dropDetailData=[];for(var s=p.default.DropData(),l=0;l<o.drop.length;l++){var c=o.drop[l];c.ratio>0&&null!=s[c.id]&&(this.dropDetailData=this.dropDetailData.concat(s[c.id].item_id))}for(var u,h=function(t){if(null==(u=p.default.EquipData()[g.dropDetailData[t]])&&(u=p.default.ItemData()[g.dropDetailData[t]]),null==u)return"continue";var e=cc.instantiate(g.equipItem);e.active=!0,e.parent=g.rewardContent;var n=new cc.Component.EventHandler;n.target=g.node,n.component="gameLevelDialog",n.handler="showEquipInfo",n.customEventData=""+t,e.addComponent(cc.Button).clickEvents.push(n),cc.resources.load(u.icon,function(t,n){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),e.getChildByName("equip_icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)}),e.getComponent(cc.Sprite).spriteFrame=g.qualityList[u.quality]},g=this,_=0;_<this.dropDetailData.length;_++)h(_)},e.prototype.onBtnRank=function(){c.default.instance.load(l.default.Scenes.RankView)},e.prototype.onBtnRandomAtt=function(){},e.prototype.onBtnAttDetail=function(){},e.prototype.onBtnStart=function(){var t=p.default.BossModeData()[this.BossIndex];v.default.instance.EvilShopDataMgr.bossDataList.find(function(e){return e.id==t.id}).challengeCount<=0?Global.onShowTosat("\u6311\u6218\u6b21\u6570\u4e0d\u8db3"):g.default.onEnterGame(h.LvType.Toxicity,f.LvHard.NORMAL,-3,t.id)},e.prototype.onBtnRefreshCount=function(){var t=this,e=p.default.BossModeData()[this.BossIndex],n=v.default.instance.EvilShopDataMgr.bossDataList.find(function(t){return t.id==e.id});n.adtimes>0?_.default.instance.playRewardVideo(function(){n.adtimes-=1,n.challengeCount+=1,t.challengeCount.string="\u5269\u4f59\u6b21\u6570\uff1a"+n.challengeCount,t.freshCount.string="\u5269\u4f59\u6b21\u6570\uff1a"+n.adtimes}):Global.onShowTosat("\u4eca\u65e5\u5237\u65b0\u6b21\u6570\u5df2\u7528\u5b8c")},s([S(cc.Prefab)],e.prototype,"BossItem",void 0),s([S(cc.Node)],e.prototype,"rewardItem",void 0),s([S(cc.Label)],e.prototype,"BossName",void 0),s([S(cc.Node)],e.prototype,"BossSk",void 0),s([S(cc.Node)],e.prototype,"BossScrollContent",void 0),s([S(cc.Node)],e.prototype,"rewardContent",void 0),s([S(cc.Node)],e.prototype,"equipItem",void 0),s([S([cc.SpriteFrame])],e.prototype,"qualityList",void 0),s([S(cc.Node)],e.prototype,"AttributeNode",void 0),s([S(cc.Label)],e.prototype,"EvilCoinCount",void 0),s([S(cc.Label)],e.prototype,"challengeCount",void 0),s([S(cc.Label)],e.prototype,"freshCount",void 0),s([k],e)}(u.default);a.default=w,cc._RF.pop()},{}],BtShopDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"1d78cQkbUZKJreIaeRBtQ/6","BtShopDataManger");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.BtShopDataMgr=t},t.prototype.getShopIdData=function(t,e,n){return this.BtShopDataMgr.getShopIdData(t,e,n)},t.prototype.getLoacalShopData=function(t,e){var n=null;return this.BtShopDataMgr.checkDataSame(t,e)?n=this.getShopIdData(t,e):(this.BtShopDataMgr.addShopIdrData(t,e),n=this.getShopIdData(t,e)),n},t.prototype.setBtShopVideoCount=function(t,e,n){this.getLoacalShopData(t,e).videoCount=n,GEvent.emit(GEventName.SaveUserDataLocal)},t.prototype.setBtShopCountDown=function(t,e,n){this.getLoacalShopData(t,e).countDown=n,GEvent.emit(GEventName.SaveUserDataLocal)},t}();i.default=o,cc._RF.pop()},{}],BuffData:[function(t,e,n){"use strict";cc._RF.push(e,"86ffbBn2UdMDJtsbOnV3INW","BuffData");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){this.buff=Array()}return t.prototype.BuffUpdate=function(t){for(var e in this.buff)this.buff[e].Update(t)},t.prototype.CleanBuff=function(t){for(var e in console.log("BUFF \u7ed3\u675f",this.id,this.time),this.buff)this.buff[e].BuffEnd(t);this.buff=null},t}();i.default=o,cc._RF.pop()},{}],BuffsCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"32431f7GM5DFZz5alEyDgZB","BuffsCtrl");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.BuffsCtrl=o.buffInfo=void 0;var a=i("GameCalculate"),r=i("BagManager");o.buffInfo=function(t,e,n){this.id=-1,this.ratio=0,this.value=[],this.id=t,this.ratio=e,this.value=n};var s=function(){function t(t){this.buffs=[],this.buff=[],this.Hero=t}return Object.defineProperty(t.prototype,"Buffs",{get:function(){return this.buffs},enumerable:!1,configurable:!0}),t.prototype.addBuff=function(t){this.buff.push(a.default.equip_effect_create[t.id.toString()](t.value,this.Hero))},t.prototype.removeBuffById=function(t){for(var e=0;e<this.buff.length;e++)this.buff[e].id==t&&(this.buff[e].CleanBuff(this.Hero),this.buff.splice(e,1),e--)},t.prototype.setBuffTime=function(t,e){this.buff[t].time=e},t.prototype.enterHeroBuff=function(){return this.Hero.isPlayer?r.default.Init.GetCalculateEnterAttackBuffList():[]},t.prototype.getApplyEnemyBuff=function(){return!this.Hero.isPlayer||Global.TestMode?[]:r.default.Init.GetCalculateAttackBuffList(this.Hero).buffs},t.prototype.clearCurAllBuff=function(){for(var t in this.buff)this.buff[t].CleanBuff(this.Hero),this.buff[t]=null;this.buff=[]},t.prototype.getApplyHeroBuff=function(){return[]},t.prototype.CalculateBuffTrigger=function(){var t=function(t){if(e.buffs[t].ratio>=Math.random()){var n=e.buffs[t].id,i=e.buff.findIndex(function(t){return t.id==n});-1==i?e.buff.push(a.default.equip_effect_create[e.buffs[t].id.toString()](e.buffs[t].value)):e.buff[i].time=1e3*e.buffs[t].value[1]}},e=this;for(var n in this.buffs)t(n)},t}();o.BuffsCtrl=s,cc._RF.pop()},{}],Buff:[function(t,e,n){"use strict";cc._RF.push(e,"7b14d1T19RNBY9iVx3kZgfX","Buff");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("VirtualObject"),c=o("GameCalculate"),u=o("PoolManager"),p=o("GameHelper"),d=o("AnimatorCtrl"),f=o("CombatGameData"),h=cc._decorator,y=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadSuc=!1,e}var n;return r(e,t),n=e,e.Create=function(){return u.default.instance.getItemPoolNode(u.PoolKeys.Buff).getComponent(n)},e.prototype.onLoad=function(){},e.prototype.Recover=function(){this.Reset(),u.default.instance.pushItemPoolNode(u.PoolKeys.Buff,this.node)},e.prototype.SetData=function(e,n,i){return void 0===i&&(i=null),t.prototype.Start.call(this),this.id=e,this.value=n,c.default.BuffCreate.hasOwnProperty(this.id)?c.default.BuffCreate[this.id](this):this.loadSuc=!0,this.update_func=c.default.BuffCalculate[this.id],this.onstart_func=c.default.BuffStart[this.id],this.onstart_func&&this.onstart_func(i,this),console.log("\u89e6\u53d1BUFF id",this.id),this},e.prototype.update=function(){},e.prototype.Update=function(t){if(t&&this.loadSuc){this.node.scaleX=t.scaleX,this.node.scaleY=t.scaleY,this.node.zIndex=t.node.zIndex+1;var e=t.GetPosition;this.node.x=e.x,this.node.y=e.y,this.update_func&&this.update_func(t,this)}},e.prototype.BuffEnd=function(t){null!=c.default.BuffEnd[this.id]?c.default.BuffEnd[this.id](this,this.Recover.bind(this),t):this.Recover()},e.prototype.Reset=function(){return this.templet=null,this.armature=null,this.id=-1,this.value=-1,this},e.prototype.LoadSk=function(t,e,n){var i=this;return this.ad=this.node.getChildByName("ad").getComponent(sp.Skeleton),this.animatorCtrl=new d.default(this.ad),this.loadSuc=!1,this.node.parent=f.default.gameScene,new Promise(function(o){p.default.instance.LoadSkillSkeleton(i.ad,t,"default").then(function(){i.animatorCtrl.play(e,n),i.loadSuc=!0,console.log("\u52a0\u8f7d\u5b8c\u6210",t),o(!0)})})},e.prototype.PlayAnimation=function(t,e,n){var i=this;this.animatorCtrl.setCompleteListener(function(){n&&(n(),n=null),i.animatorCtrl.setCompleteListener(null)}),this.animatorCtrl.play(t,e)},n=s([y],e)}(l.default));a.default=g,cc._RF.pop()},{}],BundlesMgr:[function(t,e,n){"use strict";cc._RF.push(e,"70036CKv5tFf6wSNtYkdp71","BundlesMgr");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=new(function(){function t(){this.EnterGameBundles=[],this.LoadingBundles=["bundle_texture","bundle_dialog","bundle_dialog_1","bundle_common"]}return t.prototype.onLoadEnterGameBundles=function(t){this.LoadBundles(this.EnterGameBundles,t)},t.prototype.onLoadLoadingBundles=function(t){this.LoadBundles(this.LoadingBundles,t)},t.prototype.LoadBundles=function(t,e){var n=t;if(n.length<=0)e&&e();else for(var i=0,o=function(t){if(t)return console.error(t.message,t.stack);++i===n.length&&e&&e()},a=0;a<n.length;a++)cc.assetManager.loadBundle(n[a],o)},t}()),cc._RF.pop()},{}],CDKDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"eab8eV5Q0dHya+soAkAuHDR","CDKDataManger");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=i("CDKRewardType"),l=i("api"),c=i("sign"),u=i("BagManager"),p=i("CommonDataMgr"),d=i("FashionManager"),f=i("FashionSkinDataManger"),h=i("GameBusinessDataManager"),y=i("GameStatsManager"),g=i("MailDataManger"),m=i("ModeLVDataManger"),v=function(){function t(){}return t.prototype.init=function(t){if(null!=t&&"object"==typeof t){this.cdkData=t;var e=this.cdkData,n=e.opencdk,i=e.cdklist,o=e.cdkdata;this.opencdk=n,this.cdklist=i,this.cdkdata=o}},t.prototype.GetCDKReward=function(t){var e=this;return new Promise(function(n){return a(e,void 0,void 0,function(){return r(this,function(){return this.getCdkListData(t).then(function(t){n(t)}).catch(function(){n(!1)}),[2]})})})},t.prototype.getCdkListData=function(t){return a(this,void 0,void 0,function(){var e=this;return r(this,function(){return[2,new Promise(function(n){return a(e,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.CDKGet(t)];case 1:return 200==e.sent().code?(g.default.instance.getMailSerData().then(function(){GEvent.emit(GEventName.checkHaveMail)}),n(!0)):n(!1),[2]}})})})]})})},t.prototype.getReward=function(t){switch(t.type){case s.CDKREWAEDTYPE.GOlD:p.CommonDataMgr.instance.Gold+=t.count;break;case s.CDKREWAEDTYPE.DIAMOND:p.CommonDataMgr.instance.Diamond+=t.count;break;case s.CDKREWAEDTYPE.POWER:p.CommonDataMgr.instance.Extrapoewr+=t.count;break;case s.CDKREWAEDTYPE.FASHION:d.default.Init.getFashion(t.count,0),d.default.Init.getFashion(t.count,1),d.default.Init.getFashion(t.count,2);break;case s.CDKREWAEDTYPE.EQUIP:u.default.Init.CreatEquipment(t.id);break;case s.CDKREWAEDTYPE.FASHIONWEAPON:f.default.instance.getFashionSkin(0,t.id);break;case s.CDKREWAEDTYPE.FASHIONEFF:f.default.instance.getFashionSkin(1,t.id);break;case s.CDKREWAEDTYPE.ITEM:u.default.Init.AddItems(t.id,t.count);break;case s.CDKREWAEDTYPE.MissAD:h.default.instance.setIsExemptAD(1);break;case s.CDKREWAEDTYPE.UnlockMJTask:y.default.instance.isUnlockMJTask=!0;break;case s.CDKREWAEDTYPE.GOD:for(var e=1;e<5;e++)for(var n=1;n<7;n++)m.default.instance.pushClassicsChapterLvData(e,n);p.CommonDataMgr.instance.Gold+=9999999,p.CommonDataMgr.instance.Diamond+=9999999,u.default.Init.CreatEquipment(1160400),u.default.Init.CreatEquipment(2160400),u.default.Init.CreatEquipment(3160400),u.default.Init.CreatEquipment(4160400),u.default.Init.CreatEquipment(5160400),u.default.Init.CreatEquipment(6160400),u.default.Init.CreatEquipment(1160407)}},t.prototype.CDKGet=function(t){return a(this,void 0,void 0,function(){var e=this;return r(this,function(){return[2,new Promise(function(n){return a(e,void 0,void 0,function(){var e,i;return r(this,function(o){switch(o.label){case 0:return[4,c.default.create({cdkey:t,is_mail:1})];case 1:return e=o.sent(),[4,l.default.CDKget(e)];case 2:return i=o.sent(),n(i.data),[2]}})})})]})})},t}();o.default=new v,cc._RF.pop()},{}],CDKLocalDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"6634c1gLANCSbRrFMJElZQC","CDKLocalDataManger");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listcdkids",{get:function(){return this.CDKData.listcdkids},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.CDKData=t},t.prototype.addlistcdkid=function(t){this.CDKData.listcdkids.push(t)},t}();i.default=o,cc._RF.pop()},{}],CDKRewardType:[function(t,e,n){"use strict";cc._RF.push(e,"1a76cWfJAhERKDrY1Yzob4/","CDKRewardType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.CDKREWAEDTYPE=void 0,function(t){t[t.GOlD=1]="GOlD",t[t.DIAMOND=2]="DIAMOND",t[t.POWER=3]="POWER",t[t.FASHION=4]="FASHION",t[t.EQUIP=5]="EQUIP",t[t.ITEM=6]="ITEM",t[t.FASHIONWEAPON=7]="FASHIONWEAPON",t[t.FASHIONEFF=8]="FASHIONEFF",t[t.MissAD=101]="MissAD",t[t.UnlockMJTask=102]="UnlockMJTask",t[t.GOD=1e3]="GOD"}(i.CDKREWAEDTYPE||(i.CDKREWAEDTYPE={})),cc._RF.pop()},{}],CameraManger:[function(t,e,n){"use strict";cc._RF.push(e,"ac6d2FDKzBAxowu/rOq4A8U","CameraManger");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameData"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cameraLerpRatio=.15,e.keepShakeValue=0,e.shakeCameraOffset=cc.v2(),e.cameraViewSize=new cc.Vec2,e.limitCamer=!1,e}var n;return r(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._ins},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){n._ins=this,window.CameraManger=this},e.prototype.start=function(){this.init(Global.Hero)},e.prototype.init=function(t){this.cameraViewSize.x=cc.winSize.width,this.cameraViewSize.y=cc.winSize.height,this.camera=this.node.getComponent(cc.Camera),this.hero=t},e.prototype.update=function(){},e.prototype.lateUpdate=function(t){this.hero&&(this.updateCameraShake(t),this.updateCamera(t))},e.prototype.updateCameraShake=function(){this.keepShakeValue>0&&(this.shakeCameraOffset.x=Math.random()*this.keepShakeValue,this.shakeCameraOffset.y=Math.random()*this.keepShakeValue)},e.prototype.setLimitCamer=function(t){this.limitCamer=t},e.prototype.updateCamera=function(){var t=cc.v2(this.node.x,this.node.y).lerp(this.hero.node.getPosition(),this.cameraLerpRatio);!this.limitCamer&&this.limitCameraPos(t),this.node.x=t.x+this.shakeCameraOffset.x},e.prototype.limitCameraPos=function(t){var e=this.cameraViewSize.div(this.camera.zoomRatio),n=t.x-.5*e.x,i=t.x+.5*e.x,o=l.default.sceneX0-n,a=l.default.sceneX1-i;o>0&&(t.x+=o),a<0&&(t.x+=a)},e.prototype.setKeepShake=function(t){t>=0&&(this.keepShakeValue=t)},n=s([u],e)}(cc.Component));a.default=p,cc._RF.pop()},{}],ChaosLocationMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a7f5dMS6hJAjq9TMdtwGcx2","ChaosLocationMgr");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("api"),r=i("PakoManager"),s=function(){function t(){this._playerPositionData=null,this._openchaos=!1}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playerPositionData",{get:function(){return this._playerPositionData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openchaos",{get:function(){return this._openchaos},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;a.default.positon().then(function(e){if(t._playerPositionData=e.data,t._playerPositionData.province="",t.playerPositionData){if("H4sIAAAAAAAAA1N6tnH+i+7+53MalQCcc+MZCwAAAA=="==r.default.b64DeflateData(t.playerPositionData.province))return;Math.floor(100*Math.random())>=70&&(console.log("\u5f00\u542f\u6307\u5b9a\u6a21\u5f0f"),t._openchaos=!0)}})},t}();o.default=s,cc._RF.pop()},{}],ClassStorageValue:[function(t,e,n){"use strict";cc._RF.push(e,"a8f63Hcbt1CdY++zv/BUiXX","ClassStorageValue");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(e,n,i,o,a,r){void 0===r&&(r=!0);var s=this;return(s=t.call(this,e,n,r)||this).savefunc=i,s.loadfunc=o,s.obj=a,s}return r(e,t),e.prototype.Save=function(){return this.savefunc.call(this.obj)},e.prototype.Load=function(t){this.value=this.loadfunc.call(this.obj,t)},Object.defineProperty(e.prototype,"GetValue",{get:function(){return this.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SetValue",{set:function(t){this.value=t},enumerable:!1,configurable:!0}),e}(o("BaseStorageValue").default);a.default=s,cc._RF.pop()},{}],CollisionManager:[function(t,e,n){"use strict";cc._RF.push(e,"bb97b0fH+RBNYDomuwSOb/8","CollisionManager");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ifShowDebugDraw=!1,e.ifShowDrawBoundingBox=!1,e}return a(e,t),e.prototype.onLoad=function(){var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=this.ifShowDebugDraw,t.enabledDrawBoundingBox=this.ifShowDrawBoundingBox},r([c({tooltip:"\u662f\u5426\u5f00\u542f\u7ed8\u5236"})],e.prototype,"ifShowDebugDraw",void 0),r([c({tooltip:"\u662f\u5426\u5f00\u542fDrawBoundingBox"})],e.prototype,"ifShowDrawBoundingBox",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ComRewardView:[function(t,e,n){"use strict";cc._RF.push(e,"4aee4TxwGtDXJ3PHQgqJrA7","ComRewardView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("GameData"),p=o("CurrencyType"),d=o("GameCfgData"),f=o("BagManager"),h=o("Admanager"),y=o("DotManger"),g=o("Utils"),m=cc._decorator,v=m.ccclass,_=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardList=null,e.btn_confirm_label=null,e.btn_Double_label=null,e.RewardType=0,e.call=null,e}return r(e,t),e.prototype.onUILoad=function(){this.RewardType=0},e.prototype.showTask=function(t){if(!t&&t==[])return this.close();this.RewardType=0,this.reward=t;for(var e=0;e<this.reward.length;e++)g.default.loadSpfFromRes(u.default.CurrenyData()[this.reward[e].id].icon,this.rewardList.children[e].getChildByName("icon")),this.rewardList.children[e].getChildByName("count").getComponent(cc.Label).string="x"+this.reward[e].value,this.rewardList.children[e].getChildByName("name").getComponent(cc.Label).string=u.default.CurrenyData()[this.reward[e].id].name},e.prototype.showExchange=function(t){if(!t&&t==[])return this.close();this.RewardType=1,this.reward=t,g.default.loadSpfFromRes(u.default.ItemData()[this.reward[0].id].icon,this.rewardList.children[0].getChildByName("icon")),this.rewardList.children[0].getChildByName("count").getComponent(cc.Label).string="x"+this.reward[0].value,this.rewardList.children[0].getChildByName("name").getComponent(cc.Label).string=u.default.ItemData()[this.reward[0].id].name,this.rewardList.children[0].position=cc.v3(0,0),this.rewardList.children[1].active=!1},e.prototype.showFragment=function(t){var e=this;if(!t._reward&&t._reward==[])return this.close();this.btn_confirm_label.string="\u4e0d\u4e86\uff0c\u8c22\u8c22",this.btn_Double_label.string="\u9886\u53d6\u5956\u52b1",this.RewardType=2,this.reward=t._reward,this.call=t.call;var n=Math.max(t._reward.length,this.rewardList.children.length);t._reward.length<2&&(this.rewardList.children[0].x=0);for(var i=0;i<n;i++){var o=i,a=this.rewardList.children[i];if(null==a&&((a=cc.instantiate(this.rewardList.children[0])).parent=this.rewardList),i>=t._reward.length)a.active=!1;else{if(a.active=!0,!a||!t._reward[i])return;var r=u.default.ItemData()[this.reward[i].id]||u.default.CurrenyData()[this.reward[i].id];g.default.loadSpfFromRes(r.icon,this.rewardList.children[i].getChildByName("icon")).then(function(){r.ParentCenter&&e.rewardList.children[o].getChildByName("icon").inParentCenter(null,{width:20,height:20})}),this.rewardList.children[i].getChildByName("count").getComponent(cc.Label).string="x"+this.reward[i].value,this.rewardList.children[i].getChildByName("name").getComponent(cc.Label).string=r.name}}},e.prototype.onBtnReward=function(){switch(this.RewardType){case 0:for(var t=0;t<this.reward.length;t++)switch(!0){case 100==this.reward[t].id:l.default.Get(p.CurrencyType.COIN,this.reward[t].value);break;case 101==this.reward[t].id:l.default.Get(p.CurrencyType.COUPON,this.reward[t].value)}this.close();break;case 1:switch(GAudio.playEffect(d.default.buyBtnAudio),f.default.Init.AddItems(this.reward[0].id,this.reward[0].value),this.reward[0].id){case 121:y.default.CommonTrackEvent(DotEnum.gameAldEnum.shop_exchangegjlhy);break;case 122:y.default.CommonTrackEvent(DotEnum.gameAldEnum.shop_exchangedjlhy);break;case 131:y.default.CommonTrackEvent(DotEnum.gameAldEnum.shop_exchange7qhj);break;case 132:y.default.CommonTrackEvent(DotEnum.gameAldEnum.shop_exchange10qhj)}this.close();break;case 2:this.call&&this.call(!1),this.close()}},e.prototype.onbtnRewardDouble=function(){var t=this;switch(this.RewardType){case 0:h.default.instance.playRewardVideo(function(){for(var e=0;e<t.reward.length;e++)switch(!0){case 100==t.reward[e].id:l.default.Get(p.CurrencyType.COIN,2*t.reward[e].value);break;case 101==t.reward[e].id:l.default.Get(p.CurrencyType.COUPON,2*t.reward[e].value)}GEvent.emit(GEventName.Task.WatchVideo),t.close()},DotEnum.videoAldEnum.viedo_task_doubleget);break;case 1:h.default.instance.playRewardVideo(function(){GAudio.playEffect(d.default.buyBtnAudio),f.default.Init.AddItems(t.reward[0].id,2*t.reward[0].value),GEvent.emit(GEventName.Task.WatchVideo),t.close()},DotEnum.videoAldEnum.viedo_shopdh_doubleget);break;case 2:h.default.instance.playRewardVideo(function(){for(var e=0;e<t.reward.length;e++)switch(!0){case 100==t.reward[e].id:l.default.Get(p.CurrencyType.COIN,t.reward[e].value);break;case 101==t.reward[e].id:l.default.Get(p.CurrencyType.COUPON,t.reward[e].value)}GAudio.playEffect(d.default.buyBtnAudio),GEvent.emit(GEventName.Task.WatchVideo),t.call&&t.call(!0),t.close()},DotEnum.videoAldEnum.viedo_shopdh_doubleget)}},s([_(cc.Node)],e.prototype,"rewardList",void 0),s([_(cc.Label)],e.prototype,"btn_confirm_label",void 0),s([_(cc.Label)],e.prototype,"btn_Double_label",void 0),s([v],e)}(c.default);a.default=b,cc._RF.pop()},{}],ComTipsView:[function(t,e,n){"use strict";cc._RF.push(e,"465d85uJGhHrpjSGQpy0hgu","ComTipsView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("BagManager"),u=o("ShareBoxDataManger"),p=o("Admanager"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageType=0,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.onBtnAddPage=function(){var t=this;if(4==this.pageType)return this.rewardCallback&&this.rewardCallback(),void this.close();3!=this.pageType?0==this.pageType?p.default.instance.playRewardVideo(function(){c.default.Init.AddEquipPage(),t.rewardCallback&&t.rewardCallback(),GEvent.emit(GEventName.Task.WatchVideo),t.close()},DotEnum.videoAldEnum.viedo_bag_addequippage):p.default.instance.playRewardVideo(function(){c.default.Init.AddItemPage(),t.rewardCallback&&t.rewardCallback(),GEvent.emit(GEventName.Task.WatchVideo),t.close()},DotEnum.videoAldEnum.viedo_bag_additempage):p.default.instance.playRewardVideo(function(){u.default.instance.AddBoxPage(),t.rewardCallback&&t.rewardCallback(),GEvent.emit(GEventName.Task.WatchVideo),t.close()},DotEnum.videoAldEnum.viedo_bag_addequippage)},e.prototype.setPageType=function(t,e,n){this.pageType=t;var i=this.node.Child("btn_confirm");3==this.pageType&&(this.node.Child("contentLabel",cc.Label).string="\u662f\u5426\u6269\u5c555\u683c\u8d26\u53f7\u4ed3\u5e93\u5bb9\u91cf"),4==this.pageType?(this.node.Child("contentLabel",cc.Label).string=n,i.Child("adSp").active=!1,i.Child("label").x=0):(i.Child("adSp").active=!0,i.Child("label").x=21.5),e&&(this.rewardCallback=e)},s([f],e)}(l.default));a.default=h,cc._RF.pop()},{}],CombatBgMove:[function(t,e,n){"use strict";cc._RF.push(e,"04839WMzvZCK4EE4GqcP9k7","CombatBgMove");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameData"),c=cc.Enum({Follow:0,Move:1}),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Type=c.Follow,e.movexs=1,e.speed=20,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.player=Global.Hero.node,this.Type==c.Follow&&(this.onUpdate=this.onUpdateFollow.bind(this)),this.Type==c.Move&&(this.onUpdate=this.onUpdateMove.bind(this))},e.prototype.update=function(t){this.onUpdate&&this.onUpdate(t)},e.prototype.onUpdateFollow=function(){if(this.checkCameraPosBorder(this.player.position)){this.latepos||(this.latepos=this.player.position);var t=this.player.position.x-this.latepos.x;this.node.x+=t*this.movexs,this.latepos=this.player.position}},e.prototype.onUpdateMove=function(t){for(var e=0;e<this.node.children.length;e++)this.node.children[e].x-=this.speed*t,-this.node.children[e].x>=this.node.children[e].width/2&&(this.node.children[e].x=this.backxmax()+this.node.children[e].width)},e.prototype.backxmax=function(){for(var t,e=0;e<this.node.children.length;e++)null==t&&(t=this.node.children[e].x),t<this.node.children[e].x&&(t=this.node.children[e].x);return t},e.prototype.checkCameraPosBorder=function(t){var e=l.default.cameraViewSize.div(l.default.MainCamera.zoomRatio),n=t.x-.5*e.x,i=t.x+.5*e.x,o=l.default.sceneX0-n,a=l.default.sceneX1-i;return!(o>0||a<0)},s([d({type:c})],e.prototype,"Type",void 0),s([d(cc.Float)],e.prototype,"movexs",void 0),s([d],e.prototype,"speed",void 0),s([p],e)}(cc.Component);a.default=f,cc._RF.pop()},{}],CombatExitView:[function(t,e,n){"use strict";cc._RF.push(e,"bc172MH6GtOO5t2RQIi9F7a","CombatExitView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameHelper"),u=o("Admanager"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.onClick("content/btn_rect",this.onBackMain,this),this.onClick("content/btn_cancel",this.close,this)},e.prototype.onUIEnable=function(){this.commercialize()},e.prototype.onUIDisable=function(){this.commercializeHide()},e.prototype.commercialize=function(){u.default.instance.showBanner()},e.prototype.commercializeHide=function(){u.default.instance.hideBanner()},e.prototype.onBackMain=function(){c.default.instance.enterGameScene()},s([d],e)}(l.default));a.default=f,cc._RF.pop()},{}],CombatGameCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"ba4ccVVV0ZGK4IBiSP4m9q8","CombatGameCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("BlackHole"),l=o("CombatGameData"),c=o("DropItem"),u=o("EnemeyManager"),p=o("StateId"),d=o("BaseHero"),f=o("lastBossEff"),h=o("ReviveEff"),y=o("GameCalculate"),g=o("TimeEngine"),m=o("Controller"),v=o("SceneConfig"),_=o("GameData"),b=o("LvType"),k=o("PassLevelType"),S=o("GameHelper"),w=o("GameCfgData"),T=o("BagManager"),C=o("FashionManager"),D=o("FashionSkinDataManger"),E=o("CameraManger"),I=o("PoolManager"),P=o("RoleCfgManager"),M=o("VibrateManger"),L=o("Admanager"),A=o("CommonTool"),R=o("Utils"),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemys=[],e.builds=[],e.AllRunningActions=[],e}return r(e,t),e.prototype.onInit=function(){window.CombatGameCtrl=this,this.viewEntity=this.view,this.viewEntity.init,this.onAddEvent()},e.prototype.onAddEvent=function(){console.log("add Event")},e.prototype.testInit=function(t){this.viewEntity=t},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){this.OnStartGame()},e.prototype.OnStartGame=function(){var t=this;if(l.default.init(),l.default.gameScene=this.viewEntity.GameNode,l.default.EffNode=this.viewEntity.EffNode,l.default.MainCamera=this.viewEntity.MainCamera.getComponent(cc.Camera),Global.TestMode)return I.default.instance.init(),void _.default.initJson();this.sceneMgr().show(v.default.Scenes.Wait1Scene),this.viewEntity.onCreatorMap(),I.default.instance.init().then(function(){Promise.all([t.viewEntity.onLoadDoor(),t.onInitHero()]).then(function(){t.sceneMgr().hide(v.default.Scenes.Wait1Scene),t.onLvTypeInit(),t.onCreatorRoomEnemy(),t.viewEntity.MainCamera.getComponent(E.default).init(t.viewEntity.Hero),t.viewEntity.CombatUIManger.onInit(),t.viewEntity.onUpdateDoorPos(),t.onDoorLine(),M.default.instance.openShortCall()}).catch(function(t){console.log(t)})}).catch(function(t){console.error(t)})},e.prototype.onInitHero=function(){var t=this;return new Promise(function(e,n){var i=R.default.clone(S.default.instance.HeroData()[w.default.playerId]);i.weaponurl=T.default.Init.getHeroWeapon(),l.default.NewLevel&&(i.skin=C.default.Init.getFashionSetById(0).set_skin_name,i.weaponurl="res/Weapon/1160402"),t.viewEntity.Hero.LoadSk(w.default.playerId,i).then(function(){l.default.NewLevel&&(t.viewEntity.Hero.attribute.atk=9999,t.viewEntity.Hero.attribute.hp=99999,t.viewEntity.Hero.attribute.max_hp=99999,t.viewEntity.Hero.attribute.lv=60),t.onInitHeroSkill(),e(!0)}).catch(function(t){console.error(t),n(t)})})},e.prototype.onInitHeroSkill=function(){T.default.Init.GetOpenHeroExtraSkill8()?this.viewEntity.CombatUIManger.skillControl.MOJian_SKILL.active=!0:this.viewEntity.CombatUIManger.skillControl.MOJian_SKILL.active=!1},e.prototype.onDoorLine=function(){var t=this.viewEntity.doorNode.getChildByName("poi1"),e=this.viewEntity.doorNode.getChildByName("poi2");l.default.doorPoi1=this.viewEntity.GameNode.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v3(0,0))),l.default.doorPoi2=this.viewEntity.GameNode.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v3(0,0)))},e.prototype.onLvTypeInit=function(){l.default.LvType==b.LvType.ACTIVITY&&(this.viewEntity.CombatUIManger.onUpdateHuoDongTime(A.default.formatTimeMinute(l.default.Huodongdowntime)),g.default.instance.open(1e3,-1,this.onHuoDongTime,this))},e.prototype.onHuoDongTime=function(){l.default.LvType==b.LvType.ACTIVITY&&!l.default.pause&&l.default.onStartGame&&l.default.Huodongdowntime>0&&(l.default.Huodongdowntime-=1,this.viewEntity.CombatUIManger.onUpdateHuoDongTime(A.default.formatTimeMinute(l.default.Huodongdowntime)),l.default.Huodongdowntime<=0&&this.viewEntity.CombatUIManger.onShowHuoDongTimeEndView())},e.prototype.checkNewPlayerLv=function(){l.default.NewLevel},e.prototype.onNexRoomEvent=function(){l.default.openDoor&&(l.default.roomcount++,this.viewEntity.updateNexRoomMap(),this.viewEntity.onUpdateDoorPos(),this.onDoorLine(),l.default.openDoor=!1,this.onClearBuilds(),this.viewEntity.closeDoorAni(),this.deleteAllBlackHole(),!l.default.LastRoom&&this.viewEntity.onLoadDoor(),this.viewEntity.CombatUIManger.RoomInfo.updateIconHeroPos(),this.viewEntity.Hero.node.x=l.default.sceneX0+300,this.viewEntity.MainCamera.position=cc.v3(0,0),l.default.LastRoom&&(this.viewEntity.doorNode.active=!1),this.onCreatorRoomEnemy())},e.prototype.onClearBuilds=function(){this.builds.forEach(function(t){t.getComponent(d.default).onRecycle(),I.default.instance.pushItemPoolNode(I.PoolKeys.Enemy,t)}),this.builds=[]},e.prototype.onCreatorRoomEnemy=function(){var t,e,n=this,i=l.default.MapData.room[l.default.roomcount-1];if(i.is_boss){l.default.cur_is_bossroom=!0;var o=u.default.Init.CreatBoss(l.default.LvHard,i.boss,i.boss_hp_ratio,i.boss_def_ratio,i.boss_atk_ratio,l.default.coin_ratio,this.viewEntity.GameNode);l.default.boss_count=o.length,(t=this.enemys).push.apply(t,o)}i.builder&&(this.builds=u.default.Init.CreatBuilder(l.default.LvHard,i.builder,this.viewEntity.GameNode));var a=u.default.Init.CreatEnemey(l.default.LvHard,i.enemy,i.x,i.y,i.is_boss,i.mon_hp_ratio,i.mon_def_ratio,i.mon_atk_ratio,l.default.coin_ratio,this.viewEntity.GameNode);(e=this.enemys).push.apply(e,a),l.default.enemy_count+=this.enemys.length,setTimeout(function(){GEvent.emit(GEventName.CombatEvents.Recorder,!1),n.recorderStart()},0)},e.prototype.onPauseEvent=function(){l.default.pause=!0,this.pauseAllActions()},e.prototype.onRecoverEvent=function(){l.default.pause=!1,this.resumeActions(),this.onChangeEquipRFHeroInfo(),this.onInitHeroSkill()},e.prototype.pauseAllActions=function(){this.AllRunningActions=cc.director.getActionManager().pauseAllRunningActions()},e.prototype.resumeActions=function(){cc.director.getActionManager().resumeTargets(this.AllRunningActions),this.AllRunningActions=[]},e.prototype.onChangeEquipRFHeroInfo=function(){var t=R.default.clone(S.default.instance.HeroData()[w.default.playerId]);t.weaponurl=S.default.instance.getHeroUseWeapontUrl(),this.viewEntity.Hero.RFChangeEquip(t)},e.prototype.onReviveEvent=function(){this.viewEntity.Hero.State==p.default.DIE?(h.default.Create().onInit(this.viewEntity.Hero),this.viewEntity.Hero.onReviveEvent()):console.log("\u89d2\u8272\u6ca1\u6709\u6b7b\u4ea1")},e.prototype.onPlayerDieEvent=function(){this.viewEntity.CombatUIManger.onShowRecover()},e.prototype.onEnemyStartDieEvent=function(t){t.isBoss&&l.default.boss_count<=1&&(GEvent.emit(GEventName.CombatEvents.AdTimeScale,.4),f.default.Create().onInit(t),g.default.instance.open(4e3,1,function(){GEvent.emit(GEventName.CombatEvents.AdTimeScale,1)},this))},e.prototype.onEnemyDieEvent=function(t){this.onGetExp(t),this.onDrop(t,t.drop),this.deleteDesEnemy(t),this.checkBossAllDes(t),this.checkPassLevelOrNexRoom(),this.onCanBlackHole(t)},e.prototype.checkPassLevelOrNexRoom=function(){this.checkRoomEnemyIfAllDes()&&(l.default.LastRoom?(console.log("\u8fc7\u5173, \u6863\u671f",l.default.curChapter,"-"+l.default.curLevel),this.onGameEnd(k.PassLevelType.PASS),this.recorderStop()):(l.default.openDoor=!0,this.viewEntity.openDoorAni()))},e.prototype.onCanBlackHole=function(t){if(l.default.LvType==b.LvType.NORMAL&&!(l.default.ShowBlackHole||l.default.LastRoom||Math.floor(99*Math.random()+1)>w.default.blackHoldLv)){var e=s.default.Create();e.node.parent=this.viewEntity.GameNode,e.init(),l.default.blackHoleList.push(e),e.node.position=cc.v3(t.node.position.x,-63.081),l.default.ShowBlackHole=!0}},e.prototype.onShowCloseBlackHole=function(t){var e=s.default.Create();e.node.parent=this.viewEntity.GameNode,e.init(1),l.default.blackHoleList.push(e),e.node.position=t},e.prototype.onDrop=function(t,e){var n=l.default.GetOneDrop(t,e);n&&this.onCreatOneDrop(t.GetPosition,n,t.FrontDirect)},e.prototype.onDrop1=function(){},e.prototype.onDropDiamond=function(t){for(var e=Math.floor(2*Math.random())+1,n=R.default.getCirclePoints(50,t.node.position,e,30*Math.random()+30),i=[],o=0;o<e;o++){var a=l.default.getDropDia(),r=this.onCreatOneDrop(t.GetPosition.add(cc.v3(80*Math.random()-40,80*Math.random()-40)),a);r.position=t.GetPosition,i.push(r)}i.forEach(function(t,e){t.opacity=255,cc.tween(t).to(.5,{position:n[e]}).delay(.03*e).to(.3,{position:l.default.playerHero.GetPosition.add(cc.v3(0,100))}).call(function(){t.opacity=255,t.getComponent(c.default).PickUp()}).start()})},e.prototype.onGetExp=function(t){var e=y.default.GetPlayerAttributeInNormalGame().exp_ratio;P.default.instance.Exp+=t.Exp*e},e.prototype.checkBossAllDes=function(t){t.isBoss&&(l.default.boss_count-=1,l.default.boss_count<=0&&this.onKillAllEnemy())},e.prototype.onKillAllEnemy=function(){this.enemys.forEach(function(t){var e=t.getComponent(d.default);e.Hp-=e.MaxHp})},e.prototype.onGameEnd=function(t){l.default.gameend(t),this.viewEntity.onOpenCombatScoreView()},e.prototype.onDoubleHitEvent=function(t){t>l.default.max_combo&&(l.default.max_combo=t)},e.prototype.onGameFailedEvent=function(){l.default.gamefailed()},e.prototype.onCreatOneDrop=function(t,e,n){void 0===n&&(n=cc.v3(1,0)),console.log("_dropdata",e);var i=c.default.Create();return i.node.parent=this.viewEntity.dropNode,i.CreatDrop(e,t,n),l.default.dropList.push(i),i.node},e.prototype.onGetDrop=function(t){this.deleteDorp(t)},e.prototype.onCollBlackHole=function(t){var e=this;1!=t.getComponent(s.default).openOrclose?l.default.EnterBlackHole||(l.default.EnterBlackHole=!0,l.default.openDoor&&(l.default.openDoor=!1,this.viewEntity.closeDoorAni()),g.default.instance.open(1e3,1,function(){var n;e.deleteBlackHole(t.getComponent(s.default)),e.deleteDesAllEnemy(),e.viewEntity.updateNexRoomMap(),e.viewEntity.Hero.node.x=l.default.sceneX0+300,e.viewEntity.MainCamera.position=cc.v3(0,0);var i=u.default.Init.CreatOneBossDia(l.default.LvHard,e.viewEntity.GameNode);(n=e.enemys).push.apply(n,i),e.viewEntity.CombatUIManger.BlackHoleTime.active=!0,l.default.BlackHoleFunId=g.default.instance.open(1e3,-1,e.onOpenBlackHoleDownTime,e)})):this.onExitBlackHole(t)},e.prototype.onOpenBlackHoleDownTime=function(){if(!l.default.pause&&(l.default.BlackHoleTime-=1,this.viewEntity.CombatUIManger.onUpdateBlackHoleTime(A.default.formatTimeMinute(l.default.BlackHoleTime)),l.default.BlackHoleTime<=0)){g.default.instance.close(l.default.BlackHoleFunId);var t=cc.v3(0,0);this.enemys.length>0&&(t=this.enemys[0].position),this.onShowCloseBlackHole(t),this.deleteDesAllEnemy(),this.viewEntity.CombatUIManger.BlackHoleTime.active=!1}},e.prototype.onExitBlackHole=function(t){this.deleteBlackHole(t.getComponent(s.default)),l.default.EnterBlackHole=!1,l.default.openDoor=!0,this.onNexRoomEvent(),console.log("\u9000\u51fa\u9ed1\u6d1e\u623f\u95f4")},e.prototype.onBlackHoleHpDrop=function(t){this.onDropDiamond(t)},e.prototype.deleteDorp=function(t){for(var e=0;e<l.default.dropList.length;e++)if(l.default.dropList[e].node.uuid==t.node.uuid){l.default.dropList.splice(e,1);break}},e.prototype.deleteBlackHole=function(t){for(var e=0;e<l.default.blackHoleList.length;e++)if(l.default.blackHoleList[e].node.uuid==t.node.uuid){l.default.blackHoleList[e].Recover(),l.default.blackHoleList.splice(e,1);break}},e.prototype.deleteAllBlackHole=function(){for(var t=0;t<l.default.blackHoleList.length;t++)l.default.blackHoleList[t].Recover();l.default.blackHoleList=[]},e.prototype.deleteDesEnemy=function(t){for(var e=0;e<this.enemys.length;e++)if(this.enemys[e].uuid==t.node.uuid){I.default.instance.pushItemPoolNode(I.PoolKeys.Enemy,this.enemys[e]),this.enemys.splice(e,1),l.default.enemy_count-=1;break}},e.prototype.deleteDesAllEnemy=function(){for(var t=R.default.copyArr(this.enemys),e=0;e<t.length;e++)t[e].getComponent(d.default).onZJDie(),I.default.instance.pushItemPoolNode(I.PoolKeys.Enemy,t[e]);this.enemys=[],l.default.enemy_count=0},e.prototype.onDestroyDataEvent=function(){l.default.destroyAllData(),I.default.instance.destroyAllPool(),g.default.getInstance().closeByTarget(this),M.default.instance.closeShortCall(),GAudio.stopEffect(),L.default.instance.recorderStop()},e.prototype.onHeroGetExpEvent=function(){l.default.playerHero.Exp=P.default.instance.Exp},e.prototype.onHeroLvUpEvent=function(){l.default.playerHero.Lv=P.default.instance.LV,l.default.playerHero.updateAttributedata(y.default.GetPlayerAttributeInNormalGame()),GAudio.playEffect(w.default.heroUpgrade),h.default.Create().onInit(this.viewEntity.Hero)},e.prototype.onCreatObjectSummonEvent=function(t,e){var n=l.default.roomData;if(Global.TestMode&&(n={mon_hp_ratio:1,mon_def_ratio:1,mon_atk_ratio:1}),5==S.default.instance.EnemyData(l.default.LvHard)[t].type);else{var i=u.default.Init.CreatOneEnmey(l.default.LvHard,t,e,n.mon_hp_ratio,n.mon_def_ratio,n.mon_atk_ratio,l.default.coin_ratio,this.viewEntity.GameNode);this.enemys.push(i)}this.enemys.length>0&&(l.default.openDoor=!1,this.viewEntity.closeDoorAni())},e.prototype.onReleaseJuxingEvent=function(t){void 0===t&&(t=1),GEvent.emit(GEventName.CombatEvents.AdTimeScale,.1);var e=t;1==t&&D.default.instance.getEquipMJSkillSkin()&&(e=2),this.viewEntity.CombatUIManger.onShowJueXing(e,function(){GEvent.emit(GEventName.CombatEvents.AdTimeScale,1)})},e.prototype.onReleaseCombatAssets=function(){var t=[];t.push.apply(t,l.default.combattileList),S.default.instance.releaseAsset(t),l.default.combattileList=[]},e.prototype.checkOnOpenDooe=function(){},e.prototype.checkRoomEnemyIfAllDes=function(){return this.enemys.length<=0},e.prototype.onSetCameraLimitEvent=function(t){void 0===t&&(t=!1),this.viewEntity.MainCamera.getComponent(E.default).setLimitCamer(t)},e.prototype.recorderStart=function(){var t=function(){L.default.instance.recorderStart(),GEvent.emit(GEventName.CombatEvents.Recorder,!0)};l.default.LvType===b.LvType.NORMAL&&l.default.LastRoom?t():l.default.LvType===b.LvType.ABYSS&&l.default.MapData.room[l.default.roomcount-1].builder&&t()},e.prototype.recorderStop=function(){var t=function(){L.default.instance.recorderStop(),GEvent.emit(GEventName.CombatEvents.Recorder,!0)};l.default.LvType===b.LvType.NORMAL?t():l.default.LvType===b.LvType.ABYSS&&t()},e}(m.default);a.default=O,cc._RF.pop()},{}],CombatGameData:[function(t,e,n){"use strict";cc._RF.push(e,"309feK0GKRJy4Rqgogn1IEq","CombatGameData");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameCalculate"),r=i("LvHard"),s=i("LvType"),l=i("PassLevelType"),c=i("RewardType"),u=i("GameHelper"),p=i("GameCfgData"),d=i("MapDataMgr"),f=i("GuideManger"),h=i("ActivityDataManger"),y=i("EvilShopDataManger"),g=i("GuideLocalManger"),m=i("ModeLVDataManger"),v=i("TowerDataManager"),_=i("DotManger"),b=i("Utils");o.default=new(function(){function t(){this.curChapterBg="res/Vol/fight_bgm",this.curChapter=1,this.curLevel=1,this.onStartGame=!1,this._roomcount=1,this.LvType=s.LvType.NORMAL,this.LvHard=r.LvHard.NORMAL,this.ShowBlackHole=!1,this.EnterBlackHole=!1,this.BlackHoleTime=20,this.BlackHoleFunId=-1,this.combattileList=[],this.openDoor=!1,this.coin_ratio=1,this.commonHeroWidth=150,this.sceneY0=-34.722,this.sceneY1=-367.923,this.sceneX0=0,this.sceneX1=2e3,this.heroID=1e3,this.cameraViewSize=new cc.Vec2,this.cur_is_bossroom=!1,this.max_combo=0,this.boss_count=0,this.enemy_count=0,this.enemystartdie_count=0,this.revive_count=0,this.pause=!1,this.huodong_downtime=0,this.startgame_time=0,this.endgame_time=0,this.dropList=[],this.blackHoleList=[],this.passgametime=0,this.Score=0,this.ScoreUrl="",this.passLevelType=l.PassLevelType.NONE,this.towerLayerCount=1,this.passCurLayer=!1,this.pumpkinCount=0}return Object.defineProperty(t.prototype,"roomcount",{get:function(){return this._roomcount},set:function(t){this._roomcount=t,this.MapData&&(this.roomData=this.MapData.room[this.roomcount-1],this.roomData&&(this.sceneX1=this.roomData.bg_width+this.sceneX0)),this.onNexRoom()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"LastRoom",{get:function(){return!Global.TestMode&&!!this.MapData&&this.roomcount>=this.MapData.room.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Doorx",{get:function(){return this.roomData.bg_width+this.sceneX0-300},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DoorSkin",{get:function(){return"-1"==this.roomData.door.skin?"default":this.roomData.door.skin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DoorPath",{get:function(){return this.roomData.door.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Huodongdowntime",{get:function(){return this.huodong_downtime},set:function(t){this.huodong_downtime=t,this.huodong_downtime<0&&(this.huodong_downtime=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"LvName",{get:function(){return this.MapData.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"NewLevel",{get:function(){return 0==this.curChapter&&0==this.curLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TowerLayerCount",{get:function(){return this.towerLayerCount},set:function(t){this.towerLayerCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PassCurLayer",{get:function(){return this.passCurLayer},set:function(t){this.passCurLayer=t,t&&(v.default.instance.curLayer=this.TowerLayerCount+1)},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.LvType=p.default.LvType,this.LvHard=p.default.LvHard,this.curChapter=p.default.curChapter,this.curLevel=p.default.curLevel,this.cameraViewSize.x=cc.winSize.width,this.cameraViewSize.y=cc.winSize.height,this.sceneX0=.5*-this.cameraViewSize.x,GAudio.playBgm(this.LvType!=s.LvType.Tower?p.default.ChapterBg:p.default.dietowerBg,void 0,void 0,!0),this.MapData=d.default.getChapterLevelData(this.LvType,this.LvHard,this.curChapter,this.curLevel),this.LvType==s.LvType.Toxicity?this.MapResData=u.default.instance.getChapterLevelMapResData(this.curChapter,1):this.MapResData=u.default.instance.getChapterLevelMapResData(this.curChapter,this.curLevel),this.roomcount=1,this.max_combo=0,this.enemy_count=0,this.enemystartdie_count=0,this.revive_count=0,this.pause=!1,this.onStartGame=!0,this.TowerLayerCount=1,this.startgame_time=0,this.endgame_time=0,this.passgametime=0,this.Score=0,this.pumpkinCount=0,this.TowerLayerCount=v.default.instance.curLayer,this.startgame_time=Date.now(),this.MapData&&(this.huodong_downtime=this.MapData.time/1e3),window.CombatGameData=this,_.default.onStartLevelTrackEvent(this.curChapter,this.curLevel,this.LvType,this.LvHard)},t.prototype.onNexRoom=function(){this.clearRoomDropList()},t.prototype.clearRoomDropList=function(){var t=b.default.copyArr(this.dropList);for(var e in t)t[e].PickUp(!0);this.dropList=[]},t.prototype.gameend=function(t){this.onStartGame=!1,this.Score=this.GetLvScore(),this.ScoreUrl=this.GetGradeUrl(this.Score),this.endgame_time=Date.now(),this.passgametime=(this.endgame_time-this.startgame_time)/1e3,this.passLevelType=t,this.LvType==s.LvType.NORMAL&&m.default.instance.passClassicsLV(this.curChapter,this.curLevel,this.LvHard,this.Score),this.LvType==s.LvType.Toxicity&&y.default.instance.challengeResult(this.curLevel,t==l.PassLevelType.PASS,this.endgame_time-this.startgame_time),g.default.instance.passLv(this.curChapter,this.curLevel),GAudio.stopBgm(),_.default.onVictoryLevelTrackEvent(this.curChapter,this.curLevel,this.LvType,this.LvHard,this.startgame_time-Date.now()),p.default.onpassLevel=!0},t.prototype.gamefailed=function(){_.default.onFailedLevelTrackEvent(this.curChapter,this.curLevel,this.LvType,this.LvHard,this.startgame_time-Date.now())},t.prototype.GetOneDrop=function(t,e){var n=e;if(!(n.length<=0))for(var i=n[0].ratio*this.playerHero.Attribute.drop_ratio,o=Math.random()*(n[n.length-1].ratio-i),r=0;r<n.length;r++)if(o<=n[r].ratio-i){var s=n[r].id;return 0==s?null:u.default.instance.DropData()[s]?100==(s=u.default.instance.DropData()[s].item_id[Math.floor(1e3*Math.random()%u.default.instance.DropData()[s].item_id.length)])||101==s?(console.log(this.coin_ratio),{type:c.RewardType.CURRENCY,id:s,count:a.default.ItemCount[s].mon_drop(t.Lv,this.coin_ratio)}):t.isBoss&&1==this.curChapter&&1==this.curLevel&&f.GuideManger.instance.getZdGuideIfOpen(f.GuideTypeID.FirstLevel0_0)?(f.GuideManger.instance.CloseZdGuide(f.GuideTypeID.FirstLevel0_0),{type:c.RewardType.ITEM,id:130,count:1}):{type:s>1e3?c.RewardType.EQUIPMENT:c.RewardType.ITEM,id:s,count:1}:null}},t.prototype.GetPumpkinDrop=function(){return h.default.instance.GetPumpkinDrop()},t.prototype.getDropDia=function(){return{type:c.RewardType.CURRENCY,id:101,count:Math.floor(4*Math.random())+3}},t.prototype.destroyAllData=function(){this.gameScene=null,this.curChapterBg="res/Vol/fight_bgm",this.ShowBlackHole=!1,this.EnterBlackHole=!1,this.BlackHoleFunId=-1,this.BlackHoleTime=20,this.roomcount=1,this.MapData=null,this.LvHard=r.LvHard.NORMAL,this.openDoor=!1,this.coin_ratio=1,this.playerHero=null,this.commonHeroWidth=150,this.sceneY0=-34.722,this.sceneY1=-367.923,this.sceneX0=0,this.sceneX1=2e3,this.doorPoi1=null,this.doorPoi2=null,this.heroID=1e3,this.cameraViewSize=new cc.Vec2,this.cur_is_bossroom=!1,this.boss_count=0,this.max_combo=0,this.enemy_count=0,this.enemystartdie_count=0,this.revive_count=0,this.pause=!1,this.startgame_time=0,this.endgame_time=0,this.passgametime=0,this.Score=0,this.passLevelType=l.PassLevelType.NONE,this.clearRoomDropList(),GAudio.stopBgm()},t.prototype.GetLvScore=function(){return this.max_combo/this.enemy_count*25+50*(1-this.revive_count)+this.playerHero.Hp/this.playerHero.MaxHp*25},t.prototype.GetGradeUrl=function(t){void 0===t&&(t=0);var e="";switch(!0){case t>=90:e="textures/UI/icon__accounts_sss";break;case t>=80:e="textures/UI/icon__accounts_ss";break;case t>=70:e="textures/UI/icon__accounts_s";break;case t>=60:e="textures/UI/icon__accounts_A";break;case t>=50:e="textures/UI/icon__accounts_B";break;case t>=30:e="textures/UI/icon__accounts_C";break;default:e="textures/UI/icon__accounts_D"}return e},t}()),cc._RF.pop()},{}],CombatGameModel:[function(t,e,n){"use strict";cc._RF.push(e,"20f5cRg2jBCcYC87/4Wq6RE","CombatGameModel");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],CombatGameScene:[function(t,e,n){"use strict";cc._RF.push(e,"7efadTtJ5pIb6gnBN7JR54j","CombatGameScene");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameCtrl"),c=o("CombatGameModel"),u=o("View"),p=o("Hero"),d=o("CameraManger"),f=o("CombatGameData"),h=o("GameHelper"),y=o("CombatUIManger"),g=cc._decorator,m=g.ccclass,v=g.property,_=function(t){function e(){var e=t.call(this)||this;return e.MainCamera=null,e.CombatUIPre=null,e.GameNode=null,e.Hero=null,e.doorNode=null,e.CombatUIManger=null,e.EffNode=null,e.dropNode=null,e}return r(e,t),e.prototype.onInit=function(){this.setModel(new c.default),this.setController(new l.default)},e.prototype.onUILoad=function(){this.EffNode=this.getNode("Layaer/layaer6/effparetn"),this.dropNode=this.getNode("Layaer/layaer6/dropparent")},e.prototype.onUIStart=function(){Global.TestMode&&(this.onInit(),this.controller.testInit(this)),this.MainCamera=cc.find("Canvas/MainCamera"),!this.MainCamera.getComponent(d.default)&&this.MainCamera.addComponent(d.default),!this.CombatUIManger&&this.onCreatorUI(),this.controller.OnStartGame()},e.prototype.onUIEnable=function(){this.registerEvent()},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.onCreatorUI=function(){var t=cc.instantiate(this.CombatUIPre);t.parent=this.node,t.active=!1,this.CombatUIManger=t.getComponent(y.default)},e.prototype.registerEvent=function(){GEvent.on(GEventName.CombatEvents.CollisionDoor,this.onCheckCanEnterNexRoomEvent,this),GEvent.on(GEventName.CombatEvents.EnemyStartDie,this.onEnemyStartDieEvent,this),GEvent.on(GEventName.CombatEvents.EnemyDie,this.onCheckEnemyDieEvent,this),GEvent.on(GEventName.CombatEvents.Pause,this.onPauseEvent,this),GEvent.on(GEventName.CombatEvents.Recover,this.onRecoverEvent,this),GEvent.on(GEventName.CombatEvents.Revive,this.onReviveEvent,this),GEvent.on(GEventName.CombatEvents.PlayerDie,this.onPlayDieEvent,this),GEvent.on(GEventName.CombatEvents.DoubleHit,this.onDoubleHitEvent,this),GEvent.on(GEventName.CombatEvents.HitEnemy,this.onHitEnemyEvent,this),GEvent.on(GEventName.CombatEvents.GameFailed,this.onGameFailedEvent,this),GEvent.on(GEventName.CombatEvents.DestroyData,this.onDestroyDataEvent,this),GEvent.on(GEventName.CombatEvents.CreatObjectSummon,this.onCreatObjectSummonEvent,this),GEvent.on(GEventName.CombatEvents.ReleaseJuxing,this.onReleaseJuxingEvent,this),GEvent.on(GEventName.CombatEvents.onGetDrop,this.onGetDropEvent,this),GEvent.on(GEventName.CombatEvents.onCollBlackHole,this.onCollBlackHole,this),GEvent.on(GEventName.CombatEvents.BlackHoleHpDrop,this.onBlackHoleHpDrop,this),GEvent.on(GEventName.CombatEvents.SetCameraLimit,this.onSetCameraLimitEvent,this),GEvent.on(GEventName.CombatEvents.CDSuc,this.onCDSucEvent,this),GEvent.on(GEventName.Hero.HeroGetExp,this.onHeroGetExpEvent,this),GEvent.on(GEventName.Hero.HeroLvUp,this.onHeroLvUpEvent,this)},e.prototype.onCDSucEvent=function(t){Global.TestMode||this.CombatUIManger.skillControl.cdsuc(t)},e.prototype.onPauseEvent=function(){Global.TestMode||this.controller.onPauseEvent()},e.prototype.onRecoverEvent=function(){Global.TestMode||this.controller.onRecoverEvent()},e.prototype.onCheckCanEnterNexRoomEvent=function(){Global.TestMode||this.controller.onNexRoomEvent()},e.prototype.onEnemyStartDieEvent=function(t){Global.TestMode||this.controller.onEnemyStartDieEvent(t)},e.prototype.onCheckEnemyDieEvent=function(t){Global.TestMode||this.controller.onEnemyDieEvent(t)},e.prototype.onReviveEvent=function(){Global.TestMode||this.controller.onReviveEvent()},e.prototype.onPlayDieEvent=function(){Global.TestMode||this.controller.onPlayerDieEvent()},e.prototype.onDoubleHitEvent=function(t){Global.TestMode||(this.CombatUIManger.doublehit&&this.CombatUIManger.doublehit.onShowDoublehit(t),this.controller.onDoubleHitEvent(t))},e.prototype.onGameFailedEvent=function(){Global.TestMode||this.controller.onGameFailedEvent()},e.prototype.onHitEnemyEvent=function(t){Global.TestMode||this.CombatUIManger.HpBarMgr.updateBar(t)},e.prototype.onOpenCombatScoreView=function(){Global.TestMode||this.CombatUIManger.onOpenCombatScoreView()},e.prototype.onDestroyDataEvent=function(){Global.TestMode||(this.MainCamera.removeComponent(d.default),this.controller.onDestroyDataEvent())},e.prototype.onHeroGetExpEvent=function(){Global.TestMode||(this.controller.onHeroGetExpEvent(),this.CombatUIManger.heroUIInfo.rfexp())},e.prototype.onHeroLvUpEvent=function(){Global.TestMode||(this.controller.onHeroLvUpEvent(),this.CombatUIManger.heroUIInfo.rfgrade())},e.prototype.onCreatObjectSummonEvent=function(t,e){this.controller.onCreatObjectSummonEvent(t,e)},e.prototype.onReleaseJuxingEvent=function(t){void 0===t&&(t=1),Global.TestMode||this.controller.onReleaseJuxingEvent(t)},e.prototype.onGetDropEvent=function(t){this.controller.onGetDrop(t)},e.prototype.onCollBlackHole=function(t){this.controller.onCollBlackHole(t)},e.prototype.onBlackHoleHpDrop=function(t){this.controller.onBlackHoleHpDrop(t)},e.prototype.onSetCameraLimitEvent=function(t){this.controller.onSetCameraLimitEvent(t)},e.prototype.onCreatorMap=function(){var t=this;return new Promise(function(e){var n=[];for(var i in n.push.apply(n,f.default.MapResData.layer0),n.push.apply(n,f.default.MapResData.layer1),n.push.apply(n,f.default.MapResData.layer2),n.push.apply(n,f.default.MapResData.layer3),n.push.apply(n,f.default.MapResData.layer4),n.push.apply(n,f.default.MapResData.layer5),n)n[i]="res/"+f.default.MapResData.res_group+"/Map/"+n[i];t.getNode("Layaer/layaer0").active=!1,t.getNode("Layaer/layaer1").active=!1,t.getNode("Layaer/layaer2").active=!1,t.getNode("Layaer/layaer3").active=!1,t.getNode("Layaer/layaer4").active=!1,t.getNode("Layaer/layaer7").active=!1,cc.resources.load(n,cc.Texture2D,function(n,i){n?console.error("\u52a0\u8f7d\u5730\u56fe\u6587\u4ef6\u9519\u8bef",n):(f.default.combattileList=i,t.getNode("Layaer/layaer0").active=!0,t.getNode("Layaer/layaer1").active=!0,t.getNode("Layaer/layaer2").active=!0,t.getNode("Layaer/layaer3").active=!0,t.getNode("Layaer/layaer4").active=!0,t.getNode("Layaer/layaer7").active=!0,t.updateNexRoomMap(),e(!0))})})},e.prototype.onLoadDoor=function(){var t=this;return new Promise(function(e){var n=t.doorNode.getComponent(sp.Skeleton);h.default.instance.LoadSkillSkeleton(n,f.default.DoorPath,f.default.DoorSkin).then(function(){console.log("\u95e8 \u52a0\u8f7d\u5b8c\u6210"),e(!0)})})},e.prototype.onUpdateDoorPos=function(){var t=this;return new Promise(function(e){t.doorNode.x=f.default.Doorx,e(!0)})},e.prototype.updateNexRoomMap=function(){var t=function(t,e){for(var n in t){var i=e[Math.floor(Math.random()*e.length)];t[n].getComponent(cc.Sprite).spriteFrame=i?new cc.SpriteFrame(cc.resources.get("res/"+f.default.MapResData.res_group+"/Map/"+i)):null}};t(this.getNode("Layaer/layaer0").children,f.default.MapResData.layer0),t(this.getNode("Layaer/layaer1").children,f.default.MapResData.layer1),t(this.getNode("Layaer/layaer2").children,f.default.MapResData.layer2),t(this.getNode("Layaer/layaer3").children,f.default.MapResData.layer3),t(this.getNode("Layaer/layaer4").children,f.default.MapResData.layer4),t(this.getNode("Layaer/layaer7").children,f.default.MapResData.layer5),this.onUpdateDoorPos()},e.prototype.openDoorAni=function(){var t=this.doorNode.getComponent(sp.Skeleton),e=t.setAnimation(0,"open",!1);t.setTrackCompleteListener(e,function(){f.default.openDoor&&t.setAnimation(0,"open_loop",!0)})},e.prototype.closeDoorAni=function(){this.doorNode.getComponent(sp.Skeleton).setAnimation(0,"close",!1)},e.prototype.onUIDestroy=function(){this.controller.onReleaseCombatAssets()},e.prototype.onUIUpdate=function(){},e.prototype.getView=function(){return this},e.prototype.onNoticeEvent=function(){},s([v(cc.Node)],e.prototype,"MainCamera",void 0),s([v(cc.Prefab)],e.prototype,"CombatUIPre",void 0),s([v(cc.Node)],e.prototype,"GameNode",void 0),s([v(p.default)],e.prototype,"Hero",void 0),s([v(cc.Node)],e.prototype,"doorNode",void 0),s([m],e)}(u.default);a.default=_,cc._RF.pop()},{}],CombatHDTimeEndView:[function(t,e,n){"use strict";cc._RF.push(e,"718e710ErJHc4NyUXhYTEBJ","CombatHDTimeEndView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameData"),c=o("View"),u=o("GameHelper"),p=o("GameCfgData"),d=o("Admanager"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.onClick("btn_addtime",this.onAddTime,this),this.onClick("btn_fq",this.onClose,this)},e.prototype.onAddTime=function(){var t=this;d.default.instance.showRewardedVideo(function(){l.default.Huodongdowntime+=p.default.HuodongAddTime,t.close()})},e.prototype.onClose=function(){this.close(),u.default.instance.enterGameScene()},s([h],e)}(c.default));a.default=y,cc._RF.pop()},{}],CombatScoreView:[function(t,e,n){"use strict";cc._RF.push(e,"55a2djzKBlPZa3nRaNK21RB","CombatScoreView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameData"),c=o("SceneConfig"),u=o("View"),p=o("LvType"),d=o("GameHelper"),f=o("GameCfgData"),h=o("CommonTool"),y=o("Utils"),g=cc._decorator,m=g.ccclass,v=g.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreBg1=null,e.scoreBg2=null,e}return r(e,t),e.prototype.onInit=function(){},e.prototype.onUILoad=function(){var t=this;this.onClick("btn_contion",function(){t.sceneMgr().isLoaded(c.default.Scenes.MysteryShopView)&&t.sceneMgr().close(c.default.Scenes.MysteryShopView),t.close()},this),this.score=this.getSprite("score"),this.passleveltime=this.getLabel("passleveltime"),this.maxdoublehitcount=this.getLabel("maxdoublehitcount"),d.default.instance.LoadIcon(l.default.ScoreUrl,this.score.node),l.default.LvType==p.LvType.Toxicity?this.passleveltime.string="\u901a\u5173\u65f6\u95f4: "+y.default.formatHaomiao(l.default.endgame_time-l.default.startgame_time):this.passleveltime.string="\u901a\u5173\u65f6\u95f4: "+h.default.timestampZHMFS(l.default.passgametime),this.maxdoublehitcount.string="\u6700\u9ad8\u8fde\u51fb\u6570:"+l.default.max_combo.toString()+"\u8fde\u51fb",GAudio.playEffect(f.default.victoryEffAudio),this.setAnimtion()},e.prototype.onContion=function(){},e.prototype.onConfirm=function(){},e.prototype.onBtnMysteryShop=function(){this.sceneMgr().isLoaded(c.default.Scenes.MysteryShopView)||(GAudio.playEffect(f.default.MysteryShopEffAudio),this.sceneMgr().load(c.default.Scenes.MysteryShopView))},e.prototype.setAnimtion=function(){cc.tween(this.scoreBg1).repeatForever(cc.tween(this.scoreBg1).by(.2,{angle:5})).start(),cc.tween(this.scoreBg2).repeatForever(cc.tween(this.scoreBg2).by(.2,{angle:-5})).start()},s([v(cc.Node)],e.prototype,"scoreBg1",void 0),s([v(cc.Node)],e.prototype,"scoreBg2",void 0),s([m],e)}(u.default);a.default=_,cc._RF.pop()},{}],CombatUIManger:[function(t,e,n){"use strict";cc._RF.push(e,"45fdcybYVNKzpzsY/8Emlo1","CombatUIManger");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("TimeEngine"),c=o("SceneConfig"),u=o("SceneManager"),p=o("View"),d=o("LvType"),f=o("Joystick"),h=o("skillControl"),y=o("GameHelper"),g=o("GuideManger"),m=o("CommonDataMgr"),v=o("Admanager"),_=o("platformConfig"),b=o("Constant"),k=o("CombatGameData"),S=o("doublehit"),w=o("AnimatorCtrl"),T=o("heroUIInfo"),C=o("HpBarMgr"),D=o("RoomInfo"),E=cc._decorator,I=E.ccclass,P=E.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.RecorderSpr=[],e.GuideNode=null,e.onshoedangerHit=!1,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(this.getNode("btn_exit")),this.TitleNode=this.getNode("titleNode"),this.TitleName=this.getLabel("titleNode/name"),this.btn_bag=this.getNode("btn_bag"),this.BlackHoleTime=this.getNode("BlackHoleTime"),this.lab_gold=this.getLabel("goldPnl/lab_gold"),this.lab_diamond=this.getLabel("diamondPnl/lab_diamond"),this.tiltlelayerlb=this.getLabel("tiltle_layer/lb"),this.joystick=this.getNode("joystick").getComponent(f.default),this.skillControl=this.getNode("skill").getComponent(h.default),this.heroUIInfo=this.getNode("heroUIInfo").getComponent(T.default),this.doublehit=this.getNode("doublehit").getComponent(S.default),this.RoomInfo=this.getNode("RoomInfo").getComponent(D.default),this.HpBarMgr=this.getNode("HpbarMgr").getComponent(C.default),this.HuoDongTime=this.getNode("HuoDongTime"),this.HuoDongTimeLb=this.getLabel("HuoDongTime/lb"),this.BlackHoleTimeLb=this.getLabel("BlackHoleTime/lb"),this.dangerHit=this.getNode("dangerHit"),this.btn_exit=this.getNode("btn_exit"),this.juexing=this.getSpineSkeleton("juexing/juexing"),this.juxingAnimatorCtrl=new w.default(this.juexing),this.onClick("content/btn_exit",this.onShowCombatExit,this),this.onClick("content/btn_menu",this.onShowBagDialog,this),this.onClick("content/btn_bag",this.onShowBagDialog,this),this.HuoDongTime.active=!1,this.juexing.node.active=!1,this.btn_exit.active=!1,this.BlackHoleTime.active=!1,this.GuideNode.active=!1},e.prototype.onUIEnable=function(){GEvent.on(GEventName.UpdateGold,this.updateCoin,this),GEvent.on(GEventName.UpdateDiamond,this.updateDiamond,this),GEvent.on(GEventName.CombatEvents.Pause,this.onPauseEvent,this),GEvent.on(GEventName.CombatEvents.Recover,this.onRecoverEvent,this),GEvent.on(GEventName.CombatEvents.Recorder,this.onRecorderEvent,this)},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.onInit=function(){this.node.active=!0,this.joystick.onInit(Global.Hero),this.heroUIInfo.onInit(Global.Hero),this.skillControl.onInit(Global.HeroCtrl),this.HpBarMgr.onInit(),k.default.LvType==d.LvType.ACTIVITY&&(this.HuoDongTime.active=!0,this.HuoDongTime.Child("tiltle").active=!0,this.HuoDongTime.Child("timeInfo").active=!1,this.HuoDongTimeLb.node.color=cc.Color.WHITE.fromHEX("#BCA621")),k.default.LvType==d.LvType.Toxicity&&(this.HuoDongTime.active=!0,this.HuoDongTime.Child("tiltle").active=!1,this.HuoDongTime.Child("timeInfo").active=!0,this.HuoDongTimeLb.node.color=cc.Color.WHITE.fromHEX("#F6EEC1")),k.default.LvType==d.LvType.Tower?(this.RoomInfo.node.active=!1,this.btn_bag.active=!1,this.tiltlelayerlb.node.parent.active=!0):this.RoomInfo.onInit(),k.default.NewLevel?(this.btn_exit.active=!1,this.TitleNode.active=!1,this.btn_bag.active=!1):(this.btn_exit.active=!0,this.showChapterAni(k.default.LvType==d.LvType.ABYSS?"\u6df1\u6e0a\u53ec\u5524-"+k.default.LvName:k.default.LvName)),this.updateCoin(),this.updateDiamond(),l.default.instance.open(1e3,-1,this.onCheckHeroHpDanger,this)},e.prototype.onUIStart=function(){1==k.default.curChapter&&1==k.default.curLevel&&g.GuideManger.instance.getZdGuideIfOpen(g.GuideTypeID.FirstLevel0_0)&&(cc.game.pause(),this.GuideNode.active=!0)},e.prototype.onBtnHideGuide=function(){this.GuideNode.active=!1,cc.game.resume()},e.prototype.updateCoin=function(){this.lab_gold.string=m.CommonDataMgr.instance.Gold.toString()},e.prototype.updateDiamond=function(){this.lab_diamond.string=m.CommonDataMgr.instance.Diamond.toString()},e.prototype.onShowCombatExit=function(){GEvent.emit(GEventName.CombatEvents.Pause),u.default.instance.load(c.default.Scenes.CombatExitView,void 0,function(t,e){e.getComponent(p.default).addCallback(function(){GEvent.emit(GEventName.CombatEvents.Recover)})})},e.prototype.onShowBagDialog=function(){GEvent.emit(GEventName.CombatEvents.Pause),u.default.instance.load(c.default.Scenes.BagDialog,void 0,function(t,e){e.getComponent(p.default).addCallback(function(){GEvent.emit(GEventName.CombatEvents.Recover)})})},e.prototype.onShowRecover=function(){u.default.instance.load(c.default.Scenes.ReviveView)},e.prototype.onOpenToxicityScoreView=function(){u.default.instance.load(c.default.Scenes.CombatScoreView,void 0,function(t,e){e.getComponent(p.default).addCallback(function(){u.default.instance.load(c.default.Scenes.BossModeView,void 0,function(t,e){e.getComponent(p.default).addCallback(function(){y.default.instance.enterGameScene()})})})})},e.prototype.onOpenCombatScoreView=function(){var t=this;u.default.instance.load(c.default.Scenes.CombatScoreView,void 0,function(e,n){n.getComponent(p.default).addCallback(function(){t.onOpenVictoryRewardView()})})},e.prototype.onOpenTowerScoreView=function(){var t=this;u.default.instance.load(c.default.Scenes.CombatScoreView,void 0,function(e,n){n.getComponent(p.default).addCallback(function(){t.onOpenVictoryRewardView()})})},e.prototype.onOpenTowerScoreProView=function(){u.default.instance.load(c.default.Scenes.TowerScoreProView)},e.prototype.onOpenVictoryRewardView=function(){u.default.instance.load(c.default.Scenes.VictoryRewardView,void 0,function(t,e){e.getComponent(p.default).addCallback(function(){y.default.instance.enterGameScene()})})},e.prototype.onShowHuoDongTimeEndView=function(){GEvent.emit(GEventName.CombatEvents.Pause),u.default.instance.load(c.default.Scenes.CombatHDTimeEndView,void 0,function(t,e){e.getComponent(p.default).addCallback(function(){GEvent.emit(GEventName.CombatEvents.Recover)})})},e.prototype.onUpdateHuoDongTime=function(t){this.HuoDongTimeLb.string=t},e.prototype.onUpdateBlackHoleTime=function(t){this.BlackHoleTimeLb.string=t},e.prototype.onShowHurtredEff=function(t){var e=this;void 0===t&&(t=.5),this.onshoedangerHit=!0,this.dangerHit.stopAllActions(),cc.tween(this.dangerHit).call(function(){e.dangerHit.opacity=255,e.dangerHit.active=!0}).to(t,{opacity:0}).start()},e.prototype.onShowJueXing=function(t,e){var n=this;void 0===t&&(t=1),this.juexing.node.active=!0,this.juexing.setAnimation(0,1==t?"juexing":"juexing2",!1),this.juxingAnimatorCtrl.setCompleteListener(function(){n.juexing.node.active=!1,n.juxingAnimatorCtrl.setCompleteListener=null,e&&e()})},e.prototype.onPauseEvent=function(){this.juxingAnimatorCtrl.setAniSpeed(0)},e.prototype.onRecoverEvent=function(){this.juxingAnimatorCtrl.setAniSpeed(1)},e.prototype.onRecorderEvent=function(t){if(void 0===t&&(t=!1),this.btn_recorder||(this.btn_recorder=this.getNode("btn_recorder")),_.default.platformType!=b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT)return this.btn_recorder.active=!1;this.btn_recorder.active=t,this.btn_recorder.getComponent(cc.Sprite).spriteFrame=this.RecorderSpr[v.default.instance.GetRecorder()?0:1]},e.prototype.showChapterAni=function(t){var e=this;this.tiltlelayerlb.string="\u7b2c"+t,this.TitleName.string=t,this.TitleNode.active=!0,this.TitleNode.width=0,this.TitleNode.opacity=255,cc.tween(this.TitleNode).to(.4,{width:366}).delay(1).call(function(){cc.tween(e.TitleNode).to(.5,{opacity:0}).call(function(){e.TitleNode.active=!1}).start()}).start()},e.prototype.onCheckHeroHpDanger=function(){if(_.default.platformType!=b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT){var t=Global.Hero;!this.onshoedangerHit&&t.Hp/t.MaxHp<.1?this.onShowHurtredEff():this.onshoedangerHit&&(this.dangerHit.stopAllActions(),this.onshoedangerHit=!1)}},s([P(cc.SpriteFrame)],e.prototype,"RecorderSpr",void 0),s([P(cc.Node)],e.prototype,"GuideNode",void 0),s([I],e)}(p.default);a.default=M,cc._RF.pop()},{}],CommonAtkState:[function(t,e,n){"use strict";cc._RF.push(e,"49c6cE3j3dC6qrAGD0T3dzs","CommonAtkState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("CommonSkillPhase"),c=o("JIanHunSkillPhase"),u=o("StatePhase"),p=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.NORMALATTACK,e.PhaseDatas=[new u.PhaseData(l.CommonSkillPhaseId.Skill,new l.CommonSkillPhase)],e.PhaseManger=new u.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){console.log("\u8fdb\u5165AttackState\u72b6\u6001"),this.PhaseManger.Soldier=this.Soldier,this.PhaseManger.state=c.JianHunPhaseId.NormalAtk},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onExitPhase(),console.log("\u9000\u51faAttackState\u72b6\u6001")},e}(o("BaseSkillState").default);a.default=p,cc._RF.pop()},{}],CommonCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"b80c1M4HH1NOLBsMdMQMwC1","CommonCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("Controller"),l=o("SceneConfig"),c=o("Constant"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onLoadStartAni=function(t){this.sceneMgr().postEventToCtrl(l.default.Scenes.Wait1Scene,c.default.WAITINGLOADRES_EVENT.SHOW,{message:t})},e.prototype.onLoadSucAni=function(){this.sceneMgr().postEventToCtrl(l.default.Scenes.Wait1Scene,c.default.WAITINGLOADRES_EVENT.HIDE)},e.prototype.OnStartGame=function(){},e}(s.default);a.default=u,cc._RF.pop()},{}],CommonDataMgr:[function(t,e,n){"use strict";cc._RF.push(e,"643e2XEpuhOcK7CABC/wG+m","CommonDataMgr");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.CommonDataMgr=void 0;var a=i("TimeEngine"),r=i("GameCfgData"),s=i("ServerCommonCfgMgr"),l=function(){function t(){this.recoverrPTime=0,this.offlineCount=0}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Gold",{get:function(){return this.CommonUserData.gold},set:function(t){this.CommonUserData.gold=t,GEvent.emit(GEventName.UpdateGold),GEvent.emit(GEventName.SaveUserDataLocal)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Diamond",{get:function(){return this.CommonUserData.diamond},set:function(t){this.CommonUserData.diamond=t,GEvent.emit(GEventName.UpdateDiamond),GEvent.emit(GEventName.SaveUserDataLocal)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Poewrpoewr",{get:function(){return this.CommonUserData.poewrpoewr},set:function(e){this.CommonUserData.poewrpoewr=Math.min(e,t.maxPower),this.CommonUserData.poewrpoewr<0&&(this.CommonUserData.poewrpoewr=0),this.recordPowerTime(),GEvent.emit(GEventName.UpdatePoewrpoewr)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Extrapoewr",{get:function(){return this.CommonUserData.extrapoewr},set:function(t){this.CommonUserData.extrapoewr=Math.max(t,0),this.recordPowerTime(),GEvent.emit(GEventName.UpdatePoewrpoewr)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ReviveCoin",{get:function(){return this.CommonUserData.reviveCoin},set:function(t){this.CommonUserData.reviveCoin=t,GEvent.emit(GEventName.UpdateReviveCoin)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RecoverrPTime",{get:function(){return this.recoverrPTime},set:function(e){this.recoverrPTime=e,this.recoverrPTime>=t.recoverTime&&(this.recoverrPTime=0,this.Poewrpoewr++,this.Poewrpoewr==t.maxPower&&(this.PowerTime=0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PowerTime",{get:function(){return this.CommonUserData.powerTime},set:function(t){this.CommonUserData.powerTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNew",{get:function(){return!r.default.LocalHaveData&&!r.default.ServerHaverData},enumerable:!1,configurable:!0}),t.prototype.init=function(e){var n=this;this.CommonUserData=e,s.default.getLoginTime().then(function(e){if(e){if(n.PowerTime>0){var i=e-n.PowerTime;n.RecoverrPTime=i%t.recoverTime,n.Poewrpoewr+=Math.floor(i/t.recoverTime)}a.default.instance.closeByTarget(n),a.default.instance.open(1e3,-1,function(){n.Poewrpoewr<30&&(n.RecoverrPTime+=1e3),t.GameOnLineTime+=1},n)}})},t.prototype.getPowerRecoverMaxTime=function(){return this.Poewrpoewr>=t.maxPower?0:((t.maxPower-(this.Poewrpoewr+1))*t.recoverTime+(t.recoverTime-this.RecoverrPTime))/1e3},t.prototype.recordPowerTime=function(){this.PowerTime=s.default.servertime},t.maxPower=30,t.GameOnLineTime=0,t.recoverTime=3e5,t}();o.CommonDataMgr=l,cc._RF.pop()},{}],CommonMode:[function(t,e,n){"use strict";cc._RF.push(e,"d4d79S2Le5BJJ+OdUpB7+zP","CommonMode");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],CommonSkillPhase:[function(t,e,n){"use strict";cc._RF.push(e,"12296MVQzdPz6pJh755LdI4","CommonSkillPhase");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0}),a.CommonSkillPhase=a.CommonSkillPhaseId=void 0;var s,l=o("BaseSkillPhase");(function(t){t[t.Skill=0]="Skill"})(s=a.CommonSkillPhaseId||(a.CommonSkillPhaseId={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.continuousCount=0,e}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this)},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(l.default);a.CommonSkillPhase=c,cc._RF.pop()},{}],CommonSkillState:[function(t,e,n){"use strict";cc._RF.push(e,"8098bukiJ1Dv5VhXTDVT0cN","CommonSkillState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("CommonSkillPhase"),c=o("StatePhase"),u=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.SKILL,e.PhaseDatas=[new c.PhaseData(l.CommonSkillPhaseId.Skill,new l.CommonSkillPhase)],e.PhaseManger=new c.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){this.PhaseManger.Soldier=this.Soldier,this.PhaseManger.state=l.CommonSkillPhaseId.Skill},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onExitPhase()},e}(o("BaseSkillState").default);a.default=u,cc._RF.pop()},{}],CommonTool:[function(t,e,n){"use strict";cc._RF.push(e,"6928ah5JbxDLKEgsCXkISr7","CommonTool");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=new(function(){function t(){}return t.prototype.RANDOM=function(t){return t=null==t?1:t,Math.floor(Math.random()*(t-1))},t.prototype.FRANDOM=function(t){return t=null==t?1:t,Math.random()*t},t.prototype.clone=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.ObjectAssign=function(t){return Object.assign({},t)},t.prototype.scrollViewMove=function(t,e,n,i){(function o(){if(i){if(!t.node)return;n?setTimeout(function(){t.scrollToLeft(e/1e3,!1),n=!n},200):setTimeout(function(){t.scrollToRight(e/1e3,!1),n=!n},200)}else n?setTimeout(function(){t.scrollToTop(e/1e3,!1),n=!n},200):setTimeout(function(){t.scrollToBottom(e/1e3,!1),n=!n},200);setTimeout(function(){o()},e)})()},t.prototype.addButtonAddEventF=function(t,e,n,i,o,a){void 0===o&&(o=null),void 0===a&&(a=cc.Button.Transition.SCALE),t.removeComponent(cc.Button);var r=new cc.Component.EventHandler;r.target=e,r.component=n,r.handler=i,null!=o&&(r.customEventData=o);var s=t.addComponent(cc.Button);s.clickEvents.push(r),s.transition=a},t.prototype.getUrlValue=function(t,e){var n=new RegExp("(\\?|&)"+e+"=([^&?]*)","i"),i=t.match(n);return i?i[2]:null},t.prototype.shuffle=function(t){for(var e,n=t.length;n;){var i=Math.floor(Math.random()*n--);e=[t[n],t[i]],t[i]=e[0],t[n]=e[1]}return t},t.prototype.getRandomArrayElements=function(t,e){for(var n,i,o=t.slice(0),a=t.length,r=a-e;a-- >r;)n=o[i=Math.floor((a+1)*Math.random())],o[i]=o[a],o[a]=n;return o.slice(r)},t.prototype.bacKDoubleTimestampDay=function(t,e){return Math.floor((t-e)/864e5)},t.prototype.toHHmmss=function(t){var e=Math.floor(t%864e5/36e5),n=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);return(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)},t.prototype.format=function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),a=e.getHours(),r=e.getMinutes(),s=e.getSeconds(),l=function(t){return t<10?"0"+t:t};return n+"-"+l(i)+"-"+l(o)+" "+l(a)+":"+l(r)+":"+l(s)},t.prototype.getRandom=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},t.prototype.getRandomFloat=function(t,e){return Math.random()*(e-t+.1)+t},t.prototype.getRandomBool=function(){return this.getRandom(0,99)>49},t.prototype.degreesToVectors=function(t){var e=cc.misc.degreesToRadians(t);return cc.v2(0,-1).rotate(-e)},t.prototype.getTimeStamp=function(){return Date.now()},t.prototype.getTimeStampSecond=function(){return Math.floor(Date.now()/1e3)},t.prototype.formatTime=function(t){var e,n,i="0\u79d2",o=0;return t>0&&(e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),o=Math.floor((t-3600*e-60*n)%60),e<=0?e="":e+="\u5c0f\u65f6",n<=0?n="":n+="\u5206\u949f",o<=0?o="0\u79d2":o+="\u79d2",i=e+n+o),i},t.prototype.formatTimer=function(t,e){var n,i,o,a="0\u79d2",r=0;return t>0&&(r=Math.floor(t/86400),n=Math.floor((t-86400*r)/3600),i=Math.floor((t-86400*r-3600*n)/60),o=Math.floor((t-86400*r-3600*n-60*i)%60),r<=0?r="":r+="\u5929",n<=0?n="":n+="\u5c0f\u65f6",i<=0?i="":i+="\u5206\u949f",o<=0?o="":o+="\u79d2",a=!0===e?r+n+i+o:r),a},t.prototype.formatTimeMinute=function(t){var e,n="00:00",i=0;return t>0&&((e=Math.floor(t/60))<10&&(e="0"+e),(i=Math.floor((t-60*e)%60))<10&&(i="0"+i),n=e+":"+i),n},t.prototype.formatTimeHour=function(t){var e,n,i="00:00:00",o=0;return t>0&&((o=Math.floor(t/3600))<10&&(o="0"+o),(e=Math.floor((t-3600*o)/60))<10&&(e="0"+e),(n=Math.floor((t-60*e)%60))<10&&(n="0"+n),i=o+":"+e+":"+n),i},t.prototype.getDaySecond=function(t){return Math.floor(new Date((new Date).toLocaleDateString()).getTime()/1e3+86400*t)},t.prototype.getSvWorldBox=function(t){var e=t.node.parent.convertToWorldSpaceAR(cc.v2(t.node.x-t.node.anchorX*t.node.width,t.node.y-t.node.anchorY*t.node.height));return cc.rect(e.x,e.y,t.node.width,t.node.height)},t.prototype.onNodeScrolling=function(t,e){t.content.children.forEach(function(t){t.getBoundingBoxToWorld().intersects(e)?255!=t.opacity&&(t.opacity=255):0!=t.opacity&&(t.opacity=0)})},t.prototype.getMyTime=function(t){var e=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),n=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return t.toLocaleDateString()+" "+t.getHours()+":"+e+":"+n},t.prototype.randomByWeight=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];var i=Math.random()*e,o=0;for(n=0;n<t.length;n++)if(i<=(o+=t[n]))return n;return 0},t.prototype.ifTimeNextDay=function(t){var e=(new Date).getTime();return(e-(e+288e5)%864e5-(t-(t+288e5)%864e5))/864e5},t.prototype.doubleTimestampEqualDay=function(t,e){var n=new Date(t),i=new Date(e);return n.getYear()!=i.getYear()||n.getMonth()!=i.getMonth()||n.getDate()!=i.getDate()},t.prototype.portraitIsNotchScreen=function(){return cc.view.getFrameSize().height/cc.view.getFrameSize().width<.5},t.prototype.landscapeIsNotchScreen=function(){return cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5},t.prototype.timestampZHMFS=function(t){var e,n,i,o="0\u79d2";return t>0&&(e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor((t-3600*e-60*n)%60),e<=0?e="":e+="\u5c0f\u65f6",n<=0?n="0\u5206":n+="\u5206",i<=0?i="0\u79d2":i+="\u79d2",o=e+n+i),o},t}()),cc._RF.pop()},{}],CommonView:[function(t,e,n){"use strict";cc._RF.push(e,"57dc6kpcGxNzK9Ii+5uLgr5","CommonView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("CommonMode"),u=o("CommonCtrl"),p=o("SceneConfig"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=t.call(this)||this;return e.leftroll=null,e.curIndex=0,e.indexScensList=[p.default.Scenes.SignInView,p.default.Scenes.ShopView,p.default.Scenes.FashionView,p.default.Scenes.VIPView],e}return r(e,t),e.prototype.onInit=function(){this.setModel(new c.default),this.setController(new u.default)},e.prototype.onUILoad=function(){this.content=this.getNode("content"),this.leftroll=this.getNode("content/leftroll"),this.btn_back_normal=this.getButton("content/btn_back_normal"),this.onClick("content/btn_back_normal",this.close,this)},e.prototype.onUIEnable=function(){this.initAnimation(this.content)},e.prototype.onOpenIndexInterface=function(t){var e=this;this.closeAllInterface(),this.sceneMgr().isLoaded(this.indexScensList[t])?this.sceneMgr().show(this.indexScensList[t]):(this.btn_back_normal.enabled=!1,this.sceneMgr().load(this.indexScensList[t],null,function(){e.btn_back_normal.enabled=!0}))},e.prototype.closeAllInterface=function(){for(var t in this.indexScensList)this.sceneMgr().isLoaded(this.indexScensList[t])&&this.sceneMgr().hide(this.indexScensList[t])},e.prototype.getView=function(){return this},e.prototype.onNoticeEvent=function(){},e.prototype.openIndexRollRed=function(t){for(var e=this.leftroll.children,n=0;n<e.length;n++)e[n].getChildByName("onpressshow").active=!1;e[t].getChildByName("onpressshow").active=!0},e.prototype.close=function(){for(var e in this.indexScensList)this.sceneMgr().isLoaded(this.indexScensList[e])&&this.sceneMgr().popScene(this.indexScensList[e]);return t.prototype.close.call(this),!0},s([f],e)}(l.default));a.default=h,cc._RF.pop()},{}],ConfigMgr:[function(t,e,n){"use strict";cc._RF.push(e,"16825VApx5D6Ihm2qIU7hyc","ConfigMgr");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.actor_json="Json/actor_json",t.sign_json="sign_json",t.drop_type="drop_type",t.equip_data="equip_data",t.secadd_power=600,t}();i.default=o,cc._RF.pop()},{}],ConnectState:[function(t,e,n){"use strict";cc._RF.push(e,"32e03DZGfNNZZQUOG1QNnNn","ConnectState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.Connect,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onUpdate=function(){},e.prototype.onExit=function(){console.log("\u9000\u51fa\u4ea4\u63a5\u72b6\u6001")},e}(o("MajorStateBase").default);a.default=l,cc._RF.pop()},{}],Constant:[function(t,e,n){"use strict";cc._RF.push(e,"d7a51hQgKJP5a4y6uIhO1OK","Constant");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.appid="",t.LOADING_EVENT={RESET:0,PROGRESS:1,COMPLETE:2,VIEW_COMPLETE:3},t.LOGIN_EVENT={LOGIN:0,DLOGIN:1,ACCOUNT_LOGIN:2,GAME_ID_LOGIN:3},t.CombatGame_EVENT={STARTGAME:0,CLOSE:1},t.WAITING_EVENT={SHOW:0,HIDE:1,NOTICE:2},t.WAITINGLOADRES_EVENT={SHOW:0,HIDE:1,NOTICE:2},t.COMMON_EVENT={ININ:0},t.PLATFORMS_TYPE={PLATFORMS_TYPE_PC:0,PLATFORMS_TYPE_WX:1,PLATFORMS_TYPE_TT:2,PLATFORMS_TYPE_OPPO:3,PLATFORMS_TYPE_VIVO:4,PLATFORMS_TYPE_QQ:5,PLATFORMS_TYPE_KS:6},t.ShareTitle=["\u8fd9\u7206\u7387\uff1f\u597d\u9876\u554a\uff01\uff01\uff01"],t.ShareImageUrl=["https://smalldnf-1302074099.file.myqcloud.com/common/share3.jpg"],t.sendMessageTitle="\u6211\u8981\u9886\u91d1\u5e01",t.sendMessagePath="",t.sendMessageImg="https://cdn.kuaiyugo.com/plat/SDK/prod/static_files/h5pay_guide_img2.jpg",t}();i.default=o,cc._RF.pop()},{}],Controller:[function(t,e,n){"use strict";cc._RF.push(e,"6fe12nRZVpEZp5sakSjiJkm","Controller");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("SceneManager"),r=function(){function t(){this.view=null,this.model=null,this.sceneName="",this._eventHandlerMap=new Map,this.view=null,this.model=null,this.sceneName="",this._eventHandlerMap=new Map}return t.prototype.init=function(t){if(""===t)throw Error("IController -> init scene name is empty.");return this.sceneName=t,this.onInit(),!0},t.prototype.onInit=function(){},t.prototype.onCleanup=function(){},t.prototype.uninit=function(){this._eventHandlerMap.clear(),this.onCleanup()},t.prototype.getSceneName=function(){return this.sceneName},t.prototype.getController=function(){return this},t.prototype.postModelEvent=function(t,e){a.default.instance.postEventToModel(this.sceneName,t,e)},t.prototype.postUIEvent=function(t,e){a.default.instance.postEventToView(this.sceneName,t,e)},t.prototype.onEnterForeground=function(){},t.prototype.onEnterBackground=function(){},t.prototype.sceneMgr=function(){return a.default.instance},t.prototype.setEvntHandler=function(t,e,n){this._eventHandlerMap.set(t,{func:e,target:n})},t.prototype.onNoticeEvent=function(t,e){var n=this._eventHandlerMap.get(t);n&&n.func.call(n.target,e)},t}();o.default=r,cc._RF.pop()},{}],CurrencyType:[function(t,e,n){"use strict";cc._RF.push(e,"1ff8d4f8QZBCavKjtbKRqql","CurrencyType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.CurrencyType=void 0,function(t){t[t.COIN=0]="COIN",t[t.COUPON=1]="COUPON",t[t.FATIGUE=2]="FATIGUE"}(i.CurrencyType||(i.CurrencyType={})),cc._RF.pop()},{}],"CustomerView ":[function(t,e,n){"use strict";cc._RF.push(e,"a1383uYmqBNcqt2Vu9ZOOn7","CustomerView ");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("CurrencyType"),p=o("GameStatsManager"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.confirmBtn=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.ReflashView()},e.prototype.onConfirmBtn=function(){l.default.Get(u.CurrencyType.COUPON,100),p.default.instance.isGetCustomerReward=!0,this.ReflashView()},e.prototype.ReflashView=function(){this.confirmBtn.interactable=!p.default.instance.isGetCustomerReward,this.confirmBtn.node.getChildByName("label").color=p.default.instance.isGetCustomerReward?cc.Color.GRAY:cc.color(131,81,52),this.confirmBtn.node.getChildByName("TX_anniu").active=!p.default.instance.isGetCustomerReward},s([h(cc.Button)],e.prototype,"confirmBtn",void 0),s([f],e)}(c.default);a.default=y,cc._RF.pop()},{}],DamageType:[function(t,e,n){"use strict";cc._RF.push(e,"fda28Sod1VEX430h8DBuGuw","DamageType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.DamageType=void 0,function(t){t[t.NONE=0]="NONE",t[t.DAMAGE=1]="DAMAGE",t[t.RECOVERY=2]="RECOVERY"}(i.DamageType||(i.DamageType={})),cc._RF.pop()},{}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"01306tWXM9LV6R/7pzVCSC7","DataManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("LogManager"),r=function(){function t(){this.userID="",this.keySecret="",this.dataCache={}}return Object.defineProperty(t,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.purge=function(){t._instance&&(t._instance=null)},t.prototype.init=function(e,n){void 0===e&&(e=this.userID),void 0===n&&(n=this.keySecret),this.userID=e,this.keySecret=n;var i=cc.sys.localStorage.getItem(t.LocalDataKey);return i&&(this.dataCache=JSON.parse(i)),!0},t.prototype.writeData=function(e,n){this.dataCache=n;var i=JSON.stringify(this.dataCache);cc.sys.localStorage.setItem(t.LocalDataKey,i)},t.prototype.readData=function(t){try{return void 0===this.dataCache[t]?{}:this.dataCache[t]}catch(e){return a.default.exception("DataManager -> readData("+t+") error."),{}}},t.prototype.onUpdateTick=function(){},t.prototype.cleanData=function(){this.dataCache={},cc.sys.localStorage.removeItem(t.LocalDataKey)},t.LocalDataKey="ZJ_LocalData",t._instance=null,t}();o.default=r,cc._RF.pop()},{}],DeathTowerTaksType:[function(t,e,n){"use strict";cc._RF.push(e,"8144f4nWY5Me6TtjuSTqq3A","DeathTowerTaksType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.DeathTowerTaksType=void 0,function(t){t[t.DAILYINTO=100]="DAILYINTO",t[t.DAILYWIN=101]="DAILYWIN",t[t.DAILYKILL=102]="DAILYKILL"}(i.DeathTowerTaksType||(i.DeathTowerTaksType={})),cc._RF.pop()},{}],DeathTowerType:[function(t,e,n){"use strict";cc._RF.push(e,"2ce09LwJppEZJIWsSIafGuk","DeathTowerType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.DeathTowerType=void 0,function(t){t[t.info_map=1]="info_map",t[t.info_bag=2]="info_bag",t[t.info_guide=3]="info_guide"}(i.DeathTowerType||(i.DeathTowerType={})),cc._RF.pop()},{}],DeathTowerView:[function(t,e,n){"use strict";cc._RF.push(e,"8419cKK0RJGGZGKolVhLYOl","DeathTowerView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("GameCalculate"),u=o("SceneConfig"),p=o("View"),d=o("GameData"),f=o("bagItemManager"),h=o("CurrencyType"),y=o("DeathTowerType"),g=o("equipItemType"),m=o("InvitePosType"),v=o("LvHard"),_=o("LvType"),b=o("GameHelper"),k=o("GameCfgData"),S=o("MapDataMgr"),w=o("BagManager"),T=o("GuideLocalManger"),C=o("HeroTitleDataManger"),D=o("InviterDataManger"),E=o("TowerDataManager"),I=o("Admanager"),P=o("Utils"),M=cc._decorator,L=M.ccclass,A=M.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Equipitem=null,e.max_num=0,e.ind_num_=0,e.ShowTowerVideoTime=!1,e.on_index_=-1,e.on_loadsp_=!1,e.on_ToggleIndex_=0,e.HeroTitleId=-1,e.GameTitleNode_content=null,e.titleNode_msg=null,e.titleNode_fragment=null,e.GameTitleNode=null,e.DeathTowerNode=null,e.TitleSpine=null,e.animatorCtrl=null,e.btn_dayTask_Toggle=null,e.btn_gameTitle_Toggle=null,e.btn_titleAtt_Toggle=null,e.mType=y.DeathTowerType.info_map,e.ItmeTitle_msg_index=-1,e.Task_1_ID=100,e.Task_2_ID=101,e}return r(e,t),Object.defineProperty(e.prototype,"ind_num",{get:function(){return this.ind_num_},set:function(t){this.ind_num_=t,this.ind_num>=this.max_num&&this.on_loadsp&&this.hideloading()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"on_index",{get:function(){return this.on_index_},set:function(t){this.on_index!=t&&(this.on_index_=t,this.HeroTitleId=this.json[Object.keys(this.json)[this.on_index]].id,this.HeroTitleId?(this.Reflash_Title(),this.Reflash_msg(),this.Reflash_fragment(),this.Reflash_Btn_label()):console.error("\u79f0\u53f7id\u83b7\u53d6\u5931\u8d25",this.on_index))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"on_loadsp",{get:function(){return this.on_loadsp_},set:function(t){this.on_loadsp_=t,0==t?this.showloading():this.ind_num>=this.max_num&&this.on_loadsp&&this.hideloading()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"on_ToggleIndex",{get:function(){return this.on_ToggleIndex_},set:function(t){switch(this.on_ToggleIndex_=t,this.GameTitleNode.active=!1,this.DeathTowerNode.active=!1,this.EquipingInfo.active=!1,this.TaskNode.active=!1,t){case 0:this.btn_dayTask_Toggle.isChecked=!0,this.DeathTowerNode.active=!0,this.TaskNode.active=!0;break;case 1:this.btn_gameTitle_Toggle.isChecked=!0,this.GameTitleNode.active=!0;break;case 2:this.btn_titleAtt_Toggle.isChecked=!0,this.DeathTowerNode.active=!0,this.EquipingInfo.active=!0;break;default:console.error("ToggleIndex\u65e0\u6548")}this.showItmeTitle(this.ItmeTitle_msg_index)},enumerable:!1,configurable:!0}),e.prototype.onUILoad=function(){GEvent.emit(GEventName.ChangeViewTitle,"DeathTowerView"),this.setplatform()},e.prototype.onIniit=function(t){this.mType=t},e.prototype.onUIStart=function(){var t=this;this.json=b.default.instance.GameTitleData(),this.getChapterTowerData=S.default.getChapterTowerData(),this.itme_json=d.default.ItemData(),this.Curreny_json=d.default.CurrenyData(),this.deathTowerBox_json=d.default.DeathTowerBoxData(),this.TaskList=d.default.DeathTowerTaks(),this.max_num=Object.keys(this.json).length,this.GameTitleNode=this.getNode("content/GameTitleNode"),this.DeathTowerNode=this.getNode("content/DeathTowerNode"),this.GameTitleNode_content=this.getNode("content/GameTitleNode/TitleScrollView/view/content"),this.titleNode_msg=this.getNode("content/GameTitleNode/titleNode/_msg"),this.titleNode_fragment=this.getNode("content/GameTitleNode/titleNode/fragmentContent"),this.TitleSpine=this.getSpineSkeleton("content/GameTitleNode/titleNode/TitleSpine"),this.animatorCtrl=new l.default(this.TitleSpine),this.btn_dayTask_Toggle=this.getToggle("content/chooseToggle/btn_dayTask"),this.btn_gameTitle_Toggle=this.getToggle("content/chooseToggle/btn_gameTitle"),this.btn_titleAtt_Toggle=this.getToggle("content/chooseToggle/btn_titleAtt"),this.Btn_Label=this.getLabel("content/GameTitleNode/titleNode/btn_use/label"),this.Btn_Sp=this.getNode("content/GameTitleNode/titleNode/btn_use/TX_anniu"),this.need_count_node=this.getNode("content/GameTitleNode/titleNode/need_count"),this.updateSet=this.getLabel("content/GameTitleNode/titleNode/updateSet"),this.EquipingInfo=this.getNode("content/DeathTowerNode/EquipingInfo"),this.equipNodeList=this.getNode("content/DeathTowerNode/EquipingInfo/equip"),this.HeroActor=this.getSpineSkeleton("content/DeathTowerNode/EquipingInfo/Hero/1/ad"),this.propertiesInfo=this.getNode("content/DeathTowerNode/EquipingInfo/propertiesInfo"),this.TaskNode=this.getNode("content/DeathTowerNode/TaskNode"),this.task1Item=this.getNode("content/DeathTowerNode/TaskNode/task1/Item"),this.task2Item=this.getNode("content/DeathTowerNode/TaskNode/task2/Item"),this.TowerNodeList=this.getNode("content/DeathTowerNode/TowerNode/Layout"),this.Label_weekCount=this.getLabel("content/DeathTowerNode/TowerNode/Label_weekCount"),this.Label_day=this.getLabel("content/DeathTowerNode/TowerNode/Label_day"),this.btn_refresh=this.getButton("content/DeathTowerNode/TowerNode/btn_refresh"),this.btn_refresh_ad=this.btn_refresh.node.getChildByName("Layout").getChildByName("comm_ad"),this.btn_refresh_label=this.btn_refresh.node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label),this.btn_refresh_sp=this.btn_refresh.node.getChildByName("TX_anniu"),this.ItmeTitle_msg=this.getNode("content/ItmeTitle_msg"),this.onSetClick(),this.Reflash_level(),this.showItmeTitle(this.ItmeTitle_msg_index),this.btn_close=this.getNode("content/btn_back_1"),this.btn_back=this.getNode("content/btn_back"),this.btn_close.active=!1,this.btn_back.active=!1,this.mType==y.DeathTowerType.info_bag?(this.btn_close.active=!0,this.setGameTitle()):this.mType==y.DeathTowerType.info_map?(this.btn_back.active=!0,this.setDayTask()):this.mType==y.DeathTowerType.info_guide&&(this.btn_close.active=!0,this.setGameTitle()),GEvent.on(GEventName.ReflashTower,function(){t.Reflash_level(),t.Reflash_level_label()},this),E.default.instance.InitInviterData(function(){t.Reflash_level(),t.Reflash_level_label()})},e.prototype.onSetClick=function(){this.onClick("content/GameTitleNode/titleNode/btn_use",this.onBtnUse,this),this.onClick("content/DeathTowerNode/TowerNode/btn_start",this.onBtnStart,this),this.onClick("content/DeathTowerNode/TowerNode/btn_refresh",this.onBtnRefresh,this)},e.prototype.onBtnStart=function(){if(E.default.instance.enterTowerCount>=E.default.WeekEnterTowerCount)Global.onShowTosat("\u5269\u4f59\u6b21\u6570\u4e0d\u8db3");else{if(E.default.instance.curLayer>E.default.MaxTowerCount)return Global.onShowTosat("\u540e\u7eed\u5173\u5361\u5236\u4f5c\u4e2d");c.default.CanPay(h.CurrencyType.FATIGUE,E.default.FatigueTowerCount)&&(c.default.Pay(h.CurrencyType.FATIGUE,E.default.FatigueTowerCount),E.default.instance.intoTower?k.default.onEnterGame(_.LvType.Tower,v.LvHard.TOWER,-2,1):this.sceneMgr().load(u.default.Scenes.EnterTowerAnimView))}},e.prototype.onBtnRefresh=function(){var t=this;E.default.instance.videoRfTowerCount>=E.default.dailyVideoRfTowerCount?Global.onShowTosat("\u4eca\u65e5\u5237\u65b0\u6b21\u6570\u4e0d\u8db3"):E.default.instance.videoRfTowerCount==E.default.shareRfTowerCount?D.default.instance.shareAppMessageFromUrl(m.DeathTowerID.Daily_Refresh):I.default.instance.playRewardVideo(function(){E.default.instance.videoRfTowerCount+=1,E.default.instance.curLayer=1,E.default.instance.TowerVideoTime=Date.now(),t.Reflash_level_label(),t.Reflash_level(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_headportrai_unlock)},e.prototype.onBtnUse=function(){var t=C.default.instance.curweartitleId;if(this.HeroTitleId==t)C.default.instance.curweartitleId=-1,GEvent.emit(GEventName.UpdateWarPower),this.Reflash_msg(),(T.default.instance.getCheckopen16Guide(5)||T.default.instance.getCheckopen16Guide(4))&&T.default.instance.checkopen16Guide();else if(C.default.instance.getUnlockTitleIdData(this.HeroTitleId))console.log("\u4f7f\u7528\u6210\u529f"),C.default.instance.curweartitleId=this.HeroTitleId,GEvent.emit(GEventName.UpdateWarPower),this.Reflash_msg(),(T.default.instance.getCheckopen16Guide(5)||T.default.instance.getCheckopen16Guide(4))&&T.default.instance.checkopen16Guide();else{if(901==this.HeroTitleId)return Global.onShowTosat("\u656c\u8bf7\u671f\u5f85");for(var e=this.json[Object.keys(this.json)[this.on_index]].need_id,n=this.json[Object.keys(this.json)[this.on_index]].need_count,i=!1,o="",a=0;a<e.length;a++){var r=e[a];if(100!=r){if(101!=r){if(w.default.Init.FindItem(r)<n[a]){var s=this.itme_json[e[a]];s||(s=this.Curreny_json[e[a]]),i=!0,o=s.name+"\u4e0d\u8db3";break}}else if(!c.default.CanPay(h.CurrencyType.COUPON,n[a])){i=!0,o=null;break}}else if(!c.default.CanPay(h.CurrencyType.COIN,n[a])){i=!0,o=null;break}}i?(console.log("\u9053\u5177\u4e0d\u8db3"),o&&Global.onShowTosat(o)):(console.log("\u89e3\u9501\u6210\u529f"),Global.onShowTosat("\u89e3\u9501\u6210\u529f"),e.forEach(function(t,e){100==t?c.default.Pay(h.CurrencyType.COIN,n[e]):101==t?c.default.Pay(h.CurrencyType.COUPON,n[e]):w.default.Init.RemoveItem(t,n[e])}),T.default.instance.getCheckopen16Guide(4)&&T.default.instance.checkopen16Guide(),C.default.instance.addUnlockTitleIdData(this.HeroTitleId))}this.Reflash_Btn_label()},e.prototype.onBtnSweep=function(){var t=this;if(E.default.instance.getMaxpassLayer<=20)return Global.onShowTosat("\u6700\u5927\u5c42\u6570<=20\u5c42,\u65e0\u6cd5\u626b\u8361");E.default.instance.sweepTowerCount<E.default.MaxTowerSweepCount?this.sceneMgr().load(u.default.Scenes.TowerSweepView,void 0,function(e,n){n.getComponent(p.default).addCallback(function(){t.Reflash_level(),t.Reflash_level_label()})}):Global.onShowTosat("\u4eca\u65e5\u626b\u8361\u6b21\u6570\u5df2\u7528\u5b8c")},e.prototype.setDayTask=function(){this.on_ToggleIndex=0,this.on_Reflash_DayTaskUI||(this.on_Reflash_DayTaskUI=!0,this.Reflash_DayTaskUI())},e.prototype.setGameTitle=function(){this.on_ToggleIndex=1,this.on_Reflash_ameTitleUI||(this.on_Reflash_ameTitleUI=!0,this.Reflash_ameTitleUI())},e.prototype.setTitleAtt=function(){this.on_ToggleIndex=2,this.on_Reflash_TitleAttUI||this.Reflash_TitleAttUI()},e.prototype.showItmeTitle=function(t,e){var n=this;if(t!=this.ItmeTitle_msg_index&&this.deathTowerBox_json[e]){Global.onShowTosat("\u901a\u8fc7"+e+"\u5c42\u89e3\u9501\u5b9d\u7bb1"),this.ItmeTitle_msg_index=t,this.ItmeTitle_msg.active=!0;var i=this.TowerNodeList.children[t].convertToWorldSpaceAR(cc.v2(0,0)),o=this.node.convertToNodeSpaceAR(i);this.ItmeTitle_msg.setPosition(o),o.y<-200?this.ItmeTitle_msg.getChildByName("ItmeTitle_msg").y=150:o.y>31?this.ItmeTitle_msg.getChildByName("ItmeTitle_msg").y=-50:this.ItmeTitle_msg.getChildByName("ItmeTitle_msg").y=15;for(var a=this.ItmeTitle_msg.getChildByName("ItmeTitle_msg").getChildByName("Node_list"),r=this.deathTowerBox_json[e].reward,s=Math.max(r.length,a.children.length),l=function(t,e){var i=n.itme_json[r[t].id];e.getChildByName("count").getComponent(cc.Label).string=r[t].count+"",e.getChildByName("name").getComponent(cc.Label).string=i.name,n.setResSpriteFrame(e.getChildByName("icon").getComponent(cc.Sprite),i.icon,function(){n.ind_num+=1})},c=0;c<s;c++){var u=a.children[c];if(null==u&&((u=cc.instantiate(a.children[0])).parent=a),c>=r.length)u.active=!1;else{if(u.active=!0,!u||!r[c])return;l(c,u)}}this.ItmeTitle_msg.getChildByName("ItmeTitle_msg").on(cc.Node.EventType.TOUCH_END,function(){n.showItmeTitle(n.ItmeTitle_msg_index)})}else this.ItmeTitle_msg.active=!1,this.ItmeTitle_msg_index=-1},e.prototype.update=function(){this.ShowTowerVideoTime&&E.default.instance.TowerVideoTime&&E.default.instance.TowerVideoTime>0&&(E.default.videoTowerCountDown-(Date.now()-E.default.instance.TowerVideoTime)>0?this.btn_refresh_label.string=P.default.formatTime(E.default.videoTowerCountDown-(Date.now()-E.default.instance.TowerVideoTime),"minutes",":"):(E.default.instance.TowerVideoTime=-1,this.Reflash_level_label()))},e.prototype.Reflash_level_label=function(){E.default.instance.videoRfTowerCount>=E.default.dailyVideoRfTowerCount?(this.btn_refresh.interactable=!1,this.btn_refresh_sp.active=!1):(this.btn_refresh.interactable=!0,this.btn_refresh_sp.active=!0),E.default.instance.videoRfTowerCount==E.default.shareRfTowerCount?(this.btn_refresh_ad.active=!1,this.btn_refresh_label.string="\u9080\u8bf7\u4e00\u4eba\u5237\u65b0",E.default.instance.TowerVideoTime=-1):E.default.instance.TowerVideoTime&&E.default.instance.TowerVideoTime>0?(this.btn_refresh.interactable=!1,this.ShowTowerVideoTime=!0):(this.ShowTowerVideoTime=!1,this.btn_refresh_ad.active=!0,this.btn_refresh_label.string="\u5237 \u65b0"),this.Label_day.string="\u6bcf\u65e5\u9650\u5237\u65b0"+(E.default.dailyVideoRfTowerCount-E.default.instance.videoRfTowerCount)+"\u6b21",this.Label_weekCount.string=""},e.prototype.GetLevelList=function(){for(var t=[],e=14*Math.floor((E.default.instance.curLayer-1)/14);t.length<14;)if(++e>=E.default.MaxTowerCount){var n=E.default.MaxTowerCount-(e-E.default.MaxTowerCount);t.includes(n)||t.push(n)}else e>0&&t.push(e);return t.sort(function(t,e){return t-e}),t},e.prototype.Reflash_level=function(){var t=this;this.Reflash_level_label();for(var e=this.GetLevelList(),n=Math.max(e.length,this.TowerNodeList.children.length),i=function(n,i){var o=e[n];if(i.getChildByName("lab_floor").getComponent(cc.Label).string=o+"\u5c42",t.getChapterTowerData&&t.getChapterTowerData.room)var a=t.getChapterTowerData.room[o-1].enemy;if(a)var r=a[a.length-1].enemy_id;if(r){var s=b.default.instance.EnemyData(v.LvHard.TOWER)[r];s&&t.setResSpriteFrame(i.getChildByName("icon").getComponent(cc.Sprite),s.icon)}o>=E.default.instance.curLayer?(i.getChildByName("boxBtn").getChildByName("clear").active=!1,t.onClick(i.getChildByName("boxBtn"),function(){t.showItmeTitle(n,o)})):(i.getChildByName("boxBtn").getChildByName("clear").active=!0,t.offClick(i.getChildByName("boxBtn")))},o=0;o<n;o++){var a=this.TowerNodeList.children[o];if(null==a&&((a=cc.instantiate(this.TowerNodeList.children[0])).parent=this.TowerNodeList),o>=e.length?a.active=!1:a.active=!0,!a)return a.destroy();i(o,a)}},e.prototype.update_DayTaskUI=function(){var t=E.default.instance.getZDTaskID(this.Task_1_ID),e=this.TaskList[this.Task_1_ID];this.task1Item.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),t.getTaskReward>=1?this.task1Item.getChildByName("set").getComponent(cc.Label).string="\u5df2\u9886\u53d6":t.taskpro>=e.count?this.task1Item.getChildByName("set").getComponent(cc.Label).string="\u53ef\u9886\u53d6":(this.task1Item.getChildByName("set").getComponent(cc.Label).string="",this.task1Item.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")));var n=E.default.instance.getZDTaskID(this.Task_2_ID),i=this.TaskList[this.Task_2_ID];this.task2Item.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),n.getTaskReward>=1?this.task2Item.getChildByName("set").getComponent(cc.Label).string="\u5df2\u9886\u53d6":n.taskpro>=i.count?this.task2Item.getChildByName("set").getComponent(cc.Label).string="\u53ef\u9886\u53d6":(this.task2Item.getChildByName("set").getComponent(cc.Label).string="",this.task2Item.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")))},e.prototype.Reflash_DayTaskUI=function(){var t=this,e=E.default.instance.getZDTaskID(this.Task_1_ID),n=E.default.instance.getZDTaskID(this.Task_2_ID),i=this.itme_json[this.TaskList[this.Task_1_ID].reward[0].id];this.task1Item.getChildByName("count").getComponent(cc.Label).string=this.TaskList[this.Task_1_ID].reward[0].count+"",this.task1Item.getChildByName("name").getComponent(cc.Label).string=i.name,this.setResSpriteFrame(this.task1Item.getChildByName("icon").getComponent(cc.Sprite),i.icon),this.onClick(this.task1Item,function(){if(e.getTaskReward>=1)return Global.onShowTosat("\u4efb\u52a1\u5df2\u5b8c\u6210\uff01");if(!(e.taskpro>=t.TaskList[t.Task_1_ID].count))return Global.onShowTosat("\u4efb\u52a1\u8fd8\u672a\u5b8c\u6210\uff01");var n=t.TaskList[t.Task_1_ID].reward[0].id,i=Number(t.TaskList[t.Task_1_ID].reward[0].count);w.default.Init.AddItems(n,i),E.default.instance.sendZDTaskRewardSuc(t.Task_1_ID),t.update_DayTaskUI(),Global.onShowTosat("\u5956\u52b1\u9886\u53d6\u6210\u529f"),e=E.default.instance.getZDTaskID(t.Task_1_ID)});var o=this.itme_json[this.TaskList[this.Task_2_ID].reward[0].id];this.task2Item.getChildByName("count").getComponent(cc.Label).string=this.TaskList[this.Task_2_ID].reward[0].count+"",this.task2Item.getChildByName("name").getComponent(cc.Label).string=o.name,this.setResSpriteFrame(this.task2Item.getChildByName("icon").getComponent(cc.Sprite),o.icon),this.onClick(this.task2Item,function(){if(n.getTaskReward>=1)return Global.onShowTosat("\u4efb\u52a1\u5df2\u5b8c\u6210\uff01");if(!(n.taskpro>=t.TaskList[t.Task_2_ID].count))return Global.onShowTosat("\u4efb\u52a1\u8fd8\u672a\u5b8c\u6210\uff01");var e=t.TaskList[t.Task_2_ID].reward[0].id,i=Number(t.TaskList[t.Task_2_ID].reward[0].count);w.default.Init.AddItems(e,i),E.default.instance.sendZDTaskRewardSuc(t.Task_2_ID),t.update_DayTaskUI(),n=E.default.instance.getZDTaskID(t.Task_2_ID),Global.onShowTosat("\u5956\u52b1\u9886\u53d6\u6210\u529f")}),this.update_DayTaskUI()},e.prototype.Reflash_TitleAttUI=function(){var t=C.default.instance.curweartitleId,e=this.json[t];this.updateActor(),this.updateProperties();for(var n=function(t,n,i){var o;void 0===i&&(i=g.equipItemType.DEATHTOWER_EQUIP),o=i==g.equipItemType.DEATHTOWER_EQUIP?{item:w.default.Init.equiping[0][t]}:e?{item:e}:null,n.getComponent(f.default).onCreateItem(o,i)},i=0;i<6;i++){var o=this.equipNodeList.children[i];if(null==o&&((o=cc.instantiate(this.Equipitem)).parent=this.equipNodeList),i>=this.max_num)o.active=!1;else{if(o.active=!0,!o)return;n(i,o)}}this.HeroTitleItem||(this.HeroTitleItem=cc.instantiate(this.Equipitem),this.HeroTitleItem.parent=this.EquipingInfo,this.HeroTitleItem.setPosition(cc.v2(0,-118))),n(null,this.HeroTitleItem,g.equipItemType.DEATHTOWER_HEROTITLE)},e.prototype.updateActor=function(){b.default.instance.updateActor(this.HeroActor)},e.prototype.updateProperties=function(){var t=c.default.GetPlayerAttributeInUI(),e=t.max_hp,n=(t.hp,t.atk),i=t.def,o=t.cri,a=(t.hitrate,t.atkspeed),r=t.speed;this.propertiesInfo.getChildByName("atk").getChildByName("value").getComponent(cc.Label).string=n.toFixed(0),this.propertiesInfo.getChildByName("critical").getChildByName("value").getComponent(cc.Label).string=(100*o).toFixed(2)+"%",this.propertiesInfo.getChildByName("hp").getChildByName("value").getComponent(cc.Label).string=e.toFixed(0),this.propertiesInfo.getChildByName("atk_speed").getChildByName("value").getComponent(cc.Label).string=(100*a).toFixed(2)+"%",this.propertiesInfo.getChildByName("def").getChildByName("value").getComponent(cc.Label).string=i.toFixed(0),this.propertiesInfo.getChildByName("move_speed").getChildByName("value").getComponent(cc.Label).string=(100*r).toFixed(2)+"%"},e.prototype.Reflash_ameTitleUI=function(){var t=this;this.ind_num=0,this.showloading();for(var e=Math.max(this.max_num,this.GameTitleNode_content.children.length),n=function(e,n){var i=t.json[Object.keys(t.json)[e]].icon,o=t.json[Object.keys(t.json)[e]].icon_name;t.setResSpriteFrame(n.getChildByName("icon").getComponent(cc.Sprite),i,function(){t.ind_num+=1}),t.setResSpriteFrame(n.getChildByName("icon_name").getComponent(cc.Sprite),o),t.onClick(n,function(){t.on_index=e})},i=0;i<e;i++){var o=this.GameTitleNode_content.children[i];if(null==o&&((o=cc.instantiate(this.GameTitleNode_content.children[0])).parent=this.GameTitleNode_content),i>=this.max_num)o.active=!1;else{if(o.active=!0,!o||!this.json[Object.keys(this.json)[i]])return;n(i,o)}}this.on_index=0},e.prototype.Reflash_Title=function(){var t=this;this.on_loadsp=!1;var e=this.json[Object.keys(this.json)[this.on_index]].spine;this.setSkeletonAd(this.TitleSpine,e,"default",function(){t.animatorCtrl.play("animation",!0),t.on_loadsp=!0})},e.prototype.Reflash_msg=function(){var t=C.default.instance.curweartitleId,e=this.json[t],n=this.json[Object.keys(this.json)[this.on_index]].attribute,i=c.default.GetPlayerAttributeInUI(),o=function(t,o){var a=o.getChildByName("lab_Name").getComponent(cc.Label),r=o.getChildByName("lab_Count").getComponent(cc.Label),s=o.getChildByName("lab_Compare").getComponent(cc.Label);if(!(n[t].name&&a&&r&&s))return console.error("\u5237\u65b0\u5c5e\u6027\u4fe1\u606f\u5931\u8d25");var l=n[t].value-(e&&e.attribute[t]?e.attribute[t].value:0);switch(s.node.color=l>=0?cc.Color.GREEN:cc.Color.RED,s.string=(l>=0?"+":"")+(100*l).toFixed(2)+"%",n[t].name){case"f_hp":a.string="\u8840\u91cf",r.string=i.hp.toFixed(0);break;case"f_speed":a.string="\u79fb\u52a8\u901f\u5ea6",r.string=(100*i.speed).toFixed(0)+"%";break;case"f_atk":a.string="\u653b\u51fb\u529b",r.string=i.atk.toFixed(0);break;case"f_atk_speed":a.string="\u653b\u51fb\u901f\u5ea6",r.string=(100*i.atkspeed).toFixed(0)+"%";break;case"f_def":a.string="\u9632\u5fa1",r.string=i.def.toFixed(0)}};n.length<=1?this.titleNode_msg.getComponent(cc.Layout).paddingLeft=125:this.titleNode_msg.getComponent(cc.Layout).paddingLeft=0;for(var a=Math.max(n.length,this.titleNode_msg.children.length),r=0;r<a;r++){var s=this.titleNode_msg.children[r];if(null==s&&((s=cc.instantiate(this.titleNode_msg.children[0])).parent=this.titleNode_msg),r>=n.length)s.active=!1;else{if(s.active=!0,!s||!n[r])return;o(r,s)}}},e.prototype.Reflash_fragment=function(){var t=this,e=this.json[Object.keys(this.json)[this.on_index]].need_id,n=this.json[Object.keys(this.json)[this.on_index]].need_count,i=function(i,o){var a=t.itme_json[e[i]];if(!a)return 100==e[i]?t.updateCoin(n[i]):101==e[i]&&t.updateDiamond(n[i]),o.destroy();var r=o.getChildByName("icon").getComponent(cc.Sprite),s=o.getChildByName("count").getComponent(cc.Label),l=o.getChildByName("name").getComponent(cc.Label),c=o.getChildByName("have").getComponent(cc.Label);if(!(a&&r&&s&&l&&c))return console.error("\u5237\u65b0\u6240\u9700\u788e\u7247\u5931\u8d25");P.default.loadSpfFromRes(a.icon,r),s.string=n[i],l.string=a.name,c.string="\u5df2\u62e5\u6709:"+w.default.Init.FindItem(e[i])};this.need_count_node.active=!1,this.need_count_node.children.forEach(function(t){t.active=!1});for(var o=Math.max(e.length,this.titleNode_fragment.children.length),a=0;a<o;a++){var r=this.titleNode_fragment.children[a];if(null==r&&((r=cc.instantiate(this.titleNode_fragment.children[0])).parent=this.titleNode_fragment),a>=e.length)r.active=!1;else{if(r.active=!0,!r||!e[a])return;i(a,r)}}},e.prototype.updateCoin=function(t){this.need_count_node.active=!0,this.need_count_node.getChildByName("icon_coin").active=!0,this.need_count_node.getChildByName("lab_coin_Name").active=!0,this.need_count_node.getChildByName("lab_coin_Name").getComponent(cc.Label).string=" "+t+" "},e.prototype.updateDiamond=function(t){this.need_count_node.active=!0,this.need_count_node.getChildByName("icon_diamond").active=!0,this.need_count_node.getChildByName("lab_diamond_Name").active=!0,this.need_count_node.getChildByName("lab_diamond_Name").getComponent(cc.Label).string=" "+t+" "},e.prototype.Reflash_Btn_label=function(){var t=C.default.instance.curweartitleId;this.HeroTitleId==t?(this.Btn_Label.string="\u5378 \u4e0b",this.need_count_node.active=!1,this.updateSet.string="\u5df2\u83b7\u5f97",this.titleNode_fragment.active=!1):C.default.instance.getUnlockTitleIdData(this.HeroTitleId)?(this.Btn_Label.string="\u4f7f \u7528",this.need_count_node.active=!1,this.updateSet.string="\u5df2\u83b7\u5f97",this.titleNode_fragment.active=!1):(this.Btn_Label.string="\u6fc0 \u6d3b",this.updateSet.string="",this.titleNode_fragment.active=!0)},s([A(cc.Prefab)],e.prototype,"Equipitem",void 0),s([L],e)}(p.default);a.default=R,cc._RF.pop()},{}],DiLeiIdleState:[function(t,e,n){"use strict";cc._RF.push(e,"6bf0fl3EytI475z7q1iSkln","DiLeiIdleState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("CommonSkillPhase"),c=o("JIanHunSkillPhase"),u=o("StatePhase"),p=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.NORMALATTACK,e.PhaseDatas=[new u.PhaseData(l.CommonSkillPhaseId.Skill,new l.CommonSkillPhase)],e.PhaseManger=new u.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){console.log("\u8fdb\u5165AttackState\u72b6\u6001"),this.PhaseManger.Soldier=this.Soldier,this.PhaseManger.state=c.JianHunPhaseId.NormalAtk,this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this))},e.prototype.setTrackCompleteListenerCb=function(){t.prototype.setTrackCompleteListenerCb.call(this),this.Soldier.State=s.default.DIE},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onExitPhase(),console.log("\u9000\u51faAttackState\u72b6\u6001")},e}(o("BaseSkillState").default);a.default=p,cc._RF.pop()},{}],DiLeiStateCreator:[function(t,e,n){"use strict";cc._RF.push(e,"0a09dyDQylIEpE6kkvrKjDT","DiLeiStateCreator");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("StateId"),r=i("IdleState"),s=i("DiLeiIdleState"),l=i("DieState"),c=i("ConnectState"),u=function(){function t(){this.StateMap=new Map,this.StateMap.set(a.default.IDLE,new r.default),this.StateMap.set(a.default.NORMALATTACK,new s.default),this.StateMap.set(a.default.DIE,new l.default),this.StateMap.set(a.default.Connect,new c.default)}return t.prototype.createState=function(t){var e=this.StateMap.get(t);return null==e&&console.error("\u5f53\u524d\u72b6\u6001\u83b7\u53d6\u9519\u8bef,\u9519\u8bef\u72b6\u6001id\u4e3a",t,"\u68c0\u67e5\u5bf9\u5e94idMap\u662f\u5426\u521b\u5efa"),e},t.prototype.findHaveState=function(t){var e=this.StateMap.get(t);return!!e&&(!!e||void 0)},t}();o.default=u,cc._RF.pop()},{}],DieState:[function(t,e,n){"use strict";cc._RF.push(e,"e61f5hzsQBMQ5jOsnioe0ej","DieState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.dietime=0,e.existtime=.5,e.StateId=s.default.DIE,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.Soldier.Direct=this.Soldier.Direct,this.TrackEntry=this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Die,!1),this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this)),this.Soldier.onStartDie(),this.Soldier.openADKeyDiversion=!1,this.existtime=Math.random()*(.6-.4)+.4},e.prototype.setTrackCompleteListenerCb=function(){},e.prototype.onUpdate=function(t){this.TrackEntry.animationEnd>=.5&&this.TrackEntry.trackTime>=.18*this.TrackEntry.animationEnd&&this.Soldier.onDieFree(),this.TrackEntry.animationEnd<.5&&(this.dietime+=t,this.dietime>=this.existtime&&this.Soldier.onDieFree())},e.prototype.onExit=function(){this.Soldier.openADKeyDiversion=!0},e}(o("MajorStateBase").default);a.default=l,cc._RF.pop()},{}],DizzinessState:[function(t,e,n){"use strict";cc._RF.push(e,"59fd5kybM9CIJGCvup7cmL2","DizzinessState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.time=1,e.StateId=s.default.Dizziness,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.time=1,this.Soldier.State=s.default.Connect,this.Soldier.State=s.default.IDLE},e.prototype.onUpdate=function(){},e.prototype.onExit=function(){},e}(o("SubStateBase").default);a.default=l,cc._RF.pop()},{}],DotEnum:[function(t,e){"use strict";var n,i,o,a;cc._RF.push(e,"a9567cP0I1BIYK6p+Qo0Ycg","DotEnum"),function(t){t.shop_buy50diamond="10000",t.shop_buy5000gold="10001",t.shop_exchangegjlhy="10002",t.shop_exchangedjlhy="10003",t.shop_exchange7qhj="10004",t.shop_exchange10qhj="10005",t.pot_gjgoldOpen="20000",t.pot_gjdiamondOpen="20001",t.pot_zxgoldOpen="20002",t.pot_zxdiamondOpen="20003",t.pot_wzgoldOpen="20004",t.pot_wzdiamondOpen="20005",t.victoryreward_opentime="30000"}(n||(n={})),function(t){t.banner_allPoiexposure="banner_\u603b\u8fde\u70b9\u7206\u5149",t.banner_allPoiRewoldGet="banner_\u603b\u8fde\u70b9\u5956\u52b1\u83b7\u53d6",t.banner_allPoiSuccess="banner_\u603b\u8fde\u70b9\u5b8c\u6210"}(i||(i={})),function(t){t.viedo_shop_power="1001",t.viedo_shop_gold="1002",t.viedo_shop_diamond="1003",t.viedo_shopdh_doubleget="1004",t.video_signin_doubleget="4000",t.viedo_fashion_trial_head="5000",t.viedo_fashion_trial_clothes="5001",t.viedo_fashion_trial_pants="5002",t.viedo_welfare_whiteDiamond="6000",t.viedo_welfare_csDiamond="6001",t.viedo_task_doubleget="7000",t.viedo_pot_gjdiamondOpen10="2001",t.viedo_pot_zxdiamondOpen10="2001",t.viedo_pot_wzdiamondOpen10="2001",t.viedo_mysteryshop_1="3001",t.viedo_mysteryshop_2="3002",t.viedo_mysteryshop_6="3003",t.viedo_mysteryshop_rf="3005",t.viedo_victoryreward_openkp="3004",t.viedo_headportrai_unlock="8000",t.viedo_combat_revive="9000",t.viedo_combat_skillunlock="9001",t.viedo_bag_doubleget="1",t.viedo_bag_addequippage="2",t.viedo_bag_additempage="3"}(o||(o={})),function(t){t.levelStart="90000",t.levelvictory="90001",t.levelfailed="90002"}(a||(a={}));var r={gameAldEnum:n,bannerAldEnum:i,videoAldEnum:o,passAldEnum:a};window.DotEnum=r,cc._RF.pop()},{}],DotManger:[function(t,e,n){"use strict";cc._RF.push(e,"e9c5aM1I1pM3Z/jI8wSKNmW","DotManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Admanager");o.default=new(function(){function t(){}return t.prototype.onStartLevelTrackEvent=function(t,e,n,i){var o,r;o=1e4+1e3*t+10*e+n==n.ABYSS?4:i,r="\u7ae0\u8282"+t+" \u5173\u5361"+e+" \u5173\u5361\u7c7b\u578b"+n+" \u5173\u5361\u96be\u5ea6"+i,console.log("\u6253\u70b9_\u6e38\u620f\u5f00\u59cb",o,r),a.default.instance.onStartLevel(o,r)},t.prototype.onFailedLevelTrackEvent=function(t,e,n,i,o){var r,s,l=o;r=1e4+1e3*t+10*e+n==n.ABYSS?4:i,s="\u7ae0\u8282"+t+" \u5173\u5361"+e+" \u5173\u5361\u7c7b\u578b"+n+" \u5173\u5361\u96be\u5ea6"+i,console.log("\u6253\u70b9_\u6e38\u620f\u5931\u8d25",r,s,"fail",l),a.default.instance.onEndLevel(r,s,"fail",l)},t.prototype.onVictoryLevelTrackEvent=function(t,e,n,i,o){var r,s,l=o;r=1e4+1e3*t+10*e+n==n.ABYSS?4:i,s="\u7ae0\u8282"+t+" \u5173\u5361"+e+" \u5173\u5361\u7c7b\u578b"+n+" \u5173\u5361\u96be\u5ea6"+i,console.log("\u6253\u70b9_\u6e38\u620f\u5931\u8d25",r,s,"complete",l),a.default.instance.onEndLevel(r,s,"complete",l)},t.prototype.CommonTrackEvent=function(t){a.default.instance.trackEvent(t)},t}()),cc._RF.pop()},{}],DropColl:[function(t,e,n){"use strict";cc._RF.push(e,"61c09BYo7NBJrDv9c9djfJ/","DropColl");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onInit=function(t){this.DropItem=t},e.prototype.onCollisionEnter=function(t,e){this.DropItem.onCollisionEnter(t,e)},r([l],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],DropItem:[function(t,e,n){"use strict";cc._RF.push(e,"37054wMp75JarQvngxTw+M3","DropItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("UIWidget"),u=o("GameData"),p=o("CurrencyType"),d=o("GameError"),f=o("RewardType"),h=o("GameHelper"),y=o("BagManager"),g=o("GameStatsManager"),m=o("PoolManager"),v=o("Utils"),_=o("DropColl"),b=cc._decorator,k=b.ccclass,S=(b.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wait_check_time=0,e}var n;return r(e,t),n=e,e.Create=function(){return m.default.instance.getItemPoolNode(m.PoolKeys.DropItem).getComponent(n)},e.prototype.Recover=function(){m.default.instance.pushItemPoolNode(m.PoolKeys.DropItem,this.node),GEvent.emit(GEventName.CombatEvents.onGetDrop,this)},Object.defineProperty(e.prototype,"View",{get:function(){return this},enumerable:!1,configurable:!0}),e.prototype.onUILoad=function(){this.dropIcon=this.getSprite("dropIcon"),this.dropName=this.getLabel("dropName"),this.dropBg=this.getSpineSkeleton("dropBg"),this.dropIconCo=this.dropIcon.getComponent(cc.BoxCollider),this.maxqualityeff=this.getSpineSkeleton("maxqualityeff"),this.getNode("dropIcon").getComponent(_.default).onInit(this)},e.prototype.CreatDrop=function(t,e,i){var o,a,r;switch(void 0===i&&(i=cc.v3(1,0)),this.maxqualityeff.node.active=!1,this.type=t.type,this.id=t.id,this.count=t.count,this.node.x=e.x,this.node.y=e.y,console.log("drop thing",t),this.type){case f.RewardType.CURRENCY:100==this.id&&(o="textures/item/icon_coin",a=t.count+"\u91d1\u5e01"),101==this.id&&(o="textures/item/icon_diamond",a=t.count+"\u94bb\u77f3"),r=n.text_color[0],this.dropBgAni(0);break;case f.RewardType.EQUIPMENT:o=u.default.EquipData()[this.id].icon,a=u.default.EquipData()[this.id].name,r=n.text_color[u.default.EquipData()[this.id].quality],this.dropBgAni(u.default.EquipData()[this.id].quality),4==u.default.EquipData()[this.id].quality&&this.playQualityEff();break;case f.RewardType.ITEM:o=u.default.ItemData()[this.id].icon,a=u.default.ItemData()[this.id].name+"x"+this.count,r=n.text_color[u.default.ItemData()[this.id].quality],this.dropBgAni(u.default.ItemData()[this.id].quality)}h.default.instance.LoadIcon(o,this.dropIcon.node),this.dropName.string=a,this.dropName.node.color=v.default.getImageColor(r)},e.prototype.playQualityEff=function(t){var e=this;void 0===t&&(t=cc.v3(1,0)),this.dropIconCo.enabled=!1;var n=t.x>0?-100:100,i=cc.jumpTo(1.1,cc.v2(this.node.x+n,this.node.y),140,1),o=cc.tween().call(function(){e.dropIconCo.enabled=!0});cc.tween(this.node).sequence(i,o).start(),this.maxqualityeff.node.active=!0,this.maxqualityeff.setAnimation(0,"animation",!0)},e.prototype.PickUp=function(t){var e;switch(void 0===t&&(t=!1),this.wait_check_time=2e3,this.type){case f.RewardType.CURRENCY:100==this.id?l.default.Get(p.CurrencyType.COIN,this.count):101==this.id&&l.default.Get(p.CurrencyType.COUPON,this.count);break;case f.RewardType.EQUIPMENT:!(e=y.default.Init.CreatEquipment(this.id)).succ&&e.error==d.GameError.BagFull&&g.default.instance.bagEquipUnlockPage<y.default.MAX_EQUIPBAGPAGE&&!t&&console.log("\u88c5\u5907\u80cc\u5305\u5df2\u6ee1");break;case f.RewardType.ITEM:console.log("\u6361",this.id,u.default.ItemData()[this.id].name),!(e=y.default.Init.AddItems(this.id,this.count)).succ&&e.error==d.GameError.BagFull&&g.default.instance.bagItemUnlocakPage<y.default.MAX_ITEMBAGPAGE&&!t&&console.log("\u6750\u6599\u80cc\u5305\u5df2\u6ee1")}this.Recover()},e.prototype.onCollisionEnter=function(t){0==t.tag&&this.PickUp()},e.prototype.dropBgAni=function(t){this.dropBg.setAnimation(0,n.ani_type[t],!0)},e.text_color=[13750737,6356795,5296629,13848575,16742188],e.ani_type=["di_bai","di_lv","di_lan","di_zi","di_cheng"],n=s([k],e)}(c.default));a.default=S,cc._RF.pop()},{}],EncodeNumber:[function(t,e){"use strict";cc._RF.push(e,"244c4D6VI1L37fhgTQ0N7we","EncodeNumber"),function(){function t(t){void 0===t&&(t=0),this.num=0,this.key=0,this.setValue(t)}t.prototype.setValue=function(t){this.key=t*Math.random(),this.num=t^this.key,console.log("\u5f02\u6216\u503c:",this.key,this.num)},t.prototype.getValue=function(){return this.num^this.key}}(),function(){function t(){}t.encode=function(t,e){var n=this;Object.defineProperty(t,e,{get:function(){return null!=n.key_num[e]&&null!=n.key[e]?(console.log("get",n.key[e],n.key_num[e]),(n.num[e]^n.key[e])!=n.key_num[e]?(console.log("\u503c\u88ab\u4fee\u6539"),0):(console.log("\u503c\u6b63\u5e38"),n.key_num[e]^n.key[e])):(console.log("\u6ca1\u6709\u521d\u59cb\u503c"),0)},set:function(t){n.num[e]=t,n.key[e]=1e3*Math.random(),n.key_num[e]=n.key[e]^t,console.log("set",n.key[e],n.key_num[e])}})},t.num={},t.key={},t.key_num={}}(),cc._RF.pop()},{}],EnemeyManager:[function(t,e,n){"use strict";cc._RF.push(e,"15919ZuIlZHuppLF8TItlyI","EnemeyManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameHelper"),r=i("PoolManager"),s=i("CombatGameData"),l=i("BaseHero"),c=function(){function t(){}return Object.defineProperty(t,"Init",{get:function(){return null==this.em&&(this.em=new t),this.em},enumerable:!1,configurable:!0}),t.prototype.CreatEnemey=function(t,e,n,i,o,c,u,p,d,f){void 0===o&&(o=!1);for(var h,y,g,m,v=a.default.instance.EnemyData(t),_=[],b=0;b<e.length;b++){y=e[b].min_count+Math.floor(Math.random()*(e[b].max_count-e[b].min_count));for(var k=0;k<y;k++){h=v[e[b].enemy_id];var S=Number(i[0]-600)+Math.random()*(i[1]-600-(i[0]-600)),w=Number(n[0]-730+Math.random()*(n[1]-730-(n[0]-730)));S=s.default.sceneY1+S,o||(w=Math.min(w,s.default.sceneX1-s.default.sceneX0+S/.577350269-500)),g=cc.v3(w,S),(m=r.default.instance.getItemPoolNode(r.PoolKeys.Enemy)).parent=f,m.position=g,m.getComponent(l.default).LoadSk(e[b].enemy_id,h,g,c,u,p,d),_.push(m)}}return _},t.prototype.CreatBuilder=function(t,e,n){for(var i,o,c,u=a.default.instance.EnemyData(t),p=[],d=0;d<e.length;d++)i=u[e[d].id],o=cc.v3(e[d].pos[0]-730+s.default.sceneX0,e[d].pos[1]-600+s.default.sceneY1),(c=r.default.instance.getItemPoolNode(r.PoolKeys.Enemy)).parent=n,c.position=o,c.getComponent(l.default).LoadSk(e[d].id,i,o),p.push(c);return p},t.prototype.CreatOneEnmey=function(t,e,n,i,o,s,c,u){var p=a.default.instance.EnemyData(t)[e],d=r.default.instance.getItemPoolNode(r.PoolKeys.Enemy);return d.parent=u,d.position=n,d.getComponent(l.default).LoadSk(e,p,n,i,o,s,c),d},t.prototype.CreatOneBuilder=function(){},t.prototype.CreatOneBossDia=function(t,e){var n,i,o,s=[];return n=a.default.instance.EnemyData(t)[99999],i=cc.v3(506.212,-200.076),(o=r.default.instance.getItemPoolNode(r.PoolKeys.Enemy)).parent=e,o.position=i,o.getComponent(l.default).LoadSk(99999,n,i,1,1,1,1,!0),s.push(o),s},t.prototype.CreatBoss=function(t,e,n,i,o,c,u){for(var p,d,f,h=a.default.instance.EnemyData(t),y=[],g=0;g<e.length;g++)p=h[e[g].id],d=cc.v3(e[g].pos[0]-730+s.default.sceneX0,e[g].pos[1]-600+s.default.sceneY1),(f=r.default.instance.getItemPoolNode(r.PoolKeys.Enemy)).parent=u,f.position=d,f.getComponent(l.default).LoadSk(e[g].id,p,d,n,i,o,c,!0),y.push(f);return y},t.em=null,t}();o.default=c,cc._RF.pop()},{}],EnemyCommand:[function(t,e,n){"use strict";cc._RF.push(e,"426a24Hv+RK0ZCJuN8zKXvq","EnemyCommand");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.command={zhuzi_check:function(){var t=arguments[0],e=arguments[2].split("|"),n={data:{name:"Event_ Summon"},floatValue:0,intValue:0,stringValue:e[Math.floor(1e3*Math.random()%e.length)],time:0};t.onFrameEvent(null,n)},shenyuanhei_jump:function(){}},t}();i.default=o,cc._RF.pop()},{}],EnemyHero:[function(t,e,n){"use strict";cc._RF.push(e,"15d8ccB0XtOOpiaxDZvzCDJ","EnemyHero");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,o++)i[o]=a[r];return i};Object.defineProperty(a,"__esModule",{value:!0});var c=o("AbyssStateCreator"),u=o("BaseAttributeData"),p=o("BuffsCtrl"),d=o("DiLeiStateCreator"),f=o("EnemyStateCreator"),h=o("StateId"),y=o("StateMachine"),g=o("zuanshikuangStateCreator"),m=o("AnimatorCtrl"),v=o("BaseHero"),_=o("HeroAniNameCfg"),b=o("HeroAttributeCfg"),k=o("HeroSkillCfg"),S=o("HeroSkillList"),w=cc._decorator,T=w.ccclass,C=(w.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"Hp",{get:function(){return this.attribute.hp},set:function(t){var e=this.attribute.hp;this.attribute.hp=t,"zuanshikuang"==this.HeroSkillCfg.SkillKey&&e>1e4&&e/1e4!=this.attribute.hp/1e4&&(console.log("\u6389\u843d\u94bb\u77f3"),this.attribute.def*=.02,GEvent.emit(GEventName.CombatEvents.BlackHoleHpDrop,this)),this.attribute.hp<=0&&this.State!=h.default.DIE&&(this.attribute.hp=0,this.State=h.default.DIE)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){console.log("\u8fdb\u5165Hero"),t.prototype.onLoad.call(this)},e.prototype.start=function(){Global.TestMode&&this.init(1)},e.prototype.init=function(e,n){void 0===n&&(n=null);for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];Global.TestMode||(t.prototype.init.apply(this,l([e,n],i)),this.addAdEvent(),this.initSkillList(),this.bindStateMachine(new y.default(null,this.getStateCreator())),this.enemyHero=Global.Hero),Global.TestMode&&(n=b.EnemyAttributeCfg[1],this.ad.node.zIndex=v.heroZIndex.Center,this.ID=e,this.animatorCtrl=new m.default(this.ad),this.attribute=new u.default(n),this.HeroAniNameCfg=new _.default(_.DogAniNameData),this.HeroSkillCfg=new k.HeroSkillCfg(k.DogSKillCfg),this.BuffsCtrl=new p.BuffsCtrl(this),this.addAdEvent(),this.initSkillList(),this.bindStateMachine(new y.default(null,this.getStateCreator())),this.enemyHero=Global.Hero,Global.TestEnemyHero=this,this.InitSuc=!0)},e.prototype.getStateCreator=function(){switch(this.HeroSkillCfg.SkillKey){case"Abyss":return new c.default;case"zuanshikuang":return new g.default;case"dilei":return new d.default;default:return new f.default}},e.prototype.initSkillList=function(){var t=S.default[this.HeroSkillCfg.SkillKey];for(var e in t)this.SkillList.set(t[e].skillid,t[e]);this.HeroSkillCfg.HeroSkillList=this.SkillList},s([T],e)}(v.default));a.default=C,cc._RF.pop()},{}],EnemyStateCreator:[function(t,e,n){"use strict";cc._RF.push(e,"a71c4JRCY1Pi49ouydmzboN","EnemyStateCreator");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("IdleState"),r=i("MoveState"),s=i("StateId"),l=i("HurtFlyState"),c=i("ConnectState"),u=i("ForceUpHurtState"),p=i("DieState"),d=i("CommonSkillState"),f=i("CommonAtkState"),h=i("NoamalHurtState"),y=i("PoisoningState"),g=i("DizzinessState"),m=i("NetCatchState"),v=i("FROZENState"),_=i("BTState"),b=i("HurtPushState"),k=function(){function t(){this.StateMap=new Map,this.StateMap.set(s.default.IDLE,new a.default),this.StateMap.set(s.default.MOVE,new r.default),this.StateMap.set(s.default.DIE,new p.default),this.StateMap.set(s.default.NORMALATTACK,new f.default),this.StateMap.set(s.default.SKILL,new d.default),this.StateMap.set(s.default.NormalHURT,new h.default),this.StateMap.set(s.default.HurtFly,new l.default),this.StateMap.set(s.default.HurtPush,new b.default),this.StateMap.set(s.default.ForceUpHurt,new u.default),this.StateMap.set(s.default.Connect,new c.default),this.StateMap.set(s.default.poisoning,new y.default),this.StateMap.set(s.default.Dizziness,new g.default),this.StateMap.set(s.default.netCatch,new m.default),this.StateMap.set(s.default.FROZEN,new v.default),this.StateMap.set(s.default.BT,new _.default)}return t.prototype.createState=function(t){var e=this.StateMap.get(t);return null==e&&console.error("\u5f53\u524d\u72b6\u6001\u83b7\u53d6\u9519\u8bef,\u9519\u8bef\u72b6\u6001id\u4e3a",t,"\u68c0\u67e5\u5bf9\u5e94idMap\u662f\u5426\u521b\u5efa"),e},t.prototype.findHaveState=function(t){var e=this.StateMap.get(t);return!!e&&(!!e||void 0)},t}();o.default=k,cc._RF.pop()},{}],EnterAnimView:[function(t,e,n){"use strict";cc._RF.push(e,"58431i7/vtKQb9pahM2BOJp","EnterAnimView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameCfgData"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enterAnim=null,e.btnBack=null,e.heartImg=null,e}return r(e,t),e.prototype.onUILoad=function(){var t=this;cc.tween(this.btnBack).repeatForever(cc.tween(this.btnBack).by(.5,{scale:.2}).by(.5,{scale:-.2})).start();var e=this.enterAnim.setAnimation(0,"kaichang_1",!1);this.enterAnim.setTrackCompleteListener(e,function(){cc.tween(t.enterAnim.node).repeat(8,cc.tween(t.enterAnim.node).by(.04,{position:cc.v3(10,10)}).by(.04,{position:cc.v3(0,-10)}).by(.04,{position:cc.v3(-10,0)}).delay(.02)).start(),cc.tween(t.heartImg).delay(2).repeat(4,cc.tween(t.heartImg).to(.3,{opacity:255}).to(.3,{opacity:0})).start()});var n=this.enterAnim.addAnimation(0,"kaichang_2",!1,6.5);this.enterAnim.setTrackCompleteListener(n,function(){cc.tween(t.node).delay(1.5).call(function(){t.hide()}).start()})},e.prototype.hide=function(){t.prototype.hide.call(this),c.default.onNewPlayerLevel()},s([d(sp.Skeleton)],e.prototype,"enterAnim",void 0),s([d(cc.Node)],e.prototype,"btnBack",void 0),s([d(cc.Node)],e.prototype,"heartImg",void 0),s([p],e)}(l.default);a.default=f,cc._RF.pop()},{}],EnterMagicSwordAnimView:[function(t,e,n){"use strict";cc._RF.push(e,"56506jFz9lKbaIdfjDlV4Ot","EnterMagicSwordAnimView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("View"),u=o("MagicSwordManager"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enterAnim=null,e.btnBack=null,e}return r(e,t),e.prototype.onUILoad=function(){var t=this;cc.tween(this.btnBack).repeatForever(cc.tween(this.btnBack).by(.5,{scale:.2}).by(.5,{scale:-.2})).start();var e=this.enterAnim.addAnimation(0,"kaichang_2",!1);this.enterAnim.setTrackCompleteListener(e,function(){t.hide()})},e.prototype.hide=function(){u.default.instance.isFristEnter=!0,this.close(),this.sceneMgr().isLoaded(l.default.Scenes.MagicSwordView)||this.sceneMgr().load(l.default.Scenes.MagicSwordView)},s([f(sp.Skeleton)],e.prototype,"enterAnim",void 0),s([f(cc.Node)],e.prototype,"btnBack",void 0),s([d],e)}(c.default);a.default=h,cc._RF.pop()},{}],EnterTowerAnimView:[function(t,e,n){"use strict";cc._RF.push(e,"861dcd5ECJNG6MDmeJWnvTg","EnterTowerAnimView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("LvHard"),u=o("LvType"),p=o("GameCfgData"),d=o("TowerDataManager"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enterAnim=null,e.btnBack=null,e.heartImg=null,e}return r(e,t),e.prototype.onUILoad=function(){var t=this;this.onClick("btn_back",this.hide,this),cc.tween(this.btnBack).repeatForever(cc.tween(this.btnBack).by(.5,{scale:.2}).by(.5,{scale:-.2})).start();var e=this.enterAnim.setAnimation(0,"animation",!1);this.enterAnim.setTrackCompleteListener(e,function(){cc.tween(t.node).delay(1.5).call(function(){t.hide()}).start()})},e.prototype.hide=function(){t.prototype.hide.call(this),d.default.instance.intoTower=1,p.default.onEnterGame(u.LvType.Tower,c.LvHard.TOWER,-2,1)},s([y(sp.Skeleton)],e.prototype,"enterAnim",void 0),s([y(cc.Node)],e.prototype,"btnBack",void 0),s([y(cc.Node)],e.prototype,"heartImg",void 0),s([h],e)}(l.default);a.default=g,cc._RF.pop()},{}],EntryScene:[function(t,e,n){"use strict";cc._RF.push(e,"1a143eNDQZMeb2B9d9IU4Ts","EntryScene");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("TimeEngine"),c=o("SceneConfig"),u=o("SceneManager"),p=o("CommonDataMgr"),d=o("SigninManager"),f=o("RoleCfgManager"),h=o("OpenPotManager"),y=o("VIPManager"),g=o("GameStatsManager"),m=o("EquipCalculate"),v=o("GameCalculate"),_=o("CommonTool"),b=o("SettingManager"),k=o("ModeLVDataManger"),S=o("BagLocalDataManger"),w=o("SkillLocalDataManger"),T=o("FashionDataManger"),C=o("TaskLocalDataManger"),D=o("Admanager"),E=o("GameCfgData"),I=o("GuideLocalManger"),P=o("NetworkManger"),M=o("configStore"),L=o("BundlesMgr"),A=o("GameCopyManager"),R=o("CDKDataManger"),O=o("CDKLocalDataManger"),x=o("Utils"),N=o("Constant"),B=o("InviterDataManger"),G=o("ShopDataManger"),F=o("FashionSkinDataManger"),j=o("XsGiftDataManager"),V=o("RankManager"),H=o("ServerCommonCfgMgr"),U=o("GameBusinessDataManager"),q=o("TripleExpDataManger"),Y=o("BtShopDataManger"),K=o("MailDataManger"),W=o("HeroTitleDataManger"),z=o("TowerDataManager"),J=o("PakoManager"),X=o("ChaosLocationMgr"),Z=o("MagicSwordManager"),Q=o("JLZDataManager"),$=o("KfGiftDataManager"),tt=o("ShiwanGiftDataManager"),et=o("platformConfig"),nt=o("ActivityDataManger"),it=o("ShareBoxDataManger"),ot=o("EvilShopDataManger"),at=o("DotManger"),rt=o("SpringDataManager"),st=o("seedrandom"),lt=cc._decorator,ct=lt.ccclass,ut=(lt.property,function(t){function e(){var e=t.call(this)||this;return e.LocalHaveData=!0,e.saveDataTimeId=-1,console.log("platformConfig.platformType = ",et.default.platformType),e.sceneMgr=u.default.instance,e.timeEngine=l.default.getInstance(),e.adMgr=D.default.instance,e}return r(e,t),e.prototype.onLoad=function(){var t=this;window.TimeEngine=this.timeEngine,window.SceneManager=this.sceneMgr,window.CommonDataMgr=p.CommonDataMgr.instance,window.SigninManager=d.default.instance,window.RoleCfgManager=f.default.instance,window.OpenPotManager=h.default.instance,window.VIPManager=y.default.instance,window.ModeLVDataManger=k.default.instance,window.GameStatsManager=g.default.instance,window.GameCalculate=v.default,window.CommonTool=_.default,window.BagLocalDataManger=S.default.instance,window.SkillLocalDataManger=w.default.instance,window.FashionDataManger=T.default.instance,window.TaskLocalDataManger=C.default.instance,window.CDKLocalDataManger=O.default.instance,window.Admanager=D.default.instance,window.NetworkManger=P.default,window.configStore=M.default,window.CDKDataManger=R.default,window.InviterDataManger=B.default.instance,window.ShopDataManger=G.default.instance,window.FashionSkinDataManger=F.default.instance,window.XsGiftDataManager=j.default.instance,window.KfGiftDataManager=$.default.instance,window.ShiwanGiftDataManager=tt.default.instance,window.GameBusinessDataManager=U.default.instance,window.TripleExpDataManger=q.default.instance,window.BtShopDataManger=Y.default.instance,window.TowerDataManager=z.default.instance,window.Utils=x.default,window.Constant=N.default,window.RankManager=V.default,window.ServerCommonCfgMgr=H.default,window.MailDataManger=K.default.instance,window.HeroTitleDataManger=W.default.instance,window.PakoManager=J.default,window.ChaosLocationMgr=X.default.instance,window.GameCfgData=E.default,window.MagicSwordManager=Z.default.instance,window.JLZDataManager=Q.default.instance,window.ActivityDataManger=nt.default.instance,window.DotManger=at.default,window.SpringDataManager=rt.default.instance,this.initLib(),this.addEvent(),this.LoadUserData(),L.default.onLoadEnterGameBundles(function(){t.sceneMgr.init(t.node,c.default.AllSceneConfig),t.sceneMgr.load(c.default.Scenes.LoadingScene,void 0,function(){t.node.getChildByName("Maskbg").destroy()}),t.sceneMgr.load(c.default.Scenes.WaitScene),t.sceneMgr.load(c.default.Scenes.Wait1Scene)})},e.prototype.initLib=function(){Math.seedrandom=st,window.EquipCalculate=m.default},e.prototype.LoadUserData=function(){P.default.onInit(),this.openSettimeRepeat()},e.prototype.initLocalData=function(t){GUserData.initData(t),t||(E.default.newplayer=!0),d.default.instance.init(GUserData.SinginData),f.default.instance.init(GUserData.RoleDataMgr),p.CommonDataMgr.instance.init(GUserData.CommonUserData),g.default.instance.init(GUserData.GameStatistics),h.default.instance.init(GUserData.OpenPotDataMgr),y.default.instance.init(GUserData.VIPLocalData),k.default.instance.init(GUserData.ModeLVDataMgr),b.default.instance.init(GUserData.SettingData),S.default.instance.Init(GUserData.BagLocalData),w.default.instance.Init(GUserData.SkillLocalData),T.default.instance.Init(GUserData.FashionData),C.default.instance.Init(GUserData.TaskLocalData),I.default.instance.init(GUserData.GuideDataMgr),A.default.instance.init(GUserData.GameCopyData),O.default.instance.init(GUserData.CDKData),B.default.instance.init(GUserData.InviterDataMgr),G.default.instance.init(GUserData.ShopDataMgr),F.default.instance.init(GUserData.FashionSkinData),j.default.instance.init(GUserData.XsGiftData),$.default.instance.init(GUserData.KfGiftData),tt.default.instance.init(GUserData.ShiwanGiftData),U.default.instance.init(GUserData.GameBusinessDataMgr),q.default.instance.init(GUserData.TripleExpData),Y.default.instance.init(GUserData.BtShopDataMgr),W.default.instance.init(GUserData.HeroTitleDataMgr),z.default.instance.init(GUserData.TowerDataMgr),Z.default.instance.init(GUserData.MagicSwordMgr),Q.default.instance.init(GUserData.JLZDataMgr),nt.default.instance.init(GUserData.ActivityDataMgr),ot.default.instance.init(GUserData.EvilShopDataMgr),it.default.instance.init(),rt.default.instance.init(GUserData.SpringDataMgr)},e.prototype.addEvent=function(){GEvent.on(GEventName.ServersDataSuc,this.checkServersData,this),GEvent.on(GEventName.ClearServersData,this.ClearServersData,this),GEvent.on(GEventName.SaveUserDataLocal,this.SaveUserDataLocal,this)},e.prototype.LoadLocalUserData=function(){var t=GUserData.GETDATA(GUserData.Key);t?E.default.LocalHaveData=!0:(console.log("\u672c\u5730\u6570\u636e\u4e3a\u7a7a"),E.default.LocalHaveData=!1),this.initLocalData(t)},e.prototype.checkServersData=function(t){E.default.ServerHaverData=!!t,this.LoadLocalUserData();var e=0;t&&null!=t.Keycount&&(e=parseInt(t.Keycount)),console.log("\u670d\u52a1\u5668keycount\u4e3a",e,"\n","\u672c\u5730keycount\u4e3a",GUserData.Keycount-1),t&&e>GUserData.Keycount-1&&(console.log("\u670d\u52a1\u5668\u6709\u6570\u636e \u4e14\u670d\u52a1\u5668\u7aefkeycount \u5927\u4e8e \u672c\u5730keycount \u4f7f\u7528\u670d\u52a1\u5668\u6570\u636e"),this.initLocalData(t)),console.log("ServerCommonCfgMgr.reset = ",H.default.reset,"\n","configStore.isnew = ",M.default.isnew),(H.default.reset||M.default.isnew)&&(this.initLocalData(t),P.default.resetreport()),this.adMgr.onInit(),this.adMgr.onloginInit(),V.default.init(),K.default.instance.init(),E.default.serverDataInitSuc=!0,GEvent.emit(GEventName.DataLoadSuc)},e.prototype.ClearServersData=function(){console.error("\u6e05\u7406\u5168\u90e8\u6570\u636e \u8bf7\u5728\u4e94\u79d2\u5185\u9000\u51fa\u6e38\u620f"),P.default.clearServerData(),GUserData.clearAllData()},e.prototype.SaveUserDataLocal=function(){var t=this;E.default.serverDataInitSuc&&(-1!=this.saveDataTimeId&&this.timeEngine.close(this.saveDataTimeId),this.saveDataTimeId=this.timeEngine.open(2e3,1,function(){GUserData.SAVEDATA(GUserData.Key,GUserData),t.saveDataTimeId=-1}))},e.prototype.openSettimeRepeat=function(){this.timeEngine.open(8e3,-1,function(){E.default.serverDataInitSuc&&GUserData.SAVEDATA(GUserData.Key,GUserData)},this),this.timeEngine.open(H.default.timingSendServerData,-1,function(){E.default.serverDataInitSuc&&P.default.saveServerData()},this),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("\u6e38\u620f\u8fdb\u5165\u540e\u53f0",E.default.serverDataInitSuc),E.default.serverDataInitSuc&&(console.log("\u670d\u52a1\u5668\u6570\u636e\u521d\u59cb\u5316\u5b8c\u6210 \u6e38\u620f\u8fdb\u5165\u540e\u53f0"),GUserData.SAVEDATA(GUserData.Key,GUserData),P.default.saveServerData())}),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("\u91cd\u65b0\u8fd4\u56de\u6e38\u620f")}),D.default.instance.onHide(function(){console.log("onHide"),E.default.serverDataInitSuc&&GUserData.SAVEDATA(GUserData.Key,GUserData)})},e.prototype.update=function(t){this.timeEngine.onUpdateTick(t),this.sceneMgr.onUpdateTick(t)},s([ct],e)}(cc.Component));a.default=ut,cc._RF.pop()},{}],EntryType:[function(t,e,n){"use strict";cc._RF.push(e,"cf935qsT4BFe7Mwp3ROaypt","EntryType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.EntryType=void 0,function(t){t[t.NONE=0]="NONE",t[t.ACTOR=1]="ACTOR",t[t.SKILL=2]="SKILL",t[t.EVENT=3]="EVENT"}(i.EntryType||(i.EntryType={})),cc._RF.pop()},{}],EquipCalculate:[function(t,e,n){"use strict";cc._RF.push(e,"7c245hnnB9IIoXKdVcfvTVV","EquipCalculate");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("EquipType"),r=i("GameData"),s=i("GameCalculate"),l=i("EquipQuality"),c=i("Utils"),u=function(){function t(){}return t.CreateEquipEntry=function(t,e){void 0===e&&(e=0);for(var n,i=[],o=0,a=0;a<t.entry.length;a++){var r=c.default.RandomString(8)+Date.now();n=new Math.seedrandom(r);var l=t.isMagicSword?t.MagicSwordAtk[e]:t.entry[a].min_value,u=t.isMagicSword?t.MagicSwordAtk[e]:t.entry[a].max_value;o=l+Math.floor(Number(n())*(u-l)),i.push(s.default.EquipmentEntry[t.entry[a].entry]([o],[t.entry[a].min_value],[t.entry[a].max_value],r)),n=null}return i},t.GetEquipEntry=function(t,e,n){void 0===n&&(n=0);for(var i,o,a=[],r=0,l=function(l){if(i=new Math.seedrandom(e[l].value),-1!=(o=t.entry.findIndex(function(t){return t.entry==e[l].name}))){var c=t.isMagicSword?t.MagicSwordAtk[n]:t.entry[o].min_value,u=t.isMagicSword?t.MagicSwordAtk[n]:t.entry[o].max_value;r=c+Math.floor(Number(i())*(u-c)),a.push(s.default.EquipmentEntry[t.entry[l].entry]([r],[t.entry[l].min_value],[t.entry[l].max_value],e[l].value)),i=null}},c=0;c<e.length;c++)l(c);return a},t.GetAttachEntry=function(t){for(var e=[],n=0;n<t.attach_entry.length;n++)e.push(s.default.AttachEquipmentEntry[t.attach_entry[n].entry](t.attach_entry[n].value,Math.round(1e5*Math.random())));return e},t.GetSetEntry=function(t){for(var e=[],n=0;n<t.length;n++)e.push(s.default.AttachEquipmentEntry[t[n].entry](t[n].value,Math.round(1e5*Math.random())));return e},t.GetQualityName=function(t){switch(t){case l.EquipQuality.BLUE:return"\u52a3\u8d28";case l.EquipQuality.PURPLE:return"\u666e\u901a";case l.EquipQuality.PINK:return"\u7a00\u6709";case l.EquipQuality.ORANGE:return"\u53f2\u8bd7"}},t.GetEquipTypeName=function(t){switch(t){case a.EquipType.WEAPON:return"\u6b66\u5668";case a.EquipType.CLOTH:return"\u80f8\u90e8";case a.EquipType.WAIST:return"\u8170\u5e26";case a.EquipType.SHOULDER:return"\u80a9\u90e8";case a.EquipType.LEG:return"\u817f\u90e8";case a.EquipType.FOOT:return"\u811a\u90e8"}},t.GetEquipSubRole=function(t){switch(t){case 1:return"\u5251\u9b42\u4e13\u5c5e";case 2:return"\u7ea2\u9b54\u4e13\u5c5e";case 3:return"\u5927\u67aa\u4e13\u5c5e"}},t.GetEquipTypeIndex=function(t){switch(t){case a.EquipType.WEAPON:return 0;case a.EquipType.CLOTH:return 1;case a.EquipType.WAIST:return 3;case a.EquipType.SHOULDER:return 2;case a.EquipType.LEG:return 4;case a.EquipType.FOOT:return 5}},t.FindEquipment=function(t,e,n){var i=r.default.EquipData(),o=[];for(var a in i)i[a].quality==n-1&&0!=(i[a].type&e)&&i[a].lv==Math.min(60,t)&&o.push(Number(a));return o},t}();o.default=u,cc._RF.pop()},{}],EquipQuality:[function(t,e,n){"use strict";cc._RF.push(e,"9206c8Oz0VAXYOhOI0pfLt4","EquipQuality");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.EquipQuality=void 0,function(t){t[t.NONE=0]="NONE",t[t.BLUE=1]="BLUE",t[t.PURPLE=2]="PURPLE",t[t.PINK=3]="PINK",t[t.ORANGE=4]="ORANGE"}(i.EquipQuality||(i.EquipQuality={})),cc._RF.pop()},{}],EquipType:[function(t,e,n){"use strict";cc._RF.push(e,"dff62ZaPyxGE5INQ5dR8FqS","EquipType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.EquipType=void 0,function(t){t[t.NONE=0]="NONE",t[t.WEAPON=1]="WEAPON",t[t.CLOTH=2]="CLOTH",t[t.WAIST=4]="WAIST",t[t.SHOULDER=8]="SHOULDER",t[t.LEG=16]="LEG",t[t.FOOT=32]="FOOT"}(i.EquipType||(i.EquipType={})),cc._RF.pop()},{}],EquipmentSet:[function(t,e,n){"use strict";cc._RF.push(e,"03fa4zadZVKCZQ+VwXv4qW+","EquipmentSet");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameData"),r=i("EquipCalculate"),s=i("EntryType"),l=function(){function t(){}return t.Create=function(){return new t},t.prototype.Recover=function(){this.Reset()},Object.defineProperty(t.prototype,"name",{get:function(){return this.set_json.name},enumerable:!1,configurable:!0}),t.prototype.SetData=function(t){this.set_count=1,this.set_id=t,this.set_json=a.default.EquipSetData()[this.set_id],this.entry=new Map;for(var e=0;e<this.set_json.entry.length;e++)this.entry.set(this.set_json.entry[e].count,r.default.GetSetEntry(this.set_json.entry[e].entry));return this},t.prototype.CalculateAttribute=function(t){for(var e,n=0,i=this.entry.keys();n<i.length;n++){var o=i[n];if(this.set_count>=o)for(var a in this.entry.get(o))this.entry.get(o)[a].entrytype==s.EntryType.ACTOR&&(e=this.entry.get(o)[a]).calculate(t,e,0)}return t},t.prototype.CalculateSkillByEquipEquipment=function(t){for(var e,n=0,i=this.entry.keys();n<i.length;n++){var o=i[n];if(this.set_count>=o)for(var a in this.entry.get(o))this.entry.get(o)[a].entrytype==s.EntryType.SKILL&&(console.log(e),(e=this.entry.get(o)[a]).calculate(t,e))}return t},t.prototype.CalculateSkillByRemoveEquipment=function(t){for(var e,n=0,i=this.entry.keys();n<i.length;n++){var o=i[n];if(this.set_count>=o)for(var a in this.entry.get(o))this.entry.get(o)[a].entrytype==s.EntryType.SKILL&&(e=this.entry.get(o)[a]).remove(t,e)}return t},t.prototype.CalculateAttackBuff=function(t,e){for(var n,i=0,o=this.entry.keys();i<o.length;i++){var a=o[i];if(this.set_count>=a)for(var r in this.entry.get(a))this.entry.get(a)[r].entrytype==s.EntryType.EVENT&&(n=this.entry.get(a)[r]).attack_calculate(t,e,n)}},t.prototype.Reset=function(){return this.set_json=null,this.entry=null,this},t}();o.default=l,cc._RF.pop()},{}],Equipment:[function(t,e,n){"use strict";cc._RF.push(e,"f764564SWJPOKt5DVSkjIKp","Equipment");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameData"),r=i("EquipCalculate"),s=i("EntryType"),l=i("Utils"),c=function(){function t(){}return t.Create=function(){return new t},t.prototype.Recover=function(){this.Reset()},Object.defineProperty(t.prototype,"Id",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"set_id",{get:function(){return this.equip_json.set_id?this.equip_json.set_id:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.equip_json.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.equip_json.quality},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.equip_json.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"occupation",{get:function(){return this.equip_json.occupation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.equip_json.icon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Powerup_Coefficient",{get:function(){return this.equip_json.powerup_coefficient},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"FixItem",{get:function(){return{item_id:this.equip_json.f_id,item_count:this.equip_json.f_count,coin:this.equip_json.f_coin}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Crystal",{get:function(){return this.equip_json.crystal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equip_lv",{get:function(){return this.equip_json.lv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PowerLv",{get:function(){return parseInt(this.power_lv,16)^this.key},set:function(t){this.power_lv=(t^this.key).toString(16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMagicSword",{get:function(){return this.equip_json.isMagicSword?this.equip_json.isMagicSword:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMagicEquip",{get:function(){return this.equip_json.isMagicEquip?this.equip_json.isMagicEquip:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MagicSwordLv",{get:function(){return this.magicSword_lv},set:function(t){this.magicSword_lv=t},enumerable:!1,configurable:!0}),t.prototype.SetData=function(t,e,n,i,o){return void 0===e&&(e=0),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=0),this.key=Math.floor(1e7*Math.random()),this.id=l.default.RandomString(16)+Date.now().toString(),this.equip_id=t,this.equip_json=a.default.EquipData()[t],n?this.base_entry=r.default.GetEquipEntry(this.equip_json,n,o):this.SetBaseEntry(),i?this.attach_entry=i:this.equip_json.attach_entry&&(this.attach_entry=r.default.GetAttachEntry(this.equip_json)),this.PowerLv=e,this.destroyed=!1,this.lock=!1,this.fix_count=0,this.power_failecount=0,this.isMagicSword&&(this.lock=!0),this.isMagicEquip&&(this.lock=!0),this.magicSword_lv=o,this},t.prototype.SetBaseEntry=function(){this.base_entry=r.default.CreateEquipEntry(this.equip_json,this.MagicSwordLv)},t.prototype.CalculateAttribute=function(t){var e;for(var n in this.base_entry)this.base_entry[n].entrytype==s.EntryType.ACTOR&&(e=this.base_entry[n]).calculate(t,e,this.PowerLv);for(var n in this.attach_entry)this.attach_entry[n].entrytype==s.EntryType.ACTOR&&(e=this.attach_entry[n]).calculate(t,e,this.PowerLv);return t},t.prototype.CalculateSkillByEquipEquipment=function(t){var e;for(var n in this.base_entry)this.base_entry[n].entrytype==s.EntryType.SKILL&&(e=this.base_entry[n]).calculate(t,e);for(var n in this.attach_entry)this.attach_entry[n].entrytype==s.EntryType.SKILL&&(e=this.attach_entry[n]).calculate(t,e);return t},t.prototype.CalculateSkillByRemoveEquipment=function(t){var e;for(var n in this.base_entry)this.base_entry[n].entrytype==s.EntryType.SKILL&&(e=this.base_entry[n]).remove(t,e);for(var n in this.attach_entry)this.attach_entry[n].entrytype==s.EntryType.SKILL&&(e=this.attach_entry[n]).remove(t,e);return t},t.prototype.CalculateAttackBuff=function(t,e){var n;for(var i in this.attach_entry)this.attach_entry[i].entrytype==s.EntryType.EVENT&&(n=this.attach_entry[i]).attack_calculate(t,e,n)},t.prototype.GetEquipBaseEntryInfo=function(){var t,e=[];for(var n in this.base_entry)this.base_entry[n].entrytype==s.EntryType.ACTOR&&(t=this.base_entry[n],e.push(t.get_info(t)));return e},t.prototype.GetEquipBaseEntryPowerInfo=function(){var t,e=[];for(var n in this.base_entry)this.base_entry[n].entrytype==s.EntryType.ACTOR&&(t=this.base_entry[n],e.push(t.get_power_info(t,this.PowerLv)));return e},t.prototype.GetEquipMinMaxBaseEntryPower=function(){var t,e=[];for(var n in this.base_entry)this.base_entry[n].entrytype==s.EntryType.ACTOR&&(t=this.base_entry[n],e.push(t.get_minmax_power_info(t,this.PowerLv)));return e},t.prototype.GetEquipAttachEntryInfo=function(){var t,e=[];for(var n in this.attach_entry)this.attach_entry[n].entrytype==s.EntryType.ACTOR&&(t=this.attach_entry[n],e.push(t.get_info(t)[0]+t.get_info(t)[1])),this.attach_entry[n].entrytype==s.EntryType.SKILL&&(t=this.attach_entry[n],e.push(t.get_info(t))),this.attach_entry[n].entrytype==s.EntryType.EVENT&&(t=this.attach_entry[n],e.push(t.get_info(t)));return e},Object.defineProperty(t.prototype,"EquipCE",{get:function(){for(var t,e=0,n=0;n<this.base_entry.length;n++)this.base_entry[n].entrytype==s.EntryType.ACTOR&&(e+=(t=this.base_entry[n]).get_ce(t,this.PowerLv));return e},enumerable:!1,configurable:!0}),t.prototype.Reset=function(){return this.id="",this.equip_json=null,this.power_lv="",this.base_entry=null,this.attach_entry=null,this.destroyed=!0,this},t.prototype.Clone=function(){var e=t.Create(),n=[];for(var i in this.base_entry)n[i]={name:this.base_entry[i].name,value:this.base_entry[i].r_seed};var o=null;return this.equip_json.attach_entry&&(o=r.default.GetAttachEntry(this.equip_json)),e.SetData(this.equip_id,this.PowerLv,n,o),e},t}();o.default=c,cc._RF.pop()},{}],EvilShopDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"5f3e3Na3fVDFZBCqwaIINGo","EvilShopDataManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameData"),r=i("Admanager"),s=i("Utils"),l=i("GameStatsManager"),c=i("ServerCommonCfgMgr"),u=function(){function t(){this.freshTimeRange=2592e5}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.EvilShopDataMgr=t},t.prototype.checkAutoFresh=function(t){var e=this;0==this.EvilShopDataMgr.ShopDataList.length?(this.justFreshData(),t()):c.default.getServerTime().then(function(n){console.log("getServerTime",n),n?(s.default.doubleTimestampEqualDay(n,l.default.instance.lastLoginTime)&&e.NewDayRefreshData(),Number(n)-e.EvilShopDataMgr.lastfreshTime>=e.freshTimeRange?(e.EvilShopDataMgr.lastfreshTime=Number(n),e.justFreshData(),t()):t()):t(!1)})},t.prototype.NewDayRefreshData=function(){this.EvilShopDataMgr.adfreshTimes=2;for(var t=0;t<this.EvilShopDataMgr.bossDataList.length;t++)this.EvilShopDataMgr.bossDataList[t].challengeCount=2,this.EvilShopDataMgr.bossDataList[t].adtimes=2},t.prototype.justFreshData=function(){var t=a.default.EvilShopData();this.EvilShopDataMgr.ShopDataList=[];for(var e=[],n=0;n<t.length;n++)for(var i=0;i<t[n].prob;i++)e.push(n);for(n=0;n<8;n++){var o=s.default.getIntByRange(0,e.length);this.EvilShopDataMgr.pushData(t[e[o]])}},t.prototype.handFreshData=function(t){var e=this;r.default.instance.playRewardVideo(function(){e.EvilShopDataMgr.adfreshTimes-=1,e.justFreshData(),t(!0)})},t.prototype.justFreshBossData=function(){if(0==this.EvilShopDataMgr.bossDataList.length)for(var t=0;t<a.default.BossModeData().length;t++)this.EvilShopDataMgr.pushBossData({id:a.default.BossModeData()[t].id});else for(t=0;t<a.default.BossModeData().length;t++){var e=a.default.BossModeData()[t].id;null==this.EvilShopDataMgr.bossDataList.find(function(t){return t.id==e})&&this.EvilShopDataMgr.pushBossData({id:e})}},t.prototype.challengeResult=function(t,e,n){var i=this.EvilShopDataMgr.bossDataList.find(function(e){return e.id==t});1==e&&(n<i.beastTime||0==i.beastTime)&&(i.beastTime=n)},t.prototype.getRankDataTime=function(){for(var t=9999999999,e=0,n=0;n<a.default.BossModeData().length;n++){var i=a.default.BossModeData()[n].id,o=this.EvilShopDataMgr.bossDataList.find(function(t){return t.id==i});if(0==o.beastTime){t=0,e=0;break}t-=o.beastTime,e+=o.beastTime}return{time:t,realTime:e}},t}();o.default=u,cc._RF.pop()},{}],EvilShopItem:[function(t,e,n){"use strict";cc._RF.push(e,"7cfb6mdQtFDh7jXh9GXCxWW","EvilShopItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("UIWidget"),p=o("GameData"),d=o("BagManager"),f=o("ComTipsView"),h=cc._decorator,y=h.ccclass,g=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=-1,e.data=null,e.BossName=null,e.CountLabel=null,e.amountLabel=null,e.hasBuy=null,e.iconNode=null,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.setItemData=function(t,e){this.index=t,this.data=e,this.freshItem()},e.prototype.onBtnClick=function(){var t=this;if(1!=this.data.hasBuy){var e=p.default.ItemData()[this.data.id],n="\u786e\u8ba4\u82b1\u8d39"+this.data.amount+"\u6781\u6076\u5e01\u8d2d\u4e70\n"+e.name+"X"+this.data.count+"\u5417\uff1f";c.default.instance.load(l.default.Scenes.ComTipsView,void 0,function(e,i){i.getComponent(f.default).setPageType(4,function(){d.default.Init.RemoveItem(104,t.data.amount).succ?d.default.Init.AddItems(t.data.id,t.data.count).succ?(Global.onShowTosat("\u8d2d\u4e70\u6210\u529f"),t.data.hasBuy=!0,t.hasBuy.active=!0,t.amountLabel.node.parent.active=!1,GEvent.emit(GEventName.UpdateGold)):(Global.onShowTosat("\u8d2d\u4e70\u5931\u8d25"),d.default.Init.AddItems(104,t.data.amount)):Global.onShowTosat("\u6781\u6076\u5e01\u4e0d\u8db3")},n)})}},e.prototype.freshItem=function(){var t=this,e=p.default.ItemData()[this.data.id];this.BossName.string=e.name,this.CountLabel.string="x"+this.data.count,this.amountLabel.string=this.data.amount+"",this.hasBuy.active=1==this.data.hasBuy,this.amountLabel.node.parent.active=!this.data.hasBuy,cc.loader.loadRes(e.icon,cc.SpriteFrame,function(e,n){0!=cc.isValid(t.node)&&(null==e?t.iconNode.getComponent(cc.Sprite).spriteFrame=n:console.log("err",e))})},s([g(cc.Label)],e.prototype,"BossName",void 0),s([g(cc.Label)],e.prototype,"CountLabel",void 0),s([g(cc.Label)],e.prototype,"amountLabel",void 0),s([g(cc.Node)],e.prototype,"hasBuy",void 0),s([g(cc.Node)],e.prototype,"iconNode",void 0),s([y],e)}(u.default);a.default=m,cc._RF.pop()},{}],EvilShopView:[function(t,e,n){"use strict";cc._RF.push(e,"39665QB54FPELqZ1nAyrHP0","EvilShopView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("EvilShopItem"),u=o("BagManager"),p=o("EvilShopDataManger"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EvilShopItem=null,e.ScrollContent=null,e.EvilCoinCount=null,e.autoFreshTimeLabel=null,e.ItemList=[],e}return r(e,t),e.prototype.onUILoad=function(){var t=this;p.default.instance.checkAutoFresh(function(e){0==e?Global.onShowTosat("\u5237\u65b0\u5931\u8d25"):t.RefreshView()})},e.prototype.onUIEnable=function(){GEvent.on(GEventName.UpdateGold,this.updateCoin,this)},e.prototype.updateCoin=function(){this.EvilCoinCount.string=""+u.default.Init.FindItem(104)},e.prototype.RefreshView=function(){for(var t=p.default.instance.EvilShopDataMgr.ShopDataList,e=0;e<8;e++)null==this.ItemList[e]&&(this.ItemList[e]=cc.instantiate(this.EvilShopItem),this.ItemList[e].parent=this.ScrollContent),this.ItemList[e].getComponent(c.default).setItemData(e,t[e]);this.EvilCoinCount.string=""+u.default.Init.FindItem(104);var n=(p.default.instance.EvilShopDataMgr.lastfreshTime+p.default.instance.freshTimeRange-(new Date).getTime())/36e5;n<0&&(n=0),this.autoFreshTimeLabel.string=Math.ceil(n)+""},e.prototype.onBtnRefresh=function(){var t=this;p.default.instance.handFreshData(function(e){0==e?Global.onShowTosat("\u5237\u65b0\u5931\u8d25"):t.RefreshView()})},s([h(cc.Prefab)],e.prototype,"EvilShopItem",void 0),s([h(cc.Node)],e.prototype,"ScrollContent",void 0),s([h(cc.Label)],e.prototype,"EvilCoinCount",void 0),s([h(cc.Label)],e.prototype,"autoFreshTimeLabel",void 0),s([f],e)}(l.default);a.default=y,cc._RF.pop()},{}],ExchangeView:[function(t,e,n){"use strict";cc._RF.push(e,"c90b5EM0t9A8bOg14lD5he0","ExchangeView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameData"),u=o("BagManager"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.lab_shopcount=this.getLabel("content/lab_shopcount"),this.lab_costcount=this.getLabel("content/lab_costcount"),this.sp_icon=this.getSprite("content/spr_wpbg/spr_wpicon"),this.lab_name=this.getLabel("content/lab_wpname"),this.lab_shopcount.string="0/0",this.lab_costcount.string="0",this.exchangeCount=0,this.removeCount=0,this.canExCount=0,this.initAnimation(this.node)},e.prototype.setData=function(t){var e=this;this.itemData=t,this.lab_name.string=c.default.ItemData()[this.itemData.ItemID].name;var n=c.default.ItemData()[this.itemData.ItemID].icon;cc.resources.load(n,function(t,n){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),e.sp_icon.spriteFrame=new cc.SpriteFrame(n)}),this.canExCount=Math.floor(u.default.Init.FindItem(this.itemData.NeedID)/this.itemData.NeedCount),this.lab_shopcount.string=this.exchangeCount+"/"+this.canExCount,0==this.canExCount&&(this.lab_shopcount.node.color=cc.Color.RED)},e.prototype.onBtnSubOne=function(){u.default.Init.ItemBagFull||u.default.Init.FindItem(this.itemData.NeedID)<this.itemData.NeedCount?console.log("\u5e93\u5b58\u4e0d\u8db3"):this.exchangeCount<=this.canExCount&&this.exchangeCount>0&&(this.exchangeCount-=1,this.lab_shopcount.string=this.exchangeCount+"/"+this.canExCount,this.removeCount=this.itemData.NeedCount*this.exchangeCount,this.lab_costcount.string=this.removeCount+"")},e.prototype.onBtn10SubOne=function(){u.default.Init.ItemBagFull||u.default.Init.FindItem(this.itemData.NeedID)<this.itemData.NeedCount?console.log("\u5e93\u5b58\u4e0d\u8db3"):this.exchangeCount<=this.canExCount&&this.exchangeCount>0&&(this.exchangeCount-=10,this.exchangeCount<=0&&(this.exchangeCount=0),this.lab_shopcount.string=this.exchangeCount+"/"+this.canExCount,this.removeCount=this.itemData.NeedCount*this.exchangeCount,this.lab_costcount.string=this.removeCount+"")},e.prototype.onBtnAddOne=function(){u.default.Init.ItemBagFull||u.default.Init.FindItem(this.itemData.NeedID)<this.itemData.NeedCount?console.log("\u5e93\u5b58\u4e0d\u8db3"):this.exchangeCount<this.canExCount&&(this.exchangeCount+=1,this.lab_shopcount.string=this.exchangeCount+"/"+this.canExCount,this.removeCount=this.itemData.NeedCount*this.exchangeCount,this.lab_costcount.string=this.removeCount+"")},e.prototype.onBtn10AddOne=function(){u.default.Init.ItemBagFull||u.default.Init.FindItem(this.itemData.NeedID)<this.itemData.NeedCount?console.log("\u5e93\u5b58\u4e0d\u8db3"):this.exchangeCount<=this.canExCount&&(this.exchangeCount+=10,this.exchangeCount>this.canExCount&&(this.exchangeCount=this.canExCount),this.lab_shopcount.string=this.exchangeCount+"/"+this.canExCount,this.removeCount=this.itemData.NeedCount*this.exchangeCount,this.lab_costcount.string=this.removeCount+"")},e.prototype.onBtnConfirm=function(){0!=this.removeCount&&0!=this.exchangeCount&&(u.default.Init.RemoveItem(this.itemData.NeedID,this.removeCount),u.default.Init.AddItems(this.itemData.ItemID,this.exchangeCount),console.log("\u5151\u6362\u6210\u529f")),this.node.removeFromParent()},s([d],e)}(l.default));a.default=f,cc._RF.pop()},{}],FROZENState:[function(t,e,n){"use strict";cc._RF.push(e,"bc56aLezChOcY05zF0INjZH","FROZENState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.time=1,e.StateId=s.default.FROZEN,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.time=1,this.Soldier.State=s.default.Connect,this.Soldier.State=s.default.IDLE},e.prototype.onUpdate=function(){},e.prototype.onExit=function(){this.Soldier.resetState()},e}(o("SubStateBase").default);a.default=l,cc._RF.pop()},{}],FashionDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"16c6bFlXFtFZISXMDpaKJAf","FashionDataManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("RoleCfgManager"),r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equipingfashion",{get:function(){return JSON.stringify(this.FashionData.equipingfashion)},set:function(t){this.FashionData.equipingfashion=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fashiondata",{get:function(){return JSON.stringify(this.FashionData.fashiondata)},set:function(t){this.FashionData.fashiondata=t},enumerable:!1,configurable:!0}),t.prototype.SaveData=function(t,e){this.FashionData.equipingfashion=JSON.parse(t),this.FashionData.fashiondata=JSON.parse(e),this.getFashionAllCount()},t.prototype.Init=function(t){this.FashionData=t,this.getFashionAllCount()},t.prototype.getFashionAllCount=function(){if(this.FashionData.fashiondata){for(var t=0,e=this.FashionData.fashiondata[a.default.instance.curRoleID],n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)e[n][i].is_have&&t++;this.FashionData.fashionunlockcount=t}},t}();o.default=r,cc._RF.pop()},{}],FashionEquipment:[function(t,e,n){"use strict";cc._RF.push(e,"574bfJLSsNE95zvNp8QaJOR","FashionEquipment");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameCalculate"),r=i("EntryType"),s=i("GameHelper"),l=i("FashionDataManger"),c=i("FashionManager"),u=function(){function t(){}return t.Create=function(){return new t},t.prototype.Recover=function(){this.Reset()},Object.defineProperty(t.prototype,"name",{get:function(){return this.fashion_json.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.fashion_json.quality},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.fashion_json.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetFashionType",{get:function(){return this.fashion_json.gettype},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.fashion_json.icon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"head_icon",{get:function(){return this.fashion_json.head_icon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slot",{get:function(){return this.fashion_json.slot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cost",{get:function(){return this.fashion_json.cost[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsTry",{get:function(){return this.try_time>0},enumerable:!1,configurable:!0}),t.prototype.SetData=function(t,e,n){var i;this.id=t,this.set_id=e,this.fashion_id=n,this.fashion_json=s.default.instance.FashionData()[e].equip[n],this.set_skin_name=s.default.instance.FashionData()[e].set_sk_name,this.entry=new Array(this.fashion_json.attribute.length);for(var o=0;o<this.entry.length;o++)i=Math.round(1e7*Math.random()),this.entry[o]=a.default.EquipmentEntry[this.fashion_json.attribute[o].name](this.fashion_json.attribute[o].value,i);this.try_time=-1,this.is_have=!1,this.is_equiping=!1,this.destroyed=!1},t.prototype.SetTryFashion=function(t){t<=0||(this.try_time=t,this.is_have=!0,l.default.instance.SaveData(c.default.Init.SaveEquipingFashion(),c.default.Init.SaveFashionData()))},t.prototype.CalculateAttribute=function(t){for(var e in this.entry)this.entry[e].entrytype==r.EntryType.ACTOR&&this.entry[e].calculate(t,this.entry[e],1);return t},t.prototype.FashionTryTimeUpdate=function(t){this.try_time-=t,this.try_time<=0&&(this.try_time=-1,this.is_have=!1,GEvent.emit(GEventName.fashionTryEnd,this.set_id,this.fashion_id))},t.prototype.Reset=function(){return this},t}();o.default=u,cc._RF.pop()},{}],FashionItem:[function(t,e,n){"use strict";cc._RF.push(e,"14f84z89YRJ1ZrBRFUKLKmT","FashionItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("FashionManager"),u=o("RoleCfgManager"),p=o("Utils"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.suitIcon=null,e.suitName=null,e.isSelectSp=null,e}return r(e,t),e.prototype.onUILoad=function(){this.fashionData=[]},e.prototype.initFashionItem=function(t,e){var n=c.default.Init.FashionSet[u.default.instance.curRoleID][t].equip[e];p.default.loadSpfFromRes(n.icon,this.suitIcon),this.suitName.string=n.name,this.isSelectSp.active=!1},e.prototype.setEffectItem=function(t){p.default.loadSpfFromRes(t.icon,this.suitIcon),this.suitIcon.node.scale=.5,this.suitName.string=t.name,this.isSelectSp.active=!1},e.prototype.setWeaponItem=function(t){p.default.loadSpfFromRes(t.icon,this.suitIcon),this.suitIcon.node.scale=.3,this.suitIcon.node.angle=-30,this.suitName.string=t.name,this.isSelectSp.active=!1},e.prototype.isSelect=function(t){this.isSelectSp.active=t,this.suitName.node.color=t?cc.color(255,255,206):cc.color(188,179,219)},s([h(cc.Sprite)],e.prototype,"suitIcon",void 0),s([h(cc.Label)],e.prototype,"suitName",void 0),s([h(cc.Node)],e.prototype,"isSelectSp",void 0),s([f],e)}(l.default);a.default=y,cc._RF.pop()},{}],FashionManager1:[function(t,e,n){"use strict";cc._RF.push(e,"28b13Z+x4VFbqGgxw5tzWHk","FashionManager1");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){},cc._RF.pop()},{}],FashionManager:[function(t,e,n){"use strict";cc._RF.push(e,"e600ctLvx5NdZRuMlaXPakn","FashionManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameCalculate"),r=i("FashionSet"),s=i("TimeEngine"),l=i("GameData"),c=i("CurrencyType"),u=i("GameError"),p=i("GetFashionType"),d=i("GameHelper"),f=i("RoleCfgManager"),h=i("configStore"),y=i("Utils"),g=i("FashionDataManger"),m=i("GameStatsManager"),v=function(){function t(){this.set=[],this.Reset(),GEvent.on(GEventName.fashionTryEnd,this.EventFashionTryEnd,this)}return Object.defineProperty(t,"Init",{get:function(){return null==this.fm&&(this.fm=new t,this.fm.initData(),window.FashionManager=this.fm),this.fm},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"FashionSet",{get:function(){return this.set},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"EquipingFashion",{get:function(){return this.equiping_fashion},enumerable:!1,configurable:!0}),t.prototype.getFashionSetById=function(t){var e;return this.set[f.default.instance.curRoleID].forEach(function(n){n.id==t&&(e=n)}),e},t.prototype.initData=function(){var t=this;this.LoadEquipingFashion(g.default.instance.equipingfashion),this.LoadFashionData(g.default.instance.fashiondata),s.default.instance.open(1e3,-1,function(){var e=t.getFashionSetById(1).equip;-1==e[0].try_time&&-1==e[1].try_time&&-1==e[2].try_time||t.ReflashFashionTime()},this)},t.prototype.Reset=function(){if(this.set)for(var t in this.set)for(var e in this.set[t])for(var n in this.set[t][e].equip)this.set[t][e].equip[n].Recover();this.equiping_fashion=new Array(l.default.actor_count);for(var i=0;i<this.equiping_fashion.length;i++)this.equiping_fashion[i]=[-1,-1,-1];for(this.set=new Array,this.set[f.default.instance.curRoleID]=new Array(d.default.instance.FashionData().length),i=0;i<this.set[f.default.instance.curRoleID].length;i++)this.set[f.default.instance.curRoleID][i]=new r.default,this.set[f.default.instance.curRoleID][i].SetData(i)},t.prototype.gatherall_equip=function(t){void 0===t&&(t=0);var e=[];this.equiping_fashion[t].forEach(function(t){e.push(t)});for(var n=0;n<e.length;n++)if(-1==e[n])return!1;return y.default.isAllEqual(e)},t.prototype.SaveEquipingFashion=function(){return JSON.stringify(this.EquipingFashion)},t.prototype.LoadEquipingFashion=function(t){if(null!=t&&null!=t&&""!=t)for(var e=JSON.parse(t),n=0;n<e[f.default.instance.curRoleID].length;n++)-1!=e[f.default.instance.curRoleID][n]&&(this.equiping_fashion[f.default.instance.curRoleID][n]=e[f.default.instance.curRoleID][n],this.set[f.default.instance.curRoleID][e[f.default.instance.curRoleID][n]].equip[n].is_equiping=!0)},t.prototype.EquipingFashionToJson=function(){return JSON.stringify(this.EquipingFashion[f.default.instance.curRoleID])},t.prototype.SaveFashionData=function(){for(var t=[],e=0;e<l.default.actor_count;e++){t[e]=[];for(var n=0;n<this.set[e].length;n++){t[e][n]=[];for(var i=0;i<this.set[e][n].equip.length;i++)t[e][n][i]={is_have:!!this.getFashionSetById(n)&&this.getFashionSetById(n).equip[i].is_have,try_time:this.getFashionSetById(n)?this.getFashionSetById(n).equip[i].try_time:-1}}}return JSON.stringify(t)},t.prototype.LoadFashionData=function(t){if(null!=t&&null!=t&&""!=t)for(var e=JSON.parse(t),n=0;n<this.set.length;n++)for(var i=0;i<this.set[n].length;i++)for(var o=0;o<this.set[n][i].equip.length;o++){var a=this.set[n][i].id;this.set[n][i].equip[o].is_have=!!e[n][a]&&e[n][a][o].is_have,this.set[n][i].equip[o].SetTryFashion(e[n][a]?e[n][a][o].try_time:-1)}},t.prototype.ReflashFashionTime=function(){for(var t in this.FashionSet)for(var e in this.FashionSet[t])for(var n in this.FashionSet[t][e].equip)this.FashionSet[t][e].equip[n].IsTry&&this.FashionSet[t][e].equip[n].FashionTryTimeUpdate(1e3),g.default.instance.SaveData(this.SaveEquipingFashion(),this.SaveFashionData())},t.prototype.ReflashFashionInvite=function(){for(var t in this.FashionSet)for(var e in this.FashionSet[t])for(var n in this.FashionSet[t][e].equip)this.FashionSet[t][e].equip[n].GetFashionType!=p.GetFashionType.INVITE||this.FashionSet[t][e].equip[n].is_have||this.FashionSet[t][e].equip[n].cost<=h.default.inviterListCount&&(this.FashionSet[t][e].equip[n].is_have=!0,g.default.instance.SaveData(this.SaveEquipingFashion(),this.SaveFashionData()))},t.prototype.ReflashFashionVideo=function(){for(var t in this.FashionSet)for(var e in this.FashionSet[t])for(var n in this.FashionSet[t][e].equip)this.FashionSet[t][e].equip[n].GetFashionType!=p.GetFashionType.VIDEO||this.FashionSet[t][e].equip[n].is_have||this.FashionSet[t][e].equip[n].cost<=m.default.instance.FashionVideoCount[n]&&(this.FashionSet[t][e].equip[n].is_have=!0,g.default.instance.SaveData(this.SaveEquipingFashion(),this.SaveFashionData()))},t.prototype.EquipFashion=function(t,e){return!!this.getFashionSetById(t).equip[e].is_have&&(-1!=this.equiping_fashion[f.default.instance.curRoleID][e]&&this.RevmoeFashion(e),this.getFashionSetById(t).equip[e].is_equiping=!0,this.equiping_fashion[f.default.instance.curRoleID][e]=t,GEvent.emit(GEventName.updateActor),g.default.instance.SaveData(this.SaveEquipingFashion(),this.SaveFashionData()),!0)},t.prototype.RevmoeFashion=function(t){return-1!=this.equiping_fashion[f.default.instance.curRoleID][t]&&(this.set[f.default.instance.curRoleID][this.equiping_fashion[f.default.instance.curRoleID][t]].equip[t].is_equiping=!1,this.equiping_fashion[f.default.instance.curRoleID][t]=-1,GEvent.emit(GEventName.updateActor),g.default.instance.SaveData(this.SaveEquipingFashion(),this.SaveFashionData()),!0)},t.prototype.EventFashionTryEnd=function(t,e){this.equiping_fashion[f.default.instance.curRoleID][e]==t&&this.RevmoeFashion(e)},t.prototype.BuyFashion=function(t,e){return this.getFashionSetById(t).equip[e].is_have?{succ:!1,error:u.GameError.FASHION_UNLOCK}:a.default.CanPay(c.CurrencyType.COUPON,this.getFashionSetById(t).equip[e].cost)?(a.default.Pay(c.CurrencyType.COUPON,this.getFashionSetById(t).equip[e].cost)&&(this.getFashionSetById(t).equip[e].is_have=!0),g.default.instance.SaveData(this.SaveEquipingFashion(),this.SaveFashionData()),{succ:!0,error:null}):{succ:!1,error:u.GameError.PAYCOUPONFAIL}},t.prototype.getFashion=function(t,e){!this.getFashionSetById(t).equip[e].is_have&&(this.getFashionSetById(t).equip[e].is_have=!0),g.default.instance.SaveData(this.SaveEquipingFashion(),this.SaveFashionData())},t.prototype.getIsHave=function(t,e){return this.getFashionSetById(t).equip[e].is_have},t.prototype.CalculatePlayerAttribute=function(t){for(var e=0;e<this.equiping_fashion[f.default.instance.curRoleID].length;e++)-1!=this.equiping_fashion[f.default.instance.curRoleID][e]&&(t=this.getFashionSetById(this.equiping_fashion[f.default.instance.curRoleID][e]).equip[e].CalculateAttribute(t));return this.equiping_fashion[f.default.instance.curRoleID][0]==this.equiping_fashion[f.default.instance.curRoleID][1]&&this.equiping_fashion[f.default.instance.curRoleID][0]==this.equiping_fashion[f.default.instance.curRoleID][2]&&-1!=this.equiping_fashion[f.default.instance.curRoleID][0]&&-1!=this.equiping_fashion[f.default.instance.curRoleID][1]&&-1!=this.equiping_fashion[f.default.instance.curRoleID][2]&&(t=this.getFashionSetById(this.equiping_fashion[f.default.instance.curRoleID][0]).CalculateAttribute(t)),t},t.fm=null,t}();o.default=v,cc._RF.pop()},{}],FashionRecoveryManager:[function(t,e,n){"use strict";cc._RF.push(e,"fea7cWTY4tMKZ+jacNUmEG1","FashionRecoveryManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("InvitePosType"),r=i("BagManager"),s=i("BtShopDataManger"),l=i("FashionManager"),c=i("InviterDataManger"),u=i("JLZDataManager"),p=i("ModeLVDataManger"),d=i("TowerDataManager"),f=i("XsGiftDataManager"),h=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.RecoveryFashion()},t.prototype.RecoveryFashion=function(){var t=this;c.default.instance.pullNewData().then(function(){for(var e=l.default.Init.getFashionSetById(2).equip,n=0;n<e.length;n++){var i=t.getInviteID(n,0);c.default.instance.getInviterIdCount(i)>=e[n].cost&&l.default.Init.getFashion(2,n)}var o=l.default.Init.getFashionSetById(3).equip;for(n=0;n<e.length;n++)i=t.getInviteID(n,1),c.default.instance.getInviterIdCount(i)>=o[n].cost&&l.default.Init.getFashion(3,n)});var e=p.default.instance.getClassicsChapterLvData(2,6);e&&e.isFreePassReward&&e.isAdPassReward&&l.default.Init.getFashion(6,0),(e=p.default.instance.getClassicsChapterLvData(3,6))&&e.isFreePassReward&&e.isAdPassReward&&l.default.Init.getFashion(6,1),(e=p.default.instance.getClassicsChapterLvData(4,6))&&e.isFreePassReward&&e.isAdPassReward&&l.default.Init.getFashion(6,2);for(var n=l.default.Init.getFashionSetById(4).equip,i=0;i<n.length;i++)(h=s.default.instance.getShopIdData(i,4,!0))&&h.videoCount>=n[i].cost&&l.default.Init.getFashion(4,i);var o=l.default.Init.getFashionSetById(2).equip;for(i=0;i<o.length;i++)(h=s.default.instance.getShopIdData(i,2,!0))&&h.videoCount>=o[i].cost&&l.default.Init.getFashion(2,i);var a=l.default.Init.getFashionSetById(3).equip;for(i=0;i<a.length;i++){var h;(h=s.default.instance.getShopIdData(i,3,!0))&&h.videoCount>=a[i].cost&&l.default.Init.getFashion(3,i)}var y=l.default.Init.getFashionSetById(12).equip,g=s.default.instance.getShopIdData(0,12,!0);g&&g.videoCount>=y[0].cost&&l.default.Init.getFashion(12,0);var m=l.default.Init.getFashionSetById(13).equip,v=s.default.instance.getShopIdData(0,13,!0);for(v&&v.videoCount>=m[0].cost&&l.default.Init.getFashion(13,0),i=0;i<f.default.instance.SignGiftDayCount;i++)l.default.Init.getFashion(0,i);var _=r.default.Init.getMagicSwordLv();_>=20&&l.default.Init.getFashion(9,0),_>=30&&l.default.Init.getFashion(9,1),_>=35&&l.default.Init.getFashion(9,2);var b=u.default.instance.TotalOpenCount;b>=20&&l.default.Init.getFashion(10,0),b>=100&&l.default.Init.getFashion(10,1),b>=200&&l.default.Init.getFashion(10,2);var k=d.default.instance.getMaxpassLayer;k>=20&&l.default.Init.getFashion(8,0),k>=50&&l.default.Init.getFashion(8,1),k>=80&&l.default.Init.getFashion(8,2),GUserData.ActivityDataMgr.duihuanchishu[4]&&l.default.Init.getFashion(11,0),-1!=l.default.Init.equiping_fashion[0][0]&&l.default.Init.getFashion(l.default.Init.equiping_fashion[0][0],0),-1!=l.default.Init.equiping_fashion[0][1]&&l.default.Init.getFashion(l.default.Init.equiping_fashion[0][1],1),-1!=l.default.Init.equiping_fashion[0][2]&&l.default.Init.getFashion(l.default.Init.equiping_fashion[0][2],2)},t.prototype.getInviteID=function(t,e){var n;switch(t){case 0:switch(e){case 0:n=a.InviterID_BTShop.BTFashi0_head;break;case 1:n=a.InviterID_BTShop.BTFashi1_head}break;case 1:switch(e){case 0:n=a.InviterID_BTShop.BTFashi0_body;break;case 1:n=a.InviterID_BTShop.BTFashi1_body}break;case 2:switch(e){case 0:n=a.InviterID_BTShop.BTFashi0_foot;break;case 1:n=a.InviterID_BTShop.BTFashi1_foot}}return n},t}();o.default=h,cc._RF.pop()},{}],FashionSet:[function(t,e,n){"use strict";cc._RF.push(e,"857f1EbOR5FIprsPoNz5RLx","FashionSet");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameCalculate"),r=i("EntryType"),s=i("GameHelper"),l=i("FashionEquipment"),c=function(){function t(){}return Object.defineProperty(t.prototype,"name",{get:function(){return this.set_json.set_name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.set_json.set_type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.set_json.set_icon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"set_skin_name",{get:function(){return this.set_json.set_sk_name},enumerable:!1,configurable:!0}),t.prototype.SetData=function(t){this.set_json=s.default.instance.FashionData()[t],this.id=s.default.instance.FashionData()[t].id,this.set_id=t,this.entry=new Array(this.set_json.set_attribute.length);for(var e=0;e<this.entry.length;e++)this.entry[e]=a.default.EquipmentEntry[this.set_json.set_attribute[e].name](this.set_json.set_attribute[e].value);for(this.equip=new Array(3),e=0;e<this.equip.length;e++)this.equip[e]=l.default.Create(),this.equip[e].SetData(this.id,this.set_id,e)},t.prototype.CalculateAttribute=function(t){for(var e in this.entry)this.entry[e].entrytype==r.EntryType.ACTOR&&this.entry[e].calculate(t,this.entry[e],1);return t},t}();o.default=c,cc._RF.pop()},{}],FashionSkinDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"cc7c1eQv2pIjK00RhokipXP","FashionSkinDataManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameHelper"),r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.FashionSkinData=t},Object.defineProperty(t.prototype,"IsHaveList",{get:function(){return this.FashionSkinData.isHaveList},set:function(t){this.FashionSkinData.isHaveList=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"EquipingList",{get:function(){return this.FashionSkinData.equipingList},set:function(t){this.FashionSkinData.equipingList=t},enumerable:!1,configurable:!0}),t.prototype.getFashionSkin=function(t,e){!this.FashionSkinData.isHaveList[t][e]&&(this.FashionSkinData.isHaveList[t][e]=1)},t.prototype.getIsHave=function(t,e){return 1==this.FashionSkinData.isHaveList[t][e]},t.prototype.equipFashionSkin=function(t,e){this.FashionSkinData.equipingList[t]=e,GEvent.emit(GEventName.updateActor)},t.prototype.removeFashionSkin=function(t){this.FashionSkinData.equipingList[t]=-1,GEvent.emit(GEventName.updateActor)},t.prototype.getWeaponSkillID=function(){var t=this.FashionSkinData.equipingList[0];return null==t&&(t=-1),t},t.prototype.getSkillSkillID=function(){var t=this.FashionSkinData.equipingList[1];return null==t&&(t=-1),t},t.prototype.CalculatePlayerAttribute=function(t){return-1==this.getWeaponSkillID()?t:(t.fashion_atk_up_percentage+=a.default.instance.fashionWeaponData()[this.getWeaponSkillID()].attribute[0].value[0],t)},t.prototype.pushNewFashionData=function(){var t=a.default.instance.fashionWeaponData(),e=a.default.instance.fashionEffectData();if(t.length>this.IsHaveList[0].length)for(var n=t.length-this.IsHaveList[0].length,i=0;i<n;i++)this.IsHaveList[0].push(0);if(e.length>this.IsHaveList[1].length)for(n=e.length-this.IsHaveList[1].length,i=0;i<n;i++)this.IsHaveList[1].push(0)},t.prototype.getJsonDataById=function(t,e){var n=null;return(0==t?a.default.instance.fashionWeaponData():a.default.instance.fashionEffectData()).forEach(function(t){t.id==e&&(n=t)}),n},t.prototype.getEquipMJSkillSkin=function(){return 3==this.getSkillSkillID()},t}();o.default=r,cc._RF.pop()},{}],FashionView:[function(t,e,n){"use strict";cc._RF.push(e,"fca656NY3ZO3ahwxHdAH2CI","FashionView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameCalculate"),u=o("FashionItem"),p=o("FashionManager"),d=o("RoleCfgManager"),f=o("GameHelper"),h=o("Admanager"),y=o("GameStatsManager"),g=o("GetFashionType"),m=o("CommonTool"),v=o("GameCfgData"),_=o("SceneConfig"),b=o("FashionSkinDataManger"),k=o("Utils"),S=o("ShopView"),w=o("BagManager"),T=o("Hero"),C=o("HeroSkillCfg"),D=o("HeroPreviewCtrl"),E=o("ActivityCenterView"),I=o("ActivityCenterType"),P=cc._decorator,M=P.ccclass,L=P.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.equipingSuitSp=[],e.equipingSkinSp=[],e.btnBuy=null,e.btnWear=null,e.btnUnWear=null,e.content=null,e.powerLabel=null,e.suitAttLabel=null,e.attributeInfo=[],e.ChangeAttrInfo=[],e.costLabel=null,e.FashionItemPre=null,e.fashionAni=null,e.hero=null,e.heroCtrl=null,e.fashionItemList=[],e.itemData=[],e.equipingData=[],e.partType=0,e.suitIndexList=[-1,-1,-1,-1,-1],e.fashionId=0,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.heroCtrl=this.hero.node.getComponent(D.default)},e.prototype.onUIStart=function(){var t=this;this.sceneMgr().show(_.default.Scenes.Wait1Scene),this.onInitHero().then(function(){t.sceneMgr().hide(_.default.Scenes.Wait1Scene),t.itemData=p.default.Init.FashionSet[d.default.instance.curRoleID],t.equipingData=p.default.Init.EquipingFashion[d.default.instance.curRoleID],t.partType=0,t.suitIndexList=[-1,-1,-1,-1,-1];for(var e=function(e){-1!=t.equipingData[e]&&t.itemData.forEach(function(n,i){n.id==t.equipingData[e]&&(t.suitIndexList[e]=i)})},n=0;n<t.equipingData.length;n++)e(n);t.ReflashFashion(),t.setFashion(),t.updateTime(),GEvent.emit(GEventName.ChangeViewTitle,"FashionView"),GEvent.on(GEventName.updateActor,t.updateActor,t)})},e.prototype.updateActor=function(){this.refreshAttribute(),this.setFashion()},e.prototype.onInitHero=function(){return new Promise(function(t,e){var n=k.default.clone(f.default.instance.HeroData()[v.default.playerId]);n.weaponurl=w.default.Init.getHeroWeapon(),Global.Hero.LoadSk(v.default.playerId,n).then(function(){t(!0)}).catch(function(t){console.error(t),e(t)})})},e.prototype.onDisable=function(){v.default.previewEffID=-1,GEvent.emit(GEventName.updateActor),this.unschedule(this.timeCallback)},e.prototype.changeToggleClick=function(t,e){this.partType!=parseInt(e)&&(this.partType=parseInt(e),this.partType<3?this.ReflashFashion():3==this.partType?this.refreshWeapon():4==this.partType&&this.refreshEffect())},e.prototype.refreshWeapon=function(){-1==this.suitIndexList[this.partType]&&(this.suitIndexList[this.partType]=0),this.content.removeAllChildren(),this.fashionItemList=[];for(var t=f.default.instance.fashionWeaponData(),e=0;e<t.length;e++){this.fashionItemList[e]=cc.instantiate(this.FashionItemPre);var n=new cc.Component.EventHandler;n.target=this.node,n.component="FashionView",n.handler="onBtnChooseItem",n.customEventData=""+e,this.fashionItemList[e].getComponent(cc.Button).clickEvents.push(n),this.content.addChild(this.fashionItemList[e]),this.fashionItemList[e].getComponent(u.default).setWeaponItem(t[e])}this.fashionItemList[this.suitIndexList[this.partType]].getComponent(u.default).isSelect(!0),this.fashionId=this.getFashionId(this.suitIndexList[this.partType]),this.refreshAttribute()},e.prototype.refreshEffect=function(){-1==this.suitIndexList[this.partType]&&(this.suitIndexList[this.partType]=0),this.content.removeAllChildren(),this.fashionItemList=[];for(var t=f.default.instance.fashionEffectData(),e=0;e<t.length;e++){this.fashionItemList[e]=cc.instantiate(this.FashionItemPre);var n=new cc.Component.EventHandler;n.target=this.node,n.component="FashionView",n.handler="onBtnChooseItem",n.customEventData=""+e,this.fashionItemList[e].getComponent(cc.Button).clickEvents.push(n),this.content.addChild(this.fashionItemList[e]),this.fashionItemList[e].getComponent(u.default).setEffectItem(t[e])}this.fashionItemList[this.suitIndexList[this.partType]].getComponent(u.default).isSelect(!0),this.fashionId=this.getFashionId(this.suitIndexList[this.partType]),this.refreshAttribute()},e.prototype.ReflashFashion=function(){-1==this.suitIndexList[this.partType]&&(this.suitIndexList[this.partType]=0),this.content.removeAllChildren(),this.fashionItemList=[];for(var t=0;t<this.itemData.length;t++){this.fashionItemList[t]=cc.instantiate(this.FashionItemPre);var e=new cc.Component.EventHandler;e.target=this.node,e.component="FashionView",e.handler="onBtnChooseItem",e.customEventData=""+t,this.fashionItemList[t].getComponent(cc.Button).clickEvents.push(e),this.content.addChild(this.fashionItemList[t]),this.fashionItemList[t].getComponent(u.default).initFashionItem(t,this.partType),0==this.itemData[t].equip[this.partType].slot.length&&(this.fashionItemList[t].active=!1)}this.fashionItemList[this.suitIndexList[this.partType]].getComponent(u.default).isSelect(!0),this.fashionId=this.getFashionId(this.suitIndexList[this.partType]),this.refreshAttribute()},e.prototype.setFashion=function(){for(var t=this,e=function(e){if(-1==n.equipingData[e])n.equipingSuitSp[e].spriteFrame=null;else{var i=p.default.Init.getFashionSetById(n.equipingData[e]).equip[e].icon;cc.resources.load(i,function(n,i){n&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),t.equipingSuitSp[e].spriteFrame=new cc.SpriteFrame(i)})}},n=this,i=0;i<this.equipingData.length;i++)e(i);var o=function(t){if(-1==b.default.instance.EquipingList[t])a.equipingSkinSp[t].spriteFrame=null;else{var e;(0==t?f.default.instance.fashionWeaponData():f.default.instance.fashionEffectData()).forEach(function(n){n.id==b.default.instance.EquipingList[t]&&(e=n)});var n=e.icon;k.default.loadSpfFromRes(n,a.equipingSkinSp[t])}},a=this;for(i=0;i<b.default.instance.EquipingList.length;i++)o(i)},e.prototype.refreshAttribute=function(){this.refreshBtn();var t=c.default.GetPlayerAttributeInUI(),e=c.default.GetOrginAttribute();this.attributeInfo[0].string=t.max_hp.toFixed(0),this.attributeInfo[1].string=(100*e.exp_ratio).toFixed(0)+"%",this.attributeInfo[2].string=(100*t.speed).toFixed(2)+"%",this.attributeInfo[3].string=t.atk.toFixed(0),this.attributeInfo[4].string=(100*t.atkspeed).toFixed(2)+"%",this.attributeInfo[5].string=t.def.toFixed(0),this.attributeInfo[6].string=(100*e.drop_ratio).toFixed(0)+"%";var n=c.default.GetPlayerCEFromUI(t);this.powerLabel.string=n+"",this.partType<3?this.showFashionCompareAtt():this.showOtherCompareAtt()},e.prototype.showFashionCompareAtt=function(){f.default.instance.PreviewPartSlot(this.hero.ad,this.suitIndexList,this.partType),this.getNode("content/contentNode/currentSuitAtt").active=!0;for(var t="",e=this.itemData[this.suitIndexList[this.partType]].entry,n=0;n<e.length;n++)t+=e[n].get_info(e[n])[0]+e[n].get_info(e[n])[1]+"  ";this.suitAttLabel.string=t,this.fashionId==this.equipingData[0]&&this.fashionId==this.equipingData[1]&&this.fashionId==this.equipingData[2]?this.suitAttLabel.node.color=cc.Color.GREEN:this.suitAttLabel.node.color=cc.color(169,169,169);for(var i=0;i<this.ChangeAttrInfo.length;i++)this.ChangeAttrInfo[i].string="",this.ChangeAttrInfo[i].node.color=cc.Color.GREEN;var o="",a=this.itemData[this.suitIndexList[this.partType]].equip[this.partType].fashion_json.attribute;for(n=0;n<a.length;n++)o="+"+(100*a[n].value[0]).toFixed(1)+"%",this.setChangeAttrString(a[n].name,o,!0);if(-1!=this.equipingData[this.partType]){var r=p.default.Init.getFashionSetById(this.equipingData[this.partType]).equip[this.partType].fashion_json.attribute;for(var s in r)for(var i in a)if(r[s].name==a[i].name){var l=a[i].value[0]-r[s].value[0];l<0?(o=(100*l).toFixed(1)+"%",this.setChangeAttrString(a[i].name,o,!1)):(o="+"+(100*l).toFixed(1)+"%",this.setChangeAttrString(a[i].name,o,!0))}}},e.prototype.showOtherCompareAtt=function(){var t=this;3==this.partType&&f.default.instance.PreviewWeaponSkin(this.hero.ad,this.fashionId),this.getNode("content/contentNode/currentSuitAtt").active=!1;for(var e=0;e<this.ChangeAttrInfo.length;e++)this.ChangeAttrInfo[e].string="";var n,i=3==this.partType?f.default.instance.fashionWeaponData():f.default.instance.fashionEffectData();i.forEach(function(e){e.id==t.fashionId&&(n=e)});var o="";if(-1==b.default.instance.EquipingList[0]&&n.attribute.length>0)o="+"+(100*n.attribute[0].value[0]).toFixed(1)+"%",this.setChangeAttrString(n.attribute[0].name,o,!0);else if(-1!=b.default.instance.EquipingList[0]&&n.attribute.length>0){var a,r=b.default.instance.getWeaponSkillID();i.forEach(function(t){t.id==r&&(a=t)});var s=n.attribute[0].value[0]-a.attribute[0].value[0];s<0?(o=(100*s).toFixed(1)+"%",this.setChangeAttrString(n.attribute[0].name,o,!1)):(o="+"+(100*s).toFixed(1)+"%",this.setChangeAttrString(n.attribute[0].name,o,!0))}},e.prototype.refreshBtn=function(){this.partType<3?this.setFashionBtn():this.setWeaponOrEffBtn()},e.prototype.setFashionBtn=function(){var t=this.itemData[this.suitIndexList[this.partType]].equip[this.partType];t.is_have?(this.btnBuy.node.active=!1,1==this.fashionId&&-1!=t.try_time?(this.costLabel.node.active=!0,this.costLabel.string=m.default.timestampZHMFS(t.try_time/1e3)+"\u540e\u8bd5\u7528\u7ed3\u675f"):this.costLabel.node.active=!1,this.equipingData[this.partType]==this.fashionId?(this.btnWear.node.active=!1,this.btnUnWear.node.active=!0):(this.btnWear.node.active=!0,this.btnUnWear.node.active=!1)):(this.btnBuy.node.active=!0,this.costLabel.node.active=!0,this.changeCost(),this.btnWear.node.active=!1,this.btnUnWear.node.active=!1)},e.prototype.setWeaponOrEffBtn=function(){var t=this.partType-3;if(b.default.instance.pushNewFashionData(),b.default.instance.IsHaveList[t][this.fashionId])this.btnBuy.node.active=!1,this.costLabel.node.active=!1,this.fashionId==b.default.instance.EquipingList[t]?(this.btnWear.node.active=!1,this.btnUnWear.node.active=!0):(this.btnWear.node.active=!0,this.btnUnWear.node.active=!1);else{var e=(0==t?f.default.instance.fashionWeaponData():f.default.instance.fashionEffectData())[this.suitIndexList[this.partType]].gettype;switch(this.btnBuy.node.active=!0,this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.node.active=!0,e){case g.GetFashionType.INVITE:case g.GetFashionType.SHOPVIDEO:this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u5546\u57ce\u8d2d\u4e70";break;case g.GetFashionType.PASSLVREWARD:this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u901a\u5173\u5956\u52b1";break;case g.GetFashionType.GOLDACTIVITY:this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u9ec4\u91d1\u9b42\u6d3b\u52a8";break;case g.GetFashionType.TOWERACTIVITY:this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u6b7b\u4ea1\u4e4b\u5854\u6d3b\u52a8";break;case g.GetFashionType.MAGICSWORD:this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u9b54\u5251\u6d3b\u52a8";break;case g.GetFashionType.JLZMAKE:this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u805a\u7075\u9635\u953b\u9020";break;case g.GetFashionType.FRAGMENT:this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u5546\u57ce\u8d2d\u4e70"}this.btnWear.node.active=!1,this.btnUnWear.node.active=!1}},e.prototype.changeCost=function(){switch(this.itemData[this.suitIndexList[this.partType]].equip[this.partType].GetFashionType){case g.GetFashionType.COUPON:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u8d2d\u4e70",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u9650\u65f6\u94bb\u77f3x"+this.itemData[this.suitIndexList[this.partType]].equip[this.partType].cost;break;case g.GetFashionType.VIDEO:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u8bd5\u7528",this.btnBuy.node.getChildByName("isAdSp").active=!0,this.costLabel.string="\u8bd5\u7528"+y.default.instance.FashionVideoCount[this.partType]+"/"+this.itemData[this.suitIndexList[this.partType]].equip[this.partType].cost+" \u6c38\u4e45\u83b7\u5f97";break;case g.GetFashionType.INVITE:case g.GetFashionType.SHOPVIDEO:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u5546\u57ce\u8d2d\u4e70";break;case g.GetFashionType.CDKEY:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u65b9\u5f0f\uff1a\u9650\u5b9a\u6d3b\u52a8\u8fd4\u573a";break;case g.GetFashionType.PASSLVREWARD:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u65b9\u5f0f\uff1a\u901a\u5173\u5956\u52b1";break;case g.GetFashionType.GOLDACTIVITY:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u65b9\u5f0f\uff1a\u9ec4\u91d1\u9b42\u6d3b\u52a8";break;case g.GetFashionType.TOWERACTIVITY:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u65b9\u5f0f\uff1a\u6b7b\u4ea1\u4e4b\u5854\u6d3b\u52a8";break;case g.GetFashionType.MAGICSWORD:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u65b9\u5f0f\uff1a\u9b54\u5251\u6d3b\u52a8";break;case g.GetFashionType.JLZMAKE:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u65b9\u5f0f\uff1a\u805a\u7075\u9635\u953b\u9020";break;case g.GetFashionType.WSJACTIVITY:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u65b9\u5f0f\uff1a\u4e07\u5723\u8282\u6d3b\u52a8";break;case g.GetFashionType.FRAGMENT:this.btnBuy.node.getChildByName("label").getComponent(cc.Label).string="\u524d\u5f80",this.btnBuy.node.getChildByName("isAdSp").active=!1,this.costLabel.string="\u83b7\u53d6\u9014\u5f84\uff1a\u5546\u57ce\u8d2d\u4e70"}},e.prototype.onBtnChooseItem=function(t,e){for(var n in this.fashionItemList)this.fashionItemList[n].getComponent(u.default).isSelect(!1);this.suitIndexList[this.partType]=parseInt(e),this.fashionId=this.getFashionId(this.suitIndexList[this.partType]),this.fashionItemList[this.suitIndexList[this.partType]].getComponent(u.default).isSelect(!0),this.refreshAttribute(),4==this.partType&&(v.default.previewEffID=this.fashionId,this.heroCtrl.onKeyEvent(C.Hero1SkillCfg.Skill4.key))},e.prototype.onBtnBuy=function(){var t=this;if(this.partType<3)switch(this.itemData[this.suitIndexList[this.partType]].equip[this.partType].GetFashionType){case g.GetFashionType.COUPON:p.default.Init.BuyFashion(this.fashionId,this.partType).succ&&(this.BuySucAni(),this.refreshAttribute());break;case g.GetFashionType.VIDEO:h.default.instance.playRewardVideo(function(){y.default.instance.FashionVideoCount[t.partType]+=1;var e=t.itemData[t.suitIndexList[t.partType]].equip[t.partType];e.cost<=y.default.instance.FashionVideoCount[t.partType]?p.default.Init.ReflashFashionVideo():e.SetTryFashion(3e5),t.refreshAttribute(),GEvent.emit(GEventName.Task.WatchVideo)},this.dotName());break;case g.GetFashionType.INVITE:case g.GetFashionType.SHOPVIDEO:this.sceneMgr().load(_.default.Scenes.ShopView,void 0,function(e,n){n.getComponent(S.default).showViewByType(2,t.partType)});break;case g.GetFashionType.CDKEY:this.sceneMgr().load(_.default.Scenes.ActivityCenterView,void 0,function(t,e){e.getComponent(E.default).setViewByIndex(I.ActivityCenterType.BLT)});break;case g.GetFashionType.PASSLVREWARD:Global.onShowTosat("\u8bf7\u901a\u5173"+(this.partType+2)+"-6\u5e76\u9886\u53d6\u901a\u5173\u5956\u52b1");break;case g.GetFashionType.GOLDACTIVITY:this.sceneMgr().load(_.default.Scenes.ActivityCenterView,void 0,function(t,e){e.getComponent(E.default).setViewByIndex(I.ActivityCenterType.GoldActivity)});break;case g.GetFashionType.TOWERACTIVITY:this.sceneMgr().load(_.default.Scenes.ActivityCenterView,void 0,function(t,e){e.getComponent(E.default).setViewByIndex(I.ActivityCenterType.TowerActivity)});break;case g.GetFashionType.MAGICSWORD:Global.onShowTosat("\u8bf7\u524d\u5f80\u9b54\u5251\u754c\u9762");break;case g.GetFashionType.JLZMAKE:this.sceneMgr().load(_.default.Scenes.JLZActivityView);break;case g.GetFashionType.WSJACTIVITY:Global.onShowTosat("\u6d3b\u52a8\u5df2\u7ed3\u675f");break;case g.GetFashionType.FRAGMENT:this.sceneMgr().load(_.default.Scenes.ShopView,void 0,function(e,n){n.getComponent(S.default).showViewByType(2,t.partType)})}else switch((0==this.partType-3?f.default.instance.fashionWeaponData():f.default.instance.fashionEffectData())[this.suitIndexList[this.partType]].gettype){case g.GetFashionType.INVITE:case g.GetFashionType.SHOPVIDEO:this.sceneMgr().load(_.default.Scenes.ShopView,void 0,function(e,n){n.getComponent(S.default).showViewByType(2,t.partType)});break;case g.GetFashionType.PASSLVREWARD:Global.onShowTosat("\u8bf7\u901a\u5173\u6307\u5b9a\u5173\u5361\u5e76\u9886\u53d6\u901a\u5173\u5956\u52b1");break;case g.GetFashionType.GOLDACTIVITY:this.sceneMgr().load(_.default.Scenes.ActivityCenterView,void 0,function(t,e){e.getComponent(E.default).setViewByIndex(I.ActivityCenterType.GoldActivity)});break;case g.GetFashionType.TOWERACTIVITY:this.sceneMgr().load(_.default.Scenes.ActivityCenterView,void 0,function(t,e){e.getComponent(E.default).setViewByIndex(I.ActivityCenterType.TowerActivity)});break;case g.GetFashionType.MAGICSWORD:Global.onShowTosat("\u8bf7\u524d\u5f80\u9b54\u5251\u754c\u9762");break;case g.GetFashionType.JLZMAKE:this.sceneMgr().load(_.default.Scenes.JLZActivityView);break;case g.GetFashionType.FRAGMENT:this.sceneMgr().load(_.default.Scenes.ShopView,void 0,function(e,n){n.getComponent(S.default).showViewByType(2,t.partType)})}},e.prototype.dotName=function(){switch(this.partType){case 0:return DotEnum.videoAldEnum.viedo_fashion_trial_head;case 1:return DotEnum.videoAldEnum.viedo_fashion_trial_clothes;case 2:return DotEnum.videoAldEnum.viedo_fashion_trial_pants}},e.prototype.onBtnWear=function(){if(this.partType<3)p.default.Init.EquipFashion(this.fashionId,this.partType);else{var t=this.partType-3;b.default.instance.equipFashionSkin(t,this.fashionId),1==t&&this.heroCtrl.onKeyEvent(C.Hero1SkillCfg.Skill4.key)}GEvent.emit(GEventName.UpdateWarPower)},e.prototype.onBtnUnWear=function(){if(this.partType<3)p.default.Init.RevmoeFashion(this.partType);else{var t=this.partType-3;b.default.instance.removeFashionSkin(t)}GEvent.emit(GEventName.UpdateWarPower)},e.prototype.setChangeAttrString=function(t,e,n){switch(t){case"f_hp":this.ChangeAttrInfo[0].string=e,this.ChangeAttrInfo[0].node.color=n?cc.Color.GREEN:cc.Color.RED;break;case"f_exp":this.ChangeAttrInfo[1].string=e,this.ChangeAttrInfo[1].node.color=n?cc.Color.GREEN:cc.Color.RED;break;case"f_speed":this.ChangeAttrInfo[2].string=e,this.ChangeAttrInfo[2].node.color=n?cc.Color.GREEN:cc.Color.RED;break;case"f_atk":this.ChangeAttrInfo[3].string=e,this.ChangeAttrInfo[3].node.color=n?cc.Color.GREEN:cc.Color.RED;break;case"f_atk_speed":this.ChangeAttrInfo[4].string=e,this.ChangeAttrInfo[4].node.color=n?cc.Color.GREEN:cc.Color.RED;break;case"f_def":this.ChangeAttrInfo[5].string=e,this.ChangeAttrInfo[5].node.color=n?cc.Color.GREEN:cc.Color.RED;break;case"f_drop":this.ChangeAttrInfo[6].string=e,this.ChangeAttrInfo[6].node.color=n?cc.Color.GREEN:cc.Color.RED}},e.prototype.updateTime=function(){this.timeCallback=function(){if(this.partType<3){var t=this.itemData[this.suitIndexList[this.partType]].equip[this.partType];1==this.fashionId&&-1!=t.try_time&&this.refreshBtn()}},this.schedule(this.timeCallback,1)},e.prototype.BuySucAni=function(){var t=this;GAudio.playEffect(v.default.buyBtnAudio),this.fashionAni.node.active=!0;var e=this.fashionAni.setAnimation(0,"goumaichenggong",!1);this.fashionAni.setTrackCompleteListener(e,function(){t.fashionAni.node.active=!1,console.log("\u8d2d\u4e70\u6210\u529f")})},e.prototype.getFashionId=function(t){var e;return this.partType<3?e=this.itemData[t]:3==this.partType?e=f.default.instance.fashionWeaponData()[t]:4==this.partType&&(e=f.default.instance.fashionEffectData()[t]),e.id},s([L([cc.Sprite])],e.prototype,"equipingSuitSp",void 0),s([L([cc.Sprite])],e.prototype,"equipingSkinSp",void 0),s([L(cc.Button)],e.prototype,"btnBuy",void 0),s([L(cc.Button)],e.prototype,"btnWear",void 0),s([L(cc.Button)],e.prototype,"btnUnWear",void 0),s([L(cc.Node)],e.prototype,"content",void 0),s([L(cc.Label)],e.prototype,"powerLabel",void 0),s([L(cc.Label)],e.prototype,"suitAttLabel",void 0),s([L([cc.Label])],e.prototype,"attributeInfo",void 0),s([L([cc.Label])],e.prototype,"ChangeAttrInfo",void 0),s([L(cc.Label)],e.prototype,"costLabel",void 0),s([L(cc.Prefab)],e.prototype,"FashionItemPre",void 0),s([L(sp.Skeleton)],e.prototype,"fashionAni",void 0),s([L(T.default)],e.prototype,"hero",void 0),s([M],e)}(l.default);a.default=A,cc._RF.pop()},{}],ForceUpHurtState:[function(t,e,n){"use strict";cc._RF.push(e,"cbd31Pm6A9GyLu8fBFzZiL8","ForceUpHurtState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("MajorStateBase"),c=o("StatePhase"),u=o("HurtPhase"),p=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.ForceUpHurt,e.PhaseDatas=[new c.PhaseData(u.HurtTypeEnum.ForceUp1,new u.ForceUpPhase1),new c.PhaseData(u.HurtTypeEnum.ForceUp2,new u.ForceUpPhase2)],e.PhaseManger=new c.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){this.PhaseManger.Soldier=this.Soldier,this.Soldier.hurtData.hurttype==MACRO.SoldierHurtType.ForceUp&&this.PhaseManger.state!=u.HurtTypeEnum.ForceUp1?this.PhaseManger.state=u.HurtTypeEnum.ForceUp1:this.Soldier.hurtData.hurttype==MACRO.SoldierHurtType.Normal?this.PhaseManger.state=u.HurtTypeEnum.ForceUp2:this.PhaseManger.state=-1},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onExitPhase()},e}(l.default);a.default=p,cc._RF.pop()},{}],GAudio:[function(t,e){"use strict";cc._RF.push(e,"55775O86idF566rq28IhCPI","GAudio");var n=new(function(){function t(){this._AudioPath="",this._BgmPath="res/Vol",this._BgmVolume=1,this._BgmLoop=!0,this._BgmDefault="",this._BgmCanMultiple=!1,this._EffectPath="Effect",this._EffectVolume=1,this._EffectLoop=!1,this._EffectCanMultiple=!0,this._allAudioInfo=new Map,this._playingBgm=new Map,this._playingEffect=new Map,this._isMute=!1,this._isOpenBgm=!0,this._isOpenEffect=!0}return Object.defineProperty(t.prototype,"EffectVolume",{get:function(){return this._EffectVolume},set:function(t){this._EffectVolume=t,this._playingEffect.forEach(function(e){cc.audioEngine.setVolume(e,t)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BgmVolume",{get:function(){return this._BgmVolume},set:function(t){this._BgmVolume=t,this._playingBgm.forEach(function(e){cc.audioEngine.setVolume(e,t)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOpenBgm",{get:function(){return this._isOpenBgm},set:function(t){this._isOpenBgm=t,0==t&&this.stopBgm()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOpenEffect",{get:function(){return this._isOpenEffect},set:function(t){this._isOpenEffect=t,0==t&&this.stopEffect()},enumerable:!1,configurable:!0}),t.prototype.init=function(t){void 0===t&&(t={});for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];void 0!==this["_"+i]&&(this["_"+i]=t[i])}},t.prototype._loadAudio=function(t){var e=this;return new Promise(function(n,i){cc.resources.load(t,cc.AudioClip,function(o,a){if(o)return console.error(o.message||o),void i(o);console.warn("\u9884\u52a0\u8f7d\u6210\u529f!",a),e._allAudioInfo.has(t)||e._allAudioInfo.set(t,a),n(a)})})},t.prototype.preloadBgm=function(t){if(Array.isArray(t))for(var e=0,n=t;e<n.length;e++)n[e],this._loadAudio(this._AudioPath+"/"+this._BgmPath+"/"+t);else this._loadAudio(this._AudioPath+"/"+this._BgmPath+"/"+t)},t.prototype.preloadAllBgm=function(){var t=this;return new Promise(function(e,n){cc.resources.loadDir(t._AudioPath+"/"+t._BgmPath,function(i,o){if(void 0===o&&(o=[]),i)return console.error(i.message||i),void n(i);for(var a=0,r=o;a<r.length;a++){var s=r[a];t._loadAudio(s)}if(""==t._BgmDefault){var l=o[0].split("/");t._BgmDefault=l[l.length-1]}e(t._BgmDefault)})})},t.prototype.preloadEffect=function(t){if(Array.isArray(t))for(var e=0,n=t;e<n.length;e++)n[e],this._loadAudio(this._AudioPath+"/"+t);else this._loadAudio(this._AudioPath+"/"+t)},t.prototype.preloadAllEffect=function(){var t=this;cc.resources.loadDir(""+this._AudioPath,function(e,n){if(e)console.error(e.message||e);else for(var i=0,o=n;i<o.length;i++){var a=o[i];t._loadAudio(a)}})},t.prototype.preloadAll=function(){this.preloadAllBgm(),this.preloadAllEffect()},t.prototype._playBgm=function(t,e,n,i){var o=this;void 0===i&&(i=!1);var a="";!i&&(a=this._AudioPath+"/"+this._BgmPath+"/");var r=""+a+t,s=this._allAudioInfo.get(r);s?this._playBgmAndSet(s,e,n,r):(console.warn("\u8fd8\u6ca1\u52a0\u8f7d\u8fc7\uff0c\u5f00\u59cb\u52a0\u8f7d\u5e76\u64ad\u653e"),this._loadAudio(r).then(function(t){o._playBgmAndSet(t,e,n,r)}))},t.prototype._playFullUrlBgm=function(t,e,n){var i=this,o=this._AudioPath+"/"+this._BgmPath+"/"+t,a=this._allAudioInfo.get(o);a?this._playBgmAndSet(a,e,n,o):(console.warn("\u8fd8\u6ca1\u52a0\u8f7d\u8fc7\uff0c\u5f00\u59cb\u52a0\u8f7d\u5e76\u64ad\u653e"),this._loadAudio(o).then(function(t){i._playBgmAndSet(t,e,n,o)}))},t.prototype._playBgmAndSet=function(t,e,n,i){var o=this;this._BgmCanMultiple||this.stopBgm();var a=cc.audioEngine.play(t,e,n);this._playingBgm.set(i,a),cc.audioEngine.setFinishCallback(a,function(){o._playingBgm.delete(i)})},t.prototype.playBgm=function(t,e,n,i){var o=this;void 0===t&&(t=this._BgmDefault),void 0===e&&(e=this._BgmLoop),void 0===n&&(n=this._BgmVolume),void 0===i&&(i=!1),!this._isMute&&this.isOpenBgm&&(t?this._playBgm(t,e,n,i):(console.warn("\u5982\u679c\u8fd8\u6ca1\u6307\u5b9a\u9ed8\u8ba4\u64ad\u653e\u97f3\u4e50\u5c31\u52a8\u6001\u52a0\u8f7d"),this.preloadAllBgm().then(function(t){o._playBgm(t,e,n,i)})))},t.prototype.stopBgm=function(t){var e=this;if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var o=i[n];this._stopBgm(o)}else void 0===t?this._playingBgm.forEach(function(t,n){var i=n.split("/");e._stopBgm(i[i.length-1])}):this._stopBgm(t)},t.prototype._stopBgm=function(t){var e=this._BgmPath+"/"+t,n=this._playingBgm.get(e);cc.audioEngine.stop(n),this._playingBgm.delete(e)},t.prototype.pauseBgm=function(t){var e=this;if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var o=i[n];this._pauseBgm(o)}else void 0===t?this._playingBgm.forEach(function(t,n){var i=n.split("/");e._pauseBgm(i[i.length-1])}):this._pauseBgm(t)},t.prototype._pauseBgm=function(t){var e=this._AudioPath+"/"+this._BgmPath+"/"+t,n=this._playingBgm.get(e);cc.audioEngine.pause(n)},t.prototype.resumeBgm=function(t){var e=this;if(!this._isMute)if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var o=i[n];this._resumeBgm(o)}else void 0===t?this._playingBgm.forEach(function(t,n){var i=n.split("/");e._resumeBgm(i[i.length-1])}):this._resumeBgm(t)},t.prototype._resumeBgm=function(t){var e=this._AudioPath+"/"+this._BgmPath+"/"+t,n=this._playingBgm.get(e);cc.audioEngine.resume(n)},t.prototype.playEffect=function(t,e,n,i){var o=this;if(void 0===e&&(e=this._EffectLoop),void 0===n&&(n=this._EffectVolume),void 0===i&&(i=!1),!this._isMute&&0!=t.length&&this.isOpenEffect){var a="";!i&&(a=this._AudioPath+"/");var r=""+a+t,s=this._allAudioInfo.get(r);s?this._playEffectAndSet(s,e,n,r):(console.warn("Effect\u8fd8\u6ca1\u52a0\u8f7d\u8fc7\uff0c\u5f00\u59cb\u52a0\u8f7d\u5e76\u64ad\u653e"),this._loadAudio(r).then(function(t){o._playEffectAndSet(t,e,n,r)}))}},t.prototype._playEffectAndSet=function(t,e,n,i){var o=this;this._EffectCanMultiple||this.stopEffect();var a=cc.audioEngine.play(t,e,n);this._playingEffect.set(i,a),cc.audioEngine.setFinishCallback(a,function(){o._playingEffect.delete(i)})},t.prototype.stopEffect=function(t){var e=this;if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var o=i[n];this._stopEffect(o)}else void 0===t?this._playingEffect.forEach(function(t,n){e._stopEffect(n)}):this._stopEffect(t)},t.prototype._stopEffect=function(t){var e=t,n=this._playingEffect.get(e);cc.audioEngine.stop(n),this._playingEffect.delete(e)},t.prototype.pauseEffect=function(t){var e=this;if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var o=i[n];this._pauseEffect(o)}else void 0===t?this._playingEffect.forEach(function(t,n){var i=n.split("/");e._pauseEffect(i[i.length-1])}):this._pauseEffect(t)},t.prototype._pauseEffect=function(t){var e=this._AudioPath+"/"+t,n=this._playingEffect.get(e);cc.audioEngine.pause(n)},t.prototype.resumeEffect=function(t){var e=this;if(!this._isMute)if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var o=i[n];this._resumeEffect(o)}else void 0===t?this._playingEffect.forEach(function(t,n){var i=n.split("/");e._resumeEffect(i[i.length-1])}):this._resumeEffect(t)},t.prototype._resumeEffect=function(t){var e=this._AudioPath+"/"+t,n=this._playingEffect.get(e);cc.audioEngine.resume(n)},t.prototype.stopAll=function(){this.stopBgm(),this.stopEffect()},t.prototype.pauseAll=function(){this.pauseBgm(),this.pauseEffect()},t.prototype.resumeAll=function(){this._isMute||(this.resumeBgm(),this.resumeEffect())},t.prototype.setAudioMode=function(t){this._isMute=t,this._isMute?this.pauseAll():this.resumeAll()},t.prototype.audioModeChange=function(){var t=!this._isMute;return this.setAudioMode(t),t},t.prototype.getIsMute=function(){return this._isMute},t}());window.GAudio=n,cc._RF.pop()},{}],GEventName:[function(t,e){"use strict";cc._RF.push(e,"05d80+i9URFgIvyEdEt7RqQ","GEventName");var n=new function(){this.UpdateGold=Symbol(),this.UpdateDiamond=Symbol(),this.UpdatePoewrpoewr=Symbol(),this.UpdateReviveCoin=Symbol(),this.UpdateName=Symbol(),this.UpdateWarPower=Symbol(),this.UpdateheadIcon=Symbol(),this.LoadViewComplete=Symbol(),this.ViewHide=Symbol(),this.ServersDataSuc=Symbol(),this.DataLoadSuc=Symbol(),this.ClearServersData=Symbol(),this.SaveUserDataLocal=Symbol(),this.ShowEquipOrItemInfo=Symbol(),this.ResetBagUI=Symbol(),this.DeletEquip=Symbol(),this.DeletEquips=Symbol(),this.SendEquipInfo=Symbol(),this.Hero={HeroLvUp:Symbol(),HeroGetExp:Symbol()},this.CombatEvents={CollisionDoor:Symbol(),EnemyStartDie:Symbol(),EnemyDie:Symbol(),Pause:Symbol(),Recover:Symbol(),Revive:Symbol(),PlayerDie:Symbol(),DoubleHit:Symbol(),RFSKillUI:Symbol(),HitEnemy:Symbol(),DestroyData:Symbol(),CreatObjectSummon:Symbol(),GameFailed:Symbol(),AdTimeScale:Symbol(),HitTimeScale:Symbol(),ReleaseJuxing:Symbol(),onGetDrop:Symbol(),CDSuc:Symbol(),onCollBlackHole:Symbol(),BlackHoleHpDrop:Symbol(),SetCameraLimit:Symbol(),TowerNextLayer:Symbol(),Recorder:Symbol(),ShowDark:Symbol(),HideDark:Symbol()},this.Tower={Task:Symbol()},this.ServerEvents={UpdateServerTime:Symbol()},this.BagEvent={onUpdateBagDataToLocal:Symbol()},this.ChangeViewTitle=Symbol(),this.OpenFreeBox=Symbol(),this.OpenAdBox=Symbol(),this.SkillEvent={unLockSkill:Symbol(),skillUp:Symbol()},this.Task={FinishTask:Symbol(),NewTask:Symbol(),GetReward:Symbol(),ProgressChange:Symbol(),ActorLvUp:Symbol(),EqiupPowerUp:Symbol(),PassMap:Symbol(),LoginGame:Symbol(),Resolve:Symbol(),WatchVideo:Symbol(),OpenPot:Symbol(),StartGame:Symbol(),UsePower:Symbol(),PowerUpEquip:Symbol(),WxShare:Symbol()},this.updateActor=Symbol(),this.AddBagPage=Symbol(),this.AddBoxPage=Symbol(),this.fashionTryEnd=Symbol(),this.SignInSuc=Symbol(),this.updateVIP=Symbol(),this.shopBuySuc=Symbol(),this.hideBagInfo=Symbol(),this.hideBag=Symbol(),this.RefreshPassLvReward=Symbol(),this.addTripleExp=Symbol(),this.checkHaveMail=Symbol(),this.ReflashTower=Symbol(),this.MSTask={FinishTask:Symbol(),NewTask:Symbol(),GetReward:Symbol(),ProgressChange:Symbol(),DeathTower:Symbol(),itemExchange:Symbol(),WxShare:Symbol()},this.AdTTAddDesktop=Symbol()};window.GEventName=n,cc._RF.pop()},{}],GEvent:[function(t,e){"use strict";cc._RF.push(e,"e25f5Cj541NrJxyX/RBUpvx","GEvent");var n=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,o++)i[o]=a[r];return i},i=new(function(){function t(){this._allEventInfo=new Map,this._allContextInfo=new Map}return t.prototype.on=function(t,e,n){"function"==typeof e?(this._allContextInfo.has(n)||this._allContextInfo.set(n,[]),this._allContextInfo.get(n).push(t),this._allEventInfo.has(t)||this._allEventInfo.set(t,new Map),this._allEventInfo.get(t).set(n,{handler:e,context:n})):console.error("\u6ca1\u6709\u4e8b\u4ef6\u54cd\u5e94\u51fd\u6570\uff01")},t.prototype.onByArray=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];this.on(o,e[o],e)}},t.prototype.off=function(t,e){this._allEventInfo.has(t)?this._allEventInfo.get(t).delete(e):console.warn("\u4e8b\u4ef6\u5df2\u7ecf\u5173\u95ed\u76d1\u542c\u6216\u4ece\u672a\u5f00\u59cb\u76d1\u542c\uff01")},t.prototype.offAll=function(t){this._allContextInfo.has(t)||console.warn("\u5f53\u524d\u811a\u672c\u4e8b\u4ef6\u5df2\u7ecf\u5173\u95ed\u76d1\u542c\u6216\u4ece\u672a\u5f00\u59cb\u76d1\u542c\uff01");var e=this._allContextInfo.get(t);if(Array.isArray(e))for(var n=0,i=e;n<i.length;n++){var o=i[n];this.off(o,t)}this._allContextInfo.delete(t)},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=this._allEventInfo.get(t);o?o.forEach(function(t){var i;return(i=t.handler).call.apply(i,n([t.context],e))}):console.warn("\u8fd8\u6ca1\u6709\u6dfb\u52a0\u5bf9\u5e94\u7684\u4e8b\u4ef6\u76d1\u542c!")},t}());window.GEvent=i,cc._RF.pop()},{}],GInterface:[function(t,e){"use strict";cc._RF.push(e,"99571u76KhB3q4zviPJXEFJ","GInterface"),cc._RF.pop()},{}],GMath:[function(t,e){"use strict";cc._RF.push(e,"87c6fJ6C+RIyrxFW5Pkxh8z","GMath");var n=new(function(){function t(){}return t.prototype.parabolaABC=function(t){var e=t[0],n=t[1],i=t[2],o=e.x,a=e.y,r=n.x,s=n.y,l=i.x,c=i.y;return{a:-((s-c)*o-(r-l)*a+r*c-l*s)/((r-l)*(o-r)*(o-l)),b:((s-c)*o*o+r*r*c-l*l*s-(r*r-l*l)*a)/((r-l)*(o-r)*(o-l)),c:((r*c-l*s)*o*o-(r*r*c-l*l*s)*o+(r*r*l-r*l*l)*a)/((r-l)*(o-r)*(o-l))}},t.prototype.Parabola=function(t,e,n,i){var o=t*i*i+e*i+n;return cc.v3(i,o)},t.prototype.circle=function(t,e,n){var i=t.x+e*Math.cos(n),o=t.y+e*Math.sin(n);return cc.v3(i,o)},t.prototype.GetBetweenPoint=function(t,e,n){void 0===n&&(n=.5);var i=e.sub(t).normalize(),o=cc.Vec3.distance(t,e);return i.mul(o*n).add(t)},t.prototype.vecTransformAngle=function(t){return 180*Math.atan(t.y/t.x)/Math.PI},t.prototype.vecTransformWorldAngle=function(t){var e=180*Math.atan(t.y/t.x)/Math.PI;return t.x>=0&&t.y>=0||(t.x<=0&&t.y>=0?e+=180:t.x<=0&&t.y<=0?e+=180:t.x>=0&&t.y<=0&&(e+=360)),e},t.prototype.vecTransformAngle1=function(t){return 180*Math.asin(t.x/t.mag())/Math.PI},t.prototype.angleTransformRadian=function(t){return t*Math.PI/180},t.prototype.getDist_P2L_zhengfu=function(t,e,n){var i,o,a;return i=e.y-n.y,o=n.x-e.x,a=e.x*n.y-e.y*n.x,t.x>-(o*t.y+a)/i?Math.abs(i*t.x+o*t.y+a)/Math.sqrt(i*i+o*o):-Math.abs(i*t.x+o*t.y+a)/Math.sqrt(i*i+o*o)},t}());window.GMath=n,cc._RF.pop()},{}],GUserData:[function(t,e){"use strict";cc._RF.push(e,"b3023qkN4RMY4Rwn5OyLbq/","GUserData");var n=function(t){this.name="",this.gold=12e3,this.diamond=0,this.poewrpoewr=30,this.extrapoewr=0,this.reviveCoin=0,this.powerTime=0,"object"==typeof t&&Object.assign(this,t)},i=function(t){this.id=-1,this.openExemptSkillAd=!1,this.exemptcount=0,"object"==typeof t&&Object.assign(this,t)},o=function(){function t(t){if(this.name="",this.id=-1,this.lv=1,this.exp=0,this.headIconUrl=0,this.roleSkillDataList=[],"object"==typeof t&&(Object.assign(this,t),this.roleSkillDataList=[],null!=t.roleSkillDataList&&"object"==typeof t.roleSkillDataList))for(var e in t.roleSkillDataList)this.checkDataSame(t.roleSkillDataList[e].id)||this.roleSkillDataList.push(new i(t.roleSkillDataList[e]))}return t.prototype.checkDataSame=function(t){var e=!1;return this.roleSkillDataList.forEach(function(n){n.id!=t||(e=!0)}),e},t.prototype.getRoleSkill=function(t,e){void 0===e&&(e=!1);var n=null;return this.roleSkillDataList.forEach(function(e){e.id!=t||(n=e)}),e&&!n&&(n=new i({id:t})),n},t.prototype.addZDRoleSkillData=function(t){if(this.checkDataSame(t))return null;this.roleSkillDataList.push(new i({id:t}))},t}(),a=function(){function t(t){if(this.UserRoleDatas=[],"object"==typeof t){if(Object.assign(this,t),null!=t.UserRoleDatas&&"object"==typeof t.UserRoleDatas)for(var e in this.UserRoleDatas=[],t.UserRoleDatas)this.UserRoleDatas.push(new o(t.UserRoleDatas[e]))}else this.UserRoleDatas.push(new o({name:"\u73a9\u5bb6",id:0}))}return t.prototype.getIdRoleData=function(t){return void 0===t&&(t=0),null==this.UserRoleDatas[0]&&this.UserRoleDatas.push(new o({name:"\u73a9\u5bb6",id:0})),this.UserRoleDatas[0]},t}(),r=function(t){this.last_signin_time=0,this.signin_day_coun=0,"object"==typeof t&&Object.assign(this,t)},s=function(t){this.lastLoginTime=0,this.offLineTime=0,this.isShareNotice=!1,this.bagEquipUnlockPage=1,this.bagItemUnlocakPage=1,this.isGetCustomerReward=!1,this.fashionVideoCount=[0,0,0],this.isHeadIconVIP=!1,this.isMissAD1=!1,this.isFirstLaunchDesktop=!1,this.isDailyLaunchDesktop=!1,this.isFirstFollow=!1,this.isUnlockMJTask=!1,this.enterFromDesktop=0,this.todayFromDesktop=!1,this.guanzhuDouyin=!1,this.mojianAdLastTime=0,this.mojianTodayTimes=0,this.isFirstEnter=!1,this.passPrivacy=!1,"object"==typeof t&&Object.assign(this,t)},l=function(t){this.isExemptAD=!1,this.getExemptAdTime=0,this.ExemptAdTime=0,"object"==typeof t&&Object.assign(this,t)},c=function(t){this.GameExemptAdData=new l,"object"==typeof t&&(Object.assign(this,t),null!=t.GameExemptAdData&&(this.GameExemptAdData=new l(t.GameExemptAdData)))},u=function(t){this.itemallcount=0,"object"==typeof t&&Object.assign(this,t)},p=function(t){this.lastOpenTime=0,this.openCount=0,this.maxCount=5,this.timeInterval=6e5,"object"==typeof t&&Object.assign(this,t)},d=function(t){this.wuziPotData=new p,this.highPotData=new p,this.zhencangPotData=new p,this.isFirstOpenTen=!1,"object"==typeof t&&(null!=t.wuziPotData&&"object"==typeof t.wuziPotData&&(this.wuziPotData=new p(t.wuziPotData)),null!=t.highPotData&&"object"==typeof t.highPotData&&(this.highPotData=new p(t.highPotData)),null!=t.zhencangPotData&&"object"==typeof t.zhencangPotData&&(this.zhencangPotData=new p(t.zhencangPotData)),Object.assign(this,t))},f=function(t){this.isWhiteVIP=!1,this.isColorVIP=!1,"object"==typeof t&&Object.assign(this,t)},h=function(t){this.chapter=1,this.level=1,this.score=0,this.unlock=!1,this.passDifficulty=[],this.isFreePassReward=!1,this.isAdPassReward=!1,"object"==typeof t&&Object.assign(this,t)},y=function(){function t(t){if(this.ClassicsLVDataList=[],"object"==typeof t&&null!=t.ClassicsLVDataList&&"object"==typeof t.ClassicsLVDataList)for(var e in t.ClassicsLVDataList)this.pushClassicsLVDataList(t.ClassicsLVDataList[e])}return t.prototype.pushClassicsLVDataList=function(t){var e=new h(t);this.checkChaterLevelSame(e.chapter,e.level)?console.log("\u53d1\u751f\u76f8\u540c\u6570\u636e\u4e0d\u7ed9\u4e88\u4fdd\u5b58"):this.ClassicsLVDataList.push(e)},t.prototype.checkChaterLevelSame=function(t,e){var n=!1;return this.ClassicsLVDataList.forEach(function(i){i.chapter==t&&i.level==e&&(n=!0)}),n},t.prototype.addClassicsChapterLvData=function(t,e,n,i,o){void 0===n&&(n=!0);var a=new h({chapter:t,level:e,unlock:n,passDifficulty:i,score:o});this.pushClassicsLVDataList(a)},t}(),g=function(t){this.id=-1,this.start=!1,this.end=!1,this.index=0,"object"==typeof t&&Object.assign(this,t)},m=function(){function t(t){if(this.GuideDataList=[],"object"==typeof t&&null!=t.GuideDataList&&"object"==typeof t.GuideDataList)for(var e in t.GuideDataList)this.pushData(t.GuideDataList[e])}return t.prototype.pushData=function(t){var e=new g(t);this.checkGuideDataSame(e)?console.log("\u53d1\u751f\u76f8\u540c\u6570\u636e\u4e0d\u7ed9\u4e88\u4fdd\u5b58"):this.GuideDataList.push(e)},t.prototype.checkGuideDataSame=function(t){var e=!1;return this.GuideDataList.forEach(function(n){n.id==t.id&&(e=!0)}),e},t}(),v=function(t){this.isMusic=!0,this.isEffect=!0,this.isShock=!0,this.isRocker=!0,"object"==typeof t&&Object.assign(this,t)},_=function(t){"object"==typeof t&&Object.assign(this,t)},b=function(t){this.fashionunlockcount=0,"object"==typeof t&&Object.assign(this,t)},k=function(t){"object"==typeof t&&Object.assign(this,t)},S=function(t){this.gameCopyCount=[],"object"==typeof t&&Object.assign(this,t)},w=function(t){this.listcdkids=[],"object"==typeof t&&Object.assign(this,t)},T=function(t,e){this.invitee_openids=[],this.gettime=0,this.invitee_openids=t,this.gettime=e},C=function(){function t(t){if(this.id=-1,this.inviteeOpenIDDatas=[],"object"==typeof t&&(Object.assign(this,t),this.inviteeOpenIDDatas=[],null!=t.inviteeOpenIDDatas&&"object"==typeof t.inviteeOpenIDDatas))for(var e in t.inviteeOpenIDDatas)this.pushData(t.inviteeOpenIDDatas[e].invitee_openids,t.inviteeOpenIDDatas[e].gettime)}return t.prototype.pushData=function(t,e){var n=new T(t,e);this.checkInviteeDataSame(n)?console.log("\u53d1\u751f\u76f8\u540c\u6570\u636e\u4e0d\u7ed9\u4e88\u4fdd\u5b58"):this.inviteeOpenIDDatas.push(n)},t.prototype.checkInviteeDataSame=function(t){var e=!1;return this.inviteeOpenIDDatas.forEach(function(n){n.invitee_openids==t.invitee_openids&&(e=!0)}),e},t}(),D=function(){function t(t){if(this.InviterDataList=[],"object"==typeof t&&(Object.assign(this,t),this.InviterDataList=[],null!=t.InviterDataList&&"object"==typeof t.InviterDataList))for(var e in t.InviterDataList)this.checkDataSame(t.InviterDataList[e].id)||this.InviterDataList.push(new C(t.InviterDataList[e]))}return t.prototype.checkDataSame=function(t){var e=!1;return this.InviterDataList.forEach(function(n){n.id!=t||(e=!0)}),e},t.prototype.getInviterIdData=function(t,e){void 0===e&&(e=!1);var n=null;return this.InviterDataList.forEach(function(e){e.id!=t||(n=e)}),e&&!n&&(n=new C({id:t}),this.InviterDataList.push(n)),n},t.prototype.addNewInviterData=function(t,e){if(void 0===e&&(e=0),this.checkDataSame(t))return null;this.InviterDataList.push(new C({id:t,getcoutn:e}))},t.prototype.getIDMaxGetTime=function(t){var e=0;return this.InviterDataList.forEach(function(n){n.id==t&&n.inviteeOpenIDDatas.forEach(function(t){t.gettime>e&&(e=t.gettime)})}),e},t}(),E=function(t){this.id=-1,this.Videocount=0,"object"==typeof t&&Object.assign(this,t)},I=function(t){this.id=-1,this.count=0,this.amount=0,this.hasBuy=!1,"object"==typeof t&&Object.assign(this,t)},P=function(t){this.id=-1,this.beastTime=0,this.challengeCount=2,this.adtimes=2,"object"==typeof t&&Object.assign(this,t)},M=function(){function t(t){this.ShopDataList=[],this.bossDataList=[],this.lastfreshTime=0,this.adfreshTimes=2,"object"==typeof t&&Object.assign(this,t)}return t.prototype.pushData=function(t){this.ShopDataList.push(new I(t))},t.prototype.pushBossData=function(t){this.bossDataList.push(new P(t))},t}(),L=function(t){this.id=-1,this.getcount=0,this.onClickCount=0,this.countDown=-1,"object"==typeof t&&Object.assign(this,t)},A=function(){function t(t){this.ShopDataList=[],this.VideoDataList=[],this.UnlockShopVideo=0,"object"==typeof t&&Object.assign(this,t)}return t.prototype.checkDataSame=function(t){var e=!1;return this.ShopDataList.forEach(function(n){n.id!=t||(e=!0)}),e},t.prototype.getShopIdData=function(t,e){void 0===e&&(e=!1);var n=null;return this.ShopDataList.forEach(function(e){e.id!=t||(n=e)}),e&&!n&&(n=new L({id:t})),n},t.prototype.addShopIdrData=function(t){if(this.checkDataSame(t))return null;this.ShopDataList.push(new L({id:t}))},t.prototype.getVideoIdData=function(t){var e=null;return this.VideoDataList.forEach(function(n){n.id!=t||(e=n)}),!e&&(e=new E({id:t}),this.VideoDataList.push(e)),e},t.prototype.addVideoIdData=function(t,e){this.getVideoIdData(t).Videocount+=e},t}(),R=function(t){this.isHaveList=[[0,0,0,0,0,0,0,0,0,0],[0,0]],this.equipingList=[-1,-1],"object"==typeof t&&Object.assign(this,t)},O=function(t){this.dayCount=0,this.lastSignTime=0,"object"==typeof t&&Object.assign(this,t)},x=function(t){this.dayCount=0,this.lastSignTime=0,"object"==typeof t&&Object.assign(this,t)},N=function(t){this.playCount=[0,0,0,0,0,0],this.lastSignTime=0,"object"==typeof t&&Object.assign(this,t)},B=function(t){this.dayCount=3,this.adCount=0,"object"==typeof t&&Object.assign(this,t)},G=function(t){this.type=-1,this.id=-1,this.videoCount=0,this.countDown=-1,"object"==typeof t&&Object.assign(this,t)},F=function(){function t(t){this.BtShopDataList=[],"object"==typeof t&&Object.assign(this,t)}return t.prototype.checkDataSame=function(t,e){var n=!1;return this.BtShopDataList.forEach(function(i){i.type!=t||i.id!=e||(n=!0)}),n},t.prototype.getShopIdData=function(t,e,n){void 0===n&&(n=!1);var i=null;return this.BtShopDataList.forEach(function(n){n.type!=t||n.id!=e||(i=n)}),n&&!i&&(i=new G({type:t,id:e})),i},t.prototype.addShopIdrData=function(t,e){if(this.checkDataSame(t,e))return null;this.BtShopDataList.push(new G({type:t,id:e}))},t}(),j=function(t){this.id=-1,"object"==typeof t&&Object.assign(this,t)},V=function(){function t(t){if(this.unlockTitleList=[],this.curweartitleId=-1,this.actVideoCount=0,"object"==typeof t&&(Object.assign(this,t),this.unlockTitleList=[],null!=t.unlockTitleList&&"object"==typeof t.unlockTitleList))for(var e in t.unlockTitleList)this.checkDataSame(t.unlockTitleList[e].id)||this.unlockTitleList.push(new j(t.unlockTitleList[e]))}return t.prototype.checkDataSame=function(t){var e=!1;return this.unlockTitleList.forEach(function(n){n.id!=t||(e=!0)}),e},t.prototype.addUnlockTitleIdData=function(t){if(this.checkDataSame(t))return null;this.unlockTitleList.push(new j({id:t}))},t}(),H=function(t){this.id=-1,this.taskpro=0,this.getTaskReward=0,"object"==typeof t&&Object.assign(this,t)},U=function(){function t(t){if(this.intoTower=0,this.maxpassLayer=1,this.TowerVideoTime=-1,this.curLayer=1,this.enterTowerCount=0,this.videoRfTowerCount=0,this.sweepTowerCount=0,this.sweepVideoTime=-1,this.TowerTaskDataList=[],"object"==typeof t&&(Object.assign(this,t),this.TowerTaskDataList=[],null!=t.TowerTaskDataList&&"object"==typeof t.TowerTaskDataList))for(var e in t.TowerTaskDataList)this.checkDataSame(t.TowerTaskDataList[e].id)||this.TowerTaskDataList.push(new H(t.TowerTaskDataList[e]))}return t.prototype.checkDataSame=function(t){var e=!1;return this.TowerTaskDataList.forEach(function(n){n.id!=t||(e=!0)}),e},t.prototype.getTowerTaskDataIdData=function(t,e){void 0===e&&(e=!1);var n=null;return this.TowerTaskDataList.forEach(function(e){e.id!=t||(n=e)}),e&&!n&&(n=new H({id:t}),this.TowerTaskDataList.push(n)),null==n&&(n=new H({id:t})),n},t}(),q=function(t){this.isFinish=!1,this.isGetReward=!1,this.count=0,this.videoOrInviteCount=0,"object"==typeof t&&Object.assign(this,t)},Y=function(){function t(t){if(this.isFristEnter=!1,this.msUnlockVideoCount=0,this.msLvUpVideoCount=0,this.meUnlockVideoCount=0,this.METaskDataList=[],this.MSTaskDataList=[],"object"==typeof t){if(Object.assign(this,t),this.METaskDataList=[],null!=t.METaskDataList&&"object"==typeof t.METaskDataList)for(var e in t.METaskDataList)this.checkDataSame(this.METaskDataList,t.METaskDataList[e].id)||this.METaskDataList.push(new q(t.METaskDataList[e]));if(this.MSTaskDataList=[],null!=t.MSTaskDataList&&"object"==typeof t.MSTaskDataList)for(var e in t.MSTaskDataList)this.checkDataSame(this.MSTaskDataList,t.MSTaskDataList[e].id)||this.MSTaskDataList.push(new q(t.MSTaskDataList[e]))}}return t.prototype.checkDataSame=function(t,e){var n=!1;return t.forEach(function(t){t.id!=e||(n=!0)}),n},t.prototype.getMETaskData=function(t,e){void 0===e&&(e=!1);var n=null;return this.METaskDataList.forEach(function(e){e.id!=t||(n=e)}),e&&!n&&(n=new q({id:t}),this.METaskDataList.push(n)),n},t.prototype.getMSTaskData=function(t,e){void 0===e&&(e=!1);var n=null;return this.MSTaskDataList.forEach(function(e){e.id!=t||(n=e)}),e&&!n&&(n=new q({id:t}),this.MSTaskDataList.push(n)),n},t}(),K=function(t){this.totalOpenCount=0,this.dayOpenCount=0,this.virtualInviteCount=0,"object"==typeof t&&Object.assign(this,t)},W=function(t){this.todayPumpkinCount=0,this.duihuanchishu=[0,0,0,0,0],this.qimiaowanshenjie=[0,0,0,0,0],this.curGetZhuliNum=0,this.todayZhuliNum=0,this.mianfeiPumpkin=0,"object"==typeof t&&Object.assign(this,t)},z=function(t){this.redBagState=[!1,!1,!1,!1,!1],this.todayRedBagReward=[],this.totalRedBagCount=0,this.springFragmentCount=0,this.servertime=-1,"object"==typeof t&&Object.assign(this,t)},J=new(function(){function t(){this.Key="UserData",this.Keycount=1,this.defaultData()}return t.prototype.defaultData=function(){this.CommonUserData=new n,this.RoleDataMgr=new a,this.SinginData=new r,this.GameStatistics=new s,this.BagLocalData=new u,this.OpenPotDataMgr=new d,this.VIPLocalData=new f,this.SettingData=new v,this.ModeLVDataMgr=new y,this.SkillLocalData=new _,this.FashionData=new b,this.TaskLocalData=new k,this.GuideDataMgr=new m,this.GameCopyData=new S,this.CDKData=new w,this.InviterDataMgr=new D,this.ShopDataMgr=new A,this.FashionSkinData=new R,this.XsGiftData=new O,this.KfGiftData=new x,this.ShiwanGiftData=new N,this.GameBusinessDataMgr=new c,this.TripleExpData=new B,this.BtShopDataMgr=new F,this.HeroTitleDataMgr=new V,this.TowerDataMgr=new U,this.MagicSwordMgr=new Y,this.JLZDataMgr=new K,this.ActivityDataMgr=new W,this.EvilShopDataMgr=new M,this.SpringDataMgr=new z},t.prototype.initData=function(t){this.defaultData(),null!=t&&"object"==typeof t&&(null!=t.Key&&t.Key!=this.Key||(null!=t.Keycount&&(this.Keycount=parseInt(t.Keycount),this.Keycount++),null!=t.CommonUserData&&"object"==typeof t.CommonUserData&&(this.CommonUserData=new n(t.CommonUserData)),null==t.SinginData&&"object"!=typeof t.SinginData||(this.SinginData=new r(t.SinginData)),null==t.GameStatistics&&"object"!=typeof t.GameStatistics||(this.GameStatistics=new s(t.GameStatistics)),null==t.BagLocalData&&"object"!=typeof t.BagLocalData||(this.BagLocalData=new u(t.BagLocalData)),null==t.OpenPotDataMgr&&"object"!=typeof t.OpenPotDataMgr||(this.OpenPotDataMgr=new d(t.OpenPotDataMgr)),null==t.VIPLocalData&&"object"!=typeof t.VIPLocalData||(this.VIPLocalData=new f(t.VIPLocalData)),null==t.RoleDataMgr&&"object"!=typeof t.RoleDataMgr||(this.RoleDataMgr=new a(t.RoleDataMgr)),null==t.SettingData&&"object"!=typeof t.SettingData||(this.SettingData=new v(t.SettingData)),null==t.ModeLVDataMgr&&"object"!=typeof t.ModeLVDataMgr||(this.ModeLVDataMgr=new y(t.ModeLVDataMgr)),null==t.SkillLocalData&&"object"!=typeof t.SkillLocalData||(this.SkillLocalData=new _(t.SkillLocalData)),null==t.FashionData&&"object"!=typeof t.FashionData||(this.FashionData=new b(t.FashionData)),null==t.TaskLocalData&&"object"!=typeof t.TaskLocalData||(this.TaskLocalData=new k(t.TaskLocalData)),null==t.GuideDataMgr&&"object"!=typeof t.GuideDataMgr||(this.GuideDataMgr=new m(t.GuideDataMgr)),null==t.GameCopyData&&"object"!=typeof t.GameCopyData||(this.GameCopyData=new S(t.GameCopyData)),null==t.CDKData&&"object"!=typeof t.CDKData||(this.CDKData=new w(t.CDKData)),null==t.InviterDataMgr&&"object"!=typeof t.InviterDataMgr||(this.InviterDataMgr=new D(t.InviterDataMgr)),null==t.ShopDataMgr&&"object"!=typeof t.ShopDataMgr||(this.ShopDataMgr=new A(t.ShopDataMgr)),null==t.FashionSkinData&&"object"!=typeof t.FashionSkinData||(this.FashionSkinData=new R(t.FashionSkinData)),null==t.XsGiftData&&"object"!=typeof t.XsGiftData||(this.XsGiftData=new O(t.XsGiftData)),null==t.KfGiftData&&"object"!=typeof t.KfGiftData||(this.KfGiftData=new x(t.KfGiftData)),null==t.ShiwanGiftData&&"object"!=typeof t.ShiwanGiftData||(this.ShiwanGiftData=new N(t.ShiwanGiftData)),null==t.GameBusinessDataMgr&&"object"!=typeof t.GameBusinessDataMgr||(this.GameBusinessDataMgr=new c(t.GameBusinessDataMgr)),null==t.TripleExpData&&"object"!=typeof t.TripleExpData||(this.TripleExpData=new B(t.TripleExpData)),null==t.BtShopDataMgr&&"object"!=typeof t.BtShopDataMgr||(this.BtShopDataMgr=new F(t.BtShopDataMgr)),null==t.HeroTitleDataMgr&&"object"!=typeof t.HeroTitleDataMgr||(this.HeroTitleDataMgr=new V(t.HeroTitleDataMgr)),null==t.TowerDataMgr&&"object"!=typeof t.HeroTitleDataMgr||(this.TowerDataMgr=new U(t.TowerDataMgr)),null==t.MagicSwordMgr&&"object"!=typeof t.MagicSwordMgr||(this.MagicSwordMgr=new Y(t.MagicSwordMgr)),null==t.JLZDataMgr&&"object"!=typeof t.JLZDataMgr||(this.JLZDataMgr=new K(t.JLZDataMgr)),null==t.ActivityDataMgr&&"object"!=typeof t.ActivityDataMgr||(this.ActivityDataMgr=new W(t.ActivityDataMgr)),null==t.EvilShopDataMgr&&"object"!=typeof t.EvilShopDataMgr||(this.EvilShopDataMgr=new M(t.EvilShopDataMgr)),null==t.SpringDataMgr&&"object"!=typeof t.SpringDataMgr||(this.SpringDataMgr=new z(t.SpringDataMgr))))},t.prototype.getIdRoleData=function(t){return void 0===t&&(t=0),this.RoleDataMgr.getIdRoleData(t)},t.prototype.SAVEDATA=function(t,e){var n=JSON.stringify(e);cc.sys.localStorage.setItem(t,n)},t.prototype.GETDATA=function(t){var e=null,n=cc.sys.localStorage.getItem(t);if("object"==typeof n)return n;try{e=JSON.parse(n)}catch(i){e=null}return e},t.prototype.clearAllData=function(){cc.sys.localStorage.removeItem(J.Key),cc.sys.localStorage.clear()},t}());window.GUserData=J,cc._RF.pop()},{}],GameBusinessDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"8aae1PMQSpMKLazkDPXFzSb","GameBusinessDataManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameStatsManager"),r=i("ServerCommonCfgMgr"),s=function(){function t(){this.GameBusinessDataMgr=null,this.GameExemptAdData=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExemptAD",{get:function(){return this.GameExemptAdData.isExemptAD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getExemptAdTime",{get:function(){return this.GameExemptAdData.getExemptAdTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ExemptAdTime",{get:function(){return this.GameExemptAdData.ExemptAdTime<432e6?this.GameExemptAdData.ExemptAdTime:864e5},set:function(t){this.GameExemptAdData.ExemptAdTime=t,this.GameExemptAdData.ExemptAdTime>=432e6&&(this.GameExemptAdData.ExemptAdTime=864e5)},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.GameBusinessDataMgr=t,this.initGameExemptAdData(this.GameBusinessDataMgr.GameExemptAdData)},t.prototype.initGameExemptAdData=function(t){var e=this;if(this.GameExemptAdData=t,this.isExemptAD){var n=this.getExemptAdTime+this.ExemptAdTime;r.default.getLoginTime().then(function(t){t&&t>=n&&e.setIsExemptAD(0)})}a.default.instance.isMissAD&&(a.default.instance.isMissAD=!1,this.setIsExemptAD(1))},t.prototype.setIsExemptAD=function(t,e){var n=this;void 0===e&&(e=864e5),this.GameExemptAdData.isExemptAD=t,this.GameExemptAdData.isExemptAD?r.default.getServerTime().then(function(t){t&&(n.GameExemptAdData.getExemptAdTime=t,n.ExemptAdTime+=e)}):(this.GameExemptAdData.getExemptAdTime=0,this.ExemptAdTime=0)},t}();o.default=s,cc._RF.pop()},{}],GameCalculate:[function(t,e,n){"use strict";cc._RF.push(e,"6ec18XKAGBNIb1q2HpoNGtW","GameCalculate");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("EntryType"),r=i("DamageType"),s=i("CurrencyType"),l=i("BagManager"),c=i("FashionManager"),u=i("GameData"),p=i("RewardType"),d=i("LvType"),f=i("Equipment"),h=i("BuffData"),y=i("Buff"),g=i("CommonDataMgr"),m=i("SkillManager"),v=i("RoleCfgManager"),_=i("StateId"),b=i("VIPManager"),k=i("FashionSkinDataManger"),S=i("TripleExpDataManger"),w=i("HeroTitleDataManger"),T=function(){function t(){}return t.SafetyCheck=function(){var t=l.default.Init.Equiping;for(var e in t)for(var n in t[e])if(null!==t[e][n]&&t[e][n].PowerLv>25)return console.log("\u88c5\u5907\u5f3a\u5316\u7b49\u7ea7\u4e0d\u5bf9"),!1;var i=l.default.Init.EquipBag;for(var e in i)if(null!==i[e].Equip&&i[e].Equip.PowerLv>25)return console.log("\u88c5\u5907\u5f3a\u5316\u7b49\u7ea7\u4e0d\u5bf9"),!1;var o=l.default.Init.ItemBag;for(var e in o)if(null!==o[e].Item&&o[e].count>Number.MAX_VALUE-1)return console.log("\u6750\u6599\u6570\u91cf\u4e0d\u5bf9"),!1;return!0},t.GetSkillMoveRuntimeData=function(t){for(var e=[],n=0;n<t.length;n++)e.push({control_dir:t[n].control_dir,move_dir:t[n].move_dir,dir:t[n].dir,dis:t[n].dis,start:t[n].start,fps:t[n].fps,freeze_y:null!=t[n].freeze_y&&t[n].freeze_y});return e},t.GetPlayerAttackInfo=function(t,e,n,i,o,a,s,l){for(var c,u=[],p=0;p<t.length;p++)-1!=t[p]&&(c={atk:n,ignore_atk:0,skill_persent:t[p].damage+l*t[p].lv_percent,cri:i,hitrate:o,equip_up_damage:a,miss_damage:s,type:r.DamageType.DAMAGE},u[p]={hash:(100*Math.random()).toString(36),hit_path:e,is_move:t[p].is_move,move:t[p].is_move?this.GetSkillMoveRuntimeData(t[p].move):null,is_fly:t[p].is_fly,fly_force:t[p].is_fly?t[p].fly_force:0,rigidity_fps:t[p].rigidity_fps,damageinfo:c,buffs:new Array,play_anim:!0});return u},t.CopyAttackInfo=function(t){var e,n=JSON.parse(JSON.stringify(t.damageinfo));return e=t.buffs?JSON.parse(JSON.stringify(t.buffs)):null,{hash:t.hash,hit_path:t.hit_path,is_move:t.is_move,move:t.move,is_fly:t.is_fly,fly_force:t.fly_force,rigidity_fps:t.rigidity_fps,damageinfo:n,buffs:e,play_anim:t.play_anim}},t.GetEnemyAttackInfo=function(t,e,n,i){var o,a=[];if(null!=t&&null!=t){for(var s=0;s<t.length;s++)-1!=t[s]&&(o={atk:n,ignore_atk:0,skill_persent:1,cri:i,hitrate:0,equip_up_damage:0,miss_damage:0,type:r.DamageType.DAMAGE},a[s]={hash:(100*Math.random()).toString(36),hit_path:e,is_move:t[s].is_move,move:t[s].is_move?this.GetSkillMoveRuntimeData(t[s].move):null,is_fly:t[s].is_fly,fly_force:t[s].is_fly?t[s].fly_force:0,rigidity_fps:t[s].rigidity_fps,damageinfo:o,buffs:null,play_anim:t[s].play_anim});return a}},t.GetDamage=function(t,e,n){var i=.15+.01*(e-t.hit_path.Lv)-t.damageinfo.hitrate;if(Math.random()<i)return t.damageinfo.miss_damage>0?{miss:!1,damage:t.damageinfo.miss_damage,cri:!1}:{miss:!0,damage:0,cri:!1};var o=(t.damageinfo.atk-n.def)*t.damageinfo.skill_persent*1;o<=0&&(o=0);var a=(o+t.damageinfo.ignore_atk*t.damageinfo.skill_persent*1)*(1+t.damageinfo.equip_up_damage+n.buff_up_damage_percentage);(a+=Math.floor(.1*a*Math.random()))<=.05*(t.damageinfo.atk+t.damageinfo.ignore_atk)&&(a=Math.round((.03+.04*Math.random())*(t.damageinfo.atk+t.damageinfo.ignore_atk)));var r=Math.random()<=t.damageinfo.cri;return{miss:!1,damage:a*=1+1*(r?1:0),cri:r}},t.CanPay=function(t,e){switch(t){case s.CurrencyType.COIN:return g.CommonDataMgr.instance.Gold>=e||(Global.onShowTosat("\u91d1\u5e01\u4e0d\u8db3"),!1);case s.CurrencyType.COUPON:return g.CommonDataMgr.instance.Diamond>=e||(Global.onShowTosat("\u94bb\u77f3\u4e0d\u8db3"),!1);case s.CurrencyType.FATIGUE:return g.CommonDataMgr.instance.Poewrpoewr+g.CommonDataMgr.instance.Extrapoewr>=e||(Global.onShowTosat("\u4f53\u529b\u4e0d\u8db3"),!1)}},t.Get=function(t,e){switch(console.log(t,e),t){case s.CurrencyType.COIN:g.CommonDataMgr.instance.Gold+=e;break;case s.CurrencyType.COUPON:g.CommonDataMgr.instance.Diamond+=e;break;case s.CurrencyType.FATIGUE:g.CommonDataMgr.instance.Extrapoewr+=e}},t.Pay=function(t,e,n,i){switch(void 0===n&&(n=null),void 0===i&&(i=null),t){case s.CurrencyType.COIN:return g.CommonDataMgr.instance.Gold>=e?(g.CommonDataMgr.instance.Gold-=e,n&&n.run(),!0):(i&&i.run(),!1);case s.CurrencyType.COUPON:return g.CommonDataMgr.instance.Diamond>=e?(g.CommonDataMgr.instance.Diamond-=e,n&&n.run(),!0):(i&&i.run(),!1);case s.CurrencyType.FATIGUE:if(e<=0)return i&&i.run(),!1;if(g.CommonDataMgr.instance.Poewrpoewr+g.CommonDataMgr.instance.Extrapoewr>=e){var o=e;return g.CommonDataMgr.instance.Extrapoewr>0?(e=g.CommonDataMgr.instance.Extrapoewr-=e)<0&&(g.CommonDataMgr.instance.Poewrpoewr+=e):g.CommonDataMgr.instance.Poewrpoewr-=e,GEvent.emit(GEventName.Task.UsePower,o),n&&n.run(),!0}return i&&i.run(),!1}},t.GetOrginAttribute=function(){return{fashion_atk_up_percentage:0,fashion_atkspeed_up_percentage:0,fashion_cri_up:0,fashion_def_up_percentage:0,fashion_hitrate_up:0,fashion_hp_up_percentage:0,fashion_speed_up_percentage:0,max_hp:0,hp:0,atk:0,cri:0,lv:1,exp:0,hitrate:0,speed_x:1,speed_y:1,def:0,atkspeed:0,exp_ratio:1,drop_ratio:0,ignore_def_atk:0,damage_less_percentage:0,passiveskill_up_hp_percentage:0,passiveskill_up_atk_percentage:0,passiveskill_up_def_percentage:0,equip_up_atk_percentage:0,equip_up_def_percentage:0,buff_up_atk_percentage:0,buff_up_def_percentage:0,buff_up_atkspeed:0,buff_up_hitrate_percentage:0,buff_up_cri_percentage:0,buff_up_ignore_def_atk:0,buff_up_damage_percentage:0,buff_up_speed_percentage:0,buff_up_speed:0,equip_up_damage_percentage:0,extra_damage:0,miss_damage:0}},t.GetPlayerAttributeInNewPlayerGame=function(){var e=t.GetOrginAttribute();return e.max_hp=5e4,e.hp=5e4,e.atk=5e3,e.def=5e4,e.cri=.5,e.hitrate=1,e.speed_x=1,e},t.GetPlayerAttributeInNormalGame=function(){var e=u.default.ActorData()[v.default.instance.LV-1],n=t.GetOrginAttribute();return n.max_hp=e.hp,n.hp=e.hp,n.atk=e.atk,n.lv=v.default.instance.LV,n.exp=v.default.instance.Exp,n=m.default.Init.CalculatePlayerAttribute(n),n=l.default.Init.CalculatePlayerAttribute(n),n=c.default.Init.CalculatePlayerAttribute(n),n=b.default.instance.CalculatePlayerAttribute(n),n=k.default.instance.CalculatePlayerAttribute(n),n=S.default.instance.CalculatePlayerAttribute(n),(n=w.default.instance.CalculatePlayerAttribute(n)).max_hp=n.hp,n},t.GetPlayerAttributeInUI=function(){var e=u.default.ActorData()[v.default.instance.LV-1],n=t.GetOrginAttribute();return n.max_hp=e.hp,n.hp=e.hp,n.atk=e.atk,n=m.default.Init.CalculatePlayerAttribute(n),n=l.default.Init.CalculatePlayerAttribute(n),n=c.default.Init.CalculatePlayerAttribute(n),n=b.default.instance.CalculatePlayerAttribute(n),n=k.default.instance.CalculatePlayerAttribute(n),{max_hp:(n=w.default.instance.CalculatePlayerAttribute(n)).hp+n.hp*(n.fashion_hp_up_percentage+n.passiveskill_up_hp_percentage),hp:n.hp+n.hp*(n.fashion_hp_up_percentage+n.passiveskill_up_hp_percentage),atk:n.atk+n.atk*(n.fashion_atk_up_percentage+n.passiveskill_up_atk_percentage),def:n.def+n.def*(n.fashion_def_up_percentage+n.passiveskill_up_def_percentage),cri:n.cri+n.fashion_cri_up,hitrate:n.hitrate+n.fashion_hitrate_up,atkspeed:n.atkspeed+n.fashion_atkspeed_up_percentage,speed:n.speed_x-1+n.fashion_speed_up_percentage}},t.GetAIAttributeInNormalGame=function(e,n,i,o){var a=t.GetOrginAttribute();return a.max_hp=e.hp*n,a.hp=e.hp*n,a.atk=e.atk*o,a.cri=e.cri,a.speed_x=e.speedx,a.speed_y=e.speedy,a.def=e.def*i,a},t.GetBuilderAttributeInNormalGame=function(e){var n=t.GetOrginAttribute();return n.max_hp=e.hp,n.hp=e.hp,n.atk=e.atk,n.cri=e.cri,n.speed_x=e.speedx,n.speed_y=e.speedy,n.def=e.def,n},t.SetMatrixCache=function(t,e,n,i){var o;i[e]||(i[e]=[]);for(var a=0;a<t.mBoneArr.length;a++)o=t.mBoneArr[a].name,i[e][o]||(i[e][o]=[]),i[e][o][n]||(i[e][o][n]=t.mBoneArr[a].resultMatrix.clone())},t.EquipPowerUp=function(t,e){if(t.PowerLv<4)return t.PowerLv++,!0;var n=t.PowerLv<10?.7:t.PowerLv<15?.65:.6,i=10*Math.pow(n,t.PowerLv+1)*(4-.75*t.quality)*(1+.2*u.default.PowerFailCount);return 1e4*Math.random()<1e4*i?(t.PowerLv++,t.power_failecount=0,u.default.PowerFailCount=0,!0):(t.power_failecount++,u.default.PowerFailCount++,!(t.PowerLv<=7)&&(t.PowerLv<=10?(e||t.PowerLv--,!1):t.PowerLv>10?(e||(t.PowerLv=0),!1):void 0))},t.EquipPowerUpUseItem=function(t){var e=t.PowerLv+1;return e<=10?Math.round(t.Powerup_Coefficient*Math.pow(e,2))+1:e<=15?Math.round(t.Powerup_Coefficient*(e-10)*10):Math.round(t.Powerup_Coefficient*(e-15)*10)},t.EquipPowerUpCost=function(t){var e=t.isMagicSword?t.MagicSwordLv:t.equip_lv,n=t.PowerLv<10?50:t.PowerLv<15?100:200,i=t.PowerLv<10?.5:t.PowerLv<15?.6:.8;return Math.round(t.Powerup_Coefficient*n*Math.pow(t.PowerLv+1,2)*e*i)},t.GetPlayerCEFromUI=function(t){return Math.floor(2*t.hp+10*t.atk+100*t.def+4e4*t.atkspeed+2e4*t.speed+5e4*t.cri)},t.GetResolveCount=function(t,e){return Math.round(.5*Math.pow(t,2)+e)},t.GetLvScore=function(t){return t.max_combo/t.enemy_count*25+50*(1-t.revive_count)+t.player_cur_hp/t.player_total_hp*25},t.GetPickCardReward=function(t,e,n,i,o){var a,r;n!=d.LvType.ACTIVITY?(a=s.CurrencyType.COIN,r=this.ItemCount[100].pickcard(t,e,i)):(a=s.CurrencyType.COIN,r=this.ItemCount[100].activepickcard(v.default.instance.LV));var l=p.RewardType.NONE,c=0,f=0;if(o.length>0)for(var h=Math.floor(Math.random()*o[o.length-1].ratio),y=0;y<o.length;y++)if(h<=o[y].ratio){l=0==o[y].type?p.RewardType.EQUIPMENT:p.RewardType.ITEM,c=u.default.DropData()[o[y].id].item_id[Math.floor(1e3*Math.random()%u.default.DropData()[o[y].id].item_id.length)],f=1;break}return{currency_type:a,currency_count:r,item_type:l,item_data:{id:c,count:f}}},t.Encryption=function(t,e){return 1e4*t^e},t.Decryption=function(t,e){return 1e-4*(t^e)},t.GetLvProgress=function(t,e){if(1==t&&-1==e)return"0";var n=-1==e?t>1?6:"0":e+1;return Math.max(1,-1==e?t-1:t).toString()+n.toString()},t.GetRankData=function(t){for(var e,n=function(t){var e=[null,null,null,null,null,null];if("[]"!=t)for(var n=JSON.parse(t),i=void 0,o=0;o<n.length;o++)null!=n[o]&&(i=f.default.Create().SetData(n[o].id,n[o].powerlv,n[o].base_entry),e[o]=i);return e},i=t.powerRankResult,o=[],a=0;a<i.length;a++)o.push({user_id:i[a].userId,openId:i[a].openId,name:i[a].nickname,ce:i[a].power,equip:n(i[a].equipmentData),fashion:(e=i[a].clothingData,"[]"!=e?JSON.parse(e):[-1,-1,-1]),lvprogress:i[a].rate,lv:i[a].level,actor_index:i[a].role});return o},t.ItemCount={100:{activepickcard:function(t){var e=300*t+1e3,n=900*t+3e3;return e+Math.round(Math.random()*(n-e))},pickcard:function(t,e,n){console.log(n);var i=(6*t+e+1)*n,o=25*i,a=75*i;return o+Math.round(Math.random()*(a-o))},mon_drop:function(t,e){var n=t*e,i=50*n,o=300*n;return i+Math.round(Math.random()*(o-i))}},101:{pickcard:function(t,e,n){var i=(6*t+e+1)*(1+(n?1:0)),o=2*i,a=5*i;return o+Math.round(Math.random()*(a-o))},mon_drop:function(){return 0}},120:{pickcard:function(t,e){var n=Math.pow(6*t+e+1,2),i=Math.round(.05*n)+1,o=Math.round(.15*n)+1;return i+Math.round(Math.random()*(o-i))},mon_drop:function(){return 1}},121:{pickcard:function(t,e,n){var i=Math.pow(6*t+e+1,2),o=Math.round(.02*i*(1+(n?1:0)))+1,a=Math.round(.05*i*(1+(n?1:0)))+1;return o+Math.round(Math.random()*(a-o))},mon_drop:function(){return 1}},140:{pickcard:function(){return 1},mon_drop:function(){return 1}}},t.EquipmentEntry={f_exp:function(e,n){return{name:"f_exp",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.exp_ratio+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u7ecf\u9a8c\u503c","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]}}},f_drop:function(e,n){return{name:"f_drop",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.drop_ratio+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u6389\u843d\u7387","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]}}},f_atk:function(e,n){return{name:"f_atk",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.fashion_atk_up_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u653b\u51fb\u529b","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]}}},f_hp:function(e,n){return{name:"f_hp",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.fashion_hp_up_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u8840\u91cf","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]}}},f_def:function(e,n){return{name:"f_def",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.fashion_def_up_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u9632\u5fa1\u529b","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]}}},f_atk_speed:function(e,n){return{name:"f_atk_speed",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.fashion_atkspeed_up_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u653b\u51fb\u901f\u5ea6","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(1)+"%"]}}},f_cri:function(e,n){return{name:"f_cri",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.fashion_cri_up+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u66b4\u51fb\u7387+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(1)+"%"]}}},f_speed:function(e,n){return{name:"f_speed",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.fashion_speed_up_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u79fb\u52a8\u901f\u5ea6","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(1)+"%"]}}},weapon_atk:function(e,n,i,o){return{name:"weapon_atk",value:e.map(function(e){return t.Encryption(e,o)}),min_value:n.map(function(e){return t.Encryption(e,o)}),max_value:i.map(function(e){return t.Encryption(e,o)}),r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.atk+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+.01*Math.pow(i,2)))},get_info:function(e){return["\u653b\u51fb\u529b ",t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_power_info:function(e,n){var i=n>=5?5*(n-4)/100:0,o=Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.01*Math.pow(n,2)+i))-t.Decryption(e.value[0],e.r_seed);return["\u653b\u51fb\u529b ",0==o?null:o.toFixed(0)]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.01*Math.pow(n,2))*10)},get_minmax_power_info:function(t,e){return[Math.round(t.get_min_value(t)[0]*(1+.01*Math.pow(e,2)))-t.get_min_value(t)[0],Math.round(t.get_max_value(t)[0]*(1+.01*Math.pow(e,2)))-t.get_max_value(t)[0]]}}},shoulder_atk:function(e,n,i,o){return{name:"shoulder_atk",value:e.map(function(e){return t.Encryption(e,o)}),min_value:n.map(function(e){return t.Encryption(e,o)}),max_value:i.map(function(e){return t.Encryption(e,o)}),r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.r_seed,e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.atk+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+.005*Math.pow(i,2)))},get_info:function(e){return["\u653b\u51fb\u529b ",t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_power_info:function(e,n){var i=n>=5?5*(n-4)/100:0,o=Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.005*Math.pow(n,2)+i))-t.Decryption(e.value[0],e.r_seed);return["\u653b\u51fb\u529b ",0==o?null:o.toFixed(0)]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.005*Math.pow(n,2))*10)},get_minmax_power_info:function(t,e){return[Math.round(t.get_min_value(t)[0]*(1+.005*Math.pow(e,2)))-t.get_min_value(t)[0],Math.round(t.get_max_value(t)[0]*(1+.005*Math.pow(e,2)))-t.get_max_value(t)[0]]}}},cloth_hp:function(e,n,i,o){return{name:"cloth_hp",value:e.map(function(e){return t.Encryption(e,o)}),min_value:n.map(function(e){return t.Encryption(e,o)}),max_value:i.map(function(e){return t.Encryption(e,o)}),r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.hp+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+.01*Math.pow(i,2))),e.max_hp+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+.01*Math.pow(i,2)))},get_info:function(e){return["\u8840\u91cf ",t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_power_info:function(e,n){var i=n>=5?3*(n-4)/100:0,o=Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.01*Math.pow(n,2)+i))-t.Decryption(e.value[0],e.r_seed);return["\u8840\u91cf ",0==o?null:o.toFixed(0)]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.01*Math.pow(n,2))*2)},get_minmax_power_info:function(t,e){return[Math.round(t.get_min_value(t)[0]*(1+.01*Math.pow(e,2)))-t.get_min_value(t)[0],Math.round(t.get_max_value(t)[0]*(1+.01*Math.pow(e,2)))-t.get_max_value(t)[0]]}}},waist_hp:function(e,n,i,o){return{name:"waist_hp",value:e.map(function(e){return t.Encryption(e,o)}),min_value:n.map(function(e){return t.Encryption(e,o)}),max_value:i.map(function(e){return t.Encryption(e,o)}),r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.hp+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+.01*Math.pow(i,2))),e.max_hp+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+.01*Math.pow(i,2)))},get_info:function(e){return["\u8840\u91cf ",t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_power_info:function(e,n){var i=n>=5?3*(n-4)/100:0,o=Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.01*Math.pow(n,2)+i))-t.Decryption(e.value[0],e.r_seed);return["\u8840\u91cf ",0==o?null:o.toFixed(0)]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.01*Math.pow(n,2))*2)},get_minmax_power_info:function(t,e){return[Math.round(t.get_min_value(t)[0]*(1+.01*Math.pow(e,2)))-t.get_min_value(t)[0],Math.round(t.get_max_value(t)[0]*(1+.01*Math.pow(e,2)))-t.get_max_value(t)[0]]}}},cloth_def:function(e,n,i,o){var r=e.map(function(e){return t.Encryption(e,o)}),s=n.map(function(e){return t.Encryption(e,o)}),l=i.map(function(e){return t.Encryption(e,o)}),c=.015;return{name:"cloth_def",value:r,min_value:s,max_value:l,r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.def+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+c*Math.pow(i,2)))},get_info:function(e){return["\u9632\u5fa1\u529b ",t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_power_info:function(e,n){var i=n>=5?3*(n-4)/100:0,o=Math.round(t.Decryption(e.value[0],e.r_seed)*(1+c*Math.pow(n,2)+i))-t.Decryption(e.value[0],e.r_seed);return["\u9632\u5fa1\u529b ",0==o?null:o.toFixed(0)]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+c*Math.pow(n,2))*100)},get_minmax_power_info:function(t,e){return[Math.round(t.get_min_value(t)[0]*(1+c*Math.pow(e,2)))-t.get_min_value(t)[0],Math.round(t.get_max_value(t)[0]*(1+c*Math.pow(e,2)))-t.get_max_value(t)[0]]}}},leg_def:function(e,n,i,o){var r=e.map(function(e){return t.Encryption(e,o)}),s=n.map(function(e){return t.Encryption(e,o)}),l=i.map(function(e){return t.Encryption(e,o)}),c=.015;return{name:"leg_def",value:r,min_value:s,max_value:l,r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.def+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+c*Math.pow(i,2)))},get_info:function(e){return["\u9632\u5fa1\u529b ",t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_power_info:function(e,n){var i=n>=5?3*(n-4)/100:0,o=Math.round(t.Decryption(e.value[0],e.r_seed)*(1+c*Math.pow(n,2)+i))-t.Decryption(e.value[0],e.r_seed);return["\u9632\u5fa1\u529b ",0==o?null:o.toFixed(0)]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+c*Math.pow(n,2))*100)},get_minmax_power_info:function(t,e){return console.log(t),[Math.round(t.get_min_value(t)[0]*(1+c*Math.pow(e,2)))-t.get_min_value(t)[0],Math.round(t.get_max_value(t)[0]*(1+c*Math.pow(e,2)))-t.get_max_value(t)[0]]}}},foot_def:function(e,n,i,o){var r=e.map(function(e){return t.Encryption(e,o)}),s=n.map(function(e){return t.Encryption(e,o)}),l=i.map(function(e){return t.Encryption(e,o)}),c=.015;return{name:"foot_def",value:r,min_value:s,max_value:l,r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.def+=Math.round(t.Decryption(n.value[0],n.r_seed)*(1+c*Math.pow(i,2)))},get_info:function(e){return["\u9632\u5fa1\u529b ",t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_power_info:function(e,n){var i=n>=5?3*(n-4)/100:0,o=Math.round(t.Decryption(e.value[0],e.r_seed)*(1+c*Math.pow(n,2)+i))-t.Decryption(e.value[0],e.r_seed);return["\u9632\u5fa1\u529b ",0==o?null:o.toFixed(0)]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+c*Math.pow(n,2))*100)},get_minmax_power_info:function(t,e){return[Math.round(t.get_min_value(t)[0]*(1+c*Math.pow(e,2)))-t.get_min_value(t)[0],Math.round(t.get_max_value(t)[0]*(1+c*Math.pow(e,2)))-t.get_max_value(t)[0]]}}},shoulder_atk_speed:function(e,n,i,o){return{name:"shoulder_atk_speed",value:e.map(function(e){return t.Encryption(e,o)}),min_value:n.map(function(e){return t.Encryption(e,o)}),max_value:i.map(function(e){return t.Encryption(e,o)}),r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.atkspeed+=t.Decryption(n.value[0],n.r_seed)*(1+.015*i)},get_info:function(e){return["\u653b\u51fb\u901f\u5ea6 ",(100*t.Decryption(e.value[0],e.r_seed)).toFixed(2)+"%"]},get_power_info:function(e,n){var i=t.Decryption(e.value[0],e.r_seed)*(1+.015*n)-t.Decryption(e.value[0],e.r_seed);return["\u653b\u51fb\u901f\u5ea6 ",0==i?null:(100*i).toFixed(2)+"%"]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.015*n)*4e4)},get_minmax_power_info:function(t,e){return[t.get_min_value(t)[0]*(1+.015*e)-t.get_min_value(t)[0],t.get_max_value(t)[0]*(1+.015*e)-t.get_max_value(t)[0]]}}},waist_cri:function(e,n,i,o){return{name:"waist_cri",value:e.map(function(e){return t.Encryption(e,o)}),min_value:n.map(function(e){return t.Encryption(e,o)}),max_value:i.map(function(e){return t.Encryption(e,o)}),r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){e.cri+=t.Decryption(n.value[0],n.r_seed)*(1+.015*i)},get_info:function(e){return["\u66b4\u51fb\u7387 ",(100*t.Decryption(e.value[0],e.r_seed)).toFixed(2)+"%"]},get_power_info:function(e,n){var i=t.Decryption(e.value[0],e.r_seed)*(1+.015*n)-t.Decryption(e.value[0],e.r_seed);return["\u66b4\u51fb\u7387 ",0==i?null:(100*i).toFixed(2)+"%"]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.015*n)*5e4)},get_minmax_power_info:function(t,e){return[t.get_min_value(t)[0]*(1+.015*e)-t.get_min_value(t)[0],t.get_max_value(t)[0]*(1+.015*e)-t.get_max_value(t)[0]]}}},foot_speed:function(e,n,i,o){return{name:"foot_speed",value:e.map(function(e){return t.Encryption(e,o)}),min_value:n.map(function(e){return t.Encryption(e,o)}),max_value:i.map(function(e){return t.Encryption(e,o)}),r_seed:o,entrytype:a.EntryType.ACTOR,get_min_value:function(e){return e.min_value.map(function(n){return t.Decryption(n,e.r_seed)})},get_max_value:function(e){return e.max_value.map(function(n){return t.Decryption(n,e.r_seed)})},calculate:function(e,n,i){var o=t.Decryption(n.value[0],n.r_seed)*(1+.015*i);e.speed_x+=o,e.speed_y+=o},get_info:function(e){return["\u79fb\u52a8\u901f\u5ea6 ",(100*t.Decryption(e.value[0],e.r_seed)).toFixed(2)+"%"]},get_power_info:function(e,n){var i=t.Decryption(e.value[0],e.r_seed)*(1+.015*n)-t.Decryption(e.value[0],e.r_seed);return["\u79fb\u52a8\u901f\u5ea6 ",0==i?null:(100*i).toFixed(2)+"%"]},get_ce:function(e,n){return Math.round(t.Decryption(e.value[0],e.r_seed)*(1+.015*n)*2e4)},get_minmax_power_info:function(t,e){return[t.get_min_value(t)[0]*(1+.015*e)-t.get_min_value(t)[0],t.get_max_value(t)[0]*(1+.015*e)-t.get_max_value(t)[0]]}}}},t.AttachEquipmentEntry={1e3:function(e,n){return{name:"1000",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(110).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(110).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u51b2\u950b\u65a9Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1001:function(e,n){return{name:"1001",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(111).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(111).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u98ce\u884c\u5251Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1002:function(e,n){return{name:"1002",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(112).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(112).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u6d41\u4e91\u65a9Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1003:function(e,n){return{name:"1003",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(113).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(113).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u98de\u9f99\u65a9Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1004:function(e,n){return{name:"1004",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(114).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(114).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u5149\u901f\u65a9Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1005:function(e,n){return{name:"1005",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(120).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(120).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u5929\u5251\u6d41Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1006:function(e,n){return{name:"1006",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(121).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(121).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u65a9\u5929\u8bc0Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1007:function(e,n){return{name:"1007",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(122).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(122).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u91d1\u521a\u8bc0Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1008:function(e,n){return{name:"1008",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(123).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(123).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u8840\u5251\u8bc0Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1009:function(e,n){return{name:"1009",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(123).EquipLv+=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(123).EquipLv-=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u9f99\u817e\u4e5d\u5929Lv+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)}}},1100:function(e,n){return{name:"1100",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(110).cd_percentage-=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(110).cd_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u51b2\u950b\u65a9\u51b7\u5374\u65f6\u95f4-"+t.Decryption(e.value[0],e.r_seed).toFixed(0)+"%"}}},1101:function(e,n){return{name:"1101",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(111).cd_percentage-=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(111).cd_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u98ce\u884c\u5251\u51b7\u5374\u65f6\u95f4-"+t.Decryption(e.value[0],e.r_seed).toFixed(0)+"%"}}},1102:function(e,n){return{name:"1102",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(112).cd_percentage-=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(112).cd_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u6d41\u4e91\u65a9\u51b7\u5374\u65f6\u95f4-"+t.Decryption(e.value[0],e.r_seed).toFixed(0)+"%"}}},1103:function(e,n){return{name:"1103",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(113).cd_percentage-=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(113).cd_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u98de\u9f99\u65a9\u51b7\u5374\u65f6\u95f4-"+t.Decryption(e.value[0],e.r_seed).toFixed(0)+"%"}}},1104:function(e,n){return{name:"1104",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){e.get(114).cd_percentage-=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(114).cd_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u5149\u901f\u65a9\u51b7\u5374\u65f6\u95f4-"+t.Decryption(e.value[0],e.r_seed).toFixed(0)+"%"}}},1201:function(e,n){return{name:"1201",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.atk+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u653b\u51fb\u529b ","+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_ce:function(e){return Math.round(10*t.Decryption(e.value[0],e.r_seed))}}},1202:function(e,n){return{name:"1202",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.def+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u9632\u5fa1\u529b ","+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_ce:function(e){return Math.round(100*t.Decryption(e.value[0],e.r_seed))}}},1203:function(e,n){return{name:"1203",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.equip_up_atk_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u653b\u51fb\u529b ","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]},get_ce:function(){return 0}}},1204:function(e,n){return{name:"1204",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.equip_up_def_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u9632\u5fa1\u529b ","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]},get_ce:function(){return 0}}},1205:function(e,n){return{name:"1205",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.cri+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u66b4\u51fb\u7387 ","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]},get_ce:function(){return 0}}},1206:function(e,n){return{name:"1206",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.atkspeed+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u653b\u51fb\u901f\u5ea6 ","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]},get_ce:function(){return 0}}},1207:function(e,n){return{name:"1207",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.hitrate+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u547d\u4e2d\u7387 ","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]},get_ce:function(){return 0}}},1208:function(e,n){return{name:"1208",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.speed_x+=t.Decryption(n.value[0],n.r_seed),e.speed_y+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u79fb\u52a8\u901f\u5ea6 ","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]},get_ce:function(){return 0}}},1209:function(e,n){return{name:"1209",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.equip_up_damage_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u4f24\u5bb3\u63d0\u5347 ","+"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"]},get_ce:function(){return 0}}},1300:function(e,n){return{name:"1300",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){n.buffs.push({ratio:t.Decryption(i.value[0],i.r_seed),id:1300,value:i.value.map(function(e){return t.Decryption(e,i.r_seed)})})},get_info:function(e){return"\u653b\u51fb\u65f6\u6709"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%\u6982\u7387\u4f7f\u654c\u4eba\u8fdb\u5165\u611f\u7535\u72b6\u6001\uff0c\u611f\u7535\u72b6\u6001\u6301\u7eed["+t.Decryption(e.value[1],e.r_seed).toFixed(0)+"]\u79d2\uff0c\u602a\u7269\u6240\u53d7\u4f24\u5bb3["+(100*(1+t.Decryption(e.value[2],e.r_seed))).toFixed(0)+"%]"}}},1301:function(e,n){return{name:"1301",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){n.buffs.push({ratio:t.Decryption(i.value[0],i.r_seed),id:1301,value:i.value.map(function(e){return t.Decryption(e,i.r_seed)})})},get_info:function(e){return"\u653b\u51fb\u65f6\u6709["+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%]\u4f7f\u654c\u4eba\u8fdb\u5165\u8bc5\u5492\u72b6\u6001\uff0c\u8bc5\u5492\u72b6\u6001\u6301\u7eed["+t.Decryption(e.value[1],e.r_seed).toFixed(0)+"]\u79d2\uff0c\u602a\u7269\u653b\u51fb\u4e0b\u964d["+(100*t.Decryption(e.value[2],e.r_seed)).toFixed(0)+"%]\u3001\u9632\u5fa1\u4e0b\u964d["+(100*t.Decryption(e.value[3],e.r_seed)).toFixed(0)+"%]"}}},1302:function(e,n){return{name:"1302",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){n.buffs.push({ratio:t.Decryption(i.value[0],i.r_seed),id:1302,value:i.value.map(function(e){return t.Decryption(e,i.r_seed)})})},get_info:function(e){return"\u653b\u51fb\u65f6\u6709["+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%]\u4f7f\u654c\u4eba\u8fdb\u5165\u6655\u7729\u72b6\u6001\uff0c\u6655\u7729\u72b6\u6001\u6301\u7eed["+t.Decryption(e.value[1],e.r_seed).toFixed(0)+"]\u79d2\u6655\u7729\u72b6\u6001\u4e0b\uff0c\u602a\u7269\u65e0\u6cd5\u79fb\u52a8\u3001\u653b\u51fb"}}},1303:function(e,n){return{name:"1303",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){if(Math.random()<=t.Decryption(i.value[0],i.r_seed)){var o=e.BuffsCtrl.buff.findIndex(function(t){return 1303==t.id});if(-1==o){var a=new h.default;a.id=1303,a.time=1e3*t.Decryption(i.value[1],i.r_seed),a.info=i.get_info(i),a.name="\u65e0\u654c",a.buff.push(y.default.Create().SetData(703,1e3*t.Decryption(i.value[1],i.r_seed),e)),a.buff.push(y.default.Create().SetData(503,t.Decryption(i.value[2],i.r_seed),e)),a.buff.push(y.default.Create().SetData(502,t.Decryption(i.value[3],i.r_seed),e)),e.BuffsCtrl.buff.push(a)}else e.BuffsCtrl.buff[o].time=1e3*t.Decryption(i.value[1],i.r_seed)}},get_info:function(e){return"\u653b\u51fb\u65f6\u6709["+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%]\u4f7f\u654c\u4eba\u8fdb\u5165\u6655\u7729\u72b6\u6001\uff0c\u5141\u8bb8\u6309\u72b6\u6001\u6301\u7eed["+t.Decryption(e.value[1],e.r_seed).toFixed(0)+"]\u79d2\u6655\u7729\u72b6\u6001\u4e0b\uff0c\u602a\u7269\u65e0\u6cd5\u79fb\u52a8\u3001\u653b\u51fb"}}},1304:function(e,n){return{name:"1304",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){n.buffs.push({ratio:t.Decryption(i.value[0],i.r_seed),id:1304,value:i.value.map(function(e){return t.Decryption(e,i.r_seed)})})},get_info:function(e){return"\u653b\u51fb\u65f6\u6709["+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%]\u4f7f\u654c\u4eba\u8fdb\u5165\u707c\u4f24\u72b6\u6001\uff0c\u707c\u4f24\u72b6\u6001\u6301\u7eed["+t.Decryption(e.value[1],e.r_seed).toFixed(0)+"]\u79d2\uff0c\u602a\u7269\u6bcf\u79d2\u6263\u9664\u8840\u91cf\u6700\u5927\u503c\u7684["+(100*t.Decryption(e.value[2],e.r_seed)).toFixed(0)+"%]"}}},1305:function(e,n){return{name:"1305",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){n.buffs.push({ratio:t.Decryption(i.value[0],i.r_seed),id:1305,value:i.value.map(function(e){return t.Decryption(e,i.r_seed)})})},get_info:function(e){return"\u653b\u51fb\u65f6\u6709["+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%]\u4f7f\u654c\u4eba\u8fdb\u5165\u51b0\u51bb\u72b6\u6001\uff0c\u51b0\u51bb\u72b6\u6001\u6301\u7eed["+t.Decryption(e.value[1],e.r_seed).toFixed(0)+"]\u79d2\uff0c\u602a\u7269\u65e0\u6cd5\u79fb\u52a8\uff0c\u653b\u51fb"}}},1400:function(e,n){return{name:"1400",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.ignore_def_atk+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u65e0\u89c6\u9632\u5fa1\u653b\u51fb ","+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)]},get_ce:function(){return 0}}},1401:function(e,n){return{name:"1401",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){if(Math.random()<=t.Decryption(i.value[0],i.r_seed)){var o=e.BuffsCtrl.buff.findIndex(function(t){return 1401==t.id});if(-1==o){var a=new h.default;a.id=1401,a.time=1e3*t.Decryption(i.value[1],i.r_seed),a.info=i.get_info(i),a.name="\u52a0\u901f\u52a0\u5de5\u52a0\u9632",a.buff.push(y.default.Create().SetData(104,t.Decryption(i.value[2],i.r_seed),e)),a.buff.push(y.default.Create().SetData(106,t.Decryption(i.value[3],i.r_seed),e)),a.buff.push(y.default.Create().SetData(302,t.Decryption(i.value[4],i.r_seed),e)),console.log(a),e.BuffsCtrl.buff.push(a)}else e.BuffsCtrl.buff[o].time=1e3*t.Decryption(i.value[1],i.r_seed)}},get_info:function(e){return"\u653b\u51fb\u65f6\u6709["+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%]\u589e\u52a0\u81ea\u8eab["+(100*t.Decryption(e.value[2],e.r_seed)).toFixed(0)+"%]\u79fb\u52a8\u901f\u5ea6,["+(100*t.Decryption(e.value[3],e.r_seed)).toFixed(0)+"%]\u653b\u51fb\u901f\u5ea6\u3001\u540c\u65f6\u964d\u4f4e"+(100*t.Decryption(e.value[4],e.r_seed)).toFixed(0)+"%\u9632\u5fa1\u529b\uff0c\u6548\u679c\u6301\u7eed"+t.Decryption(e.value[1],e.r_seed).toFixed(0)+"\u79d2\uff0c\u6700\u591a\u53e0\u52a01\u6b21"}}},1402:function(e,n){return{name:"1402",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){if(Math.random()<=t.Decryption(i.value[0],i.r_seed)){var o=e.BuffsCtrl.buff.findIndex(function(t){return 1402==t.id});if(-1==o){var a=new h.default;a.id=1402,a.time=1e3*t.Decryption(i.value[1],i.r_seed),a.info=i.get_info(i),a.name="\u52a0\u653b\u901f\u79fb\u901f\u653b\u51fb\u529b",a.buff.push(y.default.Create().SetData(104,t.Decryption(i.value[2],i.r_seed),e)),a.buff.push(y.default.Create().SetData(106,t.Decryption(i.value[3],i.r_seed),e)),a.buff.push(y.default.Create().SetData(101,t.Decryption(i.value[4],i.r_seed),e)),e.BuffsCtrl.buff.push(a)}else e.BuffsCtrl.buff[o].time=1e3*t.Decryption(i.value[1],i.r_seed)}},get_info:function(e){return"\u653b\u51fb\u65f6\u6709["+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%]\u589e\u52a0["+(100*t.Decryption(e.value[2],e.r_seed)).toFixed(0)+"%]\u653b\u51fb\u901f\u5ea6\u3001["+(100*t.Decryption(e.value[3],e.r_seed)).toFixed(0)+"%]\u79fb\u52a8\u901f\u5ea6\u3001["+(100*t.Decryption(e.value[4],e.r_seed)).toFixed(0)+"%]\u653b\u51fb\u529b\uff0c\u6548\u679c\u6301\u7eed"+t.Decryption(e.value[1],e.r_seed).toFixed(0)+"\u79d2\uff0c\u6700\u591a\u53e0\u52a01\u6b21"}}},1403:function(e,n){return{name:"1403",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(e,n){e.miss_damage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return["\u653b\u51fb\u654c\u4eba\u51fa\u73b0miss\u65f6\uff0c\u989d\u5916\u9020\u6210","+"+t.Decryption(e.value[0],e.r_seed).toFixed(0)+"\u4f24\u5bb3"]},get_ce:function(){return 0}}},1404:function(e,n){return{name:"1404",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.ACTOR,calculate:function(){},get_info:function(){return["\u653b\u51fb\u65f6\u4f1a\u53d1\u5c04\u706b\u7403\u653b\u51fb\u654c\u4eba(\u65e0\u6548\u679c)",""]},get_ce:function(){return 0}}},1405:function(e,n){return{name:"1405",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.EVENT,attack_calculate:function(e,n,i){-1!=e.CurSkillJson.anim_name[0].indexOf("baishou_wuduanzhan")&&n.buffs.push({ratio:1,id:1300,value:i.value.map(function(e){return t.Decryption(e,i.r_seed)})})},get_info:function(){return"\u98ce\u884c\u5251\u547d\u4e2d\u76ee\u6807\u65f6\uff0c\u76ee\u6807\u611f\u7535"}}},1406:function(e,n){return{name:"1406",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){console.log(e),e.get(112).nocd_percentage-=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(112).nocd_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u6d41\u4e91\u65a9\u6709"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%\u6982\u7387\u4e0d\u8fdb\u5165\u51b7\u5374\u72b6\u6001"}}},2001:function(e,n){return{name:"2001",value:e.map(function(e){return t.Encryption(e,n)}),r_seed:n,entrytype:a.EntryType.SKILL,calculate:function(e,n){console.log(e),e.get(112).nocd_percentage-=t.Decryption(n.value[0],n.r_seed)},remove:function(e,n){e.get(112).nocd_percentage+=t.Decryption(n.value[0],n.r_seed)},get_info:function(e){return"\u6700\u7ec8\u4f24\u5bb3\u589e\u52a0"+(100*t.Decryption(e.value[0],e.r_seed)).toFixed(0)+"%"}}}},t.equip_effect_create={1300:function(t,e){var n=new h.default;return n.id=1300,n.time=1e3*t[1],n.name="\u611f\u7535",n.buff.push(y.default.Create().SetData(700,1e3*t[1],e)),n.buff.push(y.default.Create().SetData(107,t[2],e)),n},1301:function(t,e){var n=new h.default;return n.id=1301,n.time=1e3*t[1],n.name="\u8bc5\u5492",n.buff.push(y.default.Create().SetData(701,1e3*t[1],e)),n.buff.push(y.default.Create().SetData(301,t[2],e)),n.buff.push(y.default.Create().SetData(302,t[3],e)),n},1302:function(t,e){var n=new h.default;return n.id=1302,n.time=1e3*t[1],n.name="\u6655\u7729",n.buff.push(y.default.Create().SetData(702,1e3*t[1],e)),n.buff.push(y.default.Create().SetData(500,t[2],e)),n},1304:function(t,e){var n=new h.default;return n.id=1304,n.time=1e3*t[1],n.name="\u707c\u4f24",n.buff.push(y.default.Create().SetData(704,1e3*t[1],e)),n.buff.push(y.default.Create().SetData(602,t[2],e)),n},1305:function(t,e){var n=new h.default;return n.id=1305,n.time=1e3*t[1],n.name="\u51b0\u51bb",n.buff.push(y.default.Create().SetData(705,1e3*t[1],e)),n.buff.push(y.default.Create().SetData(501,t[2],e)),n},1306:function(t,e){var n=new h.default;return n.id=1306,n.time=1e3*t[1],n.name="\u4e2d\u6bd2",n.buff.push(y.default.Create().SetData(801,1e3*t[1],e)),n.buff.push(y.default.Create().SetData(602,t[2],e)),n},1401:function(t,e){var n=new h.default;return n.id=1304,n.time=1e3*t[1],n.name="\u9b54\u5251\u6d41\u8840",n.buff.push(y.default.Create().SetData(801,1e3*t[1],e)),n.buff.push(y.default.Create().SetData(602,t[2],e)),n}},t.BuffStart={101:function(t,e){t.Attribute.buff_up_atk_percentage+=e.value},102:function(t,e){t.Attribute.buff_up_def_percentage+=e.value},103:function(t,e){t.Attribute.buff_up_cri_percentage+=e.value},104:function(t,e){t.Attribute.buff_up_atkspeed+=e.value},105:function(t,e){t.Attribute.buff_up_hitrate_percentage+=e.value},106:function(t,e){t.Attribute.buff_up_speed_percentage+=e.value},107:function(t,e){t.Attribute.buff_up_damage_percentage+=e.value},500:function(t){t.State=_.default.Dizziness},501:function(t){t.State=_.default.FROZEN},301:function(t,e){t.Attribute.buff_up_atk_percentage-=e.value},302:function(t,e){t.Attribute.buff_up_def_percentage-=e.value},303:function(t,e){t.Attribute.buff_up_cri_percentage-=e.value},304:function(t,e){t.Attribute.buff_up_atkspeed-=e.value},305:function(t,e){t.Attribute.buff_up_hitrate_percentage-=e.value},306:function(t,e){t.Attribute.buff_up_speed_percentage-=e.value},307:function(t,e){t.Attribute.buff_up_damage_percentage-=e.value}},t.BuffCalculate={100:function(){},200:function(){},201:function(){},202:function(){},203:function(){},204:function(){},205:function(){},206:function(){},207:function(){},208:function(){},300:function(){},400:function(){},401:function(){},402:function(){},403:function(){},404:function(){},405:function(){},406:function(){},407:function(){},408:function(){},502:function(){},503:function(){},600:function(t,e){t.Attribute.buff_up_ignore_def_atk+=e.value},601:function(t,e){t.Attribute.extra_damage+=e.value},602:function(t,e){t.command_params||(t.command_params={},t.command_params.buff602_time=0),t.command_params.buff602_time+=cc.director.getDeltaTime(),t.command_params.buff602_time>=1&&(t.command_params.buff602_time=0,t.Hp-=t.Attribute.max_hp*e.value,t.BuffHit(t.Attribute.max_hp*e.value))},700:function(){},701:function(){},702:function(){},703:function(){},704:function(){},705:function(){},801:function(){}},t.BuffEnd={101:function(t,e,n){n.Attribute.buff_up_atk_percentage-=t.value,e&&e()},102:function(t,e,n){n.Attribute.buff_up_def_percentage-=t.value,e&&e()},103:function(t,e,n){n.Attribute.buff_up_cri_percentage-=t.value,e&&e()},104:function(t,e,n){n.Attribute.buff_up_atkspeed-=t.value,e&&e()},105:function(t,e,n){n.Attribute.buff_up_hitrate_percentage-=t.value,e&&e()},106:function(t,e,n){n.Attribute.buff_up_speed_percentage-=t.value,e&&e()},107:function(t,e,n){n.Attribute.buff_up_damage_percentage-=t.value,e&&e()},301:function(t,e,n){n.Attribute.buff_up_atk_percentage+=t.value,e&&e()},302:function(t,e,n){n.Attribute.buff_up_def_percentage+=t.value,e&&e()},303:function(t,e,n){n.Attribute.buff_up_cri_percentage+=t.value,e&&e()},304:function(t,e,n){n.Attribute.buff_up_atkspeed+=t.value,e&&e()},305:function(t,e,n){n.Attribute.buff_up_hitrate_percentage+=t.value,e&&e()},306:function(t,e,n){n.Attribute.buff_up_speed_percentage+=t.value,e&&e()},307:function(t,e,n){n.Attribute.buff_up_damage_percentage+=t.value,e&&e()},500:function(t,e,n){n.removeSubState(_.default.Dizziness),e&&e()},501:function(t,e,n){n.removeSubState(_.default.FROZEN),e&&e()},700:function(t,e){e&&e()},701:function(t,e){e&&e()},702:function(t,e){e&&e()},703:function(t,e){e&&e()},704:function(t,e){e&&e()},705:function(t,e){t.PlayAnimation("TYTX_bingdong_tx2",!1,e)},801:function(t,e){t.PlayAnimation("TYTX_liuxue1",!1,e)}},t.BuffCreate={101:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},102:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},103:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},104:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},105:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},106:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},107:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},201:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},202:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},203:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},204:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},205:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},206:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},207:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_attup",!0)},700:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_gandian",!0)},701:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_zuzhou",!0)},702:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_yunxuan",!0)},704:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_zhuoshang",!0)},705:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_bingdong_tx1",!1)},801:function(t){t.LoadSk("res/TongYong/Sk/TYTX_heji","TYTX_liuxue1",!0)}},t.UseItem={103:function(){return t.Get(s.CurrencyType.FATIGUE,1),!0},200:function(){return!1},201:function(){return!1},150:function(){var t=v.default.instance.LV;return t>=1&&t<=30?(v.default.instance.LV++,GEvent.emit(GEventName.Hero.HeroLvUp),GEvent.emit(GEventName.Task.ActorLvUp),Global.onShowTosat("\u5347\u7ea7\u6210\u529f"),!0):(Global.onShowTosat("\u8bf7\u9009\u62e9\u5408\u9002\u7684\u5347\u7ea7\u5238"),!1)},151:function(){var t=v.default.instance.LV;return t>=30&&t<=45?(v.default.instance.LV++,GEvent.emit(GEventName.Hero.HeroLvUp),GEvent.emit(GEventName.Task.ActorLvUp),Global.onShowTosat("\u5347\u7ea7\u6210\u529f"),!0):(Global.onShowTosat("\u8bf7\u9009\u62e9\u5408\u9002\u7684\u5347\u7ea7\u5238"),!1)},152:function(){var t=v.default.instance.LV;return t>=45&&t<=55?(v.default.instance.LV++,GEvent.emit(GEventName.Hero.HeroLvUp),GEvent.emit(GEventName.Task.ActorLvUp),Global.onShowTosat("\u5347\u7ea7\u6210\u529f"),!0):(Global.onShowTosat("\u8bf7\u9009\u62e9\u5408\u9002\u7684\u5347\u7ea7\u5238"),!1)},153:function(){var t=v.default.instance.LV;return t>=55&&t<60?(v.default.instance.LV++,GEvent.emit(GEventName.Hero.HeroLvUp),GEvent.emit(GEventName.Task.ActorLvUp),Global.onShowTosat("\u5347\u7ea7\u6210\u529f"),!0):t==v.default.roleMaxLevel?(Global.onShowTosat("\u60a8\u5df2\u5347\u5230\u6ee1\u7ea7"),!1):(Global.onShowTosat("\u8bf7\u9009\u62e9\u5408\u9002\u7684\u5347\u7ea7\u5238"),!1)},154:function(){var t=v.default.instance.LV;return t>=60&&t<65?(v.default.instance.LV++,GEvent.emit(GEventName.Hero.HeroLvUp),GEvent.emit(GEventName.Task.ActorLvUp),Global.onShowTosat("\u5347\u7ea7\u6210\u529f"),!0):t==v.default.roleMaxLevel?(Global.onShowTosat("\u60a8\u5df2\u5347\u5230\u6ee1\u7ea7"),!1):(Global.onShowTosat("\u8bf7\u9009\u62e9\u5408\u9002\u7684\u5347\u7ea7\u5238"),!1)}},t}();o.default=T,cc._RF.pop()},{}],GameCfgData:[function(t,e,n){"use strict";cc._RF.push(e,"6f4c2nPTLJP1pfjo/FgGkRM","GameCfgData");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("SceneConfig"),r=i("SceneManager"),s=i("LvHard"),l=i("LvType"),c=i("GameHelper");o.default=new(function(){function t(){this.newplayer=!1,this.LocalHaveData=!1,this.ServerHaverData=!1,this.serverDataInitSuc=!1,this.popNoticeView=!1,this.playerId=1e3,this.blackHoldLv=0,this.ChapterBg="res/Vol/fight_bgm",this.dietowerBg="res/Vol/dietower_bgm",this.MianBgAudio="res/Vol/home_bgm",this.AnimAudio="res/Vol/anim_bgm",this.victoryEffAudio="res/Vol/eff_victory",this.heroUpgrade="res/Vol/hero_upgrade",this.failedEffAudio="res/Vol/eff_failed",this.bagEffAudio="res/Vol/eff_btn_bag",this.gameCopyEffAudio="res/Vol/eff_btn_gamecopy",this.openPotEffAudio="res/Vol/eff_btn_openpot",this.powerEffAudio="res/Vol/eff_btn_power",this.skillEffAudio="res/Vol/eff_btn_skill",this.openPotBtnEffAudio="res/Vol/eff_btn_openpotBtn",this.taskBtnEffAudio="res/Vol/eff_btn_taskBtn",this.MysteryShopEffAudio="res/Vol/eff_btn_myshop",this.buyBtnAudio="res/Vol/eff_btn_buy",this.openBoxAudio="res/Vol/eff_btn_openbox",this.skillUpAudio="res/Vol/eff_skillup",this.powerUPSucAudio="res/Vol/eff_powerupsuc",this.powerUPFailAudio="res/Vol/eff_powerupfail",this.weaponLigthAniCfg={null:"",yellow:"huo1yellow",blue:"huo2blue",pink:"huo3pink",purple:"huo4purple"},this.previewEffID=-1,this.curChapter=1,this.curLevel=1,this.LvType=l.LvType.NORMAL,this.LvHard=s.LvHard.NORMAL,this.ACTIVITYChapterIndex=-1,this.onpassLevel=!1,this.HuodongAddTime=120,this.HeroSKillIDs=[10,120,110,111,112,113,114,130],this.preLoadCombatResPro={Map:{cur:0,pro:.41},SkillIcon:{cur:0,pro:.1},Player:{cur:0,pro:.2},PlayerSkill:{cur:0,pro:.2},Scene:{cur:0,pro:.1}}}return t.prototype.oninit=function(){},t.prototype.LoadChapterRes=function(t,e,n,i){var o=this;for(var a in void 0===t&&(t=1),void 0===e&&(e=1),this.preLoadCombatResPro)this.preLoadCombatResPro[a].cur=0;var r=function(){var t=0;for(var e in o.preLoadCombatResPro)t+=o.preLoadCombatResPro[e].cur*o.preLoadCombatResPro[e].pro;n(t,1),t>=1&&i()};this.preloadLvMap(t,e,this.preLoadCombatResPro.Map,r),this.preloadPlayerRes(this.preLoadCombatResPro.Player,r),this.preloadPlayerSkillRes(this.preLoadCombatResPro.PlayerSkill,r),this.preLoadCombatScene(this.preLoadCombatResPro.Scene,r),this.preLoadSKillIcon(this.preLoadCombatResPro.SkillIcon,r)},t.prototype.preLoadSKillIcon=function(t,e){var n=[],i=c.default.instance.ActorSkillData();for(var o in this.HeroSKillIDs){var a=i[this.HeroSKillIDs[o]];0!=a.icon&&n.push(a.icon)}cc.resources.load(n,cc.Texture2D,function(n,i){t&&(t.cur=n/i),e()},function(){t.cur=1,e()})},t.prototype.preloadLvMap=function(t,e,n,i){var o=[],a=c.default.instance.getChapterLevelMapResData(t,e);for(var r in o.push.apply(o,a.layer0),o.push.apply(o,a.layer1),o.push.apply(o,a.layer2),o.push.apply(o,a.layer3),o.push.apply(o,a.layer4),o.push.apply(o,a.layer5),o)o[r]="res/"+a.res_group+"/Map/"+o[r];cc.resources.load(o,cc.Texture2D,function(t,e){n&&(n.cur=t/e),i()},function(){n.cur=1,i()})},t.prototype.preloadPlayerRes=function(t,e){cc.resources.load("res/JianHun/Sk",sp.SkeletonData,function(n,i){t&&(t.cur=n/i),e()},function(){t.cur=1,e()})},t.prototype.preloadPlayerSkillRes=function(t,e){var n=["res/JianHun/Sk/jianhun_bdz_tx1","res/JianHun/Sk/jianhun_gjs_tx1","res/JianHun/Sk/jianhun_hyjw_tx1","res/JianHun/Sk/jianhun_hyjw_tx2","res/JianHun/Sk/jianhun_jgjs_tx1","res/JianHun/Sk/jianhun_mldk_tx1","res/JianHun/Sk/jianhun_mldk_tx2","res/JianHun/Sk/jianhun_pjsl_tx1","res/JianHun/Sk/jianhun_pjsl_tx2","res/JianHun/Sk/jianhun_wdz_tx1","res/JianHun/Sk/jianhun_st_tx1"];for(var i in n)n[i]+=c.default.instance.getPlayerSkillLastUrl();cc.resources.preload(n,sp.SkeletonData,function(n,i){t&&(t.cur=n/i),e()},function(){t.cur=1,e()})},t.prototype.preLoadCombatScene=function(t,e){r.default.instance.preLoadScene(a.default.Scenes.CombatGameScene,function(n,i){t&&(t.cur=n/i),e()},function(){t.cur=1,e()})},t.prototype.getPowerLvAniName=function(t){return t>=1&&t<=8?this.weaponLigthAniCfg.pink:t>=9&&t<=12?this.weaponLigthAniCfg.blue:t>=13&&t<=14?this.weaponLigthAniCfg.purple:t>=15&&t<=1e3?this.weaponLigthAniCfg.yellow:this.weaponLigthAniCfg.null},t.prototype.onNewPlayerLevel=function(){this.onEnterGame(l.LvType.NORMAL,s.LvHard.NORMAL,0,0)},t.prototype.onEnterGame=function(t,e,n,i){void 0===t&&(t=l.LvType.NORMAL),void 0===e&&(e=s.LvHard.NORMAL),void 0===n&&(n=1),void 0===i&&(i=1),this.LvType=t,this.LvHard=this.LvType==l.LvType.ABYSS?s.LvHard.NORMAL:this.LvType==l.LvType.Tower?s.LvHard.TOWER:e,this.curChapter=n,this.curLevel=i,this.onpassLevel=!1,c.default.instance.enterGameScene(!0)},t}()),cc._RF.pop()},{}],GameCopyManager:[function(t,e,n){"use strict";cc._RF.push(e,"eaae8LmLThO3rLjai/5mwe9","GameCopyManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Utils"),r=i("GameStatsManager"),s=i("ServerCommonCfgMgr"),l=function(){function t(){this.GameCopyData=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.GameCopyData=t,s.default.getLoginTime().then(function(t){if(t&&a.default.doubleTimestampEqualDay(t,r.default.instance.lastLoginTime))for(var n=0;n<7;n++)e.GameCopyCount[n]=!1})},Object.defineProperty(t.prototype,"GameCopyCount",{get:function(){return this.GameCopyData.gameCopyCount},set:function(t){this.GameCopyData.gameCopyCount=t},enumerable:!1,configurable:!0}),t}();o.default=l,cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"30ab72l23hPwIcyMTQjjxoH","GameData");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("NumberStorageValue"),r=i("ArrayStorageValue"),s=i("LvHard"),l=i("Constant"),c=i("platformConfig"),u=function(){function t(){}return t.initJson=function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),cc.resources.loadDir("Json",cc.JsonAsset,function(e,n){t&&t(e,n)},function(t,i){i.forEach(function(t){n.configList[t.name]=t.json}),e&&e()}),window.GameData=this},t.getRes=function(t){return this.configList[t]},t.SkillData=function(t,e){return void 0===e&&(e=!1),this.getRes(e?"skill_data_jh":"skill_data")},t.EnemySkillData=function(){return this.getRes("enemy_skill_data")},t.HeroData=function(){return this.getRes("hero_data")},t.HeroaniNamedata=function(){return this.getRes("heroaniname_data")},t.HeroSkillData=function(){return this.getRes("heroskill_data")},t.EnemyData=function(t){var e;switch(t){case s.LvHard.ACTIVE:case s.LvHard.NORMAL:e="enemy_json_normal";break;case s.LvHard.HARD:e="enemy_json_hard";break;case s.LvHard.KING:e="enemy_json_king";break;case s.LvHard.TOWER:e="enemy_json_tower"}return this.getRes(e)},t.VFXData=function(){return this.getRes("vfx_data")},t.MapResData=function(){return this.getRes("map_res")},t.MapData=function(){return this.getRes("map_data")},t.UIMapData=function(t){return this.getRes(t?"ui_mapdata_abyss":"ui_mapdata")},t.UIActiveMapData=function(){return this.getRes("ui_activemapdata")},t.EquipData=function(){return this.getRes("equip_data")},t.FashionData=function(){return this.getRes("fashion_data")},t.FashionDataTT=function(){return this.getRes("fashion_data_tt")},t.FashionDataOV=function(){return this.getRes("fashion_data_ov")},t.FashionDataTTVideo=function(){return this.getRes("fashion_data_tt_video")},t.ActorData=function(){return this.getRes("actor_json")},t.TaskData=function(){return this.getRes("task_json")},t.shopchangeData=function(){return this.getRes("shopchange")},t.shopData=function(){return this.getRes("shop_data")},t.shopDataTT=function(){return this.getRes("shop_data_tt")},t.shopDataOV=function(){return this.getRes("shop_data_ov")},t.shopDataTTVideo=function(){return this.getRes("shop_data_tt_video")},t.fashionEffectData=function(){return this.getRes("fashion_effect")},t.fashionEffectDataTT=function(){return this.getRes("fashion_effect_tt")},t.fashionEffectDataOV=function(){return this.getRes("fashion_effect_ov")},t.fashionEffectDataTTVideo=function(){return this.getRes("fashion_effect_tt_video")},t.fashionWeaponData=function(){return this.getRes("fashion_weapon")},t.fashionWeaponDataTT=function(){return this.getRes("fashion_weapon_tt")},t.fashionWeaponDataOV=function(){return this.getRes("fashion_weapon_ov")},t.fashionWeaponDataTTVideo=function(){return this.getRes("fashion_weapon_tt_video")},t.ItemData=function(){return this.getRes("item_json")},t.EvilShopData=function(){return this.getRes("evilShop_json")},t.BossModeData=function(){return this.getRes("bossMode_data")},t.SignData=function(){return this.getRes("sign_json")},t.BottleData=function(){return this.getRes("bottle_json")},t.DropData=function(){return c.default.platformType==l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX||c.default.platformType==l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX?this.getRes("drop_type"):this.getRes("drop_original_type")},t.EquipSetData=function(){return this.getRes("equipset_json")},t.OpenPotRewardData=function(){return this.getRes("openpotreward_json")},t.CurrenyData=function(){return this.getRes("curreny_json")},t.ActorSkillData=function(){return this.getRes("actor_skill_data")},t.MysteryShopData=function(){return this.getRes("mysteryShop")},t.NameData=function(){return this.getRes("rolename")},t.PassLVData=function(){return this.getRes("passSubsection_data")},t.GameTitleData=function(){return this.getRes("gameTitle_json")},t.GameTitleDataTT=function(){return this.getRes("gameTitle_tt_json")},t.DeathTowerBoxData=function(){return this.getRes("deathTowerBox_data")},t.DeathTowerTaks=function(){return this.getRes("deathTowerTaks")},t.towerlayerproData=function(){return this.getRes("tower_layer_pro")},t.towerlayerproTypeData=function(){return this.getRes("towerselectpro_type")},t.TowerActivityData=function(){return this.getRes("tower_activity")},t.GoldActivityData=function(){return this.getRes("gold_activity")},t.MSTaskData=function(){return this.getRes("magicsword_taskdata")},t.METaskData=function(){return this.getRes("magicequip_taskdata")},t.MSTaskRewardData=function(){return this.getRes("msTask_rewarddata")},t.InterflowGameData=function(){return this.getRes("interflow_game_data")},t.JlzData=function(){return this.getRes("jlzdata_json")},t.JlzRewardData=function(){return this.getRes("jlzReward_json")},t.HeroTitleActData=function(){return this.getRes("heroTitleAct_json")},t.SpringActData=function(){return this.getRes("spring_activity")},t.GetOnLineGameResUrl=function(t,e,n){return this.game_res.net_res[t].res_group[e].res[n].url},t.GetLocalGameResUrl=function(t){return this.game_res.local_res[t].url},Object.defineProperty(t,"GetGameCoin",{get:function(){return this.get_game_coin.GetValue},set:function(t){this.get_game_coin.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"GetGameCoupon",{get:function(){return this.get_game_coupon.GetValue},set:function(t){this.get_game_coupon.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"GameCoin",{get:function(){return this.game_coin.GetValue},set:function(t){this.game_coin.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"GameCoupon",{get:function(){return this.game_coupon.GetValue},set:function(t){this.game_coupon.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Chapter",{get:function(){return this.chapter.GetValue},set:function(t){this.chapter.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Lv",{get:function(){return this.lv.GetValue},set:function(t){this.lv.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Fatigue",{get:function(){return this.fatigue.GetValue},set:function(t){this.fatigue.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"FatigueTime",{get:function(){return this.fatigue_time.GetValue},set:function(t){this.fatigue_time.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BagEquipUnlockPage",{get:function(){return this.bagequipunlockpage.GetValue},set:function(t){this.bagequipunlockpage.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BagItemUnlockPage",{get:function(){return this.bagitemunlocakpage.GetValue},set:function(t){this.bagitemunlocakpage.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"AdsAddCoinCount",{get:function(){return this.ads_addcoin_count.GetValue},set:function(t){this.ads_addcoin_count.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"AdsAddCouponCount",{get:function(){return this.ads_addcoupon_count.GetValue},set:function(t){this.ads_addcoupon_count.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"AdsAddFatigueCount",{get:function(){return this.ads_addfatigue_count.GetValue},set:function(t){this.ads_addfatigue_count.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NewPlayerStep",{get:function(){return this.newplayer_step.GetValue},set:function(t){this.newplayer_step.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ShopChangeCD1",{get:function(){return this.shopchange_cd1.GetValue},set:function(t){this.shopchange_cd1.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ShopChangeCD2",{get:function(){return this.shopchange_cd2.GetValue},set:function(t){this.shopchange_cd2.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"PlayDungeonCount",{get:function(){return this.playdungeoncount.GetValue},set:function(t){this.playdungeoncount.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"InviteNewPlayer",{get:function(){return this.invitenewplayer.GetValue},set:function(t){this.invitenewplayer.SetValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"PowerFailCount",{get:function(){return this.powerfail_count.GetValue},set:function(t){this.powerfail_count.SetValue=t},enumerable:!1,configurable:!0}),t.InitData=function(){this.get_game_coin=new a.default("get_gamecoin",1e4),this.get_game_coupon=new a.default("get_gamecoupon",0),this.game_coin=new a.default("gamecoin",1e4),this.game_coupon=new a.default("gamecoupon",0),this.chapter=new r.default("chapter",[1]),this.lv=new r.default("lv",[-1]),this.fatigue=new a.default("fatigue",20),this.fatigue_time=new a.default("fatigue_time",0),this.bagequipunlockpage=new a.default("bagequipunlockpage",1),this.bagitemunlocakpage=new a.default("bagitemunlocakpage",1),this.ads_addcoin_count=new a.default("adsaddcoincount",0),this.ads_addcoupon_count=new a.default("adsaddcouponcount",0),this.ads_addfatigue_count=new a.default("adsaddfatiguecount",0),this.newplayer_step=new a.default("newplayer_step",0,!1),this.shopchange_cd1=new a.default("shopchange_cd1",0),this.shopchange_cd2=new a.default("shopchange_cd2",0),this.playdungeoncount=new a.default("playdungeoncount",0),this.invitenewplayer=new a.default("invitenewplayer",0,!1),this.powerfail_count=new a.default("powerfailcount",0)},t.Reset=function(){this.GetGameCoupon=1e4,this.GetGameCoupon=0,this.GameCoin=1e4,this.GameCoupon=0,this.Chapter=[1],this.Lv=[-1],this.Fatigue=20,this.FatigueTime=0,this.BagEquipUnlockPage=1,this.BagItemUnlockPage=1,this.AdsAddCoinCount=0,this.AdsAddCouponCount=0,this.AdsAddFatigueCount=0,this.NewPlayerStep=0,this.ShopChangeCD1=0,this.ShopChangeCD2=0,this.PlayDungeonCount=0,this.InviteNewPlayer=0,this.PowerFailCount=0},t.NewDayRefreshData=function(){this.AdsAddCoinCount=0,this.AdsAddCouponCount=0,this.AdsAddFatigueCount=0},t.actor_count=1,t.res_finishload=[!1,!1,!1,!1],t.configList={},t}();o.default=u,cc._RF.pop()},{}],GameError:[function(t,e,n){"use strict";cc._RF.push(e,"1eadfSWOcpNW58UzOKpUtN8","GameError");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.GameError=void 0,function(t){t[t.GETOPENIDFAIL=0]="GETOPENIDFAIL",t[t.GETUSERDATAFAIL=1]="GETUSERDATAFAIL",t[t.LOGINFAIL=2]="LOGINFAIL",t[t.LOCALDATACHEAT=3]="LOCALDATACHEAT",t[t.CHEATER=4]="CHEATER",t[t.BagFull=5]="BagFull",t[t.EquipNull=6]="EquipNull",t[t.EquipLvHeight=7]="EquipLvHeight",t[t.ItemNull=8]="ItemNull",t[t.ItemInsufficient=9]="ItemInsufficient",t[t.ItemCannotUse=10]="ItemCannotUse",t[t.SKILL_LOCK=11]="SKILL_LOCK",t[t.SKILL_LV_MAX=12]="SKILL_LV_MAX",t[t.PAYCOINFAIL=13]="PAYCOINFAIL",t[t.PAYCOUPONFAIL=14]="PAYCOUPONFAIL",t[t.PAYFATIGUEFAIL=15]="PAYFATIGUEFAIL",t[t.NOTASK=16]="NOTASK",t[t.FASHION_UNLOCK=17]="FASHION_UNLOCK",t[t.NORMAL_OPEN_MAX=18]="NORMAL_OPEN_MAX",t[t.ADS_FREEOPEN_NOCOUNT=19]="ADS_FREEOPEN_NOCOUNT",t[t.FREE_OPENED=20]="FREE_OPENED",t[t.BUFFREFLASHFULL=21]="BUFFREFLASHFULL"}(i.GameError||(i.GameError={})),cc._RF.pop()},{}],GameHelper:[function(t,e,n){"use strict";cc._RF.push(e,"26966bMZNNNo4Ydl+40LAI3","GameHelper");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("SceneConfig"),r=i("SceneManager"),s=i("GameData"),l=i("EquipType"),c=i("GameCfgData"),u=i("BagManager"),p=i("FashionManager"),d=i("FashionSkinDataManger"),f=i("HeroTitleDataManger"),h=i("ServerCommonCfgMgr"),y=i("SettingManager"),g=i("RoleCfgManager"),m=i("Admanager"),v=i("platformConfig"),_=i("Constant"),b=i("Utils"),k=function(){function t(){this.combattileMap=new Map}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),window.GameHelper=this._ins,this._ins},enumerable:!1,configurable:!0}),t.prototype.getLog=function(){},t.prototype.EnemyData=function(t){return s.default.EnemyData(t)},t.prototype.MapData=function(){return s.default.MapData()},t.prototype.MapResData=function(){return s.default.MapResData()},t.prototype.ActorSkillData=function(){return s.default.ActorSkillData()},t.prototype.HeroData=function(){return s.default.HeroData()},t.prototype.ActorData=function(){return s.default.ActorData()},t.prototype.HeroaniNamedata=function(){return s.default.HeroaniNamedata()},t.prototype.HeroSkillData=function(){return s.default.HeroSkillData()},t.prototype.DropData=function(){return s.default.DropData()},t.prototype.EquipData=function(){return s.default.EquipData()},t.prototype.ShopData=function(){if(h.default.isTTVideos)return s.default.shopDataTTVideo();switch(v.default.platformType){case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS:return s.default.shopDataOV();case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT:return s.default.shopDataTT();case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ:return s.default.shopData()}},t.prototype.FashionData=function(){if(h.default.isTTVideos)return s.default.FashionDataTTVideo();switch(v.default.platformType){case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS:return s.default.FashionDataOV();case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT:return s.default.FashionDataTT();case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ:return s.default.FashionData()}},t.prototype.NameData=function(){return s.default.NameData()},t.prototype.fashionWeaponData=function(){if(h.default.isTTVideos)return s.default.fashionWeaponDataTTVideo();switch(v.default.platformType){case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS:return s.default.fashionWeaponDataOV();case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT:return s.default.fashionWeaponDataTT();case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ:return s.default.fashionWeaponData()}},t.prototype.fashionEffectData=function(){if(h.default.isTTVideos)return s.default.fashionEffectDataTTVideo();switch(v.default.platformType){case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS:return s.default.fashionEffectDataOV();case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT:return s.default.fashionEffectDataTT();case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX:case _.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ:return s.default.fashionEffectData()}},t.prototype.DeathTowerBoxData=function(){return s.default.DeathTowerBoxData()},t.prototype.TowerlayerproData=function(){return s.default.towerlayerproData()},t.prototype.towerlayerproTypeData=function(){return s.default.towerlayerproTypeData()},t.prototype.GameTitleData=function(){return v.default.platformType==_.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?s.default.GameTitleDataTT():s.default.GameTitleData()},t.prototype.getMsTaskRewardData=function(t){for(var e=Object.values(s.default.MSTaskRewardData()),n=0;n<e.length;n++)if(t>=e[n].startLv&&t<=e[n].endLv)return e[n]},t.prototype.getTowerTypeData=function(t){var e=this.towerlayerproTypeData();for(var n in e)if(e[n].type==t)return e[n];return null},t.prototype.getChapterLevelData=function(t,e){var n=this.MapData();if(n){for(var i=0;i<n.length;i++)if(n[i].chapter==t&&n[i].subsection==e)return n[i];return console.log("\u5f53\u524d\u5173\u5361\u6570\u636e\u5bfb\u627e\u5931\u8d25",t,e),null}},t.prototype.getChapterLevelMapResData=function(t,e){var n=this.MapResData();for(var i in n)if(n[i].chapter==t&&n[i].subsection==e)return n[i];console.log("\u5f53\u524d\u5173\u5361\u5730\u56fe\u6570\u636e\u5bfb\u627e\u5931\u8d25",t,e)},t.prototype.LoadSkillSkeleton=function(t,e,n){return void 0===n&&(n="default"),new Promise(function(i,o){cc.resources.load(e,sp.SkeletonData,function(e,a){if(e)return o(e),void console.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25 LoadSkillSkeleton",e);t.skeletonData=a,t.setSkin(n),i(!0)})})},t.prototype.CutWeapon=function(t,e){return void 0===t&&(t="res/Weapon/1101100"),new Promise(function(n,i){cc.resources.load(t,function(o,a){if(o)return console.error("\u6b66\u5668\u56fe\u7247\u52a0\u8f7d\u5931\u8d25",t,o),void i(o);b.default.cutWeapone(e,"wuqi",a),n(!0)})})},t.prototype.CutPartSlot=function(e){var n=t.instance.HeroData()[c.default.playerId].skin;e.setSkin(n);var i=p.default.Init.EquipingFashion[g.default.instance.curRoleID];if(p.default.Init.gatherall_equip())return n=p.default.Init.getFashionSetById(i[0]).set_skin_name,void e.setSkin(n);for(var o=0;o<i.length;o++)if(-1!=i[o])for(var a=p.default.Init.getFashionSetById(i[o]).set_skin_name,r=p.default.Init.getFashionSetById(i[o]).equip[o].slot,s=0;s<r.length;s++){var l=e,u=r[s],d=a,f=u,h=l.findSlot(u),y=l.skeletonData.getRuntimeData(),m=y.findSlotIndex(u),v=y.findSkin(d).getAttachment(m,f);h&&h.setAttachment(v)}},t.prototype.PreviewPartSlot=function(e,n){var i=t.instance.HeroData()[c.default.playerId].skin;e.setSkin(i);for(var o=p.default.Init.EquipingFashion[g.default.instance.curRoleID],a=b.default.copyArr_slice(o),r=0;r<3;r++)-1!=n[r]&&(a[r]=n[r]);if(a.length>=3&&a[0]==a[1]&&a[0]==a[2])return i=p.default.Init.FashionSet[g.default.instance.curRoleID][a[0]].set_skin_name,void e.setSkin(i);for(r=0;r<3;r++)if(-1!=n[r])for(var s=p.default.Init.FashionSet[g.default.instance.curRoleID][n[r]].set_skin_name,l=p.default.Init.FashionSet[g.default.instance.curRoleID][n[r]].equip[r].slot,u=0;u<l.length;u++){var d=e,f=l[u],h=s,y=f,m=d.findSlot(f),v=d.skeletonData.getRuntimeData(),_=v.findSlotIndex(f),k=v.findSkin(h).getAttachment(_,y);m&&m.setAttachment(k)}},t.prototype.PreviewSuitSlot=function(t,e){var n=p.default.Init.getFashionSetById(e).set_skin_name;t.setSkin(n)},t.prototype.PreviewWeaponSkin=function(t,e){var n="res/Weapon/1150300";n=u.default.Init.getHeroWeapon();var i=this.fashionWeaponData();-1!=e&&e<i.length&&i.forEach(function(t){t.id==e&&(n=t.ske_tex)}),this.CutWeapon(n,t).then(function(){console.log("\u5207\u6362\u6b66\u5668\u5b8c\u6210")}).catch(function(t){console.error("LoadSk",t)})},t.prototype.getCombatTile=function(t,e){var n=this;return new Promise(function(i,o){var a="res/map/chapter"+t,r=[a+"/tile_1_0",a+"/tile_1_1",a+"/tile_1_2",a+"/tile_1_3_1",a+"/tile_1_3_2",a+"/tile_1_3_3"];console.log("urls",r),cc.resources.load(r,function(a,r){a&&(console.log("\u8d44\u6e90\u52a0\u8f7d\u9519\u8bef"),o(!0)),n.combattileMap.set(t+"_"+e,r),i(r)})})},t.prototype.WeaponLight=function(t){var e=this;return new Promise(function(n,i){var o=u.default.Init.getEquipingData(l.EquipType.WEAPON),a=e.getAdNode(t,"wuqi").getChildByName("wuqitexiao");if(o){var r=o.PowerLv,s=c.default.getPowerLvAniName(r);if(""!=s)return a?(a.getComponent(sp.Skeleton).setAnimation(0,s,!0),void n(!0)):void cc.resources.load("game/common/weaponLight",cc.Prefab,function(o,a){if(o)return console.error("\u52a0\u8f7d\u6b66\u5668\u5149\u6548\u5931\u8d25"),void i(!1);var r=e.getAdNode(t,"wuqi").getChildByName("wuqitexiao");r?r.getComponent(sp.Skeleton).setAnimation(0,s,!0):((r=cc.instantiate(a)).parent=e.getAdNode(t,"wuqi"),r.name="wuqitexiao",r.opacity=200,r.getComponent(sp.Skeleton).setAnimation(0,s,!0)),n(!0)});a&&a.destroy()}else a&&a.destroy()})},t.prototype.getAdNode=function(t,e){var n=t.attachUtil;return n.generateAllAttachedNodes(),n.getAttachedNodes(e)[0]},t.prototype.enterGameScene=function(t){void 0===t&&(t=!1),r.default.instance.currentScene!=a.default.Scenes.CombatGameScene&&r.default.instance.currentScene!=a.default.Scenes.TowerGameScene&&r.default.instance.currentScene!=a.default.Scenes.ToxicityGameScene||GEvent.emit(GEventName.CombatEvents.DestroyData),t?(cc.macro.ENABLE_MULTI_TOUCH=!0,r.default.instance.load(a.default.Scenes.ToCombatScene)):(cc.macro.ENABLE_MULTI_TOUCH=!1,r.default.instance.load(a.default.Scenes.MainScene))},t.prototype.LoadIcon=function(t,e){cc.resources.load(t,function(n,i){n?console.error("\u52a0\u8f7d\u56fe\u7247\u9519\u8bef",t):e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)})},t.prototype.VibrateLong=function(){y.default.instance.isShock&&m.default.instance.VibrateLong()},t.prototype.VibrateShort=function(){y.default.instance.isShock&&m.default.instance.VibrateShort()},t.prototype.releaseAsset=function(t){Array.isArray(t)?(t.forEach(function(t){cc.assetManager.releaseAsset(t)}),t=[]):cc.assetManager.releaseAsset(t)},t.prototype.updateActor=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!0),this.CutPartSlot(t),this.WeaponLight(t),n&&this.HeroTitle(t,e);var i=this.getHeroUseWeapontUrl();this.CutWeapon(i,t).then(function(){console.log("\u5207\u6362\u6b66\u5668\u5b8c\u6210")}).catch(function(t){console.error("LoadSk",t)})},t.prototype.HeroTitle=function(t,e){void 0===e&&(e=1);var n=f.default.instance.curweartitleId,i=this.GameTitleData()[n];if(-1!=n&&i){var o=i.spine,a=t.node.parent.parent.getChildByName("2"),r=a.getChildByName("hero_title");r||((r=new cc.Node("hero_title")).addComponent(sp.Skeleton),a.addChild(r),r.scale=.7,r.position=cc.v3(t.node.x+15,t.node.y+t.node.height*t.node.parent.scaleY+20));var s=r.getComponent(sp.Skeleton);o?this.LoadSkillSkeleton(s,o).then(function(){s.unscheduleAllCallbacks(),s.setCompleteListener(function(){s.node.opacity=0,s.scheduleOnce(function(){s.node.opacity=255,s.setAnimation(0,"animation",!1)},e)}),s.setAnimation(0,"animation",!1)}):s.skeletonData=null}},t.prototype.getPlayerSkillLastUrl=function(t){if(void 0===t&&(t=null),Global.TestMode)return"";var e=-1,n="";switch(t&&t.previewMode?e=c.default.previewEffID:Array.isArray(d.default.instance.EquipingList)&&(e=d.default.instance.EquipingList[1]),e){case-1:n="";break;case 0:n="_golden";break;case 1:n="_red";break;case 2:n="_green";break;case 3:n="_mj";break;default:n=""}return n},t.prototype.getHeroUseWeapontUrl=function(){var t="res/Weapon/1170408";t=u.default.Init.getHeroWeapon();var e=d.default.instance.getWeaponSkillID(),n=this.fashionWeaponData();return-1!=e&&e<n.length&&n.forEach(function(n){n.id==e&&(t=n.ske_tex)}),t},t}();o.default=k,cc._RF.pop()},{}],GameManage:[function(t,e,n){"use strict";cc._RF.push(e,"b62853OBjBPQoa8vd3jpfDK","GameManage");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("ResManger"),c=cc._decorator,u=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map_data=null,e.cur_tile_index=1,e.game_scene=null,e}return r(e,t),Object.defineProperty(e,"instance",{get:function(){return this._ins},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){window.ResManger=l.ResManger.instance},s([p(cc.Node)],e.prototype,"game_scene",void 0),s([u],e)}(cc.Component);a.default=d,cc._RF.pop()},{}],GameObjectType:[function(t,e,n){"use strict";cc._RF.push(e,"43dc789KlFEub0uWppNQYoN","GameObjectType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.GameObjectType=void 0,function(t){t[t.NONE=0]="NONE",t[t.PLAYER=1]="PLAYER",t[t.ENEMY=2]="ENEMY",t[t.VFX=3]="VFX",t[t.BOSS=4]="BOSS",t[t.BUILD_ENEMY=5]="BUILD_ENEMY"}(i.GameObjectType||(i.GameObjectType={})),cc._RF.pop()},{}],GameStatsManager:[function(t,e,n){"use strict";cc._RF.push(e,"f5e41fVwopAV7wmN6/DNoKx","GameStatsManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Admanager"),r=i("platformConfig"),s=i("configStore"),l=i("Constant"),c=i("Utils"),u=i("ModeLVDataManger"),p=i("ServerCommonCfgMgr"),d=function(){function t(){this.GameStatistics=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.GameStatistics=t,this.initDay()},t.prototype.initDay=function(){var e=this;p.default.getLoginTime().then(function(n){if(n&&(c.default.doubleTimestampEqualDay(n,t.instance.lastLoginTime)&&(t.instance.isShareNotice=!1,t.instance.isDailyLaunchDesktop=!1,e.GameStatistics.todayFromDesktop=!1,e.GameStatistics.mojianTodayTimes=10),r.default.platformType===l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&0==e.GameStatistics.todayFromDesktop)){var i=a.default.instance.getLaunchOptionsSync();console.log("getLaunchOptionsSync = ",i),console.log("getLaunchOptionsSync.scene = ",i.scene),91020!=i.scene&&"91020"!=i.scene&&"01020"!=i.scene&&"011020"!=i.scene&&"021020"!=i.scene&&"061020"!=i.scene||(s.default.showEnterReward=!0,e.GameStatistics.todayFromDesktop=!0,e.GameStatistics.enterFromDesktop+=1)}})},Object.defineProperty(t.prototype,"lastLoginTime",{get:function(){return this.GameStatistics.lastLoginTime},set:function(t){this.GameStatistics.lastLoginTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offLineTime",{get:function(){return this.GameStatistics.offLineTime},set:function(t){this.GameStatistics.offLineTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShareNotice",{get:function(){return this.GameStatistics.isShareNotice},set:function(t){this.GameStatistics.isShareNotice=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bagEquipUnlockPage",{get:function(){return this.GameStatistics.bagEquipUnlockPage},set:function(t){this.GameStatistics.bagEquipUnlockPage=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bagItemUnlocakPage",{get:function(){return this.GameStatistics.bagItemUnlocakPage},set:function(t){this.GameStatistics.bagItemUnlocakPage=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGetCustomerReward",{get:function(){return this.GameStatistics.isGetCustomerReward},set:function(t){this.GameStatistics.isGetCustomerReward=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"FashionVideoCount",{get:function(){return this.GameStatistics.fashionVideoCount},set:function(t){this.GameStatistics.fashionVideoCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHeadIconVIP",{get:function(){return this.GameStatistics.isHeadIconVIP},set:function(t){this.GameStatistics.isHeadIconVIP=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCreateRole",{get:function(){return u.default.instance.ChapterLvPass(0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMissAD",{get:function(){return this.GameStatistics.isMissAD1},set:function(t){this.GameStatistics.isMissAD1=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstLaunchDesktop",{get:function(){return this.GameStatistics.isFirstLaunchDesktop},set:function(t){this.GameStatistics.isFirstLaunchDesktop=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDailyLaunchDesktop",{get:function(){return this.GameStatistics.isDailyLaunchDesktop},set:function(t){this.GameStatistics.isDailyLaunchDesktop=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstFollow",{get:function(){return this.GameStatistics.isFirstFollow},set:function(t){this.GameStatistics.isFirstFollow=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnlockMJTask",{get:function(){return this.GameStatistics.isUnlockMJTask},set:function(t){this.GameStatistics.isUnlockMJTask=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GuanzhuDouyin",{get:function(){return this.GameStatistics.guanzhuDouyin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GuanZhuDouyin",{set:function(t){this.GameStatistics.guanzhuDouyin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstEnter",{get:function(){return this.GameStatistics.isFirstEnter},set:function(t){this.GameStatistics.isFirstEnter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"passPrivacy",{get:function(){return this.GameStatistics.passPrivacy},set:function(t){this.GameStatistics.passPrivacy=t},enumerable:!1,configurable:!0}),t}();o.default=d,cc._RF.pop()},{}],GetFashionType:[function(t,e,n){"use strict";cc._RF.push(e,"5ca14eJ0ZFCur71ogaj20EK","GetFashionType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.GetFashionType=void 0,function(t){t[t.COUPON=0]="COUPON",t[t.VIDEO=1]="VIDEO",t[t.INVITE=2]="INVITE",t[t.SHOPVIDEO=3]="SHOPVIDEO",t[t.CDKEY=4]="CDKEY",t[t.PASSLVREWARD=5]="PASSLVREWARD",t[t.GOLDACTIVITY=6]="GOLDACTIVITY",t[t.TOWERACTIVITY=7]="TOWERACTIVITY",t[t.MAGICSWORD=8]="MAGICSWORD",t[t.JLZMAKE=9]="JLZMAKE",t[t.WSJACTIVITY=10]="WSJACTIVITY",t[t.FREE=999]="FREE",t[t.FRAGMENT=1e3]="FRAGMENT"}(i.GetFashionType||(i.GetFashionType={})),cc._RF.pop()},{}],GetShopType:[function(t,e,n){"use strict";cc._RF.push(e,"f41b1NfLhdPMa8/g/FiCynR","GetShopType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.GetFashionType=void 0,function(t){t[t.CURRENCY=0]="CURRENCY",t[t.VIDEO=1]="VIDEO",t[t.INVITE=2]="INVITE"}(i.GetFashionType||(i.GetFashionType={})),cc._RF.pop()},{}],GetTripleExpView:[function(t,e,n){"use strict";cc._RF.push(e,"c65f8JJQExLu6kJsXa3NRII","GetTripleExpView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("TripleExpDataManger"),u=o("Admanager"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.setplatform()},e.prototype.onBtnAdGet=function(){var t=this;u.default.instance.playRewardVideo(function(){c.default.instance.addVideoCount(),Global.onShowTosat("\u606d\u559c\u83b7\u5f973\u500d\u7ecf\u9a8c6\u6b21"),GEvent.emit(GEventName.addTripleExp),GEvent.emit(GEventName.Task.WatchVideo),t.close()})},s([d],e)}(l.default));a.default=f,cc._RF.pop()},{}],Global:[function(t,e,n){"use strict";cc._RF.push(e,"b75fdoXZCNM77LWvjFXSYs2","Global");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("rootNode"),r=function(){function t(){this.TestMode=!1,this.Hero=null,this.TestEnemyHero=null,this.HeroCtrl=null,this.SkillAllOpen=!1}return t.prototype.onShowTosat=function(t,e){void 0===e&&(e=1),a.default.instance&&a.default.instance.onShowTosat(t,e)},t.prototype.setDisplayStats=function(t){void 0===t&&(t=!0),cc.debug.setDisplayStats(t)},t}();window.Global=new r,cc._RF.pop()},{}],GoldActivityView:[function(t,e,n){"use strict";cc._RF.push(e,"fad098YT6FIyIlDmCh3bvt8","GoldActivityView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=o("GameData"),d=o("GameHelper"),f=o("BagManager"),h=o("FashionManager"),y=o("FashionSkinDataManger"),g=o("InviterDataManger"),m=o("ServerCommonCfgMgr"),v=o("ShopDataManger"),_=o("Admanager"),b=o("platformConfig"),k=o("Constant"),S=o("ComRewardView"),w=cc._decorator,T=w.ccclass,C=w.property,D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemList=[],e.itemCostLab=[],e.itemExchangeLab=[],e.itemInviteLab=[],e.itemExchangeBtn=[],e.itemInviteBtn=[],e.fashionId=7,e.weaponId=10,e}return r(e,t),e.prototype.onUILoad=function(){var t=this;this.setplatform(),y.default.instance.pushNewFashionData(),this.GoldActData=p.default.GoldActivityData(),this.fashionId=7,this.weaponId=this.GoldActData[0].weaponId,this.fashionData=h.default.Init.getFashionSetById(this.fashionId),d.default.instance.fashionWeaponData().forEach(function(e){e.id==t.weaponId&&(t.weaponData=e)});for(var e=0;e<this.GoldActData.length;e++)this.itemCostLab[e].string=f.default.Init.FindItem(this.GoldActData[e].needItemId)+"/"+this.GoldActData[e].needItemCount;if(this.GetPlatformType())for(e=0;e<this.GoldActData.length;e++){var n=g.default.instance.getInviterIdCount(this.GoldActData[e].inviteType);this.itemInviteLab[e].string="\u9080\u8bf7"+n+"/"+this.GoldActData[e].InviteCount+"\u4eba\u76f4\u63a5\u83b7\u5f97",n>=this.GoldActData[e].InviteCount&&(0==e?y.default.instance.getFashionSkin(0,this.weaponId):h.default.Init.getFashion(this.fashionId,this.GoldActData[e].weaponId))}else if(this.GetPlatformType_tt())for(e=0;e<this.GoldActData.length;e++){var i=v.default.instance.getVideoIdData(this.GoldActData[e].inviteType).Videocount,o=m.default.IsTTVideos?this.GoldActData[e].TTVideo:this.GoldActData[e].videoCount;this.itemInviteLab[e].string="\u788e\u7247\u5151\u6362 "+i+"/"+o+"      ",i>=o?(this.itemInviteBtn[e].node.getChildByName("Layout").getChildByName("icon_viedo").active=!1,this.itemInviteBtn[e].node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u788e\u7247\u5151\u6362"):(this.itemInviteBtn[e].node.getChildByName("Layout").getChildByName("icon_viedo").active=!0,this.itemInviteBtn[e].node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u83b7\u5f97\u788e\u7247")}else for(e=0;e<this.GoldActData.length;e++)i=v.default.instance.getVideoIdData(this.GoldActData[e].inviteType).Videocount,o=m.default.IsTTVideos?this.GoldActData[e].TTVideo:this.GoldActData[e].videoCount,this.itemInviteLab[e].string="\u89c2\u770b"+i+"/"+o+"\u6b21\u89c6\u9891\u83b7\u5f97",i>=o?(this.itemInviteBtn[e].node.getChildByName("Layout").getChildByName("icon_viedo").active=!1,this.itemInviteBtn[e].node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u9886 \u53d6"):(this.itemInviteBtn[e].node.getChildByName("Layout").getChildByName("icon_viedo").active=!0,this.itemInviteBtn[e].node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u89c2 \u770b");this.refreshBtn()},e.prototype.updateItme=function(t){if(this.GetPlatformType_tt()){var e=v.default.instance.getVideoIdData(this.GoldActData[t].inviteType).Videocount,n=m.default.IsTTVideos?this.GoldActData[t].TTVideo:this.GoldActData[t].videoCount;this.itemInviteLab[t].string="\u788e\u7247\u5151\u6362 "+e+"/"+n+"      ",e>=n?(this.itemInviteBtn[t].node.getChildByName("Layout").getChildByName("icon_viedo").active=!1,this.itemInviteBtn[t].node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u788e\u7247\u5151\u6362"):(this.itemInviteBtn[t].node.getChildByName("Layout").getChildByName("icon_viedo").active=!0,this.itemInviteBtn[t].node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u83b7\u5f97\u788e\u7247")}else e=v.default.instance.getVideoIdData(this.GoldActData[t].inviteType).Videocount,n=m.default.IsTTVideos?this.GoldActData[t].TTVideo:this.GoldActData[t].videoCount,this.itemInviteLab[t].string="\u89c2\u770b"+e+"/"+n+"\u6b21\u89c6\u9891\u83b7\u5f97",e>=n?(this.itemInviteBtn[t].node.getChildByName("Layout").getChildByName("icon_viedo").active=!1,this.itemInviteBtn[t].node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u9886 \u53d6"):(this.itemInviteBtn[t].node.getChildByName("Layout").getChildByName("icon_viedo").active=!0,this.itemInviteBtn[t].node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u89c2 \u770b")},e.prototype.GetPlatformType=function(){return b.default.platformType!=k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&b.default.platformType!=k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&b.default.platformType!=k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO&&b.default.platformType!=k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS},e.prototype.GetPlatformType_tt=function(){return b.default.platformType==k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT},e.prototype.onBtnExchange=function(t,e){var n=parseInt(e);f.default.Init.FindItem(this.GoldActData[n].needItemId)>=this.GoldActData[n].needItemCount?f.default.Init.RemoveItem(this.GoldActData[n].needItemId,this.GoldActData[n].needItemCount).succ&&(0==n?y.default.instance.getFashionSkin(0,this.weaponId):h.default.Init.getFashion(this.fashionId,this.GoldActData[n].weaponId),this.refreshBtn()):Global.onShowTosat("\u6750\u6599\u4e0d\u8db3")},e.prototype.onBtnInvite=function(t,e){var n=this,i=parseInt(e);if(this.GetPlatformType())g.default.instance.shareAppMessageFromUrl(this.GoldActData[i].inviteType);else if(v.default.instance.getVideoIdData(this.GoldActData[i].inviteType).Videocount>=(m.default.IsTTVideos?this.GoldActData[i].TTVideo:this.GoldActData[i].videoCount))0==i?y.default.instance.getFashionSkin(0,this.weaponId):h.default.Init.getFashion(this.fashionId,this.GoldActData[i].weaponId),this.refreshBtn();else if(this.GetPlatformType_tt()){var o=function(t){t&&(v.default.instance.addVideoIdData(n.GoldActData[i].inviteType,1),n.updateItme(i))},a=[{id:100,value:5e4},{id:this.GoldActData[i].fragment_id,value:1}];c.default.instance.load(l.default.Scenes.ComRewardView,void 0,function(t,e){e.getComponent(S.default).showFragment({_reward:a,call:o})})}else _.default.instance.playRewardVideo(function(){v.default.instance.addVideoIdData(n.GoldActData[i].inviteType,1),n.updateItme(i),GEvent.emit(GEventName.Task.WatchVideo)})},e.prototype.refreshBtn=function(){y.default.instance.IsHaveList[0][this.weaponId]&&(this.itemExchangeBtn[0].interactable=!1,this.itemExchangeBtn[0].node.getChildByName("label").color=cc.Color.GRAY,this.itemExchangeBtn[0].node.getChildByName("TX_anniu").active=!1,this.itemExchangeLab[0].node.active=!1,this.itemInviteBtn[0].interactable=!1,this.itemInviteBtn[0].node.children[1].getChildByName("label").color=cc.Color.GRAY,this.itemInviteBtn[0].node.getChildByName("TX_anniu").active=!1,this.itemInviteLab[0].string="\u5df2\u83b7\u5f97");for(var t=0;t<this.fashionData.equip.length;t++)this.fashionData.equip[t].is_have&&(this.itemExchangeBtn[t+1].interactable=!1,this.itemExchangeBtn[t+1].node.getChildByName("label").color=cc.Color.GRAY,this.itemExchangeBtn[t+1].node.getChildByName("TX_anniu").active=!1,this.itemExchangeLab[t+1].node.active=!1,this.itemInviteBtn[t+1].interactable=!1,this.itemInviteBtn[t+1].node.children[1].getChildByName("label").color=cc.Color.GRAY,this.itemInviteBtn[t+1].node.getChildByName("TX_anniu").active=!1,this.itemInviteLab[t+1].string="\u5df2\u83b7\u5f97")},s([C([cc.Node])],e.prototype,"itemList",void 0),s([C([cc.Label])],e.prototype,"itemCostLab",void 0),s([C([cc.Label])],e.prototype,"itemExchangeLab",void 0),s([C([cc.Label])],e.prototype,"itemInviteLab",void 0),s([C([cc.Button])],e.prototype,"itemExchangeBtn",void 0),s([C([cc.Button])],e.prototype,"itemInviteBtn",void 0),s([T],e)}(u.default);a.default=D,cc._RF.pop()},{}],GuideHandType1View:[function(t,e,n){"use strict";cc._RF.push(e,"daa20DzRvdM77pTQ7WoSqYl","GuideHandType1View");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("Utils"),c=o("BaseGuideView"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hand=null,e.circle=null,e.lb=null,e}return r(e,t),e.prototype.setData=function(e,n,i){void 0===i&&(i=null),t.prototype.setData.call(this),this.onRefresh(e,n,i)},e.prototype.onRefresh=function(t,e,n){void 0===n&&(n=null);var i=t.convertToWorldSpaceAR(cc.v3(0,0)),o=this.node.parent.convertToNodeSpaceAR(i);this.hand.position=o,this.circle.position=o,this.lb.node.parent.position=this.circle.position.add(cc.v3(200,200)),e&&(e.HandScale&&(this.circle.scaleX=e.HandScale[0],this.circle.scaleY=e.HandScale[1]),e.str&&(this.lb.string=e.str),e.guideBoxPos&&(this.lb.node.parent.position=cc.v3(e.guideBoxPos[0],e.guideBoxPos[1])),e.maskSize&&(this.circle.width=e.maskSize[0],this.circle.height=e.maskSize[1]),e.maskSpUrl&&l.default.loadSpfFromRes(e.maskSpUrl,this.circle.getComponent(cc.Mask)))},s([d(cc.Node)],e.prototype,"hand",void 0),s([d(cc.Node)],e.prototype,"circle",void 0),s([d(cc.Label)],e.prototype,"lb",void 0),s([p],e)}(c.default);a.default=f,cc._RF.pop()},{}],GuideHandType2View:[function(t,e,n){"use strict";cc._RF.push(e,"9d214SMKjFAiJqsCwCyLWMd","GuideHandType2View");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("BaseGuideView"),c=cc._decorator,u=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hand=null,e.circle=null,e.lb=null,e}return r(e,t),e.prototype.setData=function(e,n,i){void 0===i&&(i=null),t.prototype.setData.call(this),this.onRefresh(e,n,i)},e.prototype.onRefresh=function(t,e,n){void 0===n&&(n=null);var i=t.convertToWorldSpaceAR(cc.v3(0,0)),o=this.node.parent.convertToNodeSpaceAR(i);this.hand.position=o,this.circle.position=o,this.lb.node.parent.position=this.circle.position.add(cc.v3(200,200)),e&&(e.HandScale&&(this.circle.scaleX=e.HandScale[0],this.circle.scaleY=e.HandScale[1]),e.str&&(this.lb.string=e.str),e.guideBoxPos&&(this.lb.node.parent.position=cc.v3(e.guideBoxPos[0],e.guideBoxPos[1])))},s([p(cc.Node)],e.prototype,"hand",void 0),s([p(cc.Node)],e.prototype,"circle",void 0),s([p(cc.Label)],e.prototype,"lb",void 0),s([u],e)}(l.default);a.default=d,cc._RF.pop()},{}],GuideHandType3View:[function(t,e,n){"use strict";cc._RF.push(e,"9c4d3KfuAZAfo8qJeefSHnc","GuideHandType3View");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("BaseGuideView"),c=cc._decorator,u=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hand=null,e.circle=null,e.lb=null,e}return r(e,t),e.prototype.setData=function(e,n,i){void 0===i&&(i=null),t.prototype.setData.call(this),this.onRefresh(e,n,i)},e.prototype.onRefresh=function(t,e,n){void 0===n&&(n=null);var i=t.convertToWorldSpaceAR(cc.v3(0,0)),o=this.node.parent.convertToNodeSpaceAR(i);this.hand.position=cc.v3(o.x,o.y-30),this.circle.position=o,this.lb.node.parent.position=this.circle.position.add(cc.v3(200,200)),e&&(e.HandScale&&(this.circle.scaleX=e.HandScale[0],this.circle.scaleY=e.HandScale[1]),e.str&&(this.lb.string=e.str),e.guideBoxPos&&(this.lb.node.parent.position=cc.v3(e.guideBoxPos[0],e.guideBoxPos[1]))),cc.tween(this.hand).repeatForever(cc.tween().to(.3,{scale:1.2}).to(.3,{scale:.9})).start()},s([p(cc.Node)],e.prototype,"hand",void 0),s([p(cc.Node)],e.prototype,"circle",void 0),s([p(cc.Label)],e.prototype,"lb",void 0),s([u],e)}(l.default);a.default=d,cc._RF.pop()},{}],GuideLocalManger:[function(t,e,n){"use strict";cc._RF.push(e,"aa929pgcIRNb6VYHCNmvWXu","GuideLocalManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GuideManger"),r=i("ModeLVDataManger"),s=i("TowerDataManager"),l=function(){function t(){this.GuideDataMgr=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GuideDataList",{get:function(){return this.GuideDataMgr.GuideDataList},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.GuideDataMgr=t},Object.defineProperty(t.prototype,"GuideOpen",{get:function(){var t=a.GuideManger.instance.getZdGuideIfOpen(a.GuideTypeID.FirstLevel0_0),e=a.GuideManger.instance.getZdGuideIfOpen(a.GuideTypeID.FirstLevel1_1),n=a.GuideManger.instance.getZdGuideIfOpen(a.GuideTypeID.FirstLevel1_2),i=a.GuideManger.instance.getZdGuideIfOpen(a.GuideTypeID.FirstLevel1_6);return!!(t||e||n||i)},enumerable:!1,configurable:!0}),t.prototype.passLv=function(t,e){var n;0==t&&0==e&&this.openZdGuideID(a.GuideTypeID.FirstLevel0_0),1==t&&1==e&&(n=r.default.instance.getClassicsChapterLvData(1,2)).unlock&&(n.passDifficulty.length<=0||!n.passDifficulty[0])&&this.openZdGuideID(a.GuideTypeID.FirstLevel1_1),1==t&&2==e&&(n=r.default.instance.getClassicsChapterLvData(1,3)).unlock&&(n.passDifficulty.length<=0||!n.passDifficulty[0])&&this.openZdGuideID(a.GuideTypeID.FirstLevel1_2)},t.prototype.openZdGuideID=function(t){var e=this.getGuideIDData(t);e||(e=this.pushGuideData(t)),e.start=!0},t.prototype.closeZdGuideID=function(t){var e=this.getGuideIDData(t);e||(e=this.pushGuideData(t)),e.start=!1,e.end=!0},t.prototype.getGuideIDData=function(t){var e;return this.GuideDataList.forEach(function(n){n.id==t&&(e=n)}),e||(e=this.pushGuideData(t)),e},t.prototype.pushGuideData=function(t){return this.GuideDataMgr.pushData({id:t}),this.getGuideIDData(t)},t.prototype.checkMainSceneGuide=function(){this.checkopen00Guide(),this.checkopen11Guide(),this.checkopen12Guide()},t.prototype.checkopen00Guide=function(){var t=this.getGuideIDData(a.GuideTypeID.FirstLevel0_0);t&&t.start&&!t.end&&a.GuideManger.instance.OpenZdGuide(a.GuideTypeID.FirstLevel0_0)},t.prototype.checkopen11Guide=function(){var t=this.getGuideIDData(a.GuideTypeID.FirstLevel1_1);t&&t.start&&!t.end&&a.GuideManger.instance.OpenZdGuide(a.GuideTypeID.FirstLevel1_1)},t.prototype.checkopen12Guide=function(){var t=this.getGuideIDData(a.GuideTypeID.FirstLevel1_2);t&&t.start&&!t.end&&a.GuideManger.instance.OpenZdGuide(a.GuideTypeID.FirstLevel1_2)},t.prototype.checkopen16Guide=function(){r.default.instance.ChapterLvPass(s.default.LockLevel[0],s.default.LockLevel[1])&&this.openZdGuideID(a.GuideTypeID.FirstLevel1_6);var t=this.getGuideIDData(a.GuideTypeID.FirstLevel1_6);t&&t.start&&!t.end&&a.GuideManger.instance.OpenZdGuide(a.GuideTypeID.FirstLevel1_6)},t.prototype.initCheckopen16Guide=function(){var t=a.GuideManger.instance.GuideDataMap.get(a.GuideTypeID.FirstLevel1_6),e=this.getGuideIDData(a.GuideTypeID.FirstLevel1_6);t&&e&&!e.end&&(a.GuideManger.instance.GuideDataMap.get(a.GuideTypeID.FirstLevel1_6).index=0)},t.prototype.getCheckopen16Guide=function(t){var e=this.getGuideIDData(a.GuideTypeID.FirstLevel1_6);if(e&&e.start&&!e.end){var n=a.GuideManger.instance.GuideDataMap.get(a.GuideTypeID.FirstLevel1_6);return!(!n||n.index!=t)}return!1},t}();o.default=l,cc._RF.pop()},{}],GuideManger:[function(t,e,n){"use strict";cc._RF.push(e,"97d7aHC/Q1NSboFdbhovvJM","GuideManger");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0}),a.GuideManger=a.FirstLevel1_6=a.FirstLevel1_2=a.FirstLevel1_1=a.FirstLevel0_0=a.BaseGuideData=a.GuideListData=a.GuideTypeID=a.GuideHandType=a.GuideBtnEnum=void 0;var s,l=o("SceneManager"),c=o("GuideLocalManger"),u=o("BaseGuideView"),p={btn_MainBag:{scene:"MainScene",path:"UILayer/buttonLayer/mainBtnList/btn_bag"},btn_BagView_OneAllEquip:{scene:"bagDialog",path:"show/bagInfo/bag/btn_equiping"},btn_BagView_Back:{scene:"bagDialog",path:"show/btn_back"},btn_MainPower:{scene:"MainScene",path:"UILayer/buttonLayer/mainBtnList/btn_power"},btn_PowerView_weapon:{scene:"powerDialog",path:"show/equipView/view/equipingView/content/EquipItem"},btn_PowerView_Qh:{scene:"powerDialog",path:"show/powerView/btn_powerUp"},btn_PowerView_useScroll:{scene:"powerDialog",path:"show/powerView/toggleContainer/toggle2"},btn_PowerView_Scroll7:{scene:"powerDialog",path:"show/powerView/selectView/secretBookView/content/btn_ticket_0"},btn_PowerView_Back:{scene:"powerDialog",path:"show/btn_back"},btn_MainSeleLvView:{scene:"MainScene",path:"UILayer/buttonLayer/mainBtnList/btn_entergame"},btn_SeleLvView_1_1Level:{scene:"gameLevelDialog",path:"content/btn_subsection_1"},btn_SeleLvView_1_2Level:{scene:"gameLevelDialog",path:"content/btn_subsection_2"},btn_SeleLvView_EnterGame:{scene:"gameLevelDialog",path:"levelDetail/btn_startGame"},btn_MainSkill:{scene:"MainScene",path:"UILayer/buttonLayer/mainBtnList/btn_skill"},btn_SKillView_upgrade:{scene:"skillDialog",path:"content/UnlockDetail/lvUpBtn"},btn_SKillView_back:{scene:"skillDialog",path:"content/btn_back"},btn_MainPot:{scene:"MainScene",path:"UILayer/buttonLayer/mainBtnList/btn_openPot"},btn_PotView_tenOpen:{scene:"openPotDialog",path:"content/AdOpenPotBtn"},btn_PotRewardView_confirm:{scene:"OpenPotRewardView",path:"tenRewardView/btn_confirm"},btn_PotView_back:{scene:"openPotDialog",path:"content/btn_back"},btn_deathTower:{scene:"gameLevelDialog",path:"btn_deathTower"},btn_start:{scene:"DeathTowerView",path:"content/DeathTowerNode/TowerNode/btn_start"},btn_backmain:{scene:"TowerScoreProView",path:"btn_backmain"},btn_use:{scene:"DeathTowerView",path:"content/GameTitleNode/titleNode/btn_use"}};(function(t){t[t.Null=-1]="Null",t.btn_MainBag="btn_MainBag",t.btn_BagView_OneAllEquip="btn_BagView_OneAllEquip",t.btn_BagView_Back="btn_BagView_Back",t.btn_MainPower="btn_MainPower",t.btn_PowerView_weapon="btn_PowerView_weapon",t.btn_PowerView_useScroll="btn_PowerView_useScroll",t.btn_PowerView_Scroll7="btn_PowerView_Scroll7",t.btn_PowerView_Qh="btn_PowerView_Qh",t.btn_PowerView_Back="btn_PowerView_Back",t.btn_MainSeleLvView="btn_MainSeleLvView",t.btn_SeleLvView_1_1Level="btn_SeleLvView_1_1Level",t.btn_SeleLvView_1_2Level="btn_SeleLvView_1_2Level",t.btn_SeleLvView_EnterGame="btn_SeleLvView_EnterGame",t.btn_MainSkill="btn_MainSkill",t.btn_SKillView_upgrade="btn_SKillView_upgrade",t.btn_SKillView_back="btn_SKillView_back",t.btn_MainPot="btn_MainPot",t.btn_PotView_tenOpen="btn_PotView_tenOpen",t.btn_PotRewardView_confirm="btn_PotRewardView_confirm",t.btn_PotView_back="btn_PotView_back"})(a.GuideBtnEnum||(a.GuideBtnEnum={})),function(t){t.Rect="GuideHandType1View",t.Circle="GuideHandType2View"}(a.GuideHandType||(a.GuideHandType={})),function(t){t[t.FirstLevel0_0=101]="FirstLevel0_0",t[t.FirstLevel1_1=102]="FirstLevel1_1",t[t.FirstLevel1_2=103]="FirstLevel1_2",t[t.FirstLevel1_6=107]="FirstLevel1_6"}(s=a.GuideTypeID||(a.GuideTypeID={}));var d=function(t){this.id=-1,this.autoNex=!1,this.handPosBtn=-1,"object"==typeof t&&Object.assign(this,t)};a.GuideListData=d;var f=function(){function t(){this.open=!1,this.index=0,this.GuideListMap=new Map}return t.prototype.addGuideData=function(t){this.GuideListMap.set(this.GuideListMap.size,t)},t}();a.BaseGuideData=f;var h=function(t){function e(){var e=t.call(this)||this;return e.id=s.FirstLevel0_0,e.GuideData=[{id:1,GuideHandType:"GuideHandType1View",HandScale:[1,1],str:"\u70b9\u51fb\u80cc\u5305",handPosBtn:"btn_MainBag",autoNex:!0,guideBoxPos:[65,-15],maskSpUrl:"textures/guide/guide_bag",maskSize:[85,105]},{id:2,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u4e00\u952e\u88c5\u5907",handPosBtn:"btn_BagView_OneAllEquip",autoNex:!0},{id:3,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u8fd4\u56de",handPosBtn:"btn_BagView_Back",autoNex:!0,guideBoxPos:[135,16]},{id:4,GuideHandType:"GuideHandType1View",str:"\u70b9\u51fb\u5f3a\u5316",handPosBtn:"btn_MainPower",autoNex:!0,guideBoxPos:[195,-160],maskSpUrl:"textures/guide/guide_power",maskSize:[120,182]},{id:5,GuideHandType:"GuideHandType2View",handPosBtn:"btn_PowerView_weapon",str:"\u70b9\u51fb\u6b66\u5668",autoNex:!0},{id:6,GuideHandType:"GuideHandType2View",handPosBtn:"btn_PowerView_Qh",str:"\u70b9\u51fb\u5f3a\u5316",autoNex:!0},{id:7,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u8fd4\u56de",handPosBtn:"btn_PowerView_Back",autoNex:!0,guideBoxPos:[135,16]},{id:8,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u5f00\u59cb\u6e38\u620f\u6309\u94ae",handPosBtn:"btn_MainSeleLvView",autoNex:!0,guideBoxPos:[135,16]},{id:9,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u6cbc\u6cfd\u5bc6\u6797",handPosBtn:"btn_SeleLvView_1_1Level",autoNex:!0,guideBoxPos:[190,130]},{id:9,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u5f00\u59cb\u6e38\u620f",handPosBtn:"btn_SeleLvView_EnterGame",autoNex:!1,guideBoxPos:[415,-100]}],e.GuideData.forEach(function(t){e.addGuideData(new d(t))}),e}return r(e,t),e}(f);a.FirstLevel0_0=h;var y=function(t){function e(){var e=t.call(this)||this;return e.id=s.FirstLevel1_1,e.GuideData=[{id:1,GuideHandType:"GuideHandType1View",str:"\u70b9\u51fb\u6280\u80fd",handPosBtn:"btn_MainSkill",autoNex:!0,guideBoxPos:[180,65],maskSpUrl:"textures/guide/guide_skill",maskSize:[135,168]},{id:2,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u5347\u7ea7\u6309\u94ae\n(\u5347\u7ea7\u6280\u80fd\u5c31\u53ef\u4ee5\u4e0d\u7528\u770b\u89c6\u9891\u4e86)",handPosBtn:"btn_SKillView_upgrade",autoNex:!0},{id:3,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u8fd4\u56de",handPosBtn:"btn_SKillView_back",autoNex:!0,guideBoxPos:[135,16]},{id:4,GuideHandType:"GuideHandType1View",str:"\u70b9\u51fb\u5f3a\u5316",handPosBtn:"btn_MainPower",autoNex:!0,guideBoxPos:[195,-160],maskSpUrl:"textures/guide/guide_power",maskSize:[120,182]},{id:5,GuideHandType:"GuideHandType2View",handPosBtn:"btn_PowerView_weapon",str:"\u70b9\u51fb\u6b66\u5668",autoNex:!0},{id:6,GuideHandType:"GuideHandType2View",handPosBtn:"btn_PowerView_useScroll",str:"\u70b9\u51fb\u4f7f\u7528\u5f3a\u5316\u5377",autoNex:!0},{id:7,GuideHandType:"GuideHandType2View",handPosBtn:"btn_PowerView_Scroll7",str:"\u70b9\u51fb\u5f3a\u5316\u5377+7",autoNex:!0},{id:8,GuideHandType:"GuideHandType2View",handPosBtn:"btn_PowerView_Qh",str:"\u70b9\u51fb\u5f3a\u5316",autoNex:!0},{id:9,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u8fd4\u56de",handPosBtn:"btn_PowerView_Back",autoNex:!0,guideBoxPos:[135,16]},{id:10,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u5f00\u59cb\u6e38\u620f\u6309\u94ae",handPosBtn:"btn_MainSeleLvView",autoNex:!0,guideBoxPos:[135,16]},{id:11,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u5bc6\u6797\u6df1\u5904",handPosBtn:"btn_SeleLvView_1_2Level",autoNex:!0},{id:12,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u5f00\u59cb\u6e38\u620f",handPosBtn:"btn_SeleLvView_EnterGame",autoNex:!1,guideBoxPos:[415,-100]}],e.GuideData.forEach(function(t){e.addGuideData(new d(t))}),e}return r(e,t),e}(f);a.FirstLevel1_1=y;var g=function(t){function e(){var e=t.call(this)||this;return e.id=s.FirstLevel1_2,e.GuideData=[{id:1,GuideHandType:"GuideHandType1View",handPosBtn:"btn_MainPot",str:"\u70b9\u51fb\u5f00\u7f50",autoNex:!0,HandScale:[1.2,1.3],guideBoxPos:[-75,65],maskSpUrl:"textures/guide/guide_openPot",maskSize:[100,158]},{id:2,GuideHandType:"GuideHandType2View",str:"\u70b9\u51fb\u5341\u8fde\u62bd",handPosBtn:"btn_PotView_tenOpen",autoNex:!1}],e.GuideData.forEach(function(t){e.addGuideData(new d(t))}),e}return r(e,t),e}(f);a.FirstLevel1_2=g;var m=function(t){function e(){var e=t.call(this)||this;return e.id=s.FirstLevel1_6,e.GuideData=[{id:1,GuideHandType:"GuideHandType2View",handPosBtn:"btn_deathTower",str:"\u70b9\u51fb\u6b7b\u4ea1\u4e4b\u5854",autoNex:!0},{id:2,GuideHandType:"GuideHandType3View",handPosBtn:"btn_start",str:"\u70b9\u51fb\u5f00\u59cb\u6311\u6218",autoNex:!1,HandScale:[1.35+.1,.33]},{id:3,GuideHandType:"GuideHandType3View",handPosBtn:"btn_backmain",str:"\u70b9\u51fb\u8fd4\u56de\u754c\u9762",autoNex:!1,HandScale:[2.6,.405]},{id:4,GuideHandType:"GuideHandType3View",handPosBtn:"btn_use",str:"\u70b9\u51fb\u6fc0\u6d3b",autoNex:!1,HandScale:[2.6,.405],guideBoxPos:[300,-50]},{id:5,GuideHandType:"GuideHandType3View",handPosBtn:"btn_use",str:"\u70b9\u51fb\u4f7f\u7528",autoNex:!1,HandScale:[2.6,.405],guideBoxPos:[300,-50]}],e.GuideData.forEach(function(t){e.addGuideData(new d(t))}),e}return r(e,t),e}(f);a.FirstLevel1_6=m;var v=function(){function t(){this.btnListMap=new Map,this.GuideDataMap=new Map,this.GuideDataMap.set(s.FirstLevel0_0,new h),this.GuideDataMap.set(s.FirstLevel1_1,new y),this.GuideDataMap.set(s.FirstLevel1_2,new g),this.GuideDataMap.set(s.FirstLevel1_6,new m)}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t,window.GuideManger=this._ins),this._ins},enumerable:!1,configurable:!0}),t.prototype.OpenZdGuide=function(t){this.GuideDataMap.get(t).open=!0,this.openGuideGuideType(t)},t.prototype.CloseZdGuide=function(t){this.GuideDataMap.get(t).open=!1},t.prototype.getZdGuideIfOpen=function(t){return this.GuideDataMap.get(t).open},t.prototype.openGuideGuideType=function(t){if(this.getZdGuideIfOpen(t)){this.curGuideView&&(this.curGuideView.close(),this.curGuideView=null);var e=this.GuideDataMap.get(t);if(e.index>e.GuideListMap.size)return e.open=!1,void console.log("\u5f53\u524d\u6307\u5f15",t,e,"\u7ed3\u675f");if(e.index>=.5*e.GuideListMap.size&&t!=s.FirstLevel1_6)c.default.instance.closeZdGuideID(e.id);else if(e.index>=e.GuideListMap.size&&t==s.FirstLevel1_6)return void c.default.instance.closeZdGuideID(e.id);var n=e.GuideListMap.get(e.index);this.getGuideView(n),e.index++,this.setNexcb(n,e,t)}},t.prototype.getGuideView=function(t){var e=this;l.default.instance.localMask.active=!0,l.default.instance.load(t.GuideHandType,void 0,function(n,i){e.curGuideView=i.getComponent(u.default),i.getComponent(u.default).setData(e.getGuideBtn(t.handPosBtn),t),l.default.instance.localMask.active=!1})},t.prototype.setNexcb=function(t,e,n){var i=this,o=null;if(t.autoNex){var a=function o(){var a=!1,r=i.getGuideBtn(t.handPosBtn);r&&r.off(cc.Node.EventType.TOUCH_END,o),function t(){var o=i.GuideDataMap.get(n).GuideListMap.get(e.index),r=i.getGuideBtn(o.handPosBtn);(-1==o.handPosBtn||r&&r.isValid)&&i.curGuideView&&(i.openGuideGuideType(n),a=!0),a||setTimeout(function(){t()},100)}()};o=a,this.getGuideBtn(t.handPosBtn).on(cc.Node.EventType.TOUCH_END,a)}else{var r=function e(){var n=i.getGuideBtn(t.handPosBtn);n&&n.off(cc.Node.EventType.TOUCH_END,e),i.curGuideView&&(i.curGuideView.close(),i.curGuideView=null)};o=r,this.getGuideBtn(t.handPosBtn).on(cc.Node.EventType.TOUCH_END,r)}return o},t.prototype.getGuideBtn=function(t){var e,n=l.default.instance.sceneInfo;for(var i in n)if(p[t].scene==n[i]._name){n[i]._view&&(e=n[i]._view.getNode(p[t].path));break}return e},t}();a.GuideManger=v,cc._RF.pop()},{}],GuideRewardView:[function(t,e,n){"use strict";cc._RF.push(e,"eb011flb91NN7/Nj3ZhQuGm","GuideRewardView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("CurrencyType"),p=o("GuideManger"),d=o("BagManager"),f=o("Admanager"),h=cc._decorator,y=h.ccclass,g=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),p.GuideManger.instance.CloseZdGuide(p.GuideTypeID.FirstLevel1_2)},e.prototype.onBtnConfirm=function(){this.getReward(),Global.onShowTosat("\u9886\u53d6\u6210\u529f"),this.close()},e.prototype.onBtnDouble=function(){var t=this;f.default.instance.playRewardVideo(function(){t.getReward(),t.getReward(),Global.onShowTosat("\u9886\u53d6\u6210\u529f",1.5),GEvent.emit(GEventName.Task.WatchVideo),t.close()})},e.prototype.getReward=function(){l.default.Get(u.CurrencyType.COUPON,1e3),l.default.Get(u.CurrencyType.FATIGUE,20),d.default.Init.AddItems(130,3)},s([y],e)}(c.default));a.default=g,cc._RF.pop()},{}],HalloweenView:[function(t,e,n){"use strict";cc._RF.push(e,"d4678azYu1DvINZf+gDZb6M","HalloweenView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("GameData"),p=o("CurrencyType"),d=o("InvitePosType"),f=o("ActivityDataManger"),h=o("BagManager"),y=o("FashionManager"),g=o("HeroTitleDataManger"),m=o("InviterDataManger"),v=o("Admanager"),_=o("platformConfig"),b=o("Constant"),k=cc._decorator,S=k.ccclass,w=k.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zhiLayout=null,e.zuliGiftLayout=null,e.porgressBar=null,e.soujiLayout=null,e.todayVideoCount=null,e.zhuliCount=null,e.todayzhuliCount=null,e.todayzhuliCountMax=null,e}return r(e,t),e.prototype.onUILoad=function(){_.default.platformType==b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?this.onToggleChange(null,2):this.onToggleChange(null,1),this.freshShoujiView(),this.freshZhuliView()},e.prototype.onUIStart=function(){_.default.platformType==b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS&&(this.getToggle("content/zuoBtnCont/souji_unSelect").isChecked=!0,this.getToggle("content/zuoBtnCont/zuli_unSelect").isChecked=!1,this.getToggle("content/zuoBtnCont/zuli_unSelect").interactable=!1,this.getToggle("content/zuoBtnCont/zuli_unSelect").node.active=!1)},e.prototype.onToggleChange=function(t,e){1==e?(this.node.Child("soujinangguabg").active=!1,this.node.Child("zhuliContent").active=!0,this.node.Child("shoujiContent").active=!1):(this.node.Child("soujinangguabg").active=!0,this.node.Child("zhuliContent").active=!1,this.node.Child("shoujiContent").active=!0)},e.prototype.onBtnGetZhuliGift=function(){var t=f.default.instance.curZhiProgress();if(-1!=t.index){var e=t.index,n=!1;for(e=0;e<=t.index;e++)if(1!=GUserData.ActivityDataMgr.qimiaowanshenjie[e]){var i=f.default.instance.zhuliGiftConfig[e];100==i.giftId?(l.default.Get(p.CurrencyType.COIN,i.count),GUserData.ActivityDataMgr.qimiaowanshenjie[e]=1):101==i.giftId?(l.default.Get(p.CurrencyType.COUPON,i.count),GUserData.ActivityDataMgr.qimiaowanshenjie[e]=1):h.default.Init.AddItems(i.giftId,i.count).succ&&(GUserData.ActivityDataMgr.qimiaowanshenjie[e]=1),n=!0}0==n?Global.onShowTosat("\u6682\u65e0\u53ef\u9886\u53d6\u5956\u52b1"):this.freshZhuliView()}else Global.onShowTosat("\u6682\u65e0\u53ef\u9886\u53d6\u5956\u52b1")},e.prototype.freshZhuliView=function(){var t=this;this.todayzhuliCount.string=GUserData.ActivityDataMgr.todayZhuliNum+"",this.todayzhuliCountMax.string="\u4eca\u65e5\u5df2\u52a9\u529b\u6b21\u6570\uff08   / "+f.default.instance.maxZhuliNum+"\uff09";for(var e=f.default.instance.curZhiProgress(),n=0;n<5;n++)this.zhiLayout.children[n].children[1].active=e.index>=n;this.zhuliCount.string=e.countInfo;var i=function(e){var n=t.zuliGiftLayout.children[e],i=f.default.instance.zhuliGiftConfig[e],o=u.default.ItemData()[i.giftId];n.Child("newLabel",cc.Label).string=o.name+"*"+i.count,1==GUserData.ActivityDataMgr.qimiaowanshenjie[e]?n.Child("hasGet").active=!0:n.Child("hasGet").active=!1,cc.loader.loadRes(o.icon,cc.SpriteFrame,function(t,e){0!=cc.isValid(n)&&(null==t?n.Child("icon_diamond",cc.Sprite).spriteFrame=e:console.log("err",t))})};for(n=0;n<this.zuliGiftLayout.children.length;n++)i(n);this.porgressBar.fillRange=e.progress},e.prototype.freshShoujiView=function(){var t=this;this.todayVideoCount.string=GUserData.ActivityDataMgr.mianfeiPumpkin+"";for(var e=h.default.Init.FindItem(f.default.instance.pumokinItemId),n=function(n){var i=t.soujiLayout.children[n],o=f.default.instance.duihuanConfig[n];i.Child("numLabel",cc.Label).string=e+"/"+o.needCount,null==GUserData.ActivityDataMgr.duihuanchishu[n]&&(GUserData.ActivityDataMgr.duihuanchishu[n]=0),i.Child("curZhuli",cc.Label).string=GUserData.ActivityDataMgr.duihuanchishu[n],i.Child("yizhulichishu",cc.Label).string="\u5151\u6362\u9650\u5236\u6b21\u6570\uff08   /"+o.times+"\uff09";var a=u.default.ItemData()[o.giftId];"title"==o.type||"fashion"==o.type||(i.Child("nameLabel",cc.Label).string=a.name+"X"+o.count,cc.loader.loadRes(a.icon,cc.SpriteFrame,function(t,e){0!=cc.isValid(i)&&(null==t?i.Child("nanguaIcon copy",cc.Sprite).spriteFrame=e:console.log("err",t))}));var r=i.Child("comm_btn_yellow");r.targetOff(t),r.on(cc.Node.EventType.TOUCH_END,function(){GUserData.ActivityDataMgr.duihuanchishu[n]>=o.times?Global.onShowTosat("\u5151\u6362\u6b21\u6570\u4ee5\u8fbe\u4e0a\u9650"):e>=o.needCount?h.default.Init.RemoveItem(f.default.instance.pumokinItemId,o.needCount).succ&&("title"==o.type?(g.default.instance.addUnlockTitleIdData(o.giftId),Global.onShowTosat("\u5151\u6362\u6210\u529f"),GUserData.ActivityDataMgr.duihuanchishu[n]+=1):"fashion"==o.type?(y.default.Init.getFashion(o.giftId,o.equipIndex),GUserData.ActivityDataMgr.duihuanchishu[n]+=1,Global.onShowTosat("\u5151\u6362\u6210\u529f")):100==o.giftId?(l.default.Get(p.CurrencyType.COIN,o.count),GUserData.ActivityDataMgr.duihuanchishu[n]+=1,Global.onShowTosat("\u5151\u6362\u6210\u529f")):101==o.giftId?(l.default.Get(p.CurrencyType.COUPON,o.count),GUserData.ActivityDataMgr.duihuanchishu[n]+=1,Global.onShowTosat("\u5151\u6362\u6210\u529f")):h.default.Init.AddItems(o.giftId,o.count).succ&&(GUserData.ActivityDataMgr.duihuanchishu[n]+=1,Global.onShowTosat("\u5151\u6362\u6210\u529f")),t.freshShoujiView()):Global.onShowTosat("\u6750\u6599\u4e0d\u8db3")},t)},i=0;i<this.soujiLayout.children.length;i++)n(i)},e.prototype.watchToGetNangua=function(){var t=this;GUserData.ActivityDataMgr.mianfeiPumpkin>=f.default.instance.maxVideoGetPumpkin?Global.onShowTosat("\u4eca\u65e5\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):v.default.instance.playRewardVideo(function(){h.default.Init.AddItems(f.default.instance.pumokinItemId,f.default.instance.oneVideoGetPumpkin).succ&&(GUserData.ActivityDataMgr.mianfeiPumpkin+=1,t.freshShoujiView()),GEvent.emit(GEventName.Task.WatchVideo)})},e.prototype.onBtnInvite=function(){m.default.instance.shareAppMessageFromUrl(d.JlzID.WSJInvite)},s([w(cc.Node)],e.prototype,"zhiLayout",void 0),s([w(cc.Node)],e.prototype,"zuliGiftLayout",void 0),s([w(cc.Sprite)],e.prototype,"porgressBar",void 0),s([w(cc.Node)],e.prototype,"soujiLayout",void 0),s([w(cc.Label)],e.prototype,"todayVideoCount",void 0),s([w(cc.Label)],e.prototype,"zhuliCount",void 0),s([w(cc.Label)],e.prototype,"todayzhuliCount",void 0),s([w(cc.Label)],e.prototype,"todayzhuliCountMax",void 0),s([S],e)}(c.default);a.default=T,cc._RF.pop()},{}],HeadIconView:[function(t,e,n){"use strict";cc._RF.push(e,"2a1f7QNQ4dDqZoptWVRa5DQ","HeadIconView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameStatsManager"),u=o("RoleCfgManager"),p=o("Admanager"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.headIconView=null,e.nameView=null,e.nameEditBox=null,e.chooseToggle=null,e.isVIPSp=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.headIconView.active=!0,this.nameView.active=!1,this.localUrl=u.default.instance.headIconUrl,this.isVIPSp.active=!c.default.instance.isHeadIconVIP,this.chooseToggle.children[1].getComponent(cc.Toggle).interactable=!1,this.setIsHeadVip()},e.prototype.setIsHeadVip=function(){var t=this.getNode("content/headIconView/btn_vip"),e=this.getNode("content/headIconView/btn_confirm");c.default.instance.isHeadIconVIP&&(t.active=!1,e.position=cc.v3(0,-245))},e.prototype.changeToggleClick=function(t,e){0==parseInt(e)?(this.headIconView.active=!0,this.nameView.active=!1):(this.headIconView.active=!1,this.nameView.active=!0)},e.prototype.onChangeIconClick=function(t,e){u.default.instance.headIconUrl=parseInt(e),GEvent.emit(GEventName.UpdateheadIcon)},e.prototype.onBtnConfirm=function(){this.close()},e.prototype.onBtnVIP=function(){var t=this;p.default.instance.playRewardVideo(function(){c.default.instance.isHeadIconVIP=!0,t.isVIPSp.active=!c.default.instance.isHeadIconVIP,t.setIsHeadVip(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_headportrai_unlock)},e.prototype.onBtnBack=function(){u.default.instance.headIconUrl=this.localUrl,GEvent.emit(GEventName.UpdateheadIcon),this.close()},e.prototype.onBtnchangeName=function(){Global.onShowTosat("\u5f00\u53d1\u4e2d\uff0c\u656c\u8bf7\u671f\u5f85")},s([h(cc.Node)],e.prototype,"headIconView",void 0),s([h(cc.Node)],e.prototype,"nameView",void 0),s([h(cc.EditBox)],e.prototype,"nameEditBox",void 0),s([h(cc.Node)],e.prototype,"chooseToggle",void 0),s([h(cc.Node)],e.prototype,"isVIPSp",void 0),s([f],e)}(l.default);a.default=y,cc._RF.pop()},{}],HeroAniNameCfg:[function(t,e,n){"use strict";cc._RF.push(e,"5671b6EAtNIcIIsSaHRkw+1","HeroAniNameCfg");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.DogManAniNameData=i.ZYG_qixingAniNameData=i.SW_kuileiAniNameData=i.ShuiJingLingAniNameData=i.MouseAniNameData=i.dileiAniNameData=i.MobiAniNameData=i.JGgeileilinAniNameData=i.Heti_ZYAniNameData=i.GrilDaoZeiAniNameData=i.GBLjuxiangAniNameData=i.FireJinglingAniNameData=i.DogAniNameData=i.AbyssAniNameData=i.shenyuanguaiheiAniNameData=i.shenyuanguaiAniNameData=i.ZhiZhuAniNameData=i.XieLongAniNameData=i.TaitanAniNameData=i.Small_ZhiZhuAniNameData=i.RanShaoHeLaAniNameData=i.NoHead_KingAniNameData=i.King_BossAniNameData=i.LuoTeSiANiNameata=i.KingAniNameData=i.GhostAniNameData=i.GeLiYaAniNameData=i.DaJiangShiAniNameData=i.AiKeLuoSuoAniNameData=i.ZhangYuAniNameData=i.YuanDingLuErAniNameData=i.YeChaAniNameData=i.XinTuAniNameData=i.ShuJingAniNameData=i.YiLongAniNameData=i.GoldStoneManAniNameData=i.JingLing_IceAniNameData=i.JingLing_FireAniNameData=i.YiAiAniNameData=i.ShitourenAniNameData=i.RenOuShi_JingYingAniNameData=i.RenOuShi_PuTongAniNameData=i.LongRen_BossAniNameData=i.LongRenAniNameData=i.LightCityBossAniNameData=i.StoneManAniNameData=i.ChuiStoneManAniNameData=i.YaoJingAniNameData=i.EyeBossAniNameData=i.Dx_SzzAniNameData=i.Dx_SqsAniNameData=i.Dx_MfsAniNameData=i.Dx_GjsAniNameData=i.Dx_GdjAniNameData=i.QuZhuZheAniNameData=i.KaLuoAniNameData=i.ZaBingAniNameData=i.CatAniNameData=i.Gbl_HLAniNameData=i.Gbl_SfzAniNameData=i.ZombieAniNameData=i.CowAniNameData=i.GblAniNameData=i.HeroAniNameData=void 0,i.HeroAniNameData={Idle:"baishou_idle",Move:"baishou_run",Hurt:"baishou_hit",Die:"baishou_hit"},i.GblAniNameData={Idle:"idel",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit3",Die:"die"},i.CowAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"die"},i.ZombieAniNameData={Idle:"dszgyx-idle",Move:"dszgyx-run",Hurt:"dszgyx-hit",HurtFly:"dszgyx-hit2",HurtForceUp:"dszgyx-hit2",Die:"dszgyx-die"},i.Gbl_SfzAniNameData={Idle:"shifuzhang_idel",Move:"shifuzhang_move",Hurt:"shifuzhang_hit",HurtFly:"shifuzhang_hit2",HurtForceUp:"shifuzhang_hit3",Die:"shifuzhang_die"},i.Gbl_HLAniNameData={Idle:"idel",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit3",Die:"hit3"},i.CatAniNameData={Idle:"maoyao-idle",Move:"maoyao-run",Hurt:"maoyao-hit",HurtFly:"maoyao-hit2",HurtForceUp:"maoyao-hit3",Die:"maoyao-hit3"},i.ZaBingAniNameData={Idle:"idle_dun_qiang",Move:"move_dun_qiang",Hurt:"hit_dun_qiang",HurtFly:"hit2_dun_qiang",HurtForceUp:"hit2_dun_qiang",Die:"dead_dun_qiang"},i.KaLuoAniNameData={Idle:"idel",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit3",Die:"hit3"},i.QuZhuZheAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"dead"},i.Dx_GdjAniNameData={Idle:"idle_gdj",Move:"run_gdj",Hurt:"hit_gdj",HurtFly:"hit_gdj",HurtForceUp:"hit_gdj",Die:"hit_gdj"},i.Dx_GjsAniNameData={Idle:"idle_gjs",Move:"run_gjs",Hurt:"hit_gjs",HurtFly:"hit_gjs",HurtForceUp:"hit_gjs",Die:"hit_gjs"},i.Dx_MfsAniNameData={Idle:"idle_mfs2",Move:"run_mfs",Hurt:"hit_mfs",HurtFly:"hit_mfs",HurtForceUp:"hit_mfs",Die:"hit_mfs"},i.Dx_SqsAniNameData={Idle:"idle_sqs",Move:"run_sqs",Hurt:"hit_sqs",HurtFly:"hit_sqs",HurtForceUp:"hit_sqs",Die:"hit_sqs"},i.Dx_SzzAniNameData={Idle:"idle_szz2",Move:"run_szz",Hurt:"hit_szz",HurtFly:"hit_szz",HurtForceUp:"hit_szz",Die:"hit_szz"},i.EyeBossAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"die"},i.YaoJingAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit02",HurtForceUp:"hit02",Die:"die"},i.ChuiStoneManAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit3",Die:"hit2"},i.StoneManAniNameData={Idle:"idel",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit2"},i.LightCityBossAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"die"},i.LongRenAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit2"},i.LongRen_BossAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"dead"},i.RenOuShi_PuTongAniNameData={Idle:"wuni_idle",Move:"wuni_move",Hurt:"wuni_hit",HurtFly:"wuni_hit2",HurtForceUp:"wuni_hit3",Die:"wuni_hit2"},i.RenOuShi_JingYingAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit3",Die:"dead"},i.ShitourenAniNameData={Idle:"idel",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit3",Die:"dead"},i.YiAiAniNameData={Idle:"idel",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit3",Die:"hit3"},i.JingLing_FireAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.JingLing_IceAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.GoldStoneManAniNameData={Idle:"idel",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit3",Die:"dead"},i.YiLongAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.ShuJingAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"die"},i.XinTuAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"dead_masaier"},i.YeChaAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"dead"},i.YuanDingLuErAniNameData={Idle:"maoyao-idle",Move:"maoyao-run",Hurt:"maoyao-hit",HurtFly:"maoyao-hit2",HurtForceUp:"maoyao-hit3",Die:"maoyao-hit3"},i.ZhangYuAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"die"},i.AiKeLuoSuoAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"dead"},i.DaJiangShiAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"dead"},i.GeLiYaAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"dead"},i.GhostAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.KingAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit"},i.LuoTeSiANiNameata={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"die"},i.King_BossAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit"},i.NoHead_KingAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"dead"},i.RanShaoHeLaAniNameData={Idle:"dszgyx-idle",Move:"dszgyx-run",Hurt:"dszgyx-hit",HurtFly:"dszgyx-hit02",HurtForceUp:"dszgyx-hit02",Die:"dszgyx-hit02"},i.Small_ZhiZhuAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.TaitanAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit2"},i.XieLongAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"die"},i.ZhiZhuAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit2"},i.shenyuanguaiAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit2"},i.shenyuanguaiheiAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit2"},i.AbyssAniNameData={Idle:"state1",Move:"to state2",Hurt:"to state2",Die:"state3"},i.DogAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit2"},i.FireJinglingAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.GBLjuxiangAniNameData={Idle:"idel",Move:"move",Hurt:"hit",HurtFly:"hit1",HurtForceUp:"hit2",Die:"hit3"},i.GrilDaoZeiAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.Heti_ZYAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit2",Die:"hit2"},i.JGgeileilinAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit2",Die:"hit2"},i.MobiAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"hit2"},i.dileiAniNameData={Idle:"dilei",Move:"",Hurt:"",HurtFly:"",HurtForceUp:"",Die:"die"},i.MouseAniNameData={Idle:"idle",Move:"run",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.ShuiJingLingAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"hit"},i.SW_kuileiAniNameData={Idle:"dszgyx-idle",Move:"dszgyx-run",Hurt:"dszgyx-hit",HurtFly:"dszgyx-hit2",HurtForceUp:"dszgyx-hit2",Die:"dszgyx-die"},i.ZYG_qixingAniNameData={Idle:"idle",Move:"run1",Hurt:"hit",HurtFly:"hit",HurtForceUp:"hit",Die:"die"},i.DogManAniNameData={Idle:"idle",Move:"move",Hurt:"hit",HurtFly:"hit2",HurtForceUp:"hit2",Die:"dead"},i.default=function(t){"object"==typeof t?Object.assign(this,t):console.log("\u4f20\u5165\u7684\u7c7b\u578b\u9519\u8bef",t)},cc._RF.pop()},{}],HeroAttributeCfg:[function(t,e,n){"use strict";cc._RF.push(e,"2c099vLO+tJ+LZRYYayCmhs","HeroAttributeCfg");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.EnemyAttributeCfg=i.heroAttributeCfg=void 0,i.heroAttributeCfg={1:{maxhp:1,hp:1e3,atk:100,def:0,cri:.5,atkspeed:1,speed_x:1,hitrate:.95}},i.EnemyAttributeCfg={1:{maxhp:1,hp:1e5,atk:10,def:0,cri:0,atkspeed:1,speed_x:.5,hitrate:.95}},cc._RF.pop()},{}],HeroCollision:[function(t,e,n){"use strict";cc._RF.push(e,"d7576bqrmBBw6Ubg/7EHVn9","HeroCollision");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){},e.prototype.onInit=function(t,e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=0),void 0===o&&(o=null),this.hero=t,this.node.hero=this.hero,this.setSkillData(e,n,i,o)},e.prototype.setSkillData=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=null);var o={hero:this.hero,skilldata:t,actid:e,SKillVFX_TYPE:n,VFXData:i};this.node.damageData=o},e.prototype.onCollisionEnter=function(t,e){this.hero.onCollisionEnter(t,e)},e.prototype.onCollisionStay=function(t,e){this.hero.onCollisionStay(t,e)},e.prototype.onCollisionExit=function(t,e){this.hero.onCollisionExit(t,e)},r([l],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],HeroCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"30cd6YGHHJDBKU2h1wUCyp6","HeroCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("StateId"),c=o("BaseHero"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Hero=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;this.Hero=this.node.getComponent(c.default),this.Hero.isPlayer&&this.addKeyControl(),this.scheduleOnce(function(){t.Hero.isPlayer&&(Global.HeroCtrl=t)})},e.prototype.addKeyControl=function(){var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){t.onKeyEvent(e.keyCode,MACRO.ACTORJOYSTICKSTATE.DOWN)},this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){t.onKeyEvent(e.keyCode,MACRO.ACTORJOYSTICKSTATE.UP)},this)},e.prototype.onKeyEvent=function(t,e){if(void 0===e&&(e=null),e===MACRO.ACTORJOYSTICKSTATE.DOWN?this.Hero.presskeyCode.set(t,!0):this.Hero.presskeyCode.delete(t),!this.Hero.pause)switch(t){case cc.macro.KEY.a:case cc.macro.KEY.d:case cc.macro.KEY.w:case cc.macro.KEY.s:this.checkMoveInput();break;case this.Hero.HeroSkillCfg.SkillsMap.get(this.Hero.HeroSkillCfg.NoramlAtks).Key:this.Hero.canCutNextState(l.default.NORMALATTACK)&&(this.Hero.curoSkillData=this.Hero.HeroSkillCfg.SkillsMap.get(this.Hero.HeroSkillCfg.NoramlAtks),this.Hero.skillId=this.Hero.curoSkillData.Skillids[0],this.Hero.State=l.default.NORMALATTACK);break;default:this.checkSkillInput(t)}},e.prototype.checkSkillInput=function(t){var e=this;this.Hero.HeroSkillCfg.SkillsMap.forEach(function(n){if(n.Key==t){if(!e.Hero.checkIfCanReleaseSkill(n))return void console.log("\u76ee\u6807\u4e0d\u5728\u653b\u51fb\u8303\u56f4");n.Unlock&&n.CD>=n.MaxCD&&e.Hero.canCutNextState(l.default.SKILL)&&(n.CD=0,n.Useskillcount++,e.Hero.skillId=n.Skillids[0],e.Hero.curoSkillData=n,e.Hero.State=l.default.SKILL)}})},e.prototype.checkMoveInput=function(){var t=this.Hero.presskeyCode.get(cc.macro.KEY.a),e=this.Hero.presskeyCode.get(cc.macro.KEY.d),n=this.Hero.presskeyCode.get(cc.macro.KEY.w),i=this.Hero.presskeyCode.get(cc.macro.KEY.s);if(t||e||i||n){var o=cc.v3();e&&(o.x=1),t&&(o.x=-1),n&&(o.y=1),i&&(o.y=-1),this.Hero.movekeydown=MACRO.ACTORJOYSTICKSTATE.DOWN,this.Hero.Direct=o.normalize(),this.Hero.State!=l.default.MOVE&&(this.Hero.State=l.default.MOVE)}else this.Hero.movekeydown=MACRO.ACTORJOYSTICKSTATE.UP,this.Hero.State==l.default.MOVE&&this.Hero.resetState()},s([p],e)}(cc.Component));a.default=d,cc._RF.pop()},{}],HeroMachine:[function(t,e,n){"use strict";cc._RF.push(e,"b6f3fi30URKpa1IPr0koRbL","HeroMachine");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),Object.defineProperty(e.prototype,"State",{get:function(){return this.stateMachine.CurrentState.StateId},set:function(t){this.stateMachine.toggleState(t)},enumerable:!1,configurable:!0}),e.prototype.StateParms=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.stateMachine.toggleState(t,e)},e.prototype.bindStateMachine=function(t){this.stateMachine=t,this.stateMachine.bindSoldier(this)},e.prototype.toggleState=function(t){this.stateMachine.toggleState(t)},e.prototype.toggleStateFail=function(t,e,n){void 0===n&&(n=null)},e.prototype.addSubState=function(t){this.stateMachine.toggleState(t)},e.prototype.removeSubState=function(t){this.stateMachine.removeSubState(t)},e.prototype.addSubStateFail=function(t){console.log("\u65e0\u6cd5\u65b0\u589e\u5b50\u72b6\u6001"+t)},e.prototype.canCutNextState=function(t){return this.stateMachine.canCutNextState(t)},e.prototype.removeAllSubState=function(){this.stateMachine.removeAllSubState()},e.prototype.findHaveState=function(t){return this.stateMachine.findHaveState(t)},e.prototype.update=function(t){this.stateMachine&&(this.stateMachine.majorStateOnUpdate(t),this.stateMachine.subStateListOnUpdate(t))},r([l],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],HeroPreviewCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"c0cc7OZsG9A8JEWut1f+vYy","HeroPreviewCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("StateId"),c=o("BaseHero"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Hero=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.Hero=this.node.getComponent(c.default)},e.prototype.addKeyControl=function(){var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){t.onKeyEvent(e.keyCode,MACRO.ACTORJOYSTICKSTATE.DOWN)},this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){t.onKeyEvent(e.keyCode,MACRO.ACTORJOYSTICKSTATE.UP)},this)},e.prototype.onKeyEvent=function(t,e){if(void 0===e&&(e=null),e===MACRO.ACTORJOYSTICKSTATE.DOWN?this.Hero.presskeyCode.set(t,!0):this.Hero.presskeyCode.delete(t),!this.Hero.pause)switch(t){case this.Hero.HeroSkillCfg.SkillsMap.get(this.Hero.HeroSkillCfg.NoramlAtks).Key:this.Hero.canCutNextState(l.default.NORMALATTACK)&&(this.Hero.curoSkillData=this.Hero.HeroSkillCfg.SkillsMap.get(this.Hero.HeroSkillCfg.NoramlAtks),this.Hero.skillId=this.Hero.curoSkillData.Skillids[0],this.Hero.State=l.default.NORMALATTACK);break;default:this.checkSkillInput(t)}},e.prototype.checkSkillInput=function(t){var e=this;this.Hero.HeroSkillCfg.SkillsMap.forEach(function(n){n.Key==t&&e.Hero.canCutNextState(l.default.SKILL)&&(e.Hero.skillId=n.Skillids[0],e.Hero.curoSkillData=n,e.Hero.State=l.default.SKILL)})},s([p],e)}(cc.Component));a.default=d,cc._RF.pop()},{}],HeroSkillCfg:[function(t,e,n){"use strict";cc._RF.push(e,"a3654T9kmdJtYjpMeX7HISO","HeroSkillCfg");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.HeroSkillCfg=o.HeroSkillData=o.DogManSKillCfg=o.ZYG_qixingSKillCfg=o.SW_kuileiSKillCfg=o.ShuiJingLingSKillCfg=o.MouseSKillCfg=o.dileiSKillCfg=o.MobiSKillCfg=o.JGgeileilinSKillCfg=o.Heti_ZYSKillCfg=o.GrilDaoZeiSKillCfg=o.GBLjuxiangSKillCfg=o.FireJinglingSKillCfg=o.DogSKillCfg=o.AbyssSKillCfg=o.shenyuanguaiheiSkillCfg=o.shenyuanguaiSkillCfg=o.ZhiZhuSkillCfg=o.XieLongSkillCfg=o.TaitanSKillCfg=o.Small_ZhiZhuSkillCfg=o.RanShaoHeLaSkillCfg=o.NoHead_KingSkillCfg=o.King_BossSkillCfg=o.LuoTeSiSkillCfg=o.KingSkillCfg=o.GhostSkillCfg=o.GeLiYaSkillCfg=o.DaJiangShiSkillCfg=o.AiKeLuoSuoSkillCfg=o.ZhangYuSkillCfg=o.YuanDingLuErSkillCfg=o.YeChaSkillCfg=o.XinTuSkillCfg=o.ShuJingSkillCfg=o.YiLongSkillCfg=o.GoldStoneManSkillCfg=o.YiAiSkillCfg=o.ShitourenSkillCfg=o.RenOuShi_JingYingSkillCfg=o.RenOuShi_PuTongSkillCfg=o.LongRen_BossSkillCfg=o.LongRenSkillCfg=o.LightCityBossSkillCfg=o.JingLing_IceSKillCfg=o.KaLuoSKillCfg=o.JingLing_FireSKillCfg=o.StoneManSkillCfg=o.ChuiStoneManSkillCfg=o.Dx_SzzSkillCfg=o.YaoJingSkillCfg=o.EyeBossSKillCfg=o.Dx_SqsSkillCfg=o.Dx_MfsSkillCfg=o.Dx_GjsSkillCfg=o.Dx_GdjSkillCfg=o.QuZhuZheSkillCfg=o.ZaBingSkillCfg=o.CatSkillCfg=o.Gbl_HLSkillCfg=o.Gbl_SfzSkillCfg=o.ZombieSkillCfg=o.CowSkillCfg=o.GblSkillCfg=o.Hero1SkillCfg=o.releaseSkillType=void 0;var a,r=i("SkillManager"),s=i("RoleCfgManager"),l=i("CombatGameData");(function(t){t[t.Null=0]="Null",t[t.Rect=1]="Rect",t[t.Circle=2]="Circle"})(a=o.releaseSkillType||(o.releaseSkillType={})),o.Hero1SkillCfg={SkillKey:"Hero1",NoramlAtks:{id:-1,cfgid:10,skillids:[0,1,2],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:101,skillids:[10],key:cc.macro.KEY.i,maxcd:0},Skill1:{id:1,cfgid:100,skillids:[11],key:cc.macro.KEY.k,maxcd:3},Skill2:{id:2,cfgid:110,skillids:["12_1"],key:cc.macro.KEY.l,maxcd:4},Skill3:{id:3,cfgid:111,skillids:["13_1","13_2","13_3","13_4","13_5"],key:cc.macro.KEY.u,maxcd:5},Skill4:{id:4,cfgid:112,skillids:["14_1","14_2"],key:cc.macro.KEY.n,maxcd:6},Skill5:{id:5,cfgid:113,skillids:["15_1","15_2","15_3"],key:cc.macro.KEY.h,maxcd:7},Skill6:{id:6,cfgid:114,skillids:["16_1"],key:cc.macro.KEY.p,maxcd:10},Skill7:{id:7,cfgid:130,skillids:["17_1"],key:cc.macro.KEY.m,maxcd:15},Skill8:{id:8,cfgid:131,skillids:["18_1"],key:cc.macro.KEY.r,maxcd:15}},o.GblSkillCfg={SkillKey:"Gbl",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:200,height:100}}}},o.CowSkillCfg={SkillKey:"Cow",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:10}},o.ZombieSkillCfg={SkillKey:"Zombie",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:10}},o.Gbl_SfzSkillCfg={SkillKey:"Gbl_Sfz",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:10,releaseSkillData:{type:1,rect:{width:1e3,height:1e3}}}},o.Gbl_HLSkillCfg={SkillKey:"Gbl_HL",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.CatSkillCfg={SkillKey:"Cat",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:10,releaseSkillData:{type:1,rect:{width:2e3,height:2e3}}}},o.ZaBingSkillCfg={SkillKey:"ZaBing",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.QuZhuZheSkillCfg={SkillKey:"QuZhuZhe",NoramlAtks:{id:-1,cfgid:-1,skillids:["0_1"],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:["1_1"],key:cc.macro.KEY.i,maxcd:0}},o.Dx_GdjSkillCfg={SkillKey:"Dx_Gdj",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.Dx_GjsSkillCfg={SkillKey:"Dx_Gjs",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.Dx_MfsSkillCfg={SkillKey:"Dx_Mfs",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.Dx_SqsSkillCfg={SkillKey:"Dx_Sqs",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.EyeBossSKillCfg={SkillKey:"Eyeboss",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:10,releaseSkillData:{type:1,rect:{width:100,height:40}}},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.k,maxcd:10,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}}},o.YaoJingSkillCfg={SkillKey:"YaoJing",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:10,releaseSkillData:{type:1,rect:{width:1e3,height:100}}},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.k,maxcd:10,releaseSkillData:{type:1,rect:{width:1e3,height:100}}}},o.Dx_SzzSkillCfg={SkillKey:"Dx_Szz",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.ChuiStoneManSkillCfg={SkillKey:"ChuiStone",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.StoneManSkillCfg={SkillKey:"StoneMan",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.JingLing_FireSKillCfg={SkillKey:"JingLing_Fire",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.KaLuoSKillCfg={SkillKey:"KaLuo",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.JingLing_IceSKillCfg={SkillKey:"JingLing_Ice",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.LightCityBossSkillCfg={SkillKey:"LightCityBoss",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:100,height:20}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:200,height:20}}},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.k,maxcd:0,releaseSkillData:{type:1,rect:{width:400,height:200}}}},o.LongRenSkillCfg={SkillKey:"LongRen",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.LongRen_BossSkillCfg={SkillKey:"LongRen_Boss",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:100,height:20}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:300,height:40}}}},o.RenOuShi_PuTongSkillCfg={SkillKey:"RenOuShi_PuTong",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:1200,height:100}}}},o.RenOuShi_JingYingSkillCfg={SkillKey:"RenOuShi_JingYing",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:1e3,height:20}}},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.k,maxcd:0,releaseSkillData:{type:1,rect:{width:1e3,height:20}}}},o.ShitourenSkillCfg={SkillKey:"Shitouren",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.YiAiSkillCfg={SkillKey:"YiAi",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.GoldStoneManSkillCfg={SkillKey:"GoldStoneMan",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.YiLongSkillCfg={SkillKey:"YiLong",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.ShuJingSkillCfg={SkillKey:"ShuJing",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.u,maxcd:0},Skill2:{id:2,cfgid:-1,skillids:[3],key:cc.macro.KEY.k,maxcd:0}},o.XinTuSkillCfg={SkillKey:"XinTu",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.u,maxcd:0}},o.YeChaSkillCfg={SkillKey:"YeCha",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.u,maxcd:0}},o.YuanDingLuErSkillCfg={SkillKey:"YuanDingLuEr",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.ZhangYuSkillCfg={SkillKey:"ZhangYu",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:300,height:30}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:300,height:30}}}},o.AiKeLuoSuoSkillCfg={SkillKey:"AiKeLuoSuo",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:300,height:30}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:5,releaseSkillData:{type:1,rect:{width:1e3,height:1e3}}}},o.DaJiangShiSkillCfg={SkillKey:"DaJiangShi",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:1,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.GeLiYaSkillCfg={SkillKey:"GeLiYa",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:1,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.GhostSkillCfg={SkillKey:"Ghost",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:1,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.KingSkillCfg={SkillKey:"King",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:2e3,height:1e3}}},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.u,maxcd:0,releaseSkillData:{type:1,rect:{width:2e3,height:1e3}}},Skill2:{id:2,cfgid:-1,skillids:[3],key:cc.macro.KEY.k,maxcd:0,releaseSkillData:{type:1,rect:{width:2e3,height:1e3}}},Skill3:{id:3,cfgid:-1,skillids:[4],key:cc.macro.KEY.m,maxcd:0,releaseSkillData:{type:1,rect:{width:2e3,height:1e3}}}},o.LuoTeSiSkillCfg={SkillKey:"LuoTeSi",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:2e3,height:1e3}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:2e3,height:1e3}}}},o.King_BossSkillCfg={SkillKey:" King_Boss",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.u,maxcd:0}},o.NoHead_KingSkillCfg={SkillKey:" NoHead_King",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.u,maxcd:0}},o.RanShaoHeLaSkillCfg={SkillKey:"RanShaoHeLa",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.Small_ZhiZhuSkillCfg={SkillKey:"Small_ZhiZhu",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.TaitanSKillCfg={SkillKey:"Taitan",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.XieLongSkillCfg={SkillKey:"XieLong",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.ZhiZhuSkillCfg={SkillKey:"ZhiZhu",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0}},o.shenyuanguaiSkillCfg={SkillKey:"shenyuanguai",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:650,height:100}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:1e3,height:200}}},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.k,maxcd:0}},o.shenyuanguaiheiSkillCfg={SkillKey:"shenyuanguaihei",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:650,height:100}}},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.k,maxcd:0,releaseSkillData:{type:1,rect:{width:1500,height:400}}}},o.AbyssSKillCfg={SkillKey:"Abyss"},o.DogSKillCfg={SkillKey:"Dog",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:1e3,height:1e3}}}},o.FireJinglingSKillCfg={SkillKey:"FireJingling",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.GBLjuxiangSKillCfg={SkillKey:"GBLjuxiang",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.GrilDaoZeiSKillCfg={SkillKey:"GrilDaoZei",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}},Skill:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.k,maxcd:3,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}}},o.Heti_ZYSKillCfg={SkillKey:"Heti_ZY",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.JGgeileilinSKillCfg={SkillKey:"JGgeileilin",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.MobiSKillCfg={SkillKey:"Mobi",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0}},o.dileiSKillCfg={SkillKey:"dilei",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}}},o.MouseSKillCfg={SkillKey:"Mouse",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}}},o.ShuiJingLingSKillCfg={SkillKey:"ShuiJingLing",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}},Skill1:{id:1,cfgid:-1,skillids:[1],key:cc.macro.KEY.k,maxcd:3,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}},Skill2:{id:2,cfgid:-1,skillids:[2],key:cc.macro.KEY.l,maxcd:4,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}}},o.SW_kuileiSKillCfg={SkillKey:"SW_kuilei",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}}},o.ZYG_qixingSKillCfg={SkillKey:"ZYG_qixing",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}}},o.DogManSKillCfg={SkillKey:"DogMan",NoramlAtks:{id:-1,cfgid:-1,skillids:[0],key:cc.macro.KEY.j,maxcd:0,releaseSkillData:{type:1,rect:{width:200,height:200}}},Skill0:{id:0,cfgid:-1,skillids:[1],key:cc.macro.KEY.i,maxcd:0,releaseSkillData:{type:1,rect:{width:300,height:300}}},Skill1:{id:1,cfgid:-1,skillids:[2],key:cc.macro.KEY.k,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}},Skill2:{id:2,cfgid:-1,skillids:[3],key:cc.macro.KEY.l,maxcd:0,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}},Skill3:{id:2,cfgid:-1,skillids:[4],key:cc.macro.KEY.o,maxcd:10,releaseSkillData:{type:1,rect:{width:1e4,height:1e4}}}};var c=function(){function t(t,e){void 0===e&&(e=!1),this.skillids=[],this.unlock=!0,this.cd=0,this.maxcd=0,this.lv=1,this.phasecount=0,this.cfgid=-1,this.adUseskillcount=0,this.adunlock=!1,this.releaseSkillData={type:a.Rect,rect:{width:300,height:30},circle:-1},"object"==typeof t?Object.assign(this,t):console.log("\u4f20\u5165\u7684\u7c7b\u578b\u9519\u8bef",t),this.cd=this.maxcd,"string"==typeof this.key&&(this.key=cc.macro.KEY[this.key]),e&&this.getHeroSkillInfo(),Global.TestMode&&(this.maxcd=0),l.default.NewLevel&&(this.unlock=!0),this.unlock||(this.adunlock=s.default.instance.getRoleSkillExemptAdOpen(this.id),this.adUseskillcount=s.default.instance.getZDRoleSkill(this.id).exemptcount)}return Object.defineProperty(t.prototype,"Skillids",{get:function(){return this.skillids},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Phasecount",{get:function(){return this.phasecount},set:function(t){this.phasecount=t,this.phasecount>=this.skillids.length&&(this.phasecount=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Unlock",{get:function(){return!(!this.unlock&&!this.adunlock)},set:function(t){this.unlock=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Adunlock",{get:function(){return this.adunlock},set:function(t){this.adunlock=t,t?s.default.instance.openRoleSkillExemptAdOpen(this.id):(this.adUseskillcount=0,GEvent.emit(GEventName.CombatEvents.RFSKillUI,this.id))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CD",{get:function(){return this.cd},set:function(t){(this.cd<this.maxcd||0==t)&&(this.cd=t,this.cd>=this.maxcd&&this.maxcd>0&&(GEvent.emit(GEventName.CombatEvents.CDSuc,this.id),!this.unlock&&this.adunlock&&(s.default.instance.getRoleSkillExemptAdOpen(this.id)||(this.Adunlock=!1))))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MaxCD",{get:function(){return this.maxcd},set:function(t){this.maxcd=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Key",{get:function(){return this.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cfgid",{get:function(){return this.cfgid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"LV",{get:function(){return this.lv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Useskillcount",{get:function(){return this.adUseskillcount},set:function(t){this.adUseskillcount=t,!this.unlock&&this.adunlock&&s.default.instance.addExemptSkillCount(this.id)},enumerable:!1,configurable:!0}),t.prototype.getCanNexSkillid=function(){return 0!=this.phasecount},t.prototype.getHeroSkillInfo=function(){if(!Global.TestMode&&-1!=this.cfgid&&101!=this.cfgid){var t=r.default.Init.Skill.get(this.cfgid);t&&(this.lv=t.SkillLv,this.unlock=this.lv>0,this.name=t.skill_name,this.cd=Math.floor(t.cd_time),this.maxcd=this.cd,8==this.id&&(this.unlock=!0))}},t}();o.HeroSkillData=c;var u=function(){function t(t){for(var e in this.SkillKey="",this.HeroSkillList=new Map,this.NoramlAtks=-1,this.Skill0=0,this.Skill1=1,this.Skill2=2,this.Skill3=3,this.Skill4=4,this.Skill5=5,this.Skill6=6,this.Skill7=7,this.Skill8=8,this.SkillsMap=new Map,t)"SkillKey"!=e?this.SkillsMap.set(t[e].id,new c(t[e],"Hero1"==this.SkillKey)):this.SkillKey=t[e]}return t.prototype.getSKillData=function(t){var e=this.SkillsMap.get(t);return e||console.error("\u83b7\u53d6HeroSkillData\u5931\u8d25",t),e},t.prototype.getSkillKey=function(t){return cc.macro.KEY[this.SkillsMap.get(t).Key]},t.prototype.backCDEndHeroSkillDatas=function(){var t=[];return this.SkillsMap.forEach(function(e){e.CD>=e.MaxCD&&t.push(e)}),t},t}();o.HeroSkillCfg=u,cc._RF.pop()},{}],HeroSkillList:[function(t,e,n){"use strict";cc._RF.push(e,"25130S9A41CcqFFyB7N6y60","HeroSkillList");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default={Hero1:{0:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:0,actorlength:10,actorheight:0,actorstate:0,actortime:.1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_guijianshu_1hit",vfx:[{vfx_path:{name:"jianhun_gjs_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_gjs_tx1"},target:{damage:1,lv_percent:0},name:"jianhun_gjs_tx1",anim_name:"baishou_guijianshu_1hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]},1:{skillname:"\u666e\u901a\u653b\u51fb2",skillid:1,actorlength:15,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:3,atkywidth:45,atkywidthdown:45,action:"baishou_guijianshu_2hit",vfx:[{vfx_path:{name:"jianhun_gjs_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_gjs_tx1"},target:{damage:1,lv_percent:0},name:"jianhun_gjs_tx1",anim_name:"baishou_guijianshu_2hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]},2:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:2,actorlength:13,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_guijianshu_3hit",vfx:[{vfx_path:{name:"jianhun_gjs_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_gjs_tx1"},target:{damage:1,lv_percent:0},name:"jianhun_gjs_tx1",anim_name:"baishou_guijianshu_3hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]},3:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:3,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:3,atkywidth:70,atkywidthdown:20,action:"att2_4"},4:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:4,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"att1_5"},10:{skillname:"\u540e\u8df3",skillid:10,actorlength:-100,actorheight:0,actorstate:0,actortime:.3,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"baishou_houtiao"},11:{skillname:"\u4e0a\u6311",skillid:11,actorlength:15,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:1500,onhurtspeeddy:-2700,onhurtspeeddsp:70,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_shangtiao",vfx:[{vfx_path:{name:"jianhun_st_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_st_tx1"},target:{damage:1.5,lv_percent:.1},name:"jianhun_st_tx1",anim_name:"baishou_shangtiao",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},121:{skillname:"\u7834\u519b",skillid:"12_1",actorlength:300,actorheight:0,actorstate:0,actortime:.6,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:4,skillhitblank:100,skillcross:0,skillnext:"12_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:4,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,onhurtrepelspeedx:1,onhurtpushspeed:300,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_pojun",vfx:[{vfx_path:{name:"jianhun_pjsl_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_pjsl_tx1"},target:{damage:2.1,lv_percent:.1},name:"jianhun_pjsl_tx1",anim_name:"baishou_pojun",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},122:{skillname:"\u7834\u519b",skillid:"12_2",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:1500,onhurtspeeddy:-2700,onhurtspeeddsp:50,onhurtrepelspeedx:0,onhurtrepelspeedtime:0,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_pojun2",vfx:[{vfx_path:{name:"jianhun_pjsl_tx2",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_pjsl_tx2"},target:{damage:2.6,lv_percent:.1},name:"jianhun_pjsl_tx2",anim_name:"baishou_pojun2",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},131:{skillname:"\u4e94\u6bb5\u65a9",skillid:"13_1",actorlength:220,actorheight:0,actorstate:0,actortime:.45,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_wuduanzhan_1hit",vfx:[{vfx_path:{name:"jianhun_wdz_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_wdz_tx1"},target:{damage:2.8,lv_percent:.1},name:"jianhun_wdz_tx1",anim_name:"baishou_wuduanzhan_1hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},132:{skillname:"\u4e94\u6bb5\u65a9",skillid:"13_2",actorlength:330,actorheight:0,actorstate:0,actortime:.45,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_wuduanzhan_2hit",vfx:[{vfx_path:{name:"jianhun_wdz_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_wdz_tx1"},target:{damage:2.9,lv_percent:.1},name:"jianhun_wdz_tx1",anim_name:"baishou_wuduanzhan_2hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},133:{skillname:"\u4e94\u6bb5\u65a9",skillid:"13_3",actorlength:330,actorheight:0,actorstate:0,actortime:.45,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_wuduanzhan_3hit",vfx:[{vfx_path:{name:"jianhun_wdz_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_wdz_tx1"},target:{damage:2.9,lv_percent:.1},name:"jianhun_wdz_tx1",anim_name:"baishou_wuduanzhan_3hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},134:{skillname:"\u4e94\u6bb5\u65a9",skillid:"13_4",actorlength:330,actorheight:0,actorstate:0,actortime:.45,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_wuduanzhan_4hit",vfx:[{vfx_path:{name:"jianhun_wdz_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_wdz_tx1"},target:{damage:2.9,lv_percent:.1},name:"jianhun_wdz_tx1",anim_name:"baishou_wuduanzhan_4hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},135:{skillname:"\u7834\u519b",skillid:"13_5",actorlength:330,actorheight:0,actorstate:0,actortime:.45,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:1500,onhurtspeeddy:-2700,onhurtspeeddsp:50,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_wuduanzhan_5hit",vfx:[{vfx_path:{name:"jianhun_wdz_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_wdz_tx1"},target:{damage:2.6,lv_percent:.1},name:"jianhun_wdz_tx1",anim_name:"baishou_wuduanzhan_5hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},141:{skillname:"\u62d4\u5200",skillid:"14_1",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"baishou_badaozhan_1hit",vfx:[{vfx_path:{name:"jianhun_bdz_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_bdz_tx1"},target:{damage:3.2,lv_percent:.2},name:"jianhun_bdz_tx1",anim_name:"baishou_badaozhan_1hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},142:{skillname:"\u62d4\u5200",skillid:"14_2",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:100,onhurtspeeddy:-1e3,onhurtspeeddsp:20,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"baishou_badaozhan_2hit",vfx:[{vfx_path:{name:"jianhun_bdz_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_bdz_tx1"},target:{damage:1.1,lv_percent:.1},name:"jianhun_bdz_tx1",anim_name:"baishou_badaozhan_2hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},151:{skillname:"\u731b\u9f99",skillid:"15_1",actorlength:500,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,onhurtrepelspeedx:40,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_menglong_1hit",vfx:[{vfx_path:{name:"jianhun_mldk_tx1",res_group:"",sk:"res/JianHun/Sk/jianhun_mldk_tx1"},target:{damage:2.4,lv_percent:.1},name:"jianhun_mldk_tx1",anim_name:"baishou_menglong_1hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3},{vfx_path:{name:"jianhun_mldk_tx2",res_group:"",sk:"res/JianHun/Sk/jianhun_mldk_tx2"},target:{damage:2.4,lv_percent:.1},name:"jianhun_mldk_tx2",anim_name:"baishou_menglong_1hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},152:{skillname:"\u731b\u9f99_2",skillid:"15_2",actorlength:500,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,onhurtrepelspeedx:50,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_menglong_2hit",vfx:[{vfx_path:{name:"jianhun_mldk_tx1",res_group:"",sk:"res/JianHun/Sk/jianhun_mldk_tx1"},target:{damage:2.4,lv_percent:.1},name:"jianhun_mldk_tx1",anim_name:"baishou_menglong_2hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3},{vfx_path:{name:"jianhun_mldk_tx2",res_group:"",sk:"res/JianHun/Sk/jianhun_mldk_tx2"},target:{damage:2.2,lv_percent:.1},name:"jianhun_mldk_tx2",anim_name:"baishou_menglong_2hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},153:{skillname:"\u731b\u9f99_3",skillid:"15_3",actorlength:500,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:1500,onhurtspeeddy:-2700,onhurtspeeddsp:70,onhurtrepelspeedx:50,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_menglong_3hit",vfx:[{vfx_path:{name:"jianhun_mldk_tx3",res_group:"",sk:"res/JianHun/Sk/jianhun_mldk_tx1"},target:{damage:3.6,lv_percent:.1},name:"jianhun_mldk_tx1",anim_name:"baishou_menglong_3hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3},{vfx_path:{name:"jianhun_mldk_tx2",res_group:"",sk:"res/JianHun/Sk/jianhun_mldk_tx2"},target:{damage:3.6,lv_percent:.1},name:"jianhun_mldk_tx2",anim_name:"baishou_menglong_3hit",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},161:{skillname:"\u706b\u5f71\u5251\u821e",skillid:"16_1",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:"16_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:300,onhurtspeeddy:-600,onhurtspeeddsp:50,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_huanyingjianwu",vfx:[{vfx_path:{name:"jianhun_hyjw_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_hyjw_tx1"},target:{damage:1,lv_percent:.1},name:"jianhun_hyjw_tx1",anim_name:"baishou_huanyingjianwu",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},162:{skillname:"\u706b\u5f71\u5251\u821e",skillid:"16_2",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:100,onhurtspeeddy:-200,onhurtspeeddsp:150,opencolliderpart:4,atkywidth:45,atkywidthdown:45,action:"baishou_huanyingjianwu2",vfx:[{vfx_path:{name:"jianhun_hyjw_tx2",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_hyjw_tx2"},target:{damage:1.2,lv_percent:.1},name:"jianhun_hyjw_tx2",anim_name:"baishou_huanyingjianwu2",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},171:{skillname:"\u6781\u9b3c\u5251\u672f",skillid:"17_1",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:3,onhurtspeedy:300,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,closebody:1,atkywidth:400,atkywidthdown:400,action:"baishou_jiguijianshu1",vfx:[{vfx_path:{name:"jianhun_jgjs_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_jgjs_tx1"},target:{damage:3,lv_percent:.1},name:"jianhun_jgjs_tx1",anim_name:"baishou_jiguijianshu1",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},172:{skillname:"\u6781\u9b3c\u5251\u672f",skillid:"17_2",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:40,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:400,atkywidthdown:400,action:"baishou_jiguijianshu1",vfx:[{vfx_path:{name:"jianhun_jgjs_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_jgjs_tx1"},target:{damage:1.7,lv_percent:.1},name:"jianhun_jgjs_tx1",anim_name:"baishou_jiguijianshu1",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},173:{skillname:"\u6781\u9b3c\u5251\u672f",skillid:"17_3",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:40,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:40,onhurtspeeddy:-50,onhurtspeeddsp:30,onhurtrepelspeedx:10,onhurtrepelspeedy:20,opencolliderpart:4,atkywidth:400,atkywidthdown:400,action:"baishou_jiguijianshu1",vfx:[{vfx_path:{name:"jianhun_jgjs_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_jgjs_tx1"},target:{damage:1.7,lv_percent:.1},name:"jianhun_jgjs_tx1",anim_name:"baishou_jiguijianshu1",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},174:{skillname:"\u6781\u9b3c\u5251\u672f",skillid:"17_4",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:2e3,onhurtspeeddy:-4e3,onhurtspeeddsp:300,opencolliderpart:4,atkywidth:400,atkywidthdown:400,action:"baishou_jiguijianshu1",vfx:[{vfx_path:{name:"jianhun_jgjs_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_jgjs_tx1"},target:{damage:1e3,lv_percent:.1},name:"jianhun_jgjs_tx1",anim_name:"baishou_jiguijianshu1",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},181:{skillname:"\u4e09\u89c9",skillid:"18_1",actorlength:200,actorheight:0,actorstate:0,actortime:.6,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:"18_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:1500,onhurtspeeddy:-2700,onhurtspeeddsp:70,opencolliderpart:4,closebody:1,atkywidth:400,atkywidthdown:400,action:"baishou_3juexing1",vfx:[{vfx_path:{name:"jianhun_mojian_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_mojian_tx1"},target:{damage:6,lv_percent:.1},name:"jianhun_mojian_tx1",anim_name:"jianhun_mojian_tx1",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},182:{skillname:"\u4e09\u89c9",skillid:"18_2",actorlength:0,actorheight:0,actorstate:0,actortime:.6,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:"18_3",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:300,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,closebody:1,atkywidth:400,atkywidthdown:400,action:"baishou_3juexing2",vfx:[{vfx_path:{name:"jianhun_mojian_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_mojian_tx1"},target:{damage:7,lv_percent:.1},name:"jianhun_mojian_tx1",anim_name:"jianhun_mojian_tx2",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]},183:{skillname:"\u4e09\u89c9",skillid:"18_3",actorlength:0,actorheight:0,actorstate:0,actortime:.6,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:"18_4",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:300,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,closebody:1,atkywidth:400,atkywidthdown:400,action:"baishou_3juexing3",vfx:[{vfx_path:{name:"jianhun_mojian_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_mojian_tx1"},target:{damage:4,lv_percent:.1},name:"jianhun_mojian_tx1",anim_name:"jianhun_mojian_tx3",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},184:{skillname:"\u4e09\u89c9",skillid:"18_4",actorlength:0,actorheight:0,actorstate:0,actortime:.6,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:40,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:1,onhurtspeedy:600,onhurtspeeddy:-1200,onhurtspeeddsp:200,opencolliderpart:4,closebody:1,atkywidth:400,atkywidthdown:400,action:"baishou_3juexing4",vfx:[{vfx_path:{name:"jianhun_mojian_tx1",res_group:"JianHun",sk:"res/JianHun/Sk/jianhun_mojian_tx1"},target:{damage:8,lv_percent:.1},name:"jianhun_mojian_tx1",anim_name:"jianhun_mojian_tx4",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]}},Cat:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"maoyao-attack",actionattslot:"maoyao-attack",vfx:[{vfx_path:{name:"maoyao_TX",res_group:"chapter_1",sk:"res/Chapter_1/Sk/Cat/maoyao_TX"},name:"maoyao_TX",anim_name:"attack",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"bai",movetype:0,layaertype:0}]},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"maoyao-leapattack",actionattslot:"maoyao-leapattack",vfx:[{vfx_path:{name:"maoyao_TX",res_group:"chapter_1",sk:"res/Chapter_1/Sk/Cat/maoyao_TX"},name:"maoyao_TX",anim_name:"leapattack",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"bai",movetype:0,layaertype:0}]}},Gbl:{0:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:-1,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",effaction:"",vfx:[{vfx_path:{name:"daoguang_TX",res_group:"Chapter_1",sk:"res/Chapter_1/Sk/Gbl/daoguang_TX"},name:"daoguang_TX",anim_name:"TX_daoguang",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]}},Gbl_HL:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:600,skillheight:0,skillheightd:0,skillmovetype:0,skillscale:1,skilltime:1.5,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:!1,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:70,action:"hurl",vfx:[{vfx_path:{name:"juqi_TX",res_group:"chapter_1",sk:"res/Chapter_1/Sk/Gbl_HL/juqi_TX"},name:"juqi_TX",anim_name:"TX_juqi",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0},{name:"TYTX_bsxgj01",vfx_path:{res_group:"chapter_1",sk:"res/Chapter_1/Sk/Gbl_HL/TYTX_bsxgj01"},anim_name:"TYTX_bing",loop:!0,behit_destroy:!0,skin:"default",movetype:7,layaertype:0}]}},Cow:{0:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill1",effaction:"niutouren_dzb_TX1",vfx:[{vfx_path:{name:"niutouren_TX1",res_group:"Chapter_1",sk:"res/Chapter_1/Sk/Cow/niutouren_TX1"},name:"niutouren_TX1",anim_name:"niutouren_dzb_TX1",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},1:{skillname:"\u72ee\u5b50\u543c",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:6,skillhitblank:150,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill2",effaction:"niutouren_hou_TX2",vfx:[{vfx_path:{name:"niutouren_TX2",res_group:"Chapter_1",sk:"res/Chapter_1/Sk/Cow/niutouren_TX2"},name:"niutouren_TX2",anim_name:"niutouren_hou_TX2",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]}},Zombie:{0:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dszgyx-atk1",actionattslot:"dszgyx-atk1"},1:{skillname:"\u54ac\u4eba",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:6,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dszgyx-atk2",actionattslot:"dszgyx-atk2"}},Gbl_Sfz:{0:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"shifuzhang_attack",actionattslot:"shifuzhang_attack",effaction:"TX_daoguang",vfx:[{vfx_path:{name:"daoguang_TX",res_group:"Chapter_1",sk:"res/Chapter_1/Sk/Gbl/daoguang_TX"},name:"daoguang_TX",anim_name:"TX_daoguang",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},1:{skillname:"\u54ac\u4eba",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:2,skillscale:1,skilltime:0,skillhitnum:6,skillhitblank:30,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"shifuzhang_thunder",onhurtrepelspeedx:40,vfx:[{vfx_path:{name:"juqisfz_TX",res_group:"chapter_1",sk:"res/Chapter_1/Sk/Gbl_Sfz/juqisfz_TX"},name:"juqisfz_TX",anim_name:"TX_juqi",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0},{vfx_path:{name:"thunder_TX",res_group:"tongyong",sk:"res/TongYong/Sk/thunder_TX"},name:"thunder_TX",anim_name:"shifuzhang_thunder",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]}},ZaBing:{0:{skillname:"\u666e\u901a\u653b\u51fb1",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack_dunci_qiang",actionattslot:"attack_dunci_qiang"}},QuZhuZhe:{"0_1":{skillname:"\u666e\u901a\u653b\u51fb1",skillid:"0_1",actorlength:0,actorheight:0,actorstate:0,actortime:.1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:"0_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack1_1",actionattslot:"attack1_1",vfx:[{name:"tuci_TX",vfx_path:{res_group:"chapter_2",sk:"res/Chapter_2/Sk/QuZhuZhe/tuci_TX"},anim_name:"animation",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},"0_2":{skillname:"\u666e\u901a\u653b\u51fb1",skillid:"0_2",actorlength:800,actorheight:0,actorstate:0,actortime:.5,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:6,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,onhurtrepelspeedx:50,action:"attack1_2",actionattslot:"attack1_2"},"1_1":{skillname:"\u6325\u780d",skillid:"1_1",actorlength:0,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:"1_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"SuperArmor_attack1_1",actionattslot:"",vfx:[{name:"pikan_TX",vfx_path:{name:"pikan_TX",res_group:"chapter_2",sk:"res/Chapter_2/Sk/QuZhuZhe/pikan_TX"},anim_name:"animation",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},"1_2":{skillname:"\u6325\u780d",skillid:"1_2",actorlength:450,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"SuperArmor_attack1_2",actionattslot:"SuperArmor_attack1_2"}},RenOuShi_PuTong:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"wuni_attack",actionattslot:"wuni_attack"},1:{skillname:"\u77f3\u67f1",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"wuni_shizhu",actionattslot:"",vfx:[{name:"shizhulan_TX",vfx_path:{name:"shizhulan_TX",res_group:"chapter_2",sk:"res/Chapter_2/Sk/ShiZhu_TX/shizhulan_TX"},anim_name:"TX_dici",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"hei",movetype:5,layaertype:0}]}},KaLuo:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:400,skillheight:300,skillheightd:-350,skillmovetype:0,skillscale:1,skilltime:1.8,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"hurl",actionattslot:"hurl",vfx:[{name:"zhadan",vfx_path:{res_group:"chapter_2",sk:"res/Chapter_2/Sk/KaLuo/zhadan"},anim_name:"hurl",loop:!1,moveinfo:{},behit_destroy:!1,skin:"default",moveInfo:{offsetx:100,offsety:50},movetype:7,layaertype:0,vfx:[{name:"baozha_TX",vfx_path:{res_group:"chapter_2",sk:"res/Chapter_2/Sk/KaLuo/baozha_TX"},anim_name:"zhadanbaozha",loop:!1,atk_fps_space:-1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:-1,layaertype:0}]}]}},Dx_Gdj:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01_gdj",actionattslot:"skill01_gdj"}},Dx_Gjs:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01_gjs",actionattslot:"skill01_gjs"}},Dx_Mfs:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01_mfs",actionattslot:"skill01_mfs"}},Dx_Sqs:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill_sqs",actionattslot:"skill_sqs"}},Dx_Szz:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01_szz",actionattslot:"skill01_szz"}},EyeBoss:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill02jiguang",actionattslot:"skill02jiguang"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill03zheng",actionattslot:"skill03zheng"},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill04yan",vfx:[{name:"diyan_tx1",vfx_path:{name:"diyan_tx1",res_group:"Chapter_2",sk:"res/Chapter_2/Sk/EyeBoss/diyan_tx1"},anim_name:"skill01diyan",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:5,layaertype:0}]}},YaoJing:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01",actionattslot:"skill01",vfx:[{name:"zhenbo_TX",vfx_path:{name:"zhenbo_TX",res_group:"chapter_2",sk:"res/TongYong/Sk/zhenbo_TX"},anim_name:"chuijuren_attack",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:0,layaertype:0}]},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill02_huo",vfx:[{name:"baozhazhen_tx1",vfx_path:{name:"baozhazhen_tx1",res_group:"chapter_2",sk:"res/Chapter_2/Sk/YaoJing/baozhazhen_tx1"},anim_name:"skill02",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:5,layaertype:0},{name:"baozhazhen_tx2",vfx_path:{name:"baozhazhen_tx2",res_group:"chapter_2",sk:"res/Chapter_2/Sk/YaoJing/baozhazhen_tx2"},anim_name:"skill02",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:5,layaertype:3}]},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill02_bing",actionattslot:"skill02_bing"}},ChuiStoneMan:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack",vfx:[{name:"zhenbo_TX",vfx_path:{name:"zhenbo_TX",res_group:"chapter_2",sk:"res/TongYong/Sk/zhenbo_TX"},anim_name:"chuijuren_attack",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:0,layaertype:0}]}},StoneMan:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"}},LightCityBoss:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01-atk",actionattslot:"skill01-atk"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill02_guangquan",actionattslot:"skill02_guangquan"},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill03_luolei",actionattslot:"",vfx:[{name:"thunder_TX",vfx_path:{name:"thunder_TX",res_group:"tongyong",sk:"res/TongYong/Sk/thunder_TX"},anim_name:"putong_thunder",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:6,layaertype:0,rect:{width:400,height:400}}]}},LongRen:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"}},LongRen_Boss:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"thump",actionattslot:"thump",vfx:[{vfx_path:{name:"lukasi_TX",res_group:"chapter_2",sk:"res/Chapter_2/Sk/LongRen_Boss/lukasi_TX"},name:"lukasi_TX",anim_name:"lukasi_thump",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]}},RenOuShi_JingYing:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u77f3\u67f1",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"shizhu",actionattslot:"",vfx:[{name:"shizhulan_TX",vfx_path:{name:"shizhulan_TX",res_group:"chapter_2",sk:"res/Chapter_2/Sk/ShiZhu_TX/shizhulan_TX"},anim_name:"TX_dici",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"lan",movetype:5,layaertype:0}]},2:{skillname:"\u77f3\u67f1",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"daoge_kongzhi",actionattslot:"daoge_kongzhi"}},Shitouren:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"}},YiAi:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:600,skillheight:0,skillheightd:0,skillmovetype:0,skillscale:1,skilltime:1.5,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:!1,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:70,action:"hurl_feibiao",actionattslot:"hurl_feibiao",vfx:[{vfx_path:{name:"feibiao",res_group:"chapter_2",sk:"res/Chapter_2/Sk/YiAi/feibiao"},name:"feibiao",anim_name:"hurl",loop:!0,hit_count_destroy:99999,behit_destroy:!1,skin:"default",moveInfo:{offsetx:100,offsety:50},movetype:7,layaertype:3},{name:"zhadan",vfx_path:{res_group:"chapter_2",sk:"res/Chapter_2/Sk/KaLuo/zhadan"},anim_name:"hurl",loop:!1,moveinfo:{},behit_destroy:!1,skin:"default",moveInfo:{offsetx:100,offsety:50},movetype:7,layaertype:0,vfx:[{name:"baozha_TX",vfx_path:{res_group:"chapter_2",sk:"res/Chapter_2/Sk/KaLuo/baozha_TX"},anim_name:"zhadanbaozha",loop:!1,atk_fps_space:-1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:-1,layaertype:0}]}]},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:400,skillheight:300,skillheightd:-350,skillmovetype:0,skillscale:1,skilltime:1.8,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"hurl_zhadan",actionattslot:"hurl_zhadan",vfx:[{vfx_path:{name:"feibiao",res_group:"chapter_2",sk:"res/Chapter_2/Sk/YiAi/feibiao"},name:"feibiao",anim_name:"hurl",loop:!0,hit_count_destroy:99999,behit_destroy:!0,skin:"default",moveInfo:{offsetx:100,offsety:100},movetype:7,layaertype:3},{name:"zhadan",vfx_path:{res_group:"chapter_2",sk:"res/Chapter_2/Sk/KaLuo/zhadan"},anim_name:"hurl",loop:!1,moveinfo:{},behit_destroy:!1,skin:"default",moveInfo:{offsetx:100,offsety:50},movetype:7,layaertype:0,vfx:[{name:"baozha_TX",vfx_path:{res_group:"chapter_2",sk:"res/Chapter_2/Sk/KaLuo/baozha_TX"},anim_name:"zhadanbaozha",loop:!1,atk_fps_space:-1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:-1,layaertype:0}]}]}},JingLing_Fire:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01",actionattslot:"skill01"}},JingLing_Ice:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01",actionattslot:"skill01"}},GoldStoneMan:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack",vfx:[{vfx_path:{name:"zhenbo_TX",res_group:"tongyong",sk:"res/TongYong/Sk/zhenbo_TX"},name:"zhenbo_TX",anim_name:"qitajuren_attack",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:800,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dash",actionattslot:"dash",vfx:[{vfx_path:{name:"zhenbo_TX",res_group:"tongyong",sk:"res/TongYong/Sk/zhenbo_TX"},name:"zhenbo_TX",anim_name:"qitajuren_attack",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]}},YiLong:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"atk",actionattslot:"atk"}},ShuJing:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dici_da",actionattslot:"",vfx:[{vfx_path:{name:"dici1_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/ShuJing/dici1_TX"},name:"dici1_TX",anim_name:"army",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"shujing",movetype:5,layaertype:0},{vfx_path:{name:"dici2_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/ShuJing/dici2_TX"},name:"dici2_TX",anim_name:"boss",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"boss",movetype:5,layaertype:0}]},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dici_xiao",actionattslot:"dici_xiao",vfx:[{vfx_path:{name:"dici1_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/ShuJing/dici1_TX"},name:"dici1_TX",anim_name:"army",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"shujing",movetype:5,layaertype:0},{vfx_path:{name:"dici2_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/ShuJing/dici2_TX"},name:"dici2_TX",anim_name:"boss",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"boss",movetype:5,layaertype:0}]},3:{skillname:"\u666e\u901a\u653b\u51fb",skillid:3,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dici_boss",actionattslot:"dici_boss",vfx:[{vfx_path:{name:"dici1_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/ShuJing/dici1_TX"},name:"dici1_TX",anim_name:"army",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"shujing",movetype:5,layaertype:0},{vfx_path:{name:"dici2_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/ShuJing/dici2_TX"},name:"dici2_TX",anim_name:"boss",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"boss",movetype:5,layaertype:0}]}},XinTu:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"SuperArmor_attack",actionattslot:"SuperArmor_attack"},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"hurl",actionattslot:"hurl"}},YeCha:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:30,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"bellow",actionattslot:"bellow",vfx:[{vfx_path:{name:"yechahou_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/YeCha/yechahou_TX"},name:"yechahou_TX",anim_name:"niutouren_hou_TX2",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:"2_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"thump_1",actionattslot:"thump_1"},"2_2":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"2_2",actorlength:100,actorheight:0,actorstate:0,actortime:1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"thump_2",actionattslot:"thump_2",vfx:[{name:"zhenbo_TX",vfx_path:{name:"zhenbo_TX",res_group:"chapter_2",sk:"res/TongYong/Sk/zhenbo_TX"},anim_name:"chuijuren_attack",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:3,layaertype:3}]}},YuanDingLuEr:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"maoyao-attack",actionattslot:"maoyao-attack",vfx:[{vfx_path:{name:"maoyao_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/YuanDingLuEr/maoyao_TX"},name:"maoyao_TX",anim_name:"attack",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"maoyao-leapattack",actionattslot:"maoyao-leapattack",vfx:[{vfx_path:{name:"maoyao_TX",res_group:"chapter_3",sk:"res/Chapter_3/Sk/YuanDingLuEr/maoyao_TX"},name:"maoyao_TX",anim_name:"leapattack",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]}},ZhangYu:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:"0_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01_1",actionattslot:""},"0_2":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"0_2",actorlength:200,actorheight:0,actorstate:0,actortime:.4,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill01_2",actionattslot:"skill01_2"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:"1_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill02_boss_1",actionattslot:""},"1_2":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"1_2",actorlength:0,actorheight:0,actorstate:0,actortime:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:150,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill02_boss_2",actionattslot:"skill02_boss_2"}},AiKeLuoSuo:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:"0_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack_1",actionattslot:"attack_1"},"0_1":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"0_1",actorlength:200,actorheight:0,actorstate:0,actortime:1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack_2",actionattslot:"attack_2"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:"1_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"thump_A1_1",actionattslot:"thump_A1_1"},11:{skillname:"\u666e\u901a\u653b\u51fb",skillid:"1_1",actorlength:0,actorheight:0,actorstate:0,actormovetype:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:1,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:"1_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"thump_A1_2",actionattslot:"thump_A1_2",vfx:[{vfx_path:{name:"biaoji_TX",res_group:"tongyong",sk:"res/TongYong/Sk/biaoji_TX"},name:"biaoji_TX",anim_name:"biaoji_tongyong",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},12:{skillname:"\u666e\u901a\u653b\u51fb",skillid:"1_2",actorlength:0,actorheight:0,actorstate:0,actortime:0,actormovetype:1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"thump_A1_3",actionattslot:"thump_A1_3",vfx:[{vfx_path:{name:"biaoji_TX",res_group:"tongyong",sk:"res/TongYong/Sk/biaoji_TX"},name:"biaoji_TX",anim_name:"biaoji_tongyong",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0},{name:"zhenbo_TX",vfx_path:{name:"zhenbo_TX",res_group:"chapter_2",sk:"res/TongYong/Sk/zhenbo_TX"},anim_name:"chuijuren_attack",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:0,layaertype:0}]}},DaJiangShi:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:400,skillheight:500,skillheightd:-1100,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"haigu_hurl",actionattslot:"",vfx:[{vfx_path:{name:"kulou_TX",res_group:"chapter_4",sk:"res/Chapter_4/Sk/DaJiangShi/kulou_TX"},name:"kulou_TX",anim_name:"hurl",loop:!0,hit_count_destroy:99999,behit_destroy:!0,skin:"default",moveInfo:{offsetx:100,offsety:50},movetype:7,layaertype:3}]}},GeLiYa:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:400,skillheight:500,skillheightd:-1100,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"thump",actionattslot:"thump"}},Ghost:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill",actionattslot:"skill"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.35,skilllength:400,skillheight:500,skillheightd:-1100,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill02",actionattslot:"skill02"}},King:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:0,skillhitblank:100,skillcross:0,skillnext:"0_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack_1",actionattslot:""},"0_1":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"0_1",actorlength:450,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,onhurtrepelspeedx:80,action:"attack_2",actionattslot:"attack_2"},1:{skillname:"\u6325\u780d",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:"1_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"SuperArmor_attack_1",actionattslot:""},"1_2":{skillname:"\u6325\u780d",skillid:"1_2",actorlength:450,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"SuperArmor_attack_2",actionattslot:"SuperArmor_attack_2"},2:{skillname:"\u51b0\u67f1",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:100,skillhitnum:300,skillhitblank:500,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e5,atkywidthdown:1e4,action:"bing_bingzhu",actionattslot:"",vfx:[{vfx_path:{name:"bingzhu_TX",res_group:"tongyong",sk:"res/TongYong/Sk/bingzhu_TX"},name:"bingzhu_TX",anim_name:"bingshouhu_TX",loop:!0,hit_count_destroy:99999,behit_destroy:!1,herodie_destroy:!0,skin:"default",movetype:8,layaertype:3}]},3:{skillname:"\u51b0\u67f1",skillid:3,actorlength:0,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:100,skillhitnum:300,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e5,atkywidthdown:1e4,action:"guang_thunder",actionattslot:"",vfx:[{vfx_path:{name:"thunder_TX",res_group:"tongyong",sk:"res/TongYong/Sk/thunder_TX"},name:"thunder_TX",anim_name:"guangshouhu_thunder",loop:!1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:5,layaertype:3}]},4:{skillname:"\u51b0\u67f1",skillid:4,actorlength:0,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:100,skillhitnum:300,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e5,atkywidthdown:1e4,action:"huo_zibao",actionattslot:"",vfx:[{vfx_path:{name:"baopo_TX",res_group:"tongyong",sk:"res/TongYong/Sk/baopo_TX"},name:"baopo_TX",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:2,layaertype:3}]}},King_Boss:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:0,skillhitblank:100,skillcross:0,skillnext:"0_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack_1",actionattslot:""},"0_1":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"0_1",actorlength:450,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,onhurtrepelspeedx:80,action:"attack_2",actionattslot:"attack_2"},1:{skillname:"\u6325\u780d",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:"1_2",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"SuperArmor_attack_1",actionattslot:""},"1_2":{skillname:"\u6325\u780d",skillid:"1_2",actorlength:450,actorheight:0,actorstate:0,actortime:.35,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"SuperArmor_attack_2",actionattslot:"SuperArmor_attack_2"},2:{skillname:"\u51b0\u67f1",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:100,skillhitnum:300,skillhitblank:200,skillcross:0,skillnext:"2_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e5,atkywidthdown:1e4,action:"SuperArmor_thunder_1",actionattslot:"",vfx:[{vfx_path:{name:"juqi_TX",res_group:"tongyong",sk:"res/Chapter_4/Sk/King_Boss/juqi_TX"},name:"juqi_TX",anim_name:"TX_juqi",loop:!1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",moveInfo:{offsetx:0,offsety:350},movetype:3,layaertype:3}]},"2_1":{skillname:"\u51b0\u67f1",skillid:"2_1",actorlength:0,actorheight:0,actorstate:0,actortime:.2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:100,skillhitnum:1,skillhitblank:300,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e5,atkywidthdown:1e4,action:"SuperArmor_thunder_2",actionattslot:"",vfx:[{vfx_path:{name:"zhenbo_TX",res_group:"TongYong",sk:"res/TongYong/Sk/zhenbo_TX"},name:"zhenbo_TX",anim_name:"chuijuren_attack",loop:!1,hit_count_destroy:99999,behit_destroy:!1,moveInfo:{offsetx:100,offsety:50},skin:"default",movetype:0,layaertype:0}]}},NoHead_King:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:0,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack",vfx:[{vfx_path:{name:"wutoqishi_TX",res_group:"Chapter_4",sk:"res/Chapter_4/Sk/NoHead_King/wutoqishi_TX"},name:"wutoqishi_TX",anim_name:"attack",loop:!1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:0,layaertype:0}]},1:{skillname:"\u51b2\u523a",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:0,skillhitblank:100,skillcross:0,skillnext:"1_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dash_1",actionattslot:""},"1_1":{skillname:"\u51b2\u523a",skillid:"1_1",actorlength:800,actorheight:0,actorstate:0,actortime:3,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:250,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dash_2",actionattslot:"dash_2"},2:{skillname:"\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:30,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"summon",actionattslot:"",vfx:[{name:"thunder_TX",vfx_path:{name:"thunder_TX",res_group:"tongyong",sk:"res/TongYong/Sk/thunder_TX"},anim_name:"guangkuijia_thunder",loop:!1,total_fps:37,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:0,layaertype:0,rect:{width:400,height:400}}]}},RanShaoHeLa:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:0,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dszgyx-atk1",actionattslot:"dszgyx-atk1"},1:{skillname:"\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:6,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"dszgyx-atk2",actionattslot:"dszgyx-atk2"}},Small_ZhiZhu:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"}},Taitan:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"thump",actionattslot:"thump"}},XieLong:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"skill001",actionattslot:"skill001",vfx:[{vfx_path:{name:"Xielong_TX001",res_group:"chapter_4",sk:"res/Chapter_4/Sk/XieLong/Xielong_TX001"},name:"Xielong_TX001",anim_name:"skill001",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:0}]},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:20,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"skill002",actionattslot:"skill002",vfx:[{vfx_path:{name:"Xielong_TX002",res_group:"chapter_4",sk:"res/Chapter_4/Sk/XieLong/Xielong_TX002"},name:"Xielong_TX002",anim_name:"skill002",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:9,rect:{width:400,height:400},layaertype:0}]}},ZhiZhu:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"duzhizhu_fangdu",actionattslot:"duzhizhu_fangdu"}},shenyuanguai:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:600,skillheight:0,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:1,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack2",vfx:[{vfx_path:{name:"huoqiu_TX",res_group:"tongyong",sk:"res/TongYong/Sk/huoqiu_TX"},target:{damage:1,lv_percent:0},name:"huoqiu_TX",anim_name:"shenyuanguai_huoqiu",loop:!1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:2,layaertype:0}]},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack3"}},shenyuanguaihei:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:500,atkywidthdown:500,action:"attack_hei1",actionattslot:"attack_hei1"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:600,skillheight:0,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:2,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:70,atkywidthdown:20,action:"attack_hei2",actionattslot:"attack_hei2"},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:1,skillhitblank:200,skillcross:0,skillnext:"2_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,closebody:1,atkywidth:70,atkywidthdown:20,action:"jump_hei"},"2_1":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"2_1",actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,actormovetype:1,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,closebody:0,atkywidth:70,atkywidthdown:20,action:"jump2_hei",vfx:[{vfx_path:{name:"baopo_TX",res_group:"tongyong",sk:"res/TongYong/Sk/baopo_TX"},target:{damage:1,lv_percent:0},name:"baopo_TX",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!1,skin:"default",movetype:0,layaertype:3}]}},Abyss:{},zuanshikuang:{},LuoTeSi:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"skill01",actionattslot:"skill01"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:0,skilllength:600,skillheight:0,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:4,skillhitblank:100,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:506,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:200,atkywidthdown:200,action:"skill02",actionattslot:"skill2"}},Dog:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:"0_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"attack_1",actionattslot:"attack_1"},"0_1":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"0_1",actorlength:300,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"attack_2",actionattslot:"attack_2"}},FireJingling:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"attack",actionattslot:"attack"}},GBLjuxiang:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"attack",actionattslot:"attack"}},GrilDaoZei:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"attack2",actionattslot:"attack2"},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:"2_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"renshu_1",actionattslot:"renshu_1",vfx:[{vfx_path:{name:"yanwu_TX",res_group:"tongyong",sk:"res/TongYong/Sk/yanwu_TX"},name:"yanwu_TX",anim_name:"A",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:3,layaertype:3},{vfx_path:{name:"nvdaozei",res_group:"Chapter_5",sk:"res/Chapter_5/Sk/GrilDaoZei/nvdaozei"},name:"nvdaozei",anim_name:"renshu_2",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"saji",movetype:10,movetime:1.8,rect:{width:100,height:100},layaertype:0}]},"2_1":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"2_1",actorlength:500,actorheight:0,actorstate:0,actortime:1.8,actormovetype:2,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"renshu_2",actionattslot:"renshu_2",vfx:[{vfx_path:{name:"yanwu_TX",res_group:"tongyong",sk:"res/TongYong/Sk/yanwu_TX"},name:"yanwu_TX",anim_name:"A",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:3,layaertype:3}]}},Heti_ZY:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:100,atkywidthdown:100,action:"attack",actionattslot:"attack"}},JGgeileilin:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"attack",actionattslot:"attack",vfx:[{vfx_path:{name:"thunder_TX",res_group:"tongyong",sk:"res/TongYong/Sk/thunder_TX"},name:"thunder_TX",anim_name:"shifuzhang_thunder",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:3,layaertype:3}]}},Mobi:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"fanglei",actionattslot:"fanglei"}},dilei:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"baozha",actionattslot:"baozha"}},Mouse:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"skill01",actionattslot:"skill01"}},ShuiJingLing:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"bingzhu",actionattslot:"bingzhu",vfx:[{vfx_path:{name:"zhuibingshu_TX",res_group:"chapter_5",sk:"res/Chapter_5/Sk/ShuiJingLing/zhuibingshu_TX"},target:{damage:7,lv_percent:.1},name:"zhuibingshu_TX",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:5,layaertype:0},{vfx_path:{name:"dibiao_TX",res_group:"chapter_5",sk:"res/TongYong/Sk/dibiao_TX"},target:{damage:7,lv_percent:.1},name:"dibiao_TX",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:5,layaertype:0}]},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"bingzhui3",actionattslot:"bingzhui3"}},SW_kuilei:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"dszgyx-atk1",actionattslot:"dszgyx-atk1"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"dszgyx-atk2",actionattslot:"dszgyx-atk2"}},ZYG_qixing:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"attack",actionattslot:"attack"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:600,actorheight:0,actorstate:0,actortime:1.5,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"run2",actionattslot:"run2"}},DogMan:{0:{skillname:"\u666e\u901a\u653b\u51fb",skillid:0,actorlength:0,actorheight:0,actorstate:0,actortime:.7,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:30,atkywidthdown:20,action:"attack1",actionattslot:"attack1"},1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:1.5,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"attack2",actionattslot:"attack2"},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:1.5,actormovetype:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:"2_0",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"skill_beici",actionattslot:"skill_beici",vfx:[{vfx_path:{name:"yanwu_TX",res_group:"tongyong",sk:"res/TongYong/Sk/yanwu_TX"},name:"yanwu_TX",anim_name:"quanren",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:3,layaertype:3}]},"2_0":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"2_0",actorlength:0,actorheight:0,actorstate:0,actortime:1.5,actormovetype:1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:"2_1",skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"skill_beici2",actionattslot:"skill_beici2",vfx:[{vfx_path:{name:"yanwu_TX",res_group:"tongyong",sk:"res/TongYong/Sk/yanwu_TX"},name:"yanwu_TX",anim_name:"quanren",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:3,layaertype:3}]},"2_1":{skillname:"\u666e\u901a\u653b\u51fb",skillid:"2_1",actorlength:0,actorheight:0,actorstate:0,actortime:1.5,actormovetype:0,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"attack2",actionattslot:"attack2"},3:{skillname:"\u666e\u901a\u653b\u51fb",skillid:3,actorlength:0,actorheight:0,actorstate:0,actortime:1.5,skilllength:1e3,skillheight:0,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"skill_feidao",actionattslot:"skill_feidao",vfx:[{vfx_path:{name:"TX_feidao",res_group:"chapter_5",sk:"res/Chapter_5/Sk/DogMan/TX_feidao"},name:"TX_feidao",anim_name:"TX_feidao",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:2,layaertype:3}]},4:{skillname:"\u666e\u901a\u653b\u51fb",skillid:4,actorlength:0,actorheight:0,actorstate:0,actortime:1.5,skilllength:1e3,skillheight:0,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"summon",actionattslot:"summon"}},NiuTou:{1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:1.5,actormovetype:1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"skill1",actionattslot:"skill1",vfx:[{vfx_path:{name:"TX_PiKan",res_group:"BossMode",sk:"res/BossMode/Sk/NiuTou/TX_PiKan"},name:"TX_PiKan",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:1,layaertype:3},{vfx_path:{name:"TX_QiaoJi",res_group:"BossMode",sk:"res/BossMode/Sk/NiuTou/TX_QiaoJi"},name:"TX_QiaoJi",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:1,layaertype:3}]},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:0,actorheight:0,actorstate:0,actortime:1.5,skilllength:1e3,skillheight:0,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"skill2",actionattslot:"skill2",vfx:[{vfx_path:{name:"TX_Fire",res_group:"BossMode",sk:"res/BossMode/Sk/NiuTou/TX_Fire"},name:"TX_Fire",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3},{vfx_path:{name:"TX_QiaoJi",res_group:"BossMode",sk:"res/BossMode/Sk/NiuTou/TX_QiaoJi"},name:"TX_QiaoJi",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]}},LaoHu:{1:{skillname:"\u666e\u901a\u653b\u51fb",skillid:1,actorlength:0,actorheight:0,actorstate:0,actortime:1.5,actormovetype:1,skilllength:0,skillheight:0,skillmovetype:0,skillscale:1,skilltime:0,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"skill2",actionattslot:"skill2",vfx:[{vfx_path:{name:"TX_Nao",res_group:"BossMode",sk:"res/BossMode/Sk/LaoHu/TX_Nao"},name:"TX_Nao",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]},2:{skillname:"\u666e\u901a\u653b\u51fb",skillid:2,actorlength:600,actorheight:0,actorstate:0,actortime:1.5,skilllength:1e3,skillheight:0,skillmovetype:0,skillscale:1,skilltime:1,skillhitnum:10,skillhitblank:200,skillcross:0,skillnext:-1,skillnextcon:-2,effectdmg:.7,effectdmginc:1,effectpower:0,effecthitlv:.05,effectdebuff:-1,effectdebufflv:1,effectdebufftime:0,effectcost:0,effectcdtime:0,effectloop:0,skilltips:"",hurttype:0,onhurtspeedy:0,onhurtspeeddy:0,onhurtspeeddsp:0,opencolliderpart:4,atkywidth:1e3,atkywidthdown:1e3,action:"skill1",actionattslot:"skill1",vfx:[{vfx_path:{name:"TX_ChongFeng",res_group:"BossMode",sk:"res/BossMode/Sk/LaoHu/TX_ChongFeng"},name:"TX_ChongFeng",anim_name:"animation",loop:!1,hit_count_destroy:99999,behit_destroy:!0,skin:"default",movetype:0,layaertype:3}]}}},cc._RF.pop()},{}],HeroTitleActivityView:[function(t,e,n){"use strict";cc._RF.push(e,"72dabgGevlOYK5kasA7dR1h","HeroTitleActivityView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("SceneConfig"),u=o("View"),p=o("GameData"),d=o("DeathTowerType"),f=o("GameHelper"),h=o("HeroTitleDataManger"),y=o("DeathTowerView"),g=cc._decorator,m=g.ccclass,v=g.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskDes=[],e.taskProgress=[],e.HeroName=[],e.getBtn=[],e.TitleSpine=[],e.animatorCtrl=[],e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.jsonData=p.default.HeroTitleActData(),this.initView()},e.prototype.onBtnEquipTitle=function(){this.sceneMgr().load(c.default.Scenes.DeathTowerView,void 0,function(t,e){e.getComponent(y.default).onIniit(d.DeathTowerType.info_bag)})},e.prototype.onBtnGetTitle=function(t,e){var n=parseInt(e);h.default.instance.ActVideoCount>=this.jsonData[n].videoCount?(Global.onShowTosat("\u5956\u52b1\u656c\u8bf7\u671f\u5f85"),this.initView()):Global.onShowTosat("\u4efb\u52a1\u672a\u5b8c\u6210")},e.prototype.initView=function(){for(var t=this,e=h.default.instance.ActVideoCount,n=function(n){i.taskDes[n].string="\u7d2f\u8ba1\u89c2\u770b"+i.jsonData[n].videoCount+"\u6b21\u89c6\u9891",i.taskProgress[n].string=e+"/"+i.jsonData[n].videoCount;var o=f.default.instance.GameTitleData()[i.jsonData[n].titleID];i.HeroName[n].string=o.name;var a=h.default.instance.getUnlockTitleIdData(i.jsonData[n].titleID);i.getBtn[n].getComponent(cc.Button).interactable=!a,i.getBtn[n].getChildByName("Label").getComponent(cc.Label).string=a?"\u5df2\u9886\u53d6":"\u9886\u53d6",i.getBtn[n].getChildByName("Label").color=a?cc.color(193,193,193):cc.color(241,217,129);var r=o.spine;i.animatorCtrl[n]=new l.default(i.TitleSpine[n]),i.setSkeletonAd(i.TitleSpine[n],r,"default",function(){t.animatorCtrl[n].play("animation",!0)})},i=this,o=0;o<this.jsonData.length;o++)n(o)},s([v([cc.Label])],e.prototype,"taskDes",void 0),s([v([cc.Label])],e.prototype,"taskProgress",void 0),s([v([cc.Label])],e.prototype,"HeroName",void 0),s([v([cc.Node])],e.prototype,"getBtn",void 0),s([v([sp.Skeleton])],e.prototype,"TitleSpine",void 0),s([m],e)}(u.default);a.default=_,cc._RF.pop()},{}],HeroTitleDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"5101dTn3JRJYYM3q1K//FWX","HeroTitleDataManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameCalculate"),r=i("EntryType"),s=i("GameHelper"),l=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curweartitleId",{get:function(){return this.HeroTitleDataMgr.curweartitleId},set:function(t){this.HeroTitleDataMgr.curweartitleId=t,GEvent.emit(GEventName.updateActor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockTitleList",{get:function(){return this.HeroTitleDataMgr.unlockTitleList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ActVideoCount",{get:function(){return this.HeroTitleDataMgr.actVideoCount},set:function(t){this.HeroTitleDataMgr.actVideoCount=t},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.HeroTitleDataMgr=t},t.prototype.addActVideoCount=function(){this.ActVideoCount++,this.ActVideoCount>=t.MaxActVideoCount&&GEvent.offAll(this)},t.prototype.addUnlockTitleIdData=function(t){this.HeroTitleDataMgr.addUnlockTitleIdData(t)},t.prototype.getUnlockTitleIdData=function(t){var e=!1;return this.unlockTitleList.forEach(function(n){if(n.id==t)return e=!0,!0}),e},t.prototype.CalculatePlayerAttribute=function(t){var e=this.curweartitleId,n=s.default.instance.GameTitleData()[e];if(-1==e||!n)return t;for(var i=new Array(n.attribute.length),o=0;o<i.length;o++){var l=Math.round(1e7*Math.random());i[o]=a.default.EquipmentEntry[n.attribute[o].name](n.attribute[o].value,l),i[o].entrytype==r.EntryType.ACTOR&&i[o].calculate(t,i[o],1)}return t},t.MaxActVideoCount=500,t}();o.default=l,cc._RF.pop()},{}],Hero:[function(t,e,n){"use strict";cc._RF.push(e,"71d51e+/uZGs5NFNcc7gB8r","Hero");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("GameHelper"),u=o("CombatGameData"),p=o("BaseAttributeData"),d=o("BuffsCtrl"),f=o("StateMachine"),h=o("AnimatorCtrl"),y=o("BaseHero"),g=o("HeroAniNameCfg"),m=o("HeroAttributeCfg"),v=o("HeroSkillCfg"),_=o("HeroSkillList"),b=cc._decorator,k=b.ccclass,S=(b.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"adWuqiNodeName",{get:function(){return"wuqi"},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){console.log("\u8fdb\u5165Hero"),t.prototype.onLoad.call(this),this.isPlayer&&(Global.Hero=this,u.default.playerHero=this)},e.prototype.start=function(){Global.TestMode&&this.init(1e3)},e.prototype.LoadSk=function(t,e,n,i,o,a,r){var s=this;return void 0===n&&(n=cc.v3()),void 0===i&&(i=1),void 0===o&&(o=1),void 0===a&&(a=1),void 0===r&&(r=1),this.InitSuc=!1,new Promise(function(n){c.default.instance.LoadSkillSkeleton(s.ad,e.sk,e.skin).then(function(){var i=l.default.GetPlayerAttributeInNormalGame();i.sk=e.sk,i.skin=e.skin,i.keyname=e.keyname,i.weaponurl=e.weaponurl,s.init(t,i),s.InitSuc=!0,s.weaponurl=c.default.instance.getHeroUseWeapontUrl(),c.default.instance.CutWeapon(s.weaponurl,s.ad).then(function(){n(!0)}).catch(function(t){console.error("LoadSk",t)}),!u.default.NewLevel&&c.default.instance.CutPartSlot(s.ad),c.default.instance.WeaponLight(s.ad),c.default.instance.HeroTitle(s.ad,3)})})},e.prototype.RFChangeEquip=function(t){var e=this.attribute.hp,n=l.default.GetPlayerAttributeInNormalGame();n.sk=t.sk,n.skin=t.skin,n.keyname=t.keyname,n.weaponurl=t.weaponurl,this.attribute=new p.default(n),this.weaponurl=c.default.instance.getHeroUseWeapontUrl(),c.default.instance.CutWeapon(this.weaponurl,this.ad),c.default.instance.WeaponLight(this.ad),this.attribute.hp=e},e.prototype.init=function(e,n){void 0===n&&(n=null),Global.TestMode||(t.prototype.init.call(this,e,n),this.initSkillList(),this.bindStateMachine(new f.default),this.addAdEvent()),Global.TestMode&&(n=m.heroAttributeCfg[1],this.ad.node.zIndex=y.heroZIndex.Center,this.ID=e,this.isPlayer&&(Global.Hero=this,u.default.playerHero=this),this.animatorCtrl=new h.default(this.ad),this.attribute=new p.default(null==n?m.heroAttributeCfg[1]:n),this.HeroAniNameCfg=new g.default(g.HeroAniNameData),this.HeroSkillCfg=new v.HeroSkillCfg(v.Hero1SkillCfg),this.BuffsCtrl=new d.BuffsCtrl(this),this.addAdEvent(),this.initSkillList(),this.bindStateMachine(new f.default),c.default.instance.CutWeapon("res/Weapon/1150300",this.ad))},e.prototype.initSkillList=function(){var t=_.default[this.HeroSkillCfg.SkillKey];for(var e in t)this.SkillList.set(t[e].skillid,t[e]);this.HeroSkillCfg.HeroSkillList=this.SkillList},s([k],e)}(y.default));a.default=S,cc._RF.pop()},{}],HpBarMgr:[function(t,e,n){"use strict";cc._RF.push(e,"85dd5PhV8VOOrzKwnexXeh1","HpBarMgr");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("bosshp"),c=o("CombatGameData"),u=o("normalhp"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalhp=null,e.bosshp=null,e.showtime=2,e}return r(e,t),e.prototype.onLoad=function(){this.node.active=!1},e.prototype.onInit=function(){this.bosshp.node.active=!1,this.normalhp.node.active=!1},e.prototype.updateBar=function(t){this.enemyHero=t,this.node.active=!0,this.bosshp.node.active=!1,this.normalhp.node.active=!1,this.showtime=2,t.isBoss?(this.bosshp.node.active=!0,this.bosshp.updateBar(t)):(this.normalhp.node.active=!0,this.normalhp.updateBar(t))},e.prototype.update=function(t){!c.default.pause&&this.enemyHero&&(this.showtime-=t,this.showtime<=0&&(this.node.active=!1,this.enemyHero=null))},s([f(u.default)],e.prototype,"normalhp",void 0),s([f(l.default)],e.prototype,"bosshp",void 0),s([d],e)}(cc.Component);a.default=h,cc._RF.pop()},{}],HurtFlyState:[function(t,e,n){"use strict";cc._RF.push(e,"b06d5hH605IaYxOvApQTHc7","HurtFlyState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("MajorStateBase"),c=o("StatePhase"),u=o("HurtPhase"),p=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.HurtFly,e.PhaseDatas=[new c.PhaseData(u.HurtTypeEnum.Fly,new u.FlyHurtPhase)],e.PhaseManger=new c.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){this.PhaseManger.Soldier=this.Soldier,this.PhaseManger.state=u.HurtTypeEnum.Fly},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onExitPhase(),console.log("\u9000\u51faNormalHurt\u72b6\u6001")},e}(l.default);a.default=p,cc._RF.pop()},{}],HurtPhase:[function(t,e,n){"use strict";cc._RF.push(e,"06731yHfdBMobnA8qzptIjK","HurtPhase");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0}),a.ForceUpPhase2=a.ForceUpPhase1=a.FlyHurtPhase=a.HurtPushPhase=a.NormalHurtPhase=a.BaseNormalHurtPhase=a.HurtTypeEnum=void 0;var s,l=o("StateId"),c=o("StatePhase");(function(t){t[t.Null=0]="Null",t[t.Normal=1]="Normal",t[t.HurtPush=2]="HurtPush",t[t.Fly=3]="Fly",t[t.ForceUp1=4]="ForceUp1",t[t.ForceUp2=5]="ForceUp2",t[t.ForceUp3=6]="ForceUp3"})(s=a.HurtTypeEnum||(a.HurtTypeEnum={}));var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Null},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.onHurtMove()},e.prototype.onUpdate=function(t){this.onHurtMoveUpdate(t)},e.prototype.onExit=function(){},e.prototype.onNextState=function(){},e.prototype.onHurtMove=function(){this.Soldier.onUpdateHeroPos(this.Soldier.node.position.add(this.Soldier.hurtDir.normalize().mulSelf(this.Soldier.onhurtrepelspeedx)))},e.prototype.onHurtMoveUpdate=function(t){this.Soldier.onUpdateHeroPos(cc.v3(this.Soldier.node.x+this.Soldier.onhurtspeedx*t,this.Soldier.node.y))},e}(c.BaseStatePhase);a.BaseNormalHurtPhase=u;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Normal},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.prototype.onEnter.call(this),this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Hurt,!1),this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this)),this.Soldier.openADKeyDiversion=!1},e.prototype.setTrackCompleteListenerCb=function(){this.onNextState()},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){this.Soldier.openADKeyDiversion=!0},e.prototype.onNextState=function(){this.Soldier.FlyHeight>0?this.PhaseManger.state=s.Fly:this.PhaseManger.state=-1},e}(u);a.NormalHurtPhase=p;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.HurtPush},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.prototype.onEnter.call(this),this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Hurt,!1),this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this)),this.Soldier.openADKeyDiversion=!1},e.prototype.setTrackCompleteListenerCb=function(){this.onNextState()},e.prototype.onUpdate=function(t){var e=this.Soldier.hurtTargetHero.scaleX>0?cc.v3(1,0):cc.v3(-1,0);this.Soldier.onhurtpushspeed=e.x>0?Math.abs(this.Soldier.onhurtpushspeed):-Math.abs(this.Soldier.onhurtpushspeed),this.Soldier.onUpdateHeroPos(cc.v3(this.Soldier.node.x+this.Soldier.onhurtpushspeed*t,this.Soldier.node.y))},e.prototype.onExit=function(){this.Soldier.openADKeyDiversion=!0,this.Soldier.onhurtpushspeed=0},e.prototype.onNextState=function(){this.Soldier.FlyHeight>0?this.PhaseManger.state=s.Fly:this.PhaseManger.state=-1},e}(u);a.HurtPushPhase=d;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jlcount=0,e.awaitFlyTime=.2,e}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Fly},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){this.Soldier.FlyHeight>0?(this.Soldier.FlyHeight+=30,this.onHurtMove(),this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.HurtFly,!1),this.awaitFlyTime=.1):(this.awaitFlyTime=0,this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.HurtFly,!1)),this.Soldier.openADKeyDiversion=!1},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e),this.awaitFlyTime<=0?(this.Soldier.FlyHeight+=this.Soldier.onhurtspeedy*e,this.Soldier.onhurtspeedy<0&&0!=this.jlcount&&(this.jlcount=this.Soldier.onhurtspeedy),this.Soldier.onhurtspeedy+=this.Soldier.onhurtspeeddy*e*1.5):this.awaitFlyTime-=e,this.Soldier.FlyHeight<=0&&(this.Soldier.FlyHeight=0,this.onNextState())},e.prototype.onExit=function(){0==this.Soldier.FlyHeight&&(this.Soldier.onhurtspeedy=0,this.Soldier.onhurtspeeddy=0,this.Soldier.onhurtspeedx=0,this.Soldier.onhurtrepelspeedx,this.jlcount=0),this.Soldier.openADKeyDiversion=!0},e.prototype.onNextState=function(){this.Soldier.State=l.default.Connect,this.PhaseManger.state=-1},e}(u);a.FlyHurtPhase=f;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.upDis=400,e.Flytime=1.5,e}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.ForceUp1},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.prototype.onEnter.call(this),this.Soldier.animatorCtrl.setCurAniSpeed(0),this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this)),this.Soldier.openADKeyDiversion=!1,this.Flytime=1.5},e.prototype.setTrackCompleteListenerCb=function(){this.onNextState()},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e),this.upDis>0&&(this.Soldier.FlyHeight+=this.Soldier.onhurtspeedy*e,this.upDis-=this.Soldier.onhurtspeedy*e),this.Flytime-=e,this.Flytime<=0&&this.onNextState()},e.prototype.onExit=function(){this.Soldier.animatorCtrl.setCurAniSpeed(1),this.Soldier.onhurtspeedy=0,this.upDis=400,this.Soldier.openADKeyDiversion=!0},e.prototype.onNextState=function(){this.PhaseManger.state=s.ForceUp2},e}(u);a.ForceUpPhase1=h;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uptime=1,e}return r(e,t),Object.defineProperty(e.prototype,"Uptime",{get:function(){return this.uptime},set:function(t){this.uptime=t,this.uptime<0&&(this.uptime=0,this.onNextState())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.ForceUp2},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.prototype.onEnter.call(this),this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.HurtForceUp,!1),this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this)),this.uptime=1,this.Soldier.FlyHeight+=this.Soldier.onhurtrepelspeedy,this.Soldier.openADKeyDiversion=!1},e.prototype.setTrackCompleteListenerCb=function(){this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Idle,!0)},e.prototype.onUpdate=function(t){this.Soldier.FlyHeight+=this.Soldier.onhurtspeedy*t,this.Uptime-=t,this.Soldier.FlyHeight+=this.Soldier.onhurtspeedy*t,this.Soldier.onhurtspeedy+=this.Soldier.onhurtspeeddy*t,this.Soldier.FlyHeight<=0&&(this.Soldier.FlyHeight=0,this.onNextState())},e.prototype.onExit=function(){this.Soldier.openADKeyDiversion=!0},e.prototype.onNextState=function(){this.PhaseManger.state=-1},e}(u);a.ForceUpPhase2=y,cc._RF.pop()},{}],HurtPushState:[function(t,e,n){"use strict";cc._RF.push(e,"d1bd1MzMw1M8LBihLn6rwMt","HurtPushState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("MajorStateBase"),c=o("StatePhase"),u=o("HurtPhase"),p=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.HurtPush,e.PhaseDatas=[new c.PhaseData(u.HurtTypeEnum.HurtPush,new u.HurtPushPhase)],e.PhaseManger=new c.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){this.PhaseManger.Soldier=this.Soldier,this.PhaseManger.state=u.HurtTypeEnum.HurtPush},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onExitPhase()},e}(l.default);a.default=p,cc._RF.pop()},{}],IdleState:[function(t,e,n){"use strict";cc._RF.push(e,"8ed8fdCmFNFu51O8sLdx2Wx","IdleState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.IDLE,e}return r(e,t),e.prototype.onEnter=function(){this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Idle,!0)},e.prototype.onUpdate=function(){},e.prototype.onExit=function(){},e}(o("MajorStateBase").default);a.default=l,cc._RF.pop()},{}],InvitePosType:[function(t,e,n){"use strict";cc._RF.push(e,"81ab0/F+d1FnJwKB92rs1tJ","InvitePosType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.JlzID=i.MagicSword=i.DeathTowerID=i.InviterID_BTShop=i.InviterID_Fashi=void 0,function(t){t[t.Fashi0=100]="Fashi0"}(i.InviterID_Fashi||(i.InviterID_Fashi={})),function(t){t[t.BTUnlock=1e3]="BTUnlock",t[t.BTWeapon_0=1010]="BTWeapon_0",t[t.BTWeapon_1=1011]="BTWeapon_1",t[t.BTWeapon_2=1012]="BTWeapon_2",t[t.BTWeapon_3=1013]="BTWeapon_3",t[t.BTWeapon_4=1014]="BTWeapon_4",t[t.BTWeapon_5=1015]="BTWeapon_5",t[t.BTWeapon_6=1016]="BTWeapon_6",t[t.BTWeapon_7=1017]="BTWeapon_7",t[t.BTGold=1020]="BTGold",t[t.BTCURRoleUpgrade=1031]="BTCURRoleUpgrade",t[t.BTCURRoleUpgrade65=1032]="BTCURRoleUpgrade65",t[t.BTFashi0_head=1040]="BTFashi0_head",t[t.BTFashi0_body=1041]="BTFashi0_body",t[t.BTFashi0_foot=1042]="BTFashi0_foot",t[t.BTFashi1_head=1050]="BTFashi1_head",t[t.BTFashi1_body=1051]="BTFashi1_body",t[t.BTFashi1_foot=1052]="BTFashi1_foot",t[t.BTFashi2_head=1070]="BTFashi2_head",t[t.BTFashi2_body=1071]="BTFashi2_body",t[t.BTFashi2_foot=1072]="BTFashi2_foot",t[t.BTFashi3_head=1080]="BTFashi3_head",t[t.BTFashi3_body=1081]="BTFashi3_body",t[t.BTFashi3_foot=1082]="BTFashi3_foot",t[t.BTEffect_0=1060]="BTEffect_0",t[t.BTEffect_1=1061]="BTEffect_1"}(i.InviterID_BTShop||(i.InviterID_BTShop={})),function(t){t[t.Daily_Refresh=2001]="Daily_Refresh"}(i.DeathTowerID||(i.DeathTowerID={})),function(t){t[t.MagicSwordUnlock=3e3]="MagicSwordUnlock",t[t.MagicSwordlvUp=3001]="MagicSwordlvUp"}(i.MagicSword||(i.MagicSword={})),function(t){t[t.JLZInvite=4e3]="JLZInvite",t[t.WSJInvite=4001]="WSJInvite"}(i.JlzID||(i.JlzID={})),cc._RF.pop()},{}],InviteView:[function(t,e,n){"use strict";cc._RF.push(e,"7f787uo1YpDDo5mIylwF8MJ","InviteView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("InvitePosType"),u=o("FashionManager"),p=o("InviterDataManger"),d=o("RoleCfgManager"),f=o("configStore"),h=cc._decorator,y=h.ccclass,g=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHave=[],e.inviteCount=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.refreshView()},e.prototype.refreshView=function(){this.fashionData=u.default.Init.FashionSet[d.default.instance.curRoleID][0].equip;for(var t=0;t<this.fashionData.length;t++)this.isHave[t].node.active=this.fashionData[t].is_have;this.inviteCount.string="\u5df2\u9080\u8bf7\uff1a"+f.default.inviterListCount+"/20"},e.prototype.onBtnInvite=function(){var t=this;p.default.instance.shareAppMessageFromUrl(c.InviterID_Fashi.Fashi0,function(){u.default.Init.ReflashFashionInvite(),t.refreshView()})},s([g([cc.Sprite])],e.prototype,"isHave",void 0),s([g(cc.Label)],e.prototype,"inviteCount",void 0),s([y],e)}(l.default);a.default=m,cc._RF.pop()},{}],InviterDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"8ac25V2PTNN4rXRBBjMvAJo","InviterDataManger");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=i("Admanager"),l=i("configStore"),c=i("ServerCommonCfgMgr"),u=function(){function t(){this.InviterDataMgr=null,this.inviterList=[],this.backInviterList=[],this.JLZInviterList=[]}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inviterListCount",{get:function(){return this.inviterList.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backInviterListCount",{get:function(){return this.backInviterList.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"JLZInviterListCount",{get:function(){return this.JLZInviterList.length},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.InviterDataMgr=t},t.prototype.pullNewData=function(){var t=this;return new Promise(function(e,n){return a(t,void 0,void 0,function(){var t=this;return r(this,function(){return s.default.instance.getInviteList(l.default.openid).then(function(n){n&&n.data&&n.data.data&&"object"==typeof n.data.data&&(t.inviterList=n.data.data,console.log("\u9080\u8bf7\u5217\u8868",t.inviterList,"\u9080\u8bf7\u4e2a\u6570",t.inviterListCount)),e(!0)}).catch(function(t){console.error("onInitShare",t),n(!1)}),[2]})})})},t.prototype.pullBackData=function(){var t=this;return new Promise(function(e,n){return a(t,void 0,void 0,function(){var t=this;return r(this,function(){return s.default.instance.getBackInviteList(l.default.openid).then(function(n){n&&n.data&&n.data.data&&"object"==typeof n.data.data&&(t.backInviterList=n.data.data,console.log("\u56de\u5f52 \u9080\u8bf7\u5217\u8868",t.backInviterList,"\u9080\u8bf7\u4e2a\u6570",t.backInviterListCount)),e(!0)}).catch(function(t){console.error("onInitShare",t),n(!1)}),[2]})})})},t.prototype.pullJLZData=function(){var t=this;return new Promise(function(e,n){return a(t,void 0,void 0,function(){var t=this;return r(this,function(){return s.default.instance.getJLZInviteList(l.default.openid).then(function(n){n&&n.data&&n.data.data&&"object"==typeof n.data.data&&(t.JLZInviterList=n.data.data,console.log("\u805a\u7075\u9635 \u9080\u8bf7\u5217\u8868",t.JLZInviterList,"\u9080\u8bf7\u4e2a\u6570",t.JLZInviterListCount)),e(!0)}).catch(function(t){console.error("onInitShare",t),n(!1)}),[2]})})})},t.prototype.byInviteReported=function(t,e,n){var i=this;return new Promise(function(o){return a(i,void 0,void 0,function(){return r(this,function(){return s.default.instance.byInviteReported(t,e,n).then(function(){o(!0)}),[2]})})})},t.prototype.shareAppMessageFromUrl=function(t){s.default.instance.randomShareAppMessageFromUrl(s.default.instance.getShareQuery(t))},t.prototype.MsShareAppMessageFromUrl=function(t){s.default.instance.magicSwordShareAppMessageFromUrl(s.default.instance.getShareQuery(t))},t.prototype.getInviterIdCount=function(t){var e=0;return this.inviterList.forEach(function(n){parseInt(n.source)==t&&e++}),e},t.prototype.getInviterOpendIDs=function(t,e){for(var n=this.InviterDataMgr.getInviterIdData(t,!0),i=[],o=0,a=[],r=0;r<n.inviteeOpenIDDatas.length;r++)for(var s=0;s<n.inviteeOpenIDDatas[r].invitee_openids.length;s++)i.push(n.inviteeOpenIDDatas[r].invitee_openids[s]);return this.inviterList.forEach(function(n){if(parseInt(n.source)==t)if(0==i.length)o<e&&(a.push(n.invitee_openid),o++);else if(o<e){for(var r=0;r<i.length;r++)if(n.invitee_openid==i[r])return;a.push(n.invitee_openid),o++}}),a},t.prototype.getWSJInviterIdCount=function(t){var e=0;return this.backInviterList.forEach(function(n){parseInt(n.source)==t&&(e+=1)}),e},t.prototype.getBackInviterIdCount=function(t){var e=0,n=this.InviterDataMgr.getInviterIdData(t,!0);return this.backInviterList.forEach(function(i){if(parseInt(i.source)==t){for(var o=0;o<n.inviteeOpenIDDatas.length;o++)for(var a=0;a<n.inviteeOpenIDDatas[o].invitee_openids.length;a++)if(i.invitee_openid==n.inviteeOpenIDDatas[o].invitee_openids[a])return;e++}}),e},t.prototype.getBackInviterOpendIDs=function(t,e){for(var n=this.InviterDataMgr.getInviterIdData(t,!0),i=[],o=0,a=[],r=0;r<n.inviteeOpenIDDatas.length;r++)for(var s=0;s<n.inviteeOpenIDDatas[r].invitee_openids.length;s++)i.push(n.inviteeOpenIDDatas[r].invitee_openids[s]);return this.backInviterList.forEach(function(n){if(parseInt(n.source)==t)if(0==i.length)o<e&&(a.push(n.invitee_openid),o++);else if(o<e){for(var r=0;r<i.length;r++)if(n.invitee_openid==i[r])return;a.push(n.invitee_openid),o++}}),a},t.prototype.getJLZInviterIdCount=function(){var t=0;return this.JLZInviterList.forEach(function(){t++}),t},t.prototype.getJLZInviterOpendIDs=function(t,e){for(var n=this.InviterDataMgr.getInviterIdData(t,!0),i=[],o=0,a=[],r=0;r<n.inviteeOpenIDDatas.length;r++)for(var s=0;s<n.inviteeOpenIDDatas[r].invitee_openids.length;s++)i.push(n.inviteeOpenIDDatas[r].invitee_openids[s]);return this.JLZInviterList.forEach(function(t){if(0==i.length)o<e&&(a.push(t.invitee_openid),o++);else if(o<e){for(var n=0;n<i.length;n++)if(t.invitee_openid==i[n])return;a.push(t.invitee_openid),o++}}),a},t.prototype.reportedGETData=function(t,e){this.InviterDataMgr.getInviterIdData(t,!0).pushData(e,c.default.servertime)},t.prototype.getInviterIDGetCount=function(t){var e=this.InviterDataMgr.getInviterIdData(t);return e?e.inviteeOpenIDDatas.length:0},t.prototype.getMaxGetTime=function(t){return this.InviterDataMgr.getIDMaxGetTime(t)},t.prototype.resetInviteList=function(t){var e=this.InviterDataMgr.getInviterIdData(t);e&&(e.inviteeOpenIDDatas=[])},t}();o.default=u,cc._RF.pop()},{}],JIanHunSkillPhase:[function(t,e,n){"use strict";cc._RF.push(e,"56f27QKwk1NL56chqxGfU4J","JIanHunSkillPhase");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0}),a.MoJianSkillPhase=a.JiGuiJianSuSkillPhase=a.HuanYingJianWuSkillPhase=a.MengLongSkillPhase=a.BaDaoSkillPhase=a.WuLianZhanSkillPhase=a.PoJunSkillPhase=a.ShangTiaoPhase=a.BackJumpPhase=a.NormalAtkPhase=a.JianHunPhaseId=void 0;var s,l=o("Utils"),c=o("BaseSkillPhase");(function(t){t[t.NormalAtk=0]="NormalAtk",t[t.Skill0=1]="Skill0",t[t.Skill1=2]="Skill1",t[t.Skill2=3]="Skill2",t[t.Skill3=4]="Skill3",t[t.Skill4=5]="Skill4",t[t.Skill5=6]="Skill5",t[t.Skill6=7]="Skill6",t[t.Skill7=8]="Skill7",t[t.Skill8=9]="Skill8"})(s=a.JianHunPhaseId||(a.JianHunPhaseId={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxUpsp=.4,e.doubleHitCount=0,e}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.NormalAtk},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),this.TrackEntry.timeScale=this.Soldier.AtkSpeed+.5+this.getUpsp()},e.prototype.getUpsp=function(){var t=.06*this.continuousCount;return t>this.maxUpsp&&(t=this.maxUpsp),t},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.NormalAtkPhase=u;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill0},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this)},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.BackJumpPhase=p;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill1},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this)},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.ShangTiaoPhase=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill2},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this)},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.PoJunSkillPhase=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill3},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this)},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.WuLianZhanSkillPhase=h;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill4},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this)},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.BaDaoSkillPhase=y;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill5},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),this.MoveDirUpdate()},e.prototype.MoveDirUpdate=function(){this.Soldier.Direct.y>.2&&this.MoveDir.rotateSelf(GMath.angleTransformRadian(this.Soldier.Direct.x>0?10:-10)),this.Soldier.Direct.y<-.2&&this.MoveDir.rotateSelf(GMath.angleTransformRadian(this.Soldier.Direct.x>0?-10:10))},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.MengLongSkillPhase=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill6},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this)},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.HuanYingJianWuSkillPhase=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill7},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),GEvent.emit(GEventName.CombatEvents.ReleaseJuxing)},e.prototype.setTrackEventListenerCb=function(t,e){if("Event_Phases"==e.data.name){var n=this.Soldier.skillid.toString();this.Soldier.skillid=n.split("_")[0]+"_"+e.stringValue.split("_")[1],this.Soldier.skilldata=this.Soldier.SkillList.get(this.Soldier.skillid),this.Soldier.actid=l.default.GUID(),this.Soldier.updateskillVfxData()}},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.JiGuiJianSuSkillPhase=v;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bool=!1,e}return r(e,t),Object.defineProperty(e.prototype,"PhaseId",{get:function(){return s.Skill8},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),1==this.continuousCount&&GEvent.emit(GEventName.CombatEvents.ReleaseJuxing,2)},e.prototype.onUpdate=function(e){t.prototype.onUpdate.call(this,e)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(c.default);a.MoJianSkillPhase=_,cc._RF.pop()},{}],JLZActivityView:[function(t,e,n){"use strict";cc._RF.push(e,"7a444GeVxlGNYS9O/v9lxoW","JLZActivityView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameData"),u=o("InvitePosType"),p=o("JlzEquipType"),d=o("BagManager"),f=o("FashionManager"),h=o("InviterDataManger"),y=o("JLZDataManager"),g=o("Admanager"),m=o("random"),v=o("Utils"),_=o("jlzEquipItem"),b=o("jlzInviteItem"),k=cc._decorator,S=k.ccclass,w=k.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.equipScrollView=null,e.inviteList=null,e.lastCount=null,e.makeBtn=null,e.randomHelpBtn=null,e.vrInviteCount=null,e.rewardNode=null,e.confirmBtn=null,e.rewardIcon=null,e.rewardName=null,e.rewardProgressBar=null,e.jlzEquipItem=null,e.jlzInviteItem=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.rewardNode.active=!1,this.jlzJsonData=c.default.JlzData()},e.prototype.onEnable=function(){this.initEquipList(),this.refreshInviteList(),this.refreshLastCount(),this.setRandomHelpBtnState(),this.setMakeBtnState()},e.prototype.initEquipList=function(){this.equipScrollView.content.removeAllChildren();for(var t=0;t<this.jlzJsonData.length;t++){var e=cc.instantiate(this.jlzEquipItem);e.getComponent(_.default).setItem(this.jlzJsonData[t]),e.parent=this.equipScrollView.content}},e.prototype.refreshInviteList=function(){var t=y.default.instance.getInviteCount();this.inviteList.removeAllChildren();for(var e=0;e<y.default.MaxInviterCount;e++){var n=cc.instantiate(this.jlzInviteItem);e<t&&n.getComponent(b.default).setItem(void 0),n.parent=this.inviteList}},e.prototype.onBtnRandomHelp=function(){var t=this;if(y.default.instance.getInviteCount()>=y.default.MaxInviterCount)return Global.onShowTosat("\u6700\u591a\u53ef\u9080\u8bf710\u4eba");g.default.instance.playRewardVideo(function(){y.default.instance.VirtualInviteCount++,t.setRandomHelpBtnState(),t.refreshLastCount(),t.refreshInviteList(),t.setMakeBtnState()})},e.prototype.onBtnMake=function(){var t=y.default.instance.getHaveCount();if(y.default.instance.DayOpenCount>=y.default.MaxInviterCount)return Global.onShowTosat("\u4eca\u65e5\u5341\u6b21\u5df2\u7528\u5b8c\uff0c\u8bf7\u660e\u65e5\u518d\u6765");if(t<=0){if(y.default.instance.getInviteCount()>=y.default.MaxInviterCount)return Global.onShowTosat("\u6700\u591a\u53ef\u9080\u8bf710\u4eba");h.default.instance.shareAppMessageFromUrl(u.JlzID.JLZInvite)}else y.default.instance.DayOpenCount<5?this.showRewardAni(0):y.default.instance.DayOpenCount>=5&&y.default.instance.DayOpenCount<8?this.showRewardAni(1):y.default.instance.DayOpenCount>=8&&y.default.instance.DayOpenCount<10&&this.showRewardAni(2)},e.prototype.onBtnConfirm=function(){this.rewardNode.active=!1},e.prototype.setRandomHelpBtnState=function(){var t=y.default.instance.VirtualInviteCount;this.randomHelpBtn.interactable=!t,this.randomHelpBtn.node.getChildByName("TX_anniu").active=!t,this.vrInviteCount.string=t+"/1"},e.prototype.setMakeBtnState=function(){y.default.instance.getHaveCount()<=0?(this.makeBtn.node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u9080 \u8bf7",this.makeBtn.node.getChildByName("Layout").getChildByName("isShare").active=!0):(this.makeBtn.node.getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u5f00 \u542f",this.makeBtn.node.getChildByName("Layout").getChildByName("isShare").active=!1)},e.prototype.refreshLastCount=function(){this.lastCount.string="\u5269\u4f59\u5f00\u542f\u6b21\u6570\uff1a"+y.default.instance.getHaveCount()},e.prototype.showRewardAni=function(t){var e=this;this.rewardNode.active=!0,this.confirmBtn.node.active=!1,this.rewardProgressBar.progress=0;var n=0,i=c.default.JlzRewardData()[t],o=5*i.length;cc.tween(this.node).repeat(o,cc.tween(this.node).delay(.08).call(function(){var t=e.getEquipInfo(i[n%4].id),a=t.url,r=t.name;o-3<=n?(v.default.loadSpfFromRes("textures/common/shuaxin",e.rewardIcon),e.rewardName.string=""):(v.default.loadSpfFromRes(a,e.rewardIcon),e.rewardName.string=r),n++,e.rewardProgressBar.progress=n/o})).call(function(){e.getRandomReward(t),cc.tween(e.rewardIcon.node).to(.2,{scale:1.3}).call(function(){e.confirmBtn.node.active=!0}).then(cc.tween(e.rewardIcon.node).to(.5,{scale:1.15})).start()}).start()},e.prototype.getRandomReward=function(t){for(var e=c.default.JlzRewardData()[t],n=[],i=0;i<e.length;i++)n[i]=e[i].weight;var o=m.default.randomByWeight(n);19!=y.default.instance.TotalOpenCount&&99!=y.default.instance.TotalOpenCount&&199!=y.default.instance.TotalOpenCount||(e=c.default.JlzRewardData()[2],o=2);var a=this.getEquipJsonData(e[o].id);a.type==p.JlzEquipType.Fashion&&f.default.Init.getIsHave(a.equipId,0)&&f.default.Init.getIsHave(a.equipId,1)&&f.default.Init.getIsHave(a.equipId,2)&&(o=e.length-1);var r=this.getEquipInfo(e[o].id),s=r.url,l=r.name;v.default.loadSpfFromRes(s,this.rewardIcon),this.rewardName.string=l+"x"+e[o].count,this.addReward(e[o].id,e[o].count),y.default.instance.costInviter(),this.refreshLastCount(),this.setMakeBtnState()},e.prototype.addReward=function(t,e){var n=this.getEquipJsonData(t);switch(n.type){case p.JlzEquipType.Fashion:for(var i=0;i<3;i++)if(!f.default.Init.getIsHave(n.equipId,i)){f.default.Init.getFashion(n.equipId,i);break}break;case p.JlzEquipType.Item:d.default.Init.AddItems(n.equipId,e)}},e.prototype.getEquipJsonData=function(t){for(var e,n=0;n<this.jlzJsonData.length;n++)t==this.jlzJsonData[n].id&&(e=this.jlzJsonData[n]);return e},e.prototype.getEquipInfo=function(t){var e,n,i=this.getEquipJsonData(t);switch(i.type){case p.JlzEquipType.Fashion:for(var o=f.default.Init.getFashionSetById(i.equipId),a=0,r=0;r<3;r++)if(!f.default.Init.getIsHave(i.equipId,r)){a=r;break}e=o.equip[a].icon,n=o.equip[a].name;break;case p.JlzEquipType.Item:var s=c.default.ItemData()[i.equipId];e=s.icon,n=s.name}return{url:e,name:n}},s([w(cc.ScrollView)],e.prototype,"equipScrollView",void 0),s([w(cc.Node)],e.prototype,"inviteList",void 0),s([w(cc.Label)],e.prototype,"lastCount",void 0),s([w(cc.Button)],e.prototype,"makeBtn",void 0),s([w(cc.Button)],e.prototype,"randomHelpBtn",void 0),s([w(cc.Label)],e.prototype,"vrInviteCount",void 0),s([w(cc.Node)],e.prototype,"rewardNode",void 0),s([w(cc.Button)],e.prototype,"confirmBtn",void 0),s([w(cc.Sprite)],e.prototype,"rewardIcon",void 0),s([w(cc.Label)],e.prototype,"rewardName",void 0),s([w(cc.ProgressBar)],e.prototype,"rewardProgressBar",void 0),s([w(cc.Prefab)],e.prototype,"jlzEquipItem",void 0),s([w(cc.Prefab)],e.prototype,"jlzInviteItem",void 0),s([S],e)}(l.default);a.default=T,cc._RF.pop()},{}],JLZDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"c513b+HHEhCbr6czJextAND","JLZDataManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("InvitePosType"),r=i("Utils"),s=i("GameStatsManager"),l=i("InviterDataManger"),c=i("ServerCommonCfgMgr"),u=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.JLZDataMgr=t,c.default.getLoginTime().then(function(t){t&&r.default.doubleTimestampEqualDay(t,s.default.instance.lastLoginTime)&&e.resetJlz()})},Object.defineProperty(t.prototype,"TotalOpenCount",{get:function(){return this.JLZDataMgr.totalOpenCount},set:function(t){this.JLZDataMgr.totalOpenCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DayOpenCount",{get:function(){return this.JLZDataMgr.dayOpenCount},set:function(t){this.JLZDataMgr.dayOpenCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VirtualInviteCount",{get:function(){return this.JLZDataMgr.virtualInviteCount},set:function(t){this.JLZDataMgr.virtualInviteCount=t},enumerable:!1,configurable:!0}),t.prototype.getInviteCount=function(){return l.default.instance.getJLZInviterIdCount(a.JlzID.JLZInvite)+this.VirtualInviteCount},t.prototype.getHaveCount=function(){return l.default.instance.getJLZInviterIdCount(a.JlzID.JLZInvite)+this.VirtualInviteCount-this.DayOpenCount},t.prototype.costInviter=function(){if(!(this.getHaveCount()<=0||this.DayOpenCount>=t.MaxInviterCount)){var e=l.default.instance.getJLZInviterOpendIDs(a.JlzID.JLZInvite,1);e.length>0&&l.default.instance.reportedGETData(a.JlzID.JLZInvite,e),this.DayOpenCount++,this.TotalOpenCount++}},t.prototype.resetJlz=function(){this.DayOpenCount=0,this.VirtualInviteCount=0,l.default.instance.resetInviteList(a.JlzID.JLZInvite)},t.MaxInviterCount=10,t}();o.default=u,cc._RF.pop()},{}],JianHunSkillState:[function(t,e,n){"use strict";cc._RF.push(e,"a968d18b+5PgL8rQGJkHC1W","JianHunSkillState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("JIanHunSkillPhase"),c=o("StatePhase"),u=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.SKILL,e.PhaseDatas=[new c.PhaseData(l.JianHunPhaseId.NormalAtk,new l.NormalAtkPhase),new c.PhaseData(l.JianHunPhaseId.Skill0,new l.BackJumpPhase),new c.PhaseData(l.JianHunPhaseId.Skill1,new l.ShangTiaoPhase),new c.PhaseData(l.JianHunPhaseId.Skill2,new l.PoJunSkillPhase),new c.PhaseData(l.JianHunPhaseId.Skill3,new l.WuLianZhanSkillPhase),new c.PhaseData(l.JianHunPhaseId.Skill4,new l.BaDaoSkillPhase),new c.PhaseData(l.JianHunPhaseId.Skill5,new l.MengLongSkillPhase),new c.PhaseData(l.JianHunPhaseId.Skill6,new l.HuanYingJianWuSkillPhase),new c.PhaseData(l.JianHunPhaseId.Skill7,new l.JiGuiJianSuSkillPhase),new c.PhaseData(l.JianHunPhaseId.Skill8,new l.MoJianSkillPhase)],e.PhaseManger=new c.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){this.PhaseManger.Soldier=this.Soldier,this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill0).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill0),this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill1).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill1),this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill2).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill2),this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill3).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill3),this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill4).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill4),this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill5).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill5),this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill6).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill6),this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill7).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill7),this.Soldier.skillId==this.Soldier.HeroSkillCfg.getSKillData(this.Soldier.HeroSkillCfg.Skill8).Skillids[0]&&(this.PhaseManger.state=l.JianHunPhaseId.Skill8)},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onExitPhase()},e}(o("BaseSkillState").default);a.default=u,cc._RF.pop()},{}],JlzEquipType:[function(t,e,n){"use strict";cc._RF.push(e,"c0cac0YvUtHEpkHtlHT3hVj","JlzEquipType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.JlzEquipType=void 0,function(t){t[t.Fashion=1]="Fashion",t[t.Item=2]="Item"}(i.JlzEquipType||(i.JlzEquipType={})),cc._RF.pop()},{}],Joystick:[function(t,e,n){"use strict";cc._RF.push(e,"e2a2fVniLlO0IZb6jMJefBT","Joystick");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("StateId"),c=o("UIWidget"),u=o("SettingManager"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FixedPoint=null,e.MovePoint=null,e.responsePoint=null,e}return r(e,t),e.prototype.onLoad=function(){this.responsePoint.on(cc.Node.EventType.TOUCH_START,this.onResponseTouchStart,this),this.responsePoint.on(cc.Node.EventType.TOUCH_MOVE,this.onResponseTouchMove,this),this.responsePoint.on(cc.Node.EventType.TOUCH_END,this.onResponseTouchEnd,this),this.responsePoint.on(cc.Node.EventType.TOUCH_CANCEL,this.onResponseTouchEnd,this),this.MovePoint.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.MovePoint.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.MovePoint.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.MovePoint.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.start=function(){this.Hero=Global.Hero},e.prototype.onInit=function(){this.Hero=Global.Hero},e.prototype.onResponseTouchStart=function(t){if(u.default.instance.isRocker){var e=this.node.convertToNodeSpaceAR(t.getLocation());this.MovePoint.setPosition(e)}},e.prototype.onResponseTouchMove=function(t){if(u.default.instance.isRocker){var e=this.MovePoint.convertToNodeSpaceAR(t.getLocation());e.len()>this.MovePoint.width/2&&(e=e.normalize().mulSelf(this.MovePoint.width/2)),this.FixedPoint.setPosition(e),this.jumpRobotState(e)}},e.prototype.onResponseTouchEnd=function(){u.default.instance.isRocker&&(this.MovePoint.setPosition(cc.v2(0,0)),this.FixedPoint.setPosition(cc.v2(0,0)),this.jumpRobotState(cc.v2(0,0),MACRO.ACTORJOYSTICKSTATE.UP))},e.prototype.onResponseTouchCancel=function(){u.default.instance.isRocker&&(this.MovePoint.setPosition(cc.v2(0,0)),this.FixedPoint.setPosition(cc.v2(0,0)),this.jumpRobotState(cc.v2(0,0),MACRO.ACTORJOYSTICKSTATE.UP))},e.prototype.onTouchStart=function(t){var e=this.MovePoint.convertToNodeSpaceAR(t.getLocation());this.FixedPoint.setPosition(e),this.jumpRobotState(e)},e.prototype.onTouchMove=function(t){var e=this.MovePoint.convertToNodeSpaceAR(t.getLocation());e.len()>this.MovePoint.width/2&&(e=e.normalize().mulSelf(this.MovePoint.width/2)),this.FixedPoint.setPosition(e),this.jumpRobotState(e),console.log("11")},e.prototype.onTouchEnd=function(){this.FixedPoint.setPosition(cc.v2(0,0)),this.jumpRobotState(cc.v2(1,0),MACRO.ACTORJOYSTICKSTATE.UP)},e.prototype.onTouchCancel=function(){this.FixedPoint.setPosition(cc.v2(0,0)),this.jumpRobotState(cc.v2(0,0),MACRO.ACTORJOYSTICKSTATE.UP)},e.prototype.jumpRobotState=function(t,e){if(void 0===e&&(e=MACRO.ACTORJOYSTICKSTATE.DOWN),e==MACRO.ACTORJOYSTICKSTATE.DOWN){if(!this.Hero)return;this.Hero.movekeydown=MACRO.ACTORJOYSTICKSTATE.DOWN,this.Hero.Direct=cc.v3(t.x,t.y),this.Hero.State!=l.default.MOVE&&(this.Hero.State=l.default.MOVE)}else{if(!this.Hero)return;this.Hero.movekeydown=MACRO.ACTORJOYSTICKSTATE.UP,this.Hero.State==l.default.MOVE&&this.Hero.resetState()}},s([f({type:cc.Node,tooltip:"\u865a\u62df\u6447\u6746\u6309\u94ae"})],e.prototype,"FixedPoint",void 0),s([f({type:cc.Node,tooltip:"\u865a\u62df\u6447\u6746\u80cc\u666f"})],e.prototype,"MovePoint",void 0),s([f(cc.Node)],e.prototype,"responsePoint",void 0),s([d],e)}(c.default);a.default=h,cc._RF.pop()},{}],KSRecord:[function(t,e,n){"use strict";cc._RF.push(e,"15893kSibRHyYQlraML8Gjb","KSRecord");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=new(function(){function t(){this._recorderMag=null,this._videoID=null,this.recordertime=300,this.recorderStartTime=0,this.recorderEndTime=0,this.recorderMinTime=5,this.recorderIfSuccess=!0,this.recorderStopCallback=null}return Object.defineProperty(t.prototype,"recorderMag",{get:function(){var t=this;return null==this._recorderMag&&(this._recorderMag=ks.getGameRecorder(),this._recorderMag.on("start",function(){console.log("KSRecord start---\u5f55\u5c4f\u5f00\u59cb---")}),this._recorderMag.on("error",function(t){console.log("KSRecord error",t)}),this._recorderMag.on("stop",function(e){console.log("KSRecord stop---\u5f55\u5c4f\u7ed3\u675f---"),e&&e.videoID?(console.log("KSRecord \u5f55\u5c4f\u505c\u6b62\uff0c\u5f55\u5236\u6210\u529f"),console.log("videoID is "+e.videoID),t._videoID=e.videoID,t.recorderIfSuccess=!1,t.recorderStopCallback&&t.recorderStopCallback(),t.recorderStopCallback=null):console.log("KSRecord \u5f55\u5c4f\u505c\u6b62\uff0c\u5f55\u5236\u5931\u8d25")}),this._recorderMag.on("pause",function(){console.log("\u6682\u505c\u5f55\u5236")}),this._recorderMag.on("resume",function(){console.log("\u7ee7\u7eed\u5f55\u5236")}),this._recorderMag.on("abort",function(){console.log("\u5e9f\u5f03\u5df2\u5f55\u5236\u89c6\u9891")})),this._recorderMag},enumerable:!1,configurable:!0}),t.prototype.recorderStart=function(){console.log("---\u5f55\u5c4f\u5f00\u59cb---"),this.recorderIfSuccess=!0,this.recorderMag.start()},t.prototype.recorderStop=function(t){void 0===t&&(t=null),this.recorderIfSuccess&&(console.log("---\u5f55\u5c4f\u7ed3\u675f---"),t&&(this.recorderStopCallback=t),this.recorderMag.stop())},t.prototype.GetRecorder=function(){return this.recorderIfSuccess},t.prototype.viedoShare=function(){var t=this;return console.log("\u89c6\u9891\u5206\u4eab\u5f55\u5c4f"),this._videoID?new Promise(function(e){t._recorderMag.publishVideo({video:t._videoID,mouldId:"",query:"",callback:function(t){if(null!=t&&null!=t)return console.log("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(t)),void e(!1);e(!0),console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f")}})}):new Promise(function(t,e){console.log("\u6682\u65e0\u5f55\u5236\u89c6\u9891"),Global.onShowTosat("\u6682\u65e0\u5f55\u5236\u89c6\u9891"),e(!1)})},t}()),cc._RF.pop()},{}],KefuRewardView:[function(t,e,n){"use strict";cc._RF.push(e,"c488f2u91FOFrGlCkKVPHI0","KefuRewardView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("CurrencyType"),p=o("KfGiftDataManager"),d=o("Admanager"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardTip=null,e}return r(e,t),e.prototype.onUILoad=function(){p.default.instance.IsSignGift&&Global.onShowTosat("\u4eca\u65e5\u5df2\u9886\u53d6\u5956\u52b1")},e.prototype.onUIDestroy=function(){cc.game.targetOff(this)},e.prototype.showTask=function(){},e.prototype.showExchange=function(){},e.prototype.showFragment=function(){},e.prototype.onBtnReward=function(){var t=this;d.default.instance.onOpenCustomerServiceConversation(null,!0,"\u6211\u8981\u9886\u91d1\u5e01","https://smalldnf-1302074099.file.myqcloud.com/common/wyljl.png"),cc.game.targetOff(this),cc.game.once(cc.game.EVENT_SHOW,function(){if(console.log("\u8fd4\u56de\u754c\u9762"),p.default.instance.IsSignGift)return console.log("\u4eca\u65e5\u5df2\u9886\u53d6"),void t.scheduleOnce(function(){Global.onShowTosat("\u4eca\u65e5\u5df2\u9886\u53d6")},2);t.rewardTip.active=!0,t.rewardTip.opacity=0,t.rewardTip.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(.5),cc.fadeOut(.5))),l.default.Get(u.CurrencyType.COIN,5e3),p.default.instance.Sign()},this)},s([y(cc.Node)],e.prototype,"rewardTip",void 0),s([h],e)}(c.default);a.default=g,cc._RF.pop()},{}],KfGiftDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"7bad3wxYctFbbM/BAKpSLxe","KfGiftDataManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Utils"),r=i("ServerCommonCfgMgr"),s=function(){function t(){this.isSign=!1}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.KfGiftData=t,0==this.KfGiftData.lastSignTime?this.IsSignGift=!1:r.default.getLoginTime().then(function(t){t&&(e.IsSignGift=!a.default.doubleTimestampEqualDay(t,e.KfGiftData.lastSignTime))})},Object.defineProperty(t.prototype,"IsSignGift",{get:function(){return this.isSign},set:function(t){this.isSign=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SignGiftDayCount",{get:function(){return this.KfGiftData.dayCount},set:function(t){this.KfGiftData.dayCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SignGiftLastTime",{get:function(){return this.KfGiftData.lastSignTime},set:function(t){this.KfGiftData.lastSignTime=t},enumerable:!1,configurable:!0}),t.prototype.Sign=function(){this.SignGiftDayCount++,this.SignGiftLastTime=r.default.servertime,this.IsSignGift=!0},t}();o.default=s,cc._RF.pop()},{}],LayerData:[function(t,e,n){"use strict";cc._RF.push(e,"f0f9enFmFBJbqAUeb7MLVQu","LayerData");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameHelper"),r=i("GameManage"),s=function(){function t(){this.templet=[],this.obj=[],this.obj_x=[],this.min_y=null,this.max_y=null,this.time=[],this.dir=[],this.offset=[]}return t.prototype.CreatLayer=function(t){this.move_type=t.move_type,this.move_type>0&&(this.ratio_speed=t.ratio_speed),this.ratio=t.ratio,this.width=t.width;for(var e,n,i,o,s,l,c=-1==t.count[0]?999:1==t.count.length?t.count[0]:Math.floor(t.count[0]+Math.random()*(t.count[1]-t.count[0])),u=t.min_space,p=t.max_space-u,d=-1*u,f=0;f<c;f++)if(e=Math.floor(Math.random()*t.res.length),n=a.default.MapResData()[t.res[e]],d+=u+Math.random()*p,o=n.achor_y[0],s=1==n.achor_y.length?n.achor_y[0]:n.achor_y[1],this.min_y=this.min_y?Math.max(this.min_y,422+o):422+o,this.max_y=this.max_y?Math.min(this.max_y,422+s):422+s,this.dir[f]={x:1==this.move_type?Math.sign(Math.random()-.5):-1,y:Math.sign(Math.random()-.5)},this.offset[f]={x:0,y:0},this.time[f]=5e3+5e3*Math.random(),1==n.type);else{var h=new cc.Node;r.default.instance.game_scene.addChild(h),l=h.addComponent(cc.Sprite),h.zIndex=n.z_order<=0?n.z_order-1e3:n.z_order,i=o+Math.random()*(s-o),h.anchorX=0;var y=i/n.width,g=0;1==y?y=0:0==y?y=1:y>1?y=0:y<0&&(g=i,y=0),h.anchorY=Math.floor(10*y)/10,console.log(h.anchorY),console.log(h.anchorY),h.setPosition(d,-n.y_line+g),h._pivot_y=i;var m=n.path.substring(0,n.path.indexOf("."));if(l.spriteFrame=new cc.SpriteFrame(cc.loader.getRes(m)),h.width=n.width,this.obj.push(l),this.obj_x.push(d),"res/Chapter_1/Bk/luolan/1_1_04.png"==n.path&&(!window.aa&&(window.aa=[]),window.aa.push(l.node)),"res/Chapter_1/Bk/luolan/1_1_02.png"==n.path&&(!window.bb&&(window.bb=[]),window.bb.push(l.node)),d>this.width)break}},t.prototype.CleanLayer=function(){},t.prototype.DeepCleanLayer=function(){},t}();o.default=s,cc._RF.pop()},{}],ListView:[function(t,e,n){"use strict";cc._RF.push(e,"f3e43wGfZZBf6p3wWIkJkG/","ListView");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},s=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},l=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.AbsAdapter=o.Pager=void 0;var c=cc.Component,u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemTemplate=null,e.spacing=cc.v2(0,0),e.margin=cc.rect(0,0,0,0),e.spawnCount=2,e.column=1,e.scrollView=null,e.emptyView=null,e.content=null,e.adapter=null,e._items=new cc.NodePool,e._filledIds={},e.horizontal=!1,e._itemHeight=1,e._itemWidth=1,e._itemsVisible=1,e.dataChanged=!1,e._isInited=!1,e.visibleRange=[-1,-1],e.comp=null,e}return a(e,t),e.prototype.onLoad=function(){this.init(),this.pager=new h(this),this.scrollView},e.prototype.setAdapter=function(t){return s(this,void 0,void 0,function(){return l(this,function(){return this.adapter===t?(this.notifyUpdate(),[2]):(this.adapter=t,null==this.adapter?(console.warn("adapter \u4e3a\u7a7a."),[2]):null==this.itemTemplate?(console.error("Listview \u672a\u8bbe\u7f6e\u5f85\u663e\u793a\u7684Item\u6a21\u677f."),[2]):(this.visibleRange[0]=this.visibleRange[1]=-1,this.recycleAll(),this.notifyUpdate(),[2]))})})},e.prototype.getAdapter=function(){return this.adapter},e.prototype.getScrollView=function(){return this.scrollView},e.prototype.getAllItems=function(){return this._items},e.prototype.scrollToPage=function(t,e,n){if(!this.adapter||!this.scrollView)return!1;if(this.adapter.getCount(),this.horizontal){var i=0,o=this.content.width,a=this.getColumnWH();if(e)i=a*e;else{var r=this.content.parent.width;i=Math.floor(r/a)*a}return this.scrollView.scrollToOffset(cc.v2(i*t,0),n),i*(t+1)>=o}var s=this.content.height,l=this.getColumnWH(),c=0;if(e)c=l*e;else{var u=this.content.parent.height;c=Math.floor(u/l)*l}return this.scrollView.scrollToOffset(cc.v2(0,c*t),n),c*(t+1)>=s},e.prototype.getVisibleElements=function(){var t=0;if(this.horizontal){var e=this.content.parent.width;t=Math.floor(e/this.getColumnWH())}else{var n=this.content.parent.height;t=Math.floor(n/this.getColumnWH())}return t*this.column},e.prototype.getColumnWH=function(){return this.horizontal?this._itemWidth+this.spacing.x:this._itemHeight+this.spacing.y},e.prototype.notifyUpdate=function(){null!=this.adapter&&(this._isOnLoadCalled||this.init(),this.scrollView&&this.content&&(this.emptyView&&(this.emptyView.opacity=this.adapter.getCount()>0?0:255),this.visibleRange[0]=this.visibleRange[1]=-1,this.horizontal?this.content.width=Math.ceil(this.adapter.getCount()/this.column)*(this._itemWidth+this.spacing.x)-this.spacing.x+this.margin.x+this.margin.width:this.content.height=Math.ceil(this.adapter.getCount()/this.column)*(this._itemHeight+this.spacing.y)-this.spacing.y+this.margin.y+this.margin.height,this.dataChanged=!0))},e.prototype.lateUpdate=function(){var t=this.getVisibleRange();this.checkNeedUpdate(t)&&(this.recycleDirty(t),this.updateView(t))},e.prototype._layoutVertical=function(t,e){this.content.addChild(t);var n=e%(this.column||1),i=Math.floor(e/(this.column||1));t.setPosition(this.column>1?this.margin.x+t.width*t.anchorX+(t.width+this.spacing.x)*n-this.content.width*this.content.anchorX:0,-this.margin.y-t.height*(t.anchorY+i)-this.spacing.y*i)},e.prototype._layoutHorizontal=function(t,e){this.content.addChild(t);var n=e%(this.column||1),i=Math.floor(e/(this.column||1));t.setPosition(t.width*(t.anchorX+i)+this.spacing.x*i+this.margin.x,this.column>1?-1*(this.margin.y+t.height*t.anchorY+(t.height+this.spacing.y)*n-this.content.height*this.content.anchorY):0)},e.prototype.recycleAll=function(){for(var t in this._filledIds)this._filledIds.hasOwnProperty(t)&&this._items.put(this._filledIds[t]);this._filledIds={}},e.prototype.recycleDirty=function(t){if(t&&!(t.length<2)){for(var e=this.visibleRange[0];e<t[0];e++)e<0||!this._filledIds[e]||(this._items.put(this._filledIds[e]),this._filledIds[e]=null);for(var n=this.visibleRange[1];n>t[1];n--)n<0||!this._filledIds[n]||(this._items.put(this._filledIds[n]),this._filledIds[n]=null);this.visibleRange[0]=t[0],this.visibleRange[1]=t[1]}},e.prototype.checkNeedUpdate=function(t){return t&&this.visibleRange&&(this.visibleRange[0]!=t[0]||this.visibleRange[1]!=t[1])},e.prototype.updateView=function(t){for(var e=t[0];e<=t[1];e++)if(this.dataChanged||!this._filledIds[e]){var n=this._filledIds[e]||this._items.get()||cc.instantiate(this.itemTemplate);!this.comp||n.getComponent(c)instanceof this.comp||(n.removeComponent(c),n.addComponent(this.comp)),n.removeFromParent(!1),this.horizontal?this._layoutHorizontal(n,e):this._layoutVertical(n,e),this._filledIds[e]=this.adapter._getView(n,e)}this.dataChanged=!1},e.prototype.getVisibleRange=function(){if(null==this.adapter)return null;var t=this.scrollView.getScrollOffset(),e=0;(e=this.horizontal?Math.floor(-t.x/(this._itemWidth+this.spacing.x)):Math.floor(t.y/(this._itemHeight+this.spacing.y)))<0&&(e=0);var n=this.column*(e+this._itemsVisible+this.spawnCount);return n>=this.adapter.getCount()&&(n=this.adapter.getCount()-1),[e*this.column,n]},e.prototype.init=function(){if(!this._isInited){this._isInited=!0,this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.anchorX=0,this.content.anchorY=this.content.parent.anchorY,this.content.x=0-this.content.parent.width*this.content.parent.anchorX,this.content.y=0):(this.scrollView.vertical=!0,this.content.anchorX=this.content.parent.anchorX,this.content.anchorY=1,this.content.x=0,this.content.y=this.content.parent.height*this.content.parent.anchorY)):console.error("ListView need a scrollView for showing.");var t=this._items.get()||cc.instantiate(this.itemTemplate);this._items.put(t),this._itemHeight=t.height||10,this._itemWidth=t.width||10,this.horizontal?this._itemsVisible=Math.ceil((this.content.parent.width-this.margin.x-this.margin.width)/(this._itemWidth+this.spacing.x)):this._itemsVisible=Math.ceil((this.content.parent.height-this.margin.y-this.margin.height)/(this._itemHeight+this.spacing.y))}},r([d(cc.Prefab)],e.prototype,"itemTemplate",void 0),r([d(cc.Vec2)],e.prototype,"spacing",void 0),r([d(cc.Rect)],e.prototype,"margin",void 0),r([d],e.prototype,"spawnCount",void 0),r([d],e.prototype,"column",void 0),r([d(cc.ScrollView)],e.prototype,"scrollView",void 0),r([d(cc.Node)],e.prototype,"emptyView",void 0),r([p],e)}(cc.Component);o.default=f;var h=function(){function t(t,e){void 0===e&&(e=0),this.listView=null,this.pageOfItems=0,this.currentPageIndex=0,this.onPageChangeListener=null,this.listView=t,this.pageOfItems=e}return t.prototype.getPageCount=function(){if(!this.listView.getAdapter())return 1;var t=this.listView.getAdapter().getCount();return this.pageOfItems||(this.pageOfItems=this.listView.getVisibleElements()),this.pageOfItems<=0&&(this.pageOfItems=1),Math.ceil(t/this.pageOfItems)},t.prototype.getCurrentPage=function(){return this.currentPageIndex},t.prototype.prePage=function(){this.currentPageIndex--,this.currentPageIndex<0&&(this.currentPageIndex=0),this.listView.scrollToPage(this.currentPageIndex,0,.2),this.onPageChangeListener&&this.onPageChangeListener(this.listView,this.currentPageIndex)},t.prototype.nextPage=function(){this.currentPageIndex++;var t=this.getPageCount();this.currentPageIndex>t-1&&(this.currentPageIndex=t-1),this.listView.scrollToPage(this.currentPageIndex,0,.2),this.onPageChangeListener&&this.onPageChangeListener(this.listView,this.currentPageIndex)},t.prototype.canPrePage=function(){return this.currentPageIndex>0},t.prototype.canNextPage=function(){return this.currentPageIndex<this.getPageCount()-1},t.prototype.setOnPageChangeListener=function(t){this.onPageChangeListener=t},t}();o.Pager=h;var y=function(){function t(){this.dataSet=[]}return t.prototype.setDataSet=function(t){this.dataSet=t||[]},t.prototype.getCount=function(){return this.dataSet?this.dataSet.length:0},t.prototype.getItem=function(t){return this.dataSet[t]},t.prototype._getView=function(t,e){return this.updateView(t,e,this.dataSet[e]),this.onItemClickListener,t},t.prototype.setOnItemClickListener=function(t,e){this.onItemClickListener=e?t.bind(e):t},t.prototype.onItemClicked=function(t,e){this.onItemClickListener&&this.onItemClickListener(this,e)},t}();o.AbsAdapter=y,cc._RF.pop()},{}],LoadingCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"bcc96UZiZFOUZDkCSrT0LT8","LoadingCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("TimeEngine"),l=o("Controller"),c=o("SceneConfig"),u=o("SceneManager"),p=o("GameCfgData"),d=o("BundlesMgr"),f=o("ResManger"),h=o("Constant"),y=o("rootNode"),g=function(t){function e(){var e=t.call(this)||this;return e.resLoadsuc=!1,e}return r(e,t),e.prototype.onInit=function(){this.onLoadRes()},e.prototype.onLoadRes=function(){var t=this;d.default.onLoadLoadingBundles(function(){u.default.instance.tipsScene.addComponent(y.default),f.ResManger.instance.loadRes(t.onProgress.bind(t),t.onComplete.bind(t))}),GEvent.on(GEventName.DataLoadSuc,this.DataLoadSuc,this)},e.prototype.onProgress=function(t,e){this.postUIEvent(h.default.LOADING_EVENT.PROGRESS,{progress:t/e})},e.prototype.DataLoadSuc=function(){this.resLoadsuc&&p.default.serverDataInitSuc&&(Global.onShowTosat("\u7f51\u7edc\u8fde\u63a5\u5b8c\u6210 \u8fdb\u5165\u6e38\u620f",2),this.sceneMgr().load(c.default.Scenes.SelectRoleView),GEvent.offAll(this))},e.prototype.onComplete=function(){var t=this;console.log(p.default.LocalHaveData,p.default.serverDataInitSuc,"1111"),this.resLoadsuc=!0,p.default.LocalHaveData||p.default.serverDataInitSuc?(this.sceneMgr().load(c.default.Scenes.SelectRoleView),GEvent.offAll(this)):s.default.instance.open(1e3,1,function(){s.default.instance.open(2e3,3,function(){p.default.serverDataInitSuc||Global.onShowTosat("\u7f51\u7edc\u8fde\u63a5\u9519\u8bef,\u8bf7\u5173\u95ed\u6e38\u620f\u91cd\u65b0\u8fde\u63a5",2)},t)})},e}(l.default);a.default=g,cc._RF.pop()},{}],LoadingModel:[function(t,e,n){"use strict";cc._RF.push(e,"3c912ysVGJE3rs8iejkOjah","LoadingModel");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],LoadingView:[function(t,e,n){"use strict";cc._RF.push(e,"ab6d7bTGL5K9Zw/Naox2akm","LoadingView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("LoadingCtrl"),c=o("LoadingModel"),u=o("View"),p=o("Constant"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=t.call(this)||this;return e.loadAni=null,e.progressBar=null,e}return r(e,t),e.prototype.onInit=function(){this.setModel(new c.default),this.setController(new l.default)},e.prototype.onUILoad=function(){t.prototype.onUILoad.call(this)},e.prototype.onUIEnable=function(){},e.prototype.onUIStart=function(){},e.prototype.onUIDisable=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onUIUpdate=function(){},e.prototype.getView=function(){return this},e.prototype.onNoticeEvent=function(t,e){var n=this.progressBar.barSprite.node;t==p.default.LOADING_EVENT.PROGRESS&&(this.progressBar.progress=e.progress,this.loadAni.position=cc.v3(n.x+n.width,-14))},s([h(cc.Node)],e.prototype,"loadAni",void 0),s([h(cc.ProgressBar)],e.prototype,"progressBar",void 0),s([f],e)}(u.default);a.default=y,cc._RF.pop()},{}],LogManager:[function(t,e,n){"use strict";cc._RF.push(e,"f03afVJQKJOt51q0WZ4pFEj","LogManager");var i,o=n;Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.LOG_INFO=0]="LOG_INFO",t[t.LOG_DEBUG=1]="LOG_DEBUG",t[t.LOG_WARN=2]="LOG_WARN",t[t.LOG_ERROR=3]="LOG_ERROR",t[t.LOG_EXCEPTION=4]="LOG_EXCEPTION"}(i||(i={}));var a=function(){function t(){this.apiHost="",this.appVer="",this.keySecret="",this.lastReportDt=0,this.reportDataList=new Array}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.purge=function(){t.instance&&(t.instance=null)},t.prototype.init=function(t,e){return!(!e||""===e||(this.appVer=t||"",this.keySecret=e,0))},t.prototype.typeToString=function(t){switch(t){case i.LOG_INFO:return"info";case i.LOG_DEBUG:return"debug";case i.LOG_WARN:return"warn";case i.LOG_ERROR:return"error";case i.LOG_EXCEPTION:return"exception"}},t.getHeadInfo=function(t,e){var n=new Date,i="";return!0===e&&(i="["+n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+"' '"+n.getHours()+";"+n.getMinutes()+";"+n.getSeconds()+"]"),". + _0x431306 + "+i+": "},t.info=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.getHeadInfo("info",!0);console.log(console,"+"+a+","+t.concat(i))},t.debug=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o]},t.warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.getHeadInfo("warn",!0);void 0===console.warn?console.error(console,a+","+t.concat(i)):console.warn(console,a+","+t.concat(i))},t.error=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var a,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var l=this.getHeadInfo("error",!0);console.error(console,l+","+e.concat(r)),(a=t.getInstance()).addReportData.apply(a,[i.LOG_ERROR,e].concat(r))},t.exception=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var a,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var l=this.getHeadInfo("exception",!0);console.error(console,l+","+e.concat(r)),(a=t.getInstance()).addReportData.apply(a,[i.LOG_EXCEPTION,e].concat(r))},t.prototype.addReportData=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=new Object;o.ver=this.appVer,o.secret=this.keySecret,o.mode=this.typeToString(t),o.device=cc.sys.osVersion,o.platform=cc.sys.platform,o.browserType=cc.sys.browserType,o.language=cc.sys.language,o.message="string"==typeof e?e:JSON.stringify(e),o.optionalParams=n?JSON.stringify(n):"",this.reportDataList.push(o)},t.prototype.postReportData=function(){if(0!=this.reportDataList.length){var e=new XMLHttpRequest;e.open("POST",this.apiHost),e.setRequestHeader("Content-Type","application/json"),e.onloadend=function(){if(this.readyState===XMLHttpRequest.DONE)if(this.status>=200&&e.status<=207||403==e.status){var n=JSON.parse(e.response),i=n.data;n.data instanceof Object||(i=JSON.parse(n.data)),t.debug("\u4e0a\u62a5\u7ed3\u679c:",i)}else 500!=e.status&&404!=e.status||t.debug("\u4e0a\u62a5\u5931\u8d25:",e.status)},e.ontimeout=function(){t.debug("\u4e0a\u62a5\u5931\u8d25:","\u8d85\u65f6!")},e.onerror=function(){t.debug("\u4e0a\u62a5\u5931\u8d25:","\u9047\u5230\u9519\u8bef!")};var n=JSON.stringify(this.reportDataList.shift());e.send(n)}},t.prototype.getTimestamp=function(){return(new Date).getTime()},t.prototype.onUpdateTick=function(){this.getTimestamp()-this.lastReportDt>=1e3&&(this.postReportData(),this.lastReportDt=this.getTimestamp())},t.instance=null,t}();o.default=a,cc._RF.pop()},{}],LvHard:[function(t,e,n){"use strict";cc._RF.push(e,"ae80a/xd51JRKxX/PQzkU9W","LvHard");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.LvHard=void 0,function(t){t[t.NORMAL=0]="NORMAL",t[t.HARD=1]="HARD",t[t.KING=2]="KING",t[t.ACTIVE=999]="ACTIVE",t[t.TOWER=1e3]="TOWER"}(i.LvHard||(i.LvHard={})),cc._RF.pop()},{}],LvType:[function(t,e,n){"use strict";cc._RF.push(e,"7d6b9i2jcdExL6IlP0aMyGy","LvType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.LvType=void 0,function(t){t[t.NONE=0]="NONE",t[t.PK=1]="PK",t[t.NORMAL=2]="NORMAL",t[t.ABYSS=3]="ABYSS",t[t.INFINITYTOWER=4]="INFINITYTOWER",t[t.ACTIVITY=5]="ACTIVITY",t[t.Tower=6]="Tower",t[t.Toxicity=7]="Toxicity"}(i.LvType||(i.LvType={})),cc._RF.pop()},{}],MACRO:[function(t,e){"use strict";var n,i,o,a,r,s;cc._RF.push(e,"4a04fN6rLpHeK8sQGTPwPgX","MACRO"),function(t){t[t.LeftHand=0]="LeftHand",t[t.RigthHand=1]="RigthHand",t[t.LeftLeg=2]="LeftLeg",t[t.RigthLeg=3]="RigthLeg",t[t.StormshadowKatana=4]="StormshadowKatana",t[t.ReyFoldingchair=5]="ReyFoldingchair"}(n||(n={})),function(t){t[t.Normal=0]="Normal",t[t.Fly=1]="Fly",t[t.Repel=2]="Repel",t[t.ForceUp=3]="ForceUp",t[t.Push=4]="Push"}(i||(i={})),function(t){t[t.Normal=0]="Normal",t[t.Miss=1]="Miss",t[t.Die=2]="Die"}(o||(o={})),function(t){t[t.Normal=0]="Normal",t[t.Cir=1]="Cir",t[t.Miss=2]="Miss"}(a||(a={})),function(t){t[t.GUIDE=0]="GUIDE",t[t.CLASSICS=1]="CLASSICS",t[t.TOWER=2]="TOWER"}(r||(r={})),function(t){t[t.GOLD=0]="GOLD",t[t.DIAMION=1]="DIAMION",t[t.SPECIALSIGNIN=2]="SPECIALSIGNIN",t[t.SPECIALTURRENT=3]="SPECIALTURRENT"}(s||(s={}));var l,c,u,p,d,f,h,y,g,m,v,_,b,k={NULL:cc.v3(0,0),LEFT:cc.v3(1,0),RIGTH:cc.v3(-1,0)};(function(t){t[t.ENERGY=0]="ENERGY",t[t.NORMAL=1]="NORMAL"})(l||(l={})),function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN"}(c||(c={})),function(t){t[t.NULL=-1]="NULL",t[t.UP=0]="UP",t[t.DOWN=1]="DOWN"}(u||(u={})),function(t){t[t.NULL=-1]="NULL",t[t.DIZZINESS=1]="DIZZINESS"}(p||(p={})),function(t){t[t.STEADY=-1]="STEADY",t[t.FIREBALL=0]="FIREBALL",t[t.RUNENDATK=1]="RUNENDATK",t[t.BACK=2]="BACK",t[t.RUNENDJUMP=3]="RUNENDJUMP",t[t.DURATKDEF=4]="DURATKDEF",t[t.DEF=5]="DEF",t[t.ULTIMATESKILL=6]="ULTIMATESKILL",t[t.ATTACK=7]="ATTACK"}(d||(d={})),function(t){t[t.FIRE=0]="FIRE",t[t.FLY=1]="FLY",t[t.BOMB=2]="BOMB"}(f||(f={})),function(t){t[t.NULL=-1]="NULL",t[t.VIVTORY=0]="VIVTORY",t[t.FAILED=1]="FAILED"}(h||(h={})),function(t){t[t.NULL=0]="NULL",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"}(y||(y={})),function(t){t[t.ID0=1201948]="ID0",t[t.ID1=1200231]="ID1",t[t.ID2=1200130]="ID2",t[t.ID3=1200029]="ID3",t[t.ID4=1199928]="ID4",t[t.ID5=1199827]="ID5"}(g||(g={})),function(t){t.ID1="PTFenXiang",t.ID2="YSJFenXiang",t.ID3="IPDQFenXiang"}(m||(m={})),function(t){t[t.BannerFault=100825]="BannerFault",t[t.BtnTanTiao=100824]="BtnTanTiao",t[t.ViedoRewardHit=100823]="ViedoRewardHit",t[t.BattleFault=100822]="BattleFault"}(v||(v={})),function(t){t.Box0="AD_friendPlayGames1",t.Box1="AD_friendPlayGames",t.Box2="adHTBox",t.Box3="AD_couplet1",t.Box4="AD_LRroll"}(_||(_={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.RIGHTDOWN=1]="RIGHTDOWN",t[t.CENTREDOWN=2]="CENTREDOWN",t[t.CENTREUP=3]="CENTREUP"}(b||(b={}));var S={SoldierHurtType:i,TakeHurtType:o,HurtAttackType:a,SoldierCollisionPoi:n,ROLEGETTYPE:s,GAMEMODE:r,ActorHURTYPE:l,ACTORDIR:k,ACTORJOYSTICKSTATE:c,ACTORJUMPSTATE:u,ACTORBUFF:p,AiACTION:d,FireballStatus:f,GAMEFINISH:h,MEETBORDER:y,AD:{ADHTParams:g,ShareParams:m,ADBoxS:_,TMConfig:v,bannerPosEnum:b}};window.MACRO=S,cc._RF.pop()},{}],MD5:[function(t,e,n){"use strict";cc._RF.push(e,"c92438bt81ORYj9S0z1sZc2","MD5");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){this.hexcase=0,this.b64pad=""}return t.prototype.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},t.prototype.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.any_hmac_md5=function(t,e,n){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),n)},t.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},t.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.prototype.rstr_hmac_md5=function(t,e){var n=this.rstr2binl(t);n.length>16&&(n=this.binl_md5(n,8*t.length));for(var i=Array(16),o=Array(16),a=0;16>a;a++)i[a]=909522486^n[a],o[a]=1549556828^n[a];var r=this.binl_md5(i.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(o.concat(r),640))},t.prototype.rstr2hex=function(t){try{this.hexcase}catch(a){this.hexcase=0}for(var e,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",o=0;o<t.length;o++)e=t.charCodeAt(o),i+=n.charAt(e>>>4&15)+n.charAt(15&e);return i},t.prototype.rstr2b64=function(t){try{this.b64pad}catch(r){this.b64pad=""}for(var e="",n=t.length,i=0;n>i;i+=3)for(var o=t.charCodeAt(i)<<16|(n>i+1?t.charCodeAt(i+1)<<8:0)|(n>i+2?t.charCodeAt(i+2):0),a=0;4>a;a++)e+=8*i+6*a>8*t.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-a)&63);return e},t.prototype.rstr2any=function(t,e){var n,i,o,a,r,s=e.length,l=Array(Math.ceil(t.length/2));for(n=0;n<l.length;n++)l[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);var c=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),u=Array(c);for(i=0;c>i;i++){for(r=Array(),a=0,n=0;n<l.length;n++)a=(a<<16)+l[n],a-=(o=Math.floor(a/s))*s,(r.length>0||o>0)&&(r[r.length]=o);u[i]=a,l=r}var p="";for(n=u.length-1;n>=0;n--)p+=e.charAt(u[n]);return p},t.prototype.str2rstr_utf8=function(t){for(var e,n,i="",o=-1;++o<t.length;)e=t.charCodeAt(o),n=o+1<t.length?t.charCodeAt(o+1):0,e>=55296&&56319>=e&&n>=56320&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),o++),127>=e?i+=String.fromCharCode(e):2047>=e?i+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i},t.prototype.str2rstr_utf16le=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n),t.charCodeAt(n)>>>8&255);return e},t.prototype.str2rstr_utf16be=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)>>>8&255,255&t.charCodeAt(n));return e},t.prototype.rstr2binl=function(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},t.prototype.binl2rstr=function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e},t.prototype.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,i=-271733879,o=-1732584194,a=271733878,r=0;r<t.length;r+=16){var s=n,l=i,c=o,u=a;n=this.md5_ff(n,i,o,a,t[r+0],7,-680876936),a=this.md5_ff(a,n,i,o,t[r+1],12,-389564586),o=this.md5_ff(o,a,n,i,t[r+2],17,606105819),i=this.md5_ff(i,o,a,n,t[r+3],22,-1044525330),n=this.md5_ff(n,i,o,a,t[r+4],7,-176418897),a=this.md5_ff(a,n,i,o,t[r+5],12,1200080426),o=this.md5_ff(o,a,n,i,t[r+6],17,-1473231341),i=this.md5_ff(i,o,a,n,t[r+7],22,-45705983),n=this.md5_ff(n,i,o,a,t[r+8],7,1770035416),a=this.md5_ff(a,n,i,o,t[r+9],12,-1958414417),o=this.md5_ff(o,a,n,i,t[r+10],17,-42063),i=this.md5_ff(i,o,a,n,t[r+11],22,-1990404162),n=this.md5_ff(n,i,o,a,t[r+12],7,1804603682),a=this.md5_ff(a,n,i,o,t[r+13],12,-40341101),o=this.md5_ff(o,a,n,i,t[r+14],17,-1502002290),i=this.md5_ff(i,o,a,n,t[r+15],22,1236535329),n=this.md5_gg(n,i,o,a,t[r+1],5,-165796510),a=this.md5_gg(a,n,i,o,t[r+6],9,-1069501632),o=this.md5_gg(o,a,n,i,t[r+11],14,643717713),i=this.md5_gg(i,o,a,n,t[r+0],20,-373897302),n=this.md5_gg(n,i,o,a,t[r+5],5,-701558691),a=this.md5_gg(a,n,i,o,t[r+10],9,38016083),o=this.md5_gg(o,a,n,i,t[r+15],14,-660478335),i=this.md5_gg(i,o,a,n,t[r+4],20,-405537848),n=this.md5_gg(n,i,o,a,t[r+9],5,568446438),a=this.md5_gg(a,n,i,o,t[r+14],9,-1019803690),o=this.md5_gg(o,a,n,i,t[r+3],14,-187363961),i=this.md5_gg(i,o,a,n,t[r+8],20,1163531501),n=this.md5_gg(n,i,o,a,t[r+13],5,-1444681467),a=this.md5_gg(a,n,i,o,t[r+2],9,-51403784),o=this.md5_gg(o,a,n,i,t[r+7],14,1735328473),i=this.md5_gg(i,o,a,n,t[r+12],20,-1926607734),n=this.md5_hh(n,i,o,a,t[r+5],4,-378558),a=this.md5_hh(a,n,i,o,t[r+8],11,-2022574463),o=this.md5_hh(o,a,n,i,t[r+11],16,1839030562),i=this.md5_hh(i,o,a,n,t[r+14],23,-35309556),n=this.md5_hh(n,i,o,a,t[r+1],4,-1530992060),a=this.md5_hh(a,n,i,o,t[r+4],11,1272893353),o=this.md5_hh(o,a,n,i,t[r+7],16,-155497632),i=this.md5_hh(i,o,a,n,t[r+10],23,-1094730640),n=this.md5_hh(n,i,o,a,t[r+13],4,681279174),a=this.md5_hh(a,n,i,o,t[r+0],11,-358537222),o=this.md5_hh(o,a,n,i,t[r+3],16,-722521979),i=this.md5_hh(i,o,a,n,t[r+6],23,76029189),n=this.md5_hh(n,i,o,a,t[r+9],4,-640364487),a=this.md5_hh(a,n,i,o,t[r+12],11,-421815835),o=this.md5_hh(o,a,n,i,t[r+15],16,530742520),i=this.md5_hh(i,o,a,n,t[r+2],23,-995338651),n=this.md5_ii(n,i,o,a,t[r+0],6,-198630844),a=this.md5_ii(a,n,i,o,t[r+7],10,1126891415),o=this.md5_ii(o,a,n,i,t[r+14],15,-1416354905),i=this.md5_ii(i,o,a,n,t[r+5],21,-57434055),n=this.md5_ii(n,i,o,a,t[r+12],6,1700485571),a=this.md5_ii(a,n,i,o,t[r+3],10,-1894986606),o=this.md5_ii(o,a,n,i,t[r+10],15,-1051523),i=this.md5_ii(i,o,a,n,t[r+1],21,-2054922799),n=this.md5_ii(n,i,o,a,t[r+8],6,1873313359),a=this.md5_ii(a,n,i,o,t[r+15],10,-30611744),o=this.md5_ii(o,a,n,i,t[r+6],15,-1560198380),i=this.md5_ii(i,o,a,n,t[r+13],21,1309151649),n=this.md5_ii(n,i,o,a,t[r+4],6,-145523070),a=this.md5_ii(a,n,i,o,t[r+11],10,-1120210379),o=this.md5_ii(o,a,n,i,t[r+2],15,718787259),i=this.md5_ii(i,o,a,n,t[r+9],21,-343485551),n=this.safe_add(n,s),i=this.safe_add(i,l),o=this.safe_add(o,c),a=this.safe_add(a,u)}return[n,i,o,a]},t.prototype.md5_cmn=function(t,e,n,i,o,a){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(i,a)),o),n)},t.prototype.md5_ff=function(t,e,n,i,o,a,r){return this.md5_cmn(e&n|~e&i,t,e,o,a,r)},t.prototype.md5_gg=function(t,e,n,i,o,a,r){return this.md5_cmn(e&i|n&~i,t,e,o,a,r)},t.prototype.md5_hh=function(t,e,n,i,o,a,r){return this.md5_cmn(e^n^i,t,e,o,a,r)},t.prototype.md5_ii=function(t,e,n,i,o,a,r){return this.md5_cmn(n^(e|~i),t,e,o,a,r)},t.prototype.safe_add=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},t.prototype.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();i.default=new o,cc._RF.pop()},{}],MSTaskCalculate:[function(t,e,n){"use strict";cc._RF.push(e,"2ba8au5zBJNR4nF6WN/c/z8","MSTaskCalculate");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("MagicSwordManager"),r=i("TaskManager"),s=function(){function t(){}return t.EventListener={1:function(){return{event_name:GEventName.Task.PassMap}},2:function(){return{event_name:GEventName.MSTask.itemExchange}},3:function(){return{event_name:GEventName.MSTask.DeathTower}},4:function(){return{event_name:GEventName.MSTask.WxShare}},5:function(){return{event_name:GEventName.Task.LoginGame}},6:function(){return{event_name:GEventName.Task.UsePower}},7:function(){return{event_name:GEventName.Task.WatchVideo}},8:function(){return{event_name:GEventName.Task.OpenPot}},9:function(){return{event_name:GEventName.Task.PowerUpEquip}},10:function(){return{event_name:GEventName.Task.EqiupPowerUp}},11:function(){return{event_name:GEventName.Task.GetReward}}},t.CheckTaskFinish={1:function(t,e,n,i){return t[0]==e[0]&&t[1]==e[1]&&i.count++,i.count>=n},2:function(t,e,n){return e[1]?a.default.instance.isHaveItemOrEquip(e[0],n)&&a.default.instance.isHaveItemOrEquip(e[1],n):a.default.instance.isHaveItemOrEquip(e[0],n)},3:function(t,e,n,i){return i.count=t,i.count>=n},4:function(t,e,n,i){return i.count++,i.count>=n},5:function(t,e,n,i){return i.count++,i.count>=n},6:function(t,e,n,i){return i.count+=t,i.count>=n},7:function(t,e,n,i){return i.count++,i.count>=n},8:function(t,e,n,i){return i.count+=t,i.count>=n},9:function(t,e,n,i){return i.count++,i.count>=n},10:function(t,e,n,i){return!!t&&(i.count=t.PowerLv,i.count>=n)},11:function(t,e,n,i){return r.default.instance.DayTasks.length<=1&&i.count,i.count>=n}},t}();o.default=s,cc._RF.pop()},{}],MSTaskItem:[function(t,e,n){"use strict";cc._RF.push(e,"ad446vaxPBDg6LLVgZG2Pl4","MSTaskItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("UIWidget"),p=o("GameData"),d=o("CDKRewardType"),f=o("MagicSwordTaskType"),h=o("GameHelper"),y=o("MagicSwordManager"),g=o("Admanager"),m=o("platformConfig"),v=o("Constant"),_=o("Utils"),b=o("ComRewardView"),k=cc._decorator,S=k.ccclass,w=k.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curLv=null,e.taskDes=null,e.taskCount=null,e.itemNode=null,e.rewardIcon=null,e.GotNode=null,e.LockNode=null,e.adWatch=null,e.timeDown=0,e.timeLabel=null,e}return r(e,t),e.prototype.onEnable=function(){this.registerEvent()},e.prototype.registerEvent=function(){GEvent.on(GEventName.MSTask.FinishTask,this.changeTaskProgress,this),GEvent.on(GEventName.MSTask.ProgressChange,this.changeTaskProgress,this)},e.prototype.onDisable=function(){GEvent.offAll(this)},e.prototype.onInit=function(t,e){this.curMagicLv=t,this.MSTaskJsonData=e,this.RefreshItem()},e.prototype.RefreshItem=function(){if(m.default.platformType===v.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||m.default.platformType===v.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?this.adWatch.active=!0:this.adWatch.active=!1,this.MSTaskData=y.default.instance.getMSTaskDataById(this.MSTaskJsonData.id),1==this.adWatch.active){this.GotNode.getComponent(cc.Widget).enabled=!0,this.LockNode.getComponent(cc.Widget).enabled=!0,this.adWatch.Child("time").active=!1;var t=null==this.MSTaskData?0:this.MSTaskData.videoOrInviteCount,e=null==this.MSTaskData||this.MSTaskData.isFinish;0!=GUserData.GameStatistics.mojianAdLastTime&&0==e?(this.timeDown=(GUserData.GameStatistics.mojianAdLastTime-(new Date).getTime())/1e3,this.timeDown<0?(this.timeDown=0,this.timeLabel.node.parent.active=!1):this.timeLabel.node.parent.active=!0):this.timeLabel.node.parent.active=!1,this.MSTaskJsonData.videoCount>1?(this.adWatch.Child("watchAd2").active=!1,this.adWatch.Child("watchAd1").active=!0,this.adWatch.Child("watchCountLabel",cc.Label).string="\uff08"+t+"/"+this.MSTaskJsonData.videoCount+"\uff09"):(this.adWatch.Child("watchCountLabel",cc.Label).string="\uff08"+t+"/1\uff09",this.adWatch.Child("watchAd2").active=!0,this.adWatch.Child("watchAd1").active=!1)}if(this.curLv.string="Lv."+this.curMagicLv,this.taskDes.string=this.MSTaskJsonData.info,this.changeTaskProgress(),this.MSTaskJsonData.type==f.MagicSwordTaskType.itemExchange){this.taskCount.node.active=!1,this.itemNode.active=!0;for(var n=0;n<2;n++)this.MSTaskJsonData.value[n]?(this.itemNode.getChildByName("needItem_"+(n+1)).active=!0,this.setItemOrEquip(this.itemNode.getChildByName("needItem_"+(n+1)),this.MSTaskJsonData.value[n],this.MSTaskJsonData.count)):this.itemNode.getChildByName("needItem_"+(n+1)).active=!1}else this.taskCount.node.active=!0,this.itemNode.active=!1;if(this.LockNode.active=!this.MSTaskData,this.GotNode.active=this.MSTaskData&&this.MSTaskData.isGetReward,this.rewardData=h.default.instance.getMsTaskRewardData(this.curMagicLv),this.rewardData.endLv==this.curMagicLv)switch(this.rewardIcon.node.active=!0,_.default.loadSpfFromRes(this.rewardData.rewardIcon,this.rewardIcon),this.rewardData.rewardType){case d.CDKREWAEDTYPE.FASHIONEFF:this.rewardIcon.node.scale=.45;break;case d.CDKREWAEDTYPE.FASHION:this.rewardIcon.node.scale=.85;break;case d.CDKREWAEDTYPE.FASHIONWEAPON:this.rewardIcon.node.scale=.3,this.rewardIcon.node.angle=-45;break;case 60:this.rewardIcon.node.scale=1}else this.rewardIcon.node.active=!1},e.prototype.changeTaskProgress=function(){var t=this.MSTaskData?this.MSTaskData.count:0;this.taskCount.string="("+t+"/"+this.MSTaskJsonData.count+")"},e.prototype.onBtnUnLock=function(){GEvent.emit(GEventName.MSTask.itemExchange),y.default.instance.getMSTaskReward()?Global.onShowTosat("\u9b54\u5251\u7b49\u7ea7+1"):Global.onShowTosat("\u4efb\u52a1\u672a\u5b8c\u6210")},e.prototype.onWatchBtn=function(){var t=this;if(this.timeDown>0)Global.onShowTosat("\u8bf7\u7b49\u5f85\u89c6\u9891\u51b7\u5374\u518d\u89c2\u770b");else if(GUserData.GameStatistics.mojianTodayTimes<=0)Global.onShowTosat("\u4eca\u65e5\u5347\u7ea7\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650");else{console.log("curMagicLv",this.curMagicLv);var e=this.MSTaskJsonData.videoCount;if(1!=e){var n=function(n){n&&(GUserData.GameStatistics.mojianAdLastTime=(new Date).getTime()+3e4,t.MSTaskData.videoOrInviteCount+=1,t.adWatch.Child("watchCountLabel",cc.Label).string="\uff08"+t.MSTaskData.videoOrInviteCount+"/"+e+"\uff09",t.RefreshItem(),t.MSTaskData.videoOrInviteCount>=e&&(y.default.instance.videoUnlockMs(),t.GotNode.active=!0,GUserData.GameStatistics.mojianTodayTimes-=1))},i=[{id:100,value:500},{id:338,value:1}];c.default.instance.load(l.default.Scenes.ComRewardView,void 0,function(t,e){e.getComponent(b.default).showFragment({_reward:i,call:n})})}else g.default.instance.playRewardVideo(function(){GUserData.GameStatistics.mojianAdLastTime=(new Date).getTime()+3e4,t.MSTaskData.videoOrInviteCount+=1,t.adWatch.Child("watchCountLabel",cc.Label).string="\uff08"+t.MSTaskData.videoOrInviteCount+"/"+e+"\uff09",t.MSTaskData.videoOrInviteCount>=e&&(y.default.instance.videoUnlockMs(),t.GotNode.active=!0,GUserData.GameStatistics.mojianTodayTimes-=1)})}},e.prototype.onUIUpdate=function(t){this.timeDown>0&&(this.timeDown-=t,this.timeDown<0&&(this.timeDown=0,this.timeLabel.node.parent.active=!1),this.timeLabel.string=Math.floor(this.timeDown)+"s")},e.prototype.setItemOrEquip=function(t,e,n){var i;100==e||101==e?(i=p.default.CurrenyData()[e],t.getChildByName("needCount").getComponent(cc.Label).string="x"+n):e<1e3?(i=p.default.ItemData()[e],t.getChildByName("needCount").getComponent(cc.Label).string="x"+n):(i=p.default.EquipData()[e],t.getChildByName("needCount").getComponent(cc.Label).string=i.name+"x1"),_.default.loadSpfFromRes(i.icon,t.getChildByName("needIcon"))},s([w(cc.Label)],e.prototype,"curLv",void 0),s([w(cc.Label)],e.prototype,"taskDes",void 0),s([w(cc.Label)],e.prototype,"taskCount",void 0),s([w(cc.Node)],e.prototype,"itemNode",void 0),s([w(cc.Sprite)],e.prototype,"rewardIcon",void 0),s([w(cc.Node)],e.prototype,"GotNode",void 0),s([w(cc.Node)],e.prototype,"LockNode",void 0),s([w(cc.Node)],e.prototype,"adWatch",void 0),s([w(cc.Label)],e.prototype,"timeLabel",void 0),s([S],e)}(u.default);a.default=T,cc._RF.pop()},{}],MagicEquipTaskView:[function(t,e,n){"use strict";cc._RF.push(e,"a52e5IhwIxAG5z9cUy9jZ6q","MagicEquipTaskView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("GameData"),p=o("CurrencyType"),d=o("MagicSwordTaskType"),f=o("BagManager"),h=o("MagicSwordManager"),y=o("Admanager"),g=o("platformConfig"),m=o("Constant"),v=o("Utils"),_=cc._decorator,b=_.ccclass,k=_.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.equipName=null,e.equipIcon=null,e.attributeNode=null,e.GotNode=null,e.taskName=null,e.taskContent=null,e.videoTaskContent=null,e.taskProgress=null,e.videoTaskProgress=null,e.needItemNode=null,e.taskProgressBar=null,e.taskBtn=null,e.videoTaskBtn=null,e.equipIndex=0,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.curMETaskData=h.default.instance.getCurMETaskData(),this.curJsonData=u.default.METaskData()[this.curMETaskData.id],this.curEquipData=u.default.EquipData()[this.curJsonData.rewardEquipId],this.equipIndex=this.curMETaskData.id,this.showEquipByIndex(this.equipIndex),GEvent.on(GEventName.MSTask.FinishTask,this.changeTaskProgress,this),GEvent.on(GEventName.MSTask.ProgressChange,this.changeTaskProgress,this),GEvent.on(GEventName.MSTask.NewTask,this.RefreshView,this)},e.prototype.EquipToggleClick=function(t,e){var n=parseInt(e)+2e4;h.default.instance.getMETaskDataById(n)?(this.equipIndex=parseInt(e)+2e4,this.curMETaskData=h.default.instance.getMETaskDataById(this.equipIndex),this.curJsonData=u.default.METaskData()[this.curMETaskData.id],this.curEquipData=u.default.EquipData()[this.curJsonData.rewardEquipId],this.RefreshView()):(this.showEquipByIndex(this.equipIndex),Global.onShowTosat("\u8bf7\u89e3\u9501\u524d\u7f6e\u88c5\u5907"))},e.prototype.showEquipByIndex=function(t){t-=2e4;var e=this.getToggle("content/chooseToggle/btn_"+(t+1));e&&(e.isChecked=!0,this.EquipToggleClick(e,t))},e.prototype.RefreshView=function(){this.equipName.string=this.curEquipData.name,v.default.loadSpfFromRes("textures/magicEquip/"+this.curJsonData.rewardEquipId,this.equipIcon);var t=this.curEquipData.entry;if(this.attributeNode.getChildByName("attName_1").getComponent(cc.Label).string=this.getEntryName(t[0].entry),this.attributeNode.getChildByName("attCount_1").getComponent(cc.Label).string=t[0].min_value>1?t[0].min_value:100*t[0].min_value+"%",t[1]?(this.attributeNode.getChildByName("attName_2").active=!0,this.attributeNode.getChildByName("attCount_2").active=!0,this.attributeNode.getChildByName("attName_2").getComponent(cc.Label).string=this.getEntryName(t[1].entry),this.attributeNode.getChildByName("attCount_2").getComponent(cc.Label).string=t[1].min_value>1?t[1].min_value:100*t[1].min_value+"%"):(this.attributeNode.getChildByName("attName_2").active=!1,this.attributeNode.getChildByName("attCount_2").active=!1),this.GotNode.active=this.curMETaskData.isGetReward,this.taskName.string=this.curEquipData.name+"\u4efb\u52a1",this.taskContent.string=this.curJsonData.info,this.taskProgress.node.active=this.curJsonData.type!=d.MagicSwordTaskType.itemExchange,this.changeTaskProgress(),this.curJsonData.extraNeed.length>0){this.needItemNode.active=!0;var e=this.needItemNode.getChildByName("needItem_1"),n=this.needItemNode.getChildByName("needItem_2");if(this.curJsonData.extraNeed[0]){e.active=!0;var i=100==this.curJsonData.extraNeed[0].id||101==this.curJsonData.extraNeed[0].id?u.default.CurrenyData()[this.curJsonData.extraNeed[0].id]:u.default.ItemData()[this.curJsonData.extraNeed[0].id];v.default.loadSpfFromRes(i.icon,e.getChildByName("needIcon")),e.getChildByName("needCount").getComponent(cc.Label).string="x"+this.curJsonData.extraNeed[0].value}else e.active=!1;this.curJsonData.extraNeed[1]?(n.active=!0,i=100==this.curJsonData.extraNeed[1].id||101==this.curJsonData.extraNeed[1].id?u.default.CurrenyData()[this.curJsonData.extraNeed[1].id]:u.default.ItemData()[this.curJsonData.extraNeed[1].id],v.default.loadSpfFromRes(i.icon,n.getChildByName("needIcon")),n.getChildByName("needCount").getComponent(cc.Label).string="x"+this.curJsonData.extraNeed[1].value):n.active=!1}else this.needItemNode.active=!1;g.default.platformType==m.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||g.default.platformType==m.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX?this.videoTaskContent.string=this.curJsonData.videoCount+"\u4e2a\u788e\u7247\u89e3\u9501":this.videoTaskContent.string="\u89c2\u770b"+this.curJsonData.videoCount+"\u6b21\u5e7f\u544a",this.setVideoProgress()},e.prototype.setVideoProgress=function(){this.videoTaskProgress.string=this.curMETaskData.videoOrInviteCount+"/"+this.curJsonData.videoCount,this.taskProgressBar.progress=this.curMETaskData.videoOrInviteCount/this.curJsonData.videoCount,this.GotNode.active=this.curMETaskData.isGetReward},e.prototype.changeTaskProgress=function(){this.taskProgress.string=this.curMETaskData.count+"/"+this.curJsonData.count},e.prototype.onBtnTask=function(){if(GEvent.emit(GEventName.MSTask.itemExchange),!this.curMETaskData.isFinish)return Global.onShowTosat("\u8bf7\u5148\u5b8c\u6210\u4efb\u52a1");if(this.curJsonData.type!=d.MagicSwordTaskType.itemExchange){for(var t=0;t<this.curJsonData.extraNeed.length;t++)if(100==this.curJsonData.extraNeed[t].id){if(!l.default.CanPay(p.CurrencyType.COIN,this.curJsonData.extraNeed[t].value))return Global.onShowTosat("\u6750\u6599\u4e0d\u8db3")}else if(101==this.curJsonData.extraNeed[t].id){if(!l.default.CanPay(p.CurrencyType.COUPON,this.curJsonData.extraNeed[t].value))return Global.onShowTosat("\u6750\u6599\u4e0d\u8db3")}else if(f.default.Init.FindItem(this.curJsonData.extraNeed[t].id)<this.curJsonData.extraNeed[t].value)return Global.onShowTosat("\u6750\u6599\u4e0d\u8db3");for(t=0;t<this.curJsonData.extraNeed.length;t++)100==this.curJsonData.extraNeed[t].id?l.default.Pay(p.CurrencyType.COIN,this.curJsonData.extraNeed[t].value):101==this.curJsonData.extraNeed[t].id?l.default.Pay(p.CurrencyType.COUPON,this.curJsonData.extraNeed[t].value):f.default.Init.RemoveItem(this.curJsonData.extraNeed[t].id,this.curJsonData.extraNeed[t].value)}h.default.instance.getMETaskReward(),this.GotNode.active=this.curMETaskData.isGetReward},e.prototype.onBtnVideo=function(){var t=this;y.default.instance.playRewardVideo(function(){t.curMETaskData.videoOrInviteCount++,t.setVideoProgress(),t.curMETaskData.videoOrInviteCount>=t.curJsonData.videoCount&&(h.default.instance.videoUnlock(),t.GotNode.active=t.curMETaskData.isGetReward),g.default.platformType!=m.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&g.default.platformType!=m.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX||(l.default.Get(p.CurrencyType.COIN,5e4),Global.onShowTosat("\u606d\u559c\u83b7\u5f975\u4e07\u91d1\u5e01\u548c1\u4e2a\u788e\u7247")),GEvent.emit(GEventName.Task.WatchVideo)})},e.prototype.getEntryName=function(t){return"weapon_atk"==t||"shoulder_atk"==t?"\u653b\u51fb\u529b:":"waist_hp"==t||"cloth_hp"==t?"\u8840\u91cf:":"foot_def"==t||"leg_def"==t||"cloth_def"==t?"\u9632\u5fa1\u529b:":"shoulder_atk_speed"==t?"\u653b\u51fb\u901f\u5ea6:":"waist_cri"==t?"\u66b4\u51fb\u7387:":"foot_speed"==t?"\u79fb\u52a8\u901f\u5ea6:":void 0},s([k(cc.Label)],e.prototype,"equipName",void 0),s([k(cc.Sprite)],e.prototype,"equipIcon",void 0),s([k(cc.Node)],e.prototype,"attributeNode",void 0),s([k(cc.Node)],e.prototype,"GotNode",void 0),s([k(cc.Label)],e.prototype,"taskName",void 0),s([k(cc.Label)],e.prototype,"taskContent",void 0),s([k(cc.Label)],e.prototype,"videoTaskContent",void 0),s([k(cc.Label)],e.prototype,"taskProgress",void 0),s([k(cc.Label)],e.prototype,"videoTaskProgress",void 0),s([k(cc.Node)],e.prototype,"needItemNode",void 0),s([k(cc.ProgressBar)],e.prototype,"taskProgressBar",void 0),s([k(cc.Node)],e.prototype,"taskBtn",void 0),s([k(cc.Node)],e.prototype,"videoTaskBtn",void 0),s([b],e)}(c.default);a.default=S,cc._RF.pop()},{}],MagicSwordManager:[function(t,e,n){"use strict";cc._RF.push(e,"79993blcQdDhoVIQ5VXq0CQ","MagicSwordManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameCalculate"),r=i("SceneConfig"),s=i("SceneManager"),l=i("CDKRewardType"),c=i("CurrencyType"),u=i("GameError"),p=i("MagicSwordTaskType"),d=i("GameHelper"),f=i("MeTaskMgr"),h=i("MsTaskMgr"),y=i("platformConfig"),g=i("Constant"),m=i("ComTipsView"),v=i("BagManager"),_=i("FashionManager"),b=i("FashionSkinDataManger"),k=i("GameStatsManager"),S=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this.MagicSwordMgr=e,this.getMSTaskDataById(1e4,!0),y.default.platformType!==g.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&y.default.platformType!==g.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS||(t.MsInviteMaxCount=7)},Object.defineProperty(t.prototype,"isFristEnter",{get:function(){return this.MagicSwordMgr.isFristEnter},set:function(t){this.MagicSwordMgr.isFristEnter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MeUnlockVideoCount",{get:function(){return this.MagicSwordMgr.meUnlockVideoCount},set:function(t){this.MagicSwordMgr.meUnlockVideoCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MsUnlockVideoCount",{get:function(){return this.MagicSwordMgr.msUnlockVideoCount},set:function(t){this.MagicSwordMgr.msUnlockVideoCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MsLvUpVideoCount",{get:function(){return this.MagicSwordMgr.msLvUpVideoCount},set:function(t){this.MagicSwordMgr.msLvUpVideoCount=t},enumerable:!1,configurable:!0}),t.prototype.setTask=function(){f.default.instance.setMETask(),h.default.instance.setMSTask()},Object.defineProperty(t.prototype,"METaskDataList",{get:function(){return this.MagicSwordMgr.METaskDataList},set:function(t){this.MagicSwordMgr.METaskDataList=t},enumerable:!1,configurable:!0}),t.prototype.getMETaskDataById=function(t,e){return void 0===e&&(e=!1),this.MagicSwordMgr.getMETaskData(t,e)},t.prototype.getCurMETaskData=function(){var t=null;return this.METaskDataList.forEach(function(e){0==e.isGetReward&&(t=e)}),null==t&&(t=this.METaskDataList[this.METaskDataList.length-1]),t},t.prototype.getMETaskReward=function(){if(!this.MeTaskData.isFinish)return!1;if(this.MeTaskData.isGetReward=!0,this.MeTaskJsonData.type==p.MagicSwordTaskType.itemExchange)for(var t=0;t<this.MeTaskJsonData.value.length;t++)this.removeItemOrEquip(this.MeTaskJsonData.value[t],this.MeTaskJsonData.count);var e=this.MeTaskJsonData.rewardEquipId,n=v.default.Init.CreatEquipment(e);return n.succ||n.error!=u.GameError.BagFull||k.default.instance.bagEquipUnlockPage<v.default.MAX_ITEMBAGPAGE&&s.default.instance.load(r.default.Scenes.ComTipsView,void 0,function(t,n){n.getComponent(m.default).setPageType(0,function(){v.default.Init.CreatEquipment(e)})}),f.default.instance.offEvent(),!!this.MeTaskJsonData.nextId&&(this.getMETaskDataById(this.MeTaskJsonData.nextId,!0),f.default.instance.setMETask(),GEvent.emit(GEventName.MSTask.NewTask),!0)},t.prototype.videoUnlock=function(){this.MeTaskData.isFinish=!0,this.MeTaskData.isGetReward=!0;var t=this.MeTaskJsonData.rewardEquipId,e=v.default.Init.CreatEquipment(t);return e.succ||e.error!=u.GameError.BagFull||k.default.instance.bagEquipUnlockPage<v.default.MAX_ITEMBAGPAGE&&s.default.instance.load(r.default.Scenes.ComTipsView,void 0,function(e,n){n.getComponent(m.default).setPageType(0,function(){v.default.Init.CreatEquipment(t)})}),f.default.instance.offEvent(),!!this.MeTaskJsonData.nextId&&(this.getMETaskDataById(this.MeTaskJsonData.nextId,!0),f.default.instance.setMETask(),GEvent.emit(GEventName.MSTask.NewTask),!0)},Object.defineProperty(t.prototype,"MSTaskDataList",{get:function(){return this.MagicSwordMgr.MSTaskDataList},set:function(t){this.MagicSwordMgr.MSTaskDataList=t},enumerable:!1,configurable:!0}),t.prototype.getMSTaskDataById=function(t,e){return void 0===e&&(e=!1),this.MagicSwordMgr.getMSTaskData(t,e)},t.prototype.getCurMSTaskData=function(){var t=null;return this.MSTaskDataList.forEach(function(e){0==e.isGetReward&&(t=e)}),null==t&&(t=this.MSTaskDataList[this.MSTaskDataList.length-1]),t},t.prototype.getMSTaskReward=function(){if(!this.MsTaskData.isFinish)return!1;if(this.MsTaskData.isGetReward=!0,v.default.Init.AddMagicSwordLv(),this.MsTaskJsonData.type==p.MagicSwordTaskType.itemExchange)for(var t=0;t<this.MsTaskJsonData.value.length;t++)this.removeItemOrEquip(this.MsTaskJsonData.value[t],this.MsTaskJsonData.count);return this.getExtraReward(),h.default.instance.offEvent(),!!this.MsTaskJsonData.nextId&&(this.getMSTaskDataById(this.MsTaskJsonData.nextId,!0),h.default.instance.setMSTask(),GEvent.emit(GEventName.MSTask.NewTask),!0)},t.prototype.videoUnlockMs=function(){d.default.instance.getMsTaskRewardData(v.default.Init.getMagicSwordLv()+1),v.default.Init.AddMagicSwordLv(1),this.getExtraReward(),this.MsTaskData.isFinish=!0,this.MsTaskData.isGetReward=!0,h.default.instance.offEvent(),this.MsTaskJsonData.nextId&&(this.getMSTaskDataById(this.MsTaskJsonData.nextId,!0),h.default.instance.setMSTask(),GEvent.emit(GEventName.MSTask.NewTask))},t.prototype.inviteUnlock=function(){this.MsLvUpVideoCount=0;var t=d.default.instance.getMsTaskRewardData(v.default.Init.getMagicSwordLv()+1).endLv-v.default.Init.getMagicSwordLv();v.default.Init.AddMagicSwordLv(t),this.getExtraReward();for(var e=0;e<t;e++)this.MsTaskData.isFinish=!0,this.MsTaskData.isGetReward=!0,h.default.instance.offEvent(),this.MsTaskJsonData.nextId&&(this.getMSTaskDataById(this.MsTaskJsonData.nextId,!0),h.default.instance.setMSTask(),GEvent.emit(GEventName.MSTask.NewTask))},t.prototype.getExtraReward=function(){var t=v.default.Init.getMagicSwordLv(),e=d.default.instance.getMsTaskRewardData(t);if(t==e.endLv)switch(e.rewardType){case l.CDKREWAEDTYPE.FASHIONEFF:b.default.instance.getFashionSkin(1,e.rewardId);break;case l.CDKREWAEDTYPE.FASHION:_.default.Init.getFashion(9,e.rewardId);break;case l.CDKREWAEDTYPE.FASHIONWEAPON:b.default.instance.getFashionSkin(0,e.rewardId)}},t.prototype.isHaveItemOrEquip=function(t,e){return 100==t?a.default.CanPay(c.CurrencyType.COIN,e):101==t?a.default.CanPay(c.CurrencyType.COUPON,e):t<1e3?v.default.Init.FindItem(t)>=e:v.default.Init.FindEquipment(t)>=e},t.prototype.removeItemOrEquip=function(t,e){100==t?a.default.Pay(c.CurrencyType.COIN,e):101==t?a.default.Pay(c.CurrencyType.COUPON,e):t<1e3?v.default.Init.RemoveItem(t,e):v.default.Init.RemoveEquipmentById(t)},t.MsInviteMaxCount=6,t.MeVideoMaxCount=10,t}();o.default=S,cc._RF.pop()},{}],MagicSwordTaskType:[function(t,e,n){"use strict";cc._RF.push(e,"86e5fLb2wdIXLT5yDp2rE55","MagicSwordTaskType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.MagicSwordTaskType=void 0,function(t){t[t.PassMap=1]="PassMap",t[t.itemExchange=2]="itemExchange",t[t.DeathTower=3]="DeathTower",t[t.ShareGame=4]="ShareGame",t[t.LoginGame=5]="LoginGame",t[t.UsePower=6]="UsePower",t[t.WatchVideo=7]="WatchVideo",t[t.OpenPot=8]="OpenPot",t[t.PowerUpEquip=9]="PowerUpEquip",t[t.EqiupPowerUp=10]="EqiupPowerUp",t[t.AllDayTask=11]="AllDayTask"}(i.MagicSwordTaskType||(i.MagicSwordTaskType={})),cc._RF.pop()},{}],MagicSwordTaskView:[function(t,e,n){"use strict";cc._RF.push(e,"05ecduJ271KdZS3agPbiBCG","MagicSwordTaskView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.MsTaskAdapter=void 0;var l=o("ListView"),c=o("View"),u=o("GameData"),p=o("CDKRewardType"),d=o("InvitePosType"),f=o("GameHelper"),h=o("BagManager"),y=o("InviterDataManger"),g=o("MagicSwordManager"),m=o("Admanager"),v=o("platformConfig"),_=o("Constant"),b=o("Utils"),k=o("MSTaskItem"),S=cc._decorator,w=S.ccclass,T=S.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listView=null,e.curMSLv=null,e.inviteDesLab=null,e.inviteCountLab=null,e.inviteDetail=null,e.rewardLv=null,e.rewardName=null,e.rewardIcon=null,e.inviteBtn=null,e.MsAttributeNode=null,e.AttAtkLab=null,e.AttAtkRangeLab=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.RefreshView(),this.MsAttributeNode.active=!1,v.default.platformType===_.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||v.default.platformType===_.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?(this.node.Child("InviteBg").active=!1,this.node.Child("ms_title_ad").active=!0,this.node.Child("ms_title").active=!1):v.default.platformType===_.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?(this.node.Child("InviteBg").active=!0,this.node.Child("ms_title_ad").active=!0,this.node.Child("ms_title").active=!1):(this.node.Child("InviteBg").active=!0,this.node.Child("ms_title_ad").active=!1,this.node.Child("ms_title").active=!0)},e.prototype.onEnable=function(){GEvent.on(GEventName.MSTask.NewTask,this.RefreshView,this)},e.prototype.RefreshView=function(){var t=Object.values(u.default.MSTaskData()),e=new D;if(e.setDataSet(t),this.listView.setAdapter(e),this.listView.scrollToPage(h.default.Init.getMagicSwordLv(),1,0),this.curMSLv.string="LV"+h.default.Init.getMagicSwordLv(),this.curNeedUnlockLv=h.default.Init.getMagicSwordLv()+1,this.rewardData=f.default.instance.getMsTaskRewardData(this.curNeedUnlockLv),v.default.platformType==_.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?this.inviteCount=g.default.instance.MsLvUpVideoCount:this.inviteCount=y.default.instance.getBackInviterIdCount(d.MagicSword.MagicSwordlvUp),this.rewardData){this.needInviteCount=this.rewardData.totalInviteCount;for(var n=[],i=this.rewardData.startLv;i<this.rewardData.endLv;i++)n.push(t[i]);for(i=0;i<n.length;i++)n[i].id-9999<=h.default.Init.getMagicSwordLv()&&(this.needInviteCount-=n[i].inviteCount);switch(v.default.platformType==_.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?(this.inviteDesLab.string="\u89c2\u770b"+2*this.needInviteCount+"\u6b21\u89c6\u9891\u89e3\u5c01\u9b54\u5251\u7b49\u7ea7Lv."+this.rewardData.endLv,this.inviteCountLab.string="("+this.inviteCount+"/"+2*this.needInviteCount+")",this.inviteBtn.getChildByName("comm_ad").active=!0,this.inviteBtn.getChildByName("label").getComponent(cc.Label).string="\u89c6\u9891",this.inviteDetail.node.active=!1):(this.inviteDesLab.string="\u9080\u8bf7"+this.needInviteCount+"\u4eba\u89e3\u5c01\u9b54\u5251\u7b49\u7ea7Lv."+this.rewardData.endLv,this.inviteCountLab.string="("+this.inviteCount+"/"+this.needInviteCount+")",this.inviteBtn.getChildByName("comm_ad").active=!1,this.inviteBtn.getChildByName("label").getComponent(cc.Label).string=this.inviteCount>=this.needInviteCount?"\u89e3\u9501":"\u9080\u8bf7",this.inviteDetail.node.active=!0),this.rewardLv.string="Lv."+this.rewardData.endLv,this.rewardName.string=this.rewardData.rewardName,b.default.loadSpfFromRes(this.rewardData.rewardIcon,this.rewardIcon),this.rewardIcon.node.scale=1,this.rewardIcon.node.angle=0,this.rewardData.rewardType){case p.CDKREWAEDTYPE.FASHIONEFF:this.rewardIcon.node.scale=.5;break;case p.CDKREWAEDTYPE.FASHION:this.rewardIcon.node.scale=1;break;case p.CDKREWAEDTYPE.FASHIONWEAPON:this.rewardIcon.node.scale=.35,this.rewardIcon.node.angle=-45}}else this.inviteDesLab.node.active=!1,this.inviteCountLab.node.active=!1,this.inviteBtn.active=!1,this.inviteDetail.node.active=!1,this.rewardLv.node.active=!1,this.rewardName.node.active=!1,this.rewardIcon.node.active=!1},e.prototype.onBtnInvite=function(){var t=this;if(v.default.platformType==_.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO)m.default.instance.playRewardVideo(function(){g.default.instance.MsLvUpVideoCount++,t.inviteCount=g.default.instance.MsLvUpVideoCount,t.inviteCount>=2*t.needInviteCount&&g.default.instance.inviteUnlock(),GEvent.emit(GEventName.Task.WatchVideo),t.RefreshView()});else{if(this.inviteCount>=this.needInviteCount){var e=y.default.instance.getBackInviterOpendIDs(d.MagicSword.MagicSwordlvUp,this.needInviteCount);e.length==this.needInviteCount&&(y.default.instance.reportedGETData(d.MagicSword.MagicSwordlvUp,e),g.default.instance.inviteUnlock())}else y.default.instance.MsShareAppMessageFromUrl(d.MagicSword.MagicSwordlvUp);this.RefreshView()}},e.prototype.onBtnShowDetail=function(){this.MsAttributeNode.active=!0;var t=u.default.EquipData()[1160408];this.AttAtkLab.string=t.MagicSwordAtk[h.default.Init.getMagicSwordLv()],this.AttAtkRangeLab.string="("+t.entry[0].min_value+"-"+t.entry[0].max_value+")"},e.prototype.onBtnHideDetail=function(){this.MsAttributeNode.active=!1},s([T(l.default)],e.prototype,"listView",void 0),s([T(cc.Label)],e.prototype,"curMSLv",void 0),s([T(cc.Label)],e.prototype,"inviteDesLab",void 0),s([T(cc.Label)],e.prototype,"inviteCountLab",void 0),s([T(cc.Label)],e.prototype,"inviteDetail",void 0),s([T(cc.Label)],e.prototype,"rewardLv",void 0),s([T(cc.Label)],e.prototype,"rewardName",void 0),s([T(cc.Sprite)],e.prototype,"rewardIcon",void 0),s([T(cc.Node)],e.prototype,"inviteBtn",void 0),s([T(cc.Node)],e.prototype,"MsAttributeNode",void 0),s([T(cc.Label)],e.prototype,"AttAtkLab",void 0),s([T(cc.Label)],e.prototype,"AttAtkRangeLab",void 0),s([w],e)}(c.default);a.default=C;var D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.updateView=function(t,e,n){t.getComponent(k.default).onInit(e+1,n)},e}(l.AbsAdapter);a.MsTaskAdapter=D,cc._RF.pop()},{}],MagicSwordView:[function(t,e,n){"use strict";cc._RF.push(e,"7bb404T06VKxKHGunl19+35","MagicSwordView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=o("GameData"),d=o("GameError"),f=o("InvitePosType"),h=o("BagManager"),y=o("GameStatsManager"),g=o("InviterDataManger"),m=o("MagicSwordManager"),v=o("MeTaskMgr"),_=o("MsTaskMgr"),b=o("Admanager"),k=o("platformConfig"),S=o("Constant"),w=o("Utils"),T=o("ComRewardView"),C=o("ComTipsView"),D=cc._decorator,E=D.ccclass,I=D.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.swordNode=null,e.magicSwordBtn=null,e.btn_invite=null,e.inviteBg=null,e.inviteDes=null,e.inviteCount=null,e.equipLockNode=null,e.equipUnlockNode=null,e.magicEquipBtn=null,e.magicEquipLabel=null,e.videoCount=null,e.videoDes=null,e.unLockProgress=null,e.unlockProgress=0,e.msInviteCount=0,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.RefreshMagicSword(),this.RefreshMagicEquip(),this.changeMETaskProgress(),this.setAnimation(),GEvent.on(GEventName.MSTask.NewTask,this.changeMETaskProgress,this)},e.prototype.RefreshMagicSword=function(){if(k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?this.msInviteCount=m.default.instance.MsUnlockVideoCount:k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?this.msInviteCount=GUserData.GameStatistics.enterFromDesktop:this.msInviteCount=g.default.instance.getInviterIdCount(f.MagicSword.MagicSwordUnlock),y.default.instance.isUnlockMJTask&&(this.msInviteCount=m.default.MsInviteMaxCount),this.msInviteCount>=m.default.MsInviteMaxCount){if(this.btn_invite.active=!1,this.inviteBg.active=!1,this.magicSwordBtn.getComponent(cc.Button).interactable=!0,!h.default.Init.isHaveMagicSword()){var t=h.default.Init.CreatEquipment(1160408);t.succ||t.error!=d.GameError.BagFull||y.default.instance.bagEquipUnlockPage<h.default.MAX_ITEMBAGPAGE&&c.default.instance.load(l.default.Scenes.ComTipsView,void 0,function(t,e){e.getComponent(C.default).setPageType(0,function(){h.default.Init.CreatEquipment(1160408)})}),m.default.instance.getMSTaskDataById(1e4,!0),_.default.instance.setMSTask()}}else this.btn_invite.active=!0,this.inviteBg.active=!0,this.magicSwordBtn.getComponent(cc.Button).interactable=!1,k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?(this.btn_invite.getChildByName("comm_ad").active=!0,this.btn_invite.getChildByName("label").getComponent(cc.Label).string="\u83b7 \u53d6",this.inviteDes.string="\u89c2\u770b6\u6b21\u89c6\u9891\u83b7\u5f97\u9b54\u5251",this.inviteCount.string="("+this.msInviteCount+"/"+m.default.MsInviteMaxCount+")"):k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?(this.btn_invite.getChildByName("comm_ad").active=!1,this.btn_invite.getChildByName("label").getComponent(cc.Label).string="\u6dfb \u52a0",this.inviteDes.string="\u6dfb\u52a0\u5230\u684c\u9762\u5e76\u8fdb\u5165\u6e38\u620f7\u5929",this.inviteCount.string="("+this.msInviteCount+"/"+m.default.MsInviteMaxCount+")"):k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?(this.btn_invite.getChildByName("comm_ad").active=!0,this.btn_invite.getChildByName("label").getComponent(cc.Label).string="\u7b7e \u5230",this.btn_invite.getComponent(cc.Button).interactable=!GUserData.GameStatistics.todayFromDesktop,this.btn_invite.getChildByName("label").color=GUserData.GameStatistics.todayFromDesktop?cc.color(105,105,105):cc.color(131,81,52),this.btn_invite.getChildByName("TX_anniu").active=!GUserData.GameStatistics.todayFromDesktop,this.inviteDes.string="\u7b7e\u5230\u4e03\u5929\u83b7\u5f97\u9b54\u5251",this.inviteCount.string="("+this.msInviteCount+"/"+m.default.MsInviteMaxCount+")"):(this.btn_invite.getChildByName("comm_ad").active=!1,this.btn_invite.getChildByName("label").getComponent(cc.Label).string="\u9080 \u8bf7",this.inviteDes.string="\u9080\u8bf76\u540d\u65b0\u73a9\u5bb6\u83b7\u5f97\u9b54\u5251",this.inviteCount.string="("+this.msInviteCount+"/"+m.default.MsInviteMaxCount+")")},e.prototype.RefreshMagicEquip=function(){m.default.instance.MeUnlockVideoCount>=m.default.MeVideoMaxCount?(this.equipLockNode.active=!1,this.equipUnlockNode.active=!0,this.unLockProgress.progress=this.unlockProgress):(this.equipLockNode.active=!0,this.equipUnlockNode.active=!1,this.videoCount.string="("+m.default.instance.MeUnlockVideoCount+"/"+m.default.MeVideoMaxCount+")"),k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX?this.videoDes.string="10\u4e2a\u788e\u7247\u89e3\u9501\u529f\u80fd":this.videoDes.string="\u89c2\u770b\u89c6\u9891\u89e3\u9501\u529f\u80fd"},e.prototype.changeMETaskProgress=function(){if(m.default.instance.MeTaskData){var t=m.default.instance.MeTaskJsonData.rewardEquipId;w.default.loadSpfFromRes("textures/magicEquip/"+t,this.magicEquipBtn);var e=p.default.EquipData()[t].name.split("-");e=e[e.length-1],this.magicEquipLabel.string=e,this.unlockProgress=(m.default.instance.MeTaskData.id-19999)/5,this.unLockProgress.progress=this.unlockProgress}},e.prototype.onBtnInvite=function(){var t=this;k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?b.default.instance.playRewardVideo(function(){m.default.instance.MsUnlockVideoCount++,t.msInviteCount=m.default.instance.MsUnlockVideoCount,t.msInviteCount>=m.default.MsInviteMaxCount?b.default.instance.installShortcut(function(){t.RefreshMagicSword()}):t.inviteCount.string="("+t.msInviteCount+"/"+m.default.MsInviteMaxCount+")",GEvent.emit(GEventName.Task.WatchVideo)}):k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?this.sceneMgr().load(l.default.Scenes.AddDesktopAniView):k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?0==GUserData.GameStatistics.todayFromDesktop?b.default.instance.playRewardVideo(function(){GUserData.GameStatistics.enterFromDesktop++,GUserData.GameStatistics.todayFromDesktop=!0,t.RefreshMagicSword(),GEvent.emit(GEventName.Task.WatchVideo)}):Global.onShowTosat("\u4eca\u65e5\u5df2\u7b7e\u5230"):g.default.instance.MsShareAppMessageFromUrl(f.MagicSword.MagicSwordUnlock)},e.prototype.onBtnVideo=function(){var t=this;if(k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||k.default.platformType==S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX){var e=function(e){e&&(m.default.instance.MeUnlockVideoCount++,t.RefreshMagicEquip(),m.default.instance.MeUnlockVideoCount>=m.default.MeVideoMaxCount&&(m.default.instance.getMETaskDataById(2e4,!0),v.default.instance.setMETask()),GEvent.emit(GEventName.Task.WatchVideo))},n=[{id:100,value:5e4}];c.default.instance.load(l.default.Scenes.ComRewardView,void 0,function(t,i){i.getComponent(T.default).showFragment({_reward:n,call:e})})}else b.default.instance.playRewardVideo(function(){m.default.instance.MeUnlockVideoCount++,t.RefreshMagicEquip(),m.default.instance.MeUnlockVideoCount>=m.default.MeVideoMaxCount&&(m.default.instance.getMETaskDataById(2e4,!0),v.default.instance.setMETask()),GEvent.emit(GEventName.Task.WatchVideo)})},e.prototype.onBtnMagicSword=function(){g.default.instance.pullBackData(),this.sceneMgr().load(l.default.Scenes.MagicSwordTaskView)},e.prototype.onBtnMagicEquip=function(){this.sceneMgr().load(l.default.Scenes.MagicEquipTaskView)},e.prototype.onBtnShowAni=function(){this.sceneMgr().load(l.default.Scenes.EnterMagicSwordAnimView)},e.prototype.setAnimation=function(){cc.tween(this.magicSwordBtn).repeatForever(cc.tween(this.magicSwordBtn).by(.5,{scale:.05}).by(.7,{scale:-.05})).start(),cc.tween(this.magicEquipBtn).repeatForever(cc.tween(this.magicEquipBtn).by(.5,{scale:.05}).by(.7,{scale:-.05})).start()},s([I(cc.Node)],e.prototype,"swordNode",void 0),s([I(cc.Node)],e.prototype,"magicSwordBtn",void 0),s([I(cc.Node)],e.prototype,"btn_invite",void 0),s([I(cc.Node)],e.prototype,"inviteBg",void 0),s([I(cc.Label)],e.prototype,"inviteDes",void 0),s([I(cc.Label)],e.prototype,"inviteCount",void 0),s([I(cc.Node)],e.prototype,"equipLockNode",void 0),s([I(cc.Node)],e.prototype,"equipUnlockNode",void 0),s([I(cc.Node)],e.prototype,"magicEquipBtn",void 0),s([I(cc.Label)],e.prototype,"magicEquipLabel",void 0),s([I(cc.Label)],e.prototype,"videoCount",void 0),s([I(cc.Label)],e.prototype,"videoDes",void 0),s([I(cc.ProgressBar)],e.prototype,"unLockProgress",void 0),s([E],e)}(u.default);a.default=P,cc._RF.pop()},{}],MailDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"8b8f2EjVYhBV5zmYp4j3uYT","MailDataManger");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=i("CDKRewardType"),l=i("api"),c=i("BagManager"),u=i("CommonDataMgr"),p=i("FashionManager"),d=i("FashionSkinDataManger"),f=i("GameBusinessDataManager"),h=i("GameStatsManager"),y=function(){function t(){this.MailSerData=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.getMailSerData()},t.prototype.getMailSerData=function(){var t=this;return new Promise(function(e){return a(t,void 0,void 0,function(){var t,n;return r(this,function(i){switch(i.label){case 0:return[4,Promise.resolve()];case 1:if(null!=(t=window.pm)&&200==t.data.code){for(this.MailSerData=t.data.messages,n=0;n<this.MailSerData.length;n++)this.MailSerData[n].isGet||(this.MailSerData[n].isGet=!1);e(!0)}else e(!1);return[2]}})})})},t.prototype.getMailList=function(){return a(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,l.default.getMailList()];case 1:return[2,t.sent()]}})})},t.prototype.reportMailUse=function(t){return a(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,l.default.reportMailUse({pm_id:t})];case 1:return[2,e.sent()]}})})},t.prototype.getReward=function(t){switch(t.type){case s.CDKREWAEDTYPE.GOlD:u.CommonDataMgr.instance.Gold+=t.count;break;case s.CDKREWAEDTYPE.DIAMOND:u.CommonDataMgr.instance.Diamond+=t.count;break;case s.CDKREWAEDTYPE.POWER:u.CommonDataMgr.instance.Extrapoewr+=t.count;break;case s.CDKREWAEDTYPE.FASHION:p.default.Init.getFashion(t.count,0),p.default.Init.getFashion(t.count,1),p.default.Init.getFashion(t.count,2);break;case s.CDKREWAEDTYPE.EQUIP:c.default.Init.CreatEquipment(t.id);break;case s.CDKREWAEDTYPE.FASHIONWEAPON:d.default.instance.getFashionSkin(0,t.id);break;case s.CDKREWAEDTYPE.FASHIONEFF:d.default.instance.getFashionSkin(1,t.id);break;case s.CDKREWAEDTYPE.ITEM:c.default.Init.AddItems(t.id,t.count);break;case s.CDKREWAEDTYPE.MissAD:f.default.instance.setIsExemptAD(1);break;case s.CDKREWAEDTYPE.UnlockMJTask:h.default.instance.isUnlockMJTask=!0}},t}();o.default=y,cc._RF.pop()},{}],MailItem:[function(t,e,n){"use strict";cc._RF.push(e,"552e5F3XDpC+6B5Iu/djxjF","MailItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=cc._decorator,u=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selcetSp=null,e.unSelcetSp=null,e.titleLab=null,e.sender=null,e.senderLab=null,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.setItem=function(t,e,n,i){this.titleLab.string=t,this.senderLab.string=e,this.showIsChoose(n,i)},e.prototype.showIsChoose=function(t,e){this.titleLab.node.color=t?cc.color(146,93,50):cc.color(198,169,152),this.sender.node.color=t?cc.color(146,93,50):cc.color(198,169,152),this.senderLab.node.color=t?cc.color(146,93,50):cc.color(198,169,152),this.selcetSp.active=t,this.selcetSp.getChildByName("mail_use_select").active=e,this.selcetSp.getChildByName("mail_unuse_select").active=!e,this.unSelcetSp.active=!t,this.unSelcetSp.getChildByName("mail_use_unselect").active=e,this.unSelcetSp.getChildByName("mail_unuse_unselect").active=!e},s([p(cc.Node)],e.prototype,"selcetSp",void 0),s([p(cc.Node)],e.prototype,"unSelcetSp",void 0),s([p(cc.Label)],e.prototype,"titleLab",void 0),s([p(cc.Label)],e.prototype,"sender",void 0),s([p(cc.Label)],e.prototype,"senderLab",void 0),s([u],e)}(l.default);a.default=d,cc._RF.pop()},{}],MailView:[function(t,e,n){"use strict";cc._RF.push(e,"12c27r2jVdLKZOEEk2KGBUd","MailView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameData"),u=o("CDKRewardType"),p=o("FashionManager"),d=o("FashionSkinDataManger"),f=o("MailDataManger"),h=o("Admanager"),y=o("Utils"),g=o("MailItem"),m=cc._decorator,v=m.ccclass,_=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mailItem=null,e.mailScrollview=null,e.titleInfo=null,e.mailInfo=null,e.rewardScrollView=null,e.rewardItem=null,e.confirmBtn=null,e.mailData=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.mailIndex=0,this.mailData=f.default.instance.MailSerData,this.mailData&&this.mailData.length>0?this.setMailScrollview():(this.showRewardContent(!1),this.titleInfo.string="\u6682\u65e0\u90ae\u4ef6")},e.prototype.onUIEnable=function(){this.commercialize()},e.prototype.onUIDisable=function(){this.commercializeHide()},e.prototype.commercialize=function(){h.default.instance.showBanner()},e.prototype.commercializeHide=function(){h.default.instance.hideBanner()},e.prototype.setMailScrollview=function(){this.mailScrollview.content.removeAllChildren();for(var t=0;t<this.mailData.length;t++){var e=cc.instantiate(this.mailItem);e.getComponent(g.default).setItem(this.mailData[t].content,this.mailData[t].sender,!1,this.mailData[t].isGet);var n=new cc.Component.EventHandler;n.target=this.node,n.component="MailView",n.handler="onBtnChooseItem",n.customEventData=""+t,e.getComponent(cc.Button).clickEvents.push(n),e.parent=this.mailScrollview.content}this.mailScrollview.content.children[this.mailIndex].getComponent(g.default).showIsChoose(!0,this.mailData[this.mailIndex].isGet),this.setReward(this.mailData[this.mailIndex])},e.prototype.setReward=function(t){this.showConfirmBtn(!this.mailData[this.mailIndex].isGet),this.titleInfo.string=t.content,this.mailInfo.string=t.content,this.showRewardContent(!0),this.rewardScrollView.content.removeAllChildren();var e=t.attachment?t.attachment.rewardlist:null;if(e)for(var n=0;n<e.length;n++){var i=cc.instantiate(this.rewardItem);i.active=!0;var o=this.getRewardItemData(e[n]),a=o.iconUrl,r=o.name;if(r)switch(y.default.loadSpfFromRes(a,i.getChildByName("icon")),i.getChildByName("count").getComponent(cc.Label).string="x"+e[n].count,i.getChildByName("name").getComponent(cc.Label).string=r,e[n].type){case u.CDKREWAEDTYPE.FASHION:i.getChildByName("iconBg").active=!1,i.getChildByName("count").getComponent(cc.Label).string="x1";break;case u.CDKREWAEDTYPE.FASHIONWEAPON:i.getChildByName("icon").scale=.3,i.getChildByName("icon").angle=-45;break;case u.CDKREWAEDTYPE.FASHIONEFF:i.getChildByName("icon").scale=.45}i.parent=this.rewardScrollView.content}else this.showRewardContent(!1)},e.prototype.onBtnChooseItem=function(t,e){this.mailScrollview.content.children[this.mailIndex].getComponent(g.default).showIsChoose(!1,this.mailData[this.mailIndex].isGet),this.mailIndex=parseInt(e),this.mailScrollview.content.children[this.mailIndex].getComponent(g.default).showIsChoose(!0,this.mailData[this.mailIndex].isGet),this.setReward(this.mailData[this.mailIndex])},e.prototype.onBtnConfirm=function(){var t=this,e=this.mailData[this.mailIndex],n=e.attachment?e.attachment.rewardlist:null;n&&f.default.instance.reportMailUse(this.mailData[this.mailIndex].id).then(function(e){if(200==e.data.code){for(var i=0;i<n.length;i++)f.default.instance.getReward(n[i]);t.mailData[t.mailIndex].isGet=!0,t.showConfirmBtn(!t.mailData[t.mailIndex].isGet),t.mailScrollview.content.children[t.mailIndex].getComponent(g.default).showIsChoose(!0,t.mailData[t.mailIndex].isGet),GEvent.emit(GEventName.checkHaveMail),Global.onShowTosat("\u5956\u52b1\u9886\u53d6\u6210\u529f")}else Global.onShowTosat("\u5956\u52b1\u9886\u53d6\u5931\u8d25")}).catch(function(){})},e.prototype.showRewardContent=function(t){this.rewardScrollView.node.active=t,this.confirmBtn.node.active=t},e.prototype.showConfirmBtn=function(t){this.confirmBtn.interactable=t,this.confirmBtn.node.getChildByName("label").color=t?cc.color(131,81,52):cc.Color.GRAY,this.confirmBtn.node.getChildByName("TX_anniu").active=t},e.prototype.getRewardItemData=function(t){var e,n,i;switch(t.type){case u.CDKREWAEDTYPE.GOlD:n=(e=c.default.CurrenyData()[100]).icon,i=e.name;break;case u.CDKREWAEDTYPE.DIAMOND:n=(e=c.default.CurrenyData()[101]).icon,i=e.name;break;case u.CDKREWAEDTYPE.POWER:n=(e=c.default.ItemData()[103]).icon,i=e.name;break;case u.CDKREWAEDTYPE.ITEM:n=(e=c.default.ItemData()[t.id]).icon,i=e.name;break;case u.CDKREWAEDTYPE.EQUIP:n=(e=c.default.EquipData()[t.id]).icon,i=e.name;break;case u.CDKREWAEDTYPE.FASHION:n=(e=p.default.Init.getFashionSetById(t.count)).equip[0].icon,i=e.name;break;case u.CDKREWAEDTYPE.FASHIONWEAPON:n=(e=d.default.instance.getJsonDataById(0,t.id)).icon,i=e.name;break;case u.CDKREWAEDTYPE.FASHIONEFF:n=(e=d.default.instance.getJsonDataById(1,t.id)).icon,i=e.name;break;case u.CDKREWAEDTYPE.MissAD:n="textures/other/icon_noAD",i="\u514d\u5e7f\u544a\u4e00\u5929";break;case u.CDKREWAEDTYPE.UnlockMJTask:n="textures/equip/1170408",i="\u89e3\u9501\u9b54\u5251\u4efb\u52a1"}return{iconUrl:n,name:i}},s([_(cc.Prefab)],e.prototype,"mailItem",void 0),s([_(cc.ScrollView)],e.prototype,"mailScrollview",void 0),s([_(cc.Label)],e.prototype,"titleInfo",void 0),s([_(cc.Label)],e.prototype,"mailInfo",void 0),s([_(cc.ScrollView)],e.prototype,"rewardScrollView",void 0),s([_(cc.Node)],e.prototype,"rewardItem",void 0),s([_(cc.Button)],e.prototype,"confirmBtn",void 0),s([v],e)}(l.default);a.default=b,cc._RF.pop()},{}],MainCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"08584PaQj1GhauS8g1zXXUN","MainCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onOpenPower=function(){},e}(o("Controller").default);a.default=s,cc._RF.pop()},{}],MainMode:[function(t,e,n){"use strict";cc._RF.push(e,"66950/xeQBKVoJ5D8LLZy79","MainMode");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],MainScene:[function(t,e,n){"use strict";cc._RF.push(e,"e82a8+KrWtM0YPro9nXNPRy","MainScene");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("View"),u=o("GameHelper"),p=o("RoleCfgManager"),d=o("MainCtrl"),f=o("MainMode"),h=o("BagManager"),y=o("SkillManager"),g=o("SigninManager"),m=o("TaskManager"),v=o("GameCfgData"),_=o("GameCalculate"),b=o("Constant"),k=o("Admanager"),S=o("GuideLocalManger"),w=o("GameStatsManager"),T=o("VIPManager"),C=o("InviterDataManger"),D=o("PoolManager"),E=o("ServerCommonCfgMgr"),I=o("MailDataManger"),P=o("SceneManager"),M=o("DeathTowerType"),L=o("DeathTowerView"),A=o("platformConfig"),R=o("MagicSwordManager"),O=o("CurrencyType"),x=o("ActivityCenterView"),N=o("ActivityCenterType"),B=o("configStore"),G=o("ShiwanGiftDataManager"),F=o("KfGiftDataManager"),j=cc._decorator,V=j.ccclass,H=j.property,U=function(t){function e(){var e=t.call(this)||this;return e.btmBtnListNode=null,e.bubbleAniList=[],e.ActorSk=null,e.taskHeroNode=null,e.taskHero=null,e.bubbleFirstStr=["\u9700\u8981\u5e2e\u52a9\u5417\uff1f","\u4e0e\u526f\u672c\u76f8\u5173\u7684\u90fd\u5728\u8fd9\u91cc","\u54df\u4f60\u8fd8\u633a\u5e05\u6c14\u7684\u561b","\u8046\u542c\uff0c\u5251\u7684\u58f0\u97f3"],e.bubbleSecondStr=["\u4f60\u8fd8\u8bb0\u5f97\u6211\u5417?","\u4e0e\u526f\u672c\u76f8\u5173\u7684\u90fd\u5728\u8fd9\u91cc","\u60f3\u8981\u53d8\u5f97\u66f4\u5f3a\u5417\uff1f","\u53ea\u6709\u8d85\u8d8a\u6781\u9650\u624d\u6709\u673a\u4f1a\u6500\u81f3\u9876\u5cf0"],e.bubbleTaskStr=["\u8fd9\u4e2a\u4efb\u52a1\u6709\u70b9\u96be\u554a~","\u597d\u60f3\u8981\u90a3\u4ef6\u65f6\u88c5\u554a\uff01","\u6211\u5df2\u7ecf\u6ee1\u7ea7\u4e86\u53ef\u4ee5\u53bb\u6253\u6b7b\u4ea1\u4e4b\u5854\u4e86\uff01","\u5347\u7ea7\u6280\u80fd\u5c31\u53ef\u4ee5\u4e0d\u7528\u770b\u6280\u80fd\u5e7f\u544a\u4e86","\u597d\u60f3\u8981\u706d-\u521b\u4e16\u795e\u8bdd\u6b66\u5668\u636e\u8bf4\u662f\u6bd5\u4e1a\u6b66\u5668\u6389\u7387\u5f88\u4f4e","\u6b7b\u4ea1\u4e4b\u5854\u6211\u5df2\u7ecf\u722c\u5230100\u5c42\u4e86","\u9b54\u5251\u6b66\u5668\u5feb\u8981\u51fa\u4e86\u5728\u7b49\u7b49"],e}return r(e,t),e.prototype.onInit=function(){this.setModel(new f.default),this.setController(new d.default)},e.prototype.onUILoad=function(){this.btn_skill=this.getButton("UILayer/buttonLayer/mainBtnList/btn_skill"),this.btn_sign=this.getButton("UILayer/buttonLayer/bottomBtnList/concent/btn_sign"),this.btn_fuli=this.getButton("UILayer/buttonLayer/bottomBtnList/concent/btn_fuli"),this.btn_XSGift=this.getButton("UILayer/buttonLayer/mainBtnList/btn_XSGift"),this.btn_task=this.getButton("UILayer/buttonLayer/mainBtnList/btn_task"),this.btn_shiwan=this.getButton("UILayer/buttonLayer/mainBtnList/btn_shiwan"),this.btn_ApologyLetter=this.getNode("UILayer/buttonLayer/mainBtnList/btn_ApologyLetter"),this.btn_tv=this.getButton("UILayer/buttonLayer/mainBtnList/btn_tv"),this.btn_mail=this.getButton("UILayer/buttonLayer/mainBtnList/btn_mail"),this.taskHeroNode=this.getNode("UILayer/buttonLayer/mainBtnList/btn_task/heroNode"),this.taskHero=this.getSpineSkeleton("UILayer/buttonLayer/mainBtnList/btn_task/heroNode/hero"),this.btn_jlz=this.getButton("UILayer/buttonLayer/mainBtnList/btn_jlz"),this.btn_kefu=this.getButton("UILayer/buttonLayer/bottomBtnList/concent/btn_kefu"),this.setbtn_tvrAni(),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_adddesktop",this.onSHowAdddesktopAni,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_shop",this.onBtnShop,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_kefu",this.onBtnKefu,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_CustomAd",this.onBtnCustomAd,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_setting",this.onBtnSetting,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_fuli",this.onBtnFuli,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_fashion",this.onBtnFashion,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_rank",this.onBtnRank,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_sign",this.onBtnSign,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_sword",this.onBtnSword,this),this.onClick("UILayer/buttonLayer/mainBtnList/btn_XSGift",this.onBtnXSGift,this),this.onClick("UILayer/buttonLayer/mainBtnList/btn_notice",this.onBtnNotice,this),this.onClick("UILayer/buttonLayer/mainBtnList/btn_tv",this.onBtnTV,this),this.onClick("UILayer/buttonLayer/mainBtnList/btn_mail",this.onBtnMail,this),this.onClick("UILayer/buttonLayer/bottomBtnList/concent/btn_follow",this.onBtnFollow,this),GAudio.playBgm(v.default.MianBgAudio,void 0,void 0,!0),this.initBtnAnim(),this.setBubbleAni(),this.setJlzBtnAni(),this.loadTopPart(),D.default.instance.initSKill(),this.onSetPlatformCfg(),this.initGuide(),this.checkAutoPopView(),this.init16Guide()},e.prototype.onUIStart=function(){this.setTaskBubbleAni(),this.setTaskAni()},e.prototype.onSetPlatformCfg=function(){if(A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX||A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?this.getNode("UILayer/buttonLayer/mainBtnList/btn_tv").active=!0:this.getNode("UILayer/buttonLayer/mainBtnList/btn_tv").active=!1,A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT){this.getNode("UILayer/buttonLayer/bottomBtnList/concent/btn_follow").active=!0,this.getNode("UILayer/buttonLayer/bottomBtnList/concent/btn_CustomAd").active=!1;var t=this.getNode("UILayer/buttonLayer/kefuNode");t.getComponent(cc.Widget).updateAlignment(),k.default.instance.createContactBtn(t);var e=this.getNode("UILayer/buttonLayer/moreGameNode");e.getComponent(cc.Widget).updateAlignment(),k.default.instance.createMoreGameBtn(e),this.getNode("UILayer/buttonLayer/bottomBtnList/concent/btn_kefu").active=!1,this.getNode("UILayer/buttonLayer/bottomBtnList/concent/btn_adddesktop").active=!0,this.btn_shiwan.node.active=!1,this.showAddDesktopSp();var n=k.default.instance.getLaunchOptionsSync();console.log("LaunchOptionsSync = ",n),"91020"!=n.scene&&"011020"!=n.scene&&"021020"!=n.scene&&"061020"!=n.scene||w.default.instance.isDailyLaunchDesktop||(_.default.Get(O.CurrencyType.COUPON,1e3),h.default.Init.AddItems(130,1),Global.onShowTosat("\u606d\u559c\u83b7\u5f971\u5343\u94bb\u77f3\u548c+7\u5f3a\u5316\u5238",2),w.default.instance.isDailyLaunchDesktop=!0,w.default.instance.isFirstLaunchDesktop||(h.default.Init.AddItems(136,2),Global.onShowTosat("\u606d\u559c\u83b7\u5f97\u767e\u5206\u767e+1\u5238\u4e24\u5f20",2),w.default.instance.isFirstLaunchDesktop=!0))}else this.getNode("UILayer/buttonLayer/bottomBtnList/concent/btn_follow").active=!1,this.getNode("UILayer/buttonLayer/bottomBtnList/concent/btn_CustomAd").active=!0;A.default.platformType!=b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX&&A.default.platformType!=b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC&&A.default.platformType!=b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&(this.btn_jlz.node.active=!1,this.btn_shiwan.node.active=!1),A.default.platformType==b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ&&(this.btn_jlz.node.active=!0,this.btn_shiwan.node.active=!1),A.default.platformType!=b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&(this.getNode("UILayer/buttonLayer/mainBtnList/btn_privacy").active=!1)},e.prototype.checkAutoPopView=function(){var t=this;if(!S.default.instance.GuideOpen){var e=function(){g.default.instance.IsSign&&!S.default.instance.GuideOpen?t.sceneMgr().load(l.default.Scenes.SignInView,void 0,function(e,n){n.getComponent(c.default).addCallback(function(){t.sceneMgr().load(l.default.Scenes.MsActivityView,void 0,function(e,n){n.getComponent(c.default).addCallback(function(){t.sceneMgr().load(l.default.Scenes.ActivityCenterView,void 0,function(e,n){n.getComponent(x.default).setViewByIndex(N.ActivityCenterType.GoldActivity),n.getComponent(c.default).addCallback(function(){A.default.platformType==b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&(k.default.instance.isAddShortcut()||E.default.ArraignedMode||t.sceneMgr().load(l.default.Scenes.AddShortcutView))})})})})})}):t.sceneMgr().load(l.default.Scenes.MsActivityView,void 0,function(e,n){n.getComponent(c.default).addCallback(function(){t.sceneMgr().load(l.default.Scenes.ActivityCenterView,void 0,function(e,n){n.getComponent(x.default).setViewByIndex(N.ActivityCenterType.GoldActivity),n.getComponent(c.default).addCallback(function(){A.default.platformType==b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&(k.default.instance.isAddShortcut()||E.default.ArraignedMode||t.sceneMgr().load(l.default.Scenes.AddShortcutView))})})})})};E.default.OpenNotice&&!v.default.popNoticeView?(v.default.popNoticeView=!0,this.sceneMgr().load(l.default.Scenes.NoticeView,void 0,function(t,n){n.getComponent(c.default).addCallback(function(){e()})})):v.default.popNoticeView||e()}},e.prototype.commercialize=function(){v.default.onpassLevel&&!S.default.instance.GuideOpen&&k.default.instance.showInterstitialAd()},e.prototype.commercializeHide=function(){},e.prototype.initGuide=function(){S.default.instance.checkMainSceneGuide()},e.prototype.loadTopPart=function(){this.sceneMgr().isLoaded(l.default.Scenes.MainTopView)?this.sceneMgr().show(l.default.Scenes.MainTopView):this.sceneMgr().load(l.default.Scenes.MainTopView)},e.prototype.updateActor=function(){u.default.instance.updateActor(this.ActorSk,3)},e.prototype.onUIEnable=function(){GEvent.on(GEventName.updateActor,this.updateActor,this),GEvent.on(GEventName.SkillEvent.skillUp,this.checkCanSkillUp,this),GEvent.on(GEventName.SignInSuc,this.checkCanSign,this),GEvent.on(GEventName.updateVIP,this.checkCanVip,this),GEvent.on(GEventName.updateVIP,this.checkCanVip,this),GEvent.on(GEventName.checkHaveMail,this.checkHaveMail,this),GEvent.on(GEventName.Task.FinishTask,this.checkTask,this),GEvent.on(GEventName.Task.GetReward,this.checkTask,this),GEvent.on(GEventName.LoadViewComplete,this.onLoadViewCompleteEvent,this),GEvent.on(GEventName.ViewHide,this.onLoadViewCompleteEvent,this),GEvent.on(GEventName.AdTTAddDesktop,this.showAddDesktopSp,this),this.updateActor(),this.checkCanSkillUp(),this.checkCanSign(),this.checkCanVip(),this.checkHaveMail(),this.checkTask(),this.commercialize()},e.prototype.init16Guide=function(){S.default.instance.getCheckopen16Guide(3)&&P.default.instance.load(l.default.Scenes.DeathTowerView,void 0,function(t,e){e.getComponent(L.default).onIniit(M.DeathTowerType.info_guide),S.default.instance.checkopen16Guide()})},e.prototype.onUIDisable=function(){this.sceneMgr().hide(l.default.Scenes.MainTopView),GEvent.offAll(this),this.commercializeHide(),D.default.instance.destroyAllPool()},e.prototype.onUIDestroy=function(){},e.prototype.onUIUpdate=function(){},e.prototype.initBtnAnim=function(t){void 0===t&&(t=null),cc.tween(this.btmBtnListNode).by(.5,{position:cc.v3(0,160)},{easing:"quadIn"}).delay(1).call(function(){t&&t()}).start()},e.prototype.onBtnShop=function(){C.default.instance.pullNewData(),this.sceneMgr().load(l.default.Scenes.ShopView)},e.prototype.onBtnShiwan=function(){var t=this;P.default.instance.load(l.default.Scenes.ShiWanView,void 0,function(e,n){n.getComponent(c.default).addCallback(function(){t.checkCanShiwan()})})},e.prototype.onBtnKefu=function(){var t=this;A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX||A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?this.sceneMgr().load(l.default.Scenes.KefuRewardView,void 0,function(e,n){n.getComponent(c.default).addCallback(function(){t.checkCanShiwan()})}):A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||Global.onShowTosat("\u529f\u80fd\u6682\u672a\u5f00\u653e")},e.prototype.onBtnGroup=function(){Global.onShowTosat("\u529f\u80fd\u6682\u672a\u5f00\u653e")},e.prototype.onBtnSetting=function(){this.sceneMgr().load(l.default.Scenes.SettingView)},e.prototype.onBtnFuli=function(){this.sceneMgr().load(l.default.Scenes.VIPView)},e.prototype.onBtnFashion=function(){this.sceneMgr().load(l.default.Scenes.FashionView)},e.prototype.onBtnRank=function(){return 0==k.default.instance.isOpen()?Global.onShowTosat("\u767b\u5f55\u624d\u80fd\u4f53\u9a8c\u8be5\u529f\u80fd"):A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?Global.onShowTosat("\u529f\u80fd\u6682\u672a\u5f00\u653e"):void this.sceneMgr().load(l.default.Scenes.RankView)},e.prototype.onBtnInvite=function(){this.sceneMgr().load(l.default.Scenes.InviteView)},e.prototype.onBtnSign=function(){this.sceneMgr().load(l.default.Scenes.SignInView)},e.prototype.onBtnBag=function(){GAudio.playEffect(v.default.bagEffAudio),this.sceneMgr().load(l.default.Scenes.BagDialog)},e.prototype.onEntergame=function(){this.sceneMgr().load(l.default.Scenes.gameLevelDialog)},e.prototype.onBtnOpenPot=function(){GAudio.playEffect(v.default.openPotEffAudio),this.sceneMgr().load(l.default.Scenes.openPotDialog)},e.prototype.onBtnPower=function(){GAudio.playEffect(v.default.powerEffAudio),this.sceneMgr().load(l.default.Scenes.PowerView)},e.prototype.onBtnSkill=function(){GAudio.playEffect(v.default.skillEffAudio),this.sceneMgr().load(l.default.Scenes.SkillView)},e.prototype.onBtnHalloween=function(){},e.prototype.onBtnGameCopy=function(){GAudio.playEffect(v.default.gameCopyEffAudio),this.sceneMgr().load(l.default.Scenes.gameSelectDialog)},e.prototype.onBtnHeadIcon=function(){this.sceneMgr().load(l.default.Scenes.HeadIconView)},e.prototype.onBtnNotice=function(){this.sceneMgr().load(l.default.Scenes.NoticeView)},e.prototype.onBtnSword=function(){p.default.instance.LV<50?Global.onShowTosat("50\u7ea7\u89e3\u9501\u9b54\u5251\u754c\u9762"):R.default.instance.isFristEnter?(C.default.instance.pullNewData(),this.sceneMgr().load(l.default.Scenes.MagicSwordView)):this.sceneMgr().load(l.default.Scenes.EnterMagicSwordAnimView)},e.prototype.onBtnXSGift=function(){},e.prototype.onBtnGift=function(){},e.prototype.onBtnTowerActivity=function(){},e.prototype.onBtnApologyLetter=function(){},e.prototype.onBtnTV=function(){this.sceneMgr().load(l.default.Scenes.TVView)},e.prototype.onBtnMail=function(){this.sceneMgr().load(l.default.Scenes.MailView)},e.prototype.onBtnCustomAd=function(){if(A.default.platformType==b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO||A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS||A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ)return Global.onShowTosat("\u529f\u80fd\u6682\u672a\u5f00\u653e");this.sceneMgr().load(l.default.Scenes.gezhiAdView)},e.prototype.onBtnTask=function(){GAudio.playEffect(v.default.taskBtnEffAudio),this.sceneMgr().load(l.default.Scenes.TaskView)},e.prototype.onBtnFollow=function(){k.default.instance.openAwemeUserProfile(function(){w.default.instance.isFirstFollow||(h.default.Init.AddItems(136,1),Global.onShowTosat("\u606d\u559c\u83b7\u5f97\u767e\u5206\u767e+1\u5238x1",5),w.default.instance.isFirstFollow=!0)})},e.prototype.onBtnJLZ=function(){C.default.instance.pullJLZData(),this.sceneMgr().load(l.default.Scenes.JLZActivityView)},e.prototype.onBtnActivityCenter=function(){this.sceneMgr().load(l.default.Scenes.ActivityCenterView,void 0,function(t,e){e.getComponent(x.default).setViewByIndex(N.ActivityCenterType.GoldActivity)})},e.prototype.onBtnShareBox=function(){A.default.platformType==b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX?this.sceneMgr().load(l.default.Scenes.shareBox):Global.onShowTosat("\u529f\u80fd\u6682\u672a\u5f00\u653e")},e.prototype.onBtnPrivacy=function(){this.sceneMgr().load(l.default.Scenes.PrivacyView)},e.prototype.onNoticeEvent=function(){},e.prototype.checkCanSkillUp=function(){this.btn_skill.node.getChildByName("redbot").active=!!y.default.Init.CheckSkillCanLvUp()},e.prototype.checkCanSign=function(){this.btn_sign.node.getChildByName("redbot").active=g.default.instance.IsSign},e.prototype.checkCanShiwan=function(){for(var t=B.default.jumpConfig,e=!1,n=0;n<t.length;n++)if(0==G.default.instance.hasPlay(n)){e=!0;break}this.btn_shiwan.node.getChildByName("redbot").active=e,this.btn_kefu.node.getChildByName("redbot").active=!F.default.instance.IsSignGift,A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS&&(this.btn_kefu.node.getChildByName("redbot").active=!1)},e.prototype.checkCanVip=function(){T.default.instance.isWhiteVIP&&T.default.instance.isColorVIP?this.btn_fuli.node.getChildByName("redbot").active=!1:this.btn_fuli.node.getChildByName("redbot").active=!0},e.prototype.checkHaveMail=function(){var t=!0,e=I.default.instance.MailSerData;if(e&&e.length>0){t=!0;for(var n=0;n<e.length;n++){if(!e[n].isGet){t=!0;break}t=!1}}else t=!1;this.btn_mail.node.getChildByName("redbot").active=t},e.prototype.checkTask=function(){var t;m.default.instance.HasFinishDayTask(),m.default.instance.HasFinishTask(),t=!(!m.default.instance.HasFinishDayTask()&&!m.default.instance.HasFinishTask()),this.btn_task.node.getChildByName("redbot").active=t},e.prototype.setApologyLetterAni=function(){cc.tween(this.btn_ApologyLetter).repeatForever(cc.tween(this.btn_ApologyLetter).by(.5,{position:cc.v3(0,-10)}).by(.5,{position:cc.v3(0,10)})).start()},e.prototype.setJiayouBannerAni=function(){},e.prototype.setJlzBtnAni=function(){cc.tween(this.btn_jlz.node.getChildByName("Background")).repeatForever(cc.tween(this.btn_jlz.node.getChildByName("Background")).by(.5,{scale:.1}).by(.5,{scale:-.1})).start()},e.prototype.setbtn_tvrAni=function(){cc.tween(this.btn_tv.node).repeatForever(cc.tween(this.btn_tv.node).by(.5,{scale:.1}).by(.5,{scale:-.1})).start()},e.prototype.setBubbleAni=function(){var t=this;cc.tween(this.node).repeatForever(cc.tween(this.node).call(function(){for(var e=Math.floor(5*Math.random())<=3?1:2,n=function(){var e=Math.floor(4*Math.random());t.bubbleAniList[e].node.active=!0;var n=t.bubbleAniList[e].node.getChildByName("label");cc.tween(n).delay(.8).call(function(){n.active=!0,n.getComponent(cc.Label).string=0==Math.round(Math.random())?t.bubbleFirstStr[e]:t.bubbleSecondStr[e]}).start();var i=t.bubbleAniList[e].setAnimation(0,"qipao",!1);t.bubbleAniList[e].setTrackCompleteListener(i,function(){n.active=!1})},i=0;i<e;i++)n()}).delay(10)).start()},e.prototype.setTaskBubbleAni=function(){var t=this,e=this.btn_task.node.getChildByName("bubbleAni"),n=this.btn_task.node.getChildByName("img_taskbtn");cc.tween(this.node).repeatForever(cc.tween(this.node).call(function(){e.active=!0;var n=e.getChildByName("label");cc.tween(n).delay(.8).call(function(){n.active=!0;var e=Math.floor(Math.random()*t.bubbleTaskStr.length);n.getComponent(cc.Label).string=t.bubbleTaskStr[e]}).start();var i=e.getComponent(sp.Skeleton).setAnimation(0,"qipao",!1);e.getComponent(sp.Skeleton).setTrackCompleteListener(i,function(){n.active=!1})}).delay(10)).start(),cc.tween(n).repeatForever(cc.tween(n).by(.5,{scale:.1}).by(.5,{scale:-.1})).start()},e.prototype.setTaskAni=function(){var t=this,e=["003_chaying","009_shengdoushi","010_xiongxiong"],n=this.getNode("UILayer/buttonLayer/mainBtnList/btn_entergame");n.getComponent(cc.Widget).updateAlignment();var i=n.position,o=cc.v3(this.btn_task.node.width/2.2,-this.btn_task.node.height/4),a=cc.v3(i.x-this.btn_task.node.x+n.width/2,i.y-this.btn_task.node.y),r=Math.floor(30*Math.random());cc.tween(this.node).delay(r).call(function(){t.taskHeroNode.active=!0,t.taskHeroNode.position=o;var i=Math.floor(Math.random()*e.length);t.taskHero.setSkin(e[i]),cc.tween(t.taskHeroNode).call(function(){t.taskHero.setAnimation(0,"baishou_idle",!0)}).delay(2).call(function(){t.taskHero.setAnimation(0,"baishou_run",!0)}).to(2,{position:a}).call(function(){n.getComponent(cc.Button).target.getComponent(cc.Sprite).spriteFrame=n.getComponent(cc.Button).pressedSprite}).delay(.2).call(function(){t.taskHeroNode.active=!1,cc.tween(n).delay(.2).call(function(){n.getComponent(cc.Button).target.getComponent(cc.Sprite).spriteFrame=n.getComponent(cc.Button).normalSprite}).start()}).start()}).start()},e.prototype.onLoadViewCompleteEvent=function(){this.sceneMgr().getTop()._name==this.sceneName?(k.default.instance.onKefuShow(),k.default.instance.onMoreGameShow()):(k.default.instance.onKefuHide(),k.default.instance.onMoreGameHide())},e.prototype.onSHowAdddesktopAni=function(){E.default.ArraignedMode?k.default.instance.addShortcutTT():this.sceneMgr().load(l.default.Scenes.AddShortcutView)},e.prototype.showAddDesktopSp=function(){A.default.platformType===b.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&(this.getNode("UILayer/buttonLayer/bottomBtnList/concent/btn_adddesktop/addDeskTopSp").active=!k.default.instance.isAddShortcut())},e.prototype.getView=function(){return this},s([H(cc.Node)],e.prototype,"btmBtnListNode",void 0),s([H([sp.Skeleton])],e.prototype,"bubbleAniList",void 0),s([H(sp.Skeleton)],e.prototype,"ActorSk",void 0),s([V],e)}(c.default);a.default=U,cc._RF.pop()},{}],MainTopView:[function(t,e,n){"use strict";cc._RF.push(e,"0efc2ZKvBdDZZVU54kfqZ+n","MainTopView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("SceneConfig"),u=o("View"),p=o("GameData"),d=o("CurrencyType"),f=o("BagManager"),h=o("CommonDataMgr"),y=o("ModeLVDataManger"),g=o("ServerCommonCfgMgr"),m=o("RoleCfgManager"),v=o("Admanager"),_=o("platformConfig"),b=o("SubdomainMgr"),k=o("CommonTool"),S=o("Constant"),w=o("Utils"),T=o("WarPowerView"),C=cc._decorator,D=C.ccclass,E=C.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab_gold=null,e.lab_diamond=null,e.lab_warPower=null,e.lab_powerTime=null,e.lab_reviveCoin=null,e.lab_level=null,e.expBar=null,e.lab_ActorName=null,e.lab_power=null,e.headIcon=null,e.viewTitle=null,e.headIconLab=null,e.warPowerCount=0,e.clearDataCount=0,e.fullDataCount=0,e.tokenPosList=[cc.v3(0,-140),cc.v3(0,-360),cc.v3(0,-555),cc.v3(-660,-140),cc.v3(-660,-530),cc.v3(-555,-140),cc.v3(-555,-530),cc.v3(665,-45),cc.v3(665,-210),cc.v3(665,-320),cc.v3(665,-530),cc.v3(400,-90),cc.v3(200,-90),cc.v3(-400,-90),cc.v3(-200,-90),cc.v3(400,-510),cc.v3(200,-510),cc.v3(-400,-510),cc.v3(-200,-510),cc.v3(-270,-650)],e}return r(e,t),e.prototype.onUILoad=function(){this.lab_token=this.getLabel("headIocnBg/lab_token"),this.moveTokenLab=this.getLabel("moveTokenLab"),this.onClick("headIocnBg/powerBg",this.onClearData,this),this.onClick("headIocnBg/btn_AddApplet",this.onBtnAddApplet,this),this.onClick("headIocnBg/lab_copytoken",this.onCopytoken,this),GEvent.emit(GEventName.Task.LoginGame)},e.prototype.onUIEnable=function(){GEvent.on(GEventName.UpdateGold,this.updateCoin,this),GEvent.on(GEventName.UpdateDiamond,this.updateDiamond,this),GEvent.on(GEventName.UpdatePoewrpoewr,this.updatePower,this),GEvent.on(GEventName.UpdateReviveCoin,this.updateReviveCoin,this),GEvent.on(GEventName.Hero.HeroLvUp,this.updateLevel,this),GEvent.on(GEventName.Hero.HeroGetExp,this.updataexpBar,this),GEvent.on(GEventName.UpdateName,this.updateName,this),GEvent.on(GEventName.UpdateWarPower,this.updateWarPower,this),GEvent.on(GEventName.ChangeViewTitle,this.updateViewTitle,this),GEvent.on(GEventName.UpdateheadIcon,this.updateheadIcon,this),this.updateCoin(),this.updateDiamond(),this.updatePower(),this.updateReviveCoin(),this.updateLevel(),this.updataexpBar(),this.updateName(),this.updateWarPower(),this.updateheadIcon(),this.setHeadIconLabAni(),this.updateViewTitle("MainView"),this.setAddAppletAni(),this.lab_token.string="\u7528\u6237id:"+g.default.token,this.moveTokenLab.string="ID:"+g.default.token,this.tokenPos=this.tokenPosList[0],this.setTokenAni(),this.onSetTT()},e.prototype.onSetTT=function(){_.default.platformType===S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX||_.default.platformType===S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC?this.getNode("headIocnBg/btn_AddApplet").active=!0:this.getNode("headIocnBg/btn_AddApplet").active=!1,_.default.platformType===S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ&&(this.moveTokenLab.node.active=!1,this.getNode("headIocnBg/lab_copytoken").active=!1),_.default.platformType===S.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS&&(this.getNode("headIocnBg").getComponent(cc.Widget).left=95,this.getNode("headIocnBg/lab_copytoken").active=!1)},e.prototype.setAddAppletAni=function(){this.btn_AddApplet||(this.btn_AddApplet=this.getNode("headIocnBg/btn_AddApplet")),this.btn_AddApplet.stopAllActions(),this.btn_AddApplet.scale=1,cc.tween(this.btn_AddApplet).repeatForever(cc.tween(this.btn_AddApplet).by(.5,{scale:.1}).by(.5,{scale:-.1})).start()},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.update=function(){this.lab_powerTime.node.active=!(h.CommonDataMgr.instance.Poewrpoewr==h.CommonDataMgr.maxPower),this.lab_powerTime.string=k.default.formatTimeMinute(Math.floor((h.CommonDataMgr.recoverTime-h.CommonDataMgr.instance.RecoverrPTime)/1e3))+"\u79d2\u4f53\u529b + 1"},e.prototype.updateCoin=function(){this.lab_gold.string=h.CommonDataMgr.instance.Gold.toString()},e.prototype.updateDiamond=function(){this.lab_diamond.string=h.CommonDataMgr.instance.Diamond.toString()},e.prototype.updatePower=function(){this.lab_power.string=(h.CommonDataMgr.instance.Poewrpoewr+h.CommonDataMgr.instance.Extrapoewr).toString()},e.prototype.updateReviveCoin=function(){this.lab_reviveCoin.string=h.CommonDataMgr.instance.ReviveCoin.toString()},e.prototype.updateLevel=function(){this.lab_level.string=m.default.instance.LV.toString()},e.prototype.updataexpBar=function(){this.expBar.fillRange=m.default.instance.Exp/p.default.ActorData()[m.default.instance.LV-1].exp},e.prototype.updateName=function(){this.lab_ActorName.string=m.default.instance.curName.toString()},e.prototype.updateheadIcon=function(){var t=m.default.instance.headIconUrl1;w.default.loadSpfFromRes(t,this.headIcon)},e.prototype.updateWarPower=function(){var t=this,e=l.default.GetPlayerAttributeInUI(),n=l.default.GetPlayerCEFromUI(e);0!=this.warPowerCount&&this.warPowerCount!=n&&this.sceneMgr().load(c.default.Scenes.WarPowerView,void 0,function(e,i){i.getComponent(T.default).changeWarPower(t.warPowerCount,n)}),cc.tween(this.node).delay(1).call(function(){t.warPowerCount=n,t.lab_warPower.string=n.toString(),b.SubdomainMgr.postMessage(b.SubdomainMessageType.SENDDATA,m.default.instance.LV,m.default.instance.curName,t.warPowerCount)}).start()},e.prototype.setHeadIconLabAni=function(){cc.tween(this.headIconLab.node).repeatForever(cc.tween(this.headIconLab.node).by(.5,{scale:.1}).by(.5,{scale:-.1})).start()},e.prototype.updateViewTitle=function(t){var e=this,n="";switch(t){case"MainView":n="textures/title/bg_main_jg";break;case"bagDialog":n="textures/title/title_bag";break;case"FashionView":n="textures/title/title_fashion";break;case"gameLevelDialog":n="textures/title/title_gamelv";break;case"gameSelectDialog":n="textures/title/title_gameselcet";break;case"openPotDialog":n="textures/title/title_openpot";break;case"powerDialog":n="textures/title/title_powerup";break;case"ShopView":n="textures/title/title_shop";break;case"SignInView":n="textures/title/title_signin";break;case"skillDialog":n="textures/title/title_skill";break;case"VIPView":n="textures/title/title_vip";break;case"RankView":n="textures/title/title_rank";break;case"SettingView":n="textures/title/title_setting";break;case"NoticeView":n="textures/title/title_notice";break;case"DeathTowerView":n="textures/title/title_DeathTower"}cc.resources.load(n,function(t,n){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),e.viewTitle.spriteFrame=new cc.SpriteFrame(n)})},e.prototype.onBtnHeadIcon=function(){this.sceneMgr().load(c.default.Scenes.HeadIconView)},e.prototype.onBtnShop=function(){this.sceneMgr().load(c.default.Scenes.ShopView)},e.prototype.onClearData=function(){this.clearDataCount++,this.clearDataCount>=15&&GEvent.emit(GEventName.ClearServersData)},e.prototype.onFullData=function(){if(this.fullDataCount++,this.fullDataCount>=10){m.default.instance.LV=60;for(var t=1;t<5;t++)for(var e=1;e<7;e++)y.default.instance.pushClassicsChapterLvData(t,e);l.default.Get(d.CurrencyType.COIN,9999999),l.default.Get(d.CurrencyType.COUPON,9999999),f.default.Init.CreatEquipment(1160400),f.default.Init.CreatEquipment(2160400),f.default.Init.CreatEquipment(3160400),f.default.Init.CreatEquipment(4160400),f.default.Init.CreatEquipment(5160400),f.default.Init.CreatEquipment(6160400),this.fullDataCount=0}},e.prototype.onBtnAddApplet=function(){this.sceneMgr().load(c.default.Scenes.AddAppletView)},e.prototype.onCopytoken=function(){v.default.instance.setClipboardData(""+g.default.token)},e.prototype.setTokenAni=function(){var t=this;cc.tween(this.moveTokenLab.node).repeatForever(cc.tween(this.moveTokenLab.node).call(function(){var e=Math.floor(Math.random()*t.tokenPosList.length);t.tokenPos=t.tokenPosList[e],t.moveTokenLab.node.position=t.tokenPos}).delay(15)).start()},s([E(cc.Label)],e.prototype,"lab_gold",void 0),s([E(cc.Label)],e.prototype,"lab_diamond",void 0),s([E(cc.Label)],e.prototype,"lab_warPower",void 0),s([E(cc.Label)],e.prototype,"lab_powerTime",void 0),s([E(cc.Label)],e.prototype,"lab_reviveCoin",void 0),s([E(cc.Label)],e.prototype,"lab_level",void 0),s([E(cc.Sprite)],e.prototype,"expBar",void 0),s([E(cc.Label)],e.prototype,"lab_ActorName",void 0),s([E(cc.Label)],e.prototype,"lab_power",void 0),s([E(cc.Sprite)],e.prototype,"headIcon",void 0),s([E(cc.Sprite)],e.prototype,"viewTitle",void 0),s([E(cc.Sprite)],e.prototype,"headIconLab",void 0),s([D],e)}(u.default);a.default=I,cc._RF.pop()},{}],MajorStateBase:[function(t,e,n){"use strict";cc._RF.push(e,"72f8bUT//BGQ4B9F6ckHGzV","MajorStateBase");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateBase"),l=o("StateType"),c=function(t){function e(){var e=t.call(this)||this;return e.StateType=l.default.major,e}return r(e,t),e.prototype.onAniStart=function(){},e.prototype.onAniUStart=function(){},e.prototype.onAniSuc=function(){this.Soldier.resetState()},e}(s.default);a.default=c,cc._RF.pop()},{}],MapDataMgr:[function(t,e,n){"use strict";cc._RF.push(e,"8858e0TMp9ESo5epWovD/XB","MapDataMgr");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("LvHard"),r=i("LvType"),s=i("GameHelper");o.default=new(function(){function t(){this.Map_New=[0,0],this.Map_NORMAL=[1,30],this.Map_HARD=[31,60],this.Map_KING=[61,90],this.Map_ABYSS=[91,120],this.Map_ACTIVITY=[121,127],this.Map_TOWER=[128,128],this.Map_Toxicity=[129,131]}return t.prototype.getChapterLevelData=function(t,e,n,i){var o=s.default.instance.MapData();if(o){for(var a=this.LvHardScope(t,e,n,i),r=a[0];r<=a[1];r++)if(o[r].chapter==n&&o[r].subsection==i)return o[r];return console.log("\u5f53\u524d\u5173\u5361\u6570\u636e\u5bfb\u627e\u5931\u8d25",n,i),null}},t.prototype.LvHardScope=function(t,e,n){var i=[];return t==r.LvType.NORMAL&&(e==a.LvHard.NORMAL&&(i=this.Map_NORMAL),e==a.LvHard.HARD&&(i=this.Map_HARD),e==a.LvHard.KING&&(i=this.Map_KING),e==a.LvHard.ACTIVE&&(i=this.Map_NORMAL),0==n&&(i=this.Map_New)),t==r.LvType.ABYSS&&(i=this.Map_ABYSS),t==r.LvType.ACTIVITY&&(i=this.Map_ACTIVITY),t==r.LvType.Tower&&(i=this.Map_TOWER),t==r.LvType.Toxicity&&(i=this.Map_Toxicity),i},t.prototype.getChapterTowerData=function(){return this.getChapterLevelData(r.LvType.Tower,a.LvHard.TOWER,-2,1)},t}()),cc._RF.pop()},{}],MapManager:[function(t,e,n){"use strict";cc._RF.push(e,"5f4a8f1Ot9OtZZUnqwJKo3M","MapManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("LayerData"),r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==this.mm&&(this.mm=new t),this.mm},enumerable:!1,configurable:!0}),t.prototype.CreatMap=function(t){console.log(t),this.bg_layer=new Array(t.bg_data.length),this.map_width=t.bg_width;for(var e=0;e<this.bg_layer.length;e++)this.bg_layer[e]=new a.default,this.bg_layer[e].CreatLayer(t.bg_data[e])},t.mm=null,t}();o.default=r,cc._RF.pop()},{}],MeTaskMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9bcccAzc/BMIKzWBJ6dzdIW","MeTaskMgr");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameData"),r=i("MSTaskCalculate"),s=i("MagicSwordManager"),l=function(){function t(){this.MeTaskListener=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.setMETask=function(){s.default.instance.METaskDataList.length>0&&(s.default.instance.MeTaskData=s.default.instance.getCurMETaskData(),s.default.instance.MeTaskJsonData=a.default.METaskData()[s.default.instance.MeTaskData.id],this.MeTaskListener=r.default.EventListener[s.default.instance.MeTaskJsonData.type](),GEvent.on(this.MeTaskListener.event_name,this.MeTaskCallBack,this))},t.prototype.MeTaskCallBack=function(t){s.default.instance.MeTaskData&&(r.default.CheckTaskFinish[s.default.instance.MeTaskJsonData.type](t,s.default.instance.MeTaskJsonData.value,s.default.instance.MeTaskJsonData.count,s.default.instance.MeTaskData)?(s.default.instance.MeTaskData.isFinish=!0,GEvent.emit(GEventName.MSTask.FinishTask)):GEvent.emit(GEventName.MSTask.ProgressChange))},t.prototype.offEvent=function(){GEvent.offAll(this),this.MeTaskListener=null},t}();o.default=l,cc._RF.pop()},{}],ModeLVDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"5b1e6ydQnpMH6Ubuyk6qlpV","ModeLVDataManger");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){this.MaxChapterCount=5,this.ModeLVDataManger=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ClassicsLVDataList",{get:function(){return this.ModeLVDataManger.ClassicsLVDataList},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.ModeLVDataManger=t,this.pushClassicsChapterLvData(1,1),this.unlockChapterFive()},t.prototype.getClassicsChapterLvData=function(t,e){var n=null;return this.ModeLVDataManger.ClassicsLVDataList.forEach(function(i){i.chapter==t&&i.level==e&&(n=i)}),n},t.prototype.pushClassicsChapterLvData=function(t,e,n,i,o){return void 0===n&&(n=!0),void 0===i&&(i=[]),void 0===o&&(o=0),null==this.getClassicsChapterLvData(t,e)&&this.ModeLVDataManger.addClassicsChapterLvData(t,e,n,i,o),this.getClassicsChapterLvData(t,e)},t.prototype.passClassicsLV=function(t,e,n,i){var o=this.getClassicsChapterLvData(t,e);o||(o=this.pushClassicsChapterLvData(t,e)),n<3&&(o.passDifficulty[n]=!0),i>o.score&&(o.score=i),this.unlockNexLevel(t,e)},t.prototype.unlockNexLevel=function(t,e){if(e>=6?(t+=1,e=1):e+=1,!(t>this.MaxChapterCount)){var n=this.getClassicsChapterLvData(t,e);null==n?this.pushClassicsChapterLvData(t,e):n.unlock=!0}},t.prototype.ClassicsMaxChapterLV=function(){var t=this.getClassicsMaxChapter(),e=0;return this.ModeLVDataManger.ClassicsLVDataList.forEach(function(n){n.chapter==t&&n.level>e&&(e=n.level)}),{chapter:t,level:e}},t.prototype.getClassicsMaxChapter=function(){var t=0;return this.ModeLVDataManger.ClassicsLVDataList.forEach(function(e){e.chapter>t&&(t=e.chapter)}),t},t.prototype.getPassMaxChapterLV=function(){var t=0,e=0;return this.ModeLVDataManger.ClassicsLVDataList.forEach(function(n){n.unlock&&(n.passDifficulty[0]||n.passDifficulty[1]||n.passDifficulty[2])&&(t=n.chapter,e=n.level)}),{chapter:t,level:e}},t.prototype.ChapterLvPass=function(t,e){var n=this.getClassicsChapterLvData(t,e);return!!n&&!(!n.unlock||!(n.passDifficulty[0]||n.passDifficulty[1]||n.passDifficulty[2]))},t.prototype.ChapterLVUnlock=function(t,e){var n=this.getClassicsChapterLvData(t,e);return!!n&&!!n.unlock},t.prototype.setPassLvReward=function(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var o=this.getClassicsChapterLvData(t,e);o||(o=this.pushClassicsChapterLvData(t,e)),o.isFreePassReward=n,o.isAdPassReward=i},t.prototype.unlockChapterFive=function(){var t=this.getClassicsChapterLvData(4,6);t&&t.passDifficulty[0]&&this.pushClassicsChapterLvData(5,1)},t}();i.default=o,cc._RF.pop()},{}],Model:[function(t,e,n){"use strict";cc._RF.push(e,"65352Sg2SlP6LBZFaaTRkYk","Model");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("SceneManager"),r=i("DataManager"),s=function(){function t(){this.sceneName="",this.modelData={},this.isWriteLocalFile=!1,this.sceneName="",this.modelData={},this.isWriteLocalFile=!1}return t.prototype.init=function(t){if(""===t)throw Error("IModel -> init scene name is empty.");return this.modelData=r.default.instance.readData("__"+t+"_MODEL_DATA__"),this.sceneName=t,this.onInit(),!0},t.prototype.onInit=function(){},t.prototype.uninit=function(){this.onCleanup(),this.flushData()},t.prototype.onCleanup=function(){},t.prototype.getSceneName=function(){return this.sceneName},t.prototype.getModel=function(){return this},t.prototype.postCtrlEvent=function(t,e){a.default.instance.postEventToCtrl(this.sceneName,t,e)},t.prototype.postUIEvent=function(t,e){a.default.instance.postEventToView(this.sceneName,t,e)},t.prototype.setData=function(t,e){this.modelData[t]=e},t.prototype.getData=function(t){return this.modelData[t]},t.prototype.enableWriteLocalFile=function(t){this.isWriteLocalFile=t},t.prototype.isEnableWriteLocalFile=function(){return this.isWriteLocalFile},t.prototype.flushData=function(){this.isWriteLocalFile&&r.default.instance.writeData("__"+this.sceneName+"_MODEL_DATA__",this.modelData)},t.prototype.sceneMgr=function(){return a.default.instance},t}();o.default=s,cc._RF.pop()},{}],MoveState:[function(t,e,n){"use strict";cc._RF.push(e,"75d0dI1HA1Jo59nu+Nip5L+","MoveState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.MOVE,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.Soldier.Direct=this.Soldier.Direct,this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Move,!0)},e.prototype.onUpdate=function(t){var e=this.Soldier.Direct;e.equals(cc.v3(0,0))&&(e=cc.v3(1,0));var n=1-Math.abs(GMath.vecTransformAngle(e))/90*.55;this.Soldier.onUpdateHeroPos(this.Soldier.node.position.add(cc.v3(e.normalize().x*=this.Soldier.Speed*t*1,e.normalize().y*=this.Soldier.Speed*t*n)))},e.prototype.onExit=function(){},e}(o("MajorStateBase").default);a.default=l,cc._RF.pop()},{}],MsActivityView:[function(t,e,n){"use strict";cc._RF.push(e,"62408lrQE1Lbq6Qbr5JtyBr","MsActivityView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("View"),u=o("InviterDataManger"),p=o("MagicSwordManager"),d=o("RoleCfgManager"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.setplatform()},e.prototype.onBtnSword=function(){d.default.instance.LV<50?Global.onShowTosat("50\u7ea7\u89e3\u9501\u9b54\u5251\u754c\u9762"):p.default.instance.isFristEnter?(u.default.instance.pullNewData(),this.sceneMgr().load(l.default.Scenes.MagicSwordView)):this.sceneMgr().load(l.default.Scenes.EnterMagicSwordAnimView)},s([h],e)}(c.default));a.default=y,cc._RF.pop()},{}],MsTaskMgr:[function(t,e,n){"use strict";cc._RF.push(e,"0ea41KqHdhPpad3rLoyQHbW","MsTaskMgr");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameData"),r=i("MSTaskCalculate"),s=i("MagicSwordManager"),l=function(){function t(){this.MsTaskListener=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.setMSTask=function(){s.default.instance.MSTaskDataList.length>0&&(this.MsTaskListener=null,s.default.instance.MsTaskData=s.default.instance.getCurMSTaskData(),s.default.instance.MsTaskJsonData=a.default.MSTaskData()[s.default.instance.MsTaskData.id],this.MsTaskListener=r.default.EventListener[s.default.instance.MsTaskJsonData.type](),GEvent.on(this.MsTaskListener.event_name,this.MsTaskCallBack,this))},t.prototype.MsTaskCallBack=function(t){s.default.instance.MsTaskData&&(r.default.CheckTaskFinish[s.default.instance.MsTaskJsonData.type](t,s.default.instance.MsTaskJsonData.value,s.default.instance.MsTaskJsonData.count,s.default.instance.MsTaskData)?(s.default.instance.MsTaskData.isFinish=!0,GEvent.emit(GEventName.MSTask.FinishTask)):GEvent.emit(GEventName.MSTask.ProgressChange))},t.prototype.offEvent=function(){GEvent.offAll(this),this.MsTaskListener=null},t}();o.default=l,cc._RF.pop()},{}],MysteryShopView:[function(t,e,n){"use strict";cc._RF.push(e,"33ce7uMLXRBV4iaeCn1ehg5","MysteryShopView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("GameData"),p=o("CurrencyType"),d=o("BagManager"),f=o("CommonDataMgr"),h=o("Admanager"),y=o("platformConfig"),g=o("Constant"),m=o("Utils"),v=cc._decorator,_=v.ccclass,b=v.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shopList=null,e.goldCount=null,e.diamondCount=null,e.randomIndex=[],e}return r(e,t),e.prototype.onUILoad=function(){this.updateCoin(),this.updateDiamond();for(var t=0;t<6;t++){var e=new cc.Component.EventHandler;e.target=this.node,e.component="MysteryShopView",e.handler="onBtnBuy",e.customEventData=""+t,this.shopList.children[t].getChildByName("btn_buy").getComponent(cc.Button).clickEvents.push(e)}this.initShopData()},e.prototype.onUIEnable=function(){this.commercialize(),GEvent.on(GEventName.UpdateGold,this.updateCoin,this),GEvent.on(GEventName.UpdateDiamond,this.updateDiamond,this)},e.prototype.onUIDisable=function(){this.commercializeHide(),GEvent.offAll(this)},e.prototype.commercialize=function(){y.default.platformType!=g.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&h.default.instance.showBanner()},e.prototype.commercializeHide=function(){y.default.platformType!=g.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&h.default.instance.hideBanner()},e.prototype.updateCoin=function(){this.goldCount.string=f.CommonDataMgr.instance.Gold.toString()},e.prototype.updateDiamond=function(){this.diamondCount.string=f.CommonDataMgr.instance.Diamond.toString()},e.prototype.onBtnRefrash=function(){var t=this;h.default.instance.playRewardVideo(function(){t.refrashShopData(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_mysteryshop_rf)},e.prototype.initShopData=function(){this.refrashShopData();for(var t=u.default.MysteryShopData(),e=3;e<6;e++){var n=t[e],i=this.shopList.children[e],o=i.getChildByName("icon").getComponent(cc.Sprite);m.default.loadSpfFromRes(n.icon,o),i.getChildByName("count").getComponent(cc.Label).string="x"+n.count[0];var a=i.getChildByName("btn_buy").getChildByName("icon").getComponent(cc.Sprite),r=i.getChildByName("btn_buy").getChildByName("cost").getComponent(cc.Label);2==n.type&&(m.default.loadSpfFromRes(u.default.CurrenyData()[n.need_id].icon,a),r.string="x"+n.need_count[0].toString())}},e.prototype.refrashShopData=function(){this.randomIndex=[];for(var t=u.default.MysteryShopData(),e=0;e<3;e++){var n=t[e],i=this.shopList.children[e],o=i.getChildByName("icon").getComponent(cc.Sprite);m.default.loadSpfFromRes(n.icon,o);var a=Math.floor(Math.random()*n.count.length);this.randomIndex[e]=a,i.getChildByName("count").getComponent(cc.Label).string="x"+n.count[this.randomIndex[e]];var r=i.getChildByName("btn_buy").getChildByName("icon").getComponent(cc.Sprite),s=i.getChildByName("btn_buy").getChildByName("cost").getComponent(cc.Label);2==n.type&&(m.default.loadSpfFromRes(u.default.CurrenyData()[n.need_id].icon,r),s.string="x"+n.need_count[this.randomIndex[e]].toString())}for(e=0;e<6;e++)this.setBuyState(e,!1)},e.prototype.onBtnBuy=function(t,e){var n=this,i=parseInt(e),o=u.default.MysteryShopData()[i];switch(i){case 0:h.default.instance.playRewardVideo(function(){l.default.Get(p.CurrencyType.COIN,o.count[n.randomIndex[i]]),n.setBuyState(i,!0),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_mysteryshop_1);break;case 1:h.default.instance.playRewardVideo(function(){l.default.Get(p.CurrencyType.COUPON,o.count[n.randomIndex[i]]),n.setBuyState(i,!0),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_mysteryshop_2);break;case 2:if(!l.default.CanPay(p.CurrencyType.COIN,o.need_count[this.randomIndex[i]]))return;l.default.Pay(p.CurrencyType.COIN,o.need_count[this.randomIndex[i]]),l.default.Get(p.CurrencyType.FATIGUE,o.count[this.randomIndex[i]]),this.setBuyState(i,!0);break;case 3:case 4:case 5:if(!l.default.CanPay(p.CurrencyType.COUPON,o.need_count[0]))return;l.default.Pay(p.CurrencyType.COUPON,o.need_count[0]);for(var a=0;a<o.id.length;a++)d.default.Init.AddItems(o.id[a],o.count[a]);this.setBuyState(i,!0)}},e.prototype.setBuyState=function(t,e){this.shopList.children[t].getChildByName("btn_buy").getComponent(cc.Button).interactable=!e,this.shopList.children[t].getChildByName("myshop_sellout").active=e,this.shopList.children[t].getChildByName("btn_buy").getChildByName("cost").color=e?cc.Color.GRAY:cc.color(143,80,37)},s([b(cc.Node)],e.prototype,"shopList",void 0),s([b(cc.Label)],e.prototype,"goldCount",void 0),s([b(cc.Label)],e.prototype,"diamondCount",void 0),s([_],e)}(c.default);a.default=k,cc._RF.pop()},{}],NetCatchState:[function(t,e,n){"use strict";cc._RF.push(e,"e93aexbvWFFjb3ifvdgzIuj","NetCatchState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.time=1,e.StateId=s.default.sheep,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.time=100},e.prototype.onUpdate=function(){},e.prototype.onExit=function(){},e}(o("SubStateBase").default);a.default=l,cc._RF.pop()},{}],NetworkManger:[function(t,e,n){"use strict";cc._RF.push(e,"02d75cH+zRLabC4ksz1nEsI","NetworkManger");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=i("ServerCommonCfgMgr"),l=i("PakoManager"),c=i("Admanager"),u=i("platformConfig"),p=i("Constant"),d=i("api"),f=i("configStore"),h=i("heartbeatStore"),y=(i("settings"),i("sign"));o.default=new(function(){function t(){}return t.prototype.onInit=function(){return a(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:if(u.default.platformType==p.default.PLATFORMS_TYPE.PLATFORMS_TYPE_PC)return this.developInit(),[2];e.label=1;case 1:return e.trys.push([1,6,,8]),console.log("wechatInit1"),(t=cc.sys.localStorage.getItem("token"))?(f.default.token=t,[4,this.userDataInit()]):[3,3];case 2:return e.sent(),[3,5];case 3:return f.default.token=t,[4,this.login()];case 4:e.sent(),e.label=5;case 5:return[3,8];case 6:return e.sent(),[4,this.login()];case 7:return e.sent(),[3,8];case 8:return[2]}})})},t.prototype.developInit=function(){return f.default.token="eyJhbGciOiJIUzI1NiJ9.eyJpZCI6Njg4MjM5ODksImV4cCI6MTYzOTY0MjMwNX0.vLN2_u1KUQO-Wr-NPLhMERaoKvmQB88YjpqPavxJ_wI",this.userDataInit()},t.prototype.login=function(){return a(this,void 0,void 0,function(){var t,e,n,i,o,a,l;return r(this,function(r){switch(r.label){case 0:return console.log("\u5f00\u59cblogin"),[4,c.default.instance.login()];case 1:return t=r.sent(),console.log("auto:",t),!1===t.isLogin?(console.log("\u8d26\u53f7\u672a\u767b\u5f55\u9000\u51fa"),f.default.isLogin=!1,e=function(){if(!cc.sys.localStorage.getItem("uuidv4")){var t="Txxxxxxx".replace(/[x]/g,function(t){var e=7*Math.random()|0;return("x"==t?e:3&e|8).toString(7)});cc.sys.localStorage.setItem("uuidv4",t)}return cc.sys.localStorage.getItem("uuidv4")},s.default.token=e(),GEvent.emit(GEventName.ServersDataSuc,!1),[2]):(f.default.isLogin=!0,n=null,u.default.platformType==p.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO||u.default.platformType==p.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO?t.token&&(n=t.token):u.default.platformType==p.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?t.gameUserId&&(n=t.gameUserId):t.code&&(n=t.code),console.log("auth data",t),console.log("auth\u6388\u6743",n),[4,d.default.auth(n)]);case 2:return i=r.sent(),console.log("\u6388\u6743\u4fe1\u606f",i),o=i.data,a=o.token,(l=o.is_new)&&(f.default.isnew=l),console.log("token",a),u.default.platformType==p.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX&&c.default.instance.setStorage("token",a),a&&cc.sys.localStorage.setItem("token",a),f.default.token=a,[4,this.userDataInit()];case 3:return r.sent(),[2]}})})},t.prototype.userDataInit=function(){return a(this,void 0,void 0,function(){var t,e,n,i,o,a,l;return r(this,function(r){switch(r.label){case 0:return r.trys.push([0,7,,9]),[4,Promise.resolve()];case 1:return t=window.initData,console.log("init data",t),e=t.code,n=t.openid,i=t.server_time,o=t.token,a=t.reset,i&&(s.default.servertime=i,s.default.Logintime=1e3*i),o&&(s.default.token=o),a&&(s.default.reset=a),200!==e?[3,2]:(f.default.openid=n,[2,this.handleInitUserData(t)]);case 2:return 202!==e?[3,4]:(new Promise(function(t){setTimeout(function(){t()},5e3)}),[4,this.userDataInit()]);case 3:return r.sent(),[3,6];case 4:return 401!==e?[3,6]:(f.default.token=null,[4,this.login()]);case 5:return r.sent(),[3,6];case 6:return[3,9];case 7:return l=r.sent(),console.error(l),new Promise(function(t){setTimeout(function(){t()},5e3)}),[4,this.userDataInit()];case 8:return r.sent(),[3,9];case 9:return[2]}})})},t.prototype.handleInitUserData=function(t){return new Promise(function(e,n){try{if(!y.default.check(t))return void console.log("\u6570\u636e\u6821\u9a8c\u9519\u8bef");t.is_new&&(f.default.isnew=t.is_new),t.openid&&(f.default.openid=t.openid);var i=t.data;if("string"==typeof t.data&&(i=JSON.parse(t.data)),l.default.strIfb64change(i.userData)){var o=l.default.inflateDataString(i.userData);i.userData=JSON.parse(JSON.parse(o))}console.log("\u672c\u5730\u6570\u636e",GUserData.GETDATA(GUserData.Key),"\n","\u670d\u52a1\u5668\u6570\u636e",i.userData);var a=t.settings.options;a&&f.default.init(a),GEvent.emit(GEventName.ServersDataSuc,i.userData),e(t)}catch(c){GEvent.emit(GEventName.ServersDataSuc,!1),console.log(c),n(c)}})},t.prototype.request=function(t,e,n,i){return void 0===e&&(e={}),void 0===n&&(n="GET"),void 0===i&&(i=null),new Promise(function(o,a){if("GET"===n||"POST"===n){var r="?";if(t.includes(r)&&(r="&"),"object"==typeof e){for(var s in e)if(e.hasOwnProperty(s)){t+=r,"?"==r&&(r="&");var l=e[s];t=t+s+"="+l}e=i}}var c=new XMLHttpRequest;c.timeout=2e3,c.onreadystatechange=function(){if(4==c.readyState)if(c.status>=200&&c.status<400){var t={data:JSON.parse(c.responseText),statusCode:c.status};o(t)}else a()},c.onerror=function(t){console.log("request error",t),Global.onShowTosat("\u7f51\u7edc\u52a0\u8f7d\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01"),a&&a()},c.open(n,t,!0),c.setRequestHeader("content-type","application/json");var u="string"==typeof e?e:JSON.stringify(e);c.send(u)})},t.prototype.request1=function(t,e,n,i){return void 0===e&&(e={}),void 0===n&&(n="GET"),void 0===i&&(i=null),new Promise(function(i,o){var a=new XMLHttpRequest;a.timeout=2e3,a.onreadystatechange=function(){if(4==a.readyState)if(a.status>=200&&a.status<400){var t={data:JSON.parse(a.responseText),statusCode:a.status};i(t)}else o()},a.onerror=function(t){console.log("request error",t),Global.onShowTosat("\u7f51\u7edc\u52a0\u8f7d\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01"),o&&o()},a.open(n,t,!0),a.setRequestHeader("content-type","application/json");var r="string"==typeof e?e:JSON.stringify(e);a.send(r)})},t.prototype.get_request=function(t,e){return void 0===e&&(e={}),new Promise(function(n,i){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="text",o.setRequestHeader("Content-Type","application/json"),o.onload=function(){200==o.status||304==o.status?n(o.responseText):i()},o.onloadend=function(t){console.log("request loadend",t)},o.onerror=function(t){console.log("request error",t),i()},o.ontimeout=function(){console.log("request timeout")};var a="string"==typeof e?e:JSON.stringify(e);o.send(a)})},t.prototype.post_request=function(t,e,n,i){void 0===e&&(e={});var o=new XMLHttpRequest;o.open("POST",t,!0),o.responseType="text",o.setRequestHeader("Content-Type","application/json"),o.onload=function(){200==o.status||304==o.status?n&&n(o.responseText):i&&i()},o.timeout=5e3,o.onloadend=function(t){console.log("request loadend",t)},o.onerror=function(){console.log("request error"),i&&i()},o.ontimeout=function(){console.log("request timeout")},o.send(JSON.stringify(e))},t.prototype.serverTime=function(t){return void 0===t&&(t=!0),new Promise(function(t){t(Date.now())})},t.prototype.saveServerData=function(){0!=f.default.isLogin&&h.default.send()},t.prototype.clearServerData=function(){d.default.clear()},t.prototype.resetreport=function(){return a(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return[4,y.default.create({token:s.default.token})];case 1:return t=e.sent(),d.default.resetreport(t),[2]}})})},t}()),cc._RF.pop()},{}],"NewScript - 001":[function(t,e,n){"use strict";cc._RF.push(e,"63775cvs15DY4GQh6+e+b2j","NewScript - 001");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("UIWidget"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.onLoad=function(){this.ad=this.getSpineSkeleton("ad"),this.skilCollider=this.node.getChildByName("skilloffset").getChildByName("skilcollider").getComponent(cc.PolygonCollider),this.animatorCtrl=new l.default(this.ad),this.animatorCtrl.setCompleteListener(this.onAnimationEvent.bind(this)),window.effAni=this},e.prototype.setAni=function(t){this.animatorCtrl.play(t)},e.prototype.start=function(){},e.prototype.onUpdateAtkCollider=function(){if(this.attSlot&&this.attSlot.attachment&&this.attSlot.attachment.vertices){(n=this.skilCollider).enabled=!0;var t=this.attSlot.attachment.vertices;n.points=[];for(var e=0;e<t.length;e++)e%2==0&&n.points.push(new cc.Vec2(t[e],t[e+1]));this.skilCollider.node.parent.x=this.attSlot.bone.worldX,this.skilCollider.node.parent.y=this.attSlot.bone.worldY,this.skilCollider.node.scaleX=this.attSlot.bone.parent.scaleX*this.attSlot.bone.scaleX,this.skilCollider.node.scaleY=this.attSlot.bone.parent.scaleY*this.attSlot.bone.scaleY,this.skilCollider.node.angle=this.attSlot.bone.rotation}else{var n;(n=this.skilCollider).enabled=!1}},s([d(cc.Label)],e.prototype,"label",void 0),s([d],e.prototype,"text",void 0),s([p],e)}(c.default);a.default=f,cc._RF.pop()},{}],"NewScript - 002":[function(t,e,n){"use strict";cc._RF.push(e,"cbfa8tSzthFsqo2+cnDQSlQ","NewScript - 002");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("ListView"),c=o("rankItem"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.listView=null,e.text="hello",e}return r(e,t),e.prototype.onLoad=function(){for(var t=Array(100),e=0;e<100;e++)t[e]="=="+e;var n=new h;n.setDataSet(t),this.listView.setAdapter(n)},e.prototype.onLoadRes=function(){var t=this;cc.resources.load("textures/common/item-023",cc.SpriteFrame,function(e,n){t.spriteFrame=n})},e.prototype.onLoadRes1=function(){var t=this;cc.resources.load("textures/common/item-040",cc.SpriteFrame,function(e,n){t.spriteFrame1=n})},e.prototype.onReleaseRes=function(){cc.assetManager.releaseAsset(this.spriteFrame),this.spriteFrame.decRef(),this.spriteFrame=null},e.prototype.start=function(){},e.prototype.testFun=function(t,e){void 0===t&&(t=1),console.log(t,e)},s([d(cc.Label)],e.prototype,"label",void 0),s([d(l.default)],e.prototype,"listView",void 0),s([d],e.prototype,"text",void 0),s([p],e)}(cc.Component);a.default=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.updateView=function(t,e,n){t.getComponent(c.default).setData(n)},e}(l.AbsAdapter);cc._RF.pop()},{}],NewScript:[function(t,e,n){"use strict";cc._RF.push(e,"0c566xPoP5EJ5c4pN2fLdOr","NewScript");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.start=function(){},r([l],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],NoamalHurtState:[function(t,e,n){"use strict";cc._RF.push(e,"4247689ValEZqOG6YF1kNw5","NoamalHurtState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("MajorStateBase"),c=o("StatePhase"),u=o("HurtPhase"),p=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.NormalHURT,e.PhaseDatas=[new c.PhaseData(u.HurtTypeEnum.Normal,new u.NormalHurtPhase)],e.PhaseManger=new c.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){this.PhaseManger.Soldier=this.Soldier,this.PhaseManger.state=u.HurtTypeEnum.Normal},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onExitPhase(),console.log("\u9000\u51faNormalHurt\u72b6\u6001")},e}(l.default);a.default=p,cc._RF.pop()},{}],NodePool:[function(t,e,n){"use strict";cc._RF.push(e,"8bc20IpsLpN2KHuYRyH1neR","NodePool");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){this._isReady=!1,this._preloadCount=0,this._createCount=0,this._warterMark=10,this._useKey="@NodePool",this._res=null,this._nodes=new Array}return t.prototype.isReady=function(){return this._isReady},t.prototype.init=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,o=arguments[0],a=arguments[1],r=arguments[2];this._preloadCount=a,o instanceof cc.Prefab?(this._res=o,this._isReady=!0,this.preloadNodeCount(),r&&r(null,this)):"string"!=typeof arguments[0]?console.error("NodePool init error "+o):cc.resources.load(o,cc.Prefab,function(e,n){e&&console.error("\u52a0\u8f7d\u5931\u8d25",o),i._res=n,i._res.addRef(),i._isReady=!0,t.preloadNodeCount(),r&&r(n,i)})},t.prototype.preloadNodeCount=function(){for(var t=0;t<this._preloadCount;t++){this._createCount++;var e=cc.instantiate(this._res);this.freeNode(e)}},t.prototype.getNode=function(){return this.isReady?this._nodes.length>0?this._nodes.pop():(this._createCount++,cc.instantiate(this._res)):null},t.prototype.freeNode=function(t){if(!t||!cc.isValid(t))return cc.error("[ERROR] PrefabPool: freePrefab: isValid node"),void this._createCount--;this._nodes.length>this._warterMark?(this._createCount--,t.destroy()):(t.removeFromParent(!0),t.cleanup(),this._nodes.push(t))},t.prototype.setWaterMark=function(t){this._warterMark=t},t.prototype.isUnuse=function(){return this._nodes.length>this._createCount&&cc.error("PrefabPool: _nodes.length > _createCount"),this._nodes.length==this._createCount},t.prototype.destory=function(){for(var t=this._nodes,e=0;e<t.length;e++)t[e].destroy();this._createCount-=this._nodes.length,this._nodes.length=0,this._res.decRef(),this._res=null},t}();i.default=o,cc._RF.pop()},{}],NormalATTACKState:[function(t,e,n){"use strict";cc._RF.push(e,"23622NVlfpCbpbRjX9uq24q","NormalATTACKState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=o("JIanHunSkillPhase"),c=o("StatePhase"),u=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.NORMALATTACK,e.PhaseDatas=[new c.PhaseData(l.JianHunPhaseId.NormalAtk,new l.NormalAtkPhase)],e.PhaseManger=new c.PhaseManger(e.Soldier,e.PhaseDatas),e}return r(e,t),e.prototype.onEnter=function(){this.PhaseManger.Soldier=this.Soldier,this.PhaseManger.state=l.JianHunPhaseId.NormalAtk},e.prototype.onUpdate=function(t){this.PhaseManger.onPhaseUpdate&&this.PhaseManger.onPhaseUpdate(t)},e.prototype.onExit=function(){this.PhaseManger.onExitPhase()},e}(o("BaseSkillState").default);a.default=u,cc._RF.pop()},{}],NoticeView:[function(t,e,n){"use strict";cc._RF.push(e,"14b29Rlsw9I64xZElOtc5uF","NoticeView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("CurrencyType"),p=o("GameStatsManager"),d=o("ServerCommonCfgMgr"),f=o("Admanager"),h=o("platformConfig"),y=o("Constant"),g=cc._decorator,m=g.ccclass,v=g.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noticeInfo=null,e.updateInfo=null,e.otherInfo=null,e.confirmBtn=null,e.rewardIcon=null,e.desLabel=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.noticeInfo.string=d.default.notice,this.updateInfo.string=d.default.updateInfo,this.otherInfo.string=d.default.otherInfo,this.ReflashView(),h.default.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&h.default.platformType!=y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS||(this.confirmBtn.node.active=!1,this.rewardIcon.active=!1),h.default.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?this.desLabel.string='1\u3001\u6e38\u620f\u5b58\u6863\u4e22\u5931\n\u8bf7\u5404\u4f4d\u73a9\u5bb6\uff0c\u5c3d\u91cf\u4e0d\u8981\u4e3b\u52a8\u6e05\u7406\u6296\u97f3\u8f6f\u4ef6\u7f13\u5b58\u3002\n2\u3001\u4e3a\u4ec0\u4e48\u770b\u4e0d\u4e86\u5e7f\u544a\uff1f\n\u6682\u65e0\u9002\u5408\u73a9\u5bb6\u7684\u5e7f\u544a\uff0c\u9700\u8981\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\u518d\u6b21\u5c1d\u8bd5\u3002\n3\u3001\u798f\u5229\uff1a\u6296\u97f3\u5173\u6ce8\u201c\u5c0f\u6e38\u620f\u798f\u5229\u541b\u201d\u548c\u201c\u6b22\u4e50\u6e38\u620f\u9171\u201d\u665a\u4e0a6\u70b9-10\u70b9\u7684\u76f4\u64ad\uff0c\u6bcf\u573a\u90fd\u6709\u798f\u5229\u7801\u8d60\u9001\u3002\n4\u3001\u65b0\u89d2\u8272\uff1a\u6296\u97f3\u641c\u7d22"\u70ed\u8840\u52c7\u58eb"\uff0c\u5c31\u53ef\u4ee5\u73a9\u65b0\u89d2\u8272\u3002':h.default.platformType==y.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX?this.desLabel.string="1\u3001\u6e38\u620f\u5b58\u6863\u4e22\u5931\n\u8bf7\u5404\u4f4d\u73a9\u5bb6\uff0c\u5c3d\u91cf\u4e0d\u8981\u4e3b\u52a8\u6e05\u7406\u5fae\u4fe1\u8f6f\u4ef6\u7f13\u5b58\u3002\n2\u3001\u4e3a\u4ec0\u4e48\u770b\u4e0d\u4e86\u5e7f\u544a\uff1f\n\u6682\u65e0\u9002\u5408\u73a9\u5bb6\u7684\u5e7f\u544a\uff0c\u9700\u8981\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\u518d\u6b21\u5c1d\u8bd5\u3002\n3\u3001\u9047\u5230\u95ee\u9898\u5982\u4f55\u53cd\u9988\uff1f\n\u5fae\u4fe1\u641c\u7d22\u516c\u4f17\u53f7\uff1a\u6b22\u4e50\u6e38\u620f\u9171\uff0c\u6216\u901a\u8fc7\u5ba2\u670d\u4f1a\u8bdd\u8df3\u8f6c\u81f3\u516c\u4f17\u53f7\u3002\u53cd\u9988\u95ee\u9898\uff0c\u5373\u6709\u673a\u4f1a\u9886\u53d6\u798f\u5229\u3002":this.desLabel.string="1\u3001\u6e38\u620f\u5b58\u6863\u4e22\u5931\n\u8bf7\u5404\u4f4d\u73a9\u5bb6\uff0c\u5c3d\u91cf\u4e0d\u8981\u4e3b\u52a8\u6e05\u7406\u8f6f\u4ef6\u7f13\u5b58\u3002\n2\u3001\u4e3a\u4ec0\u4e48\u770b\u4e0d\u4e86\u5e7f\u544a\uff1f\n\u6682\u65e0\u9002\u5408\u73a9\u5bb6\u7684\u5e7f\u544a\uff0c\u9700\u8981\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\u518d\u6b21\u5c1d\u8bd5\u3002",GEvent.emit(GEventName.ChangeViewTitle,"NoticeView")},e.prototype.onToggleChange=function(t,e){console.log("target",t.isChecked),1==e?(this.node.Child("probremView").active=!1,this.node.Child("mainInfo").active=!0):(this.node.Child("probremView").active=!0,this.node.Child("mainInfo").active=!1)},e.prototype.onShareBtn=function(){f.default.instance.randomShareAppMessageFromUrl(),GEvent.emit(GEventName.Task.WxShare),GEvent.emit(GEventName.MSTask.WxShare),l.default.Get(u.CurrencyType.COUPON,100),p.default.instance.isShareNotice=!0,this.ReflashView()},e.prototype.ReflashView=function(){this.confirmBtn.interactable=!p.default.instance.isShareNotice,this.confirmBtn.node.getChildByName("label").active=!p.default.instance.isShareNotice,this.confirmBtn.node.getChildByName("getLabel").active=p.default.instance.isShareNotice,this.confirmBtn.node.getChildByName("TX_anniu").active=!p.default.instance.isShareNotice},s([v(cc.Label)],e.prototype,"noticeInfo",void 0),s([v(cc.Label)],e.prototype,"updateInfo",void 0),s([v(cc.Label)],e.prototype,"otherInfo",void 0),s([v(cc.Button)],e.prototype,"confirmBtn",void 0),s([v(cc.Node)],e.prototype,"rewardIcon",void 0),s([v(cc.Label)],e.prototype,"desLabel",void 0),s([m],e)}(c.default);a.default=_,cc._RF.pop()},{}],NumberStorageValue:[function(t,e,n){"use strict";cc._RF.push(e,"bdb02iJmVNMJZt9Gn2C36FF","NumberStorageValue");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(e,n,i){void 0===i&&(i=!0);var o=this,a=Math.random(),r=Math.floor(1e7*a);return(o=t.call(this,e,n,i)||this)._key=r,o.symbol=n>=0?1:-1,o._value=o.Xor(Math.abs(n),o._key).toString(16),o}return r(e,t),Object.defineProperty(e.prototype,"SetValue",{set:function(t){this.symbol=t>=0?1:-1,this._value=this.Xor(Math.abs(t),this._key).toString(16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"GetValue",{get:function(){return this.Xor(parseInt(this._value,16),this._key)*this.symbol},enumerable:!1,configurable:!0}),e.prototype.Save=function(){return this.Xor(parseInt(this._value,16),this._key)*this.symbol},e.prototype.Load=function(t){if(null!=t&&null!=t&&""!==t){var e=Number(t);Number.isNaN(e)||(this.symbol=e>=0?1:-1,this._value=this.Xor(Math.abs(e),this._key).toString(16))}},e.prototype.Xor=function(t,e){for(var n=t.toString(2).split("").reverse(),i=e.toString(2).split("").reverse(),o=Math.max(n.length,i.length),a=[],r=0;r<o;r++)a.push(n[r]&&i[r]?n[r]!=i[r]?1:0:n[r]||i[r]);return parseInt(a.reverse().join(""),2)},e}(o("BaseStorageValue").default);a.default=s,cc._RF.pop()},{}],OpenPotManager:[function(t,e,n){"use strict";cc._RF.push(e,"a4c23+8yLVC+JUXcFs5rCZ4","OpenPotManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Utils"),r=i("GameStatsManager"),s=i("ServerCommonCfgMgr"),l=function(){function t(){this.OpenPotDataMgr=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.OpenPotDataMgr=t,s.default.getLoginTime().then(function(t){t&&a.default.doubleTimestampEqualDay(t,r.default.instance.lastLoginTime)&&e.ResetOpenTen()})},Object.defineProperty(t.prototype,"maxCount",{get:function(){return this.OpenPotDataMgr.wuziPotData.maxCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WuziPotCount",{get:function(){return this.OpenPotDataMgr.wuziPotData.openCount},set:function(t){this.OpenPotDataMgr.wuziPotData.openCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HighPotCount",{get:function(){return this.OpenPotDataMgr.highPotData.openCount},set:function(t){this.OpenPotDataMgr.highPotData.openCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ZhencangPotCount",{get:function(){return this.OpenPotDataMgr.zhencangPotData.openCount},set:function(t){this.OpenPotDataMgr.zhencangPotData.openCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstOpenTen",{get:function(){return this.OpenPotDataMgr.isFirstOpenTen},set:function(t){this.OpenPotDataMgr.isFirstOpenTen=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HighPotLastTime",{get:function(){var t=a.default.getTimestamp()-this.OpenPotDataMgr.highPotData.lastOpenTime;return t<this.OpenPotDataMgr.highPotData.timeInterval?this.OpenPotDataMgr.highPotData.timeInterval-t:0},set:function(t){this.OpenPotDataMgr.highPotData.lastOpenTime=t},enumerable:!1,configurable:!0}),t.prototype.ResetOpenTen=function(){this.OpenPotDataMgr.isFirstOpenTen=!1},t}();o.default=l,cc._RF.pop()},{}],OpenPotRewardView:[function(t,e,n){"use strict";cc._RF.push(e,"8374avAmkVMz54+3SyHE3aH","OpenPotRewardView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("SceneConfig"),u=o("View"),p=o("GameData"),d=o("CurrencyType"),f=o("GameError"),h=o("GuideManger"),y=o("BagManager"),g=o("GameStatsManager"),m=o("RoleCfgManager"),v=o("random"),_=o("Utils"),b=o("openPotItem"),k=o("ComTipsView"),S=cc._decorator,w=S.ccclass,T=S.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openPotRewardNode=null,e.tenRewardView=null,e.openPotItem=null,e.RewardLabel=null,e.RewardSp=null,e.RewardProgress=null,e.btnConfirm=null,e.lightMask=null,e.rewardEquipList=[],e}return r(e,t),e.prototype.onUILoad=function(){this.rewardEquipList=[]},e.prototype.onDisable=function(){this.node.stopAllActions()},e.prototype.initView=function(t,e){this.chooseIndex=t,this.isOpenTen=e,this.rewardEquipList=[],this.showOpenPotAni(this.chooseIndex)},e.prototype.showOpenPotAni=function(t){var e=this;this.btnConfirm.node.active=!1;var n=0,i=1,o=[],a=p.default.OpenPotRewardData()["POT_"+t];for(var r in a)o.push(r);var s=3*o.length;cc.tween(this.node).repeat(s,cc.tween(this.node).delay(.05).call(function(){var t=Math.floor(Math.random()*o.length),r=a[o[t]].icon;s-3<=i?(_.default.loadSpfFromRes("textures/common/shuaxin",e.RewardSp),e.RewardLabel.string=""):(_.default.loadSpfFromRes(r,e.RewardSp),e.RewardLabel.string=a[o[t]].name),e.RewardProgress.progress=i/s,n<o.length-1?n++:n=0,i++})).call(function(){e.isOpenTen?(e.lightMask.node.active=!0,e.tenRewardView.active=!0,e.openPotRewardNode.active=!1,cc.tween(e.lightMask.node).by(1,{opacity:-255}).call(function(){e.lightMask.node.opacity=255,e.lightMask.node.active=!1}).start(),e.getTenReward(t)):(e.getOneReward(t),cc.tween(e.RewardSp.node).to(.2,{scale:1.3}).call(function(){e.btnConfirm.node.active=!0,GEvent.emit(GEventName.Task.OpenPot,1)}).then(cc.tween(e.RewardSp.node).to(.5,{scale:1.15})).start())}).start()},e.prototype.getOneReward=function(t){var e=this.getRandomReward(t);if(-1==e.rewardEquipId){var n=p.default.OpenPotRewardData()["POT_"+t];_.default.loadSpfFromRes(n[e.rewardIndex].icon,this.RewardSp),this.RewardLabel.string=n[e.rewardIndex].name+" x"+e.rewardNum}else n=p.default.EquipData()[e.rewardEquipId],_.default.loadSpfFromRes(n.icon,this.RewardSp),this.RewardLabel.string=n.name+" x"+e.rewardNum},e.prototype.getTenReward=function(t){this.tenRewardView.getChildByName("rewardLayout").removeAllChildren();for(var e=0;e<10;e++){var n=this.getRandomReward(t,e),i=cc.instantiate(this.openPotItem);this.tenRewardView.getChildByName("rewardLayout").addChild(i),i.getComponent(b.default).SetItem(t,n.rewardIndex,n.rewardNum,n.rewardEquipId)}GEvent.emit(GEventName.Task.OpenPot,10)},e.prototype.getRandomReward=function(t,e){for(var n=this,i=p.default.OpenPotRewardData()["POT_"+t],o=[],a=0;a<i.length;a++)o[a]=i[a].weight;var r=v.default.randomByWeight(o),s=i[r].minNum,u=i[r].maxNum,_=s!=u?Math.floor(Math.random()*(u-s+1)+s):s,b=i[r].id,S=-1;if(h.GuideManger.instance.getZdGuideIfOpen(h.GuideTypeID.FirstLevel1_2)&&0==e&&(b=151,r=1,_=1),100==b)l.default.Get(d.CurrencyType.COIN,_);else if(101==b)l.default.Get(d.CurrencyType.COUPON,_);else if(103==b)l.default.Get(d.CurrencyType.FATIGUE,_);else if(102==b||b>103&&b<150)y.default.Init.AddItems(b,_);else if(b>=150){var w=b-147,T=[];for(var C in p.default.EquipData())p.default.EquipData()[C].quality==w&&p.default.EquipData()[C].lv>=m.default.instance.LV&&p.default.EquipData()[C].lv<=m.default.instance.LV+10&&1==p.default.EquipData()[C].type&&"1160407"!=C&&T.push(C);if(0==T.length)return this.getRandomReward(t);S=T[Math.floor(1e3*Math.random()%T.length)];var D=y.default.Init.CreatEquipment(S);D.succ||D.error!=f.GameError.BagFull||(this.rewardEquipList.push(S),g.default.instance.bagEquipUnlockPage<y.default.MAX_EQUIPBAGPAGE&&(this.sceneMgr().isLoaded(c.default.Scenes.ComTipsView)||this.sceneMgr().load(c.default.Scenes.ComTipsView,void 0,function(t,e){e.getComponent(k.default).setPageType(0,function(){for(var t=0;t<n.rewardEquipList.length;t++)y.default.Init.CreatEquipment(n.rewardEquipList[t])})})))}return{rewardIndex:r,rewardNum:_,rewardEquipId:S}},e.prototype.onBtnConfirm=function(){h.GuideManger.instance.getZdGuideIfOpen(h.GuideTypeID.FirstLevel1_2)&&this.sceneMgr().load(c.default.Scenes.GuideRewardView),this.close()},s([T(cc.Node)],e.prototype,"openPotRewardNode",void 0),s([T(cc.Node)],e.prototype,"tenRewardView",void 0),s([T(cc.Prefab)],e.prototype,"openPotItem",void 0),s([T(cc.Label)],e.prototype,"RewardLabel",void 0),s([T(cc.Sprite)],e.prototype,"RewardSp",void 0),s([T(cc.ProgressBar)],e.prototype,"RewardProgress",void 0),s([T(cc.Button)],e.prototype,"btnConfirm",void 0),s([T(cc.Sprite)],e.prototype,"lightMask",void 0),s([w],e)}(u.default);a.default=C,cc._RF.pop()},{}],PakoManager:[function(t,e,n){"use strict";cc._RF.push(e,"cc376ggDV9CQo/sH4ZGOt0E","PakoManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("pako"),r=i("base64-js"),s=function(){function t(){}return t.b64DeflateData=function(t){var e=a.deflate(JSON.stringify(t),{gzip:!0,to:"string"});return r.fromByteArray(e)},t.inflateDataString=function(t){var e=r.toByteArray(t);return a.inflate(e,{gzip:!0,to:"string"})},t.strIfb64change=function(t){return"string"==typeof t&&t.length>0&&"{"!=t[0]},t}();o.default=s,cc._RF.pop()},{}],PassLVRewardView:[function(t,e,n){"use strict";cc._RF.push(e,"0282fdvsupEsLUGE3AW2SEb","PassLVRewardView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("GameData"),p=o("CurrencyType"),d=o("RewardType"),f=o("GameHelper"),h=o("BagManager"),y=o("FashionManager"),g=o("FashionSkinDataManger"),m=o("ModeLVDataManger"),v=o("Admanager"),_=o("Utils"),b=cc._decorator,k=b.ccclass,S=b.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardItem=null,e.freeRewardList=null,e.adRewardList=null,e.freeBtn=null,e.adBtn=null,e.curChapter=1,e.curSubsection=1,e.fashionIndex=6,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.fashionIndex=6},e.prototype.showReward=function(t,e){this.curChapter=t,this.curSubsection=e,this.PassLVData=u.default.PassLVData()[this.curChapter+"_"+this.curSubsection];for(var n=this.PassLVData.free_reward,i=this.PassLVData.ad_reward,o=0;o<n.length;o++)(a=cc.instantiate(this.rewardItem)).active=!0,this.setItem(a,n[o]),a.parent=this.freeRewardList;for(o=0;o<i.length;o++){var a;(a=cc.instantiate(this.rewardItem)).active=!0,this.setItem(a,i[o]),a.parent=this.adRewardList}if(m.default.instance.ChapterLvPass(this.curChapter,this.curSubsection)){var r=m.default.instance.getClassicsChapterLvData(this.curChapter,this.curSubsection);r?(this.freeBtn.interactable=!r.isFreePassReward,r.isFreePassReward&&(this.freeBtn.node.getChildByName("label").color=cc.color(170,170,170),this.freeBtn.node.getChildByName("TX_anniu").active=!1),this.adBtn.interactable=!r.isAdPassReward):(this.freeBtn.node.active=!1,this.adBtn.node.active=!1)}else this.freeBtn.node.active=!1,this.adBtn.node.active=!1},e.prototype.setItem=function(t,e){var n=e.type,i=t.getChildByName("iconbg").getComponent(cc.Sprite),o=t.getChildByName("icon").getComponent(cc.Sprite),a=t.getChildByName("count").getComponent(cc.Label),r=t.getChildByName("name").getComponent(cc.Label);switch(n){case d.RewardType.CURRENCY:_.default.loadSpfFromRes(u.default.CurrenyData()[e.id].icon,o),a.string="x"+e.count,r.string=u.default.CurrenyData()[e.id].name;break;case d.RewardType.ITEM:_.default.loadSpfFromRes(u.default.ItemData()[e.id].icon,o),a.string="x"+e.count,r.string=u.default.ItemData()[e.id].name;break;case d.RewardType.FASHION:_.default.loadSpfFromRes(y.default.Init.getFashionSetById(this.fashionIndex).equip[e.id].icon,i),a.string="x"+e.count,r.string=y.default.Init.getFashionSetById(this.fashionIndex).equip[e.id].name;break;case d.RewardType.FASHIONWEAPON:var s;f.default.instance.fashionWeaponData().forEach(function(t){t.id==e.id&&(s=t)}),_.default.loadSpfFromRes(s.icon,o),o.node.scale=.25,o.node.angle=-45,a.string="x"+e.count,r.string=s.name}},e.prototype.getFreeReward=function(){for(var t=this.PassLVData.free_reward,e=0;e<t.length;e++)switch(t[e].type){case d.RewardType.CURRENCY:100==t[e].id&&l.default.Get(p.CurrencyType.COIN,t[e].count),101==t[e].id&&l.default.Get(p.CurrencyType.COUPON,t[e].count);break;case d.RewardType.ITEM:h.default.Init.AddItems(t[e].id,t[e].count);break;case d.RewardType.FASHION:case d.RewardType.FASHIONWEAPON:}},e.prototype.getAdReward=function(){for(var t=this.PassLVData.ad_reward,e=0;e<t.length;e++)switch(t[e].type){case d.RewardType.CURRENCY:100==t[e].id&&l.default.Get(p.CurrencyType.COIN,t[e].count),101==t[e].id&&l.default.Get(p.CurrencyType.COUPON,t[e].count);break;case d.RewardType.ITEM:h.default.Init.AddItems(t[e].id,t[e].count);break;case d.RewardType.FASHION:y.default.Init.getFashion(this.fashionIndex,t[e].id);break;case d.RewardType.FASHIONWEAPON:g.default.instance.getFashionSkin(0,t[e].id)}},e.prototype.onBtnFree=function(){var t=m.default.instance.getClassicsChapterLvData(this.curChapter,this.curSubsection);t&&!t.isFreePassReward&&(this.getFreeReward(),m.default.instance.setPassLvReward(this.curChapter,this.curSubsection,!0,!1),this.freeBtn.interactable=!1,this.freeBtn.node.getChildByName("label").color=cc.color(170,170,170),this.freeBtn.node.getChildByName("TX_anniu").active=!1,GEvent.emit(GEventName.RefreshPassLvReward),Global.onShowTosat("\u9886\u53d6\u6210\u529f"))},e.prototype.onBtnAd=function(){var t=this;v.default.instance.playRewardVideo(function(){var e=m.default.instance.getClassicsChapterLvData(t.curChapter,t.curSubsection);e&&(e.isFreePassReward||(t.getFreeReward(),m.default.instance.setPassLvReward(t.curChapter,t.curSubsection,!0,!1),t.freeBtn.interactable=!1,t.freeBtn.node.getChildByName("label").color=cc.color(170,170,170),t.freeBtn.node.getChildByName("TX_anniu").active=!1),e.isAdPassReward||(t.getAdReward(),m.default.instance.setPassLvReward(t.curChapter,t.curSubsection,!0,!0),t.adBtn.interactable=!1,GEvent.emit(GEventName.RefreshPassLvReward),Global.onShowTosat("\u9886\u53d6\u6210\u529f"))),GEvent.emit(GEventName.Task.WatchVideo)})},s([S(cc.Node)],e.prototype,"rewardItem",void 0),s([S(cc.Node)],e.prototype,"freeRewardList",void 0),s([S(cc.Node)],e.prototype,"adRewardList",void 0),s([S(cc.Button)],e.prototype,"freeBtn",void 0),s([S(cc.Button)],e.prototype,"adBtn",void 0),s([k],e)}(c.default);a.default=w,cc._RF.pop()},{}],PassLevelType:[function(t,e,n){"use strict";cc._RF.push(e,"c5c4bsA0YFAjL/aZi5+5Whu","PassLevelType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.PassLevelType=void 0,function(t){t[t.NONE=0]="NONE",t[t.PASS=1]="PASS",t[t.FAILED=2]="FAILED"}(i.PassLevelType||(i.PassLevelType={})),cc._RF.pop()},{}],PlayerDidState:[function(t,e,n){"use strict";cc._RF.push(e,"bf227hJX1dMB4qtpr7GlJCq","PlayerDidState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.StateId=s.default.DIE,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.Soldier.Direct=this.Soldier.Direct,this.Soldier.setAnimation(this.Soldier.HeroAniNameCfg.Die,!1),this.Soldier.animatorCtrl.setTrackCompleteListener(this.setTrackCompleteListenerCb.bind(this)),this.Soldier.openADKeyDiversion=!1},e.prototype.setTrackCompleteListenerCb=function(){GEvent.emit(GEventName.CombatEvents.PlayerDie)},e.prototype.onUpdate=function(){},e.prototype.onExit=function(){this.Soldier.openADKeyDiversion=!0},e}(o("MajorStateBase").default);a.default=l,cc._RF.pop()},{}],PoisoningState:[function(t,e,n){"use strict";cc._RF.push(e,"a111arx3YdMRZJtgW8j6Mf6","PoisoningState");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateId"),l=function(t){function e(){var e=t.call(this)||this;return e.time=1,e.StateId=s.default.poisoning,e}return r(e,t),e.prototype.onEnter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.time=100},e.prototype.onUpdate=function(t){this.time-=t,this.time<=0&&this.Soldier.removeSubState(this.StateId)},e.prototype.onExit=function(){},e}(o("SubStateBase").default);a.default=l,cc._RF.pop()},{}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"5f21dz6NApGBJOJIg2iEQEC","PoolManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.PoolKeys=void 0;var a,r=i("NodePool");(function(t){t.Skill="skill",t.BeHitVFX="BeHitVFX",t.subHpItem="subHpItem",t.Enemy="Enemy",t.Buff="Buff",t.BTVFX="BTVFX",t.ReviveEff="ReviveEff",t.DropItem="DropItem",t.lastBossEff="lastBossEff",t.BlackHole="BlackHole"})(a=o.PoolKeys||(o.PoolKeys={}));var s=function(){function t(){this.PoolsMap=new Map,this.loadList=[{url:"game/item/SoldierSkinEff",type:a.Skill,preloadCount:0},{url:"game/item/BeHitVFX",type:a.BeHitVFX,preloadCount:0},{url:"game/item/Enemy",type:a.Enemy,preloadCount:0},{url:"game/item/subHpItem",type:a.subHpItem,preloadCount:0},{url:"game/item/Buff",type:a.Buff,preloadCount:5},{url:"game/item/ReviveEff",type:a.ReviveEff,preloadCount:5},{url:"game/item/BTVFX",type:a.BTVFX,preloadCount:0},{url:"game/item/BTVFX",type:a.BTVFX,preloadCount:0},{url:"game/item/DropItem",type:a.DropItem,preloadCount:0},{url:"game/item/lastBossEff",type:a.lastBossEff,preloadCount:0},{url:"game/item/BlackHole",type:a.BlackHole,preloadCount:0}]}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),window.PoolManager=this._ins,this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;return new Promise(function(e){var n=0,i=function(){++n>=t.loadList.length&&(console.log("\u6218\u6597\u5bf9\u8c61\u6c60\u52a0\u8f7d\u5b8c\u6210"),e(!0))};for(var o in t.loadList)t.adItemPool(t.loadList[o].url,t.loadList[o].type,t.loadList[o].preloadCount,i)})},t.prototype.initSKill=function(){var t=this;return new Promise(function(e){t.adItemPool(t.loadList[0].url,t.loadList[0].type,t.loadList[0].preloadCount,function(){console.log("\u6218\u6597\u5bf9\u8c61\u6c60\u52a0\u8f7d\u5b8c\u6210"),e(!0)})})},t.prototype.adItemPool=function(t,e,n,i){void 0===n&&(n=0);var o=new r.default;o.init(t,n,i),this.PoolsMap.set(e,o)},t.prototype.getItemPoolNode=function(t){var e=this.PoolsMap.get(t);if(e)return e.getNode();cc.error("\u8be5\u5bf9\u8c61\u6c60\u6ca1\u6709\u521b\u5efa",t)},t.prototype.pushItemPoolNode=function(t,e){var n=this.PoolsMap.get(t);n?n.freeNode(e):cc.error("\u8be5\u5bf9\u8c61\u6c60\u6ca1\u6709\u521b\u5efa",t)},t.prototype.getItemPool=function(t){var e=this.PoolsMap.get(t);if(e)return e;cc.error("\u8be5\u5bf9\u8c61\u6c60\u6ca1\u6709\u521b\u5efa",t)},t.prototype.destroyAllPool=function(){this.PoolsMap.forEach(function(t){t.destory()}),this.PoolsMap=new Map},t}();o.default=s,cc._RF.pop()},{}],Pool:[function(t,e,n){"use strict";cc._RF.push(e,"5285fkCDqBC1ojMw7DuYA2r","Pool");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){this.aaa=new Map}return t.prototype.getItemByClass=function(t,e){if(this[t+"Pool"]){if(this[t+"Pool"].size>0){var n=this[t+"Pool"].get(this[t+"Pool"].size);return this[t+"Pool"].delete(this[t+"Pool"].size),n}return new e}this[t+"Pool"]=new Map;for(var i=1;i<=20;i++)this[t+"Pool"].set(i,new e);return new e},t.prototype.recover=function(t,e){if(e&&e.Reset&&e.Reset(),this[t+"Pool"]){var n=this[t+"Pool"].size;this[t+"Pool"].set(n,e)}else this[t+"Pool"]=new Map,this[t+"Pool"].set(1,e);e=null},t}();i.default=new o,cc._RF.pop()},{}],PowerUpResultView:[function(t,e,n){"use strict";cc._RF.push(e,"8dcb1r7HvtJGbLoHwjBuMjw","PowerUpResultView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("Utils"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noticeLab=null,e.equipIcon=null,e.equipName=null,e.equipPowerLv=null,e.BasicAtt1=null,e.BasicAtt2=null,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.showPowerUpSuc=function(t,e){var n=e.Clone();n.PowerLv=t,this.noticeLab.string="\u5f3a\u5316\u88c5\u5907\u6210\u529f\uff01",c.default.loadSpfFromRes(e.icon,this.equipIcon),this.equipName.string=e.name,this.equipPowerLv.string="+"+e.PowerLv;var i=n.GetEquipBaseEntryPowerInfo(),o=e.GetEquipBaseEntryPowerInfo();this.BasicAtt1.children[0].getComponent(cc.Label).string=i[0][0],this.BasicAtt1.children[0].getChildByName("count").getComponent(cc.Label).string=i[0][1]?i[0][1].toString():"0",i.length>1?(this.BasicAtt1.children[1].getComponent(cc.Label).string=i[1][0],this.BasicAtt1.children[1].getChildByName("count").getComponent(cc.Label).string=i[1][1]?i[1][1].toString():"0"):(this.BasicAtt1.children[1].getComponent(cc.Label).string="",this.BasicAtt1.children[1].getChildByName("count").getComponent(cc.Label).string=""),this.BasicAtt2.children[0].getComponent(cc.Label).string=o[0][0],this.BasicAtt2.children[0].getChildByName("count").getComponent(cc.Label).string=o[0][1]?o[0][1].toString():"0",o.length>1?(this.BasicAtt2.children[1].getComponent(cc.Label).string=o[1][0],this.BasicAtt2.children[1].getChildByName("count").getComponent(cc.Label).string=o[1][1]?o[1][1].toString():"0"):(this.BasicAtt2.children[1].getComponent(cc.Label).string="",this.BasicAtt2.children[1].getChildByName("count").getComponent(cc.Label).string="")},e.prototype.showFixSuc=function(t,e){this.noticeLab.string="\u91cd\u7f6e\u88c5\u5907\u6210\u529f\uff01",c.default.loadSpfFromRes(e.icon,this.equipIcon),this.equipName.string=e.name,this.equipPowerLv.string="";var n=t.GetEquipBaseEntryInfo(),i=e.GetEquipBaseEntryInfo();this.BasicAtt1.children[0].getComponent(cc.Label).string=n[0][0],this.BasicAtt1.children[0].getChildByName("count").getComponent(cc.Label).string=n[0][1]?n[0][1].toString():"0",n.length>1?(this.BasicAtt1.children[1].getComponent(cc.Label).string=n[1][0],this.BasicAtt1.children[1].getChildByName("count").getComponent(cc.Label).string=n[1][1]?n[1][1].toString():"0"):(this.BasicAtt1.children[1].getComponent(cc.Label).string="",this.BasicAtt1.children[1].getChildByName("count").getComponent(cc.Label).string=""),this.BasicAtt2.children[0].getComponent(cc.Label).string=i[0][0],this.BasicAtt2.children[0].getChildByName("count").getComponent(cc.Label).string=i[0][1]?i[0][1].toString():"0",i.length>1?(this.BasicAtt2.children[1].getComponent(cc.Label).string=i[1][0],this.BasicAtt2.children[1].getChildByName("count").getComponent(cc.Label).string=i[1][1]?i[1][1].toString():"0"):(this.BasicAtt2.children[1].getComponent(cc.Label).string="",this.BasicAtt2.children[1].getChildByName("count").getComponent(cc.Label).string="")},e.prototype.onBtnConfirm=function(){this.close()},s([d(cc.Label)],e.prototype,"noticeLab",void 0),s([d(cc.Sprite)],e.prototype,"equipIcon",void 0),s([d(cc.Label)],e.prototype,"equipName",void 0),s([d(cc.Label)],e.prototype,"equipPowerLv",void 0),s([d(cc.Node)],e.prototype,"BasicAtt1",void 0),s([d(cc.Node)],e.prototype,"BasicAtt2",void 0),s([p],e)}(l.default);a.default=f,cc._RF.pop()},{}],PrivacyTipView:[function(t,e,n){"use strict";cc._RF.push(e,"276f6ftsXZECpoUMfP29hCh","PrivacyTipView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=o("GameStatsManager"),d=o("Admanager"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.onBtnPrivacy=function(){c.default.instance.load(l.default.Scenes.PrivacyView)},e.prototype.onBtnRect=function(){p.default.instance.passPrivacy=!0,this.close()},e.prototype.onBtnCancel=function(){d.default.instance.exitMiniProgram()},s([h],e)}(u.default));a.default=y,cc._RF.pop()},{}],PrivacyView:[function(t,e,n){"use strict";cc._RF.push(e,"ebb2db1Et1CjLv4Lx5i/Jl2","PrivacyView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){},s([u],e)}(l.default));a.default=p,cc._RF.pop()},{}],RankBossDialog:[function(t,e,n){"use strict";cc._RF.push(e,"22b1eoCHPZPja2EZfZgQ1Jj","RankBossDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.MyDataListAdapter=void 0;var l=o("ListView"),c=o("View"),u=o("RankManager"),p=o("rankBossItem"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.listView=null,e.rankItem=null,e.myRank=null,e}return r(e,t),e.prototype.onUILoad=function(){if(this.myRank=this.getNodeComponent("myRank",p.default),this.myRank.node.active=!1,this.rankData=u.default.BossModeData,this.rankData){this.rankdatas=this.rankData.rank_info;var t=new g;t.setDataSet(this.rankdatas),this.listView.setAdapter(t),this.myRank.node.active=!0;var e=u.default.gldata.rank3;this.myRank.onInit(this.rankData.self_rank,e,!0)}},s([h(cc.Node)],e.prototype,"content",void 0),s([h(l.default)],e.prototype,"listView",void 0),s([f],e)}(c.default);a.default=y;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.updateView=function(t,e,n){t.getComponent(p.default).onInit(e+1,n)},e}(l.AbsAdapter);a.MyDataListAdapter=g,cc._RF.pop()},{}],RankGLDialog:[function(t,e,n){"use strict";cc._RF.push(e,"647b4B23wJOnINCUmlWY5uj","RankGLDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.MyDataListAdapter=void 0;var l=o("ListView"),c=o("View"),u=o("RankManager"),p=o("rankItem"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.listView=null,e.rankItem=null,e.myRank=null,e}return r(e,t),e.prototype.onUILoad=function(){if(this.myRank=this.getNodeComponent("myRank",p.default),this.myRank.node.active=!1,this.rankData=u.default.RankSerBackData,this.rankData){this.rankdatas=this.rankData.rank_info;var t=new g;t.setDataSet(this.rankdatas),this.listView.setAdapter(t),this.myRank.node.active=!0;var e=u.default.gldata.rank1;this.myRank.onInit(this.rankData.self_rank,e,!0)}},s([h(cc.Node)],e.prototype,"content",void 0),s([h(l.default)],e.prototype,"listView",void 0),s([f],e)}(c.default);a.default=y;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.updateView=function(t,e,n){t.getComponent(p.default).onInit(e+1,n)},e}(l.AbsAdapter);a.MyDataListAdapter=g,cc._RF.pop()},{}],RankManager:[function(t,e,n){"use strict";cc._RF.push(e,"820f9QNLgxNu5ONBnAVCtHJ","RankManager");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=i("GameCalculate"),l=i("BagLocalDataManger"),c=i("HeroTitleDataManger"),u=i("TowerDataManager"),p=(i("api"),i("RoleCfgManager"));o.default=new(function(){function t(){this.RankSerBackData=null,this.DeathTowerData=null,this.BossModeData=null}return Object.defineProperty(t.prototype,"gldata",{get:function(){var t=this.getCE(),e=p.default.instance.LV,n=p.default.instance.headIconUrl,i=p.default.instance.curName,o=l.default.instance.equiping,a=c.default.instance.curweartitleId,r=u.default.instance.getMaxpassLayer>u.default.MaxTowerCount?0:u.default.instance.getMaxpassLayer;return{rank1:{value:t,origin_value:t,data:{grade:e,headIconId:n,name:i,ce:t,equiping:o}},rank2:{value:r,origin_value:r,data:{gameTitleID:a,headIconId:n,name:i,ch:r}}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;this.getRankGlList(1).then(function(e){null!=e&&(t.RankSerBackData=e.data)}),this.getRankGlList(2).then(function(e){null!=e&&(t.DeathTowerData=e.data)}),this.getRankGlList(3).then(function(e){null!=e&&(t.BossModeData=e.data)})},t.prototype.getCE=function(){var t=s.default.GetPlayerAttributeInUI();return s.default.GetPlayerCEFromUI(t)},t.prototype.getRankGlList=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=20),a(this,void 0,Promise,function(){return r(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(1==t?window.rankInfo1:2==t?window.rankInfo2:window.rankInfo3)];case 1:return[2,e.sent()]}})})},t}()),cc._RF.pop()},{}],RankTowerDialog:[function(t,e,n){"use strict";cc._RF.push(e,"82fb5DyYqlJCbB3T6cUkVHE","RankTowerDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.MyOTwerDataListAdapter=void 0;var l=o("ListView"),c=o("View"),u=o("RankManager"),p=o("rankTowerItem"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.listView=null,e.rankItem=null,e.myRank=null,e}return r(e,t),e.prototype.onUILoad=function(){if(this.myRank=this.getNodeComponent("myRank",p.default),this.myRank.node.active=!1,this.rankData=u.default.DeathTowerData,this.rankData){this.rankdatas=this.rankData.rank_info;var t=new g;t.setDataSet(this.rankdatas),this.listView.setAdapter(t),this.myRank.node.active=!0;var e=u.default.gldata.rank2;this.myRank.onInit(this.rankData.self_rank,e,!0)}},s([h(cc.Node)],e.prototype,"content",void 0),s([h(l.default)],e.prototype,"listView",void 0),s([f],e)}(c.default);a.default=y;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.updateView=function(t,e,n){t.getComponent(p.default).onInit(e+1,n)},e}(l.AbsAdapter);a.MyOTwerDataListAdapter=g,cc._RF.pop()},{}],RankView:[function(t,e,n){"use strict";cc._RF.push(e,"971bcFB/91EqYOBU+M7Ix8z","RankView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("View"),u=o("platformConfig"),p=o("SubdomainMgr"),d=o("Constant"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.platform=function(){u.default.platformType!=d.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX&&(this.getNode("chooseToggle/btn_wx").active=!1)},e.prototype.onUILoad=function(){this.setplatform(),this.onClick("chooseToggle/btn_global",this.onClickGlobal,this),this.onClick("chooseToggle/btn_wx",this.onClickFriend,this),this.onClick("chooseToggle/btn_tower",this.onClickTower,this),this.onClick("chooseToggle/btn_bossmode",this.onClickBossMode,this),this.platform()},e.prototype.onUIEnable=function(){p.SubdomainMgr.postMessage(p.SubdomainMessageType.SHOWRANK),GEvent.emit(GEventName.ChangeViewTitle,"RankView"),this.onClickGlobal()},e.prototype.onClickGlobal=function(){this.onHideAllRanksView(),this.sceneMgr().isLoaded(l.default.Scenes.RankGLDialog)?this.sceneMgr().show(l.default.Scenes.RankGLDialog):this.sceneMgr().load(l.default.Scenes.RankGLDialog)},e.prototype.onClickFriend=function(){this.onHideAllRanksView(),this.sceneMgr().isLoaded(l.default.Scenes.RankWXFriendDialog)?this.sceneMgr().show(l.default.Scenes.RankWXFriendDialog):this.sceneMgr().load(l.default.Scenes.RankWXFriendDialog)},e.prototype.onClickTower=function(){this.onHideAllRanksView(),this.sceneMgr().isLoaded(l.default.Scenes.RankTowerDialog)?this.sceneMgr().show(l.default.Scenes.RankTowerDialog):this.sceneMgr().load(l.default.Scenes.RankTowerDialog)},e.prototype.onClickBossMode=function(){this.onHideAllRanksView(),this.sceneMgr().isLoaded(l.default.Scenes.RankBossDialog)?this.sceneMgr().show(l.default.Scenes.RankBossDialog):this.sceneMgr().load(l.default.Scenes.RankBossDialog)},e.prototype.close=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.onCloseAllRanksView(),t.prototype.close.apply(this,e),!0},e.prototype.onHideAllRanksView=function(){this.sceneMgr().isLoaded(l.default.Scenes.RankGLDialog)&&this.sceneMgr().hide(l.default.Scenes.RankGLDialog),this.sceneMgr().isLoaded(l.default.Scenes.RankTowerDialog)&&this.sceneMgr().hide(l.default.Scenes.RankTowerDialog),this.sceneMgr().isLoaded(l.default.Scenes.RankWXFriendDialog)&&this.sceneMgr().hide(l.default.Scenes.RankWXFriendDialog),this.sceneMgr().isLoaded(l.default.Scenes.RankBossDialog)&&this.sceneMgr().hide(l.default.Scenes.RankBossDialog)},e.prototype.onCloseAllRanksView=function(){this.sceneMgr().isLoaded(l.default.Scenes.RankGLDialog)&&this.sceneMgr().close(l.default.Scenes.RankGLDialog),this.sceneMgr().isLoaded(l.default.Scenes.RankTowerDialog)&&this.sceneMgr().close(l.default.Scenes.RankTowerDialog),this.sceneMgr().isLoaded(l.default.Scenes.RankWXFriendDialog)&&this.sceneMgr().close(l.default.Scenes.RankWXFriendDialog),this.sceneMgr().isLoaded(l.default.Scenes.RankBossDialog)&&this.sceneMgr().close(l.default.Scenes.RankBossDialog)},s([h],e)}(c.default));a.default=y,cc._RF.pop()},{}],RankWXFriendDialog:[function(t,e,n){"use strict";cc._RF.push(e,"c825fcJOj1LGqV6bvSC/kvg","RankWXFriendDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.onClick("btn_nexPage",this.nextPage,this),this.onClick("btn_lastPage",this.lastPage,this)},e.prototype.onEnable=function(){var t={},e=this.node;t.width=e.getContentSize().width,t.height=e.getContentSize().height;var n=wx.getSystemInfoSync();console.log("phoneInfo:",n);var i=cc.winSize,o=n.screenWidth/i.width,a=n.screenHeight/i.height,r={x:(i.width/2-(e.width/2-e.x))*o,y:(i.height/2-e.height/2-e.y)*a};this.sendMessageToSub("action_init_context",{view:"RankView",bound:t,spacingY:10,scaleX:o,scaleY:a,startPos:r}),this.updateView()},e.prototype.nextPage=function(){console.log("\u4e0b\u4e00\u9875"),this.sendMessageToSub("action_paging",{add:1,view:"RankView"})},e.prototype.lastPage=function(){console.log("\u4e0a\u4e00\u9875"),this.sendMessageToSub("action_paging",{add:-1,view:"RankView"})},e.prototype.updateView=function(){console.log("\u66f4\u65b0updateView \u66f4\u65b0updateView \u66f4\u65b0updateView"),this.sendMessageToSub("RankView",{sortKey:"",key:"warPower"})},e.prototype.sendMessageToSub=function(t,e){var n=wx.getOpenDataContext();if(n){var i={};i.what=t,i.arguments=e,n.postMessage(i)}},s([u],e)}(l.default));a.default=p,cc._RF.pop()},{}],RecorderView:[function(t,e,n){"use strict";cc._RF.push(e,"56083SIo7BEtIutCw1OSm6g","RecorderView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("CurrencyType"),p=o("BagManager"),d=o("Admanager"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sussce=null,e}return r(e,t),e.prototype.onUIStart=function(){this.onSetClick()},e.prototype.onSetClick=function(){this.onClick("content/btn_recorder",this.viedoShare,this)},e.prototype.viedoShare=function(){var t=this;d.default.instance.viedoShare(function(){setTimeout(function(){Global.onShowTosat("\u5206\u4eab\u6210\u529f\uff0c\u83b7\u5f97\u5956\u52b1")},1e3),p.default.Init.AddItems(140,20),l.default.Get(u.CurrencyType.COIN,1e4),t.sussce&&t.sussce(),t.close()})},s([h],e)}(c.default));a.default=y,cc._RF.pop()},{}],ResManager:[function(t,e,n){"use strict";cc._RF.push(e,"d2fd1Vb0ZBE56iHKeXm1CWb","ResManager");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.purge=function(){t.instance&&(t.instance=null)},t.prototype.setResSpriteFrame=function(t,e,n){t.__SPRITE_FRAME_URL__=e,cc.loader.loadRes(e,cc.SpriteFrame,function(i,o){!i&&t.isValid&&t.__SPRITE_FRAME_URL__===e&&(t.spriteFrame=o,n&&n())})},t.prototype.setImageUrl=function(t,e){if(null==e||null==e||-1==e.search(/http/i))return!1;cc.loader.load({url:e,type:"jpg"},function(e,n){e||t.isValid&&(t.spriteFrame=new cc.SpriteFrame(n))})},t.instance=null,t}();i.default=o,cc._RF.pop()},{}],ResManger:[function(t,e,n){"use strict";cc._RF.push(e,"d9774u9cDVIQK4DrVKE1tLi","ResManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.ResManger=void 0;var a=i("GameData"),r=function(){function t(){this.Bundles=["texture","heroSpine","spines"],this.proDis={res:{curPro:0,pro:1.01},subPack:{curPro:0,pro:.15}},this.MapResList=new Map}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.loadRes=function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),a.default.initJson(function(e,i){console.log("onJsonProgress",e/i),n.proDis.res.curPro=e/i*n.proDis.res.pro,t&&t(n.onpro(),1)},function(){console.log("onJosnComplete"),e&&e()})},t.prototype.onpro=function(){var t=0;for(var e in this.proDis)t+=this.proDis[e].curPro;return t>1&&(t=1),t},t}();o.ResManger=r,cc._RF.pop()},{}],ReviveEff:[function(t,e,n){"use strict";cc._RF.push(e,"6875c3EaxxG4qKEosGfR3MJ","ReviveEff");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("PoolManager"),c=o("AnimatorCtrl"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.prototype.onLoad=function(){this.ad=this.node.getComponent(sp.Skeleton),this.animatorCtrl=new c.default(this.ad)},e.Create=function(){return l.default.instance.getItemPoolNode(l.PoolKeys.ReviveEff).getComponent(n)},e.prototype.Recover=function(){l.default.instance.pushItemPoolNode(l.PoolKeys.ReviveEff,this.node)},e.prototype.onExit=function(){this.Recover()},e.prototype.onInit=function(t){this.node.parent=t.node.parent,this.node.position=t.node.position,this.playAni(t)},e.prototype.playAni=function(t){var e=this;this.Hero=t,this.animatorCtrl.play("TyTx_fuhuo"),this.animatorCtrl.setCompleteListener(function(){e.onExit()})},e.prototype.update=function(){this.Hero&&(this.node.position=this.Hero.node.position)},n=s([p],e)}(cc.Component));a.default=d,cc._RF.pop()},{}],ReviveView:[function(t,e,n){"use strict";cc._RF.push(e,"09534FLdh9GJYyvqYKzfvsL","ReviveView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameHelper"),u=o("BagManager"),p=o("CommonDataMgr"),d=o("Admanager"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.onClick("content/btn_close",this.onBackHome,this),this.onClick("content/btn_revivebi",this.onRevivebi,this),this.onClick("content/btn_freerevive",this.onFreerevive,this),this.revivelb=this.getLabel("content/reivebi/revivelb"),this.revivelb.string=p.CommonDataMgr.instance.ReviveCoin.toString()},e.prototype.onUIEnable=function(){this.commercialize()},e.prototype.onUIDisable=function(){this.commercializeHide()},e.prototype.commercialize=function(){d.default.instance.showBanner()},e.prototype.commercializeHide=function(){d.default.instance.hideBanner()},e.prototype.onBackHome=function(){GEvent.emit(GEventName.CombatEvents.GameFailed),this.close,c.default.instance.enterGameScene()},e.prototype.onRevivebi=function(){p.CommonDataMgr.instance.ReviveCoin>=1&&(u.default.Init.RemoveItem(102,1),GEvent.emit(GEventName.CombatEvents.Revive),this.close())},e.prototype.onFreerevive=function(){var t=this;d.default.instance.playRewardVideo(function(){GEvent.emit(GEventName.CombatEvents.Revive),GEvent.emit(GEventName.Task.WatchVideo),t.close()},DotEnum.videoAldEnum.viedo_combat_revive)},s([h],e)}(l.default));a.default=y,cc._RF.pop()},{}],RewardType:[function(t,e,n){"use strict";cc._RF.push(e,"27483wOxeRBIptO3dSpJOmp","RewardType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.RewardType=void 0,function(t){t[t.NONE=0]="NONE",t[t.CURRENCY=1]="CURRENCY",t[t.ITEM=2]="ITEM",t[t.EQUIPMENT=3]="EQUIPMENT",t[t.FASHION=4]="FASHION",t[t.FASHIONWEAPON=5]="FASHIONWEAPON"}(i.RewardType||(i.RewardType={})),cc._RF.pop()},{}],RoleCfgManager:[function(t,e,n){"use strict";cc._RF.push(e,"310a4w02FhEqY0ua5dP8x75","RoleCfgManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameHelper"),r=i("CommonDataMgr"),s=function(){function t(){this.curRoleID=0}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.purge=function(){this._instance&&(this._instance=null)},t.prototype.init=function(t,e){void 0===e&&(e=this.curRoleID),this.RoleDataMgr=t,this.curRoleDara=this.RoleDataMgr.getIdRoleData(e),this.initRoleSkillDataList(),GEvent.on(GEventName.ServersDataSuc,this.onServersDataSucEvent,this)},t.prototype.onServersDataSucEvent=function(){if(r.CommonDataMgr.instance.isNew)for(var t=0;t<8;t++)this.openRoleSkillExemptAdOpen(t)},t.prototype.initRoleSkillDataList=function(){for(var t=0;t<8;t++){var e=this.getZDRoleSkill(t);e.exemptcount>=10&&(e.openExemptSkillAd=!1,e.exemptcount=0)}},Object.defineProperty(t.prototype,"LV",{get:function(){return this.curRoleDara.lv},set:function(e){e>t.roleMaxLevel&&(e=t.roleMaxLevel),this.curRoleDara.lv=Math.min(t.roleMaxLevel,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Exp",{get:function(){return this.curRoleDara.exp},set:function(t){this.curRoleDara.exp=t,this.curRoleDara.exp>=a.default.instance.ActorData()[this.curRoleDara.lv-1].exp&&(this.curRoleDara.exp-=a.default.instance.ActorData()[this.curRoleDara.lv-1].exp,this.LV+=1,GEvent.emit(GEventName.Hero.HeroLvUp),GEvent.emit(GEventName.Task.ActorLvUp)),GEvent.emit(GEventName.Hero.HeroGetExp)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curName",{get:function(){return this.curRoleDara.name},set:function(t){this.curRoleDara.name=t,GEvent.emit(GEventName.UpdateName)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headIconUrl",{get:function(){return"string"==typeof this.curRoleDara.headIconUrl&&(this.curRoleDara.headIconUrl=0),this.curRoleDara.headIconUrl},set:function(t){this.curRoleDara.headIconUrl=t,GEvent.emit(GEventName.UpdateheadIcon)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headIconUrl1",{get:function(){return"textures/playerIcon/playerIcon_"+t.instance.headIconUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headIconUrlPath",{get:function(){return"textures/playerIcon/playerIcon_"},enumerable:!1,configurable:!0}),t.prototype.getLoacalRoleSkill=function(t){var e=null;return this.curRoleDara.checkDataSame(t)?e=this.getZDRoleSkill(t):(this.curRoleDara.addZDRoleSkillData(t),e=this.getZDRoleSkill(t)),e},t.prototype.getZDRoleSkill=function(t){return this.curRoleDara.getRoleSkill(t,!0)},t.prototype.getRoleSkillExemptAdOpen=function(t){return this.getZDRoleSkill(t).openExemptSkillAd},t.prototype.openRoleSkillExemptAdOpen=function(t){var e=this.getLoacalRoleSkill(t);e.openExemptSkillAd=!0,e.exemptcount=0},t.prototype.addExemptSkillCount=function(t,e){void 0===e&&(e=1);var n=this.getLoacalRoleSkill(t);n.exemptcount+=1,n.exemptcount>=10&&(n.exemptcount=0,n.openExemptSkillAd=!1)},t._instance=null,t.roleMaxLevel=65,t}();o.default=s,cc._RF.pop()},{}],RoomInfo:[function(t,e,n){"use strict";cc._RF.push(e,"8bf3ekm6FRJ54VAQHqC0PZg","RoomInfo");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameData"),c=cc._decorator,u=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roomIcons=[],e.boosicon=null,e.iconhero=null,e.room=null,e.rooms=null,e.blackMask=null,e}return r(e,t),e.prototype.onLoad=function(){this.rooms=this.node.getChildByName("rooms"),this.blackMask=this.node.getChildByName("blackMask"),this.room=this.node.getChildByName("room")},e.prototype.onInit=function(){for(var t=this,e=l.default.MapData.room.length,n=0;n<e;n++){var i=this.roomIcons[1];0==n&&(i=this.roomIcons[0]),n==e-1&&(i=this.roomIcons[2]);var o=cc.instantiate(this.room);o.getChildByName("mapblock").getComponent(cc.Sprite).spriteFrame=i,n==e-1&&(o.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.boosicon),o.parent=this.rooms}this.node.scale=e>5?.7:1,this.room.destroy(),this.scheduleOnce(function(){t.rooms.removeComponent(cc.Layout)}),this.blackMask.width=50*e+20,this.scheduleOnce(function(){return t.updateIconHeroPos()})},e.prototype.updateIconHeroPos=function(){var t=l.default.roomcount;if(!(this.rooms.children.length<t)){this.iconhero.parent=this.rooms.children[t-1],this.iconhero.position=cc.v3(0,0);for(var e=0;e<this.rooms.children.length;e++)this.rooms.children[e].active=!1,0!=e&&e!=this.rooms.children.length-1||(this.rooms.children[e].active=!0),e<t&&(this.rooms.children[e].active=!0),this.rooms.children[e].getChildByName("mask").active=e!=t-1}},s([p([cc.SpriteFrame])],e.prototype,"roomIcons",void 0),s([p(cc.SpriteFrame)],e.prototype,"boosicon",void 0),s([p(cc.Node)],e.prototype,"iconhero",void 0),s([u],e)}(cc.Component);a.default=d,cc._RF.pop()},{}],SceneConfig:[function(t,e,n){"use strict";cc._RF.push(e,"8ed65McvV9LHISrQhFQR9R0","SceneConfig");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.Scenes={LoadingScene:"LoadingScene",MainScene:"MainScene",CommonView:"CommonView",SignInView:"SignInView",CombatGameScene:"CombatGameScene",WaitScene:"WaitScene",Wait1Scene:"Wait1Scene",ShopView:"ShopView",ExchangeView:"ExchangeView",BagDialog:"bagDialog",openPotDialog:"openPotDialog",gameLevelDialog:"gameLevelDialog",gameCopyDialog:"gameCopyDialog",gameSelectDialog:"gameSelectDialog",TaskView:"TaskView",PowerView:"powerDialog",SkillView:"skillDialog",RankGLDialog:"RankGLDialog",RankWXFriendDialog:"RankWXFriendDialog",RankTowerDialog:"RankTowerDialog",RankBossDialog:"RankBossDialog",FashionView:"FashionView",VIPView:"VIPView",SettingView:"SettingView",RankView:"RankView",HeadIconView:"HeadIconView",EnterAnimView:"EnterAnimView",EnterTowerAnimView:"EnterTowerAnimView",ReviveView:"ReviveView",CombatExitView:"CombatExitView",CombatHDTimeEndView:"CombatHDTimeEndView",CombatScoreView:"CombatScoreView",VictoryRewardView:"VictoryRewardView",NoticeView:"NoticeView",MysteryShopView:"MysteryShopView",WarPowerView:"WarPowerView",ToCombatScene:"ToCombatScene",ComTipsView:"ComTipsView",CustomerView:"CustomerView",KefuRewardView:"KefuRewardView",ShiWanView:"ShiWanView",ComRewardView:"ComRewardView",ToxicityGameScene:"ToxicityGameScene",TowerGameScene:"TowerGameScene",TowerScoreProView:"TowerScoreProView",InviteView:"InviteView",MainTopView:"MainTopView",SelectRoleView:"SelectRoleView",OpenPotRewardView:"OpenPotRewardView",XSGiftView:"XSGiftView",ShopInviteView:"ShopInviteView",ApologyLetterView:"ApologyLetterView",PowerUpResultView:"PowerUpResultView",PassLVRewardView:"PassLVRewardView",GetTripleExpView:"GetTripleExpView",DeathTowerView:"DeathTowerView",GoldActivityView:"GoldActivityView",TowerActivityView:"TowerActivityView",TVView:"TVView",MailView:"MailView",AddAppletView:"AddAppletView",AddDesktopAniView:"AddDesktopAniView",TestGameScene:"TestGameScene",RecorderView:"RecorderView",MagicSwordView:"MagicSwordView",MagicSwordTaskView:"MagicSwordTaskView",MagicEquipTaskView:"MagicEquipTaskView",EnterMagicSwordAnimView:"EnterMagicSwordAnimView",MsActivityView:"MsActivityView",JLZActivityView:"JLZActivityView",ActivityCenterView:"ActivityCenterView",HeroTitleActivityView:"HeroTitleActivityView",gezhiAdView:"gezhiAdView",GuideRewardView:"GuideRewardView",HalloweenView:"HalloweenView",BossModeView:"BossModeView",EvilShopView:"EvilShopView",shareBox:"shareBox",TowerSweepView:"TowerSweepView",PrivacyTipView:"PrivacyTipView",PrivacyView:"PrivacyView",AddShortcutView:"AddShortcutView",SpringActView:"SpringActView"},t.Guide={GuideHandType1View:"GuideHandType1View"},t.AllSceneConfig=[{name:"LoadingScene",resPath:"prefabs/views/LoadingScene",sceneZorder:0,openScale:0,closeScale:0},{name:"MainScene",resPath:"prefabs/views/MainScene",sceneZorder:0,openScale:0,closeScale:0},{name:"CommonView",resPath:"prefabs/views/CommonView",sceneZorder:1,openScale:0,closeScale:0},{name:"SignInView",resPath:"prefabs/views/SignInView",sceneZorder:1,openScale:0,closeScale:0},{name:"CombatGameScene",resPath:"prefabs/views/CombatGameScene",sceneZorder:0,openScale:0,closeScale:0},{name:"ShopView",resPath:"prefabs/views/ShopView",sceneZorder:1,openScale:0,closeScale:0},{name:"ExchangeView",resPath:"prefabs/views/ExchangeView",sceneZorder:2,openScale:0,closeScale:0},{name:"WaitScene",resPath:"prefabs/views/WaitScene",sceneZorder:2,openScale:0,closeScale:0},{name:"Wait1Scene",resPath:"animations/Wait1Scene",sceneZorder:2,openScale:0,closeScale:0},{name:"bagDialog",resPath:"prefabs/dialog/bagDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"openPotDialog",resPath:"prefabs/dialog/openPotDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"gameLevelDialog",resPath:"prefabs/dialog/gameLevelDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"gameCopyDialog",resPath:"prefabs/dialog/gameCopyDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"gameSelectDialog",resPath:"prefabs/dialog/gameSelectDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"RankGLDialog",resPath:"prefabs/dialog/RankGLDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"RankWXFriendDialog",resPath:"prefabs/dialog/RankWXFriendDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"RankTowerDialog",resPath:"prefabs/dialog/RankTowerDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"RankBossDialog",resPath:"prefabs/dialog/RankBossDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"TaskView",resPath:"prefabs/views/TaskView",sceneZorder:1,openScale:0,closeScale:0},{name:"powerDialog",resPath:"prefabs/dialog/powerDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"skillDialog",resPath:"prefabs/dialog/skillDialog",sceneZorder:1,openScale:0,closeScale:0},{name:"FashionView",resPath:"prefabs/views/FashionView",sceneZorder:1,openScale:0,closeScale:0},{name:"VIPView",resPath:"prefabs/views/VIPView",sceneZorder:1,openScale:0,closeScale:0},{name:"SettingView",resPath:"prefabs/views/SettingView",sceneZorder:1,openScale:0,closeScale:0},{name:"ReviveView",resPath:"prefabs/views/ReviveView",sceneZorder:1,openScale:0,closeScale:0},{name:"CombatExitView",resPath:"prefabs/views/CombatExitView",sceneZorder:1,openScale:0,closeScale:0},{name:"CombatScoreView",resPath:"prefabs/views/CombatScoreView",sceneZorder:1,openScale:0,closeScale:0},{name:"RankView",resPath:"prefabs/views/RankView",sceneZorder:1,openScale:0,closeScale:0},{name:"HeadIconView",resPath:"prefabs/views/HeadIconView",sceneZorder:1,openScale:0,closeScale:0},{name:"EnterTowerAnimView",resPath:"prefabs/views/EnterTowerAnimView",sceneZorder:0,openScale:0,closeScale:0},{name:"EnterAnimView",resPath:"prefabs/views/EnterAnimView",sceneZorder:0,openScale:0,closeScale:0},{name:"VictoryRewardView",resPath:"prefabs/views/VictoryRewardView",sceneZorder:1,openScale:0,closeScale:0},{name:"NoticeView",resPath:"prefabs/views/NoticeView",sceneZorder:1,openScale:0,closeScale:0},{name:"MysteryShopView",resPath:"prefabs/views/MysteryShopView",sceneZorder:1,openScale:0,closeScale:0},{name:"CombatHDTimeEndView",resPath:"prefabs/views/CombatHDTimeEndView",sceneZorder:1,openScale:0,closeScale:0},{name:"WarPowerView",resPath:"prefabs/views/WarPowerView",sceneZorder:1,openScale:0,closeScale:0},{name:"ToCombatScene",resPath:"prefabs/views/ToCombatScene",sceneZorder:0,openScale:0,closeScale:0},{name:"ComTipsView",resPath:"prefabs/views/ComTipsView",sceneZorder:1,openScale:0,closeScale:0},{name:"CustomerView",resPath:"prefabs/views/CustomerView",sceneZorder:1,openScale:0,closeScale:0},{name:"KefuRewardView",resPath:"prefabs/views/KefuRewardView",sceneZorder:1,openScale:0,closeScale:0},{name:"ShiWanView",resPath:"prefabs/views/ShiWanView",sceneZorder:1,openScale:0,closeScale:0},{name:"GuideHandType1View",resPath:"prefabs/guide/GuideHandType1View",sceneZorder:4,openScale:0,closeScale:0},{name:"GuideHandType2View",resPath:"prefabs/guide/GuideHandType2View",sceneZorder:4,openScale:0,closeScale:0},{name:"GuideHandType3View",resPath:"prefabs/guide/GuideHandType3View",sceneZorder:4,openScale:0,closeScale:0},{name:"ComRewardView",resPath:"prefabs/views/ComRewardView",sceneZorder:1,openScale:0,closeScale:0},{name:"InviteView",resPath:"prefabs/views/InviteView",sceneZorder:1,openScale:0,closeScale:0},{name:"MainTopView",resPath:"prefabs/views/MainTopView",sceneZorder:3,openScale:0,closeScale:0},{name:"SelectRoleView",resPath:"prefabs/views/SelectRoleView",sceneZorder:1,openScale:0,closeScale:0},{name:"OpenPotRewardView",resPath:"prefabs/views/OpenPotRewardView",sceneZorder:1,openScale:0,closeScale:0},{name:"XSGiftView",resPath:"prefabs/views/XSGiftView",sceneZorder:1,openScale:0,closeScale:0},{name:"ShopInviteView",resPath:"prefabs/views/ShopInviteView",sceneZorder:1,openScale:0,closeScale:0},{name:"ApologyLetterView",resPath:"prefabs/views/ApologyLetterView",sceneZorder:1,openScale:0,closeScale:0},{name:"PowerUpResultView",resPath:"prefabs/views/PowerUpResultView",sceneZorder:1,openScale:0,closeScale:0},{name:"PassLVRewardView",resPath:"prefabs/views/PassLVRewardView",sceneZorder:1,openScale:0,closeScale:0},{name:"GetTripleExpView",resPath:"prefabs/views/GetTripleExpView",sceneZorder:1,openScale:0,closeScale:0},{name:"DeathTowerView",resPath:"prefabs/views/DeathTowerView",sceneZorder:1,openScale:0,closeScale:0},{name:"GoldActivityView",resPath:"prefabs/views/GoldActivityView",sceneZorder:1,openScale:0,closeScale:0},{name:"TowerActivityView",resPath:"prefabs/views/TowerActivityView",sceneZorder:1,openScale:0,closeScale:0},{name:"TVView",resPath:"prefabs/views/TVView",sceneZorder:1,openScale:0,closeScale:0},{name:"MailView",resPath:"prefabs/views/MailView",sceneZorder:1,openScale:0,closeScale:0},{name:"ToxicityGameScene",resPath:"prefabs/views/ToxicityGameScene",sceneZorder:0,openScale:0,closeScale:0},{name:"TowerGameScene",resPath:"prefabs/views/TowerGameScene",sceneZorder:0,openScale:0,closeScale:0},{name:"TowerScoreProView",resPath:"prefabs/views/TowerScoreProView",sceneZorder:1,openScale:0,closeScale:0},{name:"AddAppletView",resPath:"prefabs/views/AddAppletView",sceneZorder:1,openScale:0,closeScale:0},{name:"AddDesktopAniView",resPath:"prefabs/views/AddDesktopAniView",sceneZorder:1,openScale:0,closeScale:0},{name:"TestGameScene",resPath:"prefabs/views/TestGameScene",sceneZorder:0,openScale:0,closeScale:0},{name:"RecorderView",resPath:"prefabs/views/RecorderView",sceneZorder:1,openScale:0,closeScale:0},{name:"MagicSwordView",resPath:"prefabs/views/MagicSwordView",sceneZorder:1,openScale:0,closeScale:0},{name:"MagicSwordTaskView",resPath:"prefabs/views/MagicSwordTaskView",sceneZorder:1,openScale:0,closeScale:0},{name:"MagicEquipTaskView",resPath:"prefabs/views/MagicEquipTaskView",sceneZorder:1,openScale:0,closeScale:0},{name:"EnterMagicSwordAnimView",resPath:"prefabs/views/EnterMagicSwordAnimView",sceneZorder:4,openScale:0,closeScale:0},{name:"MsActivityView",resPath:"prefabs/views/MsActivityView",sceneZorder:1,openScale:0,closeScale:0},{name:"JLZActivityView",resPath:"prefabs/views/JLZActivityView",sceneZorder:1,openScale:0,closeScale:0},{name:"ActivityCenterView",resPath:"prefabs/views/ActivityCenterView",sceneZorder:1,openScale:0,closeScale:0},{name:"HeroTitleActivityView",resPath:"prefabs/views/HeroTitleActivityView",sceneZorder:1,openScale:0,closeScale:0},{name:"gezhiAdView",resPath:"prefabs/dialog/gezhiAdView",sceneZorder:1,openScale:0,closeScale:0},{name:"GuideRewardView",resPath:"prefabs/guide/GuideRewardView",sceneZorder:1,openScale:0,closeScale:0},{name:"HalloweenView",resPath:"prefabs/views/HalloweenView",sceneZorder:1,openScale:0,closeScale:0},{name:"BossModeView",resPath:"prefabs/views/BossModeView",sceneZorder:1,openScale:0,closeScale:0},{name:"EvilShopView",resPath:"prefabs/views/EvilShopView",sceneZorder:1,openScale:0,closeScale:0},{name:"shareBox",resPath:"prefabs/dialog/shareBox",sceneZorder:1,openScale:0,closeScale:0},{name:"TowerSweepView",resPath:"prefabs/views/TowerSweepView",sceneZorder:1,openScale:0,closeScale:0},{name:"PrivacyTipView",resPath:"prefabs/views/PrivacyTipView",sceneZorder:1,openScale:0,closeScale:0},{name:"PrivacyView",resPath:"prefabs/views/PrivacyView",sceneZorder:1,openScale:0,closeScale:0},{name:"AddShortcutView",resPath:"prefabs/views/AddShortcutView",sceneZorder:1,openScale:0,closeScale:0},{name:"SpringActView",resPath:"prefabs/views/SpringActView",sceneZorder:1,openScale:0,closeScale:0}],t}();i.default=o,cc._RF.pop()},{}],SceneManager:[function(t,e,n){"use strict";cc._RF.push(e,"8a137korqpKS76tabqJFE5V","SceneManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.SceneEntity=o.ScaneScale=o.SceneZOrder=void 0;var a,r,s=i("TimeEngine"),l=i("LogManager"),c=i("View");(function(t){t[t.MAIN_VIEW=0]="MAIN_VIEW",t[t.SUB_VIEW=1]="SUB_VIEW",t[t.AD_VIEW=2]="AD_VIEW",t[t.POP_MESSAGE=3]="POP_MESSAGE",t[t.GUIDE_SCENE=4]="GUIDE_SCENE",t[t.TIPS_MESSAGE=5]="TIPS_MESSAGE",t[t.LOCAL_MASK=6]="LOCAL_MASK",t[t.LOADING_BAR=7]="LOADING_BAR"})(a=o.SceneZOrder||(o.SceneZOrder={})),function(t){t[t.NONE=0]="NONE",t[t.OPEN_SCALE=1]="OPEN_SCALE",t[t.CLOSE_SCALE=2]="CLOSE_SCALE"}(r=o.ScaneScale||(o.ScaneScale={}));var u=function(){this._name="",this._resPath="",this._isLoaded=!1,this._cfg=null,this._node=null,this._view=null,this._model=null,this._controller=null,this._prefab=null,this._zorder=a.MAIN_VIEW,this._onLanuched=null};o.SceneEntity=u;var p=function(){function t(){this.sceneInfo=[],this.readyLoad=[],this.lastScene="",this.currentScene="",this.isLoadingStatus=!1,this.currentLoading=null,this.mainScene=null,this.subScene=null,this.adScene=null,this.popMessage=null,this.tipsScene=null,this.localMask=null,this.guideScene=null,this.loadingScene=null,this.loadStatus=null,this.loadResStatus=null,this.currentShowBanner=!1}return Object.defineProperty(t,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.purge=function(){t._instance&&(t._instance=null)},t.prototype.init=function(t,e){if(null==t||null==t)return l.default.error("SceneManager init fail content is null or undefined."),!1;this.mainScene=this.createFullScreenSizeNode("MAIN_SCENE"),this.subScene=this.createFullScreenSizeNode("SUB_SCENE"),this.adScene=this.createFullScreenSizeNode("AD_SCENE"),this.popMessage=this.createFullScreenSizeNode("POP_MESSAGE_SCENE"),this.guideScene=this.createFullScreenSizeNode("GUIDE_SCENE"),this.tipsScene=this.createFullScreenSizeNode("TIPS_SCENE"),this.localMask=this.createFullScreenSizeNode("LOCAL_Mask"),this.loadingScene=this.createFullScreenSizeNode("LOADING_SCENE"),t.addChild(this.mainScene,a.MAIN_VIEW),t.addChild(this.subScene,a.SUB_VIEW),t.addChild(this.adScene,a.AD_VIEW),t.addChild(this.popMessage,a.POP_MESSAGE),t.addChild(this.guideScene,a.GUIDE_SCENE),t.addChild(this.tipsScene,a.TIPS_MESSAGE),t.addChild(this.localMask,a.LOCAL_MASK),t.addChild(this.loadingScene,a.LOADING_BAR);var n=this.localMask.addComponent(cc.Widget);n.top=0,n.bottom=0,n.left=0,n.right=0,this.localMask.addComponent(cc.BlockInputEvents),this.localMask.active=!1,this.MainCamera=cc.find("Canvas/MainCamera");for(var i=0,o=e;i<o.length;i++){var r=o[i];this.register(r)}return!0},t.prototype.createFullScreenSizeNode=function(t){var e=new cc.Node(t);return e.setContentSize(cc.winSize),e},t.prototype.register=function(t){if(this.isExists(t.name))return l.default.warn("SceneManager register "+t.name+" has exists."),!1;var e=new u;return e._name=t.name,e._resPath=t.resPath,e._cfg=t,this.sceneInfo.push(e),!0},t.prototype.unregister=function(t){for(var e=0,n=this.sceneInfo;e<n.length;e++){var i=n[e];if(i._name==t)return this.sceneInfo.splice(this.sceneInfo.indexOf(i),1),!0}return!1},t.prototype.load=function(t,e,n){if(""===t)return l.default.warn("SceneManager load name is empty."),!1;var i=this.find(t);return null===i?(l.default.warn("SceneManager load "+t+" not register."),!1):i._isLoaded?(l.default.warn("SceneManager load "+t+" is loaded."),!0):this.currentLoading&&this.currentLoading._name===t?(l.default.warn("SceneManager load "+t+" on loading."),!0):(i._zorder=e||i._cfg.sceneZorder||a.MAIN_VIEW,i._onLanuched=n,this.addReadyLoad(i),this.checkLoad(),!0)},t.prototype.addReadyLoad=function(t){var e=!1;this.readyLoad.forEach(function(n){n._name==t._name&&(e=!0)}),!e&&this.readyLoad.push(t),e&&console.error("\u5b58\u5728\u76f8\u540c\u9884\u52a0\u8f7d\u573a\u666f \u8bf7\u68c0\u67e5\u4ee3\u7801 ----"+t)},t.prototype.loadPre=function(t,e,n){cc.resources.load(t,cc.Prefab,e,n)},t.prototype.close=function(t,e){return void 0===e&&(e=!0),this.popScene(t,e)},t.prototype.show=function(t){var e=this.find(t);return null!=e&&null!=e&&!!e._isLoaded&&(e._view.show(),!0)},t.prototype.hide=function(t){var e=this.find(t);return null!=e&&null!=e&&!!e._isLoaded&&(e._view.hide(),!0)},t.prototype.setLoadSceneStatus=function(t){this.loadStatus=t},t.prototype.setLoadResStatus=function(t){this.loadResStatus=t},t.prototype.checkLoad=function(){if(this.isLoadingStatus)return!1;for(var t=0,e=(t=0,this.readyLoad);t<e.length;t++){var n=e[t];return this.currentLoading=n,null!==n._prefab?(this.readyLoad.shift(),this.onLoadComplete(null,n._prefab),!0):(cc.resources.load(n._resPath,cc.Prefab,this.onLoadProgress.bind(this),this.onLoadComplete.bind(this)),this.isLoadingStatus=!0,!0)}return!1},t.prototype.preLoadScene=function(t,e,n){if(""===t)return l.default.warn("SceneManager load name is empty."),!1;var i=this.find(t);return null===i?(l.default.warn("SceneManager load "+t+" not register."),!1):i._isLoaded?(l.default.warn("SceneManager load "+t+" is loaded."),n(),!0):void cc.resources.preload(i._resPath,cc.Prefab,e,n)},t.prototype.onLoadProgress=function(t,e){this.onShowLoadStatus(t,e)},t.prototype.onShowLoadStatus=function(t,e){try{this.currentLoading._zorder==a.MAIN_VIEW?this.loadStatus&&(0==e?this.loadStatus.onLoadProgress(1):this.loadStatus.onLoadProgress(t/e)):this.loadResStatus&&(0==e?this.loadResStatus.onLoadProgress(1):this.loadResStatus.onLoadProgress(t/e))}catch(o){}},t.prototype.onHideLoadStatus=function(){this.loadStatus&&this.loadStatus.onLoadComplete(null,this.currentLoading),this.loadResStatus&&this.loadResStatus.onLoadComplete(null,this.currentLoading),this.onEventViewLoadComplete()},t.prototype.onLoadComplete=function(t,e){var n=this;if(t)this.isLoadingStatus=!1,this.currentLoading=null,this.checkLoad(),l.default.error("Load scene fail: "+t.message+".",t);else try{var i=cc.instantiate(e),o=this.currentLoading;if(o._node=i,o._prefab=e,o._isLoaded=!0,o._view=i.getComponent(c.default),o._model=null,o._controller=null,null===o._view)throw new Error("_view is null");o._view.init(o._name,o._resPath);var a=o._view.getPreloadResList(),r=a.map(function(t){return t[0]}),s=a.map(function(t){return t[1]});if(0===a.length)return this.pushScene(i,o),o._onLanuched&&o._onLanuched(o._name,i),this.onHideLoadStatus(),this.readyLoad.shift(),this.isLoadingStatus=!1,this.currentLoading=null,void this.checkLoad();cc.loader.loadResArray(r,s,this.onLoadProgress.bind(this),function t(e,a){if(e)return l.default.exception("onPreloadResComplate error: "+e),void cc.loader.loadResArray(r,s,n.onLoadProgress.bind(n),t);o._view.setPreloadResFinish(a),n.pushScene(i,o),o._onLanuched&&o._onLanuched(o._name,i),n.onHideLoadStatus(),n.readyLoad.shift(),n.isLoadingStatus=!1,n.currentLoading=null,n.checkLoad()})}catch(u){l.default.error("SceneManager -> onLoadComplete("+this.currentLoading._name+") crash "+u.message),l.default.error("SceneManager -> onLoadComplete("+this.currentLoading._name+") crash "+u.stack)}},t.prototype.pushScene=function(t,e){if(null===t||null===e)return l.default.warn("SceneManager pushScene param error."),!1;switch(e._zorder){case a.MAIN_VIEW:this.popScene(this.currentScene);for(var n=0,i=this.sceneInfo;n<i.length;n++){var o=i[n];o._isLoaded&&o._zorder===a.SUB_VIEW&&this.popScene(o._name)}this.MainCamera.position=cc.v3(0,0),this.mainScene.addChild(t,e._zorder,e._name),this.lastScene=this.currentScene,this.currentScene=e._name;break;case a.SUB_VIEW:if(e._cfg.openScale===r.OPEN_SCALE){var c=t.getChildByName("content");c&&s.default.getInstance().open(.01,1,function(){cc.Tween.stopAllByTarget(c),c.scale=.1,c.active=!0,cc.tween(c).to(.2,{scale:1},{easing:"backOut"}).start()},this,e)}this.subScene.addChild(t,e._zorder,e._name);break;case a.AD_VIEW:this.adScene.addChild(t,e._zorder,e._name);break;case a.POP_MESSAGE:this.popMessage.addChild(t,e._zorder,e._name);break;case a.GUIDE_SCENE:this.guideScene.addChild(t,e._zorder,e._name);break;case a.TIPS_MESSAGE:case a.LOADING_BAR:this.tipsScene.addChild(t,e._zorder,e._name)}return this.checkBannar(),!0},t.prototype.popScene=function(t,e){if(void 0===e&&(e=!0),""===t)return!1;var n=this.find(t);if(null===n||!n._isLoaded)return l.default.warn("SceneManager popScene "+t+" fail, scene not loaded."),!1;switch(n._zorder){case a.MAIN_VIEW:this.mainScene.removeAllChildren();break;case a.SUB_VIEW:if(n._cfg.closeScale===r.CLOSE_SCALE){var i=n._node,o=n._node.getChildByName("content");o&&(cc.Tween.stopAllByTarget(o),o.active=!0,cc.tween(o).to(.12,{scale:.8,opacity:0},{easing:"sineOut"}).call(function(){i.destroy()}).start())}else this.subScene.removeChild(n._node);break;case a.AD_VIEW:case a.POP_MESSAGE:this.subScene.removeChild(n._node);break;case a.TIPS_MESSAGE:this.tipsScene.removeChild(n._node);break;case a.GUIDE_SCENE:this.guideScene.removeChild(n._node);break;case a.LOADING_BAR:this.subScene.removeChild(n._node)}return n._model&&n._model.uninit(),n._controller&&n._controller.uninit(),n._view&&n._view.uninit(),n._isLoaded=!1,n._node=null,n._view=null,n._model=null,n._controller=null,n._onLanuched=null,e&&n._prefab&&s.default.getInstance().open(.3,1,this.releaseRes,this,n),this.checkBannar(),this.onEventViewClose(),!0},t.prototype.releaseRes=function(t,e){e._isLoaded||null===e._prefab||(e._prefab.decRef(),e._prefab=null)},t.prototype.checkBannar=function(){},t.prototype.onEventViewLoadComplete=function(){GEvent.emit(GEventName.LoadViewComplete)},t.prototype.onEventViewClose=function(){GEvent.emit(GEventName.ViewHide)},t.prototype.isLoaded=function(t){if(null==t||""===t)return!1;for(var e=0,n=this.sceneInfo;e<n.length;e++){var i=n[e];if(i._name===t)return i._isLoaded}return!1},t.prototype.isExists=function(t){if(null==t||""===t)return!1;for(var e=0,n=this.sceneInfo;e<n.length;e++)if(n[e]._name===t)return!0;return!1},t.prototype.find=function(t){if(null==t||""===t)return null;for(var e=0,n=this.sceneInfo;e<n.length;e++){var i=n[e];if(i._name===t)return i}return null},t.prototype.getTop=function(){for(var t=null,e=-1,n=null,i=this.sceneInfo,o=0;o<i.length;o++){var r=i[o];r._isLoaded&&(r._zorder===a.SUB_VIEW?r._view.node.getSiblingIndex()>e&&(e=r._view.node.getSiblingIndex(),t=r):r._zorder===a.MAIN_VIEW&&(n=r))}return t||n},t.prototype.postEvent=function(t,e,n,i){if("model"!==e&&"view"!==e&&"controller"!==e)return l.default.warn("SceneManager -> postEvent("+t+", "+e+", "+n+") branch error."),!1;switch(e){case"model":return this.postEventToModel(t,n,i);case"view":return this.postEventToView(t,n,i);case"controller":return this.postEventToCtrl(t,n,i)}return!1},t.prototype.postEventToModel=function(t,e,n){var i=this.find(t);if(null!=i)return 0==i._isLoaded?(l.default.warn("SceneManager -> postEventToModel("+t+", "+e+") scene not found or not load."),!1):(i._model&&i._model.onNoticeEvent(e,n),!0)},t.prototype.postEventToView=function(t,e,n){var i=this.find(t);return null!=i&&(0==i._isLoaded?(l.default.warn("SceneManager -> postEventToView("+t+", "+e+") scene not found or not load."),!1):(i._view&&i._view.onNoticeEvent(e,n),!0))},t.prototype.postEventToCtrl=function(t,e,n){var i=this.find(t);return null==i||0==i._isLoaded?(l.default.warn("SceneManager -> postEventToCtrl("+t+", "+e+") scene not found or not load."),!1):(i._controller&&i._controller.onNoticeEvent(e,n),!0)},t.prototype.setModel=function(t,e){if(null==e)return!1;var n=this.find(t);return null!=n&&(n._model=e,n._view.model=e,n._controller&&(n._controller.model=e),e.init(n._name)),!0},t.prototype.getModel=function(t){var e=this.find(t);return null==e?null:e._model},t.prototype.setController=function(t,e){if(null===e||null===e)return!1;var n=this.find(t);return null!=n&&(e.view=n._view,e.model=n._model,n._view.controller=e,n._controller=e,e.init(n._name)),!0},t.prototype.getController=function(t){var e=this.find(t);return null==e?null:e._controller},t.prototype.getView=function(t){var e=this.find(t);return null==e?null:e._view},t.prototype.onEnterForeground=function(){for(var t=0,e=this.sceneInfo;t<e.length;t++){var n=e[t];n._isLoaded&&n._controller&&n._controller.onEnterForeground()}},t.prototype.onEnterBackground=function(){for(var t=0,e=this.sceneInfo;t<e.length;t++){var n=e[t];n._isLoaded&&n._controller&&n._controller.onEnterBackground()}},t.prototype.onUpdateTick=function(){},t.prototype.getSceneNode=function(t){switch(t){case a.MAIN_VIEW:return this.mainScene;case a.SUB_VIEW:return this.subScene;case a.AD_VIEW:return this.adScene;case a.POP_MESSAGE:return this.popMessage;case a.TIPS_MESSAGE:return this.tipsScene;case a.LOADING_BAR:return this.loadingScene}},t._instance=null,t}();o.default=p,cc._RF.pop()},{}],SelectRoleView:[function(t,e,n){"use strict";cc._RF.push(e,"c2ebbuF7vhL8b2Z+p8kBuM9","SelectRoleView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=o("GameData"),d=o("GameHelper"),f=o("GameCfgData"),h=o("BagManager"),y=o("FashionManager"),g=o("FashionRecoveryManager"),m=o("GameStatsManager"),v=o("MagicSwordManager"),_=o("ModeLVDataManger"),b=o("ServerCommonCfgMgr"),k=o("SkillManager"),S=o("TaskManager"),w=o("RoleCfgManager"),T=o("Admanager"),C=o("platformConfig"),D=o("Constant"),E=cc._decorator,I=E.ccclass,P=E.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actorSk=null,e.nameLab=null,e.roleDetailNode=null,e.roleInfoNode=null,e.btn_create=null,e.curName="",e.curHeroId=1e3,e}return r(e,t),e.prototype.onUILoad=function(){this.Hero=this.getNode("content/Hero"),this.HeroHongYan=this.getNode("content/Hero1"),this.HeroDaQiang=this.getNode("content/Hero2"),this.Hero.active=!0,this.HeroHongYan.active=!1,this.HeroDaQiang.active=!1,p.default.InitData(),h.default.Init,k.default.Init,S.default.instance,y.default.Init,v.default.instance.setTask(),window.FashionManager=y.default.Init,window.TaskManager=S.default.instance,GAudio.playBgm(f.default.AnimAudio,void 0,void 0,!0),d.default.instance.updateActor(this.actorSk)},e.prototype.onUIEnable=function(){this.commercialize(),this.checkPrivacy()},e.prototype.onUIStart=function(){var t;this.roleDetailNode.active=!m.default.instance.isCreateRole,this.btn_create.getChildByName("label").getComponent(cc.Label).string=m.default.instance.isCreateRole?"\u767b\u5f55":"\u521b\u5efa",m.default.instance.isCreateRole||this.onBtnRandomName(),this.roleInfoNode.active=m.default.instance.isCreateRole,this.roleInfoNode.getChildByName("name").getComponent(cc.Label).string=w.default.instance.curName,this.roleInfoNode.getChildByName("lv").getComponent(cc.Label).string="Lv."+w.default.instance.LV,C.default.platformType===D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO||C.default.platformType===D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS||C.default.platformType===D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ?((t=this.getToggle("content/selcetNode/role2Btn")).interactable=!1,t.node.getChildByName("role_shadow").active=!0,t.node.getChildByName("role_icon").active=!1,t.node.getChildByName("role_title").active=!0,t.node.getChildByName("role_title_1").active=!1):((t=this.getToggle("content/selcetNode/role2Btn")).interactable=!0,t.node.getChildByName("role_shadow").active=!1,t.node.getChildByName("role_icon").active=!0,t.node.getChildByName("role_title").active=!1,t.node.getChildByName("role_title_1").active=!0),C.default.platformType===D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO||C.default.platformType===D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS||C.default.platformType===D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ?((t=this.getToggle("content/selcetNode/role5Btn")).interactable=!1,t.node.getChildByName("role_shadow").active=!0,t.node.getChildByName("role_icon").active=!1,t.node.getChildByName("role_title").active=!0,t.node.getChildByName("role_title_1").active=!1):((t=this.getToggle("content/selcetNode/role5Btn")).interactable=!0,t.node.getChildByName("role_shadow").active=!1,t.node.getChildByName("role_icon").active=!0,t.node.getChildByName("role_title").active=!1,t.node.getChildByName("role_title_1").active=!0),this.setDiceBtnAni()},e.prototype.onUIDestroy=function(){this.commercializeHide()},e.prototype.commercialize=function(){T.default.instance.showInterstitialAd()},e.prototype.commercializeHide=function(){},e.prototype.onBtnFashion=function(t,e){d.default.instance.PreviewSuitSlot(this.actorSk,parseInt(e))},e.prototype.onBtnRandomName=function(){var t=d.default.instance.NameData(),e=Math.floor(Math.random()*t.length);this.nameLab.string=t[e][0],this.curName=t[e][0]},e.prototype.onClickRole=function(t,e){var n=parseInt(e);this.curHeroId=f.default.playerId+n,this.curHeroId!=f.default.playerId?(this.Hero.active=!1,1001==this.curHeroId?(this.HeroHongYan.active=!0,this.HeroDaQiang.active=!1):1002==this.curHeroId&&(this.HeroHongYan.active=!1,this.HeroDaQiang.active=!0),this.roleDetailNode.active=!1,this.btn_create.getChildByName("label").getComponent(cc.Label).string="\u6e38\u620f\u8df3\u8f6c",C.default.platformType==D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX&&this.sceneMgr().load(l.default.Scenes.gezhiAdView,void 0,function(){})):(this.Hero.active=!0,this.HeroHongYan.active=!1,this.HeroDaQiang.active=!1,this.roleDetailNode.active=!m.default.instance.isCreateRole,this.btn_create.getChildByName("label").getComponent(cc.Label).string=m.default.instance.isCreateRole?"\u767b\u5f55":"\u521b\u5efa")},e.prototype.onOpenNavigateToMiniProgram=function(t){var e=p.default.InterflowGameData()[t];T.default.instance.navigateToMiniProgram({appId:e.appId,path:"",success:function(){console.log("\u8df3\u8f6c\u5b8c\u6210",t)},fail:function(){console.log("\u53d6\u6d88\u8df3\u8f6c\u5b8c\u6210",t)}})},e.prototype.onBtnCreateRole=function(){var t=this;if(f.default.playerId==this.curHeroId){if(!m.default.instance.isCreateRole){if(""==this.curName)return Global.onShowTosat("\u8bf7\u9009\u62e9\u540d\u5b57");T.default.instance.msgSecCheck(1,this.curName).then(function(e){console.log("msgSecCheck res = ",e),e&&(w.default.instance.curName=t.curName,t.sceneMgr().load(l.default.Scenes.EnterAnimView))})}_.default.instance.ChapterLvPass(0,0)?d.default.instance.enterGameScene():this.sceneMgr().load(l.default.Scenes.EnterAnimView),b.default.getServerTime().then(function(t){t&&(m.default.instance.lastLoginTime=t)}),T.default.instance.Subscription()}else if(C.default.platformType==D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX&&this.onOpenNavigateToMiniProgram(this.curHeroId),C.default.platformType==D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT){if(1001==this.curHeroId)return Global.onShowTosat("\u6296\u97f3\u641c\u7d22\u201c\u70ed\u8840\u52c7\u58eb\u201d\u5373\u53ef\u73a9\u65b0\u89d2\u8272",2);if(1002==this.curHeroId)return Global.onShowTosat("\u6296\u97f3\u641c\u7d22\u201c\u5782\u76f4\u706b\u529b\u201d\u5373\u53ef\u73a9\u65b0\u89d2\u8272",2)}g.default.instance.init()},e.prototype.setDiceBtnAni=function(){var t=this.getNode("content/roleDetailNodes/roleDetailNode1/nameBg/randomNameBtn");cc.tween(t).repeatForever(cc.tween(t).by(.5,{scale:.1}).by(.5,{scale:-.1})).start()},e.prototype.checkPrivacy=function(){C.default.platformType===D.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&(m.default.instance.passPrivacy||c.default.instance.load(l.default.Scenes.PrivacyTipView))},s([P(sp.Skeleton)],e.prototype,"actorSk",void 0),s([P(cc.Label)],e.prototype,"nameLab",void 0),s([P(cc.Node)],e.prototype,"roleDetailNode",void 0),s([P(cc.Node)],e.prototype,"roleInfoNode",void 0),s([P(cc.Node)],e.prototype,"btn_create",void 0),s([I],e)}(u.default);a.default=M,cc._RF.pop()},{}],ServerCommonCfgMgr:[function(t,e,n){"use strict";cc._RF.push(e,"ffa33JBVtpKlILdiU0K2h7l","ServerCommonCfgMgr");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Admanager"),r=i("configStore"),s=i("NetworkManger");o.default=new(function(){function t(){this.notice="\u4eb2\u7231\u7684\u73a9\u5bb6\uff1a\n \u300a\u963f\u62c9\u5fb7\u52c7\u8005\u300b\u76ee\u524d\u8fd8\u5728\u52aa\u529b\u7814\u53d1\u4e2d\uff0c\u6e38\u620f\u5185\u6709\u5f88\u591a\u4e0d\u8db3\uff0c\u8fd8\u8bf7\u60a8\u8c05\u89e3\uff0c\u611f\u8c22\u60a8\u5bf9\u6211\u4eec\u7684\u652f\u6301\u4e0e\u539a\u7231\uff0c\u8c22\u8c22\u3002\u5982\u60a8\u5728\u6e38\u620f\u4e2d\u9047\u5230\u95ee\u9898\u53ef\u4ee5\u544a\u8bc9\u6211\u4eec",this.updateInfo="",this.otherInfo="",this.isTTVideos=!1,this.isTTAddDeskGift=!0,this.openNotice=!1,this.timingSendServerData=2e4,this.arraignedMode=!1,this.AMversion="",this._reset=!1,this.shareLists=[{path:"https://smalldnf-1302074099.file.myqcloud.com/common/share5.png",lb:"\u6389\u7ebf\u57ce\u56de\u6765\u4e86\uff1f\uff1f"}],this.server_time=-1,this.logintime=-1,this.block_text="",this._token=""}return Object.defineProperty(t.prototype,"ArraignedMode",{get:function(){return this.arraignedMode&&this.AMversion==r.default.version},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reset",{get:function(){return this._reset},set:function(t){this._reset=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ShareLists",{get:function(){return this.shareLists},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Logintime",{set:function(t){this.logintime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servertime",{get:function(){return-1==this.server_time||0==this.server_time?Date.now():1e3*this.server_time},set:function(t){this.server_time=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"token",{get:function(){return this._token},set:function(t){this._token=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"OpenNotice",{get:function(){return this.openNotice},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsTTVideos",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsTTAddDeskGift",{get:function(){return this.isTTAddDeskGift},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BlockUser",{get:function(){return!!(this.block_text&&this.block_text.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BlockText",{get:function(){return this.block_text},set:function(t){this.block_text=t,this.BlockUser&&a.default.instance.showModal("\u8b66\u544a",this.block_text,!1,function(){a.default.instance.exitMiniProgram()})},enumerable:!1,configurable:!0}),t.prototype.init=function(t){"object"==typeof t&&(Object.assign(this,t),this.notice=t.notice,this.updateInfo=t.updateInfo,this.otherInfo=t.otherInfo)},t.prototype.checkServerTimeandLocalTime=function(){var t=Date.now();return!(t<this.servertime+18e4&&t>this.servertime-18e4&&(console.log("\u5728\u6b63\u5e38\u65f6\u95f4\u5185"),1))},t.prototype.getLoginTime=function(){var t=this;return new Promise(function(e){-1==t.logintime||0==t.logintime?t.getServerTime().then(function(n){t.logintime=n,e(t.logintime)}):e(t.logintime)})},t.prototype.getServerTime=function(){var t=this;return new Promise(function(e,n){s.default.serverTime().then(function(n){n?(t.servertime=Math.floor(n/1e3),e(n)):(Global.onShowTosat("\u8bf7\u68c0\u6d4b\u5f53\u524d\u7f51\u7edc\u60c5\u51b5"),e(!1))}).catch(function(t){Global.onShowTosat("\u8bf7\u68c0\u6d4b\u5f53\u524d\u7f51\u7edc\u60c5\u51b5",t),n(!0)})})},t}()),cc._RF.pop()},{}],SettingManager:[function(t,e,n){"use strict";cc._RF.push(e,"b0181ewby5NOpnkX52nwcgU","SettingManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("SceneConfig"),r=i("SceneManager"),s=i("GameCfgData"),l=function(){function t(){this.SettingData=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.SettingData=t,GAudio.isOpenBgm=this.SettingData.isMusic,GAudio.isOpenEffect=this.SettingData.isEffect},Object.defineProperty(t.prototype,"isMusic",{get:function(){return this.SettingData.isMusic},set:function(t){this.SettingData.isMusic=t,GAudio.isOpenBgm=t,r.default.instance.currentScene==a.default.Scenes.MainScene&&GAudio.playBgm(s.default.MianBgAudio,void 0,void 0,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEffect",{get:function(){return this.SettingData.isEffect},set:function(t){this.SettingData.isEffect=t,GAudio.isOpenEffect=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShock",{get:function(){return this.SettingData.isShock},set:function(t){this.SettingData.isShock=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRocker",{get:function(){return this.SettingData.isRocker},set:function(t){this.SettingData.isRocker=t},enumerable:!1,configurable:!0}),t}();o.default=l,cc._RF.pop()},{}],SettingView:[function(t,e,n){"use strict";cc._RF.push(e,"34537XSCutKurIf45XO+6TE","SettingView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("CDKDataManger"),u=o("SettingManager"),p=o("Admanager"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicBtn=null,e.effectBtn=null,e.shockBtn=null,e.rockerBtn=null,e.editKeyBox=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.editKeyBox.string="",this.changeOnOff(this.musicBtn,u.default.instance.isMusic),this.changeOnOff(this.effectBtn,u.default.instance.isEffect),this.changeOnOff(this.shockBtn,u.default.instance.isShock),this.changeOnOff(this.rockerBtn,u.default.instance.isRocker),GEvent.emit(GEventName.ChangeViewTitle,"SettingView")},e.prototype.onUIEnable=function(){this.commercialize()},e.prototype.onUIDisable=function(){this.commercializeHide()},e.prototype.commercialize=function(){p.default.instance.showBanner()},e.prototype.commercializeHide=function(){p.default.instance.hideBanner()},e.prototype.onbtnMusic=function(){u.default.instance.isMusic=!u.default.instance.isMusic,this.changeOnOff(this.musicBtn,u.default.instance.isMusic)},e.prototype.onbtnEffect=function(){u.default.instance.isEffect=!u.default.instance.isEffect,this.changeOnOff(this.effectBtn,u.default.instance.isEffect)},e.prototype.onbtnShock=function(){u.default.instance.isShock=!u.default.instance.isShock,this.changeOnOff(this.shockBtn,u.default.instance.isShock)},e.prototype.onbtnRocker=function(){u.default.instance.isRocker=!u.default.instance.isRocker,this.changeOnOff(this.rockerBtn,u.default.instance.isRocker)},e.prototype.onbtnExchange=function(){var t=this;if(0==p.default.instance.isOpen())return Global.onShowTosat("\u767b\u5f55\u624d\u80fd\u4f53\u9a8c\u8be5\u529f\u80fd");p.default.instance.msgSecCheck(1,this.editKeyBox.string).then(function(e){console.log("msgSecCheck res = ",e),e&&c.default.GetCDKReward(t.editKeyBox.string).then(function(t){console.log("GetCDKReward",t),t?Global.onShowTosat("\u8bf7\u524d\u5f80\u90ae\u7bb1\u9886\u53d6"):Global.onShowTosat("\u5956\u52b1\u9886\u53d6\u5931\u8d25")})})},e.prototype.changeOnOff=function(t,e){t.getChildByName("selectOn").active=e,t.getChildByName("selectOff").active=!e},s([h(cc.Node)],e.prototype,"musicBtn",void 0),s([h(cc.Node)],e.prototype,"effectBtn",void 0),s([h(cc.Node)],e.prototype,"shockBtn",void 0),s([h(cc.Node)],e.prototype,"rockerBtn",void 0),s([h(cc.EditBox)],e.prototype,"editKeyBox",void 0),s([f],e)}(l.default);a.default=y,cc._RF.pop()},{}],ShareBoxDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"43bf41/+cdIxoGyI8wvWSga","ShareBoxDataManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Equipment"),r=i("BagItem"),s=i("Admanager"),l=i("BagManager"),c=function(){this.equips=[],this.boxSize=0},u=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boxPageNum",{get:function(){return Math.ceil(this.shareBoxData.boxSize/20)},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;this.shareBoxData=new c,this.equip_bag=[],this.item_bag=[],s.default.instance.getShareBox().then(function(e){t.shareBoxData.equips=e.data.data,t.shareBoxData.boxSize=e.data.size})},t.prototype.putToShareBox=function(t,e){var n=this,i=[];for(var o in t)i.push(t[o]);s.default.instance.putToShareBox(i).then(function(i){if(console.log("pushToShareBox",i),200==i.statusCode&&200==i.data.code){for(var o in t)l.default.Init.RemoveEquipmentByKey(o);n.shareBoxData.equips=i.data.data,n.shareBoxData.boxSize=i.data.size,n.instateData(),e(!0)}else e(!1)}).catch(function(){e(!1)})},t.prototype.getFromShareBox=function(t,e){var n=this;l.default.Init.hasEnptyEquipGird()<t.length?Global.onShowTosat("\u80cc\u5305\u5269\u4f59\u7a7a\u95f4\u4e0d\u8db3"):s.default.instance.getFromShareBox(t.join(",")).then(function(t){if(console.log("getFromShareBox result",t),200==t.statusCode&&200==t.data.code){for(var i=t.data.equips,o=0;o<i.length;o++)l.default.Init.CreatEquipment(i[o].id,i[o]);n.shareBoxData.equips=t.data.data,n.instateData(),e(!0)}else e(!1)}).catch(function(){e(!1)})},t.prototype.instateData=function(){this.LoadEquipBag(this.shareBoxData.equips)},t.prototype.LoadEquipBag=function(e){var n;if(this.equip_bag=[],null!=e&&null!=e&&""!=e){for(var i=20*Math.min(t.MAX_EQUIPBAGPAGE,Math.max(1,this.shareBoxData.boxSize)),o=new Array(i),s=0;s<o.length;s++)o[s]=r.default.Create();(n=this.equip_bag).push.apply(n,o);var l,c=e;for(s=0;s<c.length&&!(s>this.equip_bag.length-1);s++)(l=a.default.Create().SetData(c[s].id,c[s].powerlv,c[s].base_entry,null,c[s].magicSwordLv)).lock=null!=c[s].lock&&c[s].lock,l.fix_count=null==c[s].fc?0:c[s].fc,l.power_failecount=null==c[s].pc?0:c[s].pc,l.index=s,this.equip_bag[s].SetNull(),this.equip_bag[s].SetEquip(l)}},t.prototype.getBoxDataByKey=function(t){for(var e=null,n=0;n<this.equip_bag.length;n++){var i=this.equip_bag[n];if(null!=i.Equip&&i.Equip.key==t){e={id:i.Equip.id,powerlv:i.Equip.powerlv,base_entry:i.Equip.base_entry,magicSwordLv:i.Equip.magicSwordLv,lock:i.Equip.lock,fc:i.Equip.fix_count,pc:i.Equip.power_failecount};break}}return e},t.prototype.AddBoxPage=function(){var t=this,e=this.shareBoxData.boxSize;s.default.instance.addWarehouseSize().then(function(n){var i;if(200==n.statusCode&&200==n.data.code){t.shareBoxData.boxSize=n.data.size;var o=n.data.size;if(o>0){for(var a=new Array(o-e),s=0;s<a.length;s++)a[s]=r.default.Create();(i=t.equip_bag).push.apply(i,a),GEvent.emit(GEventName.AddBoxPage)}}else Global.onShowTosat("\u6269\u5bb9\u5931\u8d25")})},t.MAX_EQUIPBAGPAGE=5,t}();o.default=u,cc._RF.pop()},{}],ShiWanView:[function(t,e,n){"use strict";cc._RF.push(e,"fac75MgzINIrZ5PYWZq5uDo","ShiWanView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("View"),u=o("CurrencyType"),p=o("ShiwanGiftDataManager"),d=o("Admanager"),f=o("configStore"),h=cc._decorator,y=h.ccclass,g=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardTip=null,e.girdLayout=null,e.time=0,e}return r(e,t),e.prototype.onUILoad=function(){var t=this,e=f.default.jumpConfig;this.node.Child("noGame").active=0==e.length;for(var n=function(n){var i=t.girdLayout.children[n];if(null!=e[n]){i.active=!0,i.Child("New Label",cc.Label).string=e[n].name;var o=e[n].url;cc.assetManager.loadRemote(o,function(e,n){cc.isValid(t.node)&&null==e&&(i.Child("New Sprite",cc.Sprite).spriteFrame=new cc.SpriteFrame(n))}),t.onClick(i.getChildByName("btnShiwan"),function(){t.onClickShiwan(n)},t);var a=p.default.instance.hasPlay(n);i.Child("btnLabel",cc.Label).string=a?"\u5df2\u83b7\u5f97":"\u8bd5 \u73a9"}else i.active=!1},i=0;i<this.girdLayout.children.length;i++)n(i)},e.prototype.onUIDestroy=function(){cc.game.targetOff(this)},e.prototype.onClickShiwan=function(t){var e=this;console.log("\u70b9\u51fb\u4e86\u8bd5\u73a9",t);var n=f.default.jumpConfig,i=n[t].appid;d.default.instance.navigateToMiniProgram({appId:i,path:"page/index/index"+n[t].path}),p.default.instance.hasPlay(t)||(this.time=(new Date).getTime(),cc.game.once(cc.game.EVENT_SHOW,function(){(new Date).getTime()-e.time>3e4?(e.scheduleOnce(function(){Global.onShowTosat("\u8bd5\u73a9\u6210\u529f\uff0c\u83b7\u5f97100\u94bb\u77f3")},2),l.default.Get(u.CurrencyType.COUPON,1e3),p.default.instance.Sign(t),e.girdLayout.children[t].Child("btnLabel",cc.Label).string="\u5df2\u83b7\u5f97"):e.scheduleOnce(function(){Global.onShowTosat("\u8bd5\u73a930\u79d2\u624d\u80fd\u83b7\u5f97\u5956\u52b1")},2)}))},s([g(cc.Node)],e.prototype,"rewardTip",void 0),s([g(cc.Node)],e.prototype,"girdLayout",void 0),s([y],e)}(c.default);a.default=m,cc._RF.pop()},{}],ShiwanGiftDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"92538VPDV5AS48SA+cnu5Dq","ShiwanGiftDataManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Utils"),r=i("ServerCommonCfgMgr"),s=function(){function t(){this.isSign=!1}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.ShiwanGiftData=t,r.default.getLoginTime().then(function(t){t&&1==a.default.doubleTimestampEqualDay(t,e.ShiwanGiftData.lastSignTime)&&(e.ShiwanGiftData.lastSignTime=Number(t),e.ShiwanGiftData.playCount=[0,0,0,0,0,0])})},t.prototype.hasPlay=function(t){return 1==this.ShiwanGiftData.playCount[t]},t.prototype.Sign=function(t){this.ShiwanGiftData.playCount[t]=1},t}();o.default=s,cc._RF.pop()},{}],ShopBuyItem:[function(t,e,n){"use strict";cc._RF.push(e,"c37cdOqLvRNTpDjrMwHPRfg","ShopBuyItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameCalculate"),c=o("SceneConfig"),u=o("SceneManager"),p=o("UIWidget"),d=o("GameData"),f=o("CurrencyType"),h=o("GetFashionType"),y=o("InvitePosType"),g=o("ShopType"),m=o("BagManager"),v=o("BtShopDataManger"),_=o("FashionManager"),b=o("FashionSkinDataManger"),k=o("InviterDataManger"),S=o("ServerCommonCfgMgr"),w=o("ShopDataManger"),T=o("Admanager"),C=o("DotManger"),D=o("platformConfig"),E=o("CommonTool"),I=o("Constant"),P=o("Utils"),M=o("ComRewardView"),L=cc._decorator,A=L.ccclass,R=L.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleLab=null,e.shopIcon=null,e.countLab=null,e.needIcon=null,e.needCountLab=null,e.dayLimitLab=null,e.cdLab=null,e.BuyBtn=null,e.fragment=null,e.buyType=0,e.lastTime=0,e.fashionType=0,e.fashionIndex=0,e}return r(e,t),e.prototype.GetPlatformType_tt=function(){return D.default.platformType==I.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||D.default.platformType==I.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX},e.prototype.onUILoad=function(){this.itemData=[],this.buyType=0,k.default.instance.getInviterIdCount(y.InviterID_BTShop.BTUnlock)>=3&&b.default.instance.getFashionSkin(0,4),this.GetPlatformType_tt()?(this.fragment.node.y+=30,this.BuyBtn.node.y+=30,this.dayLimitLab.node.y+=20,this.countLab.node.y+=10):this.fragment.string=""},e.prototype.SetBuyItem=function(t,e){this.itemData=t,this.itemDataMgr=w.default.instance.getShopIdData(this.itemData.id,!0),this.buyType=e,this.titleLab.string=this.itemData.title,P.default.loadSpfFromRes(this.itemData.icon,this.shopIcon),this.countLab.string="x"+this.itemData.count,this.refreshBuyItem(),this.BuyBtn.node.on("click",this.onBuyBtn,this)},e.prototype.SetFashionItem=function(t,e,n){this.fashionType=t,this.fashionIndex=e,this.itemData=n,this.BtItemDataMgr=v.default.instance.getShopIdData(this.fashionType,this.itemData.id,!0),this.titleLab.string=this.itemData.name,P.default.loadSpfFromRes(this.itemData.icon,this.shopIcon),this.needIcon.node.active=!1,this.fashionType<3?(this.shopIcon.node.scale=1.5,this.inviteId=this.getInviteID(this.fashionType,this.fashionIndex)):this.fashionType>=3&&(this.shopIcon.node.scale=.75,3==this.fashionType&&(this.shopIcon.node.angle=-30),this.inviteId=this.getInviteID(this.fashionType,n.id));var i=k.default.instance.getInviterIdCount(this.inviteId);if(this.buyType=this.fashionType<3?this.itemData.GetFashionType:this.itemData.gettype,this.buyType==h.GetFashionType.INVITE)this.needCountLab.string="\u9080\u8bf7 "+i+"/"+this.itemData.cost,this.needCountLab.node.x=0;else if(this.buyType==h.GetFashionType.SHOPVIDEO)this.needIcon.node.active=!0,this.needCountLab.string="\u518d\u770b"+(this.itemData.cost-this.BtItemDataMgr.videoCount)+"\u6b21\u83b7\u5f97";else if(this.buyType==h.GetFashionType.FRAGMENT){var o=this.BtItemDataMgr.videoCount,a=this.itemData.cost;this.fragment.string=a+"\u4e2a\u788e\u7247\u53ef\u4ee5\u5151\u6362("+o+"/"+a+")",o>=a?(this.needCountLab.string="\u788e\u7247\u5151\u6362",this.needIcon.node.active=!1,this.needCountLab.node.x=0):(this.needCountLab.string="\u83b7\u5f97\u788e\u7247",this.needIcon.node.active=!0,this.needCountLab.node.x=25)}this.countLab.string="x1",this.dayLimitLab.node.active=!1,this.cdLab.node.active=!1,-1!=this.itemData.cost&&i>=this.itemData.cost&&(this.BuyBtn.interactable=!1,this.needCountLab.string="\u5df2\u9886\u53d6",this.needCountLab.node.color=cc.color(170,170,170),this.BuyBtn.node.getChildByName("TX_anniu").active=!1,this.getFashion(this.fashionType,this.fashionIndex)),this.getIsHaveFashion(this.fashionType,this.fashionIndex)&&(this.BuyBtn.interactable=!1,this.needCountLab.string="\u5df2\u9886\u53d6",this.needCountLab.node.color=cc.color(170,170,170),this.BuyBtn.node.getChildByName("TX_anniu").active=!1),this.BuyBtn.node.on("click",this.onFashionBtn,this);var r=Date.now()-this.BtItemDataMgr.countDown;0!=this.BtItemDataMgr.countDown&&r<3e4&&(this.BuyBtn.interactable=!1,this.needCountLab.node.color=cc.color(170,170,170),this.setFashionCDtime())},e.prototype.showShopInviteView=function(){u.default.instance.load(c.default.Scenes.ShopInviteView)},e.prototype.onBuyBtn=function(){var t=this;switch(this.itemData.need_type){case h.GetFashionType.COUPON:var e=100==this.itemData.need_id?f.CurrencyType.COIN:f.CurrencyType.COUPON,n=100==this.itemData.getId?f.CurrencyType.COIN:f.CurrencyType.COUPON;if(!l.default.CanPay(e,this.itemData.need_count))return;l.default.Pay(e,this.itemData.need_count),l.default.Get(n,this.itemData.count),n==f.CurrencyType.COIN?C.default.CommonTrackEvent(DotEnum.gameAldEnum.shop_buy5000gold):C.default.CommonTrackEvent(DotEnum.gameAldEnum.shop_buy50diamond),GEvent.emit(GEventName.shopBuySuc);break;case h.GetFashionType.VIDEO:-1==this.itemData.daily_limit||this.itemDataMgr.getcount<this.itemData.daily_limit?T.default.instance.playRewardVideo(function(){if(t.itemDataMgr.onClickCount>=t.itemData.need_count-1){if(100==t.itemData.getId||101==t.itemData.getId||103==t.itemData.getId){var e=100==t.itemData.getId?f.CurrencyType.COIN:101==t.itemData.getId?f.CurrencyType.COUPON:f.CurrencyType.FATIGUE;l.default.Get(e,t.itemData.count)}else m.default.Init.AddItems(t.itemData.getId,t.itemData.count);t.itemDataMgr.onClickCount=0,t.itemDataMgr.getcount++,w.default.instance.setshopIdDataOnClickCount(t.itemData.id,t.itemDataMgr.onClickCount),w.default.instance.setshopIdDataGetCount(t.itemData.id,t.itemDataMgr.getcount),GEvent.emit(GEventName.shopBuySuc)}else t.itemDataMgr.onClickCount++,w.default.instance.setshopIdDataOnClickCount(t.itemData.id,t.itemDataMgr.onClickCount);t.itemDataMgr.getcount<t.itemData.daily_limit&&(t.itemDataMgr.countDown=Date.now(),t.BuyBtn.interactable=!1,t.needCountLab.node.color=cc.color(170,170,170),t.BuyBtn.node.getChildByName("TX_anniu").active=!1,w.default.instance.setshopIdDataCountDown(t.itemData.id,t.itemDataMgr.countDown),t.setCDtime()),t.refreshBuyItem(),GEvent.emit(GEventName.Task.WatchVideo)}):Global.onShowTosat("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c");break;case h.GetFashionType.INVITE:var i;this.buyType==g.ShopType.CURRENCY?(this.inviteId=y.InviterID_BTShop.BTGold,k.default.instance.getInviterIdCount(this.inviteId)-k.default.instance.getInviterIDGetCount(this.inviteId)*this.itemData.need_count>=this.itemData.need_count?(i=k.default.instance.getInviterOpendIDs(this.inviteId,this.itemData.need_count)).length==this.itemData.need_count?(l.default.Get(f.CurrencyType.COIN,this.itemData.count),k.default.instance.reportedGETData(this.inviteId,i),GEvent.emit(GEventName.shopBuySuc)):Global.onShowTosat("\u9080\u8bf7\u4eba\u6570\u4e0d\u5bf9"):k.default.instance.shareAppMessageFromUrl(this.inviteId)):(this.inviteId=y.InviterID_BTShop.BTCURRoleUpgrade,19==this.itemData.id&&(this.inviteId=y.InviterID_BTShop.BTCURRoleUpgrade65),k.default.instance.getInviterIdCount(this.inviteId)-k.default.instance.getInviterIDGetCount(this.inviteId)*this.itemData.need_count>=this.itemData.need_count?(i=k.default.instance.getInviterOpendIDs(this.inviteId,this.itemData.need_count)).length==this.itemData.need_count?(m.default.Init.AddItems(this.itemData.getId,this.itemData.count),k.default.instance.reportedGETData(this.inviteId,i),GEvent.emit(GEventName.shopBuySuc)):Global.onShowTosat("\u9080\u8bf7\u4eba\u6570\u4e0d\u5bf9"):k.default.instance.shareAppMessageFromUrl(this.inviteId));break;case h.GetFashionType.FRAGMENT:if(-1==this.itemData.daily_limit||this.itemDataMgr.getcount<this.itemData.daily_limit)if(this.itemDataMgr.onClickCount>=this.itemData.need_count){if(100==this.itemData.getId||101==this.itemData.getId||103==this.itemData.getId){var o=100==this.itemData.getId?f.CurrencyType.COIN:101==this.itemData.getId?f.CurrencyType.COUPON:f.CurrencyType.FATIGUE;l.default.Get(o,this.itemData.count)}else m.default.Init.AddItems(this.itemData.getId,this.itemData.count);this.itemDataMgr.onClickCount=0,this.itemDataMgr.getcount++,w.default.instance.setshopIdDataOnClickCount(this.itemData.id,this.itemDataMgr.onClickCount),w.default.instance.setshopIdDataGetCount(this.itemData.id,this.itemDataMgr.getcount),GEvent.emit(GEventName.shopBuySuc)}else{var a=function(e){e&&(t.itemDataMgr.onClickCount++,w.default.instance.setshopIdDataOnClickCount(t.itemData.id,t.itemDataMgr.onClickCount),t.itemDataMgr.getcount<t.itemData.daily_limit&&(t.itemDataMgr.countDown=Date.now(),t.BuyBtn.interactable=!1,t.needCountLab.node.color=cc.color(170,170,170),t.BuyBtn.node.getChildByName("TX_anniu").active=!1,w.default.instance.setshopIdDataCountDown(t.itemData.id,t.itemDataMgr.countDown),t.itemDataMgr.onClickCount>=t.itemData.need_count?(t.itemDataMgr.countDown=0,t.setCDtime()):t.setCDtime()),t.refreshBuyItem(),GEvent.emit(GEventName.Task.WatchVideo))},r=[{id:100,value:5e4},{id:this.itemData.fragment_id,value:1}];u.default.instance.load(c.default.Scenes.ComRewardView,void 0,function(t,e){e.getComponent(M.default).showFragment({_reward:r,call:a})})}else Global.onShowTosat("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c")}this.refreshBuyItem()},e.prototype.onFashionBtn=function(){var t=this;if(this.buyType==h.GetFashionType.INVITE)console.log("this.inviteId "+this.inviteId),k.default.instance.shareAppMessageFromUrl(this.inviteId);else if(this.buyType==h.GetFashionType.SHOPVIDEO)T.default.instance.playRewardVideo(function(){t.BtItemDataMgr.videoCount++,v.default.instance.setBtShopVideoCount(t.fashionType,t.itemData.id,t.BtItemDataMgr.videoCount),t.needCountLab.string="\u518d\u770b"+(t.itemData.cost-t.BtItemDataMgr.videoCount)+"\u6b21\u83b7\u5f97",t.BtItemDataMgr.videoCount>=t.itemData.cost?(t.getFashion(t.fashionType,t.fashionIndex),t.BuyBtn.interactable=!1,t.needCountLab.string="\u5df2\u9886\u53d6",t.needCountLab.node.color=cc.color(170,170,170),t.BuyBtn.node.getChildByName("TX_anniu").active=!1):t.BtItemDataMgr.videoCount<t.itemData.cost&&(t.BtItemDataMgr.countDown=Date.now(),t.BuyBtn.interactable=!1,t.needCountLab.node.color=cc.color(170,170,170),t.BuyBtn.node.getChildByName("TX_anniu").active=!1,v.default.instance.setBtShopCountDown(t.fashionType,t.itemData.id,t.BtItemDataMgr.countDown),t.setFashionCDtime()),GEvent.emit(GEventName.Task.WatchVideo)});else if(this.buyType==h.GetFashionType.FRAGMENT)if(this.BtItemDataMgr.videoCount>=this.itemData.cost)this.getFashion(this.fashionType,this.fashionIndex),this.BuyBtn.interactable=!1,this.needCountLab.string="\u5df2\u9886\u53d6",this.needCountLab.node.color=cc.color(170,170,170),this.BuyBtn.node.getChildByName("TX_anniu").active=!1;else{var e=function(e){if(e){t.BtItemDataMgr.videoCount++,v.default.instance.setBtShopVideoCount(t.fashionType,t.itemData.id,t.BtItemDataMgr.videoCount),t.BuyBtn.node.getChildByName("TX_anniu").active=!1,v.default.instance.setBtShopCountDown(t.fashionType,t.itemData.id,t.BtItemDataMgr.countDown);var n=t.BtItemDataMgr.videoCount,i=t.itemData.cost;t.fragment.string=i+"\u4e2a\u788e\u7247\u53ef\u4ee5\u5151\u6362("+n+"/"+i+")",n>=i?(t.needCountLab.string="\u788e\u7247\u5151\u6362",t.needIcon.node.active=!1,t.needCountLab.node.x=0,t.BtItemDataMgr.countDown=0):(t.needCountLab.string="\u83b7\u5f97\u788e\u7247",t.needIcon.node.active=!0,t.needCountLab.node.x=25,t.BtItemDataMgr.countDown=Date.now(),t.BuyBtn.interactable=!1,t.needCountLab.node.color=cc.color(170,170,170),t.setFashionCDtime())}},n=[{id:100,value:5e4},{id:this.itemData.fragment_id||this.itemData.fashion_json.fragment_id,value:1}];u.default.instance.load(c.default.Scenes.ComRewardView,void 0,function(t,i){i.getComponent(M.default).showFragment({_reward:n,call:e})})}},e.prototype.refreshBuyItem=function(){var t;switch(-1==this.itemData.daily_limit?this.dayLimitLab.node.active=!1:(this.dayLimitLab.node.active=!0,this.dayLimitLab.string="\u6bcf\u65e5\u9650\u91cf "+this.itemDataMgr.getcount+"/"+this.itemData.daily_limit),this.itemData.need_type){case h.GetFashionType.COUPON:t=d.default.CurrenyData()[this.itemData.need_id].icon,P.default.loadSpfFromRes(t,this.needIcon),this.needCountLab.string="x"+this.itemData.need_count;break;case h.GetFashionType.VIDEO:var e=this.itemData.need_count-this.itemDataMgr.onClickCount;this.needCountLab.string="\u518d\u770b"+e+"\u6b21\u83b7\u5f97";break;case h.GetFashionType.INVITE:this.needIcon.node.active=!1,this.needCountLab.node.x=0,this.buyType==g.ShopType.CURRENCY?this.inviteId=y.InviterID_BTShop.BTGold:(this.inviteId=y.InviterID_BTShop.BTCURRoleUpgrade,19==this.itemData.id&&(this.inviteId=y.InviterID_BTShop.BTCURRoleUpgrade65));var n=k.default.instance.getMaxGetTime(this.inviteId);if(P.default.doubleTimestampEqualDay(S.default.servertime,n)){var i=k.default.instance.getInviterIdCount(this.inviteId),o=k.default.instance.getInviterIDGetCount(this.inviteId);this.needCountLab.string="\u9080\u8bf7 "+(i-o*this.itemData.need_count)+"/"+this.itemData.need_count}else this.BuyBtn.interactable=!1,this.needCountLab.string="\u5df2\u9886\u53d6",this.needCountLab.node.color=cc.color(170,170,170),this.BuyBtn.node.getChildByName("TX_anniu").active=!1,this.dayLimitLab.string="\u6bcf\u65e5\u9650\u91cf "+this.itemData.daily_limit+"/"+this.itemData.daily_limit;break;case h.GetFashionType.FRAGMENT:var a=this.itemDataMgr.onClickCount,r=this.itemData.need_count;this.fragment.string=r+"\u4e2a\u788e\u7247\u53ef\u4ee5\u5151\u6362("+a+"/"+r+")",a>=r?(this.needCountLab.string="\u788e\u7247\u5151\u6362",this.needIcon.node.active=!1,this.needCountLab.node.x=0):(this.needCountLab.string="\u83b7\u5f97\u788e\u7247",this.needIcon.node.active=!0,this.needCountLab.node.x=25)}this.cdLab.node.active=!1;var s=Date.now()-this.itemDataMgr.countDown;0!=this.itemDataMgr.countDown&&s<1e3*this.itemData.cd&&(this.BuyBtn.interactable=!1,this.needCountLab.node.color=cc.color(170,170,170),this.setCDtime())},e.prototype.setCDtime=function(){this.countCallback=function(){var t=Date.now()-this.itemDataMgr.countDown;0!=this.itemDataMgr.countDown&&Math.abs(t)>1e4*this.itemData.cd&&(t=0,this.itemDataMgr.countDown=Date.now(),Global.onShowTosat("\u8bf7\u52ff\u4fee\u6539\u65f6\u95f4")),0!=this.itemDataMgr.countDown&&t<1e3*this.itemData.cd?(this.cdLab.node.active=!0,this.cdLab.string=E.default.formatTimeMinute(Math.floor((1e3*this.itemData.cd-t)/1e3))+"\u540e\u53ef\u7ee7\u7eed\u9886\u53d6",this.BuyBtn.interactable=!1,this.needCountLab.node.color=cc.color(170,170,170),this.BuyBtn.node.getChildByName("TX_anniu").active=!1):(this.itemDataMgr.countDown=0,w.default.instance.setshopIdDataCountDown(this.itemData.id,this.itemDataMgr.countDown),this.cdLab.node.active=!1,this.BuyBtn.interactable=!0,this.needCountLab.node.color=cc.color(131,81,52),this.BuyBtn.node.getChildByName("TX_anniu").active=!0,this.unschedule(this.countCallback))},this.schedule(this.countCallback,1)},e.prototype.setFashionCDtime=function(){this.fashioncountCallback=function(){var t=Date.now()-this.BtItemDataMgr.countDown;0!=this.BtItemDataMgr.countDown&&Math.abs(t)>3e5&&(t=0,this.BtItemDataMgr.countDown=Date.now(),Global.onShowTosat("\u8bf7\u52ff\u4fee\u6539\u65f6\u95f4")),0!=this.BtItemDataMgr.countDown&&t<3e4?(this.cdLab.node.active=!0,this.cdLab.string=E.default.formatTimeMinute(Math.floor((3e4-t)/1e3))+"\u540e\u53ef\u7ee7\u7eed\u9886\u53d6",this.BuyBtn.interactable=!1,this.needCountLab.node.color=cc.color(170,170,170),this.BuyBtn.node.getChildByName("TX_anniu").active=!1):(this.BtItemDataMgr.countDown=0,v.default.instance.setBtShopCountDown(this.fashionType,this.itemData.id,this.BtItemDataMgr.countDown),this.cdLab.node.active=!1,this.BuyBtn.interactable=!0,this.needCountLab.node.color=cc.color(131,81,52),this.BuyBtn.node.getChildByName("TX_anniu").active=!0,this.unschedule(this.fashioncountCallback))},this.schedule(this.fashioncountCallback,1)},e.prototype.getFashion=function(t){t<3?_.default.Init.getFashion(this.itemData.id,t):b.default.instance.getFashionSkin(t-3,this.itemData.id)},e.prototype.getIsHaveFashion=function(t){return t<3?_.default.Init.getIsHave(this.itemData.id,t):b.default.instance.getIsHave(t-3,this.itemData.id)},e.prototype.getInviteID=function(t,e){var n=y.InviterID_BTShop.BTFashi0_head;switch(t){case 0:switch(e){case 0:n=y.InviterID_BTShop.BTFashi0_head;break;case 1:n=y.InviterID_BTShop.BTFashi1_head}break;case 1:switch(e){case 0:n=y.InviterID_BTShop.BTFashi0_body;break;case 1:n=y.InviterID_BTShop.BTFashi1_body}break;case 2:switch(e){case 0:n=y.InviterID_BTShop.BTFashi0_foot;break;case 1:n=y.InviterID_BTShop.BTFashi1_foot}break;case 3:switch(e){case 0:n=y.InviterID_BTShop.BTWeapon_0;break;case 1:n=y.InviterID_BTShop.BTWeapon_1;break;case 2:n=y.InviterID_BTShop.BTWeapon_2;break;case 3:n=y.InviterID_BTShop.BTWeapon_3;break;case 4:n=y.InviterID_BTShop.BTUnlock;break;case 5:n=y.InviterID_BTShop.BTWeapon_5}break;case 4:switch(e){case 0:n=y.InviterID_BTShop.BTEffect_0;break;case 1:n=y.InviterID_BTShop.BTEffect_1}}return n},s([R(cc.Label)],e.prototype,"titleLab",void 0),s([R(cc.Sprite)],e.prototype,"shopIcon",void 0),s([R(cc.Label)],e.prototype,"countLab",void 0),s([R(cc.Sprite)],e.prototype,"needIcon",void 0),s([R(cc.Label)],e.prototype,"needCountLab",void 0),s([R(cc.Label)],e.prototype,"dayLimitLab",void 0),s([R(cc.Label)],e.prototype,"cdLab",void 0),s([R(cc.Button)],e.prototype,"BuyBtn",void 0),s([R(cc.Label)],e.prototype,"fragment",void 0),s([A],e)}(p.default);a.default=O,cc._RF.pop()},{}],ShopDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"9ab4aDCPd1NhZ/gfFyP63Ht","ShopDataManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Utils"),r=i("GameStatsManager"),s=i("ServerCommonCfgMgr"),l=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.ShopDataMgr=t,this.maxShopVideo=s.default.IsTTVideos?1:3,s.default.getLoginTime().then(function(t){t&&a.default.doubleTimestampEqualDay(t,r.default.instance.lastLoginTime)&&(e.ShopDataMgr.ShopDataList=[])})},Object.defineProperty(t.prototype,"maxShopVideo",{get:function(){return t.maxShopVideo},set:function(e){t.maxShopVideo=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UnlockShopVideo",{get:function(){return this.ShopDataMgr.UnlockShopVideo},set:function(t){this.ShopDataMgr.UnlockShopVideo=t},enumerable:!1,configurable:!0}),t.prototype.getShopIdData=function(t,e){return this.ShopDataMgr.getShopIdData(t,e)},t.prototype.getLoacalShopData=function(t){var e=null;return this.ShopDataMgr.checkDataSame(t)?e=this.getShopIdData(t):(this.ShopDataMgr.addShopIdrData(t),e=this.getShopIdData(t)),e},t.prototype.setshopIdDataGetCount=function(t,e){this.getLoacalShopData(t).getcount=e,GEvent.emit(GEventName.SaveUserDataLocal)},t.prototype.setshopIdDataOnClickCount=function(t,e){this.getLoacalShopData(t).onClickCount=e,GEvent.emit(GEventName.SaveUserDataLocal)},t.prototype.setshopIdDataCountDown=function(t,e){this.getLoacalShopData(t).countDown=e,GEvent.emit(GEventName.SaveUserDataLocal)},t.prototype.getVideoIdData=function(t){return this.ShopDataMgr.getVideoIdData(t)},t.prototype.addVideoIdData=function(t,e){this.ShopDataMgr.addVideoIdData(t,e),GEvent.emit(GEventName.SaveUserDataLocal)},t.maxShopVideo=0,t}();o.default=l,cc._RF.pop()},{}],ShopInviteView:[function(t,e,n){"use strict";cc._RF.push(e,"71b73m0/8VC0ri2ZXvlNrM1","ShopInviteView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=o("InvitePosType"),d=o("GameHelper"),f=o("FashionSkinDataManger"),h=o("InviterDataManger"),y=o("ShopDataManger"),g=o("Admanager"),m=o("platformConfig"),v=o("Constant"),_=o("ComRewardView"),b=cc._decorator,k=b.ccclass,S=b.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ActorSk=null,e.inviteCount=null,e.video_icon=null,e}return r(e,t),e.prototype.GetPlatformType=function(){return m.default.platformType==v.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||m.default.platformType==v.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||m.default.platformType==v.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO||m.default.platformType==v.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO||m.default.platformType===v.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS},e.prototype.GetPlatformType_tt=function(){return m.default.platformType==v.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT},e.prototype.onUILoad=function(){this.setplatform(),d.default.instance.PreviewWeaponSkin(this.ActorSk,4),this.msgLabel=this.getLabel("content/label"),this.Btn_Label=this.getLabel("content/btn_confirm/Layout/label"),this.onSetTT()},e.prototype.onSetTT=function(){this.GetPlatformType()?(this.inviteCount.string=y.default.instance.UnlockShopVideo+"/"+y.default.maxShopVideo,this.video_icon.active=!0,this.Btn_Label.string="\u89c2 \u770b",this.msgLabel.string="\u89c2\u770b"+y.default.maxShopVideo+"\u6b21\u89c6\u9891\u6c38\u4e45\u89e3\u9501\u65f6\u88c5\u9053\u5177\u5546\u57ce\n\u89e3\u9501\u5546\u57ce\u540e\u8d60\u9001\n\u6b66\u5668\u76ae\u80a4\uff1a\u54b8\u9c7c(\u6c38\u4e45)1\u4e2a"):(this.video_icon.active=!1,this.inviteCount.string=h.default.instance.getInviterIdCount(p.InviterID_BTShop.BTUnlock)+"/3",this.msgLabel.string="\u9700\u5148\u9080\u8bf73\u4eba\u6c38\u4e45\u89e3\u9501\u65f6\u88c5\u9053\u5177\u5546\u57ce\n\u89e3\u9501\u5546\u57ce\u540e\u8d60\u9001\n\u6b66\u5668\u76ae\u80a4\uff1a\u54b8\u9c7c(\u6c38\u4e45)1\u4e2a")},e.prototype.onDisable=function(){GEvent.emit(GEventName.updateActor)},e.prototype.onBtnInvite=function(){var t=this;if(this.GetPlatformType())if(this.GetPlatformType_tt()){var e=function(e){if(e){if(y.default.instance.UnlockShopVideo+=1,y.default.instance.UnlockShopVideo>=y.default.maxShopVideo)return f.default.instance.getFashionSkin(0,4),t.close();t.onSetTT()}},n=[{id:100,value:5e4}];c.default.instance.load(l.default.Scenes.ComRewardView,void 0,function(t,i){i.getComponent(_.default).showFragment({_reward:n,call:e})})}else g.default.instance.playRewardVideo(function(){if(y.default.instance.UnlockShopVideo+=1,y.default.instance.UnlockShopVideo>=y.default.maxShopVideo)return f.default.instance.getFashionSkin(0,4),t.close();t.onSetTT(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_headportrai_unlock);else h.default.instance.shareAppMessageFromUrl(p.InviterID_BTShop.BTUnlock)},s([S(sp.Skeleton)],e.prototype,"ActorSk",void 0),s([S(cc.Label)],e.prototype,"inviteCount",void 0),s([S(cc.Node)],e.prototype,"video_icon",void 0),s([k],e)}(u.default);a.default=w,cc._RF.pop()},{}],ShopItemData:[function(t,e,n){"use strict";cc._RF.push(e,"9e5e9ZLG4ZPWaLD7/PtxKVT","ShopItemData");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t.prototype,"ItemID",{get:function(){return this.item_id^this.key0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Count",{get:function(){return this.item_count^this.key3},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"NeedID",{get:function(){return this.need_item_id^this.key1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"NeedCount",{get:function(){return this.need_count^this.key2},enumerable:!1,configurable:!0}),t.prototype.SetData=function(t){return this.key0=Math.floor(1e7*Math.random()),this.key1=Math.floor(1e7*Math.random()),this.key2=Math.floor(1e7*Math.random()),this.key3=Math.floor(1e7*Math.random()),this.item_id=Number(t.id)^this.key0,this.item_count=Number(t.count)^this.key3,-1!=t.need_id&&(this.need_item_id=Number(t.need_id)^this.key1,this.need_count=Number(t.need_count)^this.key2),this},t}();i.default=o,cc._RF.pop()},{}],ShopItem:[function(t,e,n){"use strict";cc._RF.push(e,"d47f4RLXMFLlZtI02pDInxF","ShopItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("GameData"),u=o("Utils"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exIcon=null,e.isSelectSp=null,e.exName=null,e.exCount=null,e.costIcon=null,e.costCount=null,e.costContent=null,e.costItem=null,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.SetItem=function(t){var e=this,n=c.default.ItemData()[t.id].icon;cc.resources.load(n,function(t,n){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),e.exIcon.spriteFrame=new cc.SpriteFrame(n)}),this.exName.string=c.default.ItemData()[t.id].name,this.exCount.string="x"+t.count,this.costContent.removeAllChildren();for(var i=0;i<t.need_id.length;i++){var o=cc.instantiate(this.costItem);o.active=!0,o.getChildByName("lab_costCount").getComponent(cc.Label).string="x"+t.need_count[i],u.default.loadSpfFromRes(c.default.ItemData()[t.need_id[i]].icon,o.getChildByName("costIcon")),o.parent=this.costContent}},e.prototype.isSelect=function(t){this.isSelectSp.active=t,this.node.opacity=t?255:200},s([f(cc.Sprite)],e.prototype,"exIcon",void 0),s([f(cc.Node)],e.prototype,"isSelectSp",void 0),s([f(cc.Label)],e.prototype,"exName",void 0),s([f(cc.Label)],e.prototype,"exCount",void 0),s([f(cc.Sprite)],e.prototype,"costIcon",void 0),s([f(cc.Label)],e.prototype,"costCount",void 0),s([f(cc.Node)],e.prototype,"costContent",void 0),s([f(cc.Node)],e.prototype,"costItem",void 0),s([d],e)}(l.default);a.default=h,cc._RF.pop()},{}],ShopType:[function(t,e,n){"use strict";cc._RF.push(e,"2e891Z8OiRF3JJCzHc2q7X9","ShopType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.ShopType=void 0,function(t){t[t.CURRENCY=0]="CURRENCY",t[t.EXCHANGE=1]="EXCHANGE",t[t.FASHION=2]="FASHION",t[t.ITEM=3]="ITEM"}(i.ShopType||(i.ShopType={})),cc._RF.pop()},{}],ShopView:[function(t,e,n){"use strict";cc._RF.push(e,"43b2598/GdOB7A5goVxt1l6","ShopView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=o("GameData"),d=o("GetFashionType"),f=o("ShopType"),h=o("GameHelper"),y=o("GameCfgData"),g=o("BagManager"),m=o("FashionManager"),v=o("ComRewardView"),_=o("ShopBuyItem"),b=o("ShopItem"),k=cc._decorator,S=k.ccclass,w=k.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buyAni=null,e.ShopViewList=[],e.ShopContentList=[],e.shopItemPre=null,e.shopBuyItemPre=null,e.exIcon=null,e.exName=null,e.exCount=null,e.costNode=null,e.getCountLab=null,e.shopItemList=[],e.itemData=[],e.exChangeIndex=0,e.getCount=0,e.canExCount=0,e.pageIndex=0,e.fashionIndex=0,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.pageIndex=0,this.fashionIndex=0,this.ShopViewList[0].active=!0,this.showBuyView(),this.buyAni.node.active=!1,GEvent.emit(GEventName.ChangeViewTitle,"ShopView"),GEvent.on(GEventName.shopBuySuc,this.ShopBuySucAni,this)},e.prototype.changeToggleClick=function(t,e){this.pageIndex=parseInt(e);for(var n=0;n<this.ShopViewList.length;n++)this.ShopViewList[n].active=!1;switch(this.pageIndex){case f.ShopType.CURRENCY:this.ShopViewList[0].active=!0,this.showBuyView();break;case f.ShopType.EXCHANGE:this.ShopViewList[1].active=!0,this.showEXchangeView();break;case f.ShopType.FASHION:this.ShopViewList[2].active=!0,this.showFashionView();break;case f.ShopType.ITEM:this.ShopViewList[0].active=!0,this.showBuyView()}},e.prototype.showBuyView=function(){this.itemData=[],this.shopItemList=[],this.ShopContentList[0].removeAllChildren(),this.itemData=this.pageIndex==f.ShopType.CURRENCY?h.default.instance.ShopData().shop_currency:h.default.instance.ShopData().shop_item;for(var t=0;t<this.itemData.length;t++)this.shopItemList[t]=cc.instantiate(this.shopBuyItemPre),this.ShopContentList[0].addChild(this.shopItemList[t]),this.shopItemList[t].getComponent(_.default).SetBuyItem(this.itemData[t],this.pageIndex)},e.prototype.showEXchangeView=function(){this.itemData=[],this.shopItemList=[],this.ShopContentList[1].removeAllChildren(),this.itemData=p.default.shopchangeData();for(var t=0;t<this.itemData.length;t++){this.shopItemList[t]=cc.instantiate(this.shopItemPre);var e=new cc.Component.EventHandler;e.target=this.node,e.component="ShopView",e.handler="onBtnChooseItem",e.customEventData=""+t,this.shopItemList[t].getComponent(cc.Button).clickEvents.push(e),this.ShopContentList[1].addChild(this.shopItemList[t]),this.shopItemList[t].getComponent(b.default).SetItem(this.itemData[t]),this.shopItemList[t].getComponent(b.default).isSelect(!1)}this.exChangeIndex=0,this.shopItemList[this.exChangeIndex].getComponent(b.default).isSelect(!0),this.ReflashExchangeView()},e.prototype.showFashionView=function(){this.itemData=[],this.shopItemList=[],this.ShopContentList[2].removeAllChildren(),this.fashionIndex<3?(this.itemData.push(m.default.Init.getFashionSetById(2).equip[this.fashionIndex]),this.itemData.push(m.default.Init.getFashionSetById(3).equip[this.fashionIndex]),this.itemData.push(m.default.Init.getFashionSetById(4).equip[this.fashionIndex]),this.itemData.push(m.default.Init.getFashionSetById(12).equip[this.fashionIndex]),this.itemData.push(m.default.Init.getFashionSetById(13).equip[this.fashionIndex])):3==this.fashionIndex?this.itemData=h.default.instance.fashionWeaponData():4==this.fashionIndex&&(this.itemData=h.default.instance.fashionEffectData());for(var t=0;t<this.itemData.length;t++)(this.fashionIndex<3||this.itemData[t].gettype==d.GetFashionType.INVITE||this.itemData[t].gettype==d.GetFashionType.SHOPVIDEO||this.itemData[t].gettype==d.GetFashionType.FRAGMENT)&&(this.shopItemList[t]=cc.instantiate(this.shopBuyItemPre),this.ShopContentList[2].addChild(this.shopItemList[t]),this.shopItemList[t].getComponent(_.default).SetFashionItem(this.fashionIndex,t,this.itemData[t]),this.itemData[t].slot&&0==this.itemData[t].slot.length&&(this.shopItemList[t].active=!1))},e.prototype.FashionToggleClick=function(t,e){this.fashionIndex=parseInt(e),this.showFashionView()},e.prototype.onBtnChooseItem=function(t,e){for(var n in this.shopItemList)this.shopItemList[n].getComponent(b.default).isSelect(!1);this.exChangeIndex=parseInt(e),this.shopItemList[this.exChangeIndex].getComponent(b.default).isSelect(!0),this.ReflashExchangeView()},e.prototype.ReflashExchangeView=function(){var t=this;this.getCount=0,this.canExCount=0;var e=this.itemData[this.exChangeIndex],n=p.default.ItemData()[e.id].icon;cc.resources.load(n,function(e,n){e&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),t.exIcon.spriteFrame=new cc.SpriteFrame(n)}),this.exName.string=p.default.ItemData()[e.id].name,this.exCount.string="\u6570\u91cfx"+e.count;for(var i=0;i<this.costNode.children.length;i++)this.costNode.children[i].active=!1;for(i=0;i<e.need_id.length;i++)this.costNode.children[i].active=!0,this.costNode.children[i].getComponent(cc.Label).string=p.default.ItemData()[e.need_id[i]].name+"\uff1a",this.costNode.children[i].getChildByName("costCount").getComponent(cc.Label).string=g.default.Init.FindItem(e.need_id[i])+"/"+e.need_count[i];this.getCountLab.string=(this.getCount*e.count).toString();var o=Math.floor(g.default.Init.FindItem(e.need_id[0])/e.need_count[0]);for(i=0;i<e.need_id.length;i++){var a=Math.floor(g.default.Init.FindItem(e.need_id[i])/e.need_count[i]);a<o&&(o=a)}this.canExCount=o},e.prototype.onBtnAddOne=function(){var t=this.itemData[this.exChangeIndex];if(this.canExCount<=0)Global.onShowTosat("\u5e93\u5b58\u4e0d\u8db3");else if(g.default.Init.ItemBagFull)Global.onShowTosat("\u80cc\u5305\u5df2\u6ee1\uff0c\u8bf7\u6269\u5c55");else if(this.getCount<this.canExCount){this.getCount+=1;for(var e=0;e<t.need_id.length;e++)this.costNode.children[e].getChildByName("costCount").getComponent(cc.Label).string=g.default.Init.FindItem(t.need_id[e])+"/"+t.need_count[e];this.getCountLab.string=(this.getCount*t.count).toString()}},e.prototype.onBtnSubOne=function(){var t=this.itemData[this.exChangeIndex];if(this.canExCount<=0)Global.onShowTosat("\u5e93\u5b58\u4e0d\u8db3");else if(g.default.Init.ItemBagFull)Global.onShowTosat("\u80cc\u5305\u5df2\u6ee1\uff0c\u8bf7\u6269\u5c55");else if(this.getCount<=this.canExCount&&this.getCount>0){this.getCount-=1;for(var e=0;e<t.need_id.length;e++)this.costNode.children[e].getChildByName("costCount").getComponent(cc.Label).string=g.default.Init.FindItem(t.need_id[e])+"/"+t.need_count[e];this.getCountLab.string=(this.getCount*t.count).toString()}},e.prototype.onBtnAddMaxCount=function(){var t=this.itemData[this.exChangeIndex];if(this.canExCount<=0)Global.onShowTosat("\u5e93\u5b58\u4e0d\u8db3");else if(g.default.Init.ItemBagFull)Global.onShowTosat("\u80cc\u5305\u5df2\u6ee1\uff0c\u8bf7\u6269\u5c55");else{this.getCount=this.canExCount;for(var e=0;e<t.need_id.length;e++)this.costNode.children[e].getChildByName("costCount").getComponent(cc.Label).string=g.default.Init.FindItem(t.need_id[e])+"/"+t.need_count[e];this.getCountLab.string=(this.getCount*t.count).toString()}},e.prototype.onBtnExchange=function(){var t=this.itemData[this.exChangeIndex];if(this.getCount>0){var e=[{id:t.id,value:this.getCount*t.count}];c.default.instance.load(l.default.Scenes.ComRewardView,void 0,function(t,n){n.getComponent(v.default).showExchange(e)});for(var n=0;n<t.need_id.length;n++)g.default.Init.RemoveItem(t.need_id[n],this.getCount*t.need_count[n]);this.ReflashExchangeView()}else Global.onShowTosat("\u8bf7\u9009\u62e9\u5151\u6362\u6570\u91cf")},e.prototype.showViewByType=function(t,e){var n;0==t?n=this.getToggle("content/chooseToggle/btn_currency"):1==t?n=this.getToggle("content/chooseToggle/btn_exchange"):2==t?n=this.getToggle("content/chooseToggle/btn_fashion"):3==t&&(n=this.getToggle("content/chooseToggle/btn_item")),n&&(n.isChecked=!0,this.changeToggleClick(n,t)),2==t&&this.showFahionByType(e)},e.prototype.showFahionByType=function(t){var e;0==t?e=this.getToggle("content/fashionLayout/chooseToggle/btn_head"):1==t?e=this.getToggle("content/fashionLayout/chooseToggle/btn_cloth"):2==t?e=this.getToggle("content/fashionLayout/chooseToggle/btn_foot"):3==t?e=this.getToggle("content/fashionLayout/chooseToggle/btn_weapon"):4==t&&(e=this.getToggle("content/fashionLayout/chooseToggle/btn_effect")),e&&(e.isChecked=!0,this.FashionToggleClick(e,t))},e.prototype.ShopBuySucAni=function(){var t=this;GAudio.playEffect(y.default.buyBtnAudio),this.buyAni.node.active=!0;var e=this.buyAni.setAnimation(0,"goumaichenggong",!1);this.buyAni.setTrackCompleteListener(e,function(){t.buyAni.node.active=!1,console.log("\u8d2d\u4e70\u6210\u529f")})},e.prototype.ShopExchangeSucAni=function(){var t=this;this.buyAni.node.active=!0;var e=this.buyAni.setAnimation(0,"duihanchenggong",!1);this.buyAni.setTrackCompleteListener(e,function(){t.buyAni.node.active=!1,console.log("\u5151\u6362\u6210\u529f")})},s([w(sp.Skeleton)],e.prototype,"buyAni",void 0),s([w([cc.Node])],e.prototype,"ShopViewList",void 0),s([w([cc.Node])],e.prototype,"ShopContentList",void 0),s([w(cc.Prefab)],e.prototype,"shopItemPre",void 0),s([w(cc.Prefab)],e.prototype,"shopBuyItemPre",void 0),s([w(cc.Sprite)],e.prototype,"exIcon",void 0),s([w(cc.Label)],e.prototype,"exName",void 0),s([w(cc.Label)],e.prototype,"exCount",void 0),s([w(cc.Node)],e.prototype,"costNode",void 0),s([w(cc.Label)],e.prototype,"getCountLab",void 0),s([S],e)}(u.default);a.default=T,cc._RF.pop()},{}],SignDayItem:[function(t,e,n){"use strict";cc._RF.push(e,"11564dAiK1OGanZEGurClYg","SignDayItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("GameData"),u=o("RewardType"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.lab_day=this.getLabel("lab_day"),this.icon=this.getSprite("icon"),this.lab_count=this.getLabel("lab_count"),this.light=this.getNode("light"),this.dark=this.getNode("dark")},e.prototype.SetData=function(t,e){var n=this,i=c.default.SignData()["round_"+e][t];this.lab_day.string="\u7b2c"+(t+1)+"\u5929",this.lab_count.string="x"+(i.count^i.key);var o=c.default.DropData()[i.id^i.key].item_id[0];switch(i.reward_type){case u.RewardType.CURRENCY:var a=c.default.CurrenyData()[o].icon;cc.resources.load(a,function(t,e){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),n.icon.spriteFrame=new cc.SpriteFrame(e)});break;case u.RewardType.EQUIPMENT:var r=c.default.EquipData()[o].icon;cc.resources.load(r,function(t,e){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),n.icon.spriteFrame=new cc.SpriteFrame(e)});break;case u.RewardType.ITEM:var s=c.default.ItemData()[o].icon;cc.resources.load(s,function(t,e){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),n.icon.spriteFrame=new cc.SpriteFrame(e)})}},e.prototype.HightLight=function(){},e.prototype.IsSign=function(t){this.dark.active=!!t},e.prototype.RewardLight=function(t){this.light.active=!!t},s([d],e)}(l.default));a.default=f,cc._RF.pop()},{}],SignDayRewardSetItem:[function(t,e,n){"use strict";cc._RF.push(e,"a09a2X80CxF57Du1AVyVKXU","SignDayRewardSetItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("GameData"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){this.icon_loader=this.getSprite("icon"),this.icon_get=this.getNode("icon_get"),this.icon_bg=this.getSprite("iconBg"),this.info_text=this.getLabel("signdayBg/day")},e.prototype.SetData=function(t,e,n){var i=this,o=c.default.SignData()["extra_"+e][t],a=c.default.DropData()[o.id^o.key].item_id[0];this.info_text.string=o.day+"\u5929";var r=c.default.EquipData()[a].icon;cc.resources.load(r,function(t,e){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),i.icon_loader.spriteFrame=new cc.SpriteFrame(e)}),this.icon_bg.getComponent(cc.Sprite).spriteFrame=n[c.default.EquipData()[a].quality]},e.prototype.IsGet=function(t,e){this.icon_get.active=!!e},s([p],e)}(l.default));a.default=d,cc._RF.pop()},{}],SignInView:[function(t,e,n){"use strict";cc._RF.push(e,"fefadT32BBPobZ/Jed7/7gy","SignInView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameData"),u=o("GameError"),p=o("RewardType"),d=o("BagManager"),f=o("SigninManager"),h=o("RoleCfgManager"),y=o("SignDayItem"),g=o("SignDayRewardSetItem"),m=o("SceneConfig"),v=o("GameCalculate"),_=o("CurrencyType"),b=o("Utils"),k=o("Admanager"),S=o("GameStatsManager"),w=o("ComTipsView"),T=o("EquipCalculate"),C=cc._decorator,D=C.ccclass,E=C.property,I=function(t){function e(){var e=t.call(this)||this;return e.dayItem=null,e.signdata_com=[],e.signday_set_com=[],e.qualityList=[],e.daySignType=null,e.equipIcon=null,e.extraDayLab=null,e.dayProgress=null,e.equipInfo=null,e.progressData=[.1,.3,.5,.7,.9],e}return r(e,t),e.prototype.onInit=function(){},e.prototype.onUILoad=function(){this.setplatform(),this.equipInfo.active=!1,this.btn_signin=this.getButton("content/btn_signin"),this.daylist=this.getNode("content/daylist"),this.tzList=this.getNode("content/singinAssignday/daylist"),this.onClick("content/btn_signin",this.onBtnSigninDouble,this);for(var t=0;t<7;t++){var e=cc.instantiate(this.dayItem);e.parent=this.daylist,this.onClick(e,this.onBtnSignin,this),this.signdata_com.push(e.getComponent(y.default))}for(t=0;t<5;t++){var n=this.tzList.children[t].addComponent(g.default);this.signday_set_com.push(n);var i=new cc.Component.EventHandler;i.target=this.node,i.component="SignInView",i.handler="showEquipInfo",i.customEventData=""+t,this.signday_set_com[t].addComponent(cc.Button).clickEvents.push(i)}GEvent.emit(GEventName.ChangeViewTitle,"SignInView")},e.prototype.onUIEnable=function(){this.ReflashView(),this.commercialize()},e.prototype.onUIDisable=function(){this.commercializeHide()},e.prototype.commercialize=function(){},e.prototype.commercializeHide=function(){},e.prototype.ReflashView=function(){this.dayProgress.progress=0,this.btn_signin.interactable=f.default.instance.IsSign,this.btn_signin.node.getChildByName("TX_anniu").active=f.default.instance.IsSign,this.btn_signin.node.getChildByName("label").color=f.default.instance.IsSign?cc.color(131,81,52):cc.color(160,160,160);for(var t=Math.min(f.default.max_round,f.default.instance.SignRoundCount),e=f.default.instance.SignDayCount,n=c.default.SignData()["extra_"+t],i=0,o=0;o<this.signdata_com.length;o++)if(this.signdata_com[o].SetData(o,t),this.signdata_com[o].IsSign(o<e),this.signdata_com[o].RewardLight(o==e&&f.default.instance.IsSign),n[i].day&&n[i].day==o+1){if(this.signday_set_com[i].IsGet(o,o<e),this.signday_set_com[i].SetData(i,t,this.qualityList),o<e)this.dayProgress.progress=this.progressData[i];else if(o==e){this.extraDayLab.string="\u7b2c"+n[i].day+"\u5929\u7b7e\u5230";var a=c.default.DropData()[n[i].id^n[i].key].item_id[0],r="textures/signin/"+a,s="textures/signinEquip/"+a;b.default.loadSpfFromRes(r,this.daySignType),b.default.loadSpfFromRes(s,this.equipIcon)}i++}},e.prototype.onBtnSignin=function(){f.default.instance.IsSign?(this.SetData(f.default.instance.SignDayCount,f.default.instance.SignRoundCount,1),this.SetExtraData(f.default.instance.SignDayCount,f.default.instance.SignRoundCount),f.default.instance.Sign(),this.ReflashView()):console.log("\u4eca\u65e5\u5df2\u7b7e\u5230")},e.prototype.onBtnSigninDouble=function(){var t=this;f.default.instance.IsSign?k.default.instance.playRewardVideo(function(){t.SetData(f.default.instance.SignDayCount,f.default.instance.SignRoundCount,2),t.SetExtraData(f.default.instance.SignDayCount,f.default.instance.SignRoundCount),f.default.instance.Sign(),t.ReflashView(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.video_signin_doubleget):console.log("\u4eca\u65e5\u5df2\u7b7e\u5230")},e.prototype.onBtnClose=function(){this.close()},e.prototype.SetData=function(t,e,n){var i,o=this,a=c.default.SignData()["round_"+e][t];switch(this.key=a.key,this.type=a.reward_type,a.reward_type){case p.RewardType.CURRENCY:this.id=a.id,this.count=a.count,100==(a.id^this.key)?v.default.Get(_.CurrencyType.COIN,(this.count^this.key)*n):101==(a.id^this.key)&&v.default.Get(_.CurrencyType.COUPON,(this.count^this.key)*n);break;case p.RewardType.EQUIPMENT:for(var r=c.default.DropData()[a.id^this.key],s=-1,l=0;l<r.item_id.length;l++)if(c.default.EquipData()[r.item_id[l]].occupation==h.default.instance.curRoleID+1){s=r.item_id[l];break}this.id=s^this.key,this.count=a.count,(i=d.default.Init.CreatEquipment(this.id^this.key)).succ||i.error!=u.GameError.BagFull||S.default.instance.bagEquipUnlockPage<d.default.MAX_EQUIPBAGPAGE&&this.sceneMgr().load(m.default.Scenes.ComTipsView,void 0,function(t,e){e.getComponent(w.default).setPageType(0,function(){d.default.Init.CreatEquipment(o.id^o.key)})});break;case p.RewardType.ITEM:this.id=a.id,this.count=a.count,(i=d.default.Init.AddItems(this.id^this.key,(this.count^this.key)*n).succ).error&&console.error("CreatEquipment error ITEM")}},e.prototype.SetExtraData=function(t,e){for(var n,i=c.default.SignData()["extra_"+e],o=0;o<i.length;o++)if(i[o].day==t+1)for(var a=c.default.DropData()[i[o].id^i[o].key],r=function(t){if(c.default.EquipData()[a.item_id[t]].occupation==h.default.instance.curRoleID+1){var e=a.item_id[t];return(n=d.default.Init.CreatEquipment(e)).succ||n.error!=u.GameError.BagFull||S.default.instance.bagEquipUnlockPage<d.default.MAX_EQUIPBAGPAGE&&s.sceneMgr().load(m.default.Scenes.ComTipsView,void 0,function(t,n){n.getComponent(w.default).setPageType(0,function(){d.default.Init.CreatEquipment(e)})}),"break"}},s=this;0<a.item_id.length&&"break"!==r(0);o++);},e.prototype.showEquipInfo=function(t,e){var n=t.target,i=parseInt(e),o=c.default.SignData()["extra_"+f.default.instance.SignRoundCount][i],a=c.default.DropData()[o.id^o.key].item_id[0],r=c.default.EquipData()[a];this.equipInfo.active=!0;var s=this.tzList.convertToWorldSpaceAR(n),l=this.node.convertToNodeSpaceAR(s);this.equipInfo.x=l.x+195;var u=cc.instantiate(n);u.getComponent(cc.Button).interactable=!1,u.parent=this.equipInfo.getChildByName("equipBg"),u.position=cc.v3(0,0),this.equipInfo.getChildByName("lab_equip_name").getComponent(cc.Label).string=r.name,this.equipInfo.getChildByName("lab_quality").getComponent(cc.Label).string=T.default.GetQualityName(r.quality),this.equipInfo.getChildByName("lab_type").getComponent(cc.Label).string=T.default.GetEquipTypeName(r.type);var p=r.entry;this.equipInfo.getChildByName("equipInfo_1").getComponent(cc.Label).string=this.getEntryName(p[0].entry),this.equipInfo.getChildByName("equipInfo_1").getChildByName("lab_type").getComponent(cc.Label).string=p[0].min_value+" - "+p[0].max_value,p.length>1?(this.equipInfo.getChildByName("equipInfo_2").getComponent(cc.Label).string=this.getEntryName(p[1].entry),this.equipInfo.getChildByName("equipInfo_2").getChildByName("lab_type").getComponent(cc.Label).string=p[1].min_value+" - "+p[1].max_value):this.equipInfo.getChildByName("equipInfo_2").active=!1},e.prototype.closeEquipInfo=function(){this.equipInfo.active=!1},e.prototype.getEntryName=function(t){return"weapon_atk"==t||"shoulder_atk"==t?"\u653b\u51fb\u529b:":"waist_hp"==t||"cloth_hp"==t?"\u8840\u91cf:":"foot_def"==t||"leg_def"==t||"cloth_def"==t?"\u9632\u5fa1\u529b:":"shoulder_atk_speed"==t?"\u653b\u51fb\u901f\u5ea6:":"waist_cri"==t?"\u66b4\u51fb\u7387:":"foot_speed"==t?"\u79fb\u52a8\u901f\u5ea6:":void 0},e.prototype.getView=function(){return this},s([E(cc.Prefab)],e.prototype,"dayItem",void 0),s([E([cc.SpriteFrame])],e.prototype,"qualityList",void 0),s([E(cc.Sprite)],e.prototype,"daySignType",void 0),s([E(cc.Sprite)],e.prototype,"equipIcon",void 0),s([E(cc.Label)],e.prototype,"extraDayLab",void 0),s([E(cc.ProgressBar)],e.prototype,"dayProgress",void 0),s([E(cc.Node)],e.prototype,"equipInfo",void 0),s([D],e)}(l.default);a.default=I,cc._RF.pop()},{}],SigninManager:[function(t,e,n){"use strict";cc._RF.push(e,"d288cuBt2NF1ZG7/vxAwVso","SigninManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Utils"),r=i("ServerCommonCfgMgr"),s=function(){function t(){this.SinginData=null,this.isSign=!1}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsSign",{get:function(){return this.isSign},set:function(t){this.isSign=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SignDayCount",{get:function(){return this.SinginData.signin_day_coun%t.loop_day},set:function(t){this.SinginData.signin_day_coun=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SignRoundCount",{get:function(){return Math.min(t.max_round,Math.floor(this.SinginData.signin_day_coun/t.loop_day))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SigninLastTime",{get:function(){return this.SinginData.last_signin_time},set:function(t){this.SinginData.last_signin_time=t},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.SinginData=t,r.default.getLoginTime().then(function(t){t&&(e.IsSign=a.default.doubleTimestampEqualDay(t,e.SinginData.last_signin_time))})},t.prototype.Sign=function(){this.SignDayCount++,this.SigninLastTime=r.default.servertime,this.IsSign=!1,GEvent.emit(GEventName.SignInSuc),GEvent.emit(GEventName.SaveUserDataLocal)},t.loop_day=7,t.max_round=2,t}();o.default=s,cc._RF.pop()},{}],SkillCalculate:[function(t,e,n){"use strict";cc._RF.push(e,"ec45eMhKglP2ammesbQP5nj","SkillCalculate");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.LvUpCost=function(t,e){return t*e},t.GetDamageUI={gjs:function(e){return[Math.floor(t.GetDamageValues.gjs(e)[0])+""]},pojun:function(e){var n=t.GetDamageValues.pojun(e);return[Math.floor(100*n[0])+"%",Math.floor(100*n[1])+"%"]},wdz:function(e){var n=t.GetDamageValues.wdz(e);return[Math.floor(100*n[0])+"%",Math.floor(100*n[1])+"%",Math.floor(100*n[2])+"%",Math.floor(100*n[3])+"%",Math.floor(100*n[4])+"%"]},bdz:function(e){var n=t.GetDamageValues.bdz(e);return[Math.floor(100*n[0])+"%",Math.floor(100*n[1])+"%"]},menglong:function(e){var n=t.GetDamageValues.menglong(e);return[Math.floor(100*n[0])+"%",Math.floor(100*n[1])+"%",Math.floor(100*n[2])+"%"]},jrlw:function(e){var n=t.GetDamageValues.jrlw(e);return[Math.floor(100*n[0])+"%"]},pjbr:function(e){var n=t.GetDamageValues.pjbr(e);return[(100*n[0]).toFixed(2)+"%",(100*n[1]).toFixed(2)+"%"]},zdgd:function(e){return[(100*t.GetDamageValues.zdgd(e)[0]).toFixed(2)+"%"]},bqyz:function(e){return[(100*t.GetDamageValues.bqyz(e)[0]).toFixed(2)+"%"]},jgjs:function(e){var n=t.GetDamageValues.jgjs(e);return[Math.floor(100*n[0])+"%"]}},t.SetPlayerAttribute={gjs:function(e,n){return n.atk+=t.GetDamageValues.gjs(e)[0],n},pjbr:function(e,n){var i=t.GetDamageValues.pjbr(e);return n.atk+=i[0],n.cri+=i[1],n},zdgd:function(e,n){return n.passiveskill_up_def_percentage+=t.GetDamageValues.zdgd(e)[0],n},bqyz:function(e,n){return n.passiveskill_up_hp_percentage+=t.GetDamageValues.bqyz(e)[0],n}},t.GetDamageValues={gjs:function(t){return[50*t]},pojun:function(t){return[3*.1*t,3*.1*t]},wdz:function(t){return[1.5*.1*t,1.5*.1*t,1.5*.1*t,1.5*.1*t,1.5*.1*t]},bdz:function(t){return[1*t,1.5*.1*t]},menglong:function(t){return[3*.1*t,3*.1*t,3*.1*t]},jrlw:function(t){return[1.5*.1*t]},pjbr:function(t){return[.025*t,.005*t]},zdgd:function(t){return[.02*t]},bqyz:function(t){return[.01*t]},st:function(t){return[1+.01*t]},jgjs:function(t){return[2+.1*t]}},t}();i.default=o,cc._RF.pop()},{}],SkillCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"3c9aa7f8GpCA74GRqyc0ZnL","SkillCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameHelper"),c=o("Admanager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Id=-1,e}return r(e,t),e.prototype.onLoad=function(){this.Lb=this.node.getChildByName("lb").getComponent(cc.Label),this.Mask=this.node.getChildByName("img_circle"),this.CDEff=this.node.getChildByName("cdeff").getComponent(sp.Skeleton),this.Lock=this.node.getChildByName("lock"),this.img_try=this.node.getChildByName("img_try"),this.lb_sycount=this.img_try.getChildByName("lb_sycount").getComponent(cc.Label),this.Lock.addComponent(cc.Button),this.Lock.on("click",this.onUnlockSkill,this),this.addNodeTouchEvent(this.node,this.onEvent,this),this.Mask.active=!1,this.img_try.active=!1},e.prototype.start=function(){},e.prototype.init=function(t){this.heroCtrl=t,this.rfInterface()},e.prototype.rfInterface=function(){var t=this,e=l.default.instance.ActorSkillData();this.HeroSkillData=this.heroCtrl.Hero.HeroSkillCfg.SkillsMap.get(this.Id);var n=this.HeroSkillData.Cfgid;-1!=n&&(cc.resources.load(e[n].icon,function(e,n){t.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)}),this.HeroSkillData.Unlock?this.Lock.active=!1:this.Lock.active=!0)},e.prototype.updateUnlock=function(){this.HeroSkillData.Unlock?this.Lock.active=!1:(this.Lock.active=!0,this.Mask.active=!1),this.HeroSkillData.Adunlock?(this.img_try.active=!0,this.lb_sycount.string="\u8bd5\u7528"+this.HeroSkillData.Useskillcount+"/10"):this.img_try.active=!1,this.HeroSkillData.CD<this.HeroSkillData.MaxCD?this.Lb.string=Math.ceil(this.HeroSkillData.MaxCD-this.HeroSkillData.CD).toString()+"s":this.Lb.string=""},e.prototype.addNodeTouchEvent=function(t,e,n){t.on(cc.Node.EventType.TOUCH_START,e,n),t.on(cc.Node.EventType.TOUCH_END,e,n),t.on(cc.Node.EventType.TOUCH_CANCEL,e,n)},e.prototype.onUnlockSkill=function(){var t=this;c.default.instance.playRewardVideo(function(){t.heroCtrl.Hero.HeroSkillCfg.getSKillData(t.Id).Adunlock=!0,t.rfInterface(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_combat_skillunlock)},e.prototype.onEvent=function(t){this.heroCtrl.onKeyEvent(this.HeroSkillData.Key,t.type==cc.Node.EventType.TOUCH_START?MACRO.ACTORJOYSTICKSTATE.DOWN:MACRO.ACTORJOYSTICKSTATE.UP)},e.prototype.update=function(){this.HeroSkillData&&this.HeroSkillData.Unlock&&(this.HeroSkillData.CD<this.HeroSkillData.MaxCD?(this.Lb.string=Math.ceil(this.HeroSkillData.MaxCD-this.HeroSkillData.CD).toString()+"s",!this.Mask.active&&(this.Mask.active=!0,this.CDEff.setAnimation(0,"zhuanquan",!0))):(this.Lb.string="",this.Mask.active&&(this.Mask.active=!1)),this.HeroSkillData.Adunlock&&(this.img_try.active=!0,this.lb_sycount.string="\u8bd5\u7528"+this.HeroSkillData.Useskillcount+"/10"))},e.prototype.cdSuc=function(t){t==this.Id&&this.CDEff.setAnimation(0,"CDjieshu",!1)},s([d],e.prototype,"Id",void 0),s([p],e)}(cc.Component);a.default=f,cc._RF.pop()},{}],SkillItemEFF:[function(t,e,n){"use strict";cc._RF.push(e,"27b9ehk8PdO2bvd++/m+mrU","SkillItemEFF");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},c=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var u=o("UIWidget"),p=o("GameHelper"),d=o("Utils"),f=o("CombatGameData"),h=o("StateId"),y=o("AnimatorCtrl"),g=o("BaseHero"),m=o("HeroCollision"),v=cc._decorator,_=v.ccclass,b=v.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.heroco=null,e.timeScale=1,e.skillspeed=0,e.skillspeedy=0,e.skillspeeddy=0,e.onLoadSuc=!1,e.pause=!1,e.time=0,e.MoveDir=cc.v3(1,0),e.movetime=0,e.FlyHeightMax=500,e}return r(e,t),Object.defineProperty(e.prototype,"FlyHeight",{get:function(){return this.ad.node.y},set:function(t){t>this.FlyHeightMax&&(t=this.FlyHeightMax),t<0&&(t=0),this.ad.node.y=t},enumerable:!1,configurable:!0}),e.prototype.onUIEnable=function(){this.ad=this.getSpineSkeleton("ad"),this.skilCollider=this.node.getChildByName("skilloffset").getChildByName("skilcollider").getComponent(cc.PolygonCollider),this.animatorCtrl=new y.default(this.ad),this.animatorCtrl.setCompleteListener(this.onAnimationEvent.bind(this)),this.addAdEvent()},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.addAdEvent=function(){GEvent.on(GEventName.CombatEvents.Pause,this.onPause,this),GEvent.on(GEventName.CombatEvents.Recover,this.onResume,this),GEvent.on(GEventName.CombatEvents.AdTimeScale,this.setTimeScale,this),this.animatorCtrl.setEventListener(this.onFrameEvent.bind(this))},e.prototype.onPause=function(){this.pause=!0,this.animatorCtrl.pauseAni()},e.prototype.onResume=function(){this.pause=!1,this.animatorCtrl.resetAni()},e.prototype.onFrameEvent=function(t,e){if("Event_VFX"==e.data.name)for(var n=e.stringValue.split("|"),i=0;i<n.length;i++)this.Soldier.getEffVfx(this.vfxData,n[i],this.node.position)},e.prototype.onInit=function(t,e,n){return l(this,void 0,void 0,function(){var i,o,a,r,s,l,u,f,h;return c(this,function(c){switch(c.label){case 0:return this.Soldier=t,i=n,this.vfxData=i,r="default",s=this.Soldier.skilldata.effectloop,l=this.Soldier.node.parent,u=g.heroZIndex.Up,f=this.Soldier.skilldata.skillmovetype,o=this.Soldier.skilldata.effaction&&""!=this.Soldier.skilldata.effaction?this.Soldier.skilldata.effaction:this.Soldier.skilldata.action,i&&(o=i.anim_name,e=i.vfx_path.sk,this.Soldier.isPlayer&&"res/JianHun/Sk/jianhun_mojian_tx1"!=e&&(h=p.default.instance.getPlayerSkillLastUrl(this.Soldier),e+=h),r=i.skin,f=i.movetype,s=i.loop,null==(a=i.movetime)&&(a=0)),this.node.x=this.Soldier.node.x,this.node.y=this.Soldier.node.y,this.node.scaleX=this.Soldier.scaleX,this.node.scaleY=this.Soldier.scaleY,this.node.parent=l,this.node.zIndex=u,this.node.group=this.Soldier.node.group,this.skilCollider.node.group=this.node.group,this.skilldata=d.default.clone(this.Soldier.skilldata),this.actid=d.default.GUID(),this.skilldata.skillmovetype=f,this.skilldata.effectloop=s,this.movetime=a,this.onLoadSuc=!1,this.attSlot=null,[4,p.default.instance.LoadSkillSkeleton(this.ad,e,r)];case 1:return c.sent(),this.onLoadSuc=!0,this.setAnimation(o,s),this.animatorCtrl.TrackEntry.timeScale=this.Soldier.animatorCtrl.TrackEntry.timeScale,this.attSlot=this.ad.findSlot(o),this.rfSKilldata(),this.heroco.onInit(this.Soldier,this.skilldata,this.actid,SkillTypeManager.SKillVFX_TYPE.VFX,this.vfxData),[2]}})})},e.prototype.onAnimationEvent=function(){this.skilldata.skillmovetype!=SkillTypeManager.MOVE_TYPE.OUT&&this.skilldata.skillmovetype!=SkillTypeManager.MOVE_TYPE.TOSS&&this.skilldata.skillmovetype!=SkillTypeManager.MOVE_TYPE.WITHENEMY&&this.pushSkill()},e.prototype.updateherocoData=function(t,e,n){void 0===n&&(n=null),this.heroco.setSkillData(t,e,SkillTypeManager.SKillVFX_TYPE.VFX,n)},e.prototype.pushSkill=function(){this.attSlot=null,this.ad.skeletonData=null,this.skilCollider.enabled=!1,this.setTimeScale(1),this.Soldier.pushSkill(this.node)},e.prototype.rfSKilldata=function(){this.skilldata.skilltime<=0&&(this.skilldata.skilltime=.01),this.skillspeed=this.skilldata.skilllength/this.skilldata.skilltime,this.skilldata.skillmovetype==SkillTypeManager.MOVE_TYPE.OUT?this.skillspeedy=this.skilldata.skillheight/this.skilldata.skilltime:this.skilldata.skillmovetype==SkillTypeManager.MOVE_TYPE.TOSS&&(this.skillspeedy=this.skilldata.skillheight,this.skillspeeddy=this.skilldata.skillheightd),this.skillmovetime=this.skilldata.skilltime,this.StartMoveType(),this.rfmoveInfo(),this.startPoi=this.node.position,this.startPoi=this.node.position},e.prototype.rfmoveInfo=function(){var t;this.vfxData&&this.vfxData.moveInfo&&(t=this.node.scaleX>0?1:-1,null!=this.vfxData.moveInfo.offsetx&&(this.node.x+=this.vfxData.moveInfo.offsetx*t),null!=this.vfxData.moveInfo.offsety&&(this.node.y+=this.vfxData.moveInfo.offsety))},e.prototype.StartMoveType=function(){switch(this.skilldata.skillmovetype){case SkillTypeManager.MOVE_TYPE.ENEMYPOS:this.Soldier.enemyHero&&(this.node.position=this.Soldier.enemyHero.node.position);break;case SkillTypeManager.MOVE_TYPE.RANDOMRECT:var t=void 0,e=void 0,n=void 0,i=void 0;n=(c=this.vfxData.rect).width,i=c.height,t=this.node.x-n/2,e=this.node.y-i/2;var o=new cc.Rect(t,e,n,i);(u=cc.v3(o.x,o.y)).x+=Math.random()*o.width,u.y+=Math.random()*o.height,this.node.position=u;break;case SkillTypeManager.MOVE_TYPE.RANDOMRECTENEMY:var a,r,s,l;this.Soldier.enemyHero&&(s=(c=this.vfxData.rect).width,l=c.height,a=this.Soldier.enemyHero.node.x-s/2,r=this.Soldier.enemyHero.node.y-l/2,o=new cc.Rect(a,r,s,l),(u=cc.v3(o.x,o.y)).x+=Math.random()*o.width,u.y+=Math.random()*o.height,this.node.position=u);break;case SkillTypeManager.MOVE_TYPE.RANDOMRECTDIRMOVE:var c,u;n=(c=this.vfxData.rect).width,i=c.height,t=this.node.x-n/2,e=this.node.y-i/2,o=new cc.Rect(t,e,n,i),(u=cc.v3(o.x,o.y)).x+=Math.random()*o.width,u.y+=Math.random()*o.height,this.node.position=u,this.MoveDir=this.Soldier.skillDirect.rotate(GMath.angleTransformRadian(80*Math.random()-20))}},e.prototype.setTimeScale=function(t){this.ad.timeScale=t,this.timeScale=t},e.prototype.setAnimation=function(t,e){void 0===e&&(e=!1),this.ad.clearTrack(0),this.TrackEntry=this.animatorCtrl.play(t,e)},e.prototype.update=function(t){!this.pause&&this.onLoadSuc&&(this.updateMoveType(t),this.tick(t),this.updateZindex(),this.checkEvent())},e.prototype.tick=function(t){this.time+=t,this.time>.02&&(this.onUpdateAtkCollider(),this.time=0)},e.prototype.checkEvent=function(){this.vfxData.herodie_destroy&&this.Soldier.State==h.default.DIE&&this.pushSkill()},e.prototype.updateMoveType=function(t){switch(this.skilldata.skillmovetype){case SkillTypeManager.MOVE_TYPE.WITH:this.node.x=this.Soldier.node.x,this.node.y=this.Soldier.node.y;break;case SkillTypeManager.MOVE_TYPE.FIXED:var e;e=this.node.scaleX>0?1:-1,this.node.x=this.startPoi.x+this.skilldata.skilllength*e,this.node.y=this.startPoi.y+this.skilldata.skillheight*e;break;case SkillTypeManager.MOVE_TYPE.OUT:if(this.skillmovetime<=0)return;this.skillmovetime-=t,this.node.scaleX>0?this.node.x+=this.skillspeed*t:this.node.x-=this.skillspeed*t,this.node.y+=this.skillspeedy*t,this.skillmovetime<=0&&this.pushSkill();break;case SkillTypeManager.MOVE_TYPE.STAY:this.node.x=this.startPoi.x,this.node.y=this.startPoi.y;break;case SkillTypeManager.MOVE_TYPE.ANGLE:this.node.x=this.Soldier.node.x,this.node.y=this.Soldier.node.y,this.node.angle+=1500*-t;break;case SkillTypeManager.MOVE_TYPE.ENEMYPOS:case SkillTypeManager.MOVE_TYPE.RANDOMRECT:break;case SkillTypeManager.MOVE_TYPE.TOSS:if(this.skillmovetime<=0)return;this.skillmovetime-=t,this.node.scaleX>0?this.node.x+=this.skillspeed*t:this.node.x-=this.skillspeed*t,this.node.y+=this.skillspeedy*t,this.skillspeedy+=this.skillspeeddy*t,this.skillmovetime<=0&&this.pushSkill();break;case SkillTypeManager.MOVE_TYPE.WITHENEMY:if(this.skillmovetime-=t,this.skillmovetime<=0&&this.pushSkill(),!this.Soldier.enemyHero)return;this.node.position=this.node.position.add(this.Soldier.enemyHero.node.position.sub(this.node.position).normalize().mul(100*t));break;case SkillTypeManager.MOVE_TYPE.RANDOMRECTDIRMOVE:if(this.movetime-=t,this.movetime<=0)return;this.node.position=this.node.position.add(this.MoveDir.normalize().mulSelf(this.Soldier.skillspeed*this.Soldier.SkillSpeedRate*t)),this.updateLimitRect()}},e.prototype.updateLimitRect=function(){if(!this.Soldier.previewMode&&(this.node.x-f.default.commonHeroWidth/2<f.default.sceneX0&&(this.node.x=f.default.sceneX0+f.default.commonHeroWidth/2),this.node.x+f.default.commonHeroWidth/2>f.default.sceneX1&&(this.node.x=f.default.sceneX1-f.default.commonHeroWidth/2),this.node.y>f.default.sceneY0&&(this.node.y=f.default.sceneY0),this.node.y<f.default.sceneY1&&(this.node.y=f.default.sceneY1),!f.default.LastRoom&&f.default.doorPoi1&&f.default.doorPoi2)){var t=GMath.getDist_P2L_zhengfu(this.node.position,f.default.doorPoi1,f.default.doorPoi2);t>0&&(this.node.x-=t)}},e.prototype.updateZindex=function(){if(this.vfxData&&this.vfxData&&this.vfxData.layaertype==SkillTypeManager.Layaer_TYPE.heroZIndexOut){var t=(this.node.y-f.default.sceneY1)/(f.default.sceneY0-f.default.sceneY1);this.node.zIndex=10-Math.floor(10*t)+1}},e.prototype.onUpdateAtkCollider=function(){if(this.attSlot)if(this.attSlot.attachment&&this.attSlot.attachment.vertices){(n=this.skilCollider).enabled=!0;var t=this.attSlot.attachment.vertices;n.points=[];for(var e=0;e<t.length;e++)e%2==0&&n.points.push(new cc.Vec2(t[e],t[e+1]));this.skilCollider.node.parent.x=this.attSlot.bone.worldX*(this.ad.node.scaleX<0?-1:1),this.skilCollider.node.parent.y=this.attSlot.bone.worldY,this.skilCollider.node.scaleX=this.attSlot.bone.parent.scaleX*this.attSlot.bone.scaleX*(this.ad.node.scaleX<0?-1:1),this.skilCollider.node.scaleY=this.attSlot.bone.parent.scaleY*this.attSlot.bone.scaleY,this.skilCollider.node.angle=this.attSlot.bone.rotation}else{var n;(n=this.skilCollider).enabled=!1}},s([b(m.default)],e.prototype,"heroco",void 0),s([_],e)}(u.default);a.default=k,cc._RF.pop()},{}],SkillLocalDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"7356dryPWdM7Lrj/WfV7iG6","SkillLocalDataManger");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actorSkill",{get:function(){return JSON.stringify(this.SkillLocalData.actorSkill)},set:function(t){this.SkillLocalData.actorSkill=t},enumerable:!1,configurable:!0}),t.prototype.SaveData=function(t){this.SkillLocalData.actorSkill=JSON.parse(t),GEvent.emit(GEventName.SaveUserDataLocal)},t.prototype.Init=function(t){this.SkillLocalData=t},t}();i.default=o,cc._RF.pop()},{}],SkillManager:[function(t,e,n){"use strict";cc._RF.push(e,"0c5a3aWErRH5rxcZXI2EP0i","SkillManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("BagManager"),r=i("GameData"),s=i("GameCalculate"),l=i("UnLockSkillType"),c=i("SkillCalculate"),u=i("SkillShangTiao"),p=i("Skill"),d=i("RoleCfgManager"),f=i("SkillLocalDataManger"),h=i("CommonDataMgr"),y=function(){function t(){this.skill=new Map,this.CleanActor(),this.InitJianHun(),this.actor_skill=f.default.instance.actorSkill,window.SkillManager=this,GEvent.on(GEventName.Task.PassMap,this.EventPassMap,this)}return Object.defineProperty(t,"Init",{get:function(){return null==this.sm&&(this.sm=new t,this.sm.initData()),this.sm},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Skill",{get:function(){return this.skill},enumerable:!1,configurable:!0}),t.prototype.initData=function(){this.LoadFunc(f.default.instance.actorSkill)},t.prototype.Reset=function(){this.CleanActor(),this.InitJianHun()},t.prototype.InitJianHun=function(){for(var t in this._skills=["120","110","111","112","113","114","130","131","121","122","123","101","100"],this.json=r.default.getRes("actor_skill_data"),this.skill=new Map,this._skills)"100"!=t&&this.skill.set(Number(this.json[this._skills[t]].ID),new p.default(this.json[this._skills[t]]));this.skill.set(100,new u.default(this.json[100])),this.skill.get(101).SkillLv=1,this.skill.get(120).SkillLv=1,this.skill.get(123).SkillLv=0},t.prototype.CleanActor=function(){this.skill&&this.skill.clear()},t.prototype.ChangeActor=function(){this.CleanActor(),this.InitJianHun(),this.LoadFunc(this.actor_skill)},t.prototype.SaveFunc=function(){var t;if(null==this.actor_skill)t=[];else if(this.actor_skill){var e=this.actor_skill;t=null==e||null==e||""==e?[]:JSON.parse(this.actor_skill)}else t=[];for(var n={},i=0,o=this._skills;i<o.length;i++){var a=o[i];n[a]={},n[a].lv=this.skill.get(parseInt(a)).SkillLv,n[a].skill_value=this.skill.get(parseInt(a)).skill_value}return t[d.default.instance.curRoleID]=n,JSON.stringify(t)},t.prototype.LoadFunc=function(t){if(null!=t&&null!=t&&""!=t){var e=JSON.parse(t)[d.default.instance.curRoleID];for(var n in e)this.skill.has(Number(n))&&(this.skill.get(Number(n)).SkillLv=null==e[n]?-1:e[n].lv,this.skill.get(Number(n)).skill_value=null==e[n]?{}:e[n].skill_value);this.ReflashAllSkill()}},t.prototype.ReflashAllSkill=function(){for(var t,e,n=0,i=this._skills;n<i.length;n++){var o=i[n];if(!(e=this.skill.get(parseInt(o))).lock&&-1==e.SkillLv){t=!1;for(var a=e.unlock_condition,r=0;r<a.length;r++)if(a[r].type==l.UnLockSkillType.SKILL){var s=this.skill.get(a[r].id).SkillLv;console.log(s,a[r].lv),s<a[r].lv&&(t=!0)}else a[r].type==l.UnLockSkillType.MAP&&(e.skill_value.times?e.skill_value.times<a[r].lv&&(t=!0):t=!0);if(t)continue;e.SkillLv=0}}f.default.instance.SaveData(this.SaveFunc())},t.prototype.CheckSkillCanLvUp=function(){for(var t=0,e=this._skills;t<e.length;t++){var n=e[t];if("131"!=n){if(-1==this.skill.get(parseInt(n)).SkillLv)continue;if(!this.skill.get(parseInt(n)).check_lvup)continue;if(this.skill.get(parseInt(n)).SkillLv==d.default.instance.LV)continue;var i=c.default.LvUpCost(this.skill.get(parseInt(n)).lvup_cost,this.skill.get(parseInt(n)).SkillLv+1);if(h.CommonDataMgr.instance.Gold>=i)return!0}}return!1},t.prototype.CanSkillUp=function(t){if(-1==this.skill.get(t).SkillLv)return!1;if(!this.skill.get(t).check_lvup)return!1;if(this.skill.get(t).SkillLv==d.default.instance.LV)return!1;var e=c.default.LvUpCost(this.skill.get(t).lvup_cost,this.skill.get(t).SkillLv+1);return s.default.CanPay(this.skill.get(t).lvup_cost_type,e)},t.prototype.SkillLvUp=function(t){if(-1==this.skill.get(t).SkillLv)return{succ:!1,error:"GameError.SKILL_LOCK"};if(this.skill.get(t).SkillLv==d.default.instance.LV)return{succ:!1,error:"GameError.SKILL_LV_MAX"};var e=c.default.LvUpCost(this.skill.get(t).lvup_cost,this.skill.get(t).SkillLv+1);return s.default.CanPay(this.skill.get(t).lvup_cost_type,e)&&s.default.Pay(this.skill.get(t).lvup_cost_type,e)?(this.skill.get(t).SkillLv+=1,GEvent.emit(GEventName.SkillEvent.skillUp,t),GEvent.emit(GEventName.UpdateWarPower),this.ReflashAllSkill(),f.default.instance.SaveData(this.SaveFunc()),{succ:!0,error:null}):{succ:!1,error:"GameError.PAYCOINFAIL"}},t.prototype.EventPassMap=function(t){for(var e,n=6*(t[0]-1)+t[1],i=0,o=this._skills;i<o.length;i++){var a=o[i];for(var r in(e=this.skill.get(parseInt(a))).unlock_condition)e.unlock_condition[r].type==l.UnLockSkillType.MAP&&(e.skill_value.times||(e.skill_value.times=0),e.unlock_condition[r].id==n&&e.skill_value.times++,this.ReflashAllSkill())}},t.prototype.CalculatePlayerAttribute=function(t){for(var e=0,n=this._skills;e<n.length;e++){var i=n[e];t=this.skill.get(parseInt(i)).CalculatePlayerAttribute(t)}return t},t.prototype.ChangeEquipment=function(){for(var t=0,e=this._skills;t<e.length;t++){var n=e[t],i=this.skill.get(parseInt(n));i.EquipLv=0,i.cd_percentage=1,i.nocd_percentage=0}a.default.Init.CalculatePlayerSkill(this.skill)},t}();o.default=y,cc._RF.pop()},{}],SkillManage:[function(t,e,n){"use strict";cc._RF.push(e,"5d7a9K//rZJ77lblcw647Zh","SkillManage");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("PoolManager"),r=i("SkillItemEFF"),s=function(){function t(){this.url="game/jianhunSkillEff/"}return t.prototype.getSkill=function(t,e){var n=a.default.instance.getItemPoolNode(a.PoolKeys.Skill);n.getComponent(r.default),n.parent=e},t}();o.default=s,cc._RF.pop()},{}],SkillShangTiao:[function(t,e,n){"use strict";cc._RF.push(e,"326dfn1er1E8ZGzFVdfDH4z","SkillShangTiao");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("Skill"),l=o("RoleCfgManager"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.SkillLv=l.default.instance.LV,GEvent.on(GEventName.Task.ActorLvUp,n.ActorLvUp,n),n}return r(e,t),e.prototype.ActorLvUp=function(){this.SkillLv=l.default.instance.LV},e}(s.default);a.default=c,cc._RF.pop()},{}],SkillTypeManager:[function(t,e){"use strict";cc._RF.push(e,"1bfb6mdr5pJWo0jmcPPqfcO","SkillTypeManager"),window.SkillTypeManager={MOVE_TYPE:{NULL:-1,WITH:0,FIXED:1,OUT:2,STAY:3,ANGLE:4,ENEMYPOS:5,RANDOMRECT:6,TOSS:7,WITHENEMY:8,RANDOMRECTENEMY:9,RANDOMRECTDIRMOVE:10},Layaer_TYPE:{heroZIndexUp:0,heroZIndexCenter:1,heroZIndexDown:2,heroZIndexOut:3},SKillVFX_TYPE:{SELF:0,VFX:1}},window.ActorTypeMangage={MOVE_TYPE:{Null:-1,PARAM:0,FIXEDENEMY:1,RANDOMDIRMOVE:2}},cc._RF.pop()},{}],SkillType:[function(t,e,n){"use strict";cc._RF.push(e,"0cdc6zhj+FLIYdhRJ9n+NO1","SkillType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.SkillType=void 0,function(t){t[t.ACTIVE=0]="ACTIVE",t[t.PASSIVE=1]="PASSIVE"}(i.SkillType||(i.SkillType={})),cc._RF.pop()},{}],Skill:[function(t,e,n){"use strict";cc._RF.push(e,"51752U97f1IN4kJFzdkMRmB","Skill");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("SkillCalculate"),r=i("SkillType"),s=function(){function t(t){if(this.key=Math.round(1e6*Math.random()),this.skill_value={},this.lock="1"==t.is_lock,this.id=Number(t.ID),this.skill_name=t.name,!this.lock){this.skill_id=Number(t.skill_id),this.icon=t.icon,this.SkillLv=-1,this.EquipLv=0,this.cd_percentage=1,this.nocd_percentage=0,this.skill_type=Number(t.type),this.check_lvup="1"==t.check_lvup;var e=t.unlock_id.split("|"),n=t.unlock_lv.split("|");this.unlock_condition=[];for(var i=0;i<e.length;i++)this.unlock_condition.push({type:Number(t.unlock_type),id:Number(e[i]),lv:Number(n[i])});this.cd_time=t.cd,this.lvup_cost_type=Number(t.lvup_type),this.lvup_cost=Number(t.lvup_cost),""!=t.damage_func?this.damage_name=t.damage_func:this.damage_name=null,this.info=t.info.split("|"),this.describe=t.describe}}return Object.defineProperty(t.prototype,"SkillLv",{get:function(){return this.skill_lv^this.key},set:function(t){this.skill_lv=t^this.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"EquipLv",{get:function(){return this.equip_lv^this.key},set:function(t){this.equip_lv=t^this.key},enumerable:!1,configurable:!0}),t.prototype.CalculatePlayerAttribute=function(t){return this.lock?t:this.skill_type==r.SkillType.ACTIVE?t:-1==this.SkillLv?t:a.default.SetPlayerAttribute[this.damage_name](this.SkillLv+this.EquipLv,t)},t.prototype.GetSkillInfo=function(){if(!this.lock){var t=[],e=[];this.skill_type==r.SkillType.ACTIVE&&t.push({title:"\u6280\u80fdcd:",value:this.cd_time+"\u79d2"}),this.skill_type==r.SkillType.ACTIVE&&e.push({title:"\u6280\u80fdcd:",value:this.cd_time+"\u79d2"});for(var n=a.default.GetDamageUI[this.damage_name](this.SkillLv+this.EquipLv),i=0;i<this.info.length;i++)t.push({title:this.info[i],value:n[i]});var o=a.default.GetDamageUI[this.damage_name](this.SkillLv+1+this.EquipLv);for(i=0;i<this.info.length;i++)e.push({title:this.info[i],value:o[i]});return[t,e]}},t}();o.default=s,cc._RF.pop()},{}],SpringActView:[function(t,e,n){"use strict";cc._RF.push(e,"9cdb3ak+t5C17HHL7HTvwHL","SpringActView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=o("GameData"),d=o("GameError"),f=o("RewardType"),h=o("BagManager"),y=o("SpringDataManager"),g=o("Utils"),m=o("ComRewardView"),v=cc._decorator,_=v.ccclass,b=v.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.redBagNode=null,e.videoLab=null,e.videoBtn=null,e.redBagState=[],e.todayRedBagReward=[],e}return r(e,t),e.prototype.onUILoad=function(){this.RefreshView()},e.prototype.RefreshView=function(){this.redBagState=y.default.instance.RedBagState,this.todayRedBagReward=y.default.instance.TodayRedBagReward;for(var t=0;t<this.redBagState.length;t++){var e=this.redBagNode.children[t].getChildByName("EquipItem");if(this.redBagState[t]&&this.todayRedBagReward[t]){e.active=!0;var n=this.todayRedBagReward[t],i="";switch(n.type){case f.RewardType.CURRENCY:i=p.default.CurrenyData()[n.id].icon;break;case f.RewardType.ITEM:i=p.default.ItemData()[n.id].icon}g.default.loadSpfFromRes(i,e.getChildByName("icon")),e.getChildByName("count").getComponent(cc.Label).string="x"+n.count}else e.active=!1}this.videoLab.string="\uff08"+y.default.instance.SpringFragmentCount+"/"+y.default.instance.MaxFragmentCount+"\uff09",y.default.instance.IsGetAllRedBag()&&(this.videoBtn.interactable=!1,this.videoBtn.node.getChildByName("label").color=cc.Color.GRAY,this.videoBtn.node.getChildByName("label").getComponent(cc.Label).string="\u5df2\u83b7\u5f97")},e.prototype.onBtnRedBag=function(t,e){var n=parseInt(e);return this.redBagState[n]&&this.todayRedBagReward[n]?Global.onShowTosat("\u5f53\u524d\u5956\u52b1\u5df2\u9886\u53d6\uff0c\u8bf7\u660e\u65e5\u518d\u6765"):y.default.instance.isCanGetRedBag(n)?h.default.Init.isItemBagFull(3).result==d.GameError.BagFull?Global.onShowTosat("\u9053\u5177\u80cc\u5305\u5feb\u6ee1\u4e86\uff0c\u8bf7\u524d\u5f80\u80cc\u5305\u754c\u9762\u6269\u5c55"):(y.default.instance.getRedBagReward(n),void this.RefreshView()):Global.onShowTosat("\u65f6\u95f4\u672a\u5230\uff0c\u5f53\u524d\u7ea2\u5305\u4e0d\u80fd\u9886\u53d6")},e.prototype.onBtnVideo=function(){var t=this;if(h.default.Init.isItemBagFull(3).result==d.GameError.BagFull)return Global.onShowTosat("\u9053\u5177\u80cc\u5305\u5feb\u6ee1\u4e86\uff0c\u8bf7\u524d\u5f80\u80cc\u5305\u754c\u9762\u6269\u5c55");if(y.default.instance.IsGetAllRedBag())return Global.onShowTosat("\u7ea2\u5305\u5df2\u5168\u90e8\u9886\u53d6\uff0c\u8bf7\u660e\u65e5\u518d\u6765");var e=function(e){if(e){if(y.default.instance.SpringFragmentCount++,y.default.instance.SpringFragmentCount>=y.default.instance.MaxFragmentCount){for(var n=0;n<t.redBagState.length;n++)t.redBagState[n]||y.default.instance.getRedBagReward(n);Global.onShowTosat("\u5168\u90e8\u7ea2\u5305\u5df2\u5230\u8d26",2)}t.RefreshView()}},n=[{id:100,value:1e3},{id:350,value:1}];c.default.instance.load(l.default.Scenes.ComRewardView,void 0,function(t,i){i.getComponent(m.default).showFragment({_reward:n,call:e})})},s([b(cc.Node)],e.prototype,"redBagNode",void 0),s([b(cc.Label)],e.prototype,"videoLab",void 0),s([b(cc.Button)],e.prototype,"videoBtn",void 0),s([_],e)}(u.default);a.default=k,cc._RF.pop()},{}],SpringDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"1ee51MJZFNFR7WCgcI3ht6m","SpringDataManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameCalculate"),r=i("GameData"),s=i("CurrencyType"),l=i("RewardType"),c=i("random"),u=i("Utils"),p=i("BagManager"),d=i("GameStatsManager"),f=i("ServerCommonCfgMgr"),h=function(){function t(){this.MaxFragmentCount=15,this.GhHour=[20,21,21,22,22],this.GhMinute=[30,0,30,0,30],this.SpringDataMgr=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.SpringDataMgr=t,f.default.getLoginTime().then(function(t){t&&u.default.doubleTimestampEqualDay(t,d.default.instance.lastLoginTime)&&(e.RedBagState=[!1,!1,!1,!1,!1],e.TodayRedBagReward=[],e.SpringFragmentCount=0)})},Object.defineProperty(t.prototype,"RedBagState",{get:function(){return this.SpringDataMgr.redBagState},set:function(t){this.SpringDataMgr.redBagState=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TodayRedBagReward",{get:function(){return this.SpringDataMgr.todayRedBagReward},set:function(t){this.SpringDataMgr.todayRedBagReward=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TotalRedBagCount",{get:function(){return this.SpringDataMgr.totalRedBagCount},set:function(t){this.SpringDataMgr.totalRedBagCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SpringFragmentCount",{get:function(){return this.SpringDataMgr.springFragmentCount},set:function(t){this.SpringDataMgr.springFragmentCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Servertime",{get:function(){return this.SpringDataMgr.servertime},set:function(t){this.SpringDataMgr.servertime=t},enumerable:!1,configurable:!0}),t.prototype.isCanGetRedBag=function(t){return-1!=this.SpringDataMgr.servertime&&this.isWithinTime(1e3*this.Servertime,this.GhHour[t],this.GhMinute[t])},t.prototype.isWithinTime=function(t,e,n){var i=new Date(t).setHours(e,n,0,0),o=new Date(t).setHours(e,n+30,0,0);return t>i&&t<o},t.prototype.getRedBagReward=function(t){for(var e=r.default.SpringActData(),n=[],i=0;i<e.length;i++)n[i]=e[i].weight;var o=c.default.randomByWeight(n),u=e[o].minNum,d=e[o].maxNum,f=u!=d?Math.floor(Math.random()*(d-u+1)+u):u,h={type:e[o].type,id:e[o].id,count:f};switch(h.type){case l.RewardType.CURRENCY:100==h.id?a.default.Get(s.CurrencyType.COIN,h.count):a.default.Get(s.CurrencyType.COUPON,h.count);break;case l.RewardType.ITEM:p.default.Init.AddItems(h.id,h.count)}this.RedBagState[t]=!0,this.TodayRedBagReward[t]=h,this.TotalRedBagCount++},t.prototype.IsGetAllRedBag=function(){for(var t=0;t<this.RedBagState.length;t++)if(!this.RedBagState[t])return!1;return!0},t.prototype.reset=function(){this.RedBagState=[!1,!1,!1,!1,!1],this.TodayRedBagReward=[],this.TotalRedBagCount=0,this.SpringFragmentCount=0},t}();o.default=h,cc._RF.pop()},{}],Start:[function(t,e,n){"use strict";cc._RF.push(e,"be846WjBnlIkYALzqeusfyu","Start");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){this.LoadBundles(["scripts"],function(){cc.director.loadScene("EntryScene")})},e.prototype.LoadBundles=function(t,e){for(var n=t,i=0,o=function(t){if(t)return console.error(t.message,t.stack);++i===n.length&&e&&e()},a=0;a<n.length;a++)cc.assetManager.loadBundle(n[a],o)},r([l],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],StateBase:[function(t,e,n){"use strict";cc._RF.push(e,"d655eFvVflFQoC6F/QvtWhi","StateBase");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("StateId"),r=i("StateType"),s=function(){function t(){this.onPhaseUpdate=null,this.StateMap=new Map,this.StateId=a.default.UNKNOWN,this.StateType=r.default.unKnown}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){var e=this.StateMap.get("Phase"+this.state+"_onExit");e&&e(),this._state=t;var n=this.StateMap.get("Phase"+this.state+"_onStart");n?(n(),this.onPhaseUpdate=this.StateMap.get("Phase"+this.state+"_onUpdate")):this.Soldier.resetState()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"StateId",{get:function(){return this.iStateId},set:function(t){this.iStateId=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"StateName",{get:function(){return a.default.name[this.StateId]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"StateType",{get:function(){return this.iStateType},set:function(t){this.iStateType=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Soldier",{get:function(){return this.soldier},set:function(t){this.soldier=t},enumerable:!1,configurable:!0}),t}();o.default=s,cc._RF.pop()},{}],StateCreator:[function(t,e,n){"use strict";cc._RF.push(e,"c7b43OD+d5B25262hsXlL7U","StateCreator");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("IdleState"),r=i("MoveState"),s=i("NormalATTACKState"),l=i("JianHunSkillState"),c=i("StateId"),u=i("NoamalHurtState"),p=i("HurtFlyState"),d=i("ConnectState"),f=i("ForceUpHurtState"),h=i("PoisoningState"),y=i("DizzinessState"),g=i("NetCatchState"),m=i("PlayerDidState"),v=i("HurtPushState"),_=function(){function t(){this.StateMap=new Map,this.StateMap.set(c.default.IDLE,new a.default),this.StateMap.set(c.default.MOVE,new r.default),this.StateMap.set(c.default.DIE,new m.default),this.StateMap.set(c.default.NORMALATTACK,new s.default),this.StateMap.set(c.default.SKILL,new l.default),this.StateMap.set(c.default.NormalHURT,new u.default),this.StateMap.set(c.default.HurtFly,new p.default),this.StateMap.set(c.default.HurtPush,new v.default),this.StateMap.set(c.default.ForceUpHurt,new f.default),this.StateMap.set(c.default.Connect,new d.default),this.StateMap.set(c.default.poisoning,new h.default),this.StateMap.set(c.default.Dizziness,new y.default),this.StateMap.set(c.default.netCatch,new g.default)}return t.prototype.createState=function(t){var e=this.StateMap.get(t);return null==e&&console.error("\u5f53\u524d\u72b6\u6001\u83b7\u53d6\u9519\u8bef,\u9519\u8bef\u72b6\u6001id\u4e3a",t,"\u68c0\u67e5\u5bf9\u5e94idMap\u662f\u5426\u521b\u5efa"),e},t.prototype.findHaveState=function(t){var e=this.StateMap.get(t);return!!e&&(!!e||void 0)},t}();o.default=_,cc._RF.pop()},{}],StateId:[function(t,e,n){"use strict";cc._RF.push(e,"70740gOlUJCXKKBwd3YWfmg","StateId");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o={UNKNOWN:0,IDLE:1,MOVE:2,NORMALATTACK:3,SKILL:4,STANDUP:201,SkillFinish:300,JUMP:301,Connect:302,HurtFly:6,NormalHURT:7,ForceUpHurt:8,HurtPush:9,DIE:11,THUMPHURT:14,subStateStartId:500,poisoning:501,netCatch:502,sheep:503,Dizziness:504,FROZEN:505,BT:506,name:{}};o.name={0:{Id:o.UNKNOWN,name:"\u65e0\u610f\u4e49\u7684\u72b6\u6001"},1:{Id:o.IDLE,name:"\u5f85\u673a\u72b6\u6001"},2:{Id:o.MOVE,name:"\u884c\u8d70\u72b6\u6001"},3:{Id:o.NORMALATTACK,name:"\u666e\u901a\u653b\u51fb\u72b6\u6001"},4:{Id:o.SKILL,name:"\u6280\u80fd\u72b6\u6001"},6:{Id:o.HurtFly,name:"\u53d7\u4f24\u98de\u8d77"},7:{Id:o.NormalHURT,name:"\u53d7\u4f24"},8:{Id:o.ForceUpHurt,name:"\u5f3a\u5236\u4e0a\u5347"},9:{Id:o.HurtPush,name:"\u53d7\u4f24\u63a8\u8d70"},201:{Id:o.STANDUP,name:"\u8d77\u6765"},300:{Id:o.SkillFinish,name:"\u6280\u80fd\u5b8c\u6210\u72b6\u6001"},301:{Id:o.JUMP,name:"\u8df3\u8dc3\u72b6\u6001"},302:{Id:o.Connect,name:"\u4ea4\u63a5\u72b6\u6001"},10:{Id:o.NormalHURT,name:"\u53d7\u4f24\u72b6\u6001"},11:{Id:o.DIE,name:"\u6b7b\u4ea1\u72b6\u6001"},14:{Id:o.THUMPHURT,name:"\u91cd\u51fb\u53d7\u4f24\u72b6\u6001"},15:{Id:o.Dizziness,name:"\u7729\u6655\u72b6\u6001"},16:{Id:o.SKILL,name:"\u6280\u80fd\u72b6\u6001"},500:{Id:o.subStateStartId,name:"\u5b50\u72b6\u6001\u5f00\u59cbid"},501:{Id:o.poisoning,name:"\u4e2d\u6bd2\u5b50\u72b6\u6001"},502:{Id:o.netCatch,name:"\u7f51\u6355\u5b50\u72b6\u6001"},503:{Id:o.sheep,name:"\u7f8a\u5b50\u72b6\u6001"},504:{Id:o.sheep,name:"\u7729\u6655\u5b50\u72b6\u6001"},505:{Id:o.FROZEN,name:"\u51b0\u51bb\u5b50\u72b6\u6001"},506:{Id:o.BT,name:"\u9738\u4f53\u5b50\u72b6\u6001"}},i.default=o,window.StateId=o,cc._RF.pop()},{}],StateMachine:[function(t,e,n){"use strict";cc._RF.push(e,"65b24y3sd5HSLA6UCfjY9Ay","StateMachine");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("StateId"),r=i("StateCreator"),s=i("StateRule"),l=function(){function t(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),this.tSubStateList=[],this.tSubState={},this.bindStateRule(null==t?new s.default(null==n?null:n):e),this.bindStateCreator(null==e?new r.default:e)}return Object.defineProperty(t.prototype,"CurrentState",{get:function(){return this.currentState},set:function(t){this.currentState=t},enumerable:!1,configurable:!0}),t.prototype.bindSoldier=function(t){this.soldier=t,this.initDefaultState()},t.prototype.bindStateRule=function(t){this.stateRule=t},t.prototype.bindStateCreator=function(t){this.stateCreator=t},t.prototype.initDefaultState=function(){var t=this.createState(a.default.IDLE);console.log("\u521d\u59cb\u5316\u9ed8\u8ba4\u72b6\u6001\u4e3a"+a.default.name[t.StateId].name+".."),this.CurrentState=t,t.onEnter()},t.prototype.getCurrentStateId=function(){var t=a.default.UNKNOWN;return null!=this.CurrentState&&(t=this.CurrentState.StateId),t},t.prototype.toggleState=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.stateRule.isSubState(t);i?this.addSubState(t,e):this.toggleMajorState(t,e)},t.prototype.toggleMajorState=function(t,e){var n=this.getCurrentStateId(),i=this.stateRule.isCanToggle(n,t,this.tSubStateList),o=i.bCanToggleMajorState,a=i.iMutexSubStateId;if(o){var r=this.createState(t);null!=r?(this.CurrentState.onExit(),this.CurrentState=r,r.onEnter(e)):this.soldier.toggleStateFail(n,t)}else this.soldier.toggleStateFail(n,t,a)},t.prototype.canCutNextState=function(t){var e=this.getCurrentStateId(),n=this.stateRule.isCanToggle(e,t,this.tSubStateList),i=n.bCanToggleMajorState;return n.iMutexSubStateId,i},t.prototype.createState=function(t){var e=this.stateCreator.createState(t);return null!=e&&(e.Soldier=this.soldier),e},t.prototype.isState=function(t){return this.getCurrentStateId()==t},t.prototype.addSubState=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.stateRule.isCanAddSubState(this.tSubStateList,t)){var i=this.createState(t);null!=i?(i.onEnter(e),this.insertSubState(i)):this.soldier.addSubStateFail(t)}},t.prototype.insertSubState=function(t){this.tSubStateList.push(t)},t.prototype.removeAllSubState=function(){this.tSubStateList.forEach(function(t){t.onExit()}),this.tSubStateList=[]},t.prototype.removeSubState=function(t){for(var e=0;e<this.tSubStateList.length;e++)this.tSubStateList[e].StateId==t&&(this.tSubStateList[e].onExit(),this.tSubStateList.splice(e,1))},t.prototype.subStateListOnUpdate=function(t){for(var e=0;e<this.tSubStateList.length;e++)this.tSubStateList[e].onUpdate(t)},t.prototype.majorStateOnUpdate=function(t){this.currentState.onUpdate(t)},t.prototype.findHaveState=function(t){return this.stateCreator.findHaveState(t)},t}();o.default=l,cc._RF.pop()},{}],StatePhase:[function(t,e,n){"use strict";cc._RF.push(e,"ba896nFyz9EB52qwOHWvzle","StatePhase");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStatePhase=i.PhaseData=i.PhaseManger=void 0;var o=function(){function t(t,e){for(var n in this._state=-1,this.onPhaseUpdate=null,this.phaseMap=new Map,this.Soldier=t,e)this.phaseMap.set(e[n].phaseId,e[n].StatePhase)}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){var e=this.phaseMap.get(this._state);e&&e.onExit(),this._state=t,(e=this.phaseMap.get(this._state))?(e.Soldier=this.Soldier,e.PhaseManger=this,e.onEnter(),this.onPhaseUpdate=e.onUpdate.bind(e)):(this._state=-1,this.Soldier.resetState())},enumerable:!1,configurable:!0}),t.prototype.onExitPhase=function(){var t=this.phaseMap.get(this._state);t&&t.onExit()},t}();i.PhaseManger=o,i.PhaseData=function(t,e){this.phaseId=-1,this.phaseId=t,this.StatePhase=e},i.BaseStatePhase=function(t){void 0===t&&(t=null),this._phaseId=-1,null!=t&&(this.onNextState=t)},cc._RF.pop()},{}],StateRuleConfig:[function(t,e,n){"use strict";cc._RF.push(e,"c931b1LD0BHprZgqavjPQeI","StateRuleConfig");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default={0:{majorStateCanToggle:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,302],mutexSubState:[]},1:{majorStateCanToggle:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,100,101,301,302],mutexSubState:[503]},100:{majorStateCanToggle:[0,1,11,302],mutexSubState:[]},101:{majorStateCanToggle:[1,3,4,5,6,7,8,9,10,11,13,14,15,16,300,301,302],mutexSubState:[502]},2:{majorStateCanToggle:[1,3,4,5,6,7,8,9,10,11,13,14,15,16,300,301,302],mutexSubState:[502,503,504,505]},3:{majorStateCanToggle:[1,4,5,6,7,10,11,14,300,302],mutexSubState:[503,504,505]},4:{majorStateCanToggle:[1,5,6,10,11,14,300,302],mutexSubState:[504,505]},201:{majorStateCanToggle:[0,1,11,14,302],mutexSubState:[503]},300:{majorStateCanToggle:[1,2,3,4,5,6,7,8,9,10,11,12,13,301,302],mutexSubState:[503]},301:{majorStateCanToggle:[1,5,11,302,303],mutexSubState:[503]},302:{majorStateCanToggle:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,301,302],mutexSubState:[503]},5:{majorStateCanToggle:[1,11,302],mutexSubState:[]},6:{majorStateCanToggle:[6,7,8,11,302],mutexSubState:[505,506]},7:{majorStateCanToggle:[1,6,7,8,11,302],mutexSubState:[505,506]},8:{majorStateCanToggle:[1,6,7,8,11,302],mutexSubState:[505,506]},9:{majorStateCanToggle:[1,6,7,8,11,302],mutexSubState:[505,506]},10:{majorStateCanToggle:[1,3,10,11,14,15,16,201,302],mutexSubState:[]},11:{majorStateCanToggle:[1,302],mutexSubState:[]},12:{majorStateCanToggle:[1,8,10,11,12,15,302],mutexSubState:[]},13:{majorStateCanToggle:[1,10,11,15,300,302],mutexSubState:[]},14:{majorStateCanToggle:[1,11,14,15,201,302],mutexSubState:[]},15:{majorStateCanToggle:[1,11,302],mutexSubState:[1e4]},16:{majorStateCanToggle:[1,11,14,15,300,302],mutexSubState:[]},501:{majorStateCanToggle:[],mutexSubState:[],concurrence:0},504:{majorStateCanToggle:[],mutexSubState:[],concurrence:0},505:{majorStateCanToggle:[],mutexSubState:[],concurrence:0},506:{majorStateCanToggle:[],mutexSubState:[],concurrence:0}},cc._RF.pop()},{}],StateRule:[function(t,e,n){"use strict";cc._RF.push(e,"72b0c6ygH5DYL4eEh2plOFi","StateRule");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("StateRuleConfig"),r=i("StateId"),s=function(){function t(t){void 0===t&&(t=null),!t&&this.bindStateRuleConfig(a.default),t&&this.bindStateRuleConfig(t)}return t.prototype.bindStateRuleConfig=function(t){this.tStateRuleConfig=t},t.prototype.isCanToggle=function(t,e,n){var i=this.isHaveMutexSubState(e,n),o=i.bHaveMutexSubState,a=i.iMutexSubStateId;return o?{bCanToggleMajorState:!1,iMutexSubStateId:a}:{bCanToggleMajorState:this.isCanToggleToNewState(t,e),iMutexSubStateId:null}},t.prototype.isSameState=function(t,e){return t==e},t.prototype.isSubState=function(t){return t>r.default.subStateStartId},t.prototype.isCanToggleToNewState=function(t,e){var n=this.tStateRuleConfig[t].majorStateCanToggle;if(null==n)return!1;for(var i in n)if(e==n[i])return!0;return!1},t.prototype.isHaveMutexSubState=function(t,e){var n=this.tStateRuleConfig[t].mutexSubState;if(null==n||0==n)return{bHaveMutexSubState:!1,iMutexSubStateId:null};for(var i in n)if(this.isHaveSubState(e,n[i]))return{bHaveMutexSubState:!0,iMutexSubStateId:n[i]};return{bHaveMutexSubState:!1,iMutexSubStateId:null}},t.prototype.isHaveSubState=function(t,e){for(var n in t)if(t[n].StateId==e)return!0},t.prototype.isCanAddSubState=function(t,e){if(this.tStateRuleConfig[e].concurrence)return!0;for(var n=0;n<t.length;n++)if(t[n].StateId==e)return!1;return!0},t}();o.default=s,cc._RF.pop()},{}],StateType:[function(t,e,n){"use strict";cc._RF.push(e,"e4d1fhfxiVLq5EXLiEDfBqV","StateType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default={unKnown:-1,major:1,sub:2},cc._RF.pop()},{}],StorageSystem:[function(t,e,n){"use strict";cc._RF.push(e,"97a5e5vXs9I4L4+wpVNLbhX","StorageSystem");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){null==this.data&&(this.data=new Map),this.SaveFunc=this.SaveForLocal,this.LoadFunc=this.LoadForLocal}return Object.defineProperty(t,"Init",{get:function(){return null==t.ss&&(t.ss=new t),t.ss},enumerable:!1,configurable:!0}),t.prototype.AddData=function(t,e){this.data.set(t,e)},t.prototype.Save=function(){cc.director.emit(t.EVENT_SAVE_BEGIN);for(var e=0,n=this.data.keys();e<n.length;e++){var i=n[e];this.SaveFunc(i,this.data.get(i).Save())}cc.director.emit(t.EVENT_SAVE_SUCC)},t.prototype.Load=function(){cc.director.emit(t.EVENT_LOAD_BEGIN);for(var e=0,n=this.data.keys();e<n.length;e++){var i=n[e];this.data.get(i).Load(this.LoadFunc(i))}cc.director.emit(t.EVENT_LOAD_SUCC)},t.prototype.DataToJson=function(){for(var t={},e=0,n=this.data.keys();e<n.length;e++){var i=n[e];t[i.toString()]=this.data.get(i).Save()}return JSON.stringify(t)},t.prototype.JsonToData=function(t){for(var e=JSON.parse(t),n=0,i=this.data.keys();n<i.length;n++){var o=i[n];this.data.has(o)&&this.data.get(o).Load(e[o])}},t.prototype.GetMonitorData=function(){for(var t={},e=0,n=this.data.keys();e<n.length;e++){var i=n[e];this.data.get(i).Monitor&&(t[i.toString()]=this.data.get(i).Save())}return JSON.stringify(t)},t.prototype.CleanData=function(){},t.prototype.SaveForWX=function(){},t.prototype.LoadForWx=function(){},t.prototype.SaveForLocal=function(t,e){cc.sys.localStorage.setItem(t,e)},t.prototype.LoadForLocal=function(t){return cc.sys.localStorage.getItem(t)},t.ss=null,t.EVENT_SAVE_BEGIN="event_save_begin",t.EVENT_LOAD_BEGIN="event_load_begin",t.EVENT_SAVE_SUCC="event_save_succ",t.EVENT_LOAD_SUCC="event_load_succ",t}();i.default=o,cc._RF.pop()},{}],SubStateBase:[function(t,e,n){"use strict";cc._RF.push(e,"f4461bXEeFEn5xWiLecX6dL","SubStateBase");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("StateBase"),l=o("StateType"),c=function(t){function e(){var e=t.call(this)||this;return e.StateType=l.default.major,e}return r(e,t),e}(s.default);a.default=c,cc._RF.pop()},{}],SubdomainMgr:[function(t,e,n){"use strict";cc._RF.push(e,"0d222hTCPlDZ4r8P0Knw1wb","SubdomainMgr");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.SubdomainMgr=o.SubdomainMessageType=void 0;var a=i("Constant"),r=i("platformConfig");(function(t){t[t.SENDDATA=1]="SENDDATA",t[t.SHOWRANK=2]="SHOWRANK"})(o.SubdomainMessageType||(o.SubdomainMessageType={})),o.SubdomainMgr=new(function(){function t(){}return t.prototype.init=function(){this.onMessage()},t.prototype.onMessage=function(){var t=this;wx.onMessage(function(e){console.log(e),1==e.messageType?t.submitScore(e.level,e.curname,e.warPower):2===e.messageType&&t.showRank()})},t.prototype.showRank=function(){this.getFriendCloudStorage(function(){console.log("\u5b50\u57df\u6570\u636e\u62c9\u53d6\u6210\u529f"),console.log("\u8fd9\u91cc\u8c03\u7528\u5bf9\u5e94\u7684\u663e\u793a\u903b\u8f91")},function(){console.log("\u5b50\u57df\u6570\u636e\u62c9\u53d6\u5931\u8d25")})},t.prototype.dataSorter=function(t){return t.sort(function(t,e){return t-e}),t},t.prototype.getFriendCloudStorage=function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),wx.getUserInfo({openIdList:["selfOpenId"],success:function(){wx.getFriendCloudStorage({keyList:["level","curname","warPower"],success:function(e){console.log("\u6392\u5e8f\u5b50\u57df\u6570\u636e"),n.dataSorter(e.data),t&&t()},fail:function(t){console.log("\u7f51\u7edc\u52a0\u8f7d\u5931\u8d25",t)}})}})},t.prototype.submitScore=function(t,e,n){wx.getUserCloudStorage({keyList:["level","curname","warPower"],success:function(i){0!=i.KVDataList.length&&(console.log(i),i.KVDataList[0].value>n)||wx.setUserCloudStorage({KVDataList:[{key:"level",value:""+t},{key:"curname",value:""+e},{key:"warPower",value:""+n}],success:function(){},fail:function(){},complete:function(){}})}})},t.updateUserData=function(t,e){return this.isWechat()?t&&e?new Promise(function(n,i){var o=(new Date).getTime(),a={wxgame:{score:e.heroNum,update_time:o},heroTotalLv:e.heroTotalLv};wx.setUserCloudStorage({KVDataList:[{key:t,value:JSON.stringify(a)}],success:function(t){console.log("\u4e0a\u4f20\u6392\u884c\u699c\u6210\u529f.",t),wx.showToast({title:"\u4e0a\u4f20\u6210\u529f"}),setTimeout(function(){wx.hideToast()},1500),n(t)},fail:function(t){console.log("\u4e0a\u4f20\u6392\u884c\u699c\u5931\u8d25.",t),i(t)}})}):void 0:Promise.resolve()},t.isWechat=function(){return cc.sys.platform===cc.sys.WECHAT_GAME},t.clearUserCloudStorage=function(t){this.isWechat()&&wx.removeUserCloudStorage({keyList:t||[],success:function(t){console.warn("\u5df2\u6210\u529f\u6e05\u9664\u5fae\u4fe1\u6258\u7ba1\u6570\u636e",t)}})},t.sendMessageToSub=function(t,e){if(this.isWechat()){var n=wx.getOpenDataContext();if(n){var i={};i.what=t,i.arguments=e,n.postMessage(i)}}},t.prototype.postMessage=function(t,e,n,i){void 0===t&&(t=2),void 0===e&&(e=0),void 0===n&&(n=""),void 0===i&&(i=0),r.default.platformType!==a.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS&&r.default.platformType!==a.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ&&window.wx&&wx.getOpenDataContext().postMessage({messageType:t,level:e,curname:n,warPower:i})},t}()),cc._RF.pop()},{}],TTRecord:[function(t,e,n){"use strict";cc._RF.push(e,"40a7fLeqHtPiYDmZQVVhL19","TTRecord");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(t,e,n){void 0===t&&(t=["\u963f\u62c9\u5fb7\u52c7\u8005","\u6296\u97f3\u5c0f\u6e38\u620f"]),void 0===e&&(e=["\u963f\u62c9\u5fb7\u52c7\u8005","\u6296\u97f3\u5c0f\u6e38\u620f"]),void 0===n&&(n=""),this.videoTopics=["\u963f\u62c9\u5fb7\u52c7\u8005","\u6296\u97f3\u5c0f\u6e38\u620f "],this.hashtag_list=["\u963f\u62c9\u5fb7\u52c7\u8005","\u6296\u97f3\u5c0f\u6e38\u620f "],this.video_title="",t&&(this.videoTopics=t),this.hashtag_list=e,this.video_title=n};i.default=new(function(){function t(){this._recorderMag=null,this._recorPath=null,this.recordertime=300,this.recorderStartTime=0,this.recorderEndTime=0,this.recorderMinTime=5,this.recorderIfSuccess=!0,this.recorderStopCallback=null,this.viedoShareData=new o}return t.prototype.initConfig=function(t){console.log("\u521d\u59cb\u5316TTSDK\u914d\u7f6e",t),t.viedoShareData&&(this.viedoShareData=new o(t.viedoShareData.videoTopics,t.viedoShareData.hashtag_list,t.viedoShareData.video_title)),console.log("\u521d\u59cb\u5316TTSDK\u914d\u7f6e1",t,this.viedoShareData)},Object.defineProperty(t.prototype,"recorderMag",{get:function(){var t=this;return null==this._recorderMag&&(this._recorderMag=tt.getGameRecorderManager(),this._recorderMag.onStart(function(){console.log("onStart---\u5f55\u5c4f\u5f00\u59cb---")}),this._recorderMag.onStop(function(e){console.log(e.videoPath),console.log("onStart---\u5f55\u5c4f\u7ed3\u675f---"),t._recorPath=e.videoPath,t.recorderEndTime=Date.now(),t.recorderIfSuccess=!1,t.recorderStopCallback&&t.recorderStopCallback(),t.recorderStopCallback=null})),this._recorderMag},enumerable:!1,configurable:!0}),t.prototype.recorderStart=function(){console.log("---\u5f55\u5c4f\u5f00\u59cb---"),this.recorderIfSuccess=!0,this.recorderStartTime=Date.now(),this.recorderMag.start({duration:this.recordertime})},t.prototype.recorderStop=function(t){void 0===t&&(t=null),this.recorderIfSuccess&&(console.log("---\u5f55\u5c4f\u7ed3\u675f---"),this.recorderEndTime=Date.now(),t&&(this.recorderStopCallback=t),this.recorderMag.stop())},t.prototype.GetRecorder=function(){return this.recorderIfSuccess},t.prototype.ifRecorderTimeOk=function(){return this.recorderEndTime=Date.now(),(this.recorderEndTime-this.recorderStartTime)/1e3>this.recorderMinTime},t.prototype.viedoShare=function(){var t=this;console.log("\u89c6\u9891\u5206\u4eab\u5f55\u5c4f");var e=this;return this._recorPath?new Promise(function(n){tt.shareAppMessage({channel:"video",title:"",desc:"",imageUrl:"",templateId:"",query:"",extra:{videoPath:t._recorPath,videoTopics:t.viedoShareData.videoTopics,hashtag_list:t.viedoShareData.hashtag_list,video_title:t.viedoShareData.video_title},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),e.recorderIfSuccess=!1,n(!0)},fail:function(t){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25",t),n(!1)}})}):new Promise(function(t,e){console.log("\u6682\u65e0\u5f55\u5236\u89c6\u9891"),Global.onShowTosat("\u6682\u65e0\u5f55\u5236\u89c6\u9891"),e("\u6682\u65e0\u5f55\u5236\u89c6\u9891")})},t}()),cc._RF.pop()},{}],TTSubscription:[function(t,e,n){"use strict";cc._RF.push(e,"aea4bs+d79DPqqUyK5oJNyp","TTSubscription");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("CommonDataMgr"),r=i("api"),s=i("configStore"),l=i("sign");o.default=new(function(){function t(){this.isOpen=!0,this.templateIds=["MSG1226821cc348af581ac8eb7832fda67c0f48a4213718","MSG1226821fba239d37cff7ce98d0706af9442cffd13730"],this.openid="",this.delaySeconds=10,this.templateIdssuc=[]}return t.prototype.init=function(t){this.isOpen=t,this.isOpen&&(this.openid=s.default.openid,this.requestSubscribeMessage(),this.requestUpdateVersionMsg())},t.prototype.requestSubscribeMessage=function(){if(this.isOpen){console.log("tt\u5f00\u59cb\u8ba2\u9605");var t=[],e=this;console.log("tt\u5f00\u59cb\u8ba2\u960511111"),tt.requestSubscribeMessage({tmplIds:e.templateIds,success:function(n){console.log("tt\u8ba2\u9605success",n);for(var i=0;i<e.templateIds.length;i++)"accept"==n[e.templateIds[i]]&&t.push(e.templateIds[i]);e.templateIdssuc=t,console.log("tt\u8ba2\u9605success1",t),t.length>0&&e.subscribe(t),t.length>0&&e.updateSubscribeTime()},fail:function(t){console.error("tt\u8ba2\u9605 \u9519\u8bef",t)}})}},t.prototype.requestUpdateVersionMsg=function(){if(this.isOpen){var t=this,e=["MSG1226821dda91b9dcdc5f210b64e60b25d3c134d13715"];tt.requestSubscribeMessage({tmplIds:e,success:function(n){console.log("tt\u8ba2\u9605\u7248\u672c\u66f4\u65b0\u63d0\u9192success",n),(n[e[0]]="accept")&&t.subscribe(e)},fail:function(t){console.error("tt\u8ba2\u9605\u7248\u672c\u66f4\u65b0\u63d0\u9192 \u9519\u8bef",t)}})}},t.prototype.updateSubscribeTime=function(){if(this.isOpen&&a.CommonDataMgr.instance.Poewrpoewr<=20&&this.templateIdssuc.includes(this.templateIds[0])){console.log("\u8ba2\u9605\u66f4\u65b0\u6b21\u6570");var t={openid:this.openid,template_id:this.templateIds[0],content:{character_string1:{value:"30/30"},thing2:{value:"\u4f53\u529b\u6ee1\u4e86\u5feb\u6765\u5e26\u4eba\u5237\u56fe"}},delay_seconds:a.CommonDataMgr.instance.getPowerRecoverMaxTime()};this.sendsubscribe(t)}},t.prototype.sendsubscribe=function(t){this.isOpen&&l.default.create(t).then(function(t){console.log("12345",t),r.default.sendsubscribe(t).then(function(t){cc.log("=============>\u66f4\u65b0\u8ba2\u9605\u6210\u529f",t)}).catch(function(t){console.log("12345- err",t)})})},t.prototype.subscribe=function(t){this.isOpen&&(console.log("\u8ba2\u9605\u6210\u529f\u53d1\u9001\u670d\u52a1\u5668"),l.default.create({template_ids:t}).then(function(e){console.log("123456",e),r.default.subscribe(e).then(function(e){cc.log("subscribe",e,t)}).catch(function(t){console.log("123456- err",t)})}))},t}()),cc._RF.pop()},{}],TVView:[function(t,e,n){"use strict";cc._RF.push(e,"0c7b60CCNxP+6pL9k68Ivo9","TVView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("View"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUILoad=function(){var t=this;this.setplatform(),this.animatorCtrl=new l.default(this.getSpineSkeleton("ChengWeiZhuBo")),this.animatorCtrl.play("animation"),this.animatorCtrl.setTrackCompleteListener(function(){t.close()})},s([p],e)}(c.default));a.default=d,cc._RF.pop()},{}],TaskCalculate:[function(t,e,n){"use strict";cc._RF.push(e,"e1a9446Hx1ODKYBK3c76jhq","TaskCalculate");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("ModeLVDataManger"),r=i("SkillManager"),s=i("TaskManager"),l=i("RoleCfgManager"),c=function(){function t(){}return t.EventListener={1:function(){return{event_name:GEventName.Task.ActorLvUp}},2:function(){return{event_name:GEventName.SkillEvent.skillUp}},3:function(){return{event_name:GEventName.Task.EqiupPowerUp}},4:function(){return{event_name:GEventName.Task.PassMap}},5:function(){return{event_name:GEventName.Task.LoginGame}},6:function(){return{event_name:GEventName.Task.Resolve}},7:function(){return{event_name:GEventName.Task.WatchVideo}},8:function(){return{event_name:GEventName.Task.OpenPot}},9:function(){return{event_name:GEventName.Task.StartGame}},10:function(){return{event_name:GEventName.Task.UsePower}},11:function(){return{event_name:GEventName.Task.PowerUpEquip}},12:function(){return{event_name:GEventName.Task.GetReward}},13:function(){return{event_name:GEventName.Task.WxShare}}},t.GetProgress={1:function(t,e){return l.default.instance.LV+"/"+e[0][0]},2:function(t,e){for(var n=0;n<e.length;n++)if(r.default.Init.Skill.get(e[n][0]).SkillLv<e[n][1])return"0/1";return"1/1"},3:function(t,e,n){return n?n.is_finish?"1/1":t&&n.is_finish?"1/1":"0/1":"0/1"},4:function(t,e,n){if(n.is_finish)return"1/1";var i=a.default.instance.getPassMaxChapterLV(),o=i.chapter,r=i.level;return o>e[0][0]||o>=e[0][0]&&r>=e[0][1]?"1/1":"0/1"},5:function(t,e,n){return n?(n.task_value.login||(n.task_value.login=0),Math.min(n.task_value.login,e[0][0]),n.task_value.login+"/"+e[0][0]):""},6:function(t,e,n){return n?(n.task_value.resolvecount||(n.task_value.resolvecount=0),n.task_value.resolvecount+=t,Math.min(n.task_value.resolvecount,e[0][0]),n.task_value.resolvecount+"/"+e[0][0]):""},7:function(t,e,n){return n?(n.task_value.watchads||(n.task_value.watchads=0),Math.min(n.task_value.watchads,e[0][0]),n.task_value.watchads+"/"+e[0][0]):""},8:function(t,e,n){return n?(n.task_value.openbottle||(n.task_value.openbottle=0),Math.min(n.task_value.openbottle,e[0][0]),n.task_value.openbottle+"/"+e[0][0]):""},9:function(t,e,n){return n?(n.task_value.startabyssdungeon||(n.task_value.startabyssdungeon=0),n.task_value.startabyssdungeon+"/"+e[0][0]):""},10:function(t,e,n){return n?(n.task_value.usefatigue||(n.task_value.usefatigue=0),Math.min(n.task_value.usefatigue,e[0][0]),n.task_value.usefatigue+"/"+e[0][0]):""},11:function(t,e,n){return n?(n.task_value.powerup||(n.task_value.powerup=0),Math.min(n.task_value.powerup,e[0][0]),n.task_value.powerup+"/"+e[0][0]):""},12:function(t,e,n){return n.is_finish?"1/1":"0/1"},13:function(t,e,n){return n.is_finish?"1/1":"0/1"}},t.CheckTaskFinish={1:function(t,e){return l.default.instance.LV>=e[0][0]},2:function(t,e){for(var n=0;n<e.length;n++)if(r.default.Init.Skill.get(e[n][0]).SkillLv<e[n][1])return!1;return!0},3:function(t,e){return!!t&&!!t&&t.PowerLv>=e[0][0]},4:function(t,e){var n=a.default.instance.getPassMaxChapterLV(),i=n.chapter,o=n.level;return i>e[0][0]||i>=e[0][0]&&o>=e[0][1]},5:function(t,e,n){return!!n&&(n.task_value.login||(n.task_value.login=0),n.task_value.login++,Math.min(n.task_value.login,e[0][0]),n.task_value.login>=e[0][0])},6:function(t,e,n){return!!n&&(n.task_value.resolvecount||(n.task_value.resolvecount=0),n.task_value.resolvecount+=t,Math.min(n.task_value.resolvecount,e[0][0]),n.task_value.resolvecount>=e[0][0])},7:function(t,e,n){return!!n&&(n.task_value.watchads||(n.task_value.watchads=0),n.task_value.watchads++,Math.min(n.task_value.watchads,e[0][0]),n.task_value.watchads>=e[0][0])},8:function(t,e,n){return!!n&&(n.task_value.openbottle||(n.task_value.openbottle=0),n.task_value.openbottle+=t,Math.min(n.task_value.openbottle,e[0][0]),n.task_value.openbottle>=e[0][0])},9:function(t,e,n){return!!n&&(n.task_value.startabyssdungeon||(n.task_value.startabyssdungeon=0),n.task_value.startabyssdungeon++,n.task_value.startabyssdungeon>=e[0][0])},10:function(t,e,n){return!!n&&(n.task_value.usefatigue||(n.task_value.usefatigue=0),n.task_value.usefatigue+=t,Math.min(n.task_value.usefatigue,e[0][0]),n.task_value.usefatigue>=e[0][0])},11:function(t,e,n){return!!n&&(n.task_value.powerup||(n.task_value.powerup=0),n.task_value.powerup++,Math.min(n.task_value.powerup,e[0][0]),n.task_value.powerup>=e[0][0])},12:function(t,e,n){return!!n&&1==s.default.instance.DayTasks.length},13:function(t,e,n){return!!n&&(n.task_value.sharecount||(n.task_value.sharecount=0),n.task_value.sharecount++,Math.min(n.task_value.sharecount,e[0][0]),n.task_value.sharecount>=e[0][0])}},t}();o.default=c,cc._RF.pop()},{}],TaskItem:[function(t,e,n){"use strict";cc._RF.push(e,"4ac91JzMWtEab099VRtRtfH","TaskItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("GameData"),u=o("TaskManager"),p=o("SceneManager"),d=o("SceneConfig"),f=o("TaskType"),h=cc._decorator,y=h.ccclass,g=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnConfirm=null,e.btnChallenge=null,e.contenttext=null,e.progresstext=null,e.rewardOnetext=null,e.rewardTwotext=null,e.rewardOneSp=null,e.rewardTwoSp=null,e._data=null,e}return r(e,t),e.prototype.onUILoad=function(){GEvent.on(GEventName.Task.FinishTask,this.ReflashBtn,this)},e.prototype.setTaskData=function(t,e){var n=this;this._data=e?u.default.instance.DayTasks[t]:u.default.instance.Tasks[t],this.isFinish=this._data.is_finish,this.ReflashBtn(),this.contenttext.string=this._data.info,this.progresstext.string=this._data.GetProgress(),this.rewardOnetext.string=this._data.Reward(0).value,this.rewardTwotext.string=this._data.Reward(1).value;var i=this._data.Reward(0).id,o=this._data.Reward(1).id,a=c.default.CurrenyData();for(var r in a){if(i==r){var s=a[r].icon;cc.resources.load(s,function(t,e){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),n.rewardOneSp.spriteFrame=new cc.SpriteFrame(e)})}o==r&&(s=a[r].icon,cc.resources.load(s,function(t,e){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),n.rewardTwoSp.spriteFrame=new cc.SpriteFrame(e)}))}},e.prototype.onBtnConfirm=function(){this._data.isdaytask?u.default.instance.GetDayTaskReward(this._data):u.default.instance.GetTaskReward(this._data)},e.prototype.onBtnChallenge=function(){switch(this._data.type){case f.TaskType.ACTORLV:p.default.instance.load(d.default.Scenes.gameLevelDialog);break;case f.TaskType.SKILL:p.default.instance.load(d.default.Scenes.SkillView);break;case f.TaskType.EQUIPPOWERUP:p.default.instance.load(d.default.Scenes.PowerView);break;case f.TaskType.PASSMAP:p.default.instance.load(d.default.Scenes.gameLevelDialog);break;case f.TaskType.RESOLVE:p.default.instance.load(d.default.Scenes.BagDialog);break;case f.TaskType.OPENBOTTLE:p.default.instance.load(d.default.Scenes.openPotDialog);break;case f.TaskType.PLAYABYSSDUNGEON:p.default.instance.load(d.default.Scenes.gameCopyDialog);break;case f.TaskType.USEFATIGUE:p.default.instance.load(d.default.Scenes.gameLevelDialog);break;case f.TaskType.EQUIPPOWERUPCOUNT:p.default.instance.load(d.default.Scenes.PowerView);break;case f.TaskType.SHARETASK:p.default.instance.load(d.default.Scenes.NoticeView)}},e.prototype.ReflashBtn=function(){this.btnChallenge.node.active=!this.isFinish,this.btnConfirm.node.active=this.isFinish},s([g(cc.Button)],e.prototype,"btnConfirm",void 0),s([g(cc.Button)],e.prototype,"btnChallenge",void 0),s([g(cc.Label)],e.prototype,"contenttext",void 0),s([g(cc.Label)],e.prototype,"progresstext",void 0),s([g(cc.Label)],e.prototype,"rewardOnetext",void 0),s([g(cc.Label)],e.prototype,"rewardTwotext",void 0),s([g(cc.Sprite)],e.prototype,"rewardOneSp",void 0),s([g(cc.Sprite)],e.prototype,"rewardTwoSp",void 0),s([y],e)}(l.default);a.default=m,cc._RF.pop()},{}],TaskLocalDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"6c6de6uj3hBC42Ji8I2uEi/","TaskLocalDataManger");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"task",{get:function(){return JSON.stringify(this.TaskLocalData.task)},set:function(t){this.TaskLocalData.task=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"daytask",{get:function(){return JSON.stringify(this.TaskLocalData.daytask)},set:function(t){this.TaskLocalData.daytask=t},enumerable:!1,configurable:!0}),t.prototype.SaveData=function(t,e){this.TaskLocalData.task=JSON.parse(t),this.TaskLocalData.daytask=JSON.parse(e)},t.prototype.Init=function(t){this.TaskLocalData=t},t}();i.default=o,cc._RF.pop()},{}],TaskManager:[function(t,e,n){"use strict";cc._RF.push(e,"6e8d4Y9xwZCnqlJ155A04fh","TaskManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Task"),r=i("RoleCfgManager"),s=i("platformConfig"),l=i("Constant"),c=i("Utils"),u=i("GameStatsManager"),p=i("ServerCommonCfgMgr"),d=i("TaskLocalDataManger"),f=function(){function t(){this.InitTask(),this.InitDayTask(),GEvent.on(GEventName.Task.FinishTask,this.SortTask,this)}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t,this._ins.initData()),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Tasks",{get:function(){return this.tasks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DayTasks",{get:function(){return this.daytask},enumerable:!1,configurable:!0}),t.prototype.initData=function(){var t=this;this.LoadTask(d.default.instance.task),this.LoadDayTask(d.default.instance.daytask),p.default.getServerTime().then(function(e){e&&c.default.doubleTimestampEqualDay(e,u.default.instance.lastLoginTime)&&t.NewDayRefreshData()})},t.prototype.Reset=function(){this.CleanAllTask(),this.CleanAllDayTask(),this.InitTask(),this.InitDayTask()},t.prototype.InitTask=function(){this.tasks=new Array,this.tasks.push(a.default.Create().SetData(1001)),this.tasks.push(a.default.Create().SetData(2001)),this.tasks.push(a.default.Create().SetData(3001)),this.tasks.push(a.default.Create().SetData(4001))},t.prototype.InitDayTask=function(){this.daytask=new Array,this.daytask.push(a.default.Create().SetData(100)),this.daytask.push(a.default.Create().SetData(101)),this.daytask.push(a.default.Create().SetData(102)),this.daytask.push(a.default.Create().SetData(103)),this.daytask.push(a.default.Create().SetData(104)),s.default.platformType!=l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&s.default.platformType!=l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS&&this.daytask.push(a.default.Create().SetData(105)),this.daytask.push(a.default.Create().SetData(106)),this.daytask.push(a.default.Create().SetData(107)),GEvent.emit(GEventName.Task.NewTask)},t.prototype.NewDayRefreshData=function(){this.CleanAllDayTask(),this.InitDayTask()},t.prototype.ReLoadTask=function(){this.CleanAllTask(),this.CleanAllDayTask(),this.InitTask(),this.InitDayTask(),this.LoadTask(this.actor_task.GetValue)},t.prototype.SaveTask=function(){var t;if(null==this.actor_task)t=[];else if(this.actor_task.GetValue){var e=this.actor_task.GetValue;t=null==e||null==e||""==e?[]:JSON.parse(this.actor_task.GetValue)}else t=[];for(var n=[],i=0;i<this.tasks.length;i++)n[i]={},n[i].id=this.tasks[i].id,n[i].is_finish=this.tasks[i].is_finish,n[i].value=this.tasks[i].task_value;return this.SortTask(),t[r.default.instance.curRoleID]=n,JSON.stringify(t)},t.prototype.LoadTask=function(t){if(null!=t&&null!=t&&""!=t){this.CleanAllTask(),this.tasks=new Array;var e,n=JSON.parse(t);this.SortTask();for(var i=0;i<n[r.default.instance.curRoleID].length;i++)(e=a.default.Create().SetData(n[r.default.instance.curRoleID][i].id)).is_finish=n[r.default.instance.curRoleID][i].is_finish,e.task_value=n[r.default.instance.curRoleID][i].value,this.tasks.push(e)}},t.prototype.SaveDayTask=function(){var t;if(null==this.day_task)t=[];else if(this.day_task.GetValue){var e=this.day_task.GetValue;t=null==e||null==e||""==e?[]:JSON.parse(this.day_task.GetValue)}else t=[];for(var n=[],i=0;i<this.daytask.length;i++)n[i]={},n[i].id=this.daytask[i].id,n[i].is_finish=this.daytask[i].is_finish,n[i].value=this.daytask[i].task_value;return this.SortTask(),t[r.default.instance.curRoleID]=n,JSON.stringify(t)},t.prototype.LoadDayTask=function(t){if(null!=t&&null!=t&&""!==t){this.CleanAllDayTask(),this.daytask=new Array;var e,n=JSON.parse(t);this.SortTask();for(var i=0;i<n[r.default.instance.curRoleID].length;i++)(e=a.default.Create().SetData(n[r.default.instance.curRoleID][i].id)).is_finish=n[r.default.instance.curRoleID][i].is_finish,e.task_value=n[r.default.instance.curRoleID][i].value,this.daytask.push(e)}},t.prototype.CleanAllTask=function(){for(var t in this.tasks)this.tasks[t].Recover();this.tasks=null},t.prototype.CleanAllDayTask=function(){if(null!=this.daytask){for(var t in this.daytask)this.daytask[t].Recover();this.daytask=null}},t.prototype.GetTaskReward=function(t){var e=this.tasks.indexOf(t,0);if(-1==e)return{succ:!1,error:" GameError.NOTASK"};this.tasks[e].GetReward();var n=this.tasks[e].next_id;return this.tasks[e].Recover(),this.tasks.splice(e,1),GEvent.emit(GEventName.Task.GetReward),n?(this.tasks.push(a.default.Create().SetData(n)),this.SortTask(),GEvent.emit(GEventName.Task.NewTask),d.default.instance.SaveData(this.SaveTask(),this.SaveDayTask()),{succ:!0,error:null}):(d.default.instance.SaveData(this.SaveTask(),this.SaveDayTask()),{succ:!0,error:null})},t.prototype.GetDayTaskReward=function(t){var e=this.daytask.indexOf(t,0);return-1==e?{succ:!1,error:"GameError.NOTASK"}:(this.daytask[e].GetReward(),this.daytask[e].Recover(),this.daytask.splice(e,1),this.SortTask(),GEvent.emit(GEventName.Task.GetReward),d.default.instance.SaveData(this.SaveTask(),this.SaveDayTask()),{succ:!0,error:null})},t.prototype.SortTask=function(){var t=function(t,e){return t.is_finish?-1:!t.is_finish&&e.is_finish?1:0};this.tasks.sort(t),this.daytask.sort(t)},t.prototype.HasFinishTask=function(){return-1!=this.tasks.findIndex(function(t){return 1==t.is_finish})},t.prototype.HasFinishDayTask=function(){return-1!=this.daytask.findIndex(function(t){return 1==t.is_finish})},t}();o.default=f,cc._RF.pop()},{}],TaskType:[function(t,e,n){"use strict";cc._RF.push(e,"add42Ot8bNOkZDdU7umInk4","TaskType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.TaskType=void 0,function(t){t[t.NONE=0]="NONE",t[t.ACTORLV=1]="ACTORLV",t[t.SKILL=2]="SKILL",t[t.EQUIPPOWERUP=3]="EQUIPPOWERUP",t[t.PASSMAP=4]="PASSMAP",t[t.LOGIN=5]="LOGIN",t[t.RESOLVE=6]="RESOLVE",t[t.WATCHADS=7]="WATCHADS",t[t.OPENBOTTLE=8]="OPENBOTTLE",t[t.PLAYABYSSDUNGEON=9]="PLAYABYSSDUNGEON",t[t.USEFATIGUE=10]="USEFATIGUE",t[t.EQUIPPOWERUPCOUNT=11]="EQUIPPOWERUPCOUNT",t[t.FINISHDAYTASK=12]="FINISHDAYTASK",t[t.SHARETASK=13]="SHARETASK"}(i.TaskType||(i.TaskType={})),cc._RF.pop()},{}],TaskView:[function(t,e,n){"use strict";cc._RF.push(e,"5d4dbY+pbpJw7sHGePF1Dyx","TaskView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l,c=o("View"),u=o("TaskItem"),p=o("TaskManager"),d=o("TaskLocalDataManger");(function(t){t[t.Normal=0]="Normal",t[t.Daily=1]="Daily"})(l||(l={}));var f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskScrollView=null,e.taskItemPre=null,e.noTaskLabel=null,e.taskdataArr=[],e.pageType=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.noTaskLabel.node.active=!1,GEvent.emit(GEventName.Task.ActorLvUp),GEvent.emit(GEventName.SkillEvent.skillUp)},e.prototype.onEnable=function(){this.pageType=l.Normal,this.ReflashTask(),d.default.instance.SaveData(p.default.instance.SaveTask(),p.default.instance.SaveDayTask()),this.registerEvent()},e.prototype.registerEvent=function(){GEvent.on(GEventName.Task.FinishTask,this.changeTaskProg,this),GEvent.on(GEventName.Task.NewTask,this.ReflashTask,this),GEvent.on(GEventName.Task.GetReward,this.deleteTask,this),GEvent.on(GEventName.Task.ProgressChange,this.changeTaskProg,this)},e.prototype.onDisable=function(){GEvent.offAll(this)},e.prototype.ReflashTask=function(){if(this.taskdataArr=[],this.taskScrollView.content.removeAllChildren(),this.pageType==l.Normal&&p.default.instance.Tasks){if(0==p.default.instance.Tasks.length)this.noTaskLabel.node.active=!0,this.noTaskLabel.string="\u656c\u8bf7\u671f\u5f85\u540e\u7eed\u7248\u672c\u4efb\u52a1";else if(p.default.instance.Tasks.length>0){this.noTaskLabel.node.active=!1;for(var t=p.default.instance.Tasks.length,e=0;e<t;e++){var n=cc.instantiate(this.taskItemPre);this.taskScrollView.content.addChild(n),this.taskdataArr.push(n.getComponent(u.default)),this.taskdataArr[e].setTaskData(e,!1)}}}else if(this.pageType==l.Daily&&p.default.instance.DayTasks)if(0==p.default.instance.DayTasks.length)this.noTaskLabel.node.active=!0,this.noTaskLabel.string="\u4eca\u65e5\u4efb\u52a1\u5df2\u5b8c\u6210";else if(p.default.instance.DayTasks.length>0){this.noTaskLabel.node.active=!1,t=p.default.instance.DayTasks.length;for(var i=0;i<t;i++)n=cc.instantiate(this.taskItemPre),this.taskScrollView.content.addChild(n),this.taskdataArr.push(n.getComponent(u.default)),this.taskdataArr[i].setTaskData(i,!0)}},e.prototype.changeTaskProg=function(){if(this.pageType==l.Normal&&p.default.instance.Tasks){if(p.default.instance.Tasks.length>0)for(var t=p.default.instance.Tasks.length,e=0;e<t;e++)this.taskdataArr[e].setTaskData(e,!1)}else if(this.pageType==l.Daily&&p.default.instance.DayTasks&&p.default.instance.DayTasks.length>0){t=p.default.instance.DayTasks.length;for(var n=0;n<t;n++)this.taskdataArr[n].setTaskData(n,!0)}},e.prototype.deleteTask=function(){if(this.pageType==l.Normal&&p.default.instance.Tasks){if(p.default.instance.Tasks.length>=0){this.taskScrollView.content.removeChild(this.taskScrollView.content.children[this.taskScrollView.content.children.length-1]);for(var t=p.default.instance.Tasks.length,e=0;e<t;e++)this.taskdataArr[e].setTaskData(e,!1)}0==p.default.instance.Tasks.length&&(this.noTaskLabel.node.active=!0,this.noTaskLabel.string="\u656c\u8bf7\u671f\u5f85\u540e\u7eed\u7248\u672c\u4efb\u52a1")}else if(this.pageType==l.Daily&&p.default.instance.DayTasks){if(p.default.instance.DayTasks.length>=0){this.taskScrollView.content.removeChild(this.taskScrollView.content.children[this.taskScrollView.content.children.length-1]),t=p.default.instance.DayTasks.length;for(var n=0;n<t;n++)this.taskdataArr[n].setTaskData(n,!0)}0==p.default.instance.DayTasks.length&&(this.noTaskLabel.node.active=!0,this.noTaskLabel.string="\u4eca\u65e5\u4efb\u52a1\u5df2\u5b8c\u6210")}},e.prototype.changeToggleClick=function(t,e){this.pageType!=parseInt(e)&&(this.pageType=parseInt(e),this.ReflashTask())},s([y(cc.ScrollView)],e.prototype,"taskScrollView",void 0),s([y(cc.Prefab)],e.prototype,"taskItemPre",void 0),s([y(cc.Label)],e.prototype,"noTaskLabel",void 0),s([h],e)}(c.default);a.default=g,cc._RF.pop()},{}],Task:[function(t,e,n){"use strict";cc._RF.push(e,"6ade8w3ml5BfqOSz7QLNqnH","Task");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("SceneConfig"),r=i("SceneManager"),s=i("GameData"),l=i("TaskLocalDataManger"),c=i("TaskManager"),u=i("ComRewardView"),p=i("TaskCalculate"),d=function(){function t(){}return t.Create=function(){return new t},t.prototype.Recover=function(){this.Reset()},Object.defineProperty(t.prototype,"isdaytask",{get:function(){return this.id<1e3},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.task_json.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finish_value",{get:function(){return this.task_json.value},enumerable:!1,configurable:!0}),t.prototype.Reward=function(t){return{id:this.reward[t].id^this.key,value:this.reward[t].value^this.key}},Object.defineProperty(t.prototype,"RewardCount",{get:function(){return this.reward.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"next_id",{get:function(){return this.task_json.next_id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"info",{get:function(){return this.task_json.info},enumerable:!1,configurable:!0}),t.prototype.SetData=function(t){this.key=Math.floor(1e7*Math.random()),this.id=t,this.task_json=s.default.TaskData()[t],this.reward=new Array(this.task_json.reward.length);for(var e=0;e<this.reward.length;e++)this.reward[e]={id:this.task_json.reward[e].id^this.key,value:this.task_json.reward[e].value^this.key};return this.is_finish=!1,this.is_getreward=!1,this.listener=p.default.EventListener[this.type](),GEvent.on(this.listener.event_name,this.Event_CallBack,this),this.check_func=p.default.CheckTaskFinish[this.type],this.check_func(null,this.finish_value)&&(this.is_finish=!0,GEvent.emit(GEventName.Task.FinishTask)),this.task_value={},this},t.prototype.Reset=function(){return this.task_value={},this.id=-1,this.task_json=null,GEvent.off(this.listener.event_name,this.Event_CallBack),this.reward=null,this.is_finish=!1,this.is_getreward=!1,this.check_func=null,this},t.prototype.GetProgress=function(){return p.default.GetProgress[this.type](null,this.finish_value,this)},t.prototype.Event_CallBack=function(t){this.check_func&&(this.check_func(t,this.finish_value,this)?(this.is_finish=!0,GEvent.emit(GEventName.Task.FinishTask)):GEvent.emit(GEventName.Task.ProgressChange)),l.default.instance.SaveData(c.default.instance.SaveTask(),c.default.instance.SaveDayTask())},t.prototype.GetReward=function(){for(var t=[],e=0;e<2;e++)t[e]=this.Reward(e);r.default.instance.load(a.default.Scenes.ComRewardView,void 0,function(e,n){n.getComponent(u.default).showTask(t)})},t}();o.default=d,cc._RF.pop()},{}],TestGameScene:[function(t,e,n){"use strict";cc._RF.push(e,"43e94hQ4/BND7bjIVpCgbpV","TestGameScene");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),s([u],e)}(l.default));a.default=p,cc._RF.pop()},{}],TestInviterMgr:[function(t,e,n){"use strict";cc._RF.push(e,"f5489A3/UxAKa4HVBYPU1fK","TestInviterMgr");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("InvitePosType"),c=o("InviterDataManger"),u=o("Utils"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){var t=this;window.InviterDataManger=c.default.instance,this.node.children.forEach(function(e,n){var i=e.getChildByName("name");u.default.addButtonAddEventF(i,t.node,"TestInviterMgr","onClickLb",n,cc.Button.Transition.SCALE)})},e.prototype.onClickLb=function(t,e){var n=parseInt(e),i=this.backIndex(n);c.default.instance.shareAppMessageFromUrl(i)},e.prototype.onClickrect=function(){},e.prototype.rfInterface=function(){var t=this;c.default.instance.pullNewData().then(function(){t.node.children.forEach(function(e,n){var i=e.getChildByName("count").getComponent(cc.Label),o=t.backIndex(n),a=c.default.instance.getInviterIdCount(o);i.string=a.toString()})}).catch(function(){console.error("\u9519\u8bef\u62c9\u53d6")})},e.prototype.backIndex=function(t){var e=-1;switch(t){case 0:e=l.InviterID_Fashi.Fashi0;break;case 1:e=l.InviterID_BTShop.BTUnlock;break;case 2:e=l.InviterID_BTShop.BTWeapon_0;break;case 3:e=l.InviterID_BTShop.BTWeapon_1;case 4:e=l.InviterID_BTShop.BTWeapon_2;break;case 5:e=l.InviterID_BTShop.BTGold;break;case 6:e=l.InviterID_BTShop.BTFashi0_head;break;case 7:e=l.InviterID_BTShop.BTFashi0_body;break;case 8:e=l.InviterID_BTShop.BTFashi0_foot}return e},e.prototype.start=function(){},s([d],e)}(cc.Component));a.default=f,cc._RF.pop()},{}],ThroughInputEvents:[function(t,e,n){"use strict";cc._RF.push(e,"30cffDlMEFIkbgJ1E/zBssH","ThroughInputEvents");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ThroughInputEvents=void 0;var s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.start=function(){this.node._touchListener.setSwallowTouches(!1)},r([l],e)}(cc.Component));o.ThroughInputEvents=c,cc._RF.pop()},{}],TimeEngine:[function(t,e,n){"use strict";cc._RF.push(e,"53fb1HRRE5KB7q/3QVh0DFW","TimeEngine");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){this._id=0,this._interval=0,this._repeat=0,this._callback=null,this._target=null,this._userdata=null,this._lastTime=null},a=function(){function t(){this.startIndexID=1,this.clockList=new Array,this.clockList=null,this.startIndexID=1,this.clockList=new Array}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.purge=function(){t.instance&&(t.instance=null)},t.prototype.open=function(t,e,n,i,a){if(0==e||null==n)return-1;var r=new o;return r._id=this.startIndexID++,r._interval=t,r._repeat=e,r._callback=n,r._target=i,r._userdata=a,r._lastTime=this.getTimestamp(),this.clockList.push(r),r._id},t.prototype.close=function(t){for(var e=0,n=this.clockList;e<n.length;e++){var i=n[e];if(i._id===t){i._repeat=0;break}}},t.prototype.closeByTarget=function(t){for(var e=0,n=this.clockList;e<n.length;e++){var i=n[e];i._target===t&&(i._repeat=0)}},t.prototype.getTimestamp=function(){return(new Date).getTime()},t.prototype.onUpdateTick=function(){for(var t=0,e=this.clockList;t<e.length;t++){var n=e[t];0!==n._repeat&&this.getTimestamp()-n._lastTime>=n._interval&&(n._target?n._callback.call(n._target,n._id,n._userdata):n._callback(n._id,n._userdata),n._lastTime=this.getTimestamp(),n._repeat>0&&n._repeat--)}this.clockList=this.clockList.filter(function(t){return 0!=t._repeat})},t.instance=null,t}();i.default=a,cc._RF.pop()},{}],ToCombatCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"71c992gjZtHsLOTrTEcTH+z","ToCombatCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("Controller"),l=o("SceneConfig"),c=o("SceneManager"),u=o("LvType"),p=o("GameCfgData"),d=o("Constant"),f=function(t){function e(){var e=t.call(this)||this;return e.onLoadingSuc=!1,e}return r(e,t),e.prototype.onInit=function(){this.onLoadRes()},e.prototype.onLoadRes=function(){this.onLoadingSuc=!1;var t=p.default.curChapter,e=p.default.curLevel;p.default.LvType==u.LvType.Toxicity&&(e=1),p.default.LoadChapterRes(t,e,this.onProgress.bind(this),this.onComplete.bind(this))},e.prototype.onProgress=function(t,e){console.log("\u8fdb\u5165\u6218\u6597\u8fdb\u5ea6",t,e),this.postUIEvent(d.default.LOADING_EVENT.PROGRESS,{progress:t/e})},e.prototype.onComplete=function(){this.onLoadingSuc||(this.onLoadingSuc=!0,p.default.LvType==u.LvType.Toxicity?c.default.instance.load(l.default.Scenes.ToxicityGameScene):p.default.LvType==u.LvType.Tower?c.default.instance.load(l.default.Scenes.TowerGameScene):c.default.instance.load(l.default.Scenes.CombatGameScene))},e}(s.default);a.default=f,cc._RF.pop()},{}],ToCombatModel:[function(t,e,n){"use strict";cc._RF.push(e,"ee4a5CXiAlEOp25gA7CdvuQ","ToCombatModel");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],ToCombatScene:[function(t,e,n){"use strict";cc._RF.push(e,"379dfp3qQpMDJYK7X6e4SCV","ToCombatScene");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("Constant"),u=o("ToCombatCtrl"),p=o("ToCombatModel"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=t.call(this)||this;return e.loadAni=null,e.progressBar=null,e}return r(e,t),e.prototype.onInit=function(){this.setModel(new p.default),this.setController(new u.default)},e.prototype.onUILoad=function(){t.prototype.onUILoad.call(this)},e.prototype.onUIEnable=function(){},e.prototype.onUIStart=function(){},e.prototype.onUIDisable=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onUIUpdate=function(){},e.prototype.getView=function(){return this},e.prototype.onNoticeEvent=function(t,e){var n=this.progressBar.barSprite.node;t==c.default.LOADING_EVENT.PROGRESS&&(this.progressBar.progress=e.progress,this.loadAni.position=cc.v3(n.x+n.width,-14),console.log(e.progress))},s([h(cc.Node)],e.prototype,"loadAni",void 0),s([h(cc.ProgressBar)],e.prototype,"progressBar",void 0),s([f],e)}(l.default);a.default=y,cc._RF.pop()},{}],TowerActivityView:[function(t,e,n){"use strict";cc._RF.push(e,"98851VfSdFHFYkewTfmDnwj","TowerActivityView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l,c=o("SceneConfig"),u=o("SceneManager"),p=o("View"),d=o("GameData"),f=o("FashionManager"),h=o("FashionSkinDataManger"),y=o("InviterDataManger"),g=o("ServerCommonCfgMgr"),m=o("ShopDataManger"),v=o("TowerDataManager"),_=o("Admanager"),b=o("platformConfig"),k=o("Constant"),S=o("ComRewardView"),w=cc._decorator,T=w.ccclass,C=w.property;(function(t){t[t.weapon=1]="weapon",t[t.fashion=2]="fashion"})(l||(l={}));var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TowerActivity_icon=[],e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform()},e.prototype.GetPlatformType=function(){return b.default.platformType!=k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT&&b.default.platformType!=k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO&&b.default.platformType!=k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO&&b.default.platformType!==k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS},e.prototype.GetPlatformType_tt=function(){return b.default.platformType==k.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT},e.prototype.onUIStart=function(){t.prototype.onUIStart.call(this),h.default.instance.pushNewFashionData(),this.TowerActivityConfig=d.default.TowerActivityData(),this.fashionId=8,this.fashionData=f.default.Init.getFashionSetById(this.fashionId),this.fashionContent=this.getNode("content/fashionContent"),this.refresh()},e.prototype.refresh=function(){for(var t=this,e=Math.max(this.TowerActivityConfig.length,this.fashionContent.children.length),n=function(e,n){var i=t.TowerActivityConfig[e];n.getChildByName("fashion").getComponent(cc.Sprite).spriteFrame=t.TowerActivity_icon[i.id];var o=!1;switch(i.type){case l.weapon:o=!!h.default.instance.IsHaveList[0][i.weaponId];break;case l.fashion:o=!!t.fashionData.equip[i.weaponId].is_have}if(o)t.offClick(n.getChildByName("btn_exchange")),t.offClick(n.getChildByName("btn_invite")),n.getChildByName("exchangeLab").getComponent(cc.RichText).string="",n.getChildByName("inviteLab").getComponent(cc.RichText).string="",n.getChildByName("orLab").getComponent(cc.Label).string="\u5df2\u83b7\u5f97",n.getChildByName("btn_exchange").getChildByName("TX_anniu").active=!1,n.getChildByName("btn_invite").getChildByName("TX_anniu").active=!1,t.GetPlatformType()?n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u9080 \u8bf7":n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u9886 \u53d6";else{if(n.getChildByName("orLab").getComponent(cc.Label).string="\u6216",n.getChildByName("exchangeLab").getComponent(cc.RichText).string="<color=#723513>\u6b7b\u4ea1\u4e4b\u5854\u901a\u8fc7"+i.level+"\u5c42</c><color=#0FFF00>   "+v.default.instance.getMaxpassLayer+"</color><color=#723513>/"+i.level+"</color>",t.GetPlatformType()){var a=y.default.instance.getInviterIdCount(i.inviteType);n.getChildByName("inviteLab").getComponent(cc.RichText).string="<color=#723513>\u9080\u8bf7</c><color=#0FFF00>"+a+"</color><color=#723513>/"+i.InviteCount+"\u4eba\u76f4\u63a5\u83b7\u5f97</color>",a>=i.InviteCount?(n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u9886 \u53d6",n.getChildByName("btn_invite").getComponent(cc.Button).clickEvents[0].customEventData=e.toString(),t.offClick(n.getChildByName("btn_invite")),t.onClick(n.getChildByName("btn_invite"),t.onBtnInvite_Get,t)):(n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u9080 \u8bf7",n.getChildByName("btn_invite").getComponent(cc.Button).clickEvents[0].customEventData=e.toString(),t.offClick(n.getChildByName("btn_invite")),t.onClick(n.getChildByName("btn_invite"),t.onBtnInvite,t))}else if(t.GetPlatformType_tt()){var r=m.default.instance.getVideoIdData(i.inviteType).Videocount,s=g.default.IsTTVideos?i.TTVideo:i.videoCount;n.getChildByName("inviteLab").getComponent(cc.RichText).string="<color=#723513>\u788e\u7247\u5151\u6362  </c><color=#0FFF00>"+r+"</color><color=#723513>/"+s+"      </color>",r>=s?(n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("icon_viedo").active=!1,n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u788e\u7247\u5151\u6362",n.getChildByName("btn_invite").getComponent(cc.Button).clickEvents[0].customEventData=e.toString(),t.offClick(n.getChildByName("btn_invite")),t.onClick(n.getChildByName("btn_invite"),t.onBtnInvite_Get,t)):(n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("icon_viedo").active=!0,n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u83b7\u5f97\u788e\u7247",n.getChildByName("btn_invite").getComponent(cc.Button).clickEvents[0].customEventData=e.toString(),t.offClick(n.getChildByName("btn_invite")),t.onClick(n.getChildByName("btn_invite"),t.onBtnInvite,t))}else r=m.default.instance.getVideoIdData(i.inviteType).Videocount,s=g.default.IsTTVideos?i.TTVideo:i.videoCount,n.getChildByName("inviteLab").getComponent(cc.RichText).string="<color=#723513>\u89c2\u770b</c><color=#0FFF00>"+r+"</color><color=#723513>/"+s+"\u6b21\u89c6\u9891\u83b7\u5f97</color>",r>=s?(n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("icon_viedo").active=!1,n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u9886 \u53d6",n.getChildByName("btn_invite").getComponent(cc.Button).clickEvents[0].customEventData=e.toString(),t.offClick(n.getChildByName("btn_invite")),t.onClick(n.getChildByName("btn_invite"),t.onBtnInvite_Get,t)):(n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("icon_viedo").active=!0,n.getChildByName("btn_invite").getChildByName("Layout").getChildByName("label").getComponent(cc.Label).string="\u89c2 \u770b",n.getChildByName("btn_invite").getComponent(cc.Button).clickEvents[0].customEventData=e.toString(),t.offClick(n.getChildByName("btn_invite")),t.onClick(n.getChildByName("btn_invite"),t.onBtnInvite,t));n.getChildByName("btn_exchange").getComponent(cc.Button).clickEvents[0].customEventData=e.toString(),t.offClick(n.getChildByName("btn_exchange")),t.onClick(n.getChildByName("btn_exchange"),t.onBtnExchange,t),n.getChildByName("btn_exchange").getChildByName("TX_anniu").active=!0,n.getChildByName("btn_invite").getChildByName("TX_anniu").active=!0}},i=0;i<e;i++){var o=this.fashionContent.children[i];if(null==o&&((o=cc.instantiate(this.fashionContent.children[0])).parent=this.fashionContent),i>=this.TowerActivityConfig.length)o.active=!1;else{if(o.active=!0,!o||!this.TowerActivityConfig[i])return;n(i,o)}}},e.prototype.onBtnExchange=function(t){var e=parseInt(t.clickEvents[0].customEventData),n=this.TowerActivityConfig[e];if(n){var i=n.level;i&&v.default.instance.getMaxpassLayer>=i?(n.type==l.weapon?h.default.instance.getFashionSkin(0,n.weaponId):f.default.Init.getFashion(this.fashionId,n.weaponId),this.refresh()):Global.onShowTosat("\u672a\u8fbe\u5230\u8981\u6c42")}},e.prototype.onBtnInvite_Get=function(t){var e=parseInt(t.clickEvents[0].customEventData),n=this.TowerActivityConfig[e];n&&(this.GetPlatformType()?y.default.instance.getInviterIdCount(n.inviteType)>=n.InviteCount?(n.type==l.weapon?h.default.instance.getFashionSkin(0,n.weaponId):f.default.Init.getFashion(this.fashionId,n.weaponId),this.refresh()):Global.onShowTosat("\u672a\u8fbe\u5230\u8981\u6c42"):m.default.instance.getVideoIdData(n.inviteType).Videocount>=(g.default.IsTTVideos?n.TTVideo:n.videoCount)?(n.type==l.weapon?h.default.instance.getFashionSkin(0,n.weaponId):f.default.Init.getFashion(this.fashionId,n.weaponId),this.refresh()):Global.onShowTosat("\u672a\u8fbe\u5230\u8981\u6c42"))},e.prototype.onBtnInvite=function(t){var e=this,n=parseInt(t.clickEvents[0].customEventData),i=this.TowerActivityConfig[n];if(i)if(this.GetPlatformType())y.default.instance.shareAppMessageFromUrl(i.inviteType);else if(m.default.instance.getVideoIdData(i.inviteType).Videocount>=(g.default.IsTTVideos?i.TTVideo:i.videoCount))0==n?h.default.instance.getFashionSkin(0,i.weaponId):f.default.Init.getFashion(this.fashionId,n-1),this.refresh();else if(this.GetPlatformType_tt()){var o=function(t){t&&(m.default.instance.addVideoIdData(i.inviteType,1),e.refresh())},a=[{id:100,value:5e4},{id:i.fragment_id,value:1}];u.default.instance.load(c.default.Scenes.ComRewardView,void 0,function(t,e){e.getComponent(S.default).showFragment({_reward:a,call:o})})}else _.default.instance.playRewardVideo(function(){m.default.instance.addVideoIdData(i.inviteType,1),e.refresh(),GEvent.emit(GEventName.Task.WatchVideo)})},s([C(cc.SpriteFrame)],e.prototype,"TowerActivity_icon",void 0),s([T],e)}(p.default);a.default=D,cc._RF.pop()},{}],TowerDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"be68dgR1zFFnZdHnRVuuucb","TowerDataManager");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=i("InvitePosType"),l=i("platformConfig"),c=i("Constant"),u=i("Utils"),p=i("GameStatsManager"),d=i("InviterDataManger"),f=i("ServerCommonCfgMgr"),h=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shareRfTowerCount",{get:function(){return l.default.platformType==c.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?4:l.default.platformType==c.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?4:l.default.platformType==c.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO?4:l.default.platformType==c.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?4:l.default.platformType==c.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX?2:(l.default.platformType,c.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getMaxpassLayer",{get:function(){return this.TowerDataMgr.maxpassLayer-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxpassLayer",{get:function(){return this.TowerDataMgr.maxpassLayer},set:function(t){this.TowerDataMgr.maxpassLayer=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TowerVideoTime",{get:function(){return this.TowerDataMgr.TowerVideoTime},set:function(t){this.TowerDataMgr.TowerVideoTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curLayer",{get:function(){return this.TowerDataMgr?this.TowerDataMgr.curLayer:1},set:function(t){this.TowerDataMgr.curLayer=t,t>this.maxpassLayer&&(this.maxpassLayer=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterTowerCount",{get:function(){return this.TowerDataMgr.enterTowerCount},set:function(t){this.TowerDataMgr.enterTowerCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoRfTowerCount",{get:function(){return this.TowerDataMgr.videoRfTowerCount},set:function(t){this.TowerDataMgr.videoRfTowerCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TowerTaskDataList",{get:function(){return this.TowerDataMgr.TowerTaskDataList},set:function(t){this.TowerDataMgr.TowerTaskDataList=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intoTower",{get:function(){return this.TowerDataMgr.intoTower},set:function(t){this.TowerDataMgr.intoTower=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sweepTowerCount",{get:function(){return this.TowerDataMgr.sweepTowerCount},set:function(t){this.TowerDataMgr.sweepTowerCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sweepVideoTime",{get:function(){return this.TowerDataMgr.sweepVideoTime},set:function(t){this.TowerDataMgr.sweepVideoTime=t},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.TowerDataMgr=t,f.default.getLoginTime().then(function(t){t&&(u.default.doubleTimestampEqualDay(t,p.default.instance.lastLoginTime)&&(e.TowerTaskDataList=[],e.videoRfTowerCount=0,e.sweepTowerCount=0),u.default.iSameWeek(t,p.default.instance.lastLoginTime)||(console.log("----\u5237\u65b0----"),e.curLayer=1))})},t.prototype.getZDTaskID=function(t){return this.TowerDataMgr.getTowerTaskDataIdData(t)},t.prototype.sendZDTaskSucPro=function(t,e){void 0===e&&(e=1),this.TowerDataMgr.getTowerTaskDataIdData(t,!0).taskpro+=e},t.prototype.sendZDTaskRewardSuc=function(t){var e=this.TowerDataMgr.getTowerTaskDataIdData(t,!0);e.taskpro?e.getTaskReward=1:console.error("\u4efb\u52a1\u5956\u52b1\u9886\u53d6\u5931\u8d25 \u8bf7\u68c0\u67e5\u5f53\u524d\u4efb\u52a1\u903b\u8f91")},t.prototype.InitInviterData=function(e){return a(this,void 0,void 0,function(){var n;return r(this,function(i){switch(i.label){case 0:return this.videoRfTowerCount!=t.shareRfTowerCount?[3,2]:[4,d.default.instance.pullNewData()];case 1:i.sent(),1==(n=d.default.instance.getInviterOpendIDs(s.DeathTowerID.Daily_Refresh,1)).length&&(Global.onShowTosat("\u9080\u8bf7\u6210\u529f\uff0c\u6b7b\u4ea1\u4e4b\u5854\u5df2\u5237\u65b0"),d.default.instance.reportedGETData(s.DeathTowerID.Daily_Refresh,n),t.instance.videoRfTowerCount+=1,t.instance.curLayer=1,GEvent.emit(GEventName.ReflashTower),e&&e()),i.label=2;case 2:return[2]}})})},t.FatigueTowerCount=1,t.WeekEnterTowerCount=1,t.dailyVideoRfTowerCount=3,t.MaxTowerSweepCount=3,t.MaxTowerCount=150,t.LockLevel=[1,3],t.videoTowerCountDown=3e4,t}();o.default=h,cc._RF.pop()},{}],TowerGameCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"9f273Q1n/1OsJJJ54ke9DV5","TowerGameCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("CombatGameData"),l=o("DropItem"),c=o("EnemeyManager"),u=o("StateId"),p=o("BaseHero"),d=o("lastBossEff"),f=o("ReviveEff"),h=o("GameCalculate"),y=o("TimeEngine"),g=o("Controller"),m=o("SceneConfig"),v=o("DeathTowerTaksType"),_=o("PassLevelType"),b=o("TowerSelectproType"),k=o("GameHelper"),S=o("GameCfgData"),w=o("BagManager"),T=o("FashionSkinDataManger"),C=o("CameraManger"),D=o("PoolManager"),E=o("RoleCfgManager"),I=o("TowerTaskMgr"),P=o("VibrateManger"),M=o("Utils"),L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemys=[],e.builds=[],e.AllRunningActions=[],e}return r(e,t),e.prototype.onInit=function(){window.TowerGameCtrl=this,this.viewEntity=this.view,this.viewEntity.init,this.onAddEvent()},e.prototype.onAddEvent=function(){console.log("add Event")},e.prototype.testInit=function(t){this.viewEntity=t},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){this.OnStartGame()},e.prototype.OnStartGame=function(){var t=this;s.default.init(),s.default.gameScene=this.viewEntity.GameNode,s.default.EffNode=this.viewEntity.EffNode,s.default.MainCamera=this.viewEntity.MainCamera.getComponent(cc.Camera),Global.TestMode?D.default.instance.init():(this.sceneMgr().show(m.default.Scenes.Wait1Scene),D.default.instance.init().then(function(){Promise.all([t.onInitHero()]).then(function(){t.sceneMgr().hide(m.default.Scenes.Wait1Scene),t.onCreatorRoomEnemy(),t.viewEntity.MainCamera.getComponent(C.default).init(t.viewEntity.Hero),t.viewEntity.CombatUIManger.onInit(),t.viewEntity.onShowChapterAni(s.default.TowerLayerCount+"\u5c42"),t.viewEntity.onUpdateDoorPos().then(function(){t.onDoorLine()}),P.default.instance.openShortCall(),GEvent.emit(GEventName.Tower.Task,v.DeathTowerTaksType.DAILYINTO)}).catch(function(t){console.log(t)})}).catch(function(t){console.error(t)}))},e.prototype.onInitHero=function(){var t=this;return new Promise(function(e,n){var i=M.default.clone(k.default.instance.HeroData()[S.default.playerId]);i.weaponurl=w.default.Init.getHeroWeapon(),t.viewEntity.Hero.LoadSk(S.default.playerId,i).then(function(){t.onInitHeroSkill(),e(!0)}).catch(function(t){console.error(t),n(t)})})},e.prototype.onInitHeroSkill=function(){w.default.Init.GetOpenHeroExtraSkill8()?this.viewEntity.CombatUIManger.skillControl.MOJian_SKILL.active=!0:this.viewEntity.CombatUIManger.skillControl.MOJian_SKILL.active=!1},e.prototype.onDoorLine=function(){var t=this.viewEntity.doorNode.getChildByName("poi1"),e=this.viewEntity.doorNode.getChildByName("poi2");s.default.doorPoi1=this.viewEntity.GameNode.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v3(0,0))),s.default.doorPoi2=this.viewEntity.GameNode.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v3(0,0)))},e.prototype.onNexRoomEvent=function(){s.default.openDoor&&(s.default.roomcount++,s.default.TowerLayerCount++,s.default.openDoor=!1,s.default.PassCurLayer=!1,this.viewEntity.onUpdateDoorPos(),this.onDoorLine(),this.onClearBuilds(),this.viewEntity.CombatUIManger.showChapterAni(s.default.TowerLayerCount+"\u5c42"),this.viewEntity.MainCamera.position=cc.v3(0,0),s.default.LastRoom&&(this.viewEntity.doorNode.active=!1),this.onCreatorRoomEnemy())},e.prototype.onClearBuilds=function(){this.builds.forEach(function(t){t.getComponent(p.default).onRecycle(),D.default.instance.pushItemPoolNode(D.PoolKeys.Enemy,t)}),this.builds=[]},e.prototype.onCreatorRoomEnemy=function(){var t,e,n=s.default.MapData.room[s.default.TowerLayerCount-1];if(n.is_boss){s.default.cur_is_bossroom=!0;var i=c.default.Init.CreatBoss(s.default.LvHard,n.boss,n.boss_hp_ratio,n.boss_def_ratio,n.boss_atk_ratio,s.default.coin_ratio,this.viewEntity.GameNode);s.default.boss_count=i.length,(t=this.enemys).push.apply(t,i)}n.builder&&(this.builds=c.default.Init.CreatBuilder(s.default.LvHard,n.builder,this.viewEntity.GameNode));var o=c.default.Init.CreatEnemey(s.default.LvHard,n.enemy,n.x,n.y,n.is_boss,n.mon_hp_ratio,n.mon_def_ratio,n.mon_atk_ratio,s.default.coin_ratio,this.viewEntity.GameNode);(e=this.enemys).push.apply(e,o),s.default.enemy_count+=this.enemys.length,s.default.enemystartdie_count=s.default.enemy_count},e.prototype.onPauseEvent=function(){s.default.pause=!0,this.pauseAllActions()},e.prototype.onRecoverEvent=function(){s.default.pause=!1,this.resumeActions(),this.onChangeEquipRFHeroInfo(),this.onInitHeroSkill()},e.prototype.pauseAllActions=function(){this.AllRunningActions=cc.director.getActionManager().pauseAllRunningActions()},e.prototype.resumeActions=function(){cc.director.getActionManager().resumeTargets(this.AllRunningActions),this.AllRunningActions=[]},e.prototype.onChangeEquipRFHeroInfo=function(){var t=M.default.clone(k.default.instance.HeroData()[S.default.playerId]);t.weaponurl=w.default.Init.getHeroWeapon(),this.viewEntity.Hero.RFChangeEquip(t)},e.prototype.onReviveEvent=function(){this.viewEntity.Hero.State==u.default.DIE?(f.default.Create().onInit(this.viewEntity.Hero),this.viewEntity.Hero.onReviveEvent()):console.log("\u89d2\u8272\u6ca1\u6709\u6b7b\u4ea1")},e.prototype.onPlayerDieEvent=function(){this.viewEntity.CombatUIManger.onShowRecover()},e.prototype.onEnemyStartDieEvent=function(t){s.default.enemystartdie_count-=1,s.default.enemystartdie_count<=0&&(GEvent.emit(GEventName.CombatEvents.AdTimeScale,.4),d.default.Create().onInit(t),y.default.instance.open(1500,1,function(){GEvent.emit(GEventName.CombatEvents.AdTimeScale,1)},this))},e.prototype.onEnemyDieEvent=function(t){this.onGetExp(t),this.onDrop(t,t.drop),this.deleteDesEnemy(t),this.checkBossAllDes(t),this.checkPassLevelOrNexRoom(),GEvent.emit(GEventName.Tower.Task,v.DeathTowerTaksType.DAILYKILL)},e.prototype.checkPassLevelOrNexRoom=function(){this.checkRoomEnemyIfAllDes()&&(s.default.LastRoom?(console.log("\u8fc7\u5173, \u6863\u671f",s.default.curChapter,"-"+s.default.curLevel),this.onGameEnd(_.PassLevelType.PASS)):this.onPassTowerLayer())},e.prototype.onPassTowerLayer=function(){var t=this;y.default.instance.open(1e3,1,function(){s.default.openDoor=!0,s.default.PassCurLayer=!0,t.viewEntity.Hero.State=u.default.IDLE,GAudio.stopEffect(),t.viewEntity.onOpenTowerScoreProView(),GEvent.emit(GEventName.Tower.Task,v.DeathTowerTaksType.DAILYWIN)},this)},e.prototype.onDrop=function(t,e){var n=s.default.GetOneDrop(t,e);n&&this.onCreatOneDrop(t.GetPosition,n,t.FrontDirect)},e.prototype.onGetExp=function(t){var e=h.default.GetPlayerAttributeInNormalGame().exp_ratio;E.default.instance.Exp+=t.Exp*e},e.prototype.checkBossAllDes=function(t){t.isBoss&&(s.default.boss_count-=1,s.default.boss_count<=0&&this.onKillAllEnemy())},e.prototype.onKillAllEnemy=function(){this.enemys.forEach(function(t){var e=t.getComponent(p.default);e.Hp-=e.MaxHp})},e.prototype.onGameEnd=function(t){s.default.gameend(t),this.viewEntity.onOpenCombatScoreView()},e.prototype.onDoubleHitEvent=function(t){t>s.default.max_combo&&(s.default.max_combo=t)},e.prototype.onGameFailedEvent=function(){s.default.gamefailed()},e.prototype.onCreatOneDrop=function(t,e,n){void 0===n&&(n=cc.v3(1,0)),console.log("_dropdata",e);var i=l.default.Create();return i.node.parent=this.viewEntity.dropNode,i.CreatDrop(e,t,n),s.default.dropList.push(i),i.node},e.prototype.onGetDrop=function(t){this.deleteDorp(t)},e.prototype.deleteDorp=function(t){for(var e=0;e<s.default.dropList.length;e++)if(s.default.dropList[e].node.uuid==t.node.uuid){s.default.dropList.splice(e,1);break}},e.prototype.deleteDesEnemy=function(t){for(var e=0;e<this.enemys.length;e++)if(this.enemys[e].uuid==t.node.uuid){D.default.instance.pushItemPoolNode(D.PoolKeys.Enemy,this.enemys[e]),this.enemys.splice(e,1),s.default.enemy_count-=1;break}},e.prototype.deleteDesAllEnemy=function(){for(var t=M.default.copyArr(this.enemys),e=0;e<t.length;e++)t[e].getComponent(p.default).onZJDie(),D.default.instance.pushItemPoolNode(D.PoolKeys.Enemy,t[e]);this.enemys=[],s.default.enemy_count=0},e.prototype.onDestroyDataEvent=function(){s.default.destroyAllData(),D.default.instance.destroyAllPool(),y.default.getInstance().closeByTarget(this),P.default.instance.closeShortCall(),GAudio.stopEffect()},e.prototype.onHeroGetExpEvent=function(){s.default.playerHero.Exp=E.default.instance.Exp},e.prototype.onHeroLvUpEvent=function(){s.default.playerHero.Lv=E.default.instance.LV,s.default.playerHero.updateAttributedata(h.default.GetPlayerAttributeInNormalGame()),GAudio.playEffect(S.default.heroUpgrade),f.default.Create().onInit(this.viewEntity.Hero)},e.prototype.onCreatObjectSummonEvent=function(t,e){var n=s.default.roomData;if(5==k.default.instance.EnemyData(s.default.LvHard)[t].type);else{var i=c.default.Init.CreatOneEnmey(s.default.LvHard,t,e,n.mon_hp_ratio,n.mon_def_ratio,n.mon_atk_ratio,s.default.coin_ratio,this.viewEntity.GameNode);this.enemys.push(i)}this.enemys.length>0&&(s.default.openDoor=!1)},e.prototype.onTowerNextLayerEvent=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.onNexRoomEvent(),this.onAddHeroPro(t,e)},e.prototype.onAddHeroPro=function(t,e){switch(t){case b.TowerSelectproType.ATK:this.viewEntity.Hero.ExtraAtk+=e;break;case b.TowerSelectproType.CRI:this.viewEntity.Hero.ExtraCri+=e;break;case b.TowerSelectproType.CRIDAMAGE:this.viewEntity.Hero.ExtraCridanage+=e;break;case b.TowerSelectproType.DEF:this.viewEntity.Hero.ExtraDef+=e;break;case b.TowerSelectproType.HP:this.viewEntity.Hero.ExtraHp+=e}},e.prototype.onReleaseJuxingEvent=function(t){void 0===t&&(t=1),GEvent.emit(GEventName.CombatEvents.AdTimeScale,.1);var e=t;1==t&&T.default.instance.getEquipMJSkillSkin()&&(e=2),this.viewEntity.CombatUIManger.onShowJueXing(e,function(){GEvent.emit(GEventName.CombatEvents.AdTimeScale,1)})},e.prototype.onTowerTaskEvent=function(t,e){void 0===e&&(e=1),I.default.instance.sendTaskSucPro(t,e)},e.prototype.onReleaseCombatAssets=function(){var t=[];t.push.apply(t,s.default.combattileList),k.default.instance.releaseAsset(t),s.default.combattileList=[]},e.prototype.checkOnOpenDooe=function(){},e.prototype.checkRoomEnemyIfAllDes=function(){return this.enemys.length<=0},e}(g.default);a.default=L,cc._RF.pop()},{}],TowerGameModel:[function(t,e,n){"use strict";cc._RF.push(e,"ea8d2al4ndD3aQH1YQdct3h","TowerGameModel");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],TowerGameScene:[function(t,e,n){"use strict";cc._RF.push(e,"70e39WOyp5HlKFDxeEBalUS","TowerGameScene");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("Hero"),u=o("CameraManger"),p=o("CombatGameData"),d=o("CombatUIManger"),f=o("TowerGameModel"),h=o("TowerGameCtrl"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=t.call(this)||this;return e.MainCamera=null,e.CombatUIPre=null,e.GameNode=null,e.Hero=null,e.doorNode=null,e.CombatUIManger=null,e.EffNode=null,e.dropNode=null,e}return r(e,t),e.prototype.onInit=function(){this.setModel(new f.default),this.setController(new h.default)},e.prototype.onUILoad=function(){this.EffNode=this.getNode("Layaer/layaer6/effparetn"),this.dropNode=this.getNode("Layaer/layaer6/dropparent")},e.prototype.onUIStart=function(){this.MainCamera=cc.find("Canvas/MainCamera"),!this.MainCamera.getComponent(u.default)&&this.MainCamera.addComponent(u.default),!this.CombatUIManger&&this.onCreatorUI(),this.controller.OnStartGame()},e.prototype.onUIEnable=function(){this.registerEvent()},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.onCreatorUI=function(){var t=cc.instantiate(this.CombatUIPre);t.parent=this.node,t.active=!1,this.CombatUIManger=t.getComponent(d.default)},e.prototype.registerEvent=function(){GEvent.on(GEventName.CombatEvents.EnemyStartDie,this.onEnemyStartDieEvent,this),GEvent.on(GEventName.CombatEvents.EnemyDie,this.onCheckEnemyDieEvent,this),GEvent.on(GEventName.CombatEvents.Pause,this.onPauseEvent,this),GEvent.on(GEventName.CombatEvents.Recover,this.onRecoverEvent,this),GEvent.on(GEventName.CombatEvents.Revive,this.onReviveEvent,this),GEvent.on(GEventName.CombatEvents.PlayerDie,this.onPlayDieEvent,this),GEvent.on(GEventName.CombatEvents.DoubleHit,this.onDoubleHitEvent,this),GEvent.on(GEventName.CombatEvents.HitEnemy,this.onHitEnemyEvent,this),GEvent.on(GEventName.CombatEvents.GameFailed,this.onGameFailedEvent,this),GEvent.on(GEventName.CombatEvents.DestroyData,this.onDestroyDataEvent,this),GEvent.on(GEventName.CombatEvents.CreatObjectSummon,this.onCreatObjectSummonEvent,this),GEvent.on(GEventName.CombatEvents.ReleaseJuxing,this.onReleaseJuxingEvent,this),GEvent.on(GEventName.CombatEvents.onGetDrop,this.onGetDropEvent,this),GEvent.on(GEventName.CombatEvents.CDSuc,this.onCDSucEvent,this),GEvent.on(GEventName.CombatEvents.TowerNextLayer,this.onTowerNextLayerEvent,this),GEvent.on(GEventName.Hero.HeroGetExp,this.onHeroGetExpEvent,this),GEvent.on(GEventName.Hero.HeroLvUp,this.onHeroLvUpEvent,this),GEvent.on(GEventName.Tower.Task,this.onTowerTaskEvent,this)},e.prototype.onCDSucEvent=function(t){Global.TestMode||this.CombatUIManger.skillControl.cdsuc(t)},e.prototype.onPauseEvent=function(){Global.TestMode||this.controller.onPauseEvent()},e.prototype.onRecoverEvent=function(){Global.TestMode||this.controller.onRecoverEvent()},e.prototype.onCheckCanEnterNexRoomEvent=function(){Global.TestMode||this.controller.onNexRoomEvent()},e.prototype.onEnemyStartDieEvent=function(t){Global.TestMode||this.controller.onEnemyStartDieEvent(t)},e.prototype.onCheckEnemyDieEvent=function(t){Global.TestMode||this.controller.onEnemyDieEvent(t)},e.prototype.onReviveEvent=function(){Global.TestMode||this.controller.onReviveEvent()},e.prototype.onPlayDieEvent=function(){Global.TestMode||this.controller.onPlayerDieEvent()},e.prototype.onDoubleHitEvent=function(t){Global.TestMode||(this.CombatUIManger.doublehit&&this.CombatUIManger.doublehit.onShowDoublehit(t),this.controller.onDoubleHitEvent(t))},e.prototype.onGameFailedEvent=function(){Global.TestMode||this.controller.onGameFailedEvent()},e.prototype.onHitEnemyEvent=function(t){Global.TestMode||this.CombatUIManger.HpBarMgr.updateBar(t)},e.prototype.onOpenTowerScoreView=function(){Global.TestMode||this.CombatUIManger.onOpenTowerScoreView()},e.prototype.onOpenCombatScoreView=function(){Global.TestMode||this.CombatUIManger.onOpenCombatScoreView()},e.prototype.onOpenTowerScoreProView=function(){Global.TestMode||this.CombatUIManger.onOpenTowerScoreProView()},e.prototype.onDestroyDataEvent=function(){Global.TestMode||(this.MainCamera.removeComponent(u.default),this.controller.onDestroyDataEvent())},e.prototype.onUpdateDoorPos=function(){var t=this;return new Promise(function(e){t.doorNode.x=p.default.Doorx+300,e(!0)})},e.prototype.onHeroGetExpEvent=function(){Global.TestMode||(this.controller.onHeroGetExpEvent(),this.CombatUIManger.heroUIInfo.rfexp())},e.prototype.onHeroLvUpEvent=function(){Global.TestMode||(this.controller.onHeroLvUpEvent(),this.CombatUIManger.heroUIInfo.rfgrade())},e.prototype.onTowerTaskEvent=function(t,e){void 0===e&&(e=1),this.controller.onTowerTaskEvent(t,e)},e.prototype.onCreatObjectSummonEvent=function(t,e){this.controller.onCreatObjectSummonEvent(t,e)},e.prototype.onReleaseJuxingEvent=function(t){void 0===t&&(t=1),Global.TestMode||this.controller.onReleaseJuxingEvent(t)},e.prototype.onGetDropEvent=function(t){this.controller.onGetDrop(t)},e.prototype.onShowChapterAni=function(t){this.CombatUIManger.showChapterAni(t)},e.prototype.onTowerNextLayerEvent=function(t,e){this.controller.onTowerNextLayerEvent(t,e)},e.prototype.onUIDestroy=function(){this.controller.onReleaseCombatAssets()},e.prototype.onUIUpdate=function(){},e.prototype.getView=function(){return this},e.prototype.onNoticeEvent=function(){},s([m(cc.Node)],e.prototype,"MainCamera",void 0),s([m(cc.Prefab)],e.prototype,"CombatUIPre",void 0),s([m(cc.Node)],e.prototype,"GameNode",void 0),s([m(c.default)],e.prototype,"Hero",void 0),s([m(cc.Node)],e.prototype,"doorNode",void 0),s([g],e)}(l.default);a.default=v,cc._RF.pop()},{}],TowerScoreProView:[function(t,e,n){"use strict";cc._RF.push(e,"bc270Tk0lhOPbZdxaXmSaZI","TowerScoreProView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameData"),c=o("GameCalculate"),u=o("View"),p=o("towerawarditem"),d=o("CurrencyType"),f=o("GameHelper"),h=o("GuideLocalManger"),y=o("TowerDataManager"),g=o("Utils"),m=cc._decorator,v=m.ccclass,_=(m.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreBg1=null,e.scoreBg2=null,e.potPos=[cc.v3(0,-35),cc.v3(0,-105),cc.v3(0,-175)],e.prolist=[],e}return r(e,t),e.prototype.onInit=function(){},e.prototype.initGuide=function(){h.default.instance.getCheckopen16Guide(2)&&h.default.instance.checkopen16Guide()},e.prototype.onUILoad=function(){var t=this;this.scoreBg1=this.getNode("scoreBg1"),this.scoreBg2=this.getNode("scoreBg2"),this.potLayout=this.getNode("potcontent/potLayout"),this.rewaditem=this.getNode("rewadBoxList/towerawarditem"),this.onClick("btn_backmain",function(){f.default.instance.enterGameScene(),t.close()},this),this.onClick("btn_nexlevel",function(){if(l.default.TowerLayerCount>=y.default.MaxTowerCount||y.default.instance.curLayer>=y.default.MaxTowerCount)return f.default.instance.enterGameScene(),Global.onShowTosat("\u540e\u7eed\u5173\u5361\u5236\u4f5c\u4e2d"),void t.close();if(c.default.CanPay(d.CurrencyType.FATIGUE,y.default.FatigueTowerCount)){c.default.Pay(d.CurrencyType.FATIGUE,y.default.FatigueTowerCount);var e=t.potLayout.children[1].type,n=t.potLayout.children[1].xs;GEvent.emit(GEventName.CombatEvents.TowerNextLayer,e,n),t.close()}},this),this.setAnimtion(),this.initGuide()},e.prototype.onUIStart=function(){this.potLayout.on(cc.Node.EventType.TOUCH_START,this.startCallback,this),this.potLayout.on(cc.Node.EventType.TOUCH_MOVE,this.moveCallback,this),this.potLayout.on(cc.Node.EventType.TOUCH_END,this.endCallback,this),this.potLayout.on(cc.Node.EventType.TOUCH_CANCEL,this.endCallback,this),GEvent.emit(GEventName.MSTask.DeathTower,y.default.instance.getMaxpassLayer),this.initPro(),this.initRewad()},e.prototype.initPro=function(){var t=f.default.instance.TowerlayerproData()[l.default.TowerLayerCount];t?t.prolist.length>3&&(this.prolist=g.default.getRandomArrayElements(t.prolist,3),this.rfxianshiPro()):this.potLayout.parent.active=!1},e.prototype.initRewad=function(){var t=f.default.instance.DeathTowerBoxData()[l.default.TowerLayerCount].reward;if(Array.isArray(t)){for(var e in t){var n=cc.instantiate(this.rewaditem);n.parent=this.rewaditem.parent,n.getComponent(p.default).onInit(t[e])}this.rewaditem.destroy()}},e.prototype.rfxianshiPro=function(){var t=this;this.potLayout.children.forEach(function(e,n){var i=f.default.instance.getTowerTypeData(t.prolist[n].type),o=e.getChildByName("icon").getComponent(cc.Sprite),a=e.getChildByName("lb").getComponent(cc.Label);i&&(t.setResSpriteFrame(o,i.darkIcon),a.string=Math.floor(100*t.prolist[n].xs)+"%",e.type=t.prolist[n].type,e.xs=t.prolist[n].xs)})},e.prototype.setAnimtion=function(){cc.tween(this.scoreBg1).repeatForever(cc.tween(this.scoreBg1).by(.2,{angle:5})).start(),cc.tween(this.scoreBg2).repeatForever(cc.tween(this.scoreBg2).by(.2,{angle:-5})).start()},e.prototype.startCallback=function(){},e.prototype.moveCallback=function(t){var e=this.potLayout.children,n=t.getDeltaY();console.log("moveY",n);for(var i=0;i<3;i++)e[i].y+=n;var o=e[0],a=e[2];if(n>0){if(o.y>o.height/2){o.y=a.y-a.height;var r=e.shift();e.push(r),this.ReflashView()}}else a.y<-(this.potLayout.height+a.height/2)&&(a.y=o.y+o.height,r=e.pop(),e.unshift(r),this.ReflashView())},e.prototype.endCallback=function(){for(var t=this.potLayout.children,e=0;e<3;e++){var n=t[e];cc.tween(n).to(.3,{position:this.potPos[e]}).start()}},e.prototype.ReflashView=function(){this.potLayout.children.forEach(function(t,e){var n=t.getChildByName("lb").getComponent(cc.Label);n.fontSize=30,1==e&&(n.fontSize=36)})},s([v],e)}(u.default));a.default=_,cc._RF.pop()},{}],TowerSelectproType:[function(t,e,n){"use strict";cc._RF.push(e,"03a9cM1ER5AboyA9JsUG5L6","TowerSelectproType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.TowerSelectproType=void 0,function(t){t[t.ATK=0]="ATK",t[t.HP=1]="HP",t[t.DEF=2]="DEF",t[t.CRIDAMAGE=3]="CRIDAMAGE",t[t.CRI=4]="CRI"}(i.TowerSelectproType||(i.TowerSelectproType={})),cc._RF.pop()},{}],TowerSweepView:[function(t,e,n){"use strict";cc._RF.push(e,"7ac98nOuclLRJnfUo5pzAIn","TowerSweepView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameData"),u=o("GameHelper"),p=o("BagManager"),d=o("TowerDataManager"),f=o("Admanager"),h=o("Utils"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DesLabel=null,e.cdLabel=null,e.rewardContent=null,e.rewardItem=null,e.sweepBtn=null,e.rawardList=[],e}return r(e,t),e.prototype.onUILoad=function(){if(d.default.instance.getMaxpassLayer<=20)return this.close();this.sweepLayer=10*Math.floor((d.default.instance.getMaxpassLayer-20)/10),d.default.instance.getMaxpassLayer<=40&&(this.sweepLayer=20),this.DesLabel.string="\u53ef\u626b\u8361\u81f3"+this.sweepLayer+"\u5c42",this.cdLabel.string="",this.getTotalReward(),this.setRewardItem()},e.prototype.getTotalReward=function(){for(var t=u.default.instance.DeathTowerBoxData(),e=function(e){for(var i=t[e].reward,o=function(t){var e=!1;if(n.rawardList.forEach(function(n){if(n.id==i[t].id)return e=!0,void(n.count+=i[t].count)}),0==e){var o={id:i[t].id,type:i[t].type,count:i[t].count};n.rawardList.push(o)}},a=0;a<i.length;a++)o(a)},n=this,i=1;i<this.sweepLayer+1;i++)e(i)},e.prototype.setRewardItem=function(){this.rewardContent.removeAllChildren();for(var t=0;t<this.rawardList.length;t++){var e=cc.instantiate(this.rewardItem);e.active=!0,e.parent=this.rewardContent;var n=c.default.ItemData()[this.rawardList[t].id];h.default.loadSpfFromRes(n.icon,e.getChildByName("icon")),e.getChildByName("count").getComponent(cc.Label).string="x"+this.rawardList[t].count,e.getChildByName("name").getComponent(cc.Label).string=n.name}},e.prototype.onBtnSweep=function(){var t=this;d.default.instance.sweepTowerCount<d.default.MaxTowerSweepCount?f.default.instance.playRewardVideo(function(){for(var e=0;e<t.rawardList.length;e++)p.default.Init.AddItems(t.rawardList[e].id,t.rawardList[e].count);d.default.instance.sweepTowerCount++,d.default.instance.sweepVideoTime=Date.now(),d.default.instance.curLayer=t.sweepLayer+1,GEvent.emit(GEventName.Task.WatchVideo),t.close()}):Global.onShowTosat("\u4eca\u65e5\u626b\u8361\u6b21\u6570\u5df2\u7528\u5b8c")},e.prototype.update=function(){-1!=d.default.instance.sweepVideoTime&&d.default.instance.sweepVideoTime&&d.default.instance.sweepVideoTime>0&&(d.default.videoTowerCountDown-(Date.now()-d.default.instance.sweepVideoTime)>0?(this.sweepBtn.interactable=!1,this.cdLabel.string=h.default.formatTime(d.default.videoTowerCountDown-(Date.now()-d.default.instance.sweepVideoTime),"minutes",":")):(d.default.instance.sweepVideoTime=-1,this.sweepBtn.interactable=!0,this.cdLabel.string=""))},s([m(cc.Label)],e.prototype,"DesLabel",void 0),s([m(cc.Label)],e.prototype,"cdLabel",void 0),s([m(cc.Node)],e.prototype,"rewardContent",void 0),s([m(cc.Node)],e.prototype,"rewardItem",void 0),s([m(cc.Button)],e.prototype,"sweepBtn",void 0),s([g],e)}(l.default);a.default=v,cc._RF.pop()},{}],TowerTaskMgr:[function(t,e,n){"use strict";cc._RF.push(e,"b9107SIM3hMA5XbaAuzHmGY","TowerTaskMgr");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("TowerDataManager"),r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.sendTaskSucPro=function(t,e){void 0===e&&(e=1),a.default.instance.sendZDTaskSucPro(t,e)},t._instance=null,t}();o.default=r,cc._RF.pop()},{}],ToxicityGameCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"3aa76ch79pN16vPqzZCsZAI","ToxicityGameCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("CombatGameData"),l=o("DropItem"),c=o("EnemeyManager"),u=o("StateId"),p=o("BaseHero"),d=o("lastBossEff"),f=o("ReviveEff"),h=o("GameCalculate"),y=o("TimeEngine"),g=o("Controller"),m=o("SceneConfig"),v=o("DeathTowerTaksType"),_=o("LvType"),b=o("PassLevelType"),k=o("TowerSelectproType"),S=o("GameHelper"),w=o("GameCfgData"),T=o("BagManager"),C=o("FashionSkinDataManger"),D=o("CameraManger"),E=o("PoolManager"),I=o("RoleCfgManager"),P=o("TowerTaskMgr"),M=o("VibrateManger"),L=o("Utils"),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemys=[],e.builds=[],e.AllRunningActions=[],e}return r(e,t),e.prototype.onInit=function(){window.ToxicityGameCtrl=this,this.viewEntity=this.view,this.viewEntity.init,this.onAddEvent()},e.prototype.onAddEvent=function(){console.log("add Event")},e.prototype.testInit=function(t){this.viewEntity=t},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){this.OnStartGame()},e.prototype.OnStartGame=function(){var t=this;s.default.init(),s.default.gameScene=this.viewEntity.GameNode,s.default.EffNode=this.viewEntity.EffNode,s.default.MainCamera=this.viewEntity.MainCamera.getComponent(cc.Camera),Global.TestMode?E.default.instance.init():(this.sceneMgr().show(m.default.Scenes.Wait1Scene),E.default.instance.init().then(function(){Promise.all([t.onInitHero()]).then(function(){t.sceneMgr().hide(m.default.Scenes.Wait1Scene),t.onLvTypeInit(),t.onCreatorRoomEnemy(),t.viewEntity.MainCamera.getComponent(D.default).init(t.viewEntity.Hero),t.viewEntity.CombatUIManger.onInit(),t.viewEntity.onUpdateDoorPos().then(function(){t.onDoorLine()}),M.default.instance.openShortCall(),GEvent.emit(GEventName.Tower.Task,v.DeathTowerTaksType.DAILYINTO)}).catch(function(t){console.log(t)})}).catch(function(t){console.error(t)}))},e.prototype.onInitHero=function(){var t=this;return new Promise(function(e,n){var i=L.default.clone(S.default.instance.HeroData()[w.default.playerId]);i.weaponurl=T.default.Init.getHeroWeapon(),t.viewEntity.Hero.LoadSk(w.default.playerId,i).then(function(){t.onInitHeroSkill(),e(!0)}).catch(function(t){console.error(t),n(t)})})},e.prototype.onInitHeroSkill=function(){T.default.Init.GetOpenHeroExtraSkill8()?this.viewEntity.CombatUIManger.skillControl.MOJian_SKILL.active=!0:this.viewEntity.CombatUIManger.skillControl.MOJian_SKILL.active=!1},e.prototype.onDoorLine=function(){var t=this.viewEntity.doorNode.getChildByName("poi1"),e=this.viewEntity.doorNode.getChildByName("poi2");s.default.doorPoi1=this.viewEntity.GameNode.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v3(0,0))),s.default.doorPoi2=this.viewEntity.GameNode.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v3(0,0)))},e.prototype.onNexRoomEvent=function(){s.default.openDoor&&(s.default.roomcount++,s.default.openDoor=!1,s.default.PassCurLayer=!1,this.viewEntity.onUpdateDoorPos(),this.onDoorLine(),this.onClearBuilds(),this.viewEntity.MainCamera.position=cc.v3(0,0),s.default.LastRoom&&(this.viewEntity.doorNode.active=!1),this.onCreatorRoomEnemy())},e.prototype.onClearBuilds=function(){this.builds.forEach(function(t){t.getComponent(p.default).onRecycle(),E.default.instance.pushItemPoolNode(E.PoolKeys.Enemy,t)}),this.builds=[]},e.prototype.onCreatorRoomEnemy=function(){var t,e,n=s.default.MapData.room[0];if(n.is_boss){s.default.cur_is_bossroom=!0;var i=c.default.Init.CreatBoss(s.default.LvHard,n.boss,n.boss_hp_ratio,n.boss_def_ratio,n.boss_atk_ratio,s.default.coin_ratio,this.viewEntity.GameNode);s.default.boss_count=i.length,(t=this.enemys).push.apply(t,i)}n.builder&&(this.builds=c.default.Init.CreatBuilder(s.default.LvHard,n.builder,this.viewEntity.GameNode));var o=c.default.Init.CreatEnemey(s.default.LvHard,n.enemy,n.x,n.y,n.is_boss,n.mon_hp_ratio,n.mon_def_ratio,n.mon_atk_ratio,s.default.coin_ratio,this.viewEntity.GameNode);(e=this.enemys).push.apply(e,o),s.default.enemy_count+=this.enemys.length,s.default.enemystartdie_count=s.default.enemy_count},e.prototype.onPauseEvent=function(){s.default.pause=!0,this.pauseAllActions()},e.prototype.onRecoverEvent=function(){s.default.pause=!1,this.resumeActions(),this.onChangeEquipRFHeroInfo(),this.onInitHeroSkill()},e.prototype.pauseAllActions=function(){this.AllRunningActions=cc.director.getActionManager().pauseAllRunningActions()},e.prototype.resumeActions=function(){cc.director.getActionManager().resumeTargets(this.AllRunningActions),this.AllRunningActions=[]},e.prototype.onChangeEquipRFHeroInfo=function(){var t=L.default.clone(S.default.instance.HeroData()[w.default.playerId]);t.weaponurl=T.default.Init.getHeroWeapon(),this.viewEntity.Hero.RFChangeEquip(t)},e.prototype.onReviveEvent=function(){this.viewEntity.Hero.State==u.default.DIE?(f.default.Create().onInit(this.viewEntity.Hero),this.viewEntity.Hero.onReviveEvent()):console.log("\u89d2\u8272\u6ca1\u6709\u6b7b\u4ea1")},e.prototype.onPlayerDieEvent=function(){this.viewEntity.CombatUIManger.onShowRecover()},e.prototype.onEnemyStartDieEvent=function(t){s.default.enemystartdie_count-=1,s.default.enemystartdie_count<=0&&(GEvent.emit(GEventName.CombatEvents.AdTimeScale,.4),d.default.Create().onInit(t),y.default.instance.open(1500,1,function(){GEvent.emit(GEventName.CombatEvents.AdTimeScale,1)},this))},e.prototype.onEnemyDieEvent=function(t){this.onGetExp(t),this.onDrop(t,t.drop),this.deleteDesEnemy(t),this.checkBossAllDes(t),this.checkPassLevelOrNexRoom(),GEvent.emit(GEventName.Tower.Task,v.DeathTowerTaksType.DAILYKILL)},e.prototype.checkPassLevelOrNexRoom=function(){this.checkRoomEnemyIfAllDes()&&(s.default.LastRoom?(console.log("\u8fc7\u5173, \u6863\u671f",s.default.curChapter,"-"+s.default.curLevel),this.onGameEnd(b.PassLevelType.PASS)):this.onPassTowerLayer())},e.prototype.onPassTowerLayer=function(){var t=this;y.default.instance.open(1e3,1,function(){s.default.openDoor=!0,s.default.PassCurLayer=!0,t.viewEntity.Hero.State=u.default.IDLE,GAudio.stopEffect(),t.viewEntity.onOpenTowerScoreProView(),GEvent.emit(GEventName.Tower.Task,v.DeathTowerTaksType.DAILYWIN)},this)},e.prototype.onDrop=function(t,e){var n=s.default.GetOneDrop(t,e);n&&this.onCreatOneDrop(t.GetPosition,n,t.FrontDirect)},e.prototype.onGetExp=function(t){var e=h.default.GetPlayerAttributeInNormalGame().exp_ratio;I.default.instance.Exp+=t.Exp*e},e.prototype.checkBossAllDes=function(t){t.isBoss&&(s.default.boss_count-=1,s.default.boss_count<=0&&this.onKillAllEnemy())},e.prototype.onKillAllEnemy=function(){this.enemys.forEach(function(t){var e=t.getComponent(p.default);e.Hp-=e.MaxHp})},e.prototype.onGameEnd=function(t){s.default.gameend(t),this.viewEntity.onOpenToxicityScoreView()},e.prototype.onDoubleHitEvent=function(t){t>s.default.max_combo&&(s.default.max_combo=t)},e.prototype.onGameFailedEvent=function(){s.default.gamefailed()},e.prototype.onCreatOneDrop=function(t,e,n){void 0===n&&(n=cc.v3(1,0)),console.log("_dropdata",e);var i=l.default.Create();return i.node.parent=this.viewEntity.dropNode,i.CreatDrop(e,t,n),s.default.dropList.push(i),i.node},e.prototype.onGetDrop=function(t){this.deleteDorp(t)},e.prototype.deleteDorp=function(t){for(var e=0;e<s.default.dropList.length;e++)if(s.default.dropList[e].node.uuid==t.node.uuid){s.default.dropList.splice(e,1);break}},e.prototype.deleteDesEnemy=function(t){for(var e=0;e<this.enemys.length;e++)if(this.enemys[e].uuid==t.node.uuid){E.default.instance.pushItemPoolNode(E.PoolKeys.Enemy,this.enemys[e]),this.enemys.splice(e,1),s.default.enemy_count-=1;break}},e.prototype.deleteDesAllEnemy=function(){for(var t=L.default.copyArr(this.enemys),e=0;e<t.length;e++)t[e].getComponent(p.default).onZJDie(),E.default.instance.pushItemPoolNode(E.PoolKeys.Enemy,t[e]);this.enemys=[],s.default.enemy_count=0},e.prototype.onDestroyDataEvent=function(){s.default.destroyAllData(),E.default.instance.destroyAllPool(),y.default.getInstance().closeByTarget(this),M.default.instance.closeShortCall(),GAudio.stopEffect()},e.prototype.onHeroGetExpEvent=function(){s.default.playerHero.Exp=I.default.instance.Exp},e.prototype.onHeroLvUpEvent=function(){s.default.playerHero.Lv=I.default.instance.LV,s.default.playerHero.updateAttributedata(h.default.GetPlayerAttributeInNormalGame()),GAudio.playEffect(w.default.heroUpgrade),f.default.Create().onInit(this.viewEntity.Hero)},e.prototype.onCreatObjectSummonEvent=function(t,e){var n=s.default.roomData;if(5==S.default.instance.EnemyData(s.default.LvHard)[t].type);else{var i=c.default.Init.CreatOneEnmey(s.default.LvHard,t,e,n.mon_hp_ratio,n.mon_def_ratio,n.mon_atk_ratio,s.default.coin_ratio,this.viewEntity.GameNode);this.enemys.push(i)}this.enemys.length>0&&(s.default.openDoor=!1)},e.prototype.onTowerNextLayerEvent=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.onNexRoomEvent(),this.onAddHeroPro(t,e)},e.prototype.onAddHeroPro=function(t,e){switch(t){case k.TowerSelectproType.ATK:this.viewEntity.Hero.ExtraAtk+=e;break;case k.TowerSelectproType.CRI:this.viewEntity.Hero.ExtraCri+=e;break;case k.TowerSelectproType.CRIDAMAGE:this.viewEntity.Hero.ExtraCridanage+=e;break;case k.TowerSelectproType.DEF:this.viewEntity.Hero.ExtraDef+=e;break;case k.TowerSelectproType.HP:this.viewEntity.Hero.ExtraHp+=e}},e.prototype.onReleaseJuxingEvent=function(t){void 0===t&&(t=1),GEvent.emit(GEventName.CombatEvents.AdTimeScale,.1);var e=t;1==t&&C.default.instance.getEquipMJSkillSkin()&&(e=2),this.viewEntity.CombatUIManger.onShowJueXing(e,function(){GEvent.emit(GEventName.CombatEvents.AdTimeScale,1)})},e.prototype.onTowerTaskEvent=function(t,e){void 0===e&&(e=1),P.default.instance.sendTaskSucPro(t,e)},e.prototype.onReleaseCombatAssets=function(){var t=[];t.push.apply(t,s.default.combattileList),S.default.instance.releaseAsset(t),s.default.combattileList=[]},e.prototype.onLvTypeInit=function(){s.default.LvType==_.LvType.Toxicity&&(this.viewEntity.CombatUIManger.onUpdateHuoDongTime(L.default.formatHaomiao(0)),y.default.instance.open(10,-1,this.onHuoDongTime,this))},e.prototype.onHuoDongTime=function(){s.default.LvType==_.LvType.Toxicity&&!s.default.pause&&s.default.onStartGame&&(this.viewEntity.leftDu.x+=.4,this.viewEntity.leftDu.x>=750&&(this.viewEntity.leftDu.x=750),this.viewEntity.rightDu.x-=.4,this.viewEntity.rightDu.x<=2500&&(this.viewEntity.rightDu.x=2500),this.viewEntity.CombatUIManger.onUpdateHuoDongTime(L.default.formatHaomiao((new Date).getTime()-s.default.startgame_time)))},e.prototype.checkOnOpenDooe=function(){},e.prototype.checkRoomEnemyIfAllDes=function(){return this.enemys.length<=0},e}(g.default);a.default=A,cc._RF.pop()},{}],ToxicityGameModel:[function(t,e,n){"use strict";cc._RF.push(e,"c1430/j5whFLI7VHZ9t9Yci","ToxicityGameModel");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],ToxicityGameScene:[function(t,e,n){"use strict";cc._RF.push(e,"89a91Ut4cNCeYSk+npH0icl","ToxicityGameScene");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("Hero"),u=o("CameraManger"),p=o("CombatGameData"),d=o("CombatUIManger"),f=o("ToxicityGameModel"),h=o("ToxicityGameCtrl"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=t.call(this)||this;return e.MainCamera=null,e.CombatUIPre=null,e.GameNode=null,e.Hero=null,e.doorNode=null,e.CombatUIManger=null,e.EffNode=null,e.dropNode=null,e.leftDu=null,e.rightDu=null,e}return r(e,t),e.prototype.onInit=function(){this.setModel(new f.default),this.setController(new h.default)},e.prototype.onUILoad=function(){this.EffNode=this.getNode("Layaer/layaer6/effparetn"),this.dropNode=this.getNode("Layaer/layaer6/dropparent")},e.prototype.onUIStart=function(){this.MainCamera=cc.find("Canvas/MainCamera"),!this.MainCamera.getComponent(u.default)&&this.MainCamera.addComponent(u.default),!this.CombatUIManger&&this.onCreatorUI(),this.controller.OnStartGame()},e.prototype.onUIEnable=function(){this.registerEvent()},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.onCreatorUI=function(){var t=cc.instantiate(this.CombatUIPre);t.parent=this.node,t.active=!1,this.CombatUIManger=t.getComponent(d.default)},e.prototype.registerEvent=function(){GEvent.on(GEventName.CombatEvents.EnemyStartDie,this.onEnemyStartDieEvent,this),GEvent.on(GEventName.CombatEvents.EnemyDie,this.onCheckEnemyDieEvent,this),GEvent.on(GEventName.CombatEvents.Pause,this.onPauseEvent,this),GEvent.on(GEventName.CombatEvents.Recover,this.onRecoverEvent,this),GEvent.on(GEventName.CombatEvents.Revive,this.onReviveEvent,this),GEvent.on(GEventName.CombatEvents.PlayerDie,this.onPlayDieEvent,this),GEvent.on(GEventName.CombatEvents.DoubleHit,this.onDoubleHitEvent,this),GEvent.on(GEventName.CombatEvents.HitEnemy,this.onHitEnemyEvent,this),GEvent.on(GEventName.CombatEvents.GameFailed,this.onGameFailedEvent,this),GEvent.on(GEventName.CombatEvents.DestroyData,this.onDestroyDataEvent,this),GEvent.on(GEventName.CombatEvents.CreatObjectSummon,this.onCreatObjectSummonEvent,this),GEvent.on(GEventName.CombatEvents.ReleaseJuxing,this.onReleaseJuxingEvent,this),GEvent.on(GEventName.CombatEvents.onGetDrop,this.onGetDropEvent,this),GEvent.on(GEventName.CombatEvents.CDSuc,this.onCDSucEvent,this),GEvent.on(GEventName.CombatEvents.TowerNextLayer,this.onTowerNextLayerEvent,this),GEvent.on(GEventName.Hero.HeroGetExp,this.onHeroGetExpEvent,this),GEvent.on(GEventName.Hero.HeroLvUp,this.onHeroLvUpEvent,this),GEvent.on(GEventName.Tower.Task,this.onTowerTaskEvent,this)},e.prototype.onCDSucEvent=function(t){Global.TestMode||this.CombatUIManger.skillControl.cdsuc(t)},e.prototype.onPauseEvent=function(){Global.TestMode||this.controller.onPauseEvent()},e.prototype.onRecoverEvent=function(){Global.TestMode||this.controller.onRecoverEvent()},e.prototype.onCheckCanEnterNexRoomEvent=function(){Global.TestMode||this.controller.onNexRoomEvent()},e.prototype.onEnemyStartDieEvent=function(t){Global.TestMode||this.controller.onEnemyStartDieEvent(t)},e.prototype.onCheckEnemyDieEvent=function(t){Global.TestMode||this.controller.onEnemyDieEvent(t)},e.prototype.onReviveEvent=function(){Global.TestMode||this.controller.onReviveEvent()},e.prototype.onPlayDieEvent=function(){Global.TestMode||this.controller.onPlayerDieEvent()},e.prototype.onDoubleHitEvent=function(t){Global.TestMode||(this.CombatUIManger.doublehit&&this.CombatUIManger.doublehit.onShowDoublehit(t),this.controller.onDoubleHitEvent(t))},e.prototype.onGameFailedEvent=function(){Global.TestMode||this.controller.onGameFailedEvent()},e.prototype.onHitEnemyEvent=function(t){Global.TestMode||this.CombatUIManger.HpBarMgr.updateBar(t)},e.prototype.onOpenToxicityScoreView=function(){Global.TestMode||this.CombatUIManger.onOpenToxicityScoreView()},e.prototype.onOpenCombatScoreView=function(){Global.TestMode||this.CombatUIManger.onOpenCombatScoreView()},e.prototype.onOpenTowerScoreProView=function(){Global.TestMode||this.CombatUIManger.onOpenTowerScoreProView()},e.prototype.onDestroyDataEvent=function(){Global.TestMode||(this.MainCamera.removeComponent(u.default),this.controller.onDestroyDataEvent())},e.prototype.onUpdateDoorPos=function(){var t=this;return new Promise(function(e){t.doorNode.x=p.default.Doorx+300,e(!0)})},e.prototype.onHeroGetExpEvent=function(){Global.TestMode||(this.controller.onHeroGetExpEvent(),this.CombatUIManger.heroUIInfo.rfexp())},e.prototype.onHeroLvUpEvent=function(){Global.TestMode||(this.controller.onHeroLvUpEvent(),this.CombatUIManger.heroUIInfo.rfgrade())},e.prototype.onTowerTaskEvent=function(t,e){void 0===e&&(e=1),this.controller.onTowerTaskEvent(t,e)},e.prototype.onCreatObjectSummonEvent=function(t,e){this.controller.onCreatObjectSummonEvent(t,e)},e.prototype.onReleaseJuxingEvent=function(t){void 0===t&&(t=1),Global.TestMode||this.controller.onReleaseJuxingEvent(t)},e.prototype.onGetDropEvent=function(t){this.controller.onGetDrop(t)},e.prototype.onShowChapterAni=function(t){this.CombatUIManger.showChapterAni(t)},e.prototype.onTowerNextLayerEvent=function(t,e){this.controller.onTowerNextLayerEvent(t,e)},e.prototype.onUIDestroy=function(){this.controller.onReleaseCombatAssets()},e.prototype.onUIUpdate=function(){},e.prototype.getView=function(){return this},e.prototype.onNoticeEvent=function(){},s([m(cc.Node)],e.prototype,"MainCamera",void 0),s([m(cc.Prefab)],e.prototype,"CombatUIPre",void 0),s([m(cc.Node)],e.prototype,"GameNode",void 0),s([m(c.default)],e.prototype,"Hero",void 0),s([m(cc.Node)],e.prototype,"doorNode",void 0),s([m(cc.Node)],e.prototype,"leftDu",void 0),s([m(cc.Node)],e.prototype,"rightDu",void 0),s([g],e)}(l.default);a.default=v,cc._RF.pop()},{}],TripleExpDataManger:[function(t,e,n){"use strict";cc._RF.push(e,"21aab9xRBBNJqXHTUpc5Hwx","TripleExpDataManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Utils"),r=i("GameStatsManager"),s=i("ServerCommonCfgMgr"),l=function(){function t(){this.DayMaxCount=3,this.adGetCount=6,this.isSelectTExp=!1}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.TripleExpData=t,s.default.getLoginTime().then(function(t){t&&a.default.doubleTimestampEqualDay(t,r.default.instance.lastLoginTime)&&(e.DayCount=e.DayMaxCount)})},Object.defineProperty(t.prototype,"DayCount",{get:function(){return this.TripleExpData.dayCount},set:function(t){this.TripleExpData.dayCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"AdCount",{get:function(){return this.TripleExpData.adCount},set:function(t){this.TripleExpData.adCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsSelectTExp",{get:function(){return this.isSelectTExp},set:function(t){this.isSelectTExp=t},enumerable:!1,configurable:!0}),t.prototype.addVideoCount=function(){this.AdCount+=this.adGetCount},t.prototype.CanUseTripleExp=function(){return this.DayCount>=0&&this.AdCount>=0&&this.DayCount+this.AdCount>0},t.prototype.UseTripleExp=function(){return this.DayCount>0?(this.DayCount--,!0):this.AdCount>0&&(this.AdCount--,!0)},t.prototype.CalculatePlayerAttribute=function(t){return this.IsSelectTExp&&(t.exp_ratio+=3),t},t}();o.default=l,cc._RF.pop()},{}],UIWidget:[function(t,e,n){"use strict";cc._RF.push(e,"c6dddfpz+1FZYH9Ts8H1gsb","UIWidget");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("LogManager"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){var e=t.call(this)||this;return e.LoadResList=[],e}return r(e,t),e.prototype.onLoad=function(){this.onUILoad()},e.prototype.start=function(){this.onUIStart()},e.prototype.onEnable=function(){this.onUIEnable()},e.prototype.onDisable=function(){this.onUIDisable()},e.prototype.onDestroy=function(){this.onUIDestroy()},e.prototype.update=function(t){this.onUIUpdate(t)},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onUILoad=function(){},e.prototype.onUIEnable=function(){},e.prototype.onUIStart=function(){},e.prototype.onUIDisable=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onUIUpdate=function(){},e.prototype.onTouchStart=function(){},e.prototype.onTouchMove=function(){},e.prototype.onTouchCancel=function(){},e.prototype.onTouchEnd=function(){},e.prototype.hide=function(){this.node.active=!1},e.prototype.show=function(){this.node.active=!0},e.prototype.addChild=function(t,e,n){this.node.addChild(t,e,n)},e.prototype.isVisible=function(){return this.node.active},e.prototype.runAction=function(t){return this.node.runAction(t)},e.prototype.stopAction=function(t){this.node.stopAction(t)},e.prototype.stopActionByTag=function(t){this.node.stopActionByTag(t)},e.prototype.pauseAllActions=function(){this.node.pauseAllActions()},e.prototype.stopAllActions=function(){this.node.stopAllActions()},e.prototype.getCamera=function(){return cc.Camera.findCamera(this.node)},e.prototype.getNode=function(t){try{for(var e=this.node,n=t.split("/"),i=(t=null,0),o=n;i<o.length;i++){t=o[i];var a=e.getChildByName(t);a&&(e=a)}if(e==this.node)throw Error("cant find node");if(e.name!==t)throw Error("cant find node");return e}catch(c){return l.default.error("UIWidget -> getNode("+t+") error: "+c.message+"."),null}},e.prototype.isNodeExists=function(t){try{for(var e=this.node,n=t.split("/"),i=null,o=0,a=n;o<a.length;o++){i=a[o];var r=e.getChildByName(i);r&&(e=r)}if(e==this.node)throw Error("cant find node");if(e.name!==i)throw Error("cant find node");return!0}catch(c){return!1}},e.prototype.getLabel=function(t){try{return this.getNode(t).getComponent(cc.Label)}catch(e){return l.default.error("UIWidget -> getLabel("+t+") error: "+e.message+"."),null}},e.prototype.getLabelOutline=function(t){try{return this.getNode(t).getComponent(cc.LabelOutline)}catch(e){return l.default.error("UIWidget -> getLabelOutline("+t+") error: "+e.message+"."),null}},e.prototype.getLabelShadow=function(t){try{return this.getNode(t).getComponent(cc.LabelShadow)}catch(e){return l.default.error("UIWidget -> getLabelShadow("+t+") error: "+e.message+"."),null}},e.prototype.getButton=function(t){try{return this.getNode(t).getComponent(cc.Button)}catch(e){return l.default.error("UIWidget -> getButton("+t+") error: "+e.message+"."),null}},e.prototype.getSprite=function(t){try{return this.getNode(t).getComponent(cc.Sprite)}catch(e){return l.default.error("UIWidget -> getSprite("+t+") error: "+e.message+"."),null}},e.prototype.getRichText=function(t){try{return this.getNode(t).getComponent(cc.RichText)}catch(e){return l.default.error("UIWidget -> getRichText("+t+") error: "+e.message+"."),null}},e.prototype.getParticleSystem=function(t){try{return this.getNode(t).getComponent(cc.ParticleSystem)}catch(e){return l.default.error("UIWidget -> getParticleSystem("+t+") error: "+e.message+"."),null}},e.prototype.getTiledMap=function(t){try{return this.getNode(t).getComponent(cc.TiledMap)}catch(e){return l.default.error("UIWidget -> getTiledMap("+t+") error: "+e.message+"."),null}},e.prototype.getLayout=function(t){try{return this.getNode(t).getComponent(cc.Layout)}catch(e){return l.default.error("UIWidget -> getLayout("+t+") error: "+e.message+"."),null}},e.prototype.getScrollView=function(t){try{return this.getNode(t).getComponent(cc.ScrollView)}catch(e){return l.default.error("UIWidget -> getScrollView("+t+") error: "+e.message+"."),null}},e.prototype.getPageView=function(t){try{return this.getNode(t).getComponent(cc.PageView)}catch(e){return l.default.error("UIWidget -> getPageView("+t+") error: "+e.message+"."),null}},e.prototype.getProgressBar=function(t){try{return this.getNode(t).getComponent(cc.ProgressBar)}catch(e){return l.default.error("UIWidget -> getProgressBar("+t+") error: "+e.message+"."),null}},e.prototype.getEditBox=function(t){try{return this.getNode(t).getComponent(cc.EditBox)}catch(e){return l.default.error("UIWidget -> getEditBox("+t+") error: "+e.message+"."),null}},e.prototype.setEditBoxString=function(t,e){try{this.getEditBox(t).string=e}catch(a){l.default.error("UIWidget -> setEditBoxString("+t+", "+e+") error: "+a.message+".")}},e.prototype.getSlider=function(t){try{return this.getNode(t).getComponent(cc.Slider)}catch(e){return l.default.error("UIWidget -> getSlider("+t+") error: "+e.message+"."),null}},e.prototype.getToggle=function(t){try{return this.getNode(t).getComponent(cc.Toggle)}catch(e){return l.default.error("UIWidget -> getToggle("+t+") error: "+e.message+"."),null}},e.prototype.getToggleGroup=function(t){try{return this.getNode(t).getComponent(cc.ToggleGroup)}catch(e){return l.default.error("UIWidget -> getToggleGroup("+t+") error: "+e.message+"."),null}},e.prototype.getVideoPlayer=function(t){try{return this.getNode(t).getComponent(cc.VideoPlayer)}catch(e){return l.default.error("UIWidget -> getVideoPlayer("+t+") error: "+e.message+"."),null}},e.prototype.getWebView=function(t){try{return this.getNode(t).getComponent(cc.WebView)}catch(e){return l.default.error("UIWidget -> getWebView("+t+") error: "+e.message+"."),null}},e.prototype.getMotionStreak=function(t){try{return this.getNode(t).getComponent(cc.MotionStreak)}catch(e){return l.default.error("UIWidget -> getMotionStreak("+t+") error: "+e.message+"."),null}},e.prototype.getMask=function(t){try{return this.getNode(t).getComponent(cc.Mask)}catch(e){return l.default.error("UIWidget -> getMask("+t+") error: "+e.message+"."),null}},e.prototype.getAudioSource=function(t){try{return this.getNode(t).getComponent(cc.AudioSource)}catch(e){return l.default.error("UIWidget -> getAudioSource("+t+") error: "+e.message+"."),null}},e.prototype.getDragonBones=function(t){try{return this.getNode(t).getComponent(dragonBones.ArmatureDisplay)}catch(e){return l.default.error("UIWidget -> getDragonBones("+t+") error: "+e.message+"."),null}},e.prototype.getSpineSkeleton=function(t){try{return this.getNode(t).getComponent(sp.Skeleton)}catch(e){return l.default.error("UIWidget -> getSpineSkeleton("+t+") error: "+e.message+"."),null}},e.prototype.setLabelString=function(t,e){try{this.getLabel(t).string=e}catch(a){l.default.error("UIWidget -> setLabelString("+t+", "+e+") error: "+a.message+".")}},e.prototype.setSkeletonAd=function(t,e,n,i){return void 0===n&&(n="default"),new Promise(function(o,a){try{cc.resources.load(e,sp.SkeletonData,function(e,r){e?a(e):(t.skeletonData=r,t.setSkin(n),i&&i(),o(!0))})}catch(c){l.default.error("UIWidget -> setLabelString("+c+", "+c+") error: "+c.message+".")}})},e.prototype.getLabelString=function(t){try{return this.getLabel(t).string||""}catch(e){l.default.error("UIWidget -> getLabelString("+t+") error: "+e.message+".")}return""},e.prototype.setImageUrl=function(t,e){if(null==e||null==e||-1==e.search(/http/i))return!1;try{var n=this.getSprite(t);cc.assetManager.loadRemote(e,function(i,o){try{if(i)throw Error("download fail");n.spriteFrame=new cc.SpriteFrame(o)}catch(s){l.default.error("UIWidget -> setImageUrl("+t+", "+e+") error: "+s.message+".")}})}catch(i){l.default.error("UIWidget -> setImageUrl("+t+", "+e+") error: "+i.message+".")}return!0},e.prototype.setResSpriteFrame=function(t,e,n){if(null==e||null==e)return!1;try{t.__SPRITE_FRAME_URL__=e,cc.resources.load(e,cc.SpriteFrame,function(i,o){try{if(i||!t.isValid)return;if(t.__SPRITE_FRAME_URL__!==e)return;t.spriteFrame=o,n&&n()}catch(s){l.default.error("UIWidget -> setResSpriteFrame("+e+") error: "+s.message+".")}})}catch(i){l.default.error("UIWidget -> setResSpriteFrame("+e+") error: "+i.message+".")}return!0},e.prototype.setVisible=function(t,e){try{this.getNode(t).active=e}catch(a){l.default.error("UIWidget -> setVisible("+t+", "+e+") error: "+a.message+".")}},e.prototype.setColor=function(t,e){try{this.getNode(t).color=e}catch(a){l.default.error("UIWidget -> setColor("+t+", "+e+") error: "+a.message+".")}},e.prototype.loadDomRemoteTexture=function(t){return new Promise(function(e){var n=new Image;n.onload=function(){try{var t=new cc.Texture2D;return t.initWithElement(n),t.handleLoadedTexture(),e(t)}catch(i){return e(null)}},n.onerror=function(){return e(null)},n.src=t})},e.prototype.onClick=function(t,e,n,i){void 0===i&&(i="button_click");try{var o=null;(o="string"==typeof t?this.getNode(t):t).getComponent(cc.Button)||o.addComponent(cc.Button),o.getComponent(cc.Button).interactable=!0,i?o.on("click",function(t){e.call(n,t)},n):o.on("click",e,n)}catch(c){var a;return a="string"==typeof t?t:t.name,l.default.error("UIWidget -> onBtnClick("+a+", "+e+") error: "+c.message+"."),!1}return!0},e.prototype.offClick=function(t){try{var e=null;(e="string"==typeof t?this.getNode(t):t).getComponent(cc.Button)||e.addComponent(cc.Button),e.getComponent(cc.Button).interactable=!1,e.off("click")}catch(i){var n;return n="string"==typeof t?t:t.name,l.default.error("UIWidget -> onBtnClick("+n+", "),!1}return!0},e.prototype.onToggle=function(t,e,n,i){void 0===i&&(i="button_click");try{var o=null;o="string"==typeof t?this.getNode(t):t,i?o.on("toggle",function(t){e.call(n,t)},n):o.on("toggle",e,n)}catch(c){var a;return a="string"==typeof t?t:t.name,l.default.error("UIWidget -> onToggleClick("+a+", "+e+") error: "+c.message+"."),!1}return!0},e.prototype.getNodeComponent=function(t,e){try{return this.getNode(t).getComponent(e)}catch(a){return l.default.error("UIWidget -> getNodeComponent("+t+") error: "+a.message+"."),null}},e.prototype.initAnimation=function(t){t.scale=0,cc.tween(t).by(.25,{scale:1},{easing:"quadOut"}).start()},e.prototype.initAnileft=function(t){t.position=cc.v3(2e3,0),cc.tween(t).delay(1).to(.5,{position:cc.v3(0,0)},{easing:"quadOut"}).start()},e.prototype.releaseAsset=function(t){Array.isArray(t)?(t.forEach(function(t){t.decRef()}),t=[]):t.decRef()},s([u],e)}(cc.Component));a.default=p,cc._RF.pop()},{}],UnLockSkillType:[function(t,e,n){"use strict";cc._RF.push(e,"36a37+oPptHvaip6RBVvzNm","UnLockSkillType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.UnLockSkillType=void 0,function(t){t[t.NONE=0]="NONE",t[t.SKILL=1]="SKILL",t[t.MAP=2]="MAP"}(i.UnLockSkillType||(i.UnLockSkillType={})),cc._RF.pop()},{}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"fdb25SBychApLPv4Nuph8N6","Utils");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.NumberUnit=function(e){if((e=Math.floor(e))<1e5)return e+"";for(var n=0;e>1e3;)e/=1e3,n++;return n>=t.NumberUnitStr.length&&(n=t.NumberUnitStr.length-1),e.toFixed(2)+t.NumberUnitStr[n]},t.GUID=function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.getTimestamp=function(){return(new Date).getTime()},t.RandomString=function(t){t=t||32;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789",n=e.length,i="",o=0;o<t;o++)i+=e.charAt(Math.floor(Math.random()*n));return i},t.shuffle=function(t){for(var e,n=t.length;n;){var i=Math.floor(Math.random()*n--);e=[t[n],t[i]],t[i]=e[0],t[n]=e[1]}return t},t.getRandomArrayElements=function(t,e){for(var n,i,o=t.slice(0),a=t.length,r=a-e;a-- >r;)n=o[i=Math.floor((a+1)*Math.random())],o[i]=o[a],o[a]=n;return o.slice(r)},t.doubleTimestampEqualDay=function(t,e){var n=new Date(parseInt(t)),i=new Date(parseInt(e));return n.getYear()!=i.getYear()||n.getMonth()!=i.getMonth()||n.getDate()!=i.getDate()},t.getRemainderTime=function(t){var e=new Date(t.replace(/-/g,"/")),n=new Date,i=parseInt((n.getTime()-e.getTime())/1e3),o=Math.floor(i/86400/365);i%=31536e3;var a=Math.floor(i/86400/30);i%=2592e3;var r=Math.floor(i/86400);i%=86400;var s=Math.floor(i/3600);return i%=3600,o+","+a+","+r+","+s+","+Math.floor(i/60)+","+i%60},t.tmonday=function(t){var e=new Date(t),n=e.getDay(),i=e.getDate();return 0===n&&(n=7),e.setDate(i-n+1),e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()},t.iSameWeek=function(t,e){var n=new Date;n.setTime(t);var i=new Date;return i.setTime(e),this.tmonday(n)===this.tmonday(i)},t.doubleTimestampEqualDay1=function(t,e){var n=new Date(new Date(e).setHours(24,0,0,0)).getTime();return new Date(new Date(t).setHours(24,0,0,0)).getTime()<n},t.loadSpfFromRes=function(t,e){return new Promise(function(n,i){cc.resources.load(t,cc.SpriteFrame,function(o,a){if(o)return console.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25",t),void i(o);(e instanceof cc.Node?e.getComponent(cc.Sprite):e).spriteFrame=a,n(a)})})},t.randomByWeight=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];var i=Math.random()*e,o=0;for(n=0;n<t.length;n++)if(i<=(o+=t[n]))return n;return 0},t.clone=function(t){return JSON.parse(JSON.stringify(t))},t.portraitIsNotchScreen=function(){return cc.view.getFrameSize().height/cc.view.getFrameSize().width<.5},t.landscapeIsNotchScreen=function(){return cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5},t.hex2color=function(t){var e=t.replace(/^#?/,"0x"),n=parseInt(e),i=n>>16,o=(65280&n)>>8,a=255&n;return cc.color(i,o,a,255)},t.copyArr=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},t.copyArr_slice=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},t.CreateRegion=function(t){var e=new sp.SkeletonTexture;e.setRealTexture(t);var n=new sp.spine.TextureAtlasPage;n.name=t.name,n.uWrap=sp.spine.TextureWrap.ClampToEdge,n.vWrap=sp.spine.TextureWrap.ClampToEdge,n.texture=e,n.texture.setWraps(n.uWrap,n.vWrap),n.width=t.width,n.height=t.height;var i=new sp.spine.TextureAtlasRegion;return i.page=n,i.width=t.width,i.height=t.height,i.originalWidth=t.width,i.originalHeight=t.height,i.rotate=!1,i.u=0,i.v=0,i.u2=1,i.v2=1,i.texture=e,i},t.cutWeapone=function(e,n,i){t.changeSpineTexture(e,"wuqi",i)},t.changeSpineTexture=function(t,e,n){var i=this.CreateRegion(n),o=t.findSlot(e).attachment;o.region=i,o.setRegion(i),o.updateOffset(),t.invalidAnimationCache()},t.CreatorNodeSlot=function(t,e,n){t.findSlot("wuqi").color.a=0;var i=this.getAdNode(t,e),o=i.getChildByName("wuqi");o&&o.destroy();var a=new cc.Node;a.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n),a.parent=i,a.position=cc.v3(704.48,17),a.rotation=-90.41,a.scaleX=4.6307,a.scaleY=4.6307,a.name="wuqi"},t.getAdNode=function(t,e){var n=t.attachUtil;return n.generateAllAttachedNodes(),n.getAttachedNodes(e)[0]},t.CutSpinePartSlot=function(e,n){var i=t.CreateRegion(n),o=e.attachment;o.region=i,o.setRegion(i),o.updateOffset()},t.isAllEqual=function(t){return!(t.length>0&&t.some(function(e){return e!==t[0]}))},t.getCirclePoints=function(t,e,n,i){void 0===i&&(i=60);for(var o=[],a=Math.PI/180*Math.round(360/n),r=0;r<n;r++){var s=e.x+t*Math.sin(a*r),l=e.y+t*Math.cos(a*r);o.unshift(cc.v3(s+Math.random()*i,l+Math.random()*i,0))}return o},t.getImageColor=function(t){var e=cc.color();return e.b=t%256,e.g=Math.floor(t/256)%256,e.r=Math.floor(t/256/256),e},t.GetQueryStringRegExp=function(t,e){return new RegExp("(^|\\?|&)"+t+"=([^&]*)(\\s|&|$)","i").test(e)?decodeURIComponent(RegExp.$2.replace(/\+/g," ")):""},t.addButtonAddEventF=function(t,e,n,i,o,a){void 0===o&&(o=null),void 0===a&&(a=cc.Button.Transition.SCALE),t.removeComponent(cc.Button);var r=new cc.Component.EventHandler;r.target=e,r.component=n,r.handler=i,null!=o&&(r.customEventData=o);var s=t.addComponent(cc.Button);s.clickEvents.push(r),s.transition=a},t.getSerNowTime=function(){return Date.now()},t.prototype.loadZip=function(){},t.formatHaomiao=function(t){var e=Math.floor(t/1e3/60%60).toString(),n=Math.floor(t/1e3%60).toString(),i=Math.floor(t%1e3).toString();return this.formatZero(e)+":"+this.formatZero(n)+":"+this.formatTwoZero(i)},t.formatTime=function(t,e,n){var i={M:null,H:null,s:null,m:null,Y:null,D:null,d:null};if("object"==typeof t)i.M=t.getMonth()+1,i.H=t.getHours(),i.s=t.getSeconds(),i.m=t.getMinutes(),i.Y=t.getFullYear(),i.D=t.getDate(),i.d=t.getDay();else if("number"==typeof t){var o=Math.floor(t/1e3/60/60/24)%7,a=Math.floor(t/1e3/60/60/24).toString(),r=Math.floor(t/1e3/60/60%24).toString(),s=Math.floor(t/1e3/60%60).toString(),l=Math.floor(t/1e3%60).toString();i.M=0,i.Y=0,i.H=r,i.s=l,i.m=s,i.D=a,i.d=o}return i.d=this.formatZero(i.d),i.H=this.formatZero(i.H),i.M=this.formatZero(i.M),i.D=this.formatZero(i.D),i.s=this.formatZero(i.s),i.m=this.formatZero(i.m),"number"!=typeof t?"date"==e?n.indexOf(":")>-1?(i.Y=i.Y.toString().substr(2,2),i.Y+"/"+i.M+"/"+i.D):n.indexOf("/")>-1?i.Y+"/"+i.M+"/"+i.D:n.indexOf("-")>-1?i.Y+"-"+i.M+"-"+i.D:n.indexOf("-")>-1?i.Y+"-"+i.M+"-"+i.D:i.Y+i.M+i.D:"time"==e?n.indexOf(":")>-1?(i.Y=i.Y.toString().substr(2,2),i.Y+"/"+i.M+"/"+i.D+" "+i.H):n.indexOf("/")>-1?i.Y+"/"+i.M+"/"+i.D+" "+i.H:n.indexOf("-")>-1?i.Y+"-"+i.M+"-"+i.D+" "+i.H:n.indexOf("-")>-1?i.Y+"-"+i.M+"-"+i.D+" "+i.H:i.Y+i.M+i.D+i.H:"minute"==e?n.indexOf(":")>-1?(i.Y=i.Y.toString().substr(2,2),i.Y+"/"+i.M+"/"+i.D+" "+i.H+":"+i.m):n.indexOf("/")>-1?i.Y+"/"+i.M+"/"+i.D+" "+i.H+"/"+i.m:n.indexOf("-")>-1?i.Y+"-"+i.M+"-"+i.D+" "+i.H+"-"+i.m:n.indexOf("-")>-1?i.Y+"-"+i.M+"-"+i.D+" "+i.H+"-"+i.m:i.Y+i.M+i.D+i.H+i.m:n.indexOf(":")>-1?(i.Y=i.Y.toString().substr(2,2),i.Y+"/"+i.M+"/"+i.D+" "+i.H+":"+i.m+":"+i.s):n.indexOf("/")>-1?i.Y+"/"+i.M+"/"+i.D+" "+i.H+"/"+i.m+"/"+i.s:n.indexOf("-")>-1?i.Y+"-"+i.M+"-"+i.D+" "+i.H+"-"+i.m+"-"+i.s:n.indexOf("-")>-1?i.Y+"-"+i.M+"-"+i.D+" "+i.H+"-"+i.m+"-"+i.s:i.Y+i.M+i.D+i.H+i.m+i.s:"minutes"==e?n.indexOf(":")>-1?i.m+":"+i.s:n.indexOf("/")>-1?i.m+"/"+i.s:n.indexOf("-")>-1?i.m+"-"+i.s:i.m+i.s:"hours"==e?n.indexOf(":")>-1?i.H+":"+i.m+":"+i.s:n.indexOf("/")>-1?i.H+"/"+i.m+"/"+i.s:n.indexOf("-")>-1?i.H+"-"+i.m+"-"+i.s:i.H+i.m+i.s:void 0},t.formatZero=function(t){return(t=t.toString()).length<2&&(t="0"+t),t},t.formatTwoZero=function(t){return 1==(t=t.toString()).length&&(t="00"+t),2==t.length&&(t="0"+t),t},t.getIntByRange=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},t.NumberUnitStr=["","K","M","B","EE","P","T","X","Z","KZ","MZ","BZ","EZ","PZ","TZ","XZ","ZZ"],t}();i.default=o,cc.Node.prototype.inParentCenter=function(t,e){null==t&&(t=3),null==e&&(e.width=0,e.height=0),this.scale=1;var n=this.getContentSize(),i=this.parent.getContentSize();e.width>i.width?console.error("\u53c2\u6570\u5927\u4e8e\u7236\u7269\u4f53width",e.width,i):i.width-=e.width,e.height>i.height?console.error("\u53c2\u6570\u5927\u4e8e\u7236\u7269\u4f53height",e.height,i):i.height-=e.height;var o=i.width/n.width;n.height*o>i.height&&(o=i.height/n.height),o=Math.min(o,t)/this.scale,this.scale=o,this.setPosition(-this.x*o,-this.y*o)},cc._RF.pop()},{}],VIPManager:[function(t,e,n){"use strict";cc._RF.push(e,"375d4nkeQtFsZri5td28/LE","VIPManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("GameCalculate"),r=i("CurrencyType"),s=i("Utils"),l=i("BagManager"),c=i("GameStatsManager"),u=i("ServerCommonCfgMgr"),p=function(){function t(){this.VIPLocalData=null}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.VIPLocalData=t,u.default.getLoginTime().then(function(t){t&&s.default.doubleTimestampEqualDay(t,c.default.instance.lastLoginTime)&&e.ResetVIP()})},Object.defineProperty(t.prototype,"isWhiteVIP",{get:function(){return this.VIPLocalData.isWhiteVIP},set:function(t){this.VIPLocalData.isWhiteVIP=t,GEvent.emit(GEventName.updateVIP),GEvent.emit(GEventName.SaveUserDataLocal)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isColorVIP",{get:function(){return this.VIPLocalData.isColorVIP},set:function(t){this.VIPLocalData.isColorVIP=t,GEvent.emit(GEventName.updateVIP),GEvent.emit(GEventName.SaveUserDataLocal)},enumerable:!1,configurable:!0}),t.prototype.getWhiteVIPReward=function(){this.VIPLocalData.isWhiteVIP&&(a.default.Get(r.CurrencyType.COIN,1e3),l.default.Init.AddItems(135,1))},t.prototype.getColorVIPReward=function(){this.VIPLocalData.isColorVIP&&(a.default.Get(r.CurrencyType.COUPON,50),a.default.Get(r.CurrencyType.FATIGUE,10))},t.prototype.ResetVIP=function(){this.VIPLocalData.isWhiteVIP=!1,this.VIPLocalData.isColorVIP=!1},t.prototype.CalculatePlayerAttribute=function(t){return this.VIPLocalData.isWhiteVIP&&(t.atk*=1.1),this.VIPLocalData.isColorVIP&&(t.exp_ratio+=.5,t.hp*=1.1),t},t}();o.default=p,cc._RF.pop()},{}],VIPView:[function(t,e,n){"use strict";cc._RF.push(e,"eb918oMMDJGXp1CWd1Qpr1L","VIPView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("VIPManager"),u=o("Admanager"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnWhiteVIP=null,e.btnColorVIP=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.ReflashView(),GEvent.emit(GEventName.ChangeViewTitle,"VIPView")},e.prototype.onUIEnable=function(){this.commercialize()},e.prototype.onUIDisable=function(){this.commercializeHide()},e.prototype.commercialize=function(){u.default.instance.showBanner()},e.prototype.commercializeHide=function(){u.default.instance.hideBanner()},e.prototype.onbtnWhiteVIP=function(){var t=this;u.default.instance.playRewardVideo(function(){c.default.instance.isWhiteVIP=!0,c.default.instance.getWhiteVIPReward(),GEvent.emit(GEventName.UpdateWarPower),t.ReflashView(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_welfare_whiteDiamond)},e.prototype.onbtnColorVIP=function(){var t=this;u.default.instance.playRewardVideo(function(){c.default.instance.isColorVIP=!0,c.default.instance.getColorVIPReward(),GEvent.emit(GEventName.UpdateWarPower),t.ReflashView(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_welfare_csDiamond)},e.prototype.ReflashView=function(){this.btnWhiteVIP.interactable=!c.default.instance.isWhiteVIP,this.btnColorVIP.interactable=!c.default.instance.isColorVIP,this.btnWhiteVIP.node.getChildByName("TX_anniu").active=!c.default.instance.isWhiteVIP,this.btnColorVIP.node.getChildByName("TX_anniu").active=!c.default.instance.isColorVIP},s([f(cc.Button)],e.prototype,"btnWhiteVIP",void 0),s([f(cc.Button)],e.prototype,"btnColorVIP",void 0),s([d],e)}(l.default);a.default=h,cc._RF.pop()},{}],VibrateManger:[function(t,e,n){"use strict";cc._RF.push(e,"a3d19dcqjtBordCKulW1xIL","VibrateManger");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("TimeEngine"),r=i("GameHelper"),s=function(){function t(){this.shortHzLimit=4,this.shortCallCount=0,this.shortTimeCallID=-1}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.openShortCall=function(){var t=this;this.shortTimeCallID=a.default.instance.open(1e3,-1,function(){t.shortCallCount=0},this)},t.prototype.closeShortCall=function(){a.default.instance.close(this.shortTimeCallID)},t.prototype.short=function(){this.shortCallCount>=this.shortHzLimit?console.log("\u8c03\u7528 \u77ed\u9707\u52a8\u8fc7\u9ad8"):(this.shortCallCount++,r.default.instance.VibrateShort())},t._instance=null,t}();o.default=s,cc._RF.pop()},{}],VictoryBoxItem:[function(t,e,n){"use strict";cc._RF.push(e,"0fd40CBL7dGBoWi6qL4jFmj","VictoryBoxItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameData"),c=o("GameCalculate"),u=o("SceneConfig"),p=o("SceneManager"),d=o("UIWidget"),f=o("GameData"),h=o("CurrencyType"),y=o("GameError"),g=o("RewardType"),m=o("GameCfgData"),v=o("BagManager"),_=o("GameStatsManager"),b=o("Admanager"),k=o("DotManger"),S=o("Utils"),w=o("ComTipsView"),T=cc._decorator,C=T.ccclass,D=T.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeBox=null,e.adBox=null,e.isAdBox=!1,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.SetItem=function(t){this.isAdBox=t,this.freeBox.active=!this.isAdBox,this.adBox.active=this.isAdBox,this.curBox=this.isAdBox?this.adBox:this.freeBox,this.curBox.getChildByName("box").getChildByName("victory_lock").active=!1},e.prototype.onBtnReward=function(){var t=this;this.isAdBox?b.default.instance.playRewardVideo(function(){GAudio.playEffect(m.default.openBoxAudio),GEvent.emit(GEventName.Task.WatchVideo),t.getReward(),k.default.CommonTrackEvent(DotEnum.gameAldEnum.victoryreward_opentime)},DotEnum.videoAldEnum.viedo_victoryreward_openkp):(GAudio.playEffect(m.default.openBoxAudio),this.getReward(),k.default.CommonTrackEvent(DotEnum.gameAldEnum.victoryreward_opentime),GEvent.emit(GEventName.OpenFreeBox))},e.prototype.getReward=function(){var t=this,e=this.curBox.getChildByName("victory_ani");e.active=!0,cc.tween(e).by(1,{opacity:-255}).call(function(){e.opacity=255,e.active=!1}).start();var n="",i="";if(this.curBox.getChildByName("box").active=!1,this.node.getComponent(cc.Button).interactable=!1,this.MapData=l.default.MapData,this.reward=c.default.GetPickCardReward(l.default.curChapter,l.default.curLevel,l.default.LvType,this.MapData.c_r,this.MapData.card_reward),console.log(this.reward),this.reward.item_type==g.RewardType.ITEM)n=f.default.ItemData()[this.reward.item_data.id].icon,i=f.default.ItemData()[this.reward.item_data.id].name,v.default.Init.AddItems(this.reward.item_data.id,1);else if(this.reward.item_type==g.RewardType.EQUIPMENT){n=f.default.EquipData()[this.reward.item_data.id].icon,i=f.default.EquipData()[this.reward.item_data.id].name;var o=v.default.Init.CreatEquipment(this.reward.item_data.id);o.succ||o.error!=y.GameError.BagFull||_.default.instance.bagEquipUnlockPage<v.default.MAX_ITEMBAGPAGE&&p.default.instance.load(u.default.Scenes.ComTipsView,void 0,function(e,n){n.getComponent(w.default).setPageType(0,function(){v.default.Init.CreatEquipment(t.reward.item_data.id)})})}S.default.loadSpfFromRes(n,this.curBox.getChildByName("equipIcon").getComponent(cc.Sprite)),this.curBox.getChildByName("equipName").getComponent(cc.Label).string=i,this.curBox.getChildByName("coinCount").getComponent(cc.Label).string="x"+this.reward.currency_count,c.default.Get(h.CurrencyType.COIN,this.reward.currency_count)},e.prototype.setBoxLock=function(){this.node.getComponent(cc.Button).interactable=!1,this.curBox.getChildByName("box").getChildByName("victory_lock").active=!0},s([D(cc.Node)],e.prototype,"freeBox",void 0),s([D(cc.Node)],e.prototype,"adBox",void 0),s([C],e)}(d.default);a.default=E,cc._RF.pop()},{}],VictoryRewardView:[function(t,e,n){"use strict";cc._RF.push(e,"2a8f9cuWidCnbGX9MbYVWel","VictoryRewardView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("CombatGameData"),c=o("SceneConfig"),u=o("View"),p=o("LvType"),d=o("GameHelper"),f=o("GameCfgData"),h=o("Admanager"),y=o("VictoryBoxItem"),g=o("RecorderView"),m=cc._decorator,v=m.ccclass,_=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=null,e.countDownBg1=null,e.countDownBg2=null,e.freeBoxList=null,e.adBoxList=null,e.VictoryBoxItemPre=null,e.backBtn=null,e.isGetLab=null,e}return r(e,t),e.prototype.onUILoad=function(){d.default.instance.LoadIcon(l.default.ScoreUrl,this.score.node);for(var t=0;t<4;t++){var e=cc.instantiate(this.VictoryBoxItemPre);this.freeBoxList.addChild(e),e.getComponent(y.default).SetItem(!1);var n=cc.instantiate(this.VictoryBoxItemPre);this.adBoxList.addChild(n),n.getComponent(y.default).SetItem(!0)}this.backBtn.node.active=!1,this.isGetLab.active=!0;var i=[f.default.curChapter,f.default.curLevel];GEvent.emit(GEventName.Task.PassMap,i),GEvent.emit(GEventName.Task.StartGame),this.setAnimtion(),this.onSetClick()},e.prototype.onSetClick=function(){var t=this.getVideoShare();this.getNode("content/videoShare").active=t,this.onClick("content/videoShare",this.viedoShare,this),t&&this.viedoShare()},e.prototype.onUIEnable=function(){GEvent.on(GEventName.OpenFreeBox,this.setFreeBoxLock,this)},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.setFreeBoxLock=function(){for(var t=0;t<this.freeBoxList.children.length;t++)this.freeBoxList.children[t].getComponent(y.default).setBoxLock();this.backBtn.node.active=!0,this.isGetLab.active=!1},e.prototype.setAdBoxLock=function(){for(var t=0;t<this.freeBoxList.children.length;t++)this.adBoxList.children[t].getComponent(y.default).setBoxLock();this.backBtn.node.active=!0,this.isGetLab.active=!1},e.prototype.setAnimtion=function(){cc.tween(this.countDownBg1).repeatForever(cc.tween(this.countDownBg1).by(.2,{angle:5})).start(),cc.tween(this.countDownBg2).repeatForever(cc.tween(this.countDownBg2).by(.2,{angle:-5})).start()},e.prototype.onBackHome=function(){d.default.instance.enterGameScene()},e.prototype.getVideoShare=function(){return!(!h.default.instance.getVideoShare()||l.default.LvType!==p.LvType.NORMAL&&l.default.LvType!==p.LvType.ABYSS)},e.prototype.viedoShare=function(){var t=this;this.sceneMgr().load(c.default.Scenes.RecorderView,void 0,function(e,n){n.getComponent(g.default).sussce=function(){t.getNode("content/videoShare").active=!1}})},s([_(cc.Sprite)],e.prototype,"score",void 0),s([_(cc.Node)],e.prototype,"countDownBg1",void 0),s([_(cc.Node)],e.prototype,"countDownBg2",void 0),s([_(cc.Node)],e.prototype,"freeBoxList",void 0),s([_(cc.Node)],e.prototype,"adBoxList",void 0),s([_(cc.Prefab)],e.prototype,"VictoryBoxItemPre",void 0),s([_(cc.Button)],e.prototype,"backBtn",void 0),s([_(cc.Node)],e.prototype,"isGetLab",void 0),s([v],e)}(u.default);a.default=b,cc._RF.pop()},{}],View:[function(t,e,n){"use strict";cc._RF.push(e,"49befe2zklHqL080l72U//j","View");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("SceneManager"),u=o("SceneConfig"),p=o("platformConfig"),d=o("Constant"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.swallTouch=!1,e.mask=!1,e.maskOpacity=180,e.model=null,e.controller=null,e.resPath="",e.sceneName="",e.preloadResUrl=[],e.preloadResAsset=[],e}return r(e,t),e.prototype.onUILoad=function(){var t=this;this.swallTouch&&cc.resources.load("prefabs/common/blackMask",function(e,n){if(!e){var i=cc.instantiate(n);i.zIndex=-1,i.parent=t.node,i.opacity=t.maskOpacity,t.mask||(i.opacity=0)}})},e.prototype.init=function(t,e){if(""===t)throw Error("IView -> init scene name is empty.");return this.resPath=e,this.sceneName=t,this.onInit(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDownEvent,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUpEvent,this),!0},e.prototype.uninit=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDownEvent,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUpEvent,this),this.destroy()},e.prototype.setModel=function(t){return this.model=t,this.sceneMgr().setModel(this.sceneName,t)},e.prototype.setController=function(t){return this.controller=t,this.sceneMgr().setController(this.sceneName,t)},e.prototype.getSceneName=function(){return this.sceneName},e.prototype.postEvent=function(t,e){c.default.instance.postEventToCtrl(this.sceneName,t,e)},e.prototype.close=function(t,e){return void 0===t&&(t=!0),e?GEvent.emit(GEventName.ChangeViewTitle,e):GEvent.emit(GEventName.ChangeViewTitle,"MainView"),GEvent.offAll(this),this.callback&&this.callback(),c.default.instance.close(this.sceneName,t)},e.prototype.sceneMgr=function(){return c.default.instance},e.prototype.addPreloadRes=function(t,e){this.preloadResUrl.push([t,e])},e.prototype.getPreloadResList=function(){return this.preloadResUrl},e.prototype.addCallback=function(t){t&&(this.callback=t)},e.prototype.setPreloadResFinish=function(t){this.preloadResAsset=t},e.prototype.onKeyDownEvent=function(){},e.prototype.onKeyUpEvent=function(){},e.prototype.onNoticeEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.showloading=function(){this.sceneMgr().show(u.default.Scenes.Wait1Scene)},e.prototype.hideloading=function(){this.sceneMgr().hide(u.default.Scenes.Wait1Scene)},e.prototype.setplatform=function(t){if(p.default.platformType==d.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||p.default.platformType==d.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO){if(t&&t.getComponent(cc.Widget)&&(t.getComponent(cc.Widget).top+=90,t.getComponent(cc.Widget).updateAlignment()),this.node.getChildByName("content")&&(this.getNode("content").getChildByName("btn_back")&&(n=this.getNode("content/btn_back"))&&(n.zIndex=this.node.parent.childrenCount+1,n.getComponent(cc.Widget)?(n.getComponent(cc.Widget).top+=.05,n.getComponent(cc.Widget).updateAlignment()):n.y-=50),this.getNode("content").getChildByName("btn_back_1"))){var e=this.getNode("content/btn_back_1");e&&(e.zIndex=this.node.parent.childrenCount+1,e.getComponent(cc.Widget)?(e.getComponent(cc.Widget).top+=.05,e.getComponent(cc.Widget).updateAlignment()):e.y-=50)}var n;this.node.getChildByName("show")&&this.getNode("show").getChildByName("btn_back")&&(n=this.getNode("show/btn_back"))&&(n.zIndex=this.node.parent.childrenCount+1,n.getComponent(cc.Widget)?(n.getComponent(cc.Widget).top+=.05,n.getComponent(cc.Widget).updateAlignment()):n.y-=50)}},s([y({tooltip:"\u662f\u5426\u6709\u8499\u7248\u5c42"})],e.prototype,"swallTouch",void 0),s([y({tooltip:"\u8499\u7248\u662f\u5426\u6709\u989c\u8272"})],e.prototype,"mask",void 0),s([y({tooltip:"\u8499\u7248\u900f\u660e\u5ea6",type:cc.Integer,range:[0,255,1],slide:!0})],e.prototype,"maskOpacity",void 0),s([h],e)}(l.default);a.default=g,cc._RF.pop()},{}],VirtualObject:[function(t,e,n){"use strict";cc._RF.push(e,"62656UPW+lKLbo4kebYLCqi","VirtualObject");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("VirtualWorld"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){var e=this;return(e=t.call(this)||this).virtual_x=0,e.virtual_y=0,e}return r(e,t),e.prototype.VirtualUpdate=function(){},e.prototype.GetRealX=function(){return this.virtual_x-l.default.offset_x},e.prototype.GetRealY=function(){return this.virtual_y-l.default.offset_y},Object.defineProperty(e.prototype,"Virtual_X",{get:function(){return this.virtual_x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Virtual_Y",{get:function(){return this.virtual_y},enumerable:!1,configurable:!0}),e.prototype.Start=function(){},e.prototype.Destory=function(){},s([u],e)}(cc.Component));a.default=p,cc._RF.pop()},{}],VirtualWorld:[function(t,e,n){"use strict";cc._RF.push(e,"108d4sIKjFA65jVUipDpOtz","VirtualWorld");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t.GetVirtualPos=function(t){t.setTo(t.x+this.offset_x,t.y+this.offset_y)},t.offset_x=0,t.offset_y=0,t}();i.default=o,cc._RF.pop()},{}],WXSubscription:[function(t,e,n){"use strict";cc._RF.push(e,"cb496Timk9DJaBRtw13c5uk","WXSubscription");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("CommonDataMgr"),r=i("api"),s=i("configStore"),l=i("sign");o.default=new(function(){function t(){this.isOpen=!0,this.templateIds=["QEQtKOvPF3fGVjBgVCIEFvrsSe670cyFnh-sQxebyqg","dIzz34l-6AIJNG2y5FjQzP4xx3tBTDD0Ujd0s3LVlRQ"],this.openid="",this.delaySeconds=10,this.templateIdssuc=[]}return t.prototype.init=function(t){console.log("\u5f00\u59cb11111111111111111111111"),this.isOpen=t,this.isOpen&&(this.openid=s.default.openid,this.requestSubscribeMessage())},t.prototype.requestSubscribeMessage=function(){if(this.isOpen){console.log("\u5f00\u59cb\u8ba2\u9605");var t=[],e=this;console.log("\u5f00\u59cb\u8ba2\u96051"),wx.requestSubscribeMessage({tmplIds:e.templateIds,success:function(n){console.log("\u8ba2\u9605success",n);for(var i=0;i<e.templateIds.length;i++)"accept"==n[e.templateIds[i]]&&t.push(e.templateIds[i]);e.templateIdssuc=t,console.log("\u8ba2\u9605success1",t),t.length>0&&e.subscribe(t),t.length>0&&e.updateSubscribeTime()},fail:function(t){console.error("\u9519\u8bef",t)}})}},t.prototype.updateSubscribeTime=function(){if(this.isOpen&&a.CommonDataMgr.instance.Poewrpoewr<=20&&this.templateIdssuc.includes(this.templateIds[0])){console.log("\u8ba2\u9605\u66f4\u65b0\u6b21\u6570");var t={openid:this.openid,template_id:this.templateIds[0],content:{character_string1:{value:"30/30"},thing2:{value:"\u4f53\u529b\u6ee1\u4e86\u5feb\u6765\u5e26\u4eba\u5237\u56fe"}},delay_seconds:a.CommonDataMgr.instance.getPowerRecoverMaxTime()};this.sendsubscribe(t)}},t.prototype.sendsubscribe=function(t){this.isOpen&&l.default.create(t).then(function(t){console.log("12345",t),r.default.sendsubscribe(t).then(function(t){cc.log("=============>\u66f4\u65b0\u8ba2\u9605\u6210\u529f",t)}).catch(function(t){console.log("12345- err",t)})})},t.prototype.subscribe=function(t){this.isOpen&&(console.log("\u8ba2\u9605\u6210\u529f\u53d1\u9001\u670d\u52a1\u5668"),l.default.create({template_ids:t}).then(function(e){console.log("123456",e),r.default.subscribe(e).then(function(e){cc.log("subscribe",e,t)}).catch(function(t){console.log("123456- err",t)})}))},t}()),cc._RF.pop()},{}],Waiting1Ctrl:[function(t,e,n){"use strict";cc._RF.push(e,"f14778qORZNCI1j/KGMta1c","Waiting1Ctrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("Controller"),l=o("SceneManager"),c=o("Constant"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){l.default.instance.setLoadResStatus(this)},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(t,e){c.default.WAITINGLOADRES_EVENT.SHOW==t&&(this.view.show(),this.postUIEvent(c.default.WAITINGLOADRES_EVENT.NOTICE,{message:e.message})),c.default.WAITINGLOADRES_EVENT.HIDE==t&&this.view.hide()},e.prototype.onLoadProgress=function(t){var e="\u6b63\u5728\u52a0\u8f7d("+(100*(t=t||0)).toFixed(0)+"%)";this.postUIEvent(c.default.WAITINGLOADRES_EVENT.NOTICE,{message:e}),this.view.show()},e.prototype.onLoadComplete=function(t){if(t){var e="\u52a0\u8f7d\u573a\u666f\u9047\u5230\u9519\u8bef:"+t.message;this.postUIEvent(c.default.WAITINGLOADRES_EVENT.NOTICE,{message:e})}else this.view.hide()},e}(s.default);a.default=u,cc._RF.pop()},{}],Waiting1Model:[function(t,e,n){"use strict";cc._RF.push(e,"46e54zfRF5HcIYY3n6NWyby","Waiting1Model");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],WaitingCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"57ea12BaqFK0oF+Odkq0TCM","WaitingCtrl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=o("Controller"),l=o("SceneManager"),c=o("Constant"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){l.default.instance.setLoadSceneStatus(this)},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(t,e){c.default.WAITING_EVENT.SHOW==t?(this.view.show(),this.postUIEvent(c.default.WAITING_EVENT.NOTICE,{message:e.message})):c.default.WAITING_EVENT.HIDE==t&&this.view.hide()},e.prototype.onLoadProgress=function(t){var e="\u6b63\u5728\u52a0\u8f7d("+(100*(t=t||0)).toFixed(0)+"%)";this.postUIEvent(c.default.WAITING_EVENT.NOTICE,{message:e}),this.view.show()},e.prototype.onLoadComplete=function(t){if(t){var e="\u52a0\u8f7d\u573a\u666f\u9047\u5230\u9519\u8bef:"+t.message;this.postUIEvent(c.default.WAITING_EVENT.NOTICE,{message:e})}else this.view.hide()},e}(s.default);a.default=u,cc._RF.pop()},{}],WaitingModel:[function(t,e,n){"use strict";cc._RF.push(e,"2d7daULXHRCuYa0I6ut72G7","WaitingModel");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInit=function(){},e.prototype.onCleanup=function(){},e.prototype.onNoticeEvent=function(){},e}(o("Model").default);a.default=s,cc._RF.pop()},{}],WaitingView:[function(t,e,n){"use strict";cc._RF.push(e,"09b47uviOtPNqUx2DG4dNOK","WaitingView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("WaitingCtrl"),u=o("WaitingModel"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=t.call(this)||this;return e.messageLabel=null,e.waitSp=[],e}return r(e,t),e.prototype.onInit=function(){this.setModel(new u.default),this.setController(new c.default)},e.prototype.onUILoad=function(){var t=this;this.hide(),this.messageLabel=this.getLabel("MessageLabel");var e=this.getNode("waitNode/waitSp");e.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){e.getComponent(cc.Sprite).spriteFrame=t.waitSp[1]}),cc.delayTime(.3),cc.callFunc(function(){e.getComponent(cc.Sprite).spriteFrame=t.waitSp[2]}),cc.delayTime(.3),cc.callFunc(function(){e.getComponent(cc.Sprite).spriteFrame=t.waitSp[3]}),cc.delayTime(.3),cc.callFunc(function(){e.getComponent(cc.Sprite).spriteFrame=t.waitSp[4]}),cc.delayTime(.3),cc.callFunc(function(){e.getComponent(cc.Sprite).spriteFrame=t.waitSp[0]}),cc.delayTime(.3))))},e.prototype.onUIEnable=function(){},e.prototype.onUIStart=function(){},e.prototype.onUIDisable=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onUIUpdate=function(){},e.prototype.getView=function(){return this},e.prototype.onNoticeEvent=function(t,e){this.messageLabel.string=e.message},s([f(cc.SpriteFrame)],e.prototype,"waitSp",void 0),s([d],e)}(l.default);a.default=h,cc._RF.pop()},{}],WarPowerView:[function(t,e,n){"use strict";cc._RF.push(e,"48863Wy1EFBFqxuYAxo4J28","WarPowerView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=cc._decorator,u=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.warPower=null,e.changeCount=null,e}return r(e,t),e.prototype.onUIEnable=function(){},e.prototype.onUIDisable=function(){this.unschedule(this.callback)},e.prototype.changeWarPower=function(t,e){var n=this,i=e-t;this.warPower.string=t.toString(),i>0?(this.changeCount.string="+"+i,this.changeCount.node.color=cc.Color.GREEN):(this.changeCount.string=""+i,this.changeCount.node.color=cc.Color.RED),this.conut=t;var o=Math.floor(i/20);this.callback=function(){n.conut+=o,n.warPower.string=n.conut.toString()},this.schedule(this.callback,.05,20),this.node.stopAllActions(),cc.tween(this.node).delay(1.1).call(function(){n.close()}).start()},s([p(cc.Label)],e.prototype,"warPower",void 0),s([p(cc.Label)],e.prototype,"changeCount",void 0),s([u],e)}(l.default);a.default=d,cc._RF.pop()},{}],WeaponLight:[function(t,e,n){"use strict";cc._RF.push(e,"e99c6upq2JN2Z1cDIp2LpcG","WeaponLight");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){},r([l],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],XSGiftView:[function(t,e,n){"use strict";cc._RF.push(e,"dc979pwLPROWptj93ABjzw1","XSGiftView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("FashionManager"),u=o("XsGiftDataManager"),p=o("Admanager"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.giftItem=[],e.signBtn=null,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.RefreshView()},e.prototype.onSignBtn=function(){var t=this;u.default.instance.IsSignGift?p.default.instance.playRewardVideo(function(){u.default.instance.Sign(),c.default.Init.getFashion(0,u.default.instance.SignGiftDayCount-1),t.RefreshView(),GEvent.emit(GEventName.Task.WatchVideo)}):console.log("\u4eca\u65e5\u5df2\u7b7e\u5230")},e.prototype.RefreshView=function(){if(u.default.instance.SignGiftDayCount>0)for(var t=0;t<this.giftItem.length;t++)u.default.instance.SignGiftDayCount-1>=t&&(this.giftItem[t].getChildByName("isGet").active=!0);this.signBtn.interactable=u.default.instance.IsSignGift,this.signBtn.node.getChildByName("TX_anniu").active=u.default.instance.IsSignGift},s([h([cc.Node])],e.prototype,"giftItem",void 0),s([h(cc.Button)],e.prototype,"signBtn",void 0),s([f],e)}(l.default);a.default=y,cc._RF.pop()},{}],XsGiftDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"11257O6Nc9FYY6LlySyhnfV","XsGiftDataManager");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("Utils"),r=i("ServerCommonCfgMgr"),s=function(){function t(){this.isSign=!1}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;this.XsGiftData=t,r.default.getLoginTime().then(function(t){t&&(e.IsSignGift=a.default.doubleTimestampEqualDay(t,e.XsGiftData.lastSignTime))})},Object.defineProperty(t.prototype,"IsSignGift",{get:function(){return this.XsGiftData.dayCount<3&&this.isSign},set:function(t){this.isSign=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SignGiftDayCount",{get:function(){return this.XsGiftData.dayCount},set:function(t){this.XsGiftData.dayCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SignGiftLastTime",{get:function(){return this.XsGiftData.lastSignTime},set:function(t){this.XsGiftData.lastSignTime=t},enumerable:!1,configurable:!0}),t.prototype.Sign=function(){this.SignGiftDayCount++,this.SignGiftLastTime=r.default.servertime,this.IsSignGift=!1},t}();o.default=s,cc._RF.pop()},{}],_process:[function(t,e){"use strict";cc._RF.push(e,"1edabGdH1NPT5Y8C8LOCBkN","_process");var n,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function l(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}})();var c,u=[],p=!1,d=-1;function f(){p&&c&&(p=!1,c.length?u=c.concat(u):d=-1,u.length&&h())}function h(){if(!p){var t=s(f);p=!0;for(var e=u.length;e;){for(c=u,u=[];++d<e;)c&&c[d].run();d=-1,e=u.length}c=null,p=!1,l(t)}}function y(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new y(t,e)),1!==u.length||p||s(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(){return[]},o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0},cc._RF.pop()},{}],aaa:[function(t,e,n){"use strict";cc._RF.push(e,"9a3bcv3M/tPi4F10WaSBNVu","aaa");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("GameCfgData"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.onLoad=function(){var t=this;GAudio.playEffect(c.default.ChapterBg),this.anictrl=new l.default(this.node.getComponent(sp.Skeleton)),this.anictrl.play("animation");var e=cc.tween().delay(2).call(function(){t.anictrl.setCompleteListener(function(){t.scheduleOnce(function(){t.anictrl.play("animation")},4)})});cc.tween(this.node).repeatForever(e).start(),this.getComponent(cc.Sprite)},e.prototype.getComData=function(){},e.prototype.start=function(){},s([d(cc.Label)],e.prototype,"label",void 0),s([d],e.prototype,"text",void 0),s([p],e)}(cc.Component);a.default=f,cc._RF.pop()},{}],aiLevelConfig:[function(t,e){"use strict";cc._RF.push(e,"949d1WqzA9C26CHZN67poWu","aiLevelConfig"),window.aiLevelConfig={1:{id:1,normalATKFrequency:1,moveNearWeight:100,moveAwayWeight:0,moveStayWeight:0}},cc._RF.pop()},{}],api:[function(t,e,n){"use strict";cc._RF.push(e,"3e834grSA9BLIiGgvR05op3","api");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s,l,c,u,p,d,f,h,y,g,m,v,_,b,k,S,w,T,C,D,E=i("request"),I=i("sign"),P=i("configStore"),M=i("platformConfig"),L=i("Constant"),A=i("NetworkManger"),R=window.reset=function(){return a(void 0,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return t=E.post,e=["/api/people/heartbeat"],[4,I.default.create({})];case 1:return[2,t.apply(void 0,e.concat([n.sent()]))]}})})},O="weixin";M.default.platformType==L.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT||0==M.default.platformType?(O="tou_tiao",s=function(t){return E.post("/tou_tiao/basic_auth_with_person",{app_token:"gvWZ8R",code:t})},l=function(t){return E.post("/api/people_tou_tiao/heartbeat",t)},c=function(t){return E.get("/api/people_tou_tiao/initial",t)},u=function(){return E.default("GET","/api/people_tou_tiao/clear_data?token="+P.default.token,{})},k=function(t){return E.get("/api/people_tou_tiao/rank_info",t)},S=function(t){return E.post("/api/people_tou_tiao/check_cdkey",t)},w=function(){return E.get("/api/people_tou_tiao/pm?token="+P.default.token)},T=function(t){return E.get("/api/people_tou_tiao/read_pm",t)},v=function(t){return E.get("/api/invite_records/info_all",t)},_=function(t){return E.get("/api/invite_records/info_all_with_old",t)},d=function(t){return E.get("/api/invite_records/info_julin",t)},b=function(t){return E.get("/api/invite_records/new_record?platform="+O,t)},f=function(t){return E.get("/api/invite_records/my_info",t)},p=function(t){return E.post("/api/people_tou_tiao/reset_report",t)},C=function(t){return E.post("/api/people_tou_tiao/send_subscribe_msg",t)},D=function(t){return E.post("/api/people_tou_tiao/subscribe",t)}):M.default.platformType==L.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?(O="oppo",s=function(t){return E.post("/oppo/basic_auth",{app_token:"dnLBZg",login_token:t})},l=function(t){return E.post("/api/people_oppo/heartbeat",t)},c=function(t){return E.get("/api/people_oppo/init",t)},u=function(){return E.default("GET","/api/people_oppo/clear_data?token="+P.default.token,{})},v=function(t){return E.get("/api/invite_records/info_all",t)},_=function(t){return E.get("/api/invite_records/info_all_with_old",t)},d=function(t){return E.get("/api/invite_records/info_julin",t)},b=function(t){return E.get("/api/invite_records/new_record?platform="+O,t)},u=function(){return E.default("GET","/api/people_oppo/clear_data?token="+P.default.token,{})},k=function(t){return E.get("/api/people_oppo/rank_info",t)},S=function(t){return E.post("/api/people_oppo/check_cdkey",t)},w=function(){return E.get("/api/people_oppo/pm?token="+P.default.token)},T=function(t){return E.get("/api/people_oppo/read_pm",t)},p=function(t){return E.post("/api/people/reset_report",t)}):M.default.platformType==L.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO?(O="VIVO",s=function(t){return E.post("/vivo/basic_auth",{app_token:"gxVD3d",login_token:t})},l=function(t){return E.post("/api/people_vivo/heartbeat",t)},c=function(t){return E.get("/api/people_vivo/init",t)},u=function(){return E.default("GET","/api/people_vivo/clear_data?token="+P.default.token,{})},v=function(t){return E.get("/api/invite_records/info_all",t)},b=function(t){return E.get("/api/invite_records/new_record?platform="+O,t)},u=function(){return E.default("GET","/api/people_vivo/clear_data?token="+P.default.token,{})},k=function(t){return E.get("/api/people_vivo/rank_info",t)},S=function(t){return E.post("/api/people_vivo/check_cdkey",t)},w=function(){return E.get("/api/people_vivo/pm?token="+P.default.token)},T=function(t){return E.get("/api/people_vivo/read_pm",t)}):M.default.platformType==L.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ?(O="qq",s=function(t){return E.post("/qq/basic_auth",{app_token:"EO01Dg",code:t})},l=function(t){return E.post("/api/people_qq/heartbeat",t)},c=function(t){return E.get("/api/people_qq/init",t)},v=function(t){return E.get("/api/invite_records/info_all",t)},_=function(t){return E.get("/api/invite_records/info_all_with_old",t)},d=function(t){return E.get("/api/invite_records/info_julin",t)},b=function(t){return E.get("/api/invite_records/new_record?platform="+O,t)},f=function(t){return E.get("/api/invite_records/my_info",t)},u=function(){return E.default("GET","/api/people_qq/clear_data?token="+P.default.token,{})},k=function(t){return E.get("/api/people_qq/rank_info",t)},S=function(t){return E.post("/api/people_qq/check_cdkey",t)},w=function(){return E.get("/api/people_qq/pm?token="+P.default.token)},T=function(t){return E.get("/api/people_qq/read_pm",t)},p=function(t){return E.post("/api/people/reset_report",t)}):M.default.platformType==L.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?(O="ks",s=function(t){return E.post("/kuaishou/basic_auth",{app_token:"EO0JDg",openid:t})},l=function(t){return E.post("/api/people_kuaishou/heartbeat",t)},c=function(t){return E.get("/api/people_kuaishou/init",t)},v=function(t){return E.get("/api/invite_records/info_all",t)},_=function(t){return E.get("/api/invite_records/info_all_with_old",t)},d=function(t){return E.get("/api/invite_records/info_julin",t)},b=function(t){return E.get("/api/invite_records/new_record?platform="+O,t)},u=function(){return E.default("GET","/api/people_kuaishou/clear_data?token="+P.default.token,{})},k=function(t){return E.get("/api/people_kuaishou/rank_info",t)},S=function(t){return E.post("/api/people_kuaishou/check_cdkey",t)},w=function(){return E.get("/api/people_kuaishou/pm?token="+P.default.token)},T=function(t){return E.get("/api/people_kuaishou/read_pm",t)},p=function(t){return E.post("/api/people/reset_report",t)}):(O="weixin",s=function(t){return E.post("/wechat/basic_auth",{app_token:"dDMeYE",code:t})},l=function(t){return E.post("/api/people/heartbeat",t)},c=function(t){return E.get("/api/people/init",t)},v=function(t){return E.get("/api/invite_records/info_all",t)},_=function(t){return E.get("/api/invite_records/info_all_with_old",t)},d=function(t){return E.get("/api/invite_records/info_julin",t)},b=function(t){return E.get("/api/invite_records/new_record?platform="+O,t)},u=function(){return E.default("GET","/api/people/clear_data?token="+P.default.token,{})},p=function(t){return E.post("/api/people/reset_report",t)},h=function(t){return E.get("/api/people/union_warehouse",t)},y=function(t){return E.post("/api/people/put_union_warehouse",t)},g=function(t){return E.get("/api/people/get_union_warehouse",t)},f=function(t){return E.get("/api/invite_records/my_info",t)},m=function(t){return E.post("/api/people/add_warehouse_size",t)},k=function(t){return E.get("/api/people/rank_info",t)},S=function(t){return E.post("/api/people/check_cdkey",t)},w=function(){return E.get("/api/people/pm?token="+P.default.token)},T=function(t){return E.get("/api/people/read_pm",t)},C=function(t){return E.post("/api/people/send_subscribe_msg",t)},D=function(t){return E.post("/api/people/subscribe",t)}),o.default={reset:R,auth:s,heartbeat:l,clear:u,resetreport:p,peopleInit:c,positon:function(){return A.default.request("https://restapi.amap.com/v3/ip?key=a68c3f87dc7b3f4bb9cfef3319e44a13",{},"POST")},sendsubscribe:C,getInviteListWSJ:f,subscribe:D,getInviteList:v,getInviteListallwithold:_,getInviteListJLZ:d,byInviteReported:b,rank_info:k,CDKget:S,getMailList:w,reportMailUse:T,getWarehouse:h,putToWarehouse:y,getFromWarehouse:g,addWarehouseSize:m},window.byInviteReported=b,window.rank_info=k,window.getInviteList=v,window.getInviteListallwithold=_,window.peopleInit=c,cc._RF.pop()},{}],bagDialog:[function(t,e,n){"use strict";cc._RF.push(e,"2a90fp0rBdB25slt+Wl6SV4","bagDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,o++)i[o]=a[r];return i};Object.defineProperty(a,"__esModule",{value:!0});var c,u=o("View"),p=o("GameCalculate"),d=o("BagManager"),f=o("bagItemManager"),h=o("equipItemType"),y=o("bagInfoDialog"),g=o("GameData"),m=o("deletAllEquipDialog"),v=o("GameHelper"),_=o("Admanager"),b=o("GameStatsManager"),k=o("SceneConfig"),S=o("ComTipsView"),w=o("HeroTitleDataManger");(function(t){t[t.Equip=0]="Equip",t[t.Item=1]="Item"})(c||(c={}));var T=cc._decorator,C=T.ccclass,D=T.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.equipingNode=null,e.propertiesInfo=[],e.content=null,e.powerLabel=null,e.equipInfoNode=null,e.deletViewNode=null,e.deletAllViewNode=null,e.capacityCount=null,e.pageCount=null,e.pageType=null,e.deletType=!1,e.deletIndex=null,e.bagIndex=[],e.deletReward=[],e.curEquipPage=1,e.curItemPage=1,e.HeroTitleItem=null,e}return r(e,t),e.prototype.onUIStart=function(){this.setplatform(),t.prototype.onUIStart.call(this),this.ad=this.getSpineSkeleton("show/equipingInfo/Hero/1/ad"),this.updateActor(),this.pageType=c.Equip,this.deletViewNode.active=!1,this.deletAllViewNode.active=!1,this.equipInfoNode.active=!1,this.curEquipPage=1,this.curItemPage=1,this.deletType=!1,this.bagIndex=[],GEvent.on(GEventName.ShowEquipOrItemInfo,this.showEquipInfo,this),GEvent.on(GEventName.updateActor,this.updateActor,this),GEvent.on(GEventName.ResetBagUI,this.resetUI,this),GEvent.on(GEventName.DeletEquip,this.showDeletView,this),GEvent.on(GEventName.DeletEquips,this.showDeletsView,this),GEvent.on(GEventName.AddBagPage,this.refreshCapacity,this),GEvent.on(GEventName.hideBagInfo,this.hideEquipInfo,this),GEvent.on(GEventName.hideBag,this.close,this),this.resetUI(),this.refreshCapacity(),GEvent.emit(GEventName.ChangeViewTitle,"bagDialog")},e.prototype.update_HeroTitleItem=function(){var t,e=w.default.instance.curweartitleId,n=v.default.instance.GameTitleData()[e];t=n?{item:n}:{item:{}},this.HeroTitleItem.getComponent(f.default).onCreateItem(t,h.equipItemType.DEATHTOWER_HEROTITLE_CLICK)},e.prototype.resetUI=function(){if(6==this.equipingNode.childrenCount)this.equipingNode.children.forEach(function(t,e){var n={item:d.default.Init.equiping[0][e]};t.getComponent(f.default).onCreateItem(n,h.equipItemType.EQUIPING_EQUIP)}),this.update_HeroTitleItem();else{this.equipingNode.removeAllChildren();for(var t=0;t<6;t++){var e=cc.instantiate(this.item);this.equipingNode.addChild(e);var n={item:d.default.Init.equiping[0][t]};e.getComponent(f.default).onCreateItem(n,h.equipItemType.EQUIPING_EQUIP)}this.HeroTitleItem||(this.HeroTitleItem=cc.instantiate(this.item),this.HeroTitleItem.parent=this.equipingNode.parent,this.HeroTitleItem.setPosition(cc.v2(0,-130))),this.update_HeroTitleItem()}this.resetBag();var i=p.default.GetPlayerAttributeInUI(),o=i.max_hp,a=(i.hp,i.atk),r=i.def,s=i.cri,l=(i.hitrate,i.atkspeed),c=i.speed;this.propertiesInfo[0].string=a.toFixed(0),this.propertiesInfo[1].string=(100*s).toFixed(2)+"%",this.propertiesInfo[2].string=o.toFixed(0),this.propertiesInfo[3].string=(100*l).toFixed(2)+"%",this.propertiesInfo[4].string=r.toFixed(0),this.propertiesInfo[5].string=(100*c).toFixed(2)+"%";var u=p.default.GetPlayerCEFromUI(i);this.powerLabel.string=u+"",GEvent.emit(GEventName.UpdateWarPower),GEvent.emit(GEventName.updateActor),this.refreshCapacity()},e.prototype.updateActor=function(){v.default.instance.updateActor(this.ad)},e.prototype.resetBag=function(){this.curEquipPage=1,this.curItemPage=1;var t=this.pageType==c.Equip?d.default.Init.equip_bag:d.default.Init.item_bag,e=this.pageType==c.Equip?h.equipItemType.BAG_EQUIP:h.equipItemType.BAG_ITEM,n=this.pageType==c.Equip?b.default.instance.bagEquipUnlockPage:b.default.instance.bagItemUnlocakPage;if(this.pageCount.string="\u9875\u6570:1/"+n,20==this.content.childrenCount)this.content.children.forEach(function(n,i){n.getComponent(f.default).onCreateItem(t[i],e)});else{this.content.removeAllChildren();for(var i=0;i<20;i++){var o=cc.instantiate(this.item);this.content.addChild(o),o.getComponent(f.default).onCreateItem(t[i],e)}}},e.prototype.changePageClick=function(t,e){this.pageType!=parseInt(e)&&(this.pageType=parseInt(e),this.resetBag(),this.refreshCapacity())},e.prototype.showEquipInfo=function(){this.equipInfoNode.active=!0,this.equipInfoNode.getComponent(y.default).init(arguments)},e.prototype.showDeletView=function(t){this.deletType=!1,this.deletIndex=t;var e=g.default.EquipData()[d.default.Init.equip_bag[t].Equip.equip_id],n=d.default.Init.equip_bag[t].Equip.PowerLv,i=p.default.GetResolveCount(n,e.min_resolve),o=p.default.GetResolveCount(n,e.max_resolve),a=i==o?i:i+Math.floor(1e3*Math.random()%(o-i)),r=109+d.default.Init.equip_bag[t].Equip.quality,s=d.default.Init.equip_bag[t].Equip.Crystal;this.deletReward=[{id:120,count:a},{id:r,count:s}],this.deletViewNode.active=!0;var l=this.deletViewNode.getChildByName("content"),c=this.deletViewNode.getChildByName("EquipItem");l.removeAllChildren();for(var u=0;u<this.deletReward.length;u++){var h=g.default.ItemData()[this.deletReward[u].id],y=cc.instantiate(c);y.active=!0,y.getComponent(f.default).setBgByQuality(h.quality),y.getComponent(f.default).setIcon(h.icon),y.getComponent(f.default).setCount(this.deletReward[u].count),y.parent=l}},e.prototype.showDeletsView=function(t){if(t!=[]){this.deletType=!0,this.bagIndex=t;for(var e=0,n=[],i=0,o=0,a=d.default.Init.equip_bag,r=0;r<t.length;r++){var s=g.default.EquipData()[a[t[r]].Equip.equip_id],c=a[t[r]].Equip.PowerLv,u=p.default.GetResolveCount(c,s.min_resolve),h=p.default.GetResolveCount(c,s.max_resolve);e+=u==h?u:u+Math.floor(1e3*Math.random()%(h-u)),o=109+a[t[r]].Equip.quality,-1==(i=n.findIndex(function(t){return t.id==o}))?n.push({id:o,count:a[t[r]].Equip.Crystal}):n[i].count+=a[t[r]].Equip.Crystal}this.deletReward=l([{id:120,count:e}],n),this.deletViewNode.active=!0;var y=this.deletViewNode.getChildByName("content"),m=this.deletViewNode.getChildByName("EquipItem");for(y.removeAllChildren(),r=0;r<this.deletReward.length;r++){var v=g.default.ItemData()[this.deletReward[r].id],_=cc.instantiate(m);_.active=!0,_.getComponent(f.default).setBgByQuality(v.quality),_.getComponent(f.default).setIcon(v.icon),_.getComponent(f.default).setCount(this.deletReward[r].count),_.parent=y}}},e.prototype.deletEquipClick=function(t,e){var n=this;"video"==e?_.default.instance.playRewardVideo(function(){n.deletEquipDouble(),GEvent.emit(GEventName.Task.WatchVideo)},DotEnum.videoAldEnum.viedo_bag_doubleget):this.deletEquip()},e.prototype.deletEquip=function(){this.deletType?d.default.Init.ResolveEquipments(this.bagIndex):d.default.Init.ResolveEquipment(this.deletIndex);for(var t=0;t<this.deletReward.length;t++)d.default.Init.AddItems(this.deletReward[t].id,this.deletReward[t].count);this.closeDeletView()},e.prototype.deletEquipDouble=function(){this.deletType?d.default.Init.ResolveEquipments(this.bagIndex):d.default.Init.ResolveEquipment(this.deletIndex);for(var t=0;t<this.deletReward.length;t++)d.default.Init.AddItems(this.deletReward[t].id,2*this.deletReward[t].count);this.closeDeletView()},e.prototype.closeDeletView=function(){this.deletViewNode.active=!1,this.deletReward=[],this.deletIndex=null,this.resetBag()},e.prototype.AutoEquip=function(){d.default.Init.AutoEquip(),this.resetUI(),this.equipInfoNode.active=!1},e.prototype.hideEquipInfo=function(){this.equipInfoNode.active=!1},e.prototype.deletEquipsClick=function(){this.deletAllViewNode.active=!0,this.deletAllViewNode.getComponent(m.default).init(this.item)},e.prototype.onBtnAddPage=function(){var t=this;this.sceneMgr().load(k.default.Scenes.ComTipsView,void 0,function(e,n){n.getComponent(S.default).setPageType(t.pageType)})},e.prototype.onBtnLastPage=function(){this.pageType==c.Equip?(this.curEquipPage-=1,0==this.curEquipPage&&(this.curEquipPage=b.default.instance.bagEquipUnlockPage)):(this.curItemPage-=1,0==this.curItemPage&&(this.curItemPage=b.default.instance.bagItemUnlocakPage)),this.showCurPageBag()},e.prototype.onBtnNextPage=function(){this.pageType==c.Equip?(this.curEquipPage+=1,this.curEquipPage>b.default.instance.bagEquipUnlockPage&&(this.curEquipPage=1)):(this.curItemPage+=1,this.curItemPage>b.default.instance.bagItemUnlocakPage&&(this.curItemPage=1)),this.showCurPageBag()},e.prototype.refreshCapacity=function(){this.pageType==c.Equip?this.capacityCount.string="\u5bb9\u91cf:"+d.default.Init.EquipCount+"/"+d.default.Init.EquipBag.length:this.capacityCount.string="\u5bb9\u91cf:"+d.default.Init.ItemCount+"/"+d.default.Init.ItemBag.length;var t=this.pageType==c.Equip?this.curEquipPage:this.curItemPage,e=this.pageType==c.Equip?b.default.instance.bagEquipUnlockPage:b.default.instance.bagItemUnlocakPage;this.pageCount.string="\u9875\u6570:"+t+"/"+e},e.prototype.showCurPageBag=function(){var t=this.pageType==c.Equip?d.default.Init.equip_bag:d.default.Init.item_bag,e=this.pageType==c.Equip?h.equipItemType.BAG_EQUIP:h.equipItemType.BAG_ITEM,n=this.pageType==c.Equip?this.curEquipPage:this.curItemPage,i=this.pageType==c.Equip?b.default.instance.bagEquipUnlockPage:b.default.instance.bagItemUnlocakPage;this.pageCount.string="\u9875\u6570:"+n+"/"+i,this.content.removeAllChildren();for(var o=20*(n-1);o<20*n;o++){var a=cc.instantiate(this.item);this.content.addChild(a),a.getComponent(f.default).onCreateItem(t[o],e)}},s([D(cc.Prefab)],e.prototype,"item",void 0),s([D(cc.Node)],e.prototype,"equipingNode",void 0),s([D([cc.Label])],e.prototype,"propertiesInfo",void 0),s([D(cc.Node)],e.prototype,"content",void 0),s([D(cc.Label)],e.prototype,"powerLabel",void 0),s([D(cc.Node)],e.prototype,"equipInfoNode",void 0),s([D(cc.Node)],e.prototype,"deletViewNode",void 0),s([D(cc.Node)],e.prototype,"deletAllViewNode",void 0),s([D(cc.Label)],e.prototype,"capacityCount",void 0),s([D(cc.Label)],e.prototype,"pageCount",void 0),s([C],e)}(u.default);a.default=E,cc._RF.pop()},{}],bagInfoDialog:[function(t,e,n){"use strict";cc._RF.push(e,"b04dfW4AH5CEpZgExen1DsF","bagInfoDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("bagItemManager"),c=o("BagManager"),u=o("EquipCalculate"),p=o("GameData"),d=o("Utils"),f=o("equipItemType"),h=o("GameError"),y=o("GameStatsManager"),g=o("SceneManager"),m=o("SceneConfig"),v=o("ComTipsView"),_=cc._decorator,b=_.ccclass,k=_.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.itemInfoPage=null,e.equipInfoPage=null,e.equipNameLabel=null,e.equipQualityLabel=null,e.equipTypeLabel=null,e.itemNameLabel=null,e.itemTypeLabel=null,e.itemDesLabel=null,e.itemQualityLabel=null,e.lockBtn=null,e.removeBtn=null,e.deletBtn=null,e.equipBtn=null,e.equipingComparePage=null,e.attributesLab=null,e.useBtn=null,e.bagManagerPoint=null,e.index=null,e.isEquiping=null,e}return r(e,t),e.prototype.init=function(t){this.equipInfoPage.active=!1,this.itemInfoPage.active=!1,null!=t[1]?this.onCreateEquipPage(t[0],t[1]):this.onCreateItemPage(t[0]),this.makesurePoint(null!=t[1],t[0],t[1])},e.prototype.makesurePoint=function(t,e,n){var i=t?n?c.default.Init.equiping:c.default.Init.equip_bag:c.default.Init.item_bag;if(this.isEquiping=n,t&&!n)-1!=(a=i.findIndex(function(t){return t.Item.id==e.itemInfo.id}))&&(this.bagManagerPoint=i[a],this.index=a);else if(n){var o=i[0];-1!=(a=o.findIndex(function(t){return t&&t.id==e.itemInfo.id}))&&(this.bagManagerPoint=o[a],this.index=a)}else{var a;-1!=(a=i.findIndex(function(t){return t&&t.item==e.id}))&&(this.bagManagerPoint=i[a],this.index=a)}console.log(this.bagManagerPoint)},e.prototype.onCreateEquipPage=function(t,e){this.equipInfoPage.active=!0,this.equipInfoPage.getChildByName("equipBg").removeAllChildren(),this.setEquipInfoBg(t),this.deletBtn.active=!e,this.equipBtn.active=!e,this.removeBtn.active=e;var n=t.itemInfo;this.deletBtn.getComponent(cc.Button).interactable=!n.lock,this.lockBtn.active=!0,this.lockBtn.getComponent(cc.Button).interactable=!0,this.lockBtn.children[0].active=!n.lock,this.lockBtn.children[1].active=n.lock;var i=cc.instantiate(t.node);i.removeComponent(l.default),i.parent=this.equipInfoPage.getChildByName("equipBg"),i.position=cc.v3(0,0),this.equipNameLabel.string=n.name,this.equipQualityLabel.string=u.default.GetQualityName(n.quality),this.equipTypeLabel.string=u.default.GetEquipSubRole(n.occupation)+"\n"+u.default.GetEquipTypeName(n.type),this.setBasicAttributes(this.equipInfoPage,n,e),this.setEnhancedAttributes(this.equipInfoPage,n),this.setMoreAttributes(this.equipInfoPage,n),this.setSuitAttributes(this.equipInfoPage,n),this.setEquipingComparePage(n,e),n.isMagicSword&&(this.deletBtn.active=!1,this.deletBtn.getComponent(cc.Button).interactable=!1,this.lockBtn.active=!1,this.lockBtn.getComponent(cc.Button).interactable=!1),n.isMagicEquip&&(this.deletBtn.active=!1,this.deletBtn.getComponent(cc.Button).interactable=!1,this.lockBtn.active=!1,this.lockBtn.getComponent(cc.Button).interactable=!1)},e.prototype.setEquipingComparePage=function(t,e){for(var n=!1,i=-1,o=c.default.Init.equiping[0],a=0;a<o.length;a++)o[a]&&t.type==o[a].type&&(n=!0,i=a);if(this.equipingComparePage.active=!e&&n,this.equipingComparePage.active){var r=c.default.Init.equiping[0][i],s=cc.instantiate(this.item),p={item:r};s.getComponent(l.default).onCreateItem(p,f.equipItemType.EQUIPING_EQUIP);var d=s.getComponent(l.default).itemInfo;s.removeComponent(l.default),this.equipingComparePage.getChildByName("equipBg").addChild(s),this.equipingComparePage.getChildByName("lab_equip_name").getComponent(cc.Label).string=d.name,this.equipingComparePage.getChildByName("lab_quality").getComponent(cc.Label).string=u.default.GetQualityName(d.quality),this.equipingComparePage.getChildByName("lab_type").getComponent(cc.Label).string=u.default.GetEquipSubRole(t.occupation)+"\n"+u.default.GetEquipTypeName(d.type),this.setBasicAttributes(this.equipingComparePage,d,e),this.setEnhancedAttributes(this.equipingComparePage,d),this.setMoreAttributes(this.equipingComparePage,d),this.setSuitAttributes(this.equipingComparePage,d)}},e.prototype.setEquipInfoBg=function(t){var e=t.node.parent.convertToWorldSpaceAR(t.node.position),n=this.node.convertToNodeSpaceAR(e),i=n.y-115<-105?-105:n.y-115,o=n.x>0?n.x-190:n.x+190;this.equipInfoPage.position=cc.v3(o,i)},e.prototype.onCreateItemPage=function(t){this.itemInfoPage.active=!0;var e=cc.instantiate(t.node);e.removeComponent(l.default),e.parent=this.itemInfoPage.getChildByName("item"),e.position=cc.v3(0,0),this.itemNameLabel.string=t.itemInfo.name,this.itemQualityLabel.string=u.default.GetQualityName(t.itemInfo.quality),this.itemTypeLabel.string=t.itemInfo.type,this.itemDesLabel.string=t.itemInfo.info,this.useBtn.active=t.itemInfo.canuse,this.setItemBg(t)},e.prototype.setItemBg=function(t){var e=t.node.parent.convertToWorldSpaceAR(t.node.position),n=this.node.convertToNodeSpaceAR(e),i=n.y-50<-50?-50:n.y-50,o=n.x-200;this.itemInfoPage.position=cc.v3(o,i)},e.prototype.onLockClick=function(){var t=!1;this.isEquiping?(this.bagManagerPoint.lock=!this.bagManagerPoint.lock,t=this.bagManagerPoint.lock):(this.bagManagerPoint.Item.lock=!this.bagManagerPoint.Item.lock,t=this.bagManagerPoint.Item.lock),this.deletBtn.getComponent(cc.Button).interactable=!t,this.lockBtn.children[0].active=!t,this.lockBtn.children[1].active=t,GEvent.emit(GEventName.ResetBagUI)},e.prototype.onRemoveClick=function(){var t=this,e=c.default.Init.RemoveEquipment(this.index);e.succ||e.error!=h.GameError.BagFull?e.succ&&(GEvent.emit(GEventName.ResetBagUI),this.node.active=!1,this.equipInfoPage.active=!1):y.default.instance.bagEquipUnlockPage<c.default.MAX_EQUIPBAGPAGE&&(g.default.instance.isLoaded(m.default.Scenes.ComTipsView)||g.default.instance.load(m.default.Scenes.ComTipsView,void 0,function(e,n){n.getComponent(v.default).setPageType(0,function(){c.default.Init.RemoveEquipment(t.index),GEvent.emit(GEventName.ResetBagUI),t.node.active=!1,t.equipInfoPage.active=!1})}))},e.prototype.onDeletClick=function(){GEvent.emit(GEventName.DeletEquip,this.index),this.node.active=!1,this.equipInfoPage.active=!1},e.prototype.onEquipClick=function(){c.default.Init.EquipingEquipment(this.index),GEvent.emit(GEventName.ResetBagUI),this.node.active=!1,this.equipInfoPage.active=!1},e.prototype.onUseItemBtn=function(){c.default.Init.UseItem(this.index),GEvent.emit(GEventName.ResetBagUI)},e.prototype.setBasicAttributes=function(t,e,n){for(var i=e.GetEquipBaseEntryInfo(),o=e.base_entry[0],a=null,r=0;r<c.default.Init.equiping[0].length;r++)if(null!=c.default.Init.equiping[0][r]&&c.default.Init.equiping[0][r].type==e.type){a=c.default.Init.equiping[0][r].GetEquipBaseEntryInfo();break}var s=t.getChildByName("infoList").getComponent(cc.ScrollView).content.getChildByName("BasicAttributes"),l=s.getChildByName("equipInfo_1"),u=s.getChildByName("equipInfo_2"),p=l.getChildByName("jiantou"),f=u.getChildByName("jiantou");if(l.getComponent(cc.Label).string=i[0][0],l.children[0].getComponent(cc.Label).string=i[0][1],l.children[1].getComponent(cc.Label).string="("+o.get_min_value(o)[0]+"~"+o.get_max_value(o)[0]+")",u.active=i.length>1,i.length>1&&(u.getComponent(cc.Label).string=i[1][0],u.children[0].getComponent(cc.Label).string=i[1][1]),0==n&&null!=a){var h=void 0,y=void 0;parseInt(a[0][1])<parseInt(i[0][1])?h="textures/other/jiantou_up":parseInt(a[0][1])>parseInt(i[0][1])&&(h="textures/other/jiantou_down"),h&&d.default.loadSpfFromRes(h,p),i.length>1&&(parseInt(a[1][1])<parseInt(i[1][1])?y="textures/other/jiantou_up":parseInt(a[1][1])>parseInt(i[1][1])&&(y="textures/other/jiantou_down"),y&&d.default.loadSpfFromRes(y,f))}else p.getComponent(cc.Sprite).spriteFrame=null,f.getComponent(cc.Sprite).spriteFrame=null},e.prototype.setEnhancedAttributes=function(t,e){var n=e.GetEquipBaseEntryPowerInfo(),i=e.GetEquipMinMaxBaseEntryPower(),o=t.getChildByName("infoList").getComponent(cc.ScrollView).content.getChildByName("EnhancedAttributes");o.getChildByName("powerLevel").children[0].getComponent(cc.Label).string="+"+e.PowerLv;var a=o.getChildByName("equipInfo_1"),r=o.getChildByName("equipInfo_2");a.active=null!=n[0][1],a.getComponent(cc.Label).string=n[0][0],a.children[0].getComponent(cc.Label).string=n[0][1],a.children[1].getComponent(cc.Label).string=e.PowerLv?"":"("+i[0][0]+"~"+i[0][1]+")",r.active=n.length>1&&null!=n[1][1],n.length>1&&(r.getComponent(cc.Label).string=n[1][0],r.children[0].getComponent(cc.Label).string=n[1][1])},e.prototype.setMoreAttributes=function(t,e){var n=e.GetEquipAttachEntryInfo(),i=t.getChildByName("infoList").getComponent(cc.ScrollView).content.getChildByName("MoreAttributes");i.removeAllChildren(),i.height=1;for(var o=this.attributesLab,a=0;a<n.length;a++){var r=cc.instantiate(o);r.active=!0,r.parent=i,r.getComponent(cc.Label).string=n[a]}},e.prototype.setSuitAttributes=function(t,e){var n=t.getChildByName("infoList").getComponent(cc.ScrollView).content.getChildByName("SuitAttributes");if(null==e.set_id)return n.active=!1;n.active=!0,n.removeAllChildren(),n.height=1;var i=p.default.EquipSetData()[e.set_id],o=cc.Color.WHITE,a=cc.Color.WHITE,r=this.attributesLab;if(i.entry.length>0){var s=cc.instantiate(r);s.parent=n,s.active=!0,s.getComponent(cc.Label).string="\u5957\u88c5\u6548\u679c:",s.color=cc.color(195,195,195)}if(c.default.Init.EquipingSet.has(e.set_id))for(var l=c.default.Init.EquipingSet.get(e.set_id).set_count,u=1;u<i.entry.length;u++)(d=cc.instantiate(r)).parent=n,d.active=!0,d.getComponent(cc.Label).string="["+i.entry[u].count+"]"+i.entry[u].info,d.color=i.entry[u].count<=l?a:o;else for(u=1;u<i.entry.length;u++){var d;(d=cc.instantiate(r)).parent=n,d.active=!0,d.getComponent(cc.Label).string="["+i.entry[u].count+"]"+i.entry[u].info,d.color=o}},s([k(cc.Prefab)],e.prototype,"item",void 0),s([k(cc.Node)],e.prototype,"itemInfoPage",void 0),s([k(cc.Node)],e.prototype,"equipInfoPage",void 0),s([k(cc.Label)],e.prototype,"equipNameLabel",void 0),s([k(cc.Label)],e.prototype,"equipQualityLabel",void 0),s([k(cc.Label)],e.prototype,"equipTypeLabel",void 0),s([k(cc.Label)],e.prototype,"itemNameLabel",void 0),s([k(cc.Label)],e.prototype,"itemTypeLabel",void 0),s([k(cc.Label)],e.prototype,"itemDesLabel",void 0),s([k(cc.Label)],e.prototype,"itemQualityLabel",void 0),s([k(cc.Node)],e.prototype,"lockBtn",void 0),s([k(cc.Node)],e.prototype,"removeBtn",void 0),s([k(cc.Node)],e.prototype,"deletBtn",void 0),s([k(cc.Node)],e.prototype,"equipBtn",void 0),s([k(cc.Node)],e.prototype,"equipingComparePage",void 0),s([k(cc.Node)],e.prototype,"attributesLab",void 0),s([k(cc.Node)],e.prototype,"useBtn",void 0),s([b],e)}(cc.Component);a.default=S,cc._RF.pop()},{}],bagItemManager:[function(t,e,n){"use strict";cc._RF.push(e,"0e3catuW7xDwYk7yYiM6zC3","bagItemManager");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("Utils"),u=o("equipItemType"),p=o("GameData"),d=o("SceneManager"),f=o("SceneConfig"),h=o("DeathTowerView"),y=o("DeathTowerType"),g=o("ModeLVDataManger"),m=o("TowerDataManager"),v=cc._decorator,_=v.ccclass,b=v.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.qualityList=[],e.levelLabel=null,e.icon=null,e.addLevelLabel=null,e.countLabel=null,e.isLockSp=null,e.isSelectSp=null,e.girdLock=null,e.itemInfo=null,e.id=-1,e.type=null,e}return r(e,t),e.prototype.onUILoad=function(){this.onClick(this.node,this.onClickEvent,this)},e.prototype.onCreateItem=function(t,e){this.reset(),t&&t.item&&(this.type=e,e||(this.itemInfo=t.item),this.type==u.equipItemType.BAG_EQUIP||this.type==u.equipItemType.EQUIPING_EQUIP||this.type==u.equipItemType.DEATHTOWER_EQUIP?(this.itemInfo=t.item,this.levelLabel.string=this.itemInfo.isMagicSword?"MLv."+this.itemInfo.MagicSwordLv:"Lv."+this.itemInfo.equip_lv,this.addLevelLabel.string=0==this.itemInfo.PowerLv?"":"+"+this.itemInfo.PowerLv,this.isLockSp.active=this.itemInfo.lock):this.type==u.equipItemType.BAG_ITEM?(this.id=t.item,this.itemInfo=p.default.ItemData()[t.item],this.addLevelLabel.string=t.count):this.type==u.equipItemType.POWER_UP_EQUIPING||this.type==u.equipItemType.POWER_UP_BAG?(this.itemInfo=t.item,this.levelLabel.string=this.itemInfo.isMagicSword?"MLv."+this.itemInfo.MagicSwordLv:"Lv."+this.itemInfo.equip_lv,this.addLevelLabel.string=0==this.itemInfo.PowerLv?"":"+"+this.itemInfo.PowerLv,this.isLockSp.active=this.itemInfo.lock):this.type!=u.equipItemType.DEATHTOWER_HEROTITLE&&this.type!=u.equipItemType.DEATHTOWER_HEROTITLE_CLICK||(this.icon.node.scale=.9,this.itemInfo=t.item,this.itemInfo.quality=null,this.levelLabel.string="",this.addLevelLabel.string="",this.isLockSp.active=!1,this.itemInfo.icon&&(this.node.getComponent(cc.Sprite).spriteFrame=null)),this.itemInfo.icon&&this.setIcon(this.itemInfo.icon),this.itemInfo.quality&&this.setBgByQuality(this.itemInfo.quality))},e.prototype.reset=function(){this.setBgByQuality(0),this.itemInfo=null,this.type=null,this.icon.getComponent(cc.Sprite).spriteFrame=null,this.addLevelLabel.string="",this.levelLabel.string="",this.isLockSp.active=!1,this.isSelectSp.active=!1},e.prototype.onClickEvent=function(){switch(this.type){case u.equipItemType.BAG_EQUIP:this.onEquipClick();break;case u.equipItemType.EQUIPING_EQUIP:this.onEquipingClick();break;case u.equipItemType.BAG_ITEM:this.onItemClick();break;case u.equipItemType.DEATHTOWER_EQUIP:case u.equipItemType.DEATHTOWER_HEROTITLE:break;case u.equipItemType.DEATHTOWER_HEROTITLE_CLICK:d.default.instance.currentScene==f.default.Scenes.MainScene&&(g.default.instance.ChapterLvPass(m.default.LockLevel[0],m.default.LockLevel[1])?(GEvent.emit(GEventName.hideBag),d.default.instance.load(f.default.Scenes.DeathTowerView,void 0,function(t,e){e.getComponent(h.default).onIniit(y.DeathTowerType.info_bag)})):Global.onShowTosat("\u901a\u5173\u7b2c"+m.default.LockLevel[0]+"\u7ae0\u8282\u7b2c"+m.default.LockLevel[1]+"\u5173\u89e3\u9501"));break;case u.equipItemType.POWER_UP_BAG:case u.equipItemType.POWER_UP_EQUIPING:this.sendEquipInfo()}},e.prototype.sendEquipInfo=function(){GEvent.emit(GEventName.SendEquipInfo,this.itemInfo)},e.prototype.setBgByQuality=function(t){this.node.getComponent(cc.Sprite).spriteFrame=this.qualityList[t]},e.prototype.setIcon=function(t){c.default.loadSpfFromRes(t,this.icon)},e.prototype.setSelect=function(t){this.isSelectSp.active=t},e.prototype.setCount=function(t){this.countLabel.string=t.toString()},e.prototype.onItemClick=function(){GEvent.emit(GEventName.ShowEquipOrItemInfo,this)},e.prototype.onEquipClick=function(){GEvent.emit(GEventName.ShowEquipOrItemInfo,this,!1)},e.prototype.onEquipingClick=function(){GEvent.emit(GEventName.ShowEquipOrItemInfo,this,!0)},e.prototype.setIsLock=function(t){this.isLockSp.active=t},e.prototype.setIsGirdLock=function(t){this.girdLock.active=t},s([b([cc.SpriteFrame])],e.prototype,"qualityList",void 0),s([b(cc.Label)],e.prototype,"levelLabel",void 0),s([b(cc.Sprite)],e.prototype,"icon",void 0),s([b(cc.Label)],e.prototype,"addLevelLabel",void 0),s([b(cc.Label)],e.prototype,"countLabel",void 0),s([b(cc.Node)],e.prototype,"isLockSp",void 0),s([b(cc.Node)],e.prototype,"isSelectSp",void 0),s([b(cc.Node)],e.prototype,"girdLock",void 0),s([_],e)}(l.default);a.default=k,cc._RF.pop()},{}],"base64-js":[function(t,e,n){(function(i){"use strict";cc._RF.push(e,"b78b8JREhdLNLNu69jEff+M","base64-js");var o=t,a=e,r=n;(function(t){!function(e){"object"==typeof r&&void 0!==a?a.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"==typeof window?void 0===t?"undefined"==typeof self?this:self:t:window).base64js=e()}(function(){return function t(e,n,i){function a(s,l){if(!n[s]){if(!e[s]){var c="function"==typeof o&&o;if(!l&&c)return c(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){return a(e[s][1][t]||t)},p,p.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof o&&o,s=0;s<i.length;s++)a(i[s]);return a}({"/":[function(t,e,n){function i(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function o(t,e,n){return 3*(e+n)/4-n}function a(t){return s[63&t>>18]+s[63&t>>12]+s[63&t>>6]+s[63&t]}function r(t,e,n){for(var i,o=[],r=e;r<n;r+=3)i=(16711680&t[r]<<16)+(65280&t[r+1]<<8)+(255&t[r+2]),o.push(a(i));return o.join("")}n.byteLength=function(t){var e=i(t),n=e[0],o=e[1];return 3*(n+o)/4-o},n.toByteArray=function(t){var e,n,a=i(t),r=a[0],s=a[1],u=new c(o(0,r,s)),p=0,d=0<s?r-4:r;for(n=0;n<d;n+=4)e=l[t.charCodeAt(n)]<<18|l[t.charCodeAt(n+1)]<<12|l[t.charCodeAt(n+2)]<<6|l[t.charCodeAt(n+3)],u[p++]=255&e>>16,u[p++]=255&e>>8,u[p++]=255&e;return 2===s&&(e=l[t.charCodeAt(n)]<<2|l[t.charCodeAt(n+1)]>>4,u[p++]=255&e),1===s&&(e=l[t.charCodeAt(n)]<<10|l[t.charCodeAt(n+1)]<<4|l[t.charCodeAt(n+2)]>>2,u[p++]=255&e>>8,u[p++]=255&e),u},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=16383,l=0,c=n-i;l<c;l+=a)o.push(r(t,l,l+a>c?c:l+a));return 1===i?(e=t[n-1],o.push(s[e>>2]+s[63&e<<4]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(s[e>>10]+s[63&e>>4]+s[63&e<<2]+"=")),o.join("")};for(var s=[],l=[],c="undefined"==typeof Uint8Array?Array:Uint8Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=u.length;p<d;++p)s[p]=u[p],l[u.charCodeAt(p)]=p;l[45]=62,l[95]=63},{}]},{},[])("/")})}).call(void 0,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],bbb:[function(t,e,n){"use strict";cc._RF.push(e,"56501Ha/+tAepopSxr++nLJ","bbb");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.getNode("0").on(cc.Node.EventType.TOUCH_START,function(){console.log("0 start")},this),this.getNode("1").on(cc.Node.EventType.TOUCH_START,function(){console.log("1 start")},this,!0),this.getNode("2").on(cc.Node.EventType.TOUCH_START,function(){console.log("2 move")},this),this.getNode("test/0").on(cc.Node.EventType.TOUCH_START,function(){console.log("test 0 start")}),this.getNode("test/1").on(cc.Node.EventType.TOUCH_START,function(){console.log("test 1 start")}),this.getNode("test/1").on(cc.Node.EventType.TOUCH_MOVE,function(){console.log("test 1 start")}),setInterval(function(){console.log("1")},1e3),window.bbb=this},e.prototype.start=function(){},s([u],e)}(l.default));a.default=p,cc._RF.pop()},{}],bosshp:[function(t,e,n){"use strict";cc._RF.push(e,"36ef7FYM1JPJatkWoIMt5xG","bosshp");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameHelper"),c=o("Utils"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.namelb=null,e.lvlb=null,e.hpcountlb=null,e.nexbarspr=null,e.curbarspr=null,e.hp_line_count=1e4,e.colours=["b70404","b79704","7eb704","43b704","04b797","048fb7","0433b7","6504b7","b504b7","b70476"],e}return r(e,t),e.prototype.updateBar=function(t){var e=Math.ceil(t.Hp/this.hp_line_count),n=e%10;this.curbarspr.node.parent.active=!0,this.nexbarspr.node.active=!0,t.Attribute.max_hp<this.hp_line_count?this.curbarspr.node.width=t.Attribute.hp/t.Attribute.max_hp*311:this.curbarspr.node.width=311*(t.Attribute.hp/this.hp_line_count-Math.floor(t.Attribute.hp/this.hp_line_count)),this.curbarspr.node.color=c.default.hex2color(this.colours[n-1>=0?n-1:0]),this.nexbarspr.node.color=n>=2?c.default.hex2color(this.colours[n-2]):c.default.hex2color(this.colours[9-(2-n)]),e<2&&(this.nexbarspr.node.active=!1),this.hpcountlb.string=e>1?"x"+e.toString():"",this.namelb.string=t.Attribute.name,this.lvlb.string="\u7b49\u7ea7:"+t.Lv,l.default.instance.LoadIcon(t.Attribute.icon,this.icon.node)},s([d(cc.Sprite)],e.prototype,"icon",void 0),s([d(cc.Label)],e.prototype,"namelb",void 0),s([d(cc.Label)],e.prototype,"lvlb",void 0),s([d(cc.Label)],e.prototype,"hpcountlb",void 0),s([d(cc.Sprite)],e.prototype,"nexbarspr",void 0),s([d(cc.Sprite)],e.prototype,"curbarspr",void 0),s([p],e)}(cc.Component);a.default=f,cc._RF.pop()},{}],configStore:[function(t,e,n){"use strict";cc._RF.push(e,"b611c4skIpGk5SokeU0FSAu","configStore");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("CDKDataManger"),r=i("InviterDataManger"),s=i("ServerCommonCfgMgr"),l=i("Admanager"),c=function(){function t(){this.isLogin=!0,this.appid="wx5316fadd4cb8ef4c",this.token="",this.openid="",this.version="1.1.1",this.scene="",this.isnew=!1,this.shareNoVideo=1,this.showEnterReward=!1,this.inviterList=[],this.inviterListCount=0,this.jumpConfig=[{appid:"wxfa3e2681b1995adf",name:"\u70ed\u8840\u52c7\u58eb",url:"https://smalldnf-1302074099.file.myqcloud.com/common/hyshare1.png",path:""}]}return t.prototype.init=function(t){if(null!=t){var e=t.cdk,n=t.commoncfg,i=t.jumpConfig,o=t.shareNoVideo;null!=i&&(this.jumpConfig=i),null!=o&&(this.shareNoVideo=o),a.default.init(e),s.default.init(n)}this.onInitShare()},t.prototype.onInitShare=function(){var t=l.default.instance.getLaunchOptionsSync();if(console.warn("\u83b7\u53d6\u542f\u52a8\u4fe1\u606f",t),t){this.scene=t.scene+"";var e=t.query,n=(e.action,e.source),i=e.share_person_token;i&&(console.log("\u5b58\u5728\u9080\u8bf7\u4eba",i,"openid",this.openid,n,"source"),r.default.instance.byInviteReported(i,this.openid,n).then()),r.default.instance.pullNewData(),r.default.instance.pullBackData(),r.default.instance.pullJLZData()}},t}();o.default=new c,cc._RF.pop()},{}],deletAllEquipDialog:[function(t,e,n){"use strict";cc._RF.push(e,"69043v/pvpNJrGCqSlToCMn","deletAllEquipDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("BagManager"),c=o("bagItemManager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.qualityList=null,e.chooseQuality=[0,0,0,0],e.bagIndex=[],e}return r(e,t),e.prototype.start=function(){var t=this;this.qualityList.children.forEach(function(t){t.getChildByName("icon_choose").getChildByName("pic_select").active=!1}),this.qualityList.children.forEach(function(e,n){e.getChildByName("icon_choose")._id=n,e.getChildByName("icon_choose").on(cc.Node.EventType.TOUCH_END,t.onClick,t)})},e.prototype.init=function(t){var e=this;this.bagIndex=[],this.chooseQuality=[0,0,0,0],this.qualityList.children.forEach(function(t){t.getChildByName("icon_choose").getChildByName("pic_select").active=!1});var n=l.default.Init.equip_bag;this.content.childrenCount>0&&this.content.removeAllChildren(),n.forEach(function(n){if(n.Equip){var i=cc.instantiate(t);i.scale=.75,e.content.addChild(i),i.getComponent(c.default).onCreateItem(n,null),i.getComponent(c.default).setIsLock(n.Equip.lock)}})},e.prototype.onClick=function(t){for(var e=this,n=0;n<this.content.children.length;n++)this.content.children[n].getComponent(c.default).setSelect(!1);var i=t.target;this.chooseQuality[i._id]=0==this.chooseQuality[i._id]?1:0,i.children[0].active=1==this.chooseQuality[i._id];var o=l.default.Init.equip_bag;if(this.chooseQuality[i._id])o.forEach(function(t,n){t.Equip&&!t.Equip.lock&&t.Equip.quality==i._id+1&&e.bagIndex.push(n)});else for(var a=this.bagIndex.length-1;a>=0;a--)o[this.bagIndex[a]].Equip.quality==i._id+1&&this.bagIndex.splice(a,1);for(n=0;n<this.bagIndex.length;n++)this.content.children[this.bagIndex[n]].getComponent(c.default).setSelect(!0);console.log(this.bagIndex)},e.prototype.delet=function(){if(this.bagIndex.length<=0||this.bagIndex==[])return Global.onShowTosat("\u8bf7\u9009\u62e9\u9700\u8981\u5206\u89e3\u7684\u88c5\u5907");GEvent.emit(GEventName.DeletEquips,this.bagIndex),this.hide()},e.prototype.hide=function(){this.node.active=!1,GEvent.emit(GEventName.ResetBagUI)},s([d(cc.Node)],e.prototype,"content",void 0),s([d(cc.Node)],e.prototype,"qualityList",void 0),s([p],e)}(cc.Component);a.default=f,cc._RF.pop()},{}],doublehit:[function(t,e,n){"use strict";cc._RF.push(e,"6124dFzHQ9Aw6MBhSOpdNSp","doublehit");var i,o=n,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bluefontLb=null,e}return a(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.startpos=t.node.position,t.node.opacity=0,t.node.active=!1})},e.prototype.onShowDoublehit=function(t){this.node.active=!0,this.bluefontLb.string=t,this.onPlayAction()},e.prototype.onPlayAction=function(){this.node.stopAllActions(),this.node.opacity=255,this.node.position=this.startpos;var t=cc.tween;t(this.node).to(.1,{scale:1.2}).to(.2,{scale:1}).parallel(t().by(.5,{y:100}),t().to(.3,{opacity:0})).call(function(){}).start()},r([c(cc.Label)],e.prototype,"bluefontLb",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],equipItemType:[function(t,e,n){"use strict";cc._RF.push(e,"2fdb9EphHJDEa2BuD0nJfst","equipItemType");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.equipItemType=void 0,function(t){t[t.BAG_ITEM=0]="BAG_ITEM",t[t.EQUIPING_EQUIP=1]="EQUIPING_EQUIP",t[t.BAG_EQUIP=2]="BAG_EQUIP",t[t.POWER_UP_BAG=3]="POWER_UP_BAG",t[t.POWER_UP_EQUIPING=4]="POWER_UP_EQUIPING",t[t.DEATHTOWER_EQUIP=5]="DEATHTOWER_EQUIP",t[t.DEATHTOWER_HEROTITLE=6]="DEATHTOWER_HEROTITLE",t[t.DEATHTOWER_HEROTITLE_CLICK=7]="DEATHTOWER_HEROTITLE_CLICK"}(i.equipItemType||(i.equipItemType={})),cc._RF.pop()},{}],extend:[function(t,e){"use strict";cc._RF.push(e,"8ce22fB+5xMC7oU2hFsdDTb","extend"),Date.prototype.format=function(t){void 0===t&&(t=null);var e=this.getFullYear(),n=this.getMonth()+1,i=this.getDate(),o=this.getHours(),a=this.getMinutes(),r=this.getSeconds();return this.getTime(),n=n>9?n:"0"+n,i=i>9?i:"0"+i,o=o>9?o:"0"+o,a=a>9?a:"0"+a,r=r>9?r:"0"+r,t||(t="yyyy-MM-dd"),(t=(t=(t=(t=(t=t.replace(/yyyy/g,e)).replace(/MM/g,n)).replace(/dd/g,i)).replace(/HH/gi,o)).replace(/mm/g,a)).replace(/ss/g,r)},Date.prototype.diffday=function(t){return Math.ceil((this.getTime()-t)/864e5)},cc.Node.prototype.setStateAll=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];n.setStateAll(t);var i=n.getComponent(cc.Sprite);null!=i&&i.setState(t)}},cc.Sprite.prototype.setState=function(t){var e;this._state=this._state||cc.Sprite.State.NORMAL,this._state!=t&&(e=t==cc.Sprite.State.GRAY?cc.Material.getBuiltinMaterial("2d-gray-sprite"):cc.Material.getBuiltinMaterial("2d-sprite",this),this._state=t,this.setMaterial(0,e))},cc.Node.prototype.Child=function(t,e){var n=function e(n){if(n.name==t)return n;for(var i,o=0;o<n.children.length&&null==(i=e(n.children[o]));o++);return i}(this);return null!=n&&null!=e?n.getComponent(e):n},cc._RF.pop()},{}],gameCopyDialog:[function(t,e,n){"use strict";cc._RF.push(e,"4cb13PvSH1GAqoC6gkMjU48","gameCopyDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameData"),u=o("LvHard"),p=o("LvType"),d=o("GameCfgData"),f=o("GameCopyManager"),h=cc._decorator,y=h.ccclass,g=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chooseToggle=null,e.lastCountLabel=null,e.equipItem=null,e.qualityList=[],e}return r(e,t),e.prototype.onUIStart=function(){this.setplatform(),this.gameCopyType=1,this.refreshView()},e.prototype.changeToggleClick=function(t,e){this.gameCopyType=parseInt(e)+1},e.prototype.refreshView=function(){for(var t=c.default.UIActiveMapData(),e=0;e<7;e++){var n=this.chooseToggle.children[e];n.getChildByName("gameName").getComponent(cc.Label).string=t[e+1].name,n.getChildByName("gameLv").getComponent(cc.Label).string=t[e+1].lv[0]+"~"+t[e+1].lv[1]+"\u7ea7",n.getChildByName("count").getComponent(cc.Label).string=f.default.instance.GameCopyCount[e]?"\u6bcf\u65e50\u6b21":"\u6bcf\u65e51\u6b21";var i=n.getChildByName("rewardScrollView").getChildByName("view").getChildByName("content");i.removeAllChildren();for(var o=t[e+1].dropshow,a=function(t){var e,n=cc.instantiate(r.equipItem);n.active=!0,n.parent=i,e=100==o[t]?c.default.CurrenyData()[o[t]]:c.default.ItemData()[o[t]],cc.resources.load(e.icon,function(t,e){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),n.getChildByName("equip_icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}),n.getComponent(cc.Sprite).spriteFrame=r.qualityList[e.quality]},r=this,s=0;s<o.length;s++)a(s)}},e.prototype.onBtnGameStart=function(){if(f.default.instance.GameCopyCount[this.gameCopyType-1])return Global.onShowTosat("\u6b21\u6570\u4e0d\u8db3");f.default.instance.GameCopyCount[this.gameCopyType-1]=!0,d.default.onEnterGame(p.LvType.ACTIVITY,u.LvHard.NORMAL,d.default.ACTIVITYChapterIndex,this.gameCopyType)},s([g(cc.Node)],e.prototype,"chooseToggle",void 0),s([g(cc.Label)],e.prototype,"lastCountLabel",void 0),s([g(cc.Node)],e.prototype,"equipItem",void 0),s([g([cc.SpriteFrame])],e.prototype,"qualityList",void 0),s([y],e)}(l.default);a.default=m,cc._RF.pop()},{}],gameLevelDialog:[function(t,e,n){"use strict";cc._RF.push(e,"f9e8d55eEhNb6K91BPWafwR","gameLevelDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("GameData"),u=o("ModeLVDataManger"),p=o("GameCfgData"),d=o("LvHard"),f=o("LvType"),h=o("GameCalculate"),y=o("CurrencyType"),g=o("BagManager"),m=o("Utils"),v=o("EquipCalculate"),_=o("SceneConfig"),b=o("PassLVRewardView"),k=o("TripleExpDataManger"),S=o("GuideLocalManger"),w=o("TowerDataManager"),T=cc._decorator,C=T.ccclass,D=T.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameBg=null,e.gameTitleBg=null,e.content=null,e.passReward=null,e.chapterName=null,e.btnLastPage=null,e.btnNextPage=null,e.btnAbyss=null,e.btnNormal=null,e.levelDetail=null,e.detailLevelName=null,e.detailLV=null,e.detailAbyss=null,e.difficultyToggle=null,e.rewardContent=null,e.equipItem=null,e.qualityList=[],e.equipInfo=null,e.isTripleExpBtn=null,e.tripleExpDetail=null,e.TripleExpLab=null,e.TEadCountLab=null,e.TEdayCountLab=null,e.difficultyType=0,e.pageIndex=0,e.isAbyss=!1,e.curLevel=1,e.chapter_name=["\u52c7\u58eb\u68ee\u6797","\u5929\u7a7a\u8bd5\u70bc\u573a","\u5de8\u578b\u98de\u8239","\u9ed1\u6697\u5893\u5730","\u8bfa\u65af\u739b\u5c14"],e.dropDetailData=[],e.powerCost=0,e}return r(e,t),e.prototype.onUILoad=function(){this.setplatform(),this.difficultyType=0,this.curLevel=1,this.powerCost=2,this.pageIndex=u.default.instance.getClassicsMaxChapter()-1,this.btnAbyss.node.active=!this.isAbyss,this.btnNormal.node.active=this.isAbyss,this.levelDetail.active=!1,this.equipInfo.active=!1,this.showGameBg(),this.showChangePageBtn(),this.RefreshContent(),this.RefreshDeathTower(),GEvent.emit(GEventName.ChangeViewTitle,"gameLevelDialog"),GEvent.on(GEventName.RefreshPassLvReward,this.RefreshPassLvReward,this),GEvent.on(GEventName.addTripleExp,this.RefreshTECount,this),this.initGuide()},e.prototype.initGuide=function(){S.default.instance.initCheckopen16Guide(),S.default.instance.checkopen16Guide()},e.prototype.RefreshDeathTower=function(){this.btn_deathTower_Lock||(this.btn_deathTower_Lock=this.getNode("btn_deathTower").getChildByName("isLock")),this.btn_deathTower_Lock.active=!u.default.instance.ChapterLvPass(w.default.LockLevel[0],w.default.LockLevel[1])},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.onUIDestroy=function(){this.releaseAsset(this.LoadResList)},e.prototype.RefreshContent=function(){var t=this;this.chapterName.string="\u7b2c"+(this.pageIndex+1)+"\u7ae0 "+this.chapter_name[this.pageIndex];for(var e=c.default.UIMapData(this.isAbyss),n=0;n<this.content.children.length-1;n++){var i=this.pageIndex+1+"-"+(n+1),o=u.default.instance.getClassicsChapterLvData(this.pageIndex+1,n+1),a=e[i];this.content.children[n].getChildByName("lab_gamelevel").getComponent(cc.Label).string=i,this.content.children[n].getChildByName("lab_gameName").getComponent(cc.Label).string=a.name,m.default.loadSpfFromRes(a.bk_icon,this.content.children[n].getChildByName("gameIcon").getComponent(cc.Sprite)).then(function(e){e.addRef(),t.LoadResList.push(e)}),this.setLevelLock(n,!1),o&&this.setLevelLock(n,o.unlock),this.setLevelSelect(n,!1),this.content.children[n].getChildByName("levelUnLock").getChildByName("currentAni").active=!1}var r=u.default.instance.ClassicsMaxChapterLV(),s=r.chapter,l=r.level;s==this.pageIndex+1&&(this.content.children[l-1].getChildByName("checkmark").active=!0,this.setAni(l-1)),this.RefreshPassLvReward()},e.prototype.RefreshPassLvReward=function(){for(var t=0;t<this.passReward.children.length;t++){var e=u.default.instance.getClassicsChapterLvData(this.pageIndex+1,t+1),n=u.default.instance.ChapterLvPass(this.pageIndex+1,t+1)?"textures/other/btn_passlv_3":"textures/other/btn_passlv_2";m.default.loadSpfFromRes(n,this.passReward.children[t].getComponent(cc.Button).target),e&&e.isFreePassReward&&e.isAdPassReward?(this.passReward.children[t].getComponent(cc.Button).interactable=!1,m.default.loadSpfFromRes("textures/other/btn_passlv_1",this.passReward.children[t].getComponent(cc.Button).target)):this.passReward.children[t].getComponent(cc.Button).interactable=!0}},e.prototype.setLevelSelect=function(t,e){this.content.children[t].getChildByName("checkmark").active=e;var n=u.default.instance.ClassicsMaxChapterLV(),i=n.chapter,o=n.level;i==this.pageIndex+1&&(this.content.children[o-1].getChildByName("checkmark").active=!0)},e.prototype.setLevelLock=function(t,e){this.content.children[t].getComponent(cc.Button).interactable=e,this.content.children[t].getChildByName("levelUnLock").active=e,this.content.children[t].getChildByName("isLock").active=!e},e.prototype.setAni=function(t){var e=this.content.children[t].getChildByName("levelUnLock").getChildByName("currentAni");e.active=!0,cc.tween(e).repeatForever(cc.tween(e).by(.5,{position:cc.v3(0,-5)}).by(.5,{position:cc.v3(0,5)})).start()},e.prototype.onBtnShowDetail=function(t,e){this.curLevel=parseInt(e)+1,this.showGameDetail(this.curLevel),this.setLevelSelect(this.curLevel-1,!0)},e.prototype.onBtnShowPassLvView=function(t,e){var n=this;this.curLevel=parseInt(e)+1,this.sceneMgr().load(_.default.Scenes.PassLVRewardView,void 0,function(t,e){e.getComponent(b.default).showReward(n.pageIndex+1,n.curLevel)})},e.prototype.onBtnLastPage=function(){this.pageIndex>0&&(this.pageIndex--,this.RefreshContent(),this.showChangePageBtn())},e.prototype.onBtnNextPage=function(){this.pageIndex<u.default.instance.MaxChapterCount-1&&(this.pageIndex++,this.RefreshContent(),this.showChangePageBtn())},e.prototype.onBtnIsAbyss=function(){this.isAbyss=!this.isAbyss,this.btnAbyss.node.active=!this.isAbyss,this.btnNormal.node.active=this.isAbyss,this.showGameBg()},e.prototype.onBtnDeathTower=function(){u.default.instance.ChapterLvPass(w.default.LockLevel[0],w.default.LockLevel[1])?this.sceneMgr().load(_.default.Scenes.DeathTowerView):Global.onShowTosat("\u901a\u5173\u7b2c"+w.default.LockLevel[0]+"\u7ae0\u8282\u7b2c"+w.default.LockLevel[1]+"\u5173\u89e3\u9501")},e.prototype.showChangePageBtn=function(){0==this.pageIndex?(this.btnLastPage.node.active=!1,this.btnNextPage.node.active=!0):this.pageIndex==u.default.instance.MaxChapterCount-1?(this.btnLastPage.node.active=!0,this.btnNextPage.node.active=!1):(this.btnLastPage.node.active=!0,this.btnNextPage.node.active=!0)},e.prototype.showGameBg=function(){var t=this,e=this.isAbyss?"textures/other/bg_game_2":"textures/other/bg_game_1";m.default.loadSpfFromRes(e,this.gameBg).then(function(e){t.LoadResList.push(e)}),this.gameBg.node.children[0].active=this.isAbyss,this.gameBg.node.children[1].active=this.isAbyss;var n=this.isAbyss?"textures/other/game_title_2":"textures/other/game_title_1";m.default.loadSpfFromRes(n,this.gameTitleBg).then(function(e){t.LoadResList.push(e)})},e.prototype.showGameDetail=function(t){this.dropDetailData=[],this.levelDetail.active=!0,this.levelDetail.getChildByName("label_4").getComponent(cc.Label).string=this.isAbyss?"\u7ffb\u724c\u6389\u843d:":"\u53ef\u80fd\u6389\u843d:",this.levelDetail.getChildByName("img_abyss").active=this.isAbyss,this.levelDetail.getChildByName("label_abyss").active=this.isAbyss,this.levelDetail.getChildByName("label_abyss").getComponent(cc.Label).string="x"+g.default.Init.FindItem(140).toString();var e=this.getNode("levelDetail/btn_startGame/abyss"),n=this.getNode("levelDetail/btn_startGame/normal");this.isAbyss?(e.active=!0,n.active=!1,this.powerCost=3,e.getChildByName("costLab").getComponent(cc.Label).string="3",e.getChildByName("ticketCostLab").getComponent(cc.Label).string="10"):(e.active=!1,n.active=!0,this.powerCost=2,n.getChildByName("costLab").getComponent(cc.Label).string="2");var i=c.default.UIMapData(this.isAbyss)[this.pageIndex+1+"-"+t];this.detailLevelName.string=i.name,this.detailLV.string=i.lv[this.difficultyType],this.detailAbyss.node.active=this.isAbyss,this.difficultyToggle.node.active=!this.isAbyss,this.difficultyToggle.node.children[0].getComponent(cc.Toggle).isChecked=!0;for(var o=u.default.instance.getClassicsChapterLvData(this.pageIndex+1,t),a=0;a<3;a++)if(0==a)this.difficultyToggle.node.children[a].getComponent(cc.Toggle).interactable=o.unlock,this.difficultyToggle.node.children[a].getChildByName("levelLock").active=!o.unlock;else{var r=!1;null!=o.passDifficulty[a-1]&&(r=o.passDifficulty[a-1]),o.passDifficulty[a]&&(r=o.passDifficulty[a]),this.difficultyToggle.node.children[a].getComponent(cc.Toggle).interactable=r,this.difficultyToggle.node.children[a].getChildByName("levelLock").active=!r}this.rewardContent.removeAllChildren(),this.dropDetailData=i.dropshow;var s=function(t){var e=cc.instantiate(l.equipItem);e.active=!0,e.parent=l.rewardContent;var n=new cc.Component.EventHandler;n.target=l.node,n.component="gameLevelDialog",n.handler="showEquipInfo",n.customEventData=""+t,e.addComponent(cc.Button).clickEvents.push(n);var i=c.default.EquipData()[l.dropDetailData[t]];cc.resources.load(i.icon,function(t,n){t&&console.log("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"),e.getChildByName("equip_icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)}),e.getComponent(cc.Sprite).spriteFrame=l.qualityList[i.quality]},l=this;for(a=0;a<this.dropDetailData.length;a++)s(a);this.tripleExpDetail.active=!1,this.RefreshTECount()},e.prototype.RefreshTECount=function(){var t=this.isTripleExpBtn.node.getChildByName("isSelect");k.default.instance.CanUseTripleExp()?k.default.instance.DayCount>0?(k.default.instance.IsSelectTExp=!0,t.active=k.default.instance.IsSelectTExp,this.TripleExpLab.node.color=cc.Color.GREEN):0==k.default.instance.DayCount&&(t.active=k.default.instance.IsSelectTExp,k.default.instance.IsSelectTExp?this.TripleExpLab.node.color=cc.Color.GREEN:this.TripleExpLab.node.color=cc.Color.RED):(k.default.instance.IsSelectTExp=!1,t.active=k.default.instance.IsSelectTExp,k.default.instance.IsSelectTExp?this.TripleExpLab.node.color=cc.Color.GREEN:this.TripleExpLab.node.color=cc.Color.RED),this.TEdayCountLab.string=k.default.instance.DayCount+"\u6b21",this.TEadCountLab.string=k.default.instance.AdCount+"\u6b21"},e.prototype.onBtnShowtripleExpDetail=function(){this.tripleExpDetail.active=!0},e.prototype.onBtnShowtripleExpView=function(){this.sceneMgr().load(_.default.Scenes.GetTripleExpView)},e.prototype.onBtntTripleExp=function(){if(k.default.instance.CanUseTripleExp()){var t=this.isTripleExpBtn.node.getChildByName("isSelect");k.default.instance.IsSelectTExp=!k.default.instance.IsSelectTExp,t.active=k.default.instance.IsSelectTExp,k.default.instance.IsSelectTExp?this.TripleExpLab.node.color=cc.Color.GREEN:this.TripleExpLab.node.color=cc.Color.RED}else Global.onShowTosat("\u6b21\u6570\u4e0d\u8db3")},e.prototype.onBtnGameStart=function(){if(this.isAbyss){if(!h.default.CanPay(y.CurrencyType.FATIGUE,this.powerCost))return;if(!g.default.Init.RemoveItem(140,10).succ)return Global.onShowTosat("\u6df1\u6e0a\u5238\u4e0d\u8db3");h.default.Pay(y.CurrencyType.FATIGUE,this.powerCost)}else{if(!h.default.CanPay(y.CurrencyType.FATIGUE,this.powerCost))return;h.default.Pay(y.CurrencyType.FATIGUE,this.powerCost)}k.default.instance.IsSelectTExp&&k.default.instance.CanUseTripleExp()&&k.default.instance.UseTripleExp(),p.default.onEnterGame(this.isAbyss?f.LvType.ABYSS:f.LvType.NORMAL,this.difficultyType,this.pageIndex+1,this.curLevel)},e.prototype.showEquipInfo=function(t,e){var n=t.target,i=parseInt(e),o=c.default.EquipData()[this.dropDetailData[i]];this.equipInfo.active=!0;var a=this.rewardContent.convertToWorldSpaceAR(n),r=this.node.convertToNodeSpaceAR(a);this.equipInfo.x=r.x+185;var s=cc.instantiate(n);s.getComponent(cc.Button).interactable=!1,s.parent=this.equipInfo.getChildByName("equipBg"),s.position=cc.v3(0,0),this.equipInfo.getChildByName("lab_equip_name").getComponent(cc.Label).string=o.name,this.equipInfo.getChildByName("lab_quality").getComponent(cc.Label).string=v.default.GetQualityName(o.quality),this.equipInfo.getChildByName("lab_type").getComponent(cc.Label).string=v.default.GetEquipTypeName(o.type);var l=o.entry;this.equipInfo.getChildByName("equipInfo_1").getComponent(cc.Label).string=this.getEntryName(l[0].entry),this.equipInfo.getChildByName("equipInfo_1").getChildByName("lab_type").getComponent(cc.Label).string=l[0].min_value+" - "+l[0].max_value,l.length>1?(this.equipInfo.getChildByName("equipInfo_2").getComponent(cc.Label).string=this.getEntryName(l[1].entry),this.equipInfo.getChildByName("equipInfo_2").getChildByName("lab_type").getComponent(cc.Label).string=l[1].min_value+" - "+l[1].max_value):this.equipInfo.getChildByName("equipInfo_2").active=!1},e.prototype.closeGameDetail=function(){this.levelDetail.active=!1,this.equipInfo.active=!1,this.setLevelSelect(this.curLevel-1,!1)},e.prototype.closeEquipInfo=function(){this.equipInfo.active=!1},e.prototype.changeDifficultyClick=function(t,e){var n=parseInt(e);0==n&&(this.difficultyType=d.LvHard.NORMAL),1==n&&(this.difficultyType=d.LvHard.HARD),2==n&&(this.difficultyType=d.LvHard.KING)},e.prototype.getEntryName=function(t){return"weapon_atk"==t||"shoulder_atk"==t?"\u653b\u51fb\u529b:":"waist_hp"==t||"cloth_hp"==t?"\u8840\u91cf:":"foot_def"==t||"leg_def"==t||"cloth_def"==t?"\u9632\u5fa1\u529b:":"shoulder_atk_speed"==t?"\u653b\u51fb\u901f\u5ea6:":"waist_cri"==t?"\u66b4\u51fb\u7387:":"foot_speed"==t?"\u79fb\u52a8\u901f\u5ea6:":void 0},s([D(cc.Sprite)],e.prototype,"gameBg",void 0),s([D(cc.Sprite)],e.prototype,"gameTitleBg",void 0),s([D(cc.Node)],e.prototype,"content",void 0),s([D(cc.Node)],e.prototype,"passReward",void 0),s([D(cc.Label)],e.prototype,"chapterName",void 0),s([D(cc.Button)],e.prototype,"btnLastPage",void 0),s([D(cc.Button)],e.prototype,"btnNextPage",void 0),s([D(cc.Button)],e.prototype,"btnAbyss",void 0),s([D(cc.Button)],e.prototype,"btnNormal",void 0),s([D(cc.Node)],e.prototype,"levelDetail",void 0),s([D(cc.Label)],e.prototype,"detailLevelName",void 0),s([D(cc.Label)],e.prototype,"detailLV",void 0),s([D(cc.Label)],e.prototype,"detailAbyss",void 0),s([D(cc.ToggleContainer)],e.prototype,"difficultyToggle",void 0),s([D(cc.Node)],e.prototype,"rewardContent",void 0),s([D(cc.Node)],e.prototype,"equipItem",void 0),s([D([cc.SpriteFrame])],e.prototype,"qualityList",void 0),s([D(cc.Node)],e.prototype,"equipInfo",void 0),s([D(cc.Button)],e.prototype,"isTripleExpBtn",void 0),s([D(cc.Node)],e.prototype,"tripleExpDetail",void 0),s([D(cc.Label)],e.prototype,"TripleExpLab",void 0),s([D(cc.Label)],e.prototype,"TEadCountLab",void 0),s([D(cc.Label)],e.prototype,"TEdayCountLab",void 0),s([C],e)}(l.default);a.default=E,cc._RF.pop()},{}],gameSelectDialog:[function(t,e,n){"use strict";cc._RF.push(e,"7caef//da9C+ZOvtlrVzYdq","gameSelectDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("View"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onUIEnable=function(){this.setplatform(),GEvent.emit(GEventName.ChangeViewTitle,"gameSelectDialog")},e.prototype.changeToggleClick=function(t,e){switch(parseInt(e)){case 0:c.default.instance.load(l.default.Scenes.gameCopyDialog)}},s([d],e)}(u.default));a.default=f,cc._RF.pop()},{}],gezhiAdView:[function(t,e,n){"use strict";cc._RF.push(e,"4abfbtQ4wVDCqkLauBwfv1b","gezhiAdView");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("Admanager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jiantou=null,e}return r(e,t),e.prototype.onUIStart=function(){var t=this;this.setJianTouAni(),cc.director.on("closeCustomAd",function(){t.close()},this),this.scheduleOnce(function(){c.default.instance.showCustomAd(),t.jiantou.active=!1,t.node.Child("titleLabel").active=!1},3)},e.prototype.setJianTouAni=function(){cc.tween(this.jiantou).repeatForever(cc.tween(this.jiantou).by(.4,{position:cc.v3(0,-10)}).by(.4,{position:cc.v3(0,10)})).start()},e.prototype.onUIDestroy=function(){this.unscheduleAllCallbacks(),c.default.instance.closeCustomAd(),cc.director.targetOff(this)},s([d(cc.Node)],e.prototype,"jiantou",void 0),s([p],e)}(l.default);a.default=f,cc._RF.pop()},{}],heartbeatStore:[function(t,e,n){"use strict";cc._RF.push(e,"b20e03XW2VEboQeJ2EQlRjb","heartbeatStore");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),i("sign"),i("api"),i("RankManager"),i("ServerCommonCfgMgr"),i("CommonDataMgr");var a=i("PakoManager"),r=(i("SpringDataManager"),function(){function t(){this.lastHeatbeatAt=0,this.actions=[],this.send=function(){}}return t.prototype.getHeartbeatData=function(){try{return{userData:a.default.b64DeflateData(JSON.stringify(GUserData)),offlineTime:(new Date).getTime()}}catch(t){return console.log("\u7528\u6237\u4fe1\u606f\u5f02\u5e38\uff0cgetHeartbeatData",t),!1}},t}());o.default=new r,cc._RF.pop()},{}],heroUIInfo:[function(t,e,n){"use strict";cc._RF.push(e,"587abIhuktCtLcJMNgkVKqt","heroUIInfo");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("GameHelper"),u=o("ServerCommonCfgMgr"),p=o("RoleCfgManager"),d=o("Utils"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gradeLb=null,e.headIcon=null,e.sprhp=null,e.lbhp=null,e.sprexp=null,e.lbexp=null,e.lab_token=null,e}return r(e,t),e.prototype.onUILoad=function(){this.gradeLb=this.getLabel("grade"),this.headIcon=this.getSprite("icon"),this.sprhp=this.getNode("hp/mask/sprhp"),this.lbhp=this.getLabel("hp/lb"),this.sprexp=this.getNode("exp/mask/sprexp"),this.lbexp=this.getLabel("exp/lb"),this.lab_token=this.getLabel("lab_token"),this.lab_token.string="\u7528\u6237id:"+u.default.token},e.prototype.onInit=function(t){this.Hero=t,this.gradeLb.string=this.Hero.Lv.toString(),this.rfhp(),this.rfexp(),d.default.loadSpfFromRes(p.default.instance.headIconUrl1,this.headIcon)},e.prototype.rfhp=function(){var t=this.Hero.Hp/this.Hero.MaxHp;t>1&&(t=1);var e=-(157-157*t);this.sprhp.x=e,this.lbhp.string="\u8840\u91cf:"+Math.ceil(this.Hero.Hp)+"/"+Math.ceil(this.Hero.MaxHp)},e.prototype.rfexp=function(){var t=c.default.instance.ActorData()[this.Hero.Lv-1],e=this.Hero.Exp/t.exp;e>1&&(e=1);var n=157-157*e;this.sprexp.x=n,this.lbexp.string="EXP:"+Math.floor(this.Hero.Exp)+"/"+Math.floor(t.exp)},e.prototype.rfgrade=function(){this.gradeLb.string=this.Hero.Lv.toString()},e.prototype.lateUpdate=function(){this.Hero&&!this.Hero.pause&&(this.rfhp(),this.rfgrade(),this.rfexp())},s([h],e)}(l.default));a.default=y,cc._RF.pop()},{}],jlzEquipItem:[function(t,e,n){"use strict";cc._RF.push(e,"69021zzpG5M46aW6DypTVjP","jlzEquipItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("GameData"),u=o("JlzEquipType"),p=o("FashionManager"),d=o("Utils"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.qualityList=[],e.iconBg=null,e.icon=null,e.equipName=null,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.setItem=function(t){switch(t.type){case u.JlzEquipType.Fashion:var e=p.default.Init.getFashionSetById(t.equipId);d.default.loadSpfFromRes(e.equip[t.equipType].icon,this.icon),this.icon.node.scale=.9,this.equipName.string=e.equip[t.equipType].name;break;case u.JlzEquipType.Item:var n=c.default.ItemData()[t.equipId];d.default.loadSpfFromRes(n.icon,this.icon),this.icon.node.scale=.7,this.equipName.string=n.name}this.iconBg.spriteFrame=this.qualityList[t.quality]},s([y([cc.SpriteFrame])],e.prototype,"qualityList",void 0),s([y(cc.Sprite)],e.prototype,"iconBg",void 0),s([y(cc.Sprite)],e.prototype,"icon",void 0),s([y(cc.Label)],e.prototype,"equipName",void 0),s([h],e)}(l.default);a.default=g,cc._RF.pop()},{}],jlzInviteItem:[function(t,e,n){"use strict";cc._RF.push(e,"7c2f6eqFXVPgIeDj5UPMt79","jlzInviteItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("InvitePosType"),u=o("InviterDataManger"),p=o("JLZDataManager"),d=o("Utils"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plusSp=null,e.playerIcon=null,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.setItem=function(){this.plusSp.active=!1,this.node.getComponent(cc.Button).interactable=!1,d.default.loadSpfFromRes("textures/playerIcon/playerIcon_7",this.playerIcon)},e.prototype.onBtnInvite=function(){if(p.default.instance.getInviteCount()>=p.default.MaxInviterCount)return Global.onShowTosat("\u6700\u591a\u53ef\u9080\u8bf710\u4eba");u.default.instance.shareAppMessageFromUrl(c.JlzID.JLZInvite)},s([y(cc.Node)],e.prototype,"plusSp",void 0),s([y(cc.Sprite)],e.prototype,"playerIcon",void 0),s([h],e)}(l.default);a.default=g,cc._RF.pop()},{}],lastBossEff:[function(t,e,n){"use strict";cc._RF.push(e,"b5586gGwiBIDKq556Ziu8HP","lastBossEff");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("PoolManager"),c=o("AnimatorCtrl"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onHurtCount=0,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){this.ad=this.node.getChildByName("ad").getComponent(sp.Skeleton),this.animatorCtrl=new c.default(this.ad)},e.Create=function(){return l.default.instance.getItemPoolNode(l.PoolKeys.lastBossEff).getComponent(n)},e.prototype.Recover=function(){l.default.instance.pushItemPoolNode(l.PoolKeys.lastBossEff,this.node)},e.prototype.onInit=function(t){var e=this;this.hero=t,this.node.parent=this.hero.node.parent,this.node.position=this.hero.GetPosition,this.animatorCtrl.play("TYTX_clear"),this.animatorCtrl.setAniSpeed(.9),this.animatorCtrl.setCompleteListener(function(){e.onExit()})},e.prototype.onUpdate=function(){if(this.hero){this.node.scaleX=this.hero.scaleX,this.node.scaleY=this.hero.scaleY,this.node.zIndex=this.hero.node.zIndex+1;var t=this.hero.GetPosition;this.node.x=t.x,this.node.y=t.y}},e.prototype.onExit=function(){this.Recover()},n=s([p],e)}(cc.Component));a.default=d,cc._RF.pop()},{}],normalhp:[function(t,e,n){"use strict";cc._RF.push(e,"58df2ODzxFEMKvIanBpSKuT","normalhp");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("GameHelper"),c=cc._decorator,u=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.namelb=null,e.lvlb=null,e.curbarspr=null,e.hp_line_count=1e4,e.colours=["b70404","b79704","7eb704","43b704","04b797","048fb7","0433b7","6504b7","b504b7","b70476"],e}return r(e,t),e.prototype.updateBar=function(t){this.curbarspr.node.width=311*t.Hp/t.MaxHp,this.namelb.string=t.Attribute.name,this.lvlb.string="\u7b49\u7ea7:"+t.Lv,l.default.instance.LoadIcon(t.Attribute.icon,this.icon.node)},s([p(cc.Sprite)],e.prototype,"icon",void 0),s([p(cc.Label)],e.prototype,"namelb",void 0),s([p(cc.Label)],e.prototype,"lvlb",void 0),s([p(cc.Sprite)],e.prototype,"curbarspr",void 0),s([u],e)}(cc.Component);a.default=d,cc._RF.pop()},{}],openPotDialog:[function(t,e,n){"use strict";cc._RF.push(e,"213c5Y8TutCuJplB4TvPa3v","openPotDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("Utils"),u=o("GameData"),p=o("OpenPotManager"),d=o("GameCalculate"),f=o("CurrencyType"),h=o("Admanager"),y=o("GameCfgData"),g=o("DotManger"),m=o("SceneConfig"),v=o("OpenPotRewardView"),_=o("GuideManger"),b=cc._decorator,k=b.ccclass,S=b.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.potLayout=null,e.pot_icon=null,e.pot_name=null,e.selectPot=null,e.goldCount=null,e.diamondCount=null,e.isAdSp=null,e.AdOpenPotBtn=null,e.potBgSp=null,e.DetailInfo=null,e.probabilityList=[],e.isOpenTen=!1,e.chooseIndex=0,e.potList=[],e.intervalHeight=25,e.iconUrl=["textures/openPot/img_wzpot_1","textures/openPot/img_highpot_1","textures/openPot/img_zcpot_1"],e.nameUrl=["textures/openPot/lab_wzpot","textures/openPot/lab_highpot","textures/openPot/lab_zcpot"],e.unChooseIconUrl=["textures/openPot/img_wzpot_2","textures/openPot/img_highpot_2","textures/openPot/img_zcpot_2"],e.chooseIconUrl=["textures/openPot/img_wzpot_3","textures/openPot/img_highpot_3","textures/openPot/img_zcpot_3"],e.probability=[["4.5%","40.5%","31.5%","23.5%"],["10.8%","47.6%","23.8%","17.8%"],["10.3%","33.2%","18.8%","33.7%"]],e.potPos=[cc.v3(0,-35),cc.v3(0,-145),cc.v3(0,-255)],e.goldCosts=[1e4,15e3,2e4],e.diamondCosts=[500,600,700],e}return r(e,t),e.prototype.onUIStart=function(){this.setplatform(),this.DetailInfo.active=!1,this.potLayout.on(cc.Node.EventType.TOUCH_START,this.startCallback,this),this.potLayout.on(cc.Node.EventType.TOUCH_MOVE,this.moveCallback,this),this.potLayout.on(cc.Node.EventType.TOUCH_END,this.endCallback,this),this.potLayout.on(cc.Node.EventType.TOUCH_CANCEL,this.endCallback,this);for(var t=0;t<3;t++){var e=this.selectPot.children[t];this.potList.push(e)}this.ReflashView(),this.setAnimtion()},e.prototype.onUIEnable=function(){GEvent.emit(GEventName.ChangeViewTitle,"openPotDialog")},e.prototype.startCallback=function(){},e.prototype.moveCallback=function(t){for(var e=t.getDeltaY(),n=0;n<3;n++)this.potList[n].y+=e;var i=this.potList[0],o=this.potList[2];if(e>0){if(i.y>i.height/2){i.y=o.y-o.width/2+this.intervalHeight;var a=this.potList.shift();this.potList.push(a),this.ReflashView()}}else o.y<-(this.potLayout.height+o.height/2)&&(o.y=i.y+i.height/2+o.height/2+this.intervalHeight,a=this.potList.pop(),this.potList.unshift(a),this.ReflashView())},e.prototype.endCallback=function(){for(var t=0;t<3;t++){var e=this.potList[t];cc.tween(e).to(.3,{position:this.potPos[t]}).start()}},e.prototype.ReflashView=function(){for(var t=0;t<this.potList.length;t++){var e=this.potList[t].getChildByName("icon").getComponent(cc.Sprite),n=this.potList[t].getChildByName("name").getComponent(cc.Label);switch(this.potList[t].name){case"pot_1":1==t?(c.default.loadSpfFromRes(this.chooseIconUrl[0],e),n.node.color=cc.color(146,93,50),n.fontSize=36,this.chooseIndex=0):(c.default.loadSpfFromRes(this.unChooseIconUrl[0],e),n.node.color=cc.color(178,151,123),n.fontSize=30);break;case"pot_2":1==t?(c.default.loadSpfFromRes(this.chooseIconUrl[1],e),n.node.color=cc.color(146,93,50),n.fontSize=36,this.chooseIndex=1):(c.default.loadSpfFromRes(this.unChooseIconUrl[1],e),n.node.color=cc.color(178,151,123),n.fontSize=30);break;case"pot_3":1==t?(c.default.loadSpfFromRes(this.chooseIconUrl[2],e),n.node.color=cc.color(146,93,50),n.fontSize=36,this.chooseIndex=2):(c.default.loadSpfFromRes(this.unChooseIconUrl[2],e),n.node.color=cc.color(178,151,123),n.fontSize=30)}}c.default.loadSpfFromRes(this.iconUrl[this.chooseIndex],this.pot_icon),c.default.loadSpfFromRes(this.nameUrl[this.chooseIndex],this.pot_name),this.goldCount.string=this.goldCosts[this.chooseIndex].toString(),this.diamondCount.string=this.diamondCosts[this.chooseIndex].toString(),this.diamondCount.node.active=p.default.instance.isFirstOpenTen,this.isAdSp.active=!p.default.instance.isFirstOpenTen,p.default.instance.isFirstOpenTen&&(this.AdOpenPotBtn.getChildByName("label").position=cc.v3(0,5))},e.prototype.onBtnOpenOne=function(){var t=this;d.default.CanPay(f.CurrencyType.COIN,this.goldCosts[this.chooseIndex])&&(GAudio.playEffect(y.default.openPotBtnEffAudio),d.default.Pay(f.CurrencyType.COIN,this.goldCosts[this.chooseIndex]),this.isOpenTen=!1,this.sceneMgr().load(m.default.Scenes.OpenPotRewardView,void 0,function(e,n){n.getComponent(v.default).initView(t.chooseIndex+1,t.isOpenTen)}),g.default.CommonTrackEvent(this.dotGameAldNameOne()))},e.prototype.onBtnOpenTen=function(){var t=this;if(_.GuideManger.instance.getZdGuideIfOpen(_.GuideTypeID.FirstLevel1_2))this.isOpenTen=!0,this.sceneMgr().load(m.default.Scenes.OpenPotRewardView,void 0,function(e,n){n.getComponent(v.default).initView(t.chooseIndex+1,t.isOpenTen)});else if(p.default.instance.isFirstOpenTen){if(!d.default.CanPay(f.CurrencyType.COUPON,this.diamondCosts[this.chooseIndex]))return;d.default.Pay(f.CurrencyType.COUPON,this.diamondCosts[this.chooseIndex]),this.isOpenTen=!0,this.sceneMgr().load(m.default.Scenes.OpenPotRewardView,void 0,function(e,n){n.getComponent(v.default).initView(t.chooseIndex+1,t.isOpenTen)}),g.default.CommonTrackEvent(this.dotGameAldNameTen())}else h.default.instance.playRewardVideo(function(){t.isOpenTen=!0,p.default.instance.isFirstOpenTen=!0,t.diamondCount.node.active=p.default.instance.isFirstOpenTen,t.isAdSp.active=!p.default.instance.isFirstOpenTen,p.default.instance.isFirstOpenTen&&(t.AdOpenPotBtn.getChildByName("label").position=cc.v3(0,5)),t.sceneMgr().load(m.default.Scenes.OpenPotRewardView,void 0,function(e,n){n.getComponent(v.default).initView(t.chooseIndex+1,t.isOpenTen)}),GEvent.emit(GEventName.Task.WatchVideo)},this.dotVideoAldName())},e.prototype.dotVideoAldName=function(){switch(this.chooseIndex){case 0:return DotEnum.videoAldEnum.viedo_pot_wzdiamondOpen10;case 1:return DotEnum.videoAldEnum.viedo_pot_gjdiamondOpen10;case 2:return DotEnum.videoAldEnum.viedo_pot_zxdiamondOpen10}},e.prototype.dotGameAldNameOne=function(){switch(this.chooseIndex){case 0:return DotEnum.gameAldEnum.pot_wzgoldOpen;case 1:return DotEnum.gameAldEnum.pot_gjgoldOpen;case 2:return DotEnum.gameAldEnum.pot_zxgoldOpen}},e.prototype.dotGameAldNameTen=function(){switch(this.chooseIndex){case 0:return DotEnum.gameAldEnum.pot_wzdiamondOpen;case 1:return DotEnum.gameAldEnum.pot_gjdiamondOpen;case 2:return DotEnum.gameAldEnum.pot_zxdiamondOpen}},e.prototype.onBtnShowDetailInfo=function(){this.DetailInfo.active=!0,c.default.loadSpfFromRes(this.iconUrl[this.chooseIndex],this.DetailInfo.getChildByName("pot_icon")),c.default.loadSpfFromRes(this.nameUrl[this.chooseIndex],this.DetailInfo.getChildByName("pot_name"));var t=this.DetailInfo.getChildByName("rewardScrollView").getChildByName("view").getChildByName("content"),e=this.DetailInfo.getChildByName("equipItem");t.removeAllChildren();for(var n=u.default.OpenPotRewardData()["POT_"+(this.chooseIndex+1)],i=0;i<n.length;i++){var o=cc.instantiate(e);o.active=!0,c.default.loadSpfFromRes(n[i].icon,o.getChildByName("equip_icon")),t.addChild(o)}for(i=0;i<this.probabilityList.length;i++)this.probabilityList[i].string=this.probability[this.chooseIndex][i]},e.prototype.onBtnHideDetailInfo=function(){this.DetailInfo.active=!1},e.prototype.setAnimtion=function(){cc.tween(this.potBgSp).repeatForever(cc.tween(this.potBgSp).by(.2,{angle:-5})).start()},e.prototype.onBtnBack=function(){this.close()},s([S(cc.Node)],e.prototype,"potLayout",void 0),s([S(cc.Sprite)],e.prototype,"pot_icon",void 0),s([S(cc.Sprite)],e.prototype,"pot_name",void 0),s([S(cc.Node)],e.prototype,"selectPot",void 0),s([S(cc.Label)],e.prototype,"goldCount",void 0),s([S(cc.Label)],e.prototype,"diamondCount",void 0),s([S(cc.Node)],e.prototype,"isAdSp",void 0),s([S(cc.Node)],e.prototype,"AdOpenPotBtn",void 0),s([S(cc.Node)],e.prototype,"potBgSp",void 0),s([S(cc.Node)],e.prototype,"DetailInfo",void 0),s([S([cc.Label])],e.prototype,"probabilityList",void 0),s([k],e)}(l.default);a.default=w,cc._RF.pop()},{}],openPotItem:[function(t,e,n){"use strict";cc._RF.push(e,"dfce4TJIztPlJX6dsVPo09n","openPotItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("GameData"),u=o("Utils"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itembg=null,e.rewardIcon=null,e.rewardName=null,e.rewardCount=null,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.SetItem=function(t,e,n,i){if(-1==i){var o=c.default.OpenPotRewardData()["POT_"+t];u.default.loadSpfFromRes(o[e].icon,this.rewardIcon),this.rewardName.string=o[e].name,this.rewardCount.string="x"+n}else o=c.default.EquipData()[i],u.default.loadSpfFromRes(o.icon,this.rewardIcon),this.rewardName.string=o.name,this.rewardCount.string="x"+n},s([f(cc.Sprite)],e.prototype,"itembg",void 0),s([f(cc.Sprite)],e.prototype,"rewardIcon",void 0),s([f(cc.Label)],e.prototype,"rewardName",void 0),s([f(cc.Label)],e.prototype,"rewardCount",void 0),s([d],e)}(l.default);a.default=h,cc._RF.pop()},{}],pako:[function(t,e,n){"use strict";cc._RF.push(e,"52f72l+w8VOD5fXI4yZIC01","pako");var i=e,o=n;!function(t,e){"object"==typeof o&&void 0!==i?e(o):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).pako={})}(void 0,function(t){function e(t){for(var e=t.length;--e>=0;)t[e]=0}var n=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Array(576);e(r);var s=new Array(60);e(s);var l=new Array(512);e(l);var c=new Array(256);e(c);var u=new Array(29);e(u);var p,d,f,h=new Array(30);function y(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(h);var m=function(t){return t<256?l[t]:l[256+(t>>>7)]},v=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},_=function(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,v(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},b=function(t,e,n){_(t,n[2*e],n[2*e+1])},k=function(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},S=function(t,e,n){var i,o,a=new Array(16),r=0;for(i=1;i<=15;i++)a[i]=r=r+n[i-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=k(a[s]++,s))}},w=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},T=function(t){t.bi_valid>8?v(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},C=function(t,e,n,i){var o=2*e,a=2*n;return t[o]<t[a]||t[o]===t[a]&&i[e]<=i[n]},D=function(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&C(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!C(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i},E=function(t,e,o){var a,r,s,l,p=0;if(0!==t.last_lit)do{a=t.pending_buf[t.d_buf+2*p]<<8|t.pending_buf[t.d_buf+2*p+1],r=t.pending_buf[t.l_buf+p],p++,0===a?b(t,r,e):(s=c[r],b(t,s+256+1,e),0!==(l=n[s])&&(r-=u[s],_(t,r,l)),s=m(--a),b(t,s,o),0!==(l=i[s])&&(a-=h[s],_(t,a,l)))}while(p<t.last_lit);b(t,256,e)},I=function(t,e){var n,i,o,a=e.dyn_tree,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(o=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=r[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)D(t,a,n);o=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],D(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,a[2*o]=a[2*n]+a[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,a[2*n+1]=a[2*i+1]=o,t.heap[1]=o++,D(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,o,a,r,s,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,p=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,h=e.stat_desc.max_length,y=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=l[2*l[2*(i=t.heap[n])+1]+1]+1)>h&&(a=h,y++),l[2*i+1]=a,i>c||(t.bl_count[a]++,r=0,i>=f&&(r=d[i-f]),s=l[2*i],t.opt_len+=s*(a+r),p&&(t.static_len+=s*(u[2*i+1]+r)));if(0!==y){do{for(a=h-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[h]--,y-=2}while(y>0);for(a=h;0!==a;a--)for(i=t.bl_count[a];0!==i;)(o=t.heap[--n])>c||(l[2*o+1]!==a&&(t.opt_len+=(a-l[2*o+1])*l[2*o],l[2*o+1]=a),i--)}}(t,e),S(a,c,t.bl_count)},P=function(t,e,n){var i,o,a=-1,r=e[1],s=0,l=7,c=4;for(0===r&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=r,r=e[2*(i+1)+1],++s<l&&o===r||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==a&&t.bl_tree[2*o]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=o,0===r?(l=138,c=3):o===r?(l=6,c=3):(l=7,c=4))},M=function(t,e,n){var i,o,a=-1,r=e[1],s=0,l=7,c=4;for(0===r&&(l=138,c=3),i=0;i<=n;i++)if(o=r,r=e[2*(i+1)+1],!(++s<l&&o===r)){if(s<c)do{b(t,o,t.bl_tree)}while(0!=--s);else 0!==o?(o!==a&&(b(t,o,t.bl_tree),s--),b(t,16,t.bl_tree),_(t,s-3,2)):s<=10?(b(t,17,t.bl_tree),_(t,s-3,3)):(b(t,18,t.bl_tree),_(t,s-11,7));s=0,a=o,0===r?(l=138,c=3):o===r?(l=6,c=3):(l=7,c=4)}},L=!1,A=function(t,e,n,i){_(t,0+(i?1:0),3),function(t,e,n){T(t),v(t,n),v(t,~n),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n}(t,e,n)},R=A,O=function(t,e,n,i){for(var o=65535&t|0,a=t>>>16&65535|0,r=0;0!==n;){n-=r=n>2e3?2e3:n;do{a=a+(o=o+e[i++]|0)|0}while(--r);o%=65521,a%=65521}return o|a<<16|0},x=new Uint32Array(function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()),N=function(t,e,n,i){var o=x,a=i+n;t^=-1;for(var r=i;r<a;r++)t=t>>>8^o[255&(t^e[r])];return-1^t},B={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},F=function(t){L||(function(){var t,e,a,g,m,v=new Array(16);for(a=0,g=0;g<28;g++)for(u[g]=a,t=0;t<1<<n[g];t++)c[a++]=g;for(c[a-1]=g,m=0,g=0;g<16;g++)for(h[g]=m,t=0;t<1<<i[g];t++)l[m++]=g;for(m>>=7;g<30;g++)for(h[g]=m<<7,t=0;t<1<<i[g]-7;t++)l[256+m++]=g;for(e=0;e<=15;e++)v[e]=0;for(t=0;t<=143;)r[2*t+1]=8,t++,v[8]++;for(;t<=255;)r[2*t+1]=9,t++,v[9]++;for(;t<=279;)r[2*t+1]=7,t++,v[7]++;for(;t<=287;)r[2*t+1]=8,t++,v[8]++;for(S(r,287,v),t=0;t<30;t++)s[2*t+1]=5,s[2*t]=k(t,5);p=new y(r,n,257,286,15),d=new y(s,i,0,30,15),f=new y(new Array(0),o,0,19,7)}(),L=!0),t.l_desc=new g(t.dyn_ltree,p),t.d_desc=new g(t.dyn_dtree,d),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,w(t)},j=R,V=function(t,e,n,i){var o,l,c=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),c=function(t){var e;for(P(t,t.dyn_ltree,t.l_desc.max_code),P(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*a[e]+1];e--);return t.opt_len+=14+3*(e+1),e}(t),o=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=o&&(o=l)):o=l=n+5,n+4<=o&&-1!==e?A(t,e,n,i):4===t.strategy||l===o?(_(t,2+(i?1:0),3),E(t,r,s)):(_(t,4+(i?1:0),3),function(t,e,n,i){var o;for(_(t,e-257,5),_(t,n-1,5),_(t,i-4,4),o=0;o<i;o++)_(t,t.bl_tree[2*a[o]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),E(t,t.dyn_ltree,t.dyn_dtree)),w(t),i&&T(t)},H=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(c[n]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.last_lit===t.lit_bufsize-1},U=function(t){_(t,2,3),b(t,256,r),function(t){16===t.bi_valid?(v(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},q=G.Z_NO_FLUSH,Y=G.Z_PARTIAL_FLUSH,K=G.Z_FULL_FLUSH,W=G.Z_FINISH,z=G.Z_BLOCK,J=G.Z_OK,X=G.Z_STREAM_END,Z=G.Z_STREAM_ERROR,Q=G.Z_DATA_ERROR,$=G.Z_BUF_ERROR,tt=G.Z_DEFAULT_COMPRESSION,et=G.Z_FILTERED,nt=G.Z_HUFFMAN_ONLY,it=G.Z_RLE,ot=G.Z_FIXED,at=G.Z_DEFAULT_STRATEGY,rt=G.Z_UNKNOWN,st=G.Z_DEFLATED,lt=262,ct=function(t,e){return t.msg=B[e],e},ut=function(t){return(t<<1)-(t>4?9:0)},pt=function(t){for(var e=t.length;--e>=0;)t[e]=0},dt=function(t,e,n){return(e<<t.hash_shift^n)&t.hash_mask},ft=function(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},ht=function(t,e){V(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ft(t.strm)},yt=function(t,e){t.pending_buf[t.pending++]=e},gt=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},mt=function(t,e,n,i){var o=t.avail_in;return o>i&&(o=i),0===o?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),n),1===t.state.wrap?t.adler=O(t.adler,e,o,n):2===t.state.wrap&&(t.adler=N(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)},vt=function(t,e){var n,i,o=t.max_chain_length,a=t.strstart,r=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,c=t.window,u=t.w_mask,p=t.prev,d=t.strstart+258,f=c[a+r-1],h=c[a+r];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+r]===h&&c[n+r-1]===f&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<d);if(i=258-(d-a),a=d-258,i>r){if(t.match_start=e,r=i,i>=s)break;f=c[a+r-1],h=c[a+r]}}}while((e=p[e&u])>l&&0!=--o);return r<=t.lookahead?r:t.lookahead},_t=function(t){var e,n,i,o,a,r=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-lt)){t.window.set(t.window.subarray(r,r+r),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=r?i-r:0}while(--n);e=n=r;do{i=t.prev[--e],t.prev[e]=i>=r?i-r:0}while(--n);o+=r}if(0===t.strm.avail_in)break;if(n=mt(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=dt(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=dt(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<lt&&0!==t.strm.avail_in)},bt=function(t,e){for(var n,i;;){if(t.lookahead<lt){if(_t(t),t.lookahead<lt&&e===q)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=dt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-lt&&(t.match_length=vt(t,n)),t.match_length>=3)if(i=H(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=dt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=dt(t,t.ins_h,t.window[t.strstart+1]);else i=H(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ht(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===W?(ht(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ht(t,!1),0===t.strm.avail_out)?1:2},kt=function(t,e){for(var n,i,o;;){if(t.lookahead<lt){if(_t(t),t.lookahead<lt&&e===q)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=dt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lt&&(t.match_length=vt(t,n),t.match_length<=5&&(t.strategy===et||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-3,i=H(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=dt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ht(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=H(t,0,t.window[t.strstart-1]))&&ht(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=H(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===W?(ht(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ht(t,!1),0===t.strm.avail_out)?1:2};function St(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}var wt=[new St(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_t(t),0===t.lookahead&&e===q)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,ht(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-lt&&(ht(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===W?(ht(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(ht(t,!1),t.strm.avail_out),1)}),new St(4,4,8,4,bt),new St(4,5,16,8,bt),new St(4,6,32,32,bt),new St(4,4,16,16,kt),new St(8,16,32,32,kt),new St(8,16,128,128,kt),new St(8,32,128,256,kt),new St(32,128,258,1024,kt),new St(32,258,258,4096,kt)];function Tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=st,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),pt(this.dyn_ltree),pt(this.dyn_dtree),pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),pt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ct=function(t){if(!t||!t.state)return ct(t,Z);t.total_in=t.total_out=0,t.data_type=rt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=q,F(e),J},Dt=function(t){var e,n=Ct(t);return n===J&&((e=t.state).window_size=2*e.w_size,pt(e.head),e.max_lazy_match=wt[e.level].max_lazy,e.good_match=wt[e.level].good_length,e.nice_match=wt[e.level].nice_length,e.max_chain_length=wt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n},Et=function(t,e,n,i,o,a){if(!t)return Z;var r=1;if(e===tt&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),o<1||o>9||n!==st||i<8||i>15||e<0||e>9||a<0||a>ot)return ct(t,Z);8===i&&(i=9);var s=new Tt;return t.state=s,s.strm=t,s.wrap=r,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=n,Dt(t)},It={deflateInit:function(t,e){return Et(t,e,st,15,8,at)},deflateInit2:Et,deflateReset:Dt,deflateResetKeep:Ct,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?Z:(t.state.gzhead=e,J):Z},deflate:function(t,e){var n,i;if(!t||!t.state||e>z||e<0)return t?ct(t,Z):Z;var o=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===o.status&&e!==W)return ct(t,0===t.avail_out?$:Z);o.strm=t;var a=o.last_flush;if(o.last_flush=e,42===o.status)if(2===o.wrap)t.adler=0,yt(o,31),yt(o,139),yt(o,8),o.gzhead?(yt(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),yt(o,255&o.gzhead.time),yt(o,o.gzhead.time>>8&255),yt(o,o.gzhead.time>>16&255),yt(o,o.gzhead.time>>24&255),yt(o,9===o.level?2:o.strategy>=nt||o.level<2?4:0),yt(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(yt(o,255&o.gzhead.extra.length),yt(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=N(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(yt(o,0),yt(o,0),yt(o,0),yt(o,0),yt(o,0),yt(o,9===o.level?2:o.strategy>=nt||o.level<2?4:0),yt(o,3),o.status=113);else{var r=st+(o.w_bits-8<<4)<<8;r|=(o.strategy>=nt||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(r|=32),r+=31-r%31,o.status=113,gt(o,r),0!==o.strstart&&(gt(o,t.adler>>>16),gt(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>n&&(t.adler=N(t.adler,o.pending_buf,o.pending-n,n)),ft(t),n=o.pending,o.pending!==o.pending_buf_size));)yt(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(t.adler=N(t.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=N(t.adler,o.pending_buf,o.pending-n,n)),ft(t),n=o.pending,o.pending===o.pending_buf_size)){i=1;break}i=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,yt(o,i)}while(0!==i);o.gzhead.hcrc&&o.pending>n&&(t.adler=N(t.adler,o.pending_buf,o.pending-n,n)),0===i&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=N(t.adler,o.pending_buf,o.pending-n,n)),ft(t),n=o.pending,o.pending===o.pending_buf_size)){i=1;break}i=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,yt(o,i)}while(0!==i);o.gzhead.hcrc&&o.pending>n&&(t.adler=N(t.adler,o.pending_buf,o.pending-n,n)),0===i&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ft(t),o.pending+2<=o.pending_buf_size&&(yt(o,255&t.adler),yt(o,t.adler>>8&255),t.adler=0,o.status=113)):o.status=113),0!==o.pending){if(ft(t),0===t.avail_out)return o.last_flush=-1,J}else if(0===t.avail_in&&ut(e)<=ut(a)&&e!==W)return ct(t,$);if(666===o.status&&0!==t.avail_in)return ct(t,$);if(0!==t.avail_in||0!==o.lookahead||e!==q&&666!==o.status){var s=o.strategy===nt?function(t,e){for(var n;;){if(0===t.lookahead&&(_t(t),0===t.lookahead)){if(e===q)return 1;break}if(t.match_length=0,n=H(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ht(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===W?(ht(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ht(t,!1),0===t.strm.avail_out)?1:2}(o,e):o.strategy===it?function(t,e){for(var n,i,o,a,r=t.window;;){if(t.lookahead<=258){if(_t(t),t.lookahead<=258&&e===q)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=r[o=t.strstart-1])===r[++o]&&i===r[++o]&&i===r[++o]){a=t.strstart+258;do{}while(i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&o<a);t.match_length=258-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=H(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=H(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ht(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===W?(ht(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ht(t,!1),0===t.strm.avail_out)?1:2}(o,e):wt[o.level].func(o,e);if(3!==s&&4!==s||(o.status=666),1===s||3===s)return 0===t.avail_out&&(o.last_flush=-1),J;if(2===s&&(e===Y?U(o):e!==z&&(j(o,0,0,!1),e===K&&(pt(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),ft(t),0===t.avail_out))return o.last_flush=-1,J}return e!==W?J:o.wrap<=0?X:(2===o.wrap?(yt(o,255&t.adler),yt(o,t.adler>>8&255),yt(o,t.adler>>16&255),yt(o,t.adler>>24&255),yt(o,255&t.total_in),yt(o,t.total_in>>8&255),yt(o,t.total_in>>16&255),yt(o,t.total_in>>24&255)):(gt(o,t.adler>>>16),gt(o,65535&t.adler)),ft(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?J:X)},deflateEnd:function(t){if(!t||!t.state)return Z;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?ct(t,Z):(t.state=null,113===e?ct(t,Q):J)},deflateSetDictionary:function(t,e){var n=e.length;if(!t||!t.state)return Z;var i=t.state,o=i.wrap;if(2===o||1===o&&42!==i.status||i.lookahead)return Z;if(1===o&&(t.adler=O(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===o&&(pt(i.head),i.strstart=0,i.block_start=0,i.insert=0);var a=new Uint8Array(i.w_size);a.set(e.subarray(n-i.w_size,n),0),e=a,n=i.w_size}var r=t.avail_in,s=t.next_in,l=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,_t(i);i.lookahead>=3;){var c=i.strstart,u=i.lookahead-2;do{i.ins_h=dt(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--u);i.strstart=c,i.lookahead=2,_t(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=l,t.avail_in=r,i.wrap=o,J},deflateInfo:"pako deflate (from Nodeca project)"},Pt=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Mt=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)Pt(n,i)&&(t[i]=n[i])}}return t},Lt=function(t){for(var e=0,n=0,i=t.length;n<i;n++)e+=t[n].length;for(var o=new Uint8Array(e),a=0,r=0,s=t.length;a<s;a++){var l=t[a];o.set(l,r),r+=l.length}return o},At=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){At=!1}for(var Rt=new Uint8Array(256),Ot=0;Ot<256;Ot++)Rt[Ot]=Ot>=252?6:Ot>=248?5:Ot>=240?4:Ot>=224?3:Ot>=192?2:1;Rt[254]=Rt[254]=1;var xt=function(t){var e,n,i,o,a,r=t.length,s=0;for(o=0;o<r;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<r&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),a=0,o=0;a<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<r&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},Nt=function(t,e){var n,i,o=e||t.length,a=new Array(2*o);for(i=0,n=0;n<o;){var r=t[n++];if(r<128)a[i++]=r;else{var s=Rt[r];if(s>4)a[i++]=65533,n+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&n<o;)r=r<<6|63&t[n++],s--;s>1?a[i++]=65533:r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}}}return function(t,e){if(e<65534&&t.subarray&&At)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}(a,i)},Bt=function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Rt[t[n]]>e?n:e},Gt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Ft=Object.prototype.toString,jt=G.Z_NO_FLUSH,Vt=G.Z_SYNC_FLUSH,Ht=G.Z_FULL_FLUSH,Ut=G.Z_FINISH,qt=G.Z_OK,Yt=G.Z_STREAM_END,Kt=G.Z_DEFAULT_COMPRESSION,Wt=G.Z_DEFAULT_STRATEGY,zt=G.Z_DEFLATED;function Jt(t){this.options=Mt({level:Kt,method:zt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var n=It.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==qt)throw new Error(B[n]);if(e.header&&It.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?xt(e.dictionary):"[object ArrayBuffer]"===Ft.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=It.deflateSetDictionary(this.strm,i))!==qt)throw new Error(B[n]);this._dict_set=!0}}function Xt(t,e){var n=new Jt(e);if(n.push(t,!0),n.err)throw n.msg||B[n.err];return n.result}Jt.prototype.push=function(t,e){var n,i,o=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(i=e===~~e?e:!0===e?Ut:jt,"string"==typeof t?o.input=xt(t):"[object ArrayBuffer]"===Ft.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;;)if(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(i===Vt||i===Ht)&&o.avail_out<=6)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else{if((n=It.deflate(o,i))===Yt)return o.next_out>0&&this.onData(o.output.subarray(0,o.next_out)),n=It.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===qt;if(0!==o.avail_out){if(i>0&&o.next_out>0)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else if(0===o.avail_in)break}else this.onData(o.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===qt&&(this.result=Lt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Zt=Jt,Qt=Xt,$t=function(t,e){var n,i,o,a,r,s,l,c,u,p,d,f,h,y,g,m,v,_,b,k,S,w,T,C,D=t.state;n=t.next_in,T=t.input,i=n+(t.avail_in-5),o=t.next_out,C=t.output,a=o-(e-t.avail_out),r=o+(t.avail_out-257),s=D.dmax,l=D.wsize,c=D.whave,u=D.wnext,p=D.window,d=D.hold,f=D.bits,h=D.lencode,y=D.distcode,g=(1<<D.lenbits)-1,m=(1<<D.distbits)-1;t:do{f<15&&(d+=T[n++]<<f,f+=8,d+=T[n++]<<f,f+=8),v=h[d&g];e:for(;;){if(d>>>=_=v>>>24,f-=_,0==(_=v>>>16&255))C[o++]=65535&v;else{if(!(16&_)){if(0==(64&_)){v=h[(65535&v)+(d&(1<<_)-1)];continue e}if(32&_){D.mode=12;break t}t.msg="invalid literal/length code",D.mode=30;break t}b=65535&v,(_&=15)&&(f<_&&(d+=T[n++]<<f,f+=8),b+=d&(1<<_)-1,d>>>=_,f-=_),f<15&&(d+=T[n++]<<f,f+=8,d+=T[n++]<<f,f+=8),v=y[d&m];n:for(;;){if(d>>>=_=v>>>24,f-=_,!(16&(_=v>>>16&255))){if(0==(64&_)){v=y[(65535&v)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",D.mode=30;break t}if(k=65535&v,f<(_&=15)&&(d+=T[n++]<<f,(f+=8)<_&&(d+=T[n++]<<f,f+=8)),(k+=d&(1<<_)-1)>s){t.msg="invalid distance too far back",D.mode=30;break t}if(d>>>=_,f-=_,k>(_=o-a)){if((_=k-_)>c&&D.sane){t.msg="invalid distance too far back",D.mode=30;break t}if(S=0,w=p,0===u){if(S+=l-_,_<b){b-=_;do{C[o++]=p[S++]}while(--_);S=o-k,w=C}}else if(u<_){if(S+=l+u-_,(_-=u)<b){b-=_;do{C[o++]=p[S++]}while(--_);if(S=0,u<b){b-=_=u;do{C[o++]=p[S++]}while(--_);S=o-k,w=C}}}else if(S+=u-_,_<b){b-=_;do{C[o++]=p[S++]}while(--_);S=o-k,w=C}for(;b>2;)C[o++]=w[S++],C[o++]=w[S++],C[o++]=w[S++],b-=3;b&&(C[o++]=w[S++],b>1&&(C[o++]=w[S++]))}else{S=o-k;do{C[o++]=C[S++],C[o++]=C[S++],C[o++]=C[S++],b-=3}while(b>2);b&&(C[o++]=C[S++],b>1&&(C[o++]=C[S++]))}break}}break}}while(n<i&&o<r);n-=b=f>>3,d&=(1<<(f-=b<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<r?r-o+257:257-(o-r),D.hold=d,D.bits=f},te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ne=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),oe=function(t,e,n,i,o,a,r,s){var l,c,u,p,d,f,h,y,g,m=s.bits,v=0,_=0,b=0,k=0,S=0,w=0,T=0,C=0,D=0,E=0,I=null,P=0,M=new Uint16Array(16),L=new Uint16Array(16),A=null,R=0;for(v=0;v<=15;v++)M[v]=0;for(_=0;_<i;_++)M[e[n+_]]++;for(S=m,k=15;k>=1&&0===M[k];k--);if(S>k&&(S=k),0===k)return o[a++]=20971520,o[a++]=20971520,s.bits=1,0;for(b=1;b<k&&0===M[b];b++);for(S<b&&(S=b),C=1,v=1;v<=15;v++)if(C<<=1,(C-=M[v])<0)return-1;if(C>0&&(0===t||1!==k))return-1;for(L[1]=0,v=1;v<15;v++)L[v+1]=L[v]+M[v];for(_=0;_<i;_++)0!==e[n+_]&&(r[L[e[n+_]]++]=_);if(0===t?(I=A=r,f=19):1===t?(I=te,P-=257,A=ee,R-=257,f=256):(I=ne,A=ie,f=-1),E=0,_=0,v=b,d=a,w=S,T=0,u=-1,p=(D=1<<S)-1,1===t&&D>852||2===t&&D>592)return 1;for(;;){h=v-T,r[_]<f?(y=0,g=r[_]):r[_]>f?(y=A[R+r[_]],g=I[P+r[_]]):(y=96,g=0),l=1<<v-T,b=c=1<<w;do{o[d+(E>>T)+(c-=l)]=h<<24|y<<16|g|0}while(0!==c);for(l=1<<v-1;E&l;)l>>=1;if(0!==l?(E&=l-1,E+=l):E=0,_++,0==--M[v]){if(v===k)break;v=e[n+r[_]]}if(v>S&&(E&p)!==u){for(0===T&&(T=S),d+=b,C=1<<(w=v-T);w+T<k&&!((C-=M[w+T])<=0);)w++,C<<=1;if(D+=1<<w,1===t&&D>852||2===t&&D>592)return 1;o[u=E&p]=S<<24|w<<16|d-a|0}}return 0!==E&&(o[d+E]=v-T<<24|64<<16|0),s.bits=S,0},ae=G.Z_FINISH,re=G.Z_BLOCK,se=G.Z_TREES,le=G.Z_OK,ce=G.Z_STREAM_END,ue=G.Z_NEED_DICT,pe=G.Z_STREAM_ERROR,de=G.Z_DATA_ERROR,fe=G.Z_MEM_ERROR,he=G.Z_BUF_ERROR,ye=G.Z_DEFLATED,ge=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function me(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ve,_e,be=function(t){if(!t||!t.state)return pe;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,le},ke=function(t){if(!t||!t.state)return pe;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,be(t)},Se=function(t,e){var n;if(!t||!t.state)return pe;var i=t.state;return e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?pe:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,ke(t))},we=function(t,e){if(!t)return pe;var n=new me;t.state=n,n.window=null;var i=Se(t,e);return i!==le&&(t.state=null),i},Te=!0,Ce=function(t){if(Te){ve=new Int32Array(512),_e=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(oe(1,t.lens,0,288,ve,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;oe(2,t.lens,0,32,_e,0,t.work,{bits:5}),Te=!1}t.lencode=ve,t.lenbits=9,t.distcode=_e,t.distbits=5},De=function(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),a.window.set(e.subarray(n-i,n-i+o),a.wnext),(i-=o)?(a.window.set(e.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0},Ee={inflateReset:ke,inflateReset2:Se,inflateResetKeep:be,inflateInit:function(t){return we(t,15)},inflateInit2:we,inflate:function(t,e){var n,i,o,a,r,s,l,c,u,p,d,f,h,y,g,m,v,_,b,k,S,w,T,C,D=0,E=new Uint8Array(4),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return pe;12===(n=t.state).mode&&(n.mode=13),r=t.next_out,o=t.output,l=t.avail_out,a=t.next_in,i=t.input,s=t.avail_in,c=n.hold,u=n.bits,p=s,d=l,w=le;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,E[0]=255&c,E[1]=c>>>8&255,n.check=N(n.check,E,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=30;break}if((15&c)!==ye){t.msg="unknown compression method",n.mode=30;break}if(u-=4,S=8+(15&(c>>>=4)),0===n.wbits)n.wbits=S;else if(S>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=512&c?10:12,c=0,u=0;break;case 2:for(;u<16;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==ye){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=N(n.check,E,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=N(n.check,E,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=N(n.check,E,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=N(n.check,E,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=n.length)>s&&(f=s),f&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+f),S)),512&n.flags&&(n.check=N(n.check,i,f,a)),s-=f,a+=f,n.length-=f),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;f=0;do{S=i[a+f++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&f<s);if(512&n.flags&&(n.check=N(n.check,i,f,a)),s-=f,a+=f,S)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;f=0;do{S=i[a+f++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&f<s);if(512&n.flags&&(n.check=N(n.check,i,f,a)),s-=f,a+=f,S)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}t.adler=n.check=ge(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=r,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=u,ue;t.adler=n.check=1,n.mode=12;case 12:if(e===re||e===se)break t;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(Ce(n),n.mode=20,e===se){c>>>=2,u-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,c=0,u=0,n.mode=15,e===se)break t;case 15:n.mode=16;case 16:if(f=n.length){if(f>s&&(f=s),f>l&&(f=l),0===f)break t;o.set(i.subarray(a,a+f),r),s-=f,a+=f,l-=f,r+=f,n.length-=f;break}n.mode=12;break;case 17:for(;u<14;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}n.lens[I[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},w=oe(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,w){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;m=(D=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&D,!((g=D>>>24)<=u);){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(v<16)c>>>=g,u-=g,n.lens[n.have++]=v;else{if(16===v){for(C=g+2;u<C;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}S=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===v){for(C=g+3;u<C;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}u-=g,S=0,f=3+(7&(c>>>=g)),c>>>=3,u-=3}else{for(C=g+7;u<C;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}u-=g,S=0,f=11+(127&(c>>>=g)),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=S}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,T={bits:n.lenbits},w=oe(1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,w){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},w=oe(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,w){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,e===se)break t;case 20:n.mode=21;case 21:if(s>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=u,$t(t,d),r=t.next_out,o=t.output,l=t.avail_out,a=t.next_in,i=t.input,s=t.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;m=(D=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&D,!((g=D>>>24)<=u);){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(m&&0==(240&m)){for(_=g,b=m,k=v;m=(D=n.lencode[k+((c&(1<<_+b)-1)>>_)])>>>16&255,v=65535&D,!(_+(g=D>>>24)<=u);){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}c>>>=_,u-=_,n.back+=_}if(c>>>=g,u-=g,n.back+=g,n.length=v,0===m){n.mode=26;break}if(32&m){n.back=-1,n.mode=12;break}if(64&m){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&m,n.mode=22;case 22:if(n.extra){for(C=n.extra;u<C;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;m=(D=n.distcode[c&(1<<n.distbits)-1])>>>16&255,v=65535&D,!((g=D>>>24)<=u);){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(0==(240&m)){for(_=g,b=m,k=v;m=(D=n.distcode[k+((c&(1<<_+b)-1)>>_)])>>>16&255,v=65535&D,!(_+(g=D>>>24)<=u);){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}c>>>=_,u-=_,n.back+=_}if(c>>>=g,u-=g,n.back+=g,64&m){t.msg="invalid distance code",n.mode=30;break}n.offset=v,n.extra=15&m,n.mode=24;case 24:if(n.extra){for(C=n.extra;u<C;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break t;if(f=d-l,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}f>n.wnext?(f-=n.wnext,h=n.wsize-f):h=n.wnext-f,f>n.length&&(f=n.length),y=n.window}else y=o,h=r-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{o[r++]=y[h++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===l)break t;o[r++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break t;s--,c|=i[a++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,d&&(t.adler=n.check=n.flags?N(n.check,o,d,r-d):O(n.check,o,d,r-d)),d=l,(n.flags?c:ge(c))!==n.check){t.msg="incorrect data check",n.mode=30;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break t;s--,c+=i[a++]<<u,u+=8}if(c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}c=0,u=0}n.mode=29;case 29:w=ce;break t;case 30:w=de;break t;case 31:return fe;case 32:default:return pe}return t.next_out=r,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<30&&(n.mode<27||e!==ae))&&De(t,t.output,t.next_out,d-t.avail_out),p-=t.avail_in,d-=t.avail_out,t.total_in+=p,t.total_out+=d,n.total+=d,n.wrap&&d&&(t.adler=n.check=n.flags?N(n.check,o,d,t.next_out-d):O(n.check,o,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===p&&0===d||e===ae)&&w===le&&(w=he),w},inflateEnd:function(t){if(!t||!t.state)return pe;var e=t.state;return e.window&&(e.window=null),t.state=null,le},inflateGetHeader:function(t,e){if(!t||!t.state)return pe;var n=t.state;return 0==(2&n.wrap)?pe:(n.head=e,e.done=!1,le)},inflateSetDictionary:function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?pe:11===n.mode&&O(1,e,i,0)!==n.check?de:De(t,e,i,i)?(n.mode=31,fe):(n.havedict=1,le):pe},inflateInfo:"pako inflate (from Nodeca project)"},Ie=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Pe=Object.prototype.toString,Me=G.Z_NO_FLUSH,Le=G.Z_FINISH,Ae=G.Z_OK,Re=G.Z_STREAM_END,Oe=G.Z_NEED_DICT,xe=G.Z_STREAM_ERROR,Ne=G.Z_DATA_ERROR,Be=G.Z_MEM_ERROR;function Ge(t){this.options=Mt({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var n=Ee.inflateInit2(this.strm,e.windowBits);if(n!==Ae)throw new Error(B[n]);if(this.header=new Ie,Ee.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=xt(e.dictionary):"[object ArrayBuffer]"===Pe.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ee.inflateSetDictionary(this.strm,e.dictionary))!==Ae))throw new Error(B[n])}function Fe(t,e){var n=new Ge(e);if(n.push(t),n.err)throw n.msg||B[n.err];return n.result}Ge.prototype.push=function(t,e){var n,i,o,a=this.strm,r=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?Le:Me,"[object ArrayBuffer]"===Pe.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(r),a.next_out=0,a.avail_out=r),(n=Ee.inflate(a,i))===Oe&&s&&((n=Ee.inflateSetDictionary(a,s))===Ae?n=Ee.inflate(a,i):n===Ne&&(n=Oe));a.avail_in>0&&n===Re&&a.state.wrap>0&&0!==t[a.next_in];)Ee.inflateReset(a),n=Ee.inflate(a,i);switch(n){case xe:case Ne:case Oe:case Be:return this.onEnd(n),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||n===Re))if("string"===this.options.to){var l=Bt(a.output,a.next_out),c=a.next_out-l,u=Nt(a.output,l);a.next_out=c,a.avail_out=r-c,c&&a.output.set(a.output.subarray(l,l+c),0),this.onData(u)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(n!==Ae||0!==o){if(n===Re)return n=Ee.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},Ge.prototype.onData=function(t){this.chunks.push(t)},Ge.prototype.onEnd=function(t){t===Ae&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Lt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var je=Zt,Ve=Qt,He=function(t,e){return(e=e||{}).raw=!0,Xt(t,e)},Ue=function(t,e){return(e=e||{}).gzip=!0,Xt(t,e)},qe=Ge,Ye=Fe,Ke=function(t,e){return(e=e||{}).raw=!0,Fe(t,e)},We=Fe,ze=G,Je={Deflate:je,deflate:Ve,deflateRaw:He,gzip:Ue,Inflate:qe,inflate:Ye,inflateRaw:Ke,ungzip:We,constants:ze};t.Deflate=je,t.Inflate=qe,t.constants=ze,t.default=Je,t.deflate=Ve,t.deflateRaw=He,t.gzip=Ue,t.inflate=Ye,t.inflateRaw=Ke,t.ungzip=We,Object.defineProperty(t,"__esModule",{value:!0})}),cc._RF.pop()},{}],platformConfig:[function(t,e,n){"use strict";cc._RF.push(e,"6d1e8iIJlhMn6EnBPNvC5/Y","platformConfig");var i=n;Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"platformType",{get:function(){return 0},enumerable:!1,configurable:!0}),t}();i.default=o,cc._RF.pop()},{}],powerDialog:[function(t,e,n){"use strict";cc._RF.push(e,"c527bnV17BJGp/gnoPLgMrI","powerDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("BagManager"),u=o("GameCalculate"),p=o("GameData"),d=o("bagItemManager"),f=o("equipItemType"),h=o("Utils"),y=o("CurrencyType"),g=o("CommonDataMgr"),m=o("GameHelper"),v=o("GameCfgData"),_=o("GameStatsManager"),b=o("SceneConfig"),k=o("PowerUpResultView"),S=o("GuideLocalManger"),w=cc._decorator,T=w.ccclass,C=w.property,D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.equipItem=null,e.equipingView=null,e.bagView=null,e.equipIcon=null,e.equipName=null,e.choosePowerView=null,e.powerEquipNode=null,e.powerValueLabel=null,e.powerUpView=[],e.powerUpBtn=null,e.resetBtn=null,e.checkNode=null,e.bloackInPutNode=null,e.powerAni=null,e.ActorSk=null,e.capacityCount=null,e.pageCount=null,e.selectPowerIndex=0,e.chooseType=0,e.selectTicketIndex=null,e.curEquipPage=1,e}return r(e,t),e.prototype.onUIStart=function(){this.bloackInPutNode.active=!1,this.setplatform(),this.createEquipingView();var t=u.default.GetPlayerAttributeInUI(),e=u.default.GetPlayerCEFromUI(t);this.powerValueLabel.string=e+"",this.curEquipPage=1,m.default.instance.updateActor(this.ActorSk,0,!1),GEvent.emit(GEventName.UpdateWarPower),GEvent.on(GEventName.SendEquipInfo,this.changeSelectEquip,this),GEvent.on(GEventName.Task.EqiupPowerUp,this.refreshView,this),this.powerAni.node.active=!1,GEvent.emit(GEventName.ChangeViewTitle,"powerDialog")},e.prototype.refreshView=function(){0==this.chooseType?this.createEquipingView():this.createBagView()},e.prototype.changeSelectEquip=function(t){if(t.isMagicSword&&t.MagicSwordLv<60)return Global.onShowTosat("\u9b54\u5251\u7b49\u7ea7\u4e0d\u8db360\u7ea7");this.select_equip=t,h.default.loadSpfFromRes(this.select_equip.icon,this.equipIcon),this.equipName.string=this.select_equip.name,this.selectPowerView(null,this.selectPowerIndex);var e=u.default.GetPlayerAttributeInUI(),n=u.default.GetPlayerCEFromUI(e);this.powerValueLabel.string=n+"",GEvent.emit(GEventName.UpdateWarPower)},e.prototype.selectPowerView=function(t,e){if(this.selectPowerIndex=e?parseInt(e):0,this.powerUpView.forEach(function(t,n){t.active=n==parseInt(e)}),this.powerUpBtn.active=parseInt(e)<=1,this.resetBtn.active=parseInt(e)>1,this.select_equip)switch(parseInt(e)){case 0:this.createMaterialView();break;case 1:this.createSecretBookView();break;case 2:this.createChangeView()}},e.prototype.createMaterialView=function(){var t=this;this.selectTicketIndex=null,this.powerUpView[0].getChildByName("content").children.forEach(function(e,n){t.UseItemListRender(n,e)})},e.prototype.createSecretBookView=function(){this.ReflashPowerUpTicketUI(),this.selectTicketIndex=1e3},e.prototype.ReflashPowerUpTicketUI=function(){for(var t=[130,131,132,133,134,136],e=this.powerUpView[1].getChildByName("content"),n=0;n<6;n++){var i=e.getChildByName("btn_ticket_"+n);i.getComponent(cc.Toggle).isChecked=!1,i.getChildByName("lab_use").getComponent(cc.Label).string="\u6301\u6709:"+c.default.Init.FindItem(t[n]),h.default.loadSpfFromRes("textures/item/icon_scroll_"+n,i.getChildByName("icon"))}},e.prototype.selectTicket=function(t,e){this.selectTicketIndex==parseInt(e)?this.selectTicketIndex=1e3:this.selectTicketIndex=parseInt(e)},e.prototype.createChangeView=function(){this.ReflashFixEquipUI()},e.prototype.ReflashFixEquipUI=function(){if(this.select_equip){var t=this.powerUpView[2].getChildByName("content"),e=this.select_equip.FixItem,n=c.default.Init.FindItem(135),i=this.select_equip.quality<3?0:1,o=c.default.Init.FindItem(e.item_id);t.children[2].getChildByName("lab_use").getComponent(cc.Label).string=n+"/"+i,t.children[2].getChildByName("lab_use").color=n>=i?cc.color(150,119,96):cc.Color.RED,t.children[1].getChildByName("lab_use").getComponent(cc.Label).string=o+"/"+e.item_count,o>=e.item_count?t.children[1].getChildByName("lab_use").color=cc.color(150,119,96):t.children[1].getChildByName("lab_use").color=cc.Color.RED,t.children[0].getChildByName("lab_use").getComponent(cc.Label).string=h.default.NumberUnit(e.coin),g.CommonDataMgr.instance.Gold>=e.coin?t.children[0].getChildByName("lab_use").color=cc.color(150,119,96):t.children[0].getChildByName("lab_use").color=cc.Color.RED,h.default.loadSpfFromRes("textures/item/icon_coin",t.children[0].getChildByName("icon")),h.default.loadSpfFromRes(p.default.ItemData()[e.item_id].icon,t.children[1].getChildByName("icon")),h.default.loadSpfFromRes(p.default.ItemData()[135].icon,t.children[2].getChildByName("icon"))}},e.prototype.selectItemView=function(t,e){switch(parseInt(e)){case 0:this.chooseType=0,this.createEquipingView();break;case 1:this.chooseType=1,this.createBagView()}this.bagView.active=1===parseInt(e),this.equipingView.active=0===parseInt(e)},e.prototype.createEquipingView=function(){var t=this.equipingView.getChildByName("content"),e=c.default.Init.equiping;if(5===t.childrenCount)t.children.forEach(function(t,n){var i={item:e[0][n]};t.getComponent(d.default).onCreateItem(i,f.equipItemType.EQUIPING_EQUIP)});else{t.removeAllChildren();for(var n=0;n<6;n++){var i=cc.instantiate(this.equipItem);t.addChild(i);var o={item:e[0][n]};i.getComponent(d.default).onCreateItem(o,f.equipItemType.POWER_UP_EQUIPING)}}},e.prototype.createBagView=function(){this.curEquipPage=1;var t=this.bagView.getChildByName("content"),e=c.default.Init.equip_bag;if(t.childrenCount===e.length)t.children.forEach(function(t,n){t.getComponent(d.default).onCreateItem(e[n],f.equipItemType.POWER_UP_BAG)});else{t.removeAllChildren();for(var n=0;n<20;n++){var i=cc.instantiate(this.equipItem);t.addChild(i),i.getComponent(d.default).onCreateItem(e[n],f.equipItemType.POWER_UP_BAG)}}this.capacityCount.string="\u5bb9\u91cf:"+c.default.Init.EquipCount+"/"+c.default.Init.EquipBag.length,this.pageCount.string="\u9875\u6570:"+this.curEquipPage+"/"+_.default.instance.bagEquipUnlockPage},e.prototype.UseItemListRender=function(t,e){if(0==t){var n=u.default.EquipPowerUpCost(this.select_equip);h.default.loadSpfFromRes("textures/item/icon_coin",e.getChildByName("icon")),e.getChildByName("lab_use").getComponent(cc.Label).string=n.toString(),g.CommonDataMgr.instance.Gold>=n?e.getChildByName("lab_use").color=cc.color(150,119,96):e.getChildByName("lab_use").color=cc.Color.RED}if(1==t){var i=this.select_equip.PowerLv<10?120:this.select_equip.PowerLv<15?121:122,o=u.default.EquipPowerUpUseItem(this.select_equip);h.default.loadSpfFromRes(p.default.ItemData()[i].icon,e.getChildByName("icon")),e.getChildByName("lab_use").getComponent(cc.Label).string=c.default.Init.FindItem(i)+"/"+o,c.default.Init.FindItem(i)>=o?e.getChildByName("lab_use").color=cc.color(150,119,96):e.getChildByName("lab_use").color=cc.Color.RED}},e.prototype.checkUseProtect=function(){},e.prototype.onPowerUpClick=function(){var t=this;if(this.select_equip){if(this.selectPowerIndex>1){if(this.select_equip.isMagicSword)return Global.onShowTosat("\u9b54\u5251\u65e0\u9700\u91cd\u7f6e\u5c5e\u6027");if(this.select_equip.isMagicEquip)return Global.onShowTosat("\u795e\u8a00\u5957\u65e0\u9700\u91cd\u7f6e\u5c5e\u6027");var e=this.select_equip.Clone(),n=this.select_equip.FixItem;if(this.select_equip.quality>=3&&c.default.Init.FindItem(135)<=0)return Global.onShowTosat("\u88c5\u5907\u8c03\u6574\u5238\u4e0d\u8db3");if(c.default.Init.FindItem(n.item_id)<n.item_count)return Global.onShowTosat(p.default.ItemData()[n.item_id].name+"\u6750\u6599\u4e0d\u8db3");if(!u.default.CanPay(y.CurrencyType.COIN,n.coin))return console.log("\u91d1\u5e01\u4e0d\u8db3");this.select_equip.quality>=3?c.default.Init.RemoveItem(135,1).succ&&c.default.Init.RemoveItem(n.item_id,n.item_count).succ&&(u.default.Pay(y.CurrencyType.COIN,n.coin)&&(this.select_equip.SetBaseEntry(),this.select_equip.fix_count++),this.sceneMgr().load(b.default.Scenes.PowerUpResultView,void 0,function(n,i){i.getComponent(k.default).showFixSuc(e,t.select_equip)})):c.default.Init.RemoveItem(n.item_id,n.item_count).succ&&(u.default.Pay(y.CurrencyType.COIN,n.coin)&&(this.select_equip.SetBaseEntry(),this.select_equip.fix_count++),this.sceneMgr().load(b.default.Scenes.PowerUpResultView,void 0,function(n,i){i.getComponent(k.default).showFixSuc(e,t.select_equip)}))}else if(null==this.selectTicketIndex){var i=u.default.EquipPowerUpCost(this.select_equip);if(!u.default.CanPay(y.CurrencyType.COIN,i))return console.log("\u91d1\u5e01\u4e0d\u8db3");var o=this.select_equip.PowerLv,a=this.select_equip.PowerLv<10?120:this.select_equip.PowerLv<15?121:122,r=u.default.EquipPowerUpUseItem(this.select_equip);c.default.Init.RemoveItem(a,r).succ?(u.default.Pay(y.CurrencyType.COIN,i),u.default.EquipPowerUp(this.select_equip,!1)?this.powerUpSucAni(function(){t.sceneMgr().load(b.default.Scenes.PowerUpResultView,void 0,function(e,n){n.getComponent(k.default).showPowerUpSuc(o,t.select_equip)})}):(Global.onShowTosat("\u5f3a\u5316\u5931\u8d25"),GAudio.playEffect(v.default.powerUPFailAudio)),GEvent.emit(GEventName.Task.EqiupPowerUp,this.select_equip),GEvent.emit(GEventName.Task.PowerUpEquip,{equip:this.select_equip,ticket:null,useprotect:!1,succ:!0})):Global.onShowTosat("\u5f3a\u5316\u6750\u6599\u4e0d\u8db3")}else{if(1e3==this.selectTicketIndex)return Global.onShowTosat("\u8bf7\u9009\u62e9\u5f3a\u5316\u5238");var s=0==this.selectTicketIndex?7:1==this.selectTicketIndex?10:2==this.selectTicketIndex?12:3==this.selectTicketIndex?15:4==this.selectTicketIndex?20:1,l=(a=0==this.selectTicketIndex?130:1==this.selectTicketIndex?131:2==this.selectTicketIndex?132:3==this.selectTicketIndex?133:4==this.selectTicketIndex?134:136,this.select_equip.PowerLv);if(136!=a){if(this.select_equip.PowerLv>=s)return Global.onShowTosat("\u8bf7\u9009\u62e9\u66f4\u9ad8\u7ea7\u7684\u5f3a\u5316\u5377");c.default.Init.RemoveItem(a,1).succ&&(this.select_equip.PowerLv=s,this.powerUpSucAni(function(){t.sceneMgr().load(b.default.Scenes.PowerUpResultView,void 0,function(e,n){n.getComponent(k.default).showPowerUpSuc(l,t.select_equip)})}),GEvent.emit(GEventName.Task.EqiupPowerUp,this.select_equip),GEvent.emit(GEventName.Task.PowerUpEquip,{equip:this.select_equip,ticket:null,useprotect:!1,succ:!0}))}else 136==a&&c.default.Init.RemoveItem(a,1).succ&&(this.select_equip.PowerLv+=s,this.powerUpSucAni(function(){t.sceneMgr().load(b.default.Scenes.PowerUpResultView,void 0,function(e,n){n.getComponent(k.default).showPowerUpSuc(l,t.select_equip)})}),GEvent.emit(GEventName.Task.EqiupPowerUp,this.select_equip),GEvent.emit(GEventName.Task.PowerUpEquip,{equip:this.select_equip,ticket:null,useprotect:!1,succ:!0}))}this.selectPowerView(null,this.selectPowerIndex),GEvent.emit(GEventName.BagEvent.onUpdateBagDataToLocal);var d=u.default.GetPlayerAttributeInUI(),f=u.default.GetPlayerCEFromUI(d);this.powerValueLabel.string=f+"",GEvent.emit(GEventName.UpdateWarPower)}},e.prototype.onBtnLastPage=function(){this.curEquipPage-=1,0==this.curEquipPage&&(this.curEquipPage=_.default.instance.bagEquipUnlockPage),this.showCurPageBag()},e.prototype.onBtnNextPage=function(){this.curEquipPage+=1,this.curEquipPage>_.default.instance.bagEquipUnlockPage&&(this.curEquipPage=1),this.showCurPageBag()},e.prototype.showCurPageBag=function(){this.pageCount.string="\u9875\u6570:"+this.curEquipPage+"/"+_.default.instance.bagEquipUnlockPage;var t=this.bagView.getChildByName("content"),e=c.default.Init.equip_bag;t.removeAllChildren();for(var n=20*(this.curEquipPage-1);n<20*this.curEquipPage;n++){var i=cc.instantiate(this.equipItem);t.addChild(i),i.getComponent(d.default).onCreateItem(e[n],f.equipItemType.POWER_UP_BAG)}},e.prototype.powerUpSucAni=function(t){var e=this;GAudio.playEffect(v.default.powerUPSucAudio),this.powerAni.node.active=!0,this.bloackInPutNode.active=!0;var n=this.powerAni.setAnimation(0,"qianghuachenggong",!1);this.powerAni.setTrackCompleteListener(n,function(){S.default.instance.GuideOpen||t&&t(),e.powerAni.node.active=!1,e.bloackInPutNode.active=!1})},s([C(cc.Prefab)],e.prototype,"equipItem",void 0),s([C(cc.Node)],e.prototype,"equipingView",void 0),s([C(cc.Node)],e.prototype,"bagView",void 0),s([C(cc.Node)],e.prototype,"equipIcon",void 0),s([C(cc.Label)],e.prototype,"equipName",void 0),s([C(cc.Node)],e.prototype,"choosePowerView",void 0),s([C(cc.Node)],e.prototype,"powerEquipNode",void 0),s([C(cc.Label)],e.prototype,"powerValueLabel",void 0),s([C([cc.Node])],e.prototype,"powerUpView",void 0),s([C(cc.Node)],e.prototype,"powerUpBtn",void 0),s([C(cc.Node)],e.prototype,"resetBtn",void 0),s([C(cc.Node)],e.prototype,"checkNode",void 0),s([C(cc.Node)],e.prototype,"bloackInPutNode",void 0),s([C(sp.Skeleton)],e.prototype,"powerAni",void 0),s([C(sp.Skeleton)],e.prototype,"ActorSk",void 0),s([C(cc.Label)],e.prototype,"capacityCount",void 0),s([C(cc.Label)],e.prototype,"pageCount",void 0),s([T],e)}(l.default);a.default=D,cc._RF.pop()},{}],random:[function(t,e,n){"use strict";cc._RF.push(e,"c3afaDXAb5JmaGTJsndpirV","random");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.randomByWeight=i.one=void 0;var o=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},a=function(t){return o(0,t)};function r(){return Math.random()>.5?1:-1}function s(t,e){return void 0===e&&(e=t,t=0),t>=e?t:Math.floor(Math.random()*(Math.max(e-t,0)+1))+t}function l(t){if(!Array.isArray(t)||!t.length)return null;var e=t.reduce(function(t,e){return t+Number(e)},0);if(e&&t.length)for(var n=Math.random()*e,i=0;i<t.length;i++)if((n-=t[i])<0)return i;return s(0,t.length-1)}i.one=r,i.randomByWeight=l,i.default={getIntByRange:o,getInt:a,percent:function(t){return a(100)<t},getFloat:function(t){return Math.random()*(t-.01)},getNum:function(t,e){var n=[];do{var i=Math.floor(Math.random()*t);-1===n.indexOf(i)&&n.push(i)}while(n.length!=e);return n},one:r,randomByWeight:l},cc._RF.pop()},{}],rankBossItem:[function(t,e,n){"use strict";cc._RF.push(e,"9dcdb2huzhEUqFt+wIavPsM","rankBossItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=o("RoleCfgManager"),u=o("Utils"),p=cc._decorator,d=p.ccclass,f=(p.property,{1:1500,2:800,3:400,4:380,5:370,6:360,7:350,8:340,9:330,10:320,11:310,12:300,13:290,14:280,15:270,16:260,17:250,18:240,19:230,20:220,"20+":100,"100+":50,"1000+":30,"10000+":20,"100000+":10}),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e}return r(e,t),e.prototype.onUILoad=function(){this.ranklb=this.getLabel("rank"),this.headspr=this.getSprite("headIcon"),this.namelb=this.getLabel("name"),this.celb=this.getLabel("ce"),this.timelb=this.getLabel("time"),this.rewardCount=this.getLabel("count"),this.rankBg=this.getSprite("rankBg")},e.prototype.onInit=function(t,e,n){void 0===n&&(n=!1),this.ranklb.string=t,this.namelb.string=e.data.name,this.celb.string=e.data.ce.toString(),this.timelb.string=u.default.formatHaomiao(e.data.bossTime),this.rewardCount.string="X"+f[t],null==f[t]&&(this.rewardCount.string="X0"),this.setResSpriteFrame(this.headspr,c.default.instance.headIconUrlPath+e.data.headIconId),this.setResSpriteFrame(this.rankBg,"textures/rank/rank_bg"+(n?5:t<=3?t:4))},s([d],e)}(l.default);a.default=h,cc._RF.pop()},{}],rankItem:[function(t,e,n){"use strict";cc._RF.push(e,"c6c4dOmg2JNpaLMJJR4RVS8","rankItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("Equipment"),c=o("UIWidget"),u=o("equipItemType"),p=o("RoleCfgManager"),d=o("bagItemManager"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e}return r(e,t),e.prototype.onUILoad=function(){this.ranklb=this.getLabel("rank"),this.headspr=this.getSprite("headIcon"),this.namelb=this.getLabel("name"),this.celb=this.getLabel("ce"),this.equiping=this.getNode("equiping/view/content"),this.item=this.getNode("equiping/view/content/EquipItem"),this.rankBg=this.getSprite("rankBg")},e.prototype.onInit=function(t,e,n){var i,o=this;if(void 0===n&&(n=!1),this.ranklb.string=t,this.namelb.string=e.data.name,this.celb.string=e.data.ce.toString(),this.setResSpriteFrame(this.headspr,p.default.instance.headIconUrlPath+e.data.headIconId),this.setResSpriteFrame(this.rankBg,"textures/rank/rank_bg"+(n?5:t<=3?t:4)),null!=(i="string"==typeof e.data.equiping?JSON.parse(e.data.equiping):e.data.equiping)&&"object"==typeof i){var a=i[p.default.instance.curRoleID];Array.isArray(a)&&(1===this.equiping.childrenCount?a.forEach(function(t){if(null!=t){var e=l.default.Create().SetData(t.id,t.powerlv,t.base_entry,t.attach_entry),n=cc.instantiate(o.item);o.equiping.addChild(n);var i={item:e};n.getComponent(d.default).onCreateItem(i,u.equipItemType.EQUIPING_EQUIP)}}):a.forEach(function(t,e){if(null!=t){var n={item:l.default.Create().SetData(t.id,t.powerlv,t.base_entry,t.attach_entry)};o.equiping.children[e].getComponent(d.default).onCreateItem(n,u.equipItemType.EQUIPING_EQUIP)}}),this.item.destroy())}},s([h],e)}(c.default));a.default=y,cc._RF.pop()},{}],rankTowerItem:[function(t,e,n){"use strict";cc._RF.push(e,"0cc57bLllRC/IQ6lhixKsEh","rankTowerItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("AnimatorCtrl"),c=o("UIWidget"),u=o("GameHelper"),p=o("RoleCfgManager"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animatorCtrl=null,e}return r(e,t),e.prototype.onUILoad=function(){this.ranklb=this.getLabel("rank"),this.headspr=this.getSprite("headIcon"),this.namelb=this.getLabel("name"),this.rankBg=this.getSprite("rankBg"),this.ch=this.getSpineSkeleton("ch"),this.animatorCtrl=new l.default(this.ch),this.level=this.getLabel("level")},e.prototype.onInit=function(t,e,n){var i=this;if(void 0===n&&(n=!1),e){this.node.active=!0,this.ranklb.string=t,this.namelb.string=e.data.name,this.level.string=(e.data.ch?e.data.ch:0).toString();var o=u.default.instance.GameTitleData()[e.data.gameTitleID?e.data.gameTitleID:-1];o?this.setSkeletonAd(this.ch,o.spine,"default",function(){i.animatorCtrl.play("animation",!0)}):this.ch.skeletonData=null,this.setResSpriteFrame(this.headspr,p.default.instance.headIconUrlPath+e.data.headIconId),this.setResSpriteFrame(this.rankBg,"textures/rank/rank_bg"+(n?5:t<=3?t:4))}else this.node.active=!1},s([f],e)}(c.default));a.default=h,cc._RF.pop()},{}],request:[function(t,e,n){"use strict";cc._RF.push(e,"7da37GV8OJN6aAaoCFJb5jE","request");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.post=o.get=void 0;var a=i("settings"),r=i("configStore"),s=i("platformConfig"),l=i("Constant"),c=i("NetworkManger");function u(t,e,n){return s.default.platformType==l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX?new Promise(function(i,o){wx.request({method:t,url:a.default.requestURL+e,data:n,success:i,fail:o})}):s.default.platformType==l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ?new Promise(function(i,o){qq.request({method:t,url:a.default.requestURL+e,data:n,success:i,fail:o})}):s.default.platformType==l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?new Promise(function(i,o){tt.request({method:t,url:a.default.requestURL+e,data:n,success:i,fail:o})}):s.default.platformType==l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO?new Promise(function(i,o){qg.request({method:t,url:a.default.requestURL+e,data:n,success:i,fail:o})}):s.default.platformType==l.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?new Promise(function(i,o){ks.request({method:t,url:a.default.requestURL+e,data:n,success:i,fail:o})}):"GET"===t?c.default.request(a.default.requestURL+e,n,"GET"):c.default.request1(a.default.requestURL+e,n,"POST")}o.default=u,o.get=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n=!0),r.default.token&&n&&(e.token=r.default.token,e.version=r.default.version),u("GET",t,e)},o.post=function(t,e){return void 0===e&&(e={}),r.default.token&&(t+="?token="+r.default.token+"&version="+r.default.version),u("POST",t,e)},cc._RF.pop()},{}],rootNode:[function(t,e,n){"use strict";cc._RF.push(e,"6b5d4qdNGpFWJsDJaj/ROgC","rootNode");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("UIWidget"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toast=null,e}var n;return r(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._ins},enumerable:!1,configurable:!0}),e.prototype.onUILoad=function(){var t=this;n._ins=this,cc.resources.load("prefabs/common/toast",cc.Prefab,function(e,n){t.toast=n})},e.prototype.onEnable=function(){this.toastPool=new cc.NodePool},e.prototype.onShowTosat=function(t,e){var n=this;void 0===e&&(e=1),console.log(t);var i=null;cc.winSize.width,cc.winSize.height,e=e,(i=this.toastPool.size()>0?this.toastPool.get():cc.instantiate(this.toast)).children[1].getComponent(cc.Label).string=t,i.x=0,i.y=0,this.node.addChild(i),cc.tween(i).by(e,{position:cc.v3(0,100),opacity:-255}).call(function(){i.parent=null,i.opacity=255,n.toastPool.put(i)}).start()},n=s([u],e)}(l.default));a.default=p,cc._RF.pop()},{}],seedrandom:[function(t,e){"use strict";cc._RF.push(e,"22c14T6YU5J2K3Irh0GJ2w/","seedrandom");var n=t,i=e;!function(t,e,o){var a,r=256,s=6,l="random",c=o.pow(r,s),u=o.pow(2,52),p=2*u,d=r-1;function f(t,n,i){var a=[],d=m(g((n=1==n?{entropy:!0}:n||{}).entropy?[t,_(e)]:null==t?v():t,3),a),f=new h(a),b=function(){for(var t=f.g(s),e=c,n=0;t<u;)t=(t+n)*r,e*=r,n=f.g(1);for(;t>=p;)t/=2,e/=2,n>>>=1;return(t+n)/e};return b.int32=function(){return 0|f.g(4)},b.quick=function(){return f.g(4)/4294967296},b.double=b,m(_(f.S),e),(n.pass||i||function(t,e,n,i){return i&&(i.S&&y(i,f),t.state=function(){return y(f,{})}),n?(o[l]=t,e):t})(b,d,"global"in n?n.global:this==o,n.state)}function h(t){var e,n=t.length,i=this,o=0,a=i.i=i.j=0,s=i.S=[];for(n||(t=[n++]);o<r;)s[o]=o++;for(o=0;o<r;o++)s[o]=s[a=d&a+t[o%n]+(e=s[o])],s[a]=e;(i.g=function(t){for(var e,n=0,o=i.i,a=i.j,s=i.S;t--;)e=s[o=d&o+1],n=n*r+s[d&(s[o]=s[a=d&a+e])+(s[a]=e)];return i.i=o,i.j=a,n})(r)}function y(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function g(t,e){var n,i=[],o=typeof t;if(e&&"object"==o)for(n in t)try{i.push(g(t[n],e-1))}catch(a){}return i.length?i:"string"==o?t:t+"\0"}function m(t,e){for(var n,i=t+"",o=0;o<i.length;)e[d&o]=d&(n^=19*e[d&o])+i.charCodeAt(o++);return _(e)}function v(){try{var n;return a&&(n=a.randomBytes)?n=n(r):(n=new Uint8Array(r),(t.crypto||t.msCrypto).getRandomValues(n)),_(n)}catch(s){var i=t.navigator,o=i&&i.plugins;return[+new Date,t,o,t.screen,_(e)]}}function _(t){return String.fromCharCode.apply(0,t)}if(m(o.random(),e),"object"==typeof i&&i.exports){i.exports=f;try{a=n("crypto")}catch(b){}}else"function"==typeof define&&define.amd?define(function(){return f}):o["seed"+l]=f}("undefined"!=typeof self?self:void 0,[],Math),cc._RF.pop()},{}],settings:[function(t,e,n){"use strict";cc._RF.push(e,"1f1ebWn6ZxBsJPPIzYkB9cC","settings");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("platformConfig"),r=i("Constant"),s={env:{isProduction:!1},requestURL:a.default.platformType==r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_TT?"https://auroth.cn":a.default.platformType==r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_OPPO?"https://razzil.cn":a.default.platformType==r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_VIVO?"https://razzil.cn":a.default.platformType==r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_WX?"https://cryophoenix.cn":a.default.platformType==r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_QQ?"https://auroth.cn":a.default.platformType==r.default.PLATFORMS_TYPE.PLATFORMS_TYPE_KS?"https://tdsed.cn":" https://auroth.cn",cdn:"https://kun-cdn.1to10.cn/letusgo",showAnnouncementDialog:!0};o.default=s,cc._RF.pop()},{}],shareBox:[function(t,e,n){"use strict";cc._RF.push(e,"f83e7AEx8xNeIzALwq2bQoR","shareBox");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l,c=o("View"),u=o("BagManager"),p=o("bagItemManager"),d=o("equipItemType"),f=o("GameStatsManager"),h=o("SceneConfig"),y=o("ComTipsView"),g=o("BagLocalDataManger"),m=o("ShareBoxDataManger");(function(t){t[t.Equip=0]="Equip",t[t.Item=1]="Item"})(l||(l={}));var v=cc._decorator,_=v.ccclass,b=v.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.content=null,e.capacityCount=null,e.pageCount=null,e.boxcontent=null,e.boxPageCount=null,e.boxCapacityCount=null,e.pageType=null,e.curEquipPage=1,e.curItemPage=1,e.curSelectEquip={},e.curBoxSelectEquip={},e.curBoxEquipPage=1,e.curBoxItemPage=1,e}return r(e,t),e.prototype.onUIStart=function(){t.prototype.onUIStart.call(this),m.default.instance.instateData(),this.pageType=l.Equip,this.curEquipPage=1,this.curItemPage=1,this.curEquipPage=1,this.curItemPage=1,GEvent.on(GEventName.ShowEquipOrItemInfo,this.showEquipInfo,this),GEvent.on(GEventName.AddBagPage,this.refreshCapacity,this),GEvent.on(GEventName.AddBoxPage,this.refreshboxCapacity,this),this.resetUI(),this.refreshCapacity(),this.refreshboxCapacity()},e.prototype.resetUI=function(){this.resetBag(),this.resetBox(),this.refreshCapacity()},e.prototype.resetBag=function(){this.curSelectEquip={},this.curEquipPage=1,this.curItemPage=1;var t=this.pageType==l.Equip?u.default.Init.equip_bag:u.default.Init.item_bag,e=this.pageType==l.Equip?d.equipItemType.BAG_EQUIP:d.equipItemType.BAG_ITEM,n=this.pageType==l.Equip?f.default.instance.bagEquipUnlockPage:f.default.instance.bagItemUnlocakPage;if(this.pageCount.string="\u9875\u6570:1/"+n,20==this.content.childrenCount)this.content.children.forEach(function(n,i){n.getComponent(p.default).onCreateItem(t[i],e)});else{this.content.removeAllChildren();for(var i=0;i<20;i++){var o=cc.instantiate(this.item);this.content.addChild(o),o.getComponent(p.default).onCreateItem(t[i],e),o.scale=.55}}},e.prototype.changePageClick=function(t,e){this.pageType!=parseInt(e)&&(this.pageType=parseInt(e),this.resetBag(),this.refreshCapacity())},e.prototype.onBtnAddPage=function(){var t=this;f.default.instance.bagEquipUnlockPage>=u.default.MAX_EQUIPBAGPAGE?Global.onShowTosat("\u5df2\u7ecf\u6269\u5bb9\u5230\u6700\u5927"):this.sceneMgr().load(h.default.Scenes.ComTipsView,void 0,function(e,n){n.getComponent(y.default).setPageType(t.pageType)})},e.prototype.onBtnAddBoxPage=function(){m.default.instance.shareBoxData.boxSize>=20*m.default.MAX_EQUIPBAGPAGE?Global.onShowTosat("\u5df2\u7ecf\u6269\u5bb9\u5230\u6700\u5927"):this.sceneMgr().load(h.default.Scenes.ComTipsView,void 0,function(t,e){e.getComponent(y.default).setPageType(3)})},e.prototype.onBtnLastPage=function(){this.pageType==l.Equip?(this.curEquipPage-=1,0==this.curEquipPage&&(this.curEquipPage=f.default.instance.bagEquipUnlockPage)):(this.curItemPage-=1,0==this.curItemPage&&(this.curItemPage=f.default.instance.bagItemUnlocakPage)),this.showCurPageBag()},e.prototype.onBtnNextPage=function(){this.pageType==l.Equip?(this.curEquipPage+=1,this.curEquipPage>f.default.instance.bagEquipUnlockPage&&(this.curEquipPage=1)):(this.curItemPage+=1,this.curItemPage>f.default.instance.bagItemUnlocakPage&&(this.curItemPage=1)),this.showCurPageBag()},e.prototype.refreshCapacity=function(){this.pageType==l.Equip?this.capacityCount.string="\u5bb9\u91cf:"+u.default.Init.EquipCount+"/"+u.default.Init.EquipBag.length:this.capacityCount.string="\u5bb9\u91cf:"+u.default.Init.ItemCount+"/"+u.default.Init.ItemBag.length;var t=this.pageType==l.Equip?this.curEquipPage:this.curItemPage,e=this.pageType==l.Equip?f.default.instance.bagEquipUnlockPage:f.default.instance.bagItemUnlocakPage;this.pageCount.string="\u9875\u6570:"+t+"/"+e},e.prototype.showCurPageBag=function(){var t=this.pageType==l.Equip?u.default.Init.equip_bag:u.default.Init.item_bag,e=this.pageType==l.Equip?d.equipItemType.BAG_EQUIP:d.equipItemType.BAG_ITEM,n=this.pageType==l.Equip?this.curEquipPage:this.curItemPage,i=this.pageType==l.Equip?f.default.instance.bagEquipUnlockPage:f.default.instance.bagItemUnlocakPage;this.pageCount.string="\u9875\u6570:"+n+"/"+i,this.content.removeAllChildren();for(var o=20*(n-1);o<20*n;o++){var a=cc.instantiate(this.item);this.content.addChild(a),a.getComponent(p.default).onCreateItem(t[o],e),a.scale=.55}},e.prototype.showEquipInfo=function(t){1!=t.node.boxTag?(console.log("item",t),t.setSelect(!t.isSelectSp.active),1==t.isSelectSp.active?this.curSelectEquip[t.itemInfo.key]=g.default.instance.getEquipDataById(t.itemInfo.equip_id):delete this.curSelectEquip[t.itemInfo.key],console.log("\u5f53\u524d\u9009\u4e2d\u7684\u80cc\u5305\u88c5\u5907",this.curSelectEquip)):this.showEquipInfoBox(t)},e.prototype.showEquipInfoBox=function(t){t.setSelect(!t.isSelectSp.active),console.log(t),1==t.isSelectSp.active?this.curBoxSelectEquip[t.itemInfo.key]={index:t.itemInfo.index}:delete this.curBoxSelectEquip[t.itemInfo.key],console.log("\u5f53\u524d\u9009\u4e2d\u4ed3\u5e93\u88c5\u5907",this.curBoxSelectEquip)},e.prototype.putToShareBox=function(){var t=this;if(0!=Object.keys(this.curSelectEquip).length){for(var e=Object.values(this.curSelectEquip),n=0;n<e.length;n++)if(1160408==e[n].id||2160500==e[n].id||3160500==e[n].id||4160500==e[n].id||5160500==e[n].id||6160500==e[n].id)return void Global.onShowTosat("\u9b54\u5251\u5957\u65e0\u6cd5\u653e\u5165\u4ed3\u5e93");this.sceneMgr().show(h.default.Scenes.Wait1Scene),m.default.instance.putToShareBox(this.curSelectEquip,function(e){t.sceneMgr().hide(h.default.Scenes.Wait1Scene),1==e?(t.resetBox(),t.resetBag()):Global.onShowTosat("\u653e\u5165\u5931\u8d25")})}else Global.onShowTosat("\u8bf7\u9009\u62e9\u5b58\u5165\u7684\u7269\u54c1")},e.prototype.getFromShareBox=function(){var t=this,e=[];for(var n in this.curBoxSelectEquip)e.push(this.curBoxSelectEquip[n].index);0!=e.length?(this.sceneMgr().show(h.default.Scenes.Wait1Scene),m.default.instance.getFromShareBox(e,function(e){t.sceneMgr().hide(h.default.Scenes.Wait1Scene),1==e?(t.resetBox(),t.resetBag()):Global.onShowTosat("\u653e\u5165\u5931\u8d25")})):Global.onShowTosat("\u8bf7\u9009\u62e9\u53d6\u51fa\u7269\u54c1")},e.prototype.resetBox=function(){this.curBoxSelectEquip={},this.curBoxEquipPage=1,this.curBoxItemPage=1;var t=this.pageType==l.Equip?m.default.instance.equip_bag:u.default.Init.item_bag,e=this.pageType==l.Equip?d.equipItemType.BAG_EQUIP:d.equipItemType.BAG_ITEM,n=this.pageType==l.Equip?f.default.instance.bagEquipUnlockPage:f.default.instance.bagItemUnlocakPage;if(this.boxPageCount.string="\u9875\u6570:1/"+n,20==this.boxcontent.childrenCount)this.boxcontent.children.forEach(function(n,i){n.getComponent(p.default).onCreateItem(t[i],e),n.getComponent(p.default).setIsGirdLock(i>=m.default.instance.shareBoxData.boxSize),n.boxTag=1});else{this.boxcontent.removeAllChildren();for(var i=0;i<20;i++){var o=cc.instantiate(this.item);this.boxcontent.addChild(o),o.getComponent(p.default).onCreateItem(t[i],e),o.getComponent(p.default).setIsGirdLock(i>=m.default.instance.shareBoxData.boxSize),o.scale=.55,o.boxTag=1}}},e.prototype.refreshboxCapacity=function(){this.pageType,l.Equip,this.boxCapacityCount.string="\u5bb9\u91cf:"+m.default.instance.shareBoxData.equips.length+"/"+m.default.instance.shareBoxData.boxSize;var t=this.pageType==l.Equip?this.curBoxEquipPage:this.curBoxItemPage,e=(this.pageType,l.Equip,m.default.instance.boxPageNum);this.boxPageCount.string="\u9875\u6570:"+t+"/"+e,this.showCurPageBox()},e.prototype.showCurPageBox=function(){var t=this.pageType==l.Equip?m.default.instance.equip_bag:m.default.instance.item_bag,e=this.pageType==l.Equip?d.equipItemType.BAG_EQUIP:d.equipItemType.BAG_ITEM,n=this.pageType==l.Equip?this.curBoxEquipPage:this.curBoxItemPage,i=(this.pageType,l.Equip,m.default.instance.boxPageNum);this.boxPageCount.string="\u9875\u6570:"+n+"/"+i,this.boxcontent.removeAllChildren();for(var o=20*(n-1);o<20*n;o++){var a=cc.instantiate(this.item);this.boxcontent.addChild(a),a.getComponent(p.default).onCreateItem(t[o],e),a.getComponent(p.default).setIsGirdLock(o>=m.default.instance.shareBoxData.boxSize),a.scale=.55,a.boxTag=1}},e.prototype.onBoxLastPage=function(){this.pageType==l.Equip?(this.curBoxEquipPage-=1,0==this.curBoxEquipPage&&(this.curBoxEquipPage=m.default.instance.boxPageNum)):(this.curBoxItemPage-=1,0==this.curBoxItemPage&&(this.curBoxItemPage=m.default.instance.boxPageNum)),this.showCurPageBox()},e.prototype.onBoxNextPage=function(){this.pageType==l.Equip?(this.curBoxEquipPage+=1,this.curBoxEquipPage>m.default.instance.boxPageNum&&(this.curBoxEquipPage=1)):(this.curBoxItemPage+=1,this.curBoxItemPage>m.default.instance.boxPageNum&&(this.curBoxItemPage=1)),this.showCurPageBox()},s([b(cc.Prefab)],e.prototype,"item",void 0),s([b(cc.Node)],e.prototype,"content",void 0),s([b(cc.Label)],e.prototype,"capacityCount",void 0),s([b(cc.Label)],e.prototype,"pageCount",void 0),s([b(cc.Node)],e.prototype,"boxcontent",void 0),s([b(cc.Label)],e.prototype,"boxPageCount",void 0),s([b(cc.Label)],e.prototype,"boxCapacityCount",void 0),s([_],e)}(c.default);a.default=k,cc._RF.pop()},{}],sign:[function(t,e,n){"use strict";cc._RF.push(e,"c9159xx8ZpEBLtrhoIgJM8Y","sign");var i=t,o=n,a=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},r=function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.create=o.check=void 0;var s=i("MD5");function l(t){var e=t.data,n=t.sign,i=t.timestamps;return a(this,void 0,void 0,function(){var t;return r(this,function(o){switch(o.label){case 0:return t=n,[4,u(e,i)];case 1:return[2,t===o.sent()]}})})}function c(t){return a(this,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:return e=(new Date).getTime(),n={data:JSON.stringify(t)},[4,u(JSON.stringify(t),e)];case 1:return[2,(n.sign=i.sent(),n.timestamps=e,n)]}})})}function u(t,e){return a(this,void 0,void 0,function(){return r(this,function(){return[2,s.default.hex_md5(t+"j"+e)]})})}o.check=l,o.create=c,o.default={check:l,create:c},cc._RF.pop()},{}],skillControl:[function(t,e,n){"use strict";cc._RF.push(e,"ab0cdl58eRNYb80ijXUAJau","skillControl");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SkillCtrl"),c=o("UIWidget"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ATTACK=null,e.DEF=null,e.SKILLATTACK=null,e.CHARGE=null,e.ULTIMATESKILL=null,e.FAST_MOVE_FOWARD=null,e.FAST_MOVE_FOWARD1=null,e.FAST_MOVE_FOWARD2=null,e.FAST_MOVE_FOWARD3=null,e.MOJian_SKILL=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onInit=function(t){this.heroCtrl=t,this.addEvent()},e.prototype.onUIDisable=function(){GEvent.offAll(this)},e.prototype.addEvent=function(){for(var t=this.node.children,e=0;e<t.length;e++)t[e].getComponent(l.default).init(this.heroCtrl);GEvent.on(GEventName.CombatEvents.RFSKillUI,this.onRFSKillUI,this)},e.prototype.onRFSKillUI=function(t){for(var e=this.node.children,n=0;n<e.length;n++){var i=e[n].getComponent(l.default).Id;(i=this.heroCtrl.Hero.HeroSkillCfg.SkillsMap.get(i).id)==t&&e[n].getComponent(l.default).updateUnlock()}},e.prototype.cdsuc=function(t){for(var e=this.node.children,n=0;n<e.length;n++)e[n].getComponent(l.default).cdSuc(t)},s([d({type:cc.Node,tooltip:"\u666e\u901a\u653b\u51fb\u6309\u94ae"})],e.prototype,"ATTACK",void 0),s([d({type:cc.Node,tooltip:"\u9632\u5fa1\u6309\u94ae"})],e.prototype,"DEF",void 0),s([d({type:cc.Node,tooltip:"\u706b\u7403\u6309\u94ae"})],e.prototype,"SKILLATTACK",void 0),s([d(cc.Node)],e.prototype,"CHARGE",void 0),s([d({type:cc.Node,tooltip:"\u5927\u62db\u6309\u94ae"})],e.prototype,"ULTIMATESKILL",void 0),s([d({type:cc.Node,tooltip:"\u51b2\u523a"})],e.prototype,"FAST_MOVE_FOWARD",void 0),s([d({type:cc.Node,tooltip:"\u51b2\u523a"})],e.prototype,"FAST_MOVE_FOWARD1",void 0),s([d({type:cc.Node,tooltip:"\u51b2\u523a"})],e.prototype,"FAST_MOVE_FOWARD2",void 0),s([d({type:cc.Node,tooltip:"\u51b2\u523a"})],e.prototype,"FAST_MOVE_FOWARD3",void 0),s([d({type:cc.Node,tooltip:"\u9b54\u5251\u6280\u80fd"})],e.prototype,"MOJian_SKILL",void 0),s([p],e)}(c.default);a.default=f,cc._RF.pop()},{}],skillDialog:[function(t,e,n){"use strict";cc._RF.push(e,"bb70er8vPhFV54O3wEZXBku","skillDialog");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("SkillManager"),u=o("skillItemManager"),p=o("Utils"),d=o("UnLockSkillType"),f=o("CommonDataMgr"),h=o("GameData"),y=o("SkillCalculate"),g=o("RoleCfgManager"),m=o("GameCfgData"),v=cc._decorator,_=v.ccclass,b=v.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.scrollContent=null,e.skillItem=null,e.UnlockView=null,e.nowSkillInfo=null,e.nextSkillInfo=null,e.skillDetail=null,e.costLabel=null,e.levelUpBtn=null,e.isLVMaxSp=null,e.LockView=null,e.jiantou=null,e.skillAni=null,e.skillData=[],e.skillItemList=[],e.skill_id=[120,110,111,112,113,114,130,123,121,122],e.itemIndex=0,e}return r(e,t),e.prototype.onUIStart=function(){this.setplatform(),GEvent.on(GEventName.SkillEvent.skillUp,this.refreshSkillUp,this),this.createSkillItem(),this.itemIndex=0,this.skillItemList[this.itemIndex].getComponent(u.default).showIsChoose(!0),this.setJianTouAni(),this.refreshView(),GEvent.emit(GEventName.ChangeViewTitle,"skillDialog")},e.prototype.createSkillItem=function(){this.scrollContent.removeAllChildren();for(var t=c.default.Init.skill,e=0;e<this.skill_id.length;e++){var n=this.skill_id[e];if(t.get(n)){var i=t.get(n);if("string"==typeof i.icon){this.skillItemList[e]=cc.instantiate(this.skillItem),this.skillData[e]=i;var o=new cc.Component.EventHandler;o.target=this.node,o.component="skillDialog",o.handler="onBtnChooseItem",o.customEventData=""+e,this.skillItemList[e].getComponent(cc.Button).clickEvents.push(o),this.skillItemList[e].parent=this.scrollContent,this.skillItemList[e].getComponent(u.default).refreshItem(i,n)}}}},e.prototype.onBtnChooseItem=function(t,e){this.skillItemList[this.itemIndex].getComponent(u.default).showIsChoose(!1),this.itemIndex=parseInt(e),this.skillItemList[this.itemIndex].getComponent(u.default).showIsChoose(!0),this.refreshView()},e.prototype.refreshView=function(){this.LockView.active=!1,this.UnlockView.active=!1;var t=this.skillData[this.itemIndex];if(t.lock)console.log("\u6280\u80fd\u672a\u89e3\u9501");else if(-1!=t.SkillLv)this.refreshSkillUp();else{this.LockView.active=!0,p.default.loadSpfFromRes(t.icon,this.LockView.getChildByName("skillIcon").getComponent(cc.Sprite)),this.LockView.getChildByName("skillName").getComponent(cc.Label).string=t.skill_name,this.LockView.getChildByName("skillDetail").getComponent(cc.Label).string=t.describe;var e=this.LockView.getChildByName("content").getChildByName("lockItem");this.LockView.getChildByName("content").removeAllChildren();for(var n=0;n<t.unlock_condition.length;n++)if(t.unlock_condition[n].type!=d.UnLockSkillType.SKILL){if(t.unlock_condition[n].type==d.UnLockSkillType.MAP){var i=t.unlock_condition[n].id,o=h.default.MapData()[i].name,a=null==t.skill_value.times?"0":t.skill_value.times,r=t.unlock_condition[n].lv;(s=cc.instantiate(e)).active=!0,this.LockView.getChildByName("content").addChild(s),s.getChildByName("lockLab").getComponent(cc.Label).string="\u901a\u5173:"+o+":"+a+"/"+r+"\u6b21"}}else{var s,l=c.default.Init.Skill.get(t.unlock_condition[n].id).skill_name,u=t.unlock_condition[n].lv;(s=cc.instantiate(e)).active=!0,this.LockView.getChildByName("content").addChild(s),s.getChildByName("lockLab").getComponent(cc.Label).string="\u524d\u7f6e\u6280\u80fd:"+l+" \u7b49\u7ea7:Lv."+u}}},e.prototype.refreshSkillUp=function(){var t=this.skillData[this.itemIndex];this.UnlockView.active=!0,this.skillDetail.string=t.describe;var e=y.default.LvUpCost(c.default.Init.skill.get(this.skill_id[this.itemIndex]).lvup_cost,c.default.Init.skill.get(this.skill_id[this.itemIndex]).SkillLv+1);this.costLabel.string=e+"",this.costLabel.node.color=e<=f.CommonDataMgr.instance.Gold?cc.color(117,79,69):cc.Color.RED,t.SkillLv<g.default.instance.LV?(this.levelUpBtn.interactable=!0,this.levelUpBtn.node.getChildByName("lab_levelup_1").active=!0,this.levelUpBtn.node.getChildByName("lab_levelup_2").active=!1,this.levelUpBtn.node.getChildByName("TX_anniu").active=!0):(this.levelUpBtn.interactable=!1,this.levelUpBtn.node.getChildByName("lab_levelup_1").active=!1,this.levelUpBtn.node.getChildByName("lab_levelup_2").active=!0,this.levelUpBtn.node.getChildByName("TX_anniu").active=!1),this.isLVMaxSp.node.active=!1;var n=t.GetSkillInfo();if(2==n.length){var i=n[0],o=n[1];p.default.loadSpfFromRes(t.icon,this.nowSkillInfo.getChildByName("skillIcon").getComponent(cc.Sprite)),this.nowSkillInfo.getChildByName("skillLv").getComponent(cc.Label).string="LV:"+t.SkillLv,this.nowSkillInfo.getChildByName("skillName").getComponent(cc.Label).string=t.skill_name;var a=this.nowSkillInfo.getChildByName("scrollView").getChildByName("view").getChildByName("content"),r=a.getChildByName("lab_detail");a.removeAllChildren(),i.forEach(function(t){var e=cc.instantiate(r);a.addChild(e),e.active=!0,e.children[0].getComponent(cc.Label).string=t.title,e.children[1].getComponent(cc.Label).string=t.value}),p.default.loadSpfFromRes(t.icon,this.nextSkillInfo.getChildByName("skillIcon").getComponent(cc.Sprite)),this.nextSkillInfo.getChildByName("skillLv").getComponent(cc.Label).string="LV:"+(t.SkillLv+1),this.nextSkillInfo.getChildByName("skillName").getComponent(cc.Label).string=t.skill_name;var s=this.nextSkillInfo.getChildByName("scrollView").getChildByName("view").getChildByName("content"),l=s.getChildByName("lab_detail");s.removeAllChildren(),o.forEach(function(t){var e=cc.instantiate(l);s.addChild(e),e.active=!0,e.children[0].getComponent(cc.Label).string=t.title,e.children[1].getComponent(cc.Label).string=t.value})}},e.prototype.clickLevelUp=function(){var t=c.default.Init.SkillLvUp(this.skill_id[this.itemIndex]);if(t.succ){GAudio.playEffect(m.default.skillUpAudio);for(var e=0;e<this.skillItemList.length;e++)this.skillItemList[e].getComponent(u.default).refreshItem(this.skillData[e],this.skill_id[e]);this.skillItemList[this.itemIndex].getComponent(u.default).showIsChoose(!0),this.powerUpSucAni()}else console.log("\u5347\u7ea7\u5931\u8d25",t)},e.prototype.setJianTouAni=function(){cc.tween(this.jiantou).repeatForever(cc.tween(this.jiantou).by(.4,{position:cc.v3(10,0)}).by(.4,{position:cc.v3(-10,0)})).start()},e.prototype.powerUpSucAni=function(){var t=this;this.skillAni.node.active=!0;var e=this.skillAni.setAnimation(0,"shengjichenggong",!1);this.skillAni.setTrackCompleteListener(e,function(){t.skillAni.node.active=!1})},e.prototype.onUIDestroy=function(){},s([b(cc.Node)],e.prototype,"content",void 0),s([b(cc.Node)],e.prototype,"scrollContent",void 0),s([b(cc.Prefab)],e.prototype,"skillItem",void 0),s([b(cc.Node)],e.prototype,"UnlockView",void 0),s([b(cc.Node)],e.prototype,"nowSkillInfo",void 0),s([b(cc.Node)],e.prototype,"nextSkillInfo",void 0),s([b(cc.Label)],e.prototype,"skillDetail",void 0),s([b(cc.Label)],e.prototype,"costLabel",void 0),s([b(cc.Button)],e.prototype,"levelUpBtn",void 0),s([b(cc.Sprite)],e.prototype,"isLVMaxSp",void 0),s([b(cc.Node)],e.prototype,"LockView",void 0),s([b(cc.Node)],e.prototype,"jiantou",void 0),s([b(sp.Skeleton)],e.prototype,"skillAni",void 0),s([_],e)}(l.default);a.default=k,cc._RF.pop()},{}],skillItemManager:[function(t,e,n){"use strict";cc._RF.push(e,"77d64Ak4w5HhbSzPe7kKExW","skillItemManager");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("Utils"),c=o("SkillManager"),u=o("UIWidget"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skillIcon=null,e.skillName=null,e.skillLevel=null,e.LockSp=null,e.unChooseSp=null,e.chooseSp=null,e.skill=null,e.skillId=0,e}return r(e,t),e.prototype.onUILoad=function(){},e.prototype.refreshItem=function(t,e){(e||this.skillId)&&(this.skill=t||c.default.Init.skill.get(this.skillId),this.skillId=e||this.skillId,l.default.loadSpfFromRes(this.skill.icon,this.skillIcon),this.skillName.string=this.skill.skill_name,this.LockSp.active=-1==this.skill.SkillLv,this.skillLevel.string=-1==this.skill.SkillLv?"":this.skill.SkillLv+"\u7ea7",this.showIsChoose(!1))},e.prototype.showIsChoose=function(t){this.skillName.node.color=t?cc.color(146,93,50):cc.color(198,169,152),this.skillLevel.node.color=t?cc.color(146,93,50):cc.color(198,169,152),this.unChooseSp.active=!t,this.chooseSp.active=t},e.prototype.onUIDestroy=function(){},s([f(cc.Sprite)],e.prototype,"skillIcon",void 0),s([f(cc.Label)],e.prototype,"skillName",void 0),s([f(cc.Label)],e.prototype,"skillLevel",void 0),s([f(cc.Node)],e.prototype,"LockSp",void 0),s([f(cc.Node)],e.prototype,"unChooseSp",void 0),s([f(cc.Node)],e.prototype,"chooseSp",void 0),s([d],e)}(u.default);a.default=h,cc._RF.pop()},{}],subHpItem:[function(t,e,n){"use strict";cc._RF.push(e,"84c2f8mI4ZPyL0MF0T42QoJ","subHpItem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("PoolManager"),c=cc._decorator,u=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb=null,e.icon_cir=null,e.icon_miss=null,e.CirFont=null,e.hurtlbFont=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.OnShowLbAni=function(t,e){this.lb.node.active=!1,this.icon_cir.active=!1,this.icon_miss.active=!1,t==MACRO.HurtAttackType.Normal&&(this.lb.node.active=!0,this.lb.font=this.hurtlbFont),t==MACRO.HurtAttackType.Miss&&(this.icon_miss.active=!0),t==MACRO.HurtAttackType.Cir&&(this.icon_cir.active=!0,this.lb.node.active=!0,this.lb.font=this.CirFont),this.lb.string=parseInt(e).toString(),this.onPlayAction()},e.prototype.onPlayAction=function(){var t=this,e=cc.tween;e(this.node).to(.2,{scale:1.2}).to(.2,{scale:1}).parallel(e().by(.5,{y:100}),e().to(.3,{opacity:0})).call(function(){t.node.stopAllActions(),t.node.opacity=255,l.default.instance.pushItemPoolNode(l.PoolKeys.subHpItem,t.node)}).start()},s([p(cc.Label)],e.prototype,"lb",void 0),s([p(cc.Node)],e.prototype,"icon_cir",void 0),s([p(cc.Node)],e.prototype,"icon_miss",void 0),s([p(cc.Font)],e.prototype,"CirFont",void 0),s([p(cc.Font)],e.prototype,"hurtlbFont",void 0),s([u],e)}(cc.Component);a.default=d,cc._RF.pop()},{}],towerawarditem:[function(t,e,n){"use strict";cc._RF.push(e,"91484sBHylJPZXTqxPdT5NZ","towerawarditem");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("SceneConfig"),c=o("SceneManager"),u=o("UIWidget"),p=o("GameData"),d=o("GameError"),f=o("RewardType"),h=o("BagManager"),y=o("GameStatsManager"),g=o("Utils"),m=o("ComTipsView"),v=cc._decorator,_=v.ccclass,b=(v.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reward=null,e}return r(e,t),e.prototype.onUILoad=function(){this.curBox=this.node},e.prototype.onInit=function(t){var e,n,i=this;if(this.reward=t,console.log(this.reward),this.reward.type==f.RewardType.ITEM)e=p.default.ItemData()[this.reward.id].icon,n=p.default.ItemData()[this.reward.id].name,h.default.Init.AddItems(this.reward.id,this.reward.count);else if(this.reward.type==f.RewardType.EQUIPMENT){e=p.default.EquipData()[this.reward.id].icon,n=p.default.EquipData()[this.reward.id].name;var o=h.default.Init.CreatEquipment(this.reward.id);o.succ||o.error!=d.GameError.BagFull||y.default.instance.bagEquipUnlockPage<h.default.MAX_ITEMBAGPAGE&&c.default.instance.load(l.default.Scenes.ComTipsView,void 0,function(t,e){e.getComponent(m.default).setPageType(0,function(){h.default.Init.CreatEquipment(i.reward.id)})})}g.default.loadSpfFromRes(e,this.curBox.getChildByName("equipIcon").getComponent(cc.Sprite)),this.curBox.getChildByName("equipName").getComponent(cc.Label).string=n,this.curBox.getChildByName("coinCount").getComponent(cc.Label).string="x"+this.reward.count},s([_],e)}(u.default));a.default=b,cc._RF.pop()},{}],umaManager:[function(t,e,n){"use strict";cc._RF.push(e,"41728w5SF1KrpCxG9gqVLND","umaManager");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=new(function(){function t(){}return t.prototype.onInit=function(){},t.prototype.onStartLevel=function(t,e){void 0===e&&(e=""),wx.uma&&wx.uma.stage.onStart({stageId:String(t),stageName:String(e)})},t.prototype.onEndLevel=function(t,e,n,i){wx.uma&&wx.uma.stage.onEnd({stageId:String(t),stageName:String(e),event:n,_um_sdu:i})},t.prototype.trackEvent=function(t,e){t=String(t),wx.uma&&wx.uma.trackEvent(t,e)},t}()),cc._RF.pop()},{}],waiting1View:[function(t,e,n){"use strict";cc._RF.push(e,"6e814jnHcJPbbHLk2aeHw3Y","waiting1View");var i,o=t,a=n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(a,"__esModule",{value:!0});var l=o("View"),c=o("Waiting1Ctrl"),u=o("Waiting1Model"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=t.call(this)||this;return e.messageLabel=null,e.waitSp=[],e}return r(e,t),e.prototype.onInit=function(){this.setModel(new u.default),this.setController(new c.default)},e.prototype.onUILoad=function(){this.hide()},e.prototype.onUIEnable=function(){},e.prototype.onUIStart=function(){},e.prototype.onUIDisable=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onUIUpdate=function(){},e.prototype.getView=function(){return this},e.prototype.onNoticeEvent=function(t,e){this.messageLabel&&(this.messageLabel.string=e.message)},s([f(cc.SpriteFrame)],e.prototype,"waitSp",void 0),s([d],e)}(l.default);a.default=h,cc._RF.pop()},{}],"weapp-jwt":[function(t,e){"use strict";cc._RF.push(e,"0d4f09CgiFDaotIgM5Gy3av","weapp-jwt"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],zuanshikuangStateCreator:[function(t,e,n){"use strict";cc._RF.push(e,"3cbdcnlKpJAOaWJx4WpjRaC","zuanshikuangStateCreator");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("IdleState"),r=i("StateId"),s=i("ConnectState"),l=i("DieState"),c=i("NoamalHurtState"),u=i("PoisoningState"),p=i("DizzinessState"),d=i("NetCatchState"),f=i("FROZENState"),h=function(){function t(){this.StateMap=new Map,this.StateMap.set(r.default.IDLE,new a.default),this.StateMap.set(r.default.DIE,new l.default),this.StateMap.set(r.default.NormalHURT,new c.default),this.StateMap.set(r.default.Connect,new s.default),this.StateMap.set(r.default.poisoning,new u.default),this.StateMap.set(r.default.Dizziness,new p.default),this.StateMap.set(r.default.netCatch,new d.default),this.StateMap.set(r.default.FROZEN,new f.default)}return t.prototype.createState=function(t){var e=this.StateMap.get(t);return null==e&&console.error("\u5f53\u524d\u72b6\u6001\u83b7\u53d6\u9519\u8bef,\u9519\u8bef\u72b6\u6001id\u4e3a",t,"\u68c0\u67e5\u5bf9\u5e94idMap\u662f\u5426\u521b\u5efa"),e},t.prototype.findHaveState=function(t){var e=this.StateMap.get(t);return!!e&&(!!e||void 0)},t}();o.default=h,cc._RF.pop()},{}]},{},["AICtrl","AbyssDidState","AbyssIdleState","AbyssStateCreator","ActivityCenterType","ActivityCenterView","ActivityDataManger","ActorBuffState","AdAgentBase","AdAgentKS","AdAgentOPPO","AdAgentQQ","AdAgentTT","AdAgentVIVO","AdAgentWx","AddAppletView","AddDesktopAniView","AddShortcutView","Admanager","AnimatorCtrl","ApologyLetterView","ArrayStorageValue","BTState","BTVFX","BagItem","BagLocalDataManger","BagManager","BaseAttributeData","BaseGuideView","BaseHero","BaseSkillPhase","BaseSkillState","BaseStorageValue","BaseUnitHero","BeHitVFX","BlackHole","BossItem","BossModeView","BtShopDataManger","Buff","BuffData","BuffsCtrl","BundlesMgr","CDKDataManger","CDKLocalDataManger","CDKRewardType","CameraManger","ChaosLocationMgr","ClassStorageValue","CollisionManager","ComRewardView","ComTipsView","CombatBgMove","CombatExitView","CombatGameCtrl","CombatGameData","CombatGameModel","CombatGameScene","CombatHDTimeEndView","CombatScoreView","CombatUIManger","CommonAtkState","CommonCtrl","CommonDataMgr","CommonMode","CommonSkillPhase","CommonSkillState","CommonTool","CommonView","ConfigMgr","ConnectState","Constant","Controller","CurrencyType","CustomerView ","DamageType","DataManager","DeathTowerTaksType","DeathTowerType","DeathTowerView","DiLeiIdleState","DiLeiStateCreator","DieState","DizzinessState","DotEnum","DotManger","DropColl","DropItem","EncodeNumber","EnemeyManager","EnemyCommand","EnemyHero","EnemyStateCreator","EnterAnimView","EnterMagicSwordAnimView","EnterTowerAnimView","EntryScene","EntryType","EquipCalculate","EquipQuality","EquipType","Equipment","EquipmentSet","EvilShopDataManger","EvilShopItem","EvilShopView","ExchangeView","FROZENState","FashionDataManger","FashionEquipment","FashionItem","FashionManager","FashionManager1","FashionRecoveryManager","FashionSet","FashionSkinDataManger","FashionView","ForceUpHurtState","GAudio","GEvent","GEventName","GInterface","GMath","GUserData","GameBusinessDataManager","GameCalculate","GameCfgData","GameCopyManager","GameData","GameError","GameHelper","GameManage","GameObjectType","GameStatsManager","GetFashionType","GetShopType","GetTripleExpView","Global","GoldActivityView","GuideHandType1View","GuideHandType2View","GuideHandType3View","GuideLocalManger","GuideManger","GuideRewardView","HalloweenView","HeadIconView","Hero","HeroAniNameCfg","HeroAttributeCfg","HeroCollision","HeroCtrl","HeroMachine","HeroPreviewCtrl","HeroSkillCfg","HeroSkillList","HeroTitleActivityView","HeroTitleDataManger","HpBarMgr","HurtFlyState","HurtPhase","HurtPushState","IdleState","InvitePosType","InviteView","InviterDataManger","JIanHunSkillPhase","JLZActivityView","JLZDataManager","JianHunSkillState","JlzEquipType","Joystick","KSRecord","KefuRewardView","KfGiftDataManager","LayerData","ListView","LoadingCtrl","LoadingModel","LoadingView","LogManager","LvHard","LvType","MACRO","MD5","MSTaskCalculate","MSTaskItem","MagicEquipTaskView","MagicSwordManager","MagicSwordTaskType","MagicSwordTaskView","MagicSwordView","MailDataManger","MailItem","MailView","MainCtrl","MainMode","MainScene","MainTopView","MajorStateBase","MapDataMgr","MapManager","MeTaskMgr","ModeLVDataManger","Model","MoveState","MsActivityView","MsTaskMgr","MysteryShopView","NetCatchState","NetworkManger","NewScript - 001","NewScript - 002","NewScript","NoamalHurtState","NodePool","NormalATTACKState","NoticeView","NumberStorageValue","OpenPotManager","OpenPotRewardView","PakoManager","PassLVRewardView","PassLevelType","PlayerDidState","PoisoningState","Pool","PoolManager","PowerUpResultView","PrivacyTipView","PrivacyView","RankBossDialog","RankGLDialog","RankManager","RankTowerDialog","RankView","RankWXFriendDialog","RecorderView","ResManager","ResManger","ReviveEff","ReviveView","RewardType","RoleCfgManager","RoomInfo","SceneConfig","SceneManager","SelectRoleView","ServerCommonCfgMgr","SettingManager","SettingView","ShareBoxDataManger","ShiWanView","ShiwanGiftDataManager","ShopBuyItem","ShopDataManger","ShopInviteView","ShopItem","ShopItemData","ShopType","ShopView","SignDayItem","SignDayRewardSetItem","SignInView","SigninManager","Skill","SkillCalculate","SkillCtrl","SkillItemEFF","SkillLocalDataManger","SkillManage","SkillManager","SkillShangTiao","SkillType","SkillTypeManager","SpringActView","SpringDataManager","Start","StateBase","StateCreator","StateId","StateMachine","StatePhase","StateRule","StateRuleConfig","StateType","StorageSystem","SubStateBase","SubdomainMgr","TTRecord","TTSubscription","TVView","Task","TaskCalculate","TaskItem","TaskLocalDataManger","TaskManager","TaskType","TaskView","TestGameScene","TestInviterMgr","ThroughInputEvents","TimeEngine","ToCombatCtrl","ToCombatModel","ToCombatScene","TowerActivityView","TowerDataManager","TowerGameCtrl","TowerGameModel","TowerGameScene","TowerScoreProView","TowerSelectproType","TowerSweepView","TowerTaskMgr","ToxicityGameCtrl","ToxicityGameModel","ToxicityGameScene","TripleExpDataManger","UIWidget","UnLockSkillType","Utils","VIPManager","VIPView","VibrateManger","VictoryBoxItem","VictoryRewardView","View","VirtualObject","VirtualWorld","WXSubscription","Waiting1Ctrl","Waiting1Model","WaitingCtrl","WaitingModel","WaitingView","WarPowerView","WeaponLight","XSGiftView","XsGiftDataManager","aaa","aiLevelConfig","api","bagDialog","bagInfoDialog","bagItemManager","base64-js","bbb","bosshp","configStore","deletAllEquipDialog","doublehit","equipItemType","extend","gameCopyDialog","gameLevelDialog","gameSelectDialog","gezhiAdView","heartbeatStore","heroUIInfo","jlzEquipItem","jlzInviteItem","lastBossEff","normalhp","openPotDialog","openPotItem","pako","platformConfig","_process","powerDialog","random","rankBossItem","rankItem","rankTowerItem","request","rootNode","seedrandom","settings","shareBox","sign","skillControl","skillDialog","skillItemManager","subHpItem","towerawarditem","umaManager","waiting1View","weapp-jwt","zuanshikuangStateCreator"]);